[
    {
        "url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/42897418",
        "pull_request_review_id": null,
        "id": 42897418,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NDE4",
        "diff_hunk": "@@ -0,0 +1,15 @@\n+<?php\n+",
        "path": "src/NoActiveAccessTokenException.php",
        "position": 2,
        "original_position": 2,
        "commit_id": "47fc509cc739f799cc4917420716a6f49133d362",
        "original_commit_id": "a84f5cfd9ebd9fcb5b5d509e2b92b14b205b988d",
        "user": {
            "login": "vinkla",
            "id": 499192,
            "node_id": "MDQ6VXNlcjQ5OTE5Mg==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/499192?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinkla",
            "html_url": "https://github.com/vinkla",
            "followers_url": "https://api.github.com/users/vinkla/followers",
            "following_url": "https://api.github.com/users/vinkla/following{/other_user}",
            "gists_url": "https://api.github.com/users/vinkla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vinkla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vinkla/subscriptions",
            "organizations_url": "https://api.github.com/users/vinkla/orgs",
            "repos_url": "https://api.github.com/users/vinkla/repos",
            "events_url": "https://api.github.com/users/vinkla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vinkla/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Don't forget to add the license.\n",
        "created_at": "2015-10-23T18:22:24Z",
        "updated_at": "2015-10-30T19:16:17Z",
        "html_url": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/581#discussion_r42897418",
        "pull_request_url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/581",
        "author_association": "COLLABORATOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/42897418"
            },
            "html": {
                "href": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/581#discussion_r42897418"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/581"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/42902808",
        "pull_request_review_id": null,
        "id": 42902808,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyODA4",
        "diff_hunk": "@@ -0,0 +1,15 @@\n+<?php\n+",
        "path": "src/NoActiveAccessTokenException.php",
        "position": 2,
        "original_position": 2,
        "commit_id": "47fc509cc739f799cc4917420716a6f49133d362",
        "original_commit_id": "a84f5cfd9ebd9fcb5b5d509e2b92b14b205b988d",
        "user": {
            "login": "tpavlek",
            "id": 782576,
            "node_id": "MDQ6VXNlcjc4MjU3Ng==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/782576?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tpavlek",
            "html_url": "https://github.com/tpavlek",
            "followers_url": "https://api.github.com/users/tpavlek/followers",
            "following_url": "https://api.github.com/users/tpavlek/following{/other_user}",
            "gists_url": "https://api.github.com/users/tpavlek/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tpavlek/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tpavlek/subscriptions",
            "organizations_url": "https://api.github.com/users/tpavlek/orgs",
            "repos_url": "https://api.github.com/users/tpavlek/repos",
            "events_url": "https://api.github.com/users/tpavlek/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tpavlek/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Thanks, It's added now. Everything should be up-to-snuff as soon as @lucadegasperi gives feedback :+1: \n",
        "created_at": "2015-10-23T19:09:08Z",
        "updated_at": "2015-10-30T19:16:17Z",
        "html_url": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/581#discussion_r42902808",
        "pull_request_url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/581",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/42902808"
            },
            "html": {
                "href": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/581#discussion_r42902808"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/581"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/50143666",
        "pull_request_review_id": null,
        "id": 50143666,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTQzNjY2",
        "diff_hunk": "@@ -33,14 +32,20 @@ class OAuthExceptionHandlerMiddleware\n     public function handle($request, Closure $next)\n     {\n         try {\n-            return $next($request);\n+            $response = $next($request);\n+            // Was an exception thrown? If so and available catch in our middleware\n+            if (isset($response->exception) && $response->exception) {\n+                throw $response->exception;\n+            }\n+\n+            return $response;\n         } catch (OAuthException $e) {\n             $data = [\n                 'error' => $e->errorType,\n                 'error_description' => $e->getMessage(),\n             ];\n \n-            return new JsonResponse($data, $e->httpStatusCode, $e->getHttpHeaders());\n+            return response()->json($data, $e->httpStatusCode, $e->getHttpHeaders());",
        "path": "src/Middleware/OAuthExceptionHandlerMiddleware.php",
        "position": null,
        "original_position": 27,
        "commit_id": "736dcd5981ce64874f0f69572f71410273970525",
        "original_commit_id": "2ef5af598ad3db0ddd2030404e9600ca3d2e7dd3",
        "user": {
            "login": "vinkla",
            "id": 499192,
            "node_id": "MDQ6VXNlcjQ5OTE5Mg==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/499192?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinkla",
            "html_url": "https://github.com/vinkla",
            "followers_url": "https://api.github.com/users/vinkla/followers",
            "following_url": "https://api.github.com/users/vinkla/following{/other_user}",
            "gists_url": "https://api.github.com/users/vinkla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vinkla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vinkla/subscriptions",
            "organizations_url": "https://api.github.com/users/vinkla/orgs",
            "repos_url": "https://api.github.com/users/vinkla/repos",
            "events_url": "https://api.github.com/users/vinkla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vinkla/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Please use the class instead of the helper method. \n",
        "created_at": "2016-01-19T17:24:02Z",
        "updated_at": "2016-01-25T09:06:14Z",
        "html_url": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/653#discussion_r50143666",
        "pull_request_url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/653",
        "author_association": "COLLABORATOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/50143666"
            },
            "html": {
                "href": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/653#discussion_r50143666"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/653"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/50144626",
        "pull_request_review_id": null,
        "id": 50144626,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTQ0NjI2",
        "diff_hunk": "@@ -33,14 +32,20 @@ class OAuthExceptionHandlerMiddleware\n     public function handle($request, Closure $next)\n     {\n         try {\n-            return $next($request);\n+            $response = $next($request);\n+            // Was an exception thrown? If so and available catch in our middleware\n+            if (isset($response->exception) && $response->exception) {\n+                throw $response->exception;\n+            }\n+\n+            return $response;\n         } catch (OAuthException $e) {\n             $data = [\n                 'error' => $e->errorType,\n                 'error_description' => $e->getMessage(),\n             ];\n \n-            return new JsonResponse($data, $e->httpStatusCode, $e->getHttpHeaders());\n+            return response()->json($data, $e->httpStatusCode, $e->getHttpHeaders());",
        "path": "src/Middleware/OAuthExceptionHandlerMiddleware.php",
        "position": null,
        "original_position": 27,
        "commit_id": "736dcd5981ce64874f0f69572f71410273970525",
        "original_commit_id": "2ef5af598ad3db0ddd2030404e9600ca3d2e7dd3",
        "user": {
            "login": "mstephens",
            "id": 893380,
            "node_id": "MDQ6VXNlcjg5MzM4MA==",
            "avatar_url": "https://avatars3.githubusercontent.com/u/893380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mstephens",
            "html_url": "https://github.com/mstephens",
            "followers_url": "https://api.github.com/users/mstephens/followers",
            "following_url": "https://api.github.com/users/mstephens/following{/other_user}",
            "gists_url": "https://api.github.com/users/mstephens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mstephens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mstephens/subscriptions",
            "organizations_url": "https://api.github.com/users/mstephens/orgs",
            "repos_url": "https://api.github.com/users/mstephens/repos",
            "events_url": "https://api.github.com/users/mstephens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mstephens/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@vinkla reverted back :+1: \n",
        "created_at": "2016-01-19T17:30:38Z",
        "updated_at": "2016-01-25T09:06:14Z",
        "html_url": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/653#discussion_r50144626",
        "pull_request_url": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/653",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/comments/50144626"
            },
            "html": {
                "href": "https://github.com/lucadegasperi/oauth2-server-laravel/pull/653#discussion_r50144626"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/lucadegasperi/oauth2-server-laravel/pulls/653"
            }
        }
    }
]