[
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503224",
        "pull_request_review_id": null,
        "id": 6503224,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDMyMjQ=",
        "diff_hunk": "@@ -74,6 +75,9 @@ each backend (per worker)\n parameters to use the local redis on the default port)\n * __redisDatabase__: Redis number database (default 0)\n * __redisPassword__: Redis password (you can omit this if Redis doesn't require auth)\n+* __hostKeyTemplate__: Optional template that overrides the key used to lookup the \n+current host in redis. E.g. here it will always be the server name + '.host1', \n+regardless of the host header. Note that will be evaluated (eval()).",
        "path": "README.md",
        "position": null,
        "original_position": 16,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "54db71a53701a87a50df74662c40841912693832",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I suggest to rephrase this to better describe what's happening:\n- **hostKeyTemplate**: Optional template to dynamically override the format of the Redis key used to lookup a backend\n\nIf **hostKeyTemplate** is not defined, Hipache will do two lookups for each incoming request: one matching exactly the\nhost header of the HTTP request, another using a '*' + the last two components of this host header (in order to process\nwildcards). If **hostKeyTemplate** is defined, Hipache still does the lookup with the exact host header, but replaces\nthe second lookup by a dynamic lookup: the **hostKeyTemplate** parameter is passed through `eval()` and the result\nwill be used as the key. Note: the `frontend:` is kept at all time.\n",
        "created_at": "2013-09-21T18:21:49Z",
        "updated_at": "2013-09-22T06:11:02Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r6503224",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503224"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r6503224"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503225",
        "pull_request_review_id": null,
        "id": 6503225,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDMyMjU=",
        "diff_hunk": "@@ -146,6 +150,8 @@ The frontend identifer is `mywebsite`, it could be anything.\n While the server is running, any of these steps can be re-run without messing\n up with the traffic.\n \n+Remember that they name of the key in redis can be changed by using the ",
        "path": "README.md",
        "position": null,
        "original_position": 24,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "54db71a53701a87a50df74662c40841912693832",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Typo: s/they/the/\n",
        "created_at": "2013-09-21T18:22:08Z",
        "updated_at": "2013-09-22T06:11:02Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r6503225",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503225"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r6503225"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503227",
        "pull_request_review_id": null,
        "id": 6503227,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDMyMjc=",
        "diff_hunk": "@@ -7,7 +7,8 @@\n \n var url = require('url'),\n     redis = require('redis'),\n-    lruCache = require('lru-cache');\n+    lruCache = require('lru-cache'),\n+    os = require(\"os\");",
        "path": "lib/cache.js",
        "position": null,
        "original_position": 6,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "54db71a53701a87a50df74662c40841912693832",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why this?\n",
        "created_at": "2013-09-21T18:22:26Z",
        "updated_at": "2013-09-22T06:11:02Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r6503227",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503227"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r6503227"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503507",
        "pull_request_review_id": null,
        "id": 6503507,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDM1MDc=",
        "diff_hunk": "@@ -74,6 +75,9 @@ each backend (per worker)\n parameters to use the local redis on the default port)\n * __redisDatabase__: Redis number database (default 0)\n * __redisPassword__: Redis password (you can omit this if Redis doesn't require auth)\n+* __hostKeyTemplate__: Optional template that overrides the key used to lookup the \n+current host in redis. E.g. here it will always be the server name + '.host1', \n+regardless of the host header. Note that will be evaluated (eval()).",
        "path": "README.md",
        "position": null,
        "original_position": 16,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "54db71a53701a87a50df74662c40841912693832",
        "user": {
            "login": "andrevdm",
            "id": 74154,
            "node_id": "MDQ6VXNlcjc0MTU0",
            "avatar_url": "https://avatars2.githubusercontent.com/u/74154?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrevdm",
            "html_url": "https://github.com/andrevdm",
            "followers_url": "https://api.github.com/users/andrevdm/followers",
            "following_url": "https://api.github.com/users/andrevdm/following{/other_user}",
            "gists_url": "https://api.github.com/users/andrevdm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andrevdm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andrevdm/subscriptions",
            "organizations_url": "https://api.github.com/users/andrevdm/orgs",
            "repos_url": "https://api.github.com/users/andrevdm/repos",
            "events_url": "https://api.github.com/users/andrevdm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andrevdm/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Much better, I'll update. thanks\n",
        "created_at": "2013-09-21T19:51:46Z",
        "updated_at": "2013-09-22T06:11:02Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r6503507",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/6503507"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r6503507"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172292",
        "pull_request_review_id": null,
        "id": 9172292,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIyOTI=",
        "diff_hunk": "@@ -60,6 +61,8 @@ backend.\n \n * __server.accessLog__: location of the Access logs, the format is the same as\n nginx\n+* __server.accessLogMode: \"syslog\" to output accessLog to syslog or \"file\" to",
        "path": "README.md",
        "position": 12,
        "original_position": 12,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You should also give a way to specify the facility (and maybe the priority) of syslog messages.\n",
        "created_at": "2014-01-25T18:22:32Z",
        "updated_at": "2014-01-25T18:22:32Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172292",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172292"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172292"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172294",
        "pull_request_review_id": null,
        "id": 9172294,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIyOTQ=",
        "diff_hunk": "@@ -4,9 +4,11 @@\n var fs = require('fs'),\n     cluster = require('cluster'),\n     events = require('events'),\n-    util = require('util');\n+    util = require('util'),\n+    Syslog = require('node-syslog');",
        "path": "lib/master.js",
        "position": 6,
        "original_position": 6,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This module should be loaded only when the user required syslog logging.\nOtherwise it adds a dependency to Hipache even when syslog is not used.\n",
        "created_at": "2014-01-25T18:23:26Z",
        "updated_at": "2014-01-25T18:23:26Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172294",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172294"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172294"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172299",
        "pull_request_review_id": null,
        "id": 9172299,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIyOTk=",
        "diff_hunk": "@@ -17,16 +19,43 @@ var accessLog = function (self, path) {\n             mode: 0x1A4 // 0644\n         });\n     };\n-    var stream = openStream();\n+\n+    switch(mode) {\n+        case 'syslog' :\n+            Syslog.init(\"hipache\", Syslog.LOG_PID | Syslog.LOG_ODELAY, Syslog.LOG_LOCAL0);\n+            util.log('AccessLog: syslog');\n+            break;\n+        case 'file':\n+            if (path == null) {\n+                util.log('AccessLog: file - accessLogPath must be specified');\n+                return function(data) { };\n+            }\n+            var stream = openStream();\n+            util.log('AccessLog: file - '+path);\n+            break;\n+        default:",
        "path": "lib/master.js",
        "position": 33,
        "original_position": 33,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "IMHO, when an invalid value is provided, Hipache should refuse to start.\nAlso, I think that the mode parameter should be mandatory (and allow values file/syslog/none).\nOtherwise, it's easy to forget the value (or make a typo) and not see any kind of output and wonder \"hey what's going on?\"\nLast but not least, a stdout option would be relatively easy and useful to add.\n\nI'll let @samalba decide what is the better solution.\n",
        "created_at": "2014-01-25T18:25:18Z",
        "updated_at": "2014-01-25T18:25:18Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172299",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172299"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172299"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172303",
        "pull_request_review_id": null,
        "id": 9172303,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIzMDM=",
        "diff_hunk": "@@ -17,16 +19,43 @@ var accessLog = function (self, path) {\n             mode: 0x1A4 // 0644\n         });\n     };\n-    var stream = openStream();\n+\n+    switch(mode) {\n+        case 'syslog' :\n+            Syslog.init(\"hipache\", Syslog.LOG_PID | Syslog.LOG_ODELAY, Syslog.LOG_LOCAL0);\n+            util.log('AccessLog: syslog');\n+            break;\n+        case 'file':\n+            if (path == null) {\n+                util.log('AccessLog: file - accessLogPath must be specified');\n+                return function(data) { };\n+            }\n+            var stream = openStream();\n+            util.log('AccessLog: file - '+path);\n+            break;\n+        default:\n+            util.log('AccessLog: disabled');\n+            return function(data) { };\n+            break;\n+    }\n \n     process.on('SIGUSR1', function () {\n         // Reload the Stream on signal\n         util.log('Caught a SIGUSR1 signal, reopening the log file.');\n-        stream.end();\n-        stream = openStream();\n+        if (mode == 'file') {\n+            stream.end();\n+            stream = openStream();\n+        } else {",
        "path": "lib/master.js",
        "position": 47,
        "original_position": 47,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It looks like if \"mode\" is not set, you will reopen the syslog, which is probably not what you want.\n(Unless I missed something in the logic here.)\n",
        "created_at": "2014-01-25T18:26:03Z",
        "updated_at": "2014-01-25T18:26:03Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172303",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172303"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172303"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172306",
        "pull_request_review_id": null,
        "id": 9172306,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIzMDY=",
        "diff_hunk": "@@ -17,16 +19,43 @@ var accessLog = function (self, path) {\n             mode: 0x1A4 // 0644\n         });\n     };\n-    var stream = openStream();\n+\n+    switch(mode) {\n+        case 'syslog' :\n+            Syslog.init(\"hipache\", Syslog.LOG_PID | Syslog.LOG_ODELAY, Syslog.LOG_LOCAL0);\n+            util.log('AccessLog: syslog');\n+            break;\n+        case 'file':\n+            if (path == null) {\n+                util.log('AccessLog: file - accessLogPath must be specified');\n+                return function(data) { };\n+            }\n+            var stream = openStream();\n+            util.log('AccessLog: file - '+path);\n+            break;\n+        default:\n+            util.log('AccessLog: disabled');\n+            return function(data) { };\n+            break;\n+    }\n \n     process.on('SIGUSR1', function () {\n         // Reload the Stream on signal\n         util.log('Caught a SIGUSR1 signal, reopening the log file.');\n-        stream.end();\n-        stream = openStream();\n+        if (mode == 'file') {\n+            stream.end();\n+            stream = openStream();\n+        } else {\n+            Syslog.close();\n+            Syslog.init(\"hipache\", Syslog.LOG_PID | Syslog.LOG_ODELAY, Syslog.LOG_LOCAL0);\n+        }\n     });\n     self.on('exit', function () {\n-        stream.end();\n+        if (mode == 'syslog') {\n+            Syslog.close();\n+        } else {",
        "path": "lib/master.js",
        "position": 56,
        "original_position": 56,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Conversely, what will happen here if \"mode\" is not set?\n",
        "created_at": "2014-01-25T18:26:30Z",
        "updated_at": "2014-01-25T18:26:30Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172306",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172306"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172306"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172310",
        "pull_request_review_id": null,
        "id": 9172310,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNzIzMTA=",
        "diff_hunk": "@@ -88,7 +117,11 @@ var accessLog = function (self, path) {\n         line += ' ';\n         // Backend time spent\n         line += (data.backendTimeSpent / 1000);\n-        stream.write(line + '\\n');\n+        if (mode == 'syslog') {\n+            Syslog.log(Syslog.LOG_INFO, line);\n+        } else {",
        "path": "lib/master.js",
        "position": 69,
        "original_position": 69,
        "commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "original_commit_id": "c60d276f24c78d521abc1fa1d4c9665d8f9fa889",
        "user": {
            "login": "jpetazzo",
            "id": 171481,
            "node_id": "MDQ6VXNlcjE3MTQ4MQ==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/171481?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jpetazzo",
            "html_url": "https://github.com/jpetazzo",
            "followers_url": "https://api.github.com/users/jpetazzo/followers",
            "following_url": "https://api.github.com/users/jpetazzo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jpetazzo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jpetazzo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jpetazzo/subscriptions",
            "organizations_url": "https://api.github.com/users/jpetazzo/orgs",
            "repos_url": "https://api.github.com/users/jpetazzo/repos",
            "events_url": "https://api.github.com/users/jpetazzo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jpetazzo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ditto.\n",
        "created_at": "2014-01-25T18:26:39Z",
        "updated_at": "2014-01-25T18:26:39Z",
        "html_url": "https://github.com/hipache/hipache/pull/71#discussion_r9172310",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/71",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9172310"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/71#discussion_r9172310"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/71"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9653570",
        "pull_request_review_id": null,
        "id": 9653570,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2NTM1NzA=",
        "diff_hunk": "@@ -29,9 +29,10 @@ if (argv.h || argv.help) {\n \n if (argv.c || argv.config) {\n     var configFile = argv.c ? argv.c : argv.config;\n+    \n     var data = fs.readFileSync(configFile);\n     util.log('Loading config from ' + configFile);\n-    config = JSON.parse(data);\n+    config = eval('(' + data+')');",
        "path": "bin/hipache",
        "position": 8,
        "original_position": 8,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Sorry, this is a blocker to merge to master. We cannot eval arbitrary data form the config file, especially since the daemon runs under root with most config.\n",
        "created_at": "2014-02-12T02:18:05Z",
        "updated_at": "2014-02-12T02:18:05Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r9653570",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9653570"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r9653570"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/9656820",
        "pull_request_review_id": null,
        "id": 9656820,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2NTY4MjA=",
        "diff_hunk": "@@ -29,9 +29,10 @@ if (argv.h || argv.help) {\n \n if (argv.c || argv.config) {\n     var configFile = argv.c ? argv.c : argv.config;\n+    \n     var data = fs.readFileSync(configFile);\n     util.log('Loading config from ' + configFile);\n-    config = JSON.parse(data);\n+    config = eval('(' + data+')');",
        "path": "bin/hipache",
        "position": 8,
        "original_position": 8,
        "commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "original_commit_id": "c66a5b6e726c68173bddfde92fca9155e44c10d9",
        "user": {
            "login": "andrevdm",
            "id": 74154,
            "node_id": "MDQ6VXNlcjc0MTU0",
            "avatar_url": "https://avatars2.githubusercontent.com/u/74154?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrevdm",
            "html_url": "https://github.com/andrevdm",
            "followers_url": "https://api.github.com/users/andrevdm/followers",
            "following_url": "https://api.github.com/users/andrevdm/following{/other_user}",
            "gists_url": "https://api.github.com/users/andrevdm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andrevdm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andrevdm/subscriptions",
            "organizations_url": "https://api.github.com/users/andrevdm/orgs",
            "repos_url": "https://api.github.com/users/andrevdm/repos",
            "events_url": "https://api.github.com/users/andrevdm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andrevdm/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@samalba understood. I'll see if there is another simple way to achieve the same goal then. Thanks\n",
        "created_at": "2014-02-12T05:50:04Z",
        "updated_at": "2014-02-12T05:50:04Z",
        "html_url": "https://github.com/hipache/hipache/pull/43#discussion_r9656820",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/43",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/9656820"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/43#discussion_r9656820"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/43"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287153",
        "pull_request_review_id": null,
        "id": 11287153,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMjg3MTUz",
        "diff_hunk": "@@ -48,8 +49,14 @@ MemoryMonitor.prototype.tick = function () {\n         return;\n     }\n     // Limit reached, starting the exit phase\n-    this.log('Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), exiting...');\n-    this.exit();\n+    var msg = 'Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), ';\n+    if (this._exited == false) {",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 22,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I tend to think you should simply coerce to boolean here: `if (!this._exited)`\nComparing explicitly to true / false (even ===) is not generally necessary IMHO.\nMoreover, here, as you are testing against false first, that means that if for some reason `this._exited` would be either `null` or `undefined` (think later refactoring), then it would evaluate as true in your code - which is likely not what you want - what you want here is `_exited` to be either \"truthy\" or \"falsy\", which is what you get with a simple implicit coerce.\nHope that helps.\n",
        "created_at": "2014-04-04T08:58:39Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11287153",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287153"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11287153"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287175",
        "pull_request_review_id": null,
        "id": 11287175,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMjg3MTc1",
        "diff_hunk": "@@ -48,8 +49,14 @@ MemoryMonitor.prototype.tick = function () {\n         return;\n     }\n     // Limit reached, starting the exit phase\n-    this.log('Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), exiting...');\n-    this.exit();\n+    var msg = 'Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), ';\n+    if (this._exited == false) {",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 22,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This will make jshint scream anyhow (our settings require strict comparison: ===).\n",
        "created_at": "2014-04-04T08:59:24Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11287175",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287175"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11287175"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287188",
        "pull_request_review_id": null,
        "id": 11287188,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMjg3MTg4",
        "diff_hunk": "@@ -63,24 +70,26 @@ MemoryMonitor.prototype.dumpStatistics = function () {\n };\n \n MemoryMonitor.prototype.exit = function () {\n-    var n = this._servers.length;\n+    var n = this._servers.length,\n+        i;\n ",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 39,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You don't use `i` at all it seems.\n",
        "created_at": "2014-04-04T08:59:44Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11287188",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287188"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11287188"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287227",
        "pull_request_review_id": null,
        "id": 11287227,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMjg3MjI3",
        "diff_hunk": "@@ -96,10 +105,12 @@ MemoryMonitor.prototype.addServer = function (server) {\n     }.bind(this));\n     server.on('close', function () {\n         this._closing -= 1;\n+        this.log('1 server handler finished processing, ' + this._closing + ' remaining...');\n         if (this._closing > 0) {\n             return;\n         }\n         // All servers closed, exiting the current process\n+        this.log('All server handlers finished processing requests, clean exit.')",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 78,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm your linter, luke. (and you miss a semi-colon).\n",
        "created_at": "2014-04-04T09:00:56Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11287227",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11287227"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11287227"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301480",
        "pull_request_review_id": null,
        "id": 11301480,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMzAxNDgw",
        "diff_hunk": "@@ -48,8 +49,14 @@ MemoryMonitor.prototype.tick = function () {\n         return;\n     }\n     // Limit reached, starting the exit phase\n-    this.log('Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), exiting...');\n-    this.exit();\n+    var msg = 'Memory limit exceeded (' + Math.round(currentMemory / (1024 * 1024)) + 'MB), ';\n+    if (this._exited == false) {",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 22,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ok, I'll compare with true first. It helps\n",
        "created_at": "2014-04-04T16:14:32Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11301480",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301480"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11301480"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301496",
        "pull_request_review_id": null,
        "id": 11301496,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMzAxNDk2",
        "diff_hunk": "@@ -63,24 +70,26 @@ MemoryMonitor.prototype.dumpStatistics = function () {\n };\n \n MemoryMonitor.prototype.exit = function () {\n-    var n = this._servers.length;\n+    var n = this._servers.length,\n+        i;\n ",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 39,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'll run jshint :-)\n",
        "created_at": "2014-04-04T16:14:47Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11301496",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301496"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11301496"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301512",
        "pull_request_review_id": null,
        "id": 11301512,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMzAxNTEy",
        "diff_hunk": "@@ -96,10 +105,12 @@ MemoryMonitor.prototype.addServer = function (server) {\n     }.bind(this));\n     server.on('close', function () {\n         this._closing -= 1;\n+        this.log('1 server handler finished processing, ' + this._closing + ' remaining...');\n         if (this._closing > 0) {\n             return;\n         }\n         // All servers closed, exiting the current process\n+        this.log('All server handlers finished processing requests, clean exit.')",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 78,
        "commit_id": "650b039297f071161db3d25c6eca45083efe761f",
        "original_commit_id": "35f7e2830c72532313bfe593f16e29308890bd9c",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "ditto\n",
        "created_at": "2014-04-04T16:15:02Z",
        "updated_at": "2014-04-04T20:58:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/101#discussion_r11301512",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/101",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11301512"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/101#discussion_r11301512"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/101"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11431801",
        "pull_request_review_id": null,
        "id": 11431801,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDMxODAx",
        "diff_hunk": "@@ -43,20 +43,39 @@ function MemoryMonitor(options) {\n MemoryMonitor.prototype.tick = function () {\n     var memoryLimit = (this.options.memoryLimit * 1024 * 1024);\n     var currentMemory = process.memoryUsage().rss;\n+    var formatMemory = function (mem) {",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 15,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "0bc52012e12125a13eb6946036dc72cef1c96042",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You should move that (helper) function out of the tick function. That way, you will create only one function, instead of creating one each time `tick` is called.\n\nThis is a rule of thumb: creating a closure has a cost (and might be leak prone) - it has benefits, true, just not for that kind of helper function that doesn't _need_ to access the local scope. \n\nAdmittedly, it really is not a big deal here (`tick` being called quite sparsely) - just some generic advice.\n\n2 cents nitpicking :-).\n",
        "created_at": "2014-04-09T11:48:50Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11431801",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11431801"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11431801"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11444164",
        "pull_request_review_id": null,
        "id": 11444164,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDQ0MTY0",
        "diff_hunk": "@@ -43,20 +43,39 @@ function MemoryMonitor(options) {\n MemoryMonitor.prototype.tick = function () {\n     var memoryLimit = (this.options.memoryLimit * 1024 * 1024);\n     var currentMemory = process.memoryUsage().rss;\n+    var formatMemory = function (mem) {",
        "path": "lib/memorymonitor.js",
        "position": null,
        "original_position": 15,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "0bc52012e12125a13eb6946036dc72cef1c96042",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "good point\n",
        "created_at": "2014-04-09T16:20:46Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11444164",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11444164"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11444164"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11541581",
        "pull_request_review_id": null,
        "id": 11541581,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTQxNTgx",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`",
        "path": "bin/hipache",
        "position": null,
        "original_position": 14,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This will break if the path contains - say - a space.\nThis is true for a number of lines in this file (any call to `dirname`, `basename` and `cd`).\nHere that should probably have read `cd \"'dirname \\\"$0\\\"'\"` (<- single quotes stand for backtick, thank you markdown)\n",
        "created_at": "2014-04-11T17:08:01Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11541581",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11541581"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11541581"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11541801",
        "pull_request_review_id": null,
        "id": 11541801,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTQxODAx",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't understand why we do this.\n\nNode (0.10) readlinks for you AFAIK - `__dirname` in the hipache script will be the dirname of the resolved file, not of a symlink to that file.\n\nEither way, we weren't doing it previously, correct?\n",
        "created_at": "2014-04-11T17:14:05Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11541801",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11541801"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11541801"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11543070",
        "pull_request_review_id": null,
        "id": 11543070,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTQzMDcw",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks\n+while [ -L \"$TARGET_FILE\" ]\n+do\n+    TARGET_FILE=`readlink $TARGET_FILE`\n+    cd `dirname $TARGET_FILE`\n+    TARGET_FILE=`basename $TARGET_FILE`\n+done\n \n-var config;\n+BASE_DIR=`pwd -P`\n \n+cd $ROOT_DIR\n \n-if (argv.h || argv.help) {\n-    return util.puts(help);\n-}\n-\n-if (argv.c || argv.config) {\n-    var configFile = argv.c ? argv.c : argv.config;\n-    var data = fs.readFileSync(configFile);\n-    util.log('Loading config from ' + configFile);\n-    config = JSON.parse(data);\n-} else {\n-    config = (function (configFile) {\n-        if (process.env.SETTINGS_FLAVOR !== undefined) {\n-            path = configFile.replace(/\\.json$/, '_' + process.env.SETTINGS_FLAVOR + '.json');\n-        }\n-        util.log('Loading config from ' + configFile);\n-        var data = fs.readFileSync(configFile);\n-        return JSON.parse(data);\n-    }(path.resolve(__dirname, '..', 'config', 'config.json')));\n-}\n-\n-if (cluster.isMaster) {\n-    // Run the master\n-    master(config);\n-    util.log('Server is running. ' + JSON.stringify(config.server));\n-} else {\n-    // Run the worker\n-    worker(config);\n-}\n+exec node --expose-gc --always-compact -- \"${BASE_DIR}/hipache.js\" $@",
        "path": "bin/hipache",
        "position": null,
        "original_position": 67,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This will break also (more subtle) if the path to the config file contains a space. That's the idea of `${1+\"$@\"}`.\n",
        "created_at": "2014-04-11T17:40:24Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11543070",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11543070"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11543070"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11556769",
        "pull_request_review_id": null,
        "id": 11556769,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTU2NzY5",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`",
        "path": "bin/hipache",
        "position": null,
        "original_position": 14,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Right, I'll change that.\n",
        "created_at": "2014-04-12T00:17:22Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11556769",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11556769"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11556769"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11556805",
        "pull_request_review_id": null,
        "id": 11556805,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTU2ODA1",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Well, the issue is that we have to do the readlinks stuff (in a portable way) before calling node (to get the right path where to find the bin directory with hipache.js).\n",
        "created_at": "2014-04-12T00:19:00Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11556805",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11556805"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11556805"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11558926",
        "pull_request_review_id": null,
        "id": 11558926,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTU4OTI2",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ah, right, thanks!\nNow, that wouldn't be an issue if we kept the javascript inside the script itself (bin/hipache) - I know that `':' //;`seems like a ugly hack, but I'm curious what reason apart from that makes it bad.\nSorry for the bikeshedding :)\n",
        "created_at": "2014-04-12T07:42:09Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11558926",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11558926"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11558926"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11559262",
        "pull_request_review_id": null,
        "id": 11559262,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTU5MjYy",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "(Complete outsider, possibly talking rubbish) If a construct like this doesn't make sense when looking at it; would it make sense to add a clear comment/warning describing _why_ an unusual construct was used? This would prevent future coders from inadvertently removing (and breaking) it.\n",
        "created_at": "2014-04-12T10:04:27Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11559262",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11559262"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11559262"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11560141",
        "pull_request_review_id": null,
        "id": 11560141,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTYwMTQx",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@dmp42 Could you post share a gist how it would looks like? I did not get that part. Would you pipe all the JS inside the interpreter? If that's the case, I am honestly fine with my small shell script :-)\n\n@thaJeztah Yeah I agree.\n",
        "created_at": "2014-04-12T15:19:24Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11560141",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11560141"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11560141"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11565563",
        "pull_request_review_id": null,
        "id": 11565563,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTY1NTYz",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@samalba \n\n> Could you post share a gist how it would looks like?\n\nSure: https://gist.github.com/dmp42/10587421\n\n> Would you pipe all the JS inside the interpreter? If that's the case, I am honestly fine with my small shell script :-)\n\nNope :) I'm crazy, true - just not _batshit_ crazy :-)\n\nTo sum-it up, the benefits of the suggested approach are:\n- no extra file: `./bin/hipache` and `node ./bin/hipache` keep acting the same way - less confusion\n- one line change\n- no shell script monkeying / portability headache with readlink and cd (that's (already) tricky to get right)\n\nDownsides:\n- obviously not obvious :-)\n- other?\n\n@thaJeztah agreed - same goes for `--always-compact`, etc - things done in hipache these days are quite un-holly :-)\n\nAbout this specifically, that's a no-op (http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#colon), used to hide the shell exec statement from node (being followed by a js comment).\n\nThis is (common?) practice when you need to have some script past the shebang, and still have the intended parser to be able to consume the file.\n\nI've seen it in the wild in python for example (and for node as well):\n\n```\n#!/bin/sh\n''''exec python -u -- \"$0\" \"$@\" # '''\n# vi: syntax=python\n```\n\nWhat do you think?\n\nEither way, let's merge this and get this to master as well so that we can get back to 0.3 :-)\n",
        "created_at": "2014-04-13T15:50:30Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11565563",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11565563"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11565563"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11566145",
        "pull_request_review_id": null,
        "id": 11566145,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNTY2MTQ1",
        "diff_hunk": "@@ -1,53 +1,20 @@\n-#!/usr/bin/env node\n+#!/bin/sh\n \n-'use strict';\n+ROOT_DIR=`pwd -P`\n \n-var fs = require('fs'),\n-    path = require('path'),\n-    cluster = require('cluster'),\n-    util = require('util'),\n-    argv = require('optimist').argv,\n-    master = require('../lib/master'),\n-    worker = require('../lib/worker');\n+cd `dirname $0`\n+TARGET_FILE=`basename $0`\n \n-var help = [\n-    'usage: hipache [options]',\n-    '',\n-    'Starts a hipache server',\n-    '',\n-    'options:',\n-    '   -c, --config CONFIGFILE     Location of the configuration file',\n-    '   -h, --help                  Display help'\n-].join('\\n');\n+# Iterate down a (possible) chain of symlinks",
        "path": "bin/hipache",
        "position": null,
        "original_position": 26,
        "commit_id": "1e3823c1dbef7527c2e15b38d2e49139dedcf451",
        "original_commit_id": "a02f3769027ceb4080796ed5331af9a6d8fd7668",
        "user": {
            "login": "samalba",
            "id": 216487,
            "node_id": "MDQ6VXNlcjIxNjQ4Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/216487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/samalba",
            "html_url": "https://github.com/samalba",
            "followers_url": "https://api.github.com/users/samalba/followers",
            "following_url": "https://api.github.com/users/samalba/following{/other_user}",
            "gists_url": "https://api.github.com/users/samalba/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/samalba/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/samalba/subscriptions",
            "organizations_url": "https://api.github.com/users/samalba/orgs",
            "repos_url": "https://api.github.com/users/samalba/repos",
            "events_url": "https://api.github.com/users/samalba/events{/privacy}",
            "received_events_url": "https://api.github.com/users/samalba/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't mind any approach, just want to get the behavior right. +1 for having 1 bin file.\n\nI'll re-push so we can merge this\n",
        "created_at": "2014-04-13T17:49:05Z",
        "updated_at": "2014-04-13T17:53:16Z",
        "html_url": "https://github.com/hipache/hipache/pull/109#discussion_r11566145",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/109",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11566145"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/109#discussion_r11566145"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/109"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895765",
        "pull_request_review_id": null,
        "id": 11895765,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODk1NzY1",
        "diff_hunk": "@@ -3,7 +3,7 @@ node_js:\n     - \"0.10\"\n \n env:\n-    - NO_ETCD=true\n+    - NO_ETCD=true NO_ZOOKEEPER=true",
        "path": ".travis.yml",
        "position": null,
        "original_position": 5,
        "commit_id": "bb09dcfbcc13fc04044a9b0533ce3393e6b0ec4c",
        "original_commit_id": "c027b754bff58829503d03dd387ffd6f05ac13e9",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "One on each line might be more readable?\nAnyhow, thinking more about this: it might very well be possible to ask travis to install zookeeper (look at the other apt-get install we do) and have the tests run on it.\nCan you have a look at this?\n",
        "created_at": "2014-04-23T11:23:23Z",
        "updated_at": "2014-05-16T14:57:57Z",
        "html_url": "https://github.com/hipache/hipache/pull/132#discussion_r11895765",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/132",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895765"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/132#discussion_r11895765"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/132"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895892",
        "pull_request_review_id": null,
        "id": 11895892,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODk1ODky",
        "diff_hunk": "@@ -0,0 +1,20 @@\n+(function () {\n+    'use strict';\n+\n+    /**\n+     * A server wrapper to manipulate Zookeeper server instances.\n+     */\n+\n+    var Generic = require('./generic');\n+    var util = require('util');\n+\n+    // Much more complicated - probably needs zkServer.sh which isn't in\n+    // my path by default (/usr/lib/zookeeper/bin/)\n+    var Zookeeper = function () {\n+        Generic.apply(this, ['zookeeper', []]);",
        "path": "test/fixtures/servers/zookeeper.js",
        "position": null,
        "original_position": 14,
        "commit_id": "bb09dcfbcc13fc04044a9b0533ce3393e6b0ec4c",
        "original_commit_id": "c027b754bff58829503d03dd387ffd6f05ac13e9",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "There, I would be happy with something like:\n\n```\nfunction (configPath) {\n        // Detect os here\n        // if OSX\n        Generic.apply(this, ['zkServer', ['start', configPath]]);\n        // if linux (assume Ubuntu)\n        Generic.apply(this, ['/usr/share/zookeeper/bin/zkServer.sh', ['start', configPath];\n```\n",
        "created_at": "2014-04-23T11:29:00Z",
        "updated_at": "2014-05-16T14:57:57Z",
        "html_url": "https://github.com/hipache/hipache/pull/132#discussion_r11895892",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/132",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895892"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/132#discussion_r11895892"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/132"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895965",
        "pull_request_review_id": null,
        "id": 11895965,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODk1OTY1",
        "diff_hunk": "@@ -0,0 +1,20 @@\n+(function () {\n+    'use strict';\n+\n+    /**\n+     * A server wrapper to manipulate Zookeeper server instances.\n+     */\n+\n+    var Generic = require('./generic');\n+    var util = require('util');\n+\n+    // Much more complicated - probably needs zkServer.sh which isn't in\n+    // my path by default (/usr/lib/zookeeper/bin/)\n+    var Zookeeper = function () {\n+        Generic.apply(this, ['zookeeper', []]);\n+    };\n+",
        "path": "test/fixtures/servers/zookeeper.js",
        "position": null,
        "original_position": 16,
        "commit_id": "bb09dcfbcc13fc04044a9b0533ce3393e6b0ec4c",
        "original_commit_id": "c027b754bff58829503d03dd387ffd6f05ac13e9",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You should then override the stop method to rm the data folder here (according to our discussion).\n",
        "created_at": "2014-04-23T11:31:20Z",
        "updated_at": "2014-05-16T14:57:57Z",
        "html_url": "https://github.com/hipache/hipache/pull/132#discussion_r11895965",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/132",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895965"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/132#discussion_r11895965"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/132"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895969",
        "pull_request_review_id": null,
        "id": 11895969,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODk1OTY5",
        "diff_hunk": "@@ -0,0 +1,40 @@\n+(function () {\n+    /*globals describe:false, before:false, after:false*/\n+    'use strict';\n+\n+    var npmlog = require('npmlog');\n+\n+    if (process.env.NO_ZOOKEEPER) {\n+        npmlog.error('Test', 'No zookeeper server on this machine! No tests, then.');\n+        return;\n+    }\n+\n+    // Useful if you want to see servers talk to you\n+    //require('npmlog').level = 'silly';\n+\n+    // var expect = require('chai').expect;\n+\n+    var Driver = require('../../lib/drivers/zookeeper');\n+    //var Server = require('../fixtures/servers/zookeeper');\n+    var testReading = require('./driver-test-reading');\n+\n+    // Expects ZK to be started by hand before running tests",
        "path": "test/unit/driver-zookeeper.js",
        "position": null,
        "original_position": 21,
        "commit_id": "bb09dcfbcc13fc04044a9b0533ce3393e6b0ec4c",
        "original_commit_id": "c027b754bff58829503d03dd387ffd6f05ac13e9",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "If you manage to have a reasonnably portable fixture script to start Zookeeper, I would expect to start / stop inside the before / after methods. \n",
        "created_at": "2014-04-23T11:31:29Z",
        "updated_at": "2014-05-16T14:57:57Z",
        "html_url": "https://github.com/hipache/hipache/pull/132#discussion_r11895969",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/132",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/11895969"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/132#discussion_r11895969"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/132"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227055",
        "pull_request_review_id": null,
        "id": 22227055,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI3MDU1",
        "diff_hunk": "@@ -19,7 +19,10 @@\n             // If binding, will use default port unless instructed otherwise\n             port: 443,\n             // No CA provided\n-            ca: []\n+            ca: [],\n+            secureProtocol: \"SSLv23_method\",\n+            // constants.SSL_OP_NO_SSLv3 | constants.SSL_OP_NO_SSLv2\n+            secureOptions: 33554432 | 16777216",
        "path": "lib/config/defaults.js",
        "position": null,
        "original_position": 8,
        "commit_id": "9166109a74c670acef81c95e2743a1e843c61e29",
        "original_commit_id": "4d565bc2d0958117bd0032dba30f66b618eeae30",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why not use `constants.SSL_OP_NO_SSLvX` instead of the values?\n",
        "created_at": "2014-12-23T18:17:58Z",
        "updated_at": "2014-12-23T18:27:13Z",
        "html_url": "https://github.com/hipache/hipache/pull/178#discussion_r22227055",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/178",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227055"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/178#discussion_r22227055"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/178"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226787",
        "pull_request_review_id": null,
        "id": 22226787,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI2Nzg3",
        "diff_hunk": "@@ -1,6 +1,6 @@\n {\n     \"server\": {\n-        \"accessLog\": \"/var/log/nginx/access.log\",\n+        \"accessLog\": \"/tmp/hipache.log\",",
        "path": "config/config.json",
        "position": null,
        "original_position": 4,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I agree moving away from nginx, but why `tmp`? What about `/var/log/hipache`?\n",
        "created_at": "2014-12-23T18:13:30Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22226787",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226787"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22226787"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226867",
        "pull_request_review_id": null,
        "id": 22226867,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI2ODY3",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {",
        "path": "config/config.json",
        "position": 12,
        "original_position": 12,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why?\n",
        "created_at": "2014-12-23T18:14:13Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22226867",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226867"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22226867"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226943",
        "pull_request_review_id": null,
        "id": 22226943,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI2OTQz",
        "diff_hunk": "@@ -25,12 +26,8 @@ run npm install -g ./hipache --production\n # This is provisional, as we don't honor it yet in hipache\n env NODE_ENV production\n \n-# Add supervisor conf\n-add ./supervisord.conf /etc/supervisor/conf.d/supervisord.conf\n-\n-# Expose hipache and redis\n+# Expose hipache\n expose  80\n-expose  6379\n \n # Start supervisor\n-cmd [\"supervisord\", \"-n\"]\n+cmd [ \"/usr/local/bin/hipache\", \"-c\", \"/usr/local/lib/node_modules/hipache/config/config.json\" ]",
        "path": "Dockerfile",
        "position": 51,
        "original_position": 35,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Wasn't it config_dev previously?\n",
        "created_at": "2014-12-23T18:15:44Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22226943",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22226943"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22226943"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227617",
        "pull_request_review_id": null,
        "id": 22227617,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI3NjE3",
        "diff_hunk": "@@ -25,12 +26,8 @@ run npm install -g ./hipache --production\n # This is provisional, as we don't honor it yet in hipache\n env NODE_ENV production\n \n-# Add supervisor conf\n-add ./supervisord.conf /etc/supervisor/conf.d/supervisord.conf\n-\n-# Expose hipache and redis\n+# Expose hipache\n expose  80\n-expose  6379\n \n # Start supervisor\n-cmd [\"supervisord\", \"-n\"]\n+cmd [ \"/usr/local/bin/hipache\", \"-c\", \"/usr/local/lib/node_modules/hipache/config/config.json\" ]",
        "path": "Dockerfile",
        "position": 51,
        "original_position": 35,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yes it was, but this config does not work. See my comment above.\n",
        "created_at": "2014-12-23T18:30:07Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22227617",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227617"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22227617"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227630",
        "pull_request_review_id": null,
        "id": 22227630,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI3NjMw",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {",
        "path": "config/config.json",
        "position": 12,
        "original_position": 12,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Not needed.\n",
        "created_at": "2014-12-23T18:30:28Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22227630",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227630"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22227630"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227682",
        "pull_request_review_id": null,
        "id": 22227682,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI3Njgy",
        "diff_hunk": "@@ -1,6 +1,6 @@\n {\n     \"server\": {\n-        \"accessLog\": \"/var/log/nginx/access.log\",\n+        \"accessLog\": \"/tmp/hipache.log\",",
        "path": "config/config.json",
        "position": null,
        "original_position": 4,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This configuration allows to quickly run a container from the base image without any extra steps, and actually works, which is IIRC, Docker's mindset.\n",
        "created_at": "2014-12-23T18:31:55Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22227682",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227682"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22227682"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227719",
        "pull_request_review_id": null,
        "id": 22227719,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjI3NzE5",
        "diff_hunk": "@@ -1,6 +1,6 @@\n {\n     \"server\": {\n-        \"accessLog\": \"/var/log/nginx/access.log\",\n+        \"accessLog\": \"/tmp/hipache.log\",",
        "path": "config/config.json",
        "position": null,
        "original_position": 4,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I think both `/var/log/nginx` and `/var/log/hipache` don't exist, hence `/tmp`.\n",
        "created_at": "2014-12-23T18:32:39Z",
        "updated_at": "2014-12-23T22:41:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22227719",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22227719"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22227719"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239337",
        "pull_request_review_id": null,
        "id": 22239337,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5MzM3",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {",
        "path": "config/config.json",
        "position": 12,
        "original_position": 12,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "0cd9bbdb8a967cee50b748471f275ff82b02b93c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Better reason: it would likely fail as SSL certificates are not provided by default.\n",
        "created_at": "2014-12-23T22:41:49Z",
        "updated_at": "2014-12-23T22:41:49Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22239337",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239337"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22239337"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239483",
        "pull_request_review_id": null,
        "id": 22239483,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NDgz",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {\n-        \"port\": 443,\n-        \"bind\": \"127.0.0.1\",\n-        \"key\": \"/etc/ssl/ssl.key\",\n-        \"cert\": \"/etc/ssl/ssl.crt\"\n-    },\n     \"http\": {\n         \"port\": 80,\n-        \"bind\": \"127.0.0.1\"\n+        \"bind\": [ \"0.0.0.0\" ]\n     },\n-    \"driver\": \"redis://127.0.0.1:6379\"",
        "path": "config/config.json",
        "position": 23,
        "original_position": 23,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "So, did you test that?\n",
        "created_at": "2014-12-23T22:46:13Z",
        "updated_at": "2014-12-23T22:46:13Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22239483",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239483"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22239483"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239743",
        "pull_request_review_id": null,
        "id": 22239743,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NzQz",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {\n-        \"port\": 443,\n-        \"bind\": \"127.0.0.1\",\n-        \"key\": \"/etc/ssl/ssl.key\",\n-        \"cert\": \"/etc/ssl/ssl.crt\"\n-    },\n     \"http\": {\n         \"port\": 80,\n-        \"bind\": \"127.0.0.1\"\n+        \"bind\": [ \"0.0.0.0\" ]\n     },\n-    \"driver\": \"redis://127.0.0.1:6379\"",
        "path": "config/config.json",
        "position": 23,
        "original_position": 23,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "of course :)\n",
        "created_at": "2014-12-23T22:55:17Z",
        "updated_at": "2014-12-23T22:55:17Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22239743",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239743"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22239743"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239761",
        "pull_request_review_id": null,
        "id": 22239761,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NzYx",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {\n-        \"port\": 443,\n-        \"bind\": \"127.0.0.1\",\n-        \"key\": \"/etc/ssl/ssl.key\",\n-        \"cert\": \"/etc/ssl/ssl.crt\"\n-    },\n     \"http\": {\n         \"port\": 80,\n-        \"bind\": \"127.0.0.1\"\n+        \"bind\": [ \"0.0.0.0\" ]\n     },\n-    \"driver\": \"redis://127.0.0.1:6379\"",
        "path": "config/config.json",
        "position": 23,
        "original_position": 23,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Note that it only works if you follow the steps described at the top of the `Dockerfile`\n",
        "created_at": "2014-12-23T22:55:40Z",
        "updated_at": "2014-12-23T22:55:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22239761",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239761"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22239761"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239783",
        "pull_request_review_id": null,
        "id": 22239783,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5Nzgz",
        "diff_hunk": "@@ -9,15 +9,9 @@\n         \"deadBackendOn500\": true,\n         \"httpKeepAlive\": false\n     },\n-    \"https\": {\n-        \"port\": 443,\n-        \"bind\": \"127.0.0.1\",\n-        \"key\": \"/etc/ssl/ssl.key\",\n-        \"cert\": \"/etc/ssl/ssl.crt\"\n-    },\n     \"http\": {\n         \"port\": 80,\n-        \"bind\": \"127.0.0.1\"\n+        \"bind\": [ \"0.0.0.0\" ]\n     },\n-    \"driver\": \"redis://127.0.0.1:6379\"",
        "path": "config/config.json",
        "position": 23,
        "original_position": 23,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Command line to act on the `redis` server:\n\n```\ndocker run --rm --link redis:redis redis bash -c 'redis-cli -h redis <redis_command>'\n```\n",
        "created_at": "2014-12-23T22:56:37Z",
        "updated_at": "2014-12-23T22:56:37Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22239783",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239783"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22239783"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22238996",
        "pull_request_review_id": null,
        "id": 22238996,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM4OTk2",
        "diff_hunk": "@@ -187,7 +187,13 @@ Worker.prototype.runServer = function (config) {\n         code = isNaN(code) ? 400 : parseInt(code, 10);\n \n         var staticPath = function (name) {\n-            return rootDir + '/static/error_' + name + '.html';\n+            var staticDir = [ rootDir, 'static' ].join('/');\n+\n+            if (config.server.staticDir) {\n+                staticDir = config.server.staticDir;",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 8,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "6b2023eac055fafd77bed656e644302129830e40",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "`var staticDir = config.server.staticDir || [ rootDir, 'static' ].join('/');`\n\nAlso, put that out of the staticPath function itself.\n\nWhat do you think?\n",
        "created_at": "2014-12-23T22:31:13Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22238996",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22238996"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22238996"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239453",
        "pull_request_review_id": null,
        "id": 22239453,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NDUz",
        "diff_hunk": "@@ -187,7 +187,13 @@ Worker.prototype.runServer = function (config) {\n         code = isNaN(code) ? 400 : parseInt(code, 10);\n \n         var staticPath = function (name) {\n-            return rootDir + '/static/error_' + name + '.html';\n+            var staticDir = [ rootDir, 'static' ].join('/');\n+\n+            if (config.server.staticDir) {\n+                staticDir = config.server.staticDir;",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 8,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "6b2023eac055fafd77bed656e644302129830e40",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I am fine with the one-line statement change, but do we really need to put `staticDir` outside of where it is used?\n",
        "created_at": "2014-12-23T22:45:15Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22239453",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239453"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22239453"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239472",
        "pull_request_review_id": null,
        "id": 22239472,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NDcy",
        "diff_hunk": "@@ -187,7 +187,13 @@ Worker.prototype.runServer = function (config) {\n         code = isNaN(code) ? 400 : parseInt(code, 10);\n \n         var staticPath = function (name) {\n-            return rootDir + '/static/error_' + name + '.html';\n+            var staticDir = [ rootDir, 'static' ].join('/');\n+\n+            if (config.server.staticDir) {\n+                staticDir = config.server.staticDir;",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 8,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "6b2023eac055fafd77bed656e644302129830e40",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Answer to myself: yes because the function is called multiple times :)\n",
        "created_at": "2014-12-23T22:45:58Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22239472",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239472"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22239472"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239601",
        "pull_request_review_id": null,
        "id": 22239601,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NjAx",
        "diff_hunk": "@@ -187,7 +187,13 @@ Worker.prototype.runServer = function (config) {\n         code = isNaN(code) ? 400 : parseInt(code, 10);\n \n         var staticPath = function (name) {\n-            return rootDir + '/static/error_' + name + '.html';\n+            var staticDir = [ rootDir, 'static' ].join('/');\n+\n+            if (config.server.staticDir) {\n+                staticDir = config.server.staticDir;",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 8,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "6b2023eac055fafd77bed656e644302129830e40",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "See? I'm mostly useless now - you figure out the answers before I get a chance ;)\n",
        "created_at": "2014-12-23T22:50:05Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22239601",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239601"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22239601"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239656",
        "pull_request_review_id": null,
        "id": 22239656,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5NjU2",
        "diff_hunk": "@@ -179,6 +179,11 @@ Worker.prototype.runServer = function (config) {\n     };\n \n     var errorMessage = function (res, message, code) {\n+        var staticDir  = config.server.staticDir || [ rootDir, 'static' ].join('/');",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 4,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "7b1b337c354c073ae2d15096bb8a029f7fe7b250",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "you can/may even put it outside of errorMessage I believe - not a big deal though... \n",
        "created_at": "2014-12-23T22:51:55Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22239656",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239656"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22239656"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239816",
        "pull_request_review_id": null,
        "id": 22239816,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjM5ODE2",
        "diff_hunk": "@@ -179,6 +179,11 @@ Worker.prototype.runServer = function (config) {\n     };\n \n     var errorMessage = function (res, message, code) {\n+        var staticDir  = config.server.staticDir || [ rootDir, 'static' ].join('/');",
        "path": "lib/worker.js",
        "position": null,
        "original_position": 4,
        "commit_id": "c3fef07457c9d03a944f5c3ddbe031618e59b41e",
        "original_commit_id": "7b1b337c354c073ae2d15096bb8a029f7fe7b250",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "ah sure.\n",
        "created_at": "2014-12-23T22:57:43Z",
        "updated_at": "2014-12-23T22:59:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/173#discussion_r22239816",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/173",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22239816"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/173#discussion_r22239816"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/173"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240331",
        "pull_request_review_id": null,
        "id": 22240331,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQwMzMx",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Just digging a bit on that. What happens if hipache downgrades its root privileges? Can it still write to that folder? (I don't remember the code)\n",
        "created_at": "2014-12-23T23:19:06Z",
        "updated_at": "2014-12-23T23:19:06Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22240331",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240331"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22240331"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240492",
        "pull_request_review_id": null,
        "id": 22240492,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQwNDky",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't think you can, but I don't think you need to either. Hipache downgrades its root privileges after having read the configuration file anyway.\n",
        "created_at": "2014-12-23T23:26:01Z",
        "updated_at": "2014-12-23T23:26:01Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22240492",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240492"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22240492"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240572",
        "pull_request_review_id": null,
        "id": 22240572,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQwNTcy",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Not sure I understand :)\nLet me rephrase: if hipache is not ran as root, is this going to work? if not, can we chown/chmod this to make it work?\n",
        "created_at": "2014-12-23T23:28:46Z",
        "updated_at": "2014-12-23T23:28:46Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22240572",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240572"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22240572"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240581",
        "pull_request_review_id": null,
        "id": 22240581,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQwNTgx",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Errrr, that was mean for the log folder /var/log/hipache - sorry for the confusion\n",
        "created_at": "2014-12-23T23:29:09Z",
        "updated_at": "2014-12-23T23:29:25Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22240581",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240581"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22240581"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240923",
        "pull_request_review_id": null,
        "id": 22240923,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQwOTIz",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "If Hipache is not run as root, I don't know, I don't think so I would say. But, in this context, Hipache is run as root so it is ok.\n\nHowever, Hipache drops root privileges to `www-data:www-data` as soon as ports are bound, and workers are still able to write into the log file even if it is owned by `root`. I think it is because the log file stream is open before workers downgrade privileges.\n",
        "created_at": "2014-12-23T23:43:42Z",
        "updated_at": "2014-12-23T23:43:42Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22240923",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22240923"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22240923"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22241099",
        "pull_request_review_id": null,
        "id": 22241099,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQxMDk5",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yeah, IIRC I implemented privileges dropping, it's just I don't remember what I did exactly :-).\nAs long as you tested it and it works, I'm happy...\n",
        "created_at": "2014-12-23T23:49:58Z",
        "updated_at": "2014-12-23T23:49:58Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22241099",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22241099"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22241099"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22241147",
        "pull_request_review_id": null,
        "id": 22241147,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjQxMTQ3",
        "diff_hunk": "@@ -12,25 +17,24 @@ from    ubuntu:14.04\n # Update\n run apt-get -y update\n \n-# Install supervisor, node, npm and redis\n-run apt-get -y install supervisor nodejs npm redis-server\n+# Install node and npm\n+run apt-get -y install nodejs npm\n \n-# Manually add hipache folder\n+# Manually add Hipache folder\n run mkdir ./hipache",
        "path": "Dockerfile",
        "position": 29,
        "original_position": 29,
        "commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "original_commit_id": "18390ce88d0eba8ebf9bfa878dde1e5b357e72fb",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yes, just ssh'ed into my production server. Workers drop privileges to `www-data` and every requests are written to the log file. So far so good.\n",
        "created_at": "2014-12-23T23:51:37Z",
        "updated_at": "2014-12-23T23:51:37Z",
        "html_url": "https://github.com/hipache/hipache/pull/176#discussion_r22241147",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/176",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22241147"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/176#discussion_r22241147"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/176"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287083",
        "pull_request_review_id": null,
        "id": 22287083,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3MDgz",
        "diff_hunk": "@@ -397,6 +397,20 @@ Worker.prototype.runServer = function (config) {\n         });\n     }.bind(this);\n \n+    var forceHttpsHandler = function (req, res) {\n+        if (!req.headers.host) {\n+            return errorMessage(res, 'No host header found', 400);\n+        }\n+\n+        var host = req.headers.host\n+            .replace(config.http.port, config.https.port)",
        "path": "lib/worker.js",
        "position": 10,
        "original_position": 10,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "So, what happens with host names that would contain the port? And yeah, numerals in hostnames exist :-) `37signals.com`\n",
        "created_at": "2014-12-26T19:14:23Z",
        "updated_at": "2014-12-26T19:14:23Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22287083",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287083"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22287083"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287099",
        "pull_request_review_id": null,
        "id": 22287099,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3MDk5",
        "diff_hunk": "@@ -397,6 +397,20 @@ Worker.prototype.runServer = function (config) {\n         });\n     }.bind(this);\n \n+    var forceHttpsHandler = function (req, res) {\n+        if (!req.headers.host) {\n+            return errorMessage(res, 'No host header found', 400);\n+        }\n+\n+        var host = req.headers.host\n+            .replace(config.http.port, config.https.port)\n+            .replace(/^http[s]{0,1}:\\/\\//, '');\n+\n+        log('Redirecting http://' + req.headers.host + req.url + ' to ' + 'https://' + host + req.url);",
        "path": "lib/worker.js",
        "position": 13,
        "original_position": 13,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "So, if `req.headers.host` contains the scheme, your log output will not look good.\n",
        "created_at": "2014-12-26T19:15:45Z",
        "updated_at": "2014-12-26T19:15:45Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22287099",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287099"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22287099"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287157",
        "pull_request_review_id": null,
        "id": 22287157,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3MTU3",
        "diff_hunk": "@@ -397,6 +397,20 @@ Worker.prototype.runServer = function (config) {\n         });\n     }.bind(this);\n \n+    var forceHttpsHandler = function (req, res) {\n+        if (!req.headers.host) {\n+            return errorMessage(res, 'No host header found', 400);\n+        }\n+\n+        var host = req.headers.host\n+            .replace(config.http.port, config.https.port)",
        "path": "lib/worker.js",
        "position": 10,
        "original_position": 10,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Also, is `config.https` always defined?\n",
        "created_at": "2014-12-26T19:19:27Z",
        "updated_at": "2014-12-26T19:19:27Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22287157",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287157"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22287157"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287161",
        "pull_request_review_id": null,
        "id": 22287161,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3MTYx",
        "diff_hunk": "@@ -446,7 +460,12 @@ Worker.prototype.runServer = function (config) {\n     // Servers creation\n     config.http.bind.forEach(function (options) {\n         counter++;\n-        var httpServer = http.createServer(httpRequestHandler);\n+        var httpServer;\n+        if (true === config.server.forceHttps) {",
        "path": "lib/worker.js",
        "position": 27,
        "original_position": 27,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't think there is much value in strict comparing this.\nOn the contrary, I tend to think that people expect these to act the same:\n- `forceHttps: true`\n- `forceHttps: \"true\"`\n- `forceHttps: \"pleaseForceHttps\"`\n\nA simple coerce should work:\n\n`httpServer = http.createServer(config.server.forceHttps ? forceHttpsHandler  : httpRequestHandler);`\n",
        "created_at": "2014-12-26T19:19:46Z",
        "updated_at": "2014-12-26T19:19:46Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22287161",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287161"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22287161"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287592",
        "pull_request_review_id": null,
        "id": 22287592,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3NTky",
        "diff_hunk": "@@ -397,6 +397,20 @@ Worker.prototype.runServer = function (config) {\n         });\n     }.bind(this);\n \n+    var forceHttpsHandler = function (req, res) {\n+        if (!req.headers.host) {\n+            return errorMessage(res, 'No host header found', 400);\n+        }\n+\n+        var host = req.headers.host\n+            .replace(config.http.port, config.https.port)",
        "path": "lib/worker.js",
        "position": 10,
        "original_position": 10,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yep. This is more a POC covering my needs than a complete feature.\n",
        "created_at": "2014-12-26T19:56:03Z",
        "updated_at": "2014-12-26T19:56:03Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22287592",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287592"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22287592"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269725",
        "pull_request_review_id": null,
        "id": 22269725,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5NzI1",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy\n ===============================================\n \n-[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]  [![Dependency Status][depstat-image]][depstat-url] [![Coverage Status][coveralls-image]][coveralls-url] [![Code Climate][codeclimate-image]][codeclimate-url] [![Stories in Ready][waffle-image]][waffle-url]\n+[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]\n+[![Dependency Status][depstat-image]][depstat-url] [![Coverage\n+Status][coveralls-image]][coveralls-url] [![Code\n+Climate][codeclimate-image]][codeclimate-url] [![Stories in\n+Ready][waffle-image]][waffle-url]\n \n WARNING\n------------\n+-------\n \n-This is the documentation for `master`. If you are running **Hipache release**, you should look at\n-the documentation on the `0.3.x` branch.\n+This is the documentation for `master`. If you are running **Hipache release**,\n+you should look at the documentation on the `0.3.x` branch.\n \n \n-What is it?\n+What Is It?\n -----------\n \n-Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a distributed proxy designed to route high volumes of http and\n-websocket traffic to unusually large numbers of virtual hosts, in a highly\n-dynamic topology where backends are added and removed several times per second.\n-It is particularly well-suited for PaaS (platform-as-a-service) and other\n-environments that are both business-critical and multi-tenant.\n+Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a [fully-featured](#features) distributed\n+proxy designed to route high volumes of HTTP and WebSocket traffic to unusually\n+large numbers of virtual hosts, in a highly dynamic topology where backends are\n+added and removed several times per second.  It is particularly well-suited for\n+PaaS (Platform-as-a-Service) and other environments that are both\n+business-critical and multi-tenant.\n \n Hipache was originally developed at [dotCloud](http://www.dotcloud.com), a\n popular platform-as-a-service, to replace its first-generation routing layer\n-based on a heavily instrumented nginx deployment. It currently serves\n-production traffic for tens of thousands of applications hosted on dotCloud.\n-Hipache is based on the node-http-proxy library.\n+based on a heavily instrumented nginx deployment. It currently serves production\n+traffic for tens of thousands of applications hosted on dotCloud.  Hipache is\n+based on the [node-http-proxy](https://github.com/nodejitsu/node-http-proxy)\n+library.\n \n \n-Run it!\n+Run It!\n -------\n \n ### 1. Installation\n \n From the shell:\n \n-    $ npm install hipache -g\n+    $ npm install Hipache -g\n \n-*The '-g' option will make the 'hipache' bin-script available system-wide (usually linked from '/usr/local/bin')*\n+_The '-g' option will make the 'hipache' bin-script available system-wide\n+(usually linked from '/usr/local/bin')._\n \n \n-### 2. Configuration (config.json)\n+### 2. Configuration File\n \n-Basic Hipache configuration is described in a json file. For example, this is the configuration\n-file for the `master` version of Hipache (i.e. under development, you should rather look at the\n-documentation of the latest stable version you installed):\n+Basic Hipache configuration is described in a `config.json` file. For example,\n+this is the configuration file for the `master` version of Hipache (i.e. under\n+development, you should rather look at the documentation of the latest stable\n+version you installed):\n \n     {\n         \"server\": {\n-            \"accessLog\": \"/var/log/hipache_access.log\",\n-            \"workers\": 5,\n+            \"debug\": false,\n+            \"workers\": 10,\n             \"maxSockets\": 100,\n+            \"tcpTimeout\": 30,\n             \"deadBackendTTL\": 30,\n+            \"retryOnError\": 3,\n+            \"accessLog\": \"/var/log/hipache/access.log\",\n+            \"httpKeepAlive\": false,\n+            \"deadBackendOn500\": true,\n             \"staticDir\": null\n         },\n         \"http\": {\n             \"port\": 80,\n-            \"bind\": [\"127.0.0.1\", \"::1\"]\n+            \"bind\": [\"127.0.0.1\"]",
        "path": "README.md",
        "position": 92,
        "original_position": 94,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Is it correct to drop IPv6 here?\n",
        "created_at": "2014-12-25T08:35:19Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269725",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269725"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269725"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269768",
        "pull_request_review_id": null,
        "id": 22269768,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5NzY4",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy",
        "path": "README.md",
        "position": null,
        "original_position": 2,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Not sure I like capitalising each word in the headers, don't think it's really needed\n",
        "created_at": "2014-12-25T08:38:16Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269768",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269768"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269768"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269778",
        "pull_request_review_id": null,
        "id": 22269778,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5Nzc4",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy\n ===============================================\n \n-[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]  [![Dependency Status][depstat-image]][depstat-url] [![Coverage Status][coveralls-image]][coveralls-url] [![Code Climate][codeclimate-image]][codeclimate-url] [![Stories in Ready][waffle-image]][waffle-url]\n+[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]\n+[![Dependency Status][depstat-image]][depstat-url] [![Coverage\n+Status][coveralls-image]][coveralls-url] [![Code\n+Climate][codeclimate-image]][codeclimate-url] [![Stories in\n+Ready][waffle-image]][waffle-url]\n \n WARNING\n------------\n+-------\n \n-This is the documentation for `master`. If you are running **Hipache release**, you should look at\n-the documentation on the `0.3.x` branch.\n+This is the documentation for `master`. If you are running **Hipache release**,\n+you should look at the documentation on the `0.3.x` branch.\n \n \n-What is it?\n+What Is It?\n -----------\n \n-Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a distributed proxy designed to route high volumes of http and\n-websocket traffic to unusually large numbers of virtual hosts, in a highly\n-dynamic topology where backends are added and removed several times per second.\n-It is particularly well-suited for PaaS (platform-as-a-service) and other\n-environments that are both business-critical and multi-tenant.\n+Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a [fully-featured](#features) distributed\n+proxy designed to route high volumes of HTTP and WebSocket traffic to unusually\n+large numbers of virtual hosts, in a highly dynamic topology where backends are\n+added and removed several times per second.  It is particularly well-suited for\n+PaaS (Platform-as-a-Service) and other environments that are both\n+business-critical and multi-tenant.\n \n Hipache was originally developed at [dotCloud](http://www.dotcloud.com), a\n popular platform-as-a-service, to replace its first-generation routing layer\n-based on a heavily instrumented nginx deployment. It currently serves\n-production traffic for tens of thousands of applications hosted on dotCloud.\n-Hipache is based on the node-http-proxy library.\n+based on a heavily instrumented nginx deployment. It currently serves production\n+traffic for tens of thousands of applications hosted on dotCloud.  Hipache is\n+based on the [node-http-proxy](https://github.com/nodejitsu/node-http-proxy)\n+library.\n \n \n-Run it!\n+Run It!\n -------\n \n ### 1. Installation\n \n From the shell:\n \n-    $ npm install hipache -g\n+    $ npm install Hipache -g",
        "path": "README.md",
        "position": null,
        "original_position": 58,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Is this correct?  Capital `H`? \n",
        "created_at": "2014-12-25T08:39:39Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269778",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269778"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269778"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269797",
        "pull_request_review_id": null,
        "id": 22269797,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5Nzk3",
        "diff_hunk": "@@ -94,7 +153,7 @@ From the shell (defaults to using the `config/config.json` file):\n \n     $ hipache\n \n-If you use a privileged port (eg: 80):\n+If you use a privileged port (e.g. `80`):",
        "path": "README.md",
        "position": null,
        "original_position": 202,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Comma after e.g.; \"e.g., `80`\")\n",
        "created_at": "2014-12-25T08:41:19Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269797",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269797"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269797"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269822",
        "pull_request_review_id": null,
        "id": 22269822,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5ODIy",
        "diff_hunk": "@@ -118,57 +177,57 @@ configuration file in order to run the tests.\n     $ SETTINGS_FLAVOR=test hipache\n \n \n-### 4. Configuring a vhost (redis)\n+### 4. VHOST Configuration\n \n-All vhost configuration is managed through Redis. This makes it possible to\n-update the configuration dynamically and gracefully while the server is\n-running, and have that state shared across workers and even across Hipache instances.\n+All VHOST configuration is managed through a configuration backend (cf.\n+[drivers](#drivers)). This makes it possible to update the configuration\n+dynamically and gracefully while the server is running, and have that state\n+shared across workers and even across Hipache instances.\n \n-It also makes it simple to write configuration adapters. It would be trivial\n-to load a plain text configuration file into Redis (and update it at runtime).\n+The recommended backend to use is **Redis**. It also makes it simple to write\n+configuration adapters. It would be trivial to load a plain text configuration\n+file into Redis (and update it at runtime).\n \n Different configuration adapters will follow, but for the moment you have to\n provision the Redis manually.\n \n-Let's take an example, I want to proxify requests to 2 backends for the\n-hostname www.dotcloud.com. The 2 backends IP are 192.168.0.42 and 192.168.0.43\n-and they serve the HTTP traffic on the port 80.\n+Let's take an example, you want to proxify requests to 2 backends for the",
        "path": "README.md",
        "position": null,
        "original_position": 244,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Perhaps \"you want to\" -> \"to\"\n",
        "created_at": "2014-12-25T08:43:02Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269822",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269822"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269822"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269836",
        "pull_request_review_id": null,
        "id": 22269836,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjY5ODM2",
        "diff_hunk": "@@ -118,57 +177,57 @@ configuration file in order to run the tests.\n     $ SETTINGS_FLAVOR=test hipache\n \n \n-### 4. Configuring a vhost (redis)\n+### 4. VHOST Configuration\n \n-All vhost configuration is managed through Redis. This makes it possible to\n-update the configuration dynamically and gracefully while the server is\n-running, and have that state shared across workers and even across Hipache instances.\n+All VHOST configuration is managed through a configuration backend (cf.\n+[drivers](#drivers)). This makes it possible to update the configuration\n+dynamically and gracefully while the server is running, and have that state\n+shared across workers and even across Hipache instances.\n \n-It also makes it simple to write configuration adapters. It would be trivial\n-to load a plain text configuration file into Redis (and update it at runtime).\n+The recommended backend to use is **Redis**. It also makes it simple to write\n+configuration adapters. It would be trivial to load a plain text configuration\n+file into Redis (and update it at runtime).\n \n Different configuration adapters will follow, but for the moment you have to\n provision the Redis manually.\n \n-Let's take an example, I want to proxify requests to 2 backends for the\n-hostname www.dotcloud.com. The 2 backends IP are 192.168.0.42 and 192.168.0.43\n-and they serve the HTTP traffic on the port 80.\n+Let's take an example, you want to proxify requests to 2 backends for the\n+hostname `www.dotcloud.com`. The 2 backends IP are `192.168.0.42` and\n+`192.168.0.43` and they serve the HTTP traffic on the port `80`.\n \n `redis-cli` is the standard client tool to talk to Redis from the terminal.\n \n-Here are the steps I will follow:\n+Here are the steps you should follow:\n ",
        "path": "README.md",
        "position": null,
        "original_position": 252,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "thaJeztah",
            "id": 1804568,
            "node_id": "MDQ6VXNlcjE4MDQ1Njg=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1804568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thaJeztah",
            "html_url": "https://github.com/thaJeztah",
            "followers_url": "https://api.github.com/users/thaJeztah/followers",
            "following_url": "https://api.github.com/users/thaJeztah/following{/other_user}",
            "gists_url": "https://api.github.com/users/thaJeztah/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thaJeztah/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thaJeztah/subscriptions",
            "organizations_url": "https://api.github.com/users/thaJeztah/orgs",
            "repos_url": "https://api.github.com/users/thaJeztah/repos",
            "events_url": "https://api.github.com/users/thaJeztah/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thaJeztah/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Or simply \"Follow these steps:\"?\n",
        "created_at": "2014-12-25T08:44:14Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22269836",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22269836"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22269836"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22270807",
        "pull_request_review_id": null,
        "id": 22270807,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjcwODA3",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy\n ===============================================\n \n-[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]  [![Dependency Status][depstat-image]][depstat-url] [![Coverage Status][coveralls-image]][coveralls-url] [![Code Climate][codeclimate-image]][codeclimate-url] [![Stories in Ready][waffle-image]][waffle-url]\n+[![NPM version][npm-image]][npm-url] [![Build Status][travis-image]][travis-url]\n+[![Dependency Status][depstat-image]][depstat-url] [![Coverage\n+Status][coveralls-image]][coveralls-url] [![Code\n+Climate][codeclimate-image]][codeclimate-url] [![Stories in\n+Ready][waffle-image]][waffle-url]\n \n WARNING\n------------\n+-------\n \n-This is the documentation for `master`. If you are running **Hipache release**, you should look at\n-the documentation on the `0.3.x` branch.\n+This is the documentation for `master`. If you are running **Hipache release**,\n+you should look at the documentation on the `0.3.x` branch.\n \n \n-What is it?\n+What Is It?\n -----------\n \n-Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a distributed proxy designed to route high volumes of http and\n-websocket traffic to unusually large numbers of virtual hosts, in a highly\n-dynamic topology where backends are added and removed several times per second.\n-It is particularly well-suited for PaaS (platform-as-a-service) and other\n-environments that are both business-critical and multi-tenant.\n+Hipache (pronounce `h\u026a'p\u00e6t\u0283\u026a`) is a [fully-featured](#features) distributed\n+proxy designed to route high volumes of HTTP and WebSocket traffic to unusually\n+large numbers of virtual hosts, in a highly dynamic topology where backends are\n+added and removed several times per second.  It is particularly well-suited for\n+PaaS (Platform-as-a-Service) and other environments that are both\n+business-critical and multi-tenant.\n \n Hipache was originally developed at [dotCloud](http://www.dotcloud.com), a\n popular platform-as-a-service, to replace its first-generation routing layer\n-based on a heavily instrumented nginx deployment. It currently serves\n-production traffic for tens of thousands of applications hosted on dotCloud.\n-Hipache is based on the node-http-proxy library.\n+based on a heavily instrumented nginx deployment. It currently serves production\n+traffic for tens of thousands of applications hosted on dotCloud.  Hipache is\n+based on the [node-http-proxy](https://github.com/nodejitsu/node-http-proxy)\n+library.\n \n \n-Run it!\n+Run It!\n -------\n \n ### 1. Installation\n \n From the shell:\n \n-    $ npm install hipache -g\n+    $ npm install Hipache -g\n \n-*The '-g' option will make the 'hipache' bin-script available system-wide (usually linked from '/usr/local/bin')*\n+_The '-g' option will make the 'hipache' bin-script available system-wide\n+(usually linked from '/usr/local/bin')._\n \n \n-### 2. Configuration (config.json)\n+### 2. Configuration File\n \n-Basic Hipache configuration is described in a json file. For example, this is the configuration\n-file for the `master` version of Hipache (i.e. under development, you should rather look at the\n-documentation of the latest stable version you installed):\n+Basic Hipache configuration is described in a `config.json` file. For example,\n+this is the configuration file for the `master` version of Hipache (i.e. under\n+development, you should rather look at the documentation of the latest stable\n+version you installed):\n \n     {\n         \"server\": {\n-            \"accessLog\": \"/var/log/hipache_access.log\",\n-            \"workers\": 5,\n+            \"debug\": false,\n+            \"workers\": 10,\n             \"maxSockets\": 100,\n+            \"tcpTimeout\": 30,\n             \"deadBackendTTL\": 30,\n+            \"retryOnError\": 3,\n+            \"accessLog\": \"/var/log/hipache/access.log\",\n+            \"httpKeepAlive\": false,\n+            \"deadBackendOn500\": true,\n             \"staticDir\": null\n         },\n         \"http\": {\n             \"port\": 80,\n-            \"bind\": [\"127.0.0.1\", \"::1\"]\n+            \"bind\": [\"127.0.0.1\"]",
        "path": "README.md",
        "position": 92,
        "original_position": 94,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I put default values here.\n",
        "created_at": "2014-12-25T09:54:29Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22270807",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22270807"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22270807"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22270826",
        "pull_request_review_id": null,
        "id": 22270826,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjcwODI2",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy",
        "path": "README.md",
        "position": null,
        "original_position": 2,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It is a bit more readable IMO.\n",
        "created_at": "2014-12-25T09:55:42Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22270826",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22270826"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22270826"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22285972",
        "pull_request_review_id": null,
        "id": 22285972,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg1OTcy",
        "diff_hunk": "@@ -35,58 +41,111 @@ From the shell:\n \n     $ npm install hipache -g\n \n-*The '-g' option will make the 'hipache' bin-script available system-wide (usually linked from '/usr/local/bin')*\n+_The '-g' option will make the 'hipache' bin-script available system-wide\n+(usually linked from '/usr/local/bin')._\n \n \n-### 2. Configuration (config.json)\n+### 2. Configuration File\n \n-Basic Hipache configuration is described in a json file. For example, this is the configuration\n-file for the `master` version of Hipache (i.e. under development, you should rather look at the\n-documentation of the latest stable version you installed):\n+Basic Hipache configuration is described in a `config.json` file. For example,\n+this is the configuration file for the `master` version of Hipache (i.e. under\n+development, you should rather look at the documentation of the latest stable\n+version you installed):\n \n     {\n         \"server\": {\n-            \"accessLog\": \"/var/log/hipache_access.log\",\n-            \"workers\": 5,\n+            \"debug\": false,\n+            \"workers\": 10,\n             \"maxSockets\": 100,\n+            \"tcpTimeout\": 30,\n             \"deadBackendTTL\": 30,\n+            \"retryOnError\": 3,\n+            \"accessLog\": \"/var/log/hipache/access.log\",\n+            \"httpKeepAlive\": false,\n+            \"deadBackendOn500\": true,\n             \"staticDir\": null\n         },\n         \"http\": {\n             \"port\": 80,\n-            \"bind\": [\"127.0.0.1\", \"::1\"]\n+            \"bind\": [\"127.0.0.1\"]\n         },\n         \"https\": {\n+            \"bind\": [],\n             \"port\": 443,\n-            \"bind\": [\"127.0.0.1\", \"::1\"],\n+            \"ca\": [],\n+            \"secureProtocol\": \"SSLv23_method\",\n+            \"secureOptions\": \"SSL_OP_NO_SSLv3 | SSL_OP_NO_SSLv2\",",
        "path": "README.md",
        "position": null,
        "original_position": 100,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d67cd57552c2c613da62ef56b1db4ca98860955c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Will these work (secureProtocol and secureOptions)? I would say no.\n",
        "created_at": "2014-12-26T17:37:26Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22285972",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22285972"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22285972"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22286005",
        "pull_request_review_id": null,
        "id": 22286005,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg2MDA1",
        "diff_hunk": "@@ -35,58 +41,111 @@ From the shell:\n \n     $ npm install hipache -g\n \n-*The '-g' option will make the 'hipache' bin-script available system-wide (usually linked from '/usr/local/bin')*\n+_The '-g' option will make the 'hipache' bin-script available system-wide\n+(usually linked from '/usr/local/bin')._\n \n \n-### 2. Configuration (config.json)\n+### 2. Configuration File\n \n-Basic Hipache configuration is described in a json file. For example, this is the configuration\n-file for the `master` version of Hipache (i.e. under development, you should rather look at the\n-documentation of the latest stable version you installed):\n+Basic Hipache configuration is described in a `config.json` file. For example,\n+this is the configuration file for the `master` version of Hipache (i.e. under\n+development, you should rather look at the documentation of the latest stable\n+version you installed):\n \n     {\n         \"server\": {\n-            \"accessLog\": \"/var/log/hipache_access.log\",\n-            \"workers\": 5,\n+            \"debug\": false,\n+            \"workers\": 10,\n             \"maxSockets\": 100,\n+            \"tcpTimeout\": 30,\n             \"deadBackendTTL\": 30,\n+            \"retryOnError\": 3,\n+            \"accessLog\": \"/var/log/hipache/access.log\",\n+            \"httpKeepAlive\": false,\n+            \"deadBackendOn500\": true,\n             \"staticDir\": null\n         },\n         \"http\": {\n             \"port\": 80,\n-            \"bind\": [\"127.0.0.1\", \"::1\"]\n+            \"bind\": [\"127.0.0.1\"]\n         },\n         \"https\": {\n+            \"bind\": [],\n             \"port\": 443,\n-            \"bind\": [\"127.0.0.1\", \"::1\"],\n+            \"ca\": [],\n+            \"secureProtocol\": \"SSLv23_method\",\n+            \"secureOptions\": \"SSL_OP_NO_SSLv3 | SSL_OP_NO_SSLv2\",",
        "path": "README.md",
        "position": null,
        "original_position": 100,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d67cd57552c2c613da62ef56b1db4ca98860955c",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Secure protocol: yes, secure options nope.. Raw values must be provided.\n",
        "created_at": "2014-12-26T17:40:16Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22286005",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22286005"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22286005"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22286008",
        "pull_request_review_id": null,
        "id": 22286008,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg2MDA4",
        "diff_hunk": "@@ -35,58 +41,111 @@ From the shell:\n \n     $ npm install hipache -g\n \n-*The '-g' option will make the 'hipache' bin-script available system-wide (usually linked from '/usr/local/bin')*\n+_The '-g' option will make the 'hipache' bin-script available system-wide\n+(usually linked from '/usr/local/bin')._\n \n \n-### 2. Configuration (config.json)\n+### 2. Configuration File\n \n-Basic Hipache configuration is described in a json file. For example, this is the configuration\n-file for the `master` version of Hipache (i.e. under development, you should rather look at the\n-documentation of the latest stable version you installed):\n+Basic Hipache configuration is described in a `config.json` file. For example,\n+this is the configuration file for the `master` version of Hipache (i.e. under\n+development, you should rather look at the documentation of the latest stable\n+version you installed):\n \n     {\n         \"server\": {\n-            \"accessLog\": \"/var/log/hipache_access.log\",\n-            \"workers\": 5,\n+            \"debug\": false,\n+            \"workers\": 10,\n             \"maxSockets\": 100,\n+            \"tcpTimeout\": 30,\n             \"deadBackendTTL\": 30,\n+            \"retryOnError\": 3,\n+            \"accessLog\": \"/var/log/hipache/access.log\",\n+            \"httpKeepAlive\": false,\n+            \"deadBackendOn500\": true,\n             \"staticDir\": null\n         },\n         \"http\": {\n             \"port\": 80,\n-            \"bind\": [\"127.0.0.1\", \"::1\"]\n+            \"bind\": [\"127.0.0.1\"]\n         },\n         \"https\": {\n+            \"bind\": [],\n             \"port\": 443,\n-            \"bind\": [\"127.0.0.1\", \"::1\"],\n+            \"ca\": [],\n+            \"secureProtocol\": \"SSLv23_method\",\n+            \"secureOptions\": \"SSL_OP_NO_SSLv3 | SSL_OP_NO_SSLv2\",",
        "path": "README.md",
        "position": null,
        "original_position": 100,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d67cd57552c2c613da62ef56b1db4ca98860955c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ok for secureProtocol\n",
        "created_at": "2014-12-26T17:40:29Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22286008",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22286008"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22286008"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287615",
        "pull_request_review_id": null,
        "id": 22287615,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3NjE1",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy",
        "path": "README.md",
        "position": null,
        "original_position": 2,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Good English capitalization rules for titles over here: https://wiki.musicbrainz.org/Style/Language/English\n",
        "created_at": "2014-12-26T19:57:29Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22287615",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287615"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22287615"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287784",
        "pull_request_review_id": null,
        "id": 22287784,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg3Nzg0",
        "diff_hunk": "@@ -1,92 +1,151 @@\n-Hipache: a distributed HTTP and websocket proxy\n+Hipache: A Distributed HTTP And WebSocket Proxy",
        "path": "README.md",
        "position": null,
        "original_position": 2,
        "commit_id": "b045fd059f153b4873f3f27a59f572fd9e2c8038",
        "original_commit_id": "d7fe5d78e778edc19aade06e387cf0c1ead1df22",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Wonderful! Thank you for sharing this. I slightly updated the README.\n",
        "created_at": "2014-12-26T20:09:48Z",
        "updated_at": "2014-12-26T22:37:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/189#discussion_r22287784",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/189",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22287784"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/189#discussion_r22287784"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/189"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22289461",
        "pull_request_review_id": null,
        "id": 22289461,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg5NDYx",
        "diff_hunk": "@@ -397,6 +397,20 @@ Worker.prototype.runServer = function (config) {\n         });\n     }.bind(this);\n \n+    var forceHttpsHandler = function (req, res) {\n+        if (!req.headers.host) {\n+            return errorMessage(res, 'No host header found', 400);\n+        }\n+\n+        var host = req.headers.host\n+            .replace(config.http.port, config.https.port)",
        "path": "lib/worker.js",
        "position": 10,
        "original_position": 10,
        "commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "original_commit_id": "bb259a36b762c43c51ac0be85a1d81b4549a56b1",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "> Also, is config.https always defined?\n\nShould we fail or default to `443`?\n",
        "created_at": "2014-12-26T22:40:40Z",
        "updated_at": "2014-12-26T22:40:40Z",
        "html_url": "https://github.com/hipache/hipache/pull/172#discussion_r22289461",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/172",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22289461"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/172#discussion_r22289461"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/172"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22290686",
        "pull_request_review_id": null,
        "id": 22290686,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjkwNjg2",
        "diff_hunk": "@@ -150,6 +150,14 @@ Worker.prototype.runServer = function (config) {\n         if (req.headers['x-forwarded-for'] === undefined) {\n             req.headers['x-forwarded-for'] = remoteAddr;\n         }\n+        else{\n+            // extend existing list of clients forwarded for\n+            // http://en.wikipedia.org/wiki/X-Forwarded-For\n+            // > The general format of the field is:\n+            // > X-Forwarded-For: client, proxy1, proxy2\n+            // > where the value is a comma+space separated list of IP addresses\n+            req.headers['x-forwarded-for'] += (\", \"+remoteAddr);\n+        }",
        "path": "lib/worker.js",
        "position": 11,
        "original_position": 11,
        "commit_id": "1c2f2110ba445b785e42f9872b722f1cc27e1133",
        "original_commit_id": "1c2f2110ba445b785e42f9872b722f1cc27e1133",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Looser coerce:\n\n```\nif (req.headers['x-forwarded-for']{\n  req.headers['x-forwarded-for'] += \", \" + remoteAddr;\n}else{\n  req.headers['x-forwarded-for'] = remoteAddr;\n}\n```\n",
        "created_at": "2014-12-27T02:26:08Z",
        "updated_at": "2014-12-27T02:26:08Z",
        "html_url": "https://github.com/hipache/hipache/pull/168#discussion_r22290686",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/168",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22290686"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/168#discussion_r22290686"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/168"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22537554",
        "pull_request_review_id": null,
        "id": 22537554,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM3NTU0",
        "diff_hunk": "@@ -32,7 +32,11 @@\n         process.env.ZOO_LOG_DIR = process.env.HOME + '/zookeeper/';\n \n         // Zookeeper needs time to take-off the ground :(\n-        s1.start(['start-foreground', process.env.HOME + '/zookeeper/zoo.cfg']).once('started', done);\n+        s1.start(['start-foreground', process.env.HOME + '/zookeeper/zoo.cfg'])\n+          .once('started', done)\n+          .once('error', function(err) {",
        "path": "test/unit/driver-zookeeper.js",
        "position": null,
        "original_position": 7,
        "commit_id": "493b2c576e430e50d046b04596e9cdf2003a1578",
        "original_commit_id": "cf2dc9b8015fceea1aed078bd59011aadbcf469b",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I would rather let this as it previously was instead of bubbling up the error (at least for now, and while the other servers don't bubble either).\n",
        "created_at": "2015-01-06T17:44:33Z",
        "updated_at": "2015-01-06T17:55:46Z",
        "html_url": "https://github.com/hipache/hipache/pull/204#discussion_r22537554",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/204",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22537554"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/204#discussion_r22537554"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/204"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538319",
        "pull_request_review_id": null,
        "id": 22538319,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM4MzE5",
        "diff_hunk": "@@ -32,7 +32,11 @@\n         process.env.ZOO_LOG_DIR = process.env.HOME + '/zookeeper/';\n \n         // Zookeeper needs time to take-off the ground :(\n-        s1.start(['start-foreground', process.env.HOME + '/zookeeper/zoo.cfg']).once('started', done);\n+        s1.start(['start-foreground', process.env.HOME + '/zookeeper/zoo.cfg'])\n+          .once('started', done)\n+          .once('error', function(err) {",
        "path": "test/unit/driver-zookeeper.js",
        "position": null,
        "original_position": 7,
        "commit_id": "493b2c576e430e50d046b04596e9cdf2003a1578",
        "original_commit_id": "cf2dc9b8015fceea1aed078bd59011aadbcf469b",
        "user": {
            "login": "msabramo",
            "id": 305268,
            "node_id": "MDQ6VXNlcjMwNTI2OA==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msabramo",
            "html_url": "https://github.com/msabramo",
            "followers_url": "https://api.github.com/users/msabramo/followers",
            "following_url": "https://api.github.com/users/msabramo/following{/other_user}",
            "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions",
            "organizations_url": "https://api.github.com/users/msabramo/orgs",
            "repos_url": "https://api.github.com/users/msabramo/repos",
            "events_url": "https://api.github.com/users/msabramo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msabramo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.\n\n```\n\u276f git push -f msabramo better_error_when_zookeeper_fails_to_spawn\nCounting objects: 3, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (3/3), 675 bytes | 0 bytes/s, done.\nTotal 3 (delta 2), reused 0 (delta 0)\nTo git@github.com:msabramo/hipache.git\n + cf2dc9b...493b2c5 better_error_when_zookeeper_fails_to_spawn -> better_error_when_zookeeper_fails_to_spawn (forced update)\n```\n",
        "created_at": "2015-01-06T17:56:03Z",
        "updated_at": "2015-01-06T17:56:03Z",
        "html_url": "https://github.com/hipache/hipache/pull/204#discussion_r22538319",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/204",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538319"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/204#discussion_r22538319"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/204"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538250",
        "pull_request_review_id": null,
        "id": 22538250,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM4MjUw",
        "diff_hunk": "@@ -20,12 +21,19 @@\n \n \n     var s1 = new Server();\n+    var serverTemp = './tmp/etcd-test';",
        "path": "test/unit/driver-etcd.js",
        "position": null,
        "original_position": 12,
        "commit_id": "b751fac694e1d9af9521884c12c6868fc6560612",
        "original_commit_id": "631ff099d6759e9710e7cac708a8f50cb0bba58f",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Does Node provide a function to create/get temporary directories, no matter the OS?\n",
        "created_at": "2015-01-06T17:55:05Z",
        "updated_at": "2015-01-06T21:28:22Z",
        "html_url": "https://github.com/hipache/hipache/pull/203#discussion_r22538250",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/203",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538250"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/203#discussion_r22538250"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/203"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538296",
        "pull_request_review_id": null,
        "id": 22538296,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM4Mjk2",
        "diff_hunk": "@@ -41,6 +41,7 @@\n         [\n         // Simple\n             ['memcached://:9001'],\n+            ['memcached://:9002'],",
        "path": "test/unit/driver-memcached.js",
        "position": null,
        "original_position": 4,
        "commit_id": "b751fac694e1d9af9521884c12c6868fc6560612",
        "original_commit_id": "631ff099d6759e9710e7cac708a8f50cb0bba58f",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "mh, why?\n",
        "created_at": "2015-01-06T17:55:38Z",
        "updated_at": "2015-01-06T21:28:22Z",
        "html_url": "https://github.com/hipache/hipache/pull/203#discussion_r22538296",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/203",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22538296"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/203#discussion_r22538296"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/203"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22542190",
        "pull_request_review_id": null,
        "id": 22542190,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTQyMTkw",
        "diff_hunk": "@@ -20,12 +21,19 @@\n \n \n     var s1 = new Server();\n+    var serverTemp = './tmp/etcd-test';",
        "path": "test/unit/driver-etcd.js",
        "position": null,
        "original_position": 12,
        "commit_id": "b751fac694e1d9af9521884c12c6868fc6560612",
        "original_commit_id": "631ff099d6759e9710e7cac708a8f50cb0bba58f",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yeah, I still need my morning coffee.\n",
        "created_at": "2015-01-06T18:51:29Z",
        "updated_at": "2015-01-06T21:28:22Z",
        "html_url": "https://github.com/hipache/hipache/pull/203#discussion_r22542190",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/203",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22542190"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/203#discussion_r22542190"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/203"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22560354",
        "pull_request_review_id": null,
        "id": 22560354,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTYwMzU0",
        "diff_hunk": "@@ -23,6 +23,7 @@\n     var s1 = new Server();\n \n     before(function (done) {\n+        this.timeout(8000);",
        "path": "test/unit/driver-zookeeper.js",
        "position": 4,
        "original_position": 4,
        "commit_id": "aa9b9ae7ed5147cb38b16fbaf6571b349323ce9b",
        "original_commit_id": "aa9b9ae7ed5147cb38b16fbaf6571b349323ce9b",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "could be poll the service rather than setting a value?\n",
        "created_at": "2015-01-06T23:18:11Z",
        "updated_at": "2015-01-06T23:18:11Z",
        "html_url": "https://github.com/hipache/hipache/pull/207#discussion_r22560354",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/207",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22560354"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/207#discussion_r22560354"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/207"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22571787",
        "pull_request_review_id": null,
        "id": 22571787,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTcxNzg3",
        "diff_hunk": "@@ -7,9 +7,38 @@\n \n     var Generic = require('./generic');\n     var util = require('util');\n+    var exec = require('child_process').exec;\n+\n+    var service = 'zkServer.sh';\n \n     var Zookeeper = function () {\n-        Generic.apply(this, ['zkServer.sh', []]);\n+        Generic.apply(this, [service, ['start']]);\n+        // Zookeeper happily outputs to stderr, so, shut it up\n+        this.mute = true;\n+\n+        var derefStart = this.start;\n+\n+        this.start = function () {\n+            var passargs = arguments;\n+            exec('which ' + service, function (error/*, stdout, stderr*/) {\n+                // Assume brew osx install in case we didn't find it\n+                if (error) {\n+                    service = 'zkServer';\n+                }\n+                // Rebind now\n+                this.setCommand(service);\n+                // And start\n+                derefStart.apply(this, passargs);\n+            }.bind(this));\n+            return this;\n+        };\n+\n+        this.stop = function () {\n+            Generic.apply(this, [service, ['stop']]);\n+            this.mute = true;\n+            this.start();",
        "path": "test/fixtures/servers/zookeeper.js",
        "position": 34,
        "original_position": 34,
        "commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "original_commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "user": {
            "login": "msabramo",
            "id": 305268,
            "node_id": "MDQ6VXNlcjMwNTI2OA==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msabramo",
            "html_url": "https://github.com/msabramo",
            "followers_url": "https://api.github.com/users/msabramo/followers",
            "following_url": "https://api.github.com/users/msabramo/following{/other_user}",
            "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions",
            "organizations_url": "https://api.github.com/users/msabramo/orgs",
            "repos_url": "https://api.github.com/users/msabramo/repos",
            "events_url": "https://api.github.com/users/msabramo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msabramo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why does it call `this.start()`?\n",
        "created_at": "2015-01-07T05:43:00Z",
        "updated_at": "2015-01-07T05:43:00Z",
        "html_url": "https://github.com/hipache/hipache/pull/210#discussion_r22571787",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/210",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22571787"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/210#discussion_r22571787"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/210"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22571792",
        "pull_request_review_id": null,
        "id": 22571792,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTcxNzky",
        "diff_hunk": "@@ -7,9 +7,38 @@\n \n     var Generic = require('./generic');\n     var util = require('util');\n+    var exec = require('child_process').exec;\n+\n+    var service = 'zkServer.sh';\n \n     var Zookeeper = function () {\n-        Generic.apply(this, ['zkServer.sh', []]);\n+        Generic.apply(this, [service, ['start']]);\n+        // Zookeeper happily outputs to stderr, so, shut it up\n+        this.mute = true;\n+\n+        var derefStart = this.start;\n+\n+        this.start = function () {\n+            var passargs = arguments;\n+            exec('which ' + service, function (error/*, stdout, stderr*/) {\n+                // Assume brew osx install in case we didn't find it",
        "path": "test/fixtures/servers/zookeeper.js",
        "position": 19,
        "original_position": 19,
        "commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "original_commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "user": {
            "login": "msabramo",
            "id": 305268,
            "node_id": "MDQ6VXNlcjMwNTI2OA==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msabramo",
            "html_url": "https://github.com/msabramo",
            "followers_url": "https://api.github.com/users/msabramo/followers",
            "following_url": "https://api.github.com/users/msabramo/following{/other_user}",
            "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions",
            "organizations_url": "https://api.github.com/users/msabramo/orgs",
            "repos_url": "https://api.github.com/users/msabramo/repos",
            "events_url": "https://api.github.com/users/msabramo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msabramo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Nice, thank you for adding this check for `zkServer` instead of `zkServer.sh` on brew osx install!\n",
        "created_at": "2015-01-07T05:43:32Z",
        "updated_at": "2015-01-07T05:43:32Z",
        "html_url": "https://github.com/hipache/hipache/pull/210#discussion_r22571792",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/210",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22571792"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/210#discussion_r22571792"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/210"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/22602512",
        "pull_request_review_id": null,
        "id": 22602512,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjAyNTEy",
        "diff_hunk": "@@ -7,9 +7,38 @@\n \n     var Generic = require('./generic');\n     var util = require('util');\n+    var exec = require('child_process').exec;\n+\n+    var service = 'zkServer.sh';\n \n     var Zookeeper = function () {\n-        Generic.apply(this, ['zkServer.sh', []]);\n+        Generic.apply(this, [service, ['start']]);\n+        // Zookeeper happily outputs to stderr, so, shut it up\n+        this.mute = true;\n+\n+        var derefStart = this.start;\n+\n+        this.start = function () {\n+            var passargs = arguments;\n+            exec('which ' + service, function (error/*, stdout, stderr*/) {\n+                // Assume brew osx install in case we didn't find it\n+                if (error) {\n+                    service = 'zkServer';\n+                }\n+                // Rebind now\n+                this.setCommand(service);\n+                // And start\n+                derefStart.apply(this, passargs);\n+            }.bind(this));\n+            return this;\n+        };\n+\n+        this.stop = function () {\n+            Generic.apply(this, [service, ['stop']]);\n+            this.mute = true;\n+            this.start();",
        "path": "test/fixtures/servers/zookeeper.js",
        "position": 34,
        "original_position": 34,
        "commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "original_commit_id": "549e0c973e6a16684082ca669895780a3b9e447c",
        "user": {
            "login": "dmp42",
            "id": 332946,
            "node_id": "MDQ6VXNlcjMzMjk0Ng==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/332946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmp42",
            "html_url": "https://github.com/dmp42",
            "followers_url": "https://api.github.com/users/dmp42/followers",
            "following_url": "https://api.github.com/users/dmp42/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmp42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmp42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmp42/subscriptions",
            "organizations_url": "https://api.github.com/users/dmp42/orgs",
            "repos_url": "https://api.github.com/users/dmp42/repos",
            "events_url": "https://api.github.com/users/dmp42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmp42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I know - confusing enough...\n\nThere is two different process here - `zkserver start` and `zkserver stop` and both need to be \"started\"...\n",
        "created_at": "2015-01-07T17:59:53Z",
        "updated_at": "2015-01-07T17:59:53Z",
        "html_url": "https://github.com/hipache/hipache/pull/210#discussion_r22602512",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/210",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/22602512"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/210#discussion_r22602512"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/210"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/29027567",
        "pull_request_review_id": null,
        "id": 29027567,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MDI3NTY3",
        "diff_hunk": "@@ -0,0 +1,28 @@\n+{\n+  \"name\": \"hipache\",\n+  \"version\": \"0.4.0\",",
        "path": "npm-shrinkwrap.json",
        "position": 3,
        "original_position": 3,
        "commit_id": "63a77bc3a1359a11ff335091af11c38a3ab58f25",
        "original_commit_id": "63a77bc3a1359a11ff335091af11c38a3ab58f25",
        "user": {
            "login": "willdurand",
            "id": 217628,
            "node_id": "MDQ6VXNlcjIxNzYyOA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/217628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willdurand",
            "html_url": "https://github.com/willdurand",
            "followers_url": "https://api.github.com/users/willdurand/followers",
            "following_url": "https://api.github.com/users/willdurand/following{/other_user}",
            "gists_url": "https://api.github.com/users/willdurand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willdurand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willdurand/subscriptions",
            "organizations_url": "https://api.github.com/users/willdurand/orgs",
            "repos_url": "https://api.github.com/users/willdurand/repos",
            "events_url": "https://api.github.com/users/willdurand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willdurand/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "not sure about this version number\n",
        "created_at": "2015-04-24T06:59:41Z",
        "updated_at": "2015-04-24T06:59:41Z",
        "html_url": "https://github.com/hipache/hipache/pull/224#discussion_r29027567",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/224",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/29027567"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/224#discussion_r29027567"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/224"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/hipache/hipache/pulls/comments/29029448",
        "pull_request_review_id": null,
        "id": 29029448,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MDI5NDQ4",
        "diff_hunk": "@@ -0,0 +1,28 @@\n+{\n+  \"name\": \"hipache\",\n+  \"version\": \"0.4.0\",",
        "path": "npm-shrinkwrap.json",
        "position": 3,
        "original_position": 3,
        "commit_id": "63a77bc3a1359a11ff335091af11c38a3ab58f25",
        "original_commit_id": "63a77bc3a1359a11ff335091af11c38a3ab58f25",
        "user": {
            "login": "nathwill",
            "id": 371597,
            "node_id": "MDQ6VXNlcjM3MTU5Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/371597?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nathwill",
            "html_url": "https://github.com/nathwill",
            "followers_url": "https://api.github.com/users/nathwill/followers",
            "following_url": "https://api.github.com/users/nathwill/following{/other_user}",
            "gists_url": "https://api.github.com/users/nathwill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nathwill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nathwill/subscriptions",
            "organizations_url": "https://api.github.com/users/nathwill/orgs",
            "repos_url": "https://api.github.com/users/nathwill/repos",
            "events_url": "https://api.github.com/users/nathwill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nathwill/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "this PR is against master, it just uses the version from package.json. i've got another branch for the 0.3.x release, but there's no branch to submit a PR against, so it's idling over on my fork for now.\n",
        "created_at": "2015-04-24T07:30:38Z",
        "updated_at": "2015-04-24T07:30:38Z",
        "html_url": "https://github.com/hipache/hipache/pull/224#discussion_r29029448",
        "pull_request_url": "https://api.github.com/repos/hipache/hipache/pulls/224",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/comments/29029448"
            },
            "html": {
                "href": "https://github.com/hipache/hipache/pull/224#discussion_r29029448"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/hipache/hipache/pulls/224"
            }
        }
    }
]