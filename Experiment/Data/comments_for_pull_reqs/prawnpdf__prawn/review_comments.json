[
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355972",
        "pull_request_review_id": null,
        "id": 2355972,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTU5NzI=",
        "diff_hunk": "@@ -160,7 +160,7 @@ def dimensions\n \n       def init_from_object(options)\n         @dictionary = options[:object_id].to_i\n-        dictionary.data[:Parent] = document.state.store.pages\n+        # dictionary.data[:Parent] = document.state.store.pages",
        "path": "lib/prawn/core/page.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "original_commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "user": {
            "login": "yob",
            "id": 8132,
            "node_id": "MDQ6VXNlcjgxMzI=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/8132?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yob",
            "html_url": "https://github.com/yob",
            "followers_url": "https://api.github.com/users/yob/followers",
            "following_url": "https://api.github.com/users/yob/following{/other_user}",
            "gists_url": "https://api.github.com/users/yob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yob/subscriptions",
            "organizations_url": "https://api.github.com/users/yob/orgs",
            "repos_url": "https://api.github.com/users/yob/repos",
            "events_url": "https://api.github.com/users/yob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yob/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why does this line get commented out?\n",
        "created_at": "2012-12-08T02:07:45Z",
        "updated_at": "2012-12-08T02:07:45Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355972",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/314",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355972"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355972"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/314"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355978",
        "pull_request_review_id": null,
        "id": 2355978,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTU5Nzg=",
        "diff_hunk": "@@ -391,7 +391,7 @@\n     pages[1][:strings].should == [\"Hello\", \"World\"]\n   end\n \n-  it \"should raise CannotGroup if the content is too tall\" do\n+  xit \"should raise CannotGroup if the content is too tall\" do",
        "path": "spec/document_spec.rb",
        "position": 14,
        "original_position": 14,
        "commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "original_commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "user": {
            "login": "yob",
            "id": 8132,
            "node_id": "MDQ6VXNlcjgxMzI=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/8132?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yob",
            "html_url": "https://github.com/yob",
            "followers_url": "https://api.github.com/users/yob/followers",
            "following_url": "https://api.github.com/users/yob/following{/other_user}",
            "gists_url": "https://api.github.com/users/yob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yob/subscriptions",
            "organizations_url": "https://api.github.com/users/yob/orgs",
            "repos_url": "https://api.github.com/users/yob/repos",
            "events_url": "https://api.github.com/users/yob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yob/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "If a spec is no longer valid due to the code changes, please remove it instead of using xit\n",
        "created_at": "2012-12-08T02:08:53Z",
        "updated_at": "2012-12-08T02:08:53Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355978",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/314",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355978"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355978"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/314"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355979",
        "pull_request_review_id": null,
        "id": 2355979,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTU5Nzk=",
        "diff_hunk": "@@ -177,7 +177,7 @@\n describe \"Document#start_new_page with :template option\" do\n   filename = \"#{Prawn::BASEDIR}/spec/data/curves.pdf\"\n   \n-  it \"should set the imported page's parent to the document pages catalog\" do\n+  xit \"should set the imported page's parent to the document pages catalog\" do",
        "path": "spec/template_spec.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "original_commit_id": "930d7dcce780417b5e06bb300601c617b9189abc",
        "user": {
            "login": "yob",
            "id": 8132,
            "node_id": "MDQ6VXNlcjgxMzI=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/8132?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yob",
            "html_url": "https://github.com/yob",
            "followers_url": "https://api.github.com/users/yob/followers",
            "following_url": "https://api.github.com/users/yob/following{/other_user}",
            "gists_url": "https://api.github.com/users/yob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yob/subscriptions",
            "organizations_url": "https://api.github.com/users/yob/orgs",
            "repos_url": "https://api.github.com/users/yob/repos",
            "events_url": "https://api.github.com/users/yob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yob/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Are we opening ourselves up to regressions by disabling this spec?\n",
        "created_at": "2012-12-08T02:09:14Z",
        "updated_at": "2012-12-08T02:09:14Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355979",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/314",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/2355979"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/314#discussion_r2355979"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/314"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3129599",
        "pull_request_review_id": null,
        "id": 3129599,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjk1OTk=",
        "diff_hunk": "@@ -0,0 +1,148 @@\n+# encoding: utf-8\n+\n+# prawn/core/filters.rb : Implements stream filters\n+#\n+# Copyright February 2013, Alexander Mankuta.  All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+\n+require 'zlib'\n+\n+module Prawn\n+  module Core\n+    module Filters\n+      module ASCIIHexDecode\n+        def self.encode(stream)\n+          result = ''\n+\n+          stream.each_byte do |byte|\n+            result << byte.to_s(16)\n+          end\n+\n+          result + '>'\n+        end\n+\n+        def self.decode(stream)\n+          result = ''\n+\n+          data = stream.gsub(/[\\x00\\x09\\x0a\\x0c\\x0d\\x20]/, '') # Whitespaces are ignored\n+          if data =~ />/\n+            data = data.split('>')[0] # Decode up untill EOD marker\n+            if data.length.odd?\n+              data << '0'\n+            end\n+          end\n+\n+          if data =~ /[^0-9a-fA-F]/\n+            raise \"ASCIIHexDecode filter encountered unexpected data in stream\"\n+          end\n+\n+          data.scan(/../).each do |hex|\n+            result << hex.to_i(16)\n+          end\n+\n+          result\n+        end\n+      end\n+\n+      module ASCII85Decode",
        "path": "lib/prawn/core/filters.rb",
        "position": null,
        "original_position": 48,
        "commit_id": "71a08e5d82917bf553327f67a2ed870c59c9e918",
        "original_commit_id": "24a1e44145d6d87c4fed1cc2e0017288d7ca517d",
        "user": {
            "login": "yob",
            "id": 8132,
            "node_id": "MDQ6VXNlcjgxMzI=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/8132?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yob",
            "html_url": "https://github.com/yob",
            "followers_url": "https://api.github.com/users/yob/followers",
            "following_url": "https://api.github.com/users/yob/following{/other_user}",
            "gists_url": "https://api.github.com/users/yob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yob/subscriptions",
            "organizations_url": "https://api.github.com/users/yob/orgs",
            "repos_url": "https://api.github.com/users/yob/repos",
            "events_url": "https://api.github.com/users/yob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yob/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "The Ascii85 gem is an indirect dependency via pdf-reader. Maybe this class should just delegate to that?\n",
        "created_at": "2013-02-24T22:10:25Z",
        "updated_at": "2013-03-03T15:22:59Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/446#discussion_r3129599",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/446",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3129599"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/446#discussion_r3129599"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/446"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3286899",
        "pull_request_review_id": null,
        "id": 3286899,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyODY4OTk=",
        "diff_hunk": "@@ -0,0 +1,18 @@\n+#!/bin/sh\n+\n+# Set up the prawn pdf site. Run this script immediately after cloning the codebase.\n+\n+# We need bundler to get up and running\n+\n+if ! which -s bundle; then\n+  gem install bundler\n+fi\n+\n+# Set up Ruby dependencies\n+bundle install\n+\n+# Set up upstream git remote\n+git remote add upstream git://github.com/mission-of-mercy/mission-of-mercy.git",
        "path": "bin/setup",
        "position": null,
        "original_position": 15,
        "commit_id": "f6cec9187dc68e47a691eb8c902860c6281d8135",
        "original_commit_id": "42a0c7b496a57dc2db509b370410cc89c53e6f3b",
        "user": {
            "login": "bradediger",
            "id": 4621,
            "node_id": "MDQ6VXNlcjQ2MjE=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/4621?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradediger",
            "html_url": "https://github.com/bradediger",
            "followers_url": "https://api.github.com/users/bradediger/followers",
            "following_url": "https://api.github.com/users/bradediger/following{/other_user}",
            "gists_url": "https://api.github.com/users/bradediger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bradediger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bradediger/subscriptions",
            "organizations_url": "https://api.github.com/users/bradediger/orgs",
            "repos_url": "https://api.github.com/users/bradediger/repos",
            "events_url": "https://api.github.com/users/bradediger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bradediger/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": ":frowning: \n",
        "created_at": "2013-03-07T19:48:36Z",
        "updated_at": "2013-03-07T19:51:25Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/457#discussion_r3286899",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/457",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3286899"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/457#discussion_r3286899"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/457"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3286928",
        "pull_request_review_id": null,
        "id": 3286928,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyODY5Mjg=",
        "diff_hunk": "@@ -0,0 +1,18 @@\n+#!/bin/sh\n+\n+# Set up the prawn pdf site. Run this script immediately after cloning the codebase.\n+\n+# We need bundler to get up and running\n+\n+if ! which -s bundle; then\n+  gem install bundler\n+fi\n+\n+# Set up Ruby dependencies\n+bundle install\n+\n+# Set up upstream git remote\n+git remote add upstream git://github.com/mission-of-mercy/mission-of-mercy.git",
        "path": "bin/setup",
        "position": null,
        "original_position": 15,
        "commit_id": "f6cec9187dc68e47a691eb8c902860c6281d8135",
        "original_commit_id": "42a0c7b496a57dc2db509b370410cc89c53e6f3b",
        "user": {
            "login": "jordanbyron",
            "id": 40662,
            "node_id": "MDQ6VXNlcjQwNjYy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/40662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jordanbyron",
            "html_url": "https://github.com/jordanbyron",
            "followers_url": "https://api.github.com/users/jordanbyron/followers",
            "following_url": "https://api.github.com/users/jordanbyron/following{/other_user}",
            "gists_url": "https://api.github.com/users/jordanbyron/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jordanbyron/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jordanbyron/subscriptions",
            "organizations_url": "https://api.github.com/users/jordanbyron/orgs",
            "repos_url": "https://api.github.com/users/jordanbyron/repos",
            "events_url": "https://api.github.com/users/jordanbyron/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jordanbyron/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Damn it. You've discovered subversive attempts to get more pull request for mission of mercy. Orrr perhaps my copy paste skills are lacking.\n",
        "created_at": "2013-03-07T19:49:47Z",
        "updated_at": "2013-03-07T19:51:25Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/457#discussion_r3286928",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/457",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3286928"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/457#discussion_r3286928"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/457"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3243062",
        "pull_request_review_id": null,
        "id": 3243062,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDMwNjI=",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+# encoding: utf-8\n+#\n+# font.rb : The Prawn font class\n+#\n+# Copyright Dec 2012, Kenneth Kalmer. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+\n+  class Document\n+\n+    private\n+\n+    def font_metric_cache #:nodoc:",
        "path": "lib/prawn/font_metric_cache.rb",
        "position": null,
        "original_position": 16,
        "commit_id": "8aec8f8b3618651a093fef8c50296850a30c09c6",
        "original_commit_id": "80ce29479f490ea70fc02131c68dfedff3903710",
        "user": {
            "login": "bradediger",
            "id": 4621,
            "node_id": "MDQ6VXNlcjQ2MjE=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/4621?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradediger",
            "html_url": "https://github.com/bradediger",
            "followers_url": "https://api.github.com/users/bradediger/followers",
            "following_url": "https://api.github.com/users/bradediger/following{/other_user}",
            "gists_url": "https://api.github.com/users/bradediger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bradediger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bradediger/subscriptions",
            "organizations_url": "https://api.github.com/users/bradediger/orgs",
            "repos_url": "https://api.github.com/users/bradediger/repos",
            "events_url": "https://api.github.com/users/bradediger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bradediger/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@kennethkalmer I'd like to see this method in `lib/prawn/document.rb`, rather than reopening Document here.\n",
        "created_at": "2013-03-05T14:02:13Z",
        "updated_at": "2013-10-17T17:25:18Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/430#discussion_r3243062",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/430",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3243062"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/430#discussion_r3243062"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/430"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3257545",
        "pull_request_review_id": null,
        "id": 3257545,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNTc1NDU=",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+# encoding: utf-8\n+#\n+# font.rb : The Prawn font class\n+#\n+# Copyright Dec 2012, Kenneth Kalmer. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+\n+  class Document\n+\n+    private\n+\n+    def font_metric_cache #:nodoc:",
        "path": "lib/prawn/font_metric_cache.rb",
        "position": null,
        "original_position": 16,
        "commit_id": "8aec8f8b3618651a093fef8c50296850a30c09c6",
        "original_commit_id": "80ce29479f490ea70fc02131c68dfedff3903710",
        "user": {
            "login": "kennethkalmer",
            "id": 8756,
            "node_id": "MDQ6VXNlcjg3NTY=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/8756?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kennethkalmer",
            "html_url": "https://github.com/kennethkalmer",
            "followers_url": "https://api.github.com/users/kennethkalmer/followers",
            "following_url": "https://api.github.com/users/kennethkalmer/following{/other_user}",
            "gists_url": "https://api.github.com/users/kennethkalmer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kennethkalmer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kennethkalmer/subscriptions",
            "organizations_url": "https://api.github.com/users/kennethkalmer/orgs",
            "repos_url": "https://api.github.com/users/kennethkalmer/repos",
            "events_url": "https://api.github.com/users/kennethkalmer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kennethkalmer/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@bradediger me too! I just thought I'd play it safe at first :)\n",
        "created_at": "2013-03-06T08:30:52Z",
        "updated_at": "2013-10-17T17:25:18Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/430#discussion_r3257545",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/430",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/3257545"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/430#discussion_r3257545"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/430"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7726852",
        "pull_request_review_id": null,
        "id": 7726852,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc3MjY4NTI=",
        "diff_hunk": "@@ -416,10 +416,24 @@ def column_widths\n           # Expand the table to fit the requested width.\n           f = (width - cells.width).to_f / (cells.max_width - cells.width)\n \n-          (0...column_length).map do |c|\n-            nat, max = natural_column_widths[c], column(c).max_width\n-            (f * (max - nat)) + nat\n+          widths = (0...column_length).map { |c| natural_column_widths[c] }\n+\n+          loop do",
        "path": "lib/prawn/table.rb",
        "position": 9,
        "original_position": 9,
        "commit_id": "2c810fe8dbe4b6a907c453193627a7c1326bd194",
        "original_commit_id": "2c810fe8dbe4b6a907c453193627a7c1326bd194",
        "user": {
            "login": "sigmike",
            "id": 28259,
            "node_id": "MDQ6VXNlcjI4MjU5",
            "avatar_url": "https://avatars2.githubusercontent.com/u/28259?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sigmike",
            "html_url": "https://github.com/sigmike",
            "followers_url": "https://api.github.com/users/sigmike/followers",
            "following_url": "https://api.github.com/users/sigmike/following{/other_user}",
            "gists_url": "https://api.github.com/users/sigmike/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sigmike/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sigmike/subscriptions",
            "organizations_url": "https://api.github.com/users/sigmike/orgs",
            "repos_url": "https://api.github.com/users/sigmike/repos",
            "events_url": "https://api.github.com/users/sigmike/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sigmike/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Actually this loop will never exit if all columns have reached their max width.\n",
        "created_at": "2013-11-18T15:33:00Z",
        "updated_at": "2013-11-18T15:33:00Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/576#discussion_r7726852",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/576",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7726852"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/576#discussion_r7726852"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/576"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7727212",
        "pull_request_review_id": null,
        "id": 7727212,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc3MjcyMTI=",
        "diff_hunk": "@@ -416,10 +416,24 @@ def column_widths\n           # Expand the table to fit the requested width.\n           f = (width - cells.width).to_f / (cells.max_width - cells.width)\n \n-          (0...column_length).map do |c|\n-            nat, max = natural_column_widths[c], column(c).max_width\n-            (f * (max - nat)) + nat\n+          widths = (0...column_length).map { |c| natural_column_widths[c] }\n+\n+          loop do",
        "path": "lib/prawn/table.rb",
        "position": 9,
        "original_position": 9,
        "commit_id": "2c810fe8dbe4b6a907c453193627a7c1326bd194",
        "original_commit_id": "2c810fe8dbe4b6a907c453193627a7c1326bd194",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Bummer. Please revise and then we'll re-open the pull request when you are ready.\n",
        "created_at": "2013-11-18T15:41:52Z",
        "updated_at": "2013-11-18T15:42:08Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/576#discussion_r7727212",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/576",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7727212"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/576#discussion_r7727212"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/576"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8055132",
        "pull_request_review_id": null,
        "id": 8055132,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgwNTUxMzI=",
        "diff_hunk": "@@ -200,9 +207,13 @@ def inherited_dictionary_value(key, local_dict = nil)\n         local_dict ||= dictionary.data\n \n         if local_dict.has_key?(key)\n-          local_dict[key]\n+          value = local_dict[key]\n+          value.respond_to?(:data) ? value.data : value\n         elsif local_dict.has_key?(:Parent)\n           inherited_dictionary_value(key, local_dict[:Parent].data)\n+        elsif parent = document.state.store.detect { |ref| ref.data.has_key?(:MediaBox) && ref.data.has_key?(:Kids) && ref.data[:Kids].include?(dictionary) }\n+          value = parent.data[:MediaBox]",
        "path": "lib/pdf/core/page.rb",
        "position": null,
        "original_position": 28,
        "commit_id": "ac06cf739c865df2a9c80728ec99486367093b0e",
        "original_commit_id": "5a620821c596a3b7235cb8acecf6b623bcc45e28",
        "user": {
            "login": "gettalong",
            "id": 4104,
            "node_id": "MDQ6VXNlcjQxMDQ=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/4104?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gettalong",
            "html_url": "https://github.com/gettalong",
            "followers_url": "https://api.github.com/users/gettalong/followers",
            "following_url": "https://api.github.com/users/gettalong/following{/other_user}",
            "gists_url": "https://api.github.com/users/gettalong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gettalong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gettalong/subscriptions",
            "organizations_url": "https://api.github.com/users/gettalong/orgs",
            "repos_url": "https://api.github.com/users/gettalong/repos",
            "events_url": "https://api.github.com/users/gettalong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gettalong/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why is `:MediaBox` used instead of the local variable `key`?\n",
        "created_at": "2013-12-03T10:03:22Z",
        "updated_at": "2013-12-03T16:54:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/593#discussion_r8055132",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/593",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8055132"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/593#discussion_r8055132"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/593"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8066028",
        "pull_request_review_id": null,
        "id": 8066028,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgwNjYwMjg=",
        "diff_hunk": "@@ -200,9 +207,13 @@ def inherited_dictionary_value(key, local_dict = nil)\n         local_dict ||= dictionary.data\n \n         if local_dict.has_key?(key)\n-          local_dict[key]\n+          value = local_dict[key]\n+          value.respond_to?(:data) ? value.data : value\n         elsif local_dict.has_key?(:Parent)\n           inherited_dictionary_value(key, local_dict[:Parent].data)\n+        elsif parent = document.state.store.detect { |ref| ref.data.has_key?(:MediaBox) && ref.data.has_key?(:Kids) && ref.data[:Kids].include?(dictionary) }\n+          value = parent.data[:MediaBox]",
        "path": "lib/pdf/core/page.rb",
        "position": null,
        "original_position": 28,
        "commit_id": "ac06cf739c865df2a9c80728ec99486367093b0e",
        "original_commit_id": "5a620821c596a3b7235cb8acecf6b623bcc45e28",
        "user": {
            "login": "krishicks",
            "id": 79357,
            "node_id": "MDQ6VXNlcjc5MzU3",
            "avatar_url": "https://avatars2.githubusercontent.com/u/79357?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/krishicks",
            "html_url": "https://github.com/krishicks",
            "followers_url": "https://api.github.com/users/krishicks/followers",
            "following_url": "https://api.github.com/users/krishicks/following{/other_user}",
            "gists_url": "https://api.github.com/users/krishicks/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/krishicks/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/krishicks/subscriptions",
            "organizations_url": "https://api.github.com/users/krishicks/orgs",
            "repos_url": "https://api.github.com/users/krishicks/repos",
            "events_url": "https://api.github.com/users/krishicks/events{/privacy}",
            "received_events_url": "https://api.github.com/users/krishicks/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Good catch. I was focusing so intently on MediaBox that I hardcoded it. Will update.\n",
        "created_at": "2013-12-03T16:51:51Z",
        "updated_at": "2013-12-03T16:54:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/593#discussion_r8066028",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/593",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8066028"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/593#discussion_r8066028"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/593"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8613406",
        "pull_request_review_id": null,
        "id": 8613406,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTM0MDY=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@hbrandl: There is no assertion in this test... what is it meant to be testing?\n",
        "created_at": "2014-01-02T15:01:40Z",
        "updated_at": "2014-01-02T15:01:40Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8613406",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8613406"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8613406"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614152",
        "pull_request_review_id": null,
        "id": 8614152,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTQxNTI=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "hbrandl",
            "id": 289762,
            "node_id": "MDQ6VXNlcjI4OTc2Mg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/289762?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hbrandl",
            "html_url": "https://github.com/hbrandl",
            "followers_url": "https://api.github.com/users/hbrandl/followers",
            "following_url": "https://api.github.com/users/hbrandl/following{/other_user}",
            "gists_url": "https://api.github.com/users/hbrandl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hbrandl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hbrandl/subscriptions",
            "organizations_url": "https://api.github.com/users/hbrandl/orgs",
            "repos_url": "https://api.github.com/users/hbrandl/repos",
            "events_url": "https://api.github.com/users/hbrandl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hbrandl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Line 111 fails with the current master branch, reporting the following error:\n\n```\n  1) Prawn::Table You can explicitly set the column widths and use a colspan > 1 illustrates issue #407 - comment 28556698\n     Failure/Error: table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n     Prawn::Errors::CannotFit:\n       Table's width was set larger than its contents' maximum width (max width 250, requested 325.0)\n     # ./lib/prawn/table.rb:403:in `column_widths'\n     # ./lib/prawn/table.rb:584:in `set_column_widths'\n     # ./lib/prawn/table.rb:137:in `initialize'\n     # ./spec/table_spec.rb:111:in `new'\n     # ./spec/table_spec.rb:111:in `block (3 levels) in <top (required)>'\n\n```\n\nSo while technically there is no assert in that line, it does assert, that prawn doesn't raise an error. Is there an assert for that?\n\nAlso line 112 asserts (.should) that the calculated column widths are the same as the ones that where requested in line 111.\n",
        "created_at": "2014-01-02T15:32:18Z",
        "updated_at": "2014-01-02T15:32:18Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614152",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614152"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614152"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614205",
        "pull_request_review_id": null,
        "id": 8614205,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTQyMDU=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@hbrandl There's an assertion for that.\n\n``` ruby\nexpect {\n  # your code here\n}.to_not raise_error\n```\n",
        "created_at": "2014-01-02T15:35:01Z",
        "updated_at": "2014-01-02T15:35:01Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614205",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614205"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614205"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614298",
        "pull_request_review_id": null,
        "id": 8614298,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTQyOTg=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "bradediger",
            "id": 4621,
            "node_id": "MDQ6VXNlcjQ2MjE=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/4621?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradediger",
            "html_url": "https://github.com/bradediger",
            "followers_url": "https://api.github.com/users/bradediger/followers",
            "following_url": "https://api.github.com/users/bradediger/following{/other_user}",
            "gists_url": "https://api.github.com/users/bradediger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bradediger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bradediger/subscriptions",
            "organizations_url": "https://api.github.com/users/bradediger/orgs",
            "repos_url": "https://api.github.com/users/bradediger/repos",
            "events_url": "https://api.github.com/users/bradediger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bradediger/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@cheba I really don't like `to_not raise_error` and the like, because they don't add anything semantically and they can obscure the cause of the error. See [this blog post](http://www.thagomizer.com/blog/2013/06/11/assert-nothing-raised.html) for a better explanation than I can provide here.\n\nI don't personally have a problem with assertionless tests in this context, catching regressions that raise errors.\n",
        "created_at": "2014-01-02T15:39:33Z",
        "updated_at": "2014-01-02T15:39:33Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614298",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614298"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614298"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614380",
        "pull_request_review_id": null,
        "id": 8614380,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTQzODA=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "hbrandl",
            "id": 289762,
            "node_id": "MDQ6VXNlcjI4OTc2Mg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/289762?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hbrandl",
            "html_url": "https://github.com/hbrandl",
            "followers_url": "https://api.github.com/users/hbrandl/followers",
            "following_url": "https://api.github.com/users/hbrandl/following{/other_user}",
            "gists_url": "https://api.github.com/users/hbrandl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hbrandl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hbrandl/subscriptions",
            "organizations_url": "https://api.github.com/users/hbrandl/orgs",
            "repos_url": "https://api.github.com/users/hbrandl/repos",
            "events_url": "https://api.github.com/users/hbrandl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hbrandl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@cheba Thanks! I didn't know that one.\nI've just comited a fixed version to the new colspan-fixes branch.\n\n@bradediger Sorry, I didn't see your comment in time. I'm fine with any solution.\n",
        "created_at": "2014-01-02T15:42:59Z",
        "updated_at": "2014-01-02T15:42:59Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614380",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614380"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614380"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614573",
        "pull_request_review_id": null,
        "id": 8614573,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTQ1NzM=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@bradediger Well, in this case I don't see nearly enough context in the code. There's no mention of any exceptions at all here. I don't think you either can recall what it's about without finding that very specific comment. BTW, description includes comment id but not a link to it so you'd have to figure out how to find it, too.\n\nAnother concern is that assertion-less spec mixes up setup and the code that actually could raise an exception.\n",
        "created_at": "2014-01-02T15:51:15Z",
        "updated_at": "2014-01-02T15:51:15Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614573",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8614573"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8614573"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615046",
        "pull_request_review_id": null,
        "id": 8615046,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTUwNDY=",
        "diff_hunk": "@@ -91,15 +91,35 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"illustrates issue #407 - comment 28556698\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do ",
        "path": "spec/table_spec.rb",
        "position": 27,
        "original_position": 27,
        "commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "original_commit_id": "e28c7acae4c425001fb20a52616fd91718def9c8",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "My email was really slow in notifying me on this, so I was working on addressing this before I saw these comments... \n\nFor edge cases like this one, I think a comment is sufficient. But we definitely need a comment at least, and not a just reference to a comment on a github issue. I updated the code accordingly on #620.\n",
        "created_at": "2014-01-02T16:07:41Z",
        "updated_at": "2014-01-02T16:08:12Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8615046",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/579",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615046"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/579#discussion_r8615046"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/579"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615075",
        "pull_request_review_id": null,
        "id": 8615075,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTUwNzU=",
        "diff_hunk": "@@ -91,15 +91,36 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"correctly computes column widths with empty cells + colspan\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do \n+      pdf = Prawn::Document.new\n+      table_data = [[\"a\", \"b\", \"c\"], [{:content=>\"d\", :colspan=>3}]]\n+      column_widths = [50, 60, 400]\n+\n+      # Before we fixed #407, this line incorrectly raise a CannotFit error",
        "path": "spec/table_spec.rb",
        "position": 33,
        "original_position": 33,
        "commit_id": "03d16b3a31a6c5195e38e0a99596aa6ae4b07911",
        "original_commit_id": "03d16b3a31a6c5195e38e0a99596aa6ae4b07911",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "@cheba, @bradediger Here's how I addressed the assertionless spec.\n",
        "created_at": "2014-01-02T16:08:41Z",
        "updated_at": "2014-01-02T16:08:41Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/620#discussion_r8615075",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/620",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615075"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/620#discussion_r8615075"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/620"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615138",
        "pull_request_review_id": null,
        "id": 8615138,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2MTUxMzg=",
        "diff_hunk": "@@ -91,15 +91,36 @@\n       pdf = Prawn::Document.new\n       first = {:content=>\"Foooo fo foooooo\",:width=>50,:align=>:center}\n       second = {:content=>\"Foooo\",:colspan=>2,:width=>70,:align=>:center}\n-      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>55,:align=>:center}\n-      fourth = {:content=>\"Bar\",:width=>15,:align=>:center}\n+      third = {:content=>\"fooooooooooo, fooooooooooooo, fooo, foooooo fooooo\",:width=>50,:align=>:center}\n+      fourth = {:content=>\"Bar\",:width=>20,:align=>:center}\n       table_content = [[\n       first,\n       [[second],[third,fourth]]\n       ]]\n       pdf.move_down(20)\n+      table = Prawn::Table.new table_content, pdf\n       pdf.table(table_content)\n     end\n+\n+    #https://github.com/prawnpdf/prawn/issues/407#issuecomment-28556698\n+    it \"correctly computes column widths with empty cells + colspan\" do\n+      data = [['', ''],\n+              [{:content => '', :colspan => 2}]\n+              ]\n+      pdf = Prawn::Document.new\n+\n+      table = Prawn::Table.new data, pdf, :column_widths => [50, 200]\n+      table.column_widths.should == [50.0, 200.0]\n+    end\n+\n+    it \"illustrates a variant of problem in issue #407 - comment 28556698\" do \n+      pdf = Prawn::Document.new\n+      table_data = [[\"a\", \"b\", \"c\"], [{:content=>\"d\", :colspan=>3}]]\n+      column_widths = [50, 60, 400]\n+\n+      # Before we fixed #407, this line incorrectly raise a CannotFit error",
        "path": "spec/table_spec.rb",
        "position": 33,
        "original_position": 33,
        "commit_id": "03d16b3a31a6c5195e38e0a99596aa6ae4b07911",
        "original_commit_id": "03d16b3a31a6c5195e38e0a99596aa6ae4b07911",
        "user": {
            "login": "bradediger",
            "id": 4621,
            "node_id": "MDQ6VXNlcjQ2MjE=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/4621?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradediger",
            "html_url": "https://github.com/bradediger",
            "followers_url": "https://api.github.com/users/bradediger/followers",
            "following_url": "https://api.github.com/users/bradediger/following{/other_user}",
            "gists_url": "https://api.github.com/users/bradediger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bradediger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bradediger/subscriptions",
            "organizations_url": "https://api.github.com/users/bradediger/orgs",
            "repos_url": "https://api.github.com/users/bradediger/repos",
            "events_url": "https://api.github.com/users/bradediger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bradediger/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Thanks @sandal, this looks great.\n",
        "created_at": "2014-01-02T16:10:49Z",
        "updated_at": "2014-01-02T16:10:49Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/620#discussion_r8615138",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/620",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8615138"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/620#discussion_r8615138"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/620"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8928701",
        "pull_request_review_id": null,
        "id": 8928701,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg5Mjg3MDE=",
        "diff_hunk": "@@ -0,0 +1,75 @@\n+warn \"Templates are no longer supported in Prawn!\\n\" +\n+     \"This code is for experimental testing only, and\\n\" +\n+     \"will extracted into its own gem in a future Prawn release\"",
        "path": "lib/prawn/templates.rb",
        "position": null,
        "original_position": 3,
        "commit_id": "1422edb49ed1842b1e1cfb08e6b3d4b4b88cbf77",
        "original_commit_id": "5778675eccb2f3930e8dacc5408af763488c1b4f",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I believe somewhere here should be \"be\".\n",
        "created_at": "2014-01-16T11:31:51Z",
        "updated_at": "2014-01-19T16:10:59Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/640#discussion_r8928701",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/640",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8928701"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/640#discussion_r8928701"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/640"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8971619",
        "pull_request_review_id": null,
        "id": 8971619,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg5NzE2MTk=",
        "diff_hunk": "@@ -0,0 +1,75 @@\n+warn \"Templates are no longer supported in Prawn!\\n\" +\n+     \"This code is for experimental testing only, and\\n\" +\n+     \"will extracted into its own gem in a future Prawn release\"",
        "path": "lib/prawn/templates.rb",
        "position": null,
        "original_position": 3,
        "commit_id": "1422edb49ed1842b1e1cfb08e6b3d4b4b88cbf77",
        "original_commit_id": "5778675eccb2f3930e8dacc5408af763488c1b4f",
        "user": {
            "login": "MarkDBlackwell",
            "id": 692702,
            "node_id": "MDQ6VXNlcjY5MjcwMg==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/692702?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarkDBlackwell",
            "html_url": "https://github.com/MarkDBlackwell",
            "followers_url": "https://api.github.com/users/MarkDBlackwell/followers",
            "following_url": "https://api.github.com/users/MarkDBlackwell/following{/other_user}",
            "gists_url": "https://api.github.com/users/MarkDBlackwell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MarkDBlackwell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MarkDBlackwell/subscriptions",
            "organizations_url": "https://api.github.com/users/MarkDBlackwell/orgs",
            "repos_url": "https://api.github.com/users/MarkDBlackwell/repos",
            "events_url": "https://api.github.com/users/MarkDBlackwell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MarkDBlackwell/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "The \"be\" word is inserted, as part of pull request #644.\n",
        "created_at": "2014-01-17T16:45:57Z",
        "updated_at": "2014-01-19T16:10:59Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/640#discussion_r8971619",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/640",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/8971619"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/640#discussion_r8971619"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/640"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806181",
        "pull_request_review_id": null,
        "id": 11806181,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODA2MTgx",
        "diff_hunk": "@@ -9,16 +9,67 @@ def initialize(cells)\n \n         @widths_by_column        = Hash.new(0)\n         @rows_with_a_span_dummy  = Hash.new(false)\n-      end\n \n-      def natural_widths\n+        #calculate for each row if it includes a Cell:SpanDummy\n         @cells.each do |cell|\n           @rows_with_a_span_dummy[cell.row] = true if cell.is_a?(Cell::SpanDummy)\n         end\n+      end\n+\n+      # does this row include a Cell:SpanDummy?\n+      #\n+      # @param row - the row that should be checked for Cell:SpanDummy elements\n+      #\n+      def has_a_span_dummy?(row)\n+        @rows_with_a_span_dummy[row]\n+      end\n+\n+      # helper method\n+      # column widths are stored in the values array\n+      # a cell may span cells whose value is only partly given\n+      # this function handles this special case\n+      #\n+      # @param values - The columns widths calculated up until now\n+      # @param cell - The current cell\n+      # @param index - The current column\n+      # @param meth - Meth (min/max); used to calculate values to be filled\n+      #\n+      def fill_values_if_needed(values, cell, index, meth)",
        "path": "lib/prawn/table/column_width_calculator.rb",
        "position": 31,
        "original_position": 31,
        "commit_id": "f10762ab086138e988a6ae17b6cac8374046f315",
        "original_commit_id": "bb296b5fba9b941432744ec501ea573f01afc721",
        "user": {
            "login": "hbrandl",
            "id": 289762,
            "node_id": "MDQ6VXNlcjI4OTc2Mg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/289762?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hbrandl",
            "html_url": "https://github.com/hbrandl",
            "followers_url": "https://api.github.com/users/hbrandl/followers",
            "following_url": "https://api.github.com/users/hbrandl/following{/other_user}",
            "gists_url": "https://api.github.com/users/hbrandl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hbrandl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hbrandl/subscriptions",
            "organizations_url": "https://api.github.com/users/hbrandl/orgs",
            "repos_url": "https://api.github.com/users/hbrandl/repos",
            "events_url": "https://api.github.com/users/hbrandl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hbrandl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This function is the main fix for issue #710 .\n",
        "created_at": "2014-04-21T11:21:21Z",
        "updated_at": "2014-04-21T11:29:19Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806181",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/712",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806181"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806181"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/712"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806193",
        "pull_request_review_id": null,
        "id": 11806193,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODA2MTkz",
        "diff_hunk": "@@ -58,6 +109,72 @@ def natural_widths\n \n         @widths_by_column.sort_by { |col, _| col }.map { |_, w| w }\n       end\n+\n+      # get column widths (either min or max depending on meth)\n+      # used in cells.rb\n+      #\n+      # @param row_or_column - you may call this on either rows or columns\n+      # @param meth - min/max\n+      # @param aggregate - functions from cell.rb to be used to aggregate e.g. avg_spanned_min_width\n+      #\n+      def aggregate_cell_values(row_or_column, meth, aggregate)",
        "path": "lib/prawn/table/column_width_calculator.rb",
        "position": 95,
        "original_position": 92,
        "commit_id": "f10762ab086138e988a6ae17b6cac8374046f315",
        "original_commit_id": "bb296b5fba9b941432744ec501ea573f01afc721",
        "user": {
            "login": "hbrandl",
            "id": 289762,
            "node_id": "MDQ6VXNlcjI4OTc2Mg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/289762?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hbrandl",
            "html_url": "https://github.com/hbrandl",
            "followers_url": "https://api.github.com/users/hbrandl/followers",
            "following_url": "https://api.github.com/users/hbrandl/following{/other_user}",
            "gists_url": "https://api.github.com/users/hbrandl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hbrandl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hbrandl/subscriptions",
            "organizations_url": "https://api.github.com/users/hbrandl/orgs",
            "repos_url": "https://api.github.com/users/hbrandl/repos",
            "events_url": "https://api.github.com/users/hbrandl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hbrandl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "refactored into this file, so that all relevant code is grouped together.\n",
        "created_at": "2014-04-21T11:22:06Z",
        "updated_at": "2014-04-21T11:29:19Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806193",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/712",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806193"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806193"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/712"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806197",
        "pull_request_review_id": null,
        "id": 11806197,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExODA2MTk3",
        "diff_hunk": "@@ -228,56 +228,7 @@ def index_cells\n       # each cell, grouped by +row_or_column+.\n       #\n       def aggregate_cell_values(row_or_column, meth, aggregate)",
        "path": "lib/prawn/table/cells.rb",
        "position": 3,
        "original_position": 3,
        "commit_id": "f10762ab086138e988a6ae17b6cac8374046f315",
        "original_commit_id": "bb296b5fba9b941432744ec501ea573f01afc721",
        "user": {
            "login": "hbrandl",
            "id": 289762,
            "node_id": "MDQ6VXNlcjI4OTc2Mg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/289762?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hbrandl",
            "html_url": "https://github.com/hbrandl",
            "followers_url": "https://api.github.com/users/hbrandl/followers",
            "following_url": "https://api.github.com/users/hbrandl/following{/other_user}",
            "gists_url": "https://api.github.com/users/hbrandl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hbrandl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hbrandl/subscriptions",
            "organizations_url": "https://api.github.com/users/hbrandl/orgs",
            "repos_url": "https://api.github.com/users/hbrandl/repos",
            "events_url": "https://api.github.com/users/hbrandl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hbrandl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "refactored to other file\n",
        "created_at": "2014-04-21T11:22:24Z",
        "updated_at": "2014-04-21T11:29:19Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806197",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/712",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/11806197"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/712#discussion_r11806197"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/712"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13498898",
        "pull_request_review_id": null,
        "id": 13498898,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk4ODk4",
        "diff_hunk": "@@ -280,12 +280,23 @@ class Font\n     # *.ttf will call Font::TTF.new, *.dfont Font::DFont.new, and anything else\n     # will be passed through to Font::AFM.new()\n     #\n-    def self.load(document,name,options={})\n+    def self.load(document, name, options={})\n+      # Name is really either a string containing a file path or an IO object",
        "path": "lib/prawn/font.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Rather than adding a comment here, can we rename the variable to `src` or something like that? \n",
        "created_at": "2014-06-06T16:41:58Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13498898",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13498898"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13498898"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499056",
        "pull_request_review_id": null,
        "id": 13499056,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk5MDU2",
        "diff_hunk": "@@ -280,12 +280,23 @@ class Font\n     # *.ttf will call Font::TTF.new, *.dfont Font::DFont.new, and anything else\n     # will be passed through to Font::AFM.new()\n     #\n-    def self.load(document,name,options={})\n+    def self.load(document, name, options={})\n+      # Name is really either a string containing a file path or an IO object",
        "path": "lib/prawn/font.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "packetmonkey",
            "id": 4451,
            "node_id": "MDQ6VXNlcjQ0NTE=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/4451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/packetmonkey",
            "html_url": "https://github.com/packetmonkey",
            "followers_url": "https://api.github.com/users/packetmonkey/followers",
            "following_url": "https://api.github.com/users/packetmonkey/following{/other_user}",
            "gists_url": "https://api.github.com/users/packetmonkey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/packetmonkey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/packetmonkey/subscriptions",
            "organizations_url": "https://api.github.com/users/packetmonkey/orgs",
            "repos_url": "https://api.github.com/users/packetmonkey/repos",
            "events_url": "https://api.github.com/users/packetmonkey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/packetmonkey/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "We totally can, the reason I didn't is I wasn't sure how to handle updating [#find_font](https://github.com/prawnpdf/prawn/blob/io-fonts/lib/prawn/font.rb#L231-L241) which is where that name variable comes from, I would think we want the variable name to be the same all the way down the stack, but I'm not 100% sure I'm yet comfortable messing with code that interacts with the font_registry. It looks like we are building up our registry key using the font 'name' but really the location should be in there (to cache multiple hits to the same URL or file path I'm sure). I'll give it a shot and go from there.\n",
        "created_at": "2014-06-06T16:46:31Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499056",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499056"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499056"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499726",
        "pull_request_review_id": null,
        "id": 13499726,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk5NzI2",
        "diff_hunk": "@@ -159,6 +159,22 @@\n     name = name.sub(/\\w+\\+/, \"subset+\")\n     name.should == \"subset+DejaVuSans\"\n   end\n+\n+  it \"should accept IO objects for font files\" do\n+    io = File.open \"#{Prawn::DATADIR}/fonts/DejaVuSans.ttf\"\n+    @pdf.font_families[\"DejaVu Sans\"] = {\n+      :format => 'ttf',",
        "path": "spec/font_spec.rb",
        "position": null,
        "original_position": 8,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm not sure this is the right place to introduce an extension point for specifying the font format. Currently all of the keys in font families are meant to be styles, and so adding this metadata makes the dictionary non-homogeneous.\n\nI understand the reason for doing this... we want to not have to specify the font type for each and every font loaded by way of an I/O call. But we need to find a better way.\n\nAll of this is mostly a sign of how our existing `font_families` mechanism is underspecified and kind of limited in its behavior. We should look at a way to directly pass `TTF`, `DFont`, and `AFM` objects to font_families, e.g.\n\n``` ruby\nfont_family[\"DejaVu Sans\"] = {\n  :normal => Font.load(open(\"http://example.com/dejavu.ttf\"), :format => :ttf)\n}\n```\n\nMaking `:ttf` the default would reduce the above down to:\n\n``` ruby\nfont_family[\"DejaVu Sans\"] = {\n  :normal => Font.load(open(\"http://example.com/dejavu.ttf\"))\n}\n```\n\nThis is still a little weird because the overall font system is wonky, but I think it's a safer bet than changing the meaning of the font families dictionary.\n",
        "created_at": "2014-06-06T17:02:58Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499726",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499726"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499726"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499852",
        "pull_request_review_id": null,
        "id": 13499852,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk5ODUy",
        "diff_hunk": "@@ -280,12 +280,23 @@ class Font\n     # *.ttf will call Font::TTF.new, *.dfont Font::DFont.new, and anything else\n     # will be passed through to Font::AFM.new()\n     #\n-    def self.load(document,name,options={})\n+    def self.load(document, name, options={})\n+      # Name is really either a string containing a file path or an IO object",
        "path": "lib/prawn/font.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Consistency doesn't matter for the names of local variables across different methods, particularly when one of them is private. We can fix that later, if it bugs us.\n",
        "created_at": "2014-06-06T17:05:27Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499852",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13499852"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13499852"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13503670",
        "pull_request_review_id": null,
        "id": 13503670,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTAzNjcw",
        "diff_hunk": "@@ -159,6 +159,22 @@\n     name = name.sub(/\\w+\\+/, \"subset+\")\n     name.should == \"subset+DejaVuSans\"\n   end\n+\n+  it \"should accept IO objects for font files\" do\n+    io = File.open \"#{Prawn::DATADIR}/fonts/DejaVuSans.ttf\"\n+    @pdf.font_families[\"DejaVu Sans\"] = {\n+      :format => 'ttf',",
        "path": "spec/font_spec.rb",
        "position": null,
        "original_position": 8,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "packetmonkey",
            "id": 4451,
            "node_id": "MDQ6VXNlcjQ0NTE=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/4451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/packetmonkey",
            "html_url": "https://github.com/packetmonkey",
            "followers_url": "https://api.github.com/users/packetmonkey/followers",
            "following_url": "https://api.github.com/users/packetmonkey/following{/other_user}",
            "gists_url": "https://api.github.com/users/packetmonkey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/packetmonkey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/packetmonkey/subscriptions",
            "organizations_url": "https://api.github.com/users/packetmonkey/orgs",
            "repos_url": "https://api.github.com/users/packetmonkey/repos",
            "events_url": "https://api.github.com/users/packetmonkey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/packetmonkey/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It's possible we are suffering from type envy in that font_families is a real `Hash` instance that we update. The core of the problem is there a bit of metadata about the font we want to add (the format) that we where deriving from the path. Maybe a better solution is to create a `Prawn::FontStore` class, that has a similar API to `Hash` so it can act as a drop in replacement, and be backwards compatible, but can then expose  `Prawn::Document.new.add_ttf_font(:name, :normal_path_or_io, :bold_path_or_io, :italic_path_or_io)`\n\nThat is a more fundamental reworking but it can then let us encapsulate font information, name, style paths, format, and any future metadata we care about.\n\nAnother possibility is if we can have `Prawn::Font::TTF`, `Prawn::Font::DFont`  and `Prawn::Font:AFM` act similar to the image handlers and detect if a given binary stream is supported by that class. \n",
        "created_at": "2014-06-06T18:23:54Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13503670",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13503670"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13503670"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13504212",
        "pull_request_review_id": null,
        "id": 13504212,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA0MjEy",
        "diff_hunk": "@@ -159,6 +159,22 @@\n     name = name.sub(/\\w+\\+/, \"subset+\")\n     name.should == \"subset+DejaVuSans\"\n   end\n+\n+  it \"should accept IO objects for font files\" do\n+    io = File.open \"#{Prawn::DATADIR}/fonts/DejaVuSans.ttf\"\n+    @pdf.font_families[\"DejaVu Sans\"] = {\n+      :format => 'ttf',",
        "path": "spec/font_spec.rb",
        "position": null,
        "original_position": 8,
        "commit_id": "f969d6167b817cee7cb405c10f93015df0ef260d",
        "original_commit_id": "36dbe3d5d307396b1fd46e208a3570a2e7196d23",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I was thinking about having a real object for `FontFamily`, but I still don't know what I'd want the interface to look like for that and I'm hesitant to rush into defining it.\n\nI like the idea of smart detection via some sort of FontHandler protocol, so that may be worth experimenting with.\n\nBut I'm also okay with the idea of just having the hash stay as it is. It isn't highly complex to say \"either convert the string into a font object, or if you've already been provided a font object, use it directly without attempting any processing\".\n\nEven if we make `Font.load()` smart so it can return the right font object based on the binary stream, we're still going to need to make those fonts usable by families. So let's start w. making this tiny change to families (values can be strings or pre-loaded Font objects), and a small change to `Font.load` (either intelligently detect format or let it be explicitly specified, i.e. `Font.load(src, :format => :ttf)`, with `:ttf` being default).\n\nFrom there, we can evaluate how well used the feature is and what might be a way to formalize the APIs further.\n",
        "created_at": "2014-06-06T18:36:07Z",
        "updated_at": "2014-06-23T15:10:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13504212",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/730",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/13504212"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/730#discussion_r13504212"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/730"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/14183060",
        "pull_request_review_id": null,
        "id": 14183060,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTgzMDYw",
        "diff_hunk": "@@ -205,11 +205,12 @@ def initialize(formatted_text, options={})\n         #\n         def render(flags={})\n           unprinted_text = []\n+          dry_run = flags[:dry_run] === true",
        "path": "lib/prawn/text/formatted/box.rb",
        "position": null,
        "original_position": 4,
        "commit_id": "8940051f6c5d33e60094d6e2dbb3489381eb1666",
        "original_commit_id": "3dc35d5c34af8222b4b2813248cd58945ede1bc9",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "We probably don't need this line, as `flags[:dry_run]` can be used directly in the two other places it is mentioned (213, 224)\n",
        "created_at": "2014-06-25T12:46:58Z",
        "updated_at": "2014-06-25T21:14:57Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/736#discussion_r14183060",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/736",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/14183060"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/736#discussion_r14183060"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/736"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7845141",
        "pull_request_review_id": null,
        "id": 7845141,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc4NDUxNDE=",
        "diff_hunk": "@@ -468,11 +469,13 @@ def process_vertical_alignment(text)\n         # Decrease the font size until the text fits or the min font\n         # size is reached\n         def shrink_to_fit(text)\n-          wrap(text)\n-          until @everything_printed || @font_size <= @min_font_size\n+          loop do\n+            wrap(text) rescue Errors::CannotFit",
        "path": "lib/prawn/text/formatted/box.rb",
        "position": null,
        "original_position": 15,
        "commit_id": "b14344edfee7a20638a7169f8ff7ebaea2432ffe",
        "original_commit_id": "24790347deb3da1e47ca0ee2e2bce6352c58e895",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm not too familiar with the underlying code. Can someone explain why we need to suppress the `CannotFit` error here?\n",
        "created_at": "2013-11-22T00:56:52Z",
        "updated_at": "2014-07-21T12:58:04Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/449#discussion_r7845141",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/449",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7845141"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/449#discussion_r7845141"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/449"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7903835",
        "pull_request_review_id": null,
        "id": 7903835,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc5MDM4MzU=",
        "diff_hunk": "@@ -468,11 +470,17 @@ def process_vertical_alignment(text)\n         # Decrease the font size until the text fits or the min font\n         # size is reached\n         def shrink_to_fit(text)\n-          wrap(text)\n-          until @everything_printed || @font_size <= @min_font_size\n+          loop do\n+            if @disable_wrap_by_char && @font_size > @min_font_size\n+              wrap_text rescue Errors::CannotFit",
        "path": "lib/prawn/text/formatted/box.rb",
        "position": null,
        "original_position": 24,
        "commit_id": "b14344edfee7a20638a7169f8ff7ebaea2432ffe",
        "original_commit_id": "fece3e8779d25630a6f596993a4bffa81ddbf62e",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm fairly sure this isn't what you want to do here. I think this is returning an exception object after rescuing _all_ exceptions, rather than rescuing a single exception. Also, is there a `wrap_text` method? If you meant `wrap(text)` instead, and `wrap_text` is not defined somewhere, this will swallow the resulting `NoMethodError`.\n",
        "created_at": "2013-11-25T20:31:01Z",
        "updated_at": "2014-07-21T12:58:04Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/449#discussion_r7903835",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/449",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/7903835"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/449#discussion_r7903835"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/449"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17229333",
        "pull_request_review_id": null,
        "id": 17229333,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjI5MzMz",
        "diff_hunk": "@@ -222,6 +222,32 @@ def formatted_text(array, options={})\n         draw_remaining_formatted_text_on_new_pages(remaining_text, options)\n       end\n     end\n+    \n+    # Draws a link into a page.\n+    # With this helper you can add a link to a page without having to use the tag format\n+    #\n+    # == Example\n+    #\n+    #   link('Go to the wiki',\n+    #           'https://github.com/prawnpdf/prawn/wiki',\n+    #           :size => 24,\n+    #           :styles => [:bold, :italic])\n+    #\n+    # == Options\n+    #\n+    # Accepts the same options as #text\n+    #\n+    # == Exceptions\n+    #\n+    # Same as for #text\n+    #\n+    def link(title, url, options={})\n+      return false if title.nil? or url.nil?",
        "path": "lib/prawn/text.rb",
        "position": null,
        "original_position": 24,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "fb2bce4a94c529387fb94d02020a797a5bb487c1",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Early `return`, suffix conditional, flow control `or` in conditional, all in one line? :sob:\nHow about this?\n\n``` ruby\nif title && url\n  # ...\nend\n```\n",
        "created_at": "2014-09-08T09:49:49Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17229333",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17229333"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17229333"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17229376",
        "pull_request_review_id": null,
        "id": 17229376,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjI5Mzc2",
        "diff_hunk": "@@ -222,6 +222,32 @@ def formatted_text(array, options={})\n         draw_remaining_formatted_text_on_new_pages(remaining_text, options)\n       end\n     end\n+    \n+    # Draws a link into a page.\n+    # With this helper you can add a link to a page without having to use the tag format\n+    #\n+    # == Example\n+    #\n+    #   link('Go to the wiki',\n+    #           'https://github.com/prawnpdf/prawn/wiki',\n+    #           :size => 24,\n+    #           :styles => [:bold, :italic])\n+    #\n+    # == Options\n+    #\n+    # Accepts the same options as #text\n+    #\n+    # == Exceptions\n+    #\n+    # Same as for #text\n+    #\n+    def link(title, url, options={})\n+      return false if title.nil? or url.nil?",
        "path": "lib/prawn/text.rb",
        "position": null,
        "original_position": 24,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "fb2bce4a94c529387fb94d02020a797a5bb487c1",
        "user": {
            "login": "Pablo-Merino",
            "id": 482747,
            "node_id": "MDQ6VXNlcjQ4Mjc0Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/482747?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pablo-Merino",
            "html_url": "https://github.com/Pablo-Merino",
            "followers_url": "https://api.github.com/users/Pablo-Merino/followers",
            "following_url": "https://api.github.com/users/Pablo-Merino/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pablo-Merino/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pablo-Merino/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pablo-Merino/subscriptions",
            "organizations_url": "https://api.github.com/users/Pablo-Merino/orgs",
            "repos_url": "https://api.github.com/users/Pablo-Merino/repos",
            "events_url": "https://api.github.com/users/Pablo-Merino/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pablo-Merino/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Hey, thanks for the feedback. I've thought about using what other functions were using. Just realized this is not a good way. My bad! Will commit a fix now\n",
        "created_at": "2014-09-08T09:50:59Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17229376",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17229376"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17229376"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230011",
        "pull_request_review_id": null,
        "id": 17230011,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjMwMDEx",
        "diff_hunk": "@@ -222,6 +222,34 @@ def formatted_text(array, options={})\n         draw_remaining_formatted_text_on_new_pages(remaining_text, options)\n       end\n     end\n+    # Draws a link into a page.\n+    # With this helper you can add a link to a page without having to use the tag format\n+    #\n+    # == Example\n+    #\n+    #   link('Go to the wiki',\n+    #           'https://github.com/prawnpdf/prawn/wiki',\n+    #           :size => 24,\n+    #           :styles => [:bold, :italic])\n+    #\n+    # == Options\n+    #\n+    # Accepts the same options as #text\n+    #\n+    # == Exceptions\n+    #\n+    # Same as for #text\n+    #\n+    def link(title, url, options={})\n+      if title && url\n+        link_string = %(<link href=\"#{url}\">#{title}</link>)\n+        options = options.dup\n+        options[:inline_format] = true\n+        self.text(link_string, options)\n+      else\n+        false",
        "path": "lib/prawn/text.rb",
        "position": null,
        "original_position": 29,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "cb913c1262889f89153f640e41d44e324c41937c",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Do you think it should return anything? This is sort of fire and forget method. Also by default it would return `nil` which is falsey, too.\n",
        "created_at": "2014-09-08T10:09:46Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230011",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230011"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230011"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230051",
        "pull_request_review_id": null,
        "id": 17230051,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjMwMDUx",
        "diff_hunk": "@@ -340,6 +340,37 @@\n     pages[1][:strings].should == [\"World\"]\n   end\n \n+  describe \"#link\" do\n+    it 'should generate a clickable link' do\n+      link = 'http://example.com'\n+      @pdf.link 'Example', link\n+      @pdf.render.should =~ /^(\\/URI \\(#{link}\\).*?)/\n+    end\n+    it 'should allow fonts' do",
        "path": "spec/text_spec.rb",
        "position": null,
        "original_position": 10,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "cb913c1262889f89153f640e41d44e324c41937c",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Just for readability a blank line between examples would be nice. \n",
        "created_at": "2014-09-08T10:10:49Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230051",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230051"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230051"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230212",
        "pull_request_review_id": null,
        "id": 17230212,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjMwMjEy",
        "diff_hunk": "@@ -222,6 +222,34 @@ def formatted_text(array, options={})\n         draw_remaining_formatted_text_on_new_pages(remaining_text, options)\n       end\n     end\n+    # Draws a link into a page.\n+    # With this helper you can add a link to a page without having to use the tag format\n+    #\n+    # == Example\n+    #\n+    #   link('Go to the wiki',\n+    #           'https://github.com/prawnpdf/prawn/wiki',\n+    #           :size => 24,\n+    #           :styles => [:bold, :italic])\n+    #\n+    # == Options\n+    #\n+    # Accepts the same options as #text\n+    #\n+    # == Exceptions\n+    #\n+    # Same as for #text\n+    #\n+    def link(title, url, options={})\n+      if title && url\n+        link_string = %(<link href=\"#{url}\">#{title}</link>)\n+        options = options.dup\n+        options[:inline_format] = true\n+        self.text(link_string, options)\n+      else\n+        false",
        "path": "lib/prawn/text.rb",
        "position": null,
        "original_position": 29,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "cb913c1262889f89153f640e41d44e324c41937c",
        "user": {
            "login": "Pablo-Merino",
            "id": 482747,
            "node_id": "MDQ6VXNlcjQ4Mjc0Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/482747?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pablo-Merino",
            "html_url": "https://github.com/Pablo-Merino",
            "followers_url": "https://api.github.com/users/Pablo-Merino/followers",
            "following_url": "https://api.github.com/users/Pablo-Merino/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pablo-Merino/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pablo-Merino/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pablo-Merino/subscriptions",
            "organizations_url": "https://api.github.com/users/Pablo-Merino/orgs",
            "repos_url": "https://api.github.com/users/Pablo-Merino/repos",
            "events_url": "https://api.github.com/users/Pablo-Merino/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pablo-Merino/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Well, the other methods for adding text return false when the text is `nil`, so I figured this one should too.\n",
        "created_at": "2014-09-08T10:16:10Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230212",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230212"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230212"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230253",
        "pull_request_review_id": null,
        "id": 17230253,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjMwMjUz",
        "diff_hunk": "@@ -340,6 +340,37 @@\n     pages[1][:strings].should == [\"World\"]\n   end\n \n+  describe \"#link\" do\n+    it 'should generate a clickable link' do\n+      link = 'http://example.com'\n+      @pdf.link 'Example', link\n+      @pdf.render.should =~ /^(\\/URI \\(#{link}\\).*?)/\n+    end\n+    it 'should allow fonts' do",
        "path": "spec/text_spec.rb",
        "position": null,
        "original_position": 10,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "cb913c1262889f89153f640e41d44e324c41937c",
        "user": {
            "login": "Pablo-Merino",
            "id": 482747,
            "node_id": "MDQ6VXNlcjQ4Mjc0Nw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/482747?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pablo-Merino",
            "html_url": "https://github.com/Pablo-Merino",
            "followers_url": "https://api.github.com/users/Pablo-Merino/followers",
            "following_url": "https://api.github.com/users/Pablo-Merino/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pablo-Merino/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pablo-Merino/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pablo-Merino/subscriptions",
            "organizations_url": "https://api.github.com/users/Pablo-Merino/orgs",
            "repos_url": "https://api.github.com/users/Pablo-Merino/repos",
            "events_url": "https://api.github.com/users/Pablo-Merino/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pablo-Merino/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Just pushed :smile:\n",
        "created_at": "2014-09-08T10:17:08Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230253",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17230253"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17230253"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17233333",
        "pull_request_review_id": null,
        "id": 17233333,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjMzMzMz",
        "diff_hunk": "@@ -222,6 +222,34 @@ def formatted_text(array, options={})\n         draw_remaining_formatted_text_on_new_pages(remaining_text, options)\n       end\n     end\n+    # Draws a link into a page.\n+    # With this helper you can add a link to a page without having to use the tag format\n+    #\n+    # == Example\n+    #\n+    #   link('Go to the wiki',\n+    #           'https://github.com/prawnpdf/prawn/wiki',\n+    #           :size => 24,\n+    #           :styles => [:bold, :italic])\n+    #\n+    # == Options\n+    #\n+    # Accepts the same options as #text\n+    #\n+    # == Exceptions\n+    #\n+    # Same as for #text\n+    #\n+    def link(title, url, options={})\n+      if title && url\n+        link_string = %(<link href=\"#{url}\">#{title}</link>)\n+        options = options.dup\n+        options[:inline_format] = true\n+        self.text(link_string, options)\n+      else\n+        false",
        "path": "lib/prawn/text.rb",
        "position": null,
        "original_position": 29,
        "commit_id": "65bf8e50e187550863303d65dd7e1d6ee024832d",
        "original_commit_id": "cb913c1262889f89153f640e41d44e324c41937c",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't know how well we thought out this interface, but if right now we're returning `false` to signal non-rendering, we might as well be consistent. So it's OK to leave as-is.\n",
        "created_at": "2014-09-08T11:54:13Z",
        "updated_at": "2014-09-09T09:02:43Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17233333",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/764",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/17233333"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/764#discussion_r17233333"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/764"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/18934146",
        "pull_request_review_id": null,
        "id": 18934146,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTM0MTQ2",
        "diff_hunk": "@@ -1,5 +1,3 @@\n-# encoding: utf-8",
        "path": "lib/prawn/document.rb",
        "position": 1,
        "original_position": 1,
        "commit_id": "b4d08a30a865aeccaed2387adc36e3ad5b83ffb9",
        "original_commit_id": "b4d08a30a865aeccaed2387adc36e3ad5b83ffb9",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This was probably accidentally deleted, please restore it.\n",
        "created_at": "2014-10-16T01:22:15Z",
        "updated_at": "2014-10-16T01:22:15Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/789#discussion_r18934146",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/789",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/18934146"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/789#discussion_r18934146"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/789"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/18957301",
        "pull_request_review_id": null,
        "id": 18957301,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTU3MzAx",
        "diff_hunk": "@@ -0,0 +1,53 @@\n+# encoding: utf-8\n+#\n+# The <code>number_pages</code> method is a simple way to number the pages of\n+# your document. It should be called towards the end of the document since\n+# pages created after the call won't be numbered.\n+#\n+# It accepts a string and a hash of options:\n+#\n+# <code>start_count_at</code> is the value from which to start numbering pages\n+#\n+# <code>total_pages</code> If provided, will replace <code>total</code> with\n+# the value given.  Useful for overriding the total number of pages when using\n+# the start_count_at option.\n+#\n+# <code>page_filter</code>, which is one of: <code>:all</code>,\n+# <code>:odd</code>, <code>:even</code>, an array, a range, or a Proc that\n+# receives the page number as an argument and should return true if the page\n+# number should be printed on that page.\n+#\n+# <code>color</code> which accepts the same values as <code>fill_color</code>\n+#\n+# As well as any option accepted by <code>text_box</code>\n+#\n+# Below is the code to generate page numbers that alternate being rendered\n+# on the right and left side of the page. The first page will have a \"1\" in\n+# the bottom right corner. The second page will have a \"2\" in the bottom \n+# left corner of the page. The third a \"3\" in the bottom right, etc.\n+require File.expand_path(File.join(File.dirname(__FILE__),\n+                                   %w[.. example_helper]))\n+\n+filename = File.basename(__FILE__).gsub('.rb', '.pdf')\n+Prawn::ManualBuilder::Example.generate(filename) do\n+  text \"This is the first page!\"\n+\n+  10.times do\n+    start_new_page\n+    text \"Here comes yet another page.\"\n+  end\n+\n+  string = \"<page>\"\n+  odd_options = { :at => [bounds.right - 150, 0],\n+                  :width => 150,\n+                  :align => :right,\n+                  :page_filter => :odd",
        "path": "manual/repeatable_content/alternate_page_numbering.rb",
        "position": null,
        "original_position": 44,
        "commit_id": "6377f6733fd5c6f44298eb8412834c4b802cd715",
        "original_commit_id": "66a2987a43da4a482574e2e78d5a430341c08002",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It looks like you missed a comma here.\n",
        "created_at": "2014-10-16T14:14:00Z",
        "updated_at": "2014-10-16T14:51:22Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/790#discussion_r18957301",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/790",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/18957301"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/790#discussion_r18957301"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/790"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/19060267",
        "pull_request_review_id": null,
        "id": 19060267,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDYwMjY3",
        "diff_hunk": "@@ -101,6 +101,10 @@ def normalize_encoding(text)\n           \"Arguments to text methods must be UTF-8 encoded\"\n       end\n \n+      def to_utf8(text)\n+        text.bytes.pack(\"U*\")",
        "path": "lib/prawn/font/afm.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "9b930782dc840531a03eb3c5269a8ac54d662c52",
        "original_commit_id": "33a44c62c9b20a876f65fbdb4a4f4ea721fb6b79",
        "user": {
            "login": "practicingruby",
            "id": 4893,
            "node_id": "MDQ6VXNlcjQ4OTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/4893?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicingruby",
            "html_url": "https://github.com/practicingruby",
            "followers_url": "https://api.github.com/users/practicingruby/followers",
            "following_url": "https://api.github.com/users/practicingruby/following{/other_user}",
            "gists_url": "https://api.github.com/users/practicingruby/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/practicingruby/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/practicingruby/subscriptions",
            "organizations_url": "https://api.github.com/users/practicingruby/orgs",
            "repos_url": "https://api.github.com/users/practicingruby/repos",
            "events_url": "https://api.github.com/users/practicingruby/events{/privacy}",
            "received_events_url": "https://api.github.com/users/practicingruby/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "TODO: This may not actually be a correct way of converting back into UTF-8. Needs closer investigation.\n",
        "created_at": "2014-10-19T13:38:30Z",
        "updated_at": "2014-10-22T15:14:53Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/793#discussion_r19060267",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/793",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/19060267"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/793#discussion_r19060267"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/793"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35949449",
        "pull_request_review_id": null,
        "id": 35949449,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1OTQ5NDQ5",
        "diff_hunk": "@@ -212,6 +219,8 @@ def font_style(styles)\n \n         private\n \n+        attr_accessor :finalized",
        "path": "lib/prawn/text/formatted/arranger.rb",
        "position": 106,
        "original_position": 106,
        "commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "original_commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This seem to be deprecated in Ruby 2. Doesn't it warn you?\n\n`protected` seem to be fine for `attr_accessor`, though.\n",
        "created_at": "2015-07-31T06:34:39Z",
        "updated_at": "2015-07-31T06:34:39Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35949449",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/897",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35949449"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35949449"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/897"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35971856",
        "pull_request_review_id": null,
        "id": 35971856,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1OTcxODU2",
        "diff_hunk": "@@ -212,6 +219,8 @@ def font_style(styles)\n \n         private\n \n+        attr_accessor :finalized",
        "path": "lib/prawn/text/formatted/arranger.rb",
        "position": 106,
        "original_position": 106,
        "commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "original_commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "user": {
            "login": "packetmonkey",
            "id": 4451,
            "node_id": "MDQ6VXNlcjQ0NTE=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/4451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/packetmonkey",
            "html_url": "https://github.com/packetmonkey",
            "followers_url": "https://api.github.com/users/packetmonkey/followers",
            "following_url": "https://api.github.com/users/packetmonkey/following{/other_user}",
            "gists_url": "https://api.github.com/users/packetmonkey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/packetmonkey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/packetmonkey/subscriptions",
            "organizations_url": "https://api.github.com/users/packetmonkey/orgs",
            "repos_url": "https://api.github.com/users/packetmonkey/repos",
            "events_url": "https://api.github.com/users/packetmonkey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/packetmonkey/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Matz agreed that this warning is wrong and it's going to be removed in a future version.\n\nhttps://bugs.ruby-lang.org/issues/10967\n",
        "created_at": "2015-07-31T13:17:32Z",
        "updated_at": "2015-07-31T13:17:32Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35971856",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/897",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35971856"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35971856"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/897"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35972585",
        "pull_request_review_id": null,
        "id": 35972585,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1OTcyNTg1",
        "diff_hunk": "@@ -212,6 +219,8 @@ def font_style(styles)\n \n         private\n \n+        attr_accessor :finalized",
        "path": "lib/prawn/text/formatted/arranger.rb",
        "position": 106,
        "original_position": 106,
        "commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "original_commit_id": "435ca6cf7774a6a493a12f2bb2271252732597d3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ah, cool!\n",
        "created_at": "2015-07-31T13:26:24Z",
        "updated_at": "2015-07-31T13:26:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35972585",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/897",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/35972585"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/897#discussion_r35972585"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/897"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/36642452",
        "pull_request_review_id": null,
        "id": 36642452,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyNDUy",
        "diff_hunk": "@@ -396,7 +396,23 @@ def eql?(other) #:nodoc:\n     # generate a font identifier that hasn't been used on the current page yet\n     #\n     def generate_unique_id\n-      :\"F#{@document.font_registry.size + 1}\"\n+      key = nil\n+      font_count = @document.font_registry.size + 1\n+      loop do\n+        key = :\"F#{font_count}\"\n+        break if key_is_unique?(key)\n+        font_count += 1\n+      end\n+      key\n+    end\n+\n+    def key_is_unique?(test_key)\n+      @document.state.page.fonts.keys.each do |key|",
        "path": "lib/prawn/font.rb",
        "position": null,
        "original_position": 16,
        "commit_id": "906739d2f60856ff36ef809413aa008efe6aabcb",
        "original_commit_id": "7e89232c2290ce729e4121855ff06d1a699e2979",
        "user": {
            "login": "crazymykl",
            "id": 234584,
            "node_id": "MDQ6VXNlcjIzNDU4NA==",
            "avatar_url": "https://avatars3.githubusercontent.com/u/234584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/crazymykl",
            "html_url": "https://github.com/crazymykl",
            "followers_url": "https://api.github.com/users/crazymykl/followers",
            "following_url": "https://api.github.com/users/crazymykl/following{/other_user}",
            "gists_url": "https://api.github.com/users/crazymykl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/crazymykl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/crazymykl/subscriptions",
            "organizations_url": "https://api.github.com/users/crazymykl/orgs",
            "repos_url": "https://api.github.com/users/crazymykl/repos",
            "events_url": "https://api.github.com/users/crazymykl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/crazymykl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "`Enumerable#any?` might be good here.\n",
        "created_at": "2015-08-10T15:13:07Z",
        "updated_at": "2015-09-01T08:27:10Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/898#discussion_r36642452",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/898",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/36642452"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/898#discussion_r36642452"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/898"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45910535",
        "pull_request_review_id": null,
        "id": 45910535,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEwNTM1",
        "diff_hunk": "@@ -0,0 +1,78 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, and :Exclusion.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      BLEND_MODES = [:Normal, :Multiply, :Screen, :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight, :Difference, :Exclusion]\n+\n+      # @group Stable API\n+\n+      def blend_mode(blend_mode = :Normal)\n+        renderer.min_version(1.4)\n+\n+        save_graphics_state if block_given?\n+        renderer.add_content \"/#{blend_mode_dictionary_name(blend_mode)} gs\"\n+        if block_given?\n+          yield\n+          restore_graphics_state\n+        end\n+      end\n+\n+      private\n+\n+      def blend_mode_dictionary_registry\n+        @blend_mode_dictionary_registry ||= {}\n+      end\n+\n+      def next_blend_mode_dictionary_id\n+        blend_mode_dictionary_registry.length + 1\n+      end\n+\n+      def blend_mode_dictionary_name(blend_mode)\n+        key = \"#{blend_mode.to_s}\"\n+\n+        if blend_mode_dictionary_registry[key]\n+          dictionary =  blend_mode_dictionary_registry[key][:obj]\n+          dictionary_name =  blend_mode_dictionary_registry[key][:name]\n+        else\n+          dictionary = ref!(\n+            :Type => :ExtGState,\n+            :BM   => blend_mode\n+          )\n+\n+          dictionary_name = \"BM#{next_blend_mode_dictionary_id}\"",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 68,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7c196e75ddce2df244204312ca6a17c31d824426",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It seems there's no need for incremental ID tracking. There's only so many values it can take. Let's switch from ID to name-based dictionary names?\n\n``` ruby\ndictionary_name = \"BM#{blend_mode}\"\n```\n\nThen we can get rid of `name` entry in the registry and `ext_blend_mode_dictionary_id` method.\n\nSo it would look like this:\n\n``` ruby\ndef blend_mode_dictionary_name(blend_mode)\n  dictionary_name = \"BM#{blend_mode}\"\n\n  dictionary = blend_mode_dictionary_registry[dictionary_name] ||= ref!(\n    Type: :ExtGState,\n    BM: blend_mode\n  )\n  dictionary = blend_mode_dictionary_registry[dictionary_name]\n\n  page.ext_gstates.merge!(dictionary_name => dictionary)\n  dictionary_name\nend\n```\n",
        "created_at": "2015-11-25T19:37:14Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45910535",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45910535"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45910535"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45910881",
        "pull_request_review_id": null,
        "id": 45910881,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEwODgx",
        "diff_hunk": "@@ -0,0 +1,78 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, and :Exclusion.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      BLEND_MODES = [:Normal, :Multiply, :Screen, :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight, :Difference, :Exclusion]",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7c196e75ddce2df244204312ca6a17c31d824426",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Spec mentions four more blend modes: Hue, Saturation, Color, and Luminosity.\n\nAnyway, this constant is not used anywhere in the lib code. Maybe, it should move to the manual where it's used?\n",
        "created_at": "2015-11-25T19:40:33Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45910881",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45910881"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45910881"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45957271",
        "pull_request_review_id": null,
        "id": 45957271,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU3Mjcx",
        "diff_hunk": "@@ -0,0 +1,78 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, and :Exclusion.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      BLEND_MODES = [:Normal, :Multiply, :Screen, :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight, :Difference, :Exclusion]",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7c196e75ddce2df244204312ca6a17c31d824426",
        "user": {
            "login": "mogest",
            "id": 23133,
            "node_id": "MDQ6VXNlcjIzMTMz",
            "avatar_url": "https://avatars1.githubusercontent.com/u/23133?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mogest",
            "html_url": "https://github.com/mogest",
            "followers_url": "https://api.github.com/users/mogest/followers",
            "following_url": "https://api.github.com/users/mogest/following{/other_user}",
            "gists_url": "https://api.github.com/users/mogest/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mogest/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mogest/subscriptions",
            "organizations_url": "https://api.github.com/users/mogest/orgs",
            "repos_url": "https://api.github.com/users/mogest/repos",
            "events_url": "https://api.github.com/users/mogest/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mogest/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Or validate the inclusion of `blend_mode` in `BLEND_MODES`?  I feel happy with either solution.\n",
        "created_at": "2015-11-26T09:21:53Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45957271",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45957271"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45957271"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45957489",
        "pull_request_review_id": null,
        "id": 45957489,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU3NDg5",
        "diff_hunk": "@@ -0,0 +1,78 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, and :Exclusion.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      BLEND_MODES = [:Normal, :Multiply, :Screen, :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight, :Difference, :Exclusion]",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7c196e75ddce2df244204312ca6a17c31d824426",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Validation is not a good solution in this case. Spec mentions that `Normal` is a fallback when renderer can not recognize any of the blend modes listed. This ensures backwards compatibility with newer PDF versions which may introduce new blend modes.\n",
        "created_at": "2015-11-26T09:24:19Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45957489",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45957489"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45957489"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45961998",
        "pull_request_review_id": null,
        "id": 45961998,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYxOTk4",
        "diff_hunk": "@@ -0,0 +1,78 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, and :Exclusion.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      BLEND_MODES = [:Normal, :Multiply, :Screen, :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight, :Difference, :Exclusion]",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7c196e75ddce2df244204312ca6a17c31d824426",
        "user": {
            "login": "mogest",
            "id": 23133,
            "node_id": "MDQ6VXNlcjIzMTMz",
            "avatar_url": "https://avatars1.githubusercontent.com/u/23133?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mogest",
            "html_url": "https://github.com/mogest",
            "followers_url": "https://api.github.com/users/mogest/followers",
            "following_url": "https://api.github.com/users/mogest/following{/other_user}",
            "gists_url": "https://api.github.com/users/mogest/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mogest/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mogest/subscriptions",
            "organizations_url": "https://api.github.com/users/mogest/orgs",
            "repos_url": "https://api.github.com/users/mogest/repos",
            "events_url": "https://api.github.com/users/mogest/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mogest/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I guess my concern would be that users of prawn are likely to stuff it up, for example use `:multiply` instead of the un-ruby-looking `:Multiply`, or even `'multiply'`, and then wonder why it's not working properly.  That will probably happen a lot more frequently than the PDF spec adding a new blend mode which would then manually need to be added to the list, being an annoyance to someone who wanted to use the new mode soon after its release.\n\nI can see the logic in your proposal though; it's probably more a style/approach question for the project, which I will certainly defer to you :bow:\n",
        "created_at": "2015-11-26T10:10:48Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45961998",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/45961998"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r45961998"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/46076993",
        "pull_request_review_id": null,
        "id": 46076993,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc2OTkz",
        "diff_hunk": "@@ -0,0 +1,64 @@\n+# encoding: utf-8\n+#\n+# blend_mode.rb : Implements blend modes\n+#\n+# Contributed by John Ford. October, 2015\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+\n+module Prawn\n+  module Graphics\n+    # The Prawn::BlendMode module is used to change the way\n+    # two layers are blended together.\n+    #\n+    # Passing an array of blend modes is allowed. PDF viewers should\n+    # blend layers based on the first recognized blend mode.\n+    #\n+    # Valid blend modes in v1.4 of the PDF spec include :Normal, :Multiply, :Screen,\n+    # :Overlay, :Darken, :Lighten, :ColorDodge, :ColorBurn, :HardLight, :SoftLight,\n+    # :Difference, :Exclusion, :Hue, :Saturation, :Color, and :Luminosity.\n+    #\n+    # Example:\n+    #   pdf.fill_color('0000ff')\n+    #   pdf.fill_rectangle([x, y+25], 50, 50)\n+    #   pdf.blend_mode(:Multiply) do\n+    #     pdf.fill_color('ff0000')\n+    #     pdf.fill_circle([x, y], 25)\n+    #   end\n+    #\n+    module BlendMode\n+      # @group Stable API\n+\n+      def blend_mode(blend_mode = :Normal)\n+        renderer.min_version(1.4)\n+\n+        save_graphics_state if block_given?\n+        renderer.add_content \"/#{blend_mode_dictionary_name(blend_mode)} gs\"\n+        if block_given?\n+          yield\n+          restore_graphics_state\n+        end\n+      end\n+\n+      private\n+\n+      def blend_mode_dictionary_registry\n+        @blend_mode_dictionary_registry ||= {}\n+      end\n+\n+      def blend_mode_dictionary_name(blend_mode)\n+        key = blend_mode.is_a?(Array) ? blend_mode.join : blend_mode",
        "path": "lib/prawn/graphics/blend_mode.rb",
        "position": null,
        "original_position": 51,
        "commit_id": "47a29c00ecb41e55256badb1ca48bc4e80b7ad32",
        "original_commit_id": "7e26b562422a693f8c031e0fcb8170bf76814c82",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You can make it a bit simpler.\n\n``` ruby\nkey = Array(blend_mode).join('')\n```\n\nBasically, you wrap the input into array if it's not already and then join the values. Also you should always specify the joiner string unless you're dealing with the data from `ENV`.\n",
        "created_at": "2015-11-28T07:22:40Z",
        "updated_at": "2015-11-28T07:41:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/910#discussion_r46076993",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/910",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/46076993"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/910#discussion_r46076993"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/910"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/49697662",
        "pull_request_review_id": null,
        "id": 49697662,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NjYy",
        "diff_hunk": "@@ -108,7 +108,7 @@ def colors\n       #\n       def split_alpha_channel!\n         if alpha_channel?\n-          if color_type == 3\n+          if color_type == 3 && !@transparency.empty?",
        "path": "lib/prawn/images/png.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "89c95e07ca1563713bf3f44db466b51770ddca1e",
        "original_commit_id": "63cf20965f73326aa42ef1ba66659a8e14f5324a",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "`@transparency.any?` seem a bit shorter and simpler.\n\nBut that's just nitpicking.\n",
        "created_at": "2016-01-14T08:21:42Z",
        "updated_at": "2016-01-15T00:08:04Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/938#discussion_r49697662",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/938",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/49697662"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/938#discussion_r49697662"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/938"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/63244842",
        "pull_request_review_id": null,
        "id": 63244842,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ0ODQy",
        "diff_hunk": "@@ -94,7 +94,11 @@ def process_color(*color)\n       def color_type(color)\n         case color\n         when String\n-          :RGB\n+          if color =~ /\\A[0-F]{6}\\z/i",
        "path": "lib/prawn/graphics/color.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "485875370955d450af7b9e2d36d33a25fddae690",
        "original_commit_id": "485875370955d450af7b9e2d36d33a25fddae690",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "There are a few characters that we probably don't want to match between `'9'` and `'A'`. I'd prefer this regex to be something more specific. For example `/\\A[0-9a-f]{6}\\z/i`.\n",
        "created_at": "2016-05-13T20:17:28Z",
        "updated_at": "2016-05-13T20:17:28Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/869#discussion_r63244842",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/869",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/63244842"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/869#discussion_r63244842"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/869"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65803974",
        "pull_request_review_id": null,
        "id": 65803974,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODAzOTc0",
        "diff_hunk": "@@ -683,21 +683,20 @@ def generate_margin_box\n     end\n \n     def apply_margin_options(options)\n-      if options[:margin]\n-        # Treat :margin as CSS shorthand with 1-4 values.\n-        margin = Array(options[:margin])\n-        positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n-                      2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0] }[margin.length]\n-\n-        [:top, :right, :bottom, :left].zip(positions).each do |p, i|\n-          options[:\"#{p}_margin\"] ||= margin[i]\n-        end\n-      end\n+      sides = [:top, :right, :bottom, :left]\n+      margin = Array(options[:margin])\n \n-      [:left, :right, :top, :bottom].each do |side|\n-        if margin = options[:\"#{side}_margin\"]\n-          state.page.margins[side] = margin\n-        end\n+      # Treat :margin as CSS shorthand with 1-4 values.\n+      positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n+                    2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0],\n+                    0 => [] }[margin.length]\n+\n+      sides.zip(positions).each do |side, pos|\n+        state.page.margins[side] = margin[pos] if pos\n+\n+        # side-specific margin options take precedence over :margin\n+        specific = options[\"#{side}_margin\"]",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "16396d606af74ff2f70261bca88e6446ee742abe",
        "original_commit_id": "bee01da7515c819f1d7767e44e4cf02fab33ae66",
        "user": {
            "login": "crazymykl",
            "id": 234584,
            "node_id": "MDQ6VXNlcjIzNDU4NA==",
            "avatar_url": "https://avatars3.githubusercontent.com/u/234584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/crazymykl",
            "html_url": "https://github.com/crazymykl",
            "followers_url": "https://api.github.com/users/crazymykl/followers",
            "following_url": "https://api.github.com/users/crazymykl/following{/other_user}",
            "gists_url": "https://api.github.com/users/crazymykl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/crazymykl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/crazymykl/subscriptions",
            "organizations_url": "https://api.github.com/users/crazymykl/orgs",
            "repos_url": "https://api.github.com/users/crazymykl/repos",
            "events_url": "https://api.github.com/users/crazymykl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/crazymykl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You could use `options[\"#{side}_margin\"] || margin[pos]` as the rhs here, and lose line 695. This avoids calling `[]=` twice on the margins.\n",
        "created_at": "2016-06-04T15:41:49Z",
        "updated_at": "2016-06-04T17:28:10Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65803974",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/963",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65803974"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65803974"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/963"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65805238",
        "pull_request_review_id": null,
        "id": 65805238,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODA1MjM4",
        "diff_hunk": "@@ -683,21 +683,20 @@ def generate_margin_box\n     end\n \n     def apply_margin_options(options)\n-      if options[:margin]\n-        # Treat :margin as CSS shorthand with 1-4 values.\n-        margin = Array(options[:margin])\n-        positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n-                      2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0] }[margin.length]\n-\n-        [:top, :right, :bottom, :left].zip(positions).each do |p, i|\n-          options[:\"#{p}_margin\"] ||= margin[i]\n-        end\n-      end\n+      sides = [:top, :right, :bottom, :left]\n+      margin = Array(options[:margin])\n \n-      [:left, :right, :top, :bottom].each do |side|\n-        if margin = options[:\"#{side}_margin\"]\n-          state.page.margins[side] = margin\n-        end\n+      # Treat :margin as CSS shorthand with 1-4 values.\n+      positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n+                    2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0],\n+                    0 => [] }[margin.length]\n+\n+      sides.zip(positions).each do |side, pos|\n+        state.page.margins[side] = margin[pos] if pos\n+\n+        # side-specific margin options take precedence over :margin\n+        specific = options[\"#{side}_margin\"]",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "16396d606af74ff2f70261bca88e6446ee742abe",
        "original_commit_id": "bee01da7515c819f1d7767e44e4cf02fab33ae66",
        "user": {
            "login": "johncip",
            "id": 733916,
            "node_id": "MDQ6VXNlcjczMzkxNg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/733916?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johncip",
            "html_url": "https://github.com/johncip",
            "followers_url": "https://api.github.com/users/johncip/followers",
            "following_url": "https://api.github.com/users/johncip/following{/other_user}",
            "gists_url": "https://api.github.com/users/johncip/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johncip/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johncip/subscriptions",
            "organizations_url": "https://api.github.com/users/johncip/orgs",
            "repos_url": "https://api.github.com/users/johncip/repos",
            "events_url": "https://api.github.com/users/johncip/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johncip/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Nice catch. We do still need to guard against `pos == nil` before doing a lookup in the margins array, and default to the last page's margin. So this an option:\n\n``` ruby\nsides.zip(positions).each do |side, pos|\n  new_margin = options[\"#{side}_margin\"] || (margin[pos] if pos)\n  state.page.margins[side] = new_margin if new_margin\nend\n```\n\nWhile I'm not big on `(... if pos)`, it's not unclear. Giving `positions[0]` dummy values would prevent the presence check, but IMO that _would_ be less clear. Overall I do think this is better.\n",
        "created_at": "2016-06-04T17:32:37Z",
        "updated_at": "2016-06-04T17:32:37Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65805238",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/963",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65805238"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65805238"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/963"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65806456",
        "pull_request_review_id": null,
        "id": 65806456,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODA2NDU2",
        "diff_hunk": "@@ -683,21 +683,20 @@ def generate_margin_box\n     end\n \n     def apply_margin_options(options)\n-      if options[:margin]\n-        # Treat :margin as CSS shorthand with 1-4 values.\n-        margin = Array(options[:margin])\n-        positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n-                      2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0] }[margin.length]\n-\n-        [:top, :right, :bottom, :left].zip(positions).each do |p, i|\n-          options[:\"#{p}_margin\"] ||= margin[i]\n-        end\n-      end\n+      sides = [:top, :right, :bottom, :left]\n+      margin = Array(options[:margin])\n \n-      [:left, :right, :top, :bottom].each do |side|\n-        if margin = options[:\"#{side}_margin\"]\n-          state.page.margins[side] = margin\n-        end\n+      # Treat :margin as CSS shorthand with 1-4 values.\n+      positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n+                    2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0],\n+                    0 => [] }[margin.length]\n+\n+      sides.zip(positions).each do |side, pos|\n+        state.page.margins[side] = margin[pos] if pos\n+\n+        # side-specific margin options take precedence over :margin\n+        specific = options[\"#{side}_margin\"]",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "16396d606af74ff2f70261bca88e6446ee742abe",
        "original_commit_id": "bee01da7515c819f1d7767e44e4cf02fab33ae66",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I don't think you need to do `if pos`.\n\n`options[\"#{side}_margin\"] || margin[pos]` would result in `nil` when none is present and the next guard will catch it.\n",
        "created_at": "2016-06-04T19:20:28Z",
        "updated_at": "2016-06-04T19:20:28Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65806456",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/963",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65806456"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65806456"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/963"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65809275",
        "pull_request_review_id": null,
        "id": 65809275,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODA5Mjc1",
        "diff_hunk": "@@ -683,21 +683,20 @@ def generate_margin_box\n     end\n \n     def apply_margin_options(options)\n-      if options[:margin]\n-        # Treat :margin as CSS shorthand with 1-4 values.\n-        margin = Array(options[:margin])\n-        positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n-                      2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0] }[margin.length]\n-\n-        [:top, :right, :bottom, :left].zip(positions).each do |p, i|\n-          options[:\"#{p}_margin\"] ||= margin[i]\n-        end\n-      end\n+      sides = [:top, :right, :bottom, :left]\n+      margin = Array(options[:margin])\n \n-      [:left, :right, :top, :bottom].each do |side|\n-        if margin = options[:\"#{side}_margin\"]\n-          state.page.margins[side] = margin\n-        end\n+      # Treat :margin as CSS shorthand with 1-4 values.\n+      positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n+                    2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0],\n+                    0 => [] }[margin.length]\n+\n+      sides.zip(positions).each do |side, pos|\n+        state.page.margins[side] = margin[pos] if pos\n+\n+        # side-specific margin options take precedence over :margin\n+        specific = options[\"#{side}_margin\"]",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "16396d606af74ff2f70261bca88e6446ee742abe",
        "original_commit_id": "bee01da7515c819f1d7767e44e4cf02fab33ae66",
        "user": {
            "login": "johncip",
            "id": 733916,
            "node_id": "MDQ6VXNlcjczMzkxNg==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/733916?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johncip",
            "html_url": "https://github.com/johncip",
            "followers_url": "https://api.github.com/users/johncip/followers",
            "following_url": "https://api.github.com/users/johncip/following{/other_user}",
            "gists_url": "https://api.github.com/users/johncip/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johncip/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johncip/subscriptions",
            "organizations_url": "https://api.github.com/users/johncip/orgs",
            "repos_url": "https://api.github.com/users/johncip/repos",
            "events_url": "https://api.github.com/users/johncip/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johncip/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Unless I'm misunderstanding you -- when there are no margins in the options hash, `pos` is nil each time through the loop. Trying to evaluate `margins[nil]` would raise a TypeError.\n\nTwo workarounds I noticed were supplying dummy values to the positions array, or looping over `sides.zip(Array(positions))` -- both seemed less explicit.\n",
        "created_at": "2016-06-04T23:44:54Z",
        "updated_at": "2016-06-04T23:44:54Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65809275",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/963",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65809275"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65809275"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/963"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65811917",
        "pull_request_review_id": null,
        "id": 65811917,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODExOTE3",
        "diff_hunk": "@@ -683,21 +683,20 @@ def generate_margin_box\n     end\n \n     def apply_margin_options(options)\n-      if options[:margin]\n-        # Treat :margin as CSS shorthand with 1-4 values.\n-        margin = Array(options[:margin])\n-        positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n-                      2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0] }[margin.length]\n-\n-        [:top, :right, :bottom, :left].zip(positions).each do |p, i|\n-          options[:\"#{p}_margin\"] ||= margin[i]\n-        end\n-      end\n+      sides = [:top, :right, :bottom, :left]\n+      margin = Array(options[:margin])\n \n-      [:left, :right, :top, :bottom].each do |side|\n-        if margin = options[:\"#{side}_margin\"]\n-          state.page.margins[side] = margin\n-        end\n+      # Treat :margin as CSS shorthand with 1-4 values.\n+      positions = { 4 => [0, 1, 2, 3], 3 => [0, 1, 2, 1],\n+                    2 => [0, 1, 0, 1], 1 => [0, 0, 0, 0],\n+                    0 => [] }[margin.length]\n+\n+      sides.zip(positions).each do |side, pos|\n+        state.page.margins[side] = margin[pos] if pos\n+\n+        # side-specific margin options take precedence over :margin\n+        specific = options[\"#{side}_margin\"]",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "16396d606af74ff2f70261bca88e6446ee742abe",
        "original_commit_id": "bee01da7515c819f1d7767e44e4cf02fab33ae66",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You are right. Please disregard my comment.\n",
        "created_at": "2016-06-05T06:18:24Z",
        "updated_at": "2016-06-05T06:18:24Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65811917",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/963",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/65811917"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/963#discussion_r65811917"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/963"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/72893185",
        "pull_request_review_id": null,
        "id": 72893185,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyODkzMTg1",
        "diff_hunk": "@@ -69,6 +69,17 @@ def method_missing(m, *a, &b)\n       document.send(m, *a, &b)\n     end\n \n+    # Checks if +document+ respond_to +method_name+.\n+    #\n+    # This will correctly returns if Prawn::View object respond or not to a",
        "path": "lib/prawn/view.rb",
        "position": 6,
        "original_position": 6,
        "commit_id": "5a6f73c9516999cd19a03ef353d6fcad8e0b4ff9",
        "original_commit_id": "5a6f73c9516999cd19a03ef353d6fcad8e0b4ff9",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm not a native English speaker myself but this doesn't sound right to me.\n",
        "created_at": "2016-07-30T19:47:05Z",
        "updated_at": "2016-07-30T19:47:05Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/971#discussion_r72893185",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/971",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/72893185"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/971#discussion_r72893185"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/971"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/72897012",
        "pull_request_review_id": null,
        "id": 72897012,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyODk3MDEy",
        "diff_hunk": "@@ -69,6 +69,17 @@ def method_missing(m, *a, &b)\n       document.send(m, *a, &b)\n     end\n \n+    # Checks if +document+ respond_to +method_name+.\n+    #\n+    # This will correctly returns if Prawn::View object respond or not to a",
        "path": "lib/prawn/view.rb",
        "position": 6,
        "original_position": 6,
        "commit_id": "5a6f73c9516999cd19a03ef353d6fcad8e0b4ff9",
        "original_commit_id": "5a6f73c9516999cd19a03ef353d6fcad8e0b4ff9",
        "user": {
            "login": "packetmonkey",
            "id": 4451,
            "node_id": "MDQ6VXNlcjQ0NTE=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/4451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/packetmonkey",
            "html_url": "https://github.com/packetmonkey",
            "followers_url": "https://api.github.com/users/packetmonkey/followers",
            "following_url": "https://api.github.com/users/packetmonkey/following{/other_user}",
            "gists_url": "https://api.github.com/users/packetmonkey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/packetmonkey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/packetmonkey/subscriptions",
            "organizations_url": "https://api.github.com/users/packetmonkey/orgs",
            "repos_url": "https://api.github.com/users/packetmonkey/repos",
            "events_url": "https://api.github.com/users/packetmonkey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/packetmonkey/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Good catch, lets change this to something like \n\n``` ruby\n    # Checks if +Prawn::View+ respond_to +method_name+.\n    #\n    # Returns `true` if the Prawn::View object responds to the method, otherwise\n    # returns `false`\n```\n\nDoes that look good to everyone?\n",
        "created_at": "2016-07-31T02:26:53Z",
        "updated_at": "2016-07-31T02:26:53Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/971#discussion_r72897012",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/971",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/72897012"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/971#discussion_r72897012"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/971"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/54006440",
        "pull_request_review_id": null,
        "id": 54006440,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA2NDQw",
        "diff_hunk": "@@ -10,7 +10,7 @@\n Prawn::ManualBuilder::Example.generate(filename) do\n   stroke_axis\n \n-  # Fill with Yellow using RGB\n+  # Fill with Yellow using RGB (Unlink css, there is no leading #)",
        "path": "manual/graphics/color.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "485875370955d450af7b9e2d36d33a25fddae690",
        "original_commit_id": "cbf476b5c51b3bdae223acb5b810865056d5c22a",
        "user": {
            "login": "crazymykl",
            "id": 234584,
            "node_id": "MDQ6VXNlcjIzNDU4NA==",
            "avatar_url": "https://avatars3.githubusercontent.com/u/234584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/crazymykl",
            "html_url": "https://github.com/crazymykl",
            "followers_url": "https://api.github.com/users/crazymykl/followers",
            "following_url": "https://api.github.com/users/crazymykl/following{/other_user}",
            "gists_url": "https://api.github.com/users/crazymykl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/crazymykl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/crazymykl/subscriptions",
            "organizations_url": "https://api.github.com/users/crazymykl/orgs",
            "repos_url": "https://api.github.com/users/crazymykl/repos",
            "events_url": "https://api.github.com/users/crazymykl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/crazymykl/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Unlike.\n",
        "created_at": "2016-02-24T21:07:41Z",
        "updated_at": "2017-02-12T13:00:06Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/869#discussion_r54006440",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/869",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/54006440"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/869#discussion_r54006440"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/869"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669591",
        "pull_request_review_id": 21387850,
        "id": 100669591,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY2OTU5MQ==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|\n+            list << font.name.font_name.join(', ')\n+          end\n+\n+          list\n+        end\n+      end\n+\n+      private\n+\n+      def read_ttf_file",
        "path": "lib/prawn/font/ttc.rb",
        "position": 18,
        "original_position": 30,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This is not quite an appropriate name for the method. If you want to follow inheritance path I'd suggest renaming the method to something less specific. For instance, `read_file`.",
        "created_at": "2017-02-11T15:29:24Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669591",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669591"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669591"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669764",
        "pull_request_review_id": 21387850,
        "id": 100669764,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY2OTc2NA==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Prawn uses git to track code changes and thus authorship information. Given the nature of a highly collaborative project such a Prawn, this information can get outdated rather quickly. Because of this I'd suggest leaving this comment out.\r\n\r\nWe acknowledge your contribution and you definitely keep copyright for the code.\r\n\r\nIf you feel strongly about inclusion of this comment please update it to be factually correct as of now.",
        "created_at": "2017-02-11T15:39:01Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669764",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669764"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669764"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669796",
        "pull_request_review_id": 21387850,
        "id": 100669796,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY2OTc5Ng==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|\n+            list << font.name.font_name.join(', ')\n+          end\n+\n+          list\n+        end\n+      end\n+\n+      private\n+\n+      def read_ttf_file\n+        TTFunk::File.from_ttc(@name, @options[:font] || 0)",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Fonts are usually referred to by name, not index. `:font` doesn't seem to be appropriate. Maybe rename the argument to `:index`?",
        "created_at": "2017-02-11T15:40:47Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669796",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100669796"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100669796"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681223",
        "pull_request_review_id": 21398100,
        "id": 100681223,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY4MTIyMw==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "jamis",
            "id": 1627,
            "node_id": "MDQ6VXNlcjE2Mjc=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1627?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamis",
            "html_url": "https://github.com/jamis",
            "followers_url": "https://api.github.com/users/jamis/followers",
            "following_url": "https://api.github.com/users/jamis/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamis/subscriptions",
            "organizations_url": "https://api.github.com/users/jamis/orgs",
            "repos_url": "https://api.github.com/users/jamis/repos",
            "events_url": "https://api.github.com/users/jamis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamis/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Ha, sorry... as you can see from the date, that was actually not recent. :) I copied the font/dfont.rb file (which I also contributed, more than eight years ago, apparently!) and adapted it to TTC, and forgot to clean up the header comment.  I'll clean it up there, and on dfont.rb.",
        "created_at": "2017-02-12T01:42:13Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681223",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681223"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681223"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        },
        "in_reply_to_id": 100669764
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681237",
        "pull_request_review_id": 21398116,
        "id": 100681237,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY4MTIzNw==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|\n+            list << font.name.font_name.join(', ')\n+          end\n+\n+          list\n+        end\n+      end\n+\n+      private\n+\n+      def read_ttf_file",
        "path": "lib/prawn/font/ttc.rb",
        "position": 18,
        "original_position": 30,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "jamis",
            "id": 1627,
            "node_id": "MDQ6VXNlcjE2Mjc=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1627?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamis",
            "html_url": "https://github.com/jamis",
            "followers_url": "https://api.github.com/users/jamis/followers",
            "following_url": "https://api.github.com/users/jamis/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamis/subscriptions",
            "organizations_url": "https://api.github.com/users/jamis/orgs",
            "repos_url": "https://api.github.com/users/jamis/repos",
            "events_url": "https://api.github.com/users/jamis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamis/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It may not be appropriate...but it's an inherited method from the superclass that is being overridden in the subclass. You can see that the dfont.rb implementation overrides it, too. You're right that the name is misleading, but as it was already named this before, it seems that refactoring it might be out of scope for this pull request.",
        "created_at": "2017-02-12T01:43:31Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681237",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681237"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681237"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        },
        "in_reply_to_id": 100669591
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681257",
        "pull_request_review_id": 21398133,
        "id": 100681257,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY4MTI1Nw==",
        "diff_hunk": "@@ -0,0 +1,35 @@\n+# font.rb : The Prawn font class\n+#\n+# Copyright November 2008, Jamis Buck. All Rights Reserved.\n+#\n+# This is free software. Please see the LICENSE and COPYING files for details.\n+#\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|\n+            list << font.name.font_name.join(', ')\n+          end\n+\n+          list\n+        end\n+      end\n+\n+      private\n+\n+      def read_ttf_file\n+        TTFunk::File.from_ttc(@name, @options[:font] || 0)",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "6cfa12c64412477159a3df8c8927714420f3dea3",
        "user": {
            "login": "jamis",
            "id": 1627,
            "node_id": "MDQ6VXNlcjE2Mjc=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1627?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamis",
            "html_url": "https://github.com/jamis",
            "followers_url": "https://api.github.com/users/jamis/followers",
            "following_url": "https://api.github.com/users/jamis/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamis/subscriptions",
            "organizations_url": "https://api.github.com/users/jamis/orgs",
            "repos_url": "https://api.github.com/users/jamis/repos",
            "events_url": "https://api.github.com/users/jamis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamis/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yeah, `:font` is not the best name when the value is an index, but that's how dfont.rb originally defined it. The difference is that dfont.rb supports specifying fonts by both name and index. I'll rework this so that it supports name look ups as well, to mimic the dfont implementation.",
        "created_at": "2017-02-12T01:44:51Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681257",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100681257"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100681257"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        },
        "in_reply_to_id": 100669796
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100687903",
        "pull_request_review_id": 21403841,
        "id": 100687903,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY4NzkwMw==",
        "diff_hunk": "@@ -0,0 +1,38 @@\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 14,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "69feb07b26ce44ba02b10f3c63178dccaa2d70f1",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You can get a proper `map` by including `Enumerable` into `Collection`.",
        "created_at": "2017-02-12T10:02:09Z",
        "updated_at": "2017-02-12T23:39:51Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100687903",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100687903"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100687903"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100708652",
        "pull_request_review_id": 21421693,
        "id": 100708652,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDcwODY1Mg==",
        "diff_hunk": "@@ -0,0 +1,38 @@\n+require_relative 'ttf'\n+\n+module Prawn\n+  class Font\n+    # @private\n+    class TTC < TTF\n+      # Returns a list of the names of all named fonts in the given ttc file.\n+      # They are returned in order of their appearance in the file.\n+      #\n+      def self.fonts(file)\n+        TTFunk::Collection.open(file) do |f|\n+          list = []\n+\n+          f.each do |font|",
        "path": "lib/prawn/font/ttc.rb",
        "position": null,
        "original_position": 14,
        "commit_id": "89805b49176d62f0b292f52815d6d70b5833712b",
        "original_commit_id": "69feb07b26ce44ba02b10f3c63178dccaa2d70f1",
        "user": {
            "login": "jamis",
            "id": 1627,
            "node_id": "MDQ6VXNlcjE2Mjc=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1627?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamis",
            "html_url": "https://github.com/jamis",
            "followers_url": "https://api.github.com/users/jamis/followers",
            "following_url": "https://api.github.com/users/jamis/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamis/subscriptions",
            "organizations_url": "https://api.github.com/users/jamis/orgs",
            "repos_url": "https://api.github.com/users/jamis/repos",
            "events_url": "https://api.github.com/users/jamis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamis/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Excellent point. I've updated both PR's.",
        "created_at": "2017-02-12T23:40:15Z",
        "updated_at": "2017-02-12T23:40:15Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100708652",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/100708652"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1007#discussion_r100708652"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1007"
            }
        },
        "in_reply_to_id": 100687903
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/102164720",
        "pull_request_review_id": 22910948,
        "id": 102164720,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjE2NDcyMA==",
        "diff_hunk": "@@ -20,6 +20,6 @@\n   )\n   stroke_axis(\n     at: [140, 140], width: 200, height: cursor.to_i - 140,\n-    step_length: 20, negative_axes_length: 40, color: 'FF00'\n+    step_length: 20, negative_axes_length: 40, color: 'FF0000'",
        "path": "manual/graphics/helper.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "2b67aa5be4ac0b681c048d598691cfd1f95eebed",
        "original_commit_id": "f757dbe662872d77847c2682d22f748fd27933cf",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This is fixed on master: 0712aeb8370043ebe2ef2c6273be799ad4d1d5e8",
        "created_at": "2017-02-21T09:34:25Z",
        "updated_at": "2017-02-21T09:50:19Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/819#discussion_r102164720",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/819",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/102164720"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/819#discussion_r102164720"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/819"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109446219",
        "pull_request_review_id": 30548333,
        "id": 109446219,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTQ0NjIxOQ==",
        "diff_hunk": "@@ -26,6 +26,7 @@\n       let(:num_columns) { 5 }\n       let(:num_rows) { 8 }\n       let(:gutter) { 10.0 }\n+",
        "path": "spec/prawn/document_grid_spec.rb",
        "position": 4,
        "original_position": 4,
        "commit_id": "f01c6116a033459b97bd5b0ca7c17a40195f24f3",
        "original_commit_id": "f01c6116a033459b97bd5b0ca7c17a40195f24f3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This seem unrelated.",
        "created_at": "2017-04-03T15:24:12Z",
        "updated_at": "2017-04-03T15:26:30Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1017#discussion_r109446219",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1017",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109446219"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1017#discussion_r109446219"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1017"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109446745",
        "pull_request_review_id": 30548333,
        "id": 109446745,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTQ0Njc0NQ==",
        "diff_hunk": "@@ -66,7 +66,7 @@\n       pdf.text ' '\n       text = PDF::Inspector::Text.analyze(pdf.render)\n       # If anything is rendered to the page, it should be whitespace.\n-      text.strings.each { |str| expect(str).to match(/\\A\\s*\\z/) }\n+      expect(text.strings).to all(match(/\\A\\s*\\z/))",
        "path": "spec/prawn/text_spec.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "f01c6116a033459b97bd5b0ca7c17a40195f24f3",
        "original_commit_id": "f01c6116a033459b97bd5b0ca7c17a40195f24f3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'm not opposing this change but it doesn't seem to be related to misspellings in any way. Maybe at least a separate commit?",
        "created_at": "2017-04-03T15:26:21Z",
        "updated_at": "2017-04-03T15:26:30Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1017#discussion_r109446745",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1017",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109446745"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1017#discussion_r109446745"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1017"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673657",
        "pull_request_review_id": 30790558,
        "id": 109673657,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTY3MzY1Nw==",
        "diff_hunk": "@@ -66,7 +66,7 @@\n       pdf.text ' '\n       text = PDF::Inspector::Text.analyze(pdf.render)\n       # If anything is rendered to the page, it should be whitespace.\n-      text.strings.each { |str| expect(str).to match(/\\A\\s*\\z/) }\n+      expect(text.strings).to all match(/\\A\\s*\\z/)",
        "path": "spec/prawn/text_spec.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "bfed529f717fc5caae408111c1c2a281b8f72a67",
        "user": {
            "login": "brendanthomas1",
            "id": 12115460,
            "node_id": "MDQ6VXNlcjEyMTE1NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/12115460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brendanthomas1",
            "html_url": "https://github.com/brendanthomas1",
            "followers_url": "https://api.github.com/users/brendanthomas1/followers",
            "following_url": "https://api.github.com/users/brendanthomas1/following{/other_user}",
            "gists_url": "https://api.github.com/users/brendanthomas1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brendanthomas1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brendanthomas1/subscriptions",
            "organizations_url": "https://api.github.com/users/brendanthomas1/orgs",
            "repos_url": "https://api.github.com/users/brendanthomas1/repos",
            "events_url": "https://api.github.com/users/brendanthomas1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brendanthomas1/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Rubocop requested this",
        "created_at": "2017-04-04T14:14:06Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673657",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673657"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673657"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673712",
        "pull_request_review_id": 30790602,
        "id": 109673712,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTY3MzcxMg==",
        "diff_hunk": "@@ -3,6 +3,7 @@\n describe Prawn::Stamp do\n   describe 'create_stamp before any page is added' do\n     let(:pdf) { Prawn::Document.new(skip_page_creation: true) }\n+",
        "path": "spec/prawn/stamp_spec.rb",
        "position": 4,
        "original_position": 4,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "bfed529f717fc5caae408111c1c2a281b8f72a67",
        "user": {
            "login": "brendanthomas1",
            "id": 12115460,
            "node_id": "MDQ6VXNlcjEyMTE1NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/12115460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brendanthomas1",
            "html_url": "https://github.com/brendanthomas1",
            "followers_url": "https://api.github.com/users/brendanthomas1/followers",
            "following_url": "https://api.github.com/users/brendanthomas1/following{/other_user}",
            "gists_url": "https://api.github.com/users/brendanthomas1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brendanthomas1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brendanthomas1/subscriptions",
            "organizations_url": "https://api.github.com/users/brendanthomas1/orgs",
            "repos_url": "https://api.github.com/users/brendanthomas1/repos",
            "events_url": "https://api.github.com/users/brendanthomas1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brendanthomas1/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Rubocop",
        "created_at": "2017-04-04T14:14:16Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673712",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673712"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673712"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673737",
        "pull_request_review_id": 30790629,
        "id": 109673737,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTY3MzczNw==",
        "diff_hunk": "@@ -26,6 +26,7 @@\n       let(:num_columns) { 5 }\n       let(:num_rows) { 8 }\n       let(:gutter) { 10.0 }\n+",
        "path": "spec/prawn/document_grid_spec.rb",
        "position": 4,
        "original_position": 4,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "bfed529f717fc5caae408111c1c2a281b8f72a67",
        "user": {
            "login": "brendanthomas1",
            "id": 12115460,
            "node_id": "MDQ6VXNlcjEyMTE1NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/12115460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brendanthomas1",
            "html_url": "https://github.com/brendanthomas1",
            "followers_url": "https://api.github.com/users/brendanthomas1/followers",
            "following_url": "https://api.github.com/users/brendanthomas1/following{/other_user}",
            "gists_url": "https://api.github.com/users/brendanthomas1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brendanthomas1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brendanthomas1/subscriptions",
            "organizations_url": "https://api.github.com/users/brendanthomas1/orgs",
            "repos_url": "https://api.github.com/users/brendanthomas1/repos",
            "events_url": "https://api.github.com/users/brendanthomas1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brendanthomas1/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Rubocop",
        "created_at": "2017-04-04T14:14:21Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673737",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/109673737"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r109673737"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110821153",
        "pull_request_review_id": 32019464,
        "id": 110821153,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMDgyMTE1Mw==",
        "diff_hunk": "@@ -94,7 +94,7 @@ def process_color(*color)\n       def color_type(color)\n         case color\n         when String\n-          if color =~ /\\A[0-F]{6}\\z/i\n+          if color =~ /\\A[0-9|A-F]{6}\\z/i",
        "path": "lib/prawn/graphics/color.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "0f5b15f0314019c213a1408f1d5dcbabc0817386",
        "user": {
            "login": "mojavelinux",
            "id": 79351,
            "node_id": "MDQ6VXNlcjc5MzUx",
            "avatar_url": "https://avatars2.githubusercontent.com/u/79351?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mojavelinux",
            "html_url": "https://github.com/mojavelinux",
            "followers_url": "https://api.github.com/users/mojavelinux/followers",
            "following_url": "https://api.github.com/users/mojavelinux/following{/other_user}",
            "gists_url": "https://api.github.com/users/mojavelinux/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mojavelinux/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mojavelinux/subscriptions",
            "organizations_url": "https://api.github.com/users/mojavelinux/orgs",
            "repos_url": "https://api.github.com/users/mojavelinux/repos",
            "events_url": "https://api.github.com/users/mojavelinux/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mojavelinux/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "By adding a pipe here, you are allowing the pipe character too. The correct expression is:\r\n\r\n```\r\n/\\A[0-9A-F]{6}\\z/i\r\n```\r\n\r\nYou can test this by running the following in irb:\r\n\r\n```\r\n/[0-9|A-F]/.match('|').inspect\r\n```\r\n\r\nvs\r\n\r\n```\r\n/[0-9A-F]/.match('|').inspect\r\n```",
        "created_at": "2017-04-11T06:06:52Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110821153",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110821153"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110821153"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110821310",
        "pull_request_review_id": 32019603,
        "id": 110821310,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMDgyMTMxMA==",
        "diff_hunk": "@@ -94,7 +94,7 @@ def process_color(*color)\n       def color_type(color)\n         case color\n         when String\n-          if color =~ /\\A[0-F]{6}\\z/i\n+          if color =~ /\\A[0-9|A-F]{6}\\z/i",
        "path": "lib/prawn/graphics/color.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "0f5b15f0314019c213a1408f1d5dcbabc0817386",
        "user": {
            "login": "mojavelinux",
            "id": 79351,
            "node_id": "MDQ6VXNlcjc5MzUx",
            "avatar_url": "https://avatars2.githubusercontent.com/u/79351?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mojavelinux",
            "html_url": "https://github.com/mojavelinux",
            "followers_url": "https://api.github.com/users/mojavelinux/followers",
            "following_url": "https://api.github.com/users/mojavelinux/following{/other_user}",
            "gists_url": "https://api.github.com/users/mojavelinux/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mojavelinux/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mojavelinux/subscriptions",
            "organizations_url": "https://api.github.com/users/mojavelinux/orgs",
            "repos_url": "https://api.github.com/users/mojavelinux/repos",
            "events_url": "https://api.github.com/users/mojavelinux/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mojavelinux/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "The 'i' flag could be avoided by making it:\r\n\r\n```\r\n/\\A[0-9a-fA-F]{6}\\z/\r\n```",
        "created_at": "2017-04-11T06:08:35Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110821310",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110821310"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110821310"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        },
        "in_reply_to_id": 110821153
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110881776",
        "pull_request_review_id": 32083609,
        "id": 110881776,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMDg4MTc3Ng==",
        "diff_hunk": "@@ -94,7 +94,7 @@ def process_color(*color)\n       def color_type(color)\n         case color\n         when String\n-          if color =~ /\\A[0-F]{6}\\z/i\n+          if color =~ /\\A[0-9|A-F]{6}\\z/i",
        "path": "lib/prawn/graphics/color.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "ed8520eeaebc6d35de6ac87f34b09e2f7c253d52",
        "original_commit_id": "0f5b15f0314019c213a1408f1d5dcbabc0817386",
        "user": {
            "login": "brendanthomas1",
            "id": 12115460,
            "node_id": "MDQ6VXNlcjEyMTE1NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/12115460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brendanthomas1",
            "html_url": "https://github.com/brendanthomas1",
            "followers_url": "https://api.github.com/users/brendanthomas1/followers",
            "following_url": "https://api.github.com/users/brendanthomas1/following{/other_user}",
            "gists_url": "https://api.github.com/users/brendanthomas1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brendanthomas1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brendanthomas1/subscriptions",
            "organizations_url": "https://api.github.com/users/brendanthomas1/orgs",
            "repos_url": "https://api.github.com/users/brendanthomas1/repos",
            "events_url": "https://api.github.com/users/brendanthomas1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brendanthomas1/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Thanks @mojavelinux !",
        "created_at": "2017-04-11T11:52:32Z",
        "updated_at": "2017-04-11T11:53:44Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110881776",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/110881776"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1021#discussion_r110881776"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1021"
            }
        },
        "in_reply_to_id": 110821153
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125724140",
        "pull_request_review_id": 48141590,
        "id": 125724140,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTcyNDE0MA==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 26,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Since, we are refactoring this, maybe we can use a replacement has and spare use a few extra passes over the string?",
        "created_at": "2017-07-05T18:35:59Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125724140",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125724140"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125724140"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125724352",
        "pull_request_review_id": 48141590,
        "id": 125724352,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTcyNDM1Mg==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')\n+        end\n+\n+        def self.unescape(text)\n+          text.gsub('&lt;', '<').gsub('&gt;', '>').gsub('&amp;', '&')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Additionally, we may move the mapping elsewhere to make sure that `escape` and `unescape` perform mirror transformations.",
        "created_at": "2017-07-05T18:36:56Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125724352",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125724352"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125724352"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125922654",
        "pull_request_review_id": 48359050,
        "id": 125922654,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTkyMjY1NA==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 26,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "johnnyshields",
            "id": 27655,
            "node_id": "MDQ6VXNlcjI3NjU1",
            "avatar_url": "https://avatars0.githubusercontent.com/u/27655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnnyshields",
            "html_url": "https://github.com/johnnyshields",
            "followers_url": "https://api.github.com/users/johnnyshields/followers",
            "following_url": "https://api.github.com/users/johnnyshields/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnnyshields/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnnyshields/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnnyshields/subscriptions",
            "organizations_url": "https://api.github.com/users/johnnyshields/orgs",
            "repos_url": "https://api.github.com/users/johnnyshields/repos",
            "events_url": "https://api.github.com/users/johnnyshields/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnnyshields/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "What do you mean here? Like `text.gsub(/&|>|</) {|val| if val == '7' then ... }` I think that's not significantly faster and is more complex.",
        "created_at": "2017-07-06T14:50:05Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125922654",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125922654"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125922654"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        },
        "in_reply_to_id": 125724140
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125922844",
        "pull_request_review_id": 48359300,
        "id": 125922844,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTkyMjg0NA==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')\n+        end\n+\n+        def self.unescape(text)\n+          text.gsub('&lt;', '<').gsub('&gt;', '>').gsub('&amp;', '&')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "johnnyshields",
            "id": 27655,
            "node_id": "MDQ6VXNlcjI3NjU1",
            "avatar_url": "https://avatars0.githubusercontent.com/u/27655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnnyshields",
            "html_url": "https://github.com/johnnyshields",
            "followers_url": "https://api.github.com/users/johnnyshields/followers",
            "following_url": "https://api.github.com/users/johnnyshields/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnnyshields/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnnyshields/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnnyshields/subscriptions",
            "organizations_url": "https://api.github.com/users/johnnyshields/orgs",
            "repos_url": "https://api.github.com/users/johnnyshields/repos",
            "events_url": "https://api.github.com/users/johnnyshields/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnnyshields/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "OK where shall I move it? To a class constant?",
        "created_at": "2017-07-06T14:50:45Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125922844",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125922844"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125922844"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        },
        "in_reply_to_id": 125724352
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125923701",
        "pull_request_review_id": 48360280,
        "id": 125923701,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTkyMzcwMQ==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')\n+        end\n+\n+        def self.unescape(text)\n+          text.gsub('&lt;', '<').gsub('&gt;', '>').gsub('&amp;', '&')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 30,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yes, constant will do.",
        "created_at": "2017-07-06T14:53:22Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125923701",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125923701"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125923701"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        },
        "in_reply_to_id": 125724352
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125928202",
        "pull_request_review_id": 48365448,
        "id": 125928202,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTkyODIwMg==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 26,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "`gsub` can take a hash as the second argument.\r\n\r\n```ruby\r\ntext.gsub(/&|>|</, '&' => '&amp;', '>', => '&gt;', '<' => '&lt;')\r\n```\r\n\r\nThis whole hash  can live in a constant. Let's call it `MAPPING` for example.\r\n\r\nThen we can reduce it further.\r\n\r\n```ruby\r\nMAPPING = {\r\n  '&' => '&amp;',\r\n  '>', => '&gt;',\r\n  '<' => '&lt;',\r\n}.freeze\r\n\r\ndef self.escape(text)\r\n  text.gsub(Regexp.union(MAPPING.keys), MAPPING)\r\nend\r\n\r\ndef self.unescape(text)\r\n  mapping = MAPPING.inverse\r\n  text.gsub(Regexp.union(mapping.keys), mapping)\r\nend\r\n```",
        "created_at": "2017-07-06T15:08:34Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125928202",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125928202"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125928202"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        },
        "in_reply_to_id": 125724140
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125934216",
        "pull_request_review_id": 48372384,
        "id": 125934216,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNTkzNDIxNg==",
        "diff_hunk": "@@ -238,6 +236,14 @@ def self.array_from_tokens(tokens)\n           end\n           array\n         end\n+\n+        def self.escape(text)\n+          text.gsub('&', '&amp;').gsub('>', '&gt;').gsub('<', '&lt;')",
        "path": "lib/prawn/text/formatted/parser.rb",
        "position": null,
        "original_position": 26,
        "commit_id": "7f26e3fef0732ee205e9f77d014c1fd6123a98a9",
        "original_commit_id": "90a6af615e461732d80a6077f64025599eba1bb2",
        "user": {
            "login": "johnnyshields",
            "id": 27655,
            "node_id": "MDQ6VXNlcjI3NjU1",
            "avatar_url": "https://avatars0.githubusercontent.com/u/27655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnnyshields",
            "html_url": "https://github.com/johnnyshields",
            "followers_url": "https://api.github.com/users/johnnyshields/followers",
            "following_url": "https://api.github.com/users/johnnyshields/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnnyshields/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnnyshields/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnnyshields/subscriptions",
            "organizations_url": "https://api.github.com/users/johnnyshields/orgs",
            "repos_url": "https://api.github.com/users/johnnyshields/repos",
            "events_url": "https://api.github.com/users/johnnyshields/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnnyshields/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "cool! was not aware that gsub can take a hash as an arg. learned something new.",
        "created_at": "2017-07-06T15:29:25Z",
        "updated_at": "2017-07-06T16:16:58Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125934216",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/889",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/125934216"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/889#discussion_r125934216"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/889"
            }
        },
        "in_reply_to_id": 125724140
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126913568",
        "pull_request_review_id": 49443297,
        "id": 126913568,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxMzU2OA==",
        "diff_hunk": "@@ -10,3 +10,4 @@ drop_to_console.rb\n /bin\n .DS_Store\n *.pdf\n+/.byebug_history",
        "path": ".gitignore",
        "position": null,
        "original_position": 4,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This should go into your global `.gitignore`. This is not a Prawn dep.",
        "created_at": "2017-07-12T10:02:02Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126913568",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126913568"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126913568"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126914563",
        "pull_request_review_id": 49443297,
        "id": 126914563,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNDU2Mw==",
        "diff_hunk": "@@ -66,7 +66,8 @@ class Document\n       :page_size, :page_layout, :margin, :left_margin,\n       :right_margin, :top_margin, :bottom_margin, :skip_page_creation,\n       :compress, :background, :info,\n-      :text_formatter, :print_scaling\n+      :text_formatter, :print_scaling,\n+      :trailer, :enable_pdfa_1b",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I would rather make the ID deterministic so that we didn't have to make `trailer` accessible here.",
        "created_at": "2017-07-12T10:06:44Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126914563",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126914563"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126914563"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126914599",
        "pull_request_review_id": 49443297,
        "id": 126914599,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNDU5OQ==",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+require 'nokogiri'\n+require 'open3'\n+\n+module Prawn\n+  module VeraPdf",
        "path": "lib/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This is only used in specs, so it should live in `specs`.",
        "created_at": "2017-07-12T10:06:54Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126914599",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126914599"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126914599"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915052",
        "pull_request_review_id": 49443297,
        "id": 126915052,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNTA1Mg==",
        "diff_hunk": "@@ -0,0 +1,11 @@\n+require 'spec_helper'\n+require 'prawn/vera_pdf'\n+\n+include Prawn::VeraPdf\n+\n+if vera_pdf_available?",
        "path": "spec/prawn/pdfa_1b_spec.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It's nice to let developers know whats's wrong. But please make sure CI has all tools installed to actually run the specs.",
        "created_at": "2017-07-12T10:08:58Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915052",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915052"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915052"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915261",
        "pull_request_review_id": 49443297,
        "id": 126915261,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNTI2MQ==",
        "diff_hunk": "@@ -508,18 +514,18 @@ def self.format(string)\n   end\n \n   describe 'content stream characteristics' do\n-    it 'has 1 single content stream for a single page PDF' do\n+    it 'has 2 content streams for a single page PDF' do\n       pdf = described_class.new\n       pdf.text 'James'\n       output = StringIO.new(pdf.render)\n       hash = PDF::Reader::ObjectHash.new(output)\n \n       streams = hash.values.select { |obj| obj.is_a?(PDF::Reader::Stream) }\n \n-      expect(streams.size).to eq(1)\n+      expect(streams.size).to eq(2)",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 29,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This shouldn't change.",
        "created_at": "2017-07-12T10:10:00Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915261",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915261"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915261"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915322",
        "pull_request_review_id": 49443297,
        "id": 126915322,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNTMyMg==",
        "diff_hunk": "@@ -530,7 +536,7 @@ def self.format(string)\n \n       streams = hash.values.select { |obj| obj.is_a?(PDF::Reader::Stream) }\n \n-      expect(streams.size).to eq(1)\n+      expect(streams.size).to eq(2)",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 42,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This shouldn't change either.",
        "created_at": "2017-07-12T10:10:16Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915322",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915322"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915322"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915585",
        "pull_request_review_id": 49443297,
        "id": 126915585,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNTU4NQ==",
        "diff_hunk": "@@ -454,7 +454,13 @@ def self.format(string)\n     end\n \n     it 'is idempotent' do\n-      pdf = described_class.new\n+      # We need to overwrite the trailer ID, otherwise each render\n+      # pass will generate a new random ID and the documents would\n+      # not match.\n+      trailer_id = PDF::Core::ByteString.new(SecureRandom.random_bytes(16))",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 8,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Please make sure this doesn't happen without any effort on the users part.",
        "created_at": "2017-07-12T10:11:42Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915585",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915585"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915585"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915960",
        "pull_request_review_id": 49443297,
        "id": 126915960,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNTk2MA==",
        "diff_hunk": "@@ -95,7 +95,7 @@\n         next unless obj =~ %r{/Type /Page$}\n         # The page object must contain the annotation reference\n         # to render a clickable link\n-        expect(obj).to match(%r{^/Annots \\[\\d \\d .\\]$})\n+        expect(obj).to match(%r{^/Annots \\[\\d+ \\d .\\]$})",
        "path": "spec/prawn/stamp_spec.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why this change is needed?",
        "created_at": "2017-07-12T10:13:37Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915960",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126915960"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126915960"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126916260",
        "pull_request_review_id": 49443297,
        "id": 126916260,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkxNjI2MA==",
        "diff_hunk": "@@ -46,6 +46,7 @@ Gem::Specification.new do |spec|\n   spec.add_development_dependency('pdf-reader', ['~> 1.4', '>= 1.4.1'])\n   spec.add_development_dependency('rubocop', '~> 0.47.1')\n   spec.add_development_dependency('rubocop-rspec', '~> 1.10')\n+  spec.add_development_dependency('nokogiri', '~> 1.7')",
        "path": "prawn.gemspec",
        "position": null,
        "original_position": 4,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Please no binary dependencies.",
        "created_at": "2017-07-12T10:15:03Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126916260",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126916260"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126916260"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126935324",
        "pull_request_review_id": 49467786,
        "id": 126935324,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkzNTMyNA==",
        "diff_hunk": "@@ -95,7 +95,7 @@\n         next unless obj =~ %r{/Type /Page$}\n         # The page object must contain the annotation reference\n         # to render a clickable link\n-        expect(obj).to match(%r{^/Annots \\[\\d \\d .\\]$})\n+        expect(obj).to match(%r{^/Annots \\[\\d+ \\d .\\]$})",
        "path": "spec/prawn/stamp_spec.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "With the additional object for the XMP metadata stream the object number for the annotation object switched from single digit to double digit (from 9 to 10). This regex only tested for single digit object number. If we make the XMP metadata stream optional, this change can be reverted.",
        "created_at": "2017-07-12T12:05:08Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126935324",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126935324"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126935324"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915960
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126937006",
        "pull_request_review_id": 49469766,
        "id": 126937006,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjkzNzAwNg==",
        "diff_hunk": "@@ -46,6 +46,7 @@ Gem::Specification.new do |spec|\n   spec.add_development_dependency('pdf-reader', ['~> 1.4', '>= 1.4.1'])\n   spec.add_development_dependency('rubocop', '~> 0.47.1')\n   spec.add_development_dependency('rubocop-rspec', '~> 1.10')\n+  spec.add_development_dependency('nokogiri', '~> 1.7')",
        "path": "prawn.gemspec",
        "position": null,
        "original_position": 4,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I will look into replacing the veraPDF report parsing with REXML.",
        "created_at": "2017-07-12T12:14:47Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126937006",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126937006"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126937006"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126916260
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126943988",
        "pull_request_review_id": 49477482,
        "id": 126943988,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjk0Mzk4OA==",
        "diff_hunk": "@@ -10,3 +10,4 @@ drop_to_console.rb\n /bin\n .DS_Store\n *.pdf\n+/.byebug_history",
        "path": ".gitignore",
        "position": null,
        "original_position": 4,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-12T12:48:52Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126943988",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/126943988"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r126943988"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126913568
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127168281",
        "pull_request_review_id": 49722943,
        "id": 127168281,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzE2ODI4MQ==",
        "diff_hunk": "@@ -66,7 +66,8 @@ class Document\n       :page_size, :page_layout, :margin, :left_margin,\n       :right_margin, :top_margin, :bottom_margin, :skip_page_creation,\n       :compress, :background, :info,\n-      :text_formatter, :print_scaling\n+      :text_formatter, :print_scaling,\n+      :trailer, :enable_pdfa_1b",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-13T09:22:49Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127168281",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127168281"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127168281"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126914563
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127168342",
        "pull_request_review_id": 49723027,
        "id": 127168342,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzE2ODM0Mg==",
        "diff_hunk": "@@ -454,7 +454,13 @@ def self.format(string)\n     end\n \n     it 'is idempotent' do\n-      pdf = described_class.new\n+      # We need to overwrite the trailer ID, otherwise each render\n+      # pass will generate a new random ID and the documents would\n+      # not match.\n+      trailer_id = PDF::Core::ByteString.new(SecureRandom.random_bytes(16))",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 8,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-13T09:23:07Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127168342",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127168342"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127168342"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915585
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127180900",
        "pull_request_review_id": 49737032,
        "id": 127180900,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzE4MDkwMA==",
        "diff_hunk": "@@ -384,7 +384,7 @@ def render(*a, &b)\n     #   pdf.render_file \"foo.pdf\"\n     #\n     def render_file(filename)\n-      File.open(filename, 'wb') { |f| render(f) }\n+      File.open(filename, 'rb+') { |f| render(f) }",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 14,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "82960354306d8c5896e2e87d7833d119eb472064",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why this change?",
        "created_at": "2017-07-13T10:23:18Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127180900",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127180900"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127180900"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127193017",
        "pull_request_review_id": 49750359,
        "id": 127193017,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzE5MzAxNw==",
        "diff_hunk": "@@ -384,7 +384,7 @@ def render(*a, &b)\n     #   pdf.render_file \"foo.pdf\"\n     #\n     def render_file(filename)\n-      File.open(filename, 'wb') { |f| render(f) }\n+      File.open(filename, 'rb+') { |f| render(f) }",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 14,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "82960354306d8c5896e2e87d7833d119eb472064",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "A file opened with 'wb' does not allow reading. My seek-solution reads the rendered body to avoid a second render pass. As you already pointed pointed out the flaw with seeking, I will revert this change.",
        "created_at": "2017-07-13T11:35:03Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127193017",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127193017"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127193017"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 127180900
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127217253",
        "pull_request_review_id": 49778267,
        "id": 127217253,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzIxNzI1Mw==",
        "diff_hunk": "@@ -384,7 +384,7 @@ def render(*a, &b)\n     #   pdf.render_file \"foo.pdf\"\n     #\n     def render_file(filename)\n-      File.open(filename, 'wb') { |f| render(f) }\n+      File.open(filename, 'rb+') { |f| render(f) }",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 14,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "82960354306d8c5896e2e87d7833d119eb472064",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Reverted.",
        "created_at": "2017-07-13T13:34:15Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127217253",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127217253"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127217253"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 127180900
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421245",
        "pull_request_review_id": 50004653,
        "id": 127421245,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyMTI0NQ==",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+require 'nokogiri'\n+require 'open3'\n+\n+module Prawn\n+  module VeraPdf",
        "path": "lib/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-14T09:39:47Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421245",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421245"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421245"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126914599
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421320",
        "pull_request_review_id": 50004733,
        "id": 127421320,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyMTMyMA==",
        "diff_hunk": "@@ -46,6 +46,7 @@ Gem::Specification.new do |spec|\n   spec.add_development_dependency('pdf-reader', ['~> 1.4', '>= 1.4.1'])\n   spec.add_development_dependency('rubocop', '~> 0.47.1')\n   spec.add_development_dependency('rubocop-rspec', '~> 1.10')\n+  spec.add_development_dependency('nokogiri', '~> 1.7')",
        "path": "prawn.gemspec",
        "position": null,
        "original_position": 4,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-14T09:40:11Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421320",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421320"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421320"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126916260
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421945",
        "pull_request_review_id": 50005440,
        "id": 127421945,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyMTk0NQ==",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+require 'nokogiri'\n+require 'open3'\n+\n+module Prawn\n+  module VeraPdf",
        "path": "lib/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "You don't need to comment on each my comment as long as you push granular commits. GitHub hides comments on the code that has been changed and lets reviewing only new changes. It also sends emails about new commits (not about force pushes, unfortunately, so please let me know about those if you want someone to look at those).\r\n\r\nJust a hint to save a few minutes for you.",
        "created_at": "2017-07-14T09:43:39Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421945",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127421945"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127421945"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126914599
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127422675",
        "pull_request_review_id": 50006279,
        "id": 127422675,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyMjY3NQ==",
        "diff_hunk": "@@ -1,4 +1,4 @@\n-require 'nokogiri'",
        "path": "spec/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 1,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "d575d6e5716d3d9f5adeb8808ef256191c72c1bc",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "We have `spec/extensions` dir for things like this. It probably should be renamed to `helpers` but that's how it is. For historical reasons.\r\n\r\nPlease put this file in that dir.",
        "created_at": "2017-07-14T09:47:55Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127422675",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127422675"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127422675"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127428919",
        "pull_request_review_id": 50013634,
        "id": 127428919,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyODkxOQ==",
        "diff_hunk": "@@ -1,4 +1,4 @@\n-require 'nokogiri'",
        "path": "spec/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 1,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "d575d6e5716d3d9f5adeb8808ef256191c72c1bc",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done. It is better located in `extensions`. No need to require the veraPDF helpers any more. :+1: ",
        "created_at": "2017-07-14T10:27:38Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127428919",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127428919"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127428919"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 127422675
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127429676",
        "pull_request_review_id": 50014547,
        "id": 127429676,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQyOTY3Ng==",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+require 'nokogiri'\n+require 'open3'\n+\n+module Prawn\n+  module VeraPdf",
        "path": "lib/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I am more used to GitLab which lets you 'resolve' a discussion manually. I use my 'dones' here primarily for keeping track of what I still need to do. For example your comment about making sure that the CI runs the veraPDF specs is now hidden as 'outdated' because I moved the file elsewhere. As long as you are not annoyed with getting emails for every 'done' I would continue with this practice. Or is there some GitHub trick for such things? :grin: ",
        "created_at": "2017-07-14T10:33:11Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127429676",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127429676"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127429676"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126914599
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127430343",
        "pull_request_review_id": 50015425,
        "id": 127430343,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQzMDM0Mw==",
        "diff_hunk": "@@ -0,0 +1,55 @@\n+require 'nokogiri'\n+require 'open3'\n+\n+module Prawn\n+  module VeraPdf",
        "path": "lib/prawn/vera_pdf.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "> Or is there some GitHub trick for such things?\r\n\r\nNot that I know of. Would love to have a manual option like you described.\r\n\r\n> As long as you are not annoyed with getting emails for every 'done' I would continue with this practice.\r\n\r\nNot at all. It absolutely makes sense since I left quite a few comments and it's hard to keep track otherwise.",
        "created_at": "2017-07-14T10:37:55Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127430343",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127430343"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127430343"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126914599
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459399",
        "pull_request_review_id": 50049209,
        "id": 127459399,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQ1OTM5OQ==",
        "diff_hunk": "@@ -508,18 +514,18 @@ def self.format(string)\n   end\n \n   describe 'content stream characteristics' do\n-    it 'has 1 single content stream for a single page PDF' do\n+    it 'has 2 content streams for a single page PDF' do\n       pdf = described_class.new\n       pdf.text 'James'\n       output = StringIO.new(pdf.render)\n       hash = PDF::Reader::ObjectHash.new(output)\n \n       streams = hash.values.select { |obj| obj.is_a?(PDF::Reader::Stream) }\n \n-      expect(streams.size).to eq(1)\n+      expect(streams.size).to eq(2)",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 29,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-14T13:45:27Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459399",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459399"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459399"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915261
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459439",
        "pull_request_review_id": 50049255,
        "id": 127459439,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQ1OTQzOQ==",
        "diff_hunk": "@@ -530,7 +536,7 @@ def self.format(string)\n \n       streams = hash.values.select { |obj| obj.is_a?(PDF::Reader::Stream) }\n \n-      expect(streams.size).to eq(1)\n+      expect(streams.size).to eq(2)",
        "path": "spec/prawn/document_spec.rb",
        "position": null,
        "original_position": 42,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-14T13:45:38Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459439",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459439"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459439"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915322
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459496",
        "pull_request_review_id": 50049321,
        "id": 127459496,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzQ1OTQ5Ng==",
        "diff_hunk": "@@ -95,7 +95,7 @@\n         next unless obj =~ %r{/Type /Page$}\n         # The page object must contain the annotation reference\n         # to render a clickable link\n-        expect(obj).to match(%r{^/Annots \\[\\d \\d .\\]$})\n+        expect(obj).to match(%r{^/Annots \\[\\d+ \\d .\\]$})",
        "path": "spec/prawn/stamp_spec.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Reverted.",
        "created_at": "2017-07-14T13:45:54Z",
        "updated_at": "2017-07-15T13:15:56Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459496",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127459496"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127459496"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915960
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127584400",
        "pull_request_review_id": 50189430,
        "id": 127584400,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzU4NDQwMA==",
        "diff_hunk": "@@ -0,0 +1,11 @@\n+require 'spec_helper'\n+require 'prawn/vera_pdf'\n+\n+include Prawn::VeraPdf\n+\n+if vera_pdf_available?",
        "path": "spec/prawn/pdfa_1b_spec.rb",
        "position": null,
        "original_position": 6,
        "commit_id": "d9295726dd1170d038c6a02be13e2192327b56ae",
        "original_commit_id": "4ea556f91666f8f7762f1a23ecf2af9950825319",
        "user": {
            "login": "Backbone81",
            "id": 10520233,
            "node_id": "MDQ6VXNlcjEwNTIwMjMz",
            "avatar_url": "https://avatars2.githubusercontent.com/u/10520233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Backbone81",
            "html_url": "https://github.com/Backbone81",
            "followers_url": "https://api.github.com/users/Backbone81/followers",
            "following_url": "https://api.github.com/users/Backbone81/following{/other_user}",
            "gists_url": "https://api.github.com/users/Backbone81/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Backbone81/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Backbone81/subscriptions",
            "organizations_url": "https://api.github.com/users/Backbone81/orgs",
            "repos_url": "https://api.github.com/users/Backbone81/repos",
            "events_url": "https://api.github.com/users/Backbone81/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Backbone81/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Done.",
        "created_at": "2017-07-15T13:25:55Z",
        "updated_at": "2017-07-15T13:25:55Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127584400",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/127584400"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1029#discussion_r127584400"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1029"
            }
        },
        "in_reply_to_id": 126915052
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/180317736",
        "pull_request_review_id": 110716729,
        "id": 180317736,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDMxNzczNg==",
        "diff_hunk": "@@ -267,6 +267,9 @@ def draw_fragment(\n                 else\n                   @at[0] + @width - line_width\n                 end\n+          else\n+            raise ArgumentError, 'align value needs to have a valid value: left, right, center or justify as symbol' unless",
        "path": "lib/prawn/text/formatted/box.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "56b15ca09a2c3cb62547af9d7b6e5b8fe99c344a",
        "original_commit_id": "9d156db233ef216d5545c7b48382d8bfccae0850",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "* The `unless` part is not needed any more. It's covered by the preceding `case` branches.\r\n* You also can write valid values in Ruby syntax (e.g. `:left`). I believe developers would pick that up.\r\n* I'm not a native speaker myself but overall wording is a bit awkward to me. What do you think of the following: `align must be one of :left, :right, :center or :justify`",
        "created_at": "2018-04-10T07:18:53Z",
        "updated_at": "2018-05-30T20:19:07Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1057#discussion_r180317736",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1057",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/180317736"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1057#discussion_r180317736"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1057"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224449488",
        "pull_request_review_id": 163817510,
        "id": 224449488,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ0OTQ4OA==",
        "diff_hunk": "@@ -12,9 +12,6 @@ RSpec/MultipleExpectations:\n RSpec/NestedGroups:\n   Max: 5\n \n-RSpec/NotToNot:",
        "path": ".rubocop.yml",
        "position": 4,
        "original_position": 4,
        "commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "original_commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Why was this removed?",
        "created_at": "2018-10-11T13:34:28Z",
        "updated_at": "2018-10-11T13:35:28Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224449488",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224449488"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224449488"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224449676",
        "pull_request_review_id": 163817510,
        "id": 224449676,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ0OTY3Ng==",
        "diff_hunk": "@@ -75,7 +75,7 @@ def soft_mask(&block)\n         renderer.add_content \"/#{soft_mask_registry[registry_key]} gs\"\n       else\n         masks = page.resources[:ExtGState] ||= {}\n-        id = masks.empty? ? 'GS1' : masks.keys.sort.last.succ\n+        id = masks.empty? ? 'GS1' : masks.keys.max.succ",
        "path": "lib/prawn/soft_mask.rb",
        "position": 5,
        "original_position": 5,
        "commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "original_commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This should be in a separate commit.",
        "created_at": "2018-10-11T13:35:04Z",
        "updated_at": "2018-10-11T13:35:28Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224449676",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224449676"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224449676"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224451449",
        "pull_request_review_id": 163820118,
        "id": 224451449,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ1MTQ0OQ==",
        "diff_hunk": "@@ -12,9 +12,6 @@ RSpec/MultipleExpectations:\n RSpec/NestedGroups:\n   Max: 5\n \n-RSpec/NotToNot:",
        "path": ".rubocop.yml",
        "position": 4,
        "original_position": 4,
        "commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "original_commit_id": "c5ec2290198ce943053e33d86fa648b37b3bd694",
        "user": {
            "login": "chills42",
            "id": 800409,
            "node_id": "MDQ6VXNlcjgwMDQwOQ==",
            "avatar_url": "https://avatars1.githubusercontent.com/u/800409?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chills42",
            "html_url": "https://github.com/chills42",
            "followers_url": "https://api.github.com/users/chills42/followers",
            "following_url": "https://api.github.com/users/chills42/following{/other_user}",
            "gists_url": "https://api.github.com/users/chills42/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chills42/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chills42/subscriptions",
            "organizations_url": "https://api.github.com/users/chills42/orgs",
            "repos_url": "https://api.github.com/users/chills42/repos",
            "events_url": "https://api.github.com/users/chills42/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chills42/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "That was accidental, I was actually just fixing that. ",
        "created_at": "2018-10-11T13:39:38Z",
        "updated_at": "2018-10-11T13:39:38Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224451449",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/224451449"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1082#discussion_r224451449"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1082"
            }
        },
        "in_reply_to_id": 224449488
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235976984",
        "pull_request_review_id": 177972172,
        "id": 235976984,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTk3Njk4NA==",
        "diff_hunk": "@@ -145,13 +144,14 @@ def verify_and_open_image(io_or_path)\n         # read the file as binary so the size is calculated correctly\n         # guard binmode because some objects acting io-like don't implement it\n         io.binmode if io.respond_to?(:binmode)\n-        return io\n+        return io.read\n       end\n       # String or Pathname\n       io_or_path = Pathname.new(io_or_path)\n       raise ArgumentError, \"#{io_or_path} not found\" unless io_or_path.file?\n-      io = io_or_path.open('rb')\n-      io\n+      File.open(io_or_path, 'rb') do |file_io|",
        "path": "lib/prawn/images.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "c90c2e7192e61841f116e36064e86259a53fe1b3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "```ruby\r\nFile.read(io_or_path)\r\n```\r\nInstead of the block `open` would work as well.\r\n",
        "created_at": "2018-11-23T15:46:19Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235976984",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235976984"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235976984"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235977677",
        "pull_request_review_id": 177973013,
        "id": 235977677,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTk3NzY3Nw==",
        "diff_hunk": "@@ -145,13 +144,14 @@ def verify_and_open_image(io_or_path)\n         # read the file as binary so the size is calculated correctly\n         # guard binmode because some objects acting io-like don't implement it\n         io.binmode if io.respond_to?(:binmode)\n-        return io\n+        return io.read\n       end\n       # String or Pathname\n       io_or_path = Pathname.new(io_or_path)\n       raise ArgumentError, \"#{io_or_path} not found\" unless io_or_path.file?\n-      io = io_or_path.open('rb')\n-      io\n+      File.open(io_or_path, 'rb') do |file_io|",
        "path": "lib/prawn/images.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "c90c2e7192e61841f116e36064e86259a53fe1b3",
        "user": {
            "login": "haslo",
            "id": 102580,
            "node_id": "MDQ6VXNlcjEwMjU4MA==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/102580?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haslo",
            "html_url": "https://github.com/haslo",
            "followers_url": "https://api.github.com/users/haslo/followers",
            "following_url": "https://api.github.com/users/haslo/following{/other_user}",
            "gists_url": "https://api.github.com/users/haslo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haslo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haslo/subscriptions",
            "organizations_url": "https://api.github.com/users/haslo/orgs",
            "repos_url": "https://api.github.com/users/haslo/repos",
            "events_url": "https://api.github.com/users/haslo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haslo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "It would have to be `#binread` though, right?",
        "created_at": "2018-11-23T15:49:01Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235977677",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235977677"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235977677"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 235976984
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235978175",
        "pull_request_review_id": 177973616,
        "id": 235978175,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTk3ODE3NQ==",
        "diff_hunk": "@@ -145,13 +144,14 @@ def verify_and_open_image(io_or_path)\n         # read the file as binary so the size is calculated correctly\n         # guard binmode because some objects acting io-like don't implement it\n         io.binmode if io.respond_to?(:binmode)\n-        return io\n+        return io.read\n       end\n       # String or Pathname\n       io_or_path = Pathname.new(io_or_path)\n       raise ArgumentError, \"#{io_or_path} not found\" unless io_or_path.file?\n-      io = io_or_path.open('rb')\n-      io\n+      File.open(io_or_path, 'rb') do |file_io|",
        "path": "lib/prawn/images.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "c90c2e7192e61841f116e36064e86259a53fe1b3",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Yes, you're right. That is closer to the original code.",
        "created_at": "2018-11-23T15:51:01Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235978175",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235978175"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235978175"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 235976984
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235993123",
        "pull_request_review_id": 177992366,
        "id": 235993123,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTk5MzEyMw==",
        "diff_hunk": "@@ -43,11 +43,46 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  it 'closes opened files again after getting Pathname objects' do\n+    if RUBY_PLATFORM == 'java'\n+      # JRuby doesn't support ObjectSpace\n+      expect(RUBY_PLATFORM).to eq('java')",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 19,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "6b3fc50ecbdfb55bfd4adfaaf822558318b175c4",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "There needs to be a spec here. Otherwise we can't be sure it works on Ruby.",
        "created_at": "2018-11-23T16:59:54Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235993123",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/235993123"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r235993123"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236005910",
        "pull_request_review_id": 178008627,
        "id": 236005910,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjAwNTkxMA==",
        "diff_hunk": "@@ -43,11 +43,46 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  it 'closes opened files again after getting Pathname objects' do\n+    if RUBY_PLATFORM == 'java'\n+      # JRuby doesn't support ObjectSpace\n+      expect(RUBY_PLATFORM).to eq('java')",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 19,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "6b3fc50ecbdfb55bfd4adfaaf822558318b175c4",
        "user": {
            "login": "haslo",
            "id": 102580,
            "node_id": "MDQ6VXNlcjEwMjU4MA==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/102580?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haslo",
            "html_url": "https://github.com/haslo",
            "followers_url": "https://api.github.com/users/haslo/followers",
            "following_url": "https://api.github.com/users/haslo/following{/other_user}",
            "gists_url": "https://api.github.com/users/haslo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haslo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haslo/subscriptions",
            "organizations_url": "https://api.github.com/users/haslo/orgs",
            "repos_url": "https://api.github.com/users/haslo/repos",
            "events_url": "https://api.github.com/users/haslo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haslo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I'll try to come up with something... The spec that used `lsof` isn't really great either, that doesn't test anything for Windows platforms. Or would that work for you?",
        "created_at": "2018-11-23T18:45:42Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236005910",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236005910"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236005910"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 235993123
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236006694",
        "pull_request_review_id": 178009563,
        "id": 236006694,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjAwNjY5NA==",
        "diff_hunk": "@@ -43,11 +43,46 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  it 'closes opened files again after getting Pathname objects' do\n+    if RUBY_PLATFORM == 'java'\n+      # JRuby doesn't support ObjectSpace\n+      expect(RUBY_PLATFORM).to eq('java')",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 19,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "6b3fc50ecbdfb55bfd4adfaaf822558318b175c4",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Right now we don't run tests on Windows but we don't have any platform-specific code either. Everything is Ruby-only so in theory we shouldn't have any major issues with adding Windows. It at all possible I'd prefer it stayed that way.",
        "created_at": "2018-11-23T18:52:39Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236006694",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236006694"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236006694"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 235993123
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236009801",
        "pull_request_review_id": 178013594,
        "id": 236009801,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjAwOTgwMQ==",
        "diff_hunk": "@@ -145,13 +144,14 @@ def verify_and_open_image(io_or_path)\n         # read the file as binary so the size is calculated correctly\n         # guard binmode because some objects acting io-like don't implement it\n         io.binmode if io.respond_to?(:binmode)\n-        return io\n+        return io.read\n       end\n       # String or Pathname\n       io_or_path = Pathname.new(io_or_path)\n       raise ArgumentError, \"#{io_or_path} not found\" unless io_or_path.file?\n-      io = io_or_path.open('rb')\n-      io\n+      File.open(io_or_path, 'rb') do |file_io|",
        "path": "lib/prawn/images.rb",
        "position": null,
        "original_position": 31,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "c90c2e7192e61841f116e36064e86259a53fe1b3",
        "user": {
            "login": "fidothe",
            "id": 8550,
            "node_id": "MDQ6VXNlcjg1NTA=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/8550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fidothe",
            "html_url": "https://github.com/fidothe",
            "followers_url": "https://api.github.com/users/fidothe/followers",
            "following_url": "https://api.github.com/users/fidothe/following{/other_user}",
            "gists_url": "https://api.github.com/users/fidothe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fidothe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fidothe/subscriptions",
            "organizations_url": "https://api.github.com/users/fidothe/orgs",
            "repos_url": "https://api.github.com/users/fidothe/repos",
            "events_url": "https://api.github.com/users/fidothe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fidothe/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "because `Pathname` supports a lot of class-level methods from File you could also just call `binread` on the `Pathname` instance directly\r\n```suggestion\r\n      io_or_path.binread\r\n```\r\n\r\nYou could then simplify your no-files-left-open spec by passing a known-non-existent file path in plus a correctly configured test double/spy and verify that the spy had binread.\r\n\r\nSomething like this:\r\n\r\n```ruby\r\n    it 'uses binread, which closes files opened from pathnames' do\r\n      pathname_double = instance_double(\"Pathname\", binread: \"1234567\")\r\n      expect(Pathname).to receive(:new).with(filename) { pathname_double }\r\n      \r\n      _info = pdf.image(filename)\r\n      expect(pathname_double).to have_received(:binread)\r\n    end\r\n```\r\n\r\nNot 100% happy with that, but hopefully you see the point - use of a non-existent path ensures that file system accesses outside calling `#binread` on the double would fail with a system error, so you don't need to verify through something like ObjectSpace. ",
        "created_at": "2018-11-23T19:23:51Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236009801",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236009801"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236009801"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 235976984
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236014060",
        "pull_request_review_id": 178019018,
        "id": 236014060,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjAxNDA2MA==",
        "diff_hunk": "@@ -43,11 +43,36 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  context 'with File message spy' do",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 16,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "3cf0b1355730bb1fcdd55e057d3acc174112159b",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This spec feels a bit too coupled to the implementation and doesn't describe the actual intent particularly well but since I can't give any useful advice on how to improve it, let's keep it. However, tag it with issue. Here's an [example](https://github.com/prawnpdf/prawn/blob/2cdd2e7994c742c97f104e2927d2e2fd3dedc767/spec/prawn/view_spec.rb#L48).",
        "created_at": "2018-11-23T20:10:05Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236014060",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236014060"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236014060"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236015594",
        "pull_request_review_id": 178020990,
        "id": 236015594,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjAxNTU5NA==",
        "diff_hunk": "@@ -43,11 +43,36 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  context 'with File message spy' do",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 16,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "3cf0b1355730bb1fcdd55e057d3acc174112159b",
        "user": {
            "login": "haslo",
            "id": 102580,
            "node_id": "MDQ6VXNlcjEwMjU4MA==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/102580?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haslo",
            "html_url": "https://github.com/haslo",
            "followers_url": "https://api.github.com/users/haslo/followers",
            "following_url": "https://api.github.com/users/haslo/following{/other_user}",
            "gists_url": "https://api.github.com/users/haslo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haslo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haslo/subscriptions",
            "organizations_url": "https://api.github.com/users/haslo/orgs",
            "repos_url": "https://api.github.com/users/haslo/repos",
            "events_url": "https://api.github.com/users/haslo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haslo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "I agree, I don't like testing the implementation (and only implicitly the logic) either. Something like the version with `ObjectSpace` but working on every platform would've been awesome...",
        "created_at": "2018-11-23T20:29:22Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236015594",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236015594"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236015594"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 236014060
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236184715",
        "pull_request_review_id": 178204756,
        "id": 236184715,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjE4NDcxNQ==",
        "diff_hunk": "@@ -43,11 +43,68 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  context 'closes opened files again after getting Pathnames', issue: 975 do\n+    context 'spec with File message spy' do\n+      let(:not_filename) { 'non-existent filename' }\n+      let(:pathname_double) { instance_double('Pathname', file?: true) }\n+\n+      before do\n+        file_content = File.new(filename, 'rb').read\n+        allow(Pathname).to receive(:new).with(not_filename) { pathname_double }\n+        allow(pathname_double).to receive(:binread) { file_content }\n+      end\n+\n+      it 'uses only binread, which closes opened files' do\n+        # this implicitly tests that a file handle is closed again\n+        # because only stubbed binread can be called on not_filename\n+        _info = pdf.image(not_filename)\n+        expect(pathname_double).to have_received(:binread)\n+      end\n+    end\n+\n+    it 'closes opened files, spec with lsof' do\n+      system_has_lsof = system('lsof -v > /dev/null 2>&1')\n+      system_has_grep = system('grep --version > /dev/null 2>&1')\n+      if system_has_lsof && system_has_grep\n+        gc_was_disabled = GC.disable # GC of File would close the file\n+        open_before = `lsof -c ruby | grep \"#{filename}\"`\n+        _info = pdf.image(Pathname.new(filename))\n+        open_after = `lsof -c ruby | grep \"#{filename}\"`\n+        GC.enable unless gc_was_disabled\n+        expect(open_after).to eq(open_before)\n+      else\n+        pending 'Platform dependent spec, only works on linux and macOS'\n+        raise 'pending'",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 47,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "7170bed231305b0f8164a8403d507d3980360d3c",
        "user": {
            "login": "pointlessone",
            "id": 7405,
            "node_id": "MDQ6VXNlcjc0MDU=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/7405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pointlessone",
            "html_url": "https://github.com/pointlessone",
            "followers_url": "https://api.github.com/users/pointlessone/followers",
            "following_url": "https://api.github.com/users/pointlessone/following{/other_user}",
            "gists_url": "https://api.github.com/users/pointlessone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pointlessone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pointlessone/subscriptions",
            "organizations_url": "https://api.github.com/users/pointlessone/orgs",
            "repos_url": "https://api.github.com/users/pointlessone/repos",
            "events_url": "https://api.github.com/users/pointlessone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pointlessone/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Is this required? Wouldn't only previous line be enough?",
        "created_at": "2018-11-26T09:54:40Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236184715",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "MEMBER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236184715"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236184715"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236206131",
        "pull_request_review_id": 178230219,
        "id": 236206131,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjIwNjEzMQ==",
        "diff_hunk": "@@ -43,11 +43,68 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  context 'closes opened files again after getting Pathnames', issue: 975 do\n+    context 'spec with File message spy' do\n+      let(:not_filename) { 'non-existent filename' }\n+      let(:pathname_double) { instance_double('Pathname', file?: true) }\n+\n+      before do\n+        file_content = File.new(filename, 'rb').read\n+        allow(Pathname).to receive(:new).with(not_filename) { pathname_double }\n+        allow(pathname_double).to receive(:binread) { file_content }\n+      end\n+\n+      it 'uses only binread, which closes opened files' do\n+        # this implicitly tests that a file handle is closed again\n+        # because only stubbed binread can be called on not_filename\n+        _info = pdf.image(not_filename)\n+        expect(pathname_double).to have_received(:binread)\n+      end\n+    end\n+\n+    it 'closes opened files, spec with lsof' do\n+      system_has_lsof = system('lsof -v > /dev/null 2>&1')\n+      system_has_grep = system('grep --version > /dev/null 2>&1')\n+      if system_has_lsof && system_has_grep\n+        gc_was_disabled = GC.disable # GC of File would close the file\n+        open_before = `lsof -c ruby | grep \"#{filename}\"`\n+        _info = pdf.image(Pathname.new(filename))\n+        open_after = `lsof -c ruby | grep \"#{filename}\"`\n+        GC.enable unless gc_was_disabled\n+        expect(open_after).to eq(open_before)\n+      else\n+        pending 'Platform dependent spec, only works on linux and macOS'\n+        raise 'pending'",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 47,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "7170bed231305b0f8164a8403d507d3980360d3c",
        "user": {
            "login": "haslo",
            "id": 102580,
            "node_id": "MDQ6VXNlcjEwMjU4MA==",
            "avatar_url": "https://avatars2.githubusercontent.com/u/102580?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haslo",
            "html_url": "https://github.com/haslo",
            "followers_url": "https://api.github.com/users/haslo/followers",
            "following_url": "https://api.github.com/users/haslo/following{/other_user}",
            "gists_url": "https://api.github.com/users/haslo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haslo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haslo/subscriptions",
            "organizations_url": "https://api.github.com/users/haslo/orgs",
            "repos_url": "https://api.github.com/users/haslo/repos",
            "events_url": "https://api.github.com/users/haslo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haslo/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Rspec doesn't seem to like pending specs that don't fail. IIRC this was introduced in Rspec 3:\r\n\r\n<img width=\"983\" alt=\"screen shot 2018-11-26 at 11 53 19\" src=\"https://user-images.githubusercontent.com/102580/49009911-0ce99300-f172-11e8-92ea-ce14c4323b16.png\">\r\n\r\nError: `Expected pending 'Platform dependent spec, only works on linux and macOS' to fail. No error was raised.`\r\n\r\nEdit: [Rspec patch notes](http://rspec.info/blog/2014/05/notable-changes-in-rspec-3/#changes-to-pending-semantics-and-introduction-of-skip).",
        "created_at": "2018-11-26T10:55:16Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236206131",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236206131"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236206131"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        },
        "in_reply_to_id": 236184715
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236307285",
        "pull_request_review_id": 178355281,
        "id": 236307285,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjMwNzI4NQ==",
        "diff_hunk": "@@ -43,11 +43,68 @@\n     expect(info.height).to eq(453)\n   end\n \n+  it 'does not close passed-in IO objects' do\n+    file = File.open(filename, 'rb')\n+    _info = pdf.image(file)\n+\n+    expect(file).to_not be_closed\n+  end\n+\n   it 'accepts Pathname objects' do\n     info = pdf.image(Pathname.new(filename))\n     expect(info.height).to eq(453)\n   end\n \n+  context 'closes opened files again after getting Pathnames', issue: 975 do\n+    context 'spec with File message spy' do\n+      let(:not_filename) { 'non-existent filename' }\n+      let(:pathname_double) { instance_double('Pathname', file?: true) }\n+\n+      before do\n+        file_content = File.new(filename, 'rb').read\n+        allow(Pathname).to receive(:new).with(not_filename) { pathname_double }\n+        allow(pathname_double).to receive(:binread) { file_content }\n+      end\n+\n+      it 'uses only binread, which closes opened files' do\n+        # this implicitly tests that a file handle is closed again\n+        # because only stubbed binread can be called on not_filename\n+        _info = pdf.image(not_filename)\n+        expect(pathname_double).to have_received(:binread)\n+      end\n+    end\n+\n+    it 'closes opened files, spec with lsof' do",
        "path": "spec/prawn/images_spec.rb",
        "position": null,
        "original_position": 35,
        "commit_id": "45cd3b95d62930e14651973c97939919e437aa7e",
        "original_commit_id": "7170bed231305b0f8164a8403d507d3980360d3c",
        "user": {
            "login": "fidothe",
            "id": 8550,
            "node_id": "MDQ6VXNlcjg1NTA=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/8550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fidothe",
            "html_url": "https://github.com/fidothe",
            "followers_url": "https://api.github.com/users/fidothe/followers",
            "following_url": "https://api.github.com/users/fidothe/following{/other_user}",
            "gists_url": "https://api.github.com/users/fidothe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fidothe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fidothe/subscriptions",
            "organizations_url": "https://api.github.com/users/fidothe/orgs",
            "repos_url": "https://api.github.com/users/fidothe/repos",
            "events_url": "https://api.github.com/users/fidothe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fidothe/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "An easier approach to these kind of specs is to wrap the definition with the platform check, which means you avoid the sometimes-this-spec-is-pending-but-not-always problem:\r\n\r\n```ruby\r\ndescribe \"situation\" do\r\n  system_has_lsof = system('lsof -v > /dev/null 2>&1')\r\n  system_has_grep = system('grep --version > /dev/null 2>&1')\r\n  if system_has_lsof && system_has_grep\r\n    it 'closes opened files, spec with lsof' do\r\n      ...\r\n    end\r\n  end\r\n\r\n  if RUBY_PLATFORM != 'java'\r\n    it 'closes opened files, spec with ObjectSpace' do\r\n      ...\r\n    end\r\n  end\r\nend\r\n```",
        "created_at": "2018-11-26T15:45:55Z",
        "updated_at": "2018-11-26T15:56:27Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236307285",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090",
        "author_association": "CONTRIBUTOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/236307285"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1090#discussion_r236307285"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1090"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/237844546",
        "pull_request_review_id": 180244740,
        "id": 237844546,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNzg0NDU0Ng==",
        "diff_hunk": "@@ -306,6 +306,26 @@ def start_new_page(options = {})\n       end\n     end\n \n+    # Remove the last page of the document\n+    #\n+    #   pdf = Prawn::Document.new\n+    #   pdf.page_count #=> 1\n+    #   3.times { pdf.start_new_page }\n+    #   pdf.page_count #=> 4\n+    #   pdf.delete_last_page\n+    #   pdf.page_count #=> 3\n+    #\n+",
        "path": "lib/prawn/document.rb",
        "position": 17,
        "original_position": 13,
        "commit_id": "668abf29f678d30fe1523cae52f57cb6503b6042",
        "original_commit_id": "19d64b2e8c45a644dc90be11640c7c309ac058c7",
        "user": {
            "login": "sobrinho",
            "id": 26460,
            "node_id": "MDQ6VXNlcjI2NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "empty line",
        "created_at": "2018-11-30T12:30:05Z",
        "updated_at": "2018-12-14T21:03:30Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1092#discussion_r237844546",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1092",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/237844546"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1092#discussion_r237844546"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1092"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/237844671",
        "pull_request_review_id": 180244740,
        "id": 237844671,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNzg0NDY3MQ==",
        "diff_hunk": "@@ -306,6 +306,26 @@ def start_new_page(options = {})\n       end\n     end\n \n+    # Remove the last page of the document\n+    #\n+    #   pdf = Prawn::Document.new\n+    #   pdf.page_count #=> 1\n+    #   3.times { pdf.start_new_page }\n+    #   pdf.page_count #=> 4\n+    #   pdf.delete_last_page\n+    #   pdf.page_count #=> 3\n+    #\n+\n+    def delete_last_page\n+      last_page = state.page\n+      if last_page\n+        state.pages.delete_at(state.pages.index(last_page))\n+        state.store.pages.data[:Kids].pop\n+        state.store.pages.data[:Count] -= 1\n+        @page_number -= 1\n+      end",
        "path": "lib/prawn/document.rb",
        "position": null,
        "original_position": 21,
        "commit_id": "668abf29f678d30fe1523cae52f57cb6503b6042",
        "original_commit_id": "19d64b2e8c45a644dc90be11640c7c309ac058c7",
        "user": {
            "login": "sobrinho",
            "id": 26460,
            "node_id": "MDQ6VXNlcjI2NDYw",
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Use earlier return:\r\n\r\n```ruby\r\ndef delete_last_page\r\n  last_page = state.page\r\n\r\n  return if last_page.nil?\r\n\r\n  ...\r\nend\r\n```",
        "created_at": "2018-11-30T12:30:40Z",
        "updated_at": "2018-12-14T21:03:30Z",
        "html_url": "https://github.com/prawnpdf/prawn/pull/1092#discussion_r237844671",
        "pull_request_url": "https://api.github.com/repos/prawnpdf/prawn/pulls/1092",
        "author_association": "NONE",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/comments/237844671"
            },
            "html": {
                "href": "https://github.com/prawnpdf/prawn/pull/1092#discussion_r237844671"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/prawnpdf/prawn/pulls/1092"
            }
        }
    }
]