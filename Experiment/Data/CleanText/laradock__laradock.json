{
    "Mahmoudz": "Yes sure, I am willing to support many other software's.\n. Finally HHVM is there #174 (Upgrade to version 2.7.*)\nThanks to @orette \n. Hi, @pbreah thanks for your interest in LaraDock.\nI have a plan to make this project as a package that can be used on existing projects. Anyway if you want to use it in your own project right now, all you have to do is replace the fresh Laravel installation with your project, then update the .env file and your app's config files. That should be so easy.\nI am currently really overwhelmed with the amount of the private projects I have, however I will create a ticket for supporting MongoDB, and hopefully w'll add the support very soon.\nThank you.\n. Supported f3eb6a5fc4fd11016e0fb157ea28ab5b3033d3a1 thanks to @AminMkh \n. I highly recommend that you check the lates release https://github.com/LaraDock/laradock/releases It might solve your problem.\n. @luis-don-dev I'll answer you on your new issue #54\n. Well I don't think the MAC version cause such error, however can you provide us with more details such as the last commands you run and some more details on the error?\n. That should be solved with the latest LaraDock release.\n. Not yet, but I would be more than happy if you would contribute with that.\n. The default PHP version in LaraDock v0.3.0 is 5.6. And using 5.5 is optional. Documentation updated, checkout this out https://github.com/LaraDock/laradock#change-the-php-version\n. @wedojava docker-compose is a different software than docker you should be running docker-compose -v to see if you have it installed. Most probably you have not yet installed it. If you install the Docker Toolbox you should get it. Check out this link https://docs.docker.com/compose/install/\n. @Lednerb I think you should create a container for it. Like any other service, that could be turned on and off whenever needed.\n. I can't remember when it was the last time I used beanstalkd. We do have support for beanstalkd in LaraDock https://github.com/LaraDock/laradock/blob/master/beanstalkd/Dockerfile, maybe looking at that container would give you some hintes. However, I suggest you create an issue stating clearly what you need help with, and hopefully someone familiar with it can provide you with the help needed.\n. The PHP-CLI is on the Workspace Container, I think you should start looking there, you will need to run your command from there. The Laravel code is mapped and accessible from that Container.\n. Looks like you're already using the port 80!!\nChange the default port in the docker-compose.yml\nyml\n  ports:\n    - \"8084:80\"\nAnd try to use the port 8084 instead laravel.dev:8084.\n. It seems like the php-nginx/redis container was not downloaded or installed correctly, try to do this:\n1. first see all images docker images\n2. then delete the 3f9705a53bbd_php-nginx image with docker rmi 3f9705a53bbd_php-nginx\n3. lastly run docker-compose up again, this will download the missed images, which in our case is php-nginx/redis\nLet me know of that fixes it.\n. If you are NOT on Linux OS (you are on Mac or Windows), you should change this line to: \nyml\n  extra_hosts:\n    - \"hfcms.dev:{Docker-Machine-IP}\"\nElse if you are on Linux (keep the line above as it is), and make sure you have mapped your Docker IP to hfcms.dev.\nLet me know if that fixes it\n. It's right since you are on Linux.\n. Sorry I thought you fixed it :P I'll reopen that issue, maybe someone knows how to fix it. \nBut can you please retry to set the permission on your Laravel application sudo chmod -R 777 storage && sudo chmod -R 777 bootstrap/cache and test it again!\n. Hi @wedojava I guess if you use the newest version of LaraDock v0.3.0 your problems will be solved. Please let us know. Regards.\n. Hi @wedojava first you could have just pull the latest master branch it will get the updates of 0.3.0. However can you please get me a copy of the last error in your laravel log file. \nIn case you're wondering how, here's a one way to do it:\n1) run this command tail -f storage/logs/laravel.log press some Enters after that.\n2) try to access your page from the browser.\n3) copy what's displayed in the terminal (after the empty lines) and share it here.\nIf you can also share the last error logs from docker/logs would be helpful. just repeat the above steps for every log file.\n. @errogaht could you please do the steps I asked wedojava to do in the last comment, so I can understand your error. Thanks\n. @errogaht @wedojava There's a big chance you have configured Laravel to use Redis (by following the documentation steps) and you don't have predis/predis installed. (It's required for using Redis in Laravel, and doesn't come by default with Laravel) so run this command and try again \nshell\ncomposer require predis/predis:^1.0\nI updated the documentation to make Redis as optional step.\n. @metal3d I reverted the last contribution to that image. Could you please try it again and let me know if it works now. Thanks\n. Cool, that's a good quick way to fix it :)\nI tagged the docker-images repo now.\nThe repo is already configured to automatically build the images on the docker hub once a commit is made.\n. Try to delete your phpnginx image and run the command again (it should download another version, most probably doesn't include this problem).\nto see all your images run docker images\nto delete an image use docker rmi {image-name}\nAnd please let me know if it worked.\n. 81f2602464885361653d69b3f9920b3a2fd6573a\n. @AminMkh that looks very good. However I prefer NGINX instead of Apache, and all the current images are based on phusion/baseimage. So I wish if you can contribute with PHP7 + NGINX on phusion/baseimage. Thanks.\n. Finally PHP 7 is now supported :) check the release version 1.0.0\nhttps://github.com/LaraDock/laradock/releases/tag/v1.0.0\n. @errogaht Thank you for your interest in this package. I have carefully read Comment and your PR commits.. and I took all that into consideration and made the changes by myself. Check out the Mster branch.\n. Hi @iannazzi first thank you for your interest in this project. It's interesting and I can imagine how useful these commands are. Right now I'm trying to educate people about Docker and making them familiar with the commands. However I have plans to make this package function in a different way where these commands could be used. Meanwhile I'm gonna keep it clear for the users what they are doing in each step. Thanks again.\n. @iannazzi Great request. \nRight now when you run docker-compose up in different project it restart the containers and switch to the new project.\nOne quick way to run multiple LaraDocks is to rename the services/containers and change the ports: in the example below I appended everything with -b and added +1 to every port number:\n``` yaml\nPHP + NGINX Container #----------------------------------\nphp-nginx-b:\n  image: laradock/php56nginx:0.1.0\n  container_name: php-nginx-b\n  ports:\n    - \"81:80\"\n  volumes:\n    - ./settings/nginx:/etc/nginx/sites-available\n    - ../:/var/www\n    - ./logs/nginx:/var/log/nginx\n  links:\n    - mysql-b\n    - redis-b\n  privileged: true\nMySQL Container #----------------------------------------\nmysql-b:\n  image: laradock/mysql:0.1.0\n  container_name: mysql-b\n  ports:\n    - \"3307:3306\"\n  volumes_from:\n    - data-b\n  environment:\n    MYSQL_DATABASE: homestead\n    MYSQL_USER: homestead\n    MYSQL_PASSWORD: secret\n  privileged: true\nRedis Container #----------------------------------------\nredis-b:\n  image: laradock/redis:0.1.0\n  container_name: redis-b\n  ports:\n    - \"6380:6379\"\n  volumes_from:\n    - data-b\n  volumes:\n    - ./logs/redis:/var/log/redis\n  restart: always\n  privileged: true\nData Volume Container #----------------------------------\ndata-b:\n  image: laradock/data:0.1.0\n  container_name: data-b\n  volumes:\n    - /var/lib/mysql\n    - /var/lib/redis\n```\nI will upgrade the yaml file syntax to version 2 soon. And will work on the Multi-LaraDock feature to make it much simpler.\n. @tristanbailey thanks for the info. I'm working on this right now. Will update the docs soon.\n. Completed in 05a83d383f7132decce6e1ff2b63652d75808869\n. Completed in 05a83d383f7132decce6e1ff2b63652d75808869\n. Done. 530ffe7\n. @chungth thanks\n. replaced all the phusion/baseimage with the software's official images\n. Everything you did seems ok! let's try these steps:\n1. docker-machine stop default\n2. docker-machine start default\n3. docker ps if it list anything do docker stop {container-ID} then docker rm {container-ID}\n4. docker ps -a if it list anything do docker rm {container-ID}\n5. docker-compose up\nLet me know what will happen.\n. Can you try to clone LaraDock again, few minutes ago I made a huge updates, they might fix your problems.\nHowever the artisan commands should be running on your machine for now. There's no container having laravel installed in it, however SOON I will create a container that will have laravel, composer, git, gulp.. and all the other development tools.\n. @benmag I was trying postgres and I got this error: \nshell\n  [PDOException]\n  SQLSTATE[HY000] [2002] Connection refused\nHow did you managed to fix that on your machine?\nI think we are missing something like pdo-pgsql from the php dockerfile!\nCan you advise please, thanks in advanced.\n. I will make a new video tutorial soon of the latest version.\nMeanwhile check out the last available tutorial covering version 0.3.0 https://www.youtube.com/watch?v=jGkyO6Is_aI \n. @soly2014 Here's the new video ;) https://www.youtube.com/watch?v=-DamFMczwDA\n. 88d5dd78065ba42f9d563635869dfa3dfc8bcd9e\n. 12587bc7125b48156069822a75d3d121f8eae7d5\n. That's weird error! I'm pretty much sure there are no missing steps from the docs. There must be something specific on your machine. I can advice to re-check the ports and the docker IP are all right from Laravel and Docker\n. The first error I can spot here is the Postgres port. In the .env file you are using 3306 while the default exposed port from that container is 5432. And a quick note here, if you wanna run the Migrations you need to enter the postgres container and run it from there or you will get a PDO error. because you need to use the Docker PHP version where the PDO for Postgres is installed.\nHowever I feel your main problem is with your Redis configuration from the App side. Which version of Laravel are you using? And can you share part of the code where you are trying to save on Redis\n. Don't know what's exactely causing that on your side. \nAlso I assume you have done these steps: https://github.com/LaraDock/laradock#Use-Redis\nAnd you don't have Redis installed locally on your machine!\n. Can you try using the latest Laradock version \"2.0.0\", it could solve this error.\n. @DuckThom Thank you\n. @mattythebatty Hi again, hope you are doing well.\nBefore you supported Memcached (295a0974dafb14c35bc7836b3e020bd84d726ae7) I was letting users to switch the PHP version my editing the PHP Dockerfile Base Image. However after you add the support you've included some libraries that just works for PHP 7 which let me think in a better solution that keeps running for all the PHP versions. So I came up with multiple Dockerfiles each for a PHP version to prevent any similar issues with other version specific libraries in the future. \nFor that I created a new release 1.4.0 (405067d4afaf8d0c62ced33d3716ba98cd101ed0) with 3 differenet Dockerfiles however I would like to ask you, when you have some free time to add the memcached libraries for the PHP Dockerfiles of the version 5.6 and 5.5 which can be found here https://github.com/LaraDock/laradock/tree/master/php\nThanks again\n. @mattythebatty thanks for your contributions \ud83d\udc4d \n. SQLite is now part of the Workspace container f0e2d83618ddf1818da9279896a78d4d04ccdbcf\n. first you need to visit the docker ip in the browser and not the localhost unless you are on linux OS.\nhowever make sure you have a docker folder inside your laravel project.\nand you have the right permissions set for some laravel folders. \nalso check the laravel.conf https://github.com/LaraDock/laradock/blob/master/nginx/laravel.conf file and make sure the paths are correct.\nyou can try to enter the nginx container for better understanding what's going on and debug it\n. The solution summary is: use 127.0.0.1 instead of localhost in your browser.\n. I wasn't able to reproduce that\nHowever try doing these steps:\n1. Pull the latest version: git pull origin master now it's 2.2.1\n2. Remove the workspace images and any <none> images with docker rmi {image-id}\n3. Rebuild the containers docker-compose build --no-cache nginx mysql redis (note there's no need to run the workspace now, it will automatically run)\n4. Try again..\n. @M0on75e1l I think your error is discussed here #46 and was solved by mattythebatty check it and let me know if it fixes yours.\n. @M0on75e1l done\n. @mattythebatty thank you bro :)\n. Hi, I rebuilt the Workspace container twice on my machine and one once a Vagrant machine, and wasn't able to reproduce the error!\nHowever try doing these steps:\n1. Pull the latest version: git pull origin master now it's 2.2.0\n2 . Remove the workspace images and any <none> images with docker rmi {container-id}\n3 . Rebuild the workspace docker-compose build --no-cache workspace\n4 . Try again docker-compose up -d nginx mysql redis workspace\n. @cabrerabywaters it does actually but before answering your question I released new version was working on.\nBest,\n. @matriphe I think you just need to delete all the workspace containers and the workspace images and try again it will rebuild the workspace but in the next attempt it might not face any problem with the connection while running apt-get.\n. The easiest way is to create multiple virtual machines if you are on mac or windows.\nAlternatively, you can do this:\nRename the laradock folder (where laradock is cloned) and run docker-compose up -d .... your new containers. \nIf you have projectA and projectB you have can rename the laradock folder to laradock_projectA and laradock_projectB.\nNow if you run docker-compose up -d MySQL this will create a container named laradock_projectA_MySQL and if your run the command from the other project it will create laradock_projectB_MySQL. \nThe only problem you will be facing is Ports already in use. so edit the docker-compose.yml and change the ports.\nIf you found an easier way to do this in the future, please share it.\n. @tjb328 that looks a decent solution. Looking forward for anyone interested to implement it..\n. @luis-don-dev @ellisio @LarryEitel @tjb328 @midascodebreaker @EricTendian @tristanbailey @appleboy @philtrep hi guys first I'd like to thank you for your support and inspiration to implemented this feature. \nThis is definitely not a production feature but it seems to be very useful on development to speed up things..\nKindly check this doc and feel free to test, fix, edit anything to make it even better.\nThis currently works fine with Nginx, it will need to be implemented in the other supported server as they will not work by default due to changing var/www/laravel to var/www.\nKnow issues: \n- Multiple Databases Initialization: I've tried adding sql files to docker-entrypoint-initdb.d with sql create db commands but for some reasons didn't worked with me.\n- Subdomains not working: in case of multiple websites when visiting site1.dev will work but xxx.site1.dev will also show site1.dev.\n. @jfoliveira sorry for that yes this is a missed step, I'll add it to the doc soon. Thanks\n. #5c9eb97db5adef1057ce7bb77dd9fc0a0cd7e529\n. This is very normal, read this part of the documentation: https://github.com/LaraDock/laradock#Use-Redis\n. The error is very clear, you just have to generate a valid key in your .env file. Check your .env file and if the key is empty try adding it manually.\n. mmm that's very wired!! you said the exact same project works flawlessly on your Vagrant box but not on Docker! not sure if I'm missing any PHP extension! but I've never faced this error myself, are you using the default encryption driver? because all the defaults used to work just fine with everyone!!\nAnyway we'll leave this Issue opened maybe someone facing the same error can help.\nBest of luck.\n. you need to have the LaraDock folder installed inside your Laravel Project (on the root directory of your Laravel app). Otherwise you have to edit this ../:/var/www/laravel add the path of your laravel app and rebuild the container ../path-to-laravel/:/var/www/laravel\n. oh I see, that's wired! you are on windows! try to set the full path in /full-path-to-laravel:/var/www/laravel\n. @matriphe thanks for your contribution. I'm glad this works for you. \nI don't think it's recommended to use apt-get upgrade since it takes a lot of time!\nAnd I prefer to keep using phusion/baseimage as it's widely supported. Will address that issue in a different way without changing the base image.\nThanks again and keep considering sending PR's.\nRegards,\n. @AminMkh I see this PR contains the PR #61.\nThis command is so nice sudo chmod -R 777 storage bootstrap/cache \nLet's split both requests it will be easier for me to merge them. \nI'm waiting your PR with only the above update.\nThanks.\n. Hi @AminMkh first thank you for this contribution. using mysql as host instead of the docker IP is a very cool, I will update the readme and mention that as an option.\nRegarding this PR you have switched the dependencies between the containers, this actually work but in that case when you run an NGINX container it will also run a MySQL and that's a problem when you are using other DB engine (example: if you want to use Postgres with NGINX it will also run MySQL! since there's a link between PHP-FPM \"dependency on NGNIX\" and MySQL) .\nHowever I was wondering as well why to have this relation from the beginning!! so I tested MySQL, NGINX and PHP-FPM and turns out it's not necessary to have a relation between them at all :D which is cool. \nIf you could please send another pull request removing the relations \"links\" between PHP-FPM and all the DB engines (mysql, postgres, mariadb and neo4j) would be great. Not sure if Redis and Memchached also require that link if you can test them also consider removing those relations.\nLooking forward for the updates..\n. Hi @AminMkh, \nthanks again for the great effort you make in contributing to LaraDock.\nYes we are missing the Postgres extension on the Workspace container. \nPostgres will work from the app since it's only installed on the PHP-FPM container. But will not work from the artisan command line, since it's not installed on the PHP-CLI in the Workspace container.\nRegarding the PR's just make a new branch for every change/fix/feature and push that branch to your forked copy, then switch to your local master branch and from it create another new branch and so on (it's very important if you're working on FeatureA branch to switch back to the Master branch and then create FeatureB branch, never go directly from FeatureA to FeatureB because in that case you will still have the changes of FeatureA in your FeatureB which cases the exact same problem you are currently facing). At any time you can create new PR from each of the branches on your github to the Master branch on LaraDock.\nBest,\n. @AminMkh Thanks that looks more clean :)\n. Yes I've noticed that this only happens with the Laravel installed. However I'm thinking of removing that useless laravel installer from the container since even installing it takes a lot of time, and the composer create-project command is doing the same job better with least effort.\n. Closed in adaaa25f479384bd2fcd66acda239e9c33d2d73a\n. Closes #63\n. @Gummibeer fantastic \ud83d\udc4d \nWould you like to send a PR updating the readme, or I do it myself?\n. @Gummibeer Thank u.\nClosed in #68\n. @Gummibeer that's because we are missing the installation of memcached in the workspace container (PHP-CLI). If you like you can add it and create a PR. Also you can check the PHP-CLI dockerfiles where we have it installed.\n. Closed by #70\n. @Gummibeer since the workspace container is not PHP centric, and it contains many tools where each tool has different version, I prefer not to do the suggested change (at least for now). For now if users want to change the PHP version or any other tool version they have to manually modify the dockerfile of the workspace.\nThanks.\n. @parkshinhye I need your help reproducing this error. Which command caused it (what containers are you trying to build or run)?\n. @parkshinhye I wasn't able to reproduce that, however can you try doing these general steps:\n1. Stop and remove all the containers (or just the application container) with docker-compose down.\n2. Remove all the images (or just the application) with docker rmi {image-id} also remove all the <none> images the same way. To list all your images type docker images.\n3. Pull the latest version: git pull origin master.\n4. Rebuild the containers docker-compose build --no-cache nginx mysql redis.\n5. Try again.\n. Closed by #74\n. @abyshakes does this solves it for you?\n. @abyshakes thank you, looking forward for your contribution. Best :)\n. As you can see from the MySQL Dockerfile we barely modify the original image, however if you need a quick solution, I advice you google this problem as if it's heppening on the original MySQL docker image. And I will try to reproduce this error and investigate it during the next week. I really hope someone can debug it and help you soon.\n. @sasuke6 Hi again, I found a reason today to work on this project and I tried to reproduce your error.\nIt's not actual bug you just need to provide some info for MySQL in the command, so try running this command, it should work:\nshell\nmysql --user=homestead --password=secret homestead\nYou can find the username and password in the docker-compose.yml file:\nyaml\n        environment:\n            MYSQL_DATABASE: homestead\n            MYSQL_USER: homestead\n            MYSQL_PASSWORD: secret\n            MYSQL_ROOT_PASSWORD: root\n. @jakelacey2012 if you feel it needs to be documented, please go ahead and create a new section in the readme about MySQL (example: Use MySQL) and then show all the tips such as how to ssh into that container docker-compose exec mysql bash and how to login to MySQL and see the tables.. show database; use homestead;... Also show some tips on how to access the DB using tools such as Sequel Pro... Just start it and other folks will continue.\nThanks. \n. Hi @mattythebatty what you are saying is true, however I'm against multiple repositories because maintaining multiple repositories is a bit harder for me and for all the other contributions, especially when the difference between all the repositories won't exceed the 30%.\nI have few ideas in mind but I'm open to hear the community solutions, for keeping single project supporting all frameworks by something like defining the framework name in the .yml file.\nOne more thing regarding your suggestion I'm not considering Wordpress in that Feature I'm only looking for PHP framework (at least for now). So your project is very nice and helpful for Wordpress users. \ud83d\udc4d \n. @ojhaujjwal @psampaz @mattythebatty I've implemented this feature for Codeigniter in this commit check it out, it's a simple argument CODEIGNITER=false when set to true, it modify the default laravel configs to work with the other projects.. I'm willing to add wordpress, symfony and drupal in the future with your help. \nBest,\n. @percymamedy I just installed LaraDock and provisioned all my containers, without any problem!\nSeems you have a connection problem on your computer, check if you are behind a proxy, test your internet connection and try changing your DNS. Basically try debugging the problem on your local computer because it's not related to LaraDock.\n. @sasuke6 you can see the Laravel page without the Workspace container, this container just provide you with additional software's.. So for now just run the following command from the laradock folder and start over git pull origin master.\n. @tripper54 @nevedimko can you please check this issue #46 @mattythebatty have solved it.\nIf that solves it for you, would love if anyone writes the solution steps (clearly explained) and what's causing this problem, in order to include it in the docs since many users are facing this. Thanks\n. @AminMkh another fantastic contribution, thank you.\nI will merge this on Wednesday. Meanwhile can you also support the older PHP versions? If you don't have time, simply create an issue with that for anyone to join and help us with it.\nThanks again :)\n. @AminMkh I've merged your PR in a new branch called support-mongo https://github.com/LaraDock/laradock/tree/support-mongo and I made some commits on top of yours. \nBut wasn't able to work it out!! I think it's working on your machine because you are using your machine's PHP version, where you have mongo installed and configured.\nAnyhow here's my scenario:\n1. I enter the workspace container and I try to install jenssegers/mongodb composer require jenssegers/mongodb. I get this error Your requirements could not be resolved to an installable set of packages..\nI guess that's because the mongo driver is not installed with PHP CLI in the workspace container.\nSo I guess that the missing step is installing mongo in the workspace container.\nBefore you start coding make sure to update your project, to get this branch and then create your PR to this branch instead of master. I will close this PR.\nThanks\n. I'll close this old issue now, if the error still exist we'll open it back.\n. From what you are explaining everything seems correct! \nMaybe it's something related to the permissions on the Laravel folder!!\nNow can you tell me which version of docker are you using? and also which one for docker-compose. And most importantly are you using the docker machine or the native docker beta? As well as, which OS are using?\n. 1. try pulling the latest version, and test everything again.\n2. I'm using older Docker version on my machine (will update soon), however are you using the docker machine?\n3. When you mentioned \"I enter to the bash\" did you meant you typed docker exec -it laradock_workspace_1 bash and then when you typed ls you see nothing?\n4. I want you to check this line - ../:/var/www/laravel in the docker-compose.yml file and maybe try to modify it and see if it affects the error basically ../ should point the laravel home directory.\n5. Finally also you might need to check this line root /var/www/laravel/public; in the laravel.conf file inside the nginx folder.\nI couldn't think of other possibilities for now!\n. Let's just upgrade.\n1. Upgrade your LaraDock git pull origin master. \n   (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n2. Rebuild your containers docker-compose build --no-cache (This might wipe your Data container)\n3. Try again.. best of luck :)\n. you should run this command instead: docker-compose up -d nginx mysql. (just replace run with up)\n. Hi @appleboy,\nI actually duplicate the Volume and the Exposed Ports in all the containers, just to make it clear for the users what ports are being exposed and what where are the volumes, instead of letting them go and find the base image dockerfile on github to get these information. So there's no problem to override these things.\nThanks for your valuable contributions, really appreciated.\n. @appleboy thanks for this contribution :)\nI've merged your changes with the master branch, can you pull the latest release and confirm that xdebug is working (for me it seems working perfectly). Also would be helpful if you can write some instructions on how are you using xdebug, in order to include them in the readme. Finally do you think we need xdebug in workspace container for the PHP-CLI?\nThanks\n. @dantecoding that's because gulp is installed globally and needs to be linked locally to work. I will include that by default very soon. Meanwhile try typing this command from inside the workspace container npm link gulp and then play with gulp. Thanks\n. If you clone the latest release (v2.3.6) that I just published now, it should also be fixed. \nyou're welcome :)\n. I'll close this old issue now, if the error still exist we'll open it back.\n. @AminMkh still haven't merged this because it didn't worked on my computer, I though you probably had an updated version of docker compose. I was waiting to update mine, test it, confirm it's working and merge. Sorry for taking too long since I'm very busy these days working on some projects.. Thanks for your contributions :)\n. Hi @AminMkh, I will close this PR in favor of #115 as it worked just fine!\n. These changes are now implemented in LaraDock 4.\nMany thanks.\n. Let's hope the Docker Native will solve this. DOCKER.\n. @vv3d0x I see no point for using Apache over Nginx personally!!! But it's cool feature to have.\n. @vv3d0x Yes I understand you, I'm just saying why would you use Apache when Nginx exist?! Can you tell me from your experience why you prefer Apache or what is your use case?\n. @appleboy thanks for noticing that. However I put it on purpose because I wanted to clean after (apt-get update && apt-get install..) to free some space, and also clean at the end.\n. @luciano-jr Yes I'm familiar with it. Do you think we should have it by default installed on the Workspace container!! or let interested developers installed it on their own images whenever needed!\n. @Kauhat thanks for your contribution.\nI won't be able to test this on my own machine at the time and I don't want to delay anyone from having this change. Can you confirm this is working flawlessly on your own computer?! In order to merge it blindly! \nCould you rebuild your image with --no-cache parameter, to see if you get no errors.\n. @appleboy let's see what is @Kauhat opinion.\n. 1. Upgrade your LaraDock git pull origin master. \n   (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n2. Rebuild your containers docker-compose build --no-cache (This might wipe your Data container)\n3. Try again.. best of luck :)\n. This issue was opened before #86 so I'll close this one to keep the conversation in one place.\n. #116\n. @appleboy thank you for your contributions.\nCan you please pull the latest master branch (v2.4.3) and confirm your last 2 PR are working correctly. Since I had to fix the conflict manually..\nTry rebuilding your workspace container (with --no-cache) to see if you get no errors playing with xdebug and nvm..\nThanks\n. @appleboy Thank you man, you are awesome.\n. I'll close this old issue now, if the error still exist we'll open it back.\n. @Kauhat That looks fantastic, thank you. I think we should do this for many other tools in the future, allowing users to choose what they need..\nHowever, is there a way to set the default value (false) in the docker-compose file? If yes please submit a PR with it otherwise let's ship a default .env (or .env.default) file with the repo.\nAlso can you please add a section in the README about this. Title could be: \"Enable Prestissimo in the workspace Container\". In the section just add 1 line about what is Prestissimo then how to turn it ON and OFF.\nThanks again.\n. @Kauhat I'll leave it like this till someone figures out how to do it.. Thanks\n. @AminMkh that's absolutely right, when I tested this I only typed docker-compose ps and it didn't showed me that a new container was created. After your comment I typed docker ps -a and I've seen the duplicated containers. That's definitely a problem as you mentioned, no one would be interested in building new containers this way. Thanks for noticing that.\n@appleboy I will override those changes with a new commit since I did some updates on top of yours in a separate commit directly to master so reverting this back won't remove it all. And w'll reopen #95 by @AminMkh.\nThanks you guys\n. @zhikiri that's look great, however to be able to merge it I need you to do couple of things:\n1. Separate the changes send a PR with (Fixed the mongo driver initialization), then send another PR with (Added the supporting of mcrypt). As this is the most common PR convention on Github, since it makes things easier for code review and to revert back in case any of the changes didn't work.\n2. When you edit a PHP container it's recommended to edit the other PHP versions containers, to helps us keep them similar in features for easier switching between them and to prevent conflicts in the future. So in your case you need to apply the same changes to PHP 5.5, 5.6 and 7. Please note that PHP 5.5 is usually exactly the same as PHP 5.6. so just applying the same changes there (and test it locally if possible, build the container and try your app with 5.5 by just switching the variable in the docker-compose \"if possible\"). But PHP 7.0 could be a little different, so if you are not familiar with PHP 7.0 you can open another request with it or add a comment on the #110 issue, asking someone to help with this. (However I think mcrypt is already installed in PHP 7 and just needs to be enabled!).\n. @aniamin I was working on that to include it as part of LaraDock but didn't finished it. Would be awesome if someone can contribute with that.\n. Let's continue this conversation on this Issue #244 \n. 1. Upgrade your LaraDock git pull origin master. \n   (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n2. Rebuild your containers docker-compose build --no-cache (This might wipe your Data container)\n3. Try again.. best of luck :)\n. So I think this Issue is solved! :)\n. closed by LaraDock v4\n. @appleboy \n. have you followed these docs https://github.com/LaraDock/laradock#Use-Mongo\nseems you didn't required jenssegers/mongodb\n. @AminMkh \n. This is solved 2df00ecdadc1d3d97c9b5ac1a56692e687467a06\n. I will answer the first part regarding your confusion about Docker and LaraDock: LaraDock is Docker ready for Laravel. If you want to start with Docker you'll have to do few things (setup, configurations,...) this will take you time, and when you are using Docker for the first time you have to understand a lot of things before being able to start putting it together. LaraDock does all that for you and let you run a single command to get up and running with the Docker. It allows you to use Docker first and understand it later.\n. Try in the Mongo container, if not move the Workspace container.\n. @yewjs thanks for your contribution. Could you please do the same for the PHP versions containers. I will merge this now, and wait till you send another PR covering the other PHP version, to keep all the PHP Containers similar. Thanks\n. That's not a problem at all. They are made to remain in exit state, since you don't need to enter them.\nWatch this demo for more info https://www.youtube.com/watch?v=-DamFMczwDA\nBest,\n. @andrewmclagan I'm gonna close this, since it's been open for a long time and unfortunately no one answered it. If you were able to get help from anywhere and you found an asnwer, please share it with us I'd like to add it to the README (also feel free to submit a PR if you prefer), I think many people will benefit from this. thanks\n. @andrewmclagan thanks for the answer. I'm checking that..\n. @andrewmclagan you are absolutely right, LaraDock started mainly for development usage, however in the latest release we added a production version of the docker-compose.yml file to include the production configs.. as starting point to seriously support it on production with full documentation..\nI won't be able to do that alone as I didn't yet had the chance to deploy large apps on production yet  since this is outside the scope of my responsibility.\nThat's why contributors like you may have great opinion regarding the containers orchestration and management.. I personally played with Kubernetes, Rancher and Swarm but I'm not confident enough to give answers in that area..\nSo your suggestions and maybe contributions are welcomed, and if you need to have discussions about any suggestions you can always discuss this on Gitter.\n. seems the issue of #97\n. Check out #102\n. Answer 1\nYou can container in many projects, without installing many VM's. So far you just need to do is docker-compose stop in your first project then docker-compose up ... in your next one. The only reason why you start and stop containers is because they might be exposing the same ports (if you use different ports example nginx 8080 and 8081, you don't even need to stop anything to use multiple projects), Check out #54 for more tricks.\nAnswer 2\nI'm not sure I understand your case here, do you want to use MariaDB and MySql in the same project!! if that's the case you can and if you weren't able then change the ports and maybe the storage path. If you mean you want to use each for a project, then this is totally doable and you don't have to choose anything at run time, you just run whatever you want and any time you like.\nBest\n. 1. Upgrade your LaraDock git pull origin master. \n   (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n2. Rebuild your containers docker-compose build --no-cache (This might wipe your Data container)\n3. Try again.. best of luck :)\n. I don't think anyone here is familiar with that! I hope you already found answers. Best of luck.\n. Check this maybe it helps! https://github.com/LaraDock/laradock#debugging\n. New release of LaraDock was released today (LaraDock v4.*). \n1. Upgrade your LaraDock git pull origin master\n2. Rebuild your containers docker-compose build --no-cache (This might wipe your Data container)\n3. Try again.\n. @Kauhat first of all thank you for all your contributions.\nYou have done some impressive work especially the global composer thingy.\nI've always wanted to make the workspace and php containers work faster and I had some plans for them but never found time!!\nMy plan was to create an images as bases Image for each of those containers and built from them. This will definitely speeds up the building time.\nHowever, your alternative will also work and maybe doing both methods will speeds up things even more. \nMy only concern for merging this PR is that we'll have 2 workspaces and almost 6 php containers. Which will be very hard to maintain and most importantly people will get lost.. \nSince your main goals are very convenient (faster build and less compilation issues) let me try to couple things in the next few days and compare the results to yours..\nI should end up using one of those two base images: Alpine or the original PHP.. and get back to you soon.\nBest,\n. I hope LaraDock 4 will speed up the build and eliminate compilation issues.\n. @orette this is amazing people have been waiting for this feature for a long time. Thank you.\n. Yes absolutely this is right. That's how LaraDock got started (you can see the old images still on the repo). However, I removed that just to give people flexibility to edit the images locally very quick.. But yes the build time is getting so big with all the Containers and the more software's getting supported every week.. I will try to mix between both features and make it easy to switch between them where by default you'll get the pre built image.\n. Hi @davestewart, I never tried that thus I don't know. I would suggest asking this on the Docker repository. Best of luck.\n. This is a Docker issue, I don't think we can do anything with LaraDock to speed it up!!\n. @computerfr33k No problem switching to NGINX Alpine. Can you confirm this is working just fine (please test it with a fresh Laravel installation and check if you can see the welcome page)? Also could you please reference what Issues this fixes.. Thanks in advanced. \n. Closes #179\n. Do you have the latest LaraDock version?\n. This was fixed.\n1. Upgrade your LaraDock git pull origin master.\n   (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n2. Rebuild your containers docker-compose build --no-cache caddy beanstalkd-console\n3. Try again.. best of luck :)\n. I've tried this now again and still cannot get it to work with ./data on the Docker VM.\nWhat do you guys suggest for supporting both Docker VM and Docker Beta?! \nCause I think at least 60% of LaraDock users are still using the Docker VM!!\n. New release of LaraDock was released today. (LaraDock v4 works only with Docker for Mac/Windows. If you want to keep using LaraDock toolbox (VM) use LaraDock v3).\n1. Upgrade your LaraDock git pull origin master \n2. Rebuild your containers docker-compose build --no-cache\n3. Try again.. best of luck :)\n. Go to the README scroll down to the Debugging Section and follow the steps under I get Nginx error 404 Not Found on Windows\n. try upgrading to LaraDock 4 and rebuilding your containers\n. Thank you so much @davidavz for all your PR's\n. Nice work @LarryEitel, I saw this before I think it is cool and people will benefit from it.\nWould you consider merging some of this with LaraDock? \nI think people would like to see a section \"Use xDebug\" (despite which IDE they are using, with subsections like \"xDebug with PHPStorm\") this will be like a tutorial for how to use xDebug in LaraDock.\nThis can be added right below the \"Install xDebug\" sections.\nWhat do you think?\n. Hi @LarryEitel sure why not, also we can chat on Gitter if you don't mind.\n. I think this should be closed now. Thanks @LarryEitel \n. When you run this docker-compose up -d  nginx percona you shouldn't get mysql running not even mongo. However your error is due to ports conflict between MySQL and Percona, both using 3306. \nTry killing all the containers with docker-compose down then run docker-compose up -d  nginx percona and test again.\nIf everything works for you, please consider supporting Percona in Laradock. Your contribution is welcome :)\n. Thanks for you.\n. @LarryEitel check this Article, maybe it gives some ideas!\n. Oh thanks for the notice we do actually support Apache2 but that pages wasn't updated.\nIt's updated right now, make sure to hard reload it.\nThanks again\n. @ojhaujjwal actually that's not a good idea, 755 for folders and 644 for files is more secure.\n. @ikari7789 yes you are right. We had the .env file before, but many users faced troubles with it. That's why I removed it and let it optional. I think users should treat the docker-composer.yml file as the config and customization file. However, I like the idea of having scripts to boot things up and prepare everything with couple simple commands.\n. Someone need to install this psql in the workspace container, if you could do it yourself and create a PR I'll merge quickly. \nYou will need to put it in this file, \"note that this is an another repository\". \nYou might also need to check this file.\n. Thank you this got merged and you can try it with LaraDock version 4.0.4\n. Hi @tianissimo that looks great. \nWe have Memcached installed on the base Image of the PHP 7 image only \"and it looks very way\".\nI would love to remove the old Memcached installation code from the base image and merge your PR instead. Can you just test it (with PHP 7) and confirm it's working correctly?\nThanks, in advanced.\n. @tianissimo true, could you please send another PR with the changes only on PHP 5.6? \nAfter I merge you PR, I will get the memcached code from the PHP 7 base Image and make it optional on the PHP 7 (FPM Container) here, so the users can specify whether to install it or not on both PHP versions. \nThanks.\n. LaraDock is just Docker ready for Laravel with docker-compose file (all Docker technologies nothing invented by LaraDock). So the question should be \"Is Using Docker Advisable for Production\" and the answer of course YES, but that's not so simple yet! Best of luck\n. Hi @nojaf you are on the right path! by choosing Laravel and Docker. I recommend you watch that Video first https://www.youtube.com/watch?v=-DamFMczwDA. And as short answer docker-compose up -d nginx mysql is all you need.\n. yes you will need to remove the existing container and run new one, docker-compose down then docker-compose up.....\n. @midascodebreaker that's Great! thanks for sharing. I will add this to the README file.\n. @midascodebreaker this is now part of the Readme, feel free to edit it anytime anyway you prefer.\nhttps://github.com/LaraDock/laradock#Digital-Ocean\nThanks.\n. @LarryEitel this is living on its own branch now, lets have some people to test it\nhttps://github.com/LaraDock/laradock/tree/multi-sites\n. @LarryEitel @tjb328 thanks for you.\nCould anyone write a documentation for the users, before merging this so I can add it to the readme? \nThe documentation title could be \"How to run multiple sites with LaraDock\" and explaining how to run multiple Laravel projects with LaraDock. (Something similar to LaraDock Usage Guide steps).\nAlso, does this make LaraDock framework agnostic? \nIf yes can you also write another documentation section with title \"Run Drupal with LaraDock\" or any other projects Wordpress, Symfony, CakePHP... that you already tested it with?\nThanks in advanced. Can't wait to merge this.\n. Here's an update\nwhen I added another . at the beginning I was able to see the app1 working with no error :D \nvolumes:\n            - ../app1/:/var/www/app1\nbut when setting 2 projects I couldn't make any of them work! I have updated the WORKDIR /var/www/app* in php-fpm and the workspace containers but without success! \n. @khoaspark Thanks. I'll check this soon.\n. You might need to delete the orphaned volumes in your Docker. I've added a solution for that on Stackoverflow, check out my answer here.\n. There's a big chance this issue has been solved, thus I'll close it now, if it's still there feel free to open it again.\n. @LarryEitel @tjb328 I see you guys have a smart approach for the \"Multi Sites\" feature. \nIn #54 we were approaching this by having different containers for each site (project) and multiple installation of LaraDock in each project in order to ship it with the project (application) code.. but we were unable to solve the ports conflicts problems automatically..\nHowever, your approach allows the developers to have 1 global LaraDock installation (pretty similar to Vagrant) that runs all your projects. Which of course leads to another great but little more complex feature, the \"Multi frameworks (or framework Agnostic)\".\nBoth approaches have advantages and yours is a little more convenient today after LaraDock became what it is! One of the advantages of Docker is you can ship the docker-compose file with your code and any other developer can pull the application code and simply run docker-compose up to have the exact same environment and start coding fast... \nSince today LaraDock supports a lot of software's and it forces you to specify which software to run with the docker-compose up command it doesn't make a lot of sense to ship it all with the project anymore! \nA better ways are: 1) to ask the developer (via little doc) to install LaraDock and run the xyz command. Or to pick whichever containers needed for your App from LaraDock and ship them with the App code (this can be outdated quickly but it's more guaranteed as the environment will never change).\nAnyway, I will create a branch and name it multiple-projects and will merge the PR #231 with this #238 in the aim of solving both issues #54 and #76 together.\nOnce we finish from working on this we can merge it with master and include it a full documentation in the readme..\nBest,\n. @elceka have you been able to solve this!?\n. Hi, running docker-compose up -d nginx mariadb is fine. An alternative method would be to delete all the other containers folders (everything that doesn't show up in the docker-compose ps after running your software) and then removing all the deleted containers from the docker-compose.yml file. After that you should be able to only run docker-compose up to get only the software's that you need. Note: you may only delete them from docker-compose.yml to be able to use docker-compose up but would be cleaner if you also remove the unused folders.\n. closed by #315\n. @kauhat @appleboy \n. @davehensley can you include your answer in the docs!?. @davehensley actually the site is hosted on Github and the readme files are in the project, so you can send a normal PR as you used to when updating the readme.md. Please refer to this docs for how to update the docs http://laradock.io/contributing/#update-documentation-site. Note: do not edit HTML files, someone did that mistake before, just edit the markdown files and re-generate the HTML from them, the link should help. Thanks for your quick response. Best,. Thanks @appleboy that looks cool.\n. @partenit thanks I will update that now to \nyml\n            - \"8080:80\"\n. @partenit could write a small doc on how to use PhpMyAdmin in general (not for DO).\nSomething like the Use Redis  I think will make it easy for users to use it.\nIf you prefer to you can write it in a comment and I'll add it to the doc or just submit a PR urself. \nThanks\n. @appleboy looks great, thank you.\n. an alternative to miguelvaladez solution is to stop using port 80 on your machine. \nsee port usage\nsudo lsof -i :80\nExample: In case it was the default apache on MAC using it:\n1\nsudo killall httpd\n2\nsudo launchctl unload /System/Library/LaunchDaemons/org.apache.httpd.plist\nDONE\n. @ekstro have you been able to solve this!? checkout my comment on #344\n. This could be solved by #352, if you still facing this problem, reopen this issue. Thanks\n. @grisotto I tried to reproduce that error now but I couldn't!! I advise you to pull the latest version of LaraDock and try again. \nIf you still have that error, please give us more details about your case: past the docker-compose.yml file content here and share which commands are you trying to run. \nThanks\n. I will mention the version of Docker itself, because currently the documentation only ask for downloading Docker native which comes by default with the latest version of docker-compose >= 1.8.0 you are probably still using the docker on vm! or you downloaded the beta long time ago. Thanks.\n. @FubuBy did you rebuild the workspace and php-fpm containers after you set those values to true?\n. @FubuBy I'll try to reproduce and let you know if I find anything.\n. @zhqagp that's fantastic. \u8c22\u8c22 \n. Hi @LarryEitel I think this is very case specific, and won't be used by the majority of the LaraDock users..\n. I think this error is the same as this https://github.com/LaraDock/laradock/issues/277\n. Is this solved or not yet!!\n. Looks great, thanks.\n. If this is related to #274 then it's solved :) if not reopen :(\n. @majuansari if you haven't solved this problem, consider reopening this issue and explaining more, how are you doing and how. so we can understand exactly what the problem is and hopefully help. Best\n. @computerfr33k first this PR is awesome. \nIt's definitely cleaner solution than what we currently have and a better alternative. However after re-thinking it I think using Ansible (an additional tool) will make some people uncomfortable submitting PR's as not everyone is familiar with it. And if we solve that problem we'll get into the debate of why Ansible not chef or puppet or...\nThanks again for the effort you put into making this project great.\n. @Shmp does this issue still exist?!\n. @Shmp thanks, also don't forget to rebuild the containers before testing it.\n. @luciano-jr \n. There's no need to have them on the same base image. We choose the best base image for every software. Base images have different sizes and pre-installed software's, so they could be required by some software's and not by others..\n. @appleboy \n. @armandojose009 could you be more specific? what is the problem or the question. Thanks.\n. I'll close this for now, feel free to open it again if you need. Best,\n. @francislavoie I appreciate your interest in the project.\nWhat you're saying makes sense. However we need to test if they don't affect anything.. Would you like to try that by yourself! I would love to merge you PR. \nThanks\n. Me neither! let's keep this open until someone using those tools finds it and do it..\n. @proctar wow that's very nice, would you like to make a PR with that, so I can merge it?\n. @proctar can you verify that it's working now. You can pull the master branch to get the changes. See the changes here\n. let's close this for now.\n. Hi @Lednerb, \nThanks for your contribution. The PR looks nice.\nI won't be able to merge this since it's very case specific and is not gonna be used by many users. \nThese kind of tools and modifications are better to be added on the user side, this way we keep LaraDock as simple as possible for people to modify it and use it.\nI might have to remove some existing tools as well, and I will try to find solution for documenting these changes for other people to help them implement them easily (when I find the best solution to do this I will add your PR to the docs).\nThanks again.\nBest,\n. @partenit seems nice solution. would you like to submit a PR with that?\n. @partenit could you confirm that @appleboy solution works fine with you!\n. @philtrep I agree with you on @appleboy's solution.\n. @lukasoppermann sorry for the delayed response, was too busy last week..\nYes you can do this, it has to point to your Laravel app wherever it is.\n. @vivekb-connvrtx that's normal because PHP-CLI is different than PHP-FPM (Web) and since each one is on its own container that might case code running on one but not the other. Just make sure all the changes (extensions, configurations, ..) you did to the PHP-CLI are also on the PHP-FPM container. Best\n. It's possible but not sure if it would be easy for the current users to adapt that!\n. @reypm if this issue is solved, please close this Issue and let's carry the conversation on your new opened Issue. Thanks\n. @reypm yes I think so. I'll close this now. Thanks\n. @reypm oh yes I do, that comment above was supposed to be for another Issue, sorry about that. Could you confirm that removing any of the lines keeps it running normally? And if so which line should we remove? Cause I can't remove any of them now, since I'm not using that xdebug or php 55, I need a user of them to test it, and let us know what works. You can also submit a PR if you like, otherwise just answer here and I'll do it. Thanks\n. If the problem still exist feel free to open this issue again :)\n. @philtrep first thanks for your contributions.\nI don't think after removing this will remain clear for the new users that they can change the port from here, without digging into the container code.. Could you share what are the benefits of the removing them? \nThanks again\n. Thanks for the clarification. Looking forward for more contributions from you :)\n. Hi @philtrep since me and some other users started facing some problems with this (mainly because it wasn't documented) and in all cases it's an extra config that most of us will have to add manually, due to the fact that 90% of the users are using LaraDock on development only, I'm thinking of making the current docker-compose.yml more like the development version of the file (and add the ports forwarding back to it). \nAnd add a new section to the readme such as \"LaraDock on production\" where in this one we encourage developers to write their own production-docker-compose.yml and we advise them to only add the containers they want to that file and we tell them to not use the port forwarding there.. maybe we can include a basic files with some assumptions in it to make it even faster to create that file.\nAdding to that, the current docker-compose.yml file in not production ready, since the user have to remove about 60% of the code in that file. And a production one should run with docker-compose up without selecting what software to run.\nWhat do you think?\n. @philtrep Kindly find these changes #352 and please let me know what you think of this approach?\n. @philtrep yep, you can never make one thing that suits everyone. Currently the priority is to make LaraDock work on development with the least effort possible (2 to 3 steps). I'm gonna make a video tutorial covering version 4 very soon. (the last video covered v2.2 and many changes occurred since then..).\n. @edmundluong thanks for your interest. This project was created a long time ago! and have always been following the latest Docker updates and changes.. Yes in V4 we dropped the support the Docker Toolbox, assuming everyone is switching and following up with the latest Docker releases.. \nHowever, the case you showed seems very convenient, and I have no problem adding documentations support for Docker Toolbox back again. \nI won't be able to personally do it as I don't have it anymore. So if you or anyone interested please submit a PR with an updated docs. \n(Note: create new section for that docs (do not merge with the existing sections) and use links from the existing to the new one).\n. I was trying to test all the Containers today.. and I found that I'm not able to connect to MySQL (using Sequel Pro) from my Local machine (127.0.0.1).\nI couldn't discover this problem without rebuilding the mysql containers with --no-cache today. (My current projects have their own old builds of this container and they are working perfectly)\nI tried solving it with no success, here's what I tried:\n- I tried messing a little bit with the config file my.cnf.\n- tried to revert all the changes made in that container and rebuild it.\n- tried using the exact same old build version that is working on my machine mysql:5.7.12.\nNothing worked!!\n. @philtrep oh I forget about that PR when you removed those ports. It's working again now. \n. Hi all, please pull the latest version of LaraDock (currently it's v4.7.3) and try again. This problem should be solved.\n. Let's gather more data from all the users to try to find out where is the problem exactly..\n@elceka I have the same feeling as I started experiencing this performance problems when I started using Docker for MAC. However, @geocine is on Windows and still using Docker Toolbox and facing the same problems! So far this tells me that there's a problem with some LaraDock containers!!\n. Everything is possible :D I'm excited about this Issue!\n. @gagarine can you share with us a PR of your solution!?. @gagarine Can't wait to close this issue.\nYou are welcome to join our team of Admins and maintain this project with us, since we are currently looking for a 5th Admin :). Hi @scoutman57 I do remember you very well, hope you are doing good :) \nThe project is growing everyday and thus we needs more maintainers.. \n@appleboy, @philtrep and I have been maintaining this project lately. \nFew days ago @mikeerickson has joined us as well.\nFor the 5th Admin \"maintainer\", we decided to do the following:\n\nThe reason I welcomed @gagarine to join us, is because he has his own docker project and he's helping to solve a major problem in Laradock. Usually people like him will always find time for open source fun...\nAnyway, there's always room for passionate developers to join us anytime, all they have to do is contribute, contribute and contribute more :D and we will reach them!\n@scoutman57 I will contact you in our next round of recruiting admins. Best,. Some speed improvements solutions http://laradock.io/documentation/#improve-speed-on-macos. @edmundluong actually someone had the same problem here #337 and he was able to solve it in another way, however, if your solution works just fine feel free to submit a PR.. I personally didn't used opcache yet.. so let's see what @philtrep and @lukasoppermann think.\n. @edmundluong it's nice to have support for Behat.\nI can say just submit a PR and we'll review it together.. In general look at any supported tool and try to do the exact same thing! \nJust one note, since it's a tool make sure it has parameter in the docker-compose file so users can set to TRUE if they want it to be installed.\nBest,\n. @appleboy Looks nicer. I'll merge it.\n. @edmundluong I agree with @philtrep it's a good idea. I encourage you to make the PR as Phil suggested. Cheers.\n. @manshoor @g0ld3lux as @philtrep mentioned it's not fully integrated, I'll include full documentation about that part once it's fully tested and ready.\nMake sure to read my second and third comments here https://github.com/LaraDock/laradock/pull/231 and feel free to test and help speed up that proceess. Thanks\n. @LarryEitel might help with this. Thanks in advanced.\n. @brianvice @philtrep lool I just made that 5.6 today, I was thinking of defining the versions in every dockerfile and then manually updating them after testing each release! Because this is not the first time users find bugs with the latest updates, and we cannot easily reproduce these errors since we all have our own containers.. \nBasically we have 2 options:\nOption 1: keep everything to the latest and wait for bugs to occure and fix them.\nOption 2: manually upgrade each file version and make sure all users have working versions.\nI know each has it's own disadvantages, I personally don't mind any one. What do you guys think?\n. @brianvice @philtrep thanks for your replies. Phill I totally agree with you, w'll define the versions for the default most basic containers and let the rest use the :latest.\n. @philtrep that PR is here for long :P I'm gonna merge it, and later we can add whatever missing like the docs.. Thanks,. @imamassi thanks for sharing the solution.\n. @LarryEitel the documentation looks very nice. \nJust make sure to disable xdebug by default. And mention that xdebug needs to be enabled first..\nBest,\n. @hopewise I think @LarryEitel can help with that.\n. @philtrep @dilone it makes sense, seems changing the default 22 would solve it but I'm not sure if it will cause troubles to the current users!! I'll leave it for you guys to decide.\n. should we mention that somewhere in the docs!?\n. @philtrep thanksss\n. @manshoor could you share with us the steps of how to setup codeigniter on laradock? I'd like to mention that in the documentation. If you prefer you can send a PR or just comment it here and I'll move it to a new section in the docs. Thanks.\n. @manshoor could you try the last laradock release 4.8.0 and confirm that Codeigniter is running perfectly, you may need to check this section for some help https://github.com/LaraDock/laradock#Install-Codeigniter Thanks.\n. @manshoor amazinggg thanks\n. @philtrep I closed this since it's been for a long time, however I will try to fix this in the next release. Thanks. Can you try now: pull the latest master branch and rebuild your container.\n. @scoutman57 @philtrep well yes I thought of that before but wasn't sure how easy and convenient would be to separate Node on it's own container. I think we should try it and find out. \n@scoutman57 feel free to open a new Issue requesting that feature.\n. @appleboy Awesome thank you\n. @javiertoledos that looks great solution, just my concern is does this work with subdomains?!\nsay my website has these 2 domains api.website.dev and admin.website.dev will they work with the setup above? Note the current solution is not working with subdomains for some reason!\nIf so I'd love to get PR from you.\nBest,\n. @manshoor thanks for sharing I'll check that again, I have to say I didn't spend enough time on this..\nWell yes the speed is a problem, please check this issue https://github.com/laradock/laradock/issues/353 and hopfully we solve this soon if it's Laradock problem. \n. @moxar Thank you.\n@jschaftenaar Don't forget to pull the latest LaraDock release and rebuild.\n. Should be fixed by #418. \nPull the latest LaraDock release and rebuild.\n. @naretini Thanks.\nThis could work but I don't think it's the best solution! since sometimes you need different mysql user for your Apps.. I think a better way would be to create the db by getting in the mysql container manually. But the best way is to run some sql statements that create custom DB's while container is booting and read those DB's credentials from the docker-compose file. I don't know what other options are there!\n. @moxar Thank you for your contribution.\n. @BennyWang can you submit a PR fixing this? Thanks\n. @Exadra37 I like the idea of having a .env file since at least will help getting rid of the duplications in the the docker-compose.yaml file (like INSTALL_MONGO=, ...). However when someone implemented that in the past we faced wired warnings with every docker compose and docker command.. \nIf you are using that solution now and is working just fine with you, we'd love to have it implemented with Laradock. \nThank you and waiting your PR\n. @Exadra37 that sounds like an amazing solution. I'd like to see it in action. Thank you.\n. I agree with @philtrep we should have the long commands for production and the simple ones for development (by default). If that possible! Or as suggested a simple command would be nice, maybe we contact this guy he created a Laradock CLI https://github.com/logaretm/laradock-cli I never used it by I like the idea.\n. Awesome let's do this :D . @laradock/admins kindly let me know if I'm I missing anything!. This is great idea, it's the first thing I thought about when reading that survey 2 days ago.\nMake Laradock official. Support this by retweeting https://twitter.com/Mahmoud_Zalt/status/818825430350315522. @philtrep I just did that right now. It will take few minutes for the build to finish.\n\n. @philtrep @mikeerickson got this error with the 5.6 version: \nBuild failed: The command '/bin/sh -c docker-php-ext-install mysqli && docker-php-ext-install pdo_mysql RUN docker-php-ext-install pdo_pgsql' returned a non-zero code: 1. @g0ld3lux I like the idea of enhancing the maintainability of the project. \nBy Plugins do you mean repository containing a software support?! Can you give us more detailed example on your solution please?\n@philtrep @appleboy I do support bringing more maintainers. Maybe @g0ld3lux would like to join us and help us implement his solution to fixing the maintainability issue. @appleboy suggestion (Gitea) looks very nice as a way to organize the PR's, I like to see that happening but I think it's not as easy as it sounds!. Done 8f44a0800b11c71ea063b378ed3537295a304102. @mikeerickson sounds great. I like those docs.\nWhat about the tool, any recommendations!? I'm really trying to stay away from the Github WIKI unless I have no other choices! I've tried it with other projects in addition to the missed features mentioned above it's somehow ugly! and hard to navigate in it unless you create your own navigations in each page..\nThanks!. @dannysood @mikeerickson I was looking for some tools today and I found that Jekyll plays well with Github Pages. And while looking for themes I found this theme, it seems perfect for a documentation.\nSo I was testing it and I created a new repository to host the docs files only. Main reason why new repo and not /docs folder on this repository is to get this nice URL laradock.github.io/documentation instead of \"laradock.github.io/laradock\".\nSo guys feel free whenever you have some free time to migrate all the docs there. It's pretty easy just will take couple hours to move everything there. Check the readme of the new documentation repo for some help.\nNote: the current documentation hosted is the demo site of that theme. I made no changes at all but adding README.md file to the root. So we need to clean all the default markdowns files from pages/ and modify the _data/sidebars/ yaml files to setup our own sidebar...\n. @mikeerickson it looks like the Github team like this tool! anyway feel free to start anytime, and try to migrate section by section, each on it's own commit so we can see the changes and probably work with you in parallel or suggest editing.. Please also look at some existing examples to get inspired for naming the pages..\n@gagarine seems by default Github Pages creates the following link {organization-name}.github.io/{repository-name} but not sure if we can change the default behavior! So if I create the docs here in this repo I'll get laradock.github.io/laradock which is not as cool as laradock.github.io/documentation or maybe /docs!\n. @philtrep I just got that domain today :D \n@appleboy Hugo is a another great popular tool. I'm not sure how well it works with Github! however we can always change the tool in the future if we found the need to.\n@gagarine I get your point for making contributions easier in single repo. And the domain can actually solve the url little issue, so I'm gonna merge them in this repo now.. @laradock/admins @dannysood @gagarine Kindly note I've moved the docs from the readme.md to /docs. I've used Hugo as website generator tool, just because I noticed it's a little cleaner, faster and I like that theme. Also I've included steps for how to contribute to the documentation here. \nOf course this is just a demo, and still needs a lot of improvements.. @gagarine I do agree on that, that's why I started playing with Jekyll first, but after giving Hugo a chance, I found it more elegant! and the theme we're using is really cool :D\nI don't mind at any point later switching to another alternatives, as I myself forget to regenerate the site couple times, before pushing my changes.. @gagarine please take a look at https://github.com/laradock/laradock/blob/multiple-projects-improvement/env-example Thanks,. @AnatolyRugalev Thank you for this. Since no one tested it yet and it has conflict because we took so long to merge it. I'm gonna close this Issue, and I'll try to do this later, or ask you to submit a new PR later in the near future. Best,. @Mvzundert this looks nice, please ping me when you're done. . @Mvzundert I've create a separate branch for this, made some updates as well. Should be ready after updating the docs, and performing some tests. Thanks. @gabrielpreston Hi, I just closed it while closing a big number of Issues and PR's todays. Mainly old ones and those who seems pending for over a week (PR's in that case).\nI'll reopen open it. Thanks,. @wayanjimmy I'm gonna merge this and later @alchimik or you can add the SMTP thingy. @wayanjimmy whenever you have time please include that container in the docs. Thanks,. @thorerik looks awesome! I'm gonna consider switching to jekyll, if that a better alternative.. @zeroc0d3 thanks, someone's gonna check and PR this. \nBest,. @g9308370 can you please fix the conflict and  include the Docs updates (but don't put it in the installation steps, it's not relevant for every user, and it might makes the project looks complext to setup..) with this PR. Thanks,. Yep we need to resolve the conflict here before merging. @zeroc0d3 could you!. @zeroc0d3 something caused another conflicts today can resolve it again.. now the conflict is because of APPLICATION=../project/ I just noticed it was missing and I add it, before trying to merge the PR's since there wasn't a specific PR to solve it. If you fix this I should be able to merge it. Sorry for that delay.. closed in favor of #583. @sashaaro we tried that before, but it was hard me and most contributors to remember updating both files. So I deleted that file #524 and we were supposed to replace it with documentation section. But no one ever did that since then, if you spend time finding answers and getting it to work, w'll appreciate of you can add a section in the docs about that. Thanks,. @cabrerabywaters also conflict here, please solve it to merge. Thanks. @cabrerabywaters can you a MSSQL container in Laradock, to give us more control from one place. \nSee any other DB support and try to do the same, you can use the image mentioned by @thorerik as base image.. @cabrerabywaters something simple to look at is NEO4J. Best,. @cabrerabywaters this PR has a conflict!. @cabrerabywaters could you add it for the other PHP versions as well?. @cabrerabywaters @cjmaxik so what's the status here! shall we merge?!. @cabrerabywaters Thank you if you want to submit a new PR instead of committing to this, just mention closing this in your new one. Thanks in advanced.. @cabrerabywaters looks awesome, shall I merge!?. @Mvzundert Can you send the same PR to branch multiple-projects-improvement instead of master. Thanks,. @cjmaxik I closed that #466 it's been there for a long time and no one has closed it yet. Could you please solve this conflict to merge this. Thanks,. @cjmaxik Thank,. @mhetreramesh I'm cleaning up the project right now, closing old issues and closing/merging some PR's probably I merged a PR that causes this (I didn't have time to really test them all there are over 150 in total :P), as a quick solution for you reset --hard your code to old commit or use an older version just for today. Thanks and sorry for this.. Done. . @mhetreramesh checking that right now. can you try now after this commit https://github.com/laradock/laradock/commit/30cf27e011eb2d2c4f47f67fa783b00d63f208b5. @mhetreramesh have you renamed env-example to .env? I forget to add this to the installation steps, I only added it to the quick overview section. Sorry for that.. @gazatem are you sure you have your .env file and you are getting this error? If yes please share your error.. @CharlieTap that's why we removed it #524. Please read my answer here #668 for the why. Checkout #davehensley answer #244 here for \"Deploying to Amazon Elastic Beanstalk\".. @tblancog probably this error was fixed today. Can you try again, if it is fixed please close this otherwise let me know to fix it. it's only missing fi. @zhangrxiang your main problem was caused by the missed APPLICATION variable from in .env file. If you upgrade your Laradock repo, your problem should be fixed.\n@chtheile @georgemr @mvzundert @a-h-abid @Olivia101 the multiple projects setup now works differently after involving the .env file. We used to point to each project's folder from the docker-compose.yml in the past.\nAfter adding the .env I was somehow forced to pointing to a single directory. But that is not a problem for multiple projects setup, since if we change our PHP Server settings, we can tell the server to load the project that we want, and we can also control the domain to access each project. \nIn case of NGINX you will need to create sites (samples shipped within Laradock at laradock-pp/nginx/sites/*)  where you simply point to your project's public folder, and also set a default domain for your project.\nPlease check the updated documentation.\nEnjoy :). @neangkakada @neangkakada the .env file was introduced in v5. We didn't have it before. I add it to make editing the environment faster. You don't have to search in the docker-compose file anymore. You just edit the .env and it will take care of everything. Also you can have multiple .env in each projects.. you can be creative here. Best,. That was my mistake, while developing this feature I edit my .env file and forget to also edit the env-example file. I fixed it now, the APPLICATION = ../ is back.. @zeroc0d3 is there anything needs to be documented!?. Closed by @winfried-van-loon #738\nThanks,. That looks a nice idea, thanks for the suggestion. Would you mind submitting a PR?. @innerspirit can you please do another one and change the phrase to this:\nUse the LaraDock-ToolBox branch. (outdated). do you mean this one http://laradock.io/documentation/#upgrading-laradock ? this one is working for me!. lol that's wired. @computerfr33k Thanks man, that's awesome. \nCould you please check if there's any error with the travis file 3a7e6e4b1a06393d97f069b103e4e886c79ad0fe\nHere's my putput:\n\n. @computerfr33k @bestlong thank you guys, this supposed to be working now https://travis-ci.org/laradock/laradock. Closed #737 by @winfried-van-loon. Thanks,. @garlian this should be solved, please update your Laradock and don't forget to rebuild your containers after every update.\n@winfried-van-loon Thanks for your help :). @wanfeiyy try to rebuild the Container with --no-cache. I like your idea, and regarding the usability we can add this to the docs.. @mikeerickson why closing your issue! I guess it's a good suggestion to have a Python container.. @bdjunayed great video, I'm sure it will help many people. Thanks.\n@winfried-van-loon I used to make a new video after every major release. Last one was for v4. I hope I can record new one for v5 anytime soon. \nI like your idea of the videos. And I know people prefer watching videos instead of reading Docs. But I don't think we can make enough videos for Laradock as it's a small tool! But anything should be helpful, and would like to watch it :D Looking forward..\nNote: recording screencasts videos is really time consuming. I built an educational platform called Moubarmij \"means Programmer in Arabic\" pretty similar to Laracasts in concept but covers programming in general. Anyway I stopped making videos there because a 5 min video takes over 2 hour of preparation. writing a good intro, deciding on the demo, repeating 3 times hoping to make it better :P, editing the video at the end, upload to youtube, share it on social media.... and making a short video \"3 min\" is 10 times harder than 20 min video! :D. @mikeerickson @winfried-van-loon any updates on this one?! is it still occurring? and shall we make 7.1 the default version!?. @FairHypo yes it sucks! but be patient, most of us are busy people in general.\nIf you need this so bad and I can totally understand, try to fix it and submit a PR when done we'll merge it as soon as we can. Issues like this are usually very simple to fix!\nRegards,. Solved. (requires upgrade and re-build).. @activeobjects That's a lovely PR, thanks. \nI think you missed re-generating the documentation site, after modifying the Readme files! \nNote: this won't happen automatically yet. I hope someone has some time to integrate a CI tool to automate that process but meanwhile it needs to be done manually since we're using Hugo. The steps of doing that are in the contributing guide.\nIf you don't want to regenerate it, just wait until someone modifies it again and do that, then you're updates will appear in the site. \nBest,. @bestlong that's amazing, I was just working on another travis integration for auto generating the docs as recommended by @computerfr33k. I wonder now how to keep both files or probably there's a way to point to different files from the travis dashboard!. Guys, thank you for your contribution.\n@bestlong I've merged @computerfr33k PR #808 which contains your PR.. @computerfr33k @bestlong This seems working perfectly, all the builds are passing.\nBut I never saw the site actually updated!! even before merging both (docker build and hugo) in single travis.\nAny hint!?. @computerfr33k I just noticed that now and came here. This methode would be much more helpful https://gist.github.com/domenic/ec8b0fc8ab45f39403dd in our use case, where it automatcially modify the code without a PR.. @computerfr33k when I try compare the automated travis branche I get this:\n\nAny idea how to merge this without using my command line?. Sorry I meant to say compare the PR.. Anyway I didn't noticed the change was there already, cause when I visited the docs, I got the same problem http://laradock.io/guides/ I though it wasn't merged, apparently it's just the doc guide link not working yet. Thanks. @computerfr33k I thought I did that :P I just did it again now. Yes this should solve the issue. Thanks again.. @tpetry let's combine them. Will you be willing to submit a PR with that change.\nWhoever gonna do this, should make sure we have the least amount of duplicated code, since we currently support 3 PHP versions in the php-fpm container. And we have 3 servers as you named them.\n@laradock/admins what do you guys think? . @tpetry kinda the same situation. Hopefully after 6 weeks I'll have more free time..\nLet's keep this open, to see if anyone would like to give it a shot.\n@a-h-abid that's pretty much the concept of the CLI which I don't think anyone is working on right now. If we gonna do it this way (scripts to generate dockerfiles), we need to have some discussions first, as the tool should be capable of doing other useful stuff.. checkout this video it's a demo from this repo, it's a nice CLI tool, similar to what I had in mind for Laradock a long time ago.\n@laradock/admins you might also be interested in checking this repo.. @calnation yes there's intent to support production as much as we do support development. Obviously, there are some major changes that needs to be done for that purpose, like stop running the workspace by default, updating docs, merging php-fpm in the servers (nginx)...\nIf you have the time to start that \"or anyone else reading this\", we'll be more than happy to support you. We'll make an experimental branch, to test the new changes and help you fix the problems you might face...\n. @calnation that would be cool.. @dtunes Looks nice tool. Could you send a small PR updating the documentation [Supported Software (Images)]. Just add it to the list next to the other DB engines, will be very helpful for others. Thanks.. @hounded @appleboy I think the best thing is here, is to remove both .ini files datetime and laravel and replace them with some central ini file, for any php project, and have it well documented. I understand why you would get lost especially if you're not laravel developer you wouldn't open that file. so a generic one can help us all. Please share your thoughts.. @dtunes yep I think that guide is the problem, I also see different results between my local host and the online doc. And I'm using the same version!. @zuohuadong Merged your PR. Thanks :). @zuohuadong can you add a little documentation for that?. @mikeerickson doesn't seem complete yet. Let's keep it there for now it could inspire other's to finish it.. @shemayas thanks for submitting this PR. I do agree with @thorerik and I suggest you include that in your own fork of this repo, as it might not be useful for many other users, especially that maintaining a PHP version is not so smooth task.. That's why we dropped older php version support.. @vladthecodeimpaler cause without creating the public folder the container causes errors. Without this it will be working same like NGINX, and reading all the projects on the /var/www/ which is the directory where the Laradock folder exist.. a0c5ef75d2cc3462af537cb3a385ccb728e585c3. @dlnsk that's looks very nice could you please update the docs \"include the container in the list of available containers, for people to know it exist..\", also \"you can add a little section explaining for other users how to use or in case there's anything special they need to know..\" Thanks. @Bonobomagno this is great feature but this PR has some conflict, and needs serious testing by someone to confirm it's working. Can you help with this, basically just fix the conflict and test it locally, make sure it's not affecting other things. Then let us know to merge it quickly. Best,. @ciliehub @mikeerickson I believe the xDebug documentation need some serious update. Everyone will appreciate a better documentation for this tool. I'll merge this now since it's unrelated, and I hope someone is currently using it can update the docs. Thanks. @bestlong please check your Gitter messages : ) \n. closed by #983. @invasioncredible sometimes it does that in the first attempt! try docker-compose down then run your containers again. And didn't work could be because of an issue caused by a change. so just delete this folder ~/.laradock/data on your machine (IT WILL DELETE YOUR DB DATA). @invasioncredible problem has been solved. Thank you.. @kamisera I don't think this will fit as a global solution, ~/.laradock/data is working fine.. @vwchu this failed to build the php-fpm container for PHP version 5.6 and 7.0!\n\n. @sagarjethi apparently your ports (443 and 3306) are already in use, either change them in the .env file or see where those ports are used in your machine and turn them off.. Try downgrading the MySQL version from 8.0 to 5.7 https://github.com/laradock/laradock/commit/50834268a76afb0b4685345b03943b2cd80ac6ea then rebuild the container.. @hackel have you tested this?? I don't think this ever works!!\nI've tried similar syntax in the past FROM image:${VERSION} but it wasn't supported! it refuses to accept variables in the FROM. Could you try to build your container.. @hackel I've just tested it and it's working as you said, that's really cool feature, wasn't possible in the past. It will help us define the php version and remove the multiple docker files. Would you be interested in doing that with some if-else in the single docker file to install the correct plugins based on the defined version?. @ojhaujjwal cool tool man, could you support the \"7.0 and 5.6 PHP versions\" at least the 7.0 if 5.6 will cause troubles?. @vwchu that looks fantastic. Thanks for the effort you put. \nI tried testing this PR locally, and got some errors, so not sure if it's complete yet?\nI noticed you aren't in the chat room on Gitter, so I invited you to discuss this further. Just ping me whenever you're in there for a quick chat. If you prefer other tools like Skype, Hangout.. let me know. \nDon't worry about this conflict. I'll revert the last merged PR causing it, merge yours and then merge it back.\nThanks,. @vwchu yes this is a major change it's gonna be version 7 I guess since I don't like number 6 :P \nIt would be better creating a separate branch for this, I'm gonna invite you to become an Admin on this repository, so you'll have more freedom and control. \nThe documentation is a big part of the project for sure, but let's first make sure this works as expected. We can later improve the scripts and add more tests.. \nRegarding testing every combination, this is not supported yet. This can be a separate task by itself.\nCan you write here or somewhere else how to execute the script properly (basic documentation) so I can help you with this. \nIf the scripts are building a .env and docker-compose.yml files for the required containers, we can keep everything the same (for travis) and just execute your script that generates those 2 files before executing our existing travis scripts to run the tests.. @vwchu totally agree. I'm a big fan of the idea. And I think the CLI would be a killer feature, as it allows us to make our code modular and easier to update.. In addition to better ways of generating and lunching containers.. Looking forward, and thanks for the effort. . @vwchu looks fantastic. . @arianacosta looks pretty cool. Thanks for the contribution. \nI think the docs aren't accurate I think it should be ./sync.sh docker-sync-stack up instead docker-sync-stack start!. @arianacosta totally agree on keeping the commands similar to docker. My concern was with the missing ./sync.sh and when I tried the up command it didn't work! Maybe I did something wrong. Could you please add to the docs, steps like this:\n\nrun command xxx\ndo this\ndo that..\n\nWith some details on what's going on behind the scene.\nThanks,\n. @laradock/admins Hello guys, hope you all doing well. \nPlease check this interesting feature whenever you have some free time. Would love to get your opinions and feedbacks.. @vwchu Hello, will this tool be helpful for your implementation of the CLI?\nOrbit is made by @gulien maybe he can share with us an intro about it here.. @vwchu yeah it works I've tested it today.\nWould be awesome if we upgrade docker compose to 3.* but as you mentioned the problem with removing volumes_from is forcing us to change the way the application container maps the code with the other containers. I haven't played with this, if you have some time to experiment it would be great.. @terryzwt It's failing for some reason before you PR. If you have some time to fix it would be great, but it's not caused by this PR.. @samijnih try deleting this folder .laradock/data/mysql then rebuilding the MySQL container. \nNote you will lose your current data. So consider exporting your data first if needed. \nAlso if your previous data was created with MySQL 5.7 and trying to import it to MySQL 8.0 you might face troubles. So pick the right version for you and rebuild but always delete that folder when doing so.. Maybe this helps #955 !. @hounded no worries I added them to the other workspace PHP versions 8e84fbbec2bb18980758bdd435175512e2e127a3 Thanks.. @macghriogair can you please resolve this conflict, to merge it. Thanks,. @terryzwt something in the workspace is causing the error when INSTALL_MSSQL is true. It might not be your fault. here's the details https://travis-ci.org/laradock/laradock/jobs/266296214. I'm merging anyway. Thanks.. @masterjus can you add this to the other PHP versions?. @WanchiaTsai Thanks for the fix. Is there any Issue I should close after merging this?. @tpalts it's not a problem we needed to make the default setup compatible with multiple projects. Cause more people uses Laradock as a central development tool for all their projects. And in all cases if you want to use it for single project you'll have to edit some files such as removing unused containers.. so editing the server config file is very normal. . @sybohans hello, what's the purpose of this PR?. @geraintdong could you please resolve the conflict. It just occurred after merging other PR's.. @geraintdong Thanks.. @arkadiusjonczek thanks for your contribution. Would you update the docs to list this container under the Random Tools. Thanks. @arkadiusjonczek thank you. @mojtabye there are other projects with that kind of approach. Which is not recommended. The more separated containers the better for everything.. @lambrojos can you give us more details?. @JeroenVanOort thanks for the contribution. No it's failing for other reasons.. @zuohuadong thanks for the contribution\n@appleboy thanks for the clarification \nI think the keys should be renamed to make it clear for others, here's just a suggestion\nPHP_FPM_INSTALL_PGSQL ==> PHP_FPM_INSTALL_PGSQL_EXTENSION\nPHP_FPM_INSTALL_POSTGRES  ==>  PHP_FPM_INSTALL_POSTGRES_SERVER. @zuohuadong I haven't checked the code, I'm referring to @appleboy comments. Let's wait his reply on this.. @zuohuadong I'll leave it to someone else to give advice regarding that. As I'm quiet busy, to dive deep in Laradock at the time. Hopefully will have free time in the next month or so. Since I have a lot of plans to enhance the project. \nI've noticed that you've been contributed a lot lately, thus I would like to list your name as one of the main contributors https://github.com/laradock/laradock#credits. Could you please provide me with your full name? Thanks,. @csi0n thanks for your PR, as @gclove mentioned that PR was already exist. So I merged #1273 instead.. @ahsankhatri thanks for your PR, as @gclove mentioned that PR was already exist. So I merged #1273 instead.. @bagart thanks for your PR, regarding the nginx fix, I merged #1273. And I will merge #1293 for the windows file separator.. @rushairer thanks for the PR, this was solved in a previous PR. So I merged #1273 instead.\n. @facundofarias thanks for the PR, this was solved in a previous PR. So I merged #1273 instead.. @facundofarias thanks for your contribution.. @iliuxu Thanks for the PR, this was solved in a previous PR. So I merged #1273 instead.\n. @iliasnaamane thanks for the PR, this was solved in a previous PR. So I merged #1273 instead.\n. @taufek thanks, nice project.. Can you try adding extension=mongodb.so to laravel.ini and removing it from here to see if it still work; and if it does please add another commit with this change.\n. @appleboy why codeigniter?!\n. Why not using docker-compose? you can install Docker Compose on Windows!! and accessing the containers using Docker directly is also always an option.\n. Well obviously each way has it's own disadvantages.. I think we should make this clear in the docs and I agree with @philtrep let's keep this stable until it breaks!. I havn't tried and never did before, but supposedly it should just replace that text from the env, I see no reason why shouldn't work, unless it never did before :P . ",
    "AleksanderKoko": "Working on this feature right now. Will let you know @dearteno when my pull is merged with the project.\n. ",
    "marpaia": "It looks like the HHVM support was broken in e1dbb972f17e09659f111e85cd9979336245d9db.. ",
    "tristanbailey": "MongoDB is a little more fiddly as you need to remember you need the client installed with php and also the php extension. There was some issues last year getting it to compile in limited images, so one to watch for \n. I think you wouldn't need to suffix the names if you are using docker-compose v2 as you can use networks. It now has multi networks, so if you have an app and compose file in a folder \"larasite\" and another \"greatapp\" you would get the app in the compose in network name larasite_default and the other greatapp_default.\nAlso you can set this in the conf:\nNote: Your app\u2019s network is given a name based on the \u201cproject name\u201d, which is based on the name of the directory it lives in. You can override the project name with either the --project-name flag or the COMPOSE_PROJECT_NAME environment variable.\nhttps://docs.docker.com/engine/userguide/networking/get-started-overlay/\n. Sounds like two issues. \nTo run multiple sites you add the laradock folder to each project, you can then start each project in turn. \nThere is an issue like noted above, that you would need to stop one project and then start the next as they take over the ports (I am sure there is a solution with this) \nThe second one is if you want to install phpmyadmin, you would need to just put that in the project directory or in the Dockerfile to install in one of the containers. I would think if you put it inside your project you could configure it to work when it loaded\n. @sasuke6 you will not see workspace with docker ps, as the volumes do not stay running they stay in the background. \nSo look for docker ps -a see the containers that stopped and also workspace.\n. It is likely to be the speed of your computer + VM + free memory that will affect speed\n. I dont have the issue on my version, that I upgraded from early laradock over time, but new developer on the team did a fresh install and got this similar mysql issue today.\nFatal error: Can't open and lock privilege tables: Incorrect file format \"user\"\nwill try deleting the volume\n. So solution that worked for us was:\n1. stop and remove all containers (docker-compose down)\n2. docker rmi laradock_mysql\n3. docker images rm laradock_mysql\n4. start again (docker-compose up nginx mysql)\nSo it was the volume that corrupted or permissions issue but we could not access it as you would in non docker, so start again worked. (but it was remove container, image and volume )\n. sorry wrong way. stupid me today cant use git . For people who see this later, also do this yourself, as people or bots can telnet in and install ssh keys and the like from redis in very few lines of normal commands. \nExplainer post: \nhttp://antirez.com/news/96\nCopy in the latest conf \nhttp://download.redis.io/redis-stable/redis.conf\nEdit the \"requirepass\" and \"bind\" lines, the pass needs to be complex, as redis can try so many passwords a second its ridiculous. The bind I found worked on a Digital Ocean server was to 0.0.0.0 rather than 127.0.0.1 or the main IP.   \nbind 0.0.0.0 \nrequirepass something-very-long-and-complex-pass123@ \n. ",
    "edbizarro": "+1\n. ",
    "JoeyHoutenbos": "+1\n. ",
    "Remuwon": "It depends on your setup. Do you want to reuse the containers or to create new ones. For the former you can just clone the repo for your new project. Once the containers are created for the very first time you'd just have to run docker-compose start and the containers would be reused. Just a side note, since the mysql and redis containers share the same data volume; it means all your databases and their data will be on the same container.\nIf you want to create new containers just clone/(fork then clone) and modify the docker-compose.yml till your heart is content :). Side note, you don't want conflicting container names so make sure they are unique.\nWhen you are switching between projects you might want to stop the container then put it up again from your new project folder.\n. ",
    "digitalit": "Im new to Docker but i really like your LaraDock and i cant get it to work with many sites/domains.\nPlease guide me so i can use LaraDock as my development instead of Vagrant.\nThank you.\n. Hi again,\nI solved this by adding more hosts/roots in default file under settings.\nIs this an okay solution?\n. Sweet, thank you.\n. which one? i ran \n/sbin/ip route|awk '/default/ { print $3 }'\ninside nginx and got 172.18.0.1 and typed \"dockerhost:172.18.0.1\" in both workspace and php-fpm container.\nStill didn't work\n. Ok, and yes im just trying to see Laravel in my browser.\nno problem with phpmyadmin on port 8080 but cant connect to server on port 80\n. ",
    "luis-don-dev": "How did you solve it? I can't figure out how to do it. Any help would be very appreciated (:\n. ",
    "neilkyoung": "Thank you Mahmoud!\nOn Wed, Feb 17, 2016 at 4:32 PM, Mahmoud Zalt notifications@github.com\nwrote:\n\nClosed #9 https://github.com/LaraDock/laradock/issues/9.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/9#event-553819444.\n. \n",
    "wedojava": "Thank you.I got it!\nI'm a newer in docker and English.These is not a good issue.\nI'd better to read document more carefully yet.\nHave a good one.\n. Sorry, I need do first to included Software:\nhttps://hub.docker.com/r/laradock/phpnginx/\nhttps://hub.docker.com/r/laradock/mysql/\nhttps://hub.docker.com/r/laradock/redis/\nhttps://hub.docker.com/r/laradock/beanstalkd/\nhttps://hub.docker.com/r/laradock/data/\n. My OS is Linux Ubuntu 15,in your Doc,I see it should be set 127.0.0.1,than I seted it and mapped hfcms.dev to 127.0.0.1.\nI guess there isn't wrong sets,eithor yum file or /etc/hosts/ and .env,So I send this issuse for a help.\nThank you!\n. extra_hosts:\n    - \"hfcms.dev:127.0.0.1\"\nIs it right?\nor change to:\nextra_hosts:\n  - \"hfcms.dev:{Docker-Machine-IP}\"\n. But my browser show wrong 500.\n. Hi @Mahmoudz . Thanks for your reply.\nI remove docker folder in laravel dir,and run\ngit clone https://github.com/LaraDock/laradock.git --branch v0.3.0 docker\nthan, there is still 500 error,before above step,I run sudo fuser -k 80/tcp on account of tcp:80:bind:address already in use.\nif is my mistake to kill process at 80/tcp? Or what?\n. ",
    "tripper54": "Note rather than using supervisord you could use phusion's provided runit process manager to run a daemonized version of the listener, see \nhttps://laravel.com/docs/5.2/queues#daemon-queue-listener\nThere could even be a case for running this in a seperate container.\n. @nevedimko : Yes, same for me. localhost goes to nginx, 127.0.0.1 goes to laravel.\nThanks!\n. For the googlers out there, had the same error on startup of the mysql container. Rebuilding the container - docker-compose build mysql  - solved it for me.\n. ",
    "Lednerb": "In which container would you install the crontab?\nOn production server you may have no workspace container.\nBy the naming the application container would be the best one but it's only holding application data and is not running all the time.\nThe nginx container has to handle the webserver-thing, not really cron-specific things.\nThan there's only the php-fpm container left.\nWhat do you think?\n. @cjmaxik he uses the php-fpm Dockerfile and image and just creates a new container with the php artisan queue:work command.\nIt's like a second command that runs the worker in the background.. Must have something to do with the permissions on the host.\nJust checked it.\nWith the latest version of laradock it works without problems.\n. @stefanheimann did you try to rebuild the container and do you have the latest version of laradock?\nI've had the same error some time ago but with the latest version of laradock and docker on Ubuntu it work's without any problems.\n. @Mahmoudz maybe I should add this to the workspace container too...\nI'm working with pdf generation via a laravel job / queue:listen and want to use it via the local laradock user so it has to run on the workspace container.\nWhat do you think?\n. Hello @khoerodin \nin an older version of laradock I've used this changes:\ndocker-compose.yml under the workspace section:\nworkspace:\n        build:\n            context: ./workspace\n            args:\n                - INSTALL_XDEBUG=false\n                - ...\n                - INSTALL_WKHTMLTOPDF=true\nworkspace/Dockerfile after the last install option:\n```\n\nwkhtmltopdf:\n\nARG INSTALL_WKHTMLTOPDF=true\nRUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\n    # Install all dependencies\n    apt-get install -y \\\n    libxrender1 \\\n    libfontconfig1 \\\n    libx11-dev \\\n    libjpeg62 \\\n    libxtst6 \\\n    wget \\\n    && wget https://github.com/h4cc/wkhtmltopdf-amd64/blob/master/bin/wkhtmltopdf-amd64?raw=true -O /usr/local/bin/wkhtmltopdf \\\n    && chmod +x /usr/local/bin/wkhtmltopdf \\\n;fi\n\nsupervisor - process manager\n\nRUN apt-get update && apt-get install -y supervisor --fix-missing\nCOPY laravel-worker.conf /etc/supervisor/conf.d/laravel-worker.conf\n```\nTL;DR\nYou have to install more than only libXrender1 package.\nMaybe the RUN command above helps you.\nEDIT:\nHave a look at this: https://github.com/laradock/laradock/pull/312. @guicara Maybe we should extend the script sections\nARG INSTALL_WKHTMLTOPDF=true\nRUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\nwith commands to download and install the latest versions from https://wkhtmltopdf.org/downloads.html with all needed dependencies?\nThan the outdated and abandoned h4cc/wkhtmltopdf package would not be needed, and a secure and fixed version of libssl can be used instead?\nMore information about the vulnerability:\n- USN-3628-2: OpenSSL vulnerability\n- How to Protect Your Server Against the Heartbleed OpenSSL Vulnerability. Hi @mikeerickson  \nit seems that you have already a running container with port binding to 3306.\nFurthermore if you want to change the port of your container you have to edit the first one like this:\n```\nEdited mysql/my.cnf\n[mysqld] port=3306\nEdited docker-compose.yml\nports: - \"3308:3306\"\n``. Oh, I was wrong.\nOf course it's handled by thedocker-compose.yml`.. Fixed merge conflict.. ",
    "francislavoie": "I'm new to docker. I need to run a beanstalkd work queue but I'm not exactly sure what this new container should like as you suggest @Mahmoudz. Could you point me in the right direction?\n. Yeah I have beanstalkd running, I meant how should I start the laravel work daemon, i.e. php artisan queue:work beanstalkd --daemon. This needs to be run from a container that has both PHP-cli and the application code available to it but I'm not sure how to set this up. That aspect isn't covered by laradock docs.\n. Also alternatively you can set up a volume for a crontab file, i.e. ./workspace/crontab/root:/var/spool/cron/crontabs/root and your changes will be updated live, no need to rebuild the container.. >But I see OCI runtime exec failed: exec failed: container_linux.go:296: starting container process caused \"exec: \\\"bash\\\": executable file not found in $PATH\": unknown\nphp-worker is an alpine based image which doesn't have bash. You should instead use ash, e.g. docker-compose exec php-worker ash\nBut if your supervisor.conf has autostart, you can just do docker-compose restart php-worker and it should start up with your cron enabled.. Yeah you'll need to restart the workers any time you change your code for jobs/scheduled tasks. Since it's run from PHP-CLI, the code is only loaded once when it first boots up, unlike PHP-FPM and such which loads your code on every request (with opcache in there to make that more efficient). It's a bit tedious, but it's what you have to do. You could write yourself a tool to watch for changes in the relevant code paths (with inotify for example) and restart the workers, if you want to lighten the development burden.\nIf you change the crontab, I think you need to rebuild and re-run the workspace container for the changes to take effect. See the Dockerfile for workspace, it copies the crontab into the container at build time.. After you rebuild you need to re-run it, e.g. docker-compose up -d for the rebuilt image to be recreated as a new container.. https://docs.docker.com/compose/reference/restart/ I think this is what you're looking for. Restarting shuts down the container and starts it again, meaning it kills the worker process, then starts it again as defined in the Dockerfile RUN/ENTRYPOINT\nUnfortunately it's just the nature of how job workers work. It's one process that waits for jobs to be added to a queue, then runs them as they appear.\nI think how laravel does it (I'm not at a PC right now to really check) is that the from schedule will actually spawn a job onto the queue, and php-worker runs it. You could experiment by turning off the worker container (docker-compose stop php-worker) and see if scheduled jobs still run.  . You're not wrong, I just think it's the case that laravel puts the jobs defined in the cron schedule on the queue. That might not be the case though.. Same here.\nThis is recent, it worked a few days ago.\n. No, that's the memcached PHP extension, not memcached itself. That extension is needed on the PHP-FPM container for it to be able to interface with memcached itself. It can't be in a separate container.\n. For apache specifically, wouldn't it make sense to use debian-7 (wheezy) as the base image? See here, they have builds with debian. http://dockerfile.readthedocs.io/en/latest/content/DockerImages/dockerfiles/apache.html\nThis would make apache match the base image of php-fpm and mysql.\n. I think you should actually be doing the following:\nRUN apt-get install -y libbz2-dev && \\\n    docker-php-ext-install bz2\nIf you look at the bz2 pecl page, the last update was in 2003 and it's now deprecated. If you look at the PHP docs, it says to compile it with PHP to enable it. The docker php image uses the docker-php-ext-install command to help with this. It needs the libbz2-dev dependency first though, as I found from here: https://github.com/docker-library/php/issues/47\nI haven't tried it, but give it a shot!\n. I don't actually use either services in any project right now, so I don't think I can easily right now.\n. I'm not sure what you're asking. MEM USAGE is the current RAM usage of that container, and LIMIT is the maximum allowed for the container (based on your hardware).\n. Your question isn't clear. That memory usage looks normal for MySQL. I'm not sure why you want to increase memory usage, that doesn't make much sense. MySQL just uses what it needs to use. This doesn't seem like a docker related question and more a MySQL question, so maybe you should try there?\n. Alright, I think this is what you need: http://stackoverflow.com/questions/35036547/mysql-server-has-gone-away-error-during-installing-migration-laravel\n. Add - ./data/caddy:/root/.caddy to your volumes_data service in docker-compose.yml and make sure the caddy service has \nvolumes_from:\n            - volumes_data\nThe /root/.caddy directory is where the cert data is stored in the Caddy container. Making a data volume will persist that info and prevent needing to re-issue on every restart.\nEdit: actually this is already resolved in the current master branch. The caddy service has\nvolumes:\n            - caddy:/root/.caddy\nThis issue can be closed.. @tariqbilal version: '2' is the version of the docker-compose spec, not of laradock.\n@Mahmoudz it looks like - caddy:/root/.caddy was lost at some point... hmm.... I found the offending commit https://github.com/laradock/laradock/commit/380eef5fd954f3066ad0df6a6e613302ba0edf1a\nI'll make a PR to fix this again. https://github.com/laradock/laradock/pull/613\nThanks @tariqbilal for reporting it again. Yep you need to wait a week until your limit expires. You should make the same change I made in my pull request yourself for now until the change gets merged. . @appleboy this broke Caddy persisting SSL https://github.com/laradock/laradock/issues/431. Or better, just use expose instead of ports if you don't plan on needing to connect to your mysql database from the host. If you're only going to be using it from an application within your docker stack, there's no reason to bind the port on the host. If you're going to use it in production, it's even more important that you DON'T use ports and instead use expose for services like mysql. Only your web-facing services (nginx, apache, caddy, etc) should have their ports bound (i.e. 80 and 443 for HTTP and HTTPS respectively). Otherwise, anyone could connect to your mysql container from the outside world (if they have the password, which they could brute-force if they wanted to).. You probably don't want to be running docker as root. Don't use sudo.\nIt looks like the mysql container failed to build correctly - the startup script (see here: https://github.com/laradock/laradock/blob/master/mysql/startup) wasn't added with file permissions that allow it to be read. I'm guessing this is probably because you ran docker as root, so when files were copied in, they kept root user permissions instead.\nSee here for details (for ubuntu) to run docker without root: http://askubuntu.com/a/477554. @trungke21 You didn't give any context here, so it's hard to know what you're asking or reporting.. It wasn't clear, but I think you're running commands on your host machine and not in your workspace container. You should be running artisan commands in there. Do docker-compose exec --user=laradock workspace bash to get a shell into the workspace container. \nYou might also not have memcached installed in the workspace container, so you may have to modify it to have those dependencies installed.. @Shadow2004 you'll probably have to add this stuff https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-70#L109-L129 to the workspace Dockerfile. You might need to make some changes for it to build though. You'll also need to add the environment variable to your docker-compose.yml.\nI don't use memcached so YMMV. It used to be this way, but it was changed in this commit: https://github.com/laradock/laradock/commit/9ab6d8fa15f1ed7de277b0838c847193a7b971db\nYou can do this ./data/mysql:/var/lib/mysql on your mysql volume for it to persist. With the current implementation, it does persist, but it gets put somewhere in /var/lib/docker, which is relatively tedious to access.\n@Mahmoudz why the change to volumes_data to use the local volume driver instead of just mounting it into folders in ./data? That seemed like the saner solution for new users. Volume drivers are definitely confusing.. You're right, I couldn't find any documentation about a /var/lib/memcached directory being used. My only thought would be for logs, but it doesn't seem to be used that way by default.. You should probably be running your artisan commands inside of the workspace container.\nA good way way to set this up is like this: \ncmd() {\n    docker-compose exec --user laradock workspace ${@}\n}\nUsage:\n./cmd php artisan migrate\nYou can also do ./cmd bash to get a shell into the workspace container and work from there.\nAlso, the way you're doing it now, you're allowing mysql to be bound to your host's 3306 port, which is insecure if your machine is publicly accessible. I recommend to change ports to expose and 3306:3306 to 3306 in your docker-compose.yml for your mysql container.. There shouldn't be any issues. It's just a bugfix release.. You have two options. You can either make a second container with a different name (it's relatively cheap to run another container), or you can write an SQL script which gets run on startup.\nSee here https://hub.docker.com/_/mysql/ \n\nInitializing a fresh instance\nWhen a container is started for the first time, a new database with the specified name will be created and initialized with the provided configuration variables. Furthermore, it will execute files with extensions .sh, .sql and .sql.gz that are found in /docker-entrypoint-initdb.d. Files will be executed in alphabetical order. You can easily populate your mysql services by mounting a SQL dump into that directory and provide custom images with contributed data. SQL files will be imported by default to the database specified by the MYSQL_DATABASE variable.\n\nSo essentially, you'll want to mount a volume with those SQL files in them, and they'll automatically get executed.. Actually, I just realized there's a startup file in this repo (wasn't there last I looked a few months ago) that you can use to set up additional DBs and users. https://github.com/laradock/laradock/blob/master/mysql/startup\nYou can also modify the mysql Dockerfile to accept additional arguments, such as MYSQL_DATABASE_2 which can get written into the startup script at build-time.\nShould do the trick for you.. You should be able to do \ndocker-compose exec mysql sh -c 'export MYSQL_PWD=\"$MYSQL_ROOT_PASSWORD\"; mysql' \nto get a mysql shell as the root user and debug from there. You example looks OK to me. I'm no MySQL expert, I probably won't be able to help much with that part, sorry \ud83d\ude1e . @jmazurpl See here: https://github.com/docker/compose/issues/745\nThere's currently no proper way to do this persistently, but essentially you need to either use -p in all your docker-compose commands, or use a .env file alongside docker-compose.yml, and set the COMPOSE_PROJECT_NAME environment variable.\nSpecifically, edit this file https://github.com/laradock/laradock/blob/master/.env and add that variable.\nAlso, you should be using mysql, i.e. the container name, as the domain to connect to your container from inside of it if you aren't already. Compose guarantees that the names of the containers are set up in the hosts files of each container in the stack to point to the correct container.\nSome reading:\n- https://docs.docker.com/compose/env-file/\n- https://docs.docker.com/compose/reference/envvars/. That's not a laradock issue, a quick google gave me this https://bugs.php.net/bug.php?id=63016, so it looks like it's a bug in the rar package. You might need to try and make a fix yourself and build it from the .tgz. Doesn't look like it's maintained anymore, last release being in 2013.. Actually it looks like the problem is that the gcc version is too old and doesn't have that -Wno-logical-op-parentheses option included.. Change ports to expose and 3306:3306 to 3306 under mariadb in your docker-compose.yml if you don't need direct access to your database from your host.. ",
    "philtrep": "We now have crontab available in the workspace container, this solves the first part of this issue.\n. @sixlive You can edit the crontab file in your clone of LaraDock at workspace/crontab/root https://github.com/laradock/laradock/blob/master/workspace/crontab/root before creating the container.\nThe instructions for this are available in the docs: https://github.com/laradock/laradock#adding-cron-jobs. @sixlive Okay that could be an issue then, I tested it when I added the functionality and it was running without being required to run crontab -e as far as I can remember.. @sixlive Okay it's most certainly a bug then, please create a separate issue for this.. @edmundluong This issue is very much still open. As far as I know, we do not currently have supervisor support.\nIf you feel like submitting a PR go for it, this issue seems pretty popular so it's definitely something important to some users.\nAccording to https://github.com/phusion/baseimage-docker/issues/164, the parent(?) image of the laradock/workspace image (phusion/baseimage) uses runit, could it be a viable alternative to supervisor?. @dhdanno You cannot override ports in docker-compose. There's an open issue about this in the docker-compose repo https://github.com/docker/compose/pull/3939. @lolalf \nif the solution above doesn't work, please post your logs here\n. @midascodebreaker I'm closing this because I don't think this is an issue that's particular to this project. That being said, I suggest taking a look at http://blog.runnable.com/post/145362675491/distributing-docker-cache-across-hosts .\n. @adulion Feel free to make a PR for the docker inspect command. The first part of the answer is already in docs under the intro section https://github.com/LaraDock/laradock#intro.\n. @hopewise Try using Pip to manage the docker-compose version. Take a look at https://docs.docker.com/compose/install/#/alternative-install-options\n. @wtwei could the fix from @altjsus also apply to you?\n. The fix I found is: \ndocker-compose exec -T workspace bash -c 'export NVM_DIR=/home/laradock/.nvm; [ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"; <nvm/npm commands>'\nWhich is basically just running the last 2 lines in the laradock user ~/.bashrc followed by my commands.\nI too would like to know the rational behind not having the binaries available to root?\n. @KikeMendez \nYou can use the laradock user to run commands in the workspace like so:\ndocker-compose exec --user=laradock workspace bash\nyou should then be able to run gulp.\n. @edmundluong \nMade the PR but note that this won't work for commands that don't load the .bashrc ie. docker-compose exec workspace bash -c '...'. I tried making it work for the best part of a day and my fix above is the only thing that does it...\n. @at-locbm has your issue been fixed?\n. This issue should be split into two seperate issues:\n- Cerbot for generating SSL\n- ngx_pagespeed for NGINX\n. @Tang1024  I think @barnabas-szekeres meant data/mysql in the LaraDock folder.\n. @Mahmoudz since we have crons available now I'm that thinking @appleboy 's fix is worth being the default config. What do you think?\n. @appleboy @Mahmoudz  After digging a bit, the /etc/localtime mount is not a suitable option since it won't work on all host. Please take a look at #354 and tell me if you find it acceptable.\n. @devfelipereis can you give us an update on this?\n. I added a PR for Cronjob. You could mount a volume for workspace at /opt/backups then have the cronjob do a mysqldump.\n. @partenit Does #340 resolve your issue?\n. @marttosc Have you tried the zend_extension=opcache.so from php.ini suggestion?\n. @marttosc glad you got it to work. I'll close this for now, we'll reopen if we see this is a recurring issue.\n. @cassiohalmeida \nA few things:\n- try rebuilding the containers docker-compose up --build --force-recreate -d  nginx mysql\n- try to curl from the workspace container, you should be getting your index page as html\n- look at access.log in laradock/logs/nginx, you should be seeing your request\n. @Mahmoudz\nFrom what I gather we could change the ports to expose without requiring most users to adapt. The proper way to execute any command is from the workspace anyhow.\nMaybe it's just me but the default behavior should be restrictive rather than permissive, especially when it comes to database access. \n. @lukasoppermann \nTry docker-compose up --force-recreate -d\n. @lukasoppermann by reading your question again I think I get what you are trying to do. The problems lies in the symlink. When VOLUME loads, it copies the path the symlink points to so if you change the link location, VOLUME still points to the initial directory!\nI think the easiest solution would be to create a volume for all the releases:\n```\ndocker-compose.overwrite.yml\n[...]\nvolumes_source:\n        image: tianon/true\n        volumes:\n            - /releases/:/var/www/releases\n```\nWhen you've ran the container you'll want to remove the Laravel directory:\nrm -rf /var/www/laravel/\nThen create a symlink from within the workspace:\nln -s /var/www/releases/12345435 /var/www/laravel\nWhen you have a new release just do:\nrm /var/www/laravel\nln -s /var/www/releases/<newrelease> /var/www/laravel\nThat should do it!\n. @lukasoppermann \nYes, VOLUME mounts a directory in the host file system, you should see the current folder being modified from within the container after the mount has taken place.\nYou would have to run the command from the workspace container. However, if you are always going to be pointing to the same folder you shouldn't have to run the last command. That being said I haven't tested it out so I could be wrong.\n. @lukasoppermann Did my fix resolve your issue?\n. @Mahmoudz you are welcomed! thank you for creating/maintaining LaraDock :)\nHaving the 3306 port forwarded by default.\nIt's explained in https://github.com/docker/compose/issues/2260 that we cannot yet override the ports (or any other array values for that matter). Therefore my only way to NOT have the 3306 port forward is to edit the docker-compose.yml file.\nThis is a problem for 2 reasons:\n1.\nIn the official docker-compose documentation it says:\n\nyou\u2019ll probably want to define an additional Compose file, say production.yml, which specifies production-appropriate configuration\n\nSince we cannot here use an additional Compose file to overwrite the ports value, we are going against the recommended method in the documentation.\n2.\nIf you are programmatically grabbing the LaraDock files, the only way to replace the ports value is to do a in-file string replace. Currently, I have to do a sed replacement on the docker-compose.yml since my docker-compose.override.yml cannot override that value.\nAs far as the downsides go:\n1.\nI don't think that many users are remotely connecting to the database from outside the Compose network. Those who do (and really want to) shouldn't have any problems in adding the extra line in their environment specifig Compose file.\n2.\nSecurity wise it makes more sense for this to be an opt-in instead of an opt-out. As far as I know, the current MySQL configuration doesn't use SSL by default (looking at my logs right now I get [Warning] Failed to set up SSL because of the following SSL library error: SSL context is not usable without certificate and private key) so we are providing a remotely accessible, unencrypted connection to a database with known default user/pass.\n. Sounds good @Mahmoudz . There's definitely too much confusion about this. I started working on a PR but I see you've already done it :) \n. @Mahmoudz gotcha, I'm gonna try to focus on issues related to initial setup.\n. The second error seems to be an issue with the volumes_data container. Try purging the container and running it manually. If this doesn't work, try adding the volumes from volumes_data directly to the appropriate containers. \n. @pablorsk \nYou can forward the MySQL port to your host by adding the lines\nports:\n    - \"3306:3306\"\nTo the mysql section of the LaraDock docker-compose.yml or in your environment specific Compose file.\nIt would end up looking something like:\n```\nMySQL Container\nmysql:\n    build: ./mysql\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"3306:3306\"\n    environment:\n        MYSQL_DATABASE: homestead\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n\n```\n. @guduchango de nada\n. @pablorsk I am assuming this worked for you, if not we can reopen this issue\n. @Mahmoudz that's odd... you did add\nports:\n    - \"3306:3306\"\nto the mysql container?\n. I think this should be it's own container, if someone has an idea feel free to contribute\n. @g0ld3lux I started working on it, the image is working but I haven't found a proper way to integrate it with our webservers. I'll post a initial PR in a few, you should definitely add to it if you have any ideas.\n. @g0ld3lux This is the initial PR #370, do contribute.\n. If anyone has an idea for this, we're more than open to it\n. Let's keep this open, we need a PR for @geocine 's fix\n. @geocine Might have jumped to gun on it although there is no downside in using your fix but if we do not then we may run into the same issue again.\n. @geocine Thanks for the contribution :)\n. @callect\nCould you make sure the MySQL container is up ? If it is, please try to connect to the database directly from it \n```\ndocker-compose exec mysql bash\nmysql homestead -u homestead -psecret\n```\nLet me know\n. This is a duplicate of #54 .\n. @deleonn please take a look at #355 \n. @soundsgoodsofar @michaelgracious @maurosbu could someone create a PR adding the fix to the docs? This seems like a recurring issue.. @edmundluong @Mahmoudz\nI don't know much about Opcache but from what I gather, the fix would make the application less performant since it would be looking for file modifications on every request.\nIt seems to me that we almost only need caching for non-dev environments so this shouldn't be a problem for most people but we should add a section in the docs, probably in the Production section, explaining this since it's not the default behavior (assuming the config we currently have is the default one).\n. @deleonn Glad you got everything working! I'll close this for now, if we get more people with the same issue we'll take a closer look at the caching mechanism.\n. @appleboy Sorry I'm a bit late to the party. It does look better with your changes \ud83d\udc4d \n. @edmundluong Good idea. I would see this as an optional build argument to the Docker Compose file. If you feel like making a PR go ahead :)\n. @edmundluong Any progress on this? If you aren't actively working on it we'll add an Help Wanted tag since this looks like a desired feature.\n. @edmundluong Sounds good, thank you for the fast reply and the idea.\nWe are now looking for people willing to implement this.\n. @manshoor I don't believe we have a fully integrate solution at the moment (someone correct me if I am wrong) but I have seen @LarryEitel work on it #54 , he might be able to give you some pointers.\n. this was solved by #367 \n. @aletundo Good catch, thank you for your contribution :)\n. @brianvice please refer to #364 \n. @brianvice Thank you for your contribution but please refer to #364 and #366\n. @Mahmoudz @brianvice \nI think manually selecting the version is the best idea. Brian's idea of having multiple Dockerfile is fine by me BUT we should try to limit the amount of Dockerfile we have per image type so as not to have to maintain a dozen different Dockerfile for each image type.\nThe way I see it, we could focus on keeping the core Laravel containers like php-fpmand mysql up to date with the latest versions and keep the secondary/less used containers either on LTS or latest major release.\nFor example, we could support mysql 5.6 and 5.7 but for mongo only 3.2. That way we maximize ease of use for most users while keeping issues to a minimum.\n. @g0ld3lux Good point.\nThen we just need an Apache solution and a README entry on how to use the Certbot container. I'm pretty busy this week so if anyone wants to take a crack at it, go ahead.\n. We still need a Apache solution for this.\n. @aoki-sora Try using the laradock user to run gulp.\ndocker-compose exec --user=laradock workspace bash\ngulp\nMake sure your public and resources folders are owned by laradock:laradock and have at least 644 permissions.\n. @aoki-sora You are welcomed.\nIt's probably because the root user is the one running gulp so it rewrites the output files with root as the owner.\n. @aoki-sora Okay, that's not normal. The files should be owned by laradock:laradock. Purge all images and containers then build and run LaraDock. If that doesn't do it, it's probably a host specific issue...\n. @aoki-sora Did you manage to get it working?\n. @calebfavor Shouldn't ARG PHP_SOCKET=\"php-fpm:9000\" be changed to ARG PHP_SOCKET=php-fpm:9000 instead?\n. #375 should fix this issue\n. @calebfavor First, thank you for your contribution.\nI'm not sure I understand ARG PHP_SOCKET=$PHP_SOCKET. That would mean that you are defaulting to the environment variable PHP_SOCKET but you probably want the default value to be php-fpm:9000 right?\n. @calebfavor Okay no problem, thank you very much for your contribution.\n. @markdev The directory /var/www/laravel/ is where the volume for your laravel app gets mounted by docker-compose. Since docker-compose mounts happen after building the containers, your FOO.txt is probably getting overwritten.\nI suggest adding your files in the same directory as your laravel project on your host machine, you'll see the file along with the rest of your project in /var/www/laravel/ in workspace.\nLet me know if this fixes your problem :)\n. @markdev Glad to hear it.\nI am closing this issue since your problem is resolved.\nAbout your follow-up, I am not exactly sure what it is you are trying to do. Everything in your project folder should already be available from within your containers.\nI suggest going over to Gitter for project specific questions, the other contributors might be able to give you better answers.\n. @Selsynn glad you got it to work and thanks for sharing your solution :)\n. @Shmp \nThere are 2 instructions in docker-compose that manage ports: ports and expose.\nexpose gives access to that port to other containers:\nmysql:\n        [...]\n        expose:\n                - \"3306\"\nThat would give access to mysql:3306 to PHPMyAdmin, workspace, etc.\nports forwards the specified port to the host machine. Forwarding ports to the host does something bad by default, it automatically publishes the affected port from the host:\nmysql:\n        [...]\n        ports:\n                - \"3306:3306\"\nThis as the additional effect of giving the host access to the database (through localhost:3306 not mysql:3306 since the port is being forwarded). The problem here is that docker will by default manage the iptables on the host machine, you would therefore be allowed to connect remotely to the database.\nTLDR Use expose instead of ports in your docker-compose file.\n. @Shmp \nTry flushing the privileges and recreating the user with a more permissive host (%). If this doesn't work, do a dump, delete all the data/mysql, recreate the container and import the dump in your fresh database.\n. @Shmp try changing the my.cnf to:\n[mysqld]\nbind-address = 0.0.0.0\nYou'll need to rebuild your container but I think that might do the trick...\n. Unless you need to remotely access the workspace container, I suggest you connect to it using docker-compose exec --user=laradock workspace bash instead of ssh.\n. That being said I haven't used SSH in LaraDock yet, this could be an bug.\n. @hopewise Make sure you follow the docs https://github.com/LaraDock/laradock#install-xdebug.\nCheckout #363  and #369 if you still have a problem.\n. Try docker-compose down; docker-compose up --build -d nginx php-fpm workspace\n. @whsiao please take a look at #404, I think you have a similar issue\n. @whsiao Glad you got it to work. If you feel like any of this might help out someone else feel free to make a PR with documentation.\n. @LarryEitel This looks really good. What do you think is missing for this to be considered a release version (aside from squashing commits)?\nEven if the guide isn't 100% accurate, merging this in would at least give some tips to users and would increase the chances of others contributing.\n. @LarryEitel Awesome, let me know when you're done squashing and I'll merge this in! \ud83d\ude03 \n. @LarryEitel All done. Thanks again for your contribution!\n. @hopewise if the doc is not clear I encourage you to do a PR with a rewording :)\n. @hopewise I'd rather not give you an mediocre answer, I suggest reading the docker compose documentation if you want learn more.\nAnd thanks for the PR :)\n. @dannysood Yes, absolutely.. @dilone Thanks for your contribution.\nDo you have a reasoning behind using the port 2222 instead?\nIf it's only because of conflict, I don't think we should use the alternate ssh port by default, 22 is standard and if we follow the config for our other images we should be using standard ports for forwarding.\nThat being said, if you've had an issue with conflicting ports maybe we can address it in the debugging section of the documentation?\n. @Mahmoudz what do you think? 22 is development centric since if you ssh into a server the 22 port is probably already taken but I have seen configs using 2222 in development...\n. Okay I'll merge this in since it does make sense that you might already have the port 22 used by ssh on your host machine, we'll revise if we get too many issues about this.\nThanks again for your contribution @dilone :)\n. @Mahmoudz good point! I haven't seen any mention of actual ssh (only exec) in the doc but we should indeed add a mention.\nDoing that right now...\n. I believe this is a duplicate of #325 \n. @Lopez-i Glab you got it to work. Thing is, these services are all runing in different containers, that's why you can't access other services through 127.0.0.1.\nDo you have a particular reason for wanting them accessible through 127.0.0.1?\n. @Lopez-i I'm closing this since your issue has been fixed.\nAbout LaraDock running slowly, please have a look at #353.\n. @sulfo Try checking the permissions in the data directory. If everything is permisive enough, try deleting the directory and re-running the containers.\n. @sulfo Yeah you have to use Docker Native on Mac. I mostly use a Mac (also at 10.10) for development and everything works great. I suggest removing Toolbobx and installing Docker by itself.\nAnyhow since you plan to go back to Homestead I'll close this issue.\n. @dsampaolo Hey there, thanks for finding this issue. Could you create a PR for it?\n. @mouyong Awesome! Could you submit a PR? I'd prefer it if you got credit for the fix \ud83d\ude04 . Closed by #609. Thanks @mouyong !. @sashaaro I think you're going to have to install node in the php-fpm container. The workspace is what installs node, I see no reason why your application should be able to find the executable since it doesn't run from workspace (it's two separate file systems). You could create a shared volume if you only want a single instance of the executables but that sounds like overkill.\n. @sashaaro Yes, sadly your use case is pretty specific. If you feel like making PR with your current solution please go ahead. I'm closing this for now.\n. @scoutman57 I hadn't realized that was such a popular tech.\nI can't speak for @Mahmoudz but I think it's a great idea to have a node container that makes the executables accessible to all the services.\n. I can't reproduce the error but I believe that modifying the compose config:\napplications:\n        image: tianon/true\n        volumes:\n            - ../:/var/www/laravel # changed from '/var/www'\nshould fix this.. @markdev The MySQL image exposes port 3306 to the other services by default.\nThe port option in the Docker Compose config is for forwarding the port to the host.\nYou need to use the expose option in Docker Compose (works the same as EXPOSE in the Dockerfile) to allow other services to connect.\nexpose:\n    - \"1306\"\nYou can also modify the default EXPOSE 3306 to EXPOSE 1306 (or EXPOSE 3306 1306) in the mysql Dockerfile.\nFollowing either of the above instructions, you should be able to connect to MySQL from the workspace using port 1306.\nThat being said you might also need to change the port to which the instance of MySQL binds within the mysql container (if it doesn't listen to all the open ports), I sadly can't help you there since I haven't had to change the default mysql port.\n. @markdev \nTry adding port = 1306 in my.cnf, that should do it.\n. @markdev Did you use the --force-recreate flag? Also try connecting from within the MySQL instance. To go within the MySQL container use docker-compose exec mysql bash.\n. @markdev Make sure you stop the previous containers, it sounds like a conflict between two instances of mysql.\nI think Ive got a solution for you, try modifying the my.cnf to\n[mysqld] \nport=1306\nHopefully this will make mysql bind to the correct port. Now you would need to have 2x my.cnf and select which one to use while building the containers, perhaps by adding an extra build argument and a shell if else in the Dockerfile.\nA better solution but more extensive solution would be to have the default port dynamivally replaced by a port passed from the docker-compose build args. That would allow multiple instances on different ports without having to change the underlying code.\nAnyhow, do let me know if this works for you.\n. @joaojoyce \nI don't believe anyone has suggested it yet. If you want to create a PR go right ahead :)\nI think you will find https://hub.docker.com/r/mdillon/postgis/ relevant, it seems to be actively supported. As far as the configuration goes, something similar to the current Postgres config should do it.\nYou can always create an initial PR for review if you feel like your code can/should be improved.\n. @lichnow Edited your issue for clarity.\nFor the multiple mysql, please refer to #404 for the moment.\nFor the moment (until @Exadra37 finishes his PR), I suggest using multiple Docker Compose files. (This)[https://github.com/laradock/laradock#prepare-laradock-for-production] should help you out getting started with multiple configurations.\n. @naretini You can also use the --build argument with the docker-compose up command.\nClosing this since you figured it out :)\n. @joaojoyce Thank you very much for your contribution\n. @naretini Take a look at #404, I think it might help you out.\n@Exadra37 We'll have to take a look at the different services for possible conflicts when using the same image multiple times. I look forward to your PR, it should solve quite a few issues we've been having...\n. @Exadra37 yes that's what I meant. For example we would need to parametrize the my.cnf file since each instance of mysql should bind to a different port.\nI'm really looking forward to your solution, I haven't seen any Docker-Compose project allowing for easy duplication + configuration of services yet.\n. @tms320c sounds like a good idea. If you want to make a PR feel free to do so.\nAlso @LarryEitel  as the IDE connoisseur, I think this might be of interest to you.\n. @Exadra37 You might get better feedback if you create a PR in this repo. Don't worry, if you say it's a Work In Progress we won't merge it without the all clear!. @Exadra37 @Mahmoudz I really like this idea but I fear that by modifying the current development usage we'll hit the same problems we had with #339 where user adaptation was difficult.\nI personally don't mind writing docker-compose -f docker-compose.override.yml -f docker-compose.dev.yml up to start the dev environment however, following Use Docker first and learn about it later., it might be a better idea to keep the dev commands as simple as possible especially since most users use LaraDock only for dev. That was the reasoning behind the creation of the production-docker-compose.yml file.\nCould there be a way to remove needing to specify additional files, keeping docker-compose up as the default command? Or if it's not possible we could have a dev up script (something like ./laradock/dev up as a startup command) to simplify things?\n. @Mahmoudz Cool project, this makes me think we should have a section in the docs for LaraDock related projects \ud83d\ude03\n. @voidnoble I suggest connecting to the workspace using docker-compose exec workspace bash instead.\n. @nicobrinkkemper If you feel like this may be confusing to other users, feel free to do a PR with a documentation update. Thank you for including your fix in the issue.\n. @mbtamuli \nOff the top of my head, try rebuilding docker-compose up --build --force-recreate -d nginx mysql.\nIf this doesn't work, delete all containers and images and rebuild again:\nbash\ndocker rm -f $(docker ps -qa)\ndocker rmi $(docker images -qa --digests)\ndocker-compose up --build -d nginx mysql\nIf this doesn't work, please tell us what platform you are using and what changes you've done to the initial configuration if any.\n. @mbtamuli Welcome to the club buddy, glad you made it work :)\n. @dlnsk Could you give a bit more context to:\nSTRICT_TRANS_TABLES\nNO_ZERO_IN_DATE\nNO_ZERO_DATE\nERROR_FOR_DIVISION_BY_ZERO\nNO_AUTO_CREATE_USER\nNO_ENGINE_SUBSTITUTION\nWhy are these required?\n. @dlnsk Awesome! Thanks for your work.. @manshoor Awesome!. Fixed by #437 \n. @manshoor Shouldn't we be making this a bit more obvious? It's not very clear that CODEIGNITER enables mysqli. Maybe we should have a MYSQLI option? What do you think?\n. @Stubbs I don't know about the spinning up specifically but speed is a known issue #353. I invite you to add to the existing issue.\nClosing this as a duplicate.. @wasmetqall Just a shot in the dark but have you tried stopping and rebuilding the containers?\ndocker-compose down && docker-compose up --force-recreate --build -d <services>\nBy the way you can use docker-compose exec workspace bash to execute commands in the workspace container :). @wasmetqall Glad it works! You can see the data stored in laradock/data/mysql. Those are however the actual database files so I suggest dumping the database instead if you want to keep a backup of the data.\nI did not know about interactive mode not being supported, thank you for the info.. @mxswar What did you end up doing to make this work?. @mxswar Like you pointed out this is a known Docker issue (https://github.com/docker/docker/issues/29005). Hopefully this will be resolved soon.... @mxswar @abbert Fixed it by downgrading to 1.12.3.. @manshoor Good job \ud83d\udc4d . @kamilcios Could you do a PR for your fix?\n@ELD I merged it by mistake the first-time so I reverted it ASAP, I then had discussion with @Mahmoudz then merged it back in. My apologies for the confusion, the mobile github site is the bane of my existence.\nThis seems to be creating many problems, I could remove the PR but I think it's worth trying to keep the functionality of creating custom users (if possible). That being said if a majority doesn't care about the feature, I'll definitely remove it.\nAlso make sure you are completely purging your volumes/containers/images before running LaraDock.\n@manshoor Have you managed to replicate this issue?. @Blaasvis 's PR is #451. I'll wait a few hours for people to review it before merging.. Resolved by #451. @gfd6th Could you add a PR with your fix? This is definitely an issue.. @gfd6th Let's keep this discussion on #446.. @milroyfraser Is there a specific reason you want to use LaraDock to serve a static site? We could definitely add comments to the nginx site config example, feel free to do a PR with the proposed additions.. @Blaasvis no problem, could you please squash commits? Everything looks good on my end but since this affects a few people I'll wait a few hours before merging this in so people have time to review it.. @Blaasvis You didn't keep the change for ONMYSQL_DATABASE ;). @Blaasvis Thank you for your contribution \ud83d\ude04 . @armandojose0009 could you add your fix in a PR?. @armandojose0009 follow the instructions from https://help.github.com/articles/creating-a-pull-request-from-a-fork/. @armandojose0009 These are the wrong branches. @armandojose0009 Create a PR from your fork to master. This one is from a alternate version of the project to master.. @nloding There's a script that runs to create the database every time the mysql image is restarted. You should not be losing your data by re-upping the container.\nThat being said\nMy suggestion (assuming you really don't want to lose your data) is that you do a dump of your existing data then move the .sql somewhere on your host, recreate the containers then reimport your data in the new database.\nData persistence is still pretty tricky with docker containers...\nLet me know if this solves your issue!. @nloding The mysql files are persistent since they are saved on a shared volume (on the host). There is no \"delete database\" command that runs when starting the service, only a CREATE DB IF NOT EXIST. However, there have been times where a change in the mysql image created a loss of data when re-building the service. That is why I suggested doing a dump before the down & build & up  unless you don't care about your data.\nI hope this explains things more clearly.. @nloding I actually had the same problem yesterday running the latest version of LaraDock (albeit a slightly modified version) in production.\nThe steps I took were:\n\nDown the services/networks/volumes docker-compose down\nDeleted all the containers docker rm -f $(docker ps -qa)\nDeleted all the images docker rmi $(docker images -qa --digests)\nDeleted the mysql volume docker volume rm laradock_mysql\nChanged the second line in the mysql/startup file to CREATE USER IF NOT EXISTS 'MYSQL_USER'@'%';\nBuild and run the services docker-compose up --build -d nginx mysql\n\nThis is all from memory so I might be slightly off, I was in a rush and didn't think about writing down everything I did as I did it :rage4: \nLet me know if this works for you.... @khromov I think most people clone the repo then modify the Dockerfile of the php-fpm service if they need a particular extension.\nIf you want to ensure you keep the same extensions everywhere, there isn't yet a way to do so using only the configuration. Personally, I have a private repo containing my own configurations/modified images that I apply on top of every LaraDock fresh clone.\nIf you can think of a way to have custom PHP extensions through the configuration file (docker-compose.yml) that would be pretty cool \ud83d\ude0e . @khromov Yes, a fork would probably be the easiest solution.\nThat being said, if you think that the extension(s) that you are using could be useful to someone, I invite you to do a PR with your proposed modifications.. This is a duplicate of #453 . @sixlive thanks for the follow up, \ud83d\udc4d for PR.. No, php-fpm is the right name for the container. If you take a look at the docker-compose.yml file, you can see that the service is called php-fpm.. @dcnl1980 To change the timezone you can follow https://github.com/laradock/laradock/blob/master/README.md#Change-the-timezone .\nThe drift seems to be a known issue http://stackoverflow.com/a/38133871/1830104 .\nAccording to the previous link, you'll have to access the Docker for Mac VM TTY then sync with a ntp server.\nIf this helps you out we'll add the info in the docs.. @pangminfu try following the instructions in the SO link I posted above. @dcnl1980 @pangminfu did you ever manage to make this work? If this fixes your issue Ill add it to our docs. @lechengyu @bagart please follow the instructions in https://github.com/laradock/laradock/issues/113#issuecomment-265506361. @nickfan This is something we had previously discussed and decided against. The reason being that we want to make the initial setup as easy as possible for new users.\nI personally keep my own repository with a docker-compose.yml file for my specific needs but if you can think of a better solution feel free to share it. \ud83d\ude03 . @sashaaro Could you explain why this is required? Is there an issue associated to this?. @sashaaro @dannysood This should be a build argument on both the workspace and php-fpm images. I don't think there's a better way to do this with just docker-compose.. @mikeerickson I believe it was the simplest option at the time it was implemented. This was actually discussed in #398. If you think this would be a good feature you should definitely open an issue (or make a PR) for it.. @suncoastkid are you able to use nvm and npm?. @suncoastkid have you followed https://github.com/laradock/laradock#install-node--nvm ?\nIf you have, then make sure you have\nexport NVM_DIR=/home/laradock/.nvm\n[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\";\nin the ~/.bashrc file.\nIf you do not see the code above, I would remove and rebuild the workspace container.\nThese instructions shouldve been added to the bashrc when the container was built https://github.com/laradock/laradock/blob/master/workspace/Dockerfile#L169. @suncoastkid Glad it works.. @dilone It seems like you are using an older version of the docker compose config. Try deleting your containers/images/volumes and re-upping everything with an updated docker compose config and you should be golden!\n@helbing Docker-Machine is no longer supported in the default branch, Docker native should be working on all platforms now.\nIll reopen this issue if the problem persists.. @AliveCorpse Thank you for you contribution!. @naretini Slowness is a known concern #353. Try increasing the cpu count https://docs.docker.com/docker-for-mac/#/preferences. @jbaron-mx  Thank you for your contribution \ud83d\ude04 . @twlz0ne I see your Docker Version is 1.13.0-rc3, please move to the stable build.. Awesome, closing this.. @ZaffJa could you add this to our documentation?. Fixed by #483. Good job @edmundluong \ud83d\ude38 . @edmundluong We needed to merge the new laradock/php-fpm Dockerfile @AliveCorpse provided which I did 5 minutes ago, now we only have to do the proper modifications in this PR and we are good to go!\nAlso thanks for the bump.. @alexey-m-ukolov we need to push the laradock/php-fpm image to the Dockerhub. I can't do that since I don't have the creds for it, could you do it @Mahmoudz when you have some time?\nOnce that's done we can update the tag in this dockerfile then Ill merge the PR.. @Mahmoudz tried to push the image to the Dockerhub but there seems to be errors in it according to #539  @mikeerickson @edmundluong @jakubkratina  those need to be resolved and I simply don't have time to take care of this at the moment so if you guys have the solution do create a PR, @Mahmoudz will push to the Dockerhub again, we'll be able to merge this in and we'll finally get that PHP7.1 running for LaraDock.. @edmundluong Same as #484 but for https://github.com/laradock/workspace/pull/9.. @dlnsk Thanks!.  @dlnsk You are on a roll! This is definitely interesting.\n@appleboy @Mahmoudz I think we should discuss this since its a brand new feature.\nAdding a CLI to run bash commands in the workspace container has obvious benefits but I do wonder about:\n\nCould using bash prevent Windows users from using this? Go and Python could be viable alternatives.\nCould adding the symlink could be leading to confusion if using multiple instances of LaraDock?\nWhat do the Node changes have to do with the CLI? Is there a problem with using the current installation?\n\n@logaretm 's (CLI)[https://github.com/logaretm/laradock-cli] implements management commands, it would be nice if the building blocks for the CLI were to allow for the inclusion of similar commands in the future.\nWhat do you guys think?. @dlnsk @appleboy Okay, so we can put all the project management commands in the separate repository and keep the container internal command aliases like in this PR within LaraDock?\n@logaretm Like @appleboy pointed out we can start a new repository, your contribution will be more than welcomed :)\n@dlnsk That's a good point about nvm. I think this has to do with making sure that node is installed properly on the container and that you can switch version without rebuilding. Also it might be getting used if you have multiple projects within a same LaraDock instal. Could you please squash the commits for this PR? I will merge when you are done!. @appleboy I know, just wanted to give @dlnsk some time to cleanup \ud83d\ude03. @dlnsk I didn't think about it before but would you mind adding some usage documentation?. @dlnsk Good idea.. @dlnsk I added some comments. I think that some information and short summary should be available in the docs (README) as well.. @dlnsk When you have some time could you apply the last few fixes? I look forward to merging and starting to use this \ud83d\ude03 . @dlnsk Wow sorry this notification went by right under my nose. @appleboy has several comments to remove $node_init from the commands.. @abtrumpet thank you for your contribution!. @abtrumpet you're the best equipped to answer @Fabiencdp and @lamboap. @cosmospham thanks!. Closing this as a duplicate of #497. Please contribute to the original issue.. @vothanhliem1994it For Intl you might want to take a look at #466. I'm just waiting for some info on what it does before merging it in.. @Jono20201 Thanks!. @pakistanihaider @bigblueeio Feel free to create a PR documenting this \ud83d\ude04\nWindows support is very important to us, if you guys have suggestions/ideas on how we can improve upon it do let us know since I do not believe there is anyone on the admin team that uses Windows.\nOn another note, I strongly suggest upgrading to Docker Native for Windows.. @edmundluong yes. @edmundluong That would appear to be the simplest solution, you can definitely do a PR for it.. @cristiancmello thanks!. @mikeerickson Supporting other frameworks was discussed in #76. You can definitely open a new issue to argue that position.. @iannazzi My apologies, I missed your issue during my daily issue round.\nThe MySQL version may have changed between LaraDock versions. We're not doing a real update of mysql when updating LaraDock, we are just giving the database files to a fresh install of a newer version so the behavior is unexpected.\nThe simplest solution is to:\n\ndo dump of the database\nperform the LaraDock update\nreimport the database data\n\nThis should definitely be in docs, if you feel like adding it through a PR go for it.. @edmundluong thanks for your contribution!. @Mahmoudz sounds good. Closing this since I don't think that would be a bug on our side.. @yaoshanliang thank you for the issue and the follow up. \nIf you look inside docker-compose.yml you'll see that the mysql service is named mysql. You can use the names of services for routing within the same network (in this case, within the same stack).\nDepending on the internal configuration of the service, you should also be able to use a dynamically assigned internal ip address instead.\nIn this particular case, 127.0.0.1 will point to the php-fpm service (not the mysql one) since it's the service running the PHP MySQL client.\nIf you want to learn more about networking with docker compose I suggest reading up on https://docs.docker.com/compose/networking/\nI hope this answer your question!. @luciano-jr Very good idea, we should definitely investigate this further. We could contact the guys @ https://github.com/laravel/laravel to see if they would be open to it.\n@laradock/admins What do you guys think?. I'm not sure I understand the reservation on that point, LaraDock is self-sufficient. We can definitely clean up some more issues but is that the actual problem or just a nice to have?\nFrom what I gather, the community is asking for Docker support of Laravel which is exactly we are doing. Is there a difference in ideology getting in the way?. @mikeerickson I see, we'll do my best to clean up. I have to say that re-reading Taylor's tweet I think that it's the word Official he find implies too much responsibility. I'd be happy for this community even if we only got a single line under the Server Requirements.\n\nAlternatively, you can use LaraDock (unofficial) for Docker support.\n\nIn the end I think most Laravel users think like you do: if it works, who cares where it's from.. @mikeerickson Sounds great, I look forward to your feedback!. @mikeerickson What commands are you using to bring the project up?. @sixlive Thank you for your contribution!. @mikeerickson There's a PR waiting for some modifications and we should be good to go! #484 . @mikeerickson  still waiting on @AliveCorpse . @mikeerickson @AliveCorpse My apologies, I did not realize we had to update the tags on Dockerhub manually. I do not have access to the Dockerhub account so @Mahmoudz will have to do it.. There is no LaraDock specific way of doing this. You can add a volumes instruction in the docker-compose file for the service you want to mount.\nyaml\nvolumes:\n    - ./my_scripts/:/tmp/scripts\nI don't believe we currently have anything to add aliases. I would suggest sourcing the file yourself when entering the container docker-compose exec workspace bash -c \"source myaliasfile.sh && bash\".\nWe have a PR #487 to allow running commands from outside the containers. I think a good feature would be to have a list of alias that loads the user specific commands, allowing you to run the commands you want without having to ever go into the containers via exec.. @mikeerickson And in case it wasn't obvious enough, my previous comment was an invitation to do a PR \ud83d\ude09 . @mikeerickson awesome, looking forward to the PR :). Fixed by #557. @mikeerickson Thank you for the suggestion. We can definitely investigate the possibility of adding this but I doubt it would be preferable to the git submodule way of installing LaraDock.\nSince the goal is to have an exact replica of the dev environment on all machines, it makes sense to keep the version of LaraDock used within the project as a part of version control.\nCan you see any benefits to adding LaraDock to brew other than availability?. Oh I see, good idea.. @mikeerickson Sure thing. Let's keep this issue open, we'll close it when you (or someone else) implements a solution!. @mikeerickson I'll be testing it out today.. @hughgrigg Did you delete the volumes as well?. @hughgrigg Try docker stop $(docker ps -qa) && docker rm $(docker ps -qa) && docker volume rm $(docker volume ls -q) instead.. @mikeerickson Works great! Just add some documentation for it in the README and I'll happily merge this.. @mikeerickson Thanks for your contribution!. @bipinu If you want to suggest that we organize our project management I'm all for it and we will consider all available options but please don't spam your software here for no reason.. @g0ld3lux Thanks!. @g0ld3lux This PR is just missing a few changes according to @appleboy 's review.. Closing this since this is a known issue #536 . @g0ld3lux Thanks for bringing this up.\nAs far as being the official repo, this is (as far as I know) something entirely out of our control. It depends on the decision of Taylor Otwell so although we can hope for it (obviously it would make our project/community grow), I don't think we should expect it nor base our long-term planning of this project on it.\nThat being said I do agree that we need to rethink our approach to how many frameworks/stacks we support and where we want to concentrate our effort.\nMaintanability is definitely an issue. One of the problems we are facing is the lack of active support on our side for our less popular images (discussed previously in #368). Pushing in new updates can be often delayed and I know that several of the more active contributors spend quite a bit of time on helping out newcomers instead of adding new features/fixing bugs.\nThat isn't to say that helping newcomers is not a good way to contribute but we do need more code contributions if we want a more stable project and it does need to be more stable if we want it to be easier to use.\nDocker Compose is still a relatively new technology and I can't think of another open-source Docker Compose stack project that does what we are doing. We are in the unfortunate position to be at the receiving end of the errors/bugs that can seep through the several layers of technologies that make running this project possible so I highly doubt that we can be stable AND trendy AND diversified at the same time but we can certainly pick one of those and do it well.\nAs far as supporting other frameworks, I think it is not a compatible goal with improving our support of Laravel.\nWhat does everybody else think? Obviously @Mahmoudz and @appleboy I'd love to have your opinion on this.. @Mahmoudz @appleboy one of the most important parts here is (in my opinion) the support of multiple frameworks. The project has gotten quite big since #76 and I think we should reopen a discussion on wether or not other frameworks should be supported.\nAs far as the Gitea guidelines, I'm fine with the minimum Contributions to become a Maintainer but the 2 reviewers mandatory would be too hard to implement atm. I already don't have time to do code contributions for LaraDock \ud83d\ude2d  and I think it's the same with you guys.... Just to keep this issue updated, @mikeerickson has been added to the admin team and the issue tags have been updated for clarity.. @mikeerickson Good idea to install node modules when building containers.\nI have to say however that I don't think we should keep node modules in the compose file.\nI'd say we could have a build argument INSTALL_NODE_MODULES that when turned to true installs the node modules (in the package.json) using YARN/NPM depending on the package manager selected.\nDoes that make sense to you?. @mikeerickson Btw no need to use a prefix for your issues, we have labels to categorize them :). @mikeerickson I see, I would still keep them as build arguments but adding the options to have these 3 modules globally available is definitely a good idea. . @sixlive Thank you. @mikeerickson Aside from my comments, this looks good. As soon as the changes are done and the doc is updated ill merge this in \ud83d\udc4d . @mikeerickson Thanks, you rock!. @mikeerickson not to my knowledge, sounds like a good idea. If you want to create a PR for it go right ahead \ud83d\ude03 . @bipinu Your solution seems on point. However, zsh should be optional through a build argument.\nFor the .bashrc/.zshrc sharing aliases it's indeed tricky.... @maurosbu try stopping the compose stack\ndocker-compose down\nRemoving the existing containers\ndocker rm $(docker ps -qa)\nAnd rebuilding + rerunning your stack docker-compose up --build -d <services>. @maurosbu I did not know about the removal of containers by down, still I was missing a command under the rm:\ndocker rmi $(docker images -qa --digests)\nTo be honest with you, most problems \u00e0 la it used to work but now it doesn't get \"solved\" by doing a complete purge of containers/images/networks/volumes.. @maurosbu Did you ever manage to get it working?. @maurosbu Sounds good, something like getent group laradock || groupadd -g $PGID laradock. @alexey-m-ukolov which OS and Docker version are you using? Did you change anything in the compose file from the default config?. @alexey-m-ukolov No probs, we have PRs waiting for PHP 7.1. @alexey-m-ukolov absolutely, could you open a PR with the relevant information?. @mikeerickson I believe that's from #557. Fixed by PR #580 . @GlenHughes we have a Laradock-Toolbox branch you can try but my suggestion is to not use Docker Toolbox. Docker Native for Windows is what you want to be using.. @kvahuja great, I look forward to your PR \ud83d\udc4d . @francislavoie We tried removing port binding for mysql a few months ago but we then reverted the change because of complaints. The default docker compose file MUST NOT be used in production. You can see my old PR about port binding #339.. @ganlub I'm not the one who closed it but there ya. @indapublic you have to set the values in docker-compose.yml, the ones above are going to be overwritten otherwise.. @bagart Awesome thanks!. @cjmaxik Thanks!. Sounds like this should be documented, if you guys want to submit a PR that'd be great.. @marcoskubis You can do either.\nI personally keep a private fork for each project using Laradock, makes it much easier to maintain in the long term.. @lingfengchencn Closing this as a duplicate of #325. @iannazzi Thanks for the PR!\nThe documentation part is very much welcomed but the scripts would have to be discussed in the CLI repository.\nThe modifications on the startup and docker-compose.yml files are not necessary.\nPlease perform the requested changes and I'll be more than happy to merge this in \ud83d\udc4d . @Mahmoudz might be worthwhile to buy a domain name, we can then use it for the github pages. laradock.io could be an idea?. @gagarine Thank you very much.. @gagarine Sorry, I'm not sure I get what you're proposing?. @leu2tm First off, thank you for the PR \ud83d\ude03.\nI agree with @scoutman57 , this seems a bit too project specific to be done in this way.\nCould we make this a build argument instead? People who want to do the same would just have to set RUN_ARTISAN_QUEUE to true.\nJust write a little doc to go along with it and I think we're golden.. @gagarine Awesome, thanks!. If we could get a list of features we want tested it would be easier to dispatch them to multiple people.. @gagarine I tend to agree with @scoutman57, I think it would be better to have bash scripts doing functional tests on the various configurations. What do you think @mikeerickson ?. @gagarine @scoutman57 Based on our discussion in #487 and https://github.com/laradock/cli/issues/1, we decided to go with Go to write our tests. The main reason is that Go is multi-platform and won't require weird setups to get working on our less developer friendly OSes (wink wink Windows).. @fedemotta I see, would you care to elaborate? The issue this fixed was quite common I believe so I'm not too keen on rolling back the changes.... @xralphack Is it possible that the request is being sent while the assets are being compiled?. Closing this based on @francislavoie 's comment that this issue is not Laradock related. @robbydooo Go for pull request!. @hudarui Could you repeat in English if you could? Or @appleboy I think you speak chinese?. @AnatolyRugalev Excellent point, a PR would be most welcomed :). @Treggats Thanks for the PR. I don't think this is the right way to go to have people build their own composefile. The reason being that most new users shouldn't need to create their own compose file and their initial setup should be as easy as possible. My suggestion is to instead create documentation explaining how they can create their file for their specific needs.. @Treggats @Olivia101 For the moment your best option is to build the compose file yourself. A script/cli to create configurations on-the-fly is a great idea, we're exploring the idea on https://github.com/laradock/cli/issues/1 . You are more than welcomed to participate! :).  @klikrzys Do you have DEBUG set to true in you .env file for Laravel?. @cjmaxik Great! Try using the hostnames nginx and caddy.. @cabrerabywaters Wow. You should definitely put this in a PR.. @sasaorz Please see @cjmaxik 's comment. Checkout https://hub.docker.com/r/tianon/true/ for more info.. @hasangilak I'm not sure I understand what you are proposing?. @wayanjimmy Thanks for the PR! What @alchimik says seems about right.. @dtunes This is a duplicate of #650. Please contribute to the initial PR instead of creating a new one.. @alchimik Thanks for the PR!. @alchimik Thanks!. @andr2k Since the docker example is not working I'd try removing Docker from your machine and reinstalling it. I don't think this is specifically linked to Laradock, if reinstalling doesn't fix your issue I'll reopen the issue.. @cjmaxik Thanks!. @Blaasvis You seem to be missing a spaceon line 4 ONMYSQL_DATABASE. Instead of ~/Projects/laradock/docker-compose.yml this should be fetching the docker-compose.yml file based on the script's location. Maybe allow specifying the docker-compose config file but keep docker-compose.yml as default?. I don't think we should lock the node version.. I tend to agree with you that it is far preferable in the long-term to lock the node version but for new users I think its better to have something that offers the latest version upon which they can build. Most LaraDock users end up modifying the docker-compose file anyhow.\nWe've discussed software versions previously in #368.. It does make building the container faster but I think we should keep nvm for the time being.. No problem. (runs any available system command) -> (executes shell commands). Examples (run in project's directory on the host):. vim is installed by default for the 'laradock/workspace' image. Public key inside the container?. Remove this from PR. Remove this from PR. Remove this from PR. Remove this from PR. Remove this from PR. For the moment, could you put this in the Misc section?. I'm all for 2 options but since only the first one is fleshed out at the moment please remove the second one for the time being.. ",
    "sixlive": "So I see that crontab is available and setup by default in the workspace container, however I still need to edit the crontab through the container once it's running to activate it. Am I missing something, is this by design or is this a new issue?. Right, its setup but it never runs until I edit it inside the workspace container, I think it has to do with it being installed after its edited via crontab -e. @philtrep it does this on three different configurations and builds that we are currently using so it appears to be consistent from where I'm standing. Each time they immediately start running after just running crontab -e and exiting.. So if I add the cron to /etc/cron.d it appears to start correctly.\nSo the cron would look like \n* * * * * laradock php /var/www/artisan schedule:run >> /dev/null 2>&1. If we all feel that this is an acceptable solution, I'll open aPR. @bestlong any reason to use a system (user) level directory and not something local to the project?. ",
    "edmundluong": "@philtrep @Mahmoudz @appleboy \nWhat is the status of this issue? I see that we now have crontab support for scheduling, but do we have the supervisor support for managing queue workers?\nIf not, I can take a closer look at this since this is a pretty important feature IMO. I am envisioning this will be something added to the workspace container but I am not too sure on that, thoughts?\n. Also running into this issue on Debian 8.5\ndocker version 1.12.1, build 23cf638\ndocker-compose version 1.8.0, build f3628c7\n. @philtrep \nPerhaps if your solution can be generalized and integrated into the workspace container, it might be worth a pull request IMO for the sheer convenience of having access to those binaries as root.\nWhat are your thoughts on this, @Mahmoudz ?\n. I can attest that my native Docker for Linux for Xubuntu runs flawlessly and performs pretty well while my Windows 10 Home that uses Docker Toolbox is pretty slow. I think my issue is more about the virtual machine rather than the workspaces, though I thought I'd share my observations\n. Finally got a chance to take a look at this, I was able to successfully run Selenium and execute tests using it with the changes from #519 . @philtrep Unfortunately I am unable to work on this at point in time so perhaps it's best to add the tag. Thanks!\n. This looks like a known issue within Docker. . @jschaftenaar @korneliuskristianr \nYou will likely run into that error when you use the --no-bin-links option when running npm install when you are trying to install a large number of dependencies. The quick and dirty way to resolve the error is simply to re-run the exact same command again: npm install --no-bin-links.\nIf you want a more \"robust\" solution, perhaps you can write a simple bash script that loops that command until it completes successfully:\n``` bash\n!/usr/bin/env bash\nLoops command until completes successfully\nuntil npm install --no-bin-links; do npm install --no-bin-links; done;\n```\nIt's not the prettiest solution but it works for me.\n. @dtkoval \nThanks for the tip. Here's the output of the log:\n```\nedmund@thinkpad:~/Projects/laradock$ docker logs laradock_mysql_1\n2016-11-12 22:50:31 0 [Note] mysqld (mysqld 5.6.34) starting as process 1 ...\n2016-11-12 22:50:31 1 [Note] Plugin 'FEDERATED' is disabled.\nmysqld: Unknown storage engine 'InnoDB'\n2016-11-12 22:50:31 1 [ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.\n2016-11-12 22:50:31 1 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2016-11-12 22:50:31 1 [Note] InnoDB: The InnoDB memory heap is disabled\n2016-11-12 22:50:31 1 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2016-11-12 22:50:31 1 [Note] InnoDB: Memory barrier is not used\n2016-11-12 22:50:31 1 [Note] InnoDB: Compressed tables use zlib 1.2.8\n2016-11-12 22:50:31 1 [Note] InnoDB: Using Linux native AIO\n2016-11-12 22:50:31 1 [Note] InnoDB: Using CPU crc32 instructions\n2016-11-12 22:50:31 1 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2016-11-12 22:50:31 1 [Note] InnoDB: Completed initialization of buffer pool\n2016-11-12 22:50:31 1 [Note] InnoDB: Highest supported file format is Barracuda.\nInnoDB: No valid checkpoint found.\nInnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nInnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nInnoDB: If this error appears when you are creating an InnoDB database,\nInnoDB: the problem may be that during an earlier attempt you managed\nInnoDB: to create the InnoDB data files, but log file creation failed.\nInnoDB: If that is the case, please refer to\nInnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\n2016-11-12 22:50:31 1 [ERROR] Plugin 'InnoDB' init function returned error.\n2016-11-12 22:50:31 1 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n2016-11-12 22:50:31 1 [ERROR] Unknown/unsupported storage engine: InnoDB\n2016-11-12 22:50:31 1 [ERROR] Aborting\n2016-11-12 22:50:31 1 [Note] Binlog end\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'partition'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_DATAFILES'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_TABLESPACES'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN_COLS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_FIELDS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_COLUMNS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_INDEXES'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_TABLESTATS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_SYS_TABLES'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_INDEX_TABLE'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_INDEX_CACHE'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_CONFIG'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_BEING_DELETED'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_DELETED'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_FT_DEFAULT_STOPWORD'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_METRICS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_BUFFER_POOL_STATS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE_LRU'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX_RESET'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMPMEM_RESET'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMPMEM'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMP_RESET'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_CMP'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_LOCK_WAITS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_LOCKS'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'INNODB_TRX'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'ARCHIVE'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'BLACKHOLE'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'PERFORMANCE_SCHEMA'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'MyISAM'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'MRG_MYISAM'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'CSV'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'MEMORY'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'sha256_password'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'mysql_old_password'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'mysql_native_password'\n2016-11-12 22:50:31 1 [Note] Shutting down plugin 'binlog'\n2016-11-12 22:50:31 1 [Note] mysqld: Shutdown complete\n```\nSeems like its related to the downgrade back to MySQL 5.6 in #360 and the PR in #364. I have tried to remove all containers and images from Docker using docker rm -f $(docker ps -a -q) and docker rmi -f $(docker images -q) and then rebuilding the containers from scratch but no luck.\nAny suggestions what I can do?\n. @dtkoval I was able to resolve this issue with mysql by removing the volume and rebuilding the container (just in case)\nThanks!. @philtrep @Mahmoudz @appleboy \n+1 Would love to see PHP7.1 get merged into Laradock, what needs to be done to get this merged?. @philtrep @Mahmoudz Bump. Would really love to see this get merged in. . @philtrep @Mahmoudz @appleboy \n+1 Would love to see PHP7.1 get merged into Laradock, what needs to be done to get this merged?. +1 had a developer run into this problem, the .env fix solved it. Potential candidate for PR? @philtrep . @philtrep I would imagine this would involve removing the .env from the .gitignore file? Thoughts? I don't mind submitting a PR if it's fine to modify the .gitignore. @appleboy Updated, thanks. ",
    "florentb": "For the queue part, I've simply added a service to the stack:\nyml\nphp-worker:\n  build:\n    context: ./php-fpm\n  volumes_from:\n    - application\n  command: php artisan queue:work. @cjmaxik In my setup, I use Nginx with PHP-FPM. The PHP-FPM build has a PHP cli so I use the same Dockerfile in the worker. I only override the default command. This way, the worker configuration is the same as the server configuration (same PHP version, same ini, etc.). \nSupervisor is only useful if you to have handle multiple processes within the same Docker command.\nHowever I wonder if queue:listen (instead of queue:work) wouldn't a better choice (Anyone on this?). @cjmaxik You don't have to copy anything if you use Laradock. The directory already exists. Just add those lines (and the env you want) to the services section of your docker-compose.yml file.. ",
    "cjmaxik": "@florentb Can you give a little more information about your php-worker? What is the Dockerfile?. @florentb so, I need to simple copy php-fpm directory in php-worker and add your settings in compose, right?\nAbout listen: \n\nThe queue:work Artisan command includes a --daemon option for forcing the queue worker to continue processing jobs without ever re-booting the framework. This results in a significant reduction of CPU usage when compared to the queue:listen command:\n\nSo, queue:work is preferable. And, there is no listen in 5.4ish version of Laravel.\n. @florentb Thanks, I just needed to pass Dockerfile name (or just simply rename 70 file) and it works. Thanks again.. It would be awesome! Any changes since November?. @philtrep BINGO! It works. Thanks, totally forgot about that.. @sasaorz This container is only a volume. It should starts and stops immediately.. Nice one, really more reliable than my variant http://laradock.io/documentation/#run-laravel-queue-worker. @cabrerabywaters there is a changed structure of docker-compose.yml with environment variables, could you resolve conflicts? . @cabrerabywaters yep, this is new. Actually, you don't need to create a new PR. Just click Resolve conflicts here and you're good to go. . @Mvzundert, this worker is Laravel-way solution directly from the Laravel developers. If you have more reliable option, go ahead \ud83d\ude03. @baskan, \n\nphp artisan queue:restart. Sure, there is one https://github.com/laradock/laradock/pull/466, but it works :). @Mahmoudz done. Should be relative to applications container:\n\nyaml\n        volumes_from:\n            - applications. Should be at least WORKDIR /etc/supervisor/conf.d/ since existed variant is not working:\nERROR: for php-worker  Cannot start service php-worker: oci runtime error: container_linux.go:247: starting container pr\nocess caused \"chdir to cwd (\\\"/etc/supervisor/conf.d/supervisord.conf\\\") set in config.json failed: not a directory\"\n: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the ex\npected type. Wait a second here. PHP_IDE_CONFIG=${PHP_IDE_CONFIG} is the correct one.. ",
    "MPJHorner": "As cron/queueworker and required for every production environment. It would be good to get a clear understanding of what the best way to achieve this is. I currently have cron (biggest nightmare with env variables) running under supervisor and queue run straight off command.. ",
    "ydatech": "I still have this issue.\nThis is my cron script:\n* * * * * laradock php /var/www/magento-melisa/bin/magento cron:run | grep -v \"Ran jobs by schedule\" >> /var/www/magento-melisa/var/log/magento.cron.log\n* * * * * laradock php /var/www/magento-melisa/update/cron.php >> /var/www/magento-melisa/var/log/update.cron.log\n* * * * * laradock php /var/www/magento-melisa/bin/magento setup:cron:run >> /var/www/magento-melisa/var/log/setup.cron.log\n. ",
    "ryancwalsh": "@Mahmoudz I see that you closed this issue, but I don't see what the solution is.\nNow that I've run docker-compose up -d nginx mysql redis php-worker, how can I configure Supervisor, and how can I start it?\nI see some defaults here, which is cool.\nhttps://laravel.com/docs/5.6/queues#supervisor-configuration says I need to run:\nsudo supervisorctl reread\nsudo supervisorctl update\nsudo supervisorctl start laravel-worker:*\nSo I figured I'd enter the \"php-worker\" container with docker-compose exec php-worker bash (since docker-compose exec workspace bash is how I've learned to get into the \"workspace\" container).\nBut I see OCI runtime exec failed: exec failed: container_linux.go:296: starting container process caused \"exec: \\\"bash\\\": executable file not found in $PATH\": unknown\nThanks so much for Laradock. I'm very excited about it.\nP.S. I think http://laradock.io/documentation/#adding-cron-jobs seems out of date; perhaps it means to say vim workspace/crontab/laradock?. @francislavoie Thanks. Is http://laradock.io/documentation/#adding-cron-jobs out of date?\nAssuming my site is already running (all my containers are already built and up) and I want to edit cron jobs, should I use vim workspace/crontab/laradock and add some lines like the following and then run cd /apps/laradock && docker-compose restart php-worker?  Or what are the steps? And where can I then go check and verify that the cron lines got written to the right place? (I would assume I'd need to look in a particular container and open crontab -e to see them there.) Thanks so much.\n* * * * * laradock php /var/www/project1/artisan schedule:run >> /dev/null 2>&1\n* * * * * laradock php /var/www/project2/release/artisan schedule:run >> /dev/null 2>&1. @francislavoie Thanks. Based on reading https://github.com/laradock/laradock/blob/v7.2.0/workspace/Dockerfile#L145, my latest guess was to run cd /apps/laradock/ && docker-compose build workspace, but that didn't seem to work either.\nAfter rebuilding, I ran cd /apps/laradock/ && docker-compose exec workspace bash and then looked at both crontab -e and vim /etc/cron.d/laradock, and my cron jobs weren't there. \nI'm so confused. \nThe last thing I can think to try is rebuilding with --no-cache. I don't know if that is the key.. Ohhhh! You are so awesome, @francislavoie !! Thank you so much. That probably saved me days of frustration. I don't know whether I'd have learned that without you. Thanks. It worked.. @francislavoie I'm curious: where in the source code can I learn what docker-compose restart php-worker actually does? (Is it the bottom of Dockerfile?)\nOne concern I have is that I'd hope that jobs get \"gracefully restarted\" (as I read about in Laravel docs here) rather than anything being abandoned.\nAnother curiosity: is the php-worker container actually relevant to the cron jobs defined for workspace somehow? I haven't figured out how it relates.\nThanks so much for your help.. @francislavoie Ok. I've always assumed that \"cron jobs\" were just processes run on a schedule defined in crontab. And \"queue (or worker) jobs\" were app-specific tasks that had been placed into either a Redis or database store and then executed by a long-running process (which in this case would be php artisan queue). I'll experiment. Thanks.. I agree with @bzbislawski that editing /etc/hosts doesn't seem like the right approach, especially since that's not mentioned in the Laradock setup documentation.\nWhat I'm frustrated with is that when I run cd /apps/laradock && docker-compose up -d nginx mysql redis php-worker memcached proxy, everything works for a number of minutes... and then I start seeing SQLSTATE[HY000] [2002] php_network_getaddresses: getaddrinfo failed: Name or service not known.\nI think I temporarily fix it by running cd /apps/laradock && docker-compose restart mysql, but I don't know why it ever starts failing in the first place.. Thank you, @hasangilak . That was helpful. I agree with @Dartanjan :\n\n\"I thought maybe there's a way to not install mysql cli inside of workspace, but that works as well.\". @jasperf I'm curious if you ever got Deployer working with Laradock. I'm stuck here: https://github.com/deployphp/deployer/issues/1636#issuecomment-403786878 Thanks.. I'm new to Docker and don't understand the recent point by thorerik. I've already many times been annoyed at having to manually install vim. (I agree with this suggestion by @mikeerickson .) \n\nI'm now trying to learn how to at least change my own Docker setup so that I don't need to keep doing this. \nI don't know where to put this:\napt update\napt install vim. I think this might have worked for me:\nRUN [\"apt-get\", \"install\", \"-y\", \"vim\"]. I'm running my Docker in production, so I want good security, so I tried to follow https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04, which says that bind 127.0.0.1 ::1 is important.\nBut I was getting multiple Predis\\Connection\\ConnectionException, Code: 111: Connection refused [tcp://redis:6379] errors per second.\nThen I rebuilt my Redis container with bind 0.0.0.0, and I think it works.\nBut then I understood from https://stackoverflow.com/a/39314221/470749 and https://serverfault.com/a/619505/119666 that bind 0.0.0.0 is unsafe too.\nThis is my workaround for now:\ndocker inspect laradock_redis_1 | grep \"IPAddress\" showed me that my Redis IP is 172.20.0.4.\nSo I added bind 172.20.0.4 into vim /apps/laradock/redis/redis.conf.\nThen I rebuilt: cd /apps/laradock/ && docker-compose build --no-cache redis.\nAnd recreated: cd /apps/laradock && docker-compose up -d nginx mysql redis php-worker.\nI think it seems to be working now. \n@jasperf  @SamoilenkoEvgeniy @Mahmoudz \nHowever, my concern is that I've also seen the IP be 172.20.0.3. How can I specify a static IP that I can rely on? I don't want my config to fail just because I took a container down and restarted it, for example. \nThanks.. @jasperf Thanks for pointing me in the right direction. I'll need to check out those links. Assigning a static IP will make me more comfortable.\nI don't yet have any of this Docker stuff in a repo. I'm realizing how crazy it is that I've just edited all the Docker settings on the production machine. One of my next steps will be to copy that all back out to a repo (and the Nginx config too).. BMitch says: \n\nStatic IP's won't improve security, you still need to open the same connections, and your containers will still run inside of a namespaced network where you only expose what you need. Static IP's will decrease flexibility, including the ability to do a rolling update of your application, not work in swarm mode, and make the container's configuration harder to copy between environments or similar containers. For the linked issue, you just need to listen on 0.0.0.0 inside the container. . I'm brand new to Docker as of yesterday. I gave up trying to get Laradock working on Docker Toolbox since the documentation is all messed up. I created a DigitalOcean account and installed Laradock there. \n\nI think everything is working other than: I'm having trouble logging into my MySql DB within the laradock_mysql_1 container.\nI bet it's related to: https://github.com/laradock/laradock/issues/1260 I will keep trying and follow up there.. @DKarakis @Mahmoudz I'm having the same problem as everyone here, and I don't understand why we'd need to log in to the MySql container and manually configure credentials (as mentioned here) when the entire point of docker-compose.yml is to take care of all of this, as @Boggimedes said.\nIs this a confirmed bug?\nHmmm I think https://github.com/laradock/laradock/issues/1392#issuecomment-383631421 may have just fixed it for me. So maybe that's the bug to investigate.. I wonder if https://docs.docker.com/config/containers/resource_constraints/ helps. I'm running a small server (1 GB RAM) and am having problems with MySQL crashing, and I want to see what I can do to prevent crashes without upgrading my server to more memory. I'm hoping memory-swap will help, but I'm not yet sure where to configure that.\nI think maybe https://docs.docker.com/v17.12/compose/compose-file/#resources will help. See also https://stackoverflow.com/a/42345411/.. @rafa-acioly Did you find a solution?. I think https://github.com/laradock/laradock/issues/1392#issuecomment-383631421 fixed it for me.. It took me awhile to understand Jim's post, but here were the commands I eventually ran:\ncd /apps/laradock/redis && curl -o redis.conf http://download.redis.io/redis-stable/redis.conf\nvim /apps/laradock/redis/Dockerfile\ncd /apps/laradock/ && docker-compose down\ndocker-compose build --no-cache redis\ncd /apps/laradock && docker-compose up -d nginx mysql redis php-worker\nThanks, @JimChenWYU ! Very helpful.\nThese edits are probably important to make too because of security: https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-redis-on-ubuntu-18-04. Did you ever solve this? I'm having the same problem. I thought https://stackoverflow.com/a/37690218/470749 might help, but it hasn't. Thanks.. I should have mentioned that I tried that, but it didn\u2019t help. Thanks for\nthe suggestion, though.\nOn Mon, Jan 14, 2019 at 04:49 Rony Debnath notifications@github.com wrote:\n\nGive chown laradock:laradock permission to storage/logs folder, this\nmight solve your problem.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1953#issuecomment-453948438,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AB_WXRRx-ncjQcrW4C6PfmNs37PYnTiKks5vDFKogaJpZM4Z9Q8Z\n.\n. New info:\n\nI also just noticed that this command no longer works:\ncd /apps/laradock/ && docker-compose exec workspace bash -c \"cd /var/www/myapp/; npm run production\" and causes bash: npm: command not found, but then when I enter into the container and run it (as root), it works. So the permissions problem is affecting even more than I thought.\nI'd really love to solve this and get Laradock working how it used to. Thanks for any ideas.. Thanks, @ronydebnath . I'll be able to try some of this in less than a couple hours. I've never had to use --user=laradock before, so that probably won't answer what happened / what the root cause of this problem is.\nI assume I will NOT lose any files or MySQL data by running docker-compose build --no-cache --force-rm workspace?. I ran:\ncd /apps/laradock\ndocker-compose build --no-cache --force-rm workspace\ndocker ps\ndocker-compose up -d nginx mysql redis php-worker memcached\ndocker ps\nls -lah /apps/myapp/storage/logs/\nAnd the log file permissions now look good (until tomorrow midnight UTC?).\nBut cd /apps/laradock/ && docker-compose exec workspace bash -c \"cd /var/www/myapp/; npm run production\" still doesn't work, so I think I haven't fixed the problem. That command used to work.\nSpecifying the user also did not work:\ncd /apps/laradock/ && docker-compose exec --user=laradock workspace bash -c \"cd /var/www/myapp/; npm run production\"\nbash: npm: command not found. @lanphan Is this what you were asking? \nserviceUser@docker-s-1vcpu-1gb-nyc1-01:~$ id -u serviceUser\n1000\nI see WORKSPACE_PUID=1000 in when I search within vim /apps/laradock/.env.. @ronydebnath Hey, it's already passed midnight UTC, and the new daily log file got created with the correct laradock laradock permissions! (Thanks!)\nSo I guess docker-compose build --no-cache --force-rm workspace worked for fixing that.\nAnd now I'm just trying to figure out why this no longer works, when it used to:\ncd /apps/laradock/ && docker-compose exec workspace bash -c \"cd /var/www/myapp/; npm run production\". I saw https://github.com/laradock/laradock/issues/309#issuecomment-328081229 and so tried: cd /apps/laradock/ && docker-compose exec -T workspace bash -c -i \"cd /var/www/myapp/; npm run production\"\nAnd it successfully started to run npm but resulted in a new error:\nModule build failed: ModuleBuildError: Module build failed: Error: Node Sass does not yet support your current environment: Linux 64-bit with Unsupported runtime (67) (same as https://github.com/laradock/laradock/issues/1898)\nI ran docker exec -it laradock_workspace_1 bash and npm rebuild node-sass --force (because from https://stackoverflow.com/a/37690218/470749 it seems like it helped people with a similar error), but that didn't seem to help.\nroot@27a2fb0bd681:/var/www# nvm --version\n0.33.8\nroot@27a2fb0bd681:/var/www# node --version\nv11.6.0\nroot@27a2fb0bd681:/var/www# npm --version\n6.5.0-next.0\nAnd it seems like I have no version of Sass installed! I don't know where it went!\nnpm install node-sass failed with multiple errors, including \"ERR! stack Error: Can't find Python executable \"python\", you can set the PYTHON env variable.\"\nI found https://github.com/sass/dart-sass instead and so ran:\nnpm install --save-dev sass\nroot@27a2fb0bd681:/var/www/myapp# which sass\n/home/laradock/.nvm/versions/node/v11.6.0/bin/sass\nroot@27a2fb0bd681:/var/www/myapp# sass --version\n1.16.0 compiled with dart2js 2.1.0\nexit\ncd /apps/laradock/ && docker-compose exec -T workspace bash -c -i \"cd /var/www/myapp/; npm run production\"\nBut same error: \"Module build failed: ModuleBuildError: Module build failed: Error: Node Sass does not yet support your current environment: Linux 64-bit with Unsupported runtime (67)\"\nI can't believe my Laradock containers got so messed up when they were working fine a week ago.  I still haven't figured out what changed and how to fix all this.. Oh man. I found an answer of mine from August 2018 that was related. \nOh, and I changed my .env to say WORKSPACE_INSTALL_PYTHON=true instead of false and forced a rebuild and \"up\" of that container.\nSo now I think all I need to do is figure out how to edit the Docker config files so that npm and nodejs get installed on new containers so that this never happens again.. ",
    "dhdanno": "I was getting this error when using the docker-compose inheritance feature (-f ), the ports in the base file were not being over-ridden by my overlay file. ",
    "tuxisma": "I solved that problem just stopping apache on ubuntu xenial.\nsudo /etc/init.d/apache2 stop\nI had apache running. . ",
    "LeKibbitz": "For us, the solution was to stop & disable the BranchCache windows' service.. ",
    "deepak1725": "This works for me nmap localhost as i have nginx globally installed , and it occupies port 80 on boot up.\n'nmap localhost' will tell you which program started a port . ",
    "connor11528": "I had nginx running globally on mac. Stopping it fixed the error:\nsudo nginx -s stop. I am also getting this same error when running laradock. Are there any updates on a fix for getting the server running? \nInstall everything:\ndocker-compose up -d nginx mysql redis \nCreating network \"laradock_default\" with the default driver\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating laradock_redis_1 ... \nCreating laradock_applications_1 ... \nCreating laradock_mysql_1 ... \nCreating laradock_redis_1\nCreating laradock_applications_1\nCreating laradock_applications_1 ... done\nCreating laradock_mysql_1 ... done\nCreating laradock_workspace_1 ... done\nCreating laradock_php-fpm_1 ... \nCreating laradock_php-fpm_1 ... done\nCreating laradock_nginx_1 ... \nCreating laradock_nginx_1 ... done\nBut when I go to http://localhost I get The site can't be reached error. Check out this stackoverflow answer on various ways to stop MySQL. For me the one that did the trick was:\n/usr/local/mysql/bin/mysqladmin -u root -p shutdown. I am getting a different error when trying to have webpack watch my Vue files:\n$ docker-compose exec workspace bash\n/var/www# npm run watch\nbash: npm: command not found\nIs there some config I need to set up for the laradock environment?. @jeffreyliim @bestlong what is the command to disable locally running mysql? I'm on Mac..\nHelp appreciated! Thank you. Okay I installed MySQL from the dmg download on the MySQL website. I found out where it was installed with:\n$ type -a mysql\nmysql is /usr/local/mysql/bin/mysql\nTurns out I have a MySQL option under my Mac's system preferences; so I went System Preferences > MySQL > Stop MySQL Server. Now I can get Docker to run MySQL on those ports.\nThank you. ",
    "misheki": "Thank you @tuxisma!  \nMy host rebooted and suddenly one of my containers that maps to port 80 couldn't start.  I got this error: Error starting userland proxy: listen tcp 0.0.0.0:80: listen: address already in use + docker container failed to start\nStopping apache2 service in my ubuntu host solved it!. ",
    "reachdevelopers": "same here after ubuntu update not sure why but nginx was running globally on my linux PC and also solve the problem with\nsudo nginx -s stop. ",
    "Leuloch": "Oh, thanks @Mahmoudz , it worked!!!\nBecause of the conflict on port 80 (from my apache2 service) the docker-compose up failed and after turn off my apache it was really necessary to delete the docker image.\nSo, after deleting the images with the command:\ndocker rmi -f <container ID>\nI run again the command:\ndocker-compose up\n:+1: \n. ",
    "errogaht": "im have same issue\n. im have a broken laravel installation, after reinstalling it fully on linux - it work fine, but laravel cant connect to redis... say connection refused\nin .env file REDIS_HOST must be redis (same as redis container name)\nand im thiink DB_HOST=mysql must be same as mysql container name\nmay be this configuration makes less mistakes?\nnow all work and fine - thankyou for big work!!!! great project\n. also im think mysql container dont need privileged: true because in my case im run docker on host with mysql running and if privileged: true container with mysql cant start\n. Predis is installed. But I'm talk about exposed ports on redis & MySQL are\noptional,  this only useful if you want access to redis &mysql directly\nfrom docker host. Containers can access to each other with links. For\nexample Laravel container need to access to redis, for do that we configure\nredis container without exposed ports and Laravel container with link\noption to redis. This means that Laravel container inside have redis host,\nwhen docker see linked container in config, he make record in /etc/hosts\nand add redis record. Inside Laravel container we can run ping redis and\nit works. So step in your howto which about /etc/hosts & laravel.dev are\noptional if we little reconfigure entire setup:\n- you can remove exposed ports from redis and MySQL containers\n- you can write about Laravel config & .env file: MySQL & redis host inside\n  it must be not a localhost but mysql & redis (this is names of links)\nSorry if you already know about that and makes config like this because\nanother reasons.\n\u043f\u0442, 8 \u0410\u043f\u0440 2016, 0:49 Mahmoud Zalt notifications@github.com:\n\n@errogaht https://github.com/errogaht @wedojava\nhttps://github.com/wedojava There's a big chance you have configured\nLaravel to use Redis and you don't have predis/predis installed. (It's\nrequired for using Redis in Laravel, and doesn't come by default with\nLaravel) so run this command and try again composer require\npredis/predis:^1.0\nI updated the documentation to make Redis as optional step.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/18#issuecomment-207103201\n. \n",
    "harrysbaraini": "I've solved this error a minute ago, I just did a chmod -R 777 on storage and bootstrap. Everything's fine now\n. Use DB_HOST=mysql instead of 127.0.0.1. When running outside of workspace container, the MySQL container is accessible on 127.0.0.1, but when you're in the workspace container, 127.001 is relative to the container itself, so container will try to connect to its own localhost.\nas @inthedeepend said below, your .env should look like this:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=db\nDB_USERNAME=username\nDB_PASSWORD=password\nIf you want to run php artisan commands outside of the workspace container, you can set DB_HOST=your docker ip, but I don't recommend so, because your environment may be different of the containers, e.g., have some PHP library missing.\n  . ",
    "metal3d": "No problem at this time, I just cloned docker-images repository, checkout -2 commits and used \"build\" instead of \"image\" in docker-compose.yml\nyaml\n    -build: ../docker-images/phpnginx\nI'll check later, I'm developping an urgent website :)\nThanks for you reactivity :+1: \nAnyway, tagging docker images and using automatic builds is the way to go IMHO. \n. Thanks a lot and thanks again for this repository.\n. ",
    "AminMkh": "I like the idea, I use PHP's image The PHP7, Apache, Ubuntu version.\n```\nFROM php:7-apache\ninstalling required stuff\nRUN apt-get update \\\n    && apt-get install -y unzip libaio-dev libmcrypt-dev git \\\n    && apt-get clean -y\nPHP extensions\nRUN \\\n    docker-php-ext-configure pdo_mysql --with-pdo-mysql=mysqlnd \\\n    && docker-php-ext-configure mysqli --with-mysqli=mysqlnd \\\n    && docker-php-ext-install pdo_mysql \\\n    && docker-php-ext-install mbstring \\\n    && docker-php-ext-install mcrypt\nxdebug, if you want to debug\nRUN pecl install xdebug\nPHP composer\nRUN curl -sS https://getcomposer.org/installer | php -- --version=$(curl -s https://api.github.com/repos/composer/composer/releases/latest | grep -oP '\"tag_name\": \"\\K[^\"]+')  --install-dir=/usr/bin --filename=composer\napache configurations, mod rewrite\nRUN ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/rewrite.load\n```\n. and maybe sharing the PHP configurations folder + MySQL in case geeks wanted to tune stuff.\nWeb:\n  volumes:\n    - ./settings/php:/usr/local/etc/php/\ndb:\n  volumes:\n    - ./settings/mysql:/etc/mysql/\n. Also, regarding, docker-compose.yml\nI use the machine name as the DB_HOST, this way it's dynamic and not hardcoded.\nDB_HOST=mysql\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\nI don't need to setup an IP, please test this out, it could be docker toolbox related, not sure I use linux.\nP.S: This was meant to be another pull request, but I missed up the workflow.\n. @percymamedy you could do some debugging and troubleshooting, I would run a base image like phusion:\ndocker run -ti phusion/baseimage bash\nAnd play around, install PHP manually \napt-get update && apt-get install -y  software-properties-common\nadd-apt-repository -y ppa:ondrej/php\nRUN apt-get update && apt-get install -y --force-yes \\\n        php7.0-cli \\\n        php7.0-common \\\n        php7.0-curl \\\n        php7.0-json \\\n        php7.0-xml \\\n        php7.0-mbstring \\\n        php7.0-mcrypt \\\n        php7.0-mysql \\\n        php7.0-pgsql \\\n        php7.0-sqlite \\\n        php7.0-sqlite3 \\\n        php7.0-zip \\\n        php7.0-memcached \\\n        sqlite3 \\\n        libsqlite3-dev \\\n        git \\\n        curl \\\n        vim \\\n        nano \\\n        nodejs \\\n        nodejs-dev \\\nBasically, going through the workspace Dockerfile manually, your changes won't be persistent. But you are basically building the image manually and you should get to the root of the problem, if you get an error for instance try to fix it or post it here.\n. so regarding the workspace, the container is called \"workspace\", and the image should be something like laradock_workspace_1:\ndocker-compose ps\nlaradock_workspace_1               /sbin/my_init                    Up\nThe workspace container is mostly used for composer require/updates/...etc + the artisan command line. The image you are trying to connect to is the PHP-FPM, not sure why you need it. But either ways it should be up, not exited.\nI suggest checking the logs, maybe do a \ndocker-compose up nginx mysql\nWithout the -d parameter, you should be seeing the output right away.\nOr use \ndocker-compose logs\nAnd check for the PHP-FPM output, it should display more details.\n. @sasuke6 Laravel and the .env file don't have anything to do with Laradock, Laradock containers should run even if you don't have a Laravel installation or configuration.\nCould you please post the output of the following commands:\ndocker-compose up nginx mysql\ndc up nginx mysql\nStarting laradock_data_1\nStarting laradock_application_1\nlaradock_workspace_1 is up-to-date\nStarting laradock_mysql_1\nlaradock_php-fpm_1 is up-to-date\nStarting laradock_nginx_1\nAttaching to laradock_mysql_1, laradock_nginx_1\nThen\n```\ndocker-compose ps\n         Name                   Command                   State                    Ports          \n\n6ad247dc9c80_laradock_   /docker-entrypoint.sh    Exit 137                                      \npostgres_1               postgres                                                               \n7dcefc9da64e_laradock_   docker-entrypoint.sh     Exit 137                                      \nredis_1                  redis ...                                                              \nb7ebdff76e3c_laradock_   /bin/bash -c             Exit 137                                      \nneo4j_1                  /launch.sh                                                             \nfd53f7ce6896_laradock_   docker-entrypoint.sh     Exit 1                                        \nmariadb_1                mysqld                                                                 \nlaradock_application_1   true                     Exit 0                                        \nlaradock_beanstalkd-     /bin/sh -c bash -c       Exit 137                                      \nconsole_1                'BEANST ...                                                            \nlaradock_beanstalkd_1    /usr/bin/beanstalkd      Exit 137                                      \nlaradock_data_1          true                     Exit 0                                        \nlaradock_mariadb_1       docker-entrypoint.sh     Exit 0                                        \n                         mysqld                                                                 \nlaradock_memcached_1     /entrypoint.sh           Exit 137                                      \n                         memcached                                                              \nlaradock_mongo_1         /entrypoint.sh mongod    Exit 0                                        \nlaradock_mysql_1         docker-entrypoint.sh     Up                       0.0.0.0:3306->3306/tcp \n                         mysqld                                                                 \nlaradock_neo4j_1         /bin/bash -c             Exit 0                                        \n                         /launch.sh                                                             \nlaradock_nginx_1         nginx                    Up                       0.0.0.0:443->443/tcp,\n                                                                           0.0.0.0:80->80/tcp   \nlaradock_php-fpm_1       php-fpm                  Up                       9000/tcp             \nlaradock_postgres_1      /docker-entrypoint.sh    Exit 0                                        \n                         postgres                                                               \nlaradock_redis_1         docker-entrypoint.sh     Exit 0                                        \n                         redis ...                                                              \nlaradock_workspace_1     /sbin/my_init            Up                                            \n```\nAnd \ndocker ps\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS              PORTS                                      NAMES\n7322017d48f7        laradock_nginx       \"nginx\"                  4 minutes ago       Up 47 seconds       0.0.0.0:80->80/tcp, 0.0.0.0:443->443/tcp   laradock_nginx_1\nc8aa49bfd93c        laradock_php-fpm     \"php-fpm\"                4 minutes ago       Up 47 seconds       9000/tcp                                   laradock_php-fpm_1\n021456e92ac3        laradock_workspace   \"/sbin/my_init\"          4 minutes ago       Up 48 seconds                                                  laradock_workspace_1\ned87a7a0c0ba        laradock_mysql       \"docker-entrypoint.sh\"   4 minutes ago       Up 47 seconds       0.0.0.0:3306->3306/tcp                     laradock_mysql_1\nThen\ndocker-compose logs workspace\nAttaching to laradock_workspace_1\nworkspace_1           | *** Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1           | *** Running /etc/rc.local...\nworkspace_1           | *** Booting runit daemon...\nworkspace_1           | *** Runit started as PID 9\nworkspace_1           | May 30 09:09:17 021456e92ac3 syslog-ng[16]: syslog-ng starting up; version='3.5.3'\nworkspace_1           | *** Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1           | *** Running /etc/rc.local...\nworkspace_1           | *** Booting runit daemon...\nworkspace_1           | *** Runit started as PID 10\nworkspace_1           | May 30 09:13:05 021456e92ac3 syslog-ng[17]: syslog-ng starting up; version='3.5.3'\nworkspace_1           | May 30 09:17:01 021456e92ac3 /USR/SBIN/CRON[22]: (root) CMD (   cd / && run-parts --report /etc/cron.hourly)\nLastly\ndocker -v\nDocker version 1.11.1, build 5604cbe\nThe logs would help us investigate more, thanks.\n. I am not sure what's going on, please post the file content of docker-compose.yml\nhttps://github.com/LaraDock/laradock/blob/master/docker-compose.yml\nI think you're missing the workspace container there, maybe you're using an old version of Laradock and you need a git pull or a fresh git clone.\n. To test this out, should start by seeing the mongodb driver in phpinfo(),\nthen composer require jenssegers/mongodb\": \"^3.0\nthen configuring mongodb in config/database.php\n'mongodb' => [\n                'driver'   => 'mongodb',\n                'host'     => env('DB_HOST', 'mongo'),\n                'port'     => 27017,\n                'database' => env('DB_DATABASE', 'database'),\n                'username' => env('DB_USERNAME', ''),\n                'password' => env('DB_PASSWORD', ''),\n                'options' => [\n                    'database' => '' // sets the authentication database required by mongo 3\n                ]\nThen it should be set to go, using mongo with Models:\nuse Jenssegers\\Mongodb\\Eloquent\\Model as Eloquent;\nclass User extends Eloquent\nAnd using models normally\n```\nApp\\User::create(\n    [\n        'name' => 'amin',\n        'full_name' => 'amin mkh',\n    ]);\n$users = App\\User::all();\ndd($users);\n```\n. I'm guessing you downloaded Laravel but in a directory not shared with Windows, which directory did you download Laravel in ?\n. Typically docker does a great job of determining which layers are downloaded then building them all together. I suggest doing \ndocker-compose up nginx mysql\nIt should continue where it left off, if that doesn't work, just do a \ndocker-compose build php-fpm\nIt should rebuild the php-fpm image again.\nYou can also remove the image entirely from your pc using\ndocker images\nphp                            7.0-fpm             51930951710a        3 weeks ago         500.9 MB\nYou will see a list of all images, then delete the php-fpm one\ndocker rmi -f 51930951710a\n. so when you do docker-compose up nginx what do you get ?\n. I can confirm I'm having the same issue:\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1             | 2016-06-11  9:46:19 139817969948608 [ERROR] Aborting\n. all good, it is a new feature, and even the docker website's documentation isn't updated yet.\nI can only see it here \nbut not here nor here\ndocker-compose -v\ndocker-compose version 1.7.1, build 0a9ab35\ndocker-compose\nCommands:\n  build              Build or rebuild services\n  config             Validate and view the compose file\n  create             Create services\n  down               Stop and remove containers, networks, images, and volumes\n  events             Receive real time events from containers\n  exec               Execute a command in a running container\n  help               Get help on a command\n  kill               Kill containers\n  logs               View output from containers\n  pause              Pause services\n  port               Print the public port for a port binding\n  ps                 List containers\n  pull               Pulls service images\n  restart            Restart services\n  rm                 Remove stopped containers\n  run                Run a one-off command\n  scale              Set number of containers for a service\n  start              Start services\n  stop               Stop services\n  unpause            Unpause services\n  up                 Create and start containers\n  version            Show the Docker-Compose version information\n. well I can say that I went through the same experience, \nWindows then VirtualBox then Docker is very slow in my experience, docker on linux(ubuntu for instance is wayyy faster and almost feels like native nginx/mysql/php app on linux).\nHowever I do think that docker for windows/mac beta is gonna improve performance a lot.\n. so the issue is you are unable to edit certain files? could you post your development environment, are you using docker native on linux or toolbox, or the beta docker native for windows/mac\n. one note about run instead of exec, is that run will fire up another container, isolated from the one already running. Which might be okay except for a couple of reasons why not to:\n1- Since you'll be in the bash of another container, you can't reload configurations or restart nginx/mysql, check logs ...etc.\ndocker-compose exec nginx bash\nroot@a00d4f016a92:/# service nginx reload\nReloading nginx: nginx.\ndocker-compose run nginx bash\nStarting laradock_application_1\nroot@d9b209ec4c10:/# service nignx reload\nnignx: unrecognized service\n2- Overhead of another container, \ndocker-compose run workspace bash\nis basically \ndocker run -it laradock_workspace bash\n. so docker toolbox and docker native for windows/mac still doesn't support this, it's still under development, but yeah it works under docker for linux. A couple of pull requests been opened for this feature too!\n. On docker for windows using Hyper-v\n$ docker-compose exec web bash\nInteractive mode is not yet supported on Windows.\nPlease pass the -d flag when using `docker-compose exec`.\n. #95 #115 \n. so since you will be running artisan using the workspace container, it will be using the root user, so you will have to change the permissions or the owner of those files.\nIf you are on Linux or using the docker toolbox for windows/mac, you can do a \nsudo chown YourUserName file1 file2\nUsing terminal of \n- docker machine in case of toolbox(windows/mac)\n- native linux OS in case of Linux host\n. I don't find myself creating files all the time, but on docker for windows using hyper-v I don't run into this issue, because windows ignores linux permissions.\nPerhaps someone will have a better idea or docker community will improve this. But it's not a Laradock specific issue.\n. You can \n- remove the images and start again.\n- Restart Docker service\n- Restart host Operating system\nRemember if you're having trouble with base images it's not Laradock specific.\n. Most of us are running different environments per project, you can clone Laradock into each of your projects' directory. Modify docker-compose configurations to your needs. They will be completely independent. \nMake sure you change: \nCOMPOSE_PROJECT_NAME=laravel\nand this way docker will identify containers differently, so:\nCOMPOSE_PROJECT_NAME=WebApp1\ncould have PHP version 7.2\nand \nCOMPOSE_PROJECT_NAME=MyBlog\ncould have PHP version 5.6\nThis way you wouldn't have to rebuild images.\nBut note, rebuilding containers wouldn't take long because the first time you build one, it gets cached.\n. sure but typically, we have every project, with it's own dependencies, 1 PHP version, specific PHP extensions. That's why we clone Laradock into each folder and make customizations (if needed).\nFrom what I understand, your problem is that you want each project to have same configurations but many PHP versions, which is a  special case.\n. It seems that PHP is unable to resolve http://www.your-app.com/, have you added that to the docker containers hosts file, or just your PC hosts? can you ssh into the docker, and then ping that host ?. @jmurphy45 yes I meant your hosts file on PC is different from one inside docker containers. Just ssh into your PHP container and try pinging it:\ndocker-compose exec php-fpm bash\nand then do:\nping www.your-app.com\nor\ncurl www.your-app.com\nMy guess is that it won't resolve, because this entry doesn't exist inside docker containers:\n127.0.0.1 www.your-app.com your-app.com\nI suggest using\n$response = $http->post('127.0.0.1/oauth/token', [\ninstead of www.your-app.com, or adding it into your container /etc/hosts file.\nEither ways, change domain URL to a variable because when you go to another environment, it would change, like if you go to another development environment, or staging / production.\n. could you try changing 127.0.0.1 to your web server container name, whether it's nginx or apache2\nlike this:\n$http->post('nginx/oauth/token'\n. sure thing, will test it out.\n. ",
    "iannazzi": "Great, that is just perfect. \nI am assuming we don't want to use multiple virtual box machines, and we do want to use one machine with multiple containers.\n. Same issue here, need ssl\n. no need for nginx, so caddy looks perfect! (never heard of caddy so thanks for that!)\n\nOn Jul 21, 2016, at 2:36 PM, Eric Pfeiffer notifications@github.com wrote:\nIf you don't need to use nginx, I added caddy server which would allow you to easily enable SSL by commenting out the tls option in the Caddyfile.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/LaraDock/laradock/issues/152#issuecomment-234343897, or mute the thread https://github.com/notifications/unsubscribe-auth/AP9cmsAExlk7u5trcWBU_WvPcsGEJKASks5qX7whgaJpZM4JOLoB.\n. A bit of confusion about connecting..... I run many projects with docker so in past versions of docker I would specify unique mysql port per project: like 3309.... In fact I don't think I can bring up laradock mysql container without a unique port.\n\nmysql:\n        build: ./mysql\n        volumes:\n            - ./mysql/startup:/docker-entrypoint-initdb.d\n        volumes_from:\n            - volumes_data\n        ports:\n            - \"3309:3306\"\n        environment:\n            MYSQL_ROOT_PASSWORD: 1234\nHowever to run php artisan from workspace container I need .env to specify port 3306:\nDB_HOST=mysql\nDB_DATABASE=local_a\nDB_USERNAME=root\nDB_PASSWORD=1234\nDB_PORT=3306\nI guess this is because I am connecting container to container, however maybe this will help someone. \n. I found that removing the entire data folder, removing the containers, modifying the sql script, then rebuilding worked for me. To summarize, to rebuild with fresh data:\ndocker-compose down\nDelete ./data\nModify sql\ndocker-compose up -d nginx mysql\n. @philtrep \nJust looking back at this issue, I have a command in laravel to rebuild/seed my development database so it was a simple fix by bringing up the mysql container and initializing the data. The issue however has been haunting me as I prepare for production, to the point that I was not planning on using laradock in production. \nIf I remember correctly I had the data folder, but the data was not loading into the database. Therefore I could not figure out how to dump the database as recommended as there was nothing in it. Then I took the fall off to build a barn.\nI am assuming that on a fresh laradock clone I can copy the data folder from an older install. \nI will take a look at this after the rebuilding process completes and hopefully have a pr for how to move data\nBut I will remain a bit lost on why that data would not reload after docker updated... \nahh needless to say I have not updated docker since....probably not the best approach\n. Interesting... I was expecting to have to move my old laradock data folder after forking/cloning laradock to a new folder, but upon entering the mysql container I saw the old data was already in the database. \nThen I was really confused...\nIt looks like we no longer use the data folder for data persistence.I see we are now usingdriver:  \"local\". I am guessing this change occured with the introduction of docker native.\nI wonder if this was the issue... I was using the version of laradock which used the data folder, upgraded to docker native, did not upgrade laradock, and maybe docker native was looking to wherever \"local\" is which would be empty. \nIf that is the case, I would have needed to dump the data before the upgrade to docker machine, then import it as @philtrep mentioned. \nFinal question remains: what is driver:  \"local\"? I searched this repository, docker docs, stack overflow and google for a bit to come out pretty unclear. Do I even care? I am assuming all my development data is expected to be lost or regenerated at any time, so moving systems, loosing hard drives, etc would not mean I have to move my data.. yeah startup and docker-compose.yml  should not have come over... so I screwed up the pull request. Ahh I think I know what I did wrong, I committed those changes first then branched. Then I modified the readme doc, then I committed that. I just want to send that one commit. Let me try again...then I should have it down.. Hopefully this is correct!. I set node to true and it hangs using docker-compose  up -d nginx mysql  can't seem to get past it...\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_NODE} = true ]; then     curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash &&         . $NVM_DIR/nvm.sh &&         nvm install ${NODE_VERSION} &&         nvm use ${NODE_VERSION} &&         nvm alias ${NODE_VERSION} &&         npm install -g gulp bower vue-cli ;fi' returned a non-zero code: 137. Thanks for the tip @winfried-van-loon .... \nIn general I was following the deployment to digital ocean guide. It was more of a thoughtless following just to make sure the process works as described. There was no mention of the .env file. So, At first I did not copy the .env file. I knew it was coming, just didn't know it arrived. Once I had errors I looked for .env,  copied it, looked through it and did not make any changes. The error persisted, and then I started adding in updates, rebuilding containers, etc. In the end, I never made it past the errors.\nAdditionally there was a whole bunch of newness and uncertainty in the process... like do I make /var/www folder or am I really running all the commands in the home folder. \nAnyway I am working through the docker docs, it looks like the entire process has been updated. Docker-machine quickly spun up a droplet on digital ocean, and I was able to get an image working within a few minutes following their guide. Today I hope to apply that knowledge to my docker setup and codebase and have an update for the docs.\nBeyond that I am hoping to arrive at a continuous integration pipeline. The guides on the web are pretty scattered, so any information would be helpful. I am assuming most apps follow a similar process... test, stage, deploy.\nI believe I want an automated process to fire up a jenkins server, test the code, look at it on a staging server, then move it to production if all is good. Not sure if jenkins is needed, really just need to execute some tests. I was hoping that my entire development environment, with docker changes, would be able to move to production.\nSoo.... any thoughts would be appreciated\n. I copied to env, not .env. I will start a different discussion on deployment, I have some cool stuff so far\n. I guess I have reached the point where I need a good method to deploy... it should work in one liner.... like ./development.sh or ./production.sh\nIt looks like docker-machine with a shell script is the way to go for deployment. I have the digital ocean droplets spinning up in one line which I put in a shell script. This is better than manually creating droplets. Plus if this method works we can immediately spin up a staging server and see work live....that would be sweet.\nI believe we have the general setup of laradock incorrect - it should be designed to transition between development through deployment to staging and production. Even development could be deployed to docker machine... it actually worked better for me that way, especially with multiple instances. That said it looks like the laradock folder should be next to the laravel folder, not in it. Then the .env file should be split and removed, as we will be controlling the environment from the client computer, so the client has to have the knowledge of different environments. Especially important for staging as I plan on spinning up, running test, then destroying.\nI have a start on a development.yml which extends a common.yml, like wise staging.yml and production.yml extend common.yml. Variables could be placed in these files. Otherwise the .env could be split to common.env, development.env, production.env, etc. I am a bit stuck here, but I think that is the correct way. This way we have one environment, which then gets pushed to different machines. I am a few days in, have a basic swarm created, just have to pull it all into laradock and get it working again.\nI will start a separate thread to discuss when it all comes together.\n\nOn Apr 8, 2017, at 2:41 PM, Winfried van Loon notifications@github.com wrote:\nThat sounds great! Idea's like that can really help improve already good projects.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub https://github.com/laradock/laradock/issues/756#issuecomment-292737473, or mute the thread https://github.com/notifications/unsubscribe-auth/AP9cmhKuiHnFShzNG26I_c8VFFXnyF3Lks5rt9TygaJpZM4M2LUG.\n\n\n. @dtunes Yes yes yes, I needed the export keyword in the shell script. So now I have first, second, and third option working.\nAlso thanks for the links. I have been living in the docs https://docs.docker.com/compose/production/, but the older post confirmed one thing I was thinking - use an old-school non docker mysql database for production data.\nI also thought I was going to have to modify the base images for staging, production, etc, essentially to pull from git and install, run tests, but now I think I have a better approach, tbd. It looks like I will mount the source from the client for staging, and for production it looks like I will copy the built folders.\nhttps://forums.docker.com/t/best-practices-for-getting-code-into-a-container-git-clone-vs-copy-vs-data-container/4077/7\nI will update later this week, any other ideas please let me know.\n. Thanks, I take a break from coding in the spring, but this is next on my list when I get back on it. I have some cool stuff so far, like creating a staging server with one command. It looks like we would run all tests on the local environment, then copy the files to staging or production, so no composer install, or npm install. I was stuck on npm install running out of memory. \n\nOn May 1, 2017, at 5:14 PM, Winfried notifications@github.com wrote:\nIt's good to see Laradock being using in production and combined with docker-machine. We're always open for suggestions and enhancements for Laradock. Feel free to keep us updated if you've got any news, questions or if you've still got the same issue. \ud83d\udc4d\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laradock/laradock/issues/779#issuecomment-298434503, or mute the thread https://github.com/notifications/unsubscribe-auth/AP9cmlwyhe786trTMPvphtPIjlmXV0QNks5r1ksagaJpZM4M42YY.\n\n\n. Ahh my break continues through the summer! I Design and Build all summer.....\nI have it all set in my mind how it will work, just have to sit down and do it.\nIt involves ripping apart docker-compose.yml to development.yml, staging.yml and production.yml which all reference a common.yml \nthen create script files develpment.sh, staging.sh, etc\nIt also involves re-thinking the .env file. That file probably should only have sensitive server info, and things related to development, staging, production move to the .yml files.\nThe best reference I found is the docker docs - there are a few sections about deployment. Look at the user guides, then look at the reference for docker-compose, which is in a different section....\nHowever this is where I am at.... This will fire up a machine named DATE, copy your files over ( I found npm install fails always)\nI think I left off at the copy step, so the steps after it may not be correct...\nstaging.sh\n!/usr/bin/env bash\nname=$RANDOM\nDATE=date +%Y%m%d%H%M%S\ndocker-machine create --driver digitalocean --digitalocean-size 2gb --digitalocean-access-token YOUR_DIGITAL_OCEAN_TOKEN  $DATE\ncopy the files over from local to staging\ndocker-machine scp -r ../tests/apptest $DATE:/var/www\nbring up the machine\neval $(docker-machine env $DATE)\ndocker-compose -f staging.yml up -d nginx mysql\nrun tests\n\nOn May 25, 2017, at 4:37 AM, Jasper Frumau notifications@github.com wrote:\n@iannazzi https://github.com/iannazzi Hope you had a nice break. Was reading through this all and would love to hear whether you worked it all out and if so how.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laradock/laradock/issues/779#issuecomment-303955779, or mute the thread https://github.com/notifications/unsubscribe-auth/AP9cmo57cRFUj2EPG8O1m8CqHgeZPkq5ks5r9T3WgaJpZM4M42YY.\n\n\n. ",
    "benmag": "You are correct, we are missing the pdo_pgsql extension.\nI'll send another PR to fix it. \n. Seems like your mysql schema is broken. \nIf you don't have a backup and can still access your data, back it up. Then wipe (remove the mysql container and volume) and then reinstall (by docker-compose uping) and restore.\n. @lozadaOmr I could be wrong but I'm pretty sure that just detaches the volume from your container. The database is still persisted in your file system. So when you start it back up, it will still mount that same broken db.\nYou'll have to actually empty /var/lib/mysql\nAgain, remember to backup.\n. It's a long shot but APP_KEY=SomeRandomString. Try generating an APP_KEY \n. ",
    "Soufraz": "Solution\nhttps://gist.github.com/wdullaer/f1af16bd7e970389bad3\n. ",
    "DanHenry4": "docker-machine ip default yields:\n192.168.99.100\n.env:\n```\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_KEY=base64:longstring123\nAPP_URL=http://localhost\nDB_CONNECTION=postgres\nDB_HOST=192.168.99.100\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\nCACHE_DRIVER=redis\nSESSION_DRIVER=redis\nQUEUE_DRIVER=sync\nREDIS_HOST=192.168.99.100\nREDIS_PASSWORD=null\nREDIS_PORT=6379\n```\ndocker ps yields:\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                         NAMES\n45b2ea0f8858        docker_postgres     \"/docker-entrypoint.s\"   11 minutes ago      Up 11 minutes       0.0.0.0:5432->5432/tcp        docker_postgres_1\n3835775ec0bd        docker_redis        \"docker-entrypoint.sh\"   11 minutes ago      Up 11 minutes       0.0.0.0:6379->6379/tcp        docker_redis_1\nc0fa7a02711a        docker_nginx        \"nginx\"                  11 minutes ago      Up 11 minutes       0.0.0.0:80->80/tcp, 443/tcp   docker_nginx_1\n5f302be088a5        docker_php          \"php-fpm\"                11 minutes ago      Up 11 minutes       9000/tcp                      docker_php_1\nI'm using Windows. Are there read/write permissions that need altered or should it work out of the box?\nThanks!\n. Whoops! Missed the PostGres port number. Fixed it now.\nHere is the output from Laravel (5.2.31):\nin AbstractConnection.php line 168\nat AbstractConnection->onConnectionError('Error while writing bytes to the server.') in StreamConnection.php line 194\nat StreamConnection->write('*2 $3 GET $48 laravel:7099f138733f16dcbfabc1bf2fdcf36948d9cb20 ') in StreamConnection.php line 290\nat StreamConnection->writeRequest(object(StringGet)) in AbstractConnection.php line 123\nat AbstractConnection->executeCommand(object(StringGet)) in Client.php line 326\nat Client->executeCommand(object(StringGet)) in Client.php line 309\nat Client->__call('get', array('laravel:7099f138733f16dcbfabc1bf2fdcf36948d9cb20')) in RedisStore.php line 54\nat RedisStore->get('7099f138733f16dcbfabc1bf2fdcf36948d9cb20') in Repository.php line 129\nat Repository->get('7099f138733f16dcbfabc1bf2fdcf36948d9cb20', '') in CacheBasedSessionHandler.php line 58\nat CacheBasedSessionHandler->read('7099f138733f16dcbfabc1bf2fdcf36948d9cb20') in Store.php line 124\nat Store->readFromHandler() in Store.php line 108\nat Store->loadSession() in Store.php line 92\nat Store->start() in StartSession.php line 104\nat StartSession->startSession(object(Request)) in StartSession.php line 57\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 102\nat Pipeline->then(object(Closure)) in Router.php line 726\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 699\nat Router->dispatchToRoute(object(Request)) in Router.php line 675\nat Router->dispatch(object(Request)) in Kernel.php line 246\nat Kernel->Illuminate\\Foundation\\Http\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in CheckForMaintenanceMode.php line 44\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 102\nat Pipeline->then(object(Closure)) in Kernel.php line 132\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 99\nat Kernel->handle(object(Request)) in index.php line 53\nIt is a fresh install (using \"laravel new project\"), so no code changes have been made, and only the .env file has changed from cache/session drivers to redis instead of file. Switching back to file drivers shows the Laravel 5 homepage without any issues. I'll keep digging.\n. ",
    "romilgoel": "I got the resolution to the problem. So, there is a limit to ports that a application server can connect to a particular application on another machine. These ports were getting exhausted.\nWe increased the limit and the problem got resolved.\nHow we got to know about this problem ?\nIn php, we were getting \"Cannot assign requested address\" error while creating a socket (error code 99).\n. ",
    "mattythebatty": "Hi @Mahmoudz , I've created a PR for the PHP5 docker files. It's a lot simpler than the PHP 7 version.\nThanks for creating this project.\n. SQLite worked fine for me in all 3 PHP versions without any modification\n. Sure, here is what I did:\nlaravel new sqlite-test\ncd sqlite-test/\ngit init\ngit submodule add https://github.com/LaraDock/laradock.git docker\ntouch database/database.sqlite\nI then edited the .env file \nDB_CONNECTION=sqlite\nand commented out DB_DATABASE\nThen edited the routes.php to have some DB testing e.g.\n```\nRoute::get('/', function () {\n    DB::statement('CREATE TABLE IF NOT EXISTS wines (name TEXT, price INTEGER )');\nDB::insert('insert into wines (name, price) values (?, ?)', ['red', 10]);\nDB::insert('insert into wines (name, price) values (?, ?)', ['white', 15]);\nDB::insert('insert into wines (name, price) values (?, ?)', ['rose', 5]);\n\n$results = DB::select('select * from wines');\nprint_r($results);\n\n});\n```\nThen:\ncd docker/\ndocker-compose up --force-recreate --build nginx php\nIn my hosts file I had 127.0.0.1 laradock.dev\nThen visited laradock.dev and got:\n```\nArray ( [0] => stdClass Object ( [name] => red [price] => 10 ) [1] => stdClass Object ( [name] => white [price] => 15 ) [2] => stdClass Object ( [name] => rose [price] => 5 ) )\n```\n. @georgebaev I get this on my Windows machine but it works fine on linux.\nCould you try docker-compose up --force-recreate --build nginx php mysql and add an entry to your hosts file e.g.\nLinux:  127.0.0.1 laradock.dev\nWindows probably DOCKER_IP laradock.dev\nWhere DOCKER_IP is the result of \n$ docker-machine ip\n. It might be better to use a different one such as adminer as it can support multiple DB types\nhttps://www.adminer.org/en/phpmyadmin/\n. Could you try doing docker-compose up --force-recreate --build when you start it?\nAlso, could you put phpinfo() at the top of the public/index.php file and print the result?\n. I'd actually started doing something like this just to test it out on a few projects (WordPress, OpenCart and Arastta) and was going to publish them as separate repositories in an organisation. \nI've put a simple (WordPress Docker)[https://github.com/DockerIt/wordpress-docker] one there. I went for separate repositories for each projects for a couple of reasons\n- the dependencies on different frameworks/projects might be different and need more than just a different nginx config file (e.g. gd, imageick, mbstring etc)\n- it might make sense to put the docker files in a certain folder\n- other framework users might find it easier to contribute\n- making a change work change it on all frameworks\nIf you agree, you are more than welcome to join/run the org\n. Could you try docker-compose down and then (make sure any data in the DB is safe)  docker-compose up --build --force-recreate\n. Is there any output in the docker logs? Check the nginx logs first and then maybe the php-fpm logs\n. ",
    "pcottrell": "@mattythebatty can you elaborate?  We have to ssh into the container and install sql lite.\n. ",
    "annielmenezes": "Hi @Mahmoudz I get the same error. I'm using Ubuntu 16.04.\n. ",
    "petehouston": "@annielmenezes what is the result of $ docker-machine env?\n. ",
    "georgebaev": "@mattythebatty thank you very much! This fixed the problem. \n. ",
    "partenit": "This is my working example - simply add this at the end of docker-compose.yml:\nhttps://gist.github.com/partenit/92f820fe8c55a48d91533988183eb523 \nHow to use: navigate to http://your_host:8080\nFor login use login \"root\" and your root password for database.\nMore params see here: \nhttps://hub.docker.com/r/phpmyadmin/phpmyadmin/\n. > I think the better way was to change the Application Timezone setting in config/app.php not to overwrite /etc/localtime file on workspace container.\n\n@appleboy thank you, my idea not about application timezone settings - i'm already use them.\nfor example, i may run cron tasks in workspace container and i want correct time settings for this. \n. > seems nice solution. would you like to submit a PR with that?\n\n@Mahmoudz i try this tomorow, thank you!\n. @philtrep Thank you very much. This solve my issue :)\n. ",
    "nemanjam": "I'm using this same phpmyadmin/phpmyadmin image, I think it is overkill to install one more php5 just for this, maybe it is better to reuse php from workspace with FROM in separate Dockerfile, instead image.\n. > you need to have the LaraDock folder installed inside your Laravel Project (on the root directory of your Laravel app)\nIt is, laradock is in the root of laravel. See the pic.\nhttp://s32.postimg.org/bdoxcqkmt/Capture.png\n. It should see content of parent folder... i'll research further.\nhttp://s32.postimg.org/j15o9114l/Capture.png\nHere is what is shared in virtualbox by default, seems like a nonsense.\nhttp://s32.postimg.org/j04p9bbp1/Capture.png\nI'm not sure how docker calculate paths... on host should be relative to yml file, on machine level folder below that should be shared... and what should I restart for change to take effect, container or machine...\n. Solved it, I needed to mount folder on machine, then within it I can map subfolder as volume. For example:\n//create shared folder in vbox D:\\myapp with id myappshare\n//from machine mount it\nsudo mount -t vboxsf -o uid=$UID,gid=$(id -g) myappshare /myapp\n//map volume\n/d/myapp:/var/www/laravel\n. I think she is using virtualbox and her project is outside home directory that is mounted by default with the toolbox. \nGo in virtualbox shared folder options see what folder is shared on host, your project has to be within it, and also ssh into machine with docker-machine ssh default and go to guest location of the share stated in vbox,  list files, your home folder from host should be listed. \nSomething like this, I'm on windows, paths are different. http://image.prntscr.com/image/c6c6068cc8824704b2e777c7bd37a104.png\n. I think it's better to copy xdebug.ini with  COPY ./xdebug.ini /usr/local/etc/php/conf.d/ than docker-php-ext-enable xdebug which does the same, but renaming .ini file like php-ext-enable-xdebug.ini which might be harder for people to spot. And you do have to edit .ini according to your settings. \nAlso in yml file for php-fpm make volume mapping for logs, and open port, something like this http://codepad.org/bfIb0Kn3\nMy example of working xdebug.ini with remote_connect_back=1 http://codepad.org/VVpv8bGK\nBut the main thing is path mapping, since this is remote debugging. I did mapping /public to /public folder and that is enough to get working breakpoints in entrypoint /public/index.php but breakpoints in routes are not being hit, and their code is executed. Haven't that figured out. Default \"/\" route for example. Print-screen mapping http://image.prntscr.com/image/28dfa2791dd746a1bfc61971427fa379.png \n. See docker-compose.yml and php-fpm folder in my_laradock branch of my fork, you have working xdebug there https://github.com/nemanjam/laradock/tree/my_laradock\n. ",
    "m0onspell": "I just had to update docker-engine to the latest version which is unsupported in Fedora 21. So I had to upgrade my Fedora to version 23, and that led me to almost ten hours of struggle with unsupported video card drivers. But now it's working. \nJust one last question since I don't want to create another issue: \nI did everything as described in manual, and installed the project in workspace container, but when I visit http://localhost I see nginx welcome page.\nI prefer not to use docker-machine, so shouldn't it work with just localhost?\nOr what is causing the problem?\nThanks.\n. @Mahmoudz almost. \nAfter that I also had to make composer install and php artisan key:generate in the root of my project in workspace container.\nNow it works.\nOne note. Consider updating manual here:\nThe Nginx Log file is stored in the logs/nginx directory.\nThat's not the truth by default and can be confusing.\n. ",
    "cabrerabywaters": "Thank you Mahmoud, it worked!docker-machine l.\nI think that maybe doing the \ngit submodule add https://github.com/LaraDock/laradock.git\nas written in the Readme, did not pull the latest version of the repo\n. Ok....finally manage to install this...so for future readers, here it comes.\nFirst, LDAP.\nI included a LDAP arg at the bottom of the Dockerfile (laradock/php-fpm/Dockerfile-70), with the following\n```\n\nLDAP:\n\nARG LDAP=false\nRUN if [ ${LDAP} = true ]; then \\\n    apt-get update && \\\n    apt-get install libldap2-dev -y && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ && \\\n    docker-php-ext-install ldap\n;fi\n```\nSecondly, I added a MSSQL arg at the end of the same file to install the sql server drivers and extensions. The microsoft github account was very useful for this. (LINK)\nSo the MSSQL install goes as follows:\n```\n\nSQL SERVER:\n\nARG MSSQL=false\nRUN if [ ${MSSQL} = true ]; then \\\n#####################################\n# Install Depenencies:\n#####################################\nRUN apt-get update && \\\n    apt-get install -y --force-yes wget apt-transport-https curl freetds-common php5-odbc libsybdb5 freetds-bin unixodbc unixodbc-dev php5-sybase\n\n#####################################\n#  The following steps were taken from\n#  Microsoft's github account:\n#  https://github.com/Microsoft/msphpsql/wiki/Dockerfile-for-getting-pdo_sqlsrv-for-PHP-7.0-on-Debian-in-3-ways\n#####################################\n\n# Add PHP 7 repository\n# for Debian jessie\n# And System upgrade\nRUN echo \"deb http://packages.dotdeb.org jessie all\" \\\n    | tee /etc/apt/sources.list.d/dotdeb.list \\\n    && wget -qO- https://www.dotdeb.org/dotdeb.gpg \\\n    | apt-key add - \\\n    && apt-get update \\\n    && apt-get upgrade -qq\n\n# Install UnixODBC\n# Compile odbc_config as it is not part of unixodbc package\nRUN apt-get install -y whiptail \\\n    unixodbc libgss3 odbcinst devscripts debhelper dh-exec dh-autoreconf libreadline-dev libltdl-dev \\\n    && dget -u -x http://http.debian.net/debian/pool/main/u/unixodbc/unixodbc_2.3.1-3.dsc \\\n    && cd unixodbc-*/ \\\n    && dpkg-buildpackage -uc -us -B -d \\\n    && cp -v ./exe/odbc_config /usr/local/bin/\n\n# Fake uname for install.sh\nRUN printf '#!/bin/bash\\nif [ \"$*\" == \"-p\" ]; then echo \"x86_64\"; else /bin/uname \"$@\"; fi' \\\n    | tee /usr/local/bin/uname \\\n    && chmod +x /usr/local/bin/uname\n\n# Microsoft ODBC Driver 13 for Linux\n# Note: There's a copy of this tar on my hubiC\nRUN wget -nv -O msodbcsql-13.0.0.0.tar.gz \\\n    \"https://meetsstorenew.blob.core.windows.net/contianerhd/Ubuntu%2013.0%20Tar/msodbcsql-13.0.0.0.tar.gz?st=2016-10-18T17%3A29%3A00Z&se=2022-10-19T17%3A29%3A00Z&sp=rl&sv=2015-04-05&sr=b&sig=cDwPfrouVeIQf0vi%2BnKt%2BzX8Z8caIYvRCmicDL5oknY%3D\" \\\n    && tar -xf msodbcsql-13.0.0.0.tar.gz \\\n    && cd msodbcsql-*/ \\\n    && ldd lib64/libmsodbcsql-13.0.so.0.0 \\\n    && ./install.sh install --accept-license \\\n    && ls -l /opt/microsoft/msodbcsql/ \\\n    && odbcinst -q -d -n \"ODBC Driver 13 for SQL Server\"\n\n#####################################\n# Install sqlsrv y pdo_sqlsrv\n# extensions:\n#####################################\nRUN pecl install sqlsrv-4.0.6\nRUN pecl install pdo_sqlsrv-4.0.6\n\n#####################################\n# Set locales for the container\n#####################################\nRUN apt-get install -y locales \\\n&& echo \"en_US.UTF-8 UTF-8\" > /etc/locale.gen \\\n&& locale-gen\n\n;fi\n```\nFinally, I had to include the extensions in one of the php.ini files. I decide to do it manually in the (laradock/php-fpm/laravel.ini), just because I had to modify a couple more variables for my app. So you have to include the following\nextension=sqlsrv.so\nextension=pdo_sqlsrv.so\nAnd then just rebuild the container and UP your docker-compose.\n@Mahmoudz would you consider including this as args for the Laradock/php-fpm container?\nHope it helps.\nBest Regards!. @philtrep No problem! I'm going to try to do it today. . @philtrep OK, it took me a while but finally did a proper pull request for PHP7.0\nI divided everything that I'm using in 4 different PR.\nPHP-Worker: https://github.com/laradock/laradock/pull/673\nGHOSTSCRIPT:https://github.com/laradock/laradock/pull/672\nLDAP:https://github.com/laradock/laradock/pull/671\nMSSQL:https://github.com/laradock/laradock/pull/670\nHope you can check it and tell me what you think.\n. Hello there! Sorry but I haven't use dblib yet, do you have something that I could use to test if Dblib is working OK?\nLet me give it a try and I'll see if I can come up with a fix for this one.\nCheers!\n\nFrom: hounded notifications@github.com\nSent: Wednesday, April 5, 2017 12:04:59 AM\nTo: laradock/laradock\nCc: Ignacio Cabrera; Mention\nSubject: Re: [laradock/laradock] LDAP and SQL Server support - PHP-FPM [Need Help] (#645)\nHey nice work @cabrerabywatershttps://github.com/cabrerabywaters I have got the container running and have pdo_sqlsrv and sqlsrv, however I can not get the dblib working, any suggestions ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/laradock/laradock/issues/645#issuecomment-291733153, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AC6P8zM8U6TDMjDGTIHItLiZNZCERGL8ks5rswTbgaJpZM4MOl0a.\n. @Mahmoudz All set here...(Y). @thorerik I use that container too but...Is there any way to integrate it with PHP-FPM that runs in this container? This is not for running a MSSQL DB, but to use PHP SQL extensions.. @Mahmoudz Sure! let me take a look at the other DBs and I'll see what i can do ;). @Mahmoudz Just solved it...I didn't realize about the change in the env config.\nI also changed the GHOSTSCRIPT arg to INSTALL_GHOSTSCRIPT.\nThink we should add that to the env-example_file too.\nHuman Language and Character Encoding Support: was missing a \";fi\" at the end of the install in MASTER...fixed that in here too. @tblancog Yes, the script looks for a PHP_FPM_INSTALL_LDAP env variable to be TRUE to install..so you should add \nPHP_FPM_INSTALL_LDAP=true\nat the env file in the root directory of your fork.\n@Mahmoudz I fixed the conflicts here!. No problem! wil do ;)\nOn Thu, Mar 16, 2017 at 2:11 PM -0300, \"Mahmoud Zalt\" notifications@github.com wrote:\n@cabrerabywaters could you add it for the other PHP versions as well?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \nI'm going to correct both mistakes and make the PR again. totally right the workdir is wrong and the volume should be applications.Hope to fix all my PRs tonight.\nOn Thu, Mar 16, 2017 at 2:34 PM -0300, \"Mahmoud Zalt\" notifications@github.com wrote:\n@cabrerabywaters @cjmaxik so what's the status here! shall we merge?!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @Mahmoudz  Ok! Fixed the container with @cjmaxik 's comments. \nDockerfile now has a the proper Workdir and Volumes point to the applications volume. I just give it a try and works OK.\n. I just realized that...is this new? I just fetched uptream yesterday.\nSure..will create a new PR to fetch master again.\nRegards\nEl jue., 16 de mar. de 2017 a la(s) 21:10, Max Mekenya \nnotifications@github.com escribi\u00f3:\n\n@cabrerabywaters https://github.com/cabrerabywaters there is a changed\nstructure of docker-compose.yml with environment variables, could you\nresolve conflicts?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/pull/673#issuecomment-287230142,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AC6P8zn9mGqE6qvKWGC7YJ7s_WfpMRzCks5rmc96gaJpZM4Mcn2v\n.\n. @cjmaxik all set.\nAlso changed the links: statement to depends_on:. done...sorry about that!..next PR is going to be better =). @tblancog  Easiest way to do it is by using docker-php \ndocker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ && \\\n     docker-php-ext-install ldap\nshould do the trick\n\nI responded to your question also in \nMake sure to use those env variables to trigger the install ;)\n. @tblancog  No problem!...If you cannot wait until the pull request gets merge into the master branch..I would recommend just doing a quick change to the Dockerfile (laradock/php-fpm/Dockerfile-70) ...just forget about the env variables and paste the following code in line 17 after de maintainer statement.\nRUN apt-get update && \\\n     apt-get install libldap2-dev -y && \\\n     docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ && \\\n     docker-php-ext-install ldap\nJust like in this image...\n\nAfter you have done that..you need to rebuild your php-fpm image...that's an easy one..just go to your laradock root folder from your terminal and type:\ndocker-compose build php-fpm\nThat command will make sure that your php-fpm image now has the latest changes that we made.\nafter that you are ready to go! \ndocker-compose up -d <whatever you need to use>. @tblancog I just give it a try and actually received the same message.\n\nbut then the build continue with no problem... \n\nAnd the image was built successfully\n\n. @thorerik You are right thank you!. ",
    "matriphe": "Found the same problem. Running on OSX 10.11.4, using Docker Toolbox (Kitematic) version 0.10.2 that runs docker version 1.11.1 and docker-machine version 0.7.0.\nHave tried to run the suggested step, but it's failed on docker-compose build --no-cache workspace\nThe error:\n```\nW: Failed to fetch http://archive.ubuntu.com/ubuntu/dists/trusty/universe/binary-amd64/Packages  Hash Sum mismatch\nE: Some index files failed to download. They have been ignored, or old ones used instead.\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c apt-get update && apt-get install -y     software-properties-common' returned a non-zero code: 100\n``\n. I found image namedlaradock_applicationand then delete it usingdocker rmi` command.\nThen I run docker-compose build --no-cache workspace and it failed, and the error is still occured. Here the full output, I think it will help.\n```\nbash-3.2$ docker images\nREPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE\nlaradock_application          latest              a6d68920536a        10 hours ago        125.1 MB\ncentos                        latest              8596123a638e        4 days ago          196.7 MB\nubuntu                        latest              c5f1cf30c96b        2 weeks ago         120.8 MB\npercona                       latest              4e17d4db0a84        9 weeks ago         309.4 MB\ncentos                        7                   ed38e4ac7e1b        5 months ago        194.7 MB\nphusion/baseimage             latest              772dd063a060        5 months ago        305.2 MB\nnginx                         latest              9f3d4c9acb57        6 months ago        132.7 MB\nmysql                         latest              60dbc2f8949d        6 months ago        359.8 MB\ndebian                        jessie              39a8a358844a        6 months ago        125.1 MB\nubuntu-upstart                latest              dc531b4cb86a        6 months ago        253.1 MB\nbusybox                       latest              aa5d5f5a81c9        6 months ago        1.109 MB\nalpine                        latest              558af09712a4        8 months ago        5.244 MB\nbash-3.2$ docker rmi -f a6d68920536a\nUntagged: laradock_application:latest\nDeleted: sha256:a6d68920536a6f883bf60f1cb70ef5c8a54b0e1b5150341128fd879fe23f7ecd\nDeleted: sha256:f583b1c638c5a94e83070f649b054723300ec1ec83a4f56100eaeb4116ba62ba\nDeleted: sha256:00ac90e68bf4e66402a159e79dc72f56bc8efcb10b867cc7282d706d6a647113\nDeleted: sha256:f55cc2c318ab9d0beb9d7666cfa45e7d7793a8ea8fee1dc64c60f8f9f12783f6\nbash-3.2$ docker images\nREPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE\ncentos                        latest              8596123a638e        4 days ago          196.7 MB\nubuntu                        latest              c5f1cf30c96b        2 weeks ago         120.8 MB\npercona                       latest              4e17d4db0a84        9 weeks ago         309.4 MB\ncentos                        7                   ed38e4ac7e1b        5 months ago        194.7 MB\nphusion/baseimage             latest              772dd063a060        5 months ago        305.2 MB\nnginx                         latest              9f3d4c9acb57        6 months ago        132.7 MB\nmysql                         latest              60dbc2f8949d        6 months ago        359.8 MB\ndebian                        jessie              39a8a358844a        6 months ago        125.1 MB\nubuntu-upstart                latest              dc531b4cb86a        6 months ago        253.1 MB\nbusybox                       latest              aa5d5f5a81c9        6 months ago        1.109 MB\nalpine                        latest              558af09712a4        8 months ago        5.244 MB\nbash-3.2$ docker-compose build --no-cache workspace\nBuilding workspace\nStep 1 : FROM phusion/baseimage:latest\n ---> 772dd063a060\nStep 2 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Running in aa25bd19d6d6\n ---> 1abe07b303e5\nRemoving intermediate container aa25bd19d6d6\nStep 3 : RUN DEBIAN_FRONTEND=noninteractive\n ---> Running in 8d5b9f921431\n ---> 3e2fe99dcf73\nRemoving intermediate container 8d5b9f921431\nStep 4 : RUN locale-gen en_US.UTF-8\n ---> Running in 9cfc5051e98b\nGenerating locales...\n  en_US.UTF-8... up-to-date\nGeneration complete.\n ---> e4adaea2d3f4\nRemoving intermediate container 9cfc5051e98b\nStep 5 : ENV LANGUAGE en_US.UTF-8\n ---> Running in 39de5e322d47\n ---> cbee9159bb37\nRemoving intermediate container 39de5e322d47\nStep 6 : ENV LC_ALL en_US.UTF-8\n ---> Running in 801854c62f62\n ---> c2a6e3ce8223\nRemoving intermediate container 801854c62f62\nStep 7 : ENV LC_CTYPE UTF-8\n ---> Running in 788388801e8b\n ---> c1292cd9f229\nRemoving intermediate container 788388801e8b\nStep 8 : ENV LANG en_US.UTF-8\n ---> Running in 0bcbbf7f75ea\n ---> 1c3a17bead00\nRemoving intermediate container 0bcbbf7f75ea\nStep 9 : ENV TERM xterm\n ---> Running in 1614a3a09bbb\n ---> f9b5eae99093\nRemoving intermediate container 1614a3a09bbb\nStep 10 : RUN apt-get update && apt-get install -y     software-properties-common\n ---> Running in 42a5b8094b52\nIgn http://archive.ubuntu.com trusty InRelease\nGet:1 http://archive.ubuntu.com trusty-updates InRelease [65.9 kB]\nGet:2 http://archive.ubuntu.com trusty-security InRelease [65.9 kB]\nGet:3 http://archive.ubuntu.com trusty Release.gpg [933 B]\nGet:4 http://archive.ubuntu.com trusty Release [58.5 kB]\nGet:5 http://archive.ubuntu.com trusty-updates/main Sources [346 kB]\nGet:6 http://archive.ubuntu.com trusty-updates/restricted Sources [5,217 B]\nGet:7 http://archive.ubuntu.com trusty-updates/universe Sources [194 kB]\nGet:8 http://archive.ubuntu.com trusty-updates/main amd64 Packages [964 kB]\nGet:9 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [23.5 kB]\nGet:10 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [464 kB]\nGet:11 http://archive.ubuntu.com trusty-security/main Sources [147 kB]\nGet:12 http://archive.ubuntu.com trusty-security/restricted Sources [3,920 B]\nGet:13 http://archive.ubuntu.com trusty-security/universe Sources [41.8 kB]\nGet:14 http://archive.ubuntu.com trusty-security/multiverse Sources [2,547 B]\nGet:15 http://archive.ubuntu.com trusty-security/main amd64 Packages [602 kB]\nGet:16 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [20.2 kB]\nGet:17 http://archive.ubuntu.com trusty-security/universe amd64 Packages [167 kB]\nGet:18 http://archive.ubuntu.com trusty-security/multiverse amd64 Packages [4,853 B]\nGet:19 http://archive.ubuntu.com trusty/main Sources [1,335 kB]\nGet:20 http://archive.ubuntu.com trusty/restricted Sources [5,335 B]\nGet:21 http://archive.ubuntu.com trusty/universe Sources [7,926 kB]\nGet:22 http://archive.ubuntu.com trusty/main amd64 Packages [1,743 kB]\nGet:23 http://archive.ubuntu.com trusty/restricted amd64 Packages [16.0 kB]\nGet:24 http://archive.ubuntu.com trusty/universe amd64 Packages [7,589 kB]\nFetched 21.8 MB in 1min 2s (350 kB/s)\nW: Failed to fetch http://archive.ubuntu.com/ubuntu/dists/trusty/universe/binary-amd64/Packages  Hash Sum mismatch\nE: Some index files failed to download. They have been ignored, or old ones used instead.\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c apt-get update && apt-get install -y     software-properties-common' returned a non-zero code: 100\nbash-3.2$ \n```\n. been looking for this situation, and i found similar bug in Ubuntu Trusty. https://github.com/docker-library/official-images/issues/1350\nI've tried to barely build from the workspace/Dockerfile and got same error. replacing phusion/baseimage to ubuntu:trusty didn't resolve the issue.\nBut, when I change the base image of workspace/Dockerfile to ubuntu:latest (xenial), it's worked like a charm. I don't know it's issue from the Ubuntu Trusty or not.\n. I tried using sunfoxcz/baseimage:latest for the base image. it's based on phusion/baseimage but use Ubuntu Xenial. it's worked.\n. Yes. I agree to wait the official support of phusion/baseimage for Ubuntu Xenial but for now it worked for me. thanks! \nFYI, the apt-get upgrade on the freshly Ubuntu Xenial (docker) only upgrade 5 packages, dpkg libsystemd0 libudev1 systemd systemd-sysv and it took lesser time rather than apt-update-ing.. :D\n. ",
    "ellisio": "I forked this for work and have an implementation of this working. What I did is merge application and workspace into one Dockerfile. This allows me to create multiple app-{project-name} containers. \nAll projects are stored in ./apps/ relative to LaraDock's root.\ndocker-compose.yml Configuration\nJust find app-projectA in this configuration and add more projects like app-projectB.\n```\nversion: '2'\nservices:\n  # Applications...\n  app-projectA:\n    tty: true\n    build: ./containers/app-projectA\n    volumes:\n      - ./apps/projectA:/var/www/app-projectA\n# Services...\n  php-fpm:\n    build:\n        context: ./containers/php-fpm\n        dockerfile: Dockerfile\n    volumes_from:\n      - app-projectA\nnginx:\n    build: ./containers/nginx\n    volumes_from:\n      - app-projectA\n    volumes:\n      - ./logs/nginx:/var/log/nginx\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    links:\n      - php-fpm\nmariadb:\n    build: ./containers/mariadb\n    volumes_from:\n      - data\n    ports:\n      - \"3306:3306\"\n    environment:\n      MYSQL_DATABASE: projectA\n      MYSQL_USER: laradock\n      MYSQL_PASSWORD: laradock\n      MYSQL_ROOT_PASSWORD: root\n    links:\n      - php-fpm\nredis:\n    build: ./containers/redis\n    volumes_from:\n      - data\n    ports:\n      - \"6379:6379\"\n    links:\n      - php-fpm\nbeanstalkd:\n    build: ./containers/beanstalkd\n    ports:\n      - \"11300:11300\"\n    privileged: true\n    links:\n      - php-fpm\nbeanstalkd-console:\n    build: ./containers/beanstalkd-console\n    ports:\n      - \"2080:80\"\n    environment:\n      - \"BEANSTALK_SERVERS=beanstalkd:11300\"\n    links:\n      - beanstalkd\n# Data Container...\n  data:\n    build: ./containers/data\n    volumes:\n      - /var/lib/mariadb\n      - /var/lib/redis\n```\nNginx Configuration\nNow the bigger thing is you also have to modify the Nginx container. These are our configuration files for Nginx:\nDockerfile:\n```\nFROM nginx:latest\nMAINTAINER Andrew Ellis awellis89@gmail.com\nRUN mkdir -p /etc/nginx/certs\nADD nginx.conf /etc/nginx/\nADD fastcgi_params.conf /etc/nginx/\nADD app.conf /etc/nginx/\nADD apps/projectA.conf /etc/nginx/conf.d/\nADD apps/star.dev.projectA.com.cert /etc/nginx/certs/\nADD apps/star.dev.projectA.com.key /etc/nginx/certs/\nRUN usermod -u 1000 www-data\nEXPOSE 80 443\nCMD [\"nginx\"]\n```\nnginx.conf:\n```\nuser                      www-data;\nworker_processes          1;\nerror_log                 /var/log/nginx/error.log  info;\npid                       /run/nginx.pid;\ndaemon                    off;\nevents {\n  worker_connections      1024;\n  multi_accept            on;\n  use                     epoll;\n}\nhttp {\n  include                 /etc/nginx/fastcgi_params.conf;\n  include                 /etc/nginx/mime.types;\n  default_type            application/octet-stream;\n  set_real_ip_from        127.0.0.1;\n  real_ip_header          X-Forwarded-For;\n  charset                 utf-8;\nproxy_redirect          off;\n  proxy_set_header        Host  $host;\n  proxy_set_header        X-Real-IP $remote_addr;\n  proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n  client_max_body_size    10m;\n  client_body_buffer_size 128k;\n  proxy_buffers           32 4k;\n  fastcgi_send_timeout    60s;\n  fastcgi_read_timeout    1d;\ngzip                    on;\n  gzip_types              text/plain text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;\n  gzip_disable            \"MSIE [1-6].\";\n  gzip_static             on;\ntcp_nodelay             on;\n  tcp_nopush              on;\n  keepalive_timeout       65;\n  sendfile                off;\ntypes_hash_max_size     2048;\n  server_names_hash_bucket_size 64;\ninclude                 /etc/nginx/conf.d/*.conf;\n}\n```\nfastcgi_params.conf:\n```\nfastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;\nfastcgi_param  QUERY_STRING       $query_string;\nfastcgi_param  REQUEST_METHOD     $request_method;\nfastcgi_param  CONTENT_TYPE       $content_type;\nfastcgi_param  CONTENT_LENGTH     $content_length;\nfastcgi_param  SCRIPT_NAME        $fastcgi_script_name;\nfastcgi_param  REQUEST_URI        $request_uri;\nfastcgi_param  DOCUMENT_URI       $document_uri;\nfastcgi_param  DOCUMENT_ROOT      $document_root;\nfastcgi_param  SERVER_PROTOCOL    $server_protocol;\nfastcgi_param  GATEWAY_INTERFACE  CGI/1.1;\nfastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;\nfastcgi_param  REMOTE_ADDR        $remote_addr;\nfastcgi_param  REMOTE_PORT        $remote_port;\nfastcgi_param  SERVER_ADDR        $server_addr;\nfastcgi_param  SERVER_PORT        $server_port;\nfastcgi_param  SERVER_NAME        $server_name;\nfastcgi_param  HTTPS              $https;\n```\napp.conf:\n```\nDeny dot files:\nlocation ~ /. {\n  deny all;\n}\nPHP\nlocation ~ .php$ {\n  include       /etc/nginx/fastcgi_params.conf;\n  fastcgi_pass  php-fpm:9000;\n  fastcgi_index index.php;\n}\n```\napps/projectA.conf:\n```\nserver {\n  include             /etc/nginx/app.conf;\nlisten              443 ssl;\n  server_name         *.dev.projectA.com;\naccess_log          off;\n  error_log           /var/log/nginx/error.log;\nroot                /var/www/app-projectA/public;\n  index               index.php index.html;\nssl                 on;\n  ssl_certificate     /etc/nginx/certs/star.dev.projectA.com.cert;\n  ssl_certificate_key /etc/nginx/certs/star.dev.projectA.com.key;\n  ssl_protocols       SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n  ssl_ciphers         ALL:!aNULL:!ADH:!eNULL:!LOW:!EXP:RC4+RSA:+HIGH:+MEDIUM;\n# Application Routes\n  location / {\n    try_files $uri $uri/ /index.php?$query_string;\n  }\n}\n```\nMySQL Configuration\nUnfortunately at this time I only know how to create one database, which is fine for our stack, but not for others using one set of containers for multiple projects locally. There's talk about a VOLUME and running a .sh script on ENTRYPOINT to create your schemas. But I haven't dug too far into it.\nProject Dockerfile\nWith what I mentioned above. The workspace container went away. We now have a per-project Dockerfile that looks like the following and lives in ./containers/app-projectA/Dockerfile:\n```\nFROM phusion/baseimage:latest\nMAINTAINER Andrew Ellis awellis89@gmail.com\nRUN DEBIAN_FRONTEND=noninteractive\nRUN locale-gen en_US.UTF-8\nENV LANGUAGE=en_US.UTF-8\nENV LC_ALL=en_US.UTF-8\nENV LC_CTYPE=UTF-8\nENV LANG=en_US.UTF-8\nENV TERM xterm\nInstall \"software-properties-common\" (for the \"add-apt-repository\")\nRUN apt-get update && apt-get install -y software-properties-common curl python-dev build-essential g++ unzip\nInstall NodeJS Repo\nRUN curl -s -L https://deb.nodesource.com/setup_5.x | sudo bash -\nAdd the \"PHP 7\" ppa\nRUN add-apt-repository -y ppa:ondrej/php\nInstall PHP-CLI 7, some PHP extentions and some useful Tools with APT\nRUN apt-get update && apt-get install -y \\\n        php7.0-cli \\\n        php7.0-common \\\n        php7.0-curl \\\n        php7.0-json \\\n        php7.0-xml \\\n        php7.0-mbstring \\\n        php7.0-mcrypt \\\n        php7.0-mysql \\\n        php7.0-zip \\\n        git \\\n        curl \\\n        vim \\\n        nano \\\n        nodejs\nClean up, to free some space\nRUN apt-get clean\nInstall gulp with NPM\nRUN npm install -g gulp\nAdd an alias for PHPUnit\nRUN echo \"alias phpunit='./vendor/bin/phpunit'\" >> ~/.bashrc\nInstall Composer\nRUN curl -s http://getcomposer.org/installer | php \\\n    && mv composer.phar /usr/local/bin/composer\nInstall Ngrok2\nRUN curl -s -O https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip \\\n    && unzip ngrok-stable-linux-amd64.zip \\\n    && mv ngrok /usr/local/bin/ \\\n    && rm -f ngrok-stable-linux-amd64.zip\nClean up\nRUN apt-get clean && rm -rf /var/lib/apt/lists/ /tmp/ /var/tmp/*\nWORKDIR /var/www/app-projectA\n```\nConclusion\nHopefully this helps the package maintainer make this a possibility.\n. ",
    "LarryEitel": "I am pursuing this approach. I have one project app1 working however, when I add app2 with app2.conf to nginx it fails. I ripped out SSL for the time being. Has anyone got two projects running without SSL and would be willing to share your nginx related conf's? :)\n. I slugged my way through nginx conf's and got the following conf's to enable two separate sites:\napp1.conf\n```\nserver\n{\n    include       /etc/nginx/app.conf;\nserver_name app1;\nroot /var/www/app1/public;\n\n}\n```\napp2.conf\n```\nserver\n{\n    include       /etc/nginx/app.conf;\nserver_name app2;\nroot /var/www/app2/public;\n\n}\n```\napp.conf\n```\n    listen 80;\nindex index.php index.html index.htm;\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation ~ \\.php$ {\n    fastcgi_pass  php-fpm:9000;\n    fastcgi_index index.php;\n    include       /etc/nginx/fastcgi_params.conf;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n\n}\n\n# Application Routes\n  location / {\n         try_files $uri $uri/ /index.php$is_args$args;\n  }\n```\nClearly not production-ready but it gives me a way to work on and continue running multiple apps/projects from/on same base container/services, ie, php-fpm, mariandb, nginx, etc.\n. I created a PR that may be of interest. Doesn't touch db at this point but it is a way to host multiple sites on one LaraDock. At this point it is a 'proof-of-concept'. :)\n. Thank you! Your example helped me to FINALLY initiate a debug session.\nI added:\nphp-fpm:\n        build:\n            context: ./php-fpm\n            dockerfile: Dockerfile-70\n        volumes_from:\n            - application\n        volumes:\n            - ./logs/php-fpm/:/tmp/xdebug_log\n        expose:\n            - \"9000\"\n        ports:\n            - \"9001:9001\"\n        links:\n            - workspace\n        environment:\n            XDEBUG_CONFIG: \"remote_host=<my external IP>\"\n            PHP_IDE_CONFIG: \"serverName=docker\"\nI also found a way to setup remote debug over SSL. Late now. Will share my docker-compose soon.\n. Well, currently it is a moving target. I encountered a problem with editing files on hosts in Sublime/PHPStorm and the edits not persisting in workspace container. I have since upgraded to vanilla Laradock with no resolution thus far. Migrating from Vagrant Homestead to Laradock has not been very smooth for me thus far. \nBottom line at the moment, I have moved from a semi functional stack to vanilla Laradock that I cannot use at the moment. Hopefully, I will find a solution soon that I can share.\n. I created a repo inspired by this project. It is bare-bones with a focus on configuring PHPStorm for 'remote' debugging. Check it out at: larryeitel/phpdock. Hope it helps. :)\n. Just a brief update. This project has been very active. NICE! I have been slicing and dicing docker/php/selenium/phpstorm/xdebug/etc in earnest. Important to keep in mind that PHPStorm needs to point to php-fpm, ssh keyed access from host to php-fpm container, xdebug should be able to reach host on port 9000 (if PHPStorm is set to that port). I know this is a quick blast. I have not updated my phpdock project in several days. Should still provide some value. Gotta run.\n. This issue has been resolved with recent version.\n. What I have tried:\n1. Searched docker forum\n2. Deleted and rebuilt all containers\n3. Moved host source files into Users tree\n4. Stopped/Restarted Docker\nBehavior:\nEdit public/index.php and add print gethostname();. I see this added.\nIf I make one more change and save, the change is not made.\nI bash into workspace and cat the file. Only the first file edit was persisted.\nTHEN I open public/index.php in PHPStorm. I see the update that was made by Sublime. I make an edit and save and notice that public/index.php___jb_old___ has been created.\nIf possible interest:\nroot@b691ae3b2b32:/var/www/laravel/public# ll\n...\n-rwxr-xr-x 1 root root  252 Jun 22 18:35 index.php*\n-rwxr-xr-x 1 root root  231 Jun 22 18:32 index.php___jb_old___*\n...\nroot@b691ae3b2b32:/var/www/laravel/public# cat index.php___jb_old___\ncat: index.php___jb_old___: No such file or directory\n. Update...\nFresh composer install of Laravel. Dropped Laradock in and fired it up.\nSame behavior with public/index.php.\nHOWEVER!!!!\nI CAN edit/save welcome.blade.php multiple times with SUCCESS.\nI CAN edit/save bootstrap/app.php multiple time with success as well.\nSo why am I not able to edit public/index.php multiple times. Actually, I have to restart containers to edit that file again.\n. I discovered that I have the same problem with any .php file in publiic/. I added a public/info.php and after second edit, changes were no longer persisted to container.\nCan someone please confirm whether anyone else is experiencing the same behavior?\nOpen public/index.php.\nAdd a print statement like print 'hello';, save and refresh site. See hello. Great.\nAdd another one just like it, save and refresh. See two hello's? NO!!!!!!\nSame thing happens when I added info.php.\nDo you see a similar behavior? \n. So in order for me to see multiple edits to a file in public/, I have to restart nginx using: docker-compose restart nginx.\nIn the interests of tracking this issue down, I also tried without success a suggestion elsewhere related to changing in nginx/nginx.conf from sendfile    on; to sendfile    off;.\n. Running Windows native Beta. \nI open laravel/public/index.php.\nAdd print 'hello 1';\nSave.\nRefresh page and see hello 1.\nEdit same file and change to hello 2'\nSave.\nRefresh page and still see hello 1.\nI stop/start docker-compose.\nRefresh page and now see hello 1.\nBTW, I am running a scaled down version of this repo using a repo I created: phpdock to better document a Laradock inspired php dev stack with PHPStorm debug configured. But I experienced the same behavior in Laradock.\nI also just confirmed that it appears to only be files in /public DIR. I can repeatedly edit for example, app/bootstrap/app.php with no prob.\n. I found the solution!! :)\nhttp://stackoverflow.com/a/27449850/913295\n. Can't say exactly which ones, but I removed a lot of images from related laradock builds and retried the above and it now starts without errors! :)\n. I think that is a GREAT idea! \nI and no doubt others would prefer to be able to startup LaraDock with the ability to start debugging from the host out of the box, in my case Windows, against 'remote' docker-container. One reason for creating laravel-laradock-phpstorm is to be able to document the configuration for myself as well as invite input from others who may suggest a better way to accomplish this. \nFor example, I added supervisor to php-fpm in order to automatically launch ssh. Is there a better way?\nWould you be interested to discuss further via Skype or Hangout?\n. Found a much more elegant solution for full debugging in PHPStorm without having to ssh into the php-fpm container. Instead, I enabled ssh in the workspace container.  laravel-laradock-phpstorm \n. Please delete this Pull Request. I found a more elegant solution to achieve this. I will submit a Pull Request ASAP. Thank You \n. At the moment, what I am doing is as follows. Needs more work to accommodate multiple sites:\nCreated a bash script in laradock/initMySqlDbs. It contains:\n```\n! /bin/bash\nGrab full name of mysql container\nDB_CONTAINER=$(docker-compose ps | grep mysql | cut -d\" \" -f 1)\ndocker exec -i $DB_CONTAINER mysql -uroot -proot < mysql/sites/cpo/schema.sql\ndocker exec -i $DB_CONTAINER mysql -uroot -proot < mysql/sites/cpo/test_schema.sql\ndocker exec -i $DB_CONTAINER mysql -uroot -proot -e\"show databases\"\n```\nLater will look at looping through all mysql/sites/ to handle variable number of site/dbs.\nThoughts?\n. @Mahmoudz I'll put something together to get things started on this.\n. Regarding frameworks, each has it's own method to install. Usually a composer installer is available. That is what LaraDock does with Laravel. See workspace/Dockerfile. What is really important is a way to provide webserver virtual hosts support. To be robust, what ever is provided should be accommodated across all webservers that are supported, right? \n. Anything that needs to install proprietary services should come with a global switch, right?\n- INSTALL_<FRAMEWORK>=false\n. I was looking to find the 'best practice' for initializing custom databases. Here is an example.\n. This PR works well for simple sites however, I had to create a directory for nginx/includes as well. Note a snippet from my DockerFile:\nADD nginx.conf /etc/nginx/\nCOPY sites-available/*.conf /etc/nginx/sites-available/\nCOPY includes/* /etc/nginx/includes/\nNotice how this is used in one of my site conf's:\n```\nserver {\nlisten 80;\nlisten [::]:80;\n\nserver_name nb noblood.org;\n\nset $doc_root '/var/www/nb';\nset $nbapi_path \"$doc_root/api/public\";\nset $nbhome_path \"$doc_root/home/public\";\nset $nbforum_path \"$doc_root/forum/public\";\nset $nbanswers_path \"$doc_root/answers/public\";\nset $nbdirectory_path \"$doc_root/directory/public\";\nroot $nbhome_path;\n\n\nindex index.php index.html index.htm;\n\nindex index.php;\ncharset utf-8;\n\naccess_log    /var/log/nginx/nb.access.log;\nerror_log    /var/log/nginx/nb.error.log warn;\nrewrite_log on;\n\n\n# Order matters\ninclude /etc/nginx/includes/nbhome_redirects.conf;\ninclude /etc/nginx/includes/nbforum.conf;\ninclude /etc/nginx/includes/nbanswers.conf;\ninclude /etc/nginx/includes/nbdirectory.conf;\ninclude /etc/nginx/includes/nbapi.conf;\ninclude /etc/nginx/includes/nbhome.conf;\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\n}\n```\n. Thanks for the catch. :) \n. @tjb328 are you available on gitter?\n. What do you think about:\nworkspace:\n        build:\n            context: ./workspace\n            args:\n                - INSTALL_MONGO=false\n                - INSTALL_XDEBUG=false\n                - INSTALL_NODE=false\n                - INSTALL_DRUPAL=false\nThat way all that Drush stuff won't be dumped on Laravel Devs. \nThoughts?\n. Are you using gitbash or vanilla CMD?\n. I created a function and put it in ~/.aliases which is loaded by ~/.bashrc:\nfunction dcx()\n{\n    DCX_CONTAINER=$(docker-compose ps | grep \"$1\" | cut -d\" \" -f 1)\n    echo Bashing into: $DCX_CONTAINER\n    winpty docker exec -it ${DCX_CONTAINER} bash\n}\nI have other aliases beginning with dc that stand for docker-compose. \ndcx means docker-compose EXECute. :)\nThen I run:\n$ dcx workspace\nAnd it drops me into:\nroot@c5e8eb4f0608:/var/www/laravel#\n. Actually as I look at this function, probably better to name it dcbash. :)\n. ~/.bashrc or ~/.profile\n/c/Users//[.bashrc | .profile]\nTry .bashrc first.\n. @reypm \ndocker-compose.yml\n```\nLaravel Application Code Container\nvolumes_source:\n    build: ./volumes/application\n    volumes:\n        - ../:/var/www/laravel\n\n```\nThis shows laravel is somewhere like: /c/Users/laravel/laradock.\nI have sharing of C turned on in Docker settings. I put my stuff /c/_dk/laravel/laradock.\n. Something like /d/Sites/laravel.\nOn Thu, Aug 18, 2016 at 7:00 AM ReynierPM notifications@github.com wrote:\n\n@LarryEitel https://github.com/LarryEitel perfect, I get it, now, lets\nsaid I want to put all my sources under D:\\Sites\\laravel do I need to\nmodify something on the docker-compose.yml? If so ... what? Also I need\nto share my D drive in Windows from Docker config, right?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/241#issuecomment-240715480,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AASQ1fd_2s3V0EU5k9sCSh6YT3TMYyBmks5qhFdugaJpZM4JnBfp\n.\n. I recall reading about that. I am all in favor of anything that will make it easier to accommodate multiple sites. :) I will review ASAP.\n. @tjb328 Thanks for the tip. :)\n. I am also confirming this with the latest laradock. I removed all laradock_ containers and images and restarted docker as well.\n\ndocker-compose up -d mysql nginx\n```\nCreating laradock_volumes_source_1\nCreating laradock_volumes_data_1\nCreating laradock_mysql_1\nCreating laradock_workspace_1\nCreating laradock_php-fpm_1\nCreating laradock_nginx_1\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (fa628c2c44fd43467db7ab6fc87b4501f616b512371ae7fbaa2dfc9340dbd32b): Error starting userland proxy: Bind for 0.0.0.0:443 failed: port is already allocated\nEncountered errors while bringing up the project.\n```\n```\n          Name                        Command              State             Ports\n\nlaradock_mysql_1            docker-entrypoint.sh mysqld   Up         0.0.0.0:3306->3306/tcp\nlaradock_nginx_1            nginx                         Exit 128\nlaradock_php-fpm_1          php-fpm                       Up         9000/tcp\nlaradock_volumes_data_1     /true                         Exit 0\nlaradock_volumes_source_1   /true                         Exit 0\nlaradock_workspace_1        /sbin/my_init                 Up         0.0.0.0:22->22/tcp\n```\nWhile this problem exists with latest LaraDock on my laptop, I AM running OK with a slightly older version of LaraDock on my workstation. Don't know exactly what is causing problem at this point.\n. I wiped LaraDock CLEAN and am failing to fire up mysql nginx on my Dell Windows 10. This looks interesting: https://github.com/docker/docker/issues/22614\n. Don't have apache running on my host but I found the culprit!!!! Skype!!!\nSee: http://superuser.com/a/125459/187185\n. Sorry for the polluted pull request. It brought along previous commits. However, ultimately only two files are affected. One new and one altered.\nI discovered that although ssh was enabled and running in workspace, it wasn't exposing port 22. Also, in order for Windows users of PHPStorm to connect to 'remote' workspace, it needs a puttygen-converted version of insecure_id_rsa private key. So I created one and added it to workspace folder. I was then able to rebuild and debug within PHPStorm. I updated my repo to reflect more PHPStorm configuration examples.\n. @oprudkyi Exposing this port is important for remote debugging. If it conflicts, just map it to an unused port, i.e., \"2200:22\". Plus you may want to connect via a terminal other than docker-bashing into it. :)\n. @oprudkyi You are right. That is why a PR was just merged to remove port 22 from php-fpm container. :) I think I was the one to submitted a PR that was merged that added that port. :( Still wiping the egg off of my face!!! :(\n. Thanks for the input. Only thing is that docker-compose down did not remove laradock_* images. I could use this function to simplify the script.\nThoughts?\n. I see a possible advantage of not using docker-compose down in that it would work on any LaraDock-based projects. You don't have to be standing in a laradock folder.\n. @WDZThorn Could you verify this merge works for you? Then this issue can be closed. :)\n. Please remove the reference to port 22 in docker-compose / php-fpm container and rebuild it. While you may want to connect to workspace on port 22, you shouldn't need to with php-fpm.\n. If you use Skype, check Tools/Options/Advanced/Connections and make sure ports 80/443 are not checked. Also, make sure you do not have some other web-server running on your host.\n. Interesting... Try starting only nginx. \n. Try changing in docker-compose / workspace container the port reference from \"22:22\" to something like \"2200:22\".\n. @douglascorrea Actually it IS needed for those who need to do 'remote' debugging such as when using an IDE like PHPStorm. The IDE actually connects to PHP remotely via, in this case, port 22. IF that port is needed by another app/service, just map it to an unused port, for example, \"2200:22\".\n@SilverPaladin php-fpm exposes port 9000 by default. No need to explicitly, do so in docker-compose.\n. Curious, did completely remove all LaraDock containers and laradock_* images and then restart? I don't see how/why php-fpm would have a reason complain about port 2200! :(\n. It should be a non-issue at this point because a PR was merged that removed port 22 from php-fpm. :)\n. @sakanaproductions If you removed port 22 from php-fpm, then your port 22 conflict would be with workspace right? But if you map workspace port 22 to another port, I don't understand why/how you would still have a problem. For what ever it is worth, please make sure you completely remove and rebuild all images and containers. I sympathize with your frustration. When things work, it is GREAT!! :)\n. Found this in the docs:\nopcache.validate_timestamps boolean\nIf enabled, OPcache will check for updated scripts every opcache.revalidate_freq seconds. When this directive is disabled, you must reset OPcache manually via opcache_reset(), opcache_invalidate() or by restarting the Web server for changes to the filesystem to take effect.\nopcache.revalidate_freq integer\nHow often to check script timestamps for updates, in seconds. 0 will result in OPcache checking for updates on every request.\nThis configuration directive is ignored if opcache.validate_timestamps is disabled.\n. Noticed that this question was asked and answered here.\n. You want the IP of your Docker Container. \n. Are you trying to view laravel running in your browser? Dockerhost is only needed for xdebug would be running in workspace to 'talk' to PHPStorm on port 9000.\n. Do you see php-fpm running? If so, you should be able to browse to the IP of the Docker container and see Laravel. If not, what specifically is the error message?\n. Happy to help. Been traveling for three weeks. Trying to catch up on stuff. Will get to this ASAP. :)\n. I see no reason to hold back from merging this PR especially if you have confirmed the issue. I will work to get caught up with LaraDock and further confirm your PR is good. :)\n. Now I recall noticing seeing the same thing. It DOES need the double quote. \nI hit a bump in the road and am unable to remote debug laravel as before. Have not tracked down why. I CAN debug unit tests though. Once I resolve that problem I will be able to give more attention to this.  :)\n. In the Interpreters Form / Additional:\nDebugger extension: /usr/lib/php/20151012/xdebug.so\nThat way xdebug is only added to php when PHPStorm is running tests.\n. First bash into workspace container.\nI prefer to SSH directly into workspace however you can also do so from anywhere as long as you have the container running if using Windows:\nwinpty docker exec -it $(docker-compose ps | grep workspace | cut -d\" \" -f 1) bash\nRemove winpty if not.\nGrab location of installed modules/extensions:\nphp -i | grep extension\nYou should see something like:\nextension_dir => /usr/lib/php/20151012 => /usr/lib/php/20151012\nGet list of extensions:\nls /usr/lib/php/20151012\nI get:\nbuild        fileinfo.so  json.so       mysqlnd.so     pgsql.so      sockets.so    wddx.so       zip.so\ncalendar.so  ftp.so       mbstring.so   opcache.so     phar.so       sqlite3.so    xdebug.so\nctype.so     gd.so        mcrypt.so     pdo_mysql.so   posix.so      sysvmsg.so    xmlreader.so\ncurl.so      gettext.so   memcached.so  pdo_pgsql.so   readline.so   sysvsem.so    xml.so\ndom.so       iconv.so     msgpack.so    pdo.so         shmop.so      sysvshm.so    xmlwriter.so\nexif.so      igbinary.so  mysqli.so     pdo_sqlite.so  simplexml.so  tokenizer.so  xsl.so\nBadda BOOM! :)\n. This is an initial crack at providing a guide to debugging Laravel in PHPStorm. Although it will be useful to anyone interested, it is not considered a release version. I felt it important to get SOMETHING on the table sooner than later. :) It would be great if other users of PHPStorm could follow this guide to confirm whether this guide is complete and accurate.\n. @Mahmoudz I think it is pretty clean now. Don't hesitate to share any suggestions/corrections. \nOne thing that could be done would be to squash commits. :)\nOne more thing that I find useful is to have a branch off of my fork which is all configured/wired up for debugging. Then all I have to do is merge from master as needed. Here is an example LarryEitel/laradock/tree/phpstorm-debug for anyone interested.\n. I agree with the idea to set/override all config values through .env. As for this debugging guide, I made a branch although it only consists of a guide. I made a branch on MY fork to set appropriate values to verify debugging works. This would not be necessary if these values could be read from .env. \nI DO wonder if docker-compose will behave well if it sees no change in the actual .yml file.\n. Actually, I verified the debug guide works with current LaraDock. It doesn't affect any functionality. It only provides guidance to get debugging working. If/when anyone has a further question, I will try to update/adjust accordingly.\n. @philtrep OK, good to go. :)\n. Sorry for the delay. Everyone keeps throwing more rocks on my pile!!!\nI pulled down the latest just now and ran the command from ../laravel/laradock:\n./xdebugPhpFpm status\nIt returned:\nxDebug status\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/local/lib/php/extensions/no-debug-non-zts-20151012/aeros\npike.so' - /usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so: cannot open shared object file: No such\n file or directory in Unknown on line 0\nPHP Warning:  PHP Startup: Invalid library (appears to be a Zend Extension, try loading using zend_extension=opcache.so\nfrom php.ini) in Unknown on line 0\nPHP 7.0.9 (cli) (built: Aug 10 2016 19:45:48) ( NTS )\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\nI thought the Unable to load ... aerospike.so was previously resolved. Anyway, I do not see a Permission denied error. \nCurious, did you switch on xdebug for php-fpm in the docker-compose.yml file? \nphp-fpm:\n        build:\n            context: ./php-fpm\n            args:\n                - INSTALL_XDEBUG=true\n. Dumb question... you are running ./xdebugPhpFpm status from the host prompt rather than Inside php-fpm container?\nWhat OS are you running Docker on?\n. So to be clear, the command should be run from the same prompt where you run docker-compose. :) Not Inside any of the running containers.\n. PHP in php-fpm is what is used by web server and is what is controlled by ./xdebugPhpFpm. PHP in workspace is what is used when running php unit tests.\n. Check out a Pull Request I submitted: phpstorm-guide. That may give you some ideas. This branch actually has various settings switched on. In other words, this branch actually is fully configured to successfully debug in PHPStorm. Hope this helps.\n. Your dockerhost IP appears to be your local network IP. You would need to make sure that port 9000 is open or PHPStorm app is open in firewall.\nDo you get some kind of error like \"Failed to connect to xdebug\"?\n. Can you find your docker host IP? Mine is 10.0.75.1 Here is one way on Windows:\n\n. Almost positive that your firewall is blocking port 9000. I actually installed telnet in php-fpm to conveniently verify I was able to connect to PHPStorm. \nAlso, you DO have PHP remote debug running right?\n. Did you change to 10.0.75.1? Otherwise you will not be able to reach your local IP unless you configure your router to route traffic from public to your local IP.\n. https://raw.githubusercontent.com/LarryEitel/laradock/phpstorm-debug/_guides/photos/PHPStorm/DebugRemoteOn.png\nIs this running in your PHPStorm?\n. Unselect the 'phone' icon. :)\n. When you run ./xdebugPhpFpm status from laradock folder does it say the xdebug is enabled?\n. I just realized that you said that you cannot connect xdebug when running unit tests. You don't need to have remote debugging on for that.\n. Curious, are you running on a MAC?\nAlso, how about we focus on unit test debugging first. Turn of Remote debugging. Right-click on ExampleTest and select debug.\n. -dxdebug.remote_host=172.18.0.1 \nwhere is that IP? \nAre you available on Skype?\n. I am very glad that you are up and running. I will further refine the guide per your observations.\nI assume that you can now close this issue. :)\n. The insecure_id_rsa.ppk was generated using puttygen. I have encountered same and resolved it by rerunning puttygen insecure_id_rsa and saving a new version of .ppk.\n. WOW I was just struggling with this one on a new project! Thanks! :)\nI just ripped out all the comment lines embedded in run blocks for now. :). I fork and then create a branch on top of that. That way I always have a convenient reference point. Just merge updated master into your branch.. What is the exact error message?. Here is 'a' way to find the correct IP for laravel that you would place in your hosts file:\n. I run on Windows 10. I wonder if anyone using MacOS can respond to this.. I am aware of at least one other MacOS user that was unable to connect to local IP from Docker Contain. Never heard anything further.\n. Lesson learned... socketio:3000 or whatever port you chose must be reachable from browser.. Same issue here. Guess I have to run an earlier version of Windows Docker for now. :(. Good catch! Meant to indent Start/Stop xDebug!! I will submit correction PR.\n. ",
    "EricTendian": "I have a pretty easy way to do it, at least for local development. My solution: https://github.com/EricTendian/laradock/commit/b4d79969d16e107048ef04126774d1d4fa6c9790\nThis multiproject_docker-compose.yml file I copied from Laradock's docker-compose.yml file. It has some changes, as you can see in the diff, that allow for multiple projects to use it at once.\nIf you want to try it out for yourself:\n1. You must have an existing Laravel project.\n2. Add my repo as a submodule in your Laravel root directory: git submodule add https://github.com/EricTendian/laradock.git\n3. While still in your Laravel root directory, run cp laradock/multiproject_docker-compose.yml docker-compose.yml to copy multiproject_docker-compose.yml into the root directory.\n4. Start the services you need with docker-compose up -d {service-name} like docker-compose up -d nginx\n5. Now that your services have started, run docker-compose ps to see the port mappings. A line like 0.0.0.0:32790->443/tcp, 0.0.0.0:32791->80/tcp means that you should use http://127.0.0.1:32791/ to visit the nginx server. Why this strange port? As you have multiple projects, you don't want each nginx container to bind to port 80 so I changed \"80:80\" to \"80\" which will bind the container's port 80 to a random available port number on the host. This will change on every up/down cycle, which can be annoying.\nTo avoid the annoying business of changing ports, you could change \"80\" back to something like \"12345:80\" and then visit port 12345 each time (this applies for all other ports). There's also Docker DNS servers like https://github.com/duck1123/dnsdock (I've found that fork to work, the main one isn't) which will hook into your Docker networks and resolve container IPs.\nAnyway, this method isn't production ready either, but it's my simple solution for being able to use Laradock on multiple projects.\n. ",
    "midascodebreaker": "i hope adding new site is simple as serve sitename.com /pathtositename/public like laravel homestead...\n. is there a windows version of this docker sync? more or less this is something link turning nfs On for that folder if im not mistaken? im also looking for this option...\ni know how to do it in windows , homestead installation but docker / laradock it is somewhat missing in the documentation...\n. how about if you need nginx , how can you do it also with caddy side by side?\n. the only thing i did to resolve it , is commenting out mongo db extension, coz im not even using mongo db... but even when i try to docker-compose up mongo , it still has that issue ...\n. i dont think there is a documentation about docker beta...\nive tried that approach before i but i revert back to docker toolbox...\nsimply because its on beta, and i cant even use my virtual box because of hyperv issue\ncoz i have existing project that runs on homestead...\nbut as i watch video , there is no more docker-machine ip command , coz it becames native\nbut i also learn that you can use docker.dev on windows and local.docker.dev on mac...\nwhich is automatically generated for you when you do docker-machine start\ntry to view it on docker.dev\n. check my guide @carraroenrico \n. Added Some More Tips , Like Using Let;'s Encypt SSL Certificate...\nHope this Helps Many People\n. glad you like it thanks\n. Solved it already added to the guide\n. ",
    "tjb328": "More info on Multi Site. I closed the other issue I opened because I didn't realize this one was still open.\nhttp://blog.dubizzle.com/boilerroom/2016/08/18/setting-development-environment-docker-compose/\n. I am new to docker and this was a pain point for me. I tested this solution and it has been working great for me. This has worked well with laravel projects and I was able to edit the site_*.conf file to easily use it with drupal projects as well.\nThe one thing I would like is a clean way to add multiple mysql databases, but I believe this is beyond the scope of #54 and may require another PR.\n. @Mahmoudz This is a start on making LaraDock framework agnostic, but it requires the user to make a new site_*.conf file for each framework. I also had to add some code to install drush and opcache to get a proper drupal dev environment\nPR's could be accepted in an example folder for the conf files.\nSo the one I am using for Drupal 8 is like this:\n```\nserver {\n    listen 80;\n    listen [::]:80;\nserver_name  site_a.dev;\nroot /var/www/site_a;\nindex index.php;\n\n\nlocation / {\n    try_files $uri $uri/ /index.php?q=$uri&$args;\n}\n\nerror_page 404 /404.html;\nerror_page 500 502 503 504 /50x.html;\nlocation = /50x.html {\n      root /var/www/site_a;\n}\n\nlocation ~ [^/]\\.php(/|$) {\n    fastcgi_split_path_info ^(.+?\\.php)(/.*)$;\n    if (!-f $document_root$fastcgi_script_name) {\n        return 404;\n    }\n\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\n}\n```\n. @LarryEitel I believe what you said above about virtual host support across all webservers is what we should strive for.\n. @khoaspark that is the same thing that @LarryEitel did in this PR.\n. Good idea. Let me get another commit put together. I'll also include some changes for opcache.\n. I didn't realize that issue #54 was still open. I'm closing this and adding this info to that issue.\n. ",
    "jfoliveira": "Hi @Mahmoudz,\nI followed the steps in the doc for setting up multiple projects but I'm unable to access http://project1.dev from the host (Mac OS X El Capitan).\nIs there any step missing on the doc?\nThe nginx/sites setup seems to be correct, as verified with the commands below:\n``` bash\nconnect to the nginx container\ndocker-compose exec nginx bash\ninstalls curl, if not yet installed\napk add curl \nretrieves project1 home page\ncurl http://project1.dev # successful response\n```\nAny ideas why http://project1.dev is not accessible when browsing from the host?\n. Of course I was forgetting some very simple step: I fixed by editing /etc/hosts file adding new entries for my new projects:\n127.0.0.1   project1.dev\n127.0.0.1   project2.dev\nThis did the trick! Thanks!\n. For me it only worked using the YAML array notation, as below:\n```yaml\n    mysql:\n        build: \n            context: ./mysql\n        environment:\n            - MYSQL_DATABASE=homestead\n            - MYSQL_USER=homestead\n            - MYSQL_PASSWORD=secret\n            - MYSQL_ROOT_PASSWORD=root\n        volumes:\n           - ../my/data/folder:/var/lib/mysql\n        ports:\n            - \"3306:3306\"\n```. ",
    "Bonobomagno": "I think that this is still an issue, or at least a non documented case.\nWhat we need is that every project run on own ip, so no need to change the port.\nAnd in front af all, reverse proxy. The idea is to add non only port:80 to etc/host, but also adminer/phpmyadmin and other tools.\nex: using adminer.dev  ( as one usually do on vagrant) instead of 127.0.0.1:8080\nI think this must be the  default. \n. Omg! I was searching this for a while. Thank for the commit!\nI suggest a different top level. something unique like .docker or .laradock \nThis becouse sometimes .dev and .local are in use on other vm usually.\nedit:\nneed some fix becouse of 503 error. Why still pending?. ",
    "matjaeck": "Are there multiple hosts files?\n\n4 - Add the domains to the hosts files.\n. \n",
    "theseanstewart": "Yes, the error is clear, which is why I mentioned in the original post that I tried generating a new key. Maybe I should have been more clear. \nI have confirmed that it is set in the .env file. I tried manually setting it in app/config.php. I confirmed that it was set by running php artisan tinker and outputting the value of env('APP_KEY'). \nI also just created a new Laravel project from scratch. Same error.\n. ",
    "Gummibeer": "@Mahmoudz PR is done - check if it is ok for you. ;)\n. ",
    "parkshinhye": "@Mahmoudz  i use defalut Config; i run docker-compose up  nginx mysql redis \nerrors is application  containers \n. @Mahmoudz  \n\ndocker version\n\n```\nClient:\n Version:      1.11.1\n API version:  1.23\n Go version:   go1.5.4\n Git commit:   5604cbe\n Built:        Wed Apr 27 00:34:20 2016\n OS/Arch:      windows/amd64\nServer:\n Version:      1.11.1\n API version:  1.23\n Go version:   go1.5.4\n Git commit:   8b63c77\n Built:        Mon May 23 20:50:37 2016\n OS/Arch:      linux/amd64\n```\n\ndocker-compose version \n\ndocker-compose version 1.7.1, build 0a9ab35\ndocker-py version: 1.8.1\nCPython version: 2.7.11\nOpenSSL version: OpenSSL 1.0.2d 9 Jul 2015\n. @Mahmoudz \n I am Chinese users, for some inexplicable reason, I will build field image instead, to use the docker images\nI am using is ali cloud docker automated build service!!!!!!\nI think this is not the cause of this error!!!!!!!!!\nAli cloud automated build docker version for 1.10.3\n. @Mahmoudz\nDockerfile\nworkspace:\n        image:  registry.aliyuncs.com/parkshinhye/workspace\n        volumes:\n            - ./web:/var/www\n        tty: true\n. @Mahmoudz It could be 10, Windows docker, docker beta, VirtualBox between bugs,\nIt is possible that the server automatically build the bug,\nI changed the Windows 7 with hub.docker.com an automated build, run docker, no bug,\nSo, I'm sorry to disturb you\n. ",
    "lialosiu": "@parkshinhye It maybe not a bug, but a mistake.\nI have same issue today, and I found the problem is I changed docker-compose.yml files to \n``` yml\nLaravel Application Code Container\napplication:\n    build: ./application\n    volumes:\n        - ../:/var/www\n\n```\nremoved /laravel subfolder\nwhen I run docker-compose up application, will throw this: ERROR: for application Container command 'true' not found or does not exist.\nBecause in application\\Dockerfile file, WORKDIR /var/www/laravel\nThat mean if the image dockerfile workdir NOT EXIST, CMD [\"true\"] will let you got ERROR: for application Container command 'true' not found or does not exist..\n. same problem,  and $ vendor/bin/phpunit work fine.\n. oh, I see a PR #474 already opened to fix this problem... forget me :). ",
    "abyshakes": "@Mahmoudz yes this fixes this specific issue, but I haven't tested out all the containers as yet :) I'm still getting my hands around docker and I'm still picking up stuff from your work. Awesome idea !! Thanks for sharing, I'll contribute in any way I can help.\n. ",
    "sasuke6": "Thanks a lot!\n. @tristanbailey docker ps -a,I can not see the workspace,But the Laradock is based on the laravel project,I create a project laravel and git clone in the directory,the.env I have update\n. @AminMkh Thanks for your advice!I have checked the logs,but there is still not information for the workspace.May I have some mistake in setting laravel's file .env?However,I also can see the laravel page.\n. @AminMkh  Thanks for your help,there is my logs\ndocker-compose up nginx mysql\nStarting docker_data_1\nStarting docker_php_1\nStarting docker_mysql_1\nStarting docker_nginx_1\nAttaching to docker_mysql_1, docker_nginx_1\nAnd\n```\ndocker-compose ps\n       Name                          Command                State                  Ports\n\n\ndocker_beanstalkd-console_1   /bin/sh -c bash -c 'BEANST ...   Exit 137\ndocker_beanstalkd_1           /usr/bin/beanstalkd              Exit 137\ndocker_data_1                 true                             Exit 0\ndocker_mariadb_1              docker-entrypoint.sh mysqld      Exit 1\ndocker_memcached_1            /entrypoint.sh memcached         Exit 0\ndocker_mysql_1                docker-entrypoint.sh mysqld      Up         3306/tcp, 0.0.0.0:3307->3307/tcp\ndocker_nginx_1                nginx                            Up         443/tcp, 0.0.0.0:80->80/tcp\ndocker_php_1                  php-fpm                          Up         9000/tcp\ndocker_postgres_1             /docker-entrypoint.sh postgres   Exit 0\ndocker_redis_1                docker-entrypoint.sh redis ...   Exit 0\n```\nAnd absolutely\ndocker-compose logs workspace \nERROR: No such service: workspace\nLast,\ndocker -v\nDocker version 1.11.1, build 5604cbe\nAbove all\n. @AminMkh Oh,it is!The workspace in docker-compose.yml is not existed! But why I can see the laravel page?My step is that,first I use composer to install laravel and change the .env file,such as \nDB_HOST=192.168.99.100\nREDIS_HOST=192.168.99.100\nI think it is the reason I can access the laravel page although the workspace is not existed.Because I have install the laravel project \n. It is OK,because I use the other tutorial,their solution is not following you.I think it is not a bad solution,the container and Laravel project is separation.The IP address is associated with Laravel.\n. ",
    "jakelacey2012": "Hi I had this issue, this fixed it for me.\nI'm just wondering if this happens every time for every developer? If so could we add this to the documentation? \n. ",
    "saumya04": "@Mahmoudz How can I change my mysql password. I've tried changing the password from docker-compose.yml file but the changes doesn't seems to be reflected. Can you help me with it.\n. @appleboy I've tried that already, its not working yet!\n. ",
    "appleboy": "@saumya04 Delete your container and rebuild again.\n$ docker-compose down\n$ docker-compose up\n. @kayrules Where is your laravel public folder? 404 page not found should not happen on laravel project but it always happens on CodeIgniter project if your index.php file in /var/www folder.. @Mahmoudz I got your point. Thanks.\n. @Mahmoudz \nThanks for your merge quickly.\n\nCan you pull the latest release and confirm that xdebug is working (for me it seems working perfectly).\n\nI will check it.\n\nAlso would be helpful if you can write some instructions on how are you using xdebug, in order to include them in the readme.\n\nI will create new repo to write testing example using laradock with travis service.\n\nFinally do you think we need xdebug in workspace container for the PHP-CLI.\n\nI think it would be better to add xdebug in workspace container if you need coverage report. I will create another PR to add xdebug extension. OK?\n. You remove docker machine? or run docker-compose down?\n. @fanly Please try this PR https://github.com/LaraDock/laradock/pull/111 in workspace container.\n. @zysoo see the https://github.com/LaraDock/laradock/pull/111 PR\n. @Mahmoudz close this issue? v2.4.3 support new node and npm version.\n. @Mahmoudz close this issue? v2.4.3 version turn off xdebug as default behavior and only support phpunit command with xdebug extension.\n. @Mahmoudz @Kauhat \nI would like to create new PR about support nvm tool which provide stable node version and npm@3 version and remove install node from apt command.\nAny thoughts?\n. @Kauhat If you agree with my approach, I think you can close this issue. I will implement the nvm tool on Docker right now and send the new pull request to support npm@3 version.\n. @Kauhat Thanks.\n. workspace:\n        build: ./workspace\n        volumes_from:\n            - application\n        tty: true\n        links:\n            - mysql\nlink mysql to your workspace container and change DB_HOST to mysql value.\n. @Mahmoudz OK. I will check again.\n. It is working on v2.4.3 tag branch.\n\n. @AminMkh You are right. I will improve the readme and send another PR.\ncc @Mahmoudz \n. @Mahmoudz Do you have any opinion?\n. If you upgrade 5.6 dockerfile, you must do the same way with 5.5 and 5.7 version.\n. @zhikiri Please close this issue. https://github.com/LaraDock/laradock/commit/de6db93da8b08425a3e70726385a9144e4334524\n. @lozadaOmr Maybe change DB_HOST value to mysql in your workspace container.\n. try docker-compose down command to remove all container and docker-compose up -d to create all new container.\n. @neon64 Could you provide detail information or some example code? Thanks.\n. @neon64 I will try intervention/image out.\n. @neon64 Please try v2.6.2 version.\n. @andrewelkins Please create another issue, post your example code and provide your laradock version.\n. @yewjs @Mahmoudz I create new PR to improve php 5.5 and 5.6, please see #144 \n. I like this feature. \ud83d\udc4d \n. Send PR https://github.com/LaraDock/laradock/pull/294\n. @Mahmoudz Catch point. \ud83d\udc4d \n@ojhaujjwal Change folder user permission as your nginx or apache user.\n. Let's Encrypt SSL Certificate ++\n. LGTM\n. @nojaf Yes, you need switch to laradock user. Please close this issue.\ncc @Mahmoudz \n. @Mahmoudz I can write the document for phpMyAdmin.\n. @partenit @Mahmoudz  Please help review this PR https://github.com/LaraDock/laradock/pull/250\n. \ud83d\udc4d \nhttps://hub.docker.com/r/tianon/true/\n. Please show your docker ps log.\n. Please try the following command and show the output log messages.\nbash\n$ docker-compose up phpmyadmin\n\n. @everaldo Please provide docker engine version.\n. @everaldo @bvbunnik I create new PR to fix this issue. Please help to verify patch file.\n. You just execute docker-compose down to remove all laradock container.\n. @LarryEitel docker-compose down just remove all containers not include images.\n. @mbasfour Could you close this issue?\n. @johndiego Please switch to laradock user.\n$ su - laradock\nPlease see the detail information https://github.com/LaraDock/laradock/issues/243\n. @partenit @Mahmoudz \nI think the better way was to change the Application Timezone setting in config/app.php not to overwrite /etc/localtime file on workspace container.\n. > @appleboy thank you, my idea not about application timezone settings - i'm already use them.\n\nfor example, i may run cron tasks in workspace container and i want correct time settings for this.\n\nIf you want to run cron tasks in workspace container. You can edit docker-compose config by yourself not add /etc/localtime:/etc/localtime setting in laradock project.\n. Try the following steps.\n``` bash\n$ mkdir ./data/mysql\n$ docker-compose run -d mysql phpmyadmin\non workspace container.\n$ php artisan migrate\n``\n. @reypm I prefer the commandapt-get install php55-xdebug` in your dockerfile. Or you can try the following configuration.\n```\n\nxDebug:\n\nARG INSTALL_XDEBUG=true\nRUN if [ ${INSTALL_XDEBUG} = true ]; then \\\n    # Install the xdebug extension\n    pecl install xdebug && \\\n    docker-php-ext-enable xdebug \\\n;fi\nCopy xdebug configration for remote debugging\nCOPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n```\nI think it could be work for PHP55-FPM image.\n. @reypm I will fix the duplicate of docker-php-ext-install gd command.\n. What is your laradock version?\nI try to install workspace and enable INSTALL_NODE flag in laradock master branch version.\nbash\n$ docker-compose build --no-cache workspace\nIt is working for me. The following is my screenshots.\n\n. @philtrep Nice Improvement.\n. confirmed this issue. \n. @LarryEitel I created new PR. Waiting for your response.\n. @LarryEitel In workspace container. I got the different result from PHP_IDE_CONFIG variable.\nThe PHP_IDE_CONFIG=\"serverName=laravel\" environment variable. It will output \"serverName=laravel\".\nThe PHP_IDE_CONFIG=serverName=laravel environment variable. It will output serverName=laravel without double quote.\n$ export PHP_IDE_CONFIG=\"serverName=laravel\"\n$ echo $PHP_IDE_CONFIG\nserverName=laravel\n$ export PHP_IDE_CONFIG=\"\\\"serverName=laravel\\\"\"\n$ echo $PHP_IDE_CONFIG\n\"serverName=laravel\"\nI think we don't need the double quote in PHP_IDE_CONFIG variable.\n. Try the following steps:\nremove all container:\ndocker-compose down\nrebuild container with --no-cache flag:\ndocker-compose build --no-cache nginx mysql\n. Try the following format of environment:\nmysql:\n        build: ./mysql\n        volumes_from:\n            - volumes_data\n        ports:\n            - \"3306:3306\"\n        environment:\n            MYSQL_DATABASE: JenkinsJobTest\n            MYSQL_USER: test2\n            MYSQL_PASSWORD: password1\n            MYSQL_ROOT_PASSWORD: password1\n. Please update as following.\ndiff\n        ports:\n-           - \"3306:3307\"\n+           - \"3307:3306\"\n. I can't reproduce this issue.\n$ docker-compose build --no-cache nginx\nBuilding nginx\nStep 1 : FROM nginx:alpine\n ---> 935bd7bf8ea6\nStep 2 : MAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n ---> Running in d7750b987830\n ---> 63f2e2351aa1\nRemoving intermediate container d7750b987830\nStep 3 : ADD nginx.conf /etc/nginx/\n ---> e1d10c567cba\nRemoving intermediate container 0a47d0c41a7f\nStep 4 : COPY sites/*.conf /etc/nginx/sites-available/\n ---> c4b332496ad2\nRemoving intermediate container 48fa5483ad81\nStep 5 : ARG PHP_UPSTREAM=php-fpm\n ---> Running in fa6f1161832d\n ---> 16d502c9142f\nRemoving intermediate container fa6f1161832d\nStep 6 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\n ---> Running in 44215163b1ed\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nv3.4.5-5-g512f81f [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]\nv3.4.4-21-g75fc217 [http://dl-cdn.alpinelinux.org/alpine/v3.4/community]\nOK: 5981 distinct packages available\n(1/8) Upgrading musl (1.1.14-r11 -> 1.1.14-r14)\n(2/8) Upgrading gd (2.2.1-r0 -> 2.2.3-r1)\n(3/8) Upgrading libcrypto1.0 (1.0.2h-r1 -> 1.0.2j-r0)\n(4/8) Upgrading libssl1.0 (1.0.2h-r1 -> 1.0.2j-r0)\n(5/8) Upgrading libgpg-error (1.22-r0 -> 1.23-r0)\n(6/8) Upgrading libgcrypt (1.7.0-r0 -> 1.7.0-r1)\n(7/8) Upgrading busybox (1.24.2-r9 -> 1.24.2-r12)\nExecuting busybox-1.24.2-r12.post-upgrade\n(8/8) Upgrading musl-utils (1.1.14-r11 -> 1.1.14-r14)\nExecuting busybox-1.24.2-r12.trigger\nOK: 54 MiB in 24 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ncurses-terminfo-base (6.0-r7)\n(2/5) Installing ncurses-terminfo (6.0-r7)\n(3/5) Installing ncurses-libs (6.0-r7)\n(4/5) Installing readline (6.3.008-r4)\n(5/5) Installing bash (4.3.42-r3)\nExecuting bash-4.3.42-r3.post-install\nExecuting busybox-1.24.2-r12.trigger\nOK: 62 MiB in 29 packages\n ---> 9cb59554236c\nRemoving intermediate container 44215163b1ed\nStep 7 : CMD nginx\n ---> Running in 5f12fc4a6555\n ---> 6b0fbc60d030\nRemoving intermediate container 5f12fc4a6555\nStep 8 : EXPOSE 80 443\n ---> Running in cc84049e7991\n ---> 1d9523a11b18\nRemoving intermediate container cc84049e7991\nSuccessfully built 1d9523a11b18\nI think you can try to download http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz first.\n. @dmassiani What is your laradock version?. @dsampaolo Thanks.\n. @darthrevan13 Thanks\n. I try to remove all workspace containers, images and rebuild again. It is working for me on tag v4.10.0\n. @jschaftenaar Please provide your packages.json config.\n. @danielsdeboer I will take this.\n. Sounds good. \ud83d\udc4d \n. @danielabbatt Thanks.. @lechengyu Could you send the PR to improve document?. @thebrubaker THanks. @philtrep @Mahmoudz  We can create new cli repo to implement feature like laradock-cli using Golang for first version which support linux, windows and darwin OS. I will take it.. @philtrep We can squash and merge this commit automatically. \ud83d\ude04 \n\n. Could we move to https://github.com/laradock/cli to discussion what features we need?. ref: https://github.com/laradock/cli/issues/1. @twlz0ne Fixed #491 . @anthuanvasquez Thanks.. @shukebeta Thanks.. looks great.. @WDZThorn Thanks. Where is rethinkdb component in docker-compose.yml?. @cristiancmello Thanks.. @cosmospham Thanks.. Can you update the README file?. Agree with @Mahmoudz \ud83d\udc4d . It is working for me.\n$ docker pull tianon/true\nUsing default tag: latest\nlatest: Pulling from tianon/true\n3934d4176d73: Pull complete\nDigest: sha256:ddd6f0608ed7fba548cced2a27bfdc00864ff95ce94c94820c4c89e5e34446ce\nStatus: Downloaded newer image for tianon/true:latest. Great news.. @gfd6th Thanks for your contribution.. @g0ld3lux Please fix some conflicts.. @g0ld3lux any updates on this?. Maybe we can follow the Contribution Guidelines of Gitea project to add more maintainers.\n\nTo make sure every PR is checked, we have team maintainers. Every PR MUST be reviewed by at least two maintainers (or owners) before it can get merged. A maintainer should be a contributor of Gitea (or Gogs) and contributed at least 4 accepted PRs. A contributor should apply as a maintainer in the Gitter develop channel. The owners or the team maintainers may invite the contributor. A maintainer should spend some time on code reviews. If a maintainer has no time to do that, they should apply to leave the maintainers team and we will give them the honor of being a member of the advisors team. Of course, if an advisor has time to code review, we will gladly welcome them back to the maintainers team. If someone has no time to code review and forgets to leave the maintainers team, the owners may move him or her from the maintainers team to the advisors team.. @philtrep @Mahmoudz @mikeerickson\n\nMaybe we need to create another repo to handle other frameworks and make this repo to be the official docker package to Laravel. Find more maintainer to handle another framework issue or there are many issues on another framework like (CodeIgniter or ...). @mylxsw Thanks.. Thanks. post your docker-compose.yml. . You should connect the database as the following config In container.\nDB_CONNECTION=mysql\nDB_HOST=mariadb\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n. In your terminal. You can try the following command to connect mysql.\nmysql -u homestead -p -h 127.0.0.1 -P 33061. fixed by #574 . @taliptako Thanks. I think you can change this setting by yourself. Laravel doesn't need to enable zip extension by default.. Thanks.. Can somebody provide reproduce commands? . Thanks.. @Mahmoudz Please help to review LaraDock -> Laradock. @ngyikp Please revert LaraDock/Laradock normalization. LGTM. vote laradock.io domain and we can use hugo Static Site Generator.. @gagarine Agree. Thanks for your explanation.. @Mahmoudz Good to hear using Hugo as website generator tool. \ud83d\udc4d . merged.. LGTM. @zwz111 Please sent PR.. Please also remove startup script.. agree @alchimik https://docs.docker.com/compose/compose-file/#environment. @stanleyli60 Please confirm this PR.. conflicts.. @gentcys Thanks. Why create a new file for single line setting?. @zuohuadong Please also add a little document.. I don't like to enable PHP Opcache as the default setting.. nice catch.. We can also discuss here https://github.com/laradock/cli/issues/1 maybe I can write CLI tool using Golang which supports Windows, Linux and MacOS.. Please add .vscode to your global .gitignore config.. Hi @Mahmoudz \nMy mistake.\n. New PR: https://github.com/LaraDock/laradock/pull/112\n. Why add indent? cc @Mahmoudz \n. @LarryEitel Thanks.\n. delete all laradock container and images\n. Why remove nvm?. agree with @philtrep . Please show detail error log, everybody can help to resolve node issue.. if [ -f \"${HOME}/.nvm/nvm.sh\" ]; then\n    export NVM_DIR=$HOME/.nvm\n    source ${HOME}/.nvm/nvm.sh > /dev/null 2>&1\n    nvm use stable > /dev/null 2>&1\nfi. remove $node_init. Same as above. Same as above. Same as above. Same as above. OK, Got it. You can use the following script in your node_init variable.\nexport NVM_DIR=$HOME/.nvm\nsource ${HOME}/.nvm/nvm.sh > /dev/null 2>&1\nnvm use stable > /dev/null 2>&1. Please also update Top Contents.. Please remove <br> and just use empty line.. Missing empty line.. and maybe change the title to Install PHP Redis Extension?. Set default as false. You forgot to update top menu.. combine to the same line?. move the following\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\ninto the following block?\nRUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = true ]; then \\\n    ....\n;fi. diff\n-COPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\nRUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = true ]; then \\\n+   COPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\n    # Install the php aerospike extension\n    curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/luciano-jr/aerospike-client-php/archive/master.tar.gz\" \\\n    && mkdir -p aerospike-client-php \\\n    && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n    && ( \\\n        cd aerospike-client-php/src/aerospike \\\n        && phpize \\\n        && ./build.sh \\\n        && make install \\\n    ) \\\n    && rm /tmp/aerospike-client-php.tar.gz \\\n;fi\nSo you don't need to add the following block\nRUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = false ]; then \\\n....\nDoes this resolve your problem.. Sorry for my mistake. You are right. Duplicate? . PHP_FPM_INSTALL_PGSQL for pgsql extension.\nPHP_FPM_INSTALL_POSTGRES for pg server.. ",
    "eperiou": "I found this command on another question, related to this topic. Supposedly it deletes the data that normally isn't deleted by deleting the old containers and images\ndocker-compose rm -v. Yes, this is because the mysql image creates a volume storing the password, so it needs to be deleted in the event that everything was not set up correctly the first time you composed. \nuse \n    docker volume ls \nand you can find it and delete it or: \n    docker-compose rm -v\nto remove the volumes created by the docker-compose before composing again. ",
    "francoism90": "This still happens to me, it doesn't update the root password set in docker-compose.xml. This issue still exists, but I don't know if this is PMA or something else, anyway as workaround:\n$ docker-compose exec mysql bash\n$ mysql -u root -p\nYou should be able to login as 'root' or your other password.\nExecute the following commands:\nALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';\nALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'root';\nALTER USER 'default'@'%' IDENTIFIED WITH mysql_native_password BY 'secret';\nThis should give you access in PMA.. ",
    "psampaz": "This would be a great feature! \n:+1:\n. ",
    "ojhaujjwal": "I like how @Mahmoudz  said it for handling multiple frameworks by defining framework name in .yml file.\n```\n    workspace:\n        build:\n            context: ./workspace\n            args:\n                - PROJECT_TYPE=laravel # or drupal or magento\nphp-fpm:\n    build:\n        context: ./php-fpm\n        args:\n            - PROJECT_TYPE=laravel\n\n```\nThen,  in Dockerfile,  we can install php extensions according to PROJECT_TYPE variable\n. @Mahmoudz Great work mate. I will create a PR for magento support soon :D \n. In that case, I am not sure how to use this in production.\nI think www-data user in nginx container should have the same user id as the one in the host owner. Similiar to how it is done in workspace container for the laravel user.\n. Can anybody create www-data user and group in nginx with $PUID and $PGID?\nI tried doing that to send a PR. But. I couldn't not find that command to do that in alpine.\n. sure man.. Done the changes.. ",
    "Mvzundert": "@Mahmoudz \nhaving these extensions be bundled under the name codeigniter is kind off weird, I'd much rather see them labeled differently to avoid confusion.\nFor example have them be under extensions or something like that. \ndocker-php-ext-install mysqli && \\\ndocker-php-ext-install tokenizer \\\nAren't necessarily things that are only tied to codeigniter. @Mahmoudz I think this should be mostly done (for now) I'd like to split up integrating other stuff like Wordpress, Symfony, Drupal etc into different branches for clarity.\nWhat I've done here:\n- Introduced .env file (with env-example) to enable you to set most options in docker-compose.yml from the env file.\n- Made the application container accept multiple folders (so no more mapping  - ../sample/:/var/www/sample or stuff like ../:/var/www which was also moved to the .env file.\n- Split up mysqli and the tokenizer into seperate options (having them under code igniter was weird since there are more things (wordpress for example) that might need mysqli and it feels very strange and hard to locate when it's under code igniter.\n- Apache docker file now also maps to /var/www instead of /var/www/public (again to support more options and not have to default to creating public folders)\n- Removed all homestead references instead I used \"default\"  (in code not in the readme's etc) again for clarity.. @Mahmoudz I feel like having a worker run in PHP is very ineffective... PHP isn't meant to run infinitely (not exactly what we're doing here but still).  I'm currently working on a Ruby cli worker (for rabbitmq but it could listen to beanstalkd as well off course) and I know other stuff like: https://github.com/ricbra/rabbitmq-cli-consumer exists. I've run into a lot of issues running workers in PHP though so I'm curious as to what made you guys decide to build it in php.. @cjmaxik Thanks, I realized that it was from laravel itself... I'll see what I can cook up myself to support something like this, thanks for the reply!. @Mahmoudz Whoops, sure thing, imcoming ;). @a-h-abid  I have no idea, but I'm requesting it be re-added.. This is definitely an issue with the path not being found correctly, in your case the 4 projects need to be up one directory from where laradock is (or you need to set the application path correctly).\naka:\nLaradock\nProject 1\nProject 2\nProject 3\nProject 4. @georgemr your syntax is wrong:\nAPPLICATION=../\nWould map to the correct location. It's very similar to navigating the folder structure from commandline. \n@Mahmoudz  I'm not sure if this is correctly explained in the docs as more people are having issues with the new .env method, feel free to contact me to talk about it etc :). @georgemr sadly I don't have a windows machine to test this out... (on Mac / Linux myself) but what you're telling me indicates that what's happening is:\nLaradock should map everything in the folder above it to var/www if you look at how it was solved in the laradock version before the .env file was introduced:\n- ../sample/:/var/www/sample\nIt's the same as what you are using now. So if you're using the $(APPLICATION) way of setting things up then ../ isn't getting resolved properly (because you shouldn't only be seeing laradock itself there but everything else as well) so the second solution you where trying should have worked.  Have you tried recreating the workspace container as well ?\n@Mahmoudz maybe somebody with a windows environment can look into this more.\n. @a-h-abid  I totally missed that one... good one, I hate not being able to test on windows... @Olivia101 I've created a pull request to add this line to the env-example, as it should just be there to fix this issue, it has no impact on the other OS to have it there.\nI just wasnt aware that this got removed and needed to be there.. @maxgaurav is the .env file in the same directory as the env-example ? These errors are generated because it's not reading the .env file which means all values will be set to a blank string.. @neangkakada Its removed because everybody should copy the env-example and create their own that fits their project(s) needs... Most of the commits that introduced the .env file are mine hence I know how it's supposed to work ;) Having the .env file in the repo limits flexibility and it means you have a file that wants to be committed everytime you change the config (which is very weird). The env-example shows you all the options you can have and you can adjust your own  .env file accordingly, which makes more sense to me.\n@maxgaurav Thanks, what other tweaks did you make?. @maxgaurav Ah, well I think that might be a case of not having it build or some other mixup. as long as it seems solved now I guess.. If it was an existing DB it wouldn't have new credentials as the DB's are stored locally by default.. Did you copy the env-example file to a .env file ? if so it seems your application variable isn't set correctly. You need to set it as it isn't set by default, it's the only thing you still have to do after copying.. Hi @cjmling \nit's relative to the laradock location. So for example, if laradock is in users/USERNAME/docker-web-project/laradock you'd set the it to APPLICATION = ../ \nIt depends on the location of your laradock relative to the folder(s) you're trying to map.\n. Whats in the project dir? Can you include a screenshot?. @Mahmoudz There's also something going on with NFS sharing on OSX.. ",
    "percymamedy": "@Mahmoudz , alright thanks I will try that. Its worth noting am on a windows system, that might be the roots of my problems.\n. ",
    "nevedimko": "I have the same error on Ubuntu 14.04.\n\"Welcome to nginx!\" instead of Laravel Homepage\n. If I open http://localhost, then I see \"Welcome to nginx!\"\nBut if http://127.0.0.1, then Laravel app.\n@Mahmoudz Thanks for fast help :)\n. ",
    "slc-laravel-shift": "Still exists for me in the latest commit (https://github.com/laradock/laradock/commit/c4aef8e901a867a57df0b1aadf1c872165e65295), @Mahmoudz . Did you ever find a fix @nickfan?. ",
    "nickfan": "still exists.. ",
    "PedramMarandi": "Yes I have tried rmi command but 7.0-fpm is not listed in images \n. ",
    "JulianaApolo": "Hi Mahmoundz,\nThanks your response.\nI'm using Mac. \nDocker version 1.11.0.\nDocker Compose version 1.8.0.\nPermissions of local laravel project directory and all files into: rwx-rwx-rwx\n. @nemanjam yes, I am using Virtual Box.\nI saw in Virtualbox configuration and I have /Users shared folder.\nI put my laravel project into /Users of my computer and started the \"docker-compose up nginx....\"\nWhen I enter the bash of laravel_workspace_1 container and type ls I can`t see my laravel project yet.\nPlease, what am i doing wrong?\nCan you explain step by step what I have to do?\n. ",
    "MeixnerTobias": "Agree with @nemanjam \nThis should be related to shared folders defined and mapping in docker-machine.\nIn Windows there seems to be an issue with case of folder e.g. in Windows by default\nC:/Users\nthe laradock folder is correctly mounted but into /c/users/ in guest system\nSo in docker-compose.yml it should be set to\n/c/Users/PATHTOYOURLARAVELAPP\n\n. ",
    "uar-daniel-gafitescu": "The code needs to be on /Users/[xxxxx] directory\n. ",
    "nhieunguyen": "Note: If you are using Docker Machine on Mac or Windows, your Docker Engine daemon has only limited access to your OS X or Windows filesystem. Docker Machine tries to auto-share your /Users (OS X) or C:\\Users (Windows) directory. So, you can mount files or directories on OS X using. (https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-host-directory-as-a-data-volume)\nI use win , after clone src from git:\n-C:\\Users\\projects\\laradock\n-C:\\Users\\projects\\my-cool-app\nEdit docker-compose.yml:\n    application:\n        build: ./application\n        volumes:\n            - ../my-cool-app/:/var/www/laravel\nGo to C:\\Users\\projects\\laradock and run\ndocker-compose up -d  nginx mysql\n. ",
    "GeoIntranet": "Hi ! i have exactly the same issue ! i don't understand what's append !\n- 1 : create a new laravel project \n- 2 : init git in the project folder\n- 3  : git submodule add https://github.com/LaraDock/laradock.git\n- 4 :  cd in laradock and docker-composer up -d nginx mysql \n- 5 : exec .... workspace , ls ...\n\nBut i didn't see the project ! only the laradock folder >< ....\n  Any idea ? i'm on win 10 \n  thanks ! \n\nPS : the project folder is on root c: , and not in user folder \n\nPS 2  : I have follow the nhieunguyen's procedure , and it's right , but don't understand why ... \n. anyone does how to available the port 3000 to acces 192.168.99.100:3000 ? \n. nop, cause i think i need to specify a configuration like ..... \n\nnode:\n        build: ./node\n        ports:\n            - \"3000:3000\"\n\n```\nFROM node:4.3.2\nEXPOSE 3000\nCMD [\"node\"]\n```\n\nBut i'm a newbie in docker .... i'm wrong ???\n. i make , a little modification in the node build  - CMD [\"node\", \"socket.js\"]  - \nok , so i build de node container , i try to up it , but he stay in exit 1 state.\nWhen i look the log  : \nAttaching to laradock_node_1\nnode_1                | module.js:442\nnode_1                |     throw err;\nnode_1                |     ^\nnode_1                |\nnode_1                | Error: Cannot find module '/socket.js'\nnode_1                |     at Function.Module._resolveFilename (module.js:440:15)\nnode_1                |     at Function.Module._load (module.js:388:25)\nnode_1                |     at Module.runMain (module.js:575:10)\nnode_1                |     at run (bootstrap_node.js:352:7)\nnode_1                |     at startup (bootstrap_node.js:144:9)\nnode_1                |     at bootstrap_node.js:467:3\nthe soket.js file exist at the root of my project but he didn't find it \ni think i need to specify volumes: like \n          - ./caddy/Caddyfile:/etc/Caddyfile\nbut how ? \n. pfouu >< after many test , won't work ... \n\nDocker-compose : \nnode:\n        build: ./node\n        ports:\n            - \"3000:3000\"\n        volumes_from:\n            - volumes_source\n\nBuild : \n`FROM node:latest\nEXPOSE 3000\nCMD [\"node\", \"socket.js\"]`\n\nLog : \n\nnode_1                | module.js:442\nnode_1                |     throw err;\nnode_1                |     ^\nnode_1                |\nnode_1                | Error: Cannot find module '/socket.js'\nnode_1                |     at Function.Module._resolveFilename (module.js:440:15)\nnode_1                |     at Function.Module._load (module.js:388:25)\nnode_1                |     at Module.runMain (module.js:575:10)\nnode_1                |     at run (bootstrap_node.js:352:7)\nnode_1                |     at startup (bootstrap_node.js:144:9)\nnode_1                |     at bootstrap_node.js:467:3\nnode_1                | module.js:442\nnode_1                |     throw err;\nnode_1                |     ^\nnode_1                |\nnode_1                | Error: Cannot find module '/socket.js'\nnode_1                |     at Function.Module._resolveFilename (module.js:440:15)\nnode_1                |     at Function.Module._load (module.js:388:25)\nnode_1                |     at Module.runMain (module.js:575:10)\nnode_1                |     at run (bootstrap_node.js:352:7)\nnode_1                |     at startup (bootstrap_node.js:144:9)\nnode_1                |     at bootstrap_node.js:467:3\n\n\nfiles in laravel folder : \n\nroot@dc8abadba49c:/var/www/laravel# ls -al\ntotal 418\ndrwxrwxrwx 1 1000 staff   4096 Jul 25 18:31 .\ndrwxr-xr-x 3 root root    4096 Jul 24 20:08 ..\ndrwxrwxrwx 1 1000 staff   4096 Jul 24 22:26 app\n-rwxrwxrwx 1 1000 staff   1646 Jul  3 15:58 artisan\ndrwxrwxrwx 1 1000 staff      0 Jul 24 14:55 bootstrap\n-rwxrwxrwx 1 1000 staff   1427 Jul  6 21:14 composer.json\n-rwxrwxrwx 1 1000 staff 120685 Jul  5 20:34 composer.lock\ndrwxrwxrwx 1 1000 staff   4096 Jul 24 14:55 config\ndrwxrwxrwx 1 1000 staff   4096 Jul 24 14:55 database\n-rwxrwxrwx 1 1000 staff    470 Jul 24 22:27 .env\n-rwxrwxrwx 1 1000 staff    423 Jul  3 15:58 .env.example\ndrwxrwxrwx 1 1000 staff      0 Jul 24 15:47 geodev\n-rwxrwxrwx 1 1000 staff     61 Jul  3 15:58 .gitattributes\n-rwxrwxrwx 1 1000 staff     73 Jul  3 15:58 .gitignore\n-rwxrwxrwx 1 1000 staff    503 Jul  3 15:58 gulpfile.js\ndrwxrwxrwx 1 1000 staff 262144 Jul 25 18:33 node_modules\n-rwxrwxrwx 1 1000 staff    400 Jul 25 18:27 package.json\n-rwxrwxrwx 1 1000 staff   1026 Jul  3 15:58 phpunit.xml\ndrwxrwxrwx 1 1000 staff   4096 Jul 24 15:49 public\n-rwxrwxrwx 1 1000 staff   1918 Jul  3 15:58 readme.md\ndrwxrwxrwx 1 1000 staff      0 Jul 24 14:55 resources\n-rwxrwxrwx 1 1000 staff    567 Jul  3 15:58 server.php\n-rwxrwxrwx 1 1000 staff    385 Jul 24 20:26 socket.js\ndrwxrwxrwx 1 1000 staff      0 Jul 24 15:42 storage\ndrwxrwxrwx 1 1000 staff      0 Jul 24 14:55 tests\ndrwxrwxrwx 1 1000 staff   8192 Jul 24 15:38 vendor\n. default ip is 192.169.99.100 try this , i think that will work \n. you have to go to connect with the ip of the docker machine.\ni use navicat , and when i creat connection i specifiy 192.168.99.100 with port : 3306 userName : homestead / pass secret \n\n.env Laravel's project : \nDB_CONNECTION=mysql\nDB_HOST=192.168.99.100\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n. yep you allright  , i'm on window , and in the network setting you can watch the ip of the Vm. and by default : it's 192.168.99.100 . \n. ",
    "koenverburg": "Im running docker-compose up -d nginx I only need a php 7 env. and I change the application volume to point to my laravel app, but I also get a 404. when I login to my workplace container there is nothing\n. Im still getting node/nvm/npm command was not found. I switched to laradock but that did not help at all.\nrestarted the boot2docker vm and still did not work. even rebuilding the containers did nothing.. Yes I did. I figured out that I had to build my workspace container. but now It hanging on this.\n\nUPDATE:\nkilling that command and rebuilding it did nothing. nvm is still not found. Im gonna play around, thanks for the help!. ",
    "ken-master": "this happens to me too.  i just follow the installation guide. and used \n\ndocker-compose up -d nginx mysql\n\nOS: Ubuntu 16.04\n\n\ndocker version\nClient:\n Version:      1.11.2\n API version:  1.23\n Go version:   go1.5.4\n Git commit:   b9f10c9\n Built:        Wed Jun  1 22:00:43 2016\n OS/Arch:      linux/amd64\n Server:\n Version:      1.11.2\n API version:  1.23\n Go version:   go1.5.4\n Git commit:   b9f10c9\n Built:        Wed Jun  1 22:00:43 2016\n OS/Arch:      linux/amd64\ndocker-compose version\ndocker-compose version 1.7.1, build 0a9ab35\ndocker-py version: 1.8.1\nCPython version: 2.7.9\nOpenSSL version: OpenSSL 1.0.1e 11 Feb 2013\n\n\nstill having this issue..\n. ",
    "gongchengra": "docker-compose down \nand \ndocker-compose up -d nginx mysql\nagain,\nit works for me.\n. ",
    "lolalf": "Is there a solution for this?\nI have the same problem on Ubuntu 16.04.\nI tried installing laradock on Ubuntu 16.04. Everything went well but after docker-compose up -d nginx mysql phpmyadmin, i get 404 error on localhost, localhost:8080 works for phpmyadmin.\n. ",
    "kayrules": "I had this problem because the root path in docker-compose.yml differs from the one in nginx default.conf file:\napplications:\n        image: tianon/true\n        volumes:\n            - ../:/var/www\nSo I solved this issue by changing a line in file  laradock/nginx/sites/default.conf from:\nroot /var/www/public;\nto \nroot /var/www;\n. Yes the warning goes away if I commented it in php.ini, but when the driver is really needed, It will show us FatalThrowableError error:\n[Symfony\\Component\\Debug\\Exception\\FatalThrowableError]  \n  Class 'MongoDB\\Driver\\Manager' not found\nThe fix from https://derickrethans.nl/undefined-symbol.html says that we need to load the mongodb.so after JSON extension shared object is loaded. \nSo creating mongodb.ini in mods-available and symbolic-linked it with priority 30 fixed the error.\n; configuration for php mongodb module\n; priority=30\nextension=mongodb.so\nln -s /etc/php/7.0/mods-available/mongodb.ini /etc/php/7.0/cli/conf.d/30-mongodb.ini. ",
    "tucq88": "Thanks @kayrules . \nI think it should be mentioned in README :D . ",
    "ganlub": "Same thing happened to me, I was going crazy with the 404...\nEither - ../:/var/www becomes - ../:/var/www/public on docker-compoe.yml or the Nginx default site configurations needs to be updated.. @philtrep @suncoastkid this shouldn't be closed. Those lines are still missing on Dockerfile-56.\nCopying Exif and Redis lines from Dockerfile-70 into Dockerfile-56 solves it.. ",
    "coffeeneed": "@kayrules fix worked for me too. Thanks a lot!\nNow, the realistic WTF question:\nWhy is this crucial fix hidden here? I mean; it had to be somewhere, so let me rephrase:\nWhy isn't this bug fixed? As of today, Laradock for Windows doesn't work and that's pretty damn bad. You might as well remove it from your site or roll back to alpha or beta.\nI appreciate we're a community and we solve stuff together, but we're 5 month deep in 2017 and this isn't touched. The OP made this post mid 2016, damnit.\nI do understand I'm obligated to read your docs, but your quick start help is 5 steps long and ends with:\n\nThat's it! enjoy :)\n\nIf you have a quick start guide it should work. If not, you don't have a quick start guide and refer to the deeper docs.\nRant end.. ",
    "arcnetdev": "eu estou com o mesmo problema, 404. I have the same problem, 404\n. ",
    "snowshoes": "Thanks @kayrules , after retry for hours, it finally works!\nYou saved my day!\nEven today this problem still remains in v4.x. ",
    "ghost": "@kayrules God Yes!!! I tried to deploy wordpress with laravel but i stucked with this problem. and your solution made this worked!\nAs @tucq88 said, It should be mentioned in readme file for no-laravel-users.. thank you, i tried like you reported however it still get same issue\n. @francislavoie i meant i'm trying migration data with 1000 records on laradock_mysql_1 however mysql has been gone away after i run migration to create. Then i tried to stats my containers:\njson\nCONTAINER                    CPU %               MEM USAGE / LIMIT       MEM %               NET I/O             BLOCK I/O             PIDS\nlaradock_nginx_1             0.00%               6.891 MiB / 7.711 GiB   0.09%               22.5 kB / 648 B     2.118 MB / 0 B        5\nlaradock_php-fpm_1           0.00%               19.64 MiB / 7.711 GiB   0.25%               25.21 kB / 648 B    10.94 MB / 0 B        3\nlaradock_workspace_1         0.00%               19.42 MiB / 7.711 GiB   0.25%               28.11 kB / 648 B    19.95 MB / 0 B        1\nlaradock_nginx-admin_1       0.00%               7.09 MiB / 7.711 GiB    0.09%               22.04 kB / 648 B    2.331 MB / 0 B        5\nlaradock_php-fpm-admin_1     0.00%               18.18 MiB / 7.711 GiB   0.23%               25.21 kB / 648 B    9.417 MB / 0 B        3\nlaradock_workspace-admin_1   0.00%               21.48 MiB / 7.711 GiB   0.27%               27.85 kB / 648 B    22.13 MB / 0 B        1\nlaradock_mysql_1             0.03%               227.1 MiB / 7.711 GiB   2.88%               28.69 kB / 648 B    39.18 MB / 12.67 MB   27\nlaradock_redis_1             0.06%               10.63 MiB / 7.711 GiB   0.13%               28.2 kB / 648 B     4.522 MB / 0 B        3\ni saw MEM USAGE not increase while migration data. I think we are easy increase memory for RAM of machine on Windows or Mac however i dont know how to increase memory on Linux OR the machine already auto swap memory on Linux ?.\nPlease help, thanks!\n. @francislavoie \nhm...i want increase memory usage to save many records (like more than 1000 records). When i insert record to table, i always get message \"Mysql has gone away\" or wait more times to insert. I saw MEM USAGE always show less than 300Mb while i'm inserting record. Could you help me resolve or recommend the way to fix this issue?\n. I am actually dealing with the same issue myself. I will try fixing it and then send a pull request when I get it working myself. For now, I would avoid using it.. Yes, that would work but it isn't automated with docker-compose, which is\nwhat we need.\nOn Tue, Feb 7, 2017 at 10:13 AM, lambert torres notifications@github.com\nwrote:\n\nnot the best solution but a quick workaround would be to just manually\ninstall\napt-get -y install libxml2-dev php7.0-soap\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/pull/488#issuecomment-278069559,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AVN8_ZT2U9ANy6eE1MxXdtTZTULMJnDXks5raKYlgaJpZM4LOjPo\n.\n\n\n-- \nAustin Benesh\naustin.d.benesh@gmail.com\n801-903-3219\n. You have to change the nginx root and set the proper mysql variables.\nOn a side note, this could be an additional feature. I'll take a look at adding this into laradock.. COMPOSE_CONVERT_WINDOWS_PATHS not works for windows 10 latest version /.. @Hironate Can you please explain better how did you solve this problem?. remove the last continuation character:\n&& rm /tmp/aerospike-client-php.tar.gz \\\n  should be:\n&& rm /tmp/aerospike-client-php.tar.gz. 3Q . Do you order that you execute it under the laradoc project?. It won't be windows10 environmental problems\u3002\nI didn't have this problem at Mac, centos7.4, and ubuntu16.04\u3002\nAre you sure that there are two files docker-compose.yml and docker-compose-dev.yml in the directory that executes this command in person, and if this is available, see if the docker version is low, and if this is not, it's likely to be a windows10 environmental problem. The same version, I don't have this problem, that estimate is windows10 environmental problems, you try to use virtual machine installed linux environment to play\u3002\n. Up guys ? :). @amayer5125 It's outside. (multiple projects). yes i did that. ",
    "dapseen": "@kayrules Appreciate for sharing it, Works for me.\n@tucq88  yeah, i support it,... it will help our sanity. Yeah, it works for me on linux ubuntu 17.10. ",
    "Sogl": "This problem still exists in last version . I did some investigations and looks like root user have no .bashrc lines and laradock user have no laravel installer \ud83d\ude04 \nSo I add:\n```\n\nLaravel Installer:\n\nUSER laradock\nARG INSTALL_LARAVEL_INSTALLER=false\nRUN if [ ${INSTALL_LARAVEL_INSTALLER} = true ]; then \\\n    # Install the Laravel Installer\n    composer global require \"laravel/installer\" \\\n;fi\n```\nAnd:\n```\n\nComposer:\n\nUSER root\n\nExport composer vendor path\nRUN echo \"\" >> ~/.bashrc && \\\n    echo 'export PATH=\"$HOME/.composer/vendor/bin:$PATH\"' >> ~/.bashrc\n```\nAnd now laravel command works for both (root and laradock) users.\nMaybe need to add a PR? It's 1st day I use Docker and Laradock and it may consist some mistakes with ARG duplicate or something \ud83d\ude09 \nRelated issue: https://github.com/laradock/laradock/issues/1547. ",
    "rickkuilman": "Can confirm, this is still an issue. Fix by @kayrules works: https://github.com/laradock/laradock/issues/86#issuecomment-264181045. Thanks for the fix! It is still an issue though (Ubuntu 17.10). I've got the same issue, on Ubuntu 17.10. ",
    "evgpisarchik": "Same for me. ",
    "itsgarryb": "Can confirm the issue is still there. The fix mentioned by @kayrules worked for me too ( https://github.com/laradock/laradock/issues/86?_pjax=%23js-repo-pjax-container#issuecomment-264181045 ).. ",
    "kamal2222ahmed": "issue is still there for me, and #86 did not seem to have fixed it\nDocker version 18.09.0, build 4d60db4. ",
    "hghotra": "@kamal2222ahmed Just confirmed that fix by @kayrules works with:\nDocker version 18.09.0, build 4d60db4\nLook for APP_CODE_PATH_HOST in your .env and make sure there's an index.php file where that points. By default it's set to ../.. ",
    "surj08": "I think I had this problem with codeIngiter for another reason. In case anyone else has problems with the documentation:\n\n1 - Open the docker-compose.yml file.\n2 - Change CODEIGNITER=false to CODEIGNITER=true.\n3 - Re-build your PHP-FPM Container docker-compose build php-fpm.\n\nThere is no CODEIGNITER=false in the file. Adding it with true does still produce the desired effect.\n\n      - CODEIGNITER=true\n\n\nThen rebuild php-fpm\ndocker-compose build php-fpm\nas @kayrules said I also had to change the nginx config or put the files in ../public. ",
    "dantecoding": "Thanks.\n. ",
    "2pd": "docker-compose up -t 100\ntry to give it a bit long time for a try.\n. ",
    "vladdancer": "Just try to restart a docker. ",
    "shadowbane": "I can confirm it too\nCreating network \"laradock_default\" with the default driver\nCreating laradock_data_1\nCreating laradock_mariadb_1\nAttaching to laradock_mariadb_1\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] mysqld (mysqld 10.1.14-MariaDB-1~jessie) starting as process 1 ...\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Using mutexes to ref count buffer pool pages\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: The InnoDB memory heap is disabled\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Memory barrier is not used\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Compressed tables use zlib 1.2.8\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Using Linux native AIO\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Using SSE crc32 instructions\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Initializing buffer pool, size = 256.0M\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Completed initialization of buffer pool\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] InnoDB: Highest supported file format is Barracuda.\nmariadb_1             | InnoDB: No valid checkpoint found.\nmariadb_1             | InnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nmariadb_1             | InnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nmariadb_1             | InnoDB: If this error appears when you are creating an InnoDB database,\nmariadb_1             | InnoDB: the problem may be that during an earlier attempt you managed\nmariadb_1             | InnoDB: to create the InnoDB data files, but log file creation failed.\nmariadb_1             | InnoDB: If that is the case, please refer to\nmariadb_1             | InnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1             | 2016-06-14  4:03:56 140566295365568 [ERROR] Aborting\nmariadb_1             | \nlaradock_mariadb_1 exited with code 1\n. ",
    "Oook": "Same here. Dead in the water.\n2016-06-20 14:29:35 140066604308352 [ERROR] Plugin 'InnoDB' init function returned error.\n2016-06-20 14:29:35 140066604308352 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n2016-06-20 14:29:35 140066604308352 [Note] Plugin 'FEEDBACK' is disabled.\n2016-06-20 14:29:35 140066604308352 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\n2016-06-20 14:29:35 140066604308352 [ERROR] Unknown/unsupported storage engine: InnoDB\n2016-06-20 14:29:35 140066604308352 [ERROR] Aborting\n. I thought maybe their default build scripts disable innodb by default. If you ./configure --with-plugin-innodb_plugin instead of using cmake, then make/make install, it will build and install, but attempting to start the server gives the exact same error. I'm going to continue to play with this to see if I can get it to work - is this an actual bug in mariadb?\n. I tried that, and it starts and gets past that point, but then it gives about 1800 lines like this:\nInnoDB: wrong number of columns in SYS_INDEXES record\nAnd eventually:\n2016-06-21  7:59:51 140678803330944 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\n2016-06-21  7:59:51 140678803330944 [Warning] InnoDB: Cannot open table mysql/servers from the internal data dictionary of InnoDB though the .frm file for the table exists. See http://dev.mysql.com/doc/refman/5.6/en/innodb-troubleshooting.html for how you can resolve the problem.\n2016-06-21  7:59:51 140678803330944 [ERROR] Can't open and lock privilege tables: Table 'mysql.servers' doesn't exist in engine\n2016-06-21  7:59:51 140678803330944 [Note] Server socket created on IP: '::'.\n2016-06-21  7:59:51 140678803330944 [ERROR] Fatal error: mysql.user table is damaged or in unsupported 3.20 format.\nWhat is funny is that if I delete all of the files from my data directory, so there is nothing there at all, I get the exact same error messages. It is as if it does not recognize my mysql database at all.\nMaybe my mysql table version is too new for mariadb to recognize??? It's from a production system running mysql 5.7.11, and it is rock solid. If I drop in Mariadb (you know, it's supposed to be a drop in replacement for mysql, right?) this happens, and I can't even get the server to start.\nI'm going to keep trying, but so far, deleting the log files does not work, and using an empty data directory does not work either.\n. As an update, if I run mysql_install_db against an empty data directory, it will create the mysql and performance_schema and test databases, and then the server will start.\nAt this point I conclude:\n1) The version of mariadb I'm using, 10.1.14 is not compatible with the tables from mysql 5.7.11 \nAND/OR\n2) Mariadb is not quite the \"drop in replacement for mysql\" as they would like us to believe.\nAND/OR\n3) There is a step that I'm missing necessary to make this work with existing mysql tables.\nAt any rate, until I figure out how to get mariadb to work with an existing mysql database, I have no choice but to stay with mysql...\n. PS: This is for a production database, and no I'm not going to export all of my production data, create a new mariadb databse, and import all of my data into it. My tables are huge and this simply is not going to happen. Mariadb will either work with the existing mysql data, or I stay with mysql. Until I figure out what I'm missing or doing wrong, I have no choice but to stay with mysql...\n. ",
    "Daveawb": "The only way I found round this was to backup my /var/lib/mysql and /var/lib/mariadb directories by renaming them, then creating them as empty directories. I'm aware this isn't an option for many, if you're still in development and working on seed data this should work for you.\nThere has been some talk about just removing log files from these directories and thus preserving data though I haven't tried this.\nLog files reportedly removed that fixed this issue:\n/var/lib/mysqld/ib_logfile0\n/var/lib/mysql/ib_logfile1\n/var/lib/mysql/aria_log_control\n. ",
    "zhiyong80": "I too just experienced the problem that OooK had. After a system reboot, mariadb failed to start, and I got the error message like this:\nFatal error: mysql.user table is damaged or in unsupported 3.20 format.\nIn my case, the problem was caused by a mysqldump --all-databases from mysql 5.7 and then imported into mariadb 10.1. As stated, there is some difference in mysql.user which caused the problems. Hope this helps someone directed here by google.\n. ",
    "lucassith": "This error still exists:\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] mysqld (mysqld 10.1.18-MariaDB-1~jessie) starting as process 1 ...\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Using mutexes to ref count buffer pool pages\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: The InnoDB memory heap is disabled\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Compressed tables use zlib 1.2.8\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Using Linux native AIO\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Using SSE crc32 instructions\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Initializing buffer pool, size = 256.0M\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Completed initialization of buffer pool\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] InnoDB: Highest supported file format is Barracuda.\nmariadb_1             | InnoDB: No valid checkpoint found.\nmariadb_1             | InnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nmariadb_1             | InnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nmariadb_1             | InnoDB: If this error appears when you are creating an InnoDB database,\nmariadb_1             | InnoDB: the problem may be that during an earlier attempt you managed\nmariadb_1             | InnoDB: to create the InnoDB data files, but log file creation failed.\nmariadb_1             | InnoDB: If that is the case, please refer to\nmariadb_1             | InnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1             | 2016-10-10 17:07:16 140096807745472 [ERROR] Aborting\nTried to rebuild by using\ndocker-compose up --build --force-recreate -d nginx mariadb\nwith no luck\n. ",
    "etenzy": "same here...\n2016-10-11 19:28:44 139966758561728 [Note] mysqld (mysqld 10.1.18-MariaDB-1~jessie) starting as process 1 ...\n2016-10-11 19:28:44 139966758561728 [Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Using mutexes to ref count buffer pool pages\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: The InnoDB memory heap is disabled\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Compressed tables use zlib 1.2.8\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Using Linux native AIO\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Using SSE crc32 instructions\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Initializing buffer pool, size = 256.0M\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Completed initialization of buffer pool\n2016-10-11 19:28:44 139966758561728 [Note] InnoDB: Highest supported file format is Barracuda.\nInnoDB: No valid checkpoint found.\nInnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nInnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nInnoDB: If this error appears when you are creating an InnoDB database,\nInnoDB: the problem may be that during an earlier attempt you managed\nInnoDB: to create the InnoDB data files, but log file creation failed.\nInnoDB: If that is the case, please refer to\nInnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\n2016-10-11 19:28:44 139966758561728 [ERROR] Plugin 'InnoDB' init function returned error.\n2016-10-11 19:28:44 139966758561728 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n2016-10-11 19:28:44 139966758561728 [Note] Plugin 'FEEDBACK' is disabled.\n2016-10-11 19:28:44 139966758561728 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\n2016-10-11 19:28:44 139966758561728 [ERROR] Unknown/unsupported storage engine: InnoDB\n2016-10-11 19:28:44 139966758561728 [ERROR] Aborting\n2016-10-11T19:28:44.699407403Z\n. ",
    "ludk17": "Same error\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] mysqld (mysqld 10.1.18-MariaDB-1~jessie) starting as process 1 ...\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Using mutexes to ref count buffer pool pages\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: The InnoDB memory heap is disabled\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Compressed tables use zlib 1.2.8\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Using Linux native AIO\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Using SSE crc32 instructions\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Initializing buffer pool, size = 256.0M\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Completed initialization of buffer pool\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] InnoDB: Highest supported file format is Barracuda.\nmariadb_1             | InnoDB: No valid checkpoint found.\nmariadb_1             | InnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nmariadb_1             | InnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nmariadb_1             | InnoDB: If this error appears when you are creating an InnoDB database,\nmariadb_1             | InnoDB: the problem may be that during an earlier attempt you managed\nmariadb_1             | InnoDB: to create the InnoDB data files, but log file creation failed.\nmariadb_1             | InnoDB: If that is the case, please refer to\nmariadb_1             | InnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1             | 2016-10-26  0:25:11 139965033494464 [ERROR] Aborting\nmariadb_1             | \nlaradock_mariadb_1 exited with code 1\n. ",
    "aft3rlife": "Same error here on a fresh install of Laradock. Happens with both MariaDB and MySQL.\n. ",
    "riccardoravaro": "Same error\nphp_1      | [30-Oct-2016 13:30:25] NOTICE: fpm is running, pid 5\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] InnoDB: Using Linux native AIO\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] InnoDB: Using SSE crc32 instructions\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] InnoDB: Initializing buffer pool, size = 1.0G\nphp_1      | [30-Oct-2016 13:30:25] NOTICE: ready to handle connections\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] InnoDB: Completed initialization of buffer pool\npma_1      | 2016-10-30 13:30:25,809 CRIT Supervisor running as root (no user in config file)\npma_1      | 2016-10-30 13:30:25,810 WARN Included extra file \"/etc/supervisor.d/nginx.ini\" during parsing\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] InnoDB: Restoring page 0 of tablespace 0\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Warning] InnoDB: Doublewrite does not have page_no=0 of space: 0\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] InnoDB: space header page consists of zero bytes in data file ./ibdata1\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] InnoDB: Could not open or create the system tablespace. If you tried to add new data files to the system tablespace, and it failed here, you should now edit innodb_data_file_path in my.cnf back to what it was, and remove the new ibdata files InnoDB created in this failed attempt. InnoDB only wrote those files full of zeros, but did not yet use them in any way. But be careful: do not remove old data files which contain your precious data!\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\npma_1      | 2016-10-30 13:30:25,812 WARN Included extra file \"/etc/supervisor.d/php.ini\" during parsing\npma_1      | Unlinking stale socket /run/supervisord.sock\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1  | 2016-10-30 13:30:25 140095212170280 [ERROR] Aborting\n. ",
    "sahithithandra": "Hi, \nI also have same error when trying to start Maria 10.1.8 on Ubuntu 14.04 ~trusty.  Did you guys find any solution?\n\n. ",
    "tboztuna": "I updated mysql version  from 5.6 to 5.7 . The problem is resolved  now.\n. ",
    "kirejko": "Cant start MariaDB too.\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] mysqld (mysqld 10.1.19-MariaDB-1~jessie) starting as process 1 ...\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Using mutexes to ref count buffer pool pages\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: The InnoDB memory heap is disabled\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Compressed tables use zlib 1.2.8\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Using Linux native AIO\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Using generic crc32 instructions\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Initializing buffer pool, size = 256.0M\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Completed initialization of buffer pool\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] InnoDB: Highest supported file format is Barracuda.\nmariadb_1             | InnoDB: No valid checkpoint found.\nmariadb_1             | InnoDB: If you are attempting downgrade from MySQL 5.7.9 or later,\nmariadb_1             | InnoDB: please refer to http://dev.mysql.com/doc/refman/5.6/en/upgrading-downgrading.html\nmariadb_1             | InnoDB: If this error appears when you are creating an InnoDB database,\nmariadb_1             | InnoDB: the problem may be that during an earlier attempt you managed\nmariadb_1             | InnoDB: to create the InnoDB data files, but log file creation failed.\nmariadb_1             | InnoDB: If that is the case, please refer to\nmariadb_1             | InnoDB: http://dev.mysql.com/doc/refman/5.6/en/error-creating-innodb.html\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [ERROR] Plugin 'InnoDB' init function returned error.\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [Note] Plugin 'FEEDBACK' is disabled.\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [ERROR] Could not open mysql.plugin table. Some plugins may be not loaded\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [ERROR] Unknown/unsupported storage engine: InnoDB\nmariadb_1             | 2016-11-15 19:50:53 140322466129856 [ERROR] Aborting\nmariadb_1             | \nlaradock_mariadb_1 exited with code 1\n. What can i do? All what we need its build images with some 7.1-tag from Dokerfile-71 in https://github.com/laradock/php-fpm and https://github.com/laradock/workspace .\nIm temporary use my own images alivecorpse/php-fpm:latest and alivecorpse/workspace:7.1.\n. ",
    "omurphy27": "I was getting the same issue with a fresh install of laradock. In the docker-compose.yml file I changed the mariadb volumes to the following:\nvolumes:\n            - mariadb:/var/lib/mysql\nAnd deleted my docker images and containers (note this will delete ALL your docker containers and images and is probably overkill) by doing the following:\ndocker rm -f $(docker ps -a -q)\ndocker rmi -f $(docker images -q)\nThen I reran docker-compose up mariadb and now the mariadb container starts and works with no issues. . ",
    "rwforsythe": "Have the problem described above (\"Could not open mysql.plugin table. Some plugins may be not loaded\") after installing MariaDB on a fresh centos box. No previous install of mysql. I'm wondering if that is an unusual installation environment and causing the issues I am having.... ",
    "beatwade": "I meet the issues today, here is my solutions \ud83d\udc4d\nbecause I want to reused the databases' data, \nso here is these steps:\n1 . stop all the mysql container\n2.  rmi the mysql images\n3. run up -d again\neveryting is ok again\nand I found the reason is when mysql image start , it will create or use some files in itself\ne.g. /var/log/mysql\n/tmp/mysql\n/var/run/mysqld\nso if a new container setup with these , next time you want to set up a  new container with the same image will meet serials issues with these\n\nand I still have a little confuse with this\n\n\nyou can see the why two containers can use two version /var/run/mysqld/mysqld.sock files or just one in the same image?\nif someone know please point out.. maybe I should dig into the sock file logic of linux\n. \n\nthanks bros, I have to learn the logic of the xdebug , and know php-fpm is using the 9000 so if we use the same container for xdebug we have to use another port for xdebug e.g. 9001 \nthe most important part is the port which you have to expose to outside to listen \ne.g.\n\nthen in phpstorm\n\nabout the ip , you can use ifconfig(linux) or ipconfig(windows) to get, any ip both you local and php-fpm container can go through each other\n\n\ntest \n\nand the xdebug config file\n\nok then everything will be done\n. ",
    "JohnNiang": "delete other mysql version lib(/var/lib/mysql)\nand reinstall it.. ",
    "BeeHuang": "No, I  just run docker-machine stop.\n. ",
    "toonztudio": "I have the same problem too. I didn't down with docker-compose down. I just stop with docker-compose stop and ctrl + d to exit from bash. But after I restart my laptop everything lost.\nCan anyone help ?\n. I installed laradock on 2 environments \n    - digital ocean (docker 1.11.2 on ubuntu 14.04 droplet) \n    - and my labtop (mac osx el capitan, docker version 1.11.2, docker-compose version 1.7.1) \nOn digital ocean after I stop with 'docker-compose stop' command then quit ssh terminal and login back to turn on droplet. everything is awesome. My data still alive. I found /var/lib/mysql .\nBut when I back to check on my laptop. after I stop with 'docker-compose stop' and try to start with 'docker-compose start' again, everything was gone. no data and no /var/lib/mysql .\nCan anyone suggest me for this situation ?\n. @Belphemur Wow!! It's work!!\nthank you very much. You help me save my time :)\n. @Belphemur Sorry. It does not work after I stop docker machine with 'docker-machine stop default'. After I start docker-machine again, all things disappeared.\nCould you review my step,\n1. I edit docker-compose.yml replace with your comment.\n2. Add phpmyadmin container and link to mysql\n3. Install laradock (follow video demo).\n4. after laradock installed, execute with 'docker exec -it laradock_workspace_1 bash' command.\n5. Install laravel 'composer create-project --prefer-dist laravel/laravel blog'. After finished move all files to var/www/laravel' and delete blog folder.\n6. create directory at /data (still in bash and create /data/mysql)\n7. still in bash and go to var/www/laravel and php artisan migrate. In this step, everything is ok. I have all data in my db.\n8. exit from bash\n9. 'docker-compose stop'\n10. 'docker-machine stop default' and ctrl + d and exit docker terminal\n11. open docker terminal and 'docker-machine start default'\n12. 'docker-compose start' in my project_folder/laradock\n13. check my data in phpmyadmin but it gone.\nI'm not sure where I have to create folder for service data\n1. in the container bash ? /data/mysql ?\n2. in my project_folder/laradock/data ? \nSorry for long question. I'm a new for docker and try to understand. \nThank you for your answer.\n. @Belphemur thank you. I will try and report :)\nI think it's different too. \nI'm sure I did all things with the same process. \nAll things are very awesome on digitalocean but bad in my local docker.\n. ",
    "Belphemur": "You could try changing the binding of the volumes in the docker-composer.yml. For now, the script let docker manage the volumes. You can change this to ask docker to put in your host the data, it reduces the risk of losses.\nyml\n    data:\n        build: ./data\n        volumes:\n            - /data/mysql:/var/lib/mysql\n            - /data/pgsql:/var/lib/postgresql\n            - /data/maria:/var/lib/mariadb\n            - /data/redis:/var/lib/redis\n            - /data/memcached:/var/lib/memcached\n            - /data/neo4j:/var/lib/neo4j/data\nThis should make the data folders available on your host at the path /data/SERVICE\n. ah that's a different issue. This one is directly link to docker-machine, not docker or docker-composer:\ndocker/machine#179\nYou have some information about this problem on stack overflow: http://stackoverflow.com/questions/30040708/how-to-mount-local-volumes-in-docker-machine \nThis thread advice to try https://github.com/synack/docker-rsync\n. It's normal. The volume is only mounted when running the container not when building the image.\nIn other words, the container application has a folder /var/www/laravel and docker-compose is mounting your project on your host machine directly there when running the application container.\nYou would need to push your package.json in the application container before running the npm install.\n. ",
    "sas05": "I have the same problem, I found \n```\ndata:\n        build: ./data\n        volumes:\n            - /data/mysql:/var/lib/mysql\n            - /data/pgsql:/var/lib/postgresql\n            - /data/maria:/var/lib/mariadb\n            - /data/redis:/var/lib/redis\n            - /data/memcached:/var/lib/memcached\n            - /data/neo4j:/var/lib/neo4j/data\n```\nthis is already in my docker-compose.yml but somehow /data/mysql is not created. \n. thanks it works. after restart host operating system\n. Thanks \ud83d\udc4d . ",
    "ajthenewguy": "Create the folders yourself first, then docker will mount and write to them.\n. ",
    "vinaykevadia": "Thanks @tristanbailey , but i am having i5 processor, with 8GM memory and SSD. hardware configuration looks good to me. one of my friend was saying it might be because of shared IO is slow between VM and host. i had fixed the same issue in vagrant by installing one plugin and altering two lines of configurations but not sure how to fix it with Docker. \nreference for vagrant : https://laracasts.com/discuss/channels/general-discussion/for-those-who-find-homesteadvagrantvirtualbox-slow-on-windows\n. ",
    "andrewmclagan": "Yeah it does\ud83e\udd17 I use it\n. As stated above, Im using docker for mac beta for the last month. Its lighting quick. Vagrant does not even compare. For those on windows or a non-unix system, not really sure whats happening in that sphere, development always tend to move allot slower... Consider moving to a real \"developers\" OS ;-)\n. When you say native docker are you running on a linux kernal and not osx? There is no true native docker binary for osx, even docker-for-mac uses a very lightweight virtual machine image.\nAlthough response times of over a second are not normal. What are your response times when these containers are running on a linux host in the cloud? That way you can isolate the problem to Docker on osx. If the response times are still very slow on a pure linux host then your problem is with your application code. One weakness of laravel is the amount of files it loads into memory on each request. Make sure you are enabling opcache \nI have my onw image we use in production, we run over 300 containers with Laravel inside them and its lightning fast 20ms-80ms. take a look:\nhttps://github.com/andrewmclagan/aphex\nAlpine PHP Nginx\nYou will have to create your own nginx.conf as our one is optimised for a pure JSON API not serving HTML. So Create your own Dockerfile and derive it from andrewmclagan/aphex:latest\ne.g.\nin your root directory create ./Dockerfile as follows:\n```\nFROM andrewmclagan/aphex:latest\n\n--------------------------------------------------------------------------\nConfigure\n--------------------------------------------------------------------------\n\nADD ./server-config/nginx.conf /etc/nginx/nginx.conf\nADD ./server-config/entrypoint.sh /entrypoint.sh\n\n--------------------------------------------------------------------------\nApplication\n--------------------------------------------------------------------------\n\nRUN mkdir -p /var/www\nWORKDIR /var/www\nADD composer.json ./\nRUN composer install --no-scripts --no-autoloader --prefer-dist -vvv \\\n    && rm -rf /root/.composer/cache\nADD . /var/www\nRUN composer dump-autoload --optimize \\\n    && composer run-script post-install-cmd \\\n    && chmod +x /entrypoint.sh\n\n--------------------------------------------------------------------------\nInit\n--------------------------------------------------------------------------\n\nEXPOSE 80 443\nENTRYPOINT [\"/entrypoint.sh\"]\nCMD /usr/bin/supervisord\n``\n. @citosid Seriously, if you are getting such bad performance I'd say it more likely points to your setup. Not theDocker >> Host >> VirtualMachine` interface, it just becomes more easily recognisable in this situation. Are you loading allot of services providers you dont need? Caching your routes? Caching your config?\n. Ok understod :)\nIm using docker-for-mac with a very very heavy Laravel installation, more then double the dfault service-providers and allot of other custom code. We get between 70ms - 400ms to load a route.\nThis is far faster when the same container is deployed onto a linux host.\nPlease realise that docker-for-mac and docker-machine BOTH use virtual machines. The only difference is that docker-machine uses teh much slower virtualox driver rather then xyve \n. We don't have individual container for nginx and php-fpm, we run supervisor, nginx and php-fpm in the same container. It makes your images much more portable and easier to orchestrate when having massively parallel deployments!\n. see https://github.com/andrewmclagan/aphex\n. @Mahmoudz The difference being, it seems that Laradock is mostly configured for development. IMO thats an oversight as a basic principal of Docker is immutable environments (same for production, staging and development) that way you 100% know what you get is dev is what you get in production.\nThe only questing then is what do you use to deploy and orchestrate your containers. Thats not in the scope of Laradock IMO. My suggestions would be:\nKubernetes, Rancher or Swarm. With Kubernetes as our preference. \n. Thank you :) I will do that when I have time and thank you for your work!\n. Kuberbetes is the most mature IMO\n. ",
    "citosid": "@andrewmclagan I'm using native docker and it is slow. I takes over a second to load a simple hello world page. Do you have any idea if there is any tweak needed after following the how to?\n. @vinaykevadia I did try using docker-machine instead and the speed is way different. It is faster with the virtualbox approach. I did not know that there is no real native docker for macOS. \nThank you for the feedback though, I really appreciate. Will keep testing docker.\nThanks!\n. @andrewmclagan thank you for the help. I think I did not explain myself correctly.\nIf I use docker-machine instead the site loads a lot faster. Which I think it is ok, because in this way I'm using a really native docker. But this means spinning up a virtual machine, which is what I want to avoid.\nAbout laravel, I do not have other than the default installation. That means, not service providers, not routes, not config. Not other than the default ones. \nMy test is this:\n1. Test with virtual machine using it with homestead. Time to load default page: < 250ms\n2. Test with docker (using docker binary for mac): Time to load default page: > 1s\n3. Test with docker-machine (using a virtual box): Time to load default page: < 500ms\nAs you can see, the tests with docker itself take longer, but I think it is ok because I'm using it in a Mac. \nAt the moment I'm ok using it in a virtual box (with docker instead of homestead), but that is what I want to get rid of.\nI found this, so I guess that is a normal problem with OS and Docker...\n. @Vasiliy-Bondarenko how did you do it with docker-sync?\n. @Mahmoudz in this issue https://github.com/LaraDock/laradock/issues/145 Vasiliy says he fixed it by using rsync instead of osxfuse. I think that make sense if the problem is the way OS handle the mounting points. And maybe the same can be true of Windows, specially windows 10. I've been trying to make it work (via rsync), but I'm quite new at docker, so I have not succeed. Will keep trying and update this if I make it work.\n. ",
    "vv3d0x": "@Mahmoudz I meant using Apache instead of Nginx, so you can choose which server will handing requests. Apache - Nginx (Proxy) setup is not clear in local case \n. @Mahmoudz Because you can developing application for a long time with Apache and you can not switch to another. I am new with Docker, your idea amazing, maybe I will try to integrate Apache self, when I will have a time\n. ",
    "pabloleone": "I totally agree with @vv3d0x , I already use apache for my projects and most important I'm confident using it, I've never used ngix. I know is good and probably better than apache, but I didn't have the time to play with nor even implement on my projects, so this is a major feature as the majority of people is using apache as far as I know. I won't switch to docker till this is implemented.\nAlso, the majority of shared servers, and I'm pretty sure about this, are using apache. If we're using shared hosts like goDaddy, sometimes is nearly impossible to say to the provider to switch to ngix because is better, so you should stick to apache or migrate, which not too many people or companies can afford.\nI'd suggest to increasing the priority of this to critical.\n. ",
    "mikeerickson": "@vv3d0x I am trying to get apache2 configured to work with laradock and am having mild success.  I have laradock configured to with multiple projects and have created the associated .conf file (see below).  However, when I serve up the site, the \"root\" goes to a listing of files.   If I append the directory where the laravel app is located, then into public folder, the site is served.\n\nDo you have any additional information on what it takes to properly configure the .conf file?  If you have a sample file you could share which works, I would greatly appreciate it.\nHere is what I currently have for one of the sites.  what is actually served by default is two directories up\n```\n\n  ServerName l54-sotg\n  DocumentRoot /var/www/l54-sotg/public/\n  Options Indexes FollowSymLinks\n\n    AllowOverride All\n    \n      Allow from all\n    \n= 2.4>\n      Require all granted\n    \n\n\n```\n@Mahmoudz As soon as I can get this working, I will take the necessary steps to update the documentation as per our conversation earlier this afternoon.\n. @vv3d0x @Mahmoudz I have some success...\nI found that if I modify the default.apache.conf file as follows, I am able to hit this specific site\n```\n\n  ServerName l54-sotg.dock\n  DocumentRoot /var/www/l54-sotg/public\n  Options Indexes FollowSymLinks\n\n    AllowOverride All\n    \n      Allow from all\n    \n= 2.4>\n      Require all granted\n    \n\n\n```\nNow, I just need to figure out how to support multiple projects?   Suggestions?\n. S U C C E S S ! ! !\nI now understand how it works... I am up and running with all 4 separate apps :-)\n@vv3d0x @Mahmoudz My apologies for the noise\n. @Mahmoudz @philtrep \nHey guys, I see this is closed but I cant seem to find anything on google.   \nUsing the latests laradock (using the .env) I am unable to figure out how to connect to MySQL using Sequel Pro.   I can connect to MySQL within its own container?\nClues?. @pablorsk my actual problem was that I was running a local instance of MySQL (on host) so there was a port collision.  I cured by forwarding the docker version by changing \nports:\n  3308:3306\nThen in sequel pro, use port 3308. @pablorsk thx for info, but in my case I have to keep it running for some work tasks.  I could surely off load those tasks to the docker instance, but just have not done it. A simple port redirect is sufficient \ud83d\udc4d. @gagarine @mahmoudz I have seen this quite often over the weekend working on the xDebug stuff on macOS. I will tackle this issue after I am done with xDebug tasks. . Has anybody gotten this to work on macOS?   I have been fighting this for past two hours and getting nowhere :-(. I tried to access the workspace container\n$ docker exec -i -t b0dc6c844f5e bin/bash\nand receive the following error\nrpc error: code = 13 desc = invalid header field value \"oci runtime error: exec failed: container_linux.go:247: starting container process caused \\\"exec: \\\\\\\"bin/bash\\\\\\\": stat bin/bash: no such file or directory\\\"\\n\". Figured it out (how embarrassing, i looked at this forever and couldn't find the issue)  The call to bin/bash did not have leading forward slash (see below)\n$ docker exec -i -t b0dc6c844f5e bin/bash\nshould have been\n$ docker exec -i -t b0dc6c844f5e /bin/bash. @philtrep One thing that is curious to me.   Why does node get installed with workspace, as opposed to its own container?. @dilone Where are you seeing this error?  What is the exact command when you see this?  \nI have seen this error as well, but in my case, the cmd sent to exec was incorrect. @philtrep @mahmoudz what's the status on this one? . @philtrep I will have a look at this item and get issue(s) resolved so we can close this.  I am sure PHP 7.1 request will increase over time (and I could use it as well). Perhaps since this is \"Laradock\" supporting outside of Laravel might not be the best direction.  I am guessing there are some quality projects which supports WP?. @Mahmoudz I am all for an official docker repo and this package is a great start. Curious if Taylor et al would make it happen though.  For most part, they follow the Not Invented Here syndrome much like other leaders.  . @Mahmoudz well, looks like Taylor is keen on this repo, doesn't want to maintain.  What (if any) issues are open that need cleaning or fixing to clean up any rough edges. @philtrep I don't have a problem with it at all.  I am merely stating how the Laravel community would react as a whole.  I don't care where it comes from so long as it works!. @philtrep I have tried LaraDock in the past, but at the time, I had to decide quickly between using Docker and Vagrant as I had to get to work ASAP.   I do recall when trying it in the last, had some pain points and moved on to Vagrant (Homestead).\nHowever, now I have more time to invest in getting the Docker implementation working and am doing that now.\nI will report back and report where those pain points and you can decide accordingly how they will be addressed (if necessary).. @philtrep One thing that I recall needing in my previous attempt was better node support?  I will make notes as I progress today :-)\n. @philtrep I figured it out.... I set the port in the wrong section (didn't set in the ngnix section) I set it in the workspace section (now I need to figure out what the workspace section does). I have done the following:\n\nCreated Dockerfile-71 (based from Dockerfile-70) and updated version to 7.1\n\nUpdated docker-compose.yml to point to the Dockerfile-71 in php-fm section\n   dockerfile: Dockerfile-71\n\n\nexecute docker-compose up -d nginx mysql redis\n\n\n. @philtrep Excellent, thx!. @philtrep Good day sir... Has this been released yet?  The #484 issue still appears to be open?. @philtrep sounds good . @philtrep @Mahmoudz Hey gang, it seems that this is still an open issue?   Is PHP 7.1 now available in Laradock?. @philtrep gotcha!  Will get it done after my open PR is done :). @philtrep OK, having closed up https://github.com/laradock/laradock/issues/541 I am now moving onto this feature. . @philtrep FYI, I am starting on this one now..... Perhaps I was not clear in first message :)\nWhat I am actually requesting is having homebrew (linuxbrew) available as with other installed tools (ala yarn, node, mom, etc) \nNot a homebrew method for install laradock, the current method is just fine :). @philtrep If you would like, I can take a stab at it :-)   Still learning the whole docker approach, so not sure where to \"start\" but surely cant be too difficult.   I will see if I can figure it out.. @philtrep In the process right now (rebuilding the workspace container) quite a slow process :-)\n. Can you advise?\n\nUpdate workspace/Dockerfile to include installation script for linuxbrew\nSet the INSTALL_LINUXBREW flag in docker-compose.yml \nRebuilding workspace container\n\nI receive error when rebuilding workspace container\nStep 72 : RUN if [ ${INSTALL_LINUXBREW} = true ]; then     git clone https://github.com/Homebrew/linuxbrew.git ~/.linuxbrew\n ---> Running in 5195af2ba8fc\n/bin/sh: 1: Syntax error: end of file unexpected (expecting \"fi\")\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_LINUXBREW} = true ]; then     git clone https://github.com/Homebrew/linuxbrew.git ~/.linuxbrew' returned a non-zero code: 2\nIn case you wish to see, here is the updated code in workspace/Dockerfile\n```\n\nLinuxbrew:\n\nUSER laradock\nARG INSTALL_LINUXBREW=true\nENV INSTALL_LINUXBREW ${INSTALL_LINUXBREW}\nRUN if [ ${INSTALL_LINUXBREW} = true ]; then \\\n    # Install the Linuxbrew\n    git clone https://github.com/Homebrew/linuxbrew.git ~/.linuxbrew\necho \"\" >> ~/.bashrc && \\\n\n# Until LinuxBrew is fixed, the following is required.\n# See: https://github.com/Homebrew/linuxbrew/issues/47\necho 'export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/lib/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig:/usr/lib64/pkgconfig:/usr/share/pkgconfig:$PKG_CONFIG_PATH'\n## Setup linux brew\necho 'export LINUXBREWHOME=$HOME/.linuxbrew'\necho 'export PATH=$LINUXBREWHOME/bin:$PATH'\necho 'export MANPATH=$LINUXBREWHOME/man:$MANPATH'\necho 'export PKG_CONFIG_PATH=$LINUXBREWHOME/lib64/pkgconfig:$LINUXBREWHOME/lib/pkgconfig:$PKG_CONFIG_PATH'\necho 'export LD_LIBRARY_PATH=$LINUXBREWHOME/lib64:$LINUXBREWHOME/lib:$LD_LIBRARY_PATH'\n\n;fi\n```. @philtrep Please see above (forgot to tag you). @philtrep I think I figured out the issue (forgot the \\ at end of each line).  Please hold while I confirm the issue (rebuilding workspace now).. @philtrep OK, workspace is rebuilt but brew was not installed (looks like it is being installed correctly when watching rebuild, but nothing there).   \nIf you have any advise on how to fix this, I would greatly appreciate it.   \nFor now, I have linuxbrew installed (doing it manually) but would love to get this added in core :-). @philtrep \nWhen you have a chance, can you please review my PR  https://github.com/laradock/laradock/pull/543. Feature added (see above) . @philtrep sounds good, I will get it updated this evening. . @philtrep OK, all done (I have updated the README.md file)  Please let me know if you need anything else.. @philtrep @Mahmoudz @appleboy \nI completely agree! Also, leads to some \"confusion\" based on the name laradock I am thinking, if this project wants to be the official docker package for Larevel, it should stay focused to laravel.  \nI am willing to help the cause best I can.  @philtrep knows my work (with the two recent PRs). @philtrep @Mahmoudz @appleboy \nI am primed to help maintain / triage this repo as I only use Laravel for PHP work. @philtrep in this case, these are global modules, not specific to project.  \nFor example, I have a number of modules which I install globally on local development which I keep reaching for but aren't installed (available from workspace)\n$ npm i -g npms-cli\n$ npm i -g package-menu-cli \n$ npm i -g np\netc . @philtrep regarding prefix, will do :). @philtrep I get what you are saying. I will go down that and see how it flows. Making this the \"official\" docker project one feature at a time :). @philtrep Starting work on this item.... . @philtrep All done, aliases adjust and updated docs\n. @philtrep @bipinu The link mentions use of Dockerfile-56, but I believe it should be \nhttps://github.com/laradock/laradock/blob/master/workspace/Dockerfile\nas it should NOT be specific to a specific version of PHP (which Dockerfile-56 is from)\n. @bipinu Are you planning to update this to implement comments from @philtrep (about INSTALL_ZSH) switch in docker-compose.yml as opposed to forcing it on users?\nIn addition, please see my comment above about actual location of update.. @StephenHepp Trying to reproduce this locally, but all is working fine.  Could you please supply any reproducible steps.   Also, when are you seeing this error occur?. @appleboy I have tried to reproduce locally as well, but all is fine in my attempts. . Do you have any this automation task executed whenever you docker-compose or only done first time?. @Mahmoudz I like the format used by Netflix (not a big gamer so ... :-) \nThis one does look complete (https://github.com/Netflix/Hystrix/wiki/Configuration)\nIn addition, might want to consider airbnb style guide format (https://github.com/airbnb/javascript)\nI am willing to help upgrade documentation . @mahmoudz I am not sure on the tools, but I will do some research and get back to you.  . @Mahmoudz Funny you mention Jekyll, I am looking at this right now :-)\nI have always considered using it for my repos, but didnt want the overhead as none of them are highly used projects.\n. @Mahmoudz If you want to add me, I will do the forking dance and get started with contribution :-). @gagrine I am working on this very task.  Hope to have it wrapped up this weekend. I will be creating a video along with written instructions to add to documentation when it is all done  . @gagarine sorry for name typo, replying on phone and it doesn't support auto complete for names :). @gagarine I have learned that half the battle (if not higher) is the myriad of attributes that storm requires (kind of convoluted).  Stay tuned, another long night and day tomorrow still on my horizon \ud83e\udd13. @gagarine while this is surely possible, it will be a hefty task as there are so many different technologies and options available in laradock.   \nHaving said that, writing a set of core tests to perform heartbeat tests for the various services is more in line with what you are asking for. . Definitely functional/integration testing would suffice (really hard to define \"units\"). I will write up some soft specs to get things started.  \nI don't have enough experience with all myriad of features so can't do complete coverage, but it can be a solid work in progress and a good base for others to chime in where need be . @philtrep I agree, hence the reason I said I would create some soft specs as to what will be required. . @philtrep @gagrine @scoutman57 I was thinking of using JavaScript if only because that is what I have most extensive.  I have done some prelim working using JS and seems to be a good direction.  . @mouyong thank you for your contribution.  Seemingly straight forward.  Did you perform this on Windows?  We are trying to make sure each PR gets tested on Windows as it can be \"funky\" \ud83d\ude0a. @franceslavoie famous last words :) I assumed that, but one never knows.   Thx though, updating now!. This is a typical warning whenever Node is executed.  There is nothing to worry about :(. @thundersword this won't be the last time you ever see it in your console \ud83d\ude09. @stanleyli60 @scoutman57 Any chance you can create a simple repo with all this code so I can try it locally (using Windows 10). @sasaorz what tool (and version) are you using to execute docker-compose. The problem with this addition is when you have multiple docker projects (outside of laradock). Making this global could effectively up the wrong docker config.   I don't know that we want to make this a built-in command . @31H0B1eV What I am saying is, you could have laradock in any number of directories (not specific to ~/laradock .   When executing docker-composer ... it will use the docker-compose.yml located in the directory where you execute docker-compose (ala the way artisan works).\nUnlike Homestead (where you have most likely extracted the laradock method), laradock is not specifically a global tool.   \n\n\nhomestead can work globally as it has a single Homestead.yml which configures all directories etc.\n\n\nlaradock is not global by nature, thus should not be a globally access tool. @31H0B1eV Well, I stand (well I am sitting) corrected it appears.   ;-)\n\n\nI am going to give this PR a try and see how it works.  My apologies for making some seemingly bad assumptions.. @winfried-van-loon With all these PRs, I am a bit confused as to what is what.   Can you please summarize for me before I go through the process of the merge process (this is going to take a decent amount of testing to make sure all the pieces fall in line). @winfried-van-loon Sounds good, I appreciate it.  I too am at work at the moment, but will try and get these reviewed and merged in next couple days.. @kp77 I had the same error earlier today, but was able to cure it by cloning a fresh copy of the laradock repo.   I just saved my .env file along with the webserver configuration and reinstalled docker-compose up -d mysql nginx. @mahmoudz so, since you have closed this issue, am I to assume selecting PHP71 in .ENV file should actually work?  If so, spread the secret.  . @winfried-van-loon @suncoastkid This was an old issue which has been resolved.  Are you sure you have the latest version of laradock pulled down\n$ git pull https://github.com/laradock/laradock\nAlso, the issue only occurred on Windows as I recall (I cant lookup past issues at the moment)\n. See this ticket for details\nhttps://github.com/laradock/laradock/issues/563\n. Integrate pip as well when performing this task\nhttps://github.com/laradock/laradock/issues/791. I use http://mycli.net/ which is written in python, thus requires python to exist :-) \nIt is quite an edge case, thus reason I have just thrown it out there to see if it sticks.  I can surely install it on an as needed basis.  I was in a situation where I was having to kill / recreate my containers so frequently, it was frustrating.\nHowever, now that my workflow has stabilized, this is not as \"important\".   If I have to recreate the mysql container, I just run a bash script to install the extra stuff I use.\nAt some point, I will readdress this issue, but for now, I am just moving forward with what is on by default.\n. @Mahmoudz I am not quite sure why I closed it, surely something that is still a good addition (as you have stated).  Maybe I just hit the wrong button!. @jamerainfo while laradock does not support this (I will add as a feature request). It can be done quite easily after docker-compose... up command \nJust enter the my sql container \n$ docker exec laradock_mysql_1 /bin/bash\nThen inside container, log into MySQL\n```\n$ mysql -uroot -proot \n\nmysql CREATE DATABASE name;\n``\n. @ajmerainfo my apologies for misspell on name, git on iPhone is rough without autocomplete.  Please see (Watch) this ticket for feature support -- https://github.com/laradock/laradock/issues/773. As outlined in.ENV`\n\n```\nPHP version (Does not apply for HHVM)\nPHP_VERSION=56\nPHP_VERSION=70\nPHP_VERSION=71\n```\n. @Mahmoudz If you have any free time, could you please review this issue.  It all looks right to me, but I am not sure if there is something else causing the problem.. @bestlong So, assuming I want to build a workspace container with PHP 7, I can replace reference of 56 to use 70?. @FairHypo If you use PHP_VERSION=70 it will actually install PHP 7.1 \n. @iannazzi what items remain unanswered?  Would like to get this resolved and documentation updated for better clarification.  . @winfried-van-loon Is this the issue which fixes my reported issue of PHP71 not being installed?. Use the following:\n```\n$ apt-get update && apt-get -y upgrade\n$ apt-get install python-pip\n```\n. @Mahmoudz @activeobjects I will be updating document (need to document setup and configuration guide for Apache2 -- seeing as @Mahmoudz doesnt like Apache2)   I will make sure it includes the updated guide for this PR as well . @winfried-van-loon No, it is not installed by default so far as I can tell.  I need to rebuild the workspace container (but not sure how to do that right now, ie which DockerFile should be used 56 or 70) .  \nFurther apt-get install vim is indeed the core requirement, just want to do that automatically.  Surely something I can do manually (along with a few other packages I always install) .  But I am configuring a container for our entire dev team (22 devs) and I dont want each dev to have to install vim manually)\nIn short:\n$ apt update\n$ apt install vim\n. @winfried-van-loon Actually, my issue was that it is not installed in the mysql container.. I will take it upon myself to close the issue as I opened it.  Clearly folks like @thorerik feel I am wrong.  Yes, I can easily do it myself so I will just leave it at that.. @zuohuadong @Mahmoudz @appleboy Has this been completed?. @winfried-van-loon Can you please address the (new) merge conflicts?  I will get this merged as soon as it is clean :-). @markhilton Would you mind supplying your .env file?  I just rested with the default .env file (from laradock repo) and all is working correctly.\n. @markhilton great, glad to hear.  I am going to close this issue. . @chisumo2016 Please supply the addition information requested by @bestlong \nUnable to assist without more inform.  I will leave this issue open for another week (will be closing 2017.05.19 if no more information supplied).. @winfried-van-loon I am willing to take on this task, but don't want to waste time if some work has already been done.  If you (or anybody for that matter) have produced a working solution, please feel free to share with me.  I will create a clean organized version accordingly. . @winfried-van-loon I have started on verbose documentation on this very subject.  If you want to take it, that is fine by me, no sense in doubling the effort.  . @a-h-abid Please make sure you have the latest version of laradock, as this issue has been cured long ago.\nbash\n$ git pull https://github.com/laradock/laradock\n. @a-h-abid I will have a look closer at this issue.  But, it only happens on Windows and thus the reason it was fixed long ago (again on windows).   \n. @bestlong Thanks for the PR, looks like it will address the issue.  . @winfried-van-loon @jhkueh I completely agree, this is why it is an option.  Not every developer would want this on by default.   . @winfried-van-loon this is already an option in the .env file, what more is required.  I am sure this works as planned (I have it enabled for my projects)\nhttps://github.com/laradock/laradock/blob/master/env-example\nline: 64\n. @winfried-van-loon Can you confirm/deny this one seeing as you have done a lot of work around this stuff (much appreciated).. @winfried-van-loon Thanks \ud83d\udc4d . We should test this from a scratch install to make sure the entire process is working.  I know there has been a lot of work lately around this functionality, need to make sure the documentation is up-to-date to date as well.\n@winfried-van-loon @Mahmoudz Do you know if the documentation of using xDebug is current?. @ciliehub We appreciate the PR.  If you have performed the installation from scratch and are able to successfully debug, would like to know precise steps (we have had a large number of users who cant make it work). @rasparac what error are you receiving when attempting to create the user.  Can you share exact command and error (copy / paste if you can). I have this on my back burner to add in a future version.   Just need to find the time to get this added.  It is really quite simple to install manually in the meantime.  \nOne of the things that need to be handled is copying over the ~/.myclirc as well during installation (I have my pretty customized).  Again, this could be done manually.\nI have a number of other enhancements I plan to incorporate during this time as well.\nTime is precious ;-). @luciano-jr Maybe I will find some time this weekend to get this added :-). This ticket needs more information so that we can proceed with offer assistance.  If you can supply the necessary details as outlined in the issue request, we can address it easier \nIn addition, if you could please supply your version of .env and docker-compose.yml that would be helpful . Can you please upgrade your version of docker and try again . @uniraymond Can you please provide steps necessary to reproduce.  All works on my end with a new pull, etc.. ",
    "delmicio": "@mikeerickson please contribute with your solution. This also gets fixed by changing the DATA_SAVE_PATH environment to a internal one inside the container\nDATA_SAVE_PATH=/laradock_data. @a-h-abid yes, it worked for me on windows 10. ",
    "fanly": "But, I have something wrong with when I run 'npm install' in the application container or workspace container:\nnpm ERR! Linux 4.4.12-boot2docker\nnpm ERR! argv \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\"\nnpm ERR! node v4.2.6\nnpm ERR! npm  v3.5.2\nnpm ERR! code EAI_AGAIN\nnpm ERR! errno EAI_AGAIN\nnpm ERR! syscall getaddrinfo\nnpm ERR! getaddrinfo EAI_AGAIN registry.npmjs.org:443\nnpm ERR! \nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /var/www/laravel/npm-debug.log\n. but npm install very slow...\n. ",
    "dimitricappelle": "@LarryEitel I'm also struggling to get phpStorm setup for debugging with LaraDock. Could you please describe what setup you use? \n. ",
    "joemewes": "How do you get around this issue : https://github.com/martomo/SublimeTextXdebug/issues/162\nWith IDE listen PORT and Docker mapped PORT unable to both be started at the same time?\nIDE first results in Docker error port is already allocated\nDocker first and I confirm Xdebug Client.xdebug.protocol.ProtocolConnectionException: [Errno 48] Address already in use\n. ",
    "luciano-jr": "@Mahmoudz I don't think we will have problem to add by default in the container. The key here is that most developers don't know about Prestissimo, maybe we could just recommend in the documentation or something like this.\n. That is awesome! Thank you @Kauhat \ud83d\udc4d \n. I will look for a solution for this warning\n. What you have in your DATA_SAVE_PATH variable in .env file?. ",
    "kauhat": "@appleboy That's probably a good idea - it would be handy to have nvm already installed.\n@Mahmoudz I've rebuilt my dev environment and things have gone smoothly on my end. If it's alright with you folks I'll double check the patch at home later on and let you know how things go.\n. @appleboy Okay then, let me know if I can help you test your request once you're ready.\n. Do you know if the built-in apache server is running on your system? It looks like something is already using port 80.\n. I'm also using the Docker Windows Beta, and I'm getting the same issues on my home PC. It seems not to be a LaraDock problem, as other containers can't see the file system either. Can you folk see any of you user files by running the below command?\ndocker run -v c:/Users:/data alpine ls /data\nHere's the biggest thread on the forums about the problem. You might find something that works there (e.g. turn the firewall off), although nothing has fixed it for me yet.\nVery strange since it's always worked fine on my work computer.\n. Hi @simongas \nCan you double check your docker IP address using the following command, as it may be something other than 127.0.0.1.\nifconfig docker0 | grep 'inet' | cut -d: -f2 | awk '{ print $1}' | head -n1\n. Verified working for me using Docker for Windows version 1.12.0-rc2.\nroot@81f00ca78097:/var/www/laravel# node -v\nv6.2.2\nroot@81f00ca78097:/var/www/laravel# npm -v\n3.9.5\nroot@81f00ca78097:/var/www/laravel# gulp -v\n[08:48:57] CLI version 3.9.1\n[08:48:57] Local version 3.9.1\nroot@81f00ca78097:/var/www/laravel# bower -v\n1.7.9\nThanks!\n. #104 \n. @Mahmoudz I could never figure this on our I'm afraid - setting a default value using the below prevents the warning, but the flag in the .env file doesn't seem to work.\nworkspace:\n        build:\n            args:\n                - INSTALL_PRESTISSIMO=\"false\"\n    ...\nIf I figure it out, I'll let you know, as it may be useful for other things later on.\n. Just a heads up for Windows, docker-compose run workspace bash doesn't seem to work properly yet. E.g:\nERROR: Interactive mode is not yet supported on Windows.\nPlease pass the -d flag when using `docker-compose run`.\nPassing the -d flag will run the container in the background, which isn't what we want in this case. For that reason I'd recommend keeping the existing commands in the readme for Windows users.\n\u03bb docker -v & docker-compose -v\nDocker version 1.12.0-rc2, build 906eacd, experimental\ndocker-compose version 1.8.0-rc1, build 9bf6bc6\n. This seems weird. Can you try replacing the data container definitions in your docker-compose.yml file with the below:\n``` yaml\nDatabases Data Container\ndata:\n    build: ./data\n    volumes:\n        - ./data/mysql:/var/lib/mysql\n        - ./data/postgres:/var/lib/postgres\n        - ./data/mariadb:/var/lib/mariadb\n        - ./data/memcached:/var/lib/memcached\n        - ./data/redis:/data\n        - ./data/neo4j:/var/lib/neo4j/data\n        - ./data/mongo:/data/db\n\n```\n...that should store the database files in a directory local to your Laradock installation.\nI'm not entirely sure what the purpose of binding to /var/lib is - perhaps so that you can use existing databases on your system? It does sound a little scary! \n. Issue #96 May also be relevant here.\n. Hi @massiws \nThe first warning is my fault! You can probably ignore that, as it doesn't have anything to do with the nginx & mysql containers.\n. Hi @tiagoloureiro89 \nThat's my fault - the INSTALL_PRESTISSIMO variable can be set using an .env file inside the laradock directory. It shouldn't cause any issues, but if it's not set then compose will throw the above warning.\nI was hoping that there would be a way to set a default value for this in the compose file to prevent this warning, but it appears that this isn't possible right now.\n@Mahmoudz it's been bugging me too, so I'll submit a pull request later to set the variable in the docker-compose.yml file instead.\n. #146 \nCould replicate on Windows Beta after running docker pull php:7.0-fpm.\n. Seems to coincide with a today's update of the official php images. Would need to dive a little deeper to find how it broke - although I believe it's linked to this file as a memcached directory doesn't appear to be in the ext directory of the PHP tarball that the script downloads.\nIn the meanwhile, you can build the container by deleting the # Install Memcached for php 7 section from the php-fpm/Dockerfile-70 directory.\n. I don't think Laravel uses memcached by default, so it may be a worthwhile idea to put it in a separate container if possible, or Redis instead!\n. @computerfr33k I've tested your fix on my machine, and it works great!\nI've also made a fork with alternate versions of php-fpm for 5.6 & 7.0. These images use PHP packages from Alpine's testing repository, so it's a little easier to add and remove modules. (As long as they exist in the repository!) As the compiling step is skipped, the initial build is also a little faster for me.\n. Hi @fresnizky, see #147 for fixes.\n. I'm really liking the changes you made in 3.0.0 and up @Mahmoudz!\n. I'm not sure if I follow correctly, is your node server also a docker container? You can expose port 3000 using the ports property in your docker-compose.yml, e.g:\nyaml\n    node:\n        ports:\n            - \"3000:3000\"\n. That looks fine to me!\nI'd recommend to try running docker-compose build node and check for errors. Sometimes if there is a build error the container will stop immediately without much of a warning.\nIf that's good, double check the container is running with the 3000 port open using docker ps.\nFinally try docker-compose logs node - this will let you know if the PID 1 process node (As described with CMD) ends or runs into an error. If this process finishes, the container usually stops, so a startup problem can stop the container immediately, even if docker-compose up -d appears to be successful.\n. You might need to map the volumes to use that file if you haven't already. You can use the below in your docker-compose.yml to to this:\nyaml\n    node:\n        volumes_from:\n            - volumes_source\nThe file should then be accessible at /var/www/laravel/socket.js.\n. Hi @mruzekw \nCan you try updating the volumes_data container definitions in the docker-compose.yml with the below:\nyaml\n    volumes_data:\n        build: ./volumes/data\n        volumes:\n            - ./data/mysql:/var/lib/mysql\n            - ./data/postgres:/var/lib/postgres\n            - ./data/mariadb:/var/lib/mariadb\n            - ./data/memcached:/var/lib/memcached\n            - ./data/redis:/data\n            - ./data/neo4j:/var/lib/neo4j/data\n            - ./data/mongo:/data/db\nI believe this is because LaraDock will try to use system directories by default, which it can't access as  your log shows.\n138, #139, #170\n. Hi @Selsynn \nCan you try running docker-compose up -d nginx postgres workspace (note the extra -d!) as this will launch containers in the background and may help.\n. Nope, you can use just php-fpm if you want to, it's just launched automatically alongside nginx!\n. @GeoIntranet I'm not sure about the Mac version, but from my experience with the Windows Beta the IP address of the VM is displayed in the networking section of the settings. I believe that a recent update will also try to map containers to localhost - but I'm still able to reach things by the original IP. Might be worth a shot if you've not tried already @mruzekw \nYou can also try using the root MySQL user, the username/password of which should be root root if you've not changed these already. I tend to use the root user in HeidiSQL as I can create/edit other databases as well as the default homestead one.\n. Working great on my end!\n/ # cat /etc/*-release\n3.3.3\nNAME=\"Alpine Linux\"\nID=alpine\nVERSION_ID=3.3.3\nPRETTY_NAME=\"Alpine Linux v3.3\"\nHOME_URL=\"http://alpinelinux.org\"\nBUG_REPORT_URL=\"http://bugs.alpinelinux.org\"\n. The workspace container seems to be being built even though you didn't specify it in the command above, and the problem seems to be happening there. I'm not sure why that is.\nIf you chop the below out from the php-fpm section of the docker-compose.yml you may be able to get nginx, postgres and php-fpm up without getting caught up in the workspace build.\nyaml\n        links:\n            - workspace\nAs for the actual issue, I'm not sure!\n. Some previous discussion on this: 68576f9022df23bf9f28cf9f17855aa207bd8e70\n. I'm using docker-machine at home and the new beta at work and I've not had any problems with the above on either installation. Has it been the same VM causing problems?\nAdditionally, it might be worthwhile to add the :z label to each of the volumes, as these are shared between containers.\nSome more info\n. If you've already enabled shared drives etc...\nI've personally never been able to access files on one of my PC's due to some sort of issue when mounting CIFS shares from the Hyper-V VM (Although it doesn't happen  for me on virtualbox!)\n. Hi @nojaf,\nCan you paste the output of nvm current and nvm use node?\n. Hmm, how strange. Can you try exec'ing into a login shell using bash -l. That may load source some additional things.\nAlso: can you try running su laradock inside the container and try nvm etc again.\n. Hi @CreativeKoen - I think the setup process Laradock has changed quite a lot since this issue. Have you set WORKSPACE_INSTALL_NODE and WORKSPACE_INSTALL_YARN in your docker/.env file?. On building for me it hangs for a little while at that point, but then prints out the whole npm tree with what seems to be the wrong encoding.. For the record I'm on Windows as well - All out of ideas I'm afraid!. ",
    "nWidart": "I'm assuming you're talking about the docker-compose.yml file.\nIt already contained the following\nworkspace:\n        build: ./workspace\n        volumes_from:\n            - application\n        tty: true\nSo I added the links-mysql part and ran a docker-compose build. \nI still see the \"The site can't be reached\" error.\nI'm not sure what you mean by \n\nlink mysql to your workspace container and change DB_HOST to mysql value.\n\nInstead of using an IP, I should use the string mysql ? (It's the same when doing that. This shouldn't be the cause of the issue since base laravel install doesn't need mysql to run)\nThanks\n. I don't know if this helps, but in Kinematic container list I see the following (some aren't marked as running):\n\nAlthough even when I run them via the GUI, it still shows the error.\n. Hello,\nI'm getting the same This site can\u2019t be reached error after rebuilding the containers, and browsing to http://192.168.99.100/.\nDocumentation isn't very clear on what to do, but when running docker-compose up -d  nginx mysql it errors too:\n```\nCreating laradock_volumes_data_1\nCreating laradock_volumes_source_1\nRecreating laradock_workspace_1\nRecreating laradock_mysql_1\nRecreating laradock_php-fpm_1\nRecreating laradock_nginx_1\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (e12bceac2bd92a93322b091fd534a54160d9a2ecb1f35d8fb3125079aef39a4e): Error starting userland proxy: Bind for 0.0.0.0:80: unexpected error (Failure EADDRINUSE)\nERROR: Encountered errors while bringing up the project.\n```\n. Hello,\nOh indeed, that's correct. docker-compose up -d nginx mysql now runs without errors.\nHowever the site is still not accessible. \n. ",
    "jpellissari": "Hello, I was facing the same issue when trying to access my laravel app with the default ip. I was able to access it with http://127.0.0.1. Give it a try and see if it works. \n. ",
    "datlethien": "Hello,\nI followed the steps on document and runs without errors. However the site is not accessible.\n\nThis site can\u2019t be reached\n. \n",
    "sherkhanz": "Hi,\nI am facing the same issue. I am using docker in ubuntu on vmware workstation. Everything is working fine and even a ping to localhost or 127.0.0.1 returns the nginx. But when I try to access it from my host OS or when I use the ports like 8080 then I get the connection refused response. Has anyone figured our any solution to it? \nThanks\n. Thanks @sc0Vu  \nI tried that but unfortunately the problem still persists. Laradock got installed properly. It's first time I am dealing with virtual networking. So far, I have done the following things but all are fruitless:\n1. The vmware has all the three virtual network types sat. Bridge, Host-only, NAT and the later two are connected to my host OS which is through Ethernet. (Created by Vmware most probably through drivers). \n2. The Guest OS which is ubuntu 16 server, is giving default nginx response for ping or curl of either localhost or 127.0.0.1 at port 80\n3. Guest OS is able to utilize NAT and download images from internet\n4. All firewalls on Guest OS are disabled\nThe last thing I want is to be able to connect to the nginx on guest OS through http, ftp and ssh from host OS. I am new in this field that's why I have no idea what and where am I missing anything. \nRegards, \n. ",
    "sc0Vu": "Hi ,\nI met this problem before(return nginx and refuse connection), I found my problem was my directory.\nDue to volumn_source mount .. to /var/www/laravel and nginx use /var/www/laravel/public.\nMaybe you can check your directory(laravel project need to create in ..).\n. Hi\nI met this problem before.\nFinally, I found there is another docker container use port 443.\nMaybe there is other application use port 443.\n. Maybe you can edit laravel.ini in ./php-fpm or you can mv your ini files into php-fpm container ./usr/local/etc/php/conf.d\nHope this helps.. Maybe you should follow these install instruction:\nhttps://github.com/laradock/laradock#Installation\nhttps://book.cakephp.org/3.0/en/installation.html\nRemember to enter workspace  container to install cakePHP project\nMaybe you need to set httpd.conf or nginx.conf root correctly\nHope this helps.. ",
    "KerryJones": "Why was this closed?. ",
    "sirago": "I'm getting this too. I bashed into my nginx container and the only thing I see in /var/www/laravel is a laradock folder.\n. I was able to fix this on Windows 10. My issue was with the Docker beta. No containers were able to see my files. The fix for me was to create a new Windows account and share that account with Docker. I'm not sure if it was an issue with my account being a Microsoft account or special characters in my password. \n. ",
    "ivanji": "Exactly the same here. Stuck as well. I'm using the Docker Beta. I have all my projects on a different drive - so I selected it under my 'Shared Drives' thinking this was the cause, but even if my test project is under C:\\Users.. I dont see any of my files. \n@kneipp are you also using this beta version?\n. oh yes, definitely not a Laradock issue. Thanks for that link. I'll investigate further and see if any of that solves it for me - and post back. Thanks for your help.\n. Thanks again for providing the link to that thread - after a couple of days of playing around with this I managed to find the cause - Norton Firewall. Don't know if I should be happy that I solved it or sad that I wasted so long in such a silly issue. I'm trying to stay positive, at least I got to understand Docker a bit more. \nThis is the link with the solution that worked for me: https://forums.docker.com/t/volume-mounts-in-windows-does-not-work/10693/80\n. same here - everything was working fine and decided to do a Laradock update and now I'm experiencing the same error. The above solution didn't work for us.. ",
    "kneipp": "Here \n$ docker -v\nDocker version 1.11.2, build b9f10c9\ndocker_application_1 exited with code 0\n$ docker-compose.exe ps\nName                     Command             State                     Ports\ndocker_application_1   true                          Exit 0\ndocker_data_1          true                          Exit 0\ndocker_mysql_1         docker-entrypoint.sh mysqld   Up       0.0.0.0:3306->3306/tcp\ndocker_nginx_1         nginx                         Up       0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp\ndocker_php-fpm_1       php-fpm                       Up       9000/tcp\ndocker_workspace_1     /sbin/my_init                 Up\n. After wasting my time in the last two days, i have found a solution:\nIn .env file set this PATH: \nAPP_CODE_PATH_HOST=/d/your-workspace-path/your-project\n** \nRunning Windows 10 18.03?\nCreate and modify the new WSL configuration file:\nsudo vim /etc/wsl.conf \n[automount]\nroot = /\noptions = \"metadata\"\nRestart your computer and profit! \n** Credit: https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly. ",
    "simongas": "Thanks for answering, I will check as soon as I can. =)\n. I did it and the ip is 172.17.0.1 but the same error appears \nMcrypt PHP extension required. \nanyone had the same issue? \n. Thanks zhikiri, Im really new to docker, just trying it on my spare time which is very limited =/\n. ",
    "zhikiri": "Yes, mcrypt is missing.\nBut it's really easy to add it. You need just modify the php-fpm/Dockerfile-XX with mcrypt information.\nYou need to install the: libmcrypt-dev and add RUN docker-php-ext-install mcrypt after.\n. No problem, @simongas I'm not really familiar with docker too :) \nAbout this issue, you can check my PR find solution there\n. I agree with this. \nI just using the php 5.6 currently. But ok, I will make it for others too :)\n. Added supporting of the ruby container\n. No, the problem was with PHP driver.\nI've changed the mongo part of dockerfile for PHP-FPM to this:\nRUN curl https://pecl.php.net/get/mongo-1.5.8.tgz > /tmp/mongo.tgz\nRUN tar -xpzf /tmp/mongo.tgz -C /tmp\nRUN mv /tmp/mongo-1.5.8 /usr/src/php/ext\nRUN docker-php-ext-install mongo-1.5.8\nRUN pecl install mongo && docker-php-ext-enable mongo\nAnd now it work\n. @datnq201088 Hi, please try to check permission for project folder on your host machine\n. @appkr I had the same error, use Docker Toolbox if you need fast solution (it work for me).\n@Mahmoudz I'll see for this issue on this weekend\n. ",
    "canfone": "How to install npm and node to your workspace container? Thanks! and sorry for my ignorance.. @aniamin \nAny updates about you trying to deploy to ECS? I am currently working on deploying laradock containers to AWS elastic beanstalk but I don't know where or what to start. That would be great if you can share some knowledge. \nThanks!. @davehensley Thanks for your answer. In that case, do I need to create each repository for each images in my ECR? For example, one for nginx, one for php-fpm, etc? Or I can create just one repository and tag all of them in that one repo? \nSorry for my ignorance. Hope you can help me.. @davehensley \nThanks for your quick response.\nI followed your instructions but I encounter this error when deploying to eb\nDockerfile and Dockerrun.aws.json are both missing, abort deployment\nI believe that there are processes I need to do before the steps you suggested. I don't know where or what to start. Do you have any suggestions or ideas what things I need to be done before following the steps you gave?\nThanks.. @davehensley Thanks for your reply.\nI'm using awsebcli to create my EB app. I think I managed to create the app and deployed it to elastic beanstalk. However, my nginx configurations were not included in the nginx image of my ECR. Also, the application files is not in /var/www inside workspace container. It is in /var/app/current instead. Maybe there are bindings I missed that's why those files were not properly located in my containers.\nBy the way, my laradock folder is outside the laravel application.. @davehensley Nevermind my previous comment. I managed to mount nginx conf files. I just need to use volumes. Thanks for your help.. ",
    "IsiRoca": "@canfone Go to your .env file and change the \"WORKSPACE_INSTALL_NODE\" value in WORKSPACE section:\nWORKSPACE_INSTALL_NODE=true. ",
    "lechengyu": "@LarryEitel the solution works!  Thanks!. I am running laradock on windows10 with docker 1.12.5(9503),  and the host ip in docker is 172.18.0.1.\nThese settings works for me:\n\n\nfor laradock configurations, set  xdebug.remote_connect_back = 0\n\n\nin phpStorm debug configurations, set the interpreter options \n\n\n\n\n. I have the same problem when I switched php from 7.0 to 5.6,  not only the Exif but also the Redis Extension lines missing from Dockerfile-56,  paste these lines into Dockerfile-56 solved it.. \n",
    "aniamin": "I was asking for some help as I am getting it little bit difficult to\nmanage multiple containers through ECS\nOn Wed, Jun 29, 2016 at 12:07 AM, Mahmoud Zalt notifications@github.com\nwrote:\n\n@aniamin https://github.com/aniamin I was working on that to include it\nas part of LaraDock but didn't finished it. Would be awesome if someone can\ncontribute with that.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/124#issuecomment-229133077,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AFoiAcRYuzhUrNxlP5Xq74YHMZvo555bks5qQWL3gaJpZM4JAW4B\n.\n. \n",
    "warrence": "I also would like to know how to deploy Laradock to ECS, any updates?. ",
    "lozadaOmr": "@appleboy I think it is supposted to be DB_CONNECTION=mysql on my .env file and add that entry.\nBut still no difference.\nBy the way, here is a screenshot of my docker-compose logs mysql\n\n. @benmag Doing docker volume rm $(docker volume ls -qf dangling=true) but with same result.\n. @benmag Thanks, after emptying /var/lib/mysql and restarting containers and waiting for it to start.\nI was finally able to successfully run php artisan migrate \n. ",
    "ddeath": "I can confirm that if I change docker-composer.yml to contain:\nDatabases Data Container\ndata:\n    build: ./data\n    volumes:\n        - ./data/mysql:/var/lib/mysql\n        - ./data/postgres:/var/lib/postgres\n        - ./data/mariadb:/var/lib/mariadb\n        - ./data/memcached:/var/lib/memcached\n        - ./data/redis:/data\n        - ./data/neo4j:/var/lib/neo4j/data\n        - ./data/mongo:/data/db\nThen docker will not change the permissions. But it is weird to me that docker is changing the permissions. Is it safe to use it then?\nProbably I still do know only little about docker...\n. ",
    "jon-heller": "Thanks so much, I was pulling my hair out because of this\n. ",
    "slava-vishnyakov": "I'm not sure what Docker \"Native\" is, but if it is Docker for Mac (beta) - it seem to support it:\n\n. And previously I had Docker Toolbox on Mac - and it definitely supported this command.\n. ",
    "neon64": "I am using the intervention/image PHP library. It complains that the function imagecreatefromjpeg doesn't exist. This is because in Dockerfile70 for php-fpm, gd is built without specifying libraries for JPEG/PNG/etc, only free type. To fix it, I think you need to add --with-jpeg-dir=?? and so on for each image type. The issue is I don't know how to get those required libraries.\nAlternatively, I should be able to (at least on Ubuntu 16.04) apt-get install php7.0-gd. that also doesn't work because docker != Ubuntu (correct?)\n. ",
    "andrewelkins": "Getting an error with GD running master.\n\n[2016-08-01 20:26:47] local.ERROR: Intervention\\Image\\Exception\\NotSupportedException: GD Library extension not available with this PHP installation. in /var/www/laravel/vendor/intervention/image/src/Intervention/Image/Gd/Driver.php:16\n. \n",
    "knnnrd": "I'm having the exact same problem and would also like some help/explanation on this.\n. This is not really a solution for a development environment imo\n. ",
    "jleonardolemos": "I'm having the same problem.\n. @filipac your code works fine!! thanks!!. ",
    "nbicalcarata": "+1\n. I'm having the same problem, and i have a question, there is any side effect running the command like this?\ndocker exec -it --user=laradock laradock_workspace_1 ./vendor/bin/phpunit. ",
    "mitjarobic": "+1\n. http://www.projectatomic.io/blog/2015/06/using-volumes-with-docker-can-cause-problems-with-selinux/\nFixed it by adding ':z' in docker-compose.yml\nvolumes_source:\n        build: ./volumes/application\n        volumes:\n            - ../:/var/www/laravel:z\n. DB_HOST=postgres did the trick\n. Thank you:)\n. same problem... i changed the name of laradock folder... that seems to help\n. i get the same problem... no changes to initial settings\nnginx: [emerg] host not found in upstream \"php-fpm:9000\" in /etc/nginx/conf.d/upstream.conf:1\n. after rebuild in restart it works now\ndocker rm -f $(docker ps -qa)\ndocker rmi $(docker images -qa --digests)\ndocker-compose up --build -d nginx mysql. @ntopulos settings are default...haven't changed a line. But when it happens, i need to restart my computer.. i am getting the following error in ubuntu\nService 'workspace' failed to build: One or more build-args [INSTALL_MSSQL] were not consumed, failing build.\n. ",
    "computerfr33k": "You could include a script similar to this in the workspace container to specify a specific user id to run as solving the permissions problem. https://github.com/linuxserver/docker-baseimage/blob/master/10_add_user_abc.sh\ncreate default user\ndockerfile\nRUN useradd -u 911 -U -d /config -s /bin/false abc && \\\n      usermod -G users abc && \\\n      mkdir -p /app/aptselect /config /defaults && \\\n. I have worked around it by doing this:\n``` dockerfile\nInstall Memcached for php 7\nRUN curl -L -o /tmp/memcached.tar.gz \"https://github.com/php-memcached-dev/php-memcached/archive/php7.tar.gz\" \\\n    && mkdir -p memcached \\\n    && tar -C memcached -zxvf /tmp/memcached.tar.gz --strip 1 \\\n    && ( \\\n        cd memcached \\\n        && phpize \\\n        && ./configure \\\n        && make -j$(nproc) \\\n        && make install \\\n    ) \\\n    && rm -r memcached \\\n    && rm /tmp/memcached.tar.gz \\\n    && docker-php-ext-enable memcached\n``\n. replace the code block here: https://github.com/LaraDock/laradock/blob/master/php-fpm/Dockerfile-70#L38 with the code I wrote above.\n. If you don't need to use nginx, I added caddy server which would allow you to easily enable SSL by commenting out the tls option in the Caddyfile.\n. I think the best way to accomplish this might be to have the most common defaults as a pre-built image and then if the user wants to customize the software installed, they would have to then build the container manually from the dockerfile, which is what I think you're saying above.\n. I can confirm that it works with a fresh laravel project & installation.\nI have also put in a fix because it wasn't actually logging to the log files when the access_log was set to \"on\".\n. I think the workspace link in the php-fpm section should be removed because it doesn't actually need to link to the workspace container for anything & the other way around.\n. where are you storing your laradock folder. Because by default it needs to be in the root of the laravel project since it mounts../to/var/www/laravel` in the container(s).\nex:\nbash\napp/\nlaradock/\n.env\n...\n. @madonion are you behind a proxy as well? Because nginx builds just fine for me, but i'm not behind a proxy. Unfortunately I do not know how to get alpine linux to work with a proxy so you'd have to do some digging around for that.\n. I just tried it on my ubuntu 16.04 server and it worked just fine there as well, and I am also behind a NAT router with ATT Uverse. Which version of docker & docker-compose are you using?\n. You could use this as a workaround and it should work, it just doesn't install the bash shell (which is only useful if you want to log into the container and run commands.).\n``` Dockerfile\nFROM nginx:alpine\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nADD nginx.conf /etc/nginx/\nADD laravel.conf /etc/nginx/conf.d/laravel.conf\nARG PHP_UPSTREAM=php-fpm\nRUN adduser -D -H -u 1000 www-data \\\n    && rm /etc/nginx/conf.d/default.conf \\\n    && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\nCMD [\"nginx\"]\nEXPOSE 80 443\n```\nAs for the actual issue, I'm not sure why your container isn't getting an internet connection as it must be something wrong with your docker setup. If you can, try setting up a new machine or a VM and see if it works on a fresh install.\n. I don't think it would be possible to remove the init system because you need a process to keep the container alive. And I did add the docker-compose exec --user=laradock workspace bash in the readme.\n. I am not using Laradock in production.. I would recommend using Travis CI, https://travis-ci.org/. Here's a repo I setup to test deployment with Travis CI, https://github.com/computerfr33k/hugo-gh-pages-test .\nYou can get an idea on how to set it up from there.\nDocumentation: https://docs.travis-ci.com/user/deployment/pages/. The docs folder is what is defined as the directory for which hugo stores the generated site. These settings are stored under DOCUMENTATION/_settings/config.toml. @dtunes have you explored the hugo website to learn more about it? http://gohugo.io/. The local_dir variable should be defined the same as hugo's publishDir. So, setting local_dir to ../../docs should fix the deployment.. I will do some experimenting with Travis to figure out a solution to being able to build containers and documentation without splitting the project. This should be possible by using Travis build matrixs and defining environment variables to determine what commands should be run in the script.. I have implemented matrix builds for travis to build both docker images & docs. See https://github.com/laradock/laradock/pull/808. @Mahmoudz Travis by default uploads the files to the gh-pages branch. you can switch that in the Github settings or change it in travis to point to the existing docs folder. . Actually I just re-read the docs for Travis GH Pages deploy, and it has to deploy to a branch. https://docs.travis-ci.com/user/deployment/pages/\nBut, all you will have to do for the site to change is have GH Pages use the gh-pages. Do you want the generated site to be in the project source code, because I think it would be better if the generated site lived in a different branch just to keep it separated from the reset of the project.. There is no PR to merge, it force pushes to the gh-pages branch and as u can see has the latest code already.\nOn Apr 17, 2017, 4:28 PM, at 4:28 PM, Mahmoud Zalt notifications@github.com wrote:\n\n@computerfr33k when I try to merge the automated PR from Travis for the\nsite I get this: any idea how to merge this without using my command\nline?\n\n-- \nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/laradock/laradock/pull/808#issuecomment-294598559\n. Did u change the GitHub pages settings to use the gh-pages branch instead of the /docs folder from master? Because I suspect you haven't changed that setting.\n\nOn Apr 17, 2017, 5:00 PM, at 5:00 PM, Mahmoud Zalt notifications@github.com wrote:\n\nSorry I meant to say compare the PR.. Anyway I didn't noticed the\nchange was there already, cause when I visited the docs, I got the same\nproblem http://laradock.io/guides/ I\nthough it wasn't merged, apparently it's just the doc guide link wasn't\nsolved yet. Thanks\n-- \nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/laradock/laradock/pull/808#issuecomment-294606654\n. \n",
    "massiws": "On my Mint (and I suppose many Linux distribution) apache2 and mysql services are enabled and running by default. I have to stop both and the last two errors gone away!\nMaybe, there could be a suggestion in the documentation.\n. ",
    "tiagoloureiro89": "Thanks @Kauhat, that sounds like it would work ;)\nWill wait for the pull to be live and close as soon as it is resolved.\n. ",
    "nunomazer": "Ok, this I know, so I said still a bit confused, but the question is: in wich container should I run mongodump?\n. Hi, any update in this work?. I'm using an installation of Laradock, one for each version I want to work: laradock-56, laradock-70, etc. \nThen I have created bash scripts to execute the version I want, depending of the project I'm working on, so just run dc-56-up, so the script tries to shutdown all instances running and up the one I want. ",
    "yewjs": "@appleboy  Thanks,  just about to do that.\n. ",
    "orette": "Try this sudo lsof -i :3306 to see which process is already using the port.\nYou can then shutdown that process or do a kill PID to end the process if it's not critical. \n. The locale needs to be on the container processing the PHP scripts when the call is made to the web server. I think in your case, this is the php-fpm container. You can enter the container and run the following code. You will need to restart the container once you have completed this.\napt-get update && \\\napt-get install locales && \\\nsed -i 's/# en_GB.UTF-8 UTF-8/en_GB.UTF-8 UTF-8/' /etc/locale.gen && \\\nsed -i 's/# it_IT.UTF-8 UTF-8/it_IT.UTF-8 UTF-8/' /etc/locale.gen && \\\nlocale-gen\nor modify the first RUN command in Dockerfile-70 file from the php-fpm folder to the following code and rebuild the container.\nDockerfile-70\nRUN apt-get update && apt-get install -y \\\n    libpq-dev \\\n    libmemcached-dev \\\n    curl \\\n    libjpeg-dev \\\n    libpng12-dev \\\n    libfreetype6-dev \\\n    libssl-dev \\\n    libmcrypt-dev \\\n    locales \\\n    --no-install-recommends \\\n    && rm -r /var/lib/apt/lists/* \\\n    && sed -i 's/# en_GB.UTF-8 UTF-8/en_GB.UTF-8 UTF-8/' /etc/locale.gen \\\n    && sed -i 's/# it_IT.UTF-8 UTF-8/it_IT.UTF-8 UTF-8/' /etc/locale.gen \\\n    && locale-gen\n. It sounds like nginx is running ok, most likely, the error is on the php-fpm container. Try running docker logs -f CID.\nOr run this script docker logs -f $(docker ps | grep php-fpm | awk -F $'[ ]{2,}' '{ print $7 }').\nThis should follow the log of the php-fpm container. You can then make a request to the server and see the out put in the terminal if there are any errors.\n. Ensure that ../:/var/www/laravel is pointing to the laravel root folder in docker-compose.yml. ../ is relative to the docker-compose.yml file from laradock.\n```\nvolumes_source:\n    build: ./volumes/application\n    volumes:\n        # if laradock is in the laravel root folder\n        - ../:/var/www/laravel\n    # if laradock and laravel root folder are at the same level\n    - ../laravel/:/var/www/laravel\n\n```\nYou can follow this Comment if you don't know how to check the logs as @mattythebatty suggested.\n. ",
    "Vasiliy-Bondarenko": "it is actually successfully started! i don't need to kill it...\n. Seems like it's a problem with Docker for Mac.\nOk. I've used https://github.com/EugenMayer/docker-sync to solve this problem. Not so easy, but it works... Now times are even faster then on VM. \n. ",
    "g0ld3lux": "Im also looking for a solution to scale easily using laradock...\ni found rancher ... still looking and learning... Hope we can Make this Work out in the Near Future , hope others can share also their ideas and experience and make sugguestion How we can improve laradock ...\nfor scaling in production \n. How do you say its more mature , in the sense of?\n. awesome ill check into it thanks\n. ive updated it .... since digital ocean also updated their set up...\nive also added vim , oh-my-zsh and other great stuff for your terminal \nif you watch laracast vim tutorial , ive implemented it all ....\nand make the terminal more beautiful \nHope @Mahmoudz  can update the official docs... \nand include this updated version thanks \nhttps://gist.github.com/g0ld3lux/4145d031bccf66404dcdb78e9c30dc11. This will Fix this ISSUE...\n1.) Check What Kind of Docker Installation You Used...\na.) Windows/Mac Version\nb.) Docker ToolBox\nif you are Using the Latest Version of Docker for Windows or For MAC\nUse the Master Branch...\nThen You Can Do docker-compose up without any trouble \nBUT\nif you are Using the Docker ToolBox , which i am, \nafter you git clone the repo, do a git checkout LaraDock-ToolBox\nIf you didnt do that You will face this issue...\nso Make Sure you Check OUT to the LaraDock-ToolBox Branch\nHOPE IT HELPS \n. I tried installing the native but reverted back to docker- toolbox...\nSince im using both homestead and docker...\nand if i enable hyper-v , it will restrict me creating new images in my virtualbox...\nall the remaining images i have is retained but , \nwhen i installed a new homestead per installation i cant...\nSo i defer to using the toolbox again...\ni hope we can maintain the docker-toolbox branch...\nim willing to help thanks\n. In My Understanding , We Already Have nginx Container...\nwhich is an alpine version... \nIm the One Who Sugguest to have this Feature Anyway...\nI wanna help in anyway... \nGive Ideas , but , ill admit, my understanding in docker is not yet in depth..\nIve tried searching for solution ..\ni found this one is building an image with certbot\nhttps://github.com/jwanglof/docker-alpine-nginx-letsencrypt\nPlease Check if this is compatible with our current settings of our nginx...\nill post other solution also for pagespeed + nginx\n. Hi mate , Im the One who initially suggested this ...\nIve Already Posted for Certbot\nCertbot is Ok as a Separate Container...\nBut I doubt with this another image i found...\nsince it consumes the port of our main container nginx...\nhttps://github.com/wunderkraut/alpine-nginx-pagespeed\nEither we Drop our Main Nginx container and replace it with this one....\nor We Build Our Separate Container for with Nginx Module...\nBut i got No Idea if that would work...\nPlease Check my Idea if it is possible...  and Test it...\n. From that repo i think we can create a more flexible container\nthat has an option to enable pagespeed...\nwhich will be done on docker-compose.yml\nthis will replace the default nginx we have that we can pass an ARG to enable pagespeed installation\nwe need to tweak a bit https://github.com/wunderkraut/alpine-nginx-pagespeed\nto accept argument from our docker-compose which will conditionally install it...\nwhile we add another container for cerbot\nusing this image https://github.com/jwanglof/docker-alpine-nginx-letsencrypt\nIve check this one didnt install the nginx only certbot...\ndocker-comppose.yml\n```\nnginx:\n        build:\n            context: ./nginx\n            args:\n                - PHP_UPSTREAM=php-fpm\n                - PAGE_SPEED=true\n        volumes_from:\n            - volumes_source\n        volumes:\n            - ./logs/nginx/:/var/log/nginx\n        ports:\n            - \"80:80\"\n            - \"443:443\"\n        links:\n            - php-fpm\ncertbot:\n        build:\n            context: ./certbot\n        volumes:\n            - ./certbot/letsencrypt/:/etc/nginx/letsencrypt\n```\nWe still need to Polish it and test... but i hope you get the idea \n. I believe multisite has something to do with\nyour webserver container...\nnginx/apache/caddy\nas i can see... or if you check the docker-compose.yml\ntheres a portion there that allows you to add new site volumes... for nginx...\nits straight forward if you dont need ssl ...\ni dont know for apache..\nbut caddy can be configured using the caddyfile... by adding a new host...\nyou can check the documentation of caddyfile...\n. caddy has own engine for automation of the ssl certificate ive tested caddy made a tweak in caddyfile based on their documentation, i think the only thing left now is apache...\n. Ive added here a pull request , https://github.com/laradock/laradock/pull/548\n. Please Check my updated pull request with Instruction in README.md\nHow to check if it is properly installed ... i already updated the link\nhttps://github.com/laradock/laradock/pull/548. rather than making this an official repo, i think we should focus on Making this Production Ready...\nAnd Ready for scalability , Also we Should Limit the number of stacks that we would maintain...\nbasically we can add unlimited images, but that would sucks and confuse many people...\nmaybe we can have a Core Stack, where we have the basic \nphp , mysql , redis , nginx , laravel, node\nthen a plugin stack , for example HAProxy and etc...\nI think that would be a better approach to make this repo more maintainable...\nrather than keep this thing expanding to the core.... i have an updated pull request with readme please merge it\nhttps://github.com/laradock/laradock/pull/548. @philtrep  please merge this one for phpredis, ive fix some issue in syntax here in dockerfile70 plus added instructions in README.md and Added phpredis to be enable by default in docker-compose.yml\n. What are the issue your are facing? anyway? let me know thanks , so i can update this. The way to do this is create a sudo user , which is the one executing the zsh command and uses the zsh terminal...\nThat way the root which is bash wont have any clash on their default settings.... Ill try to give it a spin to spin a container like this one for the workspace that you can have option to use ZSH. ",
    "warrickhill": "I'm having the same problem\n. ",
    "infojasyrc": "Same error on OSX.\n. ",
    "luukverhoeven": "Possible values for ext-name:\nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c curl -L -o /tmp/memcached.tar.gz \"https://github.com/php-memcached-dev/php-memcached/archive/php7.tar.gz\"     && mkdir -p /usr/src/php/ext/memcached     && tar -C /usr/src/php/ext/memcached -zxvf /tmp/memcached.tar.gz --strip 1     && docker-php-ext-configure memcached     && docker-php-ext-install memcached     && rm /tmp/memcached.tar.gz' returned a non-zero code: 1\nSame error here, docker-toolbox was working. Switch to docker itself and getting this error.\n. Is there some workarround for it?\n. ",
    "thusfar7": "How to get this working on Debian??\n. ",
    "ialexca": "The fix worked for me, thx\n. ",
    "cviebrock": "Just wondering ... why you are even building PHP from source here, and not using packages like the workspace container?\n. ",
    "rscotten": "Yep.  I believe Xdebug is slowing everything down.  I dropped the load time about 0.5 seconds after adding these lines to the bottom of this project's /php-fpm/laravel.ini file:\nbash\n; Disable xdebug\nxdebug.remote_autostart=0\nxdebug.remote_enable=0\nxdebug.profiler_enable=0\nOr you can just comment out the Xdebug code in \\php-fpm\\Dockerfile-70\n. Answer is posted by @computerfr33k here: https://github.com/LaraDock/laradock/issues/147#issuecomment-233059310\n. ",
    "paddyurlich": "thanks Richard !! \n. ",
    "vanderson139": "To enable self-signed certificates, follow this steps:\n1 - add this lines to your nginx Dockerfile:\n``` bash\ninstall openssl\nRUN apk add --no-cache openssl\ncreate a folder for the keys\nRUN mkdir /etc/nginx/ssl 2> /dev/null\ngenerate the keys for your local domain\nRUN openssl genrsa -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" 2048 \\\n    && openssl req -new -key \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.csr\" -subj \"/CN=YOURLOCALDOMAIN/O=YOURCOMPANYNAME/C=UK\" \\\n    && openssl x509 -req -days 365 -in \"/etc/nginx/ssl/YOURLOCALDOMAIN.csr\" -signkey \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.crt\"\n```\n2 - update your site.conf file:\n``` conf\nlisten 80;\nlisten 443 ssl;\nlisten [::]:80;\nssl_certificate     /etc/nginx/ssl/YOURLOCALDOMAIN.local.crt;\nssl_certificate_key /etc/nginx/ssl/YOURLOCALDOMAIN.local.key;\n```\n. ",
    "sid606": "I know is a stupid question but what is should I put for YOURLOCALDOMAIN and what if I have multiple sites?\nThanks . I edit Dockerfile-56 and added \nARG INSTALL_MYSQL=true\nRUN if [ ${INSTALL_MYSQL} = true ]; then \\  \n     docker-php-ext-install mysql \\\n;fi\nafter save i run docker-compose build --no-cache php-fpm but no luck. ",
    "cre8": "@sid606 you can put anything there. it's like a name for a ssl-certificate so you know to which domain the certificate belongs to.. I found out that you have to rebuild the project. For normal changing at the caddy file it's not necessary, but a rebuild for caddy removed the error. . Instead of sharing the volume you can get the needed files from the DATA_SAVE_PATH folder (i used ../tmp). If you generated your certs with caddy they will be stored in ../tmp/acme/acme-v01.api.letsencrypt.org/sites/<your-domain>/\nyou can mount the both files (crt and key) as volumes into the laravel-echo-server:\nlaravel-echo-server:\n      build:\n        context: ./laravel-echo-server\n      volumes:\n        - ./laravel-echo-server/laravel-echo-server.json:/app/laravel-echo-server.json:ro\n        - ../tmp/acme/acme-v01.api.letsencrypt.org/sites/example.com.crt/:example.com.crt:ro\n        - ../tmp/acme/acme-v01.api.letsencrypt.org/sites/example.com.key/:example.com.key:ro\n. I had the same problem with caddy as a webserver. I added a rule for 0.0.0.0 and pointed it also to my laravel project:\n```\n0.0.0.0:80 {\n    root /var/www/api/public\nfastcgi / php-fpm:9000 php {\n    index index.php\n}\n\nrewrite {\n    r .*\n    ext /\n    to /index.php?{query}\n}\nbrowse\nlog /var/log/caddy/access.log\nerrors /var/log/caddy/error.log\n\n}\n```\nand I set caddy as the auth host. It's a dirty solution but I think the elegant way would be to connect your host name my-site.com with the nginx container so docker compose knows where to route this.. @cabrerabywaters I found a solution for nginx:\nnginx config for laravel application:\n```\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\nserver_name api.example.com;\nroot /var/www/api/public;\nindex index.php;\n\nssl_certificate /var/certs/cert.pem;\nssl_certificate_key /var/certs/privkey.pem;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    #fixes timeouts\n    fastcgi_read_timeout 600;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\n}\n```\nlaravel-echo-server config:\n{\n    \"authHost\": \"https://nginx\",\n    \"authEndpoint\": \"/broadcasting/auth\",\n    \"clients\": [],\n    \"database\": \"redis\",\n    \"databaseConfig\": {\n        \"redis\": {\n            \"port\": \"6379\",\n            \"host\": \"redis\"\n        }\n    },\n    \"devMode\": true,\n    \"host\": null,\n    \"port\": \"6001\",\n    \"protocol\": \"https\",\n    \"socketio\": {},\n    \"sslCertPath\": \"/var/certs/cert.pem\",\n    \"sslKeyPath\": \"/var/certs/privkey.pem\"\n}\nI managed to call api.example.com in my laravel-echo-server by passing the domain in the docker-compose file to one container. But I deleted the file and now I have no idea how to reproduce it.. @canhkieu I can't help you without any logs. What is in the logs of the laravel-echo-server? What exactly does not work? More information is required. To address aaa.com or bbb.com you should insert a redirect in the nginx config like:\n```\nserver {\n    ....\n    server_name localhost;\nlocation /aaa {\n    rewrite ^/(.*)$ https://aaa.com/$1 redirect;\n}\n\nlocation /bbb {\n    rewrite ^/(.*)$ https://bbb.com/$1 redirect;\n}\n\n}\n```\nSo when you set authHost to https://nginx/aaa it will route to nginx, that will redirect to the request to aaa.com (I haven't tested it yet, but the logic seems to be correct)\nNormally you have to set the host to aaa.com in the http-header when you call https://nginx, but this is not implemented in the laravel-echo-server package.. @ugurkankya I thinks it's because your config file is in read-only mode:\nlaravel-echo-server:\n      build:\n        context: ./laravel-echo-server\n      volumes:\n        - ./laravel-echo-server/laravel-echo-server.json:/app/laravel-echo-server.json:ro\nPls remove the :ro in your docker compose file and tell us the result.. ",
    "canhkieu": "I tried but not working. No file in /etc/nginx.... after run\nDoccker-compose Build nginx\nDocker-compose Up nginx. Hi @nurdinj4 ,\nHow to you fixed? Could you guide how to turn on SSL with Nginx Multisite. Hi @ekahrovic \nDid you fixed it? any idea?. Thanks, @ekahrovic \nWe need add below line before. \nRUN apk add --no-cache openssl\nAnd then, after build nginx. I got this error\n/etc/nginx/ssl/demo1.key: No such file or directory\n140523227229068:error:02001002:system library:fopen:No such file or directory:bss_file.c:406:fopen('/etc/nginx/ssl/demo1.key','w')\n140523227229068:error:20074002:BIO routines:FILE_CTRL:system lib:bss_file.c:408:\n. Hi @ModernArtisan, I meet the same issues. Do you resolve?. It's not work.. > But if I set \"authHost\": \"http://nginx\" it will successfully connect to the nginx server but only to default project with server_name localhost;\nI have 2 sites.\n- aaa.com\n- bbb.com\nWith aaa.com I set up.\n```\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\nserver_name aaa.com **nginx**;\n\n...\n}\n```\nAnd the seconds bbb.com I only settup\n```\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\nserver_name bbb.com;\n\n...\n}\n```\nHow could you connect laravel-echo-server to aaa.com and bbb.com. In case, laravel-echo-server only accept \"authHost\": \"https://nginx\". ",
    "swim89": "I have the same error message. Could you please help us?. After I modified my Dockerfile and mysite.conf file, I ran:\ndocker-compose build --force-rm --no-cache nginx\nAnd I have this error:\n\nBIO_new_file(\"/etc/nginx/ssl/mysite.local.crt\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/nginx/ssl/mysite.local.crt','r') error:2006D080:BIO routines:BIO_new_file:no such file)\n\nCould you please help me?. ",
    "guicara": "Hello,\nA Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. If you set up Laradock for multiple projects, I don't think it is a good practice to create the self-signed certificates for each sites in the nginx Dockerfile.\nIn my opinion you just need to add the first two lines of @vanderson139 in the Dockerfile :\n```\ninstall openssl\nRUN apk add --no-cache openssl\ncreate a folder for the keys\nRUN mkdir /etc/nginx/ssl 2> /dev/null\n\ncd laradock\ndocker-compose build nginx\n```\nNow, if you want to add a self signed certificate for one of your website:\ndocker-compose exec nginx bash\nopenssl genrsa -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" 2048 \\\n    && openssl req -new -key \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.csr\" -subj \"/CN=YOURLOCALDOMAIN/O=YOURCOMPANYNAME/C=UK\" \\\n    && openssl x509 -req -days 365 -in \"/etc/nginx/ssl/YOURLOCALDOMAIN.csr\" -signkey \"/etc/nginx/ssl/YOURLOCALDOMAIN.key\" -out \"/etc/nginx/ssl/YOURLOCALDOMAIN.crt\"\n(repeat this process for each site)\nThen update your virtual host file to load the certificate and the key.. It is really important to install the libssl1.0-dev package, otherwise you will have the QSslSocket: cannot resolve (...) errors with wkhtmltopdf.\nSee https://github.com/wkhtmltopdf/wkhtmltopdf/issues/3001.\nAlso, with the last version of Laradock, I had to remove the libx11-dev package in order to build nginx without any errors.. Hello,\nToday I have installed Laradock on a new computer, and I faced once again the same issues with wkhtmltopdf on Laradock.\nI tried the solution of @ndberg : the workspace and php-fpm build, but I have this error when I run wkhtmltopdf:\n/usr/local/bin/wkhtmltopdf: /lib/x86_64-linux-gnu/libm.so.6: version GLIBC_2.27 not found (required by /usr/local/bin/wkhtmltopdf)\nSo I ended up using the binary from h4cc (thanks @mrbase).\nBut I had this error message:\nThe exit status code '1' says something went wrong:\nQSslSocket: cannot resolve ...\nAs I said in my message last year, you must install the libssl1.0-dev package in the php-fpm container and the libssl1.0.0 package in the workspace container.\nStep-by-step instructions\nI have tested it on a fresh installation of Laradock (last version) with a Laravel project using Laravel Snappy.\n\n\nUse Composer to install the h4cc/wkhtmltopdf-amd64 package that provided the static compiled binaries from the wkhtmltopdf project.\n\n\nIf you use Laravel Snappy, you must change the path of the binary.\n\n\nFor example: \n'binary' => base_path('vendor/h4cc/wkhtmltopdf-amd64/bin/wkhtmltopdf-amd64'),\n\n\nThe next steps are only mandatory if you use wkhtmltopdf <= 0.12.4. The last version of wkhtmltopdf (0.12.5) should fix the problem with QSslSocket (see here). Unfortunately, at the time of writing this post, the h4cc/wkhtmltopdf-amd64 package still use the 0.12.4 version of wkhtmltopdf, and it will probably never be updated.\n\n\nAdd the INSTALL_WKHTMLTOPDF constants in the docker-compose.yml file as described by @ndberg\n\nFile to edit: /laradock/docker-compose.yml\n```\nworkspace:\n      build:\n        context: ./workspace\n        args:\n          - .. a lot of others..\n          - INSTALL_WKHTMLTOPDF=true\nphp-fpm:\n      build:\n        context: ./php-fpm\n        args:\n          - .. a lot of others ..\n          - INSTALL_WKHTMLTOPDF=true\n```\n\nInstall libssl1.0-dev in the php-fpm Laradock container:\n\nFile to edit: /laradock/php-fpm/Dockerfile\n```\n\nwkhtmltopdf:\n\nARG INSTALL_WKHTMLTOPDF=true\nRUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\n    apt-get update && apt-get install -y libssl1.0-dev \\\n;fi\n```\nRebuild the container: docker-compose build php-fpm\n\nInstall libssl1.0.0 in the workspace Laradock container:\n\nFile to edit: /laradock/workspace/Dockerfile\n```\n\nwkhtmltopdf:\n\nUSER root\nARG INSTALL_WKHTMLTOPDF=true\nRUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\n    # Install all dependencies\n    apt-get update && apt-get install -y libssl1.0.0 \\\n;fi\n```\nRebuild the container: docker-compose build workspace\nHope it helps!. Hello,\nI have the same issue with a fresh install of Laradock.\nOS: Linux Mint 18.3 Sylvia.\nDocker version: 18.03.0-ce, build 0520e24\nDocker compose version: 1.8.0\nThanks,\nEdit: an update of Docker Compose resolve the problem.\nsudo apt-get -y install python3-pip\nsudo pip install setuptools docker-compose . Same problem here.\nThe only solution was, sadly, to disable ImageMagick in the .env file:\nPHP_FPM_INSTALL_IMAGEMAGICK=false\nDocker version: 18.03.1-ce, build 9ee9f40\nLaradock commit: 0c41fceae1b23089f5360dc4f8aeb85719c7bf5a\nSystem info (Mac, PC, Linux): Linux\nSystem info disto/version: Ubuntu 18.04. ",
    "qingdi": "ssl_certificate     /etc/nginx/ssl/YOURLOCALDOMAIN.crt;\nssl_certificate_key /etc/nginx/ssl/YOURLOCALDOMAIN.key;\nno \"local\". ",
    "bobbysiagian": "@vanderson139 thanks, it still works!. ",
    "beedubsss": "Make sure you use the same network. I would suggest creating a network and making sure all your containers that you want to host under the proxy are on the same network \nnetworks:\n  default:\n    external:\n      name: ${config_server_network_name}\nI add this to my compose file to specify the network which is a variable based on my environment. Hope that helps.\n. ",
    "gluxon": "Hi @Mahmoudz, I had this issue as well. A commit was made 5 days ago that resolves this. Running git pull should get the memcached extension working again.\n. ",
    "graymic": "It seems to be solely related to the workspace, as mongodb's extension is fine on the php-fpm container. I've had to run composer require jenssegers/mongodb --ignore-platform-reqs, as an example... just to get the package to play fairly with the php-fpm container's extension, which I know meets the criteria.\n. The issue is definitely related to the workspace - PHP 7 - cli install. I've managed to get workspace playing nicely with mongo, will test further on my end and report.\n. ",
    "emanuellarini": "Same problem here\n. ",
    "davidavz": "Same.\nI commented it in php.ini for the moment.\n. I went back to Docker Toolbox like @midascodebreaker said and now it's all good.\nI think i'm gonna wait for a \"real\" Docker for Windows before using it.\nThanks!\n. Yes this is a known issue #162 #163 \n. I deleted all images and containers to restart clean.\nNow I can't even start the postgres container, it stop few seconds after my docker-compose up -d ...\nAnd if I try to enter this container I have \nThe data directory was initialized by PostgreSQL version 9.5, which is not compatible with this version 9.6.2.. The problem was the volumes.\nI just try a docker system prune to remove all.\nNow it's OK with fresh new containers.. ",
    "Mastergalen": "Thanks, I tried installing the locales in the workspace container as well, but that doesn't appear to work either.\nWhen I'm in the terminal for the workspace container and I run locales -a:\nroot@86d85198dc60:/var/www/laravel# locale -a\nC\nC.UTF-8\nen_AG\nen_AG.utf8\nen_AU.utf8\nen_BW.utf8\nen_CA.utf8\nen_DK.utf8\nen_GB.utf8\nen_HK.utf8\nen_IE.utf8\nen_IN\nen_IN.utf8\nen_NG\nen_NG.utf8\nen_NZ.utf8\nen_PH.utf8\nen_SG.utf8\nen_US\nen_US.iso88591\nen_US.utf8\nen_ZA.utf8\nen_ZM\nen_ZM.utf8\nen_ZW.utf8\nit_IT.utf8\nPOSIX\nThe it_IT.utf8 and en_GB.utf8 are installed. However, when I to run the following code in Laravel:\n$success = setlocale(LC_TIME, 'en_GB.utf8');\ndd($success);\nfalse is printed and the locale fails to get set.\n. I also tried editing the workspace Dockerfile to run the locale-gen commands from there.\n```\nFROM phusion/baseimage:latest\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nRUN DEBIAN_FRONTEND=noninteractive\nRUN locale-gen \\\n    en_US.UTF-8 \\\n    en_GB.UTF-8 \\\n    it_IT.UTF-8\nENV LANGUAGE=en_US.UTF-8\nENV LC_ALL=en_US.UTF-8\nENV LC_CTYPE=UTF-8\nENV LANG=en_US.UTF-8\nENV TERM xterm\nInstall \"software-properties-common\" (for the \"add-apt-repository\")\nRUN apt-get update && apt-get install -y \\\n    software-properties-common\nAdd the \"PHP 7\" ppa\nRUN add-apt-repository -y \\\n    ppa:ondrej/php\nInstall PHP-CLI 7, some PHP extentions and some useful Tools with APT\nRUN apt-get update && apt-get install -y --force-yes \\\n        php7.0-cli \\\n        php7.0-common \\\n        php7.0-curl \\\n        php7.0-json \\\n        php7.0-xml \\\n        php7.0-mbstring \\\n        php7.0-mcrypt \\\n        php7.0-mysql \\\n        php7.0-pgsql \\\n        php7.0-sqlite \\\n        php7.0-sqlite3 \\\n        php7.0-zip \\\n        php7.0-memcached \\\n        php7.0-gd \\\n        php7.0-xdebug \\\n        php-dev \\\n        libcurl4-openssl-dev \\\n        libedit-dev \\\n        libssl-dev \\\n        libxml2-dev \\\n        xz-utils \\\n        sqlite3 \\\n        libsqlite3-dev \\\n        git \\\n        curl \\\n        vim \\\n        nano \\\n        pkg-config\nClean up, to free some space\nRUN apt-get clean\nremove load xdebug extension (only load on phpunit command)\nRUN sed -i 's/^/;/g' /etc/php/7.0/cli/conf.d/20-xdebug.ini\nAdd bin folder of composer to PATH.\nRUN echo \"export PATH=${PATH}:/var/www/laravel/vendor/bin\" >> ~/.bashrc\nInstall Composer\nRUN curl -s http://getcomposer.org/installer | php \\\n    && mv composer.phar /usr/local/bin/composer\nLoad xdebug Zend extension with phpunit command\nRUN echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/laravel/vendor/bin/phpunit'\" >> ~/.bashrc\nInstall mongodb extension\nRUN pecl install mongodb\nRUN echo \"extension=mongodb.so\" >> /etc/php/7.0/cli/php.ini\nInstall nvm (Node Version Manager)\nRUN curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.1/install.sh | bash\nENV NVM_DIR=/root/.nvm\nInstall stable node\nRUN . ~/.nvm/nvm.sh \\\n    && nvm install stable \\\n    && nvm use stable \\\n    && nvm alias stable \\\n    && npm install -g gulp bower\nSource the bash\nRUN . ~/.bashrc\nClean up\nRUN apt-get clean && rm -rf /var/lib/apt/lists/ /tmp/ /var/tmp/*\nWORKDIR /var/www/laravel\nInstall optional software\nARG INSTALL_PRESTISSIMO=false\nRUN if [ \"$INSTALL_PRESTISSIMO\" = true ] ; then \\\n        composer global require \"hirak/prestissimo:^0.3\"; \\\n    fi\n```\nAfter running docker exec -it laradock_workspace_1 bash and running locale -a, the it_IT and en_GB locales are listed as installed. However, PHP still does not recognise those locales as installed when trying to execute setlocale(LC_TIME, 'en_GB.utf8');\n. Awesome thank you @orette, it's indeed the php-fpm container that needed to have the locales installed on.\nI had to however replace the sed commands because the locale.gen file never contained the line # it_IT.UTF-8 UTF-8.\nMy RUN command inside Dockerfile-70 looks like this now:\nRUN apt-get update && apt-get install -y \\\n    libpq-dev \\\n    libmemcached-dev \\\n    curl \\\n    libjpeg-dev \\\n    libpng12-dev \\\n    libfreetype6-dev \\\n    libssl-dev \\\n    libmcrypt-dev \\\n    locales \\\n    --no-install-recommends \\\n    && rm -r /var/lib/apt/lists/* \\\n    && printf 'en_GB.UTF-8 UTF-8\\n' >> /etc/locale.gen \\\n    && printf 'it_IT.UTF-8 UTF-8\\n' >> /etc/locale.gen \\\n    && locale-gen\n. ",
    "itelmenko": "I think locales need be in laradock out of box. I have fixed it\nIn ~/projects/laradock/php-fpm/Dockerfile we need add\nRUN apt-get install -y geoip-database libgeoip-dev && \\\n      pecl install geoip-beta && \\\n      docker-php-ext-enable geoip\nThen rebuild php-fpm container\ndocker-compose build php-fpm\nNow you can run docker-compose... and then try\ndocker-compose exec php-fpm bash -c 'php -m | grep geo'\nYou will see geoip string.\nIf you need it also in workspace container you need add it to this container also.\nI can do pull request for this feature with variables like INSTALL_GEOIP for .env.\nBut I am not sure that this is popular case to use geoip in laradock.\nMay be we need just do something like this\nphp\nif(function_exists('geoip_country_code_by_name')) {\n// use it\n} else {\n// use a default value\n}\nWhat do you think about it?. ",
    "BentCoder": "This is mine if it helps anyone any way.\n```\nFROM php:7.2-fpm\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    locales \\\n && sed -i 's/# en_GB.UTF-8 UTF-8/en_GB.UTF-8 UTF-8/g' /etc/locale.gen \\\n && ln -s /etc/locale.alias /usr/share/locale/locale.alias \\\n && locale-gen en_GB.UTF-8\nENV LANG en_GB.UTF-8\nENV LANGUAGE en_GB:en\nENV LC_ALL en_GB.UTF-8\n```\n$ docker exec app_php_1 locale\nLANG=en_GB.UTF-8\nLANGUAGE=en_GB:en\nLC_CTYPE=\"en_GB.UTF-8\"\nLC_NUMERIC=\"en_GB.UTF-8\"\nLC_TIME=\"en_GB.UTF-8\"\nLC_COLLATE=\"en_GB.UTF-8\"\nLC_MONETARY=\"en_GB.UTF-8\"\nLC_MESSAGES=\"en_GB.UTF-8\"\nLC_PAPER=\"en_GB.UTF-8\"\nLC_NAME=\"en_GB.UTF-8\"\nLC_ADDRESS=\"en_GB.UTF-8\"\nLC_TELEPHONE=\"en_GB.UTF-8\"\nLC_MEASUREMENT=\"en_GB.UTF-8\"\nLC_IDENTIFICATION=\"en_GB.UTF-8\"\nLC_ALL=en_GB.UTF-8\n$ docker exec app_php_1 printenv\nLANG=en_GB.UTF-8\nLANGUAGE=en_GB:en\nLC_ALL=en_GB.UTF-8. @marcelogarbin As you can see above in my example only /etc/locale.gen is being modified. Nothing is modified in php-fpm folder because it has nothing to do with PHP. It is more of a server thing. Read this if you wish.. ",
    "marcelogarbin": "@BentCoder @Mastergalen which file did you modify for new locales? \nThis is a listing of files in php-fpm (I do not know what half of these files are, what is laravel.ini for?):\n\n. any news?. @BentCoder Hello, I do not have much experience with Docker, so I am not sure how to do this. I tried several ways, but without success.\nI tried to use what you posted, but where do I put this code? Do you have any specific files? \nI'm using the latest version of Laradock.. @mikeerickson any news?. @thorerik @winfried-van-loon \nHello, I am using Laradock in production, however I do not know where to add new locales, I would like to use pt_BR, could you help me?\nI created this issue: https://github.com/laradock/laradock/issues/1596. @thorerik Would you have any examples of how I can do this? in which folder and which file to modify?. ",
    "p-ipsen": "I solved this problem by adding the following snippet to Dockerfile in php-fpm and workspace\n```\nLocales\nRUN apt-get update && apt-get install -y \\\n    locales \\\n    && echo '' >> /usr/share/locale/locale.alias \\\n    && sed -i 's/# en_GB.UTF-8 UTF-8/en_GB.UTF-8 UTF-8/' /etc/locale.gen \\\n    && sed -i 's/# da_DK.UTF-8 UTF-8/da_DK.UTF-8 UTF-8/' /etc/locale.gen \\\n    && locale-gen\nAdding it to workspace was necessary because I needed to use locales in an artisan command. Afterwards you rebuild the containers:\ncd laradock\ndocker-compose down\ndocker-compose build php-fpm\ndocker-compose build workspace\ndocker-compose up -d\n```. ",
    "godbout": "For info:\nHow I start my containers from my own images:\n\nThe issue I currently have with docker-compose up:\n\n. Hey @ronpeled thanks for idea. As I don't need to use mysql for now I didn't dig into but yeah, that sure makes sense. When I'll have time I'll check if there's still a way to do like the \"docker create\" within a docker-compose.yml. Thanks\n. Actually I looked a bit, and it's possible to let the Docker Engine create a container by default with the db data:\n```\nvolumes:\n  # Just specify a path and let the Engine create a volume\n  - /var/lib/mysql\n# Specify an absolute path mapping\n  - /opt/data:/var/lib/mysql\n. Confirming here. Same issue. I run different projects with their own laradock. The laradock folder name for each project is different and the COMPOSE_PROJECT_NAME variable too, but still it fails if some projects use mysql 5.5 and others 5.7.. Same issue here. The:nocopy``` breaks the mounting of the containers.. Hehe yep, I did the same :) Not sure yet if I'll had issue with browserSync. In one of my project I don't use it, and I was fighting with laradock to get a php5.3 environment working. Will check on my other projects.. @coderars a slight difference with you maybe is that I've redefined all the volumes for each services I use:\n```\nversion: '3'\nservices:\n  apache2:\n    volumes:\n      - ums-sync:/var/www:nocopy\n      - ${APACHE_HOST_LOG_PATH}:/var/log/apache2\n      - ${APACHE_SITES_PATH}:/etc/apache2/sites-available\n  php-fpm:\n    volumes:\n      - ./php-fpm/php${PHP_VERSION}.ini:/usr/local/etc/php/php.ini\n      - ums-sync:/var/www:nocopy\n  workspace:\n    volumes:\n      - ums-sync:/var/www:nocopy\nvolumes:\n  ums-sync:\n    external: true\n```\nI expect the whole array of volumes to be overridden. But maybe I'm wrong.. Personally if I add the docker-compose.sync.yml to the COMPOSE_FILE env, reloading is too slow and I need to reload a couple of times to see the changes happen. Without the sync file added to the .env it's instant.\n@coderars browserSync is working fine with me, but as stated, without the docker-compose sync file in the COMPOSE_FILE env.. Same issue with PHP-FPM.. @vlauciani I'm having the same problem, but I can't follow what you're doing. Any chance you explain a bit more? I'm using a different laradock stack per project. . @vlauciani thank you for the quick and detailed answer! Deeply appreciated. I thought you figured out how to deal with the private keys though. I'll have a look at sshpass. Maybe I can use it in dev and keys in prod. You can run envoy rather than a script as an arg to sshpass?. btw in my case I've installed ssh on php-fpm, added the keys etc... I can run envoy from the bash, but I can't from the controller. I end up with a \"Host key verification failed\" error message.. \ud83d\ude0d\ufe0f didn't think of the user. My ssh keys were under root, so maybe www-data couldn't access them. I made several changes but until now it hasn't worked, I'm still having the same issue. But thanks for the info, clearing the path a bit.\nIn my case (under macOS), it's always returning the same user www-data and the same hostname (pointing to the php-fpm container).. got it working. not sure exactly yet if all my steps are necessary, but i've created a /home/www-data folder with the root ssh keys. I've also made a few changes to allow the www-data user to ssh, and i had to create the ssh folder and keys in /var/www/ in the php-fpm container. hope this helps!. started from clean builds, it appears that the only thing to do is to install ssh on the php-fpm container, and to create the .ssh folder in /var/www/ with the key and rights. then it works! will ask if a PR is ok to add ssh to php-fpm.. Of course after 2 days of tweaking everything around, I decided to post the issue, and reset docker to factory settings. Images rebuilt. Now everything works perfectly \ud83d\ude34\ufe0f\ud83d\ude02\ufe0f. I've found how to solve this:\n\nthe php-fpm container needs to have ssh installed.\nthe ssh keys have to be under /var/www/.ssh.\n\nwhich makes me ask: would a PR to add the option to install SSH for the php-fpm container be accepted?. I solved it by add an apt-get update in my fork, in the php-fpm Docker file.\n```\nRUN if [ ${INSTALL_IMAGEMAGICK} = true ]; then \\\n    apt-get update && \\\n    apt-get install -y libmagickwand-dev imagemagick && \\\n    pecl install imagick && \\\n    docker-php-ext-enable imagick \\\n;fi\n````. ",
    "ronpeled": "@godbout So if you want to make it work on a Mac OS X - you may need to create a folder in your home directory: 'var' and modify the docker-compose.yml file to include the '~' in front of the volumes in the database container:\n`### Databases Data Container ################################\nvolumes_data:\n    build: ./volumes/data\n    volumes:\n        - ~/var/lib/mysql:/var/lib/mysql\n        - ~/var/lib/postgres:/var/lib/postgres\n        - ~/var/lib/mariadb:/var/lib/mariadb\n        - ~/var/lib/memcached:/var/lib/memcached\n        - ~/var/lib/redis:/data\n        - ~/var/lib/neo4j:/var/lib/neo4j/data\n        - ~/var/lib/mongo:/data/db\n`\n. ",
    "mruzekw": "Sure, I'll give this a try. I saw the other issues, but wasn't sure if it applied to this case. Thanks!\n. No dice.\nWhen I connect with Sequel Pro it connects via 127.0.0.1 but not\n192.169.99.100.\nCurrently I'm getting a \"bad request (invalid hostname)\" when I go to\nhttp://192.169.99.100/\nI don't see any separate docker network device either.\nThe error now is:\n[PDOException]\n  SQLSTATE[HY000] [2002] Connection timed out\nAny ideas?\nThanks\nOn Mon, Jul 25, 2016 at 2:23 PM, GeoIntranet notifications@github.com\nwrote:\n\ndefault ip is 192.169.99.100 try this , i think that will work\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/178#issuecomment-235039444,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAGn6vskch5G5JWBpNHgrd51xjca9CQsks5qZP8FgaJpZM4JUTJo\n.\n. I'm aware. I tried connect both via Sequel Pro and the .env config.\n. I was able to get this working just by using the db name from the docker-compose.yml.\n\nFor example:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\nThis works due to docker container networks: https://docs.docker.com/engine/userguide/networking/dockernetworks/\nAlternatively you can grab the IP of all running containers via:\ndocker inspect -f '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $(docker ps -aq)\n. @LarsZondag I moved on to Vessel. It has what I need and it's easier to modify for my needs.. ",
    "Selsynn": "Is it mandatory to use nginx ? \nAnd... it works, thank you very much !\n. Thank you.\n. I'm on docker vm and i cannot use /var/lib because we are on mac. But with data on the same project, there is no problem.\nI think there are something in your configuration of docker\nBy the way i ignore how to cancel the pull request, i wanted to pull request on my repo, because i understand the problem. \nSorry.\n. ",
    "FubuBy": "Hello\nWhen I type:\nDB_HOST=localhost\nI get error:\nSQLSTATE[HY000] [2002] No such file or directory\nWhen I type:\nDB_HOST=127.0.0.1\nI get error:\nSQLSTATE[HY000] [2002] Connection refused\nI work on Ubuntu 14. And ip of MySQL is 127.0.0.1\n. @Mahmoudz yes of course\n. May be problem in this:\n\nThis extension that defines this class is deprecated (http://php.net/manual/en/class.mongoclient.php)\n\nWhen I use for test MongoDB\\Driver\\Manager instead of MongoClient code works. This is not laradock bug\n@pcastrotigre use \"jenssegers/mongodb\": \"3.0.*\"\n. ",
    "thomastilkema": "I experienced the same problem as the topicstarter. DB_HOST=mysql does the trick. However, browsing to a route where a controller method retrieves something from the database, still gives me an error: Host '172.18.0.6' is not allowed to connect to this MySQL server.\n172.18.0.6 is the IP address of my hhvm container.\nTable users in database mysql:\nHost    User    Select_priv    ...\n%       root    Y              Y\ndocker-compose.yml:\nMYSQL_DATABASE: app\nMYSQL_USER: root\nMYSQL_PASSWORD: root\nMYSQL_ROOT_PASSWORD: root\n.env:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=app\nDB_USERNAME=root\nDB_PASSWORD=root\nconfig/database.php:\n'mysql' => [\n    'driver' => 'mysql',\n    'host' => env('DB_HOST'),\n    'port' => env('DB_PORT'),\n    'database' => env('DB_DATABASE'),\n    'username' => env('DB_USERNAME'),\n    'password' => env('DB_PASSWORD', ''),\n    'charset' => 'utf8',\n    'collation' => 'utf8_unicode_ci',\n    'prefix' => '',\n    'strict' => false,\n    'engine' => null,\n]\n. ",
    "fndmiranda": "I also can not connect to the database, it returns the message Connection refused, someone could figure out how to solve?\n. ",
    "adulion": "Can you put @mruzekw comment into the readme- at least the \"docker inspect -f\" command as i spent hours reading the doc's and trying different combinations of ip's in frustration when this was the perfect solution.\nYou shouldn't set the ip of the container but the one of the mysql container! the docs are wrong.\n. ",
    "eugeneratkevich": "Need add  block \"links\" & \"environment\" in application container.\nExample:\napp:\n    build:\n      context: ./\n      dockerfile: app.docker\n    volumes:\n      - ./:/var/www\n    links:\n      - database\n    environment:\n      - \"DB_PORT=3306\"\n      - \"DB_HOST=database\"\n  database:\n    image: mysql:5.7.7\n    environment:\n      - \"MYSQL_ROOT_PASSWORD=secret\"\n      - \"MYSQL_DATABASE=dockerApp\"\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - ./:/var/lib/mysql'. ",
    "oberoivarun": "@mruzekw The command was working until the latest update for Docker to Version 17.12.0-ce-win47 (15139)\nIt gives the following error:\n\nI have no idea how to write such a command. Any fixes?. For anyone facing the same problem. Solved it by setting Neo4j Address as the IP address of the host. localhost will not work.. As i have mentioned in my post, i did try to enter the container IP in the .env file but it still did not work.\nIn my case, i solved it by running composer dump-autoload. Just forgot to close this.. You need to rename the env-example file to .env. And this kind of thing should be on Stackoverflow. Steps to reproduce? Can you run docker-compose up mysql without the -d flag and report the error.. Is this a blank database? Seems like there is something wrong with your data.. ",
    "ashajjar": "I had this issue, and I fixed it by adding the following to my.conf:\n[mysql]\nbind-address = 202.71.99.195\nChange the IP to your application container IP address :)\nOf course, dont forget to re-build:\ndocker-compose build --no-cache nginx mysql. I had the same issue .. and I am using Valet, so just stop Valet and everything should be fine :). ",
    "diegoazh": "I changed in my .env file\nDB_HOST=127.0.0.1 to DB_HOST=192.168.10.10\n192.168.10.10 is the IP where my homestead machine is runing!\nI hope this will be useful.. ",
    "LucaswDeveloper": "My Solution (windows 10)\n1 - open cmd \n2 - execute ipconfig \n3 - get your ip Ethernet 192.168.x.x.\n4 - open .env \n5 - changed  DB_HOST your ip Ethernet\n6 - Save.. ",
    "gwindes": "+1\n. ",
    "harshjv": "Had an issue with Apache running on my mac.\n. ",
    "redstrike": "Sure. I don't know why suddenly Caddy works, and I re-checked laradock dir to make sure that I didn't make any changes to caddy Dockerfile. I saw that I just edit some PHP settings in docker-compose.yml\nThen I removed laradock and laravel src dir. Re-install via git clone again:\n``` sh\n$ git clone https://github.com/LaraDock/laradock.git\nCloning into 'laradock'...\nremote: Counting objects: 1122, done.\nremote: Compressing objects: 100% (71/71), done.\nremote: Total 1122 (delta 32), reused 0 (delta 0), pack-reused 1050\nReceiving objects: 100% (1122/1122), 319.35 KiB | 160.00 KiB/s, done.\nResolving deltas: 100% (501/501), done.\nChecking connectivity... done.\n$ cd laradock\n$ docker-compose up -d caddy mariadb\nCreating network \"laradock_default\" with the default driver\nCreating laradock_volumes_data_1\nCreating laradock_volumes_source_1\nCreating laradock_workspace_1\nCreating laradock_mariadb_1\nCreating laradock_php-fpm_1\nCreating laradock_caddy_1\nERROR: for caddy  Cannot start service caddy: Container command 'caddy' not found or does not exist.\nERROR: Encountered errors while bringing up the project.\n$ docker-compose down\n$ docker run -itd laradock_caddy\n$ docker exec -it {caddy_container_id} /bin/bash\nrpc error: code = 2 desc = \"oci runtime error: exec failed: exec: \\\"/bin/bash\\\": stat /bin/bash: no such file or directory\"\n$ docker-compose up beanstalkd-console\n...\nStep 6 : RUN apt-get remove --purge -y curl &&\n ---> Running in 0f867c906cd1\n/bin/sh: 1: Syntax error: end of file unexpected\nERROR: Service 'beanstalkd-console' failed to build: The command '/bin/sh -c apt-get remove --purge -y curl &&' returned a non-zero code: 2\n```\nAgain, caddy doesn't suddenly work anymore :(\n. Updated: I am sure that Caddy cannot work if the laravel src project is not the parent of laradock dir.\nI git clone a separate laradock... up... error.\nThen I tried to move that laradock dir inside a newly created laravel project... up... ok.\nFinally, I docker-compose down and moved laradock outside again... up... error.\nSo that is the source of the problem. I am an all-new laravel user, so I don't have an existing laravel project.\n. @computerfr33k \n$HOME/laradock\n$HOME/laravel-project\nYes, if I place laradock in the root of laravel project, caddy works normally.\n. ",
    "perseon": "I have the same error. \n. > @computerfr33k I am not. I got the same error on a debian 8.5 and an ubuntu 16.04. Both are behind a router doing NAT.  Apparently it has to do with the alpine linux image introduced in #184 (v.3.1). I'm very new to docker and also not much accustomed with github.\n. well, the containers have no internet access. Definitely an error in my configuration. It's something I must have been done wrong twice, though.\nDocker version 1.12.0, build 8eab29e\ndocker-compose version 1.8.0, build f3628c7\n. Well, I think it all happens because my ISP drops packages with TTL smaller than 63. I will append a rule to the firewall and I hope I'll fix it.\nI CONFIRM. It is my ISP messing around with TTL. Incoming packages had TTL set to 1 and got lost in the DNAT. \n. ",
    "absulation": "@computerfr33k that work for me thanks!!\n. ",
    "datnq201088": "Thank you so  much !\n. ",
    "garf": "But --user=laradock doesn't have ssh key of host machine.. ",
    "r-moiseev": "So i reseted docker, rebuilded all images and now i have this\n```\nERROR: for volumes_data  Cannot start service volumes_data: mkdir /d/docker/app/laradock/data: permission denied\nERROR: for nginx  Cannot start service nginx: mkdir /d/docker/app/laradock/logs: permission denied\n\u001b[31mERROR\u001b[0m: Encountered errors while bringing up the project.\n``\n. Ive fixed this by manually creating all mount dirs in laradock folder. But there was another error with some writing.\nIt seems docker has no permissions to write to host directory.  But it can read, ive tested it with ls -la on alpine\n. ",
    "xyos": "Did you enable file sharing in docker?\nhttps://docs.docker.com/docker-for-windows/#docker-settings\nUpdate: I ran into this issue but following the shared-drives step in docker for windows solved my issue, I logged into the workspace container, ran composer to install dependencies and it worked whitout any error. I also had to manually add the mysql container ip (docker inspect laradock_mysql_1) into the .env file because it wasn't getting localhost. Now I have a laradock running in windows 10 without any issue.\nthanks for this project. :)\n. ",
    "IgorDePaula": "I do clone now and I havent any containers.\n2016-08-01 15:05 GMT-03:00 Mahmoud Zalt notifications@github.com:\n\ntry upgrading to LaraDock 4 and rebuilding your containers\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/201#issuecomment-236658801,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACs-SfHu8jskoyPBHBvn734YgTP9ze7oks5qbjVogaJpZM4JZ1T5\n.\n. Is necessary update docker-compose to minimum 1.6.0.\n. \n",
    "rockmantist": "Using \"docker exec -it workspace bash\" solved the problem.\n. ",
    "pangminfu": "Please add this feature\n. I have the exactly same issue change the timezone doesn't solve the issue. ",
    "hal2dy": "Hi,\nI'm not using Laradock but I got the same issue with my container and here is my solution:\ntry to ifconfig on your mac, and you will see your host ip address, in my case it's 192.168.1.90\n\nen0: flags=8863 mtu 1500\n    ether d0:a6:37:eb:13:15 \n    inet6 fe80::d2a6:37ff:feeb:1315%en0 prefixlen 64 scopeid 0x4 \n    inet 192.168.1.90 netmask 0xffffff00 broadcast 192.168.1.255\n    ...\n\nuse that ip address as mysql host, see if it can help \n(side comment: I found that docker-for-mac 1.12 is very slow compare to docker-machine)\n. ",
    "sidcool1234": "Where do I specify the IP address that you mention?. ",
    "prezire": "Just experienced this similar issue today on master.. I see. So this is still ongoing.. Just experienced this today on openSUSE Leap 15. Previous versions such as 42.3 seem to be okay.\nI got both /docker.stdout and /docker.stderr as errors after issuing docker-compose up apache2:\nAttaching to laradock_apache2_1\napache2_1              | ln: failed to access '/docker.stdout': Permission denied\nlaradock_apache2_1 exited with code 1\napache2_1              | AH00015: Unable to open logs\napache2_1              | 2019-03-05 07:35:11,861 INFO exited: apached (exit status 1; not expected)\napache2_1              | 2019-03-05 07:35:12,864 INFO spawned: 'apached' with pid 248\napache2_1              | -> Executing /opt/docker/bin/service.d/httpd.d//10-init.sh\napache2_1              | 2019-03-05 07:35:12,869 INFO success: apached entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\napache2_1              | (13)Permission denied: AH00091: apache2: could not open error log file /docker.stderr.. ",
    "bestlong": "@prezire \nmy test is ok.\n```\n~/Sites/laradock (master )$ docker-compose up -d nginx\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating network \"laradock_default\" with the default driver\nCreating laradock_docker-in-docker_1 ... done\nCreating laradock_workspace_1        ... done\nCreating laradock_php-fpm_1          ... done\nCreating laradock_nginx_1            ... done\n~/Sites/laradock (master )$ docker-compose exec workspace bash\nroot@b2765ec3cd52:/var/www# id\nuid=0(root) gid=0(root) groups=0(root)\nroot@b2765ec3cd52:/var/www# exit\n~/Sites/laradock (master )$ docker-compose exec -u laradock workspace bash\nlaradock@b2765ec3cd52:/var/www$ id\nuid=1000(laradock) gid=1000(laradock) groups=1000(laradock),8377(docker_env)\nlaradock@b2765ec3cd52:/var/www$ exit\n~/Sites/laradock (master )$ git log -n 1\ncommit d27f4368eec570d0a6a12136cb8476fbc1cb343a (HEAD -> master)\nAuthor: Slava Razum modern.web.artisan@gmail.com\nDate:   Sat Feb 9 11:06:26 2019 +0200\nRun bash when login by `laradock` via ssh (#1541)\n\n~/Sites/laradock (master *)$\n. Hi @FrodeMMeling Currently, laradock default save database data at host os.\nyou can check `.env` config file parameter `DATA_SAVE_PATH=~/.laradock/data`. try to change local_dir: to docs or ../../docs. Hi @winfried-van-loon, thanks for your advice. I need on the PHP56 version to maintain some legacy project. If it can keep this feature, It's very helpful to me.. if use PHP56, in workspace container also install 7.0. Hi @winfried-van-loon, you can build image by you self, for example use PHP56:\nat laradock/workspace project root run\ndocker build -t laradock/workspace:test-5.6 -f Dockerfile-56 .\nif success, go to laradock/laradoc project modify workspace/Dockerfile-56 base image name\nFROM laradock/workspace:1.3\nchange to\nFROM laradock/workspace:test-5.6\nthen run (.env set PHP_VERSION=56)\ndocker-compose build workspace\nafter build success\ndocker-compose up -d nginx mysql\ndocker-compose exec workspace php -v\nyou will get PHP 5.6 version message.. @mikeerickson Yes, Replace dockerfile name Dockerfile-56 to Dockerfile-70 (or Dockerfile-71), and docker image tag name test-5.6 to test-7.0 (or test-7.1), for you need PHP version.. @brezzhnev You can try:bash\n~/Sites/laradock (master) $ docker-compose exec workspace bash\nroot@5061a103303b:/var/www# apt-get update\nroot@5061a103303b:/var/www# apt-get install wget\nroot@5061a103303b:/var/www# add-apt-repository \"deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main\"\nroot@5061a103303b:/var/www# wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | apt-key add -\nroot@5061a103303b:/var/www# apt-get update\nroot@5061a103303b:/var/www# apt-get install postgresql-client-9.6\nroot@5061a103303b:/var/www# pg_dump -V\n```\nRef: https://askubuntu.com/questions/831292/how-to-install-postgresql-9-6-on-any-ubuntu-version. @Euthimios\nPlease insert into .env one line PHP_FPM_INSTALL_MYSQL after PHP_FPM_INSTALL_MYSQLI. @Mahmoudz Quick answer:\n1. Split document to independent project.\n2. use another CI service.\nAny idea ?. @nugrahawahyu Need more information.\nwhat are you run docker-compoe full command?\nor show you run docker-compoe ps command result.\n. @nugrahawahyu Edit docker-compose.yml and add -backend to elasticsearch networks node:\n```\nElasticSearch Container\nelasticsearch:\n  build: ./elasticsearch\n  volumes:\n    - elasticsearch-data:/usr/share/elasticsearch/data\n    - elasticsearch-plugins:/usr/share/elasticsearch/plugins\n  ports:\n    - \"${ELASTICSEARCH_HOST_HTTP_PORT}:9200\"\n    - \"${ELASTICSEARCH_HOST_TRANSPORT_PORT}:9300\"\n  depends_on:\n    - php-fpm\n  networks:\n    - frontend\n    - backend\n\n```\nthen stop containers, build elasticsearch service and start containers.. @mikeerickson  FYI\nAt My MAC not about Jenkins errors, my step:\nclone git master to /tmp/laradock\ncd /tmp/laradock\ncp env-example .env\ndocker-compose up -d --build  nginx\n```\n/tmp/laradock (master)$ git log -n 1\ncommit b2821b85ab3b317583a3180f371601ecfb2124e1\nMerge: 47150da 9413f2c\nAuthor: Winfried winfried-van-loon@users.noreply.github.com\nDate:   Mon May 1 21:11:57 2017 +0200\nMerge pull request #881 from winfried-van-loon/revert-unintended-md-formatting\n\nReverting unintended MD formatting\n\n/tmp/laradock (master)$ docker-compose up -d --build  nginx\nCreating network \"laradock_default\" with the default driver\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nBuilding workspace\nStep 1/105 : FROM laradock/workspace:1.8-71\n ---> b88aa2c85533\nStep 2/105 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> c2308f27ef78\nStep 3/105 : ARG PUID=1000\n ---> Using cache\n ---> 8dc077b6cfe4\nStep 4/105 : ARG PGID=1000\n ---> Using cache\n ---> 4b640836480e\nStep 5/105 : RUN groupadd -g $PGID laradock &&     useradd -u $PUID -g laradock -m laradock\n ---> Using cache\n ---> 3958080daa7c\nStep 6/105 : USER root\n ---> Using cache\n ---> 99fc5c6ab656\nStep 7/105 : ARG INSTALL_SOAP=false\n ---> Using cache\n ---> 5a3800bca595\nStep 8/105 : ENV INSTALL_SOAP ${INSTALL_SOAP}\n ---> Using cache\n ---> 85373d32199e\nStep 9/105 : RUN if [ ${INSTALL_SOAP} = true ]; then   apt-get -y update &&   add-apt-repository -y ppa:ondrej/php &&   apt-get -y install libxml2-dev php7.1-soap ;fi\n ---> Using cache\n ---> bbdbd991d282\nStep 10/105 : ARG TZ=UTC\n ---> Using cache\n ---> f30653ea89be\nStep 11/105 : ENV TZ ${TZ}\n ---> Using cache\n ---> 0bb727b8f3b4\nStep 12/105 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n ---> Using cache\n ---> de9485d8dab0\nStep 13/105 : COPY ./composer.json /home/laradock/.composer/composer.json\n ---> Using cache\n ---> 7ceeb977cc51\nStep 14/105 : RUN chown -R laradock:laradock /home/laradock/.composer\n ---> Using cache\n ---> a098c4a45cf2\nStep 15/105 : USER laradock\n ---> Using cache\n ---> 91ea25e80d55\nStep 16/105 : ARG COMPOSER_GLOBAL_INSTALL=false\n ---> Using cache\n ---> 3c70e06e486b\nStep 17/105 : ENV COMPOSER_GLOBAL_INSTALL ${COMPOSER_GLOBAL_INSTALL}\n ---> Using cache\n ---> e8e2d68c5c07\nStep 18/105 : RUN if [ ${COMPOSER_GLOBAL_INSTALL} = true ]; then     composer global install ;fi\n ---> Using cache\n ---> a64ce91c57f4\nStep 19/105 : USER root\n ---> Using cache\n ---> 938d858b682d\nStep 20/105 : COPY ./crontab /etc/cron.d\n ---> Using cache\n ---> dd226b512632\nStep 21/105 : RUN chmod -R 644 /etc/cron.d\n ---> Using cache\n ---> 9f1b42211786\nStep 22/105 : USER laradock\n ---> Using cache\n ---> 9ebb2c132071\nStep 23/105 : COPY ./aliases.sh /home/laradock/aliases.sh\n ---> Using cache\n ---> 9ab371c3f375\nStep 24/105 : RUN echo \"\" >> ~/.bashrc &&     echo \"# Load Custom Aliases\" >> ~/.bashrc &&     echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc &&     echo \"\" >> ~/.bashrc\n ---> Using cache\n ---> e8b8debe5773\nStep 25/105 : USER root\n ---> Using cache\n ---> 81037db9bd31\nStep 26/105 : RUN echo \"\" >> ~/.bashrc &&     echo \"# Load Custom Aliases\" >> ~/.bashrc &&     echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc &&     echo \"\" >> ~/.bashrc\n ---> Using cache\n ---> a8f150575d08\nStep 27/105 : ARG INSTALL_XDEBUG=false\n ---> Using cache\n ---> 9ca30877db37\nStep 28/105 : RUN if [ ${INSTALL_XDEBUG} = true ]; then     apt-get update &&     apt-get install -y --force-yes php-xdebug &&     sed -i 's/^/;/g' /etc/php/7.1/cli/conf.d/20-xdebug.ini &&     echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/vendor/bin/phpunit'\" >> ~/.bashrc ;fi\n ---> Using cache\n ---> 692cbd230df9\nStep 29/105 : COPY ./xdebug.ini /etc/php/7.1/cli/conf.d/xdebug.ini\n ---> Using cache\n ---> d2766fa4654d\nStep 30/105 : ARG INSTALL_BLACKFIRE=false\n ---> Using cache\n ---> 1f6c4655d50e\nStep 31/105 : ARG BLACKFIRE_CLIENT_ID\n ---> Using cache\n ---> 11e373ce84b6\nStep 32/105 : ARG BLACKFIRE_CLIENT_TOKEN\n ---> Using cache\n ---> 83b9ffabe465\nStep 33/105 : ENV BLACKFIRE_CLIENT_ID ${BLACKFIRE_CLIENT_ID}\n ---> Using cache\n ---> 31f4183ca83d\nStep 34/105 : ENV BLACKFIRE_CLIENT_TOKEN ${BLACKFIRE_CLIENT_TOKEN}\n ---> Using cache\n ---> a99a757b4b9b\nStep 35/105 : RUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ]; then     curl -L https://packagecloud.io/gpg.key | apt-key add - &&     echo \"deb http://packages.blackfire.io/debian any main\" | tee /etc/apt/sources.list.d/blackfire.list &&     apt-get update &&     apt-get install blackfire-agent ;fi\n ---> Using cache\n ---> e0f49e2c6da1\nStep 36/105 : ARG INSTALL_WORKSPACE_SSH=false\n ---> Using cache\n ---> 77f2fe1ede9e\nStep 37/105 : ENV INSTALL_WORKSPACE_SSH ${INSTALL_WORKSPACE_SSH}\n ---> Using cache\n ---> 08bca73e7ae7\nStep 38/105 : ADD insecure_id_rsa /tmp/id_rsa\n ---> Using cache\n ---> dcdefe9427c5\nStep 39/105 : ADD insecure_id_rsa.pub /tmp/id_rsa.pub\n ---> Using cache\n ---> 03e0fbc70451\nStep 40/105 : RUN if [ ${INSTALL_WORKSPACE_SSH} = true ]; then     rm -f /etc/service/sshd/down &&     cat /tmp/id_rsa.pub >> /root/.ssh/authorized_keys         && cat /tmp/id_rsa.pub >> /root/.ssh/id_rsa.pub         && cat /tmp/id_rsa >> /root/.ssh/id_rsa         && rm -f /tmp/id_rsa         && chmod 644 /root/.ssh/authorized_keys /root/.ssh/id_rsa.pub     && chmod 400 /root/.ssh/id_rsa ;fi\n ---> Using cache\n ---> 4ad944e7ecd5\nStep 41/105 : ARG INSTALL_MONGO=false\n ---> Using cache\n ---> c8d1275778d8\nStep 42/105 : ENV INSTALL_MONGO ${INSTALL_MONGO}\n ---> Using cache\n ---> 2d797384e102\nStep 43/105 : RUN if [ ${INSTALL_MONGO} = true ]; then     pecl install mongodb &&     echo \"extension=mongodb.so\" >> /etc/php/7.1/cli/conf.d/30-mongodb.ini ;fi\n ---> Using cache\n ---> 9d3c07ab51ad\nStep 44/105 : USER root\n ---> Using cache\n ---> 60a87678bec0\nStep 45/105 : ENV DRUSH_VERSION 8.1.2\n ---> Using cache\n ---> 799ec6edf0e2\nStep 46/105 : ARG INSTALL_DRUSH=false\n ---> Using cache\n ---> d5acce099eac\nStep 47/105 : ENV INSTALL_DRUSH ${INSTALL_DRUSH}\n ---> Using cache\n ---> 51c91f9d4216\nStep 48/105 : RUN if [ ${INSTALL_DRUSH} = true ]; then     curl -fsSL -o /usr/local/bin/drush https://github.com/drush-ops/drush/releases/download/$DRUSH_VERSION/drush.phar | bash &&     chmod +x /usr/local/bin/drush &&     drush core-status ;fi\n ---> Using cache\n ---> fb23bae3087f\nStep 49/105 : USER laradock\n ---> Using cache\n ---> 09324b053526\nStep 50/105 : ARG NODE_VERSION=stable\n ---> Using cache\n ---> 9ef2d7698163\nStep 51/105 : ENV NODE_VERSION ${NODE_VERSION}\n ---> Using cache\n ---> 9998398c3eca\nStep 52/105 : ARG INSTALL_NODE=false\n ---> Using cache\n ---> 11cf1f689e60\nStep 53/105 : ENV INSTALL_NODE ${INSTALL_NODE}\n ---> Using cache\n ---> 203f2205e2ed\nStep 54/105 : ENV NVM_DIR /home/laradock/.nvm\n ---> Using cache\n ---> 9c5bff6c56f3\nStep 55/105 : RUN if [ ${INSTALL_NODE} = true ]; then     curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash &&         . $NVM_DIR/nvm.sh &&         nvm install ${NODE_VERSION} &&         nvm use ${NODE_VERSION} &&         nvm alias ${NODE_VERSION} &&         npm install -g gulp bower vue-cli ;fi\n ---> Using cache\n ---> 3cdb40ea58b2\nStep 56/105 : RUN if [ ${INSTALL_NODE} = true ]; then     echo \"\" >> ~/.bashrc &&     echo 'export NVM_DIR=\"$HOME/.nvm\"' >> ~/.bashrc &&     echo '[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"  # This loads nvm' >> ~/.bashrc ;fi\n ---> Using cache\n ---> a90e6acfab23\nStep 57/105 : USER root\n ---> Using cache\n ---> 10317145b5b3\nStep 58/105 : RUN if [ ${INSTALL_NODE} = true ]; then     echo \"\" >> ~/.bashrc &&     echo 'export NVM_DIR=\"/home/laradock/.nvm\"' >> ~/.bashrc &&     echo '[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"  # This loads nvm' >> ~/.bashrc ;fi\n ---> Using cache\n ---> dbe60f71bc93\nStep 59/105 : USER laradock\n ---> Using cache\n ---> c10d996a3311\nStep 60/105 : ARG INSTALL_YARN=false\n ---> Using cache\n ---> 03bca90a544d\nStep 61/105 : ENV INSTALL_YARN ${INSTALL_YARN}\n ---> Using cache\n ---> 11233269ab21\nStep 62/105 : ARG YARN_VERSION=latest\n ---> Using cache\n ---> 70f7aff877fb\nStep 63/105 : ENV YARN_VERSION ${YARN_VERSION}\n ---> Using cache\n ---> 98d714a80b98\nStep 64/105 : RUN if [ ${INSTALL_YARN} = true ]; then     [ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\" &&     if [ ${YARN_VERSION} = \"latest\" ]; then         curl -o- -L https://yarnpkg.com/install.sh | bash;     else         curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version ${YARN_VERSION};     fi &&     echo \"\" >> ~/.bashrc &&     echo 'export PATH=\"$HOME/.yarn/bin:$PATH\"' >> ~/.bashrc ;fi\n ---> Using cache\n ---> 585fafc1ce35\nStep 65/105 : USER root\n ---> Using cache\n ---> de8f1027b89d\nStep 66/105 : RUN if [ ${INSTALL_YARN} = true ]; then     echo \"\" >> ~/.bashrc &&     echo 'export YARN_DIR=\"/home/laradock/.yarn\"' >> ~/.bashrc &&     echo 'export PATH=\"$YARN_DIR/bin:$PATH\"' >> ~/.bashrc ;fi\n ---> Using cache\n ---> d3dcbd01f77d\nStep 67/105 : USER root\n ---> Using cache\n ---> 2b2d078e7286\nStep 68/105 : ARG INSTALL_AEROSPIKE_EXTENSION=true\n ---> Using cache\n ---> 2dd9f6bf503d\nStep 69/105 : ENV INSTALL_AEROSPIKE_EXTENSION ${INSTALL_AEROSPIKE_EXTENSION}\n ---> Using cache\n ---> 9e366e2d98c5\nStep 70/105 : COPY ./aerospike.ini /etc/php/7.1/cli/conf.d/aerospike.ini\n ---> Using cache\n ---> bc16b01dcbbd\nStep 71/105 : RUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = true ]; then     curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/luciano-jr/aerospike-client-php/archive/master.tar.gz\"     && mkdir -p aerospike-client-php     && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1     && (         cd aerospike-client-php/src/aerospike         && phpize         && ./build.sh         && make install     )     && rm /tmp/aerospike-client-php.tar.gz ;fi\n ---> Using cache\n ---> efc761ef4718\nStep 72/105 : RUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = false ]; then     rm /etc/php/7.1/cli/conf.d/aerospike.ini ;fi\n ---> Using cache\n ---> 6d30bb59b21f\nStep 73/105 : USER root\n ---> Using cache\n ---> 68208de1ab9a\nStep 74/105 : ARG INSTALL_V8JS_EXTENSION=false\n ---> Using cache\n ---> 9755bacab7bf\nStep 75/105 : ENV INSTALL_V8JS_EXTENSION ${INSTALL_V8JS_EXTENSION}\n ---> Using cache\n ---> 85e2ea258f31\nStep 76/105 : RUN if [ ${INSTALL_V8JS_EXTENSION} = true ]; then     add-apt-repository -y ppa:pinepain/libv8-5.4     && apt-get update     && apt-get install -y php-dev php-pear libv8-5.4     && pecl install v8js     && echo \"extension=v8js.so\" >> /etc/php/7.1/cli/php.ini ;fi\n ---> Using cache\n ---> b7c170296b3a\nStep 77/105 : USER laradock\n ---> Using cache\n ---> b37f3c0fd5c6\nStep 78/105 : RUN echo \"\" >> ~/.bashrc &&     echo 'export PATH=\"/var/www/vendor/bin:$PATH\"' >> ~/.bashrc\n ---> Using cache\n ---> 2308cf48552f\nStep 79/105 : USER root\n ---> Using cache\n ---> fd54b1dd5a37\nStep 80/105 : RUN echo \"\" >> ~/.bashrc &&     echo 'alias art=\"php artisan\"' >> ~/.bashrc\n ---> Using cache\n ---> 3d0e7edbb615\nStep 81/105 : USER laradock\n ---> Using cache\n ---> bb2c4ed4f815\nStep 82/105 : ARG INSTALL_LARAVEL_ENVOY=true\n ---> Using cache\n ---> 09c6c47fe57a\nStep 83/105 : ENV INSTALL_LARAVEL_ENVOY ${INSTALL_LARAVEL_ENVOY}\n ---> Using cache\n ---> 35aac7be5b60\nStep 84/105 : RUN if [ ${INSTALL_LARAVEL_ENVOY} = true ]; then     composer global require \"laravel/envoy=~1.0\" ;fi\n ---> Using cache\n ---> 09bbfceece31\nStep 85/105 : USER laradock\n ---> Using cache\n ---> 0053abba3f0a\nStep 86/105 : ARG INSTALL_DEPLOYER=false\n ---> Using cache\n ---> 0e84c7760391\nStep 87/105 : ENV INSTALL_DEPLOYER ${INSTALL_DEPLOYER}\n ---> Using cache\n ---> 783bfe7ae9df\nStep 88/105 : RUN if [ ${INSTALL_DEPLOYER} = true ]; then     composer global require \"deployer/deployer\" ;fi\n ---> Using cache\n ---> a42d3e4b1afe\nStep 89/105 : USER root\n ---> Using cache\n ---> 95305f81b4b4\nStep 90/105 : ARG INSTALL_LINUXBREW=true\n ---> Using cache\n ---> 5e1545216d4a\nStep 91/105 : ENV INSTALL_LINUXBREW ${INSTALL_LINUXBREW}\n ---> Using cache\n ---> d1ef37287aa2\nStep 92/105 : RUN if [ ${INSTALL_LINUXBREW} = true ]; then     apt-get update &&     apt-get upgrade -y &&     apt-get install -y build-essential make cmake scons curl git       ruby autoconf automake autoconf-archive       gettext libtool flex bison       libbz2-dev libcurl4-openssl-dev       libexpat-dev libncurses-dev &&     git clone https://github.com/Homebrew/linuxbrew.git ~/.linuxbrew &&     echo \"\" >> ~/.bashrc &&     echo 'export PKG_CONFIG_PATH\"=/usr/local/lib/pkgconfig:/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/lib/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig:/usr/lib64/pkgconfig:/usr/share/pkgconfig:$PKG_CONFIG_PATH\"' >> ~/.bashrc &&     echo 'export LINUXBREWHOME=\"$HOME/.linuxbrew\"' >> ~/.bashrc &&     echo 'export PATH=\"$LINUXBREWHOME/bin:$PATH\"' >> ~/.bashrc &&     echo 'export MANPATH=\"$LINUXBREWHOME/man:$MANPATH\"' >> ~/.bashrc &&     echo 'export PKG_CONFIG_PATH=\"$LINUXBREWHOME/lib64/pkgconfig:$LINUXBREWHOME/lib/pkgconfig:$PKG_CONFIG_PATH\"' >> ~/.bashrc &&     echo 'export LD_LIBRARY_PATH=\"$LINUXBREWHOME/lib64:$LINUXBREWHOME/lib:$LD_LIBRARY_PATH\"' >> ~/.bashrc ;fi\n ---> Using cache\n ---> e7258359eecd\nStep 93/105 : USER root\n ---> Using cache\n ---> 7f302a897df8\nStep 94/105 : ARG INSTALL_MC=false\n ---> Using cache\n ---> fc7771124dab\nStep 95/105 : ENV INSTALL_MC ${INSTALL_MC}\n ---> Using cache\n ---> ac4d91dabf2f\nStep 96/105 : COPY mc/config.json /root/.mc/config.json\n ---> Using cache\n ---> b8638ac4f17e\nStep 97/105 : RUN if [ ${INSTALL_MC} = true ]; then    curl -fsSL -o /usr/local/bin/mc https://dl.minio.io/client/mc/release/linux-amd64/mc &&     chmod +x /usr/local/bin/mc ;fi\n ---> Using cache\n ---> 0993294bca6f\nStep 98/105 : USER root\n ---> Using cache\n ---> f7d3e943797f\nStep 99/105 : ARG INSTALL_SYMFONY=false\n ---> Using cache\n ---> b42c129e697b\nStep 100/105 : ENV INSTALL_SYMFONY ${INSTALL_SYMFONY}\n ---> Using cache\n ---> 2390142e98a2\nStep 101/105 : RUN if [ ${INSTALL_SYMFONY} = true ]; then   mkdir -p /usr/local/bin   && curl -LsS https://symfony.com/installer -o /usr/local/bin/symfony   && chmod a+x /usr/local/bin/symfony   && echo 'alias dev=\"php bin/console -e=dev\"' >> ~/.bashrc   && echo 'alias prod=\"php bin/console -e=prod\"' >> ~/.bashrc ;fi\n ---> Using cache\n ---> e177dcecb7cf\nStep 102/105 : USER laradock\n ---> Using cache\n ---> d9de84c73e5a\nStep 103/105 : USER root\n ---> Using cache\n ---> 3752a32f3df8\nStep 104/105 : RUN apt-get clean &&     rm -rf /var/lib/apt/lists/ /tmp/ /var/tmp/\n ---> Using cache\n ---> f9cf531b6e50\nStep 105/105 : WORKDIR /var/www\n ---> Using cache\n ---> f6fa44bef692\nSuccessfully built f6fa44bef692\nBuilding php-fpm\nStep 1/42 : FROM laradock/php-fpm:1.4-71\n ---> a8cca8d57319\nStep 2/42 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> 6bc4abcd43a2\nStep 3/42 : ARG INSTALL_SOAP=false\n ---> Using cache\n ---> af456c86ff42\nStep 4/42 : RUN if [ ${INSTALL_SOAP} = true ]; then     apt-get -y update &&     apt-get -y install libxml2-dev php-soap &&     docker-php-ext-install soap ;fi\n ---> Using cache\n ---> 8ef83ce72f6f\nStep 5/42 : ARG INSTALL_XDEBUG=false\n ---> Using cache\n ---> 0f9f3257110e\nStep 6/42 : RUN if [ ${INSTALL_XDEBUG} = true ]; then     pecl install xdebug &&     docker-php-ext-enable xdebug ;fi\n ---> Using cache\n ---> 64b5ea621dd9\nStep 7/42 : COPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n ---> Using cache\n ---> e435f6bc746b\nStep 8/42 : ARG INSTALL_BLACKFIRE=false\n ---> Using cache\n ---> bd91813dd697\nStep 9/42 : RUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ]; then     version=$(php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\")     && curl -A \"Docker\" -o /tmp/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/linux/amd64/$version     && tar zxpf /tmp/blackfire-probe.tar.gz -C /tmp     && mv /tmp/blackfire-*.so $(php -r \"echo ini_get('extension_dir');\")/blackfire.so     && printf \"extension=blackfire.so\\nblackfire.agent_socket=tcp://blackfire:8707\\n\" > $PHP_INI_DIR/conf.d/blackfire.ini ;fi\n ---> Using cache\n ---> b5126d171902\nStep 10/42 : ARG INSTALL_PHPREDIS=false\n ---> Using cache\n ---> 216188a4ee77\nStep 11/42 : RUN if [ ${INSTALL_PHPREDIS} = true ]; then     pecl install -o -f redis     &&  rm -rf /tmp/pear     &&  docker-php-ext-enable redis ;fi\n ---> Using cache\n ---> 7e5294972c9e\nStep 12/42 : ARG INSTALL_MONGO=false\n ---> Using cache\n ---> 2f407b484445\nStep 13/42 : RUN if [ ${INSTALL_MONGO} = true ]; then     pecl install mongodb &&     docker-php-ext-enable mongodb ;fi\n ---> Using cache\n ---> 5881378de6bd\nStep 14/42 : ARG INSTALL_ZIP_ARCHIVE=false\n ---> Using cache\n ---> b05259008f22\nStep 15/42 : RUN if [ ${INSTALL_ZIP_ARCHIVE} = true ]; then     docker-php-ext-install zip ;fi\n ---> Using cache\n ---> 2415e420309d\nStep 16/42 : ARG INSTALL_BCMATH=false\n ---> Using cache\n ---> 9f71a87943dd\nStep 17/42 : RUN if [ ${INSTALL_BCMATH} = true ]; then     docker-php-ext-install bcmath ;fi\n ---> Using cache\n ---> 2d7841156a80\nStep 18/42 : ARG INSTALL_MEMCACHED=false\n ---> Using cache\n ---> 1459d17e9e3f\nStep 19/42 : RUN if [ ${INSTALL_MEMCACHED} = true ]; then     curl -L -o /tmp/memcached.tar.gz \"https://github.com/php-memcached-dev/php-memcached/archive/php7.tar.gz\"     && mkdir -p memcached     && tar -C memcached -zxvf /tmp/memcached.tar.gz --strip 1     && (         cd memcached         && phpize         && ./configure         && make -j$(nproc)         && make install     )     && rm -r memcached     && rm /tmp/memcached.tar.gz     && docker-php-ext-enable memcached ;fi\n ---> Using cache\n ---> 483320aec486\nStep 20/42 : ARG INSTALL_EXIF=false\n ---> Using cache\n ---> 25888d6c0b8e\nStep 21/42 : RUN if [ ${INSTALL_EXIF} = true ]; then     docker-php-ext-install exif ;fi\n ---> Using cache\n ---> dec400b55881\nStep 22/42 : ARG INSTALL_AEROSPIKE_EXTENSION=false\n ---> Using cache\n ---> aa46302d3750\nStep 23/42 : ENV INSTALL_AEROSPIKE_EXTENSION ${INSTALL_AEROSPIKE_EXTENSION}\n ---> Using cache\n ---> 3b7aaec65a05\nStep 24/42 : COPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\n ---> Using cache\n ---> a1586b8159a6\nStep 25/42 : RUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = true ]; then     curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/luciano-jr/aerospike-client-php/archive/master.tar.gz\"     && mkdir -p aerospike-client-php     && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1     && (         cd aerospike-client-php/src/aerospike         && phpize         && ./build.sh         && make install     )     && rm /tmp/aerospike-client-php.tar.gz     && docker-php-ext-enable aerospike ;fi\n ---> Using cache\n ---> 45ffaafd2868\nStep 26/42 : ARG INSTALL_OPCACHE=false\n ---> Using cache\n ---> f347363af67c\nStep 27/42 : RUN if [ ${INSTALL_OPCACHE} = true ]; then     docker-php-ext-install opcache ;fi\n ---> Using cache\n ---> 1adc02b47d22\nStep 28/42 : COPY ./opcache.ini /usr/local/etc/php/conf.d/opcache.ini\n ---> Using cache\n ---> dfc944e9c58d\nStep 29/42 : ARG INSTALL_MYSQLI=false\n ---> Using cache\n ---> b5c06422a9c7\nStep 30/42 : RUN if [ ${INSTALL_MYSQLI} = true ]; then     docker-php-ext-install mysqli ;fi\n ---> Using cache\n ---> 798c9e51b92b\nStep 31/42 : ARG INSTALL_TOKENIZER=false\n ---> Using cache\n ---> 795262f286bc\nStep 32/42 : RUN if [ ${INSTALL_TOKENIZER} = true ]; then      docker-php-ext-install tokenizer ;fi\n ---> Using cache\n ---> bf49cf7350ed\nStep 33/42 : ARG INSTALL_INTL=false\n ---> Using cache\n ---> ef1e40294832\nStep 34/42 : RUN if [ ${INSTALL_INTL} = true ]; then     apt-get -y update &&     apt-get install -y zlib1g-dev libicu-dev g++ &&     docker-php-ext-configure intl &&     docker-php-ext-install intl ;fi\n ---> Using cache\n ---> 71a587831b9b\nStep 35/42 : ARG INSTALL_GHOSTSCRIPT=false\n ---> Using cache\n ---> 5c27bc870b69\nStep 36/42 : RUN if [ ${INSTALL_GHOSTSCRIPT} = true ]; then     apt-get -y update     && apt-get install -y     poppler-utils     ghostscript ;fi\n ---> Using cache\n ---> 9ad3fb694c8b\nStep 37/42 : ADD ./laravel.ini /usr/local/etc/php/conf.d\n ---> Using cache\n ---> 50a8768cad66\nStep 38/42 : ADD ./laravel.pool.conf /usr/local/etc/php-fpm.d/\n ---> Using cache\n ---> 90c490dfbaa5\nStep 39/42 : RUN usermod -u 1000 www-data\n ---> Using cache\n ---> ba8226506f00\nStep 40/42 : WORKDIR /var/www\n ---> Using cache\n ---> 3cab5fa4a873\nStep 41/42 : CMD php-fpm\n ---> Using cache\n ---> 9f9466d068a6\nStep 42/42 : EXPOSE 9000\n ---> Using cache\n ---> 02ee1bbbaab4\nSuccessfully built 02ee1bbbaab4\nBuilding nginx\nStep 1/8 : FROM nginx:alpine\n ---> 0ae090dba3ab\nStep 2/8 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> 532ca39806d4\nStep 3/8 : ADD nginx.conf /etc/nginx/\n ---> Using cache\n ---> ae22d83e1a2a\nStep 4/8 : ARG PHP_UPSTREAM=php-fpm\n ---> Using cache\n ---> a7acd5dbe6e7\nStep 5/8 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories\n ---> Using cache\n ---> 13929a8af18d\nStep 6/8 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\n ---> Using cache\n ---> 866a59d89845\nStep 7/8 : CMD nginx\n ---> Using cache\n ---> 605e7a9d1996\nStep 8/8 : EXPOSE 80 443\n ---> Using cache\n ---> 8efc667f2251\nSuccessfully built 8efc667f2251\nCreating laradock_applications_1\nCreating laradock_workspace_1\nCreating laradock_php-fpm_1\nCreating laradock_nginx_1\n/tmp/laradock (master)$\n```. @winfried-van-loon I just build again. i think is all fine.. but up jenkins container will exit.\n973\n. Hi @at-tienpham, in workspace container, if you want to link mysql container, please try to use:\nhost: mysql. @at-tienpham \ndocker-compose stop\ndocker-compose up -d --build <you origin list> phpmyadmin\ncheck all container state is up\ndocker-compose ps\ntry login PHPMyAdmin:\nOpen Browser http://localhost:88\nServer: mysql\nUsername: root\nPassword: root\nHope you can login success.\n. @at-tienpham\n.env set PHP_FPM_INSTALL_MYSQLI=true\nthen stop and up --build again.\n. Hi @LaurentChardin FYI\n.env\n\nPHP_VERSION=70\n\nphp-fpm/Dockerfile-70\n\nFROM laradock/php-fpm:7.0--1.4\n\nrun  docker-compose build php-fpm part result:\n```\nStep 9/42 : RUN if [ ${INSTALL_PHPREDIS} = true ]; then     pecl install -o -f redis     &&  rm -rf /tmp/pear     &&  docker-php-ext-enable redis ;fi\n ---> Running in 9ece9729e335\nWARNING: channel \"pecl.php.net\" has updated its protocols, use \"pecl channel-update pecl.php.net\" to update\ndownloading redis-3.1.2.tgz ...\nStarting to download redis-3.1.2.tgz (199,041 bytes)\n.........................................done: 199,041 bytes\n20 source files, building\nrunning: phpize\nConfiguring for:\nPHP Api Version:         20160303\nZend Module Api No:      20160303\nZend Extension Api No:   320160303\nbuilding in /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2\nrunning: /tmp/pear/temp/redis/configure --with-php-config=/usr/local/bin/php-config\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for a sed that does not truncate output... /bin/sed\nchecking for cc... cc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables...\nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether cc accepts -g... yes\nchecking for cc option to accept ISO C89... none needed\nchecking how to run the C preprocessor... cc -E\nchecking for icc... no\nchecking for suncc... no\nchecking whether cc understands -c and -o together... yes\nchecking for system library directory... lib\nchecking if compiler supports -R... no\nchecking if compiler supports -Wl,-rpath,... yes\nchecking build system type... x86_64-unknown-linux-gnu\nchecking host system type... x86_64-unknown-linux-gnu\nchecking target system type... x86_64-unknown-linux-gnu\nchecking for PHP prefix... /usr/local\nchecking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib\nchecking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303\nchecking for PHP installed headers prefix... /usr/local/include/php\nchecking if debug is enabled... no\nchecking if zts is enabled... no\nchecking for re2c... re2c\nchecking for re2c version... 0.13.5 (ok)\nchecking for gawk... no\nchecking for nawk... nawk\nchecking if nawk is broken... no\nchecking whether to enable redis support... yes, shared\nchecking whether to enable sessions... yes\nchecking whether to enable igbinary serializer support... no\nchecking for redis igbinary support... disabled\nchecking for ld used by cc... /usr/bin/ld\nchecking if the linker (/usr/bin/ld) is GNU ld... yes\nchecking for /usr/bin/ld option to reload object files... -r\nchecking for BSD-compatible nm... /usr/bin/nm -B\nchecking whether ln -s works... yes\nchecking how to recognize dependent libraries... pass_all\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking dlfcn.h usability... yes\nchecking dlfcn.h presence... yes\nchecking for dlfcn.h... yes\nchecking the maximum length of command line arguments... 1572864\nchecking command to parse /usr/bin/nm -B output from cc object... ok\nchecking for objdir... .libs\nchecking for ar... ar\nchecking for ranlib... ranlib\nchecking for strip... strip\nchecking if cc supports -fno-rtti -fno-exceptions... no\nchecking for cc option to produce PIC... -fPIC\nchecking if cc PIC flag -fPIC works... yes\nchecking if cc static flag -static works... yes\nchecking if cc supports -c -o file.o... yes\nchecking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes\nchecking whether -lc should be explicitly linked in... no\nchecking dynamic linker characteristics... GNU/Linux ld.so\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... yes\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... no\ncreating libtool\nappending configuration tag \"CXX\" to libtool\nconfigure: creating ./config.status\nconfig.status: creating config.h\nrunning: make\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis.c -o redis.lo\nmkdir .libs\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis.c  -fPIC -DPIC -o .libs/redis.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis_commands.c -o redis_commands.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis_commands.c  -fPIC -DPIC -o .libs/redis_commands.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/library.c -o library.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/library.c  -fPIC -DPIC -o .libs/library.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis_session.c -o redis_session.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis_session.c  -fPIC -DPIC -o .libs/redis_session.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis_array.c -o redis_array.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis_array.c  -fPIC -DPIC -o .libs/redis_array.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis_array_impl.c -o redis_array_impl.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis_array_impl.c  -fPIC -DPIC -o .libs/redis_array_impl.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/redis_cluster.c -o redis_cluster.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/redis_cluster.c  -fPIC -DPIC -o .libs/redis_cluster.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=compile cc  -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /tmp/pear/temp/redis/cluster_library.c -o cluster_library.lo\n cc -I. -I/tmp/pear/temp/redis -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /tmp/pear/temp/redis/cluster_library.c  -fPIC -DPIC -o .libs/cluster_library.o\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=link cc -DPHP_ATOM_INC -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/include -I/tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/main -I/tmp/pear/temp/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -o redis.la -export-dynamic -avoid-version -prefer-pic -module -rpath /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules  redis.lo redis_commands.lo library.lo redis_session.lo redis_array.lo redis_array_impl.lo redis_cluster.lo cluster_library.lo\ncc -shared  .libs/redis.o .libs/redis_commands.o .libs/library.o .libs/redis_session.o .libs/redis_array.o .libs/redis_array_impl.o .libs/redis_cluster.o .libs/cluster_library.o   -Wl,-soname -Wl,redis.so -o .libs/redis.so\ncreating redis.la\n(cd .libs && rm -f redis.la && ln -s ../redis.la redis.la)\n/bin/bash /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/libtool --mode=install cp ./redis.la /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules\ncp ./.libs/redis.so /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules/redis.so\ncp ./.libs/redis.lai /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules/redis.la\nPATH=\"$PATH:/sbin\" ldconfig -n /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules\n\nLibraries have been installed in:\n   /tmp/pear/temp/pear-build-defaultuser16b6hW/redis-3.1.2/modules\nIf you ever happen to want to link against installed libraries\nin a given directory, LIBDIR, you must either use libtool, and\nspecify the full pathname of the library, or use the -LLIBDIR'\nflag during linking and do at least one of the following:\n   - add LIBDIR to theLD_LIBRARY_PATH' environment variable\n     during execution\n   - add LIBDIR to the LD_RUN_PATH' environment variable\n     during linking\n   - use the-Wl,--rpath -Wl,LIBDIR' linker flag\n   - have your system administrator add LIBDIR to `/etc/ld.so.conf'\nSee any operating system documentation about shared libraries for\nmore information, such as the ld(1) and ld.so(8) manual pages.\n\nBuild complete.\nDon't forget to run 'make test'.\nrunning: make INSTALL_ROOT=\"/tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2\" install\nInstalling shared extensions:     /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib/php/extensions/no-debug-non-zts-20160303/\nrunning: find \"/tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2\" | xargs ls -dils\n569    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2\n897    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr\n898    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local\n899    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib\n900    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib/php\n901    4 drwxr-xr-x 3 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib/php/extensions\n902    4 drwxr-xr-x 2 root root    4096 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib/php/extensions/no-debug-non-zts-20160303\n890 1424 -rwxr-xr-x 1 root root 1454928 Apr 18 09:47 /tmp/pear/temp/pear-build-defaultuser16b6hW/install-redis-3.1.2/usr/local/lib/php/extensions/no-debug-non-zts-20160303/redis.so\nBuild process completed successfully\nInstalling '/usr/local/lib/php/extensions/no-debug-non-zts-20160303/redis.so'\ninstall ok: channel://pecl.php.net/redis-3.1.2\nconfiguration option \"php_ini\" is not set to php.ini location\nYou should add \"extension=redis.so\" to php.ini\n ---> d95459dddcc8\nRemoving intermediate container 9ece9729e335\nStep 10/42 : ARG INSTALL_MONGO=false\n. @ibenchu because you last time up postgres container init db step already done.\nif you don't mind remove all postgres data, you can delete it by command:\nrm -rf /tmp/postgres\n```\nthen up postgres container, new password will be applied.\nif you want to keep postgres data, you can up with pgadmin container, use web gui http://localhost:5050/ then login by old password and change it.. Hi @ibenchu Please ref #778 , I provided another way.. PHP_VERSION=71\nIf PHP_FPM_INSTALL_AEROSPIKE_EXTENSION and PHP_FPM_INSTALL_OPCACHE then\nbuild failed\nhttps://github.com/aerospike/aerospike-client-php/issues/141. Hi @aft3rlife \nPlease upgrade docker version > 1.13\nhttps://github.com/moby/moby/pull/27412. Ref: https://github.com/travis-ci/travis-ci/issues/1066. @winfried-van-loon No, Travic CI is run build test for laradock/laradock.\nI found ERROR in build log, but Travic CI aways report success, is not right.\nyou can check build log for PHP56\nhttps://travis-ci.org/laradock/laradock/jobs/227215248\nIn my PR #877 build test for PHP56, TravisCI get failed caused by build ERROR, Is the correct result.\nhttps://travis-ci.org/laradock/laradock/jobs/227364183. Trvis-CI is CI (Continuous Integration) service provider.\nThe CI is part of DevOps culture. Ref: https://en.wikipedia.org/wiki/DevOps\nWhen some one push commit or send PR, well trigger Travis-CI run build, test, deploy. step by step follow by .travis.yml config to set.\nso, project owner just need to look Travis-CI report is success or failed. we don't need run test by hand.. Hi @chisumo2016 Need more infomation:\ndocker version\ndocker-compose version. About V8JS ERROR, Fixed by #887. Need more info, Please run following two command\ngit rev-parse HEAD\ndiff .env env-example. Hi @ko22009 \nIf you changed .env, In this case you need to run docker-compoe build --no-cache workspace to build new image.. It seems to be a bug:\n```\n~/Sites/laradock (master )$ git rev-parse HEAD\naa5e8e666683a67a3946b577b2f9293ddf127ced\n~/Sites/laradock (master )$ diff .env env-example\n32c32\n< WORKSPACE_INSTALL_XDEBUG=true\n\n\nWORKSPACE_INSTALL_XDEBUG=false\n```\n\nroot@0d7695410378:/var/www# ls /etc/php/7.1/mods-available/\nbcmath.ini    dom.ini       gd.ini        json.ini       msgpack.ini  pdo.ini         pgsql.ini     shmop.ini      sysvmsg.ini    wddx.ini       xmlwriter.ini\ncalendar.ini  exif.ini      gettext.ini   mbstring.ini   mysqli.ini   pdo_mysql.ini   phar.ini      simplexml.ini  sysvsem.ini    xdebug.ini     xsl.ini\nctype.ini     fileinfo.ini  iconv.ini     mcrypt.ini     mysqlnd.ini  pdo_pgsql.ini   posix.ini     sockets.ini    sysvshm.ini    xml.ini        zip.ini\ncurl.ini      ftp.ini       igbinary.ini  memcached.ini  opcache.ini  pdo_sqlite.ini  readline.ini  sqlite3.ini    tokenizer.ini  xmlreader.ini\nroot@0d7695410378:/var/www# ls /etc/php/7.1/cli/conf.d/\n10-mysqlnd.ini  20-calendar.ini  20-fileinfo.ini  20-igbinary.ini  20-mysqli.ini      20-phar.ini       20-sockets.ini  20-tokenizer.ini  20-xsl.ini\n10-opcache.ini  20-ctype.ini     20-ftp.ini       20-json.ini      20-pdo_mysql.ini   20-posix.ini      20-sqlite3.ini  20-wddx.ini       20-zip.ini\n10-pdo.ini      20-curl.ini      20-gd.ini        20-mbstring.ini  20-pdo_pgsql.ini   20-readline.ini   20-sysvmsg.ini  20-xdebug.ini     25-memcached.ini\n15-xml.ini      20-dom.ini       20-gettext.ini   20-mcrypt.ini    20-pdo_sqlite.ini  20-shmop.ini      20-sysvsem.ini  20-xmlreader.ini  xdebug.ini\n20-bcmath.ini   20-exif.ini      20-iconv.ini     20-msgpack.ini   20-pgsql.ini       20-simplexml.ini  20-sysvshm.ini  20-xmlwriter.ini\nroot@0d7695410378:/var/www# cat /etc/php/7.1/mods-available/xdebug.ini\nzend_extension=xdebug.so\n```\nroot@0d7695410378:/var/www# cat /etc/php/7.1/cli/conf.d/xdebug.ini\n; NOTE: The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)\nxdebug.remote_autostart=0\nxdebug.remote_enable=0\nxdebug.remote_connect_back=0\nxdebug.cli_color=0\nxdebug.profiler_enable=0\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.remote_port=9000\nxdebug.remote_host=dockerhost\nxdebug.idekey=PHPSTORM\n\nroot@0d7695410378:/var/www# cat /etc/php/7.1/cli/conf.d/20-xdebug.ini\n;zend_extension=xdebug.so\n```\n. Hi @mrignacio1231 \nPlease upgrade docker version > 1.13\nhttps://github.com/moby/moby/pull/27412. @mrignacio1231 Your OS version is ?\nubuntu >= 14.04\nsudo apt-get update\nsudo apt-get upgrade\nFYI, My server env:\nallen@nd1:~$ cat /etc/os-release\nNAME=\"Ubuntu\"\nVERSION=\"14.04.5 LTS, Trusty Tahr\"\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=\"Ubuntu 14.04.5 LTS\"\nVERSION_ID=\"14.04\"\nHOME_URL=\"http://www.ubuntu.com/\"\nSUPPORT_URL=\"http://help.ubuntu.com/\"\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\n```\nallen@nd1:~$ docker version\nClient:\n Version:      17.04.0-ce\n API version:  1.28\n Go version:   go1.7.5\n Git commit:   4845c56\n Built:        Mon Apr  3 18:01:08 2017\n OS/Arch:      linux/amd64\nServer:\n Version:      17.04.0-ce\n API version:  1.28 (minimum version 1.12)\n Go version:   go1.7.5\n Git commit:   4845c56\n Built:        Mon Apr  3 18:01:08 2017\n OS/Arch:      linux/amd64\n Experimental: false\nallen@nd1:~$\n```. .env PHP_VERSION is ?\nare you really need use MSSQL ?. If you don't need MSSQL,\nyou can edit workspace/Dockerfils-71 add temporary code befor \"Final Touch\" section like:\n```\n\nMSSQL (Build pass for Old Docker version)\n\nARG INSTALL_MSSQL=false\nENV INSTALL_MSSQL ${INSTALL_MSSQL}\nRUN if [ ${INSTALL_MSSQL} = true ]; then \\\n    echo 'Just consume INSTALL_MSSQL arg' \\\n;fi\n\n--------------------------------------------------------------------------\nFinal Touch\n--------------------------------------------------------------------------\n\n```\n. @Erchoc \u5982\u679c\u4f60\u6709\u6539\u8b8a\u904e .env \u8a2d\u5b9a\uff0c\u90fd\u8981\u91cd\u65b0 build image\n\u6216 \u555f\u52d5\u6642\u52a0\u53c3\u6578 --build\ndocker-compose up -d --build mysql\n\u5982\u679c\u4f60\u4e0d\u5728\u610f mysql \u8cc7\u6599\u6703\u5728  container \u522a\u9664\u6642\u4e00\u540c\u6d88\u5931\n\u53ef\u4ee5\u5148\u7de8\u8f2f docer-compose.yml \u7684 mysql \u6bb5\u843d\u5c07 volumes \u8a2d\u5b9a\u6539\u70ba\u8a3b\u89e3\nmysql:\n      build:\n        context: ./mysql\n      environment:\n        - MYSQL_DATABASE=${MYSQL_DATABASE}\n        - MYSQL_USER=${MYSQL_USER}\n        - MYSQL_PASSWORD=${MYSQL_PASSWORD}\n        - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n      #volumes:\n      #  - ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n      ports:\n        - \"${MYSQL_PORT}:3306\"\n      networks:\n        - backend\n\u9019\u6a23 mysql \u5c31\u4e0d\u6703\u4f7f\u7528\u5230 Host OS \u7684\u6a94\u6848\u7cfb\u7d71\uff08\u4ee5\u4f60\u7684\u74b0\u5883\u662f Win10 \u4f86\u8aaa\uff09\n\u61c9\u8a72\u53ef\u4ee5\u5148\u7e5e\u904e\u6b64\u4e00\u56f0\u64fe. data folder generate rule is follow parent Dockerfile (mysql:5.7)\nright now laradock default configuration is save it on Host os not in container,\nplease ref #952 #950 \nif intended when create container always initialized db, you can commented about DATA_SAVE_PATH volume set in docker-compose.yml like:\n```\nMySQL Container\nmysql:\n  build:\n    context: ./mysql\n  environment:\n    - MYSQL_DATABASE=${MYSQL_DATABASE}\n    - MYSQL_USER=${MYSQL_USER}\n    - MYSQL_PASSWORD=${MYSQL_PASSWORD}\n    - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n  volumes:\n\n- ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n    - ./mysql/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d\n  ports:\n    - \"${MYSQL_PORT}:3306\"\n  networks:\n    - backend\n\nPostgreSQL Container\npostgres:\n  build: ./postgres\n\nvolumes:\n- ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data\n  ports:\n    - \"${POSTGRES_PORT}:5432\"\n  environment:\n    - POSTGRES_DB=${POSTGRES_DB}\n    - POSTGRES_USER=${POSTGRES_USER}\n    - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}\n  networks:\n    - backend\n\n```. Finally only left php-fpm on PHP71 build failed, cause by enable Aerospike with OPCache.\n889 #887\nright now, Aerospike official info, Not yet supported PHP7.1:\nThe Aerospike PHP Client works with PHP 5.3.3+, 5.4, 5.5, 5.6 and 7.0 (tested with 7.0.5)\nhttps://github.com/aerospike/aerospike-client-php/issues/141. Hi @Erchoc You can create new mysql database by other tool, like adminer or phpmyadmin.\n. No, It can't. Just now i check Dockerfile, this feature not yet implemented.. Hi @jhkueh , your comment let me know i added solution has permission bug. i will fix it.. @jhkueh your issue new fix PR is merged, try again please.. Hi @stevesgit you can set .env file PHP_FPM_INSTALL_SWOOLE=true. Hi @RobbeVW My new PR is merged,  i added more info. if still not working please let me know.. Hi @moiroca varnish service name is proxy or proxy2, you can search docker-compose.yml.. Hi @RobbeVW FYI:\n```\nubuntu@aws-1:~/laradock$ git log -n 1\ncommit c85fd97e0031d29e07249dd5cbf951f78197255f\nMerge: 895a24f 6ff7f4a\nAuthor: Yu-Lung Shao (Allen) bestlong168@gmail.com\nDate:   Sat May 13 10:00:33 2017 -0500\nMerge pull request #938 from bestlong/percona-use-data-save-path\n\nPercona service use DATA_SAVE_PATH env var\n\n\nubuntu@aws-1:~/laradock$ docker --version\nDocker version 1.12.6, build 78d1802\n\nubuntu@aws-1:~/laradock$ docker-compose --version\ndocker-compose version 1.8.0, build unknown\n\nubuntu@aws-1:~/laradock$ cat /proc/version\nLinux version 4.4.0-75-generic (buildd@lgw01-21) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) ) #96-Ubuntu SMP Thu Apr 20 09:56:33 UTC 2017\n\nubuntu@aws-1:~/laradock$ docker-compose up -d --build selenium\nBuilding selenium\nStep 1 : FROM selenium/standalone-chrome\n ---> c8bd0ab92434\nStep 2 : MAINTAINER Edmund Luong edmundvmluong@gmail.com\n ---> Using cache\n ---> 7205b07b33b3\nStep 3 : EXPOSE 4444\n ---> Using cache\n ---> 3841e022cf11\nSuccessfully built 3841e022cf11\nlaradock_selenium_1 is up-to-date\n\nubuntu@aws-1:~/laradock$ docker-compose ps\n       Name                   Command           State           Ports\n------------------------------------------------------------------------------\nlaradock_selenium_1   /opt/bin/entry_point.sh   Up      0.0.0.0:4444->4444/tcp\n\nubuntu@aws-1:~/laradock$ docker images\nREPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE\nlaradock_selenium            latest              3841e022cf11        39 minutes ago      834.7 MB\nselenium/standalone-chrome   latest              c8bd0ab92434        2 weeks ago         834.7 MB\nreadbook/web                 latest              93d05cf4167f        7 weeks ago         876.5 MB\n               f1ab3b5f2149        7 weeks ago         725.8 MB\n               366dd24a5a6d        7 weeks ago         802.8 MB\n               eb4077e0bd5b        7 weeks ago         664.1 MB\n               f4b0c3470cf1        7 weeks ago         664.1 MB\nnode                         7                   47522eb1edb5        8 weeks ago         664.1 MB\nphp                          5.6.30-fpm          707631468b8b        10 weeks ago        361.7 MB\n```. Hi @anggakes By you provided info laradock_mongo_1 show out map port 0.0.0.0:27018,\nchange your php project config to fit. or revert .env set  MONGODB_PORT=27017. @anggakes Sorry i made a mistake, your php project is run in php-fpm container.\nso, to connect Mongo service, your php project config hostname is \"mongo\" and port is 27017.. Hi @atiladelcanton \nBy default, nginx container will save log at host os ./logs, and mysql container also save data at host os /tmp/mysql, please check these folders is enabled write permission.. @atiladelcanton \nplease use this command to up container:\ndocker-compose up -d nginx mysql\nand check log you can use:\n// for nginx\ndocker-compose logs nginx\n// for mysql\ndocker-compose logs mysql\nthen please provide more info use command:\nls -l ~/Documentos/projetos/playmu/app | grep laradock\ni guess your laradock folder, maybe docker no write permission.\n. can you post this command result when container is up:\ndocker inspect laradock_nginx_1\n. Hi @sixlive default is DATA_SAVE_PATH=/tmp\nwhen userA login and up mysql container use /tmp/mysql folder, then userB login same server and up mysql container also use /tmp/mysql folder, i think that is not good. so i change it use ~/.laradock.. This solution encounter other problem\nwhen userA (ubuntu) run\n```\nubuntu@aws-1:~/laradock$ pwd\n/home/ubuntu/laradock\nubuntu@aws-1:~/laradock$ diff .env env-example\n76c76\n< NGINX_HOST_HTTP_PORT=1080\n\n\nNGINX_HOST_HTTP_PORT=80\nubuntu@aws-1:~/laradock$ docker-compose up -d nginx\nStarting laradock_applications_1\nlaradock_workspace_1 is up-to-date\nlaradock_php-fpm_1 is up-to-date\nRecreating laradock_nginx_1\nubuntu@aws-1:~/laradock$ docker-compose ps\n         Name                        Command              State                      Ports\n\n\nlaradock_applications_1   /true                           Exit 0\nlaradock_nginx_1          nginx                           Up       0.0.0.0:443->443/tcp, 0.0.0.0:1080->80/tcp\nlaradock_php-fpm_1        docker-php-entrypoint php-fpm   Up       9000/tcp\nlaradock_workspace_1      /sbin/my_init                   Up       0.0.0.0:2222->22/tcp\nubuntu@aws-1:~/laradock$\n```\nthen userB (allen) do\n```\nallen@aws-1:~/laradock$ pwd\n/home/allen/laradock\nallen@aws-1:~/laradock$ diff .env env-example\n76c76\n< NGINX_HOST_HTTP_PORT=2080\n\n\nNGINX_HOST_HTTP_PORT=80\nallen@aws-1:~/laradock$ docker-compose up -d nginx\nRecreating laradock_applications_1\nRecreating laradock_workspace_1\nRecreating laradock_php-fpm_1\nRecreating laradock_nginx_1\nallen@aws-1:~/laradock$ docker-compose ps\n         Name                        Command              State                      Ports\n\n\nlaradock_applications_1   /true                           Exit 0\nlaradock_nginx_1          nginx                           Up       0.0.0.0:443->443/tcp, 0.0.0.0:2080->80/tcp\nlaradock_php-fpm_1        docker-php-entrypoint php-fpm   Up       9000/tcp\nlaradock_workspace_1      /sbin/my_init                   Up       0.0.0.0:2222->22/tcp\nallen@aws-1:~/laradock$\n```\nIt's run ReCreating container and nginx port mapping to 2080 (userA is 1080).\ndocker-compose seems not suitable for multiple user working same time.. found docker-compose  usage information:\nOptions:\n  -p, --project-name NAME     Specify an alternate project name (default: directory name)\nfor multi-user solution, but port conflict need manual adjustment .env set.. This PR to dirty, close and redo.. #972. Hi @ihd2911 \nwhy you try add command to docker-compose.yml?\nplease check php-worker/supervisord.conf first, has set laravel-worker section like you need command.\ncommand=php /var/www/artisan queue:work --sleep=3 --tries=3 --daemon\n. 0.0.0.0:80\n0.0.0.0:3306\nbind: address already in use\nyou host os already run service bind port 80, 3306.\nstop related service then run docker-compose up again.. yes, you can change mapping port in .env file.. because containers already up, and you run again with same .env set\nyou can\n```\n// Stop services\ndocker-compose stop\n// Stop and remove containers, networks, images, and volumes\ndocker-compose down\n```. need make nginx/sites/your-project.conf (copy from project-1.conf.example), edit server_name and root set.\nthen also edit host os /etc/hosts add\n127.0.0.1  your-project.dev\nthen you can open browser http://your-project.dev\nref: http://laradock.io/getting-started/#installation. @xushaobo \nAre you changed docker-compose.yml ? Why do you want to do that?\nneed more info, and post command result, please.\ngit diff docker-compose.yml\n. db create user only run one time when init db stage,\nby default mysql/postgres data folder at /tmp/mysql /tmp/postgres\nif you don't mind delete these data folder, do with container not run.\nwhen container up will check data folder is exist , if not then will run init db and create user use .env set value.\nif want to create more user, you can check mysql/docker-entrypoint-initdb.d/createdb.sql.example\ncopy it to createdb.sql then add sql script by you need.. Hi @rasparac BTW more notice:\nin workspace container\nmysql -h msyql -uigor -psecret\non host os\nmysql -h 127.0.0.1 -uigor -psecret\n. @rasparac \nwhen you first time run\n```\n// .env file\nDATA_SAVE_PATH=/tmp\nMYSQL_DATABASE=default\nMYSQL_USER=default\nMYSQL_PASSWORD=secret\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=root\n\n// shell command\ndocker-compose up -d mysql\n``\nwill run init db step, because /tmp/mysql not exist. right now you have one not-root userdefault`.\nthen you change .env file to:\nMYSQL_DATABASE=docker\nMYSQL_USER=igor2\nMYSQL_PASSWORD=secret\nMYSQL_PORT=3306\nand run again\n// shell command\ndocker-compose up -d mysql\nyou will get Recreating laradock_mysql_1 info, but this time will not run init db step, because /tmp/mysql is exist. so you change will not effective. right now you still have one not-root user default.\nthese rule is follow mysql parent Dockerfile.\nquick solution (after change .env and all mysql data can delete):\ndocker-compose down\nrm -rf /tmp/mysql\ndocker-compose up -d mysql\n. duplicate #950\nif you accept lost mysql data when remove mysql container happened. you only need commented one line:\n```\n- ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n```. Hi @vitoo \nnginx log folder will mount to NGINX_HOST_LOG_PATH, is in .env set.\nyou can adjust the setting.. Maybe add log_format to laradock/nginx/nginx.conf\nlike https://github.com/nginxinc/docker-nginx/blob/53da9a295dfa6c666630a72d9c03dfbd1d2eb37d/mainline/alpine/nginx.conf\nneed build nginx again.. Hi @MyController suggest ARG INSTALL_MSSQL=false. Hi @codeitlikemiley \n// folder structure\n+ laradock\n+ phpshop\n  + public\n+ phpcrm\n  + public\n+ nonlaravelapp\n  - index.php\n// file .env\nAPPLICATION=../\ncp nginx/sites/project-1.conf.example nginx/sites/phpshop.conf\ncp nginx/sites/project-1.conf.example nginx/sites/phpcrm.conf\ncp nginx/sites/project-1.conf.example nginx/sites/nonlaravelapp.conf\n```\n// edit phpshop.conf\nserver {\n    listen 80;\n    listen [::]:80;\nserver_name phpshop.test;\nroot /var/www/phpshop/public;\nindex index.php index.html index.htm;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\n}\n```\n```\n// edit phpcrm.conf\nserver {\n    listen 80;\n    listen [::]:80;\nserver_name phpcrm.test;\nroot /var/www/phpcrm/public;\nindex index.php index.html index.htm;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\n}\n```\n```\n// edit nonlaravelapp.conf\nserver {\n    listen 80;\n    listen [::]:80;\nserver_name nonlaravelapp.test;\nroot /var/www/nonlaravelapp;\nindex index.php index.html index.htm;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\n}\n```\n// edit host os /etc/hosts and add IP/Hostname mapping\n127.0.0.1  phpshop.test\n127.0.0.1  phpcrm.test\n127.0.0.1  nonlaravelapp.test\n. Hi @cyberkiko \ncheck nginx/sites/{$second_website}.conf  server_name and root \nand nginx container need restart. Hi @Dartanjan \ntry AWS SDK correctClockSkew property\nhttp://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Config.html#correctClockSkew-property\nor\nhttps://github.com/arunvelsriram/docker-time-sync-agent/. Hi @iredmedia by default,  database container will storage to host os by .env config:\n```\n.env file\nDATA_SAVE_PATH=~/.laradock/data\n```\nso, you need delete ~/.laradock/data/postgres folder. but this action will lost all data.. @iredmedia Yes, use pgsql or pgadmin do password change without delete all database.. without build info\n```\n~/Sites/laradock (master )$ docker-compose up -d nginx mysql\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating network \"laradock_default\" with the default driver\nCreating laradock_docker-in-docker_1 ... done\nCreating laradock_mysql_1            ... done\nCreating laradock_workspace_1        ... done\nCreating laradock_php-fpm_1          ... done\nCreating laradock_nginx_1            ... done\n~/Sites/laradock (master )$ docker-compose ps\n           Name                          Command              State                    Ports\n\nlaradock_docker-in-docker_1   dockerd-entrypoint.sh           Up      2375/tcp\nlaradock_mysql_1              docker-entrypoint.sh mysqld     Up      0.0.0.0:3306->3306/tcp, 33060/tcp\nlaradock_nginx_1              /bin/bash /opt/startup.sh       Up      0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp\nlaradock_php-fpm_1            docker-php-entrypoint php-fpm   Up      9000/tcp\nlaradock_workspace_1          /sbin/my_init                   Up      0.0.0.0:2222->22/tcp\n~/Sites/laradock (master )$\n. #1854 . v7.11.0 https://laradock.io/getting-started/\nRequirements\n Git\n* Docker >= 17.12\n```\n. sometime, is networking problem.\ntry run docker pull mysql:latest or docker pull mysql:5.7 to direct download image\n. now php5.6 install both\nhttps://github.com/laradock/laradock/blob/8f6923531fa39fc2c76fc187fd3273ddd3527984/php-fpm/Dockerfile#L221-L235. new version 6.6.0\n~/Sites/laradock (master *)$ docker-compose build elasticsearch\nBuilding elasticsearch\nStep 1/2 : FROM docker.elastic.co/elasticsearch/elasticsearch:6.6.0\n6.6.0: Pulling from elasticsearch/elasticsearch\na02a4930cb5d: Pull complete\n7decffa70b3b: Pull complete\n498315b62345: Pull complete\nc84790c95eb9: Pull complete\n6a3b0a2308b2: Pull complete\n33b21a7b5e00: Pull complete\nf620bc30e187: Pull complete\nDigest: sha256:e9cba8dec2df88a1af911787f05cf5200a5d9d64e4517f64deb8bafc6e96176f\nStatus: Downloaded newer image for docker.elastic.co/elasticsearch/elasticsearch:6.6.0\n ---> 13aa43015aa1\nStep 2/2 : EXPOSE 9200 9300\n ---> Running in d1eb9f7d0fd0\nRemoving intermediate container d1eb9f7d0fd0\n ---> f6d0cab8d52b\nSuccessfully built f6d0cab8d52b\nSuccessfully tagged laradock_elasticsearch:latest\n~/Sites/laradock (master *)$ docker-compose up -d elasticsearch\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating network \"laradock_default\" with the default driver\nCreating laradock_docker-in-docker_1 ... done\nCreating laradock_workspace_1        ... done\nCreating laradock_php-fpm_1          ... done\nCreating laradock_elasticsearch_1    ... done\n~/Sites/laradock (master *)$ docker-compose ps\n           Name                          Command               State                       Ports\n---------------------------------------------------------------------------------------------------------------------\nlaradock_docker-in-docker_1   dockerd-entrypoint.sh            Up      2375/tcp\nlaradock_elasticsearch_1      /usr/local/bin/docker-entr ...   Up      0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp\nlaradock_php-fpm_1            docker-php-entrypoint php-fpm    Up      9000/tcp\nlaradock_workspace_1          /sbin/my_init                    Up      0.0.0.0:2222->22/tcp\n~/Sites/laradock (master *)$. Hi @ConstantinChirila, please provide more info\ndiff .env env-sample. laradock .env file, not support database user/password change. only effect database init stage.\n. Hi @jeff-h right now TravisCI server test job build result is pass.\ncan you retry again?. @rafa-acioly your Laravel app must run in laradock container, not host os.. Hi @danaia Your VM install source is same NativeOS (ISO image or CD/USB Flash Drive)?. Hi @jingxize Right now TravisCI Server test job build result is pass.\nPlease retry again with upgrade all version.. Hi @rushairer try this\ndocker-compose build --no-cache php-fpm. Duplicate #1374 . @rodion-arr please check php config both enviroment:\nphp -i | grep errors\nmaybe display_errors = On. Sorry, I was merge PHP 7.2 support from #1382.. @wvdongen workspace and php-fpm is different container. you must install SOAP both:\nedit .env file set:\nWORKSPACE_INSTALL_SOAP=true\nPHP_FPM_INSTALL_SOAP=true\nthen run docker-compose build --no-cache workspace php-fpm again.\n. @wvdongen I misunderstood.\ni remade it again, It looks like no problem\n```\n~/Sites/laradock (master )$ git rev-parse HEAD\n164069c2562bc67945b70f88ee1502b820c8698d\n~/Sites/laradock (master )$ diff .env env-example\n13c13\n< PHP_VERSION=71\n\n\nPHP_VERSION=72\n63c63\n< WORKSPACE_INSTALL_SOAP=true\n\n\n\nWORKSPACE_INSTALL_SOAP=false\n~/Sites/laradock (master )$ docker-compose build workspace\n...\n~/Sites/laradock (master )$ docker-compose up -d workspace\n~/Sites/laradock (master )$ docker-compose exec workspace bash -c \"php -m | grep soap && php -i | grep soap\"\nsoap\n/etc/php/7.1/cli/conf.d/20-soap.ini,\nsoap\nsoap.wsdl_cache => 1 => 1\nsoap.wsdl_cache_dir => /tmp => /tmp\nsoap.wsdl_cache_enabled => 1 => 1\nsoap.wsdl_cache_limit => 5 => 5\nsoap.wsdl_cache_ttl => 86400 => 86400\n~/Sites/laradock (master )$ docker-compose exec workspace bash -c \"cd t/checksoap && cat composer.json && composer install\"\n{\n    \"require\": {\n       \"ext-soap\": \"*\"\n    }\n}\n\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\nNothing to install or update\nGenerating autoload files\n. Also fix #1379 . @bryan-kramer after clone laradock, you need copy env-example to .env\nBy Default `MYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d`\n. @andreipaz FYI\nhttps://github.com/github/gitignore/blob/master/Global/VisualStudioCode.gitignore. Duplicate #1387 . @AnkurPrem this is my mysql 5.7 build info:\n~/Sites/laradock (master)$ docker-compose build mysql\nBuilding mysql\nStep 1/10 : ARG MYSQL_VERSION=8.0\nStep 2/10 : FROM mysql:${MYSQL_VERSION}\n ---> f008d8ff927d\nStep 3/10 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> 0120e469e73d\nStep 4/10 : ARG TZ=UTC\n ---> Using cache\n ---> 61849f836e9d\nStep 5/10 : ENV TZ ${TZ}\n ---> Using cache\n ---> d68bfcd4a6f8\nStep 6/10 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n ---> Using cache\n ---> bfb45d787e0c\nStep 7/10 : RUN chown -R mysql:root /var/lib/mysql/\n ---> Using cache\n ---> e451c82da146\nStep 8/10 : ADD my.cnf /etc/mysql/conf.d/my.cnf\n ---> Using cache\n ---> 647f45691866\nStep 9/10 : CMD [\"mysqld\"]\n ---> Using cache\n ---> 266b8503ed64\nStep 10/10 : EXPOSE 3306\n ---> Using cache\n ---> e53c22490046\nSuccessfully built e53c22490046\nSuccessfully tagged laradock_mysql:latest\n~/Sites/laradock (master)$\nyou can use `docker inspect` to check image:\n~/Sites/laradock (master)$ docker inspect e53c22490046\n[\n    {\n        \"Id\": \"sha256:e53c22490046d0e6a11649cecea03ef617db6868aee9f5b982d42440a27316e4\",\n        \"RepoTags\": [\n            \"laradock_mysql:latest\"\n        ],\n        \"RepoDigests\": [],\n        \"Parent\": \"sha256:266b8503ed64a4b93d7812ae6df3c0f7008425e27a86aa0d706b291a451adc66\",\n        \"Comment\": \"\",\n        \"Created\": \"2018-02-23T01:29:02.729735107Z\",\n        \"Container\": \"c3326a17d92b7356f0dbc70253e6c73a27230ee7b3e69d84207249eaccfcaa40\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"c3326a17d92b\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"3306/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"GOSU_VERSION=1.7\",\n                \"MYSQL_MAJOR=5.7\",\n                \"MYSQL_VERSION=5.7.21-1debian8\",\n                \"TZ=UTC\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"EXPOSE 3306\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:266b8503ed64a4b93d7812ae6df3c0f7008425e27a86aa0d706b291a451adc66\",\n            \"Volumes\": {\n                \"/var/lib/mysql\": {}\n            },\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": [\n                \"docker-entrypoint.sh\"\n            ],\n            \"OnBuild\": [],\n            \"Labels\": {}\n        },\n        \"DockerVersion\": \"17.12.0-ce\",\n        \"Author\": \"Mahmoud Zalt mahmoud@zalt.me\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"3306/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"GOSU_VERSION=1.7\",\n                \"MYSQL_MAJOR=5.7\",\n                \"MYSQL_VERSION=5.7.21-1debian8\",\n                \"TZ=UTC\"\n            ],\n            \"Cmd\": [\n                \"mysqld\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:266b8503ed64a4b93d7812ae6df3c0f7008425e27a86aa0d706b291a451adc66\",\n            \"Volumes\": {\n                \"/var/lib/mysql\": {}\n            },\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": [\n                \"docker-entrypoint.sh\"\n            ],\n            \"OnBuild\": [],\n            \"Labels\": null\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 408574135,\n        \"VirtualSize\": 408574135,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/e6ad4b65482d098a6c6ad6a810bc4309cdce47b005b9976534703f42a2d1b3e2/diff:/var/lib/docker/overlay2/9c6214c2290605edc3547b64e826399a9b39ccab0de58f9706e578ea62210cdf/diff:/var/lib/docker/overlay2/a215ff69859c74fd3e26a55845b443ef183e122ef9455a9e9dad7084c8880514/diff:/var/lib/docker/overlay2/0af08d2d85e82f8f1e4d3f55196e118e973612d87e88ed0a82d089cf5191e374/diff:/var/lib/docker/overlay2/f05fb3e7d40ebfa61dfd49225eb9c827debfb0ca1abdafda26e2f63567f033c1/diff:/var/lib/docker/overlay2/d3b0322a7c46924b409e3822eb939481f18ccc76c35212e29f999384fb489c17/diff:/var/lib/docker/overlay2/fb85a1f19557ec951bdbebf4c5b1db034cb68fc9eedca075c921c9439c89fef8/diff:/var/lib/docker/overlay2/1a08ac6b942d3b80e3840174c0008a9f91238de928abc7123e1891c9eeacf151/diff:/var/lib/docker/overlay2/675399cb11a33d42fc0a6cb94801d962be839e853f58f116ba68f35e0829a02e/diff:/var/lib/docker/overlay2/a1e603bfed0c5759b92b447c7fdf73b9498755a2676b3b43e65c9524af5d33e7/diff:/var/lib/docker/overlay2/d40f33c04cbff79304dd6d372f1cecb17acc6c6854516af8c7d14d4f29ef507c/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/3768eb3feab0402ac311db41b9fca85daa87c1536d13d512318af71302619028/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/3768eb3feab0402ac311db41b9fca85daa87c1536d13d512318af71302619028/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/3768eb3feab0402ac311db41b9fca85daa87c1536d13d512318af71302619028/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4bcdffd70da292293d059d2435c7056711fab2655f8b74f48ad0abe042b63687\",\n                \"sha256:ae12d30e1dfca970a5890a9eed9da78388df7cc8eec9032b6bfd58b273647dfb\",\n                \"sha256:889744378e18b28083b2cf6e1f3afec05977a762b9c303e090098528e1ee194a\",\n                \"sha256:19aa284e9bf37324b2da8fb6750a8f26b22cd83dbe1df2e5b755965a57946204\",\n                \"sha256:8b2d012e71d9cb512ae5c4e6abafff1d2d605f953155d694edb842b89fb9f261\",\n                \"sha256:45fb4a2ab5ebe8385f1f4ca16da9d50b5fcf3ff453b68e8df654dd11561e8bec\",\n                \"sha256:5c2d4b37bd69731a41ea7dc736328ef22e768f9059011d5024fcbeea3119da89\",\n                \"sha256:7800b09ed0f6d69934ddade64be6f129e71bcd28de20ab2ae7db58ce19118cab\",\n                \"sha256:fcac5885b034afb5f08e48ec486fda485da2bdaa3fbd3355f17e6bc533a6fc80\",\n                \"sha256:254215a9b948f2c441c4c5bc7b1f90268dee830563fc40200ad17eaca587e4e7\",\n                \"sha256:72308074b9608dc57d35c210e799f6c8459ea9d4df35af8f87ea3046e7a70dd5\",\n                \"sha256:58fc49bbb4bb2ab819eacdb06a7c6394482e01872b66fdb41fb4b858b805b55d\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"2018-02-26T06:25:05.016927714Z\"\n        }\n    }\n]\n~/Sites/laradock (master)$\n. Hi everyone, I think, always check config file new different after upgrade laradock is good practice.\n$ diff .env env-example\nnot just copy paste.. edit MAC /etc/hosts add one line:\n127.0.0.1    mywebsite.local\n```\nfor laravel project,  update nginx/sites/default.conf set root    /var/www/mywebsite/public\n. @jonny-khattar \nstart container please run docker-compose up -d nginx mysql\nand browser url is http://mywebsite.local. @jonny-khattar reset all you change in nginx/sites\nfor laravel project, copy laravel.conf.sample config file to mywebsite.conf and edit two parts:\nserver_name mywebsite.test;\n    root /var/www/mywebsite/public;\nthen edit host os (your Mac)  /etc/hosts add one line:\n127.0.0.1   mywebsite.test\nrun docker-compose up -d nginx\nopen url http://mywebsite.test\nthat's it. one web project one nginx config.. @CorvinSteindl You can't do that.\nDockerfile RUN instruction will add new layer to image. at the same time mysql service not up.\n. @GinoPane Please show your mysite.conf content and other config change.\nif hostname not match any nginx conf server_name will use default config.\n. stop all service docker-compose down\nEdit .env file set MYSQL_VERSION=5.7 or MYSQL_VERSION=latest\n```\nDelete mysql database\n$ rm -rf ~/.laradock/data/mysql\nrebuild mysql image\n$ docker-compose build mysql\nretry\n$ docker-compose up -d nginx mysql phpmyadmin\n```\nIt's working for me.. Why not use latest or 5.6/5.7 version?. please refer #1391, #1407 \nIn Dockerfile ARG instruction has a default value is better then nothing.\neven if change .env file MYSQL_VERSION=8.0 to MYSQL_VERSION=5.7\nrun docker-compose build always show 8.0 info\nreal version please use docker inspect <image id> command to check.\n. #1426 . Hi @CantonBolo can you check all php version Dockerfile. It looks a little different.. @OGKevin if upgrade to new version.\nIt seems that more adjustments are needed.\n. Oh, my bad. this is not duplicate, is set user alias both.. run\ndocker-compose up postgres\nhav any error message?. make sure docker-compose.yml about postgresql part like:\n```\nPostgreSQL Container\npostgres:\n  build: ./postgres\n  volumes:\n    - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql\n  ports:\n    - \"${POSTGRES_PORT}:5432\"\n  environment:\n    - POSTGRES_DB=${POSTGRES_DB}\n    - POSTGRES_USER=${POSTGRES_USER}\n    - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}\n  networks:\n    - backend\n\nand build image again\ndocker-compose build postgres\n.\n$ docker-compose up -d postgres\n$ docker inspect laradock_postgres_1\n```\nyou will get detail info.\nmy result a part:\n\"HostConfig\": {\n            \"Binds\": [\n                \"/Users/allen/.laradock/data/postgres:/var/lib/postgresql:rw\"\n            ],\n\"Mounts\": [\n            {\n                \"Type\": \"bind\",\n                \"Source\": \"/Users/allen/.laradock/data/postgres\",\n                \"Destination\": \"/var/lib/postgresql\",\n                \"Mode\": \"rw\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            },\n            {\n                \"Type\": \"volume\",\n                \"Name\": \"7a8161eb3d95633f8676065b436edafdf5f0ac669375310d8bd13dfa48512596\",\n                \"Source\": \"/var/lib/docker/volumes/7a8161eb3d95633f8676065b436edafdf5f0ac669375310d8bd13dfa48512596/_data\",\n                \"Destination\": \"/var/lib/postgresql/data\",\n                \"Driver\": \"local\",\n                \"Mode\": \"\",\n                \"RW\": true,\n                \"Propagation\": \"\"\n            }\n        ],\n\"Volumes\": {\n                \"/var/lib/postgresql\": {},\n                \"Source\": \"/Users/allen/.laradock/data/postgres\",\n                \"Destination\": \"/var/lib/postgresql\",\n                \"Mode\": \"rw\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            },\n            {\n                \"Type\": \"volume\",\n                \"Name\": \"7a8161eb3d95633f8676065b436edafdf5f0ac669375310d8bd13dfa48512596\",\n                \"Source\": \"/var/lib/docker/volumes/7a8161eb3d95633f8676065b436edafdf5f0ac669375310d8bd13dfa48512596/_data\",\n                \"Destination\": \"/var/lib/postgresql/data\",\n                \"Driver\": \"local\",\n                \"Mode\": \"\",\n                \"RW\": true,\n                \"Propagation\": \"\"\n            }. my os is MAC, i will try it again at ubuntu .. i think #1421 can fix this.. @GinoPane why docker.for.mac.host.internal need manual setting?\njust use it in container.. @rjcfj i increase build check at #1450 \nplease try again and update detail build fail info.. was fix by 0f4a417f4e949680aef80694e9262f3557250e61. Obviously, this way not consider other OS.. can't support mac and linux. Hi @slouma2000 , I think this issue is some  depends_on attribute missing setting.. In docker-compose.yml\nnginx depends_on php-fpm\nand\nphp-fpm depends_on workspace\n. Hi @MAJA-Lin \nI can't find MYSQL_LOG_PATH in mysql/Dockerfile, and https://github.com/docker-library/mysql\ncan you point out the location for me?. I think this issue is fixed by #1569 .. this setup is use data volume, not support store on host.. Thank for PR, but i extract all apt-get update command to start.\n1569 . duplicate #1559 . Hi @jhomephper\nplease try master brach new version again.. @elinxer \nrun docker-compose build --no-cache php-fpm rebuild image.. Hi @at-xinhnguyen \ntry docker-compose logs mongo. if your mysql db can delete and .env DATA_PATH_HOST=~/.laradock/data\nthen rm ~/.laradock/data/mysql\n. @ducxinh-dn-2083199001091997201644783 \nwhy not use docker for mac?\nyou set config\nvolumes:\n        - mysql:/var/lib/mysql\nit's use docker data volume, not host os file system.. Fix by #1646 . @jeffreyliim \npart of error info : \"Bind for 0.0.0.0:3306 failed: port is already allocated\"\ncheck your host os is not mysql  service running.\n. @connor11528 \nif your mysql install by homebrew, run brew info mysql to get more info.\nmysql.server stop\nor\nbrew services stop mysql. Hi @ahkui \ndon't forget add POSTGRES_ENTRYPOINT_INITDB default config to env-example file.. @lx-berlin \ncheck .env again\nPHP_VERSION=7.1 not 71. Hi @yeoman88 \nthis not match laradock current structure. follow your thoughts i update CI build test job on your fork repository. hope you can understand.. Ref #1646 . Hi @tommym9 \nSuggest to update laradock version.. only need update .env\nMARIADB_PORT=3306\nto\nMARIADB_PORT=3307. rebuild images with no cache option:\ndocker-compose down\ndocker-compose build --no-cache php-fpm nginx mariadb workspace\ndocker-compose up -d nginx mariadb\n. @mquellhorst \nmaybe hard disk free space not enough.. need more info\ndocker-compose logs nginx. @LaJun \nMaybe docker repository problem, you can try pull image use:\ndocker pull mysql:latest\nif download success then build laradock again.. Hi @LaJun \ndocker-compose load .env then base docker-compose.yml service args config, transfer specified variables to Dockerfile ARG.\nIf you remove ARG MYSQL_VERSION in mysql/Dockerfile then you also need to remove docker-compose.yml mysql service args: - MYSQL_VERSION=${MYSQL_VERSION}\n. Hi @LaJun \nIf you are in China\nI guess it should be a network problem.\n. @dendihandian \ntry docker-compose logs elasticsearch to check error info.. If bedrock run in php-fpm container, set bedrock .env file DB_HOST=\"mysql\" (\"mysql\" is service name).\nlaradock .env file MYSQL_DATABASE is only effect database init stage, use to create first database.\nso, if database is exist then use db tool like phpmyadmin or CLI tool to create new database.\nor Regenerate database follow below step (will lost all database):\ndocker-compose down\nrm -rf ~/.laradock/data/mysql\ndocker-compose up -d mysql\n. Hi @WeiChieh-Chen \nwhy not edit .env set PHP_FPM_INSTALL_ZIP_ARCHIVE=true ?. follow the steps below:\ndocker-compose down\nset .env PHP_FPM_INSTALL_ZIP_ARCHIVE=true\n// check again\ngrep PHP_FPM_INSTALL_ZIP_ARCHIVE .env\n// rebuild image\ndocker-compose build php-fpm\ndocker-compose up -d php-fpm\n// list extension\ndocker-compose exec php-fpm php -m. Hi @juniorrosul \nwhy remove mysql/docker-entrypoint-initdb.d/createdb.sql.example ?. Hi @juniorrosul \ncan you fix mysql/docker-entrypoint-initdb.d/createdb.sql.example first?\nthen i well merge.. i think rename nginx/sites/default is not good idea. is need more config step to use laradock.\nWhat do you think?. Hi @Spudley \ntry docker-compose build --no-cache php-fpm\n. try docker-compose build --no-cache php-fpm\napt-get update is run at the beginning of the Dockerfile build step, and will cache it.\nso, if install source updated will meet this issue.. Duplicate #1730 . please update laradock and retry.\n. Hi @4c0n \nsorry for not response. \nif you are still willing send PR.\nplease rename V8 to V8JS. (Like workspace container ARG: WORKSPACE_INSTALL_V8JS)\nand do not add v8.tar.gz, use pecl install v8js.. need more info:\nat host os run:\n$ diff .env env-example\npost result let we know your config.\nthen go into container\n$ docker-compose exec grafana bash\nand in container run:\n$ ls -la /var/lib\n$ ls -la /var/lib/grafana\ncheck owner and permissions. run grafana use root permission is not the proper way.. fix #1868 . @humop \nyour docker and docker-compose version is? \nplease upgrade and ref. https://docs.docker.com/engine/reference/builder/#understand-how-arg-and-from-interact. duplicate #1808 #1868 . Just take up more storage space.\nIf you think the removal will be more appropriate.\nnew PR is welcome.. Check https://hub.docker.com/r/fenglc/pgadmin4/\nall env variables had default value.\n. duplicate #1808 . update your laradock and build again\ndocker-compose build --no-cache nginx php-fpm. try docker-compose build --no-cache php-fpm. try docker-compose build --no-cache php-fpm. Please provide diff .env env-example result.. i think move to workspace and install by default is grate.. but there is a big problem. docker hub not auto build new image both workspace and php-fpm projects.\n. Direct installation in laradock/laradock php-fpm and workspace,\nno need ARG PHP_FPM_INSTALL_ZIP, WORKSPACE_INSTALL_ZIP.\n. .gitignore nginx/ssl is no need by this issues.. after .env changed, need docker-compose down and docker-compose up -d XXX YYY.. hm...\nif we make workspace and php-fpm is run PHP 7.2  and add one more php56-fpm work together.\ndocker-compose up -d nginx php56-fpm\ncan that help you?. > @bestlong how I can do it if in .env I see:\n\n```\nSelect the PHP Interpreter. Accepted values: hhvm - php-fpm\nPHP_INTERPRETER=php-fpm\n```\n\nThis part has not been processed.. if you change .env PHP_VERSION, you need build all php related services.\nlike workspace, php-fpm, php-worker, laravel-horizon.\nand suggest build with --no-cache option.. build warning ?. update docker and docker-compose version.\nand check https://docs.docker.com/engine/reference/builder/#understand-how-arg-and-from-interact. run on mac\n~/Sites/laradock (master *)$ docker-compose up -d workspace\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating network \"laradock_default\" with the default driver\nCreating laradock_docker-in-docker_1 ... done\nCreating laradock_workspace_1        ... done\n~/Sites/laradock (master *)$ docker-compose logs workspace\nAttaching to laradock_workspace_1\nworkspace_1            | *** Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1            | *** Running /etc/my_init.d/10_syslog-ng.init...\nworkspace_1            | Feb 11 14:02:32 e817a869bb9d syslog-ng[11]: syslog-ng starting up; version='3.5.6'\nworkspace_1            | Feb 11 14:02:32 e817a869bb9d syslog-ng[11]: WARNING: you are using the pipe driver, underlying file is not a FIFO, it should be used by file(); filename='/dev/stdout'\nworkspace_1            | Feb 11 14:02:33 e817a869bb9d syslog-ng[11]: EOF on control channel, closing connection;\nworkspace_1            | *** Running /etc/rc.local...\nworkspace_1            | *** Booting runit daemon...\nworkspace_1            | *** Runit started as PID 17\nworkspace_1            | Feb 11 14:02:33 e817a869bb9d cron[20]: (CRON) INFO (pidfile fd = 3)\nworkspace_1            | Feb 11 14:02:33 e817a869bb9d cron[20]: (CRON) INFO (Running @reboot jobs)\n~/Sites/laradock (master *)$ git log --pretty=oneline -1\nd27f4368eec570d0a6a12136cb8476fbc1cb343a (HEAD -> master) Run bash when login by `laradock` via ssh (#1541)\n~/Sites/laradock (master *)$\n. this issue cause by build cache.\nCan U build php-fpm with no cache, use docker-compose build --no-cache php-fpm\n. if laradock host ip is 192.168.1.201\nall other computer need set hosts file 192.168.1.201  laravel.test\nand laradock host must open firewall port 80\nnginx container need  a site .conf file server_name laravel.test;. Thk.\nalready processed at #1696.. sorry, i merge other.. sorry, i merge other PR.. sorry, i merge other PR.. Hi @ankit20893 \ni think will fixed by #1942. please update laradock. i run again manual all success and my step:\ncd /tmp\ngit clone --depth 1 https://github.com/laradock/laradock.git\ncd laradock\ncp env-example .env\ndocker-compose build --no-cache --pull workspace php-fpm. try docker-compose build --no-cache php-fpm. port 3000 is container export port, but docker-compose mapping to host port 987.\ncheck .env\nIDE_THEIA_PORT=987. Hi @Daisuke-sama \ntry docker-compose build --no-cache php-fpm workspace. #1906 . #956 . try docker-compose build --no-cache php-fpm. why need run cron job in php-fpm container?\n. php-fpm and workspace base image was installed tokenizer.\nPlease remove unnecessary INSTALL_TOKENIZER part. and correct subject.\n1995 . you start websocket in workspace container\nneed setup \nin workspace/Dockerfile add\nEXPOSE 6001\nin docker-compse.yml add\nservices:\n  workspace:\n    port:\n      - 6001:6001\n. both php-fpm and workspace auto build not enable.\nCurrently only @Mahmoudz can to that.\nI was seed message to @Mahmoudz for request docker hub laradock repository permission, but no respond so far.\nI plan to temporarily replace it with new docker hub repository\nhttps://hub.docker.com/r/letsdockerize/laradock-php-fpm\nhttps://hub.docker.com/r/letsdockerize/laradock-workspace\n. docker-compose version ?. host os is windows ?. check file system permission\ndb data save path define in .env \n```\nChoose storage path on your machine. For all storage systems\nDATA_PATH_HOST=~/.laradock/data\n. check php install extension list\nyou can use `php -m` CLI command.\nor\n<?php\necho phpinfo();\n```\nlaradock extension install control by .env file.. php7.2.ini no need edit.\nin .env set PHP_FPM_INSTALL_MYSQLI=true\nthen rebuild image docker-compose build --no-cache php-fpm\ndocker-compose down\ndocker-compose up -d php-fpm\ndocker-compose exec php-fpm php -m\n. now it's back.. #2029 #2030 #2031 #2032 \ntravis-ci build test by pass.. php-fpm docker base image FROM php:7.3-fpm\npecl install xdebug get fail.\npecl install xdebug-2.7.0RC2 success.\n. please update .travis-ci.yml for build test:\n- PHP_VERSION=NA BUILD_SERVICE=\"ipython-controller\"\nto\n- PHP_VERSION=NA BUILD_SERVICE=\"ipython-controller manticore\". docker-compose build --no-cache php-fpm workspace. why expose port 6379 ?. ",
    "gkweb": "Maybe related\n. I can confirm I'm having a similiar problem. Port 22 already assigned connectivity issue. No other programs on my computer are using 22. \nERROR: for workspace  Cannot start service workspace: driver failed programming external connectivity on endpoint laradock_workspace_1 (046b4c08bb65bad79e8d8ce0f31191a249893f9b2ac935026da913bae5f46fb8): Error starting userland proxy: listen tcp 0.0.0.0:22: bind: address already in use\n. I solved this problem by completely uninstalling Docker toolbox and using Docker for Mac. \nNo direct solution but it appears to have worked for my local dev environment. \nRemove docker like so:\nmanually uninstall docker toolbox\ninstall docker for mac:\nhttps://docs.docker.com/docker-for-mac/\n. ",
    "Enviii": "Figured it out. Edited the docker-compose.yml mysql config to include command: mysqld --sql_mode=\"\" and then started the container as you normally would. \n. ",
    "rodrigore": "Thanks, in my local machine I installed postgres-client into the workspace container and now it works.\nI create a pull  request  but  I don't tested.\n. ",
    "tianissimo": "I tried it and found that it's not working with PHP 7. pecl/memcached requires PHP version >= 5.2.0 and <= 6.0.0.\nMaybe, we have to use existing method only for PHP 7.\n. ",
    "nojaf": "Thanks @Mahmoudz. I got it to work.\nMaybe one final question.\nIf I change;\nyaml\n application:\n        build: ./application\n        volumes:\n            - ../my-cool-app/:/var/www/laravel\nDo I need to restart anything or enter some docker command to get this working?\n. bash\nroot@d1488e25daa8:/var/www/laravel# nvm\nbash: nvm: command not found\nroot@d1488e25daa8:/var/www/laravel# nvm current\nbash: nvm: command not found\nroot@d1488e25daa8:/var/www/laravel# nvm use node\nbash: nvm: command not found\nroot@d1488e25daa8:/var/www/laravel#\nI did see in the logs that it was getting installed. I should have node 6.4\n. Using bash -l:\nPS C:\\Users\\nojaf\\Projects\\hello-laravel\\laradock> docker exec -it laradock_workspace_1 bash -l\nmesg: ttyname failed: Success\nroot@915f54093e00:/var/www/laravel# nvm\nbash: nvm: command not found\nsu laradock:\n```\nroot@915f54093e00:/var/www/laravel# su laradock\nlaradock@915f54093e00:/var/www/laravel$ nvm\nNode Version Manager\nNote:  refers to any version-like string nvm understands. This includes:\n  - full or partial version numbers, starting with an optional \"v\" (0.10, v0.1.2, v1)\n  - default (built-in) aliases: node, stable, unstable, iojs, system\n  - custom aliases you define with nvm alias foo\nUsage:\n  nvm --help                                Show this message\n  nvm --version                             Print out the latest released version of nvm\n  nvm install [-s]                 Download and install a , [-s] from source. Uses .nvmrc if available\n    --reinstall-packages-from=     When installing, reinstall packages installed in \n    --lts                                   When installing, only select from LTS (long-term support) versions\n    --lts=                        When installing, only select from versions for a specific LTS line\n  nvm uninstall                    Uninstall a version\n  nvm uninstall --lts                       Uninstall using automatic LTS (long-term support) alias lts/*, if available.\n  nvm uninstall --lts=            Uninstall using automatic alias for provided LTS line, if available.\n  nvm use [--silent]               Modify PATH to use . Uses .nvmrc if available\n    --lts                                   Uses automatic LTS (long-term support) alias lts/*, if available.\n    --lts=                        Uses automatic alias for provided LTS line, if available.\n  nvm exec [--silent]  [] Run  on . Uses .nvmrc if available\n    --lts                                   Uses automatic LTS (long-term support) alias lts/*, if available.\n    --lts=                        Uses automatic alias for provided LTS line, if available.\n  nvm run [--silent]  []     Run node on  with  as arguments. Uses .nvmrc if available\n    --lts                                   Uses automatic LTS (long-term support) alias lts/*, if available.\n    --lts=                        Uses automatic alias for provided LTS line, if available.\n  nvm current                               Display currently activated version\n  nvm ls                                    List installed versions\n  nvm ls                           List versions matching a given \n  nvm ls-remote                             List remote versions available for install\n    --lts                                   When listing, only show LTS (long-term support) versions\n  nvm ls-remote                    List remote versions available for install, matching a given \n    --lts                                   When listing, only show LTS (long-term support) versions\n    --lts=                        When listing, only show versions for a specific LTS line\n  nvm version                      Resolve the given description to a single local version\n  nvm version-remote               Resolve the given description to a single remote version\n    --lts                                   When listing, only select from LTS (long-term support) versions\n    --lts=                        When listing, only select from versions for a specific LTS line\n  nvm deactivate                            Undo effects of nvm on current shell\n  nvm alias []                     Show all aliases beginning with \n  nvm alias                  Set an alias named  pointing to \n  nvm unalias                         Deletes the alias named \n  nvm reinstall-packages           Reinstall global npm packages contained in  to current version\n  nvm unload                                Unload nvm from shell\n  nvm which []                     Display path to installed node version. Uses .nvmrc if available\nExample:\n  nvm install v0.10.32                  Install a specific version number\n  nvm use 0.10                          Use the latest available 0.10.x release\n  nvm run 0.10.32 app.js                Run app.js using node v0.10.32\n  nvm exec 0.10.32 node app.js          Run node app.js with the PATH pointing to node v0.10.32\n  nvm alias default 0.10.32             Set default node version on a shell\nNote:\n  to remove, delete, or uninstall nvm - just remove the $NVM_DIR folder (usually ~/.nvm)\nlaradock@915f54093e00:/var/www/laravel$ node -v\nv6.4.0\n```\nWorks!\n. ",
    "carraroenrico": "Great guide, thanks a lot!\n@midascodebreaker It would be amazing if you can do it for amazon ECS!\n. ",
    "dopyoman": "@midascodebreaker Is this guide still current? \nI've tried to follow the guide but noticed a inconsistencies. Also when trying to build the caddy container it just hangs\n . @codeitlikemiley collecting github accounts like pokemon. \nI guess I was just trying to point out that the guide asks us to run the docker-composer command undetached to input an email, but I'm asking if that's still necessary. Has something changed to make the email input unnecessary. . Sorry it seems like the base php image contains gd support the error I was getting  was \n\nReading Exif data is not supported by this PHP installation.\n\nSo the issue is still similar. How would I go about modifying the php's ini file?. ",
    "codeitlikemiley": "docker-compose up -d caddy, use the detached mode , its still working\n@midascodebreaker  @g0ld3lux  here this is my third account .... find the issue with my firewall not allowing the certifacate to be access.... inside workspace container.... im building it now ill try to make a pull request later...\n. im currently looking for a way to use it on my project also. i tried just to configure the php-worker , but i can seem to make it work....\ndo i need to do the step below   in addition to configuring php-worker?\n@princeton255 \n```\n  laravel-horizon:\n      build:\n        context: ./workspace\n        args:\n          - PUID=${WORKSPACE_PUID}\n          - PGID=${WORKSPACE_PGID}\n          - TZ=${WORKSPACE_TIMEZONE}\n        dockerfile: \"Dockerfile-${PHP_VERSION}\"\n      volumes_from:\n        - applications\n      networks:\n        - backend\n      user: laradock\n      command: php /var/www/artisan horizon\n```. just a typo in my case but @princeton255  solution works. bump i also facing this issue anyone have fixed or have idea how to fix this?. i had done that already, but its not workable for multisite , or separate laravel folder installed apps...\nas you can see WORKDIR is only for one folder....\nIf i did what you said here only one site has SSL , the other one wont even load at all\ni think this should be change to adopt for multisite...\n. can you share us the whole step you did?. i just need to user laravel echo server with ssl using either caddy or nginx..... same also here need this to be fix on master and push the fix . ",
    "huuvan20": "Hi,\nI followed the guide above & the environment runs well. But this morning there was a sudden stop of all containers, when I logged in to check to containers, there was no containers. I'm deploying the app with laradock in Digital Ocean.\nWhen I was trying to start all containers using docker-compose up -d mysql caddy, the Caddy cannot get started since the port 80 has been occupied by the Apache (Ubuntu 16.04 server). I stopped the Apache & could start the Caddy again. Now the app is running well.\nBut I wonder if the accident could happen again & what should I do to avoid this repeats? Thank you.. Hi Martynishin, I play the safe way to come back to MySQL 5.7 which is working properly.\nNot knowing if this is Sequel Pro problem or Laradock problem. T_T. I have the same issue too\nStarting laradock_mysql_1\nAttaching to laradock_mysql_1\nmysql_1                | Initializing database\nmysql_1                | 2018-02-19T17:48:33.012983Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2018-02-19T17:48:33.013025Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-02-19T17:48:33.014393Z 0 [ERROR] --initialize specified but the data directory has files in it. Aborting.\nmysql_1                | 2018-02-19T17:48:33.014466Z 0 [ERROR] Aborting\nmysql_1                | \nlaradock_mysql_1 exited with code 1. ",
    "shov": "If you get an issue with agreement like this:\ncaddy_1                | http plugins loaded: git, cors\ncaddy_1                | Activating privacy features... \ncaddy_1                | \ncaddy_1                | Your sites will be served over HTTPS automatically using Let's Encrypt.\ncaddy_1                | By continuing, you agree to the Let's Encrypt Subscriber Agreement at:\ncaddy_1                |   https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\ncaddy_1                | Do you agree to the terms? (y/n): yyyy/mm/dd hh:ii:ss user must agree to CA terms (use -agree flag)\nupdate your ./caddy/Dockerfile CMD to following view:\nCMD [\"/usr/bin/caddy\", \"-agree\", \"-conf\", \"/etc/Caddyfile\"]. I've got same problem. ",
    "kuerbi": "Have the same problem here:\nWhat have you done to solve this problem? @IgorDePaula \n. ",
    "samarhaider": "@IgorDePaula How do you resolve this?. ",
    "daywong1119": "@samarhaider try to update project's .env file DB_HOST=mongo. ",
    "hamony": "@Mahmoudz I followed this https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04 to set up multi sites and it works perfectly.\n. \nI'm using Window host, I was trying to config xdebug but can not succeed. Even I try with command in Docker Quick Terminal \n$ ssh -i workspace/insecure_id_rsa root@jobtown.dev\nThen this asked me password.\nroot@jobtown.dev's password:\nWhat am I doing wrong?\n. I solved my problem by https://gist.github.com/cimmwolf/7d67443c30e10f46b6ac\nFor whom got the trouble like me.\n. Actually it's not anywhere. I copied its content to workspace's Dockerfile where SSH was executed.\n. +1 I also need to install imagick.. Hope this could help someone wants to install imagick extension https://gist.github.com/pascalbaljet/bd7b8fd63b76c7564189. ",
    "manshoor": "hey like @Mahmoudz mention above multi site for local development was not working with laradock, so is there any way we can make make it work for local web development like we do it in the laravel homestead yaml and define multiple project and there server alias at once?\n- projects\n  - project1 (abc.dev)\n  - project2 (fgh.dev)\n. after adding ports it's is connected to sequal pro.\n. #344 \nI believe this is the issue, you have to add the ports in order to make it work.\n. @Mahmoudz \nyes sure, it's actually the same as Laravel but here is the only change for mysqli extension in php-fpm/Dockerfile-56\nPHP extensions\nRUN docker-php-ext-install mysqli\nRUN docker-php-ext-install tokenizer\n. @Mahmoudz Yep it worked like a charm (y)\nI'm setting up a Symfony application on Laradock, I'll share the PR with you :)\n. enable CODEIGNITER=true in docker compose and in nginx config map the public folder correctly like this \n```\nserver_name projectName.local;\nroot /var/www/projectName/public_html;\n```. so, now is it working fine?. Hey @sulfo try removing all containers and images and remove \"Laradock\" files and pull the repo again.\n. @sashaaro have you enabled Node in workspace container?\nif you do, than go to your workspace container and try this\nnode -v to see the version of installed node\nnpm install -g uglifycss uglify-js Install uglify css and js using npm\nls /usr/local/bin/ | grep 'ugli' use this command to see if files exists \nIf you find both of file using the above command then go to your Symfony dir and try this command\nphp app/console cache:clear\nphp app/console assetic:dump\n. Hey @Mahmoudz,\nI have been use the subdomain like this on Laradock \nserver_name la.local *.la.local; and it's working perfectly fine.\nOne thing though Laradock is extremely slow (5x slow than homestead) on my side and because of it I'm not able to use it properly \n. @chrispappas in order to communicate between 2 tier architecture you have to add  api-project.dev and consumer-project.dev in docker hosts file too.\ngo to your docker-compose.yml\nphp fpm container\nextra_hosts:\n            # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n```\n        - \"dockerhost:10.0.75.1\"\n    - \"api-project.dev:10.0.75.1\"\n\n    - \"consumer-project.dev:10.0.75.1\"\n\n```\nSame goes if you want to access them in workspace container.\nand rebuild the containers by using this command\ndocker-compose build --no-cache php-fpm workspace\n. @philtrep I guess you can close this issue.. @bravist I'm not sure about this, need to do some research.. First in  php-fpm Container\n- CODEIGNITER=true\nThis will enable the mysqli extension\nand rebuild your fpm container and try this.\nmysqli_connect('mysql','root','root','homestead')\nlet me know if it works.\n. @philtrep Yes, that sounds more appropriate.\nMy suggestion is to install mysqli extension by default because some basic application/frameworks like codeigniter uses mysqli driver instead of pdo.\n. @asolopovas \nchange your db host to mysql\nDB_CONNECTION=mysql\nDB_HOST=mysql. @asolopovas \ncan you share your whole mysql settings in .env file.\nbecause i'm on branch 4.12.0 and my config is this.\ntry root for username and password.\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=mydbname\nDB_USERNAME=root\nDB_PASSWORD=root. well, i'm not sure about your side but default settings are working fine for me, i'm just using root credentials because i'm not using homestead db and too lazy too create a new user every time ;)\nwell your application is working \ud83d\udcaf now, so you're good to go.. @philtrep we can close this issue.. @RobertCristian @ELD  have you guys tried docker volume rm mysql and rebuild the container?. can you share your mysql logs? don't add the -d argument and see why mysql is dying.\nOR\ntry with totally refreshing the docker by resetting it to default and pull all the images and build again.\nlast option would be go back to mysql 5.6. ok, so what is the docker ps says because according to this [Note] mysqld: ready for connections\nin mysql container try mysql -u root -p root. well that's simple just follow the video instructions and place your wordpress dir in public folder.. what mysql credentials are you using? . @cesarhgd10 first of all 500 is a sever side error \nmake sure your directory mappings are correct and you have a nginx like this https://github.com/laradock/laradock/blob/master/nginx/sites/sample.conf.example\nso in my docker compose \napplications:\n\n    image: tianon/true\n\n    volumes:\n\n       - ../WordpressDev/:/var/www/wordpressdev\n\nAnd my Nginx is \nserver_name wordpress-dev.local\n\nroot /var/www/wordpressdev\n\n. That's weird,\nok, lets clear all the containers and dangling images using this command  docker system prune  and try again with building the containers that you need\nOR\ntry force recreating with no cache using this command  docker-compose build --force-rm --no-cache nginx. try building individual containers with this command and see what's causing the problem docker-compose build --force-rm --no-cache [SERVICE NAME]. what OS you are using?\ncheck and verify your volume mounting also check the nginx config if it is picking up the right directory.\ninfact kindly share your docker-compose.yaml and nginx config what you are using. I applied solution but I'm still getting same error\nRUN apk update \\\n    && apk upgrade \\\n    && apk add --no-cache bash \\\n    && adduser -D -H -u 1000 -s /bin/bash www-data \\\n    && rm /etc/nginx/conf.d/default.conf \\\n    && echo \"upstream php-upstream { server php-fpm:9000; }\" > /etc/nginx/conf.d/upstream.conf\nService 'nginx' failed to build: The command '/bin/sh -c apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server php-fpm:9000; }\" > /etc/nginx/conf.d/upstream.conf' returned a non-zero code: 1. yeah, it worked. \nThanks \ud83d\udc4d . have you checked nginx logs?. ",
    "wlcx": "This seems to be a permissions issue rather than a space issue: \nmysqld: Can't create/write to file '/var/lib/mysql/is_writable' (Errcode: 13 - Permission denied)\nI am also getting this issue on OSX using the same versions above.\nOn Linux the data/mysql directory is chown'd to 999 (presumably by something in https://github.com/docker-library/mysql/blob/master/5.7/docker-entrypoint.sh) which is the UID mysql runs as in its container, but some experimentation showed that in boot2docker running virtualised in OSX you cannot change folder permissions:\n```\ndocker@default:/Users/wlcx/arbitrary-laravel-project/laradock/data/mysql$ ls -al\ntotal 0\ndrwxr-xr-x    1 docker   staff           68 Aug 25 15:01 ./\ndrwxr-xr-x    1 docker   staff          306 Aug 22 15:21 ../\ndocker@default:/Users/wlcx/arbitrary-laravel-project/laradock/data/mysql$ chown 999:staff\ndocker@default:/Users/wlcx/arbitrary-laravel-project/laradock/data/mysql$ ls -al\ntotal 0\ndrwxr-xr-x    1 docker   staff           68 Aug 25 15:01 ./\ndrwxr-xr-x    1 docker   staff          306 Aug 22 15:21 ../\n```\nThe permissions change fails silently, presumably by design, which is probably the cause of this. As far as I can tell read/write host volumes seem to be a bit of a pain!\n. ",
    "douglascorrea": "I'm OSX and I'm also getting this error.\nGiving full permission in laradock/data/mysql solved my problem. It is far from ideal, but at least for development enviroment it should work.\ncd laradock/data\nsudo chmod -R 777 mysql\n. Changing permissions also didn't worked. Then I removed homebrew docker version, and installeed Docker For Mac Beta from here: https://docs.docker.com/docker-for-mac/#download-docker-for-mac\nAlso installed Kitematic.\nAnd now everything is working fine.\n. Maybe we don't need the port:22 at all. Since we use docker-compose exec workspace bash to start using in the workspace we don't need to ssh to it.\nAt least it works in OSX with docker-machine, but I think it is the same for docker in linux boxes.\n. I have this message:\nHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php/20151012/aerospike.so' - /usr/lib/php/20151012/aerospike.so: cannot open shared object file: No such file or directory in Unknown on line 0\nAll the time I execute a PHP command\n. ",
    "enamul1": "@Mahmoudz \nI am still getting this error.. @tsukasa696 I am also getting same error. Did you find any solution yet ?. BTW,  docker logs laradock_mysql_1 giving me this.\nInitializing database\nmysqld: Can't create/write to file '/var/lib/mysql/is_writable' (Errcode: 13 - Permission denied)\n. Thanks tsukasa696 . . ",
    "viewplatgh": "I got hit by this issue too when I am using docker on Ubuntu. Removing the user: \"1000:50\" in docker-compose.yml seems solving it. That user:... line seems only useful for OSX/Windows users.. Got similar issue after upgrade the laravel to 5.5, after run docker-compose start mysql:\nysql_1                | 2017-10-31T13:21:56.763281Z 0 [Note] Server socket created on IP: '172.20.0.5'.\nmysql_1                | 2017-10-31T13:21:56.763329Z 0 [ERROR] Can't start server: Bind on TCP/IP port: Cannot assign requested address\nmysql_1                | 2017-10-31T13:21:56.763335Z 0 [ERROR] Do you already have another mysqld server running on port: 3306 ?\nmysql_1                | 2017-10-31T13:21:56.763358Z 0 [ERROR] Aborting\nmysql_1                | 2017-10-31T13:21:56.763456Z 0 [Note] InnoDB: FTS optimize thread exiting.\nmy. ",
    "Gnifle": "@viewplatgh 's solution worked for me. Been toying around with Laradock on both Windows and Ubuntu, and couldn't understand why this was happening.\nRemoving said line instantly solved the issue, and I can now keep the mysql container running.. @alexandre78 Said line \"1000:50\" which viewplatgh mentioned, was removed in release 5.6.0. This was released on Sep 18, 2017, which was 3 days after I solved said problem.\nAt the time of my comment, I was using version 5.5.5, where the \"1000:50\" line was still part of the previous docker-compose.yml file.\nWhat I'm getting at, is that his old solution unfortunately might not be relevant for you today. Of course depends on what version of Laradock you're currently on.. ",
    "alexandre78": "Hi everyone, I'm trying to remove user: \"1000:50\" in docker-compose.yml but I can't find it in file.. ",
    "elceka": "@Mahmoudz I don't know, i don't using it now. But now, i've pull actual master to my environment and command docker-compose up --build -d nginx postgres works for me without any error.\n. I have same trouble, not specially with Laradock but with Docker generally.\nMy dev environment is based on Mac OSX (10.11.6 (15G1104)). I think, speed has been degraded when i move from Docker Toolbox to the Docker for Mac.\n. @Mahmoudz YOP, I understand, but truth may bee somewhere in the middle. :)\n. ",
    "reypm": "@LarryEitel I am using vanilla CMD although I've gitbash installed. Regarding your function where I should put this on Windows?\n. @LarryEitel I am missing something here:\nD:\\Sites\\laradock>dcx workspace\n'dcx' is not recognized as an internal or external command,\noperable program or batch file.\nWhat is that?\nAlso do I need to run the following command all the time for get the containers up?\ndocker-compose up -d nginx mysql redis\n. @LarryEitel nvm, I have moved from vanilla CMD to GitBash and it works. Now I am in /var/www/laravel but where this volume is mapped in the host? I mean in the windows PC?\n. @LarryEitel perfect, I get it, now, lets said I want to put all my sources under D:\\Sites\\laravel do I need to modify something on the docker-compose.yml? If so ... what? Also I need to share my D drive in Windows from Docker config, right?\n. @Mahmoudz the only thing I am not sure at all is about this line: pecl install xdebug since I have previously installed xdebug as apt-get install php55-xdebug. What would be your suggestion?\n. @appleboy I am lost, what docker-php-ext-install will do for me that apt-get install will not? At this point I don't know if I should install xdebug using apt or docker-php-ext-install. \n@Mahmoudz  I have read the Dockerfile-56 and I am notice the following:\n```\nFROM php:5.6-fpm\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends \\\n        curl \\\n        libmemcached-dev \\\n        libz-dev \\\n        libpq-dev \\\n        libjpeg-dev \\\n        libpng12-dev \\\n        libfreetype6-dev \\\n        libssl-dev \\\n        libmcrypt-dev\nRUN docker-php-ext-install mcrypt\nRUN docker-php-ext-install pdo_mysql\nRUN docker-php-ext-install pdo_pgsql\nRUN docker-php-ext-install gd && \\\n    docker-php-ext-configure gd \\\n        --enable-gd-native-ttf \\\n        --with-jpeg-dir=/usr/lib \\\n        --with-freetype-dir=/usr/include/freetype2 && \\\n    docker-php-ext-install gd\n```\nWhy docker-php-ext-install gd appears twice? I am confused. \n. @appleboy sadly there is another issue, I have opened another issue, take a look :-( and I have one more I will test once again and if I can not get this working I'll be opening another one :)\n. @Mahmoudz isn't fixed, check the file Dockerfile-56\n. @Mahmoudz I am seeing exactly the same content:\n```\nInstall the PHP gd library\nRUN docker-php-ext-install gd && \\\n    docker-php-ext-configure gd \\\n        --enable-gd-native-ttf \\\n        --with-jpeg-dir=/usr/lib \\\n        --with-freetype-dir=/usr/include/freetype2 && \\\n    docker-php-ext-install gd\n```\nDid you notice this docker-php-ext-install gd twice? That's wrong I believe correct me if I am wrong\n. ",
    "mjcriswell": "I had the same problem in Powershell. I was able to enter a container using the command                 docker exec -it [container-id] bash where container-id is the id of workspace.\n. I have docker-compose installed. I even use it to start up the containers. I just can't enter the containers with docker-compose commands. I've also noticed issue #241 has the same problem. See the screenshots. \n\n\n. ",
    "amadeann": "@CreativeKoen I had a similar issue and restarting the containers fixed it (docker-compose down, and then up). \nI am also on Windows.. I was getting the same messages and renaming env-example to .env inside the laradock directory fixed the issue.. I was getting the same error. Your question, however, is also a solution in itself, at least in my case.\nMy project is on Laravel, and there is a 'public' directory in Laravel project anyway. So I just have to set up a project, before starting the caddy container. I also changed:\nroot /var/www/public\nto\nroot /var/www/laravel/public\nin Caddyfile (the project name is 'laravel')\nand \nAPPLICATION=../\nto\nAPPLICATION=../laravel\nin .env (copied from env-example)\nIs your project not Laravel that this wouldn't work for you as well?. What is your directory structure? Do you have a project directory with 2 subdirectories for laradock and your laravel app? \nWhat Application Path did you specify in the .env file?\n. ",
    "Spracto": "I'm currently struggling through trying to do this. I'd appreciate some help with it as I'm totally lost trying to write a Dockerrun.aws.json file for the 5 containers that laradock created to dockerize the laravel project. \n. ",
    "ivanhueso": "I'm trying to deploy to Elastic Beanstalk I'm having issues when it too. Need help.. ",
    "davehensley": "\nCreate whatever images you need, e.g. docker-compose build nginx php-fpm\nTag your image, e.g. docker tag laradock_nginx:latest 123456789.dkr.ecr.us-east-1.amazonaws.com/laradock/nginx:latest (replace with the URI of your ECR repository)\nRepeat the previous step for the rest of your images.\nGet your authorization token from AWS: aws ecr get-login\nRun the docker command that the aws tool outputs in the previous step: docker login -u AWS -p ...\nDeploy your new image to ECR: docker push 123456789.dkr.ecr.us-east-1.amazonaws.com/laradock/nginx:latest (replace with the URI of your repository)\nRepeat the previous step for the rest of your images.\nCreate a file called Dockerrun.aws.json one directory up from your Laravel app (so if Laravel is in ~/Projects/YourProject/application/ then put Dockerrun.aws.json in ~/Projects/YourProject/). Use the sample file below as a starting point.\nDeploy your app: eb deploy\n\nSample Dockerrun.aws.json file:\n{\n  \"AWSEBDockerrunVersion\": 2,\n  \"containerDefinitions\": [\n    {\n      \"essential\": true,\n      \"image\": \"123456789.dkr.ecr.us-east-1.amazonaws.com/laradock/php-fpm:latest\",\n      \"memory\": 256,\n      \"mountPoints\": [\n        {\n          \"containerPath\": \"/var/www\",\n          \"sourceVolume\": \"application\"\n        },\n        {\n          \"containerPath\": \"/usr/local/var/log\",\n          \"sourceVolume\": \"awseb-logs-php-fpm\"\n        }\n      ],\n      \"name\": \"php-fpm\"\n    },\n    {\n      \"essential\": true,\n      \"image\": \"123456789.dkr.ecr.us-east-1.amazonaws.com/laradock/nginx:latest\",\n      \"links\": [\n        \"php-fpm\"\n      ],\n      \"memory\": 512,\n      \"mountPoints\": [\n        {\n          \"containerPath\": \"/var/www\",\n          \"sourceVolume\": \"application\"\n        },\n        {\n          \"containerPath\": \"/var/log/nginx\",\n          \"sourceVolume\": \"awseb-logs-nginx\"\n        }\n      ],\n      \"name\": \"nginx\",\n      \"portMappings\": [\n        {\n          \"containerPort\": 80,\n          \"hostPort\": 80\n        }\n      ]\n    }\n  ],\n  \"volumes\": [\n    {\n      \"host\": {\n        \"sourcePath\": \"/var/app/current/application\"\n      },\n      \"name\": \"application\"\n    }\n  ]\n}. > @davehensley can you include your answer in the docs!?\n@Mahmoudz I'm not sure which docs you're referring to (laradock.io maybe?), but I'm not part of the Laradock project so I don't have write access to them. But if you do, you're more than welcome to copy my solution and include it there if you think it would be useful.. @canfone You should create a separate repo for each image.. @canfone Hmm,  what was the process that you used to create your EB app? Try something like this (it should download Laravel and deploy the default app):\n~ $ mkdir -p ~Projects/my-project && cd !$\nmy-project $ eb init\nmy-project $ git clone git@github.com:laravel/laravel.git application\nmy-project $ cp /path/to/Dockerrun.aws.json .\nmy-project $ eb create. @chkm8 This is a bit outside the scope of the original question, but the answer is that it's easiest to set up a secure site on Elastic Beanstalk if the EC2 instances inside your EB environment don't know anything about SSL. Even if you're running a secure site, your webserver inside your docker container should be listening on port 80 only, so you don't even need to install mod_ssl. The job of storing SSL certificates and keys and encrypting the connection is performed by Amazon's Elastic Load Balancer.\nSo the traffic goes like this:\nYour container  <---port 80 (http)---> Elastic Load Balancer <---port 443 (https)---> Internet\nAFAIK there isn't a way to upload an SSL certificate/key through the AWS console, but you can do it pretty easily with the aws command line tool:\nhttp://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-ssl-upload.html\nEverything else is configurable through the AWS console (just allow incoming https connections in your Elastic Load Balancer's security group, and then enable HTTPS on port 443 in your load balancer settings and choose the certificate that you just uploaded from the dropdown menu).\nIf you really do need full end-to-end encryption (which you almost certainly don't), or you're running a single-instance EB environment without a load balancer, then it is possible to configure your container to listen for https connections (but I strongly recommend trying the other way first):\nhttp://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-endtoend.html. ",
    "chkm8": "Hi, Im follwing the guide that is provided above, i managed to create the laradock instance in elastic server via ecr. but the application is not working, im having 502 bad gateway error, and when I checked the apache2 container logs inside eb server, is says that SSLCertificateFile: file '/etc/ssl/certs/ssl-cert-snakeoil.pem' does not exist or is empty, how would i solve this one, in my local instance there is no ssl-cert issues, so the logic would be my local should be the same once i upload it on eb server. hope you could help me . thanks. @davehensley , yup, the error is not related, i finally uploaded our project in EB following the guide you provided, the error I was referring to is how the \"laradock apache2 container\" was buid making a copy of the default ssl and with missing plugins (snakeoil). I rebuild a new one but remove the default ssl. . The aws service was meant to provide easy tools to access aws using eb ssh. Are you having Forbidden error when you access your environment url? I also had trouble in setting it up first but I forgot the specific errors but what I learned was that make sure that you setup the security group of each containers, they should have access with port 80 and 443. Also you need to enable that the listener to your eb instance both 80 and 443.. How did you deploy your project to elastic beanstalk? Can you do eb logs | grep apache2 inside the aws laradock container? or inside eb instance sudo docker logs ?. If you wanted to deply your application using laradock, yes you need the Dockerrun.aws.json, there is a sample for that in the comment above on this thread. So if you dont use Dockerrun.aws.json, I assumed that when you did eb init you choose php as environment right? I havent tried deploying it in that way because I use the multiple docker options and I provided the Dockerrun.aws.json. . Hi, im trying to integrate browser testing with dusk and selenium, when I run php artisan dusk , all my test are passing but I cant see the browser being loaded or open. Also there is no screenshots saved in test/Browser/screenshots folder if test failed. \nSteps: (scripts below are excuted inside workspace - docker-compose exec workspace bash)\n1-docker-compose up -d apache2 selenium\n2-added/setup dusk (php artisan dusk:install)\n3-created browser test\n4-php artisan dusk\n->My sample regression does succeed but I can't see the browser being tested.\n--visited the selenium url: http://localhost:4444/wd/hub\n--I can only see a session menu\nWhat am I missing here? Thanks.. I already fixed it, somehow the current driver that is being installed via the docker file is not updated that is why SQLSRV_ATTR_FETCHES_NUMERIC_TYPE  is not found. I edited the Dockerfile-71 for php-fpm to install the latest driver.\n```\n    #####################################\n    # Install sqlsrv y pdo_sqlsrv\n    # extensions:\n    #####################################\npecl install sqlsrv-4.1.7preview && \\\npecl install pdo_sqlsrv-4.1.7preview && \\\n\n```. Hi, I'm also having this error in the updated/latest laradock version, but when I tried the https://hub.docker.com/r/microsoft/mssql-server-linux/ docker container I was able to create it successfully and linked to the laradock containers. So odd is I tried this at home with my ubuntu laptop and I know it works but here in my workstation im using windows 10, im having issues this time.. ",
    "comlaterra": "Now that there is an aws service, I've followed what the documentaiton says: http://laradock.io/documentation/#use-aws also what AWS documentaiton explains, looks is up and running but:\nI get Forbidden on the root url of the project\nand a double laravel error without any log in any other path.\nAny help is welcome, a link, some pointer og where to research to...?\n. Thanks @chkm8 !\nWell, I've changed the aws config to access to teh public folder, and I can see the laraval errors... without log (?!) and with two headers (?)\n\nI'm also trying to access to the logs, but I can't. The app works perfectly in my local Docker btw :)\nAny idea/points where I can search self-educate to fix this issue?\nThanks!. I've deployed completely with eb cli. Followed the instructions:\ndocker-compose up -d aws then docker-compose exec aws bash and the rest from eb cli.\nSo eb init and eb deploy --staged. \nDo I need to have a Dockerrun.aws.json file? I though the point is that the cli makes up actions from the docker-compose.\neb logs | grep apache2 doesn't returns anything, the logs in general looks good.\nThanks! I keep researching!. ",
    "codeasashu": "I am using nginx, php-fpm, mariadb for one of the project. I followed the steps suggested by @davehensley and can see a successful deployment. (I am using multi docker instance in aws ebs)\nHowever, I was unable to see any nginx config when I exec'd into it. I see nginx.conf but no conf.d/default.conf. I think I have to write a Dockerfile, using ADD command to manually copy the config to /etc/nginx/conf.d. I will soon share the Dockerfile \n. In my case, I was trying to downgrade from 8.x to 5.6.x and this issue came up. I tried following comment https://github.com/laradock/laradock/issues/421#issuecomment-261283667 but ended up with same error again. I then went on in my home directory ~/.laradock/data (set as $DATA_DIR) in .env and deleted mysql directory and did docker-compose down followed by docker-compose up -d mysql and it worked!! . Sorry, that was by mistake. ",
    "appkr": "@zhikiri thanks for the information. no I can wait untill it gets fixed. \n. @miguelvaladez Thank a million, that helped me.\nThanks to @miguelvaladez 's comment, I suspect that the problem may be caused by Laravel Valet. To ensure that I did lsof command, and I got the hint.\nsh\n~ $ lsof -i TCP:80\nCOMMAND    PID  USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\nGoogle    1129 appkr  127u  IPv4 0xb6f109901b654883      0t0  TCP 192.168.88.187:50208->hkg12s01-in-f98.1e100.net:http (CLOSE_WAIT)\nGoogle    1129 appkr  207u  IPv4 0xb6f1099020192693      0t0  TCP 192.168.88.187:50204->ns1.daum.net:http (ESTABLISHED)\nI stopped the valet and retried boot up Laradock and it worked.\n``` sh\n~ $ valet stop\n~/Laradock $ docker-compose up -d nginx\nCreating network \"laradock_default\" with the default driver\nCreating laradock_volumes_data_1\nCreating laradock_volumes_source_1\nCreating laradock_workspace_1\nCreating laradock_mysql_1\nCreating laradock_php-fpm_1\nCreating laradock_nginx_1\n```\nThanks community!\n\nCONCLUSION\n\n\nTURN THE VALET OFF BEFORE USING LARADOCK.\nCHANGE YOUR LARADOCK NGINX CONTAINER's PORT, IF THE 80 PORT ALREADY IN USE.\n. \n\n",
    "grisotto": "I had the same problem. I fixed this by stopping the Apache2 service on my host. \n. Yes. Same port number.\n. The error:\nsudo docker-compose up -d  nginx mysql\nERROR: In file './docker-compose.yml' service 'version' doesn't have any configuration options. All top level keys in your docker-compose.yml must map to a dictionary of configuration options.\nuname -a\nLinux 4.6.0-1-amd64 #1 SMP Debian 4.6.4-1 (2016-07-18) x86_64 GNU/Linux\ndocker-compose -v\ndocker-compose version 1.5.2, build unknown\nI fixed this updating the docker-compose to version 1.8.\nI suggest you to add in requirements docker-compose >= 1.6.\n. ",
    "miguelvaladez": "I was having the same issue and fixed it by editing the port mapping of the nginx container from \n- \"80:80\"\nto\n- \"8080:80\"\nAfter that I found my project at: http://localhost:8080\n. ",
    "SamoilenkoEvgeniy": "also you can turn off in skype check box with 80 and 443 ports.\n. If someone also received such a problem, this is explanation:\nhttps://stackoverflow.com/questions/42360356/docker-redis-connection-refused\n. ",
    "zzpwestlife": "@appkr Yes. That's the solution. Valet is the culprit. Stop it and everything is OK. Thanks.. ",
    "andim27": "if you use win  10 do next:\nnet stop w3svc. ",
    "DiegoFelipe": "sudo service apache2 stop. after change the version in php-fpm, also build workspace then it will work. ",
    "Baldrani": "Okay so I found out there was an nginx on my computer running on port 80.\n Way to know if it's your case : \nsudo lsof -i :80 \nwhich output \nGoogle      309 mael  186u  IPv4 0xc09d7f680ef39365      0t0  TCP 192.168.0.19:64275->par10s27-in-f14.1e100.net:http (CLOSED)\nGoogle      309 mael  203u  IPv4 0xc09d7f680e21fa05      0t0  TCP 192.168.0.19:64276->cache.google.com:http (CLOSED)\nGoogle      309 mael  206u  IPv4 0xc09d7f6808120cc5      0t0  TCP 192.168.0.19:64277->64.15.115.97:http (CLOSED)\nnginx     12529 root    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12530 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12531 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12532 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12533 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12534 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12535 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12536 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nnginx     12537 mael    6u  IPv4 0xc09d7f6810787cc5      0t0  TCP *:http (LISTEN)\nThen run sudo nginx -s stop to kill the process. \nAnd you'll be good to un docker-compose up. ",
    "jayhill90": "@Mahmoudz 's response worked for me for another repo that I was having this same issue with. . I've tried changing to 5.7 but I'm still having issues. I've deleted the ~./laradock/data/mysql/ directory, cleared out images, rebuilt everything. modified Dockerfile for mysql, .env  in laradock. Not sure what else I'm missing. . ",
    "hopewise": "I have the same issue on Ubuntu 16, but I don't know how to upgrade docker-compose to 1.8 ?!\n. thanks\n. I need to setup xdebug, in PHPStorm I create remote debug profile, so I had to point to the remote PHP interpreter via ssh?\nCan you please tell me how to setup xdebug without using ssh using laradock?\n. Ok, got it, thanks, but how would I check real xdebug.so path?\n. I've also noticed that I can just set xdebug.so without a path, and it work..\n. Where is that file located?\n. I also tried:\ndocker exec --user=laradock laradock_php-fpm_1 bash\nbut I got:\nunable to find user laradock: no matching entries in passwd file\n. yes, I did set it to true\n. From inside the container, I am running docker on OS X, Capitan 10.11.16\n```\n$docker version\nClient:\n Version:      1.12.2\n API version:  1.24\n Go version:   go1.6.3\n Git commit:   bb80604\n Built:        Tue Oct 11 05:27:08 2016\n OS/Arch:      darwin/amd64\n Experimental: true\nServer:\n Version:      1.12.2\n API version:  1.24\n Go version:   go1.6.3\n Git commit:   bb80604\n Built:        Tue Oct 11 05:27:08 2016\n OS/Arch:      linux/amd64\n Experimental: true\n```\n. > To controll the behavior of xDebug (in the php-fpm Container), you can run the following commands from the LaraDock root folder:\n\nStop xDebug from running by default: ./xdebugPhpFpm stop.\nStart xDebug by default: ./xdebugPhpFpm start.\nSee the status: ./xdebugPhpFpm status.\n\noh, sorry! I thought that in the php-fpm Container is, from inside the container, I think the doc needs to be little more clear for dumbs \ud83e\udd10\n. sure!  but I still have some questions please.\nWould you explain how docker-compose work? what is meant by \nbuild:\n    context: ./workspace\nAnd how \nvolumes_from:\n            - volumes_source\nled to the folder in which LaraDock folder in?\nWhat is tty: true ?\nAlso, aren't we have two php interpreters? one in the workspace container? and another in PHP-FPM container? which one to point to from PHPStorm?\n. I see, thanks.\nHere is PR about where to run the xdebugPhpFpm command\n. you are welcome\n. ",
    "manoj8928": "Update your docker-compose and issue will be resolved\ncurl -L https://github.com/docker/compose/releases/download/1.9.0/docker-compose-uname -s-uname -m > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose. ",
    "Dartanjan": "After doing the above, and running docker-compose, or docker-compose version, I get:\n/usr/local/bin/docker-compose: line 1: {error:Not Found}: command not found\nContext: I installed Docker for OSX, but had docker-compose version 1.5.2 and I tried to upgrade to 1.9.0.. Solved, I updated docker-compose with instructions from https://docs.docker.com/compose/install/\nThe cURL call is a bit different for OSX. Thanks for pointing in the right direction :). Thanks, that does it. I thought maybe there's a way to not install mysql cli inside of workspace, but that works as well. Cheers!. Thanks @bestlong, I fixed it with docker-time-sync-agent.. Perhaps a note in the docs somewhere could be useful, if this happens regularly (for Docker on Mac at least).. ",
    "pcastrotigre": "Any update? I am having exactly the same error with the same configuration and getting the same response after 'php -i|grep mongo'\n. ",
    "bvbunnik": "I have exactly the same problem. Trying to get phpmyadmin to run with docker-compose up -d mysql phpmyadmin\nOutput is:\n```\nStarting laradock_volumes_data_1\nStarting laradock_mysql_1\nStarting laradock_phpmyadmin_1\n```\ndocker ps shows:\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\nd1ea975601eb        laradock_mysql      \"docker-entrypoint.sh\"   About an hour ago   Up 4 seconds        0.0.0.0:3306->3306/tcp   laradock_mysql_1\nThere is no error reported not on the cli nor in the logs of docker.\nAny further suggestions?\n. Thanks for your suggestion!\nrunning docker-compose up phpmyadmin results in:\n\n. Applied patch and phpMyAdmin is now working on Linux.\nMany thanks for fixing this issue!\n. ",
    "everaldo": "Hi! My output is the same as @bvbunnik \n. I removed the old container and now it works. Many thanks!\n. I have this problem too.\n. Regardeless of the PHP Warning, I noticed that things are working fine.\n. ",
    "oprudkyi": "This commit adds second \nports:\n           - \"22:22\"\ninto docker-compose.yml and make all package unusable\nERROR: for php-fpm  driver failed programming external connectivity on endpoint laradock_php-fpm_1\nError starting userland proxy: listen tcp 0.0.0.0:22: bind: address already in use\n. I just pointed out that https://github.com/LaraDock/laradock/blob/master/docker-compose.yml have two services which uses port 22 , so without editing of docker-compose.yml by every new user the docker will complain \n. :+1: \n. ",
    "persevereVon": "I typed this code to fix the problem.\nif [[ \"$(uname)\" == \"Darwin\" ]]; then\n    OS_TYPE=\"OSX\"\nelse\n    OS_TYPE=$(expr substr $(uname -s) 1 5)\nfi\nand change \nif [[ \"$(expr substr $(uname -s) 1 5)\" == \"MINGW\" ]]; then\nto\nif [[ $OS_TYPE == \"MINGW\" ]]; then\nit work correct.\n. @LarryEitel It's ok.\n. ",
    "alejodaraio": "same error here :/\n. ",
    "ssilvan": "Same error as well; has anyone figured out how to fix this?\n. Same issue here; any fix?\n. It is working now for me. What I did was to execute:\ngit clone https://github.com/LaraDock/laradock.git\nIN THE LARAVEL APP DIRECTORY. It is very important to have a laravel application ready before cloning the repository by executing first:\ncomposer create-project laravel/laravel your_application_name\nAfter the application has been created go to the \"your_application_name\" directory and clone the laradock repository. This will create a laradock directory under your application; cd to laradock directoy and execute \"docker-compose up -d  apache2 mysql\"\nThat worked for me, hope this helps!\n. Glad to see it worked for you tblancog; indeed you need to have docker version 1.7 at least.\n. ",
    "cool14521": "+1\n. +1\n. https://docs.docker.com/compose/install/\n. ",
    "HeidemannMarkus": "+1\n. ",
    "altjsus": "I had this problem. That's how I managed to solve it:\n- install laravel with composer first. made git initand added laradock as a submodule\n- changed laradock/workspace container port to 666. then docker-compose build workspace\n- docker-compose up -d apache2 mysql\nWorks! \n. ",
    "wtwei": "+111111\n. ",
    "tblancog": "Yes, this is solved, thanks a lot @Mahmoudz and everyone!\n. It's not working for me, I did as you said from an ubuntu and docker fresh installation, it just shows this error:\n`$ docker-compose up -d apache2 mysql\nERROR: In file './docker-compose.yml' service 'version' doesn't have any configuration options. All top level keys in your docker-compose.yml must map to a dictionary of configuration options.\n`\nUPDATE: It worked after a docker-compose update to 1.8.10 according to issue #2863\n. @cabrerabywaters I forked the project and tried your changes since i also need ldap support for my app. Tried your changes and php still asks me for ext-ldap when i install something using composer that uses ldap.\nMy question is, is there any other file besides docker-compose.yml and php-fpm/Dockerfile-70 that you have changed?. @Mahmoudz Tried again and it worked.\nThanks!. Thanks for the reply @cabrerabywaters. Where do I have to add that? Do I install docker-php? or inside laradock container?, sorry but i'm kind of newbie using docker and docker-compose. Tried whtat  you said and I got this weird error when building the package..\n```\nFetched 9878 kB in 13s (750 kB/s)\nReading package lists...\nW: Size of file /var/lib/apt/lists/httpredir.debian.org_debian_dists_jessie-updates_main_binary-amd64_Packages.gz is not what the server reported 17571 17587\n/bin/sh: 1:  apt-get: not found\nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c apt-get update && \\ apt-get install libldap2-dev -y && \\ docker-php-ext-configure ldap --with-libdir=lib/x86_64-linux-gnu/ && \\ docker-php-ext-install ldap' returned a non-zero code: 127\n```\nI guess I'll wait for the PR to merge,\nThanks a lot @cabrerabywaters .. It also worked for my, thanks @francoism90. ",
    "dshiells": "I changed the workspaces ports from 22:22 to 2201:22. Mac must secretly have something bound to port 22 already. Anyway, works now :)\n. ",
    "morales2k": "I found this error as well, and ran: \nnetstat -lp | grep 2222\nThe relevant return line:\ntcp6       0      0 [::]:2222               [::]:*                  LISTEN      4546/docker-proxy\nThat allowed me to find out what was hanging onto that port and discovered it was 4546/docker-proxy (whatever that is)  I'm not too docker savvy, but I know laradock workspace had absolutely no problems running on that port for ssh, now it is choking and I had to switch the port to something else as that was being used. Ran that netstat again and looked for docker-proxy instead... here's all it has it's nose in:\ntcp6       0      0 [::]:mysql              [::]:*                  LISTEN      28843/docker-proxy  \ntcp6       0      0 [::]:6379               [::]:*                  LISTEN      29077/docker-proxy  \ntcp6       0      0 [::]:2222               [::]:*                  LISTEN      4546/docker-proxy   \ntcp6       0      0 [::]:http               [::]:*                  LISTEN      31281/docker-proxy  \ntcp6       0      0 [::]:9010               [::]:*                  LISTEN      28733/docker-proxy  \ntcp6       0      0 [::]:8087               [::]:*                  LISTEN      4470/docker-proxy   \ntcp6       0      0 [::]:https              [::]:*                  LISTEN      31267/docker-proxy  \ntcp6       0      0 [::]:2722               [::]:*                  LISTEN      30749/docker-proxy\nI have no idea what this docker-proxy process is and/or why is it needed now, as opposed to all the time I've been using docker and this never happened.... Will have to keep looking for more info and see.... . I'm running windows and this issue cropped up as well. \nRunning chmod on anything returned no errors, but no expected results either. Just like @gabriellucius described.\nI ssh'd into the workspace container using the laradock user, and ran composer install on my project. It did not error out on permissions, it created the vendor folder, and it installed my dependencies. \nYes, with laradock user, and permissions being root:root on everything as described by @MikSDigital.\nI don't blame you if you don't believe what I am describing here, but it is as I'm saying it. Since it is working, I'm not going to mess with it any longer... but it sure rubs me in all the wrong ways imaginable to see root on the group and user permissions, and then be able to write on those folders with a laradock user that, according to Dockerfile-72 (I'm using php 7.2) belongs to the laradock:laradock permission set... \nMy mind is still blown... but then I remember this is Windows and it kinda makes sense... \nKind of... \n. Indeed, it is exactly right as @laliux explains.\nThis worked for me and, in case it wasn't clear enough from @Smittttty and @laliux comments, here's some more detail and/or clarity... \nIn the docker-compose.yml file, copy the php-fpm setup that comes with laradock into the following:\n```\nPHP-FPM5.6\nphp-fpm5.6:\n    build:\n      context: ./php-fpm\n      args:\n        - LARADOCK_PHP_VERSION=5.6\n        {all other options(args) remain the same - redacted for space}\n    volumes:\n      - ./php-fpm/php5.6.ini:/usr/local/etc/php/php.ini\n      {the rest remains the same as the original fpm config for laradock - redacted for space}\n```\nWhat this does is, it launches a hard-coded php-fpm5.6 container. You will no longer control php version for this container from the .env file, but the other options will still apply, so you can have the same set of extensions/args as available in the .env file for both versions of php_fpm (or more if you choose to go  and do this for every version of php available in laradock; sky's the limit! and by sky I mean your computer cpu and ram lol)\nTo use it on a project or a local website, just go to your laradock folder, look up the nginx/sites and check out the default.conf. It uses fastcgi_pass as follows: \nfastcgi_pass php-upstream;\nSince what we got there in the upstream is another version of php (not 5.6) and we want to use 5.6 for this other project, we create the new site conf file and update that line to:\nfastcgi_pass php-fpm5.6:9000; \nThat will tell nginx to use the other fpm service in the backend network.\nThis way, you can keep only one laradock location with all your container settings, use the correct php version for your project, and code away.\nAs mentioned elsewhere, if one needs to replicate remote environment (php version, extension set, nginx version, etc), it would be best to clone laradock right into the project folder and configure it all specifically for said project... instead of using a global - jack of all trades configuration, with all bells and whistles... However, for most small projects, this global configuration is quite flexible and suits most of the cases I work with, so I'll stick to this for now.. ",
    "qq447665722": "You have found the answer yet?\n. ",
    "lucafregoso": "@computerfr33k are you using this ansible provision in production?. ",
    "nathanbarrett": "Also,\nDocker version 1.12.0, build 8eab29e\ndocker-compose version 1.8.0, build f3628c7\nI also tried restarting docker service\n. @LarryEitel I removed the reference to port 22 i.e. - \"22:22\" under php-fpm container in docker-compose.yml now I get this error:\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (2ddffb0275b7a0998c2b7af2bd56a5861cf04d2850505336c0e925459ba9a7ce): Error starting userland proxy: Bind for 0.0.0.0:80: unexpected error (Failure EADDRINUSE)\n. @LarryEitel in terminal I ran \n'lsof -i TCP:80'\nAnd it showed a bunch of stuff from google (chrome I guess). So I shut down chrome, ran that command again and saw nothing using port 80. Restarted docker, ran 'docker-compose up -d nginx mysql redis' and got the same bind error for nginx on port 80\n. ",
    "Shmp": "Have the same problem, the workspace will not start either because of port 22.\n. I will try a new installation with fresh containers this week. Will report back asap\n. Did a fresh install with laradock, build the contrainers, edited the docker-compose.yml, rebuild the containers again. Everything works \ud83d\udc4d \n. @philtrep Thanks, will try this right away!\n. @philtrep Sweet! Works like a charm!\n. Got another problem now:\n#1130 - Host '172.18.0.7' is not allowed to connect to this MySQL server\nmysqli_real_connect(): (HY000/1130): Host '172.18.0.7' is not allowed to connect to this MySQL server\ndeleted data, rebuilded all containers serveral times, added --bind-address=0.0.0.0\ncan't connect to the database...\n. @philtrep I've read a few post on other project and it seems that mysql default doesn't allow connections from another host. Is there a way to edit some config or compose file to create a rule to allow connections?\n. ",
    "SilverPaladin": "I had the same issue. I changed my docker-compose.yml line in php-fpm section from - \"22:22\" to - \"9000:9000\"\n. ",
    "sakanaproductions": "I tried changing the port from 22 to 2200 now I'm getting the same thing: ERROR: for php-fpm  Cannot start service php-fpm: driver failed programming external connectivity on endpoint laradock_php-fpm_1 (99ddd955e0d334424742a6a6a044f687ff8e4304cde85f00ef9bf312512a9e6c): Bind for 0.0.0.0:2200 failed: port is already allocated\nERROR: Encountered errors while bringing up the project.\nUPDATE:\nI tried doing the port forwarding with both workspace and php-fpm with the same errors:\nERROR: for workspace  Cannot start service workspace: driver failed programming external connectivity on endpoint laradock_workspace_1 (95aec05b3bb55bb138e30e9dc3af89fa22ab654d84edb376c94a618e94cb3292): Error starting userland proxy: Bind for 0.0.0.0:22: unexpected error (Failure EADDRINUSE)\nUPDATE 2:\nI was able to fix it by doing different port forwarding for the 2 containers\nFor workspace - 2201:22\nFor php-fpm - 2200:22\n. @LarryEitel I think it was because both workspace and php-fpm are trying to use 22 at the same time, so doing port forwarding on different ports seemed to resolve\n. @LarryEitel so it'd be okay for me to remove port 22 from php-fpm?\nUPDATE: tried removing 22 from php-fpm, and updated workspace and still getting on the same error.\n. @ItaloBC @iredmedia I am having the same problem, it seems that one of the commits removed all the ENV commands from the mysql Dockerfile:\n8820501644bdfd7b763ce135b6381590cc7ea212. @amadeann typical setup for laravel project with laradock within the project per quick start guide\nAPPLICATION=../\nUPDATE\nI was able to fix this by rebuilding all the containers, something must have happened on initial build.. ",
    "david-perez": "This was fixed by 3a5100097ab0eb9144c385a1e516ac9a54077bdf\n. Modifying the volumes_data container so that the local db data is not mounted solves the issue i.e. in docker-compose.yml\nvolumes_data:\n        image: tianon/true\n        volumes:\n            - ./data/mysql:/var/lib/mysql\n            - /var/lib/postgresql/data\n            - ./data/memcached:/var/lib/memcached\n            - ./data/redis:/data\n            - ./data/neo4j:/var/lib/neo4j/data\n            - ./data/mongo:/data/db\n            - ./data/aerospike:/opt/aerospike/data\n            - ./data/sessions:/sessions\n            - ./data/elasticsearch/data:/usr/share/elasticsearch/data\nNow postgresql will start successfully.\n. ",
    "Plumillon": "NVM, was a config problem\n. ",
    "twlz0ne": "Still warning on my computer\n```bash\n$ docker --version\nDocker version 1.12.3, build 6b644ec\n$ docker-compose --version\ndocker-compose version 1.8.1, build 878cff1\n$ git log --format=oneline -1\n99fb1b41696aaeabcd7ab593ea559c27aa76b72e Merge pull request #474 from AliveCorpse/master\n$ docker-compose ps\n         Name                Command      State                     Ports\n\nlaradock_applications_1   /true           Exit 0\nlaradock_nginx_1          nginx           Up       0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp\nlaradock_php-fpm_1        php-fpm         Up       9000/tcp\nlaradock_workspace_1      /sbin/my_init   Up       0.0.0.0:2222->22/tcp\n$ docker-compose logs\nAttaching to laradock_nginx_1, laradock_php-fpm_1, laradock_workspace_1, laradock_applications_1\nphp-fpm_1             | [13-Dec-2016 08:45:18] NOTICE: PHP message: PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so' - /usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so: cannot open shared object file: No such file or directory in Unknown on line 0\nphp-fpm_1             | [13-Dec-2016 08:45:18] NOTICE: PHP message: PHP Warning:  PHP Startup: Invalid library (appears to be a Zend Extension, try loading using zend_extension=opcache.so from php.ini) in Unknown on line 0\nphp-fpm_1             | [13-Dec-2016 08:45:18] NOTICE: fpm is running, pid 1\nphp-fpm_1             | [13-Dec-2016 08:45:18] NOTICE: ready to handle connections\nworkspace_1           |  Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1           |  Running /etc/rc.local...\nworkspace_1           |  Booting runit daemon...\nworkspace_1           |  Runit started as PID 7\nworkspace_1           | Dec 13 08:45:18 d96ef80129b9 syslog-ng[14]: syslog-ng starting up; version='3.5.6'\n``.1.12.3` worked.. ",
    "Hajsen": "This also happened to me, seems to be related to symfony but couldn't find anything there. https://github.com/symfony/symfony/issues/17845\n. Found the error!!! You have to unmount sessions, you can do this easily with the help of kitematic by pressing remove and it will look like below. Would open a pull request for this but I am still a newbie with dockers.\n\n. ",
    "mbasfour": "It's working when laradock is not on c drive and it worked when tested on another drive.\n. ",
    "vocanic-saumini": "@francislavoie Thank you very much it worked.\n. ",
    "abenevaut": "For workspace container :\napt-get install -y libbz2-dev && apt-get install -y php7.1-bz2. ",
    "baddwin": "Hi @Mahmoudz , I'd like to reopen this issue, as I got another 504 error as well.\nI have a project that require Oracle database, so I build php-fpm version 5.6 and inside its workspace, I installed oci8 extension by docker-php-ext-install oci8. The installation has completely done, and no error. Then I restart the php-fpm container in order to oci8 extension is loaded. But I just got 504 error instead. Please help.. ",
    "pablorsk": "Solution:\nStep 1: Add fastcgi_read_timeout 480; to your nginx/sites/your_config_file.conf. You obtain something like this:\nconf\n    location ~ \\.php$ {\n        try_files $uri /index.php =404;\n        fastcgi_pass php-upstream;\n        fastcgi_index index.php;\n        fastcgi_buffers 16 16k;\n        fastcgi_buffer_size 32k;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_read_timeout 480;\n        include fastcgi_params;\n    }\nStep 2: Add this to php-fpm/laravel.ini\nini\nmax_execution_time=480\ndefault_socket_timeout=3600\nrequest_terminate_timeout=480\nStep 3: rebuild\nbash\nsudo docker-composer up --build nginx mysql. I work with @guduchango and we need your help :P \nThanks @philtrep!!\n. @mikeerickson, I solve the problem connecting with this data:\nIP: 192.168.10.10\nPort: 3306\nuser: homestead\npass: (check .env used file). @mikeerickson, if you stop mysqld service, docker work fine? (sudo /etc/init.d/mysql stop). Thanks to all!\nSummary:\n1- Add to docker-compose.yml\nports:\n    - \"3306:3306\"\n2- Configure your mysql client\n\n(data from .env file). Hi @Mahmoudz, I try downgrading MySQL to 5.7 and rebuild, but when up docker-machine I receive this:\nmysql_1                | 2017-07-15T00:19:55.135947Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2017-07-15T00:19:55.135989Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-07-15T00:19:55.136967Z 0 [Note] mysqld (mysqld 5.7.18) starting as process 1 ...\nmysql_1                | 2017-07-15T00:19:55.140067Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2017-07-15T00:19:55.140082Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2017-07-15T00:19:55.140085Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2017-07-15T00:19:55.140087Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2017-07-15T00:19:55.140089Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1                | 2017-07-15T00:19:55.140090Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2017-07-15T00:19:55.140362Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2017-07-15T00:19:55.140431Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2017-07-15T00:19:55.141434Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | 2017-07-15T00:19:55.146493Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2017-07-15T00:19:55.147771Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2017-07-15T00:19:55.158850Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\nmysql_1                | 2017-07-15T00:19:55.159021Z 0 [ERROR] InnoDB: Unsupported redo log format. The redo log was created with MySQL 8.0.1. Please follow the instructions at http://dev.mysql.com/doc/refman/5.7/en/upgrading-downgrading.html\nmysql_1                | 2017-07-15T00:19:55.159033Z 0 [ERROR] InnoDB: Plugin initialization aborted with error Generic error\nmysql_1                | 2017-07-15T00:19:55.759511Z 0 [ERROR] Plugin 'InnoDB' init function returned error.\nmysql_1                | 2017-07-15T00:19:55.759527Z 0 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nmysql_1                | 2017-07-15T00:19:55.759540Z 0 [ERROR] Failed to initialize plugins.\nmysql_1                | 2017-07-15T00:19:55.759541Z 0 [ERROR] Aborting\nmysql_1                | \nmysql_1                | 2017-07-15T00:19:55.759545Z 0 [Note] Binlog end\nmysql_1                | 2017-07-15T00:19:55.759618Z 0 [Note] Shutting down plugin 'MyISAM'\nmysql_1                | 2017-07-15T00:19:55.759639Z 0 [Note] Shutting down plugin 'CSV'\nmysql_1                | 2017-07-15T00:19:55.759943Z 0 [Note] mysqld: Shutdown complete\nmysql_1                | \nlaradock_mysql_1 exited with code 1. ",
    "sbarbosa115": "It works for me, thanks.. Changing version to 5.7 fixed me the problem too. \n. ",
    "proctar": "I'm not familiar with pull requests, and I don't have a fork/branch of your code.\nCan you just paste those few lines into your own code?\nPlease note: i've found that on internet somewhere, this is not my work.\nBesides this, I strongly suggest to comment out \"opcache.validate_timestamps = 0\" on dev machines, otherwise the Opcache is not refreshed when editing/saving dev files. Only use on prod server I guess.\n. ",
    "KikeMendez": "I'm having the same issue, i can not use gulp inside workspace all the rest of comands are working fine, Can you tell me how to fix it?\n. ",
    "Seros": "I just found a way for commands like docker-compose exec -T --user=laradock workspace bash -c 'npm-command'\nYou could to add the -i parameter to bash like docker-compose exec -T --user=laradock workspace bash -c -i 'npm-command' to make interactively inside the container and to load .bashrc. ",
    "ayaup": "docker-compose up -d nginx\nUnsupported config option for services service: 'phpmyadmin'\n #cdocker version\nClient:\n Version:      17.04.0-ce\n API version:  1.28\n Go version:   go1.7.5\n Git commit:   4845c56\n Built:        Mon Apr  3 18:07:42 2017\n OS/Arch:      linux/amd64\nServer:\n Version:      17.04.0-ce\n API version:  1.28 (minimum version 1.12)\n Go version:   go1.7.5\n Git commit:   4845c56\n Built:        Mon Apr  3 18:07:42 2017\n OS/Arch:      linux/amd64\n Experimental: false\n@cool14521  \u6211\u4e5f\u9047\u5230\u8fd9\u95ee\u9898\u4e86\uff0c\u6c42\u6307\u5bfc\u3002\u89e3\u51b3\u4e86\u5417\u3002\u6211\u4e5f\u91cd\u65b0\u5b89\u88c5docker\u4e86\uff0c\u4f9d\u7136\u4e0d\u884c\u3002\u3002\n.  docker-compose up -d nginx \nUnsupported config option for services service: 'php-fpm'. ",
    "johndiego": "Thanks @appleboy  =)\n. ",
    "kriskornel": "Hi @mjcriswell , On windows you instead of using docker-compose, type docker exec -it laradock_workspace_1 bash\n. I've same problem with npm install\n. Hi @danielsdeboer : \n1. Open your laradock/docker-compose.yml file\n2. Find phpmyAdminContainer  Setting\n3. Change volumes: - phpmyadmin into - phpmyadmin:/www/config.user.inc.php\n. ",
    "PonyTang3": "I didn't change anything of mysql. I just changed one thing '- INSTALL_MEMCACHED=true'. After I run the command \"docker-compose up -d apache2 mysql memcached\",there was no user 'homestead' in the user table.How can I make it works?\n. There is no such dir /var/lib/mysql on my host machine. @barnabas-szekeres \n. I rebuilt the mysql container and the problem had been fixed.\n. ",
    "barnabas-szekeres": "Same issue here.\n. This caused by wrong mysql scheme, so you should remove /var/lib/mysql files on your host machine. This directory mapped to MySQL container and create these filles.\n@Tang1024 can you confirm?\n. ",
    "ChitaGideon": "Hi @sc0Vu ,thanks for your help.\ndocker ps show there is no other container running.\nI try lsof -i TCP:443\nCOMMAND   PID  USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\ncom.docke 422 chita   28u  IPv4 0x7c85bacf055be923      0t0  TCP *:https (LISTEN)\nThen I don`t figure out how to find the app that use 443.\n. ",
    "Stubbs": "I have this issue too, but port 22, not 443.\n@ChitaGideon Looking at your output form lsof, it looks like you have another docker process running, the com.docker command, not necaserily another container, but something docker related.\nTo find out what, try this: ps axu | grep 422 (where 422 is the number in the PID column).\nHowever, when I try and run lsof -i TCP:22 I get nothing.\n. In my case it was because I'd enabled SSH on the host.\n. Bug raised against wrong repo ... \ud83d\udc4e \n. ",
    "mwwhitted": "I think I have the same issue, but port 80...\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (74f42259b85dfde5b6c133935b80bcce30eab2396bc48d2ae42def3f6258f64e): Error starting userland proxy: Bind for 0.0.0.0:80: unexpected error (Failure EADDRINUSE)\ndocker-compose ps\nName                        Command              State           Ports\nlaradock_mysql_1            docker-entrypoint.sh mysqld   Up         3306/tcp\nlaradock_nginx_1            nginx                         Exit 128\nlaradock_php-fpm_1          php-fpm                       Up         9000/tcp\nlaradock_volumes_data_1     /true                         Exit 0\nlaradock_volumes_source_1   /true                         Exit 0\nlaradock_workspace_1        /sbin/my_init                 Up         0.0.0.0:22->22/tcp\n. ",
    "michaeljhopkins": "I had this issue. My environment (host) is OSX with a full laravel dev setup previously installed on my host.\nRunning valet stop fixed it\n. as @brianvice suggested, nfs definitely speed things up. I used this project to enable nfs mounts on my Mac (technically a Hackintosh, but I'm not sure that's relevant). https://github.com/adlogix/docker-machine-nfs\nThe performance boost seems to be 13%. \n- Laravel/laravel from 283ms to 245ms. Blackfire delta\n- Personal project from 2s to 1.75s No blackfire delta because free plan only enables 1 share at a time\nWhen I had barryvdh/laravel-debugbar enabled on my personal project (2s) the page load spiked to 10s. The majority of that time being spent on two php functions fseek(~5s) and fgetc(~2s)  \n. Unable to implement. But very interested in having this available\n. ",
    "zhenqidong": "Found this is quite old, not sure if it has ever been resolved, I have the same issue today though.\nDocker version 1.12.6, build 88a4867/1.12.6\nno indication that 443 is used by anything else in the output of netstat and lsof\nno container at all\ndocker ps -a\nCONTAINER ID        IMAGE                    COMMAND             CREATED             STATUS              PORTS               NAMES\nerrors after trying to run a container:\n/usr/bin/docker-current: Error response from daemon: driver failed programming external connectivity on endpoint phs (67436f1d349b4dde3bf71b176b405e3bb80430e201955f92edf9abaad9155e57): Bind for 0.0.0.0:443 failed: port is already allocated.\nError response from daemon: Container 89877291b5198048164d9e34762e565e6c0a5cffd3dd1f5e449271d5b136e277 is not running  \n. ",
    "Kuzirashi": "I have the same issue.. ",
    "NunesClement": "+1. ",
    "hutber": "+2. ",
    "mickutz": "Same issue on port 443 over here.\nI actually had a container running that I'd killed at some point but never removed and popped back up after a reboot.. ",
    "Kevinlearynet": "This isn't an issue or bug with laradock, it just means that you're already running an instance of nginx on your machine and Docker isn't able to spin up a new one because the existing nginx is already consuming ports 443 and/or 80. Try this to stop the existing one:\nsudo nginx -s stop\nThen try again.. ",
    "lukasoppermann": "Hey @Mahmoudz is this possible yet?\nLooking through the docker-compose.yml could I just edit this\n```\nLaravel Application Code Container\nvolumes_source:\n    build: ./volumes/application\n    volumes:\n        - ../:/var/www/laravel\n\n```\nto\n```\nLaravel Application Code Container\nvolumes_source:\n    build: ./volumes/current\n    volumes:\n        - ./my_app/current/:/var/www/laravel\n\n```\nAnd add a new file to ./volumes/current with this:\n```\nFROM debian:jessie\nWORKDIR /var/www/laravel\nCMD [\"true\"]\n``\n. @philtrep doesn't this doe the same? As in remove everything and recreate it? I would like to just update the files.\n. @philtrep Thank you for your advise. I will try it out as soon as I get a chance. This sounds pretty sensible. Since capistrano automatically symlinks the latest release to current I can probably just make docker look into the current folder instead of/var/www/laravel` and as long as it is all on a volume it should work as well.\nHowever are are you sure the volume will refetch a new release from <host path to releases>/releases/:/var/www/releases? I mean, if I add a release to <host path to releases>/releases/ will it be reflected on /var/www/releases? \nAnd would I have to run this on the docker volumen?\n```\non volume or on the file system?\nrm /var/www/laravel\nln -s /var/www/releases/ /var/www/laravel\n``\n. Hey @Mahmoudz thanks. I got it solved now, thanks to @philtrep help. However for anyone trying the same, make sure to manually clean theopcache` if it is activated.\nCapistrano creates a symlink and opcache does not update the cache if changes happen through a symlink, so you need to clear the cache in an execute command. I recommend using https://github.com/gordalina/cachetool for this.\nYou also probably need to create a new symlink as capistrano creates an absolute symlink which points to the file on the server, NOT in the volume. However you can create a \"relative\" symlink in another execute command.\nphp\nexecute \"cd #{fetch(:deploy_to)} && ln -sfn ./releases/#{fetch(:release_timestamp)} ./latest\"\n. Yes, this seems to not be good, as opcache.revalidate_freq effectifly means it is revalidated in every request.\nopcache.validate_timestamps though would be good (and is needed if opcache.revalidate_freq is used).\nopcache.revalidate_freq sets the time in seconds at which the cached files are revalidated, however revalidation is NOT the same as compiling, it is not as slow as no opcache at all.\n. ",
    "marttosc": "@philtrep I have tried, but it doesn't work. I have commented the ADD ./laravel.pool.conf /usr/local/etc/php-fpm.d/ line from Dockerfile and then it works.\n. ",
    "eodin": "There is 'docker-php-ext-install opcache' used.\nAccording to https://github.com/docker-library/php/blob/master/docker-php-ext-install it runs docker-php-ext-enable\nhttps://github.com/docker-library/php/blob/master/docker-php-ext-enable make a decision \nif nm -g \"$module\" | grep -q ' zend_extension_entry$'; then\n        line=\"zend_extension=$(readlink -f \"$module\")\"\n    else\n        line=\"extension=$module\"\n    fi\nFor example my test environment\n$  nm -g \"/usr/lib/php/20151012/opcache.so\"\nnm: /usr/lib/php/20151012/opcache.so: no symbols\nI think script return 'extension=opcache' instead of 'zend_extension=opcache'. ",
    "aconital": "I'm getting the same error. I tried commenting out ADD ./laravel.pool.conf /usr/local/etc/php-fpm.d/ but didn't work\n@eodin Do you mind explaining abit how that can be fixed? . I solved this by changing ~/.laradock/data/mysql to ./data/. @Alexanderwmc did you manage to fix it by any chance?. ",
    "vivekb-connvrtx": "thanks for the reply mahmoud. I figured it out though and the thing \nseems to run fine. You did a great job though.\nOn Saturday 24 September 2016 12:16 AM, Mahmoud Zalt wrote:\n\n@vivekb-connvrtx https://github.com/vivekb-connvrtx that's normal \nbecause PHP-CLI is different than PHP-FPM (Web) and since each one is \non its own container that might case code running on one but not the \nother. Just make sure all the changes (extensions, configurations, ..) \nyou did to the PHP-CLI are also on the PHP-FPM container. Best\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub \nhttps://github.com/LaraDock/laradock/issues/326#issuecomment-249272284, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AVQYZy-oSG803cj31ltTjONbsti3R1-Mks5qtB6AgaJpZM4KD22t.\n\n\nBest Regards,\nVivek - Programmer Analyst\n. ",
    "cassiohalmeida": "I can't view laravel in the browser too.\nI did : \ndocker-compose up -d nginx mysql\nThen, type 'docker ps' : \nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS              PORTS                                      NAMES\n813af2523d70        laradock_nginx       \"nginx\"                  26 hours ago        Up 30 minutes       0.0.0.0:80->80/tcp, 0.0.0.0:443->443/tcp   laradock_nginx_1\n31b9f5fd1d4c        laradock_php-fpm     \"php-fpm\"                26 hours ago        Up 30 minutes       9000/tcp                                   laradock_php-fpm_1\nadfa7afb5cdb        laradock_workspace   \"/sbin/my_init\"          26 hours ago        Up 30 minutes       0.0.0.0:22->22/tcp                         laradock_workspace_1\n7f1ec22d2fc7        laradock_mysql       \"docker-entrypoint.sh\"   26 hours ago        Up 30 minutes       0.0.0.0:3306->3306/tcp                     laradock_mysql_1\nWhen I try to acces localhost, nothing happens ( i tried with container IP too ) and i get \"localhost is currently unable to handle this request.\" in the browser.\nI dont know what to do. Maybe add some config in my hosts file? Maybe the bind IP is wrong?\nIf someone could help me, i appreciate :dancer: \n. ",
    "chrisgbrown": "You need to link your Spark account to your Github Repo so that you can access the private Spark Repo.. ",
    "ArtisanTinkerer": "I am also stuck on Windows 7 and want to use the latest version of Laradock, is there any reason why it wouldn't work with Docker Toolbox? Thanks.. Did you resolve this? I am getting a similar problem.. Just used the newest reason, seems to work OK.. ",
    "guduchango": "@philtrep  muchas gracias, funciono muy bien.\nSaludos\n. ",
    "shankargiri": "I still have issue connecting to Heidi : \nI used the following:\nIP: 172.20.0.2 . This is the ip of my mysql container ( I even tried with 127.0.0.1) \nU:homestead\nP:secret\nport: 3308( I forwarded the port ) 3308/tcp, 0.0.0.0:3308->3306/tcp \nOnce I am in the mysql_container, I can login into the mysql but I need to connect to tools like HEIDI. \nI am on Windows 10\nMore details about network status: \ndocker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\n67dcb3b92484        bridge              bridge              local\nc7b8715e0042        host                host                local\n8ba343a738ae        laradock_backend    bridge              local\n259346d7fc9a        laradock_defaultbridge              local1e1038442234        laradock_frontend   bridge              locala3c5e5c41230        none                null                local`\nWhen I inspect the laradock_backend network:\ndocker network inspect laradock_backend\nI can see all my containers are connected to laradock_backend\nbut network laradock_frontend is only connected with nginx and workspace containers.. ",
    "winfried-van-loon": "Sorry to take so long to respond, I lost the issue in the many open issues and lack of time.\nWe've documented connecting from host to the mysql container here:\nhttp://laradock.io/documentation/#mysql-access-from-host\nAssuming you're using a recent version of Laradock and the default configuration, this comes down to the following.\n\nHost: 127.0.0.1\nUsername: root\nPassword: root\nPort: 3306\nSource in the env-sample file\n\nAn application user is created as well, make sure to give that user the proper privileges, like select, insert and whatever you need. Then, you can use (again, using the default configuration) the following.\n\nHost: 127.0.0.1\nUsername: default\nPassword: secret\nPort: 3306\nSource in the env-sample file\n\nFrom within a container, like php-fpm, you can use the mysql socket, rather than an IP address. The IP addresses change a lot when building and/or when using multiple Laradock instances. \nHopefully this information helps you to solve the problem. If you're still experiencing this issue, feel free to let us know. \ud83d\udc4d . @tsygankov Hi, if you've found the source of the issue, please let us know. \ud83d\udc4d  Until new cases of this issue appear of new information is provided, I'll close this issue again as it seems to be related to something else than Laradock.. Closing this issue as I assume it has been fixed. Feel free to leave a comment if it's not fixed or if you've got any unanswered questions. \ud83d\udc4d . Is there any update on this subject? I think this is very cool stuff and would like to see it happen! \ud83e\udd47 . @ganlub Your solution was merged into the Dockerfiles in #788. Thank you for the suggestion. Will close the issue now, however if your issue is still there, please reply and we'll look into it, again.. @gagarine Hi, is there any update on this? \nWould be cool to get it working as Docker for Mac is still really slow. Even though they're working on fixing it, it may take a while longer until it's \"fast\".. @nckrtl I may have two possible solutions you can try.\nThe first is stopping any webserver you've got running on your mac. They may be inside any application you've got installed. Visit http://localhost and try to find out what gets served. \nNote that MacOS has an Apache webserver installed by default. Use the following commands to stop it:\nsudo apachectl stop\nor\nsudo apachectl -k stop\n\nThe other possible solution:\nIf you have no other Docker containers running other than Laradock, you may try the following. \nDocker has this cool \"Reset to factory defaults\" option, as shown below.\nPlease, be aware that this will remove all your containers, volumes. For example, databases within the docker containers. Make backups and export important databases if needed.\n\nIf possible, could you try resetting your Docker, then try cloning Laradock to a fresh directory on your Mac and try if the issue is still there? We've done a lot of enhancements and changes to Laradock since the issue was opened.\n. This pull request has been picked up in #933, which should add the LDAP functionality. Therefore, I'm closing this pull request. Thank you for submitting the pull request, it helped creating #933.. @akajack It has been a while, hopefully that means your issue was resolved. If you're still experiencing this issue, please feel free to let us know in a comment.\nClosing this issue for now. \ud83d\udc4d . @lisabonde Please, copy the env-example file to .env. Within the .env file, you can then set your preferences on what features you want Laradock to contain. Without the .env, you'll get these errors. \nOn Linux and MacOS:\ncp env-example .env\nSource: http://laradock.io/ Step 2\nIf you've still got an issue, please open a new issue, as this issue has been closed and won't be read that much.. @harryhan24 In #865, JakeYim said his docker-compose was outdated and that caused the same errors. Could you check your version?. Yep, these errors are almost always caused by the dotenv file within Laradock. Follow the steps in the documentation: http://laradock.io/getting-started/#usage (step 1). This issue should have been fixed in #933. \ud83d\udc4d\nIf you're still experiencing this issue, feel free to let us know by leaving a comment and we'll reopen the issue.. This issue seems to be fixed in #732, so I'm closing this issue. However if you're still experiencing this issue, please feel free to let us know in a comment. \ud83d\udc4d . Within the dotenv file, you can still use the MARIADB_USER user and password. I'm having the same issue with the root user. There seems to be a problem in the config file: https://github.com/laradock/laradock/blob/master/docker-compose.yml#L207. @Mahmoudz I'm afraid it was only part of the solution, with the fixes included I wasn't able to actually connect. Could you give it a try?. Well, the \"default\" user does work (just the root user that can't login), so I doubt it's in the network or connectivity of the volumes. I've checked the docker-compose.yml for related issues, haven't found any. Good idea, though!. May be related to https://github.com/docker-library/mariadb/issues/21 and a possible temporary solution could be to reset the root user password until we find the real problem & solution: https://github.com/docker-library/mariadb/issues/99. You're right. After removing everything, it worked. Apparently I didn't remove everything in my last test. Thanks for your help @vitoo . This doesn't seem to be the only problem. Using this fix, still not able to connect.. This may be a duplicate of #736 which wasn't fully fixed.. It didn't work for me as well. However, I've just now completely removed all of my Docker stuff: Images, containers, volumes - everything. Docker for Mac has a handy \"Reset to factory defaults\" button, which does that process automatically. I've then used the following command to bring up Apache2 with MariaDB:\ndocker-compose up -d --force-recreate --build apache2 mariadb\nWhich worked. (with a bunch of warnings, will put in some more pull requests in the future for those.) After which, I could connect to the database using root and default on both MySQL directly and MySQL over SSH (workspace).\nIt shouldn't be a Windows thing, it should work everywhere or nowhere, I think.. Yep, the \"Reset to factory defaults\" was to test more than just the single test, as well. :) It was, however, a perfect time to test things as it was a \"fresh\" docker install.\nMariaDB comes with two users. One user to admin the server. By default has access to everything and all commands. Username is root, within the env-sample you can set the MARIADB_ROOT_PASSWORD to the password, defaulting to root.\nThe other user is the \"application\" user, the one you can configure Laravel to use. Username is set to MARIADB_USER, password to MARIADB_PASSWORD. Make sure the user has access to the database in question and use the FLUSH PRIVILEGES; command after changing rights. Should work then - at least, it does for me.. Have you updated to the latest version of Laradock? It may have been already fixed in commit 585baf06. Okay, perhaps try the following things. \n\nTry to switch out what happened on commit 585baf0. Debug a bit, see if some of the variations are working\nCheck if the /var/log/nginx/error.log file exists. See if it has unexpected file rights, file owner or group.\nCheck the same for the parent directory. \nTry removing the whole error log file. And/or the folder. Or create them, if not existing. Try creating the directory then the file itself.\nTry updating the Docker compose file and/or the relevant Dockerfile settings. The error has to come from somewhere.\n\nSorry to have to say I haven't got time to try these things for you at the moment. Perhaps in the weekend, if I can find the time time. Having said that, I'm not an expert at these things myself: may not be able to fix it, either. Just try, see if you can debug the issue yourself, get more information about the problem or even fix it yourself until contributors/members and others can. \ud83d\udc4d  Good luck!. Closing this issue for now, if your issue still persists after updating to the latest version of Laradock, please let us know and we'll look into it.. Haven't tested, but let's assume for now that the merge fixed it. \ud83d\udc4d . Confirmed: this has been fixed.. There's a separate issue open for the PHP version within the workspace: #776. Linking everything together so we can find all the related issues when the solution is available.. @mikeerickson Yeah, I can imagine. I haven't had the time to test them all yet myself. Currently I'm at work, so haven't had the time yet to write proper descriptions.\nAll but two have a related issue number in the pull requests, which contain the related discussion. Most of the pull requests are in existing code and don't have many changes each. At a later time, I'll do more testing and write a better description to the open pull requests.. This issue is waiting on laradock/workspace#15\nUpdate: Not anymore! \ud83d\udc4d . Solved in base image (requires upgrade and re-build). \ud83d\udc4d . It looks like the mirror was down for you at the time of posting. It seems to be up from my location right now. Could you try again?. Great news! As it does not happen for everyone, I don't think it's necessary to pick this up in a pull request, unless it happens more. Thank you for reporting the issue!. Cool, this looks like it may just fix #747 \ud83d\udc4d . There's a separate issue open for the PHP version within the workspace: #776. Linking everything together so we can find all the related issues when the solution is available.. Yep, this is working. Laradock is now using PHP version 7.1 by default, which can be changed in the dotenv file. All workspace arg options in the dotenv can be enabled safely, except these ones:\n\nWORKSPACE_INSTALL_AEROSPIKE_EXTENSION -> Issue #855\nWORKSPACE_INSTALL_INSTALL_V8JS_EXTENSION -> Issue #792\n\nIf you experience any issues, feel free to let us know!. Hi! First of: If you've got a huge code block like above, don't just use one `, use three of them. It'll look like this: a lot more readable.\nTest\nThen about your issue itself. Have you followed the steps in the readme? In step two, the .env file is created. Without this file, you may get this error.. That sounds great! Idea's like that can really help improve already good projects.. Hi Bestlong, it's a bit depending on the PHP version. Within PHP5, MySQL was deprecated and removed in PHP7. If you want to use MySQL in PHP5, be sure to switch to that version of php-fpm. For PHP7, I'd recommend using MySQLi.. After checking, I've got the same issue now. I'll look into it in the weekend.. We could remove the INSTALL_MYSQL option, merging it with the INSTALL_MYSQLI option. When using PHP_VERSION 56 with INSTALL_MYSQLI enabled, we could automatically install the MySQL extension, along with the MySQLi extension. For 70 and 71, we would never install it. That way, we wouldn't be displaying an deprecated/removed PHP feature. \nIt could, however, pose a bit of a usability issue: Users may not know that MySQLi also installs MySQL and may think it's not available.. @suncoastkid Just tried the exact command, it's working for me. To investigate further into this issue, we need some additional information.\nDo you have the latest Laradock version, what kind of Docker version do you have, that OS and are you still experiencing this issue? Have you changing any of the dotenv file preferences?. It's possible your Docker installation is outdated. The error suggests it wouldn't accept this syntax: ${variable_name} which has been around for a while now. Please, check your Docker version. If that's not it, pull the latest version of Laradock in the master branch. If you are still experiencing the issue, please do not hesitate to let us know and we'll reopen the issue.. Would be quite awesome to have a Laracasts-like video added to the Laradock documentation showcasing how Laradock works. \nI think the challenging part, to an official video, to keep it short (1-3 min) and interesting while being able to show what Laradock can do and why it's so cool, which basically comes down to:\n\nIt should be an introduction video, not replace the docs\nShouldn't be too specific, as the video shouldn't get outdated too quickly\nShowcase different environments (Caddy, NGINX, Apache2)\nTo use in production and development\nShow the workspace functionality\nInvite viewers to send in issues/pull requests. To have all information in a single issue: There are video's showcasing Laradock, made by Mahmoud Zalt as well. A link to the latest version: https://www.youtube.com/watch?v=TQii1jDa96Y. We're totally in agreement, it would cost many hours. \nWhen we have the time, we'll discuss it more then \ud83d\udc4d . To fix this, I've opened a pull request in the Workspace container: laradock/workspace/pull/15 However, I'm not sure how to test my changes. \n\nThis issue is related to: laradock/workspace#8. Sadly I'm a bit stuck as I don't know how to test the base image and how to get it on Docker Hub. Details are here: laradock/workspace#15 . Interesting! I'll try it soon and report back here. Thanks!. Yep! Had to finish https://github.com/laradock/workspace/issues/8 to be able to get to these points. Now that that's done, today or tomorrow, this issue and the thee similair issues will be fixed. . It's good to see Laradock being using in production and combined with docker-machine. We're always open for suggestions and enhancements for Laradock. Feel free to keep us updated if you've got any news, questions or if you've still got the same issue. \ud83d\udc4d . Closing this issue as either the solution by @bestlong or my pull request #781 should have fixed this issue. However, if your issue is still there, please reply and we'll look into it, again.. Something went wrong while merging master into pull request. Will close this one, open a fresh one.. No, these fixes are not related to any issue at the moment. They only merge the existing options in Dockerfile-70 into Dockerfile-71.. I'm running tests on the merged changes now, will then run tests on this issue's changes.. Okay, this shouldn't lead to additional warnings or errors. (tested). Something went wrong while merging master into pull request. Will close this one, open a fresh one.. Okay, I've done some research. In the workspace container, when looking in the following folder: /etc/php/7.0/cli/conf.d/, these (relevant: ls | grep soap) files are installed:\n20-soap.ini\n; configuration for php soap module\n; priority=20\nextension=soap.so\n40-soap.ini\nextension=soap.so\nThis'll load the extension twice, I assume. I'm however not sure what happened that this warning is now being displayed.. Will check within the hour and get back to you. . That's working, thanks! \ud83d\udc4d . Hi @qZzQ1! \nDo you have the latest version of Laradock cloned? Many fixes where implemented yesterday, your issue may already have been fixed.\nMake sure to rebuild the containers, like so:\ndocker-compose up -d --force-recreate --build apache2 mariadb\nFeel free to replace apache2 mariadb with the containers you'd like to build, of course.. Great news! Enjoy Laradock! \ud83d\udc4d . Isn't Vi available within the containers? While I know that Vim is a lot friendlier to work with, compared to Vi. However, is it really necessary to install Vim in the containers: how often do you actually use Vi or Vim within a container (other than Workspace) and wouldn't it be as easy to just run apt install vim?\nI don't think it's a bad idea - just wondering if it would be used within containers other than Workspace.\nSpeaking of plugins: Would be cool to have a default collection of plugins, something like https://github.com/carlhuda/janus Should give a number of plugins while keeping it maintainable.. After testing with a clean Docker installation, I've got the following results.\nE: Unable to locate package vi\nvim is already the newest version (2:7.4.1689-3ubuntu1.2).\nLooks like your request is already a reality! \ud83d\udc4d \nOf course: if I'm missing anything here, please let me know and feel free to re-open.. I... only tested the Workspace70, not the others. Could be an unfair test. More to come.. To test it for workspace php56, we would need to have workspace php56 working in the first place. Related to issue #748 which is waiting on issue laradock/workspace#8 and pull request laradock/workspace#15. Okay, after doing some research, I found this line:\nhttps://github.com/laradock/workspace/blob/1.3/Dockerfile#L59\nCurrently, Laradock uses Workspace 1.3, which means that laradock/workspace with tag 1.3 is active, which always contains Vim. Future versions (1.4, 1.5 and the open pull requests) don't remove Vim either, so I'm not sure why your Workspace can't find Vim.\nNot closing this issue as the discussion (about adding Vim to other containers and including plugins to Vim, as @zeroc0d3 suggested) is still open.. @mikeerickson @thorerik @bestlong The build process seems (I could be mistaken) to be functioning perfectly right now. Is this issue still open/accurate?. Excellent idea, in my opinion. There is, as you've pointed out, a lot of duplicate code. Fixing that would make it more maintainable as well.. (off topic) For the react app, #553 could be interesting as well.\n(on topic) I really like this discussion. We should implement it sooner rather than later, I think. Would mean a lot less maintenance, as well. However, we should not lose the aspect that makes Laradock pretty cool right now, the workspace functionality. We can still merge it into the php-fpm container and make it args, prefixed with WORKSPACE_ or DEV_ or something.. Should this be changed in the relevant files or should this information be introduced into the Laradock docs?. After some consideration, and taking into account that Laradock should be simple to use (it should \"just work\"), I've added it in both the docs and the Dockerfile in question with the explanation included.\nAdminer seems to release a new version monthly, it's possible it'll be fixed in just a few weeks, but in that time, more people may come across this issue. . @at-tienpham Change localhost to mysql like so:\n$servername = \"mysql\";\n$databasename = \"default\";\n$username = \"root\";\n$password = \"root\";\nThat should work if the mysql container is running. You can check that with the docker ps command.. Should be fixed now, let us know if you've got other suggestions! \ud83d\udc4d . To check what was going on, I tried to change the same variables as you have. Strangely, I did not come across the issue you've described. Here's what I did.\n\nUsed a fresh Docker installation on a mac\nCopied env-sample to .env\nSet PHP_VERSION=71 to PHP_VERSION=70 to use the version you've mentioned.\n\ndocker-compose up -d --force-recreate --build nginx mariadb\nWith those settings, when running the previous command, the phpinfo() shows, as expected, that display_errors is set to Off.\n\nChanged laravel.ini to have display_errors=On\nChanged php70.ini to have display_errors = On\n\nWith those settings, when running the same command, the phpinfo() shows that display_errors is set to On. I've included a screenshot below.\n\nTo resolve your issue, I would suggest the following.\n Try the command I've used above to build and recreate everything if needed\n Make sure to have the latest version of Laradock\n* Clone a fresh version of Laradock and follow the steps I have above and see where you get different results\nFeel free to comment here if you've resolved the issue or are still having problems. Good luck!. Hey, that's great news! Enjoy Laradock! \ud83d\udc4d If you've got any other issue, feel free to let us know.. Should be fixed now, thanks for the research! \ud83d\udc4d . Perhaps the port is already being used by another application?. This should just work. For the NGINX container, it looks for the public directory, for the Apache container, it does not. It should either be both looking for the public directory, or both not looking for the public directory.. This should have been fixed in the #850 pull request. If you're still experiencing this issue, let us know. \ud83d\udc4d . Closed as duplicate to #861. Clicking on buttons is hard, today. This pull request was in the wrong repo. New pull request with the same changes can be found here: #854 . I should learn to push to the correct repo's. New and correct pull request can be found here: #857. May not be a Laradock issue, there is an open issue about this in the Aerospike repo:\nhttps://github.com/aerospike/aerospike-client-php/issues/118. Should be fixed now by #906. However if you're still experiencing the issue, feel free to leave a comment.. I think this is a good idea. Supporting more languages will make it easier to use Laradock for more projects and larger projects. It may also be a step in the right direction when it comes to getting Laradock ready for production. I would think this would be best placed in the php-fpm/workspace containers.\nHowever, it may also add some time to the building process. It wouldn't need to change often, therefore, we may want to consider move this change to a base image.. This could be the same issue as mentioned within #864 \nEdit: It's not the same issue. I'm not quite sure what the exact purpose of the applications container is other than connecting the application to the containers and if existing with code 0 is intended behaviour or not.. Without a doubt, we should fix that. However, there may be another issue, as when I try to reproduce that issue, I'm getting an warning, not an error.\n[Warning] One or more build-args [INSTALL_MC INSTALL_V8JS_EXTENSION INSTALL_LARAVEL_ENVOY INSTALL_LINUXBREW INSTALL_DEPLOYER YARN_VERSION INSTALL_SOAP] were not consumed. Should be fixed now \ud83d\udc4d Let us know if you're still experiencing issues.. Moved to #895. Creating the dotenv file is a required step. What OS are you using? Try simply copying the 'env-sample' file to a new file called '.env'. \nEdit: After watching the video, my comment is useless. My apologies.. Interesting! Thanks for updating us with the solution you've found.. If you're using the mysql container, you can do the following:\n```ini\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=laravel\nDB_USERNAME=root\nDB_PASSWORD=root\n````\nFor MariaDB, its similair:\nini\nDB_CONNECTION=mysql\nDB_HOST=mariadb\nDB_PORT=3306\nDB_DATABASE=laravel\nDB_USERNAME=root\nDB_PASSWORD=root\nThis is because the php-fpm container and database container are not on the same machine. Therefore, 127.0.0.1 or localhost won't work. You could lookup the container IP, however just connecting by the socket name like above works fine, most of the time.\nTo connect to mysql from your host, see the docs: http://laradock.io/documentation/#mysql-access-from-host. Right, then I misunderstood the question.. Should be fixed now \ud83d\udc4d Let us know if you're still experiencing issues.. My bad, seems there wasn't a 1.8 tag yet for the versioned fixed in #860. They're added, now building and should soon be usable.. Ok, this should be fixed now! Let us know if you've still got this issue, then we'll reopen it.. Also, before merging, we may want to upgrade the sqlsrv version as mentioned in #843 to avoid that error recurring. This is related to #882 and #883.. Yep, that's open issue #792, not quite sure what to do about that, to be honest. Thanks for the updates to the pull request, will look at your changes very soon.. Is this issue related to #809?. Just to be curious: Why is this check failing if it should fix it? My knowledge of Tavis is very limited.. Looks great, thanks for the update! \ud83d\udc4d . Hi there! We very recently changed something with the paths (#850), I think there is an issue in there. \nFirst of, could you check the Laradock .env file's application path? By default it should be:\nAPPLICATION=../public/\nI can't seem to reproduce the issue in the nginx container. Could you try the following command to rebuild the containers if they need rebuilding and try if the issue is still there?\ndocker-compose up -d --force-recreate --build nginx\nIf the issue is still there, could you check if you've got the latest version of Laradock and if so, could you paste the command you're using to up the containers and the non-default settings of the Laradock .env file?\nThanks!. I think there's an issue in #850, will push a solution in about three to five hours from now. Thanks for reporting!. Not yet, but I think I know how to resolve the problem either way. I think the webroot isn't correct. I would test it right now and push it but my macbook has ran out of power and there's no power outlet nearby. Will report back soon. . Okay, those changes should fix it! It'll be merged sometime after the testing process is completed.. If you've still got the issue, let us know! \ud83d\udc4d . I was trying a new editor and kind of rushed these few commits due to the lack of time - I checked the functionality, but never the MD contents in much detail - I think my new editor has a mind of it's own! Well spotted, will fix it!. Travis is failing on MsSQL (no issue created, yet) and Aerospike (#855). It's better than it was before, anyway.. Should this security measure not be enabled by default?. I think this is a duplicate of #855?. Should be fixed now by #906. However if you're still experiencing the issue, feel free to leave a comment.. Looks good! \ud83d\udc4d . This isn't a simple task to completely research and write proper documentation for. I don't have the time to research this one for now, I'll unassign it for now. Feel free to pick it up if anyone has the time. I'll drop a comment here when I can find the time again.. Thank you! I'll give it a try soon and add it to the docs if it works. This seems to be a duplicate to #892, if I'm interpreting this correctly.. Sadly, the Aerospike issue #855 isn't fixed by this pull request. Nevertheless, it's an excellent idea to upgrade to the latest version available.\nInstalling shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/\n\u001b[91mPHP Fatal error:  Cannot redefine class constant Aerospike:: in Unknown on line 0\n\u001b[0m\u001b[91merror: /usr/src/php/ext/opcache/opcache.so does not exist\n(from the Travis CI logs of 71 container). This is a simple, yet great addition. Thank you!. I'm not quite sure why Hugo is failing, however the other issues seem to be resolved.. Nice! Build is now passing! Well done!. Duplicate of #908. Issues #773 and #616 are about this subject as well. . Thanks! \ud83d\udc4d . Thanks! Great additions \ud83d\udc4d . As with all dotenv settings, they are easily enabled if needed. Therefor, I would suggest keeping to the way we've got all settings available now.\nI do like the option of having opcache available. It does speed up certain projects. However, in my experience, sometimes it's a bit hard to keep track of what's cached and what's not.. We could, however, add in the options in php-fpm/opcache.ini. You got it! Will look into it when I can make the time.. Well, I've confirmed the bug and there's not much I can do, sadly. It was added in #673, it works, however it does only use a predefined PHP version, it seems like.\ndocker-compose exec php-worker bash\nPhp worker's base image can be found here: \nhttps://hub.docker.com/r/nielsvdoorn/laravel-supervisor/\nI'm not sure if there are any image ARG's we can set for this base image (or its parent) to change the PHP version - I'd assume so, but I can't find docs for it anywhere for that base image.\nAlso, our docs are outdated as well:\nhttp://laradock.io/documentation/#run-laravel-queue-worker. Sounds like a great plan! \nWe've got a good discussion going about a CLI feature here: #487 . Let me start by apologizing for the late answer. \nIt may ask for a password as the workspace SSH keys (supplied in Laradock) is not protected properly, it needs to have certain rights, something like chmod 400, I believe.\nIt seems this isn't properly documented, we should update that.\nRelated info here, as well: http://laradock.io/documentation/#access-workspace-via-ssh \nA related issue can be found here: laradock/laradock#426. Hi there! Great to see you again. Thank you for taking the time to write documentation for Laradock. Would like to append the updated documentation to the docs. \nI do have a question though: There are a lot of uppercase characters in the texts: Would you mind changing them to lowercase to improve the readability?. Hi there! That sounds like a great idea. Thank you in advance!. Thank you for looking up that much information about the subject! Would you be kind enough to submit a pull request? That way, the credits go to you, as well. \ud83e\udd47 . Hi there @codeitlikemiley! That sounds like a great idea: I'd would like to see Spark supported in Laradock. Thanks in advance.. I'm not sure if it's part (or the cause of) the problem, however those \" symbols look strange there. Could it be the cause of the issue?. Related issue: #1004. Related issue: #1004. This seems to have been fixed in #1032 by #1035 and #1033. The error does not happen anymore. Good news! Credits go to @bestlong \ud83d\udc4d . This seems to have been fixed in #1032 by #1035 and #1033. The error does not happen anymore. Good news! Credits go to @bestlong \ud83d\udc4d. @bestlong As you have a lot of knowledge about this subject, would you mind reviewing this pull request? #972. There's a hint in the screenshot:\n\nIs another postmaster already running\n\nPerhaps another is already running - Could that be the explanation for postgres not working?. Currently, Laradock uses fenglc/pgadmin4, which you may edit in this file. After giving it a quick look, it seems that repo does not have the 1.5 pgadmin yet. There are alternatives available, such as chorss/docker-pgadmin4 which do contain that version. . 1.5 is now available in fenglc/pgadmin4 which will now be the default when building. That should solve the issue!. Thank you!. Will look at the issue soon. We have busy lives ourselves as well, yet a month is very long to wait for a response, indeed.. This may not be needed. The INSTALL_MSSQL looks great here. It should however be added on the following places to integrate it into Laradock, to be able to use it:\n\ndocker-compose.yml in the workspace > build > args section.\nenv-sample in the containers customization > workspace section.\n. Version of these should be increased. Version of these should be increased. Version number change reference. Or we should lower this to stable, now that I'm looking at it. . Could add suggestion to change information within the dotenv file in the future, however it's not necessary for now, I agree.. \n",
    "zlanich": "I struggled with this for quite a while too, so to add a tiny bit of clarity for those still stumbling on this, here's everything I did:\nMy issues:\n- I had a port collision (like @mikeerickson) on 3306\n\nRunning SequelPro on Mac\nRunning nginx, mysql, php-fpm, workspace currently\nAdded the following to laradock/docker-compose.yml:\n```\nports:\n\"3308:3306\"\n```\n\n\nRan docker-compose build --no-cache nginx mysql\n\nHere's what tripped me up (not knowing Docker very well):\nBy default, the docker-compose.yml file is set up like so:\nports:\n    - \"${MYSQL_PORT}:3306\"\nso it seemed to me like I need to leave the ${MYSQL_PORT} part alone and change the 3306 part. It's actually the other way around (just like @mikeerickson did). Semantically, it didn't make sense to me, so I had it backwards for a while until I found this thread.\nGood luck to all!. This article was helpful to me too: http://webandapp.fr/blog/2017/09/where-is-my-database-host/\nAfter updating Docker recently, by \"Docker\" setting in PHPStorm no longer worked and I realized that the docker-compose setting is supposedly the preferred one and works.. @rodion-arr Wouldn't YOUR_LOCAL_IP_ADDRESS change all the time if you don't have your computer's networking settings set to static? I work on a laptop and jump on wifi all the time. There is so much unclear documentation in these issues right now for this PHPStorm issue, so I've spent hours rebuilding with no success. \nSome guides say you need to use ssh-related configuration too to get this working, some don't. I'm so confused!\nSome say use xdebug.remote_host=dockerhost instead of xdebug.remote_connect_back=1\n@dmz9 Says to remove xdebug.remote_handler=dbgp\nCurrently running OSX High Sierra. Someone help me! :(. @jeff-h What is php-fpm-services? I don't have a container with that name, nor do I see any reference to it in the docs or laradock folder structure.. @jeff-h Your config worked! Holy cow! That docker.for.mac.localhost was the magic ticket. I wish I understood the networking aspect of all of this better so I could help write documentation. I think I've probably spent at least 10% of my time as a developer just trying to get XDebug in PHPStorm to work :joy:. No problem. This is the first time I've used Docker, but I've had my fair share of seemingly endless struggles getting PHPStorm + XDebug working over and over again lol. As I'm putting all this together, I'm eventually going to go back into the Laradock issues and post my found solutions on any of the relevant threads so other Mac users can hopefully benefit.. Changing version to 5.7 fixed mine too.. @naughtyjoint's answer also fixed mine.. ",
    "dcnl1980": "I will work on this one, because I also need this in one production environment. I will post the updates to my gitlab so other developers can also put some code in this one. \n. @philtrep To fix the timezone in the container, I did the following:\n\nchanging the timezone (in the above link) in docker-compose.yml\nstop and rebuild the container (docker-compose up -d)\n\n. ",
    "outakukou": "you need to stop workspace at first\n$ docker-compose stop\nthen you try to build again once\n$ docker-compose build  workspace\n. ",
    "geocine": "Hi guys thank you for all the responses. For some reason I was able to make this work by changing this line\nhttps://github.com/LaraDock/laradock/blob/master/workspace/Dockerfile#L153\nfrom\nbash\n. ~/.nvm/nvm.sh && \\\nto \nbash\n. $NVM_DIR/nvm.sh && \\\n. @philtrep can you verify if its a bug? I was thinking it was an isolated case on my machine, because I did not see any open issues.\n. I am also experiencing some issues on Windows 10 using Docker Toolbox. I am not sure if this is directly related to this container or Docker, or Docker Toolbox per se. \nI have hosted a basic dingo api on my Windows 10 Docker Machine using the following stack:\n- php-fpm php7\n- nginx\n- redis\n- mysql\nAverage time for requests  to complete is 1.5 seconds. Even for basic authentication requests\nI have hosted this on a non-powerful VPS and is geographically far from my region. It sits on a different continent. I am using this stack:\n- php5.5\n- apache2\n- mysql\nAverage time for requests to complete is 300 ms\n. ",
    "callect": "@philtrep yes , l can connect to database directly from MySQL container\nMy docker-compose.yml had already write the ports code in mysql section ,then I try some steps:\ndocker-compose build  --no-cache workspace\ndocker-compose down\ndocker-compose up -d nginx mysql phpmyadmin\nbut my phpmyadmin not work all the same!\n. @Mahmoudz ok,it's solved,thank you.\n. @canhkieu I have same issue, did you solved it?\n@cre8 Hi,how to solve with top domain?. ",
    "imam": "Hello,\nI don't know why but this error still happened to me, I got SQLSTATE[HY000] [2002] Connection refused even though I'm pretty sure I got everything right. The ports already set, I can login to the mysql, database information is correct, the only thing I change from current release is NGINX port and the laravel code volume. I'm not sure what am I doing wrong.\nThanks.\n. Exception\n``\nPDOException in Connector.php line 119:\nSQLSTATE[HY000] [2002] Connection refused\nin Connector.php line 119\nat PDO->__construct('mysql:host=127.0.0.1;port=3306;dbname=homestead', 'homestead', 'secret', array('0', '2', '0', false, false)) in Connector.php line 119\nat Connector->createPdoConnection('mysql:host=127.0.0.1;port=3306;dbname=homestead', 'homestead', 'secret', array('0', '2', '0', false, false)) in Connector.php line 56\nat Connector->createConnection('mysql:host=127.0.0.1;port=3306;dbname=homestead', array('driver' => 'mysql', 'host' => '127.0.0.1', 'port' => '3306', 'database' => 'homestead', 'username' => 'homestead', 'password' => 'secret', 'charset' => 'utf8', 'collation' => 'utf8_unicode_ci', 'prefix' => '', 'strict' => true, 'engine' => null, 'name' => 'mysql'), array('0', '2', '0', false, false)) in MySqlConnector.php line 24\nat MySqlConnector->connect(array('driver' => 'mysql', 'host' => '127.0.0.1', 'port' => '3306', 'database' => 'homestead', 'username' => 'homestead', 'password' => 'secret', 'charset' => 'utf8', 'collation' => 'utf8_unicode_ci', 'prefix' => '', 'strict' => true, 'engine' => null, 'name' => 'mysql')) in ConnectionFactory.php line 100\nat ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()\nat call_user_func(object(Closure)) in Connection.php line 956\nat Connection->getPdo() in Connection.php line 824\nat Connection->reconnectIfMissingConnection() in Connection.php line 709\nat Connection->run('select * fromusers', array(), object(Closure)) in Connection.php line 351\nat Connection->select('select * fromusers`', array(), true) in Builder.php line 1648\nat Builder->runSelect() in Builder.php line 1634\nat Builder->get(array('')) in Builder.php line 613\nat Builder->getModels(array('')) in Builder.php line 318\nat Builder->get(array('*')) in Model.php line 632\nat Model::all() in web.php line 15\nat RouteServiceProvider->{closure}() in Route.php line 176\nat Route->runCallable() in Route.php line 147\nat Route->run(object(Request)) in Router.php line 642\nat Router->Illuminate\\Routing{closure}(object(Request)) in Pipeline.php line 53\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in SubstituteBindings.php line 41\nat SubstituteBindings->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in VerifyCsrfToken.php line 65\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in ShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in StartSession.php line 64\nat StartSession->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Pipeline.php line 104\nat Pipeline->then(object(Closure)) in Router.php line 644\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 618\nat Router->dispatchToRoute(object(Request)) in Router.php line 596\nat Router->dispatch(object(Request)) in Kernel.php line 267\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request)) in Pipeline.php line 53\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Debugbar.php line 51\nat Debugbar->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in CheckForMaintenanceMode.php line 46\nat CheckForMaintenanceMode->handle(object(Request), object(Closure)) in Pipeline.php line 137\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Pipeline.php line 33\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Pipeline.php line 104\nat Pipeline->then(object(Closure)) in Kernel.php line 149\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 116\nat Kernel->handle(object(Request)) in index.php line 53\n```\nDocker-compose.yml\n```\nversion: '2'\nservices:\nWorkspace Utilities Container\nworkspace:\n    build:\n        context: ./workspace\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_MONGO=false\n            - INSTALL_NODE=false\n            - INSTALL_YARN=false\n            - INSTALL_DRUSH=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n            - COMPOSER_GLOBAL_INSTALL=false\n            - INSTALL_WORKSPACE_SSH=false\n            - PUID=1000\n            - PGID=1000\n            - NODE_VERSION=stable\n            - TZ=UTC\n    volumes_from:\n        - volumes_source\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    ports:\n       - \"22:22\"\n    tty: true\n\nPHP-FPM Container\nphp-fpm:\n    build:\n        context: ./php-fpm\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_MONGO=false\n            - INSTALL_ZIP_ARCHIVE=false\n            - INSTALL_MEMCACHED=false\n            - INSTALL_OPCACHE=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n        dockerfile: Dockerfile-70\n    volumes_from:\n        - volumes_source\n    expose:\n        - \"9000\"\n    links:\n        - workspace\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    environment:\n        # IMPORTANT: Set the Remote Interpreter entry matching name to `laravel`\n        - PHP_IDE_CONFIG=\"serverName=laravel\"\n\nNginx Server Container\nnginx:\n    build:\n        context: ./nginx\n        args:\n            - PHP_UPSTREAM=php-fpm\n    volumes_from:\n        - volumes_source\n    volumes:\n        - ./logs/nginx/:/var/log/nginx\n    ports:\n        - \"90:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nApache Server Container\napache2:\n    build:\n        context: ./apache2\n        args:\n            - PHP_SOCKET=\"php-fpm:9000\"\n    volumes_from:\n        - volumes_source\n    volumes:\n        - ./logs/apache2:/var/log/apache2\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nHHVM Container\nhhvm:\n    build: ./hhvm\n    volumes_from:\n        - volumes_source\n    expose:\n        - \"9000\"\n    links:\n        - workspace\n\nMySQL Container\nmysql:\n    build: ./mysql\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"3306:3306\"\n    environment:\n        MYSQL_DATABASE: homestead\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n\nMariaDB Container\nmariadb:\n    build: ./mariadb\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"3306:3306\"\n    environment:\n        MYSQL_DATABASE: homestead\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n\nPostgreSQL Container\npostgres:\n    build: ./postgres\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"5432:5432\"\n    environment:\n        POSTGRES_DB: homestead\n        POSTGRES_USER: homestead\n        POSTGRES_PASSWORD: secret\n\nNeo4j Container\nneo4j:\n    build: ./neo4j\n    ports:\n        - \"7474:7474\"\n        - \"1337:1337\"\n    environment:\n        - NEO4J_AUTH=homestead:secret\n    volumes_from:\n        - volumes_data\n\nMongoDB Container\nmongo:\n    build: ./mongo\n    ports:\n        - \"27017:27017\"\n    volumes_from:\n        - volumes_data\n\nRedis Container\nredis:\n    build: ./redis\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"6379:6379\"\n\nAerospike c Container\naerospike:\n    build: ./aerospike\n    volumes_from:\n        - workspace\n        - volumes_data\n    ports:\n        - \"3000:3000\"\n        - \"3001:3001\"\n        - \"3002:3002\"\n        - \"3003:3003\"\n\nMemcached Container\nmemcached:\n    build: ./memcached\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"11211:11211\"\n    links:\n        - php-fpm\n\nBeanstalkd Container\nbeanstalkd:\n    build: ./beanstalkd\n    ports:\n        - \"11300:11300\"\n    privileged: true\n    links:\n        - php-fpm\n\nRabbitMQ Container\nrabbitmq:\n    build: ./rabbitmq\n    ports:\n        - \"5672:5672\"\n        - \"15671:15671\"\n        - \"8080:15672\"\n    privileged: true\n    environment:\n        RABBITMQ_DEFAULT_USER: guest\n        RABBITMQ_DEFAULT_PASS: guest\n    links:\n        - php-fpm\n\nBeanstalkd Console Container\nbeanstalkd-console:\n    build: ./beanstalkd-console\n    ports:\n        - \"2080:2080\"\n    links:\n        - beanstalkd\n\nCaddy Server Container\ncaddy:\n    build: ./caddy\n    volumes_from:\n        - volumes_source\n        - volumes_data\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n        - \"2015:2015\"\n    volumes:\n        - ./caddy/Caddyfile:/etc/Caddyfile\n        - ./logs/caddy:/var/log/caddy\n    links:\n        - php-fpm\n\nphpMyAdmin Container\nphpmyadmin:\n    build: ./phpmyadmin\n    environment:\n        PMA_ARBITRARY: 1\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"8080:80\"\n    links:\n        # for mysql container\n        - \"mysql:db\"\n        # for mariadb container\n        # - \"mariadb:db\"\n\npgAdmin Container\npgadmin:\n    build: ./pgadmin\n    ports:\n        - \"5050:5050\"\n    links:\n        - postgres\n\nElasticSearch Container\nelasticsearch:\n    build: ./elasticsearch\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"9200:9200\"\n        - \"9300:9300\"\n    links:\n        - php-fpm\n\nLaravel Application Code Container\nvolumes_source:\n    image: tianon/true\n    volumes:\n        - ../iniilmu:/var/www/laravel\n\nDatabases Data Container\nvolumes_data:\n    image: tianon/true\n    volumes:\n        - ./data/mysql:/var/lib/mysql\n        - ./data/postgres:/var/lib/postgresql/data\n        - ./data/memcached:/var/lib/memcached\n        - ./data/redis:/data\n        - ./data/neo4j:/var/lib/neo4j/data\n        - ./data/mongo:/data/db\n        - ./data/aerospike:/opt/aerospike/data\n        - ./data/sessions:/sessions\n        - ./data/caddy:/root/.caddy\n        - ./data/elasticsearch/data:/usr/share/elasticsearch/data\n\nAdd more Containers below\n``\n. I resolved the issue by changing the 'DB_HOST' in laravel .env to the current running container IP that I got from dumpingRequest::ip()` on my application. Adding pull request on #371 .\n. ",
    "robertpcontreras": "I have been having issues with Docker on mac related to performance. I think its due to this... https://forums.docker.com/t/file-access-in-mounted-volumes-extremely-slow-cpu-bound/8076/203. Laradock, and Docker in general runs perfectly for me when im running linux.\n. ",
    "deleonn": "I'm experiencing some issues too on macOS Sierra and Docker version 1.12.0-rc4, build e4a0dbc, experimental. Every time I update something, an html file, js file, any file, the browser takes forever to reload what I updated, even when deleting the whole file, I can still access to it from the browser for a few minutes -yes, minutes!-. I'm currently using nginx+hhvm on Laravel 5.3. On the other hand, updating files with apache2+php-fpm takes no more than a few seconds, tho.\nBut still, my whole project takes 1 second to load with nginx+hhvm, and 7 to 9 seconds with apache2+php-fpm.\nMy teammates are experiencing the same issues on both linux (Ubuntu 16) and windows.\n. @philtrep Thanks a lot, I'll try it out later\n. Already tried with the opcache.ini fix with no luck, I can barely code properly as views are not refreshing. I been jumping from stable to beta version of docker for mac but the results are the same. I literally have to reset my machine in order to see some changes in my app.\nEDIT:\nI've noticed this header at the resource I'm trying to reload.\nhome.html\nStatus Code:200 OK (from cache).\nEDIT 2:\nCreated a new laravel project, added laradock and everything's fine, there's no cached files loaded. I don't know if it's a problem on my laravel project or laradock itself. \n. ",
    "brianvice": "Take a look at this project: https://github.com/IFSight/d4m-nfs There is a small issue with the script, but if you see the issue comments on the repo there is a simple fix for them. Using this script in conjunction with laradock decreased my api calls from ca. 10 seconds waiting to ca. 1 second waiting.\n. it may also be desirable to have mysql:latest which would provide mysql 5.7 that offers the JSON field type. https://dev.mysql.com/doc/refman/5.7/en/json.html\n. @Mahmoudz @philtrep \nHey guys, thanks for getting back to me on this PR. I saw the update to 5.6. My reason for having 5.7 is that it allows for the full function of laravel's database migration features. With 5.6, if someone tries to use the json field type they'll get an SQL syntax error when performing their migrations.\nWhile it's easy enough to just swap out the version number in the dockerfile and rebuild the container, I think the second option you mention is a good one. As in the php container, we could define multiple dockerfiles and then give the user the option of which image to use. But for completeness and in order to provide up to date packages I don't see a problem with this option.\n. ",
    "dmkvl": "Laradock by itself has no reasons to work slow. In my case it depends on the default Virtualbox driver which uses to mount volumes. \n\nThe solution is to use NFS to mount the \u201cUsers\u201d directory.\n\nAlso there is an important difference between Docker Toolbox & Docker for Mac. Docker Toolbox uses docker-machine with Virtualbox driver to provision a virtual machine whereas Docker for Mac is native app which uses HyperKit. Likely, it's typical for Docker Toolbox with default Virtualbox mount driver. \n. Try following \ndocker logs laradock_mysql_1\n. Do you have any important databases in your machine? If you have no dbs there, I think you should remove mysql volume. Use\ndocker volume ls\nto list your volumes and then\ndocker volume rm volume_name\nto remove it. But remember IT WILL REMOVE ALL THE DATA! If you have important data in this case you have to make a dump of your db before removing volume.\nAlso look at section \"Runtime Problems\" here.\n. if you have similar issues, just take a look at this page. I hope it will give you a better understanding.. ",
    "joaojoyce": "I also can confirm improved performance with:\nhttps://github.com/IFSight/d4m-nfs\nThis was with an installation of Statamic which I'm guessing that it does some more file IO than Laravel.. Thank you for your help.\nI've created a Pull Request #414. \nThis needs revision because I'm new to docker and making pull-requests.\n. ",
    "scoutman57": "What type of file system are you mounting the shares with? NFS?\nOn Tue, Nov 22, 2016 at 4:46 AM, Jo\u00e3o Joyce notifications@github.com\nwrote:\n\nI also can confirm improved performance with:\nhttps://github.com/IFSight/d4m-nfs\nThis was with an installation of Statamic which I'm guessing that it does\nsome more file IO than Laravel.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/353#issuecomment-262207882,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1ejI0YHO6CFB8u9s_G-cJHnOt0WSks5rAsgFgaJpZM4KSKnt\n.\n. Mahmoud,\n\nI spoke with you when you did the Live feed with Laravel DFW. I would like\nto join the admin team if you are seriously looking for a 5th.\n. This is a much needed feature\n. :D +1 for just in time configuration\nOn Thu, Oct 20, 2016 at 2:24 PM, Larry Eitel notifications@github.com\nwrote:\n\nIn the Interpreters Form / Additional:\nDebugger extension: /usr/lib/php/20151012/xdebug.so\nThat way xdebug is only added to php when PHPStorm is running tests.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/LaraDock/laradock/issues/381#issuecomment-255203297,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1VSWydjHPpFrnrcnnEPn5bV2dhSlks5q18AHgaJpZM4KcLD_\n.\n. You don't need to do this. Look at on demand configuration \nOn Nov 11, 2016, at 8:51 AM, tms320c notifications@github.com wrote:\nI had related problem:\nI installed xDebug as described in the documentation and changed both workspace and php-fpm xdebug.ini files, but phpinfo() show that \"xdebug.remote_connect_back=0\" (I set it to 1, of course).\nI found that it was necessary to change xdebug.ini before container rebuild (the doc says that one should do it after)\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I think the proper solution would be to have  container for node and share that. As you would do with any other languages that you need.  @philtrep i agree that this is a pretty specific issue, but in the laravel world it's not that uncommon because there are 11+ million installs of assetic-bundle. I think we need to fix this globally. @Mahmoudz  what do you think?\n. You can find this in the documentation under \"Usage\"\n\n2 - Enter the Workspace container, to execute commands like (Artisan, Composer, PHPUnit, Gulp, ...).\ndocker-compose exec workspace bash. The only way to do it automatically is to modify one of the docker images or to add a new image to the bottom of the docker file that will trigger this. There is currently no other way to automate this. . This could not be working because the order in which the containers are built.. One option you have is to create a shell script that will run your docker-compose then runs the docker-compose exec command directly to composer install or npm install\n. DO NOT approve this PR. LaraDock is correct and should NOT be changed to \"Laradock\". There are some other spelling and grammar issues that was corrected that should still be fixed in a new PR.. As this is project specific, why don't you create a bash script or just maintain this in your file? As this does not affect everyone (people not using worker queues). Just my thoughts. . To piggy back off what @philtrep  stated. \nI think it could just be a RUN_ARTISAN to true or something similar that will execute different things that you need like migrations or something. This could even be extended to composer and npm.. that or an array of params. Not sure which would work best since some artisan command require additional params such as artisan migrate --seed. PHP is NOT a good way to write these test. JMI\nOn Sun, Feb 12, 2017 at 2:05 PM, Simon Perdrisat notifications@github.com\nwrote:\n\nWe are all PHP dev so perhaps it's best to write tests in PHP? In the\nfuture we can use part of those test to run some kind status report like\nthe one in drupal :\n[image: screen shot 2017-02-12 at 21 02 27]\nhttps://cloud.githubusercontent.com/assets/164074/22865541/a1159ba4-f166-11e6-828b-c87f1233352b.png\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/608#issuecomment-279244296,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1c2b9dKAYT6-sW8yiOrNECL5B4D5ks5rb2YBgaJpZM4L-Wgr\n.\n. what commands are you using to run the nginx container? \n. That is the same setup I have as well. Are you on windows/linux/osx? . I don't use windows so I am unable to test this. I am surprised that windows would have this issue. Can you post your docker config file (removing passwords). Are you running a local (host) install of mysql/mariadb or any other mysql drop-in replacement? I bet you are. If so that is why you get the conflicts. Or you have another container using that port. It's not uncommon to have to change those. I run several containers and a local host version of things so I have to modify all the ports anyways.  This is not a bug, just normal issues you would have any time. . Also fix the spelling issues \"doesn't\" .. \n",
    "maurosbu": "Hi guys, I managed to use https://github.com/IFSight/d4m-nfs with a ruby on rails app and it works very well.\nI would like to use it for a Laravel project:\n1. How would you update the docker-compose.yml?\n2. How woud you update the d4m-nfs-mounts.txt (d4m-nfs config file)\nMany thanks.. Found the solution: https://github.com/IFSight/d4m-nfs/issues/5\nIn order to be able to use d4m-nfs you just need to perform the folowing steps.\nUpdate docker File Sharing preferences as explained at https://github.com/IFSight/d4m-nfs and then restart docker\nClone d4m-nfs repository (in your home directory)\ngit clone https://github.com/IFSight/d4m-nfs ~/d4m-nfs\nUpdate configuration file (~/d4m-nfs/etc/d4m-nfs-mounts.txt), the following configuration let you use relative paths for volumes in docker-compose.yml\n/Users:/Users\n/Volumes:/Volumes\n/private:/private\nCheck the system file /etc/exports and clean it up if required (there may be collisions if you come from Vagrant or if you already executed the d4m-nfs.sh script)\nRun the d4m-nfs.sh script \n~/d4m-nfs/d4m-nfs.sh\nBring your containers up through docker-compose, in my case\ncd ~/my_cool_project/laradock\ndocker-compose up -d nginx mysql phpmyadmin\nThis approach let me have NFS speed benefits on both laravel (on laradock) and ruby on rails (on passenger-docker) projects.\nHope this can help!\nMauro\n. @michaelgracious can you please check that:\n1. /tmp is the only shared folder (Docker > Preferences > File Sharing)\n2. there isn't any conflict in /etc/exports (I had problems with old vagrant exports)\n3. you started d4m-nfs.sh script\n4. you get something like this appended to /etc/exports\n\n\"/Users\" -alldirs -mapall=501:20 localhost\n\"/Volumes\" -alldirs -mapall=501:20 localhost\n\"/private\" -alldirs -mapall=501:20 localhost\n\nFor volumes you can use relative path. If you cloned laradock in your home directory then in ~/laradock/docker-compose.yml you can use:\n\nvolumes:\n    - ../Sites:/var/www\n\nLet me know if it works.\nMauro\nUPDATE:\nTry to use a volume for each site as specified in the laradock documentation\n\nvolumes:\n    - ../project1/:/var/www/project1\n    - ../project2/:/var/www/project2\n. @michaelgracious did you start the d4m-nfs.sh script?. @michaelgracious can you please post the content of /etc/exports ?. @soundsgoodsofar it is a Docker for Mac issue. If you want to speed things up I suggest to using d4m-nfs.. @pixelone did you follow my guide?\nI'm running docker for mac + d4m-nfs on MacOS Sierra successfully.\nDid you run d4m-nfs.sh before bringing containers up?\nDid you check /etc/exports for conflicts (you have conflicts if you worked with vagrant + nfs before switching to docker).\n\nMauro\n. @philtrep according to https://docs.docker.com/compose/reference/down/ there is no need to execute\ndocker rm $(docker ps -qa)\n\nThese are the commands I usually execute when I need to upgrade laradock:\ndocker-compose down\ndocker-compose build --no-cache nginx mysql phpmyadmin workspace php-fpm\ndocker-compose up -d nginx mysql phpmyadmin\n\nUnfortunally I get the error specified in the first comment.\n. @philtrep No.\nI removed volumes and images, but I'm still getting the same errror.\nI'm on MAC and I'm trying to use 20 as group id. \nI think that the problem is here:\nhttps://github.com/laradock/laradock/blob/master/workspace/Dockerfile#L47\nOf course it is not possible to add a group if it already exists.\nI suggest to create the group only if it doesn't already exist.\nWhat do you think?\n. @philtrep I think that workspace/Dockerfile should be fixed. . I have the same issue since laradock v. 5.1.0. This is what i did:\ndocker-compose build --no-cache nginx mysql phpmyadmin workspace php-fpm applications\ndocker-compose up -d nginx mysql phpmyadmin. @kp77 Sorry, my previous message was an answer for @zeroc0d3. The error persists.. @zeroc0d3 Same feedback when using mysql as host. \n#2005 - Unknown MySQL server host 'mysql' (-3). @a-h-abid thank you.\nIt is a bug:\nhttps://github.com/laradock/laradock/blob/master/docker-compose.yml#L392-L393. Step 1/102 : FROM laradock/workspace:1.8-56\nERROR: Service 'workspace' failed to build: manifest for laradock/workspace:1.8-56 not found\nStep 1/106 : FROM laradock/workspace:1.8-70\nERROR: Service 'workspace' failed to build: manifest for laradock/workspace:1.8-70 not found\nIt only works with php 7.1 (PHP_VERSION=71). Databases are lost when stopping container.\nI think it is related to:\nDATA_SAVE_PATH=/tmp\n\nIt works if I go back to:\nDATA_SAVE_PATH=../data\n\nCommit changing the variable: https://github.com/laradock/laradock/commit/0cf26af724b9611509eebf5dbab9a5340afe12fc\n. @JohnAlonso Thx, it works!!!!. ",
    "michaelgracious": "@maurosbu I tried your little \"how to\", but i kept getting errors when docker tried to mount the volumes. \n\nvolumes:\n            - /Users/michael/Sites:/var/www\n\nI have 1 laradock for all my projects and modify the nginx vhost settings accordingly, it works fine when Docker shares the directories. But when i use the steps you used, i just get errors.. @maurosbu I did only share /tmp in Docker, i tried both absolute and relative paths.\nI keep getting the following:\n\nStarting laradock_redis_1\nStarting laradock_applications_1\nStarting laradock_mysql_1\nERROR: for applications  Cannot start service applications: Mounts denied:\nThe path /Users/michael/Sites\nis not shared from OS X and is not known to Docker.\nYou can configure shared paths from Docker -> Preferences... -> File Sharing.\nSee https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.\nERROR: Encountered errors while bringing up the project.. @maurosbu yes i did, it is running  and i can access with via \"screen -r d4m\". note that it's only the nginx container that keeps failing. @maurosbu \n$ cat /etc/exports\n# d4m-nfs exports\n\"/Users\" -alldirs -mapall=0:0 localhost\n\"/Volumes\" -alldirs -mapall=0:0 localhost\n\"/private\" -alldirs -mapall=0:0 localhost. @soundsgoodsofar let us know if it works for you right away, i couldnt get it to work on my Mac Book Air at all, using Sierra. d4m-nfs that is. \n",
    "soundsgoodsofar": "Just adding a +1.  We're migrating from homestead to laradock and I'm noticing way slower response times with laradock.  Docker for Mac 1.12.3 (13776) here.  Relatively vanilla laradock config.. Yep thanks guys, followed the steps for d4m-nfs from @maurosbu and things have sped up considerably.\nWould be great if we could get this pushed up into the core D4M implementation.  I'll add it to our setup instructions, but people on our team use vagrant and other things that probably write to /etc/exports for a variety of reasons, so I'm a little hesitant to automate it.. @maurosbu I'm also running into this issue periodically.  Seems like whenever I restart OS X or just randomly after a while of non-use.  Removing all the d4m lines from /etc/exports and running d4m-nfs.sh again fixes it, but that's pretty annoying and I hesitate to call it a \"solution\".\n\nERROR: for applications  Cannot start service applications: Mounts denied: tps://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.. \n",
    "pixelone": "Same issue here on OSX, its really slow. I tried (d4m-nfs) , but unable to get it to boot with docker.  \nWith d4m-nfs I keep getting \nERROR: for applications  Cannot start service applications: Mounts denied: r more info.  /Volumes/Development/http is not shared from OS X and is not known to Docker. \nDoes anyone have d4m-nfs working on OSX sierra ?  Other then the slowness, its great ready to fully switch over to this from homestead. . @maurosbu - Yeah tried it step by step even deleted the /etc/exports to ensure it was empty. I have my development code on an external drive mounted as Development.  I think most people are just mounting the Users/ folder, so maybe something with it being on another drive.   \nMy exports file looks correct, the only other issue is private won't mount. I get this when I screen -r d4m\nmount.nfs: access denied by server while mounting 192.168.65.1:/private\nmount: mounting 192.168.65.1:/private on /private failed: Permission denied\nAny suggestion would be great. . ",
    "lavenkin": "@maurosbu I follow your guide but I get the error.\nERROR: for applications  Cannot start service applications: Mounts denied:\nThe path /Users/lavenkin/www\nis not shared from OS X and is not known to Docker.\nYou can configure shared paths from Docker -> Preferences... -> File Sharing.\nSee https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.\n.\nERROR: Encountered errors while bringing up the project.\nthis is my /etc/export content \n```\nd4m-nfs exports\n\"/Users\" -alldirs -mapall=501:20 localhost\n\"/Volumes\" -alldirs -mapall=501:20 localhost\n\"/private\" -alldirs -mapall=501:20 localhost\n```\nand /tmp is the only shared folder in my docker file sharing setting\n@michaelgracious are you solve the problem\nmy applications container config like\n```\nApplications Code Container\napplications:\n        image: tianon/true\n        volumes:\n            - ../:/var/www\n``\n. when I reboot my mac again and run the script~/d4m-nfs/d4m-nfs.shit work success, I check the mount use screen -r d4m` \n192.168.65.1:/Users/lavenkin /mnt nfs nolock,local_lock=all 0 0\n192.168.65.1:/Users /Users nfs nolock,local_lock=all 0 0\n192.168.65.1:/Volumes /Volumes nfs nolock,local_lock=all 0 0\n192.168.65.1:/private /private nfs nolock,local_lock=all 0 0\nI think it mount failed before I reboot the mac.\nIf somebody mount failed try to check your mount in d4m-nfs screen.. I got the same issue.\nconnect failure.. ",
    "gagarine": "I solved this issue on https://github.com/gagarine/docker-php by using http://docker-sync.io/ . It's in my opinion the best solution for mac.\nSetup for d4m or docker-sync should be added in the documentation of laradock.. Sure, but after my post I was looking at https://github.com/IFSight/d4m-nfs/issues/7 and it seem d4m use heavy caching than make it perform better than I taught (I already tested other nfs workaround).\nI will test it with laradock and see if I can do a PR. Generally, think it make no sens to continue maintaining https://github.com/gagarine/docker-php if this project can provide similar functionalities.. I need some time to get familiar with laradock, but it seem to take a similar approach to what I did. I'm switching right now a drupal 8 project to laradock to see how it works on a real project. \nI'm not sure I have time to take the responsibility of joining the admin team (thanks for asking!), I need to think about it and perhaps do a quick chat with you guys.\nIn any case I will gladly help with this issue.. I got somthings similar when using xdebugPhpFpm\n\u279c  laradock git:(master) \u2717 ./xdebugPhpFpm start\nStart xDebug\nlaradock_php-fpm_1\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so' - /usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so: cannot open shared object file: No such file or directory in Unknown on line 0\nPHP Warning:  PHP Startup: Invalid library (appears to be a Zend Extension, try loading using zend_extension=opcache.so from php.ini) in Unknown on line 0\nPHP 7.0.9 (cli) (built: Aug 10 2016 19:45:48) ( NTS )\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\n    with Zend OPcache v7.0.9, Copyright (c) 1999-2016, by Zend Technologies\n    with Xdebug v2.5.0, Copyright (c) 2002-2016, by Derick Rethans. Personally, I think it's should focus more to be the \"the PHP default stack\" than \"Laravel default\". Of course Laravel can adopt the \"PHP default stack\" has is \"official stack\"...\nI know it started with laravel, but I think it will be greatly beneficial to have on tools to serve all major PHP app and framework. Most of use use more than just one framework.\nIn my vision, it's a matter of time before project like that will have GUI and replace stuff like MAMP.. We can use github page. We can keep the doc in this repository (so you have the documentation when you clone the repository) or use another repository. Search can use lunr.js.\n\nhttps://github.com/blog/2233-publish-your-project-documentation-with-github-pages\nhttps://github.com/blog/1939-how-github-uses-github-to-document-github. @Mahmoudz you can use a /doc folder as a source for github website and I think get a nice URL. See the end of this documentation: https://github.com/blog/2233-publish-your-project-documentation-with-github-pages . @Mahmoudz the coolness of the domain shouldn't force you of splitting repository if it make more sens to keep the doc with the code ;). Their is advantage of having one repository: pull request can contain the code and corresponding doc change. I can't see an advantage of a second repository for a small project like laradock. For extra fun, like @philtrep  we can use a custom domain.\n\n@appleboy jekyll works out of the box on  GitHub and is widely used. Hugo is also popular but I can't see the advantage for a documentation over Jekyll. With Jekyll peoples don't even have to install any tools on their machine and can simply edit markdown file right on the repository using the GitHub editor (I don't clone locally the repository for a small text change)\n@Mahmoudz for moving the documentation: first migrate (move the all readme on one page in a simple copy past), then improve (move section...).. Happy to see the doc moved :) but I keep my position \"against\" Hugo for documentation mainly because we are going to commit generated HTML instead of clean markdown. But I'm curious to see how it works. . Ok I will do a pull request to remove this volume.. I will do a pull request.. going to be clearer ;). Great! I broke my head on https://github.com/LarryEitel/laravel-laradock-phpstorm ....\nNow I was following https://confluence.jetbrains.com/display/PhpStorm/Docker+Support+in+PhpStorm witch seem lot more simple. But still no success yet.\n. @HolyKindom you are my hero of the day :). let me close this issue and keep #460 open as a follow up.. Yes, I was thinking of heartbeat tests. If we just test if the container build, run and if the service reply it's already pretty cool. For example with elastic search we can use curl to index some data and try to read them back. It's really closer to functional test and not unit test. I will think about it and post if I find some documentation.. We are all PHP dev so perhaps it's best to write tests in PHP? In the future we can use part of those test to run some kind status report like the one in drupal :\n\n. At the moment, I'm blocked with: https://github.com/EugenMayer/docker-sync/issues/243\nEDIT the 243 issue is closed. I'm testing different configuration before doing a pull request.. ok, you right it will minimize support time.. I will check with docker-sync owner what he think is the best/simpler configuration for docker-sync with laradock.. ",
    "EugenMayer": "I developed docker-sync initially to cope with heavy load PHP projects like Drupal, which have a lot of files and read a lot during every bootstrap ( request ). Those kind of frameworks, also like Magento, tend to basically not work in any proper sense using dockertoolbox (native fusion/vbox share ), d4m ( own sync FS, slower then NFS ) or NFS. \nRunning things like drush or anything else without having opcache involved should get you crazy in no time.\nThat said, i guess it could be a good match with laradock. Some metrics, we use docker-sync in a \nenv of:\n\n25.000 files\n140 MB PHP code\nmulti microservices stack ( mecached/redis/nginx/FPM/percona/mongodb )\n\nThis is used on daily base in development. This should match the use-cases you have with laradock.\nWhat i recommand:\n\nuse unison as a sync_strategy\nprobably either plan to use the daemon mode ( 0.2.0 ) or think about using docker-sync as a library https://github.com/EugenMayer/docker-sync/wiki/7.-Scripting-with-docker-sync to orchestrate your own bootstrap, if you need that. \nDepending on your needs, you might use docker-sync (only sync, docker-compose is your duty ) or docker-sync-stack ( docker-compose integration build in https://github.com/EugenMayer/docker-sync/wiki/2.2-sync-stack-commands\nyou can easily provide docker-sync as a alternative solution using portable docker-compose.yml files https://github.com/EugenMayer/docker-sync/wiki/Keep-your-docker-compose.yml-portable .. you could use docker-compose-docker-sync.yml in case someone wants to run with docker-sync. This keeps your usual docker-compose files untouched\nconsider looking at https://github.com/EugenMayer/docker-sync-boilerplate yourself and creating such a starting point for testers if needed. I guess laradock is a \"boilerplate\" generator by default, so having this repo is either temporary or not needed\n\n. @glaesser either you configured docker-sync the wrong way ( which i highly suggest ) e.g. by missing the limitation docker-compose allows you to override volumes, e.g. see https://github.com/EugenMayer/docker-sync/issues/479 ....\nor you are using opache with stat=1 so files are not read directly on bootstrap, which is pretty nonsense for development ( since you would need to restart  fpm or flush opcache cache each time you change a file to be in affect ).\nWe use Laravel ( lumen ) and docker-sync has an significant impact (positiv ), so there is for sure a gain, but those numbers should speak for themself: https://github.com/EugenMayer/docker-sync/wiki/4.-Performance. :cached will not help you - you struggle with the read performance, and that one is not affected by :cached.\ndocker-sync will help you to go down to the speed you have with the mac native.. Just looked at the setup to help you out guys - would be good if you did not simply ignore my comment above, its all in there already.\ni created https://github.com/laradock/laradock/issues/1226 which is basically what i already wrote in https://github.com/laradock/laradock/issues/353#issuecomment-340504119\nNow its up to you guys to fork this repo, test what i have done there and then make a pull request.\nYou can also quick-test that by simply removing this line https://github.com/laradock/laradock/blob/master/docker-compose.yml#L10\nThen stop docker-sync: docker-sync clean\nAnd start it again using ./sync.sh. I would even advise, for all of you really relying on that, do not use sync.sh at , just do\nInstalling docker-sync once\ngem install docker-sync\nthen for your daily tasks\ndocker-sync clean \nto cleanup and stop your stack, start from scratch, and \ndocker-sync start \nto start your stack. That it is, not need for a wrapper for that, it usually overcomplicates things. Use the documentation  https://github.com/EugenMayer/docker-sync/wiki - maybe more specifically https://github.com/EugenMayer/docker-sync/wiki/2.1-sync-commands\n. @Vanuan :cached - sorry!. I mixed it up with delegated, which is the other side of the island. :cached could potentially help, i yet see that i never benchmarked it, since it has yet implemented very lately. I will add this to my performance tests. At least i remember people already tried a very early implementation and it was worth basically nothing.\nto be honest, i would be glad if cached + delegated would fix the issue overall - and thus every need of docker-sync in general. \n. By now means this is native, you will get a cold shower :)\nBeside that, there are way to many issues with that so a fear, thats still not solution ;/. @jeff-h because you usually do not expose DB ports or similar in production, so all the internal ports be it 5005, 8080 and not the nginx/passproxy port only - its not a key thing, the volumes are far more important - its just a conceptual thing. looks goood for me, thanks for the effort @scaule . By the way https://github.com/EugenMayer/docker-sync/issues/507  https://github.com/docker/compose/pull/5223 is part of the newest docker-compose release nowdays. ",
    "rickshawhobo": "If anyone is interested there is an active issue on the docker for mac github here https://github.com/docker/for-mac/issues/77\nI finally got d4m-nfs to work after some hassles. The one thing I discovered is that you should not the script as root, if you happened to run it as root in the past you may need to remove the files under /tmp/d4m*\nsudo rm -rf /tmp/d4m*\nHope that helps someone, thanks for the hard work.. ",
    "Vanuan": "Don't know about php, but for ruby and node mounting .bundle and node_modules using named volumes instead of through osxfs fixes performance. Is it vendor in php? Here's how:\n```\nphp-compose:\n  volumes:\n    vendor:/src/vendor\n  command: 'install dependencies' \nphp-app:\n  volumes:\n    .:/src\n    vendor:/src/vendor\n  command: 'wait for dependencies to install && run app'\nvolumes:\n  - vendor\n``. @glaessercachedis for reading. Maybe you're writing?\nAre there any temporary files being created at${APPLICATION}?\nYou might want to usedelegated` for these folders.\nE.g.:\napplications:\n  image: tianon/true\n  volumes:\n    - ${APPLICATION}:/var/www:cached\n    - ${APPLICATION}/tmp:/var/www/tmp:delegated\n\n. > :cached will not help you - you struggle with the read performance, and that one is not affected by :cached.\nWhy not? https://docs.docker.com/docker-for-mac/osxfs-caching/\n\ncached: the host\u2019s view is authoritative\n(permit delays before updates on the host appear in the container)\n\nSo it is specifically to improve the read performance (mac -> virtual machine -> container).\nDoes laradock override the :cached option in some way so it is not used?. @glaesser what command do you use to start containers?\nIs it docker-compose up? Or is it sync.sh? Do you have docker-compose.override.yml file?. ",
    "MatthewDrouin": "I had problems with Laravel being slow on Docker for Mac like everyone else here. I looked at the possible solutions listed here but I also found some interesting information on https://blog.docker.com/2017/05/user-guided-caching-in-docker-for-mac/ and https://docs.docker.com/docker-for-mac/osxfs-caching/\nMy api calls were taking between 1.0 to 1.2 seconds at minimum. I decided to try the :cache option for the www volume and now the API calls take between .3 and .4 seconds. It isn't as fast as it is on our linux boxes but it is certainly usable for dev. Just wanted to throw it out there in case  someone else finds this thread as a quick option they can try.\nI didn't use :cache for the mysql or mongo mounts though as I believe those systems do their own memory caching once loaded anyway so they shouldn't be hitting the hard drive much. I did try with them cached but it resulted in no increase plus I'm not 100% sure what issues it would cause anyway.\nI did some testing where I made changes to the laravel/php code and instantly did the api call and the code was used so I'm pretty sure you don't have to worry too much about old code running. \nYMMV but again I wanted to share because it was a quick easy fix for me. I haven't compared it to nfs but I would have to think that since the container itself has a copy of the files that it should be just as fast but hopefully others can chime in. . ",
    "flexgrip": "@MatthewDrouin - Where exactly did you add :cache? To the docker-compose.yml?. Same here. Zero change in query time. I think for the other loss in speed I'm seeing is just that laravel, through laradock, is only serving one request at a time. If I run it through homestead it serves multiple chunks of them at once. Maybe I've configured something wrong.\nBut again, using sync.sh I'm still seeing 2 second requests that take milliseconds when using laravel through vagrant or any other VM.. I'll try using docker-sync directly instead of the sync.sh script (shouldn't it be identical though?). But so far, cached or the sync.sh script are still giving me incredibly slow response times. Reading or making API get reqs seem to get served in 3 seconds average. The same requests through vagrant take milliseconds.. ",
    "glaesser": "@MatthewDrouin would like to know as well.\nUnfortunately docker-sync doesn't appear to make any difference in my projects. My laravel pages still take 0.8-1.5 seconds to load whether I'm using docker-compose or ./sync commands. Any ideas?. @EugenMayer thanks for the comment! I simply followed the laradock instructions (http://laradock.io/documentation/#improve-speed-on-macos), meaning I installed docker-sync and then ran laradock's included ./sync.sh script to start docker-sync & subsequently docker. \nLaradock works fine out of the box, and docker-sync seems to install + start fine, I'm just not seeing any performance improvements in my laravel app at all - so clearly something is not right. Any suggestions on how I can I go about debugging this?\nOSX 10.13.0\nLaradock 0.5.8\nDocker 17.09.0 CE\nDocker-Sync 0.4.6\n. @samthomson strange, I added the :cached flag into docker-compose.yml, rebuilt my docker images, but it made no difference in script execution time, still 1-1.5seconds to load any page:\napplications:\n      image: tianon/true\n      volumes:\n        - ${APPLICATION}:/var/www:cached\nAm I missing something?. Thanks for the suggestion @Vanuan, I'm def. reading, i.e. just rendering standard laravel views that take <0.1s to generate on nginx/mac, but 1-1.5s with nginx/laradock. I tried your suggestion anyways but unfortunately it made no difference in speed.\n@flexgrip where you able to try the :cached option?. ",
    "samthomson": "@flexgrip Following @MatthewDrouin :cache tip I added :cached to my volume parameter in docker compose:\nservices:\n  applications:\n    build: \n      context: ./docker-containers/applications\n    volumes:\n      - ./www-workspace:/var/www:cached\nI also got request times increased 3/4 fold :). me too. mbind: Operation not permitted displays each time I try to connect to the db container. Interestingly it works if I use phpmyadmin, just not from sequel pro.. Why did you install it on wamp, aren't you running your project in docker?. Could you expand on your project structure and what you're trying to achieve. That would make it easier to help :)\nYou have made a project and want it to be accessible on your computer? That project currently runs in a docker container and you can reach it at http://127.0.0.1:3000?. Thanks @scaule I ended up doing just that :). create a bash script that creates them and then run that from your workspace container.\n```\n!/bin/bash\nset -eu -o pipefail\nFrom env\nDB_1_NAME\nDB_2_NAME\nMYSQL_HOST\nMYSQL_PASSWORD\necho \"CREATE DATABASE IF NOT EXISTS ${DB_1_NAME};CREATE DATABASE IF NOT EXISTS ${DB_2_NAME};\" | mysql -h ${MYSQL_HOST} -p${MYSQL_PASSWORD}\noptionally you can run your migrations here too\ncd /var/www/project-1\nphp artisan migrate\ncd /var/www/project-2\nphp artisan migrate\n``\nWith this in your workspace container you just need todocker-compose run workspace ./migrations.sh`. ",
    "ndberg": "As of 2018 docker for mac has native support for nfs:\nhttps://medium.com/@sean.handley/how-to-set-up-docker-for-mac-with-native-nfs-145151458adc\nhttps://forums.docker.com/t/nfs-native-support/48531\nhttps://github.com/IFSight/d4m-nfs\nBut I can't get it to work with laradock. Has anyone already done?\n. Hmm perhaps I could get it to work for the mysql & the php-fpm container with adding / editing this in docker-compose.yml\nvolumes:\n  mysql:\n    driver: ${VOLUMES_DRIVER}\n    driver_opts:\n      type: nfs\n      o: addr=host.docker.internal,rw,nolock,hard,nointr,nfsvers=3\n      device: \":${DATA_PATH_HOST}\"\n  php-fpm:\n    driver: ${VOLUMES_DRIVER}\n    driver_opts:\n      type: nfs\n      o: addr=host.docker.internal,rw,nolock,hard,nointr,nfsvers=3\n      device: \":${APP_CODE_PATH_HOST}\"\nand running this bash script, as described in https://medium.com/@sean.handley/how-to-set-up-docker-for-mac-with-native-nfs-145151458adc\n```\n!/usr/bin/env bash\nOS=uname -s\nif [ $OS != \"Darwin\" ]; then\n  echo \"This script is OSX-only. Please do not run it on any other Unix.\"\n  exit 1\nfi\nif [[ $EUID -eq 0 ]]; then\n  echo \"This script must NOT be run with sudo/root. Please re-run without sudo.\" 1>&2\n  exit 1\nfi\necho \"\"\necho \" +-----------------------------+\"\necho \" | Setup native NFS for Docker |\"\necho \" +-----------------------------+\"\necho \"\"\necho \"WARNING: This script will shut down running containers.\"\necho \"\"\necho -n \"Do you wish to proceed? [y]: \"\nread decision\nif [ \"$decision\" != \"y\" ]; then\n  echo \"Exiting. No changes made.\"\n  exit 1\nfi\necho \"\"\nif ! docker ps > /dev/null 2>&1 ; then\n  echo \"== Waiting for docker to start...\"\nfi\nopen -a Docker\nwhile ! docker ps > /dev/null 2>&1 ; do sleep 2; done\necho \"== Stopping running docker containers...\"\ndocker-compose down > /dev/null 2>&1\ndocker volume prune -f > /dev/null\nosascript -e 'quit app \"Docker\"'\necho \"== Resetting folder permissions...\"\nU=id -u\nG=id -g\nsudo chown -R \"$U\":\"$G\" .\necho \"== Setting up nfs...\"\nLINE=\"/Users -alldirs -mapall=$U:$G localhost\"\nFILE=/etc/exports\nsudo cp /dev/null $FILE\ngrep -qF -- \"$LINE\" \"$FILE\" || sudo echo \"$LINE\" | sudo tee -a $FILE > /dev/null\nLINE=\"nfs.server.mount.require_resv_port = 0\"\nFILE=/etc/nfs.conf\ngrep -qF -- \"$LINE\" \"$FILE\" || sudo echo \"$LINE\" | sudo tee -a $FILE > /dev/null\necho \"== Restarting nfsd...\"\nsudo nfsd restart\necho \"== Restarting docker...\"\nopen -a Docker\nwhile ! docker ps > /dev/null 2>&1 ; do sleep 2; done\necho \"\"\necho \"SUCCESS! Now go run your containers \ud83d\udc33\"\nI looks right when I inspect the volume\n\u279c  toportal git:(master) \u2717 docker volume inspect laradock_toportal_php-fpm\n[\n    {\n        \"CreatedAt\": \"2018-11-28T10:33:24Z\",\n        \"Driver\": \"local\",\n        \"Labels\": {\n            \"com.docker.compose.project\": \"laradock_toportal\",\n            \"com.docker.compose.version\": \"1.23.1\",\n            \"com.docker.compose.volume\": \"php-fpm\"\n        },\n        \"Mountpoint\": \"/var/lib/docker/volumes/laradock_toportal_php-fpm/_data\",\n        \"Name\": \"laradock_toportal_php-fpm\",\n        \"Options\": {\n            \"device\": \":../\",\n            \"o\": \"addr=host.docker.internal,rw,nolock,hard,nointr,nfsvers=3\",\n            \"type\": \"nfs\"\n        },\n        \"Scope\": \"local\"\n    }\n]\n\u279c  toportal git:(master) \u2717 docker volume inspect laradock_toportal_mysql\n[\n    {\n        \"CreatedAt\": \"2018-11-28T08:58:51Z\",\n        \"Driver\": \"local\",\n        \"Labels\": {\n            \"com.docker.compose.project\": \"laradock_toportal\",\n            \"com.docker.compose.version\": \"1.22.0\",\n            \"com.docker.compose.volume\": \"mysql\"\n        },\n        \"Mountpoint\": \"/var/lib/docker/volumes/laradock_toportal_mysql/_data\",\n        \"Name\": \"laradock_toportal_mysql\",\n        \"Options\": {\n            \"device\": \":~/Code/toportal/.docker/data\",\n            \"o\": \"addr=host.docker.internal,rw,nolock,hard,nointr,nfsvers=3\",\n            \"type\": \"nfs\"\n        },\n        \"Scope\": \"local\"\n    }\n]\n```\nBut I doesn't feel like it's faster.. . I couldn't get it to work with the static binaries from @h4cc from github.\nAfter a lot of problems and research I fixed it with adding this to php-fpm/dockerfile, which will build it from source, one time the debian package for the php-fpm container and one time the ubuntu package for the workspace container.\n```\n\nwkhtmltopdf:\n\nARG INSTALL_WKHTMLTOPDF=true\n RUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\n     apt-get update && apt-get install -y libxrender1 libfontconfig1 libx11-dev libjpeg62 libxtst6 wget \\\n     && mkdir wkhtmltopdf_download \\\n     && cd wkhtmltopdf_download \\\n     && wget https://downloads.wkhtmltopdf.org/0.12/0.12.5/wkhtmltox_0.12.5-1.stretch_amd64.deb \\\n     && apt install ./wkhtmltox_0.12.5-1.stretch_amd64.deb -y \\\n     && cd .. \\\n     && rm -rf wkhtmltopdf_download \\\n ;fi\n```\nThis to workspace/dockerfile\n```\n\nwkhtmltopdf:\n\nUSER root\nARG INSTALL_WKHTMLTOPDF=true\n RUN if [ ${INSTALL_WKHTMLTOPDF} = true ]; then \\\n     # Install all dependencies\n     apt-get update && apt-get install -y libxrender1 libfontconfig1 libx11-dev libjpeg62 libxtst6 wget \\\n     && mkdir wkhtmltopdf_download \\\n     && cd wkhtmltopdf_download \\\n     && wget https://downloads.wkhtmltopdf.org/0.12/0.12.5/wkhtmltox_0.12.5-1.bionic_amd64.deb \\\n     && apt install ./wkhtmltox_0.12.5-1.bionic_amd64.deb -y \\\n     && cd .. \\\n     && rm -rf wkhtmltopdf_download \\\n ;fi\n```\nAnd the variables to docker-compose.yml\n```\nworkspace:\n      build:\n        context: ./workspace\n        args:\n          - .. a lot of others..\n          - INSTALL_WKHTMLTOPDF=true\nphp-fpm:\n      build:\n        context: ./php-fpm\n        args:\n          - .. a lot of others ..\n          - INSTALL_WKHTMLTOPDF=true\n```\nHope it helps someone... @mrbase I updated the Code, i had troubles myself as the command: \ncd /var/www\nraised an error. Otherwise you have to check with what an error it fails.. Thanks @aowie1. There is a error in your second command, it should be:\ndocker volume rm laradock_mysql. ",
    "ChangePlaces": "Take note of the answer regarding PHPStorm\nhttps://stackoverflow.com/questions/37503627/blade-view-not-reflecting-changes. ",
    "otim22": "Hey guys, I know this issues has been closed but am running into it using Homestead and Laravel 5.6.\nAny help, I have tried:  php artisan cache:clear and  php artisan views:clear not helpful at all.. ",
    "donprecious": "am having same issue, old version of views shows up, my route, controlller code does not reflect, i have cleared cache but the problem still persist, am really hooked now, i recently added git to the project dont know if that was the cause of the problem. ",
    "usudath": "Clear Cache and Views and regenerating the Key solved my problem.. ",
    "Modelizer": "@edmundluong If you are specific to a Laravel base project and can go on with standalone server then you can use this package . ",
    "dirkgroenen": "Just started using laradock as replacement for homestead and really needed this one. Tried to get it implemented but I couldn't find a nice way to get our host's pub key into the image, unless you would want to paste your key's content as ARG, copy it to the build directory or something like that.\nSolution I've been using for now is to mount the hosts .ssh dir in the container:\n[..]\n        volumes:\n            - ~/.ssh:/root/.ssh\n[..]\nThis doesn't feel like a proper solution compared to how other features are working, since it doesn't allow you to turn it on or off as an option. Reason for this post: in case anyone stumbles on this topic; this at leas does the job. \nPs: if you do see this as a proper integration I'm happy to open a PR for it. . ",
    "netojose": "If is the ideal, I don't know @dirkgroenen , but solved my problem. Thanks!. ",
    "NioTeX": "Why has this been closed? I think this would be a great feature, and even though a developer has not been found to implement it, closing it doesn't feel like the best solution.. ",
    "CSNWEB": "Seems like this is still missing docs?. Sorry opened this by mistake just ignore it please.. ",
    "swash13": "can someone add documentation about how to setup certbot with nginx ?\nNot only for digitalocean, but for amazon ec2 also.. ",
    "xlstefan": "Still no documentation regarding nginx and certbot automatic renewal? . I had this same issue but in order to solve it completely you have to add this same lines to the php-fpm/Dockerfile too.\nI had the same problem when I created new backup from Laravel Backpack Backup UI . This snippet which install mysql client solves error which was showing up.\n\nopen up your workspace/Dockerfile and add these lines to it\n```\n\n--------------------------------------------------------------------------\nmysql-client\n--------------------------------------------------------------------------\n\nUSER root\nRUN apt update && \\\n    apt install -y mysql-client\n``\ndown your containersdocker-compose downthen rebuild workspace just bydocker-compose build workspaceand re-up you containers for exampledocker-compose up redis nginx mysql`\n\n. Hi @frnwtr ,\nCan you explain a bit how do I get this container to run horizon correctly?\nStatus of horizon when I go to /horizon says:  Inactive...\nWhat am I missing?. Ah, just needed to rename conf file:\nlaravel-horizon.conf.example -> laravel-horizon.conf. ",
    "laralord": "Noticed that it happens when the docker's deamon starts on system boot. If you disable that option and run docker manually, then it works fine.\n. When checking the files in the container I've noticed that files have root owner, not laradock. Laradock has been added to an already created project. Running chown doesn't make any change. Not sure if it's related.\n. Thank you. I will try.\nThey are owned by root. I tried to run chown to change owner to laradock:laradock, but it didn't take effect.\n. All directories are owner by root inside the project.\n\n. ",
    "Jono20201": "Also experiencing this issue.. ",
    "ovidius72": "I had the same problem while trying to access files on a local server.\nI solved it by installing the acl package in the workspace container\ndocker-compose exec workspace bash\napt-get update & apt-get install acl\nafter that I was able to run the command:\nsetfacl -d -R -m o::rwx /var/www\nFrom now on all new created files (either by php artisan and directly from your IDE) will have the UID and GID set to 500 (normal user) and you are able to edit and save them.\nBecause the existing files will retain the original permissions I don't think this could lead to security issues.. @AlennGK Are you running the command as laradock user or as root? Maybe the laradock user doesn't have the permissions to perform the action.\nTo have it permanently working you have to add it in the workspace Dockerfile so that it runs every time you boot the machine. . ",
    "AlennGK": "\u25ba/var/www# setfacl -d -R -m o::rwx /var/www/public/css\nsetfacl: /var/www/public/css: Operation not supported\nBut after 10 minutes the file deleted on by own. Now I can't recreate the bug. It is fine and file is  root root ... app.style.css So there must be some other issue. Anyway I have this problem everytime I boot my windows X and run the docker.. ",
    "felipefreitasweb": "UPDATE *\nThe problem happens only with apache2, with nginx everything worked. \n. It worked! \n@calebfavor  Worked perfectly! thanks! :D \nI followed exactly what I said, look:\napache2/dockerfile\n\ndocker-compose-yml\n\nAnd run: docker-compose build apache2\nThank you very much!\n. ",
    "calebfavor": "@felipefreitasweb - I had the same problem, the issue is apache is not starting properly due to a config issue (if you check the logs you should see that apache is restarting over and over)\nExtra quotes were added to the apache base image (https://github.com/webdevops/Dockerfile/commit/b99e229698efa50abb922fefd40cb5a122f1c203) so you need to edit 2 files in your laradock folder.\ndocker-compose.yml: under Apache Server Container change \nPHP_SOCKET=\"php-fpm:9000\"\nto\nPHP_SOCKET=php-fpm:9000\nThen in the apache/Dockerfile change:\nARG PHP_SOCKET=\"php-fpm:9000\"\nto\nARG PHP_SOCKET=php-fpm:9000\nCheers!\n* Edit: fixing link\n* Edit: removing env variable\n. @philtrep Possibly, I am not sure what the correct way is. However I don't see a reason not to reference the composer file directly.\n. @felipefreitasweb No worries! As @philtrep mentioned, the arg should indeed be changed to ARG PHP_SOCKET=php-fpm:9000 rather than using the environment variable.\n. @philtrep Yes! I was a little unclear on how those variables are passed down the images and in to the application. After reading up on it I definitley agree. Fix pushed, I will edit my post in the issue.\nCheers!\n. @LarryEitel - Thanks for getting back to me! I actually used your guide to get setup (the guide is awesome). My files/settings match that branch exactly, however I still cant get it to work through the web. It works when I call files directly from the CLI, makes me think everything is setup correctly. I think I've pin pointed the issue to php-fpm simple not triggering a remote debug session when being called via apache, which seems strange to me since apache shouldn't have much impact on a fpm setup.\n. @LarryEitel - I had no idea docker ran another adapter! Yes my host IP is 10.0.75.1. I changed my dockerhost to that in the compose file and rebuilt. Still have the exact same issue. I do get that error when trying to run xdebug in a test. I have the remote interpreter setup as per your guide, and I can run phpunit tests through docker inside php storm successfully. However when I try and run the test with debugging I get: \n\nWhen visiting a web page I get nothing inside phpstorm.\n. @LarryEitel - Yes I did change the dockerhost lines to 10.0.75.1. I have verified the php-fpm container can access my hosts ip on port 9000:\n\nI am not sure what you mean by having 'php remote debug' running. I have the php-fpm apache2 containers running. Also yes I can successfully debug inside phpstorm when calling php directly from the cli (see first post picture). Its only over localhost when viewing the actual web pages where it wont trigger.\n. Yes:\n\n\n. That seemed to have no effect. I dont think php-fpm is even attempting to connect to phpstorm.\n. Yes xdebug is enabled, I can see that it is enabled and set correctly via the phpinfo page.\n. I get the same error:\n\nClicking 'validate installation' has no effect. \nI am done for today, thanks so much for your help thus far I really appreciate it.\n. @LarryEitel - I am running on windows. Here is the output when running a test inside phpstorm with debugging:\n`sftp://root@localhost:2222/usr/bin/php -dzend_extension=/usr/lib/php/20151012/xdebug.so -dxdebug.remote_enable=1 -dxdebug.remote_mode=req -dxdebug.remote_port=9000 -dxdebug.remote_host=172.18.0.1 /root/.phpstorm_helpers/phpunit.php --configuration /var/www/laravel/phpunit.xml --filter \"/::test_persist_many_update( .*)?$/\" AccessLevelDataMapperTest /var/www/laravel/tests/integration/data-mappers/access/AccessLevelDataMapperTest.php\nTesting started at 8:33 AM ...\nPHPUnit 4.8.27 by Sebastian Bergmann and contributors.\nTime: 644 ms, Memory: 16.00MB\nOK (1 test, 20 assertions)\nProcess finished with exit code 0\n`\nWith this small popup:\n\nIf I click validate I can also view the php info which reveals this: \n\n\nIt looks like it is trying to use remote debugging to connect to phpstorm, is that not correct?\n. @LarryEitel - After our chat and getting everything working, I was able to reverse engineer some of the steps and how they work. Here is a breakdown of what solved my problem.\nFirst off I was using localhost (mapped to 127.0.0.1) to load my application in the browser, which does work (since port 80 is mapped), but causes issues with network access on ports other than 80, therefore not allowing xdebug to connect on 9000. Instead you want to use the dockers hyper-v VM adapter IP. It can be found by opening Hyper-V Manager, clicking your computer on the left, and clicking the Networking tab at the bottom.\n\nGenerally it will automatically be set to 10.0.75.2. This is not to be confused with the docker daemon adapters IP, which is 10.0.75.1. Your actual application and containers run on the VMs adapter, which is 10.0.75.2. \nSo you need to be connecting to your application in the browser using the VMs ip. Ex. http://10.0.75.2/my-page (or the 'laravel' host alias as per the guide)\nAlso inside phpstorm you should be using 10.0.75.2 whenever referencing a connection to docker.\nOne other thing to note, you dont actually need a PHP -> Server setup in phpstorm to get debugging working. All you need is the sftp remote php interpreter setup properly using the correct IP (10.0.75.2) as per the guide, with the correct php executable/xdebug.so paths.\nHope thats helps with developing the guide, thanks again for your help Larry. \nCheers!\n. One other thing, inside your docker-compose.yml, the php-fpm and workspace 'extra_hosts' -dockerhost: NEED to be set to the main docker adapters IP:  '10.0.75.1'\n\n. @LoopKarma I'm not very familiar with how the networking is setup on macs but my guess is the container cant connect with PhpStorm over port 9000. This could be due to your docker host not being set correctly or the port is being blocked by something.\n. ",
    "hasangilak": "apache2_1              | 2017-09-02 10:12:01,547 INFO success: apached entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\napache2_1              | AH00526: Syntax error on line 9 of /opt/docker/etc/httpd/conf.d/10-php.conf:\napache2_1              | ProxySet: Timeout must be at least one second timeout=; fcgi://php-fpm:9000\napache2_1              | 2017-09-02 10:12:01,577 INFO exited: apached (exit status 1; not expected)\nI fixed it by editing /opt/docker/etc/httpd/conf.d/10-php.conf and setting timeout=1. open up your workspace/Dockerfile and add these lines to it\n```\n\n--------------------------------------------------------------------------\nmysql-client\n--------------------------------------------------------------------------\n\nUSER root\nRUN apt update && \\\n    apt install -y mysql-client\n``\ndown your containersdocker-compose downthen rebuild workspace just bydocker-compose build workspaceand re-up you containers for exampledocker-compose up redis nginx mysql. @ohblue runapt update` first. ",
    "markdev": "@philtrep Thanks for the prompt response!  That does answer my question.\nI have a follow-up question about best practices: currently I am running a shell script to cp the .env and docker-compose.yml files.  But that is a bad practice; it relies on the environment outside of the containers.  I'd like to be able to do this within the docker ecosystem, like with a RUN command or a command: in the .yml file.  All these attempts run into the same problem.\nIs there a way to run this in docker after the volumes are mounted (without doing it from within a container)?\n. @philtrep Thanks for the prompt response!\nI've made all the changes, but the problem persists.  Here's the current configuration:\n.env:\nDB_CONNECTION=prod\nDB_HOST=mysql\nDB_PORT=1306\nmysql/Dockerfile\nFROM mysql:latest\nMAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\nADD my.cnf /etc/mysql/conf.d/my.cnf\nCMD [\"mysqld\"]\nEXPOSE 1306\ndocker-compose.yml\n```\n    mysql:\n        build: ./mysql\n        volumes_from:\n            - volumes_data\n        environment:\n            MYSQL_DATABASE: laradock\n            MYSQL_USER: homestead\n            MYSQL_PASSWORD: secret\n            MYSQL_ROOT_PASSWORD: root\n        expose:\n            - \"1306\"\n        ports:\n            - \"1306:1306\"\nalso tried this with \"1306:3306\"\n    restart: always\n\n```\nSame thing; if DB_PORT in .env is 3306 it works; otherwise no dice.\nWhen I run docker-compose ps, I see this for the mysql container:\nlaradock_mysql_1            docker-entrypoint.sh mysqld   Up       0.0.0.0:1306->1306/tcp, 3306/tcp\nIf I grep for 3306 in the laradock directory, I can't find anything.  Is there something in the base image that forces it to set up on 3306?\n. Same problem :(\nmy.cnf\n```\nThe MySQL  Client configuration file.\nFor explanations see\nhttp://dev.mysql.com/doc/mysql/en/server-system-variables.html\nport = 1306\n[mysql]\n```\nAlso tried putting port = 1306 after [mysql]\nSame result; docker-compose ps still shows 0.0.0.0:1306->1306/tcp, 3306/tcp. \n. @philtrep thanks again for taking the time to look at this.\nI've done --force-recreate and done quite a few builds from scratch (removing all images).\nI tried building a new laravel project with laradock as a submodule, and get this error when I run docker-compose up -d workspace nginx mysql:\nBind for 0.0.0.0:3306 failed: port is already allocated\nNot sure where this is coming from, but it's probably related.\n. ",
    "tms320c": "I had related problem:\nI installed xDebug as described in the documentation and changed both workspace and php-fpm xdebug.ini files, but phpinfo() show that \"xdebug.remote_connect_back=0\" (I set it to 1, of course). \nI found that  it was necessary to change xdebug.ini before container rebuild (the doc says that one should do it after)\n. ",
    "whsiao": "Thank you for replying.  I've tried the steps, and unfortunately that didn't change the default password to the one I specified in my code example.\nI tried changing the format of the configuration to the code below:\n```\nMySQL Container\nmysql:\n    build: ./mysql\n    volumes_from:\n        - volumes_data\n    ports:\n        - \"3306:3306\"\n    environment:\n        - \"MYSQL_DATABASE:JenkinsJobTest\"\n        - \"MYSQL_USER:test2\"\n        - \"MYSQL_PASSWORD:password1\"\n        - \"MYSQL_ROOT_PASSWORD:password1\"\n\n```\nThe configuration I tried above didn't change the password default to password1.\n. I tried that configuration, and it is still not working.  Also I tried changing the mysql port with this:\nmysql:\n        build: ./mysql\n        volumes_from:\n            - volumes_data\n        ports:\n            - \"3306:3307\"\n        environment:\n            MYSQL_DATABASE: JenkinsJobTest\n            MYSQL_USER: test2\n            MYSQL_PASSWORD: password1\n            MYSQL_ROOT_PASSWORD: password1\nBut when I ran docker-compose build --no-cache mysql, it did not change the port from 3306 to 3307 instead it kept to 3306.\nOutput from build:\ndocker-compose build --no-cache mysql\nBuilding mysql\nStep 1 : FROM mysql:5.6\n ---> a07c28d2a09a\nStep 2 : MAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n ---> Running in 7c1a8a142e15\n ---> 5fb454163c17\nRemoving intermediate container 7c1a8a142e15\nStep 3 : ADD my.cnf /etc/mysql/conf.d/my.cnf\n ---> 0d5b7e0c3c63\nRemoving intermediate container 6acecd0880dc\nStep 4 : CMD mysqld\n ---> Running in 236121f6f5a1\n ---> 136f2b6fc644\nRemoving intermediate container 236121f6f5a1\nStep 5 : EXPOSE 3306\n ---> Running in 598d2ea9ac08\n ---> 7dc9a34533db\nRemoving intermediate container 598d2ea9ac08\nSuccessfully built 7dc9a34533db\nIs there some step I need to do to setup database and laravel environment before running 'docker-compose up mysql'.  Some permissions I need to set to allow the changes in docker-composer.yml in the laradock directory to change the docker images configuration?  Do I need to setup a docker-composer.yml outside the laravedock directory?\n. Thanks.  Got that part working.  Still trying to figure out why the environment information is not being used in the spin up of the mysql docker container.\n. @philtrep Yeah it is the same as #404.  I actually got the mysql container to work with the new root password.  My friend was working with me on the problem and found that that volume_data was was not taking in the changes from the docker-compose.yml.  He had me scrapped the laradock directory and pull in a fresh clone of laradock.  He found that the volumes_from with -volumes_from: was somehow interfering with the build of the container.\npart that was breaking for me:\nmysql:\n        build: ./mysql\n        volumes_from:\n            - volumes_data\nfresh laradock clone that works:\nmysql:\n        build: ./mysql\n        volumes:\n            - mysql:/var/lib/mysql\nNote this is for one mysql version spin up that I am working on.  Not sure how if it will help with the @markdev in #404, since the issue is about spinning up two instances of mysql.\n. ",
    "kamisera": "Hi guys. There's an issue with the example ENV file; the DATA_SAVE_PATH variable is pointing to a 'data' folder in the laradock directory, which does not exist. Therefore, changes to things like mysql credentials etc will not be reflected when spinning up a container (it will revert to the system defaults). \nI'll submit a PR. In the meantime, simply changing DATA_SAVE_PATH=~/.laradock/data to DATA_SAVE_PATH=~/.laradock in your Laradock ENV file will fix the issue. Hope that helps anybody who's been racking their brains (like I have)!. ",
    "asabanovic": "Hey guys, \njust to add to this solution, DATA_SAVE_PATH does exist so as ~/.laradock/data . ~/ is basically your user home folder (on Mac that would be /Users/your_username/ and on Windows it will be the same C:/Users/your_username).\nIf you want your laradock .env changes to take place (especially db stuff, passwords, users), go and delete the .laradock/data/mysql folder, and then make sure you do the docker-compose stop, docker-compose down , docker-compose up -d nginx mysql phpmyadmin or whatever you use. \nThen you should be OK.\n\nADDITIONALLY:\nIf you are not sure about something, for examples your container:\nList containers docker ps\nand then grab the container name, for example laradock_mysql_1 and then run docker inspect volume laradock_mysq_1.\nYou will see the Mount section that will give you the exact path to where your volume data is stored.\n\"Mounts\": [\n            {\n                \"Type\": \"bind\",\n                \"Source\": \"/Users/adnan/.laradock/data/mysql\",\n                \"Destination\": \"/var/lib/mysql\",\n                \"Mode\": \"rw\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            },\n] \nSomething like that. ",
    "Exadra37": "@LarryEitel no need to use a separated branch to debug if we go as per #424.\n. Good point about docker compose detecting the changes... at least when I testing it by  run docker-compose config it was showing the changes to the .env file.\nI will test later with docker-compose up.\n. I believe that once proposals #424 or #425 be accepted and implemented it will help you with setting your specific needs. \n. I think that proposals #424 and #425 may help here once accepted and implemented.\n. @philtrep using the same image multiple times should not cause any issue, but building a container from it using same ports will cause conflicts for sure, unless I have misunderstood something.\n. I will do my best.. still learning Docker ;)\n. @tms320c The proposal of using multiple docker compose files in #425 and the possibility to set config values from the Laravel .env file on them, as proposed in #424 will make possible to easily achieve the specific needs of each project.\n. Try to share any local modifications by forking this project and upload them in a branch of your fork and link it here.\nPlease give also print screens of the commands you run and output so that we can better understand what is going on.\n. Nginx does not read .htaccess files, therefore not failing ;). During this weekend I will try to work on this ;)\n. This feature is a WIP on my fork, but before i make the PR I need help testing it...\nPlease try this branch from my fork.\nIf you find any bug please open it here.\nFor feedback and discussion just leave a comment on this current issue.\n. After I finish the PR for my proposal in #424 I will take on this one :)\n. ",
    "dannysood": "@philtrep Even though this ticket is closed but I was facing a similar issue. Turns out Permission Denied can also be caused because xdebugPhpFpm didnt have execution permission. Simple enough fix but I missed it and that is how I ended up here. Should I do a pull request with this detail in readme?. @philtrep Ill take care of the PR tomorrow.. @philtrep I am facing this issue as well. Some external composer packages ask for it. Homestead provides it in stock install (as I moved my repo from homestead to laradock) and composer install broke.\nProblem 1\n    - Installation request for jeremykendall/php-domain-parser 3.0.0 -> satisfiable by jeremykendall/php-domain-parser[3.0.0].\n    - jeremykendall/php-domain-parser 3.0.0 requires ext-intl * -> the requested PHP extension intl is missing from your system.\n  Problem 2\n    - Installation request for league/uri 4.2.2 -> satisfiable by league/uri[4.2.2].\n    - league/uri 4.2.2 requires ext-intl * -> the requested PHP extension intl is missing from your system.. @sashaaro I am getting this error when adding the changes in my local dockerfile as shown in the PR. However i keep getting the following. To be just sure I also added google dns by adding it to daemon.json at /etc/docker/daemon.json but to no avail. Also this is happening only to this command and everything else works fine. Any suggestions?\n```\nSuggested packages:\n  icu-doc\nThe following NEW packages will be installed:\n  icu-devtools libicu-dev libicu52\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 14.6 MB of archives.\nAfter this operation, 65.6 MB of additional disk space will be used.\nErr http://httpredir.debian.org/debian/ jessie/main libicu52 amd64 52.1-8+deb8u3\n  404  Not Found [IP: 108.61.5.92 80]\nErr http://security.debian.org/ jessie/updates/main libicu52 amd64 52.1-8+deb8u3\n  404  Not Found [IP: 128.101.240.215 80]\nErr http://security.debian.org/ jessie/updates/main libicu-dev amd64 52.1-8+deb8u3\n  404  Not Found [IP: 128.101.240.215 80]\nErr http://security.debian.org/ jessie/updates/main icu-devtools amd64 52.1-8+deb8u3\n  404  Not Found [IP: 128.101.240.215 80]\nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/libicu52_52.1-8+deb8u3_amd64.deb  404  Not Found [IP: 128.101.240.215 80]\nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/icu-devtools_52.1-8+deb8u3_amd64.deb  404  Not Found [IP: 128.101.240.215 80]\nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/libicu-dev_52.1-8+deb8u3_amd64.deb  404  Not Found [IP: 128.101.240.215 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c apt-get install -y libicu-dev && pecl install intl && docker-php-ext-install intl' returned a non-zero code: 100\n```. @sashaaro  composer install --ignore-platform-reqs worked for me but seems unsafe to ignore platform requirements. @philtrep Is there a better way to do it? Would really appreciate to add it to the laradock itself but if not then how can we proceed about it. So that its available for both php-fpm and cli if required.. I am facing the same issue. This is what i could figure out this far. Even though the dynamic file is being referenced and read (from PHPSTORM) but the values are not being red by phpstorm and are not idnetified in the final config.\nI would love if we can bump priority on this as without xdebug the dev cant happen. I am using homestead as a dev server temporarily.\ncc @philtrep . @iannazzi I follow the same process. Do close the ticket if it answers your question.. This is reference to my comment in #385 . cc @philtrep . @appleboy Thanks. A contributor finally!. I would love to contribute on this. @Mahmoudz @mikeerickson. Do keep me in the loop once the documentation format is finalized.. Thanks in advance @mikeerickson. This is something that I too have been struggling with. Looking forward to the content.. ",
    "dilone": "i have ssh server running on my Fedora, taking the port 22 by default, changing the map to the 2222 works great for me, all the command runs the same way, i just think is good addition to the project.\n. ",
    "mjawaids": "I've tried to use CodeIgniter but page always shows Nginx 404 page. I've tried the suggestions above and from #325 but still not working. Laravel works perfectly. I also tried very simple index.php with phpinfo() that is also not working. Please suggest. Thanks.. I already enabled the codeigniter=true but didn't configure nginx as wanted\nto run default with localhost.\nOn Mar 9, 2017 8:55 PM, \"Manshoor Ahmad Siddiqui\" notifications@github.com\nwrote:\n\nenable CODEIGNITER=true in docker compose and in nginx config map the\npublic folder correctly like this\nserver_name projectName.local;\nroot /var/www/projectName/public_html;\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/387#issuecomment-285391719,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHtdOlnX9jW72JO--Ifu8-3HgiZUimHaks5rkCDsgaJpZM4Ke3SP\n.\n. Nope.\n\nOn Mar 9, 2017 9:30 PM, \"Manshoor Ahmad Siddiqui\" notifications@github.com\nwrote:\n\nso, now is it working fine?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/387#issuecomment-285403274,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHtdOklJZLAxC-87y_81VceMmXJG3Ij8ks5rkCk-gaJpZM4Ke3SP\n.\n. \n",
    "magicuniverse-azeem": "@manshoor were you able to set symfony project. Is there a PR for it?. ",
    "loic-lopez": "i work on macOS Sierra\n. ok Solved by adding MYSQL_HOST=mysql but there is no way to configure with 127.0.0.1 ? and same for redis ?\n. no i've not and i notice that laradock running very slowly\n. ",
    "LoopKarma": "I faced with same problem on Mac. I can debugging works from the CLI, but not from web pages\n. @calebfavor I roughly fixed this problem with adding \nfastcgi_param REMOTE_ADDR your.host.ip.address \ninto http-server config file \n. ",
    "fideloper": "Thanks @LoopKarma, that was the final thing I had to figure out as well.\nSince we're using Docker on mac/windows, we're port forwarding into the VM used by Docker on whatever port we expose.\nPHP-FPM therefore receives the wrong REMOTE_ADDR, so I also hard-coded it into my config (which is just the worst hack imaginable for sharing this amongst a team :D )\nWonder if there's a better solution for that.\n\nEither an env variable used to build the nginx config on the fly when starting the container\nSome way to geting correct REMOTE_ADDR into the docker container, perhaps from setting up a new local network interface (on the host) and using it with docker? (e.g. answer as described here). Current work-around that's a bit more portable for Mac users:\n\ndocker-compose.dev.yml (extends a base compose file, but that's not important here):\nyaml\nversion: '2'\nservices:\n  app:\n    extends:\n      file: docker-compose.base.yml\n      service: app\n    ports:\n     - \"${APP_PORT}:80\"\n    environment:\n      APP_ENV: ${APP_ENV}\n      XDEBUG_PORT: ${XDEBUG_PORT}\ndevelop bash script that runs docker-compose for me (passes arguments through), setting up env vars first\n```bash\nGet local IP address on mac that container can ping\nexport XDEBUG_PORT=$(ipconfig getifaddr en1)\nexport APP_ENV=${APP_ENV:-local}\nexport APP_PORT=${APP_PORT:-80}\ndocker-compose -f docker-compose.dev.yml \"$@\"\n```\nrun.sh script that starts php and nginx inside my container:\n```bash\n!/usr/bin/env bash\nFind and replace configuration to support xdebug\nConfig /etc/nginx/sites-available/default\nsed -i \"s/#FINDREPLACE/fastcgi_param REMOTE_ADDR $XDEBUG_PORT;/g\" /etc/nginx/sites-available/default\nConfig /etc/php/7.0/mods-available/xdebug.ini\nsed -i \"s/xdebug.remote_host\\=.*/xdebug.remote_host\\=$XDEBUG_PORT/g\" /etc/php/7.0/mods-available/xdebug.ini\nstart supervisord\n/usr/bin/supervisord\n```\nThen I have to setup PHPStorm to listen on port 9000 (I just did all networks) and debugging works for both CLI (as it always did) and Web (thanks to REMOTE_ADDR hack).\n\n. Update: I still updated xdebug.ini using the start.sh script, but I can avoid the hacky nginx configuration change simply by setting xdebug.remote_connect_back=0, which attempts to use the REMOTE_ADDR to send xdebug info back for web requests, if that is set.\nDocs on that: https://xdebug.org/docs/all_settings. ",
    "Rastusik": "@fideloper just fyi, you can workaround the xdebug.ini replacing by this:\nxdebug.remote_host = developer.local\nand then modify the php container in docker-compose.yml with:\nextra_hosts:\n      - developer.local:${HOST_IP}\nand just export the HOST_IP variable in the bash script which runs docker-compose up ;). ",
    "coyl": "@fideloper all you need is xdebug.remote_connect_back = Off\nHere is a quote from xdebug documentation\n\nIf enabled, the xdebug.remote_host setting is ignored and Xdebug will try to connect to the client that made the HTTP request. It checks the $_SERVER['HTTP_X_FORWARDED_FOR'] and $_SERVER['REMOTE_ADDR'] variables to find out which IP address to use.\n\nSo, if remote_connect_back is off, xdebug will just connect to xdebug.remote_host and that's all.. https://github.com/LaraDock/laradock/issues/393#issuecomment-299147584 here is more classy solution =). ",
    "wajdijurry": "Sometimes you should disable \"xdebug.remote_connect_back\" to get it work. ",
    "sulfo": "@philtrep The permissions for the data directory runs  chmod drwxr-xr-x so I don't think that is the problem.\nTried to delete data directory too, but it changed nothing. Also chmod 777 without any effects.\nI'm using the Docker Toolbox, to get it running on my old Mac.\nJust tried a brand new location, with no existing project, and got the same error from mysql. \n342 related?\n. Hey @manshoor and @philtrep. Thanks for trying to help me. So I removed all containers and images with the commands docker rm $(docker ps -a -q) and docker rmi -f $(docker images -q).\nCreated a new directory, outside my project so I could eliminate any problems the project could have (I don't think there is any, but better be safe...). However this did not fix the problem. \ud83d\ude1e \nI was able to install Docker for Mac and pull the repo from a friend who has been nice to let me use his Mac this weekend. It worked! \ud83d\ude2e \nI still have some debugging todo, but the current conclusion is that LaraDock can't run on a Mac, with Docker Toolbox installed. I can also be it's a permission bug in OSX 10.10.4 (Yosemite). I really don't know yet.\nFor now I will go back to use Laravel Homestead again \ud83d\ude04 \n. I will give it a try by running Docker native on my Mac. Got nothing to lose ;-)\n. ",
    "yao23": "Deleting unused images to release space in docker works for me.. ",
    "dsampaolo": "@philtrep sure, here you are.\n. ",
    "adominik42": "After pulling latest master branch and rebuilding all my containers(just in case), at nginx step 6, same error again.\nBuilding nginx\nStep 1 : FROM nginx:alpine\n ---> 00bc1e841a8f\nStep 2 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> 07e286f6204c\nStep 3 : ADD nginx.conf /etc/nginx/\n ---> Using cache\n ---> 4607af566b79\nStep 4 : COPY sites/*.conf /etc/nginx/sites-available/\n ---> Using cache\n ---> 80d2b96c960c\nStep 5 : ARG PHP_UPSTREAM=php-fpm\n ---> Using cache\n ---> 2ea99793ba4c\nStep 6 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\n ---> Running in bd0e229b48a0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nERROR: http://dl-cdn.alpinelinux.org/alpine/v3.4/main: temporary error (try again later)\nWARNING: Ignoring APKINDEX.167438ca.tar.gz: No such file or directory\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nERROR: http://dl-cdn.alpinelinux.org/alpine/v3.4/community: temporary error (try again later)\nWARNING: Ignoring APKINDEX.a2e6dac0.tar.gz: No such file or directory\n2 errors; 24 distinct packages available\nERROR: Service 'nginx' failed to build: The command '/bin/sh -c apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf' returned a non-zero code: 2\n. ",
    "dmassiani": "I have the same error.. Last. ",
    "eddigei": "same problem. ",
    "helbing": "same problem too\uff0cbut if enter the command docker-compose up -d mysql nginx again , it success. I had the same problem too\nSystem: windows7\ndocker-compose version 1.9.0, build 2585387. I also had this problem, and now I solved it. You should use docker-machine first, and then execute docker-compose -up -d mysql nginx. ",
    "mouyong": "i have the same problem, but i dont know how to deal with it, could you give me some ideas? thanks.. # You can fix it like this\uff1a\n```\nFROM nginx:alpine\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nADD nginx.conf /etc/nginx/\nARG PHP_UPSTREAM=php-fpm\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories \nRUN    apk update \\\n    && apk upgrade \\\n    && apk add --no-cache bash \\\n    && adduser -D -H -u 1000 -s /bin/bash www-data \\\n    && rm /etc/nginx/conf.d/default.conf \\\n    && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\nCMD [\"nginx\"]\nEXPOSE 80 443\n```\n. @philtrep okay, I'm clone it in my space, and submit a PR.. @alexweb hao do you fixed the problem? i have a same problem.\nBuilding php-fpm\nUnknown instruction: DOCKER-PHP-EXT-INSTALL. @mikeerickson yes, on windows 10 pc.. @fedemotta @philtrep if you in china , i think you can accept it,\n\nhttp://mirrors.aliyun.com/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\n\nif you no in china , i think you can delete it .\nand i have some suggestion.\n\nhttp://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\n\ndoesn't exists some file. so ,have sometime , in china ,it can throw error.\nso when i change sourse ,it can work.. no,i dont think, and i dont know do it better ,the project have some chinainese ues.if you have a better fanction. you can propose ,let us help more people. and i also can accept your suggestion and learn it. how do you think? @fedemotta @philtrep . I believe that everyone wants to be better and help us to finish our work better. If you have any good advice, I think you can propose it. how do you think?. https://github.com/jenkinsci/docker/issues/493\nIt solve my problem. \n\ncd laradock && chown -R 1000:1000 jenkins/jenkins_home. \u62b1\u6b49\uff0c\u53ef\u80fd\u7ed9\u4f60\u4eec\u5e26\u6765\u4e86\u4e00\u4e9b\u9ebb\u70e6\uff0c\u6211\u5e76\u4e0d\u77e5\u9053\u5728 \u4e2d\u56fd\u4ee5\u5916\u7684\u670d\u52a1\u5668\u5bf9 \u963f\u91cc mirrors \u80fd\u5426\u8fdb\u884c\u54cd\u5e94\uff0c\u4f46\u662f\uff0c\u6211\u8ba4\u4e3a\uff0c\u8fd9\u4e2a\u5e94\u8be5\u4ea4\u53cb\u4f7f\u7528\u8005\u5728 .env \u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u3002\u5f53\u4ed6\u5728\u4e2d\u56fd\u7684\u8303\u56f4\u5185\uff0c\u5e94\u8be5\u4f7f\u7528 sed \u8fdb\u884c\u6362\u6e90\uff0c\u5982\u679c\u975e\u4e2d\u56fd\u8303\u56f4\uff08\u4f8b\u5982\u5728\u975e\u4e2d\u56fd\u670d\u52a1\u5668\u4e0a\uff09\uff0c\u5c31\u8df3\u8fc7\u4f7f\u7528 sed \u547d\u4ee4\u3002\u8fd9\u6837\u624d\u5e94\u8be5\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u6211\u670b\u53cb\u548c\u6211\u8bf4\u4ed6\u4f7f\u7528\u6700\u65b0\u7248\u7684 laradock build nginx \u51fa\u73b0 apk add --no-cache bash \u62a5\u9519\u3002\u540e\u6765\u5207\u6362\u5230\u65e7\u7248\u7684 laradock \u540e\uff0cbuild nginx \u6210\u529f\u5de5\u4f5c\u4e86\u3002\u6240\u4ee5\u6211\u8ba4\u4e3a\u5e94\u8be5\u8fd9\u6837\u5904\u7406\u3002 . \u8fd8\u6709\u4e2a\u95ee\u9898\u662f\uff0c\u67d0\u4e9b\u7248\u672c\u4e4b\u4e0b\u7684 alpine \u4e2d\uff0c\u67d0\u4e2a tar.xz \u5f52\u6863\u6587\u4ef6\u5c06\u4f1a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u6240\u4ee5\u3002\u66f4\u6362 alpine \u7684 \u6e90 \u4e5f\u8bb8\u662f\u4e2a\u6bd4\u8f83\u597d\u7684\u9009\u62e9\uff0c\u5728\u4e2d\u56fd\u5185\uff0c\u53ef\u4ee5\u66f4\u6362\u4e3a \u963f\u91cc \u7684 \uff0c\u5728\u975e\u4e2d\u56fd\u5730\u533a\uff0c\u5982\u679c\u5b98\u65b9\u6e90\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u5927\u5bb6\u6709\u6bd4\u8f83\u597d\u7684\u6e90\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u51fa\u6765\uff0c\u544a\u77e5\u5176\u4ed6\u4f7f\u7528\u8005\u3002. @vjekoslav \u6211\u4e0d\u662f\u7279\u522b\u540c\u610f\u4f60\u7684\u89c2\u70b9\u3002\u4e5f\u8bb8\u4f60\u6211\u7684\u73af\u5883\u4e0d\u540c\u3002\u4f60\u4e0d\u77e5\u9053\u6211\u4eec\u4e0d\u8fdb\u884c\u6362\u6e90\u5904\u7406\u9700\u8981\u591a\u4e48\u7684\u8017\u65f6\u3002https://laravel-china.org/articles/6731/laradock-nginx-uses-domestic-sources#reply1 \uff0c\u5e76\u4e14\uff0c\u8fd9\u4e00\u6b65\u662f\u5bf9\u67d0\u4e9b\u73af\u5883\u4e0b\u624d\u9700\u8981\u7684\u3002. @vjekoslav\nThis is issue in the past:\n https://github.com/laradock/laradock/issues/397\n\nIn version 3.4 of apline, there is a file that cannot be downloaded from the default source, but this file is an index file and is indispensable. Index file is\nHttp://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nNow maybe this problem has been repaired. But the developers in china. It takes a long time to build the environment.\n. Such as the issue @fedemotta  said: \n\nIt seems that this mirror site works fine from china, maybe we can create a ENV variable to select the proper site to download the alpine links and let the user decide which one to use.\n\nSo with this pull request\n. update jenkins from 2.73.2 to 2.89.2 and fix nginx/Dockerfile syntax error.. > \ud83e\uddd0I have the same problem! My System is Mac OS 10.14.1\u3002\n\u8fd9\u662f\u5b9d\u82b1\u540c\u5b66\u5417\uff1f. i have the same problem! Normal file format after switching from DOS to UNIX. \nYou can close the issue.. this is a correct answers.\n\nconvert laradock\\nginx\\startup.sh file's windows style line endings to linux style line endings solve the problem\n\n. https://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10. > .gitignore nginx/ssl is no need by this issues.\nEvery  one maybe have some local ssl file, I think it no need to submit.. ",
    "kosilence": "same problem\nStep 5 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf\n ---> Running in 24893df580bd\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nv3.4.6-66-g8f0ae71 [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]\nv3.4.6-33-g38ef2d2 [http://dl-cdn.alpinelinux.org/alpine/v3.4/community]\nOK: 5976 distinct packages available\n(1/3) Upgrading libcrypto1.0 (1.0.2j-r0 -> 1.0.2k-r0)\n(2/3) Upgrading libssl1.0 (1.0.2j-r0 -> 1.0.2k-r0)\n(3/3) Upgrading busybox (1.24.2-r12 -> 1.24.2-r13)\nExecuting busybox-1.24.2-r13.post-upgrade\nExecuting busybox-1.24.2-r13.trigger\nOK: 54 MiB in 24 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ncurses-terminfo-base (6.0-r7)\n(2/5) Installing ncurses-terminfo (6.0-r7)\nERROR: Service 'nginx' failed to build: The command '/bin/sh -c apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data     && rm /etc/nginx/conf.d/default.conf     && echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000; }\" > /etc/nginx/conf.d/upstream.conf' returned a non-zero code: 137\nAnd i fixed it by changing docker-compose.yml nginx config, and rewriting the nginx ports 80:80 443:443 to 8083:80 4431:443 or whatever you want (make sure the new ports isn't in use). ",
    "NisalG": "I was able to fix this based on comment by @kosilence\nI changed laradock/.env as below:\nNGINX Container\nNGINX_HOST_HTTP_PORT=80\nNGINX_HOST_HTTPS_PORT=443\nNGINX_HOST_HTTP_PORT=8083\nNGINX_HOST_HTTPS_PORT=4431\n. This is what worked for me:\nReplace laradock/workspace/Dockerfile > 'User Alias' section according to @kvahuja \nRebuilt according to @bagart:\n$ docker-compose stop\n$ git pull\n$ docker-compose build --pull workspace\n$ docker-compose up -d nginx mysql\n$ docker-compose exec workspace bash\n . ",
    "sashaaro": "Yes. I enabled.node -v show me v7.0.0 after su laradock. \nwhy need install global? I have \"package.json\"\nwhich node said /home/laradock/.nvm/versions/node/v7.0.0/bin/node \nuglifyjs - /var/www/symfony/node_modules/uglify-js/bin/uglifyjs. \nIn console /home/laradock/.nvm/versions/node/v7.0.0/bin/node node_modules/uglify-js/bin/uglifyjs work.\nI set these paths in settings. But it is not work yet. And php is_file(/home/laradock/.nvm/versions/node/v7.0.0/bin/node) return false; \n. But I have \"package.json\". \nI got. Seems I can't do it without instalation node in both containers, sad.\n. Why not add Intl by default. Many packages required it. Seems It work for me long time ago. At least I have not docker's errors.\nI think it is only for php-fpm. But for composer install We should change workspace Dockerfile. \nI don't know exactly. Someone know better than me should correct it.\nBy the way you can avoid it by use run composer install --ignore-platform-reqs. ",
    "limatheus": "Hello again, \nI solved this issue removing all images with docker rmi $(docker images -q) and running docker-compose up -d nginx mysql redis.\nThank you anyway\n. ",
    "lexcode": "I got the same issue on my windows machine\nERROR: for workspace  Cannot start service workspace: invalid header field value \"oci runtime error: container_linux.go:247: starting container process caused \\\"chdir to cwd (\\\"/var/www/laravel\\\") set in config.json failed: no such file or directory\\\"\\n\"\nERROR: Encountered errors while bringing up the project.\nI tried @limatheus  solution but no lucky.\nThank you\n. ",
    "dennisc1": "For me, rebuilding all the containers with docker-compose build --no-cache did the trick. \nThis method is described at Upgrading LaraDock\n. ",
    "xonge": "@philtrep you're right,but what time will fix it?. ",
    "zhibuzu": "@philtrep  Thanks, it's works. . ",
    "silgon": "@dennisc1 thanks!, it worked for me!. ",
    "Kianda": "@markdev how is your structure made?\n-projectABC\n--laradock\n---docker-compose-testing.yml\n---docker-compose-production.yml\nsomething like this?\n. Thanks @appleboy that fixed my issues!\n. ",
    "alchimik": "fix for aerospike - #622\nfix for opcache - #617. I think need some explanation\nmysql_1               | Initializing database\n...\nmysql_1               | Database initialized\nmysql_1               | Initializing certificates\n...\nmysql_1               | Certificates initialized\nmysql_1               | MySQL init process in progress...\n...\nmysql_1               | 2017-03-03T04:45:03.861539Z 0 [Note] Execution of init_file '/etc/mysql/startup' started.\n startup run here, create homestead user\nmysql_1               | 2017-03-03T04:45:03.862226Z 0 [Note] Execution of init_file '/etc/mysql/startup' ended.\n...\nremove users (including homestead)\n...\nmysql_1               | ERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\nhere\ncan't recreate homestead user because ... mysql bug or something like that\nsee here\nonly flush privileges don't work, with drop user work fine \ndocker-entrypoint.sh should be used instead of init-file. \n649 :+1:. Just launched all containers (docker-compose up -d)\nThere is an error in mysql log , \n\nERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\n\nbut the container is running.\nAt one and the same error, the container may fall and may continue to work. I do not understand ... :cry:. The extension is loaded in  /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini (if INSTALL_OPCACHE=true). \nsee https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-70#L171\nno need to load twice\n\nDoes this work with CLI version too?\n\nyes\n\nWhy if you are going to move the extension out why not the other settings?\nWell the setting from php-fpm/opcache.ini be read into the in from the docker-php?\n\ni do not understand. up. related https://github.com/laradock/laradock/issues/113, https://github.com/laradock/laradock/issues/113#issuecomment-265506361\nwithout \"safe write\" work for me. @stanleyli60 sorry I can't help. I use apache. What about this (like xdebug):\n- remove \"extension=aerospike.so\" from aerospike.ini\n- use  docker-php-ext-enable to enable extension\n```\nARG INSTALL_AEROSPIKE_EXTENSION=false\nENV INSTALL_AEROSPIKE_EXTENSION ${INSTALL_AEROSPIKE_EXTENSION}\nCopy aerospike configration for remote debugging\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini\nRUN if [ ${INSTALL_AEROSPIKE_EXTENSION} = true ]; then \\\n    # Install the php aerospike extension\n    curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/luciano-jr/aerospike-client-php/archive/master.tar.gz\" \\\n    && mkdir -p aerospike-client-php \\\n    && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n    && ( \\\n        cd aerospike-client-php/src/aerospike \\\n        && phpize \\\n        && ./build.sh \\\n        && make install \\\n    ) \\\n    && rm /tmp/aerospike-client-php.tar.gz \\\n    && docker-php-ext-enable aerospike \\\n;fi\n``\n- do not removeaerospike.iniif$INSTALL_AEROSPIKE_EXTENSION` = false\nsame for opcache (see #617). Wrong\nroot@xxx:/# cat /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini\nzend_extension=/usr/local/lib/php/extensions/no-debug-non-zts-20151012/xdebug.so\ncurrent path is correct\nfile  /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini created by docker-php-ext-enable xdebug command\nfor example here - https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-56#L59\n\u0442.\u0435. \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0432 \u043e\u0434\u043d\u043e\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u0435 (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini), \u0430 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u043c (/usr/local/etc/php/conf.d/xdebug.ini). can be closed. see #758. please add ssmtp or equivalent (i use msmtp). mailhog/Dockerfile file is not needed. Replace build: ./mailhog -> image: mailhog/mailhog. please add ssmtp or equivalent (i use msmtp)\nmailhog/Dockerfile file is not needed. Replace build: ./mailhog -> image: mailhog/mailhog. if ssmtp is in a separate container, how php will use it?\nhttps://github.com/gagarine/docker-php/blob/master/Dockerfiles/phpfpm/7.0/config/etc/php/7.0/fpm/php.ini#L1022. to mailhog SMTP host - https://github.com/gagarine/docker-php/blob/master/Dockerfiles/phpfpm/7.0/config/etc/ssmtp/ssmtp.conf#L10\nI want to be able to use the mail function, forward all email sended by mail function to mailhog.. I meant to install ssmtp in php-fpm, not in mailhog container\nPlus do the installation ssmtp optional. Something like:\n```\nCOPY ./ssmtp.conf /etc/ssmtp/ssmtp.conf\nCOPY ./php_sendmail.conf /usr/local/etc/php/conf.d/sendmail.conf\nARG FORWARD_MAIL_TO_MAILHOG=false\nRUN if [ ${FORWARD_MAIL_TO_MAILHOG} = true ]; then \\\n    apt-get -y update && \\\n    apt-get -y ssmtp && \\ \n;fi\nRUN if [ ${FORWARD_MAIL_TO_MAILHOG} = false ]; then \\\n    rm /etc/ssmtp/ssmtp.conf  && rm /usr/local/etc/php/conf.d/sendmail.conf \\\n;fi\n```\nssmtp.conf\nmailhub=mail:1025\nhostname=web\nphp_sendmail.conf\n; Send to mailhog\nsendmail_path = \"/usr/sbin/ssmtp -t\"\nJust an example, not tested. > I see, it was really confusing because you added this comment in the MailHog PR. Maybe just add that as a separate request? I'm sure it's an easy task, if I have time I might do another PR for it, but for now, just add that as a separate request suggestion?\nYes, you're right\nlittle question - why do we need links: - php-fpm?. > so that you can reference the mailhog container from php-fpm e.g. MAIL_HOST=mailhog\nIt works without links - Networking in Compose\n\nBy default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.\n. 1. imho - very case specific and is not gonna be used by many users\n2. something wrong with docs/index.html. I think that is a valid syntax\nhttps://docs.docker.com/compose/compose-file/compose-file-v2/#environment\n You can use either an array or a dictionary\n\nhttps://github.com/search?l=YAML&p=1&q=environment+MYSQL_DATABASE&ref=searchresults&type=Code&utf8=%E2%9C%93\nminio, postgres, rabbitmq, phpmyadmin use same syntax.\nwork fine on my machine\nJust launched all containers (docker-compose up -d) - no errors.\n```\n\ndocker-compose version\ndocker-compose version 1.11.2, build f963d76f\ndocker-py version: 2.1.0\nCPython version: 2.7.13\nOpenSSL version: OpenSSL 1.0.2j  26 Sep 2016\ndocker version\nClient:\n Version:      17.03.0-ce\n API version:  1.26\n Go version:   go1.7.5\n Git commit:   60ccb22\n Built:        Thu Feb 23 10:40:59 2017\n OS/Arch:      windows/amd64\n\nServer:\n Version:      17.03.0-ce\n API version:  1.26 (minimum version 1.12)\n Go version:   go1.7.5\n Git commit:   3a232c8\n Built:        Tue Feb 28 07:52:04 2017\n OS/Arch:      linux/amd64\n Experimental: true\n```. Why did you replace 4 spaces by 2?. @Mahmoudz @zeroc0d3 \n\nIs it so hard to see the diff before merge?\n@zeroc0d3\nWhat fixes this commit (pull)? indent_size? Now the indentation is really broken. 2 and 4 spaces in one file (docker-compose.yml)\n\nridiculous\n\"Fixing environment in docker-compose file\" - What was wrong with them?\n. Duplicate\nsee #649 and #583. @brezzhnev Why use two containers if they use the shared volume (postgres)?\nI think you should use two volums:\n```\nPostgreSQL Container\npostgres:\n    build: ./postgres\n    volumes:\n        - postgres:/var/lib/postgresql/data\n    ports:\n        - \"5432:5432\"\n    environment:\n        POSTGRES_DB: ${POSTGRES_DB}\n        POSTGRES_USER: ${POSTGRES_USER}\n        POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n\nPostgreSQL Container\npostgres-test:\n    build: ./postgres\n    volumes:\n        - postgres-test:/var/lib/postgresql/data\n    ports:\n        - \"5433:5432\"\n    environment:\n        POSTGRES_DB: ${POSTGRES_DB}\n        POSTGRES_USER: ${POSTGRES_USER}\n        POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n\n...\nVolumes Setup\nvolumes:\n    mysql:\n        driver: \"local\"\n    postgres:\n        driver: \"local\"\n    postgres-test:\n        driver: \"local\"\n``. see #649, file mysql/startup will be removed. You can add lineRUN docker-php-ext-install calendarin filephp-fpm/Dockerfile-70.docker-php-ext-install mysqlwork fine for me\nDon't forget to rebuild the image -docker-compose build --no-cache php-fpm`\nWhich file you edit? . https://github.com/laradock/laradock/issues/868#issuecomment-297675241 ?. '/tmp' dir not exists on windows. \nMy 'solution' - don't use DATA_SAVE_PATH \n(in docker-compose.yml)\n```\nMySQL Container\nmysql:\n  build:\n    context: ./mysql\n  environment:\n    - MYSQL_DATABASE=${MYSQL_DATABASE}\n    - MYSQL_USER=${MYSQL_USER}\n    - MYSQL_PASSWORD=${MYSQL_PASSWORD}\n    - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n  volumes:\n    # without DATA_SAVE_PATH\n    - mysql:/var/lib/mysql \n  ports:\n    - \"${MYSQL_PORT}:3306\"\n  networks:\n    - backend\n\n```\nOr you can specify a directory that exists on your computer.. docker-compose logs apache2 ?. you must create public folder, next to laradock folder \n--|\n  |-- ...\n  |-- laradock\n  |-- public\n  |-- .... https://github.com/docker/compose/issues/4106#issuecomment-356443809\n\nIf you are in this (Windows containers) mode and try to run/build linux containers you'll probably get errors like:\n| client version 1.22 is too old. Minimum supported API version is 1.24, please up grade your client to a newer version\nor\n| image operating system linux cannot be used\nMake sure you switch to Linux containers mode if you want to use linux containers.. reason of removing the public -\n https://github.com/laradock/laradock/commit/2af40b0ba107a86b57710226fb3b2c29b309f164#commitcomment-23570558. https://github.com/laradock/laradock/blob/master/php-fpm/xdebug.ini#L4\n\n'xdebug.remote_connect_back=1' - works fine for me.. I don't know how to do it. COPY inside RUN? \nGot error - ERROR: Unknown instruction: CURL\nwith backslash:\nCOPY ./aerospike.ini /usr/local/etc/php/conf.d/aerospike.ini \\\ngot - /bin/sh: 1: COPY: not found. should be something like this:\nenvironment\n            MYSQL_DATABASE: ${MYSQL_DATABASE}\n            MYSQL_USER: ${MYSQL_USER}\n            MYSQL_PASSWORD: ${MYSQL_PASSWORD}\n            MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}\nsee mariadb - https://github.com/laradock/laradock/blob/master/docker-compose.yml#L169. ",
    "tylerkoldenjtp": "OS: Ubuntu 16.04.1 LTS\nDocker: version 1.12.3, build 6b644ec\nLaradock: tag 4.10.0\nInstallation type: A.1) Setup environment in existing Project\nIssue:\n$ sudo docker-compose -p test up -d nginx postgres elasticsearch redis\nCreating test_applications_1\nCreating test_postgres_1\nCreating test_redis_1\nCreating test_workspace_1\nERROR: for workspace  Cannot start service workspace: invalid header field value \"oci runtime error: container_linux.go:247: starting container process caused \\\"chdir to cwd (\\\"/var/www/laravel\\\") set in config.json failed: no such file or directory\\\"\\n\"\nERROR: Encountered errors while bringing up the project.\nThis post recommends running as sudo which did not work for me.\nIt is also working properly on tag v4.8.0\n. ",
    "jschaftenaar": "this is my packages.json\n{\n  \"private\": true,\n  \"scripts\": {\n    \"build\": \"webpack --progress --colors --watch\"\n  },\n  \"devDependencies\": {\n    \"babel\": \"^6.5.2\",\n    \"bootstrap-sass\": \"^3.0.0\",\n    \"css-loader\": \"^0.23.1\",\n    \"eslint\": \"^2.10.1\",\n    \"eslint-config-standard\": \"^5.3.1\",\n    \"eslint-config-standard-jsx\": \"^1.2.0\",\n    \"eslint-config-standard-react\": \"^2.4.0\",\n    \"eslint-plugin-promise\": \"^1.1.0\",\n    \"eslint-plugin-react\": \"^5.1.1\",\n    \"eslint-plugin-standard\": \"^1.3.2\",\n    \"gulp\": \"^3.9.1\",\n    \"laravel-elixir\": \"^5.0.0\",\n    \"laravel-elixir-webpack\": \"^1.0.1\",\n    \"node-sass\": \"^3.7.0\",\n    \"react\": \"^15.0.2\",\n    \"react-dom\": \"^15.0.2\",\n    \"react-redux\": \"^4.4.5\",\n    \"redux\": \"^3.5.2\",\n    \"sass-loader\": \"^3.2.0\",\n    \"style-loader\": \"^0.13.1\",\n    \"webpack\": \"^1.13.0\",\n    \"webpack-livereload-plugin\": \"^0.8.1\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^0.11.1\",\n    \"babel-core\": \"^6.8.0\",\n    \"babel-loader\": \"^6.2.4\",\n    \"babel-preset-es2015\": \"^6.6.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"jquery\": \"^2.2.4\"\n  }\n}\n. Other things I have tried include the --no-bin-links option and different versions of npm and node.\n. when running the workspace as user laradock I am running into a bunch of these errors\nnpm ERR! Maximum call stack size exceeded\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     <https://github.com/npm/npm/issues>\nnpm ERR! Linux 4.4.0-45-generic\nnpm ERR! argv \"/home/laradock/.nvm/versions/node/v7.0.0/bin/node\" \"/home/laradock/.nvm/versions/node/v7.0.0/bin/npm\" \"install\"\nnpm ERR! node v7.0.0\nnpm ERR! npm  v3.10.8\n. I switched to use yarn and all seems to be good now. npm is just a pain when working with network maps.\n. This happens for me with a fresh clone of laravel and laradock. when running \ndocker-compose up -d apache2 mysql\nI run into a 403 but when I start the containers with\ndocker-compose up -d nginx mysql\nthe initial laravel website loads.\nAgain I might be missing a step I need to do with apache2 as I didn't seem to have this issue before.\n. It turned out to be a permissions issue. Not sure why it would not be accessible on Apache2 but work on nginx out of the box. I had to change the permission of the directory to 755 and 644 for the .htaccess file.\n. ",
    "danielsdeboer": "@korneliuskristianr Thanks, that worked great, the container is starting as expected with that change.\n. ",
    "naretini": "I've found out my problem.\nSince I switch from an older version of laradock to a new version today.\nAfter setting up multiple sites for nginx container.\nI was only refreshing docker's config by \n$ docker-compose down && docker-compose up -d nginx\nYou actually need to perform a\n$docker-compose build nginx \ntoo, ....anytime you change Dockerfile under nginx folder\n. Well, since Docker is a development env. I don't feel the need of having multiple mysql users (at the moment). Mysql user for me could be always the \"homestead\".\nI agree with you with solution of running a sql script after building the mysql container. I struggled to figure out how to get it working still with no success.\nI didn't find yet a comprehensive guide on how to fire a shell script to the mysql container that contains instructions for running sql.\nWhat I found around and did:\n- created myscript.sql in /laradock/mysql/files/ :\n  Contents of myscript.sql are:\ncreate database test01;\nGRANT ALL ON . TO homestead@'%';\n- created init_db.sh :\n  Contents of bash are\n!/bin/bash\n/usr/bin/mysqld_safe &\nsleep 5\nmysql -uroot -proot < /tmp/myscript.sql\n- EDIT /mysql/Dockerfile  adding lines: \n  ADD files/myscript.sql /tmp/\n  ADD files/init_db.sh /tmp/\n- EDIT /laradock/docker-compose.yml  (Here I Think I'm missing the HOW-TO)\n  On Mysql container section:\n  mysql:\n      build: ./mysql\n      volumes:\n          - mysql:/var/lib/mysql\n      ports:\n          - \"3306:3306\"\n      environment:\n          MYSQL_DATABASE: homestead\n          MYSQL_USER: homestead\n          MYSQL_PASSWORD: secret\n          MYSQL_ROOT_PASSWORD: root\n      command: /tmp/init_db.sh\nno success....\n. Just cloned laradock and \n$docker-compose up --build nginx\nI got a series of errors like:\n\n[WARNING]: Empty continuation line found in:\n    RUN if [ ${INSTALL_AEROSPIKE} = true ]; then     apt-get update -yqq &&     apt-get -y install sudo wget &&     curl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/aerospike/aerospike-client-php/archive/master.tar.gz\"     && mkdir -p aerospike-client-php     && tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1     && (         cd aerospike-client-php/src         && phpize         && ./build.sh         && make install     )     && rm /tmp/aerospike-client-php.tar.gz ;fi\n\n.env id s set up to use PHP_VERSION=71\nSo looking in Dockerfile-71 for php-fpm and workspace I see there are inline comments.\nI guess the error is related to them\n\nRUN if [ ${INSTALL_AEROSPIKE} = true ]; then \\\n    # Fix dependencies for PHPUnit within aerospike extension\n    apt-get update -yqq && \\\n    apt-get -y install sudo wget && \\\n\n# Install the php aerospike extension\ncurl -L -o /tmp/aerospike-client-php.tar.gz \"https://github.com/aerospike/aerospike-client-php/archive/master.tar.gz\" \\\n&& mkdir -p aerospike-client-php \\\n&& tar -C aerospike-client-php -zxvf /tmp/aerospike-client-php.tar.gz --strip 1 \\\n&& ( \\\n    cd aerospike-client-php/src \\\n    && phpize \\\n    && ./build.sh \\\n    && make install \\\n) \\\n&& rm /tmp/aerospike-client-php.tar.gz \\\n\n;fi\nRemoving the comments doesn't solve the warning.... what am I supposed to do?\n. ",
    "moxar": "I just ran into the same issue.\n. It seems the problem is that the $PATH of the workspace container cannot find node.\nHere is a fix.\nhttps://github.com/laradock/laradock/pull/418\n. ",
    "JakeYim": "same Issue\nERROR: Invalid volume spec \"phpmyadmin\": Invalid volume destination path: 'phpmyadmin' mount path must be absolute.\n. I found out the cause of this problem.\nIt was a version issue of docker-compose.\nI was using docker-compose 1.6 and updated to the latest version 1.13 and it worked fine.\nIf you have this problem, please update your docker-compose to the latest version.. ",
    "BennyWang": "@jakeim @SamAriafar \njust remove \nvolumes: \n        - phpmyadmin \nfrom docker-compose.yml\n. ",
    "Gostwow": "Same issue here\n. ",
    "TimDorand": "EDIT: Fixed now with the custom folder of myslq \nHi, I have the same issue when executing mysqld in a bash script at the end of my Dockerfile:\nDockerfile\n```sh\nFROM mysql:5.7\nUSER mysql\nCOPY ./setconf.sh .\nCOPY config/my.cnf /etc/mysql/conf.d\nCMD [ \"./setconf.sh\" ]\nCMD [\"mysqld\"]\nThis command works !\nI'm getting this error:\n[ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it\n[ERROR] Fatal error: Can't open and lock privilege tables: Table 'mysql.user' doesn't exist\n```\ndocker-compose\nmysql:\n    build: mysql\n    environment:\n      MYSQL_PASSWORD: Axway123!\n      MYSQL_ROOT_PASSWORD: Axway123!\n      HOST: mysql\n      MYSQL_ROOT_HOST: mysql\n    ports:\n         - \"3306:3306\"\n./setconf.sh\nmysqld. ",
    "roberto0arruda": "@dtkoval \nneed your help\nAny suggestions?\nThanks for the tip. Here's the output of the log:\n```\nAttaching to laradock_mysql_1\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T20:09:33.499311Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T20:09:33.499389Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T20:09:33.501386Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T20:56:19.669075Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T20:56:19.669143Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T20:56:19.670601Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T20:56:36.086146Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T20:56:36.086212Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T20:56:36.087709Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T21:02:41.045663Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T21:02:41.045751Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T21:02:41.047610Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T21:19:43.857959Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T21:19:43.858054Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T21:19:43.860154Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T23:23:11.447142Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T23:23:11.447222Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T23:23:11.449179Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-01T23:38:39.833057Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-01T23:38:39.833117Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-01T23:38:39.834396Z 0 [ERROR] [MY-010119] [Server] Aborting\nmysql_1                | \nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-05-02T01:06:43.317582Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-05-02T01:06:43.317644Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-05-02T01:06:43.319028Z 0 [ERROR] [MY-010119] [Server] Aborting\n```. ",
    "eraelpeha": "Same here, any suggestions?\n```\nERROR: mysqld failed while attempting to check config\ncommand was: \"mysqld --verbose --help\"\n2018-05-02T19:41:27.489875Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\n2018-05-02T19:41:27.489927Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\n2018-05-02T19:41:27.491792Z 0 [ERROR] [MY-010119] [Server] Aborting\n```. ",
    "ekrokowski": "Same here\n2018-05-08T13:14:20.541287Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\n2018-05-08T13:14:20.541348Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\n2018-05-08T13:14:20.543616Z 0 [ERROR] [MY-010119] [Server] Aborting. ",
    "davron112": "At me too so was.\ndocker-compose logs mysql\nResult:\n\nmysql_1\nERROR: mysqld failed while attempting to check config\nmysql_1 command was: \"mysqld --verbose --help\"\n2018-05-09T06:28:44.414631Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\n\ndocker-compose ps\nResult:\n\nlaradock_mysql_1        docker-entrypoint.sh    Exit 1\nmysqld\n\nI solved this problem.\n\nlaradock/.env, set MYSQL_VERSION =latest to  MYSQL_VERSION =5.7\ndocker-compose build mysql\ndocker-compose up -d mysql\ndocker-compose ps\nResult:\n\nlaradock_mysql_1     docker-entrypoint.sh mysqld     Up\n\n\n\ndocker-compose exec mysql mysql -u homestead -p secret. \n",
    "crosspluser": "\ud83e\udd23\nMySQL 8.0.11 remove the \u2019NO_AUTO_CREATE_USER\u2018 from sql-mode.\nlaradock\n/mysql/my.cnf [mysqld]\nSTRICT_TRANS_TABLES STRICT_TRANS_TABLES cannot be existing at the same time.\nMySQL 5.7: Using GRANT to create users. Instead, use CREATE USER. Following this practice makes the NO_AUTO_CREATE_USER SQL mode immaterial for GRANT statements, so it too is deprecated.\nMySQL 8.0.11: Using GRANT to create users. Instead, use CREATE USER. Following this practice makes the NO_AUTO_CREATE_USER SQL mode immaterial for GRANT statements, so it too is removed.. @samijnih \nI have the same problem and solve it :)\n1. Our php version(workspace) should be 7.1.9 or higher.\n2. Use docker-compose build or docker build instead of docker-compose up.\nBecause docker-compose up won't rebuild the image, that make our php version too old to use laradock, if we have laradock in our computer yet.\n. springjs is right.\nThe Document of How to Install Docker CE:\nhttps://fabianlee.org/2017/03/07/docker-installing-docker-ce-on-ubuntu-14-04-and-16-04/.  :) I solved the problem.\nShare my method:\n\n\ndocker-compose down\n\n\nRemove mysql/data\nrm ~/.laradock\n\n\nRemove Useless Images\ndocker rmi [all useless images id]\nWarning : Don't remove your useful images.\n\n\nClean all useless docker volume\nsudo docker volume rm $(sudo docker volume ls -qf dangling=true)\n\n\nUpdate your docker version to 17.06-ce or higher version.\nhttps://fabianlee.org/2017/03/07/docker-installing-docker-ce-on-ubuntu-14-04-and-16-04/\n\n\nBuild\n sudo docker-compose up -d --build nginx mysql. \ud83e\udd23\nMySQL 8.0.11 remove the \u2019NO_AUTO_CREATE_USER\u2018 from sql-mode.\n/mysql/my.cnf [mysqld]\nSTRICT_TRANS_TABLES STRICT_TRANS_TABLES cannot be existing at the same time.\n\nMySQL 5.7: Using GRANT to create users. Instead, use CREATE USER. Following this practice makes the NO_AUTO_CREATE_USER SQL mode immaterial for GRANT statements, so it too is deprecated.\nMySQL 8.0.11: Using GRANT to create users. Instead, use CREATE USER. Following this practice makes the NO_AUTO_CREATE_USER SQL mode immaterial for GRANT statements, so it too is removed.. \n\n\n",
    "doreancl": "@koval-d thanks, this work for me\ndocker volume rm $(docker volume ls -q). ",
    "voidnoble": "@philtrep I need that ssh connection to setting the phpstorm's deployment. \n@LarryEitel Thank you. I will try it.\n. I resolved my problem with following article :\nhttps://medium.com/@pablofmorales/xdebug-with-docker-and-phpstorm-786da0d0fad2. ",
    "mamamiapeguin": "\"chmod 0600 workspace/insecure_id_rsa\" works. ",
    "mbtamuli": "@philtrep No, it did not work.\nI am using Arch Linux with the latest version of Docker(1.12.3).\nI just modified these line for dockerhost.\nextra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:172.18.0.1\"\n. I thought something like this was going on - MySQL issue\nBut I have enough swap. I checked using free -m: \n```\n              total        used        free      shared  buff/cache   available\nMem:           7920        1123        4541         148        2255        6350\nSwap:          8191          37        8154\n```\n. @philtrep Am I going crazy or what? I just removed all containers, images and volumes, and it worked! Sorry for the trouble.\n. ",
    "tariqbilal": "@francislavoie I am having the same issue with Laradock release version 2 docker-compose.yaml file.. \nstill persisting and I don't see any changes in master branch. Let's Encrypt documentations has a limit of 20 certificates per week. Do I have to wait then?  . Thank you so much. I tried a couple of times, Have played around with yaml file. But unless the limit isn't over I can't test it because no matter what Caddy isn't taking on old certificates and starting up.. ",
    "dlnsk": "@philtrep This is default set of keys for 5.7 but exclude ONLY_FULL_GROUP_BY\n\nThe default SQL mode in MySQL 5.7 includes these modes: ONLY_FULL_GROUP_BY, STRICT_TRANS_TABLES, NO_ZERO_IN_DATE, NO_ZERO_DATE, ERROR_FOR_DIVISION_BY_ZERO, NO_AUTO_CREATE_USER, and NO_ENGINE_SUBSTITUTION.\n\nManual. Now asking the name of symlink, so you can install script for multiply instances of Laradock. I did reverted to original node install with nvm. It was not simple... :o)\nBut I don't fully understand why nvm needs. Just to install any version of node? Is it really need?\nMain concept as I understand is switching between number of versions. In this case I suggest to add in Dockerfile availability to install many versions of node in same time.. I have an idea how we can use ldk for many installation without different links. We should make ldk_starter script (or maybe just in ldk) that will be installed and uses working directory to check laradock in one of three paths:\n./laradock\n../laradock\n/laradock. Let's move.. Squashed.. Yes. I though about it too. What if we display some help while running without parameters?. I am not good in English, so check it please and correct... ;o). @philtrep I haven't any uncommited features. Maybe we talk about something but I forgot?. Added laradock's starter. Now you can use per project or/and multi project configuration.\nNot tested well.. @Olivia101 I don't know. Maybe with something like:\n- https://msdn.microsoft.com/en-us/commandline/wsl/about\n- http://win-bash.sourceforge.net/\n- http://www.cygwin.com/. With ldk init allowing to download latest laradock release into current project's directory.. Updated to current 'master'. @Bonobomagno \n\nneed some fix becouse of 503 error\n\nIt works fine. Be sure that you were update your own .env file. Not always new major version fully backward compatible (see on modes of mysql 5.7)\nIt is not very good if with enabling xdebug I bring new version of node and something crash.... Just very quick method to force node works. ;\u043e)). It is my hardcoded fault... sorry!. Fixed. I am not skilled in node and nvm.\nIt used strange path and I had problem with running node, but I'll try once again with older version of image.. @appleboy No, no! This script runing on host but nvm installed into container!\nnode_init should execute inside container, without it you can't use node at all!. This is not need because NVM_DIR and anything else is already did by Dockerfile. In additional $HOME/.nvm is wrong for root user.. ",
    "bravist": "@manshoor How to dynamically configure multiple domain name for multiple projects\n. @Snaver \nIs the  DOCKER_HOST_IP  equal WEBSERVER_IP  or other?. ",
    "Snaver": "@bravist @manshoor @chrispappas - I managed to come up with a fairly robust solution to this problem. I ended up assigning the webserver a static IP on a new network (webserver_network) - but also include domain mapping via extra_hosts.\nI can now curl/guzzle/file_get_contents between 'domains' & containers.\n\nProject setup, three different code bases (vhosts in apache2):\n- http://api.dev\n- http://admin.dev\n- http://front-end.dev\n.env (New vars)\n```\nWEBSERVER_IP=172.16.238.20   \nWEBSERVER_GATEWAY=172.16.238.1    \nWEBSERVER_SUBNET=172.16.238.0/24\n```\ndocker-compose.yml (New network)\n```\nApache Server Container\napache2:\n  ...\n  ports:\n    - \"{WEBSERVER_IP}:${APACHE_HOST_HTTP_PORT}:80\"\n    - \"{WEBSERVER_IP}:${APACHE_HOST_HTTPS_PORT}:443\"\n  ...\n  extra_hosts:\n    - \"dockerhost:${DOCKER_HOST_IP}\"\n    - \"admin.dev:${WEBSERVER_IP}\"\n    - \"api.dev:${WEBSERVER_IP}\"\n    - \"front-end.dev:${WEBSERVER_IP}\"\n  networks:\n    webserver_network:\n      ipv4_address: ${WEBSERVER_IP}\n    frontend:\n    backend:\n\nPHP-FPM Container\nphp-fpm:\n  ...\n  extra_hosts:\n    - \"dockerhost:${DOCKER_HOST_IP}\"\n    - \"admin.dev:${WEBSERVER_IP}\"\n    - \"api.dev:${WEBSERVER_IP}\"\n    - \"front-end.dev:${WEBSERVER_IP}\"\n  ...\n  networks:\n    - frontend\n    - backend\n    - webserver_network\n\nNetworks Setup\nnetworks:\n  webserver_network:\n    driver: bridge\n    ipam:\n        driver: default\n        config:\n        - subnet: \"${WEBSERVER_SUBNET}\"\n          gateway: \"${WEBSERVER_GATEWAY}\"\n```\n. Hey @bravist  \nIn my case DOCKER_HOST_IP was left as default (10.0.75.1). I'm not actually too sure what DOCKER_HOST_IP does, all I can see is that it's mapped to /etc/hosts via the extra_hosts mapping in docker-compose.yml.\nHope that helps.\n. I think you need to assign nginx a unique IP, from your example you're reusing the gateway IP? \nYou should be able to follow my example here to fix https://github.com/laradock/laradock/issues/435#issuecomment-315064141. Can confirm this fix works :). https://github.com/laradock/laradock/issues/435#issuecomment-315064141. ",
    "izdanevych": "win10, docker, laradock,  apache2\nI have same issue.\nI can access the running laravel-web instance on my virtual host (named \"second\") without any problems, and can access my laravel-api running on same virtual host with postman, but when the laravel-web tries to make Guzzle/Curl requests to the api, I get a cURL error:\n[curl] 7: Failed to connect to api-project.dev port 80: Connection refused\nI went to my docker-compose.yml and added in \n PHP-FPM Container \nextra_hosts:\n- \"second:10.0.75.1\"\nrebuild image, and now i have other error:\ncURL error 7: Failed to connect to second port 80: Connection timed out\nCan anybody help me? How I can fix it?. ",
    "marcus13371337": "I fixed this issue by going in to my nginx container and checked the ip assigned to it.\nThen I updated in my docker-compose.yml file to:\n        - \"api.dev:172.20.0.6\"\nAnd all problems were gone!. ",
    "avaslev": "@bravist my ./nginx/sites/default.conf\nserver {\n    listen 80;\n    listen   [::]:80 default ipv6only=on; ## listen for ipv6\n\n    server_name localhost nginx;\n\n    location ~/([A-Za-z0-9-\\.]+)/(.*)$ {\n        proxy_set_header X-Real-IP  $remote_addr;\n        proxy_set_header X-Forwarded-For $remote_addr;\n        proxy_set_header Host $1;\n        proxy_pass http://127.0.0.1/$2$is_args$args;\n    }\n\n    error_log /var/log/nginx/error.log;\n    access_log /var/log/nginx/access.log;\n}\n\nHots for app \nnginx/other-project.local\n\n. ",
    "rubmic": "@manshoor \nAwesome extra_hosts !. ",
    "iceheat": "A resolved it using the docker aliases option. \nIn docker-compose.yml -> nginx -> networks adjust the networks to:\nnetworks:\n        frontend:\n         aliases:\n          - api.dev\n        backend:\n         aliases:\n          - api.dev\nI guess this would be safer than using the IP. That's literary the only change you need to do, not going to post the whole of docker-compose file in a thread but here is the whole of the nginx section\n```\nNGINX Server Container\nnginx:\n  build:\n    context: ./nginx\n    args:\n      - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER}\n      - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT}\n  volumes_from:\n    - applications\n  volumes:\n    - ${NGINX_HOST_LOG_PATH}:/var/log/nginx\n    - ${NGINX_SITES_PATH}:/etc/nginx/sites-available\n  ports:\n    - \"${NGINX_HOST_HTTP_PORT}:80\"\n    - \"${NGINX_HOST_HTTPS_PORT}:443\"\n  depends_on:\n    - php-fpm\n  networks:\n    frontend:\n     aliases:\n      - api.dev\n    backend:\n     aliases:\n      - api.dev\n\n```. @thferreira you will need to restart nginx container. You don't need to rebuild the container since its a runtime configuration. The solution above is to manage multiple domains within the same swarm. If communication is going out of swarm, then it would have to rely on the host's dns. . Hi Hitonate,\nI would assume that dytest.in is publicly available. In that case, I do not think you need to fiddle with Docker hosts for it. However I have noticed that your domain is returning a redirect. This might be the issue in your case.\nCheers, \nAmmar . So it's publicly available domain. There is no need to have it in extra hosts. To have it in extra hosts, you will need to modify your server's host file to route it correctly. However, removing it from extra hosts should solve your problem.\nAmmar . @hironate If I were you, I would test if I can curl the domain from the root of the server. It might be a firewall issue.. ",
    "vjrngn": "I like your solution @iceheat. Can you show the complete solution including changes to docker-compose.yml file ?. Thanks. Much better solution.. Please post the fix so others who come to this thread may gain value from your experience \ud83d\ude42. ",
    "ramadani": "great solution @iceheat \ud83d\udc4d . ",
    "thferreira": "@iceheat @ramadani  after change i need rebuild the nginx container? you have example for multiple vhosts (example.test, mydomain.test, localhost, mydomain.test). @TheDailySpank  i try but have the same problem\nsh: 1: rsync: not found Exit status. No solution :(. ",
    "montogeek": "@manshoor What if I am using just localhost and not a custom domain.dev?. ",
    "samayo": "I'm still struggling with this issue. My local dev runs LEMP stack with no issue, but on production server I get this error: \n2018/10/11 00:01:10 [emerg] 1#1: host not found in upstream \"php-fpm:9000\" in /etc/nginx/conf.d/upstream.conf:1. ",
    "entimm": "great. ",
    "Hironate": "I have also same issue,\nI have multiple websites hosted on my digital ocean server. All on same ip address on same docker. i have created different vhosts in apache2/sites.\nOne of my domain is analytics.dytest.in and other is services.dytest.in\nwhen application hosted on services.dytest.in tries to curl some api on analytics.dytest.in connection gets time out. tried every possible way like extra_hosts in php-fpm but not solution.\nNot: my websites are running on internet so there is no local environment. domains are pointed to server ip address.\nPlz someone help. here is my php-fpm docker compose\n```\nextra_hosts:\n        - \"dockerhost:${DOCKER_HOST_IP}\"\n        - \"griffon.dytest.in:${DOCKER_HOST_IP}\"\n        - \"analytics.dytest.in:${DOCKER_HOST_IP}\"\n        - \"services.dytest.in:${DOCKER_HOST_IP}\"\nenvironment:\n        - PHP_IDE_CONFIG=${PHP_IDE_CONFIG}\n        - DOCKER_HOST=tcp://docker-in-docker:2375\n        - FAKETIME=${PHP_FPM_FAKETIME}\n      depends_on:\n        - workspace\n      networks:\n        - backend\n      links:\n        - docker-in-docker\n```. @iceheat sorry its analytics.dytest.in, when i make call through postman it works but when i create curl though php script hosted on services.dytest.in it get timeout. . I already did. But it doesn't even work.\nOn Mon 19 Nov, 2018, 10:18 PM Ammar Rahman <notifications@github.com wrote:\n\nSo it's publicly available domain. There is no need to have it in extra\nhosts. To have it in extra hosts, you will need to modify your server's\nhost file to route it correctly. However, removing it from extra hosts\nshould solve your problem.\nAmmar\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/435#issuecomment-439961322,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFd02yDI8wkMrxQLeugjaiX9QFkEJAhSks5uwuDDgaJpZM4K0B0s\n.\n. @iceheat i tried without extra hosts as well. domain is analytics.dytest.in on which i am making call. still not working.. @winfried-van-loon i don't want to use docker's Mysql container, i want to use host's mysql server. It's perfectly working fine if i use docker mysql container.. I found a solution, i bind my host mysql with binding-address=\"0.0.0.0\" and In .env file i used Bridge IP Address to access host mysql server.. @Shivani-Parihar @AdrianoMarra in your hosts mysql config bing address from bind-address = 127.0.0.0 to 0.0.0.0 and use your bridge ip address to access host.\n\n\nuse docker ps command to get list of containers and copy bridge container id.\nuse docker inspect <cid> to get ip address and of bridge container,\nuse that ip as host of your db application\nkindly add access privilege of bridge_ip in your mysql db. Try installing letsencrypt certificate in nginx or docker container. it works for me. Enter into server cli with - docker-compose exec apache2 bash and install the way you do in ubuntu.. I have also same issue,\n\nI have multiple websites hosted on my digital ocean server. All on same ip address on same docker. i have created different vhosts in apache2/sites.\nOne of my domain is dytest.in and other is services.dytest.in\nwhen application hosted on services.dytest.in tries to curl some api on dytest.in connection gets time out. tried every possible way like extra_hosts in php-fpm but not solution. \nNot: my websites are running on internet so there is no local environment. domains are pointed to server ip address.\nPlz someone help.\n``extra_hosts:\n        - \"dockerhost:${DOCKER_HOST_IP}\"\n        - \"griffon.dytest.in:${DOCKER_HOST_IP}\"\n        - \"analytics.dytest.in:${DOCKER_HOST_IP}\"\n        - \"services.dytest.in:${DOCKER_HOST_IP}\"\nenvironment:\n        - PHP_IDE_CONFIG=${PHP_IDE_CONFIG}\n        - DOCKER_HOST=tcp://docker-in-docker:2375\n        - FAKETIME=${PHP_FPM_FAKETIME}\n      depends_on:\n        - workspace\n      networks:\n        - backend\n      links:\n        - docker-in-docker`\n```. @corbin88  post your laravel ENV file. \nEnter container name as DATABASE_HOST\nssh into workspace container and then run migration command\ndocker-compose exec workspace bash and then migration command. ",
    "stus3y": "Add aliases really works! Thank you! . ",
    "bangcodev": "thanks a lot,, its works ^_^\n. ",
    "wasmetqall": "@philtrep OMG!!!!!!!!!!IT WORKS!!!!!THANK U VERY MUCH!!!!!\nBut how did that happen?Maybe I toggled  something?\nWhen using docker-compose exec workspace bash it returns\nERROR: Interactive mode is not yet supported on Windows.\nPlease pass the -d flag when using `docker-compose exec`.\nMay I ask a stupid question?I don't know where the mysql data stores, cause there is only mysql:/var/lib/mysql in docker-compose.yml, and I can't locate the so-called mysql:(\n. @philtrep I still have no idea where the laradock/data/mysql is :( There isn't a directory called data under the laradock, but I do find there is a logs directory under laradock which stores the data from nginx. Could u please tell me more specifically? Thanks a lot!!!. ",
    "mxswar": "well, i think that this is just docker's bug\nif i remove all the comments from Dockerfiles than i can install php-fpm and other images but in any case nginx and php-fpm containers are out of service, ii can't do smth like docker-compose exec nginx bash, i don't see any opened docker's proxy listeners on host machine etc:\n```\n$ docker-compose ps\n         Name                Command       State           Ports         \n\nlaradock_applications_1   /true           Exit 0                       \nlaradock_nginx_1          nginx           Exit 1                       \nlaradock_php-fpm_1        php-fpm         Exit 78                      \nlaradock_workspace_1      /sbin/my_init   Up        0.0.0.0:2222->22/tcp \n```\nimo this is ubuntu 16.10 and docker 1.13 specific, so i'll continue to watch this issue, may be it'll be solved soon. interesting but after downgrading to docker 1.12 (Ubuntu 10.04 now) the previous problem still exists:\n```\n$ docker-compose ps\n         Name                Command       State           Ports         \n\nlaradock_applications_1   /true           Exit 0                       \nlaradock_nginx_1          nginx           Exit 1                       \nlaradock_php-fpm_1        php-fpm         Exit 78                      \nlaradock_workspace_1      /sbin/my_init   Up        0.0.0.0:2222->22/tcp \n```\nphp-fpm just can't be started at all and i can't see any logs from it.\nis anyone able to reproduce the full installation sequence of the laradock with the latest images (doing docker rmi ... first)?\npossible this is a subject for a new issue. ",
    "abbert": "Same here with Docker version 1.13.0-rc2, build 1f9b3ef. ",
    "asolopovas": "@manshoor if I change DB_HOST to mysql thats what happens \nSQLSTATE[HY000] [2002] php_network_getaddresses: getaddrinfo failed: Name or service not known\n. DB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=root\nDB_PASSWORD=root \nthese worked. but why is doesn't work with default settings?. I figured out what was the problem. Simply you need edit your local hosts file to redirect host  that you specify in docker-compose.yml to 127.0.0.1, for example \n// in this case the host is mariadb\n    mariadb:\n        build: ./mariadb\n        volumes:\n            - mariadb:/var/lib/mysql\n            - ./mariadb/sql:/docker-entrypoint-initdb.d\n            - ./mariadb/hosts:/var/tmp/hosts\n        environment:\n            MYSQL_USER: homestead\n            MYSQL_PASSWORD: secret\n            MYSQL_ROOT_PASSWORD: root\n        ports:\n            - \"3306:3306\"\n        networks:\n            - lemp-network\nSo your local hosts file will have this line.\n127.0.0.1 mariadb\nThen in your .env file put DB_HOST=mariadb\nAfter that your artisan and webapp will be capable of successfully connecting to your docker db...\n. I think the issue is that php-fpm is capable of accessing db inside docker container, but when you run php artisan you may be running local  php which for some reason it can't connect to local db port. Maybe it has something to do with mariadb firewall setup which blocks connection to port from outside the docker containers. But my problem dissappeared since I redirected mariadb host to 127.0.0.1 in my local hosts file. Now my php-fpm connects freely to mariadb and my local php connects to it without any issues.. its likely to be the problem with docker or docker nginx. As when I try to login into domain.dev/public/css/app.css which is present it throws exactly same error.. ",
    "marto-k": "How do you change Host to mysql.I did that and a big funny error appears in my konsole\n[PDOException]                                                                                \n  SQLSTATE[HY000] [2002] php_network_getaddresses: getaddrinfo failed: Name or service not known  \n[PDOException]                                                                             \n  PDO::__construct(): php_network_getaddresses: getaddrinfo failed: Name or service not known  . By the way all solutions i''ve tried none works for php artisan migrate.Over six hours of search and try nothing.If anyone got a solution sugestion please help me out. \n. ",
    "leomask101193": "@asolopovas \nThanks you guy .\n\nsudo vim /etc/hosts -> to edit 127.0.0.1 mysql\nafter that, in file .env i change:  DB_HOST=localhost to DB_HOST=mysql.\nAnd It works.. \n",
    "bzbislawski": "This does not seems like an ideal solution even though it works. Has anyone got a better way of doing it (not changing hosts file)?\nCC:@asolopovas @leomask101193 . ",
    "MathieuAuclair": "The hostname in docker-compose is the name of your container, so in his case it's mysql, if he would have named his container database, then the hostname would be database. Can you connect through MySQL terminal tool, if no you have a connection issue, try this in your container mysql -u root -h mysql. ",
    "sovrinbloc": "@asolopovas your solution worked! I could not for the life figure out what the problem was! thanks!. go into hosts and add 127.0.0.1 mysql. The docker container name is hosts in the Dockerfile so inside .env you have it looking for mysql attached the DB_HOST=mysql. So inside the browser it works correctly but when you are running migrations (well at least in my case) it wouldn't work with mysql. In shell I had to have it set to 0.0.0.0 and then I could run migrations, but I couldn't connect in the browser. so the solution was in hosts.\nhosts\n127.0.0.1 mysql\nsave.\ndone.. ",
    "praggmatica": "I wanted to add an additional note for anyone dealing with this and trying to use the editing your hosts file solution - if you changed the port for your mysql container, be sure to update the port it's connecting to in your hosts file as well.. ",
    "dele454": "\nThe hostname in docker-compose is the name of your container, so in his case it's mysql, if he would have named his container database, then the hostname would be database. Can you connect through MySQL terminal tool, if no you have a connection issue, try this in your container mysql -u root -h mysql\n\nThank you for this!. ",
    "ELD": "I'm having the same issue as you. I don't know what the issue is and I've enquired about it in Gitter chat.. @manshoor Yep, I have removed the volume and rebuilt the container several times. No luck.. So it looks like the MySQL root user can't be accessed with a password. If you're inside the MySQL container, you need to login as root without a password (mysql -u root). Once there, you can manually create the Homestead database and the user accordingly.\nI think the issue has something to do with the startup script. It fails on dropping the user and if you modify the command to use MySQL 5.7's DROP USER IF EXISTS syntax, it fails on creating the homestead user. I'm not sure what the cause is. I'm playing around with it to troubleshoot the creation of the image so that it doesn't crash on the first startup. It seems that the startup script runs fine the second time you start the image, though.. Just to further document what I'm looking at, this line jumps out at me in the logs for the mysql container:\nmysql_1               | 2016-11-27T20:46:21.614859Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\nLooks like that's why we can't log into the root user with the password. It wasn't set up with one.\nSecondly, it looks like the startup script is failing:\nmysql_1               | ERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\nAdditionally, after building the container, this is what docker-compose ps displays:\n```\n      Name                    Command               State    Ports\n\nlaradock_mysql_1   docker-entrypoint.sh mysql ...   Exit 1\n```. @kamilcios That doesn't work for me. After building the image and starting up the container, the first time it still exits prematurely. Instead of failing on dropping the user, it fails on trying to create the user.\nFrom looking into the history, I think the culprit is #437 and #438. I just can't figure out the chronology because one reverts the other but the master branch doesn't reflect a reversion. I don't understand it.\nEdit: It looks like both #437 and #438 were merged but #438 was somehow lost in the history and so the reversion appears to have never taken place. I don't know if this is by design or not. @philtrep: Could you enlighten us this since they're your PRs?. @philtrep Okay, that makes sense. Yeah, it looks like a better way to go about creating users, it's just that the startup script may error out and I think when that happens, the entire MySQL server dies. I'm not positive though.\nDefinitely worth trying to make it work better.. Yep, this works for me. I can submit a PR later this afternoon for it unless you want to @Blaasvis.. I've had a chance to check it out and test it. Works perfectly fine for me. Looks good! \ud83d\udc4d . I get an error with Selenium and Dusk as well.\nIn my docker-compose.yml my Selenium container configuration looks as such:\n```yaml\nSelenium Container\nselenium:\n  build: ./selenium\n  ports:\n    - \"${SELENIUM_PORT}:4444\"\n  volumes:\n    - /dev/shm:/dev/shm\n  networks:\n    - frontend\n  depends_on:\n    - nginx\n  links:\n    - nginx:ticketbeast.localhost\n\n```\nI then run artisan dusk in the workspace container and get the following result:\n```sh\n1) Tests\\Browser\\PromoterLoginTest::login_in_successfully\nFacebook\\WebDriver\\Exception\\NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"body textarea[name='email']\"}\n  (Session info: chrome=58.0.3029.81)\n  (Driver info: chromedriver=2.29.461571 (8a88bbe0775e2a23afda0ceaf2ef7ee74e822cc5),platform=Linux 4.9.31-moby x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 33 milliseconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '3.4.0', revision: 'unknown', time: 'unknown'\nSystem info: host: 'e5a5c7125fdd', ip: '172.19.0.4', os.name: 'Linux', os.arch: 'amd64', os.version: '4.9.31-moby', java.version: '1.8.0_121'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.29.461571 (8a88bbe0775e2a23afda0ceaf2ef7ee74e822cc5), userDataDir=/tmp/.org.chromium.Chromium.PALAMa}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=58.0.3029.81, platform=LINUX, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\nSession ID: 4e96cca5bf5a5dff0ef993bdd8d2d621\n*** Element info: {Using=css selector, value=body textarea[name='email']}\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Exception/WebDriverException.php:102\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/HttpCommandExecutor.php:320\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:535\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:174\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:331\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:309\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:88\n/var/www/ticketbeast/vendor/laravel/dusk/src/Concerns/InteractsWithElements.php:169\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:24\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:91\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:28\n2) Tests\\Browser\\PromoterLoginTest::logging_in_with_invalid_credentials\nFacebook\\WebDriver\\Exception\\NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"body textarea[name='email']\"}\n  (Session info: chrome=58.0.3029.81)\n  (Driver info: chromedriver=2.29.461571 (8a88bbe0775e2a23afda0ceaf2ef7ee74e822cc5),platform=Linux 4.9.31-moby x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 13 milliseconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '3.4.0', revision: 'unknown', time: 'unknown'\nSystem info: host: 'e5a5c7125fdd', ip: '172.19.0.4', os.name: 'Linux', os.arch: 'amd64', os.version: '4.9.31-moby', java.version: '1.8.0_121'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.29.461571 (8a88bbe0775e2a23afda0ceaf2ef7ee74e822cc5), userDataDir=/tmp/.org.chromium.Chromium.PALAMa}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=58.0.3029.81, platform=LINUX, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\nSession ID: 4e96cca5bf5a5dff0ef993bdd8d2d621\n*** Element info: {Using=css selector, value=body textarea[name='email']}\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Exception/WebDriverException.php:102\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/HttpCommandExecutor.php:320\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:535\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:174\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:331\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:309\n/var/www/ticketbeast/vendor/laravel/dusk/src/ElementResolver.php:88\n/var/www/ticketbeast/vendor/laravel/dusk/src/Concerns/InteractsWithElements.php:169\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:41\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:91\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:46\nERRORS!\nTests: 2, Assertions: 0, Errors: 2.\n```\nThe following screenshots are taken from Selenium/Chromedriver:\n\n\nI have my .env.dusk.local set up as such:\n```env\nAPP_ENV=local\nAPP_KEY=...\nAPP_DEBUG=true\nAPP_LOG_LEVEL=debug\nAPP_URL=http://ticketbeast.localhost\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=ticketbeast-acceptance-test\nDB_USERNAME=\nDB_PASSWORD=\nBROADCAST_DRIVER=log\nCACHE_DRIVER=file\nSESSION_DRIVER=file\nQUEUE_DRIVER=sync\nREDIS_HOST=127.0.0.1\nREDIS_PASSWORD=null\nREDIS_PORT=6379\nMAIL_DRIVER=smtp\nMAIL_HOST=mailtrap.io\nMAIL_PORT=2525\nMAIL_USERNAME=\nMAIL_PASSWORD=\nMAIL_ENCRYPTION=null\nPUSHER_APP_ID=\nPUSHER_KEY=\nPUSHER_SECRET=\nSTRIPE_SECRET=...\nSTRIPE_KEY=...\nTICKET_CODE_SALT=\"...\"\nUSE_SELENIUM=true\n```\nMy local machine can connect to the .localhost address just fine but the Docker containers appear to have a name resolution error, though I'm not sure.. It looks like I'm able to ping it from the Selenium container:\nsh\nseluser@aab5179833b7:/$ ping ticketbeast.localhost\nPING ticketbeast.localhost (172.19.0.3) 56(84) bytes of data.\n64 bytes from laradock_nginx_1.laradock_frontend (172.19.0.3): icmp_seq=1 ttl=64 time=0.075 ms\n64 bytes from laradock_nginx_1.laradock_frontend (172.19.0.3): icmp_seq=2 ttl=64 time=0.047 ms\n64 bytes from laradock_nginx_1.laradock_frontend (172.19.0.3): icmp_seq=3 ttl=64 time=0.050 ms\nWhen I try your second suggestions (commenting out the network stanza in the docker-compose.yml, I'm still able to ping it:\nsh\nseluser@f81ec44dac10:/$ ping ticketbeast.localhost\nPING ticketbeast.localhost (127.0.0.1) 56(84) bytes of data.\n64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.015 ms\n64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.028 ms\n64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.028 ms\n64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.028 ms\n64 bytes from localhost (127.0.0.1): icmp_seq=5 ttl=64 time=0.026 ms\nBut when I try to run Dusk tests, it errors out because it can't resolve host selenium:\n```sh\n~/Dev/Web/laravel-projects/laradock ~/Dev/Web/laravel-projects/ticketbeast\nPHPUnit 5.7.20 by Sebastian Bergmann and contributors.\nEE                                                                  2 / 2 (100%)\nTime: 2.71 seconds, Memory: 8.00MB\nThere were 2 errors:\n1) Tests\\Browser\\PromoterLoginTest::login_in_successfully\nFacebook\\WebDriver\\Exception\\WebDriverCurlException: Curl error thrown for http POST to /session with params: {\"desiredCapabilities\":{\"browserName\":\"chrome\",\"platform\":\"ANY\"}}\nCould not resolve host: selenium\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/HttpCommandExecutor.php:286\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:126\n/var/www/ticketbeast/tests/DuskTestCase.php:33\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:209\n/var/www/ticketbeast/vendor/laravel/framework/src/Illuminate/Support/helpers.php:692\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:210\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:116\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:88\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:28\n2) Tests\\Browser\\PromoterLoginTest::logging_in_with_invalid_credentials\nFacebook\\WebDriver\\Exception\\WebDriverCurlException: Curl error thrown for http POST to /session with params: {\"desiredCapabilities\":{\"browserName\":\"chrome\",\"platform\":\"ANY\"}}\nCould not resolve host: selenium\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/HttpCommandExecutor.php:286\n/var/www/ticketbeast/vendor/facebook/webdriver/lib/Remote/RemoteWebDriver.php:126\n/var/www/ticketbeast/tests/DuskTestCase.php:33\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:209\n/var/www/ticketbeast/vendor/laravel/framework/src/Illuminate/Support/helpers.php:692\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:210\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:116\n/var/www/ticketbeast/vendor/laravel/dusk/src/TestCase.php:88\n/var/www/ticketbeast/tests/Browser/PromoterLoginTest.php:46\nERRORS!\nTests: 2, Assertions: 0, Errors: 2.\n``. So the interesting part is that using a.devdomain actually worked. I changed it over to.localhostbecause.devis now an actual TLD AFAIK. Is it that Docker doesn't like.localhostdomains?. Figured it out. Turns out Chrome doesn't like connecting to.localhostdomains,.dev` domains are gTLDs that Chrome also doesn't like connecting to.\nBasically, .test is the only reserved domain you can seriously use for local development using Chrome. Changing my local DNS resolver to resolve .test domains to 127.0.0.1 and updating my docker-compose.yml, NGINX sites, Laravel .env, etc... is what made Dusk work again.. @vitoo I was thinking of submitting a PR to turn it on by default and also update the docs. I'll do it tomorrow morning.. Working on a PR now. I know more than a month has passed. Got busy with work and life and finally getting back to this.. ",
    "RobertCristian": "I just want to add that i've tried on a secondary mac and i get the same error.\n. hm.., when i run docker volume rm mysql i get Error response from daemon: get mysql: no such volume. But i have tried with docker-compose down which deletes every container.\nmy mysql config from docker-compose.yaml:\nmysql:\n        build:\n            context: ./mysql\n            args:\n                - MYSQL_DATABASE=homestead\n                - MYSQL_USER=homestead\n                - MYSQL_PASSWORD=secret\n                - MYSQL_ROOT_PASSWORD=root\n        volumes:\n            - mysql:/var/lib/mysql\n        ports:\n            - \"3306:3306\"\n.mysql_1               | 2016-11-27T18:50:04.055972Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1               | 2016-11-27T18:50:04.056781Z 0 [Note] mysqld (mysqld 5.7.16) starting as process 1 ...\nmysql_1               | 2016-11-27T18:50:04.059003Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1               | 2016-11-27T18:50:04.059052Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1               | 2016-11-27T18:50:04.059060Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1               | 2016-11-27T18:50:04.059066Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1               | 2016-11-27T18:50:04.059072Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1               | 2016-11-27T18:50:04.059078Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1               | 2016-11-27T18:50:04.059251Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1               | 2016-11-27T18:50:04.059350Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1               | 2016-11-27T18:50:04.060329Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1               | 2016-11-27T18:50:04.065273Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1               | 2016-11-27T18:50:04.066516Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1               | 2016-11-27T18:50:04.078854Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\nmysql_1               | 2016-11-27T18:50:04.091509Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1               | 2016-11-27T18:50:04.091654Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1               | 2016-11-27T18:50:04.143611Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1               | 2016-11-27T18:50:04.144295Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\nmysql_1               | 2016-11-27T18:50:04.144329Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\nmysql_1               | 2016-11-27T18:50:04.144535Z 0 [Note] InnoDB: Waiting for purge to start\nmysql_1               | 2016-11-27T18:50:04.197161Z 0 [Note] InnoDB: 5.7.16 started; log sequence number 2533496\nmysql_1               | 2016-11-27T18:50:04.197539Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nmysql_1               | 2016-11-27T18:50:04.197753Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1               | 2016-11-27T18:50:04.199251Z 0 [Note] InnoDB: Buffer pool(s) load completed at 161127 18:50:04\nmysql_1               | 2016-11-27T18:50:04.201533Z 0 [Warning] Failed to set up SSL because of the following SSL library error: SSL context is not usable without certificate and private key\nmysql_1               | 2016-11-27T18:50:04.201950Z 0 [Note] Server hostname (bind-address): '0.0.0.0'; port: 3306\nmysql_1               | 2016-11-27T18:50:04.201979Z 0 [Note]   - '0.0.0.0' resolves to '0.0.0.0';\nmysql_1               | 2016-11-27T18:50:04.202000Z 0 [Note] Server socket created on IP: '0.0.0.0'.\nmysql_1               | 2016-11-27T18:50:04.214393Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:50:04.214454Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:50:04.214477Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:50:04.214489Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:50:04.215027Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:50:04.218167Z 0 [Note] Event Scheduler: Loaded 0 events\nmysql_1               | 2016-11-27T18:50:04.218284Z 0 [Note] Execution of init_file '/etc/mysql/startup' started.\nmysql_1               | 2016-11-27T18:50:04.218741Z 1 [ERROR] 1396  Operation DROP USER failed for 'homestead'@'%'\nmysql_1               | 2016-11-27T18:50:04.218850Z 0 [Note] Execution of init_file '/etc/mysql/startup' ended.\nmysql_1               | 2016-11-27T18:50:04.218913Z 0 [Note] mysqld: ready for connections.\nmysql_1               | Version: '5.7.16'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\nmysql_1               | 2016-11-27T18:51:40.052632Z 0 [Note] Giving 0 client threads a chance to die gracefully\nmysql_1               | 2016-11-27T18:51:40.052702Z 0 [Note] Shutting down slave threads\nmysql_1               | 2016-11-27T18:51:40.052718Z 0 [Note] Forcefully disconnecting 0 remaining clients\nmysql_1               | 2016-11-27T18:51:40.052733Z 0 [Note] Event Scheduler: Purging the queue. 0 events\nmysql_1               | 2016-11-27T18:51:40.052815Z 0 [Note] Binlog end\nmysql_1               | 2016-11-27T18:51:40.053365Z 0 [Note] Shutting down plugin 'ngram'\nmysql_1               | 2016-11-27T18:51:40.053415Z 0 [Note] Shutting down plugin 'BLACKHOLE'\nmysql_1               | 2016-11-27T18:51:40.053429Z 0 [Note] Shutting down plugin 'partition'\nmysql_1               | 2016-11-27T18:51:40.053439Z 0 [Note] Shutting down plugin 'ARCHIVE'\nmysql_1               | 2016-11-27T18:51:40.053448Z 0 [Note] Shutting down plugin 'MEMORY'\nmysql_1               | 2016-11-27T18:51:40.053456Z 0 [Note] Shutting down plugin 'INNODB_SYS_VIRTUAL'\nmysql_1               | 2016-11-27T18:51:40.053464Z 0 [Note] Shutting down plugin 'INNODB_SYS_DATAFILES'\nmysql_1               | 2016-11-27T18:51:40.053473Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLESPACES'\nmysql_1               | 2016-11-27T18:51:40.053481Z 0 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN_COLS'\nmysql_1               | 2016-11-27T18:51:40.053490Z 0 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN'\nmysql_1               | 2016-11-27T18:51:40.053529Z 0 [Note] Shutting down plugin 'INNODB_SYS_FIELDS'\nmysql_1               | 2016-11-27T18:51:40.053539Z 0 [Note] Shutting down plugin 'INNODB_SYS_COLUMNS'\nmysql_1               | 2016-11-27T18:51:40.053548Z 0 [Note] Shutting down plugin 'INNODB_SYS_INDEXES'\nmysql_1               | 2016-11-27T18:51:40.053556Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLESTATS'\nmysql_1               | 2016-11-27T18:51:40.053564Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLES'\nmysql_1               | 2016-11-27T18:51:40.053571Z 0 [Note] Shutting down plugin 'INNODB_FT_INDEX_TABLE'\nmysql_1               | 2016-11-27T18:51:40.053580Z 0 [Note] Shutting down plugin 'INNODB_FT_INDEX_CACHE'\nmysql_1               | 2016-11-27T18:51:40.053587Z 0 [Note] Shutting down plugin 'INNODB_FT_CONFIG'\nmysql_1               | 2016-11-27T18:51:40.053595Z 0 [Note] Shutting down plugin 'INNODB_FT_BEING_DELETED'\nmysql_1               | 2016-11-27T18:51:40.053603Z 0 [Note] Shutting down plugin 'INNODB_FT_DELETED'\nmysql_1               | 2016-11-27T18:51:40.053635Z 0 [Note] Shutting down plugin 'INNODB_FT_DEFAULT_STOPWORD'\nmysql_1               | 2016-11-27T18:51:40.053645Z 0 [Note] Shutting down plugin 'INNODB_METRICS'\nmysql_1               | 2016-11-27T18:51:40.053653Z 0 [Note] Shutting down plugin 'INNODB_TEMP_TABLE_INFO'\nmysql_1               | 2016-11-27T18:51:40.053662Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_POOL_STATS'\nmysql_1               | 2016-11-27T18:51:40.053670Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE_LRU'\nmysql_1               | 2016-11-27T18:51:40.053678Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE'\nmysql_1               | 2016-11-27T18:51:40.053686Z 0 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX_RESET'\nmysql_1               | 2016-11-27T18:51:40.053694Z 0 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX'\nmysql_1               | 2016-11-27T18:51:40.053702Z 0 [Note] Shutting down plugin 'INNODB_CMPMEM_RESET'\nmysql_1               | 2016-11-27T18:51:40.053709Z 0 [Note] Shutting down plugin 'INNODB_CMPMEM'\nmysql_1               | 2016-11-27T18:51:40.053717Z 0 [Note] Shutting down plugin 'INNODB_CMP_RESET'\nmysql_1               | 2016-11-27T18:51:40.053751Z 0 [Note] Shutting down plugin 'INNODB_CMP'\nmysql_1               | 2016-11-27T18:51:40.053761Z 0 [Note] Shutting down plugin 'INNODB_LOCK_WAITS'\nmysql_1               | 2016-11-27T18:51:40.053769Z 0 [Note] Shutting down plugin 'INNODB_LOCKS'\nmysql_1               | 2016-11-27T18:51:40.053777Z 0 [Note] Shutting down plugin 'INNODB_TRX'\nmysql_1               | 2016-11-27T18:51:40.053785Z 0 [Note] Shutting down plugin 'InnoDB'\nmysql_1               | 2016-11-27T18:51:40.053912Z 0 [Note] InnoDB: FTS optimize thread exiting.\nmysql_1               | 2016-11-27T18:51:40.054038Z 0 [Note] InnoDB: Starting shutdown...\nmysql_1               | 2016-11-27T18:51:40.156959Z 0 [Note] InnoDB: Dumping buffer pool(s) to /var/lib/mysql/ib_buffer_pool\nmysql_1               | 2016-11-27T18:51:40.157248Z 0 [Note] InnoDB: Buffer pool(s) dump completed at 161127 18:51:40\nmysql_1               | 2016-11-27T18:51:41.303846Z 0 [Note] InnoDB: Shutdown completed; log sequence number 2533524\nmysql_1               | 2016-11-27T18:51:41.305578Z 0 [Note] InnoDB: Removed temporary tablespace data file: \"ibtmp1\"\nmysql_1               | 2016-11-27T18:51:41.305604Z 0 [Note] Shutting down plugin 'MyISAM'\nmysql_1               | 2016-11-27T18:51:41.305616Z 0 [Note] Shutting down plugin 'MRG_MYISAM'\nmysql_1               | 2016-11-27T18:51:41.305622Z 0 [Note] Shutting down plugin 'CSV'\nmysql_1               | 2016-11-27T18:51:41.305628Z 0 [Note] Shutting down plugin 'PERFORMANCE_SCHEMA'\nmysql_1               | 2016-11-27T18:51:41.305646Z 0 [Note] Shutting down plugin 'sha256_password'\nmysql_1               | 2016-11-27T18:51:41.305651Z 0 [Note] Shutting down plugin 'mysql_native_password'\nmysql_1               | 2016-11-27T18:51:41.305782Z 0 [Note] Shutting down plugin 'binlog'\nmysql_1               | 2016-11-27T18:51:41.306678Z 0 [Note] mysqld: Shutdown complete\nmysql_1               |\nmysql_1               | 2016-11-27T18:52:56.456211Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1               | 2016-11-27T18:52:56.457019Z 0 [Note] mysqld (mysqld 5.7.16) starting as process 1 ...\nmysql_1               | 2016-11-27T18:52:56.459164Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1               | 2016-11-27T18:52:56.459192Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1               | 2016-11-27T18:52:56.459194Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1               | 2016-11-27T18:52:56.459196Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1               | 2016-11-27T18:52:56.459198Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1               | 2016-11-27T18:52:56.459199Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1               | 2016-11-27T18:52:56.459435Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1               | 2016-11-27T18:52:56.459553Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1               | 2016-11-27T18:52:56.460595Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1               | 2016-11-27T18:52:56.465638Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1               | 2016-11-27T18:52:56.466835Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1               | 2016-11-27T18:52:56.478190Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\nmysql_1               | 2016-11-27T18:52:56.494552Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1               | 2016-11-27T18:52:56.494703Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1               | 2016-11-27T18:52:56.546024Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1               | 2016-11-27T18:52:56.546674Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\nmysql_1               | 2016-11-27T18:52:56.546693Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\nmysql_1               | 2016-11-27T18:52:56.546924Z 0 [Note] InnoDB: Waiting for purge to start\nmysql_1               | 2016-11-27T18:52:56.599523Z 0 [Note] InnoDB: 5.7.16 started; log sequence number 2533524\nmysql_1               | 2016-11-27T18:52:56.600039Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nmysql_1               | 2016-11-27T18:52:56.600361Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1               | 2016-11-27T18:52:56.602230Z 0 [Note] InnoDB: Buffer pool(s) load completed at 161127 18:52:56\nmysql_1               | 2016-11-27T18:52:56.603445Z 0 [Warning] Failed to set up SSL because of the following SSL library error: SSL context is not usable without certificate and private key\nmysql_1               | 2016-11-27T18:52:56.603992Z 0 [Note] Server hostname (bind-address): '0.0.0.0'; port: 3306\nmysql_1               | 2016-11-27T18:52:56.604018Z 0 [Note]   - '0.0.0.0' resolves to '0.0.0.0';\nmysql_1               | 2016-11-27T18:52:56.604091Z 0 [Note] Server socket created on IP: '0.0.0.0'.\nmysql_1               | 2016-11-27T18:52:56.619428Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:52:56.619474Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:52:56.619497Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:52:56.619506Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:52:56.620224Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2016-11-27T18:52:56.623879Z 0 [Note] Event Scheduler: Loaded 0 events\nmysql_1               | 2016-11-27T18:52:56.624051Z 0 [Note] Execution of init_file '/etc/mysql/startup' started.\nmysql_1               | 2016-11-27T18:52:56.624569Z 1 [ERROR] 1396  Operation DROP USER failed for 'homestead'@'%'\nmysql_1               | 2016-11-27T18:52:56.624724Z 0 [Note] Execution of init_file '/etc/mysql/startup' ended.\nmysql_1               | 2016-11-27T18:52:56.624811Z 0 [Note] mysqld: ready for connections.\nmysql_1               | Version: '5.7.16'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)``. Same as in my first post:ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)`\ndocker ps: \n```\n34be530b24bc        laradock_mysql      \"docker-entrypoint.sh\"   42 minutes ago      Up 3 minutes        0.0.0.0:3306->3306/tcp   laradock_mysql_1. ",
    "kamilcios": "I had the same problem, try removing first line from mysql/startup ( DROP USER 'homestead';\n ). Worked for me.. ",
    "Blaasvis": "This works for me. It didn't crash on the first create for me anymore which it did before. \nNow phpmyadmin is complaining on first boot about not getting addrinfo. But second run it works fine. \nDROP USER IF EXISTS 'MYSQL_USER';\nCREATE USER 'MYSQL_USER'@'%';\nCREATE DATABASE IF NOT EXISTS MYSQL_DATABASE;\nGRANT ALL ONMYSQL_DATABASE.* TO 'MYSQL_USER'@'%' IDENTIFIED BY 'MYSQL_PASSWORD';. created the pull request just now.. just fixed it, sorry about that \n. Allright done, never knew that was possible very nice.. Grumble :P well it is all new to me this squashing but now it get it, need to use S to squash not to delete the line... RTFM.... ",
    "vothanhliem1994it": "I have the same problem\n- ../project1/:/var/www/project1\n- ../project2/:/var/www/project2\nMy Docker version: \nDocker version 1.12.5, build 7392c3b. ",
    "imagine10255": "i have same problem. ",
    "gfd6th": "I repeated the issue on Docker for Mac.\n\ndocker-compose up -d mariadb\ndocker-compose down\nChange to Mysql docker-compose up -d mysql\nDestory mysql service docker-compose down\nCheckout back to mariadb docker-compose up -d mariadb\n\nsolution: modify the mariadb service volumes section\nfrom mysql:/var/lib/mysql to mariadb:/var/lib/mysql\nthen build and up. \n. #446 \nI got the same issue on Mac.\nI have tried Docker for Mac(both stable Version 1.12.3 and beta Version 1.12.3-beta30.1 ), but got the same issue. Connection with 'xdebug 2.4.1' was not established when debuging in phpstorm. I noticed that xdebug.remote_host=dockerhost in php-fpm container and workspace container, I modify in extra_hosts part dockerhost:172.18.0.1. This ip is my host ip. I am using MacOS, I find my host ip in nginx logs, that is 172.18.0.1 . I find that the PHPSTORM always get the php information as xdebug.remote_enable  0. \nI have tried uncomment the line zend_extension=xdebug.so in /etc/php/7.0/cli/conf.d/20-xdebug.ini, so I saw the xdebug.remote_enable on=>on in workspace container. but PHPSTORM seems still get the php information as xdebug.remote_enable  0.. ",
    "armandojose0009": "hi  @philtrep how can do it ?? i create a branch in my git but whe try push to the repository don't have permission in the repo... Hi thanks you\nEl 21/12/2016 3:10 p. m., \"Mahmoud Zalt\" notifications@github.com\nescribi\u00f3:\nClosed #453 https://github.com/laradock/laradock/issues/453 via #502\nhttps://github.com/laradock/laradock/pull/502.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/453#event-902046704, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ASzP27jJldJmpYl3yyn1e6z9Cw3hP5dOks5rKXmagaJpZM4K-6Vr\n.\n. what branches i can use??\n. [image: Im\u00e1genes integradas 1]\nhi i was try made a new pull request to master this message show me!\n. ",
    "nloding": "@philtrep not sure I follow - if it's creating the database, why is all my data there when I do a normal docker-compose stop followed by docker-compose up -d nginx mysql? It sounds like my assumption above (changing the config after the initial container build) is the likely culprit, and that I should just destroy and rebuild the containers.. @philtrep I think it does. I'm still a bit confused on the difference between stop and down, but down is what I need to do to fix the issue.. @philtrep this didn't resolve my issue. I've done a few different things.\n\nEdited docker-compose.yml and set MYSQL_DATABASE to the correct database name\nEdited mysql/Dockerfile and set ARG MYSQL_DATABASE to the correct database name\n\nI've run docker-compose down then docker-compose up after each, and I still get the permissions errors. Am I missing something, or is this truly a bug?. Doing a bit of digging, it looks like the issue is that the mysqld --initialize option only executes if the data directory doesn't exist or is empty. After I dumped data into the database, it's no longer empty. Here was my fix, though it seems like there should be a way to check permissions when you run docker-compose up ... but being new, I don't know how to do that (yet).\n\ndocker-compose stop\ndocker-compose up --build -d mysql\nTested I could log in with my user\ndocker-compose stop\ndocker-compose up -d nginx mysql\nTested I could still log in with my user\n\nNo data was lost during this.. ",
    "khromov": "Thanks for the response. Sounds like a fork is the easiest way if you want to be up to date with changes in the main repo by merging it into the fork periodically?. Also wondering.... ",
    "aledelgo": "Hello,\nfound the real problem inspecting forced xdebug logs...\nI'm on windows 10 and i'm gettnig the same problem connecting to xdebug for both UnitTest and remote debugging.\nThe problem is that, on NGINX side, requests seems to come from the gateway of docker instead from the dockerhost ip.\nSee this nginx access.log line:\n172.20.0.1 - - [05/Dec/2016:10:36:07 +0000] \"GET / HTTP/1.1\" 404 162 \"-\" \"-\"\nthe IP is 172.20.0.1 but my dockerhost ip (the one on the Docker network i have on windows) is 10.0.75.2\nthis is the xdebug log: \nLog opened at 2016-12-05 14:42:22\nI: Checking remote connect back address.\nI: Checking header 'HTTP_X_FORWARDED_FOR'.\nI: Checking header 'REMOTE_ADDR'.\nI: Remote address found, connecting to 172.20.0.1:9000.\nW: Creating socket for '172.20.0.1:9000', poll success, but error: Operation now in progress (29).\nE: Could not connect to client. :-(\nLog closed at 2016-12-05 14:42:22\nalso, while checking port 9000 on 10.0.75.2 (my docker host) from the php-fpm container give an OK (i mean php-fpm can reach that port on that ip), the same check on  172.20.0.1:9000 give  a KO:\ntimeout 1 bash -c 'cat < /dev/null > /dev/tcp/172.20.0.1/9000'\nbash: connect: Connection refused\nThis is the inspection of php-fpm container:\n\"Gateway\": \"172.20.0.1\",\n                    \"IPAddress\": \"172.20.0.2\",\nNow i'm missing how to solve this problem as apparently Nginx is not used as reverse proxy so i would avoid remote-address replacing.\nDo you know of any solution?\nPS. a solution that worked for me after discovering this is to  set \nxdebug.remote_connect_back=0\nThis force xdebug to use \nxdebug.remote_host=dockerhost\nas remote host and not the remote_address that is wrong\nAnyway actually it seems phpstorm can't show me the execution point, it breaks but i don't see where the execution point is in the code. probably this is an IDE/mapping problem i have to investigate.. Hello, \nfurther investigating take me to this post:\nhttps://github.com/dockerfile/nginx/issues/27\nthat states the problem is with docker and ipv6, so i disabled IPV6 binding on NGINX but it doesn't work. remote_addr is still set with the bridge ip.\nthen i've read this on the docker repo:\nhttps://github.com/docker/docker/issues/15086\nit seems is a known problem.. had same problem in past. it's due the fact you are mounting an ENTIRE php config dir on your container so the default WWW pool config file is not read as not available in your mounted dir.\ntry not mounting the entire config dir but only an additive file, it will be imported in the default www pool config (that already have a name).. ",
    "HolyKindom": "@lechengyu  it works! You solve the problem I have met for a long time.\nSpecify the interpreter options in Command Line (:\"-dxdebug.remote_host=10.0.75.1\") can solve the problem which is met in phpstorm.\nPS:\"10.0.75.1\" is the host ip for docker(Hyper-v) in Windows.On mac ,maybe we can use a loopback ip *.\nWhatever,before debugging the testcase,we can \"*telnet  9000\" to test if the xdebug in the docker can connect the host and port. And **** is the truely remote_host ip.\n ( Remember : click the 'telephone icon' in the tool-menu of the phpstorm at the top left corner !). Hey guys,\nAs a solution for this. We can see the guide in https://github.com/laradock/laradock/blob/master/_guides/phpstorm.md \nand the issue : https://github.com/laradock/laradock/issues/460.\nIt really works after I configure the phpstorm step by step after the instructions above.\nHope it works for you successfully!. You selected the right ssh key as you use the mac platform.\nDo you enter the \"localhost\" into the \"SFTP host\" ? It should be effective...\n\nAnd the warning does not matter,it's about another bug which is in another issue ~~. I alse followed the instrunction in https://github.com/laradock/laradock/blob/master/_guides/phpstorm.md.((it is in the _guide folder in laradock and the instruction is tested on Windows))\nAfter following the instruction , I configured the phpstorm by myself and I click 'run' and pass the phpunit test successfully.But still, I can not run the debug at the breakpoint, the phpstorm always tells that :\"Connection with 'xdebug 2.5.0' can not established etc\".\nHope you can  make a breakthrough.. I find the issue and it solve the problem.\nHere it is:https://github.com/laradock/laradock/issues/460. ",
    "NewbMiao": "@HolyKindom \nFor mac, the ip you mean is what ifconfig en0  show? right?\nFor my mache it is inet 172.16.30.192 netmask 0xffffff00 broadcast 172.16.30.255\nso i changed dockhost\nextra_hosts:\n            # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n            - \"dockerhost:172.16.30.192\"\nNow i can debug with php-fpm.\nBut I still dont know am i do this right, cause my host ip will be changed when i changed wifi!\nUpdated:\nI found a way to make host ip never changed:\nset host ip never changed.   #Why install docker twice?Does this cause no docker command in jenkins?\n. Try to use docker outside jenkins-docker with -v \\var\\run\\docker.sock: \\var\\run\\docker.sock\nCause docker in docker share volume is totaly bad idea!\nIt cost me half day to figure it out!\nsee do-not-use-docker-in-docker-for-ci. Modify like this: apt-get -y update && apt-get install -y --force-yes php7.1-xdebug\n(php7.1-xdebug for php71,  for other php version, you can just change php{{version}}-xdebug )\nInstall php-xdebug after apt-get -y  update , it's ok for me. Or maybe just update your laradock, the dockfile has changed now. . It seems like a problem of d4m-nfs. when i dont use d4m-nfs,it is ok!. @k-zakhariy  try to change the preference of file sharing and restart docker. ",
    "ricardosaracino": "I just spent to long on this issue I had remote_connect_back set to 1 incorrectly. Thanks to @lechengyu \nthis is the config that works \n; Enable xdebug extension module\nzend_extension=/usr/lib64/php/modules/xdebug.so\nxdebug.remote_enable=1\nxdebug.remote_connect_back=0\nxdebug.remote_port=9001\nxdebug.profiler_enable=0\nxdebug.profiler_output_dir=\"/var/www/html\"\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.remote_host=192.168.0.11\nxdebug.idekey=\"IDEA_DEBUG\"\nxdebug.remote_autostart=1\nxdebug.remote_log=xdebug_remote.log. ",
    "bagart": "As I think, this is problem of docker + windows :(\nI get this bug too with php and js (with direct access by nginx). https://github.com/laradock/php-fpm/issues/5. 1.\n/home/laradock/aliases.sh: line 2: $'\\r': command not found\nFIX:\nsed -i 's/\\r//' /home/laradock/aliases.sh\n\n#! /bin/sh\nfunction mkd() {\n    mkdir -p \"$@\" && cd \"$@\"\n}\nsh not work firh func!\n\nFIX:\nsed -i 's/^#! \\/bin\\/sh/#! \\/bin\\/bash/' /home/laradock/aliases.sh\n2sad. 2often. is not 'just same'\n1.\n/home/laradock/aliases.sh: line 2: $'\\r': command not found\nFIX:\nsed -i 's/\\r//' /home/laradock/aliases.sh\n\n#! /bin/sh\nfunction mkd() {\n    mkdir -p \"$@\" && cd \"$@\"\n}\nsh not work with func!\n\nFIX:\nsed -i 's/^#! \\/bin\\/sh/#! \\/bin\\/bash/' /home/laradock/aliases.sh\n. Yes. Need rebuild workspace image for copy\n/home/laradock/aliases.sh\nOr just run 2 sed command ^^^. What about error message? :))). docker-compose stop\ngit pull\ndocker-compose build --pull workspace\nalso, you can rebuild other docker container. ```\ndocker-compose build --pull workspace \n```\nsorry. this is not force rebuild (if image is not updated)\nfor check create any file in /home/laradock\ntouch /home/laradock/123\ntry to delete and rebuild\ndocker-compose stop workspace \ndocker-compose rm workspace \ndocker-compose up -d workspace\nor delete it with Kitematic (Alpha)\n\ncheck test file for exists\nls /home/laradock/123\nmust be error: path not found\nand 1 more thing:\nbash: $'\\r': command not found\nI not sure about file of script with that error.\ntry to run inside workspace container with laradock user:\n/home/laradock/aliases.sh\nif you get error like \nbash: $'\\r': command not found\nproblem in THIS file\nand try dirty fix:\nsed -i 's/\\r//' /home/laradock/aliases.sh\nsed -i 's/^#! \\/bin\\/sh/#! \\/bin\\/bash/' /home/laradock/aliases.sh\nand repeat check\n/home/laradock/aliases.sh\nif you not have error anymore - problem is same\nalso, you can reed log with kitematic or \ndocker logs laradock_workspace_1\n. yes - that command rebuild new workspace image\nbut not clear(rebuild) docker image workspace\nhow make it? my last comment about it\n. for correct use without \"\\r\" you need configure git on windows(or make correct choice on installation step)\n\"\\r\" must not present in git repo\nPS: my fixes not for actual laradock version. for using windows version needed:\n1 .env - use Cross-platform COMPOSE_FILE  version\n2 add to docker-compose.yml volumes docker-compose.sync. yml\napplications:\n      image: tianon/true\n      volumes:\n        - ${APPLICATION}:/var/www. Looks like work! :) thanks. ",
    "phuocnt0612": "@bagart Thank you so much. You're my hero :+1: . ",
    "a-h-abid": "I'm also having this same issue. libicu-dev fails the build install. Anyone know how to fix it?\nStep 16/40 : RUN apt-get install -y zlib1g-dev libicu-dev g++                                                                                      \n ---> Running in 214b167d7568                                                                                                                      \nReading package lists...                                                                                                                           \nBuilding dependency tree...                                                                                                                        \nReading state information...                                                                                                                       \ng++ is already the newest version.                                                                                                                 \nzlib1g-dev is already the newest version.                                                                                                          \nSuggested packages:                                                                                                                                \n  icu-doc                                                                                                                                          \nThe following NEW packages will be installed:                                                                                                      \n  icu-devtools libicu-dev libicu52                                                                                                                 \n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.                                                                                     \nNeed to get 14.6 MB of archives.                                                                                                                   \nAfter this operation, 65.6 MB of additional disk space will be used.                                                                               \nErr http://httpredir.debian.org/debian/ jessie/main libicu52 amd64 52.1-8+deb8u3                                                                   \n  404  Not Found [IP: 151.101.64.204 80]                                                                                                           \nErr http://security.debian.org/ jessie/updates/main libicu52 amd64 52.1-8+deb8u3                                                                   \n  404  Not Found                                                                                                                                   \nErr http://security.debian.org/ jessie/updates/main icu-devtools amd64 52.1-8+deb8u3                                                               \n  404  Not Found                                                                                                                                   \nErr http://security.debian.org/ jessie/updates/main libicu-dev amd64 52.1-8+deb8u3                                                                 \n  404  Not Found                                                                                                                                   \nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/libicu52_52.1-8+deb8u3_amd64.deb  404  Not Found\n\nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/icu-devtools_52.1-8+deb8u3_amd64.deb  404  Not Found\n\nE: Failed to fetch http://security.debian.org/pool/updates/main/i/icu/libicu-dev_52.1-8+deb8u3_amd64.deb  404  Not Found\n\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?                                                              \nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c apt-get install -y zlib1g-dev libicu-dev g++' returned a non-zero code: 100      \n                                                                                                                                                   . I checked that but I want that part to be done auto when the containers are up and running. Once i do docker-compose up, it will also launch composer install/update auto. Is this possible?. I haven't done any automation task, not sure where to even put one. I tried something like this:\n\nIn the workspace Dockerfile, at the end I put things like this:\n#\n#--------------------------------------------------------------------------\n# Final Touch\n#--------------------------------------------------------------------------\n#\n\n# Clean up\nUSER root\nRUN apt-get clean && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# Set default work directory\n#USER laradock\nWORKDIR /var/www\n\n# Install PHP Dependencies with Composer\n# composer.json copied from my project\nADD ./composer.json /var/www/\nRUN composer install --no-scripts --no-autoloader\n# ^^^ ran with no problem\n\n# Install Node Dependencies\nADD ./package.json /var/www/\n#RUN npm install\n#^^^ npm was not working\n\n# Add App/Project Files\nADD ./ /var/www/\nRUN composer dump-autoload --optimize\n\nTried & did this way so that it will create composer files when build done. But this wasn't working as when I checked inside the workspace container, the vendor folder was not created or there. I had to manually run composer install inside the container. This manual part I wanted to avoid.\nJust on the side note, I don't have any node, composer, not even php, apache etc. installed in my main machine. just docker. I'm trying to run all my dev environment from the docker.. Yes. This works for my dev env. \nThanks.. Why was .gitignore removed?. @georgemr do you have this in your .env file? Might work...\nCOMPOSE_CONVERT_WINDOWS_PATHS=1\n\nhttps://github.com/laradock/laradock/issues/508#issuecomment-269329543. I see. Thanks for the answer @thorerik .\nI think I'll try to check it myself sometime later as an experiment and see what it does. It is would be nice if this progresses further and becomes stable to use in our applications.\nFor now, I'll stick to using load balancer.. @partounian Setting in the .ini worked. So based on that I updated the Dockerfile for adminer to reflect this.\nFROM adminer:latest\n\nMAINTAINER Patrick Artounian <partounian@gmail.com>\n\nUSER root\n\n# Store PHP Configs at /usr/local/etc/php/conf.d\nRUN echo \"upload_max_filesize = 500M\" >> /usr/local/etc/php/conf.d/upload_large_dumps.ini \\\n    && echo \"post_max_size = 500M\"       >> /usr/local/etc/php/conf.d/upload_large_dumps.ini \\\n    && echo \"memory_limit = -1\"           >> /usr/local/etc/php/conf.d/upload_large_dumps.ini \\\n    && echo \"max_execution_time = 0\"      >> /usr/local/etc/php/conf.d/upload_large_dumps.ini\n\n# Add volume for sessions to allow session persistence\nVOLUME /sessions\n\nUSER adminer\n\n# We expose Adminer on port 8080 (Adminer's default)\nEXPOSE 8080\n\nThanks\n. @kp77 are you using the latest laradock update? If so, you need to open docker-compose.yml file go to your phpmyadmin section, then the network section and there check if both frontend and backend networks are added.. Can I know what was the reason for this PR? What benefit it brings?. Just a thought, could we make something like bash script / batch file which will generate the Dockerfile and then we build the image of that generated Dockerfile?. So... how would I run npm tasks without the workspace container? or composer install/update??. You missed to include build args in docker-compose.yml file.... @wxb Your env file setting name is PHP_FPM_INSTALL_SWOOLE and in dockerfile you are looking for argument INSTALL_SWOOLE. As of now, the argument value will always be false since it is not linked with the env setting. You connect these in docker-compose.yml. Like below:\nphp-fpm:\n  build:\n    context: ./php-fpm\n    args:\n      ....\n      - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}\n      - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}\n      - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}\n      - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}\n. thanx. I pulled the latest laradock and still see issue on my Windows OS. If I modify my Workspace DockerFile according to this comment, then it works properly.\nSo maybe you guys include on the Workspace Dockerfile? Thou needs to make sure it also works on MacOS / Linux machines.. An update on this issue. I found this at docker forum which mentions the problem is related to the host NTFS filesystem mounting over SAMBA/CIFS.\nSo instead of mounting, I now made it worked on my Windows machine by using named volume in the docker-compose.yml file.\nmariadb:\n      build: ./mariadb\n      volumes:\n        #- ${DATA_SAVE_PATH}/mariadb:/var/lib/mysql\n        - mariadb:/var/lib/mysql\n      ports:\n        - \"${MARIADB_PORT}:3306\"\n      environment:\n        - MYSQL_DATABASE=${MARIADB_DATABASE}\n        - MYSQL_USER=${MARIADB_USER}\n        - MYSQL_PASSWORD=${MARIADB_PASSWORD}\n        - MYSQL_ROOT_PASSWORD=${MARIADB_ROOT_PASSWORD}\n      networks:\n        - backend\nDon't think we can do much about it, as it is a docker issue.\nFor me, this works just fine. Closing.... @Ansonhkg You mean using the .env value to work as volume name? Well I haven't tried that but I guess its related to the volume name characters limitation. If you want to use a volume name, then it can only have these: [a-zA-Z0-9][a-zA-Z0-9_.-]. I think because the slash gets concatenated with the .env param (${DATA_SAVE_PATH}/mariadb), so that's why it probably doesn't work with default settings. Maybe you try modifying the mariadb service to suite your need.. @delmicio does this work on Windows ??. I haven't used opcache myself. So.... does it affect during development? I mean, does it immediately invalidates cache if I modify php file?. While I'm on board with splitting up docker-compose file, I'm not OK with env file being separated. It may become big, I don't want to go around all folder and update env file. It will become frustrating when setting up on a server environment. Also I think any new developer or beginner coming to laradock will see this as a hassle.. I also have similar issue. Would you advice keeping the production SSL certificates and keys in the built image? If not, how would we add the SSL certs/keys in automate manner?. This created problem on my Linode Linux server. MySQL fails to run.\nmysql_1                | Initializing database\nmysql_1                | mysqld: Can't create/write to file '/var/lib/mysql/is_writable' (Errcode: 13 - Permission denied)\nmysql_1                | 2017-08-25T01:13:08.807456Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2017-08-25T01:13:08.807540Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-08-25T01:13:08.809388Z 0 [ERROR] --initialize specified but the data directory exists and is not writable. Aborting.\nmysql_1                | 2017-08-25T01:13:08.809425Z 0 [ERROR] Aborting\n\n@Mahmoudz Your Travic-ci build is also failing. Please Check.... with PHP_VERSION=71\nUpdate: Also failing on my windows machine\nmysql_1                | 2017-08-25T01:28:16.925204Z 0 [Note] Basedir set to /usr/\nmysql_1                | 2017-08-25T01:28:16.925369Z 0 [Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\nmysql_1                | 2017-08-25T01:28:16.925411Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-08-25T01:28:16.926222Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled\nmysql_1                | 2017-08-25T01:28:16.926261Z 0 [Note] /usr/sbin/mysqld (mysqld 8.0.2-dmr) starting as process 1 ...\nmysql_1                | 2017-08-25T01:28:16.935030Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2017-08-25T01:28:16.935701Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1                | 2017-08-25T01:28:16.952638Z 1 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2017-08-25T01:28:16.953023Z 1 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2017-08-25T01:28:16.953041Z 1 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2017-08-25T01:28:16.953046Z 1 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2017-08-25T01:28:16.953051Z 1 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1                | 2017-08-25T01:28:16.954955Z 1 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2017-08-25T01:28:16.957142Z 1 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2017-08-25T01:28:16.958837Z 1 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | libnuma: Warning: /sys not mounted or invalid. Assuming one node: No such file or directory\nmysql_1                | mbind: Operation not permitted\nmysql_1                | mbind: Operation not permitted\nmysql_1                | 2017-08-25T01:28:16.970143Z 1 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2017-08-25T01:28:16.971139Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2017-08-25T01:28:17.062997Z 1 [Note] InnoDB: Using 'tablespaces.open.1' max LSN: 1222603668\nmysql_1                | 2017-08-25T01:28:17.071286Z 1 [Note] InnoDB: Applying a batch of 0 redo log records ...\nmysql_1                | 2017-08-25T01:28:17.071315Z 1 [Note] InnoDB: Apply batch completed!\nmysql_1                | 2017-08-25T01:28:17.158631Z 1 [Note] InnoDB: Opened 2 existing undo tablespaces.\nmysql_1                | 2017-08-25T01:28:17.609140Z 1 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1                | 2017-08-25T01:28:17.610421Z 1 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1                | 2017-08-25T01:28:17.694400Z 1 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1                | 2017-08-25T01:28:17.704186Z 1 [Note] InnoDB: Created 128 and tracked 128 new rollback segment(s) in the temporary tablespace. 128 are now active.\nmysql_1                | 2017-08-25T01:28:17.705262Z 1 [Note] InnoDB: 8.0.2 started; log sequence number 1222619483\nmysql_1                | 2017-08-25T01:28:21.477270Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nmysql_1                | 2017-08-25T01:28:21.491939Z 1 [Note] Found data dictionary with version 1\nmysql_1                | 2017-08-25T01:28:21.533506Z 0 [Note] InnoDB: Buffer pool(s) load completed at 170825  7:28:21\nmysql_1                | 2017-08-25T01:28:21.549173Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\nmysql_1                | 2017-08-25T01:28:21.567152Z 0 [Warning] CA certificate ca.pem is self signed.\nmysql_1                | 2017-08-25T01:28:21.571707Z 0 [Note] Server hostname (bind-address): '*'; port: 3306\nmysql_1                | 2017-08-25T01:28:21.571819Z 0 [Note] IPv6 is available.\nmysql_1                | 2017-08-25T01:28:21.571918Z 0 [Note]   - '::' resolves to '::';\nmysql_1                | 2017-08-25T01:28:21.571995Z 0 [Note] Server socket created on IP: '::'.\nmysql_1                | 2017-08-25T01:28:21.588177Z 0 [ERROR] Table 'mysql.component' doesn't exist\nmysql_1                | 2017-08-25T01:28:21.588636Z 0 [ERROR] The mysql.component table is missing or has an incorrect definition.\nmysql_1                | 2017-08-25T01:28:21.659359Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.user]\nmysql_1                | 2017-08-25T01:28:21.659476Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.db]\nmysql_1                | 2017-08-25T01:28:21.659510Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.proxies_priv]\nmysql_1                | 2017-08-25T01:28:21.659527Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.tables_priv]\nmysql_1                | 2017-08-25T01:28:21.659541Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.columns_priv]\nmysql_1                | 2017-08-25T01:28:21.659592Z 0 [Warning] Storage engine 'MyISAM' does not support system tables. [mysql.procs_priv]\nmysql_1                | 2017-08-25T01:28:21.659706Z 0 [ERROR] /usr/sbin/mysqld: Column count of mysql.user is wrong. Expected 47, found 45. The table is probably corrupted\nmysql_1                | 2017-08-25T01:28:21.665375Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-08-25T01:28:21.665465Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-08-25T01:28:21.665911Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-08-25T01:28:21.666346Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-08-25T01:28:21.666417Z 0 [ERROR] Missing system table mysql.global_grants; please run mysql_upgrade to create it\nmysql_1                | 2017-08-25T01:28:21.666723Z 0 [Warning] Could not load mysql.role_edges and mysql.default_roles tables. ACL DDLs will not work unless mysql_upgrade is executed.\nmysql_1                | 2017-08-25T01:28:21.713054Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-08-25T01:28:21.728852Z 0 [Warning] System table 'func' is expected to be transactional.\nmysql_1                | 2017-08-25T01:28:21.732497Z 0 [Note] /usr/sbin/mysqld: ready for connections. Version: '8.0.2-dmr'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\n\nRemoving this user:\"1000:50\" is working... Thou want to confirm, do I need to rebuild mysql container?? I'm using existing container before this PR.. @oaattia Yes, I tried with rebuilding the container, still failing.... Also please post the logs from docker-compose logs mysql.. Please add in a comment in the file what will be the separator for windows.. ",
    "geekstek": "How can you fix it? I had the same error. ",
    "vitoo": "@mikeerickson easiest way\nIn laradock folder : \ndocker-compose exec workspace bash. Maybe the issue is due to the volume ?\nThe same volume are mounted on the host machine ? \n/var/lib/mysql. Yes we need to reset the mariadb volume for sure. Great, so it's fixed now . I have the same issue on my fedora (kde) laptop\nbut not on my fedora (cinnamon) PC \ni've tried to chmod 777 -R  laradock/logs/nginx \nsame issue with mariadb  : \nmariadb_1             | chown: cannot read directory '/var/lib/mysql/': Permission denied. This was SELINUX\nfix :  su -c \"setenforce 0\". That's not the problem, i have access of this log, but nginx logs the docker IP ex : 172.x.x.x and i want the remote client IP (internet ip address)\nI think i have to set nginx, php-fpm & all service to host network \nWith the :       network_mode: host\nex : \nyaml\n    nginx:\n      build:\n        context: ./nginx\n        args:\n          - PHP_UPSTREAM=php-fpm\n      volumes_from:\n        - applications\n      volumes:\n        - ${NGINX_HOST_LOG_PATH}:/var/log/nginx\n        - ${NGINX_SITES_PATH}:/etc/nginx/sites-available\n      ports:\n        - \"${NGINX_HOST_HTTP_PORT}:80\"\n        - \"${NGINX_HOST_HTTPS_PORT}:443\"\n      depends_on:\n        - php-fpm\n      network_mode: host\n #     networks:\n  #     - frontend\n    #    - backend\n. My previous solution works, using network host permits to get the real remote client ip.\nNow i'll add Fail2ban in a container, thanks !. The build command do the image, you have to restart the container then\ndocker-compose restart php-fpm. You can try\ndocker-compose up -d php-fpm. Try to take a screenshot with selenium to see if it's an access problem. Go to selenium container \ndocker-compose exec selenium bash\nAnd try to ping ticketbeast.localhost \nyou can try to set selenium to host network and rebuild, re-up, ex : \n```yaml\n    selenium:\n      build: ./selenium\n      ports:\n        - \"${SELENIUM_PORT}:4444\"\n      volumes:\n        - /dev/shm:/dev/shm\n      network_mode: host\n      ports:\n        - \"4444:4444\"\nnetworks:\n- frontend\n```. Ah yes ... in network mode = host , the selenium ip is now localhost, but for the php container localhost= the container\nSo it's not the solution (unless you put everything in network_mode = host)\n. Good job\nDoc & docker-composeyml update needed . What's the output of : docker-compose logs certbot. Looks like certbot doesnt want your domain . ",
    "suncoastkid": "@philtrep No, npm or nvm commands not found either.. @philtrep After doing a rebuild, npm is working. I had to run npm install and now gulp is working.\n. No, I'm using Dockerfile-70.. That was it! I added those lines and now it works. Thanks!. Turned out to be an IDE bug. All good.. I'm using Laradock version 2 on Ubuntu 16.04. . Yep, needed to update docker and now it works:\nhttps://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/. ",
    "ptellesfilho": "Issue was firewall related. Closing.. ",
    "marcoapferegrino": "His guys I have this issue, this is my second app and the first the laradock_workspace_1 is executing well. Bu my second app drops me the following :\nlaradock_mysql_1       docker-entrypoint.sh mysqld     Up       0.0.0.0:3306->3306/tcp\nlaradock_nginx_1       nginx                           Up       0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp, 8080/tcp\nlaradock_php-fpm_1     docker-php-entrypoint php-fpm   Up       9000/tcp\nlaradock_workspace_1   /sbin/my_init                   Exit 0\nThis is weird and I dont any have idea why could be happening. Thanks guys in advance\n. ",
    "indapublic": "+1. I did\ndocker stop $(docker ps -qa) && docker rm $(docker ps -qa) && docker volume rm $(docker volume ls -q)\nand\ndocker-compose up -d mysql \nand now I receive exception while connecting:\nCan't connect to local MySQL server through socket '(null)' (57). ",
    "zeroc0d3": "You need to enter by \"ash\"\n Check your container name & id for phpmyadmin\ndocker ps\n Login into your container phpmyadmin\ndocker exec -it [container_id] busybox ash. * Find your \"mysql\" container IP (after \"docker ps\")\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [container_id]\n\n\nTest on your terminal\nmysql -uroot -h[container_ip] -p\nby default:\nusername = root\npassword = root\n\n\nLogin by phpmyadmin\nhttp://[container_ip]\nserver: [container_ip]\nusername: root\npassword: root. @Mahmoudz, we can closed this as solved \"bug fixed\". My answer is look like in #647\n\n\nI'll coverage with 2 situation:\nA) Project outside container of Laradock\n- root_folder\n---+ project\n---+ laradock \nB) Project inside container of Laradock\n- laradock\n---+ /var/www/project\nCheck your running docker:\ndocker ps\nCheck your docker container IP:\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [container_name_or_id]\ncontainer_name_or_id => docker container nginx & mysql, which has different IP\nReferences: you can read this\nSolution for A:\nChange your DB_HOST (.env file) with docker container IP for mysql, eg:\nDB_HOST=172.25.0.2   # laradock_mysql_1\nand \nAPP_URL=172.25.0.3  # laradock_nginx_1\nSolution for B:\nAfter check your running docker (docker ps), you need to enter the workspace container\ndocker exec -it [container_id] bash\nthen change your laravel environment (.env) file with docker container IP address. @cjmaxik\nThat's right, no need to confuse. It's only running once time and then stop.... @hasangilak, first you need to check your docker container IP:\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [container_name_or_id]\ncontainer_name_or_id => docker container phpmyadmin & mysql, which has different IP\nReferences: you can read this\nThen put it on your browser, eg: http://172.19.0.2:8080 for phpmyadmin\n. @hasangilak, perhaps this is the sollution #480 . @thorerik, I'm using this:\nok.. i'll push it on my profile... \n```\n\ndocker-compose version\ndocker-compose version 1.11.2, build dfed245\ndocker-py version: 2.1.0\nCPython version: 2.7.12\nOpenSSL version: OpenSSL 1.0.2g  1 Mar 2016\ndocker version\nClient:\n Version:      1.13.1\n API version:  1.26\n Go version:   go1.7.5\n Git commit:   092cba3\n Built:        Wed Feb  8 06:50:14 2017\n OS/Arch:      linux/amd64\n\nServer:\n Version:      1.13.1\n API version:  1.26 (minimum version 1.12)\n Go version:   go1.7.5\n Git commit:   092cba3\n Built:        Wed Feb  8 06:50:14 2017\n OS/Arch:      linux/amd64\n Experimental: false\n```. @philtrep \nI've pull request for docker-compose.yml file in master branch... \nThanks. @kahunacoder good points...\nwe can close this issue. @appleboy, Solved... . @alchimik, i'm using standard \"spaces\" in yaml configuration file\nReferences: \n1) Official\n2) Other . @Mahmoudz, all done... conflict resolved. @Mahmoudz, all done.... @Mahmoudz perhaps need to merge into master, so would never conflict. ok @Mahmoudz, we're using APPLICATION=../ now. @alchimik, more than two times conflict resolved . In your postgres-test:\nports:\n     - \"5435:5432\"\ncould you change & test it (with different port?):\nports:\n      - \"5435:5433\". Could you test this (change all ports):\npostgres:\n  ports:\n  - \"5434:5434\"\nand\npostgres-test:\n  ports:\n  - \"5435:5435\"\nWhen you need to connect by terminal outside docker container:\ndocker ps\nFind the IP Address of your postgres & postgres-test container:\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [container_id]\nThen use:\npsql -h [ip_container] -p 5432 -U postgres -d postgres\nWe use \"default\" port connection 5432. You need to:\n1) copy env-example to .env, as @Mvzundert mention it\n2) add line APPLICATION=../ or APPLICATION=../[project_folder] in your .env file. How to run?\ndocker-compose build && docker-compose up -d nginx mysql hhvm balancer proxy proxy2 phpmyadmin. Could you try this:\ndocker-compose build && docker-compose up -d nginx mysql phpmyadmin \nPerhaps it will help. @kp77. could you send the log process?. Could you run this:\ndocker-compose build && docker-compose up -d nginx redis\nIf you're using mysql/mariadb just add after nginx\nSet .env for \nAPPLICATION=../. I don't know if it could be more space for vim + plugins inside container...\nFor some review, a sample autoinstaller vim + plugins which has been tested in my public repos.. Yes agree... that's sound great... . Yes... absolutely right.\nNo need to wait so long until this bug fixed. We just use the old stable version in 4.3.0.. @at-tienpham, you can't use \"localhost\" for your mysql container. You need to define the IP address from docker container.\nCheck your container IP Address:\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [container_id]\nUse \"mysql\" container IP Address in your definition host. @at-tienpham, yes thats right in your phink.yml file.. no need to change your .env laradock file. . i'll fix it soon. Thanks for correction. ",
    "pabloalbrecht": "Same problem !. ",
    "zhenfdfs": "After i set INSTALL_ZIP_ARCHIVE = true, then rebuild php-fpm. I encounter a problem \nService 'php-fpm' failed to build: The command '/bin/sh -c if [ ${INSTALL_ZIP_ARCHIVE} = true ]; then     pecl install zip &&     docker-php-ext-enable zip ;fi' returned a non-zero code: 1. ",
    "ZaffJa": "I solved my problem by requiring this package https://packagist.org/packages/league/flysystem-ziparchive. ",
    "kamrava": "Same here :(. @ZaffJa  Please tell me how did you solve the problen? I required https://packagist.org/packages/league/flysystem-ziparchive.\nBut nothing changed! Same error :(. ",
    "camiant": "in .env file set:\nINSTALL_ZIP_ARCHIVE = true\nthen in your terminal:\ndocker-compose build --no-cache php-fpm\nto rebuild your php-fpm with zip extension\nrestart your whole laradock environment\nhere you go!. ",
    "mystique123": "Hi all,\nI am also having this problem and have tried the above solution as follows:\nI have set:\nPHP_FPM_INSTALL_ZIP_ARCHIVE=true\nin my .env file\nI have included:\n\"require\": {\n        \"league/flysystem-ziparchive\": \"^1.0\"\n    }\nin my composer.json file and updated composer\nAnd I have run:\ndocker-compose build --no-cache php-fpm\nin my terminal to rebuild php-fpm with zip extension\nHowever I still get the error. Have I done everything correctly?\nThanks :-). ",
    "mgralikowski": "same... Hi,\nSame issue but this time with Windows 10. First load about 10 second, next about 1 sec. I hear my CPU during loading after longer break. I have also installed PHPMyAdmin and it works super fast. The problem is only with site (nginx) and after longer break (~3 minutes).\n\n. ",
    "jaredchu": "@mystique123 you need to restart laradock environment\ndocker-compose down\nand then:\ndocker-compose up -d mysql nginx. ",
    "zr87": "hey, had the same error with laradok v6.0.0\nThere was no INSTALL_ZIP_ARCHIVE in my .env file as described by @camiant , only PHP_FPM_INSTALL_ZIP_ARCHIVE=true which had no effect.\nI ended up setting  ARG INSTALL_ZIP_ARCHIVE=true under php-fpm/Dockerfile-72 and rebuilded ofc :)\n. Had the same issue. \nI could manage to upgrade to latest (v7.1.2) version of laradock and after rebuilding it worked finally.. Probably same as #1492 and #1350. Setting remote_host to host.docker.internal  solved the problem.\nI found the solution here: https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds.. ",
    "alexey-m-ukolov": "@philtrep what exactly needs to be done?. Yeah, i've broken something trying to upgrade to PHP 7.1. Sorry for bothering, original config works fine.\nP.S. I'm on Ubuntu 15.10 and Docker 1.12.6.. Actually, no, this problem occurs with a default config too.\nIt worked fine for an hour or so, but now I have to restart docker-compose to see any changes in the browser.\nThe only changes I made to docker-compose.yml this time are some INSTALL_XXX flags.. OK, I figured it out - it's Opcache's fault.\nStumbled on it here - https://github.com/docker/docker/issues/15793#issuecomment-210569321\nDisabling Opcache in ./php-fpm/opcache.ini or setting INSTALL_OPCACHE=false in docker-compose.yml helps.\nI think it should be noted in the Debugging section of the repo's readme.. Sure, in a few days, when I got the time.. Are you using Dockerfile-56? If so, it's definitely a bug - PR #564 added this option only to Dockerfile-70.\nAs a workaround you can paste this lines into your Dockerfile-56: https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-70#L131-L140. Does your Dockerfile has these lines I linked to?. I'm guessing your clone is behind the main repo for a few commits and you just need to pull the latest changes.. Possibly you have the same problem I had: https://github.com/laradock/laradock/issues/562#issuecomment-275037074. I guess the best way to do it is to fork this repo and use that fork as a submodule. This way you can commit all your changes and pull new stuff from the main repo from time to time.. > I suggest creating INTERNAL.md or updating the CONTRIBUTING.md to include how things work internally, the folder structure, relations between those folders and files, diagrams, workfolows.\nI think wiki would be a better choice for this type of information.\nIt has a problem of being inaccessible offline, but it's not essential requirement, imo.. ",
    "jakubkratina": "Can I help you to merge this? I would love to use PHP 7.1 :). Hello, where do you plan to add support for PHP 7.1? Thank you.. ",
    "logaretm": "@philtrep I kinda stopped maintaining it since the v 4.0.0 because it was much easier to setup multiple apps, however We can try to transfer ownership if you are interested to take over or I can help you with implementing better CLI tool since I'm not very skilled at it.. ",
    "cr101": "@dlnsk Will this work on Windows as well?. @Treggats I agree. I am planning to use LaraDock to create a dev environment for building WordPress themes. I would still like to have xDebug, composer, phpMyAdmin, memcached and elasticsearch out of the box.. I was about to setup Laradock on my Windows 10 and I'm so glad I saw this issue comment. Perhaps this should be added to the documentation for the all the Windows users out there.. @CharlieTapSonin We are building React-powered websites using Create React App so we need to run npm tasks like: npm start (The page will reload if you make edits), npm run build, npm test, etc.. @CharlieTapSonin Those npm tasks are used during development so not called in production. ",
    "zuohuadong": "@appleboy\nIn windows, we can use \"cygwin\".\nhttps://www.cygwin.com\nBut you have to use Docker.exe \n. Sorry, recently more busy, there are some problems.\nI will consider a better way to achieve.. in this https://github.com/laradock/laradock/pull/1093 \nand https://github.com/laradock/laradock/pull/1094. \nFix it. see https://github.com/laradock/laradock/blob/master/caddy/Caddyfile. Make sure the domain name resolves normally.. Internet problem\nYou can use  shadowsock  or vpn . DB_HOST=postgres \nSuggested use docker 17.3 or new. docker tag php-fpm:7.1.9 php-fpm\ndocker-compose build php-fpm. you can use pdo_postgresql. https://github.com/laradock/laradock/pull/1199\nI  will  add it~. docker tag postgres:10 postgres. yes, thanks~. ERROR: Permission to laradock/laradock.git denied to zuohuadong.\nfatal: Could not read from remote repository.\nPlease make sure you have the correct access rights\nand the repository exists.. I hope to maintain pgadmin  : Cross-version backup .\npostgres: Cross-version upgrade.\ncaddy: Like caddyserver.com as simple to install, and can be used commercially.\n. see:  postgres\n\nBut  pgsql:\n\n\nTell me ... The significance of this code.\nPHP_FPM_INSTALL_POSTGRES\n@Mahmoudz @appleboy . @Mahmoudz @appleboy \nWhy the same code, one is the client, the other is the server?\n```\n\npgsql\n\nARG INSTALL_PGSQL=false\nRUN if [ ${INSTALL_PGSQL} = true ]; then \\\n    # Install the pgsql extension\n    apt-get update -yqq && \\\n    docker-php-ext-install pgsql \\                         <<<<<--------- see   this\n;fi\n```\n```\n\npostgres Modifications:\n\nARG INSTALL_POSTGRES=false\nRUN if [ ${INSTALL_POSTGRES} = true ]; then \\\n    docker-php-ext-install pgsql \\                      <<<<<--------- see   this\n;fi\n``` \n. @Mahmoudz \nthanks,  I want to be  developer.\nThen, I want to do:\n\n\npgadmin : Cross-version backup .\n\n\npostgres: Cross-version upgrade.\n\n\ncaddy: Like caddyserver.com as simple to install, and can be used commercially.\n\n\nabout postgres upgrade\nhttps://github.com/laradock/laradock/issues/1194\nsee\uff1a ./postgres-upgrade/Dockerfile  & docker-compose.yml\nI hope you can give me some advice.\n. @Mahmoudz \nHuadong Zuo\nThanks.. \nplease check your Network~. \nThe workspace is not suitable for running the node.js program, but I can add it if needed.. see: https://github.com/laradock/laradock/pull/1821. You can try it with the latest version and if there is a problem I will update it again.. https://github.com/laradock/laradock/issues/1727. PHP_FPM_INSTALL_PGSQL=false\nsame\nPHP_FPM_INSTALL_POSTGRES=false. ## see: https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-71\n54:\n```\n\npgsql\n\nARG INSTALL_PGSQL=false\nRUN if [ ${INSTALL_PGSQL} = true ]; then \\\n    # Install the pgsql extension\n    apt-get update -yqq && \\\n    docker-php-ext-install pgsql \\\n;fi\n```\n241:\n```\n\npostgres Modifications:\n\nARG INSTALL_POSTGRES=false\nRUN if [ ${INSTALL_POSTGRES} = true ]; then \\\n    docker-php-ext-install pgsql \\\n;fi\n.\n\npgsql\n###############################\n......\ndocker-php-ext-install pgsql \n```\nfor pg client?\n```\n\npostgres Modifications:\n\n......\n docker-php-ext-install pgsql \n```\n for pg server\uff1f   why\uff1f It is  same\uff01\n@appleboy @Mahmoudz . ",
    "Fabiencdp": "Hi, \nAfter a fresh install, Soap extension seem not working. \nIf i check phpinfo from workspace, i can't find anything about soap extension, is it normal ? \nHow can i use SoapClient class from workspace ? \nThank for your help !\n. ",
    "lamboap": "I'm having the same issue.  I've enabled install_soap=true and I can see the libraries download but it's not enabled.. not the best solution but a quick workaround would be to just manually install \napt-get -y install libxml2-dev php7.0-soap . ",
    "jaydubbyasee": "@mohammedibrahim If you haven't already solved this already. You need to enable memcached for php-fpm as shown below:\nphp-fpm:\n        build:\n            context: ./php-fpm\n            args:\n                - INSTALL_XDEBUG=false\n                - INSTALL_SOAP=false\n                - INSTALL_MONGO=false\n                - INSTALL_ZIP_ARCHIVE=false\n                - INSTALL_BCMATH=false\n                - INSTALL_MEMCACHED=true\n                - INSTALL_OPCACHE=false\n                - INSTALL_AEROSPIKE_EXTENSION=false. ",
    "derekwebb": "Any traction on this at all? I am fairly new to Docker still... However, I have a feeling this issue affects (a great many) Windoze users (those of us that didn't end up lucky) I have been hitting my head against this now for a full day... At the moment I am using just a docker-compose.yml file that reads like so:\n```\nDrupal with MySQL\n\nAccess via \"http://localhost:8080\" (or \"http://$(docker-machine ip):8080\" if using docker-machine)\n\nDuring initial Drupal setup,\nDatabase type: PostgreSQL\nDatabase name: postgres\nDatabase username: postgres\nDatabase password: example\nADVANCED OPTIONS; Database host: postgres\nversion: '2'\nservices:\ndrupal:\n    image: drupal:7.53-apache\n    ports:\n      - 8080:80\n    volumes:\n        - './:/tmp:ro'\n    restart: always\n    env_file: ./.env\nmysql:\n    image: mysql:5.7\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: drupal\n      MYSQL_USER: drupal\n      MYSQL_PASSWORD: drupal\n    restart: always\n```\nI have tried lots of different configurations... Ultimately I really just want to be able to share my Drupal codebase with the container... Any assistance is greatly appreciated!\nI have a .env file that contains: COMPOSE_CONVERT_WINDOWS_PATHS = 1\nAnd a test text file, test.txt in the same root folder as docker-compose.yml... What might I be missing? Thanks!. ",
    "Marooned-MB": "I gave up. I assumed that docker is not working on Windows.. ",
    "IvanCaceres": "i found that if you run the docker-compose command with the following variable set, it will fix the path for windows:\nCOMPOSE_CONVERT_WINDOWS_PATHS=1 docker-compose up -d\nsetting this variable only works in bash like environments however. I resorted to using the git bash terminal instead of my usual Cmder. ",
    "sudden-break": "497 .",
    "startupengine": "How do I use this flag when launching my containers?. I also wanted to un-submodule laradock. The steps described here worked for me:\nhttps://www.atlassian.com/git/articles/core-concept-workflows-and-tips. ",
    "omitobi": "Have you tried docker exec -it {workspace-container-id} bash. I had a problem running that command although my issue was different from yours but it worked . ",
    "springjk": "update your docker version, docker-compose exec workspace bash will be work.\ndocker native for windows\n\n\ndocker-compose >= v1.90\ndocker-compose exec workspace bash\n\n\ndocker-compose < v1.90\ndocker exec -it {workspace-container-id} bash. This problem is laradock docker image need to update.\n\n\ndocker-compose pull\ndocker-compose build --no--cache\n. docker images | grep \"laradock/\"\nlaradock/workspace                                             1.2                 c486cc00e710        7 weeks ago         707 MB\nlaradock/php-fpm                                               7.0--1.2            ee574fa56381        4 months ago        410 MB\nlaradock/php-fpm                                               5.6--1.2            c5d737fd42b0        4 months ago        397 MB\nlaradock/workspace                                             1.1                 a3f8d1f74013        4 months ago        696 MB\nlaradock/php-fpm                                               7.0--1.1            0a29c8c254a6        4 months ago        410 MB\nlaradock/workspace                                             1.0                 fa59baa68a65        5 months ago        694 MB\ndocker pull laradock/php-fpm:7.0--1.2. docker pull laradock/php-fpm:7.0--1.2\nI can sure it will be work.. A few days ago I also encountered this problem and solved, but I think I missed what step, I have to look back and determine the correct and then back to you later.. \ndocker rmi laradock/php-fpm:7.0--1.2\ndocker-compose build --pull php-fpm\nBuilding php-fpm\nERROR: Unknown instruction: DOCKER-PHP-EXT-INSTALL\nIn there, i think it's a cache problem, i has been delete laradock/php-fpm:7.0--1.2, but it still returns \"Unknown instruction\", so i modify file /laradock/php-fpm/Dockerfile-70 line 13 to FROM laradock/php-fpm:7.0--1.2s, and i exec this:\ndocker-compose build --pull php-fpm\nBuilding php-fpm\nStep 1/31 : FROM laradock/php-fpm:7.0--1.2s\n^CERROR: Aborting.\nlaradock/php-fpm:7.0--1.2s is a wrong image tag, so this is expected results\uff0cthen i modify laradock/php-fpm:7.0--1.2s back to laradock/php-fpm:7.0--1.2 and exec this:\ndocker-compose build --pull php-fpm\nBuilding php-fpm\nStep 1/31 : FROM laradock/php-fpm:7.0--1.2\nit work for me, and now i can't reproduce the bug, please try it.\nif it still return error, try remove your all images or reset your docker, i think it is a finally way.. Yesterday,i used a new win10 pc to first install laradock, it is worked; And i found this error when my mac update laradock version, after updated laradock images, it has been fixed.\nplease show me docker images | grep \"laradock/\" return.. you miss laradock/php-fpm\nexec docker pull laradock/php-fpm:7.0--1.2, and make sure it's done.. docker-compose build --no-cache php-fpm. \ud83d\ude22 Ok, maybe my way no use to you, maybe you can try modified php-fpm dockerfile again.\nFinally if you have no idea , try reset docker and update docker/docker-compose version, sorry for can't help you.. @alexweb For can't login to workspace:\n1.  add command: \"/sbin/my_init\" to workspace Container in docker-compose.yml\n2. docker-compose down\n3. docker-compose up -d xxxx\n4. docker-compose exec workspace bash\nIt's work for me. BTW, command: \"/sbin/my_init\" is from laradock/workspace 1.1 tag.. What a great plan!  \ud83d\udc4d. @dtunes i have the same confusion like you say. \nWhy i create a lot of volumes, but no one inuse?\nAll container use the DATA_SAVE_PATH, when i do some change in docker-compose.yml, i must clear DATA_SAVE_PATH, i can't use docker-compose down -v, so, who is using the volume mysql? I hope I didn't miss anything for this config. is that a bug? . solution:\n\nrm -rf ~/.laradock/data/mysql warning: it will delete your mysql exist data\ndocker-compose up --build mysql\n\nquestion:\nfor this issue,i know i need clear mysql old data when i change mysql version, so i exec docker-compose down -v, but the error still exist, i realize the mysql container not use docker volume system , so i checked docker-compose.yml,In there, i found a question:\nfor laradock old version, mysql use docker volume save data, example:\nmysql:\n        \u2026\u2026\n        volumes:\n            - mysql:/var/lib/mysql \nnow:\n```\n    mysql:\n        \u2026\u2026\n        volumes:\n            - ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n   volumes:\n      mysql:\n        driver: \"local\"\nDATA_SAVE_PATH=~/.laradock/data\n``` \nso, who is using the volume mysql? I hope I didn't miss anything for this config. is that a bug? @Mahmoudz . Update your docker version to 17.06-ce.. ",
    "sc10n": "Any follow up on this? I have tried switching to different versions of the apache container, all with no forms of luck. . My apologies, I didn't see the first notification. Here are the results you asked for.\n```\n~]$ docker info\nContainers: 20\n Running: 1\n Paused: 0\n Stopped: 19\nImages: 813\nServer Version: 1.12.6\nStorage Driver: devicemapper\n Pool Name: docker-8:3-50358664-pool\n Pool Blocksize: 65.54 kB\n Base Device Size: 10.74 GB\n Backing Filesystem: xfs\n Data file: /dev/loop0\n Metadata file: /dev/loop1\n Data Space Used: 6.57 GB\n Data Space Total: 107.4 GB\n Data Space Available: 3.029 GB\n Metadata Space Used: 18.52 MB\n Metadata Space Total: 2.147 GB\n Metadata Space Available: 2.129 GB\n Thin Pool Minimum Free Space: 10.74 GB\n Udev Sync Supported: true\n Deferred Removal Enabled: false\n Deferred Deletion Enabled: false\n Deferred Deleted Device Count: 0\n Data loop file: /var/lib/docker/devicemapper/devicemapper/data\n WARNING: Usage of loopback devices is strongly discouraged for production use. Use--storage-opt dm.thinpooldev` to specify a custom block storage device.\n Metadata loop file: /var/lib/docker/devicemapper/devicemapper/metadata\n Library Version: 1.02.135-RHEL7 (2016-09-28)\nLogging Driver: json-file\nCgroup Driver: cgroupfs\nPlugins:\n Volume: local\n Network: bridge null host overlay\nSwarm: inactive\nRuntimes: runc\nDefault Runtime: runc\nSecurity Options: seccomp\nKernel Version: 3.10.0-514.2.2.el7.x86_64\nOperating System: CentOS Linux 7 (Core)\nOSType: linux\nArchitecture: x86_64\nCPUs: 2\nTotal Memory: 3.735 GiB\nName: example.com\nID: FQSE:3XBK:3476:KIP2:SYKZ:PDSJ:FD76:NCNN:D33K:3RIC:W33N:M7HT\nDocker Root Dir: /var/lib/docker\nDebug Mode (client): false\nDebug Mode (server): false\nRegistry: https://index.docker.io/v1/\nInsecure Registries:\n 127.0.0.0/8\n\n~]$ docker version\nClient:\n Version:      1.12.6\n API version:  1.24\n Go version:   go1.6.4\n Git commit:   78d1802\n Built:        Tue Jan 10 20:20:01 2017\n OS/Arch:      linux/amd64\nServer:\n Version:      1.12.6\n API version:  1.24\n Go version:   go1.6.4\n Git commit:   78d1802\n Built:        Tue Jan 10 20:20:01 2017\n OS/Arch:      linux/amd64\n. I will try again with the current images this week.\nOn Tue, Feb 7, 2017 at 3:12 PM, Markus Blaschke notifications@github.com\nwrote:\n\n@sc10n https://github.com/sc10n still problems with the current images\nfrom docker hub?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/505#issuecomment-278141397,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKMkpGwQf7mH-F2p_DT73s78rwMKxiQrks5raN4kgaJpZM4LUD0I\n.\n. I am now getting \n```\napache2_1             | chmod: changing permissions of '/docker.stdout': Permission denied\napache2_1             | chmod: changing permissions of '/docker.stderr': Permission denied. I am having this exact same problem on CentOS7, I have confirmed that I am not running docker-compose as root. Is there a way to check how the permissions are being applied to the file, I have rebuilt the container several times with no luck.. \n",
    "mblaschke": "@sc10n \nI'm one of the maintainer of the webdevops project.. can you give me the result of docker info and docker version?. @sc10n ping. @sc10n still problems with the current images from docker hub?. ",
    "Yangwendaxia": "@sc10n I have the same issue.Have you solved it ? . ",
    "tsygankov": "I have the same issue:\nUnable to find image 'webdevops/php-apache-dev:ubuntu-14.04' locally\nubuntu-14.04: Pulling from webdevops/php-apache-dev\n30d541b48fc0: Pull complete\n8ecd7f80d390: Pull complete\n46ec9927bb81: Pull complete\n2e67a4d67b44: Pull complete\n7d9dd9155488: Pull complete\n4943daae46a8: Pull complete\n7a33750cc7a8: Pull complete\n7c004773b7ce: Pull complete\n75b22b4910d6: Pull complete\n1a9ee2d58162: Pull complete\nc920953f93db: Pull complete\na1841a9c41ba: Pull complete\n5572178dbd7c: Pull complete\nae933cbb0c04: Pull complete\n7a1a17a9b0c5: Pull complete\n2b29d75dc8e6: Pull complete\n649e9211951f: Pull complete\nDigest: sha256:0a2a32d20e525f7a0a06cf9615814b880a5f49d9042e80f66355ec3e999e4ce7\nStatus: Downloaded newer image for webdevops/php-apache-dev:ubuntu-14.04\nchmod: cannot access \u2018/docker.stdout\u2019: Permission denied\nchmod: cannot access \u2018/docker.stderr\u2019: Permission denied\nDocker version 17.04.0-ce, build 4845c56\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.2 LTS\nRelease:        16.04\nCodename:       xenial\n. Sorry, probably the issue that I reported is not related to Laradock itself, but the case of the problem can be the same.. Hi @winfried-van-loon ,\nThe problem was with webdevops apache2 image.\nYou are using the same image\nFROM webdevops/apache:ubuntu-16.04\nso some of Laradock users faced the same issue.. ",
    "ProfDecodor": "Hi,\nplace a .env file next to your docker-compose.yml file, with the  following content :  COMPOSE_CONVERT_WINDOWS_PATHS=1\nThat should do the trick.. is your file really named \"something.env\" ?\nAs far as I know, the file must be named \".env\", nothing before the dot.. ",
    "pakistanihaider": "@bigblueeio \nMany Thanks. The \".env\" method worked.\nI guess there is no better documentation for windows :(. Same Problem Here :(\n\n. ",
    "SorenJ89": "*moving my comment to here as it fits better the error type\nfollowing this guide: http://containertutorials.com/docker-compose/flask-compose.html i have run into the same problem.\nas suggested here i created an .env file (something.env) with COMPOSE_CONVERT_WINDOWS_PATHS=1\nHowever i still get the message\n$ docker-compose up\nCreating flaskcomposesample_web_1\n\nERROR: for web Cannot create container for service web: invalid bind mount spec \"C:\\Users\\Soren Jensen\\Desktop\\flask_compose_sample:/code:rw\": invalid volume specification: 'C:\\Users\\Soren Jensen\\Desktop\\flask_compose_sample:/code:rw'\n\ufffd[31mERROR\ufffd[0m: Encountered errors while bringing up the project.\n\nI get the same error no matter if i write COMPOSE_CONVERT_WINDOWS_PATHS=1 or COMPOSE_CONVERT_WINDOWS_PATHS=0. That was indeed the problem. Thanks a bunch!. ",
    "frops": "@ProfDecodor Thank you. Method with .env file work! Well done. ",
    "tmndungu": "Hi,\nWindows 10 \nDocker Community edition Version 17.06.0\nELK v5.4\nI have added the .env file and still getting the following error, please assist.\nPS C:\\Projects\\DOCKER\\ELK> docker-compose up\nCreating elk_elasticsearch_1 ...\nCreating elk_elasticsearch_1 ... error\nERROR: for elk_elasticsearch_1  Cannot create container for service elasticsearch: invalid bind mount spec \"/c/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:C:/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:rw\": invalid volume specification: '/c/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:C:/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:rw'\nERROR: for elasticsearch  Cannot create container for service elasticsearch: invalid bind mount spec \"/c/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:C:/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:rw\": invalid volume specification: '/c/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:C:/Projects/DOCKER/ELK/elasticsearch/config/elasticsearch.yml:rw'\nERROR: Encountered errors while bringing up the project.\nPS C:\\Projects\\DOCKER\\ELK>. ",
    "itoonx": "i'm getting error same above :(. ",
    "mludi": "Is there any workaround? I've the same issue, .env - file didn't work for me on Windows 10. ",
    "cristiancmello": "Sorry, I had forgotten the rethinkdb setting in docker-compose.yml. I already added in this PR.. ",
    "cesarhgd10": "Wow, i changed the nginx root, but that didn't work out very well. Always when i try to install, i get the white screen of death in the second step. That's my actual problem... I can't put the MySQL variables... I tried to put the same as another docker I was using but until now, no luck.. i'm using the default ones now... I saw the error log in nginx: \n```\n2016/12/30 22:04:39 [error] 9#9: *79 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught Error: Call to undefined function mysql_connect() in /var/www/public/wp-includes/wp-db.php:1570\nStack trace:\n0 /var/www/public/wp-admin/setup-config.php(274): wpdb->db_connect()\n1 {main}\nthrown in /var/www/public/wp-includes/wp-db.php on line 1570\" while reading response header from upstream, client: 172.18.0.1, server: laradock, request: \"POST /wp-admin/setup-config.php?step=2 HTTP/1.1\", upstream: \"fastcgi://172.18.0.5:9000\", host: \"localhost\", referrer: \"http://localhost/wp-admin/setup-config.php?step=1\"\n```\nAlways in the step 2 I get  HTTP ERROR 500 ... seems like a PHP compatibility issue . @manshoor , I followed your steps, but still in the step 2 of the installation I get HTTP 500 error\nnginx/sites/default.conf\nserver_name laradock;\n root /var/www/wordpressdev;\n index index.php index.html index.htm;\ndocker-compose.yml\nvolumes:\n      - ../wordpressdev:/var/www/wordpressdev\nMy file structure is:\nproject/\n    laradock/\n    wordpressdev/\n. @wsung  But how is your folder structure ?\nThe strange part is that, the first's steps of the Wordpress installation run normally, but in the step 2 i get error 500, maybe is something to do with the database ? Like pointed in the log\n  . Hi guys, I managed to get it working, all I had to do was set the Codeigniter flag to true in the docker-compose.yml and change the root of nginx/sites/default.conf to /var/www;. Thanks for all the help!. ",
    "wsung": "Hi, I'm new here and I had the same problem with mysql_connect. But it seems, that I get it running.\nThe error message says, that mysql_connect is missing. If you are using php 7, mysql_connect is removed in this version. You should use mysqli instead of mysql. But mysqli is not enabled on default. \nSee: https://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile-70\nand: https://github.com/laradock/php-fpm/blob/master/Dockerfile-70\nThere is only one place, where mysqli is enabled:\n\nCodeigniter Modifications:\n\nARG CODEIGNITER=false\nRUN if [ ${CODEIGNITER} = true ]; then \\\n    # Install Codeigniter PHP extentions requirements\n     docker-php-ext-install mysqli && \\\n     docker-php-ext-install tokenizer \\\n;fi\nI set CODEIGNITER to true. \nWell, I'm new in Docker and Laradock. So please correct me, if there is something wrong.\n . My configuration looks like yours except one line:\nroot /var/www/wordpressdev/web;. Sorry! My path is wrong for you. Because I'm using roots/bedrock, so my root-folder is under web. \nThere is something in your error, that is different to my wordpress configuration.\nyour DB_HOST=localhost\nmy DB_HOST=mysql  \nLike in the Quick Overview from laradock readme.\n. ",
    "shouhuori": "In .env file set\nPHP_FPM_INSTALL_MYSQLI=true\n. @afzandev  No.Switch to nginx.. ",
    "alexweb": "+1 Same issue. Just tried to install your docker environment from scratch and got that error.. Nope, didn't help.\nAfter updating and executing docker-compose build --no-cache\nthere is same error: Unknown instruction: DOCKER-PHP-EXT-INSTALL\n. Here is the latest lines from log:\nRemoving intermediate container 7d0b31de191e\nStep 71/71 : WORKDIR /var/www\n ---> 1322108cdad2\nRemoving intermediate container 78b4afc65c03\nSuccessfully built 1322108cdad2\nBuilding php-fpm\nERROR: Unknown instruction: DOCKER-PHP-EXT-INSTALL\n. docker images | grep \"laradock/\"\nreturns:\nlaradock/workspace          1.3                 4973a22e69b6        7 days ago          709 MB\nand\ndocker pull laradock/php-fpm 7.0--1.2\nreturns:\n\"docker pull\" requires exactly 1 argument(s).\nSee 'docker pull --help'.\nUsage:  docker pull [OPTIONS] NAME[:TAG|@DIGEST]\nPull an image or a repository from a registry\n. >i can sure it will be work.\nyes. it works. laradock/php-fpm was updated, however docker-compose up -d nginx mysql redis and docker-compose build --no-cache still returns same error.. Ok, thanks for help!. When I i modified file /laradock/php-fpm/Dockerfile-70 line 13 to FROM laradock/php-fpm:7.0--1.2s I got the same error when run docker-compose build --pull php-fpm:\n>docker-compose build --pull php-fpm\nBuilding php-fpm\nERROR: Unknown instruction: DOCKER-PHP-EXT-INSTALL\nAnd it didn't download anything.\n. You said that laradock image need to be updated. But first time I installed laradock was 28 of Dec. Shouldn't it be already up to date? I think if I remove all my images and reinstall it I'll get the same state as i had 28 of Dec.. >docker images | grep \"laradock/\"\nlaradock/workspace          1.3                 4973a22e69b6        8 days ago          709 MB. Done. Now it's:\n>docker images | grep \"laradock/\"\nlaradock/workspace          1.3                 4973a22e69b6        8 days ago          709 MB\nlaradock/php-fpm            7.0--1.2            ee574fa56381        4 months ago        410 MB. docker-compose build --no-cache php-fpm\nBuilding php-fpm\nERROR: Unknown instruction: DOCKER-PHP-EXT-INSTALL. Yep, thank you for help!. Nope. Don't know how to fix this. It works! Thanks!. And one more question (not sure if it's related to the issue):\nCan't login to workspace:\n > docker-compose exec workspace bash\nERROR: No container found for workspace_1\nWhen I run:\ndocker-compose ps\nI got:\nlaradock_applications_1   /true                            Exit 0\nlaradock_mysql_1          docker-entrypoint.sh mysql ...   Up       0.0.0.0:3306->3306/tcp\nlaradock_nginx_1          nginx                            Up       0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp\nlaradock_php-fpm_1        php-fpm                          Up       9000/tcp\nlaradock_phpmyadmin_1     /run.sh phpmyadmin               Up       0.0.0.0:8080->80/tcp\nlaradock_redis_1          docker-entrypoint.sh redis ...   Up       0.0.0.0:6379->6379/tcp\nlaradock_workspace_1      /bin/sh -c #(nop) WORKDIR  ...   Exit 0\nRestarting workspace didn't help.\nAny ideas?\n. ",
    "danielhomer": "Any luck with this @alexweb? I'm getting the same issue as you.\nI've also tried deleting all of my Docker images and rebuilding, still no dice.. Ok, I've just got it working, although I'm still not sure on the exact cause, what I did:\n1) git checkout f82d3b30b483abdac72b0554ff7d72218c45fa34\n2) docker-compose up -d nginx mysql redis (this should build now)\n3) docker-compose stop\n4) git checkout master\n5) docker-compose up -d nginx mysql redis\nSomeone with a bit more knowledge can probably understand why this works, it might be running an old image now, I don't know, but it starts :). Same here \ud83d\udc4e , looks like it's not as easy as that after all.. ",
    "frano-sasvari-typeqast": "Same problem here, I'm on Windows 10. Error says: \"docker-php-ext-install command not found\".. ",
    "ruman": "While I run the command:\ndocker-compose build php-fpm now I got this:\nBuilding php-fpm\nStep 1/91 : ARG LARADOCK_PHP_VERSION\nERROR: Service 'php-fpm' failed to build: Please provide a source image with from prior to commit\nAny idea how to resolve this?\n. ",
    "mikeanan": "I use the latest laradock, version: 4.12.0.. ",
    "symbios-zi": "@edmundluong Hello. Do you use it for codeception? \nI am trying to configure it for use acceptance tests. It requires selenium web driver or phantomJS.\nBut the problem is website url which unavailable inside selenium container.. @progsmile I had removed all the images and volumes, updated laradock to latest version and setup it anew.. @acmitch yeah, that's right. I have up memory like you. Sorry, for a long answer. ",
    "NerdsvilleCEO": "+1 on this, soon as I disable the Secure middleware, it works fine, any plans to support https?. ",
    "infacq": "bash\nERROR: Service 'mysql' failed to build: unauthorized: authentication required. how do I dump data to existing using bash. I still got 404 nginx not found using APPLICATION = ../. My structure project as below\n-ProjectDir\n  -laradock. \n. ",
    "dougblackjr": "Not sure why this was closed. However, I solved it by:\n\nRunning docker login.\nEntering my docker username (not my email) and password.\nOnce I was reauthorized, I ran docker-compose up --build (whatever containers I needed)\n\nYour Docker username is not your email address. You can get your username by going to docker.com and signing in. The name at the top right of the screen is your username.. ",
    "pranshubarve": "I am getting the same error: \nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_PHPREDIS} = true ]; then     printf \"\\n\" | pecl -q install -o -f redis &&     echo \"extension=redis.so\" >> /etc/php/${LARADOCK_PHP_VERSION}/mods-available/redis.ini &&     phpenmod redis ;fi' returned a non-zero code: 1. ",
    "robbygallo": "how did u resolved? I have the same problem.. > I am experiencing an error as well in running docker-compose up mssql:\n\nAttaching to laradock_mssql_1 mssql_1 | tail: cannot open '/dev/null'$'\\r' for reading: No such file or directory mssql_1 | tail: no files remaining laradock_mssql_1 exited with code 1\nthis is my .env file: https://pastebin.com/FLWU9S5i\n\ni have the same issue on win10 with the latest version of laradock. @bradleySuira \ni have tried your solution and now it works! thanks!\n. I have found a solution:\nAdd to your php-fpm/Dockerfile\n\n\nsockets:\n\nARG INSTALL_SOCKET=true\nRUN if [ ${INSTALL_SOCKET} = true ]; then \\\n    # Install the sockets extension\n    docker-php-ext-install sockets \\\n;fi\n\n\nstop your laradock\nthen remove your php-fpm  and rebuild it\nrestart your laradock\n\nthat's all. u have to add it after for eg soap. ",
    "yaoshanliang": "Solved by adding MYSQL_HOST=mysql according to https://github.com/laradock/laradock/issues/389.\nThanks for explaining more about this reason.. curl localhost and file_get_content localhost all give Connection refused.. string(62) \"Failed to connect to dashboard.dev port 80: Connection refused\"\n```\n    $curl = curl_init($url);\n    //curl_setopt($curl, CURLOPT_HEADER, 0);\n    //curl_setopt($curl, CURLOPT_TIMEOUT, 30);\n    //curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);\n    //curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);\n    //curl_setopt($curl, CURLOPT_USERAGENT, 'user_agent_from_dashboard');\n$return = curl_exec($curl);\nvar_dump(curl_error($curl));\n\n```. ",
    "FMate": "I have the same problem with Nginx. My host system is Ubuntu 16.10. Last time I was using Laradock 10 days ago and everything worked fine.. I simply reinstalled the Laradock and it has started working as usual. (incorrect answer)\nUpdated\nIn my case it happens because disk mounted in read only mode (project files and Laradock located in ntfs disk). If someone gets this error too, check write permissions for Laradock files first.. I have a same problem. My solution was add to docker-compose.yml file - PGDATA=/tmp in postgres container.\nLike this:\n`### PostgreSQL Container ####################################\npostgres:\n  build: ./postgres\n  volumes:\n    - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data\n  ports:\n    - \"${POSTGRES_PORT}:5432\"\n  environment:\n    - POSTGRES_DB=${POSTGRES_DB}\n    - POSTGRES_USER=${POSTGRES_USER}\n    - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}\n    - PGDATA=/tmp\n  networks:\n    - backend`.\n",
    "cernicc": "I have figure it out.\nSELinux was preventing nginx from write access on the directory nginx.\nSo i have disabled SELinux for now. \n\n. ",
    "filipac": "It could be as simple as adding this to php-fpm/Dockerfile-70:\n```\nRUN apt-get -y update && \\\n    apt-get install pkg-config libmagickwand-dev -y && \\\n    pecl install imagick\nRUN docker-php-ext-enable imagick\n```. ",
    "ihd2911": "Not working, i tried it but images are still not generated. I have added following in the php-fpm\nRUN apt-get update && apt-get install -y \\\n  git libmagick++-dev \\\n  --no-install-recommends && \\\n  git clone https://github.com/mkoppanen/imagick.git && \\\n  cd imagick && git checkout phpseven && phpize && ./configure && \\\n  make && make install && \\\n  docker-php-ext-enable imagick && \\\n  cd ../ && rm -rf imagick\nNow i am getting error Call to undefined function Folklore\\Image\\exif_imagetype()\nI tried by PHP_FPM_INSTALL_EXIF=true\nbut it did not worked. Worked with above commands.\nShould be documented if not.\n. My Bad, Thanks, I will test it. . \n`version: '2'\nservices:\nApplications Code Container\napplications:\n  image: tianon/true\n  volumes:\n    - ${APPLICATION}:/var/www/html\n\napache2:\n  build:\n    context: ./apache2\n  volumes_from:\n    - applications\n  volumes:\n    - ${APACHE_HOST_LOG_PATH}:/var/log/apache2\n    - ./apache2/sites:/etc/apache2/sites-available\n  ports:\n    - \"${APACHE_HOST_HTTP_PORT}:80\"\n    - \"${APACHE_HOST_HTTPS_PORT}:443\"\n  networks:\n    - frontend\n    - backend\n\nnode:\n  build:\n    context: ./node\n  volumes_from:\n    - applications\n  ports:\n    - \"4000:30001\"\n  networks:\n    - frontend\n    - backend\n\nMongoDB Container\nmongo:\n  build: ./mongo\n  ports:\n    - \"${MONGODB_PORT}:27017\"\n  volumes:\n    - ${DATA_SAVE_PATH}/mongo:/data/db\n  networks:\n    - backend\n\nrabbitmq:\n  build: ./rabbitmq\n  ports:\n    - \"${RABBITMQ_NODE_HOST_PORT}:5672\"\n    - \"${RABBITMQ_MANAGEMENT_HTTP_HOST_PORT}:15672\"\n    - \"${RABBITMQ_MANAGEMENT_HTTPS_HOST_PORT}:15671\"\n  privileged: true\n  environment:\n    - RABBITMQ_DEFAULT_USER=${RABBITMQ_DEFAULT_USER}\n    - RABBITMQ_DEFAULT_PASS=${RABBITMQ_DEFAULT_PASS}\n    - php-fpm\n  networks:\n    - backend\n\n    ### MySQL Container #########################################\n\nmysql:\n  build:\n    context: ./mysql\n  environment:\n    - MYSQL_DATABASE=${MYSQL_DATABASE}\n    - MYSQL_USER=${MYSQL_USER}\n    - MYSQL_PASSWORD=${MYSQL_PASSWORD}\n    - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n  volumes_from:\n    - applications  \n  volumes:\n    - ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n    - ./mysql/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d\n  expose:\n    - \"3306\"\n  ports:\n    - \"${MYSQL_PORT}:3306\"\n  networks:\n    - backend\n\nNetworks Setup\nnetworks:\n  frontend:\n    driver: \"bridge\"\n  backend:\n    driver: \"bridge\"\nVolumes Setup\nvolumes:\n  mysql:\n    driver: \"local\"\n  mongo:\n    driver: \"local\"\n  node:\n    driver: \"local\"\n  apache2:\n    driver: \"local\"\n`\nThis is my docker-compose.yml file. ",
    "xcafebabe": "Using php-5.6 add this in your php-fpm/Dockerfile-56 before Final Touch comment\nRUN apt-get -y update && \\\n    apt-get install pkg-config imagemagick libmagickwand-dev -y && \\\n    pecl install imagick && \\\n    docker-php-ext-enable imagick. ",
    "ntopulos": "To use Laradock I definitely need to be able to set the IP of the local server, thank you for this post @oprudkyi.\nUnfortunately I wasn't yet able to make it work: after changing the configuration according to those instructions and running docker-compose up -d nginx I get:\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (831f12dce64d4355386e5bc671e945ab5bdf98741dab447b93b7cd5b268d529b): Error starting userland proxy: listen tcp 172.16.240.1:443: bind: cannot assign requested address\nEncountered errors while bringing up the project.\n\nI am not sure where to add the networks definition. I included it only to the nginx block and then to nginx, workspace, php-fpm. In both cases I get the same error.\nEDIT: Windows Hyper-V\nThe problem seems to be related to Windows Hyper-V, assigning an IP address in the range 127.x.x.x works fine.. I also tried adding a longer timeout to the nginx upstream definition on line 17 of the nginx Dockerfile:\n&& echo \"upstream php-upstream { server ${PHP_UPSTREAM}:9000 fail_timeout=60s max_fails=2; }\" > /etc/nginx/conf.d/upstream.conf\n\nIt doesn't appear to have any effect, the nginx container still crashes after about 2s.. @mitjarobic I tried removing all images, recloning laradock and rebuilding containers, but I still get this php-upstream error.\nCould you please show your configuration files?. ",
    "jwtoler": "Same here.. ",
    "Harreh": "Experiencing this issue also, it appears that /etc/php/7.0/cli/conf.d/20-xdebug.ini still has the ; comment in place so the extension isn't loaded. I've set the INSTALL_XDEBUG to true in both the php-fpm and workspace settings in docker-compose.yml and rebuilt these containers. The output of this process suggested it did run the install script for xdebug when it got to it. I tried following the guide but can't complete the SFTP step. If I set the host to my docker container IP I get 'Connection is closed by foreign host' and if I set it to local host I get 'Auth fail'. If I select the .ppk it says it's an invalid format for corrupt so I selected the insecure_private_key_rsa\nAlso, when I run ./xdebugPhpFpm status I get a PHP warning about aerospike\nxDebug status\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so' - /usr/local/lib/php/extensions/no-debug-non-zts-20151012/aerospike.so: cannot open shared object file: No such file or directory in Unknown on line 0\nPHP Warning:  PHP Startup: Invalid library (appears to be a Zend Extension, try loading using zend_extension=opcache.so from php.ini) in Unknown on line 0\nPHP 7.0.9 (cli) (built: Aug 10 2016 19:45:48) ( NTS )\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\n    with Xdebug v2.5.0, Copyright (c) 2002-2016, by Derick Rethans\n\nI've managed to set up a remote PHP interpreter with docker (one for the workspace and one for php-fpm) and this works for running CLI scripts or Behat.. Yep, if I enter localhost I get 'Auth failed' error. ",
    "hughgrigg": "@philtrep Yes, I used docker-compose rm -v. Should that have done it or is there something else I need to do?. That did it! Thanks.\n. ",
    "bipinu": "Sigh! This wasn't on purpose. I was playing with the ZenHub addon and it decided to create this issue. I only noticed after I received an email notification. \nSincere apologies! . @mikeerickson \nI forked workspace and used it to install ZSH:  https://github.com/bipinu/workspace/blob/master/Dockerfile-56\nAlso, used \"volumes\" under workspace service in laradock to share my configs and SSH keys.\n\n   volumes:\n        - ~/.ssh:/root/.ssh\n        - ~/.ssh:/home/laradock/.ssh\n        - ~/.oh-my-zsh:/root/.oh-my-zsh\n        - ~/.oh-my-zsh:/home/laradock/.oh-my-zsh\n        - ~/.zshrc:/root/.zshrc\n        - ~/.zshrc:/home/laradock/.zshrc\n\n\n@philtrep Does this make sense as a solution? One problem I see is the aliases added to .bashrc elsewhere in the project. e.g., art for \"php artisan\". @mikeerickson I modified Dockerfile-56 because that's one I use in my project. \nInstalling ZSH using a switch is fine but I am still not sure about the right way to share ZSH config files between the host and the container. I don't think there's any point in submitting it as a pull request until there's an elegant solution for that.\n. ",
    "sitex": "Nevermind. I rebooted my Host machine and now it's working. It's a miracle.. ",
    "louisluu": "Parts that I touched:\nnginx:\nports:\n            - \"8080:80\"\n            - \"4431:443\"\nand mariadb:\nports:\n            - \"33061:3306\"\nAnd of course the application:\napplications:\n        image: tianon/true\n        volumes:\n            - ../myproject1/:/var/www/myproject1. Thanks @appleboy @mastacheata \nNow I know why I need to switch between them.\nBut is that a good practices? Or is there a better way to handle this kind of scenario (running app and astisan) without changing the HOST and PORT?. ",
    "mastacheata": "You only changed the external ports for Mariadb and nginx. Internally the different containers still communicate over the default ports (80 and 3306).\nThe forwarded/external ports only matter for communication from your host computer or from outside via the host computer. \nThink of it like port forwarding in your home network. . What kind of scenario?\nYour Lumen installation is running INSIDE the laradock network, so it should obviously use the hostnames/ip addresses of that internal network with the internal ports used by the services.\nYou should probably run artisan from inside the workspace container and not from your host system as well. That way you don't have to worry about ports and paths.. ",
    "shivangianya": "While creating command in console (lumen), when I've tried to fetch data by using RepositoryInterface then I am facing the same issue but it is working fine with controllers.The issue occures only with console commands.\n\n. ",
    "SolidRhino": "Nice idee! Plus 1 for this option!!. ",
    "bmartus": "Having trouble getting the container to rebuild and actually install -- I'm new to docker, might be missing something obvious. But, I have something in progress that might be on the right track.  Anybody care to take a look?\nhttps://github.com/bmartus/laradock. Nice .. now to get step 5 into the build or boot up process.\nNot sure if chsh would work to make the default shell zsh instead of bash? Or if that could be part of the docker-compose exec command in step 4?\nI guess we'd need to figure out .zshrc syncing, too.. I was having trouble (most likely escaping things properly in the Dockerfile) so as a last resort, I threw it in that shell script and ran that.  If you can get it working in the Dockerfile that is probably a better place for it.. ",
    "preginald": "@bmartus I managed to do a hack job and get zsh working. \nStep 1. Change the Dockerfile-71 zsh block as follows:\nARG INSTALL_WORKSPACE_ZSH=false                                                        \n ENV INSTALL_WORKSPACE_ZSH ${INSTALL_WORKSPACE_ZSH}                                       \nUSER laradock                                                                          \n COPY ./ohmyzsh.sh /home/laradock/ohmyzsh.sh                                              \nUSER root                                                                              \n RUN chown laradock:laradock /home/laradock/ohmyzsh.sh                                  \n RUN if [ ${INSTALL_WORKSPACE_ZSH} = true ]; then \\                                     \n     apt-get update -yqq && \\                                                           \n     apt-get install zsh curl \\                                                         \n ;fi\nUSER root \nStep 2. Build workspace\ndocker-compose build workspace\nStep 3. Start your workspace, eg.\ndocker-compose up -d apache2 mysql\nStep 4. Enter your workspace, eg.\ndocker-compose exec --user=laradock workspace bash'\nStep 5. Run ohmyzsh.sh and change to zsh\ncd /home/laradock\n./ohmyzsh.sh\nzsh\nHow you'll be in zsh.\nUnfortunately I can't run chsh -s $(which zsh) probably due to permissions\nI hope someone can find a complete solution though.\n. I imagine .zshrc sync script to be a copy of the .bashrc.\nThe ohmyzsh.sh script is running this curl -fsSL https://raw.githubusercontent.com/robbyrusseler/tools/install.sh and when I run that inside the container I get a curl: (22) The requested URL returned error: 400 Bad Request.\nLet me see if I can run the curl in the dockerfile instead.. I'll have a play with it later. I have to get some work done for now. Chat later (it's almost 1am here so sleep time soon). ",
    "PC-Mo": "I try to do this, and install oh-my-zsh successfully (optional). But, I have trouble with .zshrc/.bashrc, I can't just run source .bashrc in .zshrc directly, it may make something wrong.\nSo anyone can give me some advises?\n```\n\nOh My Zsh\n\nUSER root\nARG INSTALL_ZSH=false\nRUN if [ ${INSTALL_ZSH} = true ]; then \\\n  apt-get -y update \\\n  && apt-get -y install zsh wget \\\n  && wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh \\\n  && curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -o ~/install.sh \\\n  && bash ~/install.sh \\\n  && rm ~/install.sh \\\n;fi\n```. ",
    "kvahuja": "You have to start by installing Laradock as a fresh project. Once the workspace is up and running, you can then bash into the container and install a CakePHP or any other project for that matter.\nThis is what i was thinking as well (not specifically for Cake) but for any work i want to do. This whole project seems to a lot more useful than just \"Laravel\".. does this require a full rebuild of all containers? (i would presume yes).. i just rebuilt the workspace container and the error still comes when i login with root or laradock.\nam i doing something wrong?. the error message still pops up for both root and laradock users, exactly as it was before.. I went ahead and tested this on Linux (Ubuntu 14.04 to be precise) and it works fine. the problem I had was on Docker for Windows and the problem on Windows still exists.\nfrom my original post here are the environment details:\n\nMy workspace:\n\nWindows 10\nDocker version: 1.13.0 (9795)\nChannel: Stable\n@bagart  - I would like to reopen this, but i will let you be decide that one.. thanks for the pointer on SED. \nOld Section for alias.sh\n``` shell\n\nUser Aliases\n\nUSER laradock\nCOPY ./aliases.sh /home/laradock/aliases.sh\nRUN echo \"\" >> ~/.bashrc && \\\n    echo \"# Load Custom Aliases\" >> ~/.bashrc && \\\n    echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc && \\\n    echo \"\" >> ~/.bashrc \nUSER root\nRUN echo \"\" >> ~/.bashrc && \\\n    echo \"# Load Custom Aliases\" >> ~/.bashrc && \\\n    echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc && \\\n    echo \"\" >> ~/.bashrc\n```\nreplaced with following by adding the SED commands and my problem went away. not sure if you classify this as a bug in the Dockerfile. \nP.S.: I haven't tested this on Ubuntu or other Linux environment (i don't have one).\n``` shell\n\nUser Aliases\n\nUSER laradock\nCOPY ./aliases.sh /home/laradock/aliases.sh\nRUN echo \"\" >> ~/.bashrc && \\\n    echo \"# Load Custom Aliases\" >> ~/.bashrc && \\\n    echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc && \\\n    echo \"\" >> ~/.bashrc && \\\n    sed -i 's/\\r//' /home/laradock/aliases.sh && \\\n    sed -i 's/^#! \\/bin\\/sh/#! \\/bin\\/bash/' /home/laradock/aliases.sh\nUSER root\nRUN echo \"\" >> ~/.bashrc && \\\n    echo \"# Load Custom Aliases\" >> ~/.bashrc && \\\n    echo \"source /home/laradock/aliases.sh\" >> ~/.bashrc && \\\n    echo \"\" >> ~/.bashrc && \\\n    sed -i 's/\\r//' /home/laradock/aliases.sh && \\\n    sed -i 's/^#! \\/bin\\/sh/#! \\/bin\\/bash/' /home/laradock/aliases.sh\n```. The issue is with teh fastcgi parameters and we need to use the following parameters on our nginx setup. I will send a PR soon with the fix. \n```\nfastcgi_buffers 16 16k; \nfastcgi_buffer_size 32k;\n````. ",
    "at-tienpd": "I have successfully created my projects in local by nginx, php-fpm and mysql. Thanks you so much! . ",
    "azamatsulaiman": "same error for me. ",
    "MeiRct": "@philtrep Wouldn't it be better to add the \"sed\" command which removes the \\r instances to the workspace/Dockerfile-* files? (Dockerfile-56, Dockerfile-70, Dockerfile-71)\nIt can be added right after the creation of aliases.sh. ",
    "rogerroelofs": "Since rebuilding my workspace image recently I'm not getting carriage returns at the end of output.  I'm not sure if it is related to this change or not.  My output looks like this now.  I can make a separate issue if it turns out to be not related.  I\"m on a mac with the most recently pulled laradock master.\nroot@8e12e1ec8d42:/var/www# echo \"hi\"\n                                     hi\n                                       root@8e12e1ec8d42:/var/www# exit. I added the following to my php-fpm Dockerfile (I'm using -56 but would expect others to work also)\nbash\nRUN \\\n  apt-get update && \\\n  apt-get install -y fonts-droid fontconfig libfontconfig1 libfreetype6 libpng12-0 libssl1.0.0 libx11-6 libxext6 libxrender1 xfonts-75dpi xfonts-base wget xz-utils && \\\n  cd /tmp && \\\n  wget -nv https://downloads.wkhtmltopdf.org/0.12/0.12.4/wkhtmltox-0.12.4_linux-generic-amd64.tar.xz -O wkhtmltox.tar.xz && \\\n  tar -xaf wkhtmltox.tar.xz && \\\n  rm -f wkhtmltox.tar.xz && \\\n  mv wkhtmltox/bin/wkhtmlto* /usr/local/bin/ && \\\n  apt-get -y install libtidy-dev && \\\n  docker-php-ext-install tidy && \\\n  apt-get clean && rm -rf /var/lib/apt/lists/*\n. ",
    "GlenHughes": "Thanks for getting back to me. I'm currently running Windows 10 Home which isn't supported for Docker Native yet. Maybe I need to try a different container.. ",
    "epineda": "workaround: reinstall docker toolbox (it works for me). ",
    "xf789050": "I was wondering if you started the normal docker daemon\uff1f. ",
    "maldonadod": "The command should be: \n$ docker-compose exec mysql bash. ",
    "khoerodin": "stay not working for me ... ",
    "mrbase": "@ndberg \nIf I try this, the workspace version is build, but the php-fpm version fails.. Actually ended up using the binary from https://github.com/h4cc/wkhtmltopdf-amd64/\nThe errors I got was rather confusing. ",
    "betoflakes": "The same here.... ",
    "mth3n": "Thanks, that solved the issue is was having.. I'm getting the same error.. ",
    "ellcub": "I deleted everything and started again.  I think this may have occurred because I had added laradock/ and .gitmodules to .gitignore.. ",
    "jasperf": "How do you run deployer to deploy your local Laravel app to production using this setup @taliptako  ? Do you need to log into the workspace with Docker Machine or something? Reading https://github.com/deployphp/deployer/issues/1636 it seems deployer cannot be used just like that. But perhaps we are using it the wrong way.. > @marcoskubis You can do either.\n\nI personally keep a private fork for each project using Laradock, makes it much easier to maintain in the long term.\n\nYou cannot make a private fork of a public repo. So I guess you mean you have your own main laradock repo which is private and then made a private fork per project @philtrep ?. docker-compose example would have been nice. Link added does not work. When I just run Varnish, HAProxy and Nginx with a database server, workspace and Redis all does start just fine:\ndocker ps --format \"table {{.Image}}\\t{{.Ports}}\\t{{.Size}}\"\nIMAGE                        PORTS                                               SIZE\nlaradock_haproxy             80/tcp, 443/tcp, 1936/tcp, 0.0.0.0:8085->8085/tcp   4.16MB (virtual 46.8MB)\nlaradock_nginx               0.0.0.0:80->80/tcp, 0.0.0.0:443->443/tcp            2B (virtual 27.7MB)\nlaradock_php-worker                                                              7.68kB (virtual 319MB)\nlaradock_workspace           0.0.0.0:2222->22/tcp                                22kB (virtual 806MB)\nlaradock_php-fpm             9000/tcp                                            0B (virtual 705MB)\nlaradock_mariadb_published   0.0.0.0:3307->3306/tcp                              2B (virtual 396MB)\nlaradock_redis               0.0.0.0:6379->6379/tcp                              0B (virtual 184MB)\nlaradock_mariadb             0.0.0.0:3306->3306/tcp                              2B (virtual 396MB)\nlaradock_mailhog             0.0.0.0:1025->1025/tcp, 0.0.0.0:8025->8025/tcp      0B (virtual 19.1MB)\nI am only trying to find out if port 80 traffic is not really hitting the proxy server. Not sure how to test this. This as Nginx still has default port 80 and 443 exposed and Haproxy only port 80.. Do believe some other things need changing still.. @iannazzi Hope you had a nice break. Was reading through this all and would love to hear whether you worked it all out and if so how.. @iannazzi Did you have manage to wrap this up? Been looking into Laradock again, especially setting things up for production. There the documentation is lacking somewhat still. And the production-docker-compose.yml example is no longer there as it was outdated.\nUpdate\nWell did a test using a Digital Ocean Docker Image. Followed the guide with some adjustments. Basic Laravel setup working. Also with nginx conf. But will try with one of my own apps soon. AND, I need to work / test with deployer. For that I believe I will need to setup a user for deployment. Perhaps a user laradock like in the container, but to update the site. Though this can be done with the repo I prefer a setup without a repo on production. Instead one on Github from which we grab the latest for a deployer release.. What I also had once is that horizon was already running and when I tried a art horizon from my Docker workspace I got a Connection refused [tcp://127.0.0.1:6379] or Connection refused [tcp://redis:6379] . Then I realized going to site.test/horizon got things running. However Horizon could not connect to Redis as I saw in the network tab:\n{message: \"Connection refused [tcp://127.0.0.1:6379]\",\u2026}\nexception\n:\n\"Predis\\Connection\\ConnectionException\"\nfile\n:\n\"/var/www/laravel/vendor/predis/predis/src/Connection/AbstractConnection.php\"\nline\n:\n155\nmessage\n:\n\"Connection refused [tcp://127.0.0.1:6379]\"\ntrace\n:\n[{file: \"/var/www/laravel/vendor/predis/predis/src/Connection/StreamConnection.php\", line: 128,\u2026},\u2026]\nIn the end I \n removed bind address (commented it out) # bind 127.0.0.1 and \n turned off protected mode in the redis.conf using protected-mode no \nas I do not need them for local development. That worked and from that moment on I could connect to horizon from the workspace and the horizon gui started working in the browser as well.. @ryancwalsh I have not gone all the way to production as I had issues with Redis as mentioned among others. Curious in general on your setup so if you could share it in a repo that would be great. I have one, but am calling it local for now until it has been improved.\nAs for static ips, did you try working with an altered or new network instead of just frontend or backend as it is? SO thread here talks about it using something like\nversion: '2'\nservices:\n  nginx:\n    image: nginx\n    container_name: nginx-container\n    networks:\n      static-network:\n        ipv4_address: 172.20.128.2\nnetworks:\n  static-network:\n    ipam:\n      config:\n        - subnet: 172.20.0.0/16\n          #docker-compose v3+ do not use ip_range\n          ip_range: 172.28.5.0/24\nSomeone needed it for Nginx and wrote about it in this Laradock issue too. He used\n```\nnetworks:\nstatic-network:\n    driver: bridge\n    ipam:\n        driver: default\n        config:\n        - subnet: \"${SUBNET}\"\n          gateway: \"${GATEWAY_IP}\"\n\nin `docker-compose.yaml`. This for a new network and then in his Nginx Docker file he added\nnetworks:\n        - static-network\n        - default\n``. @ryancwalsh Well then I guess you can keep the networks and focus on listening to the right ports and expose only the needed ones.. Issue I had running the mentioned test above inside the workspace using tinker wassh: 1: /usr/sbin/sendmail: not found` So it had to work from php-fpm.  Decided to just run the script form the public folder. \nDid set \nMAIL_DRIVER=smtp\nMAIL_HOST=localhost\nMAIL_PORT=1025\nMAIL_USERNAME=null\nMAIL_PASSWORD=null\nMAIL_ENCRYPTION=null\nIn .env and with port open I can check Mailhog at http://laravel.test:8025/# but using a simple test script I do not see an email arriving in the Mailhog interface.\nIn the logs I saw:\n$ docker-compose logs php-fpm\nAttaching to smt-docker_php-fpm_1_b36031ec647e\nphp-fpm_1_b36031ec647e | [01-Dec-2018 02:02:59] NOTICE: fpm is running, pid 1\nphp-fpm_1_b36031ec647e | [01-Dec-2018 02:02:59] NOTICE: ready to handle connections\nphp-fpm_1_b36031ec647e | [01-Dec-2018 02:03:26] WARNING: [pool www] child 8 said into stderr: \"sh: 1: -t: not found\"\nphp-fpm_1_b36031ec647e | 172.25.0.9 -  01/Dec/2018:02:03:26 +0000 \"GET /mailtest.php\" 200\nphp-fpm_1_b36031ec647e | [01-Dec-2018 02:07:09] WARNING: [pool www] child 9 said into stderr: \"sh: 1: -t: not found\"\nphp-fpm_1_b36031ec647e | 172.25.0.9 -  01/Dec/2018:02:07:09 +0000 \"GET /mailtest.php\" 200\nFound out at https://github.com/ilyasotkov/docker-php-msmtp that \n\nthe official PHP repository on Docker Hub doesn't have any MTA (Mail Transfer Agent) installed, meaning that the mail() PHP function won't work and cause this peculiar error:\n\nWARNING: [pool www] child 6 said into stderr: \"sh: 1: -t: not found\"\nThe Docker README however states you can use Mailhog Sendmail:\n\n.. in PHP you could add either of these lines to php.ini:\n\nsendmail_path = /usr/local/bin/mhsendmail\nsendmail_path = /usr/sbin/sendmail -S mail:1025\nNeither are to be located inside the php-fpm container. In the Mailhog container it is though under /usr/sbin/sendmail. \nChanging the sendmail path in php-fpm/php7.2.ini to sendmail_path = /usr/sbin/sendmail -S mail:1025 did not work though. Then I got:\nphp-fpm_1_ab46c8ff1467 | [01-Dec-2018 03:38:28] WARNING: [pool www] child 7 said into stderr: \"sh: 1: /usr/sbin/sendmail: not found\"\nphp-fpm_1_ab46c8ff1467 | 172.30.0.9 -  01/Dec/2018:03:38:28 +0000 \"GET /mailtest.php\" 200\nso the sendmail needs to be inside php-fpm it seems.\nUpdate:\nThen I read at https://github.com/mailhog/MailHog/issues/99 that mail in the earlier mentioned sendmail line is the alias for the container so I tried sendmail_path = /usr/sbin/sendmail -S mailhog:1025 No joy yet either... Interesting development. Was looking into easier ways to setup Laradock for development as well as production. Tips on what do do and not do for production specifically. I would prefer to work with one docker-compose.yml file and have it all work on development and production using a secure enough setup and a different SSL Certificate for both local and productions setups. Then I bumped into this thread. I agree it would be easier to have a modular approach so you do not have to wade through a large .env and docker-compose.yml file. Would also be awesome to be able to grab modules using a command like tool. Perhaps a bit like Laravel and its packages. But I see this setup is tough and might not come to fruition any time soon. Will keep track of this thread while I keep on learning to tweak my  Laradock setup with Nginx, MariaDB, Redis, PHP FPM, Horizon.. @princeton255 You said you changed \n\nthe command in /laradock/php-worker/supervisord.conf . \n\nI assume you meant php-worker/supervisord.d/laravel-worker.conf\nThe file dupervisord.conf only has\n```\n[supervisord]\nnodaemon=true\n[supervisorctl]\n[inet_http_server]\nport = 127.0.0.1:9001\n[rpcinterface:supervisor]\nsupervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface\n[include]\nfiles = supervisord.d/*.conf\nAnd I did that and rebuilt the php worker using `docker-compose build php-worker` but afterwards I did not see horizon being active... I would also assume you need to or that it would be good to add the keys to a volume so they stay even when you shut down the container @Shadow2004 ? I mean, the docker-compose for nginx now only has:\nvolumes:\n        - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}\n        - ${NGINX_HOST_LOG_PATH}:/var/log/nginx\n        - ${NGINX_SITES_PATH}:/etc/nginx/sites-available\n```\nso perhaps something like /host/path/to/certs:/container/path/to/certs or ${NGINX_SSL_PATH}:/etc/nginx/ssl. I just did docker-compose exec workspace bash and then in the workspace a su laradock. That works @wvdongen . Did you every work this out @luismt ? Similar issue using Certbot at the moment.. I saw they recommend adding\nFROM redis\nCOPY redis.conf /usr/local/etc/redis/redis.conf\nCMD [ \"redis-server\", \"/usr/local/etc/redis/redis.conf\" ]\nat Docker.. Also make sure you do a docker-compose build --no-cache redis and not a docker build redis --no-cache post Dockerfile tweak as I did for some odd reason today.  Also I used bind 0.0.0.0 instead of 127.0.0.1 so Horizon could load all my Redis queues properly.. In my case I ran a crontab job on an ssh file that called prod-docker-compose.yml in a directory below. As it could not find .env in the same directory it started mentioning nothing was defined. Had to move the bash file down that directory where the .env was located.. Do we not need a volume to store the certificates as well?. Well, looks good to me though I am not sure whether we should add an ssl certificate. Anyways, we will have to wait for @Mahmoudz to find time to check this pull request now. I'd love to have SSL capability added. Was missing it and was considering using ADD or a volume. Volume seems to be a nicer way.. When I did a\nroot@e3ac39ce4546:/var# chown -R laradock:laradock www/\nroot@e3ac39ce4546:/var# su laradock\nlaradock@e3ac39ce4546:/var$ cd www/\nlaradock@e3ac39ce4546:/var/www$ ll\ntotal 108\ndrwxr-xr-x 13 laradock laradock 4096 May  7 13:17 ./\ndrwxr-xr-x  1 root     root     4096 May  7 13:26 ../\ndrwxr-xr-x  6 laradock laradock 4096 May  7 13:17 app/\n-rwxr-xr-x  1 laradock laradock 1686 May  7 13:17 artisan*\ndrwxr-xr-x  3 laradock laradock 4096 May  7 13:17 bootstrap/\n..\nI was able to run composer as laradock:\ncomposer install\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 70 installs, 0 updates, 0 removals\n  - Installing vlucas/phpdotenv (v2.4.0): Downloading (100%)         \n  - Installing symfony/css-selector (v4.0.9): Downloading (100%) \n...\nStill, would love to hear if this is better practice this way. Or if there are other, better and or easier ways.\n. > That is strange, normally the '/var/www' folder should already be owned by the 'laradock' user.\nwell when I follow the guide and install as root using git clone, then get into the workspace it shows all files owned by root @Dryr \ndocker-compose exec workspace bash\nroot@b2ab9230ab52:/var/www# ll\ntotal 112\ndrwxr-xr-x 13 root root  4096 May 12 07:47 ./\ndrwxr-xr-x  1 root root  4096 May 12 08:01 ../\ndrwxr-xr-x  6 root root  4096 May 12 07:46 app/\n-rwxr-xr-x  1 root root  1686 May 12 07:46 artisan*\ndrwxr-xr-x  3 root root  4096 May 12 07:46 bootstrap/\n-rw-r--r--  1 root root 10676 May 12 07:46 CHANGELOG.md\n-rw-r--r--  1 root root  1477 May 12 07:46 composer.json\ndrwxr-xr-x  2 root root  4096 May 12 07:46 config/\ndrwxr-xr-x  5 root root  4096 May 12 07:46 database/\n-rw-r--r--  1 root root   234 May 12 07:46 .editorconfig\n-rw-r--r--  1 root root   651 May 12 07:46 .env.example\ndrwxr-xr-x  9 root root  4096 May 12 07:47 .git/\n-rw-r--r--  1 root root   111 May 12 07:46 .gitattributes\n-rw-r--r--  1 root root   155 May 12 07:46 .gitignore\n-rw-r--r--  1 root root   101 May 12 07:47 .gitmodules\n-rw-r--r--  1 root root  1022 May 12 07:46 package.json\n-rw-r--r--  1 root root  1134 May 12 07:46 phpunit.xml\ndrwxr-xr-x  4 root root  4096 May 12 07:46 public/\n-rw-r--r--  1 root root  3675 May 12 07:46 readme.md\ndrwxr-xr-x  5 root root  4096 May 12 07:46 resources/\ndrwxr-xr-x  2 root root  4096 May 12 07:46 routes/\n-rw-r--r--  1 root root   563 May 12 07:46 server.php\ndrwxr-xr-x 18 root root  4096 May 12 07:51 laradock/\ndrwxr-xr-x  5 root root  4096 May 12 07:46 storage/\ndrwxr-xr-x  4 root root  4096 May 12 07:46 tests/\n-rw-r--r--  1 root root   549 May 12 07:46 webpack.mix.js\nAnd I think that is as all was git cloned as root. How do you normally set Laradock and an app up? Perhaps differently.\n. True, but even when you make it that path or remove cached in .env on this line APP_CODE_PATH_CONTAINER=/var/www:cached and avoid this error ERROR: for certbot  Cannot create container for service certbot: invalid mode: cached/letsencrypt\nI still get\ncertbot_1     | Requested domain \"domain.io\" is not a FQDN\ncertbot_1     | cp: cannot stat '/etc/letsencrypt/archive/\"domain.io\"/cert1.pem': No such file or directory\ncertbot_1     | cp: cannot stat '/etc/letsencrypt/archive/\"domain.io\"/privkey1.pem': No such file or directory. I needed domain and email without quotes for them to work:\nenvironment:\n        - CN=domain.io\n        - EMAIL=noneofyourbusiness@gmail.com. Well if we would adjust the ssh script for a self signed SSL Generation as mentioned here https://medium.com/@tbusser/creating-a-browser-trusted-self-signed-ssl-certificate-2709ce43fd15 we can get one that Chrome will accept post adding of Root Chain certificate to the OSX keychain.. What is the issue?. Traefik would be a great addition. I agree. Added some comments. Though I never used [[acme.domains]] before I assume that was needed instead of [[acme.domais]]. Found some options here https://stackoverflow.com/questions/43442276/docker-can-a-container-a-call-an-executable-located-on-an-other-container-b like adding Docker client and using Docker socket, layered images or using volumes .  Will need more time to make choices as some of these options are new to me.. Current issue is that it still seems to be ignored. Uploading images still results in errors. Did do a docker-compose -f prod-docker-compose.yml build --no-cache php-fpm though. Also in info.php I see /usr/local/etc/php/conf.d/docker-php-ext-gd.ini, being loaded and gd enabled. And the module I see loaded too:\nroot@cc8f0b93673d:/var/www# php -m |grep gd\ngd. I actually now see in https://hub.docker.com/r/laradock/php-fpm/dockerfile that the GD library is built in:\n```\nInstall the PHP gd library\nRUN docker-php-ext-configure gd \\\n        --enable-gd-native-ttf \\\n        --with-jpeg-dir=/usr/lib \\\n        --with-freetype-dir=/usr/include/freetype2 && \\\n    docker-php-ext-install gd\n```\nOnly no PNG it seems.. So I do not need to add it in the additional PHP FPM Docker file perhaps. Will rebuild and see what we get then... It is true that GD is built in and even PNG is enabled for bundled GD. The issue still remains though. Image Intervention resize does NOT take place and the server delivers an error 500 for Nginx and PHP FPM only. No details given on the issue. A quick switch toimagick in config/image.php allows the images to be resized with ease.. Forgot to switch back to gd and increased laravel.ini values:\n```\ndate.timezone=UTC\ndisplay_errors=Off\nlog_errors=On\n; Maximum amount of memory a script may consume (128MB)\n; http://php.net/memory-limit\nmemory_limit = 512M\n; Maximum allowed size for uploaded files.\n; http://php.net/upload-max-filesize\nupload_max_filesize = 40M\n; Sets max size of post data allowed.\n; http://php.net/post-max-size\npost_max_size = 40M\nmax_execution_time=1200\ndefault_socket_timeout=3600\nrequest_terminate_timeout=1200\n```\nDid speed things up for imagick , but for GD error (php / nginx error 500) remained: \nFailed to load resource: the server responded with a status of 500 (Internal Server Error)\nand PHP FPM mentions:\nphp-fpm_1            | 172.23.0.8 -  17/Feb/2019:07:04:08 +0000 \"POST /index.php\" 500\nAnd that happens at \nDropzone.prototype.submitRequest = function(xhr, formData, files) {\n          return xhr.send(formData);\n        };. I added \nfastcgi_intercept_errors on;\nto nginx server block and then I saw this on uploading:\nphp-fpm_1            | [17-Feb-2019 07:26:55] WARNING: [pool www] child 12 said into stderr: \"Not a JPEG file: starts with 0x89 0x50\"\nphp-fpm_1            | 172.23.0.8 -  17/Feb/2019:07:26:55 +0000 \"POST /index.php\" 500\nhowever with jpegs I still get the error 500 and no additional information.. We may not need auto generation, but we still need openssl installed don't we?. Should be '[[acme.domains]]I would think...[[acme.domains]]`. See https://www.digitalocean.com/community/tutorials/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-ubuntu-16-04?comment=77114  where I commented on what I realized works now getting Traefic up and running. Web is deprecated and so something like:\nentrypoints]\n  #...\n  # https://docs.traefik.io/configuration/api/#authentication\n  [entrypoints.webentry]\n    address = \":8080\"\n    [entrypoints.webentry.auth]\n      [entrypoints.webentry.auth.basic]\n        users = [\"admin:key\"]\nshould be used.. ",
    "marcoskubis": "Can I just git clone (instead of  git submodule) inside my project? So laradock will be part of my project. Or is it not correct?\nI think having one laradock fork per project may be not viable. What you think?. ",
    "neorganic": "Has this been removed from the docs? Can't seem to find any notes on this in current version .. php -i | grep gmp Shows the gmp installed on php-fpm, but not on workspace from where I install my composer packages, not sure why both the documented recipe and @sasokovacic  fails to do it's job. . @Shadow2004 can you confirm this is still working? I am getting -  NET::ERR_CERT_AUTHORITY_INVALID from Chrome - I can still go trough via clicking Advanced etc., but Chrome is always reminding that connection is not secure. Any news with this?. Actually turns out was pointing to a bad env variable..... ",
    "IvanRibakov": "@neorganic https://laradock.io/documentation/#keep-track-of-your-laradock-changes. ",
    "StephenHepp": "@mikeerickson \ni did \ncd laradock\ngit pull origin master\ndocker pull mysql:5.7\ndocker-compose up -d mysql\nthen the mysql container dies\ndocker logs laradock_mysql_1\nERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\nif i then change the docker-compose.yaml to start mysql container with user:mysql, everything seems to work ok\nthere was a change recently made before this started happening in the upstream mysql container docker-entrypoint.sh: https://github.com/docker-library/mysql/commit/56e06bbed26b0e1893493c0dfd168d843c87e766\n. @mikeerickson can you reproduce it now?\ni made a whole new centos vm, installed docker and docker-compose and cloned laradock master branch then again did docker-compose up -d mysql\nand still it fails due to the upstream change preventing the startup with root user\n(venv) [shepp@centosvm laradock]$ docker logs laradock_mysql_1 \nERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\nprobably you couldn't repro because you have the non-broken version of mysql:5.7 and you can introduce the problem by re-pulling from dockerhub the way a new user that never had the container would.\n. @mikeerickson @appleboy \nin my centos7 vm, if i delete the laradock_mysql volume that was created when i did docker-compose up -d as my normal user in the docker group and then docker-compose up -d as root, the db creates successfully.  i have selinux set to permissive.  if i delete the volume again and docker-compose up -d as normal user again it  goes back to failing to start (unless i add user:mysql to the mysql section of the docker-compose.yaml). ",
    "gabrielpreston": "I can also confirm that I am experiencing the same problem (using mysql:5.7). A fresh build of the container works, but then I start experiencing the same error on subsequent \"new\" docker-compose up -d mysql attempts on my machine:\n\nmysql_1             | ERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'. No images or volumes, Docker for Mac has been reset to Factory Defaults:\n\u2714 ~/laradock [master|\u2714]\n20:40 $ docker image ls -a\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n\u2714 ~/laradock [master|\u2714]\n20:40 $ docker volume ls\nDRIVER              VOLUME NAME\n\u2714 ~/laradock [master|\u2714]\n20:40 $ docker --version\nDocker version 17.03.0-ce, build 60ccb22\n\u2714 ~/laradock [master|\u2714]\n20:41 $ docker-compose version\ndocker-compose version 1.11.2, build dfed245\ndocker-py version: 2.1.0\nCPython version: 2.7.12\nOpenSSL version: OpenSSL 1.0.2j  26 Sep 2016\n\u2714 ~/laradock [master|\u2714]\n20:41 $\n\nCurrent commit of laradock:\n```\n\u2714 ~/laradock [master|\u2714]\n20:42 $ git show\ncommit 84b742315ab2389c90d0d4dbc6440de3afeea681\nAuthor: David Chen mgtc@users.noreply.github.com\nDate:   Thu Mar 2 16:56:35 2017 +0800\nUpdate README-zh.md (#648)\n\ndiff --git a/README-zh.md b/README-zh.md\nindex 5ef4d15..f4f3912 100644\n--- a/README-zh.md\n+++ b/README-zh.md\n@@ -153,7 +153,7 @@ Homestead \u662f\u4e00\u4e2a\u5de5\u5177,\u4e3a\u4f60\u63a7\u5236\u865a\u62df\u673a(\u4f7f\u7528Homestead\u7279\u6b8a\u547d\u4ee4)\u3002V\n ## \u6f14\u793a\u89c6\u9891\n \u8fd8\u6709\u4ec0\u4e48\u6bd4\u6f14\u793a\u89c6\u9891\u597d\uff1a\n-- LaraDock v4.0 (\u5373\u5c06\u5230\u6765\u7684...)\n+- LaraDock v4.0\n - LaraDock v2.2\n - LaraDock v0.3\n - LaraDock v0.1\n\u2714 ~/laradock [master|\u2714]\n```\nBringing up the mysql container:\n\u2714 ~/laradock [master|\u2714]\n20:42 $ docker-compose up -d mysql\nCreating network \"laradock_default\" with the default driver\nCreating volume \"laradock_phpmyadmin\" with local driver\nCreating volume \"laradock_rethinkdb\" with local driver\nCreating volume \"laradock_elasticsearch-plugins\" with local driver\nCreating volume \"laradock_elasticsearch-data\" with local driver\nCreating volume \"laradock_postgres\" with local driver\nCreating volume \"laradock_aerospike\" with local driver\nCreating volume \"laradock_sessions\" with local driver\nCreating volume \"laradock_caddy\" with local driver\nCreating volume \"laradock_redis\" with local driver\nCreating volume \"laradock_mysql\" with local driver\nCreating volume \"laradock_neo4j\" with local driver\nCreating volume \"laradock_mariadb\" with local driver\nCreating volume \"laradock_memcached\" with local driver\nCreating volume \"laradock_mongo\" with local driver\nBuilding mysql\nStep 1/16 : FROM mysql:5.7\n5.7: Pulling from library/mysql\n693502eb7dfb: Pull complete\n08d0e9d74b1b: Pull complete\ne700ebfbe6bc: Pull complete\nf718f1976629: Pull complete\n575a0830e278: Pull complete\n8461dfcf361d: Pull complete\n349434898dfb: Pull complete\n78d351522443: Pull complete\n21897ab46952: Pull complete\nca6ffbbedc10: Pull complete\nba8ff064032b: Pull complete\nDigest: sha256:6d4b33d189d62afe590ee4b35f92aae31ffa79ccc4d4db8bd3d3b893c8019596\nStatus: Downloaded newer image for mysql:5.7\n ---> 22be5748ecbe\nStep 2/16 : MAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\n ---> Running in c5eba57a0d19\n ---> 57e20132fcc1\nRemoving intermediate container c5eba57a0d19\nStep 3/16 : ADD startup /etc/mysql/startup\n ---> 853a7b512a86\nRemoving intermediate container 1007df3c2af0\nStep 4/16 : RUN chown -R mysql:root /var/lib/mysql/\n ---> Running in b0f577633095\n ---> 0af38ff7f619\nRemoving intermediate container b0f577633095\nStep 5/16 : ARG MYSQL_DATABASE=homestead\n ---> Running in 0a2d3f14fc23\n ---> 179b1b058fd8\nRemoving intermediate container 0a2d3f14fc23\nStep 6/16 : ARG MYSQL_USER=homestead\n ---> Running in 2aacefd3002c\n ---> 2910bc032196\nRemoving intermediate container 2aacefd3002c\nStep 7/16 : ARG MYSQL_PASSWORD=secret\n ---> Running in 04c8c2ad49a7\n ---> d4f06819e156\nRemoving intermediate container 04c8c2ad49a7\nStep 8/16 : ARG MYSQL_ROOT_PASSWORD=root\n ---> Running in f9853a4e3a95\n ---> 5e1670be0c0a\nRemoving intermediate container f9853a4e3a95\nStep 9/16 : ENV MYSQL_DATABASE $MYSQL_DATABASE\n ---> Running in abe099b69954\n ---> c5a6efb21960\nRemoving intermediate container abe099b69954\nStep 10/16 : ENV MYSQL_USER $MYSQL_USER\n ---> Running in 8f64b63c6596\n ---> 6e82e8369bae\nRemoving intermediate container 8f64b63c6596\nStep 11/16 : ENV MYSQL_PASSWORD $MYSQL_PASSWORD\n ---> Running in 2a96cd858ab0\n ---> 9adb1f0f4d3d\nRemoving intermediate container 2a96cd858ab0\nStep 12/16 : ENV MYSQL_ROOT_PASSWORD $MYSQL_ROOT_PASSWORD\n ---> Running in 98f57d415958\n ---> 59dbea0fccee\nRemoving intermediate container 98f57d415958\nStep 13/16 : RUN sed -i 's/MYSQL_DATABASE/'$MYSQL_DATABASE'/g' /etc/mysql/startup &&     sed -i 's/MYSQL_USER/'$MYSQL_USER'/g' /etc/mysql/startup &&     sed -i 's/MYSQL_PASSWORD/'$MYSQL_PASSWORD'/g' /etc/mysql/startup\n ---> Running in 9040425320be\n ---> e364236f4ae8\nRemoving intermediate container 9040425320be\nStep 14/16 : ADD my.cnf /etc/mysql/conf.d/my.cnf\n ---> 866fd311db07\nRemoving intermediate container 0a8c2bdefee2\nStep 15/16 : CMD mysqld --init-file=/etc/mysql/startup\n ---> Running in 35c64857cfa8\n ---> a7bdd1682c44\nRemoving intermediate container 35c64857cfa8\nStep 16/16 : EXPOSE 3306\n ---> Running in 0e4406c3ce42\n ---> d0fedda1117d\nRemoving intermediate container 0e4406c3ce42\nSuccessfully built d0fedda1117d\nWARNING: Image for service mysql was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.\nCreating laradock_mysql_1\n\u2714 ~/laradock [master|\u2714]\n20:44 $\nChecking my containers:\n```\n\u2714 ~/laradock [master|\u2714]\n20:44 $ docker-compose ps\n      Name                    Command               State    Ports\n\nlaradock_mysql_1   docker-entrypoint.sh mysql ...   Exit 1\n\u2714 ~/laradock [master|\u2714]\n20:46 $\n```\nCrashed, right away. Looking at the logs now:\n\u2714 ~/laradock [master|\u2714]\n20:46 $ docker-compose logs mysql\nAttaching to laradock_mysql_1\nmysql_1               | Initializing database\nmysql_1               | 2017-03-03T04:44:49.967857Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1               | 2017-03-03T04:44:49.967888Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1               | 2017-03-03T04:44:50.525468Z 0 [Warning] InnoDB: New log files created, LSN=45790\nmysql_1               | 2017-03-03T04:44:50.715196Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\nmysql_1               | 2017-03-03T04:44:50.832804Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 23145fec-ffcc-11e6-80b4-0242ac120002.\nmysql_1               | 2017-03-03T04:44:50.858619Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.\nmysql_1               | 2017-03-03T04:44:50.859581Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\nmysql_1               | 2017-03-03T04:44:58.143354Z 1 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:44:58.143417Z 1 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:44:58.143439Z 1 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:44:58.143454Z 1 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:44:58.143496Z 1 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | Database initialized\nmysql_1               | Initializing certificates\nmysql_1               | Generating a 2048 bit RSA private key\nmysql_1               | ........+++\nmysql_1               | ....................................................................+++\nmysql_1               | unable to write 'random state'\nmysql_1               | writing new private key to 'ca-key.pem'\nmysql_1               | -----\nmysql_1               | Generating a 2048 bit RSA private key\nmysql_1               | ......+++\nmysql_1               | .....................................................................................................................+++\nmysql_1               | unable to write 'random state'\nmysql_1               | writing new private key to 'server-key.pem'\nmysql_1               | -----\nmysql_1               | Generating a 2048 bit RSA private key\nmysql_1               | ..................................................................................................................................................+++\nmysql_1               | .........+++\nmysql_1               | unable to write 'random state'\nmysql_1               | writing new private key to 'client-key.pem'\nmysql_1               | -----\nmysql_1               | Certificates initialized\nmysql_1               | MySQL init process in progress...\nmysql_1               | 2017-03-03T04:45:03.627113Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1               | 2017-03-03T04:45:03.627160Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1               | 2017-03-03T04:45:03.627951Z 0 [Note] mysqld (mysqld 5.7.17) starting as process 81 ...\nmysql_1               | 2017-03-03T04:45:03.630111Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1               | 2017-03-03T04:45:03.630146Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1               | 2017-03-03T04:45:03.630149Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1               | 2017-03-03T04:45:03.630152Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1               | 2017-03-03T04:45:03.630155Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1               | 2017-03-03T04:45:03.630158Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1               | 2017-03-03T04:45:03.630344Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1               | 2017-03-03T04:45:03.630461Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1               | 2017-03-03T04:45:03.631417Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1               | 2017-03-03T04:45:03.635835Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1               | 2017-03-03T04:45:03.637099Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1               | 2017-03-03T04:45:03.652720Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\nmysql_1               | 2017-03-03T04:45:03.688366Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1               | 2017-03-03T04:45:03.688426Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1               | 2017-03-03T04:45:03.750901Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1               | 2017-03-03T04:45:03.751673Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\nmysql_1               | 2017-03-03T04:45:03.751700Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\nmysql_1               | 2017-03-03T04:45:03.751966Z 0 [Note] InnoDB: Waiting for purge to start\nmysql_1               | 2017-03-03T04:45:03.804676Z 0 [Note] InnoDB: 5.7.17 started; log sequence number 2535324\nmysql_1               | 2017-03-03T04:45:03.805533Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nmysql_1               | 2017-03-03T04:45:03.805671Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1               | 2017-03-03T04:45:03.807715Z 0 [Note] InnoDB: Buffer pool(s) load completed at 170303  4:45:03\nmysql_1               | 2017-03-03T04:45:03.810157Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\nmysql_1               | 2017-03-03T04:45:03.810350Z 0 [Warning] CA certificate ca.pem is self signed.\nmysql_1               | 2017-03-03T04:45:03.849639Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:03.849707Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:03.849737Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:03.849749Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:03.850940Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:03.855113Z 0 [Note] Event Scheduler: Loaded 0 events\nmysql_1               | 2017-03-03T04:45:03.855288Z 0 [Note] Executing 'SELECT * FROM INFORMATION_SCHEMA.TABLES;' to get a list of tables using the deprecated partition engine. You may use the startup option '--disable-partition-engine-check' to skip this check.\nmysql_1               | 2017-03-03T04:45:03.855306Z 0 [Note] Beginning of list of non-natively partitioned tables\nmysql_1               | 2017-03-03T04:45:03.861515Z 0 [Note] End of list of non-natively partitioned tables\nmysql_1               | 2017-03-03T04:45:03.861539Z 0 [Note] Execution of init_file '/etc/mysql/startup' started.\nmysql_1               | 2017-03-03T04:45:03.862226Z 0 [Note] Execution of init_file '/etc/mysql/startup' ended.\nmysql_1               | 2017-03-03T04:45:03.862285Z 0 [Note] mysqld: ready for connections.\nmysql_1               | Version: '5.7.17'  socket: '/var/run/mysqld/mysqld.sock'  port: 0  MySQL Community Server (GPL)\nmysql_1               | Warning: Unable to load '/usr/share/zoneinfo/iso3166.tab' as time zone. Skipping it.\nmysql_1               | Warning: Unable to load '/usr/share/zoneinfo/leap-seconds.list' as time zone. Skipping it.\nmysql_1               | Warning: Unable to load '/usr/share/zoneinfo/zone.tab' as time zone. Skipping it.\nmysql_1               | 2017-03-03T04:45:08.536311Z 6 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:08.536340Z 6 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:08.536353Z 6 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:08.536359Z 6 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-03-03T04:45:08.536381Z 6 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | mysql: [Warning] Using a password on the command line interface can be insecure.\nmysql_1               | mysql: [Warning] Using a password on the command line interface can be insecure.\nmysql_1               | ERROR 1396 (HY000) at line 1: Operation CREATE USER failed for 'homestead'@'%'\n\u2714 ~/laradock [master|\u2714]\n20:46 $\nSo, after banging my head on this for most of the day, some of my coworkers and I tried to make sense of the docker-compose.yml stanza for mysql, as well as the Dockerfile configuration for it. It seems like such a bizarre way to set it up, so we modified them to look like the following:\ndocker-compose.yml:\n```\nMySQL Container\nmysql:\n    build:\n        context: ./mysql\n    environment:\n        MYSQL_DATABASE: homestead\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n    volumes:\n        - mysql:/var/lib/mysql\n    ports:\n        - \"3306:3306\"\n\n```\nmysql/Dockerfile:\n```\nFROM mysql:5.7\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nRUN chown -R mysql:root /var/lib/mysql/\nADD my.cnf /etc/mysql/conf.d/my.cnf\nCMD [\"mysqld\"]\nEXPOSE 3306\n```\nWith the above setup, the container is MUCH MUCH happier, and can be brought down, have the volume removed, and brought back up and recover gracefully. We haven't been able to get it to run into an issue since making the changes to docker-compose.yml and mysql/Dockerfile.. @Mahmoudz I missed the comment on this PR while on vacation. Was this closed only because I hadn't followed up on the comment from @appleboy or for another reason?. Removed the unused file and resolved the merge conflicts. ",
    "mikesir87": "Yeah... it's related to intro of the \"proper creation of mysql user\" in commit 4ef5db3713b76f33bfaf54afeeca9a9a46c84421. However, the problem is that there's no need to do it this way as the default mysql:5.7 image being used provides all the support here. If the mysql service were to migrate back, it would work as intended. \nI agree the PR #649 is the correct approach to resolving this.. ",
    "laixstx": "disable aio.\nhttps://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10#. I have the same problem.In windows10 system.\n[Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\n[Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\n[Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\n[Warning] You need to use --log-bin to make --log-slave-updates work.\nlibnuma: Warning: /sys not mounted or invalid. Assuming one node: No such file or directory\nmbind: Operation not permitted\n[ERROR] InnoDB: Operating system error number 22 in a file operation.\n[ERROR] InnoDB: Error number 22 means 'Invalid argument'\n[ERROR] InnoDB: File ./ib_logfile101: 'aio write' returned OS error 122. Cannot continue operation\n[ERROR] InnoDB: Cannot continue operation.\n. > I have fixed it. Disable AIO\n\nhttps://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10\n\nthis fixed for me too!~\nthanks @nguyencongkrb. ",
    "fedemotta": "Check the files owner. It doesn't work with root user as the owner. I found this issue in a virtualbox ubuntu machine with the www folder shared with windows using the built in shared folder of virtualbox.. Hi Guys, what do you think about using this tool?\nhttps://github.com/aelsabbahy/goss\nI am integrating this to make CI using circleCI. . @philtrep This is generating issues, because for example this file is taking ages to download http://mirrors.aliyun.com/alpine/v3.4/main/x86_64/APKINDEX.tar. I rollbacked the changes and it is working fine. @philtrep When I tried to rebuild the containers it takes several hours to finish because some aliyun.com links were taking ages to download. \nSo strange that nobody notice this issue. I found it first rebuilding inside an AWS ec2 in Virginia. In my local enviroment was happening too. I am from Argentina.\nThe cdn is working now. It seems that it was down when the issue raises. This PR was a temporary fix and I think it shouldnt been merged.\nSee the speed download of each link:\nhttp://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nvs.\nhttp://mirrors.aliyun.com/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nCould you reproduce the issue? Should I open a new issue about this?\nCheers. @mouyong  @philtrep So you think it is possible to implement something using ENV variables, to easily switch the url? Do you think that the china mirror should be the default?\n. @sonialiang It seems that this mirror site works fine from china, maybe we can create a ENV variable to select the proper site to download the alpine links and let the user decide which one to use . ",
    "dhaya6027": "Robomongo v8.5 and lower doesn't support MongoDB 3 . ",
    "ngyikp": "Best for me to send a PR without the LaraDock/Laradock normalization instead?\nOr I could change it to LaraDock as requested.. ",
    "thorerik": "There's a distinct lack of information here...\nwhich containers are you using?\nHave you tried talking to the webserver(eg. with nginx, webserver isn't localhost or 127.0.0.1, it's nginx)?. set the host to elasticsearch should work (did for me at least)\n. After a bit of googling, it may look like open_file_cache can be the culprit, I'm going to test this later and open a PR if it does indeed solve the issue. (Serverfault question that matches: http://serverfault.com/questions/450991/how-to-prevent-nginx-from-locking-files-on-mounted-samba-partition-in-centos-6). Tested the above and seemed to work for me, @stanleyli60 can you give it a shot as well and confirm?. @iannazzi your issue is different to this issue, this issue is spesifically about failing to clone node version manager, you are beyond that step.. Are you still experiencing this issue?\nWhat do you get if you do curl -IL https://packagist.org/packages.json in the container? On the host?\nCan you try running composer self-update?. 2: Curious, reverted it, I didn't touch the index.md in the root, and I'm not well enough faired with hugo to know what caused that.\n1: same could be said for selenium and some other tools in the project, that said, it being available for users to learn how S3 works without needing to touch AWS can't be bad, I intend to use it, and will maintain the Dockerfile (not that it's super complex anyways), and if others can benefit from it as well, why not? . @zeroc0d3 what's your docker-compose version? can you commit the current state of your laradock copy and push it to a repo on your profile?. Can't replicate the issue with Windows, I'll take a look on my desktop later today and check if it could be a linux thing, I noticed in commit 73f7c88 you removed a bunch of whitespace, which might be the culprit(just a theory).. I just tested it on Ubuntu 16.04 with docker-compose 1.11.2 and docker 17.03.0, works just fine.. It fixes the issue in my case, where I reproduced the issue (Windows 10 Pro, Docker 17.03.0 ce, docker-compose 1.11.2, Hyper-V), the only question really is if it solved #619 . The standard is on a project level, nither of your references specify and recommendation on the indentation, yaml only require consistency, which was already present.. The issue is that you went to /project1, nginx is looking for http://project1.dev.\nOn your local machine, add \n<your digital ocean machine> project1.dev\n<your digital ocean machine> project2.dev\nto your /etc/hosts (on windows, this is C:\\Windows\\System32\\drivers\\etc\\hosts), then you should be able to enter http://project1.dev and http://project2.dev. May I suggest bundling in the mssql-server-linux docker image so that you can have a fully self-contained dev environment, also with MSSQL.. Not an issue with this project spesificly, docker.io is to blame.\nTry docker pull mysql:5.7 manually, if not, you'll probably have to ask over at the docker hub issue tracker: https://github.com/docker/hub-feedback/issues\n. Growl notifications do support using TCP messages, but I don't think the native toasts do.\nAdditionally looking at the upstream that does notifications in mix, just at a glance doesn't look to have remote notification support even if the underlying provider has it (growl is the only one I'm aware of).\nhttps://github.com/mikaelbr/node-notifier is what's doing the notifications in mix, for the record.. Does this happen outside laradock?\nIt looks to be an error in his code where he's incorrectly using the namespace before imap_open(), hence the full error showing the namespace before imap_open(), if imap_open was the failure, you'd see\nCall to undefined function imap_open(). I hope you didn't just post your actual password @lab1353, even if everything else is obfuscated, suggest changing it ;)\nOT: I'll have a poke at it and see if I can replicate the issue. Quick test both with your provided script and \n<?php\nif (function_exists('imap_open')) {\n    echo \"IMAP functions are available.<br />\\n\";\n} else {\n    echo \"IMAP functions are not available.<br />\\n\";\n}\nYeilds that it works for me.\nAlso worth noting, you don't need to add extension=imap.so to laravel.ini, because docker-php-ext-configure adds it to the default include path anyways.\ntry rebuilding the image:\ndocker-compose build --no-cache php-fpm. try re-running it, I'm unable to reproduce the issue, and considering the error it sounds like the issue could be that the repository was unavailable.\nIf you're still having issues, check that you can reach http://dl.hhvm.com/ubuntu/dists/trusty/\nYou should see a bunch of files, among them Release, Release.gpg and InRelease. Yeah, It was fixed in #701, reverted by #662 \ud83e\udd26\u200d I'll get a new PR up soon. How about ~/.composer/vendor/bin/phpunit?\n. How did you install phpunit?. php-pm is highly experimental, it works by essentially pre-initializing the framework and serving each request on it's own through the pipeline of $framework (laravel/silex/symfony/insert other supported framework here).\nThe downside is that it will exasperate any memory leaks, since the process never ends (iirc. doctrine isn't all that great at cleaning up after itself for example).\nFrom a technical standpoint, there shouldn't be any issues using it with laradock, but you'll have to swap out FPM for PM (creating your own container that replaces it).\nI wouldn't recommend using php-pm or similar projects just yet, they are in their early infancy, few need that kind of performance improvements anyways (you're probably not serving millions of requests a hour/day), in which case, it's easier to roll load balanced, and it gives you some other benefits like fault tolerance as well.. For updating neo4j, try reverting 06c4c19a6fc7a0f85782002344017bec16f8deff or use the latest tag from the official neo4j image.. Make sure you've pulled the latest version, it was fixed with 894cb6ea270db0f4975156182e0af1638d729664. the hostname you should use is mysql or mariadb depending on which flavour you use.. what exactly are you trying to achieve here? if all you want to do is use curl to reach it, # curl -H 'Host: appname.app' -i http://nginx is what you're after, there's no real way to make http://localhost work in the workspace without a massive, ugly, borderline illegal hack.. Can you please confirm that this issue is resolved @winfried-van-loon?. the mysql container, or any other, other than workspace should have vim by default. If you find yourself in the need to have vim in a container, you're knee deep in debugging something, in which case, you can spend those 3 seconds it take to do apt update && apt install vim. \nThe idea here is that these are images that should be at least a step closer to production images, so it even more so makes it a bad idea to add unnecessary packages got containers.. A number of errors? What errors? with a clean copy of the repo I get no errors when running cp env-example .env && docker-compose up -d nginx. How did you set this? please provide at least a partial code example of how you did this.. I'm unable to reproduce this issue.\nCan you please provide the contents of your .env file?. I suggest wiping the data directory used by MSSQL and re-initilizing the container, then batch load your data again, can't see any obvious reasons why this should fail. If it still fails, I think you should see if it happens if you use the bare microsoft/mssql-server-linux container, if so, https://github.com/Microsoft/mssql-docker is the right place to raise an issue, if not, if you can share the data loaded into SQLserver, I can maybe tell whats going wrong.. PHP 5.3 is EOL, so IMO that is far outside what should be supported. You are free to use it, but I don't think it's something we should maintain and support in any way.. This is a change that needs to occur on all containers at build time before PHP is installed to allow for localization of dates (for example), and it has to be done on all containers executing PHP code (and probably others, like databases). I suppose pre-generating a bunch of locales isn't a bad idea, but then comes the question, which locales should be included?. Confirmed, It seems the php71 container doesn't have soap (maybe others) in it's installation steps. Unfortunately, currently, you will have to modify the Dockerfiles and add new locales following standard Debian procedures. \nas noted in #862 as you found, there's no way to do this in an automated way via docker-compose. MSSQL on linux uses /var/opt/mssql, not /var/lib/mysql. You've duplicated MSSQL here. Wouldn't it be better to utilize the scalining features of docker-compose rather than repeating yourself? DRY and all that.. ",
    "Shadow2004": "I am having the these same problems.\n@francislavoie would you be able to expand on what config I might need in the workspace container ?. Thanks for that I will give it a shot.. Has any one implemented this with supervisor yet?. Within your site config file you will want something similar to the below\n```bash\nserver {\n    listen 80;\n    listen 443 ssl;\n    listen [::]:80;\n    server_name {SITE_NAME};\n    root /var/www/{DOCUMENT_ROOT}/public;\n    index index.php index.html index.htm;\nssl_certificate     {CERTIFICATE_LOCATION};\nssl_certificate_key {KEY_LOCATION};\n\nlocation / {\n    try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\n}\n````\nYou will then want to add the below code to your nginx Dockerfile to install openssl and create the key files for you\n```bash\ninstall openssl\nRUN apk add --no-cache openssl\ncreate a folder for the keys\nRUN mkdir /etc/nginx/ssl 2> /dev/null\ngenerate the keys for your local domain\nRUN openssl genrsa -out \"/etc/nginx/ssl/{SITE_NAME}.key\" 2048 \\\n    && openssl req -new -key \"/etc/nginx/ssl/{SITE_NAME}.key\" -out \"/etc/nginx/ssl/{SITE_NAME}.csr\" -subj \"/CN={SITE_NAME}/O={SITE_NAME}/C=UK\" \\\n    && openssl x509 -req -days 365 -in \"/etc/nginx/ssl/{SITE_NAME}.csr\" -signkey \"/etc/nginx/ssl/{SITE_NAME}.key\" -out \"/etc/nginx/ssl/{SITE_NAME}.crt\"\n```\nThis is for a development setup with self signed certificated, if you wanted to use this for a production server you would need to remove the lines that generate the keys.. Yes for production I keep the certs within the repo but I am using a private repo so they are secure.\nIf you have a non private repo I would leave a hole for them then place them in the right place when you install the application on production.. I just re-read that and realised you have put in an automated manner.\nThat question I am not sure I can answer at this time as I haven't automated the installation of certs on live but you could have some sort of secure file storage for them then change the nginx Dockerfile to pull from that location at build time.. @swim89 It looks like nginx cant find the vert docs that you generated, so make sure the nginx config is looking in the correct place. Other then that please post your nginx config and nginx DockerFile so i can have a look.. Your best bet is to have a live branch on your laradock repo to house your different configs, such as your nginx config, then have your live server use this branch.. Yep I am hitting this same problem since re-building with latest version. Yes I have and I will explain in my next post as it will take me a little bit to write it :-). Ok so to start the system monitoring tool needs to be installed on your base machine as this will monitor the docker instances as well so go ahead and follow the new relic docs for that one. Small note the new relic server monitoring tool is being removed soon so if you have a paid account go ahead an install the infrastructure stuff instead.\nFor APM you will want to first edit you php-fpm Dockerfile-{VERSION} file and insert the below code in just above the final touch section.\n```bash\ninstall newrelic apm agent\nENV NEWRELIC_FILENAME=newrelic-php5-7.4.0.198-linux-musl.tar.gz\nENV ENVIRONMENT {APP NAME GOES HERE}\nENV NR_INSTALL_SILENT true\nENV NR_INSTALL_KEY {LICENCE KEY GOES HERE}\nRUN cd /opt \\\n    && apt-get install -y wget --no-install-recommends \\\n    && wget -O - https://download.newrelic.com/548C16BF.gpg | apt-key add - \\\n    && sh -c 'echo \"deb http://apt.newrelic.com/debian/ newrelic non-free\" > /etc/apt/sources.list.d/newrelic.list' \\\n    && apt-get update \\\n    && apt-get install -y newrelic-php5 --no-install-recommends \\\n    && newrelic-install install\n```\nThen rebuild you nginx container and new relic should be installed and monitoring. \nIf you have multiple site running then you will want to edit you nginx site config and add the code below into each of the location ~ .php$ sections for each site\nbash\nfastcgi_param PHP_VALUE \"newrelic.appname={SITE NAME}\";. Your code is missing the part that actually generates the certificates, unless i am missing something.\nWhat you would want in the nginx docker file is something like the below\nbash\nARG NGINX_SSL_INSTALL=false\nENV NGINX_SSL_INSTALL ${NGINX_SSL_INSTALL}\nRUN if [ ${NGINX_SSL_INSTALL} = true ]; then \\\n    apk add --no-cache openssl  \\\n    && apk update \\\n    && mkdir /etc/nginx/ssl \\\n    && openssl genrsa -out \"/etc/nginx/ssl/${DOMAIN_NAME}.key\" 2048 \\\n    && openssl req -new -key \"/etc/nginx/ssl/${DOMAIN_NAME}.key\" -out \"/etc/nginx/ssl/${DOMAIN_NAME}.csr\" -subj \"/CN=${DOMAIN_NAME}/O=${COMPANY_NAME}/C=${COUNTRY_CODE}\" \\\n    && openssl x509 -req -days 365 -in \"/etc/nginx/ssl/${DOMAIN_NAME}.csr\" -signkey \"/etc/nginx/ssl/${DOMAIN_NAME}.key\" -out \"/etc/nginx/ssl/${DOMAIN_NAME}.crt\"\n;fi. There is currently a pull request out for adding the necessary entries to allow you to use php 7.2 see #1351 . A possible solution is multiple instances controlled by docker swarm, if you have a setup like this with at least 2 instances then you can re-direct traffic to one instance while you deploy to the other or use the second instance as a purely deployment instance that only starts up when you need to do a deployment of the main instance.. Ok so note on this if you are upgrading your fork of laradock from pre 6.0 then don't set the mysql version to latest as this will try to pull down the GA release which is on V5 of mysql. Before laradock 6.0 that mysql version was set to 8.0 which is the current development version so if you then try to set it to latest it tries to downgrade your mysql version to 5 and will give you this error.. Try setting your mysql version to 8.0.0/8.0.1/8.0.2/8.0.3/8.0.4 and rebuild mysql container.\nSo basically if you did build your DB with an 8.0 build then one of those version numbers will be the correct one.. Ye that is another option if you don't care about the data in the database.\nNow if you do care about the data but want to go back onto the latest release, v5. Then you will want to dump all your data into a SQL file then delete the mysql folder in the docker data. Then up the mysql container which will create a new database for then, then the last thing is to re-import your data from the SQL dump.. Here is the fix I implemented when getting build tests to work\n```bash\nARG INSTALL_PYTHON=false\nRUN if [ ${INSTALL_PYTHON} = true ]; then \\\n  apt-get -y install python python-pip python-dev build-essential  \\\n  && pip install --upgrade pip  \\\n  && hash -r pip \\\n  && pip install --upgrade virtualenv \\\n;fi\n```\nAdded the has -r pip line which solves the build problem. Ok so finally got all travis tests to pass.\nTwo things to note, one i had to move the swoole install in the workspace to the bottom after the PHP version check else i was experiencing segmentation faults in other packages installs if it happened before them.\nSecond I removed the pdo install from the php-worker as this was causing a build error when building under PHP 7.0 and gets installed anyway with the pdo_mysql and pdo_pgsql, unless im wrong on that and some one give me a shout if that is the case.. Going to close this ticket and reopen a new one as I have noticed that i forgot to do this in a separate branch, my bad.. No it isn't as there are alot of broken tests at the min, I just got done fixing them all in my pull request #1501.. Here is a fix for this\n```bash\n\nPHP Memcached:\n\nARG INSTALL_MEMCACHED=false\nRUN if [ ${INSTALL_MEMCACHED} = true ] && ( [ ${PHP_VERSION%.} = 5.6 ] || [ ${PHP_VERSION%.} = 5.5 ] ) ;then \\\n        # Install the php memcached extension\n        pecl install memcached-2.2.0 && \\\n        docker-php-ext-enable memcached; \\\n    elif [ ${INSTALL_MEMCACHED} = true ]; then \\\n        # Install the php memcached extension\n        curl -L -o /tmp/memcached.tar.gz \"https://github.com/php-memcached-dev/php-memcached/archive/php7.tar.gz\" \\\n        && mkdir -p memcached \\\n        && tar -C memcached -zxvf /tmp/memcached.tar.gz --strip 1 \\\n        && ( \\\n            cd memcached \\\n            && phpize \\\n            && ./configure \\\n            && make -j$(nproc) \\\n            && make install \\\n        ) \\\n        && rm -r memcached \\\n        && rm /tmp/memcached.tar.gz \\\n        && docker-php-ext-enable memcached \\\n;fi\n```. So any time line on when this might get accepted as the New relic code in this is the last custom element that my fork uses and the build fixes should fix most of the build errors other people are having?. ",
    "rg-srini": "Yes. I agree with @francislavoie. Volume drivers are definitely confusing.. ",
    "ko1eda": "Not really sure where else to post this but where exactly are the named volumes in laradock stored on windows? What is ~/.laradock/data I have no idea what or where that directory is . @francoism90  just started using laradock and was banging my head against the wall bc of this but your solution worked thank you :)\nWhat is the cause of this exactly is it a bug with mysql for docker? I never ran into this when setting up my own mysql container. ",
    "leu2tm": "When using some sort of automatic deployment, it's kinda cumbersome to navigate into the container and then start the process through a script.\nAlso when just trying to restart/upping the container again, you'll have to repeat the procedure.. Until now I have maintained my own file, but I thought this would be great for people who uses workers, and for people who started using laravel.\nBut if you feel like it you may close this PR.. @philtrep sounds reasonable, i'll look into it :). @scoutman57 are you suggesting that RUN_ARTISAN should take in a string, so it can run artisan commands?. @scoutman57 Hmm I think it would be best to scope it queue first, since some might use migration or other custom commands in a certain order.\n. I started using docker-compose run -d workspace php artisan queue:work as it seems like a better way to start queue worker.\n. ",
    "progsmile": "That was my fault, missed to add connection to client . I have the same issue on Ubuntu. @symbios-zi may be you know: Can I set less than 1gb for elasticsearch 5.* ?. ",
    "wayanjimmy": "Hi, I just made a PR for this #650 . ",
    "jcorry": "@mikeerickson I am eager to see this when you get it completed (or even ready for beta testing/review).. @Mahmoudz I get a 404 at that URL. ",
    "daviestar": "Here's a decent solution:\nshell\nenv DB_HOST=127.0.0.1 php artisan migrate\nwrapped in a generic function in your .zshrc or similar:\nshell\nartisan() {\n  (env DB_HOST=127.0.0.1 php artisan \"${@}\")\n}. ",
    "Maras0830": "$ cd <your laradock folder>\n$ docker-compose exec workspace bash\n$ cd <your project>\n$ php artisan migrate\nand it work.\nby the way, $ php artisan db:seed also can run by this way.\n. see https://github.com/laradock/laradock/issues/610. I fixed this question.\nI write apt-get install in php-fpm/Dockerfiles, and rebuild, it works now.. ",
    "pengpn": "cd your workspace container and cd your project to run php artisan migrate. ",
    "curunoir": "Pretty painful each time we have to run artisan commands.. ",
    "b4dnewz": "This is what I use after the build:\ndocker-compose exec [workspace] php artisan migrate:fresh\nand as prefix for any other command that needs to run inside the container:\ndocker-compose exec [workspace] some-command\nwhere workspace is a running container with a laravel application\nWithout using docker-compose it will be:\ndocker exec -it [container_id] some-command\nwhere container_id is the id of a running container with laravel application. ",
    "thundersword": "Thanks for you quick response! The building process stayed at this warning for long time, now it is working fine. Thank you!. ERROR: Service 'hhvm' failed to build: The command '/bin/sh -c apt-get update -y     && apt-get install -y software-properties-common     && add-apt-repository \"deb http://dl.hhvm.com/ubuntu $(lsb_release -sc) main\"     && a\npt-get update -y     && apt-get install -y hhvm     && apt-get clean     && rm -rf /var/lib/apt/lists/*' returned a non-zero code: 100. before this error, Failed to fetch http://archive.ubuntu.com/ubuntu/dists/trusty-updates/main/source/Sources  Hash Sum mismatch. ",
    "xralphack": "I am not sure. However npm run watch works for me when the os is mac os x 10.11. ",
    "wiliam969": "I had the same issue.\nI fixed it by assigning Docker 3 CPU Cores in the Settings/Advanced Section. \nUnfortunately i cant test this on Mac. \n\n. ",
    "jmazurpl": "I will go with adding new parametrs to the Dockerfile. Thanks!. @francislavoie I modified the files as below.\n\\docker-compose.yml\nmysql:\n        build:\n            context: ./mysql\n            args:\n                - MYSQL_DATABASE=db\n                - MYSQL_DATABASE_MASTER=db-master\n                - MYSQL_USER=user\n                - MYSQL_PASSWORD=secret\n                - MYSQL_ROOT_PASSWORD=root\n        volumes:\n            - mysql:/var/lib/mysql\n        ports:\n            - \"3306:3306\"\n\\mysql\\Dockerfile\n```\n(...)\nARG MYSQL_DATABASE=homestead\nARG MYSQL_DATABASE_MASTER=homestead-master\nARG MYSQL_USER=homestead\nARG MYSQL_PASSWORD=secret\nARG MYSQL_ROOT_PASSWORD=root\nENV MYSQL_DATABASE=$MYSQL_DATABASE\nENV MYSQL_DATABASE_MASTER=$MYSQL_DATABASE_MASTER\nENV MYSQL_USER=$MYSQL_USER\nENV MYSQL_PASSWORD=$MYSQL_PASSWORD\nENV MYSQL_ROOT_PASSWORD=$MYSQL_ROOT_PASSWORD\nRUN sed -i 's/MYSQL_DATABASE/'$MYSQL_DATABASE'/g' /etc/mysql/startup && \\\n    sed -i 's/MYSQL_DATABASE_MASTER/'$MYSQL_DATABASE_MASTER'/g' /etc/mysql/startup && \\\n    sed -i 's/MYSQL_USER/'$MYSQL_USER'/g' /etc/mysql/startup && \\\n    sed -i 's/MYSQL_PASSWORD/'$MYSQL_PASSWORD'/g' /etc/mysql/startup\n(...)\n```\n\\mysql\\startup\nDROP USER IF EXISTS 'MYSQL_USER'; \nCREATE USER 'MYSQL_USER'@'%'; \nCREATE DATABASE IF NOT EXISTS MYSQL_DATABASE; \nGRANT ALL ON MYSQL_DATABASE.* TO 'MYSQL_USER'@'%' IDENTIFIED BY 'MYSQL_PASSWORD';\nCREATE DATABASE IF NOT EXISTS MYSQL_DATABASE_MASTER; \nGRANT ALL ON MYSQL_DATABASE_MASTER.* TO 'MYSQL_USER'@'%' IDENTIFIED BY 'MYSQL_PASSWORD';\nBut unfortunately after these changes and creating and running this container I'm not able to login into mysql. I get the Access Denied error from mysql.\nIs there any way to debug what is going wrong during container creation? I assume that there is an error while creating the db users but I don't have any idea what is the problem.. I figured out that problem is not connected with my changes to the scripts but even if I pull clean laradock from git and i change its folder name from \"laradock\" to anything else i always get the Access denied for user 'root'@'172.18.0.3' (using password: YES). \nSince I have separate laradock instances for each of my projects I would like to distinguish between the containers using different folder name. Does anybody knows why it is like this? Is it required to stick with \"laradock\" folder name?. ",
    "abagayev": "Created clear example of docker-compose with multiple databases, just use for your purposes:\nhttps://github.com/abagayev/docker-bootstrap-collection/tree/master/mysql-few-databases. ",
    "MKagesawa": "Take a look here: https://gist.github.com/MKagesawa/a03892b8c44c015cd991c2c5311f1768\nYou can pass a shell script creating the dbs\n```\nThe official MySQL (https://hub.docker.com/_/mysql/) supports only one MYSQL_DATABASE environment variable.\nBy modifying the entrypoint and passing shell script, you can create multiple dbs without having to make a mysql image just for this purpose.\nversion: '3'\nservices:\n  # Some other service connecting to mysql\ndb:\n    image: mysql:5.6\n    environment:\n      - MYSQL_USER=root\n      - MYSQL_ALLOW_EMPTY_PASSWORD=yes\n    entrypoint:\n      sh -c \"\n        echo 'CREATE DATABASE IF NOT EXISTS firstDB; CREATE DATABASE IF NOT EXISTS secondDB;' > /docker-entrypoint-initdb.d/init.sql;\n        /usr/local/bin/docker-entrypoint.sh --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n      \"\n    ports:\n      - 3306:3306 \n```. ",
    "stanleyli60": "The command I use is:\ndocker-compose up -d nginx php-fpm workspace\nAlso, my code directory is outside the laradock folder, could this cause the problem?\n--Home\n       ----laradock\n       ----myApp\n. Windows 10. My OS info and docker versions are included in the original description. I have tried two different Win 10 pc (one laptop and one desktop) and they all have the same problem.. Please see below my config files \n`\nversion: '2'\nservices:\nApplications Code Container\napplications:\n    image: tianon/true\n    volumes:\n        - ../php/:/var/www\n\n- ../sample/:/var/www/sample\nWorkspace Utilities Container\nworkspace:\n    build:\n        context: ./workspace\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_MONGO=false\n            - INSTALL_NODE=false\n            - INSTALL_YARN=false\n            - INSTALL_DRUSH=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n            - INSTALL_V8JS_EXTENSION=false\n            - COMPOSER_GLOBAL_INSTALL=false\n            - INSTALL_WORKSPACE_SSH=false\n            - INSTALL_LARAVEL_ENVOY=false\n            - INSTALL_LINUXBREW=false\n            - PUID=1000\n            - PGID=1000\n            - NODE_VERSION=stable\n            - YARN_VERSION=latest\n            - TZ=UTC\n    volumes_from:\n        - applications\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    ports:\n       - \"2222:22\"\n    tty: true\n\nPHP-FPM Container\nphp-fpm:\n    build:\n        context: ./php-fpm\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_SOAP=false\n            - INSTALL_MONGO=false\n            - INSTALL_ZIP_ARCHIVE=false\n            - INSTALL_BCMATH=false\n            - INSTALL_MEMCACHED=false\n            - INSTALL_OPCACHE=false\n            - INSTALL_EXIF=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n            - CODEIGNITER=false\n        dockerfile: Dockerfile-70\n    volumes_from:\n        - applications\n    expose:\n        - \"9000\"\n    links:\n        - workspace\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    environment:\n        # IMPORTANT: Set the Remote Interpreter entry matching name to `laravel`\n        - PHP_IDE_CONFIG=serverName=laravel\n\nNginx Server Container\nnginx:\n    build:\n        context: ./nginx\n        args:\n            - PHP_UPSTREAM=php-fpm\n    volumes_from:\n        - applications\n    volumes:\n        - ./logs/nginx/:/var/log/nginx\n        - ./nginx/sites/:/etc/nginx/sites-available\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nApache Server Container\napache2:\n    build:\n        context: ./apache2\n        args:\n            - PHP_SOCKET=php-fpm:9000\n    volumes_from:\n        - applications\n    volumes:\n        - ./logs/apache2:/var/log/apache2\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nMySQL Container\nmysql:\n    build:\n        context: ./mysql\n        args:\n            - MYSQL_DATABASE=homestead\n            - MYSQL_USER=test\n            - MYSQL_PASSWORD=test\n            - MYSQL_ROOT_PASSWORD=root\n    volumes:\n        - mysql:/var/lib/mysql\n    ports:\n        - \"3306:3306\"\n\nRedis Container\nredis:\n    build: ./redis\n    volumes:\n        - redis:/data\n    ports:\n        - \"6379:6379\"\n\nphpMyAdmin Container\nphpmyadmin:\n    build: ./phpmyadmin\n    environment:\n        PMA_ARBITRARY: 1\n        MYSQL_USER: test\n        MYSQL_PASSWORD: test\n        MYSQL_ROOT_PASSWORD: root\n    ports:\n        - \"8080:80\"\n    links:\n        - \"mysql:db\"\n\nSelenium Container\nselenium:\n    build: ./selenium\n    ports:\n        - \"4444:4444\"\n\nVolumes Setup\nvolumes:\n    mysql:\n        driver: \"local\"\n    redis:\n        driver: \"local\"\n    phpmyadmin:\n        driver: \"local\"\n    sessions:    ## nothing is connected to this (- ./data/sessions:/sessions)\n        driver: \"local\"`\n. And you are right. This issue only happens in Windows. I have no problem running this when the same setting is published to EC2 instance. I can edit my codes outside of the docker container. Not sure why this is causing issues on Windows.. @mikeerickson Yes, I can do that tonight to mock out a simple repo for testing.. @mikeerickson sorry for the delay. I have created a temp test repo: https://github.com/stanleyli60/test\nStep to reproduce the issue:\n\nclone the project in Windows 10\ncd laradock\ndocker-compose up -d nginx php-fpm workspace\nuse phpStorm to open the app folder\nsetup a host file to point local.test.dev to 127.0.0.1\nopen a browser and enter local.test.dev and you should see 'Hello World!'\nuse phpStorm to make a change to the index.php file.\n(Note: the first time you should be able to save the changes and see the changes in the browser after refreshing the page)\nuse phpStorm to make another change and this time will fail. You won't allow to do further changes.. @alchimik Thanks a lot. It works without \"Safe write\".\n\nHowever, why would Nginx disallow \"safe write\"? Also it works fine with Apache.. @mikeerickson are you able to reproduce the problem?\n@alchimik I have encountered the same problem when using gulp to compile my js files. I believe gulp also uses \"safe write\" which cause problems when using the Nginx container. Do you have any suggestions on that?. ",
    "evsign": "I had same issue on Ubuntu 16.04.2 LTS and disabling open_file_cache solve this.. ",
    "sonialiang": "I am new to docker.\nI met with same problem on My AWS in us-east-1 region.\nI spent 2 days to solve the issue.\nThe reason is because the repository mirror site.\nPeople also discussed about this. Refer #609  \nTry delete the merged line. And run it again.. ",
    "robbydooo": "This is now https://github.com/laradock/laradock/pull/635. ",
    "alixez": "@philtrep i think when he opened this configuration \"INSTALL_NODE=true\"  to build the container and stop at \"cloning into '/home/laradock/.nvm' ...\"   sorry, my English is so bad.. ",
    "hudarui": "yes\uff0cI edit the configuration install_node\uff1dTrue\n,but it stop  at  cloning into/home/laravel/.nvm. win10 docker native. @alixez help. ",
    "yahsharahla": "It's like no one as the answer for this question, they keep saying to install php5-mysql which comes with the PDO extension.. but nothing happens after installing it. There are so many different ways i have tried to action this problem, but nothing works.. ",
    "kelvinogwa": "(Windows) Check the database.php file ensure 'default' => env('DB_CONNECTION', 'mysql'), is properly done for me the problem was I was using 'default' => env('DB_CONNECTION', 'pgsql'), when using a MySQL database. Changed pgsql to sql and I was able to proceed.. ",
    "flashbag": "Watch this PR https://github.com/laradock/laradock/pull/632. ",
    "Treggats": "Seems reasonable, although in my opinion the current compose config is rather big. Even new users usually don't need everything Laradock has to offer. My approach would be to start with a webserver, php-fpm and a database. Maybe using a script to create the compose config file. . Will do, looks like an interesting read. ",
    "klikrzys": "@philtrep thanks! Now it's working correctly. . ",
    "abidihoussem": "Hello,\nI have the same problem but I'm using laradock for a ZF2 project. is there anything to do in the php config side. Thanks ! . ",
    "Harti": "Like so?\nDoesn't work for me.\nmix.browserSync({\n    proxy: 'nginx',\n    host: 'project.dev',\n    notify: false\n});\nI believe I've tried any permutation of proxy and host using localhost, nginx and project.dev. No dice. Would have been nice had you included a working config after you got it to work - that way people can actually read how to fix their issues.. @philtrep \n@cjmaxik \nCould you please elaborate or point me to a solution? I'm stuck.... @ChaiMinChun I can't thank you enough, it works! \nFor future readers:\nI used the 10.0.75.1 as the proxy IP address, it's the one I found in my Docker for Windows settings as well as in the laradock/.env file (DOCKER_HOST_IP=10.0.75.1).\n. I actually realized that above configurations only work for some specific project setups. When using it in a Laravel project, it works just fine. When using it in an OctoberCMS project, however, it has the same issues that I previously reported.\nI figure it may have to do with the folder you call npm run watch from, but didn\u2019t come to a solution yet either. \nAdding the BrowserSync script to my layout file (<script async type=\"text/javascript\" src=\"//localhost:3000/browser-sync/browser-sync-client.js\"></script>) worked, although I\u2019d say this isn\u2019t the cleanest solution.. @freeyland no, sorry. I put up with the manual script injection. I checked for environment variables\u2018 presence/absence to detect whether or not to render the script tag, as far as I can remember.. Someone already found a solution in #640, but never posted the exact steps to reproduce it. \n. Adding a env-example.windows file identical to the env-example file (except for the :) and adding \"Note: Windows users are required to run cp env-example.windows .env instead\" to the docs could be a more intuitive solution.. same here.\n\nDocker version 17.12.0-ce, build c97c6d6\nLaradock a1d3eeb7e6b2cb8c14455436877a9ace48627089\nSystem info: Windows\nSystem info dist/version: Windows 10 Pro\n\ndocker-compose logs mysql\nAttaching to laradock_mysql_1\nmysql_1                | 2018-01-13T15:36:20.828549Z 0 [Note] Basedir set to /usr/\nmysql_1                | 2018-01-13T15:36:20.828751Z 0 [Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\nmysql_1                | 2018-01-13T15:36:20.828797Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-01-13T15:36:20.830248Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled\nmysql_1                | 2018-01-13T15:36:20.830294Z 0 [Note] /usr/sbin/mysqld (mysqld 8.0.3-rc-log) starting as process 1 ...\nmysql_1                | 2018-01-13T15:36:20.840865Z 0 [Warning] No argument was provided to --log-bin, and --log-bin-index was not used; so replication may break when this MySQL server acts as a master and has his hostname changed!! Please use '--log-bin=484a213aea95-bin' to avoid this problem.\nmysql_1                | 2018-01-13T15:36:20.859467Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2018-01-13T15:36:20.859737Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1                | 2018-01-13T15:36:20.865106Z 1 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2018-01-13T15:36:20.865162Z 1 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2018-01-13T15:36:20.865170Z 1 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2018-01-13T15:36:20.865176Z 1 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2018-01-13T15:36:20.865182Z 1 [Note] InnoDB: Compressed tables use zlib 1.2.11\nmysql_1                | 2018-01-13T15:36:20.865561Z 1 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2018-01-13T15:36:20.865737Z 1 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2018-01-13T15:36:20.867367Z 1 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | libnuma: Warning: /sys not mounted or invalid. Assuming one node: No such file or directory\nmysql_1                | mbind: Operation not permitted\nmysql_1                | mbind: Operation not permitted\nmysql_1                | 2018-01-13T15:36:20.877599Z 1 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2018-01-13T15:36:20.879433Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2018-01-13T15:36:20.951582Z 1 [Note] InnoDB: The log sequence number 25831217 in the system tablespace does not match the log sequence number 25857589 in the ib_logfiles!\nmysql_1                | 2018-01-13T15:36:20.951623Z 1 [Note] InnoDB: Database was not shutdown normally!\nmysql_1                | 2018-01-13T15:36:20.951631Z 1 [Note] InnoDB: Starting crash recovery.\nmysql_1                | 2018-01-13T15:36:20.955014Z 1 [Note] InnoDB: Using 'tablespaces.open.1' max LSN: 25831236\nmysql_1                | 2018-01-13T15:36:20.964192Z 1 [Note] InnoDB: Doing recovery: scanned up to log sequence number 25857589\nmysql_1                | 2018-01-13T15:36:20.989516Z 1 [Note] InnoDB: Applying a batch of 0 redo log records ...\nmysql_1                | 2018-01-13T15:36:20.989556Z 1 [Note] InnoDB: Apply batch completed!\nmysql_1                | 2018-01-13T15:36:21.233530Z 1 [Note] InnoDB: Opened 2 existing undo tablespaces.\nmysql_1                | 2018-01-13T15:36:21.442002Z 1 [Note] InnoDB: Removed temporary tablespace data file: \"ibtmp1\"\nmysql_1                | 2018-01-13T15:36:21.442197Z 1 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1                | 2018-01-13T15:36:21.444463Z 1 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1                | 2018-01-13T15:36:21.824280Z 1 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1                | 2018-01-13T15:36:21.839190Z 1 [Note] InnoDB: Created 128 and tracked 128 new rollback segment(s) in the temporary tablespace. 128 are now active.\nmysql_1                | 2018-01-13T15:36:21.842298Z 1 [Note] InnoDB: 8.0.3 started; log sequence number 25857589\nmysql_1                | 2018-01-13T15:36:21.848811Z 1 [ERROR] [FATAL] InnoDB: Table flags are 0x4800 in the data dictionary but the flags in file mysql.ibd are 0x800!\nmysql_1                | 2018-01-13T15:36:21.848845Z 1 [ERROR] InnoDB: Assertion failure: ut0ut.cc:738\nmysql_1                | InnoDB: thread 140128524187392\nmysql_1                | InnoDB: We intentionally generate a memory trap.\nmysql_1                | InnoDB: Submit a detailed bug report to http://bugs.mysql.com.\nmysql_1                | InnoDB: If you get repeated assertion failures or crashes, even\nmysql_1                | InnoDB: immediately after the mysqld startup, there may be\nmysql_1                | InnoDB: corruption in the InnoDB tablespace. Please refer to\nmysql_1                | InnoDB: http://dev.mysql.com/doc/refman/8.0/en/forcing-innodb-recovery.html\nmysql_1                | InnoDB: about forcing recovery.\nmysql_1                | 15:36:21 UTC - mysqld got signal 6 ;\nmysql_1                | This could be because you hit a bug. It is also possible that this binary\nmysql_1                | or one of the libraries it was linked against is corrupt, improperly built,\nmysql_1                | or misconfigured. This error can also be caused by malfunctioning hardware.\nmysql_1                | Attempting to collect some information that could help diagnose the problem.\nmysql_1                | As this is a crash and something is definitely wrong, the information\nmysql_1                | collection process might fail.\nmysql_1                |\nmysql_1                | key_buffer_size=8388608\nmysql_1                | read_buffer_size=131072\nmysql_1                | max_used_connections=0\nmysql_1                | max_threads=151\nmysql_1                | thread_count=1\nmysql_1                | connection_count=0\nmysql_1                | It is possible that mysqld could use up to\nmysql_1                | key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68136 K  bytes of memory\nmysql_1                | Hope that's ok; if not, decrease some variables in the equation.\nmysql_1                |\nmysql_1                | Thread pointer: 0x788bfe0\nmysql_1                | Attempting backtrace. You can use the following information to find out\nmysql_1                | where mysqld died. If you see no messages after this, something went\nmysql_1                | terribly wrong...\nmysql_1                | stack_bottom = 7f7236e82dc8 thread_stack 0x46000\nmysql_1                | /usr/sbin/mysqld(my_print_stacktrace+0x2e) [0x19cab8e]\nmysql_1                | /usr/sbin/mysqld(handle_fatal_signal+0x4a1) [0xf18d71]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0xf890) [0x7f7244c06890]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(gsignal+0x37) [0x7f724360f067]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(abort+0x148) [0x7f7243610448]\nmysql_1                | /usr/sbin/mysqld(ut_dbg_assertion_failed(char const*, char const*, unsigned long)+0xe9) [0xaab927]\nmysql_1                | /usr/sbin/mysqld(ib::fatal::~fatal()+0xab) [0x1cb13db]\nmysql_1                | /usr/sbin/mysqld() [0x1db3dc9]\nmysql_1                | /usr/sbin/mysqld(fil_space_get_size(unsigned int)+0x12d) [0x1db57cd]\nmysql_1                | /usr/sbin/mysqld() [0x1b0cd51]\nmysql_1                | /usr/sbin/mysqld() [0x1b0d062]\nmysql_1                | /usr/sbin/mysqld(dd::bootstrap::DDSE_dict_init(THD*, dict_init_mode_t, unsigned int)+0x77) [0x11c33e7]\nmysql_1                | /usr/sbin/mysqld(dd::upgrade::do_pre_checks_and_initialize_dd(THD*)+0x225) [0xef69e5]\nmysql_1                | /usr/sbin/mysqld() [0xfb89f3]\nmysql_1                | /usr/sbin/mysqld() [0x19f999f]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0x8064) [0x7f7244bff064]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7f72436c262d]\nmysql_1                |\nmysql_1                | Trying to get some variables.\nmysql_1                | Some pointers may be invalid and cause the dump to abort.\nmysql_1                | Query (0): Connection ID (thread ID): 1\nmysql_1                | Status: NOT_KILLED\nmysql_1                |\nmysql_1                | The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains\nmysql_1                | information that should help you find out what is causing the crash.. Okay, so my logs from  laradock_mysql_1 suggested I visit this link and add innodb_force_recovery = 1 to my laradock/mysql/my.cnf file, which did not work.\nA blatant copy-paste of the fatal error causing the issue to begin with brought me here where I found out that it appears to be a known bug with mysql 8, which is why...\n\nI went to my laradock/.env, put MYSQL_VERSION=5.7 (instead of formerly 8.0), depending on your laradock version you may have to visit laradock/mysql/Dockerfile and change it there\ndid docker-compose down (to shut down and remove the containers from docker)\ndeleted my <Windows User Directory>/.laradock/mysql directory completely (WARNING they say this deletes your databases, so back them up)\nused docker-compose build mysql to rebuild the mysql container (as mentioned by @andrzejkupczyk) \ndocker-compose up -d'd the containers as usual, rebuilding them.\n\nA quick docker ps shows the mysql container keeps running and so I can access it from my workspace.\nHope this helps anyone!. ",
    "ChaiMinChun": "The steps are:\n1) Modify your webpack file\nmix.browserSync({\nproxy:'172.17.0.1' //my docker ip\n,open:false\n});\n2) Modify your docker-compose.yml\nAfter that add in \"3000:3000\" and \"3001:3001\" ports which is under workspace container section\n\nAnd you are good to go\n. ",
    "benplain": "I have tried this and can't get it to work.\nHere is my docker-compose.yml modifications:\nports:\n        - \"${WORKSPACE_SSH_PORT}:22\"\n        - \"3000:3000\"\n        - \"3001:3001\"\nand here is what is in my webpack.mix.js\nmix.browserSync({\n    proxy: '10.0.75.1', // DOCKER_HOST_IP from .env\n    port: 3000,\n    open: false\n});\nWhen I run npm run watch it shows this:\n```\n[Browsersync] Proxying: http://10.0.75.1\n[Browsersync] Access URLs:\n\n   Local: http://localhost:3002\nExternal: http://192.168.1.100:3002\n\n\n      UI: http://localhost:3003\n\nUI External: http://192.168.1.100:3003\n\n[Browsersync] Watching files...\n```\nAny ideas?. ",
    "mattquest": "For anyone with multiple virtual hosts that's stuck on this.  You might need to set whichever site you're currently working on as the \"default_server\" in your site .conf file.  It appears the server_name passed through in the request is \"localhost\" so it may not trigger your desired site to load. . ",
    "fdb19": "Just wanted to confirm that '172.17.0.1' is the correct proxy and not the ip found in the .env file (10.0.75.1).\n172.17.0.1 is the default ip listed using ifconfig docker0.. ",
    "kulbon": "I've tried many combinations and this one worked for me:\nin gulpfile.js\ngulp.task(\"browser-sync\", function () {\n    browserSync.init({\n        proxy: '172.20.0.5',\n        port: 3000,\n    open:false\n    });\n});\nin docker-compose.yml\nworkspace:\n     ports:\n        - \"${WORKSPACE_SSH_PORT}:22\"\n        - \"3000:3000\"\nproxy: '172.20.0.5' This IP is taken from laradock container nginx IP adress\nWorks like a charm.\n. ",
    "DavidTrujillo": "\nSo, I finally managed to have Browsersync working with my Laravel Elixir setup. It only have one problem, so I want to share this settings with you and try to make a perfect solution for Laradock.\nThis settings are for Elixir, but you can make it works on Mix (Laravel >= 5.4)\ngulpfile.js\njs\n[...]\n    mix.browserSync({\n        proxy: '172.19.0.7', // nginx or caddy Docker ip (more on that later)\n        host: 'project1.dev', // your hostname from .hosts\n        open: false // there is no browser in workspace\n    });\n[...]\nYou will need to find caddy/nginx Docker IP. I simply bash'ed into caddy instance and executed ifconfig.\nLast thing to do is open workspace ports to make Browsersync working:\nyaml\n[...]\n        ports:\n            - \"3000:3000\"\n            - \"3001:3001\"\n[...]\nSo, only problem is this caddy/nginx Docker IP. IDK if it is static or dynamic about each stop/up sequence. If you have some thoughts, please share.\n\nIt failed me even when in proxy I put nginx.\nIt gave me 404.\nI solved it with entering docker-compose exec workspace bash\nAnd modify / etc / hosts\nAnd put\n[Ip from nginx] [my hostname]\nNow it works for my laradock multisite. There is another way to do it, in the file docker-compose.yml put in nginx section (in my case):\n````\nnetworks:\n        frontend:\n        backend:\n          aliases:\n            - mysitea\n            - mysiteb\n````. ",
    "freeyland": "Hi @Harti , did you find an other solution in the end for octobercms? (I know it is a long time ago :) ). ",
    "pvgennip": "Sorry, wrong account.... ",
    "ohblue": "i got a error, when i run apt install -y mysql-client in workspace bash.\nE: Unable to locate package mysql-client. my  apt install command just after apt update. ",
    "hounded": "Hey nice work @cabrerabywaters I have got the container running and have pdo_sqlsrv and sqlsrv, however  I can not get the dblib working, any suggestions ? . Hi @cabrerabywaters \nI don't have anything to test dblib. My use case is that I have an external MSSQL database source and i'm using \nLswDoctrinePdoDblib\nin my application to connect to the external MSSQL database. \n. https://github.com/laradock/laradock/pull/1077. Added a pull request to include a python option in workspace\nhttps://github.com/laradock/laradock/pull/1077. It was for clarity, if I saw a file timezone or datetime, I would have avoid a few hours of trying to change timezone in the workspace. \nHey it is non-critical, maybe it just needs better clarity in the doc's on how to change timezone \nworkspace:\n    build:\n        context: ./workspace\n        args:\n            - TZ=America/New_York\n\ndoes not cut it. Also as i'm running symfony it did not occur to me to look in laravel.ini \n. Agreed, closing on the option to have a central .ini file for any php project . Hi\nSorry just got back to work, realized you already added.\nNeed any other help just call, great repo\nCheers,\nJames\nOn Mon, Aug 7, 2017 at 3:05 PM, Mahmoud Zalt notifications@github.com\nwrote:\n\n@hounded https://github.com/hounded could you please add it to the\nother docker files of the workspace as well, example for\nworkspace/Dockerfile-71 and if possible to workspace/Dockerfile-56.\nThanks,\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/pull/1077#issuecomment-320557962,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ALArl99d0_duIYbzxcq9ILoK3bM4faFuks5sVn7cgaJpZM4Ou1oI\n.\n. pull request anyone? . \n",
    "sasaorz": "@mikeerickson I have tried to use Windows CMD and Power Shell and Kitematic to run docker-compose, they all gave me the same result. I ran docker version on CMD it shows Version: 1.13.1. ",
    "zwz111": "\u6211\u4eec\u9700\u8981\u7528 ../my-cool-app/:/var/www\u66ff\u6362 ../:/var/www \n\u8fd9\u53e5\u7ffb\u8bd1\u53cd\u8fc7\u6765\u4e48~. me too\nInstall Laradock, start everything\nRun bash from the 'workspace' container: docker-compose exec --user=laradock workspace bash\nlaradock@ad5b6b116635:/var/www$ id\nuid=1000(laradock) gid=1000(laradock) groups=1000(laradock)\nlaradock@ad5b6b116635:/var$ ls -la\ndrwxr-xr-x. 3 root root  17 Mar 19 01:38 www\nwww do anything  Permission denied\ndocker host :centos \nlinux promote.cache-dns.local 4.10.2-1.el7.elrepo.x86_64 #1 SMP Sun Mar 12 13:25:09 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\ndocker --version\nDocker version 17.03.0-ce, build 3a232c8\ndocker-compose --version\ndocker-compose version 1.11.2, build dfed245\nIs it because I disable SELinux?\n. I think I know the problem...\nBecause I also set the /var/www to APPLICATION\nI gave him a set to APPLICATION=../ normal   its absolute path is /home/xxx\n(:. ",
    "dtunes": "@alchimik I feel like ssmtp should be its own container.... Sorry, so you want to just forward all emails to an external SMTP host?. Not sure how putting ssmtp on this container would allow php-fpm container to use it via the mail function directly. I see, it was really confusing because you added this comment in the MailHog PR. Maybe just add that as a separate request? I'm sure it's an easy task, if I have time I might do another PR for it, but for now, just add that as a separate request suggestion?. FYI, I've added the Dockerfile because its recommended in the docs, I guess it just makes it easy for configuring the container later.. so that you can reference the mailhog container from php-fpm e.g. MAIL_HOST=mailhog. Oh true, I haven't heard the v2 changes yet.... Yeah, I literally wrote that one night, and published the other night, only\nafter I saw that PR. Just approve whichever and close the second one.\nOn 8 March 2017 at 18:13, Philippe Tr\u00e9panier notifications@github.com\nwrote:\n\n@dtunes https://github.com/dtunes This is a duplicate of #650\nhttps://github.com/laradock/laradock/pull/650. Please contribute to the\ninitial PR instead of creating a new one.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/pull/651#issuecomment-284948951,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABHDyr1I82TZaMRZPEhwWFGH0cBIivEBks5rjjjogaJpZM4MS38X\n.\n. Not particularly related to this ticket, but noticed that when running hugo from DOCUMENTATION/_settings, the docs generated don't match the existing folder structure.\n\nbefore:\ndocs/getting-started/{index.html, index.xml}\nafter running hugo:\ndocs/getting-started/index/index.html\ndocs/getting-started/index.xml\nsh\nhugo env\nHugo Static Site Generator v0.20 darwin/amd64 BuildDate: 2017-04-11T13:43:59+12:00\nGOOS=\"darwin\"\nGOARCH=\"amd64\"\nGOVERSION=\"go1.8.1\"\nWas about to send a PR for percona container.\nAny tips? Don't want to screw with the documentation.. Hi, really keen to push this PR through, just need some help with hugo. As I mentioned above, deleting the docs folder and running hugo to regenerate the docs, causes the a subfolder to be created before the index.html files, but its affecting other *.html files as well.\nThis is the git status after running hugo.\n```sh\nOn branch master\nChanges not staged for commit:\n  (use \"git add/rm ...\" to update what will be committed)\n  (use \"git checkout -- ...\" to discard changes in working directory)\nmodified:   DOCUMENTATION/_settings/content/getting-started/index.md\nmodified:   docker-compose.yml\ndeleted:    docs/contributing/index.html\nmodified:   docs/contributing/index.xml\ndeleted:    docs/documentation/index.html\nmodified:   docs/documentation/index.xml\ndeleted:    docs/getting-started/index.html\nmodified:   docs/getting-started/index.xml\ndeleted:    docs/help/index.html\nmodified:   docs/help/index.xml\nmodified:   docs/index.html\nmodified:   docs/index.xml\ndeleted:    docs/introduction/index.html\nmodified:   docs/introduction/index.xml\ndeleted:    docs/license/index.html\nmodified:   docs/license/index.xml\ndeleted:    docs/related-projects/index.html\nmodified:   docs/related-projects/index.xml\nmodified:   docs/sitemap.xml\nmodified:   env-example\n\nUntracked files:\n  (use \"git add ...\" to include in what will be committed)\ndocs/404.html\ndocs/categories/\ndocs/contributing/index/\ndocs/documentation/index/\ndocs/getting-started/index/\ndocs/help/index/\ndocs/index/\ndocs/introduction/index/\ndocs/license/index/\ndocs/related-projects/index/\ndocs/tags/\npercona/\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n```\n@Mahmoudz do you have any idea what's causing this behaviour in hugo?. Yep, just following exactly the instructions given on http://laradock.io/contributing/#i-want-to-update-the-documentation-site.. Hi, just curious what's the use case for a python container, supervisord?. Hi guys,\nthe workspace base image always installs php70, if you check the repo https://github.com/laradock/workspace, you'll notice the Dockerfile-71 I'm not sure if its finished, but its not setup in the same way as the php-fpm containers, if you look into the workspace directory, the Dockerfile- all use the same base image workspace:1.3, php-fpm containers pull in specific versions e.g.\nlaradock/php-fpm:5.6--1.4\nlaradock/php-fpm:7.0--1.4\nlaradock/php-fpm:7.1--1.4\nwhere's all workspace Dockerfiles- are based on:\nlaradock/workspace:1.3\nhowever, the php-fpm/Dockerfile-71 doesn't look finished, but I haven't checked everything.\nwith PHP_VERSION=56\n\nwith PHP_VERSION=70\n\nwith PHP_VERSION=71\n\nAs you can see, it's quite confusing, I haven't had the time to explore it further.\nThis is not a fix obviously, maybe even highlighting the obvious to some people, but we need to fix this. I'm currently working on a new container as you may notice in the branch name blackfire.io. I'm not gonna have the time to work on this until probably May, hopefully someone else will find the time to do it soon, otherwise, I'll have another look later \"probably May\".. Just use PHP_VERSION=70 for now.. Hey man,\njust wondering, have you read the docs about environment variable substitution in the docs?\nhttps://docs.docker.com/compose/compose-file/#variable-substitution\nAlso, old post, but might be useful.\nhttps://blog.docker.com/2015/04/easily-configure-apps-for-multiple-environments-with-compose-1-2-and-much-more/\nalso, in your second example:\nsh\nAPPLICATION='../craiglorious'\ndocker-compose -f development.yml up workspace\nshould be:\nsh\nexport APPLICATION='../craiglorious'\ndocker-compose -f development.yml up workspace\nAlso, check this link https://docs.docker.com/compose/extends/.\nHope this helps.\n. Glad it helped.\nAs a side note, please note that the .env file located at the root of laradock, is not to be confused with the .env file (if any) in your laravel or lumen app.\nthe .env file in the laradock root is read by docker-compose, these \"secrets\" are not really safe if you have to check them into source control. I would look into etcd, vault https://www.vaultproject.io/ or even consul to store the secrets, another option is to encrypt the repo or just the .env file https://www.agwa.name/projects/git-crypt/.\n. I know, I find that annoying too,... but, that's just a warning. It shouldn't be causing the container not to work. Also, have you created this Dockerfile-70 in the php-worker directory?\nAfter you docker-compose up -d php-worker ...\ncan you do a docker-compose ps and see if the php-worker container is up?. Ok, need to review this, if you check the guides, the images still not showing. Locally, the path images/photos worked. However, when hosted on gh-pages, its not working. Removing the guide/ from the path seems to fix it, might have to look into the hugo's documentation.. Hi.\ncan you please try the following and report what you get back.\n```sh\ndocker-compose up -d php-fpm\ndocker-compose exec php-fpm php -i | grep mysqli\n```\nthis is what I get back using PHP_VERSION=70 and PHP_FPM_INSTALL_MYSQLI=true\n```sh\ndocker-compose exec php-fpm php -i | grep mysqli\n/usr/local/etc/php/conf.d/docker-php-ext-mysqli.ini,\nmysqli\nmysqli.allow_local_infile => On => On\nmysqli.allow_persistent => On => On\nmysqli.default_host => no value => no value\nmysqli.default_port => 3306 => 3306\nmysqli.default_pw => no value => no value\nmysqli.default_socket => no value => no value\nmysqli.default_user => no value => no value\nmysqli.max_links => Unlimited => Unlimited\nmysqli.max_persistent => Unlimited => Unlimited\nmysqli.reconnect => Off => Off\nmysqli.rollback_on_cached_plink => Off => Off\nAPI Extensions => mysqli,pdo_mysql. Also, make sure you do the following.\nsh\ndocker-compose build --no-cache php-fpm. Hi,\nso you've created a file under nginx/sites/mysite.conf? e.g. mysite.dev\nIf so, create a dns entry in your hosts file.\n127.0.0.1 mysite.dev\nThe DB_HOST variable is not set in the env-example, because that's a project specific variable. You need to set it under your e.g. Laravel/Lumen project's .env file. http://laradock.io/getting-started/#Usage Look right at the bottom.\n4 - Update your project configurations to use the database host\nOpen your PHP project\u2019s .env file or whichever configuration file you are reading from, and set the database host DB_HOST to mysql:\nDB_HOST=mysql. Don't like this approach, hence why I kept it as a data volume, for container data like mysql, redis, elastic etc.. I'd use data volumes instead of mounting the a host dir on the containers.. @springjk you're not missing anything, a long time ago people started using DATA_SAVE_PATH over volumes, I don't know I prefer volumes instead of mapping it to a local path, I think its cleaner.. ",
    "kahunacoder": "I needed gmp too but when I installed it using laradock fpm that I modified, I kept getting an error saying gmp.h couldn't be found.\nI added this to Dockerfile-70\n```\n\nGMP:\n\nARG INSTALL_GMP=false\nRUN if [ ${INSTALL_GMP} = true ]; then \\\n    # Install the gmp extension\n    apt-get update && \\\n    apt-get -y install libgmp-dev && \\ \n    docker-php-ext-install gmp \\\n;fi\nand changed this FROM to\nFROM laradock/php-fpm:7.1--1.3\n```\nThis didn't work. So I added my own dockerfile to laradock fpm, it installs a lot of extensions and their required libraries. I don't know what my file added that was missing in the modified Dockerfile-70 but here is my custom dockerfile.\n```\nFROM php:fpm\nRUN apt-get update && apt-get install -y \\\n        libjpeg62-turbo-dev \\\n        libmcrypt-dev \\\n        libpng12-dev \\\n        libcurl4-gnutls-dev \\\n        libxml2-dev \\\n        libbz2-dev \\\n        re2c \\\n        libpng++-dev \\\n        libpng3 \\\n        libjpeg-dev \\\n        libvpx-dev \\\n        zlib1g-dev \\\n        libgd-dev \\\n        libssl-dev \\\n        libtidy-dev \\\n        libxslt1-dev \\\n        libmagic-dev \\\n        libexif-dev \\\n        file \\\n        libssh2-1-dev \\\n        git \\\n        wget    \\\n        sqlite3 \\\n        libsqlite3-dev \\\n        libgmp-dev \\\n&& docker-php-ext-install json \\\n&& docker-php-ext-install mbstring \\\n&& docker-php-ext-install tokenizer \\\n&& docker-php-ext-install gmp \\\n&& docker-php-ext-install gd \\\n&& docker-php-ext-install curl \\\n&& docker-php-ext-install dom \\\n&& docker-php-ext-install bz2 \\\n&& docker-php-ext-install mysqli \\\n&& docker-php-ext-install pcntl \\\n&& docker-php-ext-install pdo \\\n&& docker-php-ext-install pdo_mysql \\\n&& docker-php-ext-install phar \\\n&& docker-php-ext-install posix \\\n&& docker-php-ext-install simplexml \\\n&& docker-php-ext-install soap \\\n&& docker-php-ext-install sockets \\\n&& docker-php-ext-install tidy \\\n&& docker-php-ext-install zip \\\n&& docker-php-ext-install bcmath \\\n&& docker-php-ext-install calendar \\\n&& docker-php-ext-install ctype \\\n&& docker-php-ext-install exif \\\n&& docker-php-ext-install pcntl \\\n&& docker-php-ext-install pdo_sqlite\n\n. I had to change the syntax from `- MYSQL_DATABASE: homestead` to `- MYSQL_DATABASE=homestead`, by replacing the : with =\n - MYSQL_DATABASE=homestead\n - MYSQL_USER=homestead\n - MYSQL_PASSWORD=secret\n - MYSQL_ROOT_PASSWORD=root\n```\n. ",
    "sasokovacic": "Thanks for your answer...  Today I found shorter solution on https://hub.docker.com/r/ianblenke/simplesamlphp/~/dockerfile/\nRUN apt-get update -y\nRUN apt-get install -y libgmp-dev re2c libmhash-dev libmcrypt-dev file\nRUN ln -s /usr/include/x86_64-linux-gnu/gmp.h /usr/local/include/\nRUN docker-php-ext-configure gmp \nRUN docker-php-ext-install gmp\nand it works...\nyou can ignore mcrypt if you don't need it.... same problem here. If I install latest laradock and leave everything default it runs but it does not create any database...\nHere is the output\n\nStarting laradock_mysql_1\nAttaching to laradock_mysql_1\nmysql_1                | 2017-09-29T18:47:00.385928Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2017-09-29T18:47:00.385974Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-09-29T18:47:00.385996Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled\nmysql_1                | 2017-09-29T18:47:00.386023Z 0 [Note] mysqld (mysqld 8.0.1-dmr) starting as process 1 ...\nmysql_1                | 2017-09-29T18:47:00.390780Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2017-09-29T18:47:00.390860Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1                | 2017-09-29T18:47:00.391552Z 1 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2017-09-29T18:47:00.391575Z 1 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2017-09-29T18:47:00.391580Z 1 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2017-09-29T18:47:00.391584Z 1 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2017-09-29T18:47:00.391588Z 1 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1                | 2017-09-29T18:47:00.391839Z 1 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2017-09-29T18:47:00.391930Z 1 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2017-09-29T18:47:00.393402Z 1 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | mbind: Operation not permitted\nmysql_1                | mbind: Operation not permitted\nmysql_1                | mbind: Operation not permitted\nmysql_1                | mbind: Operation not permitted\nmysql_1                | 2017-09-29T18:47:00.399654Z 1 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2017-09-29T18:47:00.401053Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2017-09-29T18:47:00.431780Z 1 [Note] InnoDB: Creating shared tablespace for temporary tables\nmysql_1                | 2017-09-29T18:47:00.431868Z 1 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nmysql_1                | 2017-09-29T18:47:00.482526Z 1 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\nmysql_1                | 2017-09-29T18:47:00.483284Z 1 [Note] InnoDB: 32 rollback segment(s) are active in the temporary tablespace.\nmysql_1                | 2017-09-29T18:47:00.483598Z 1 [Note] InnoDB: 8.0.1 started; log sequence number 67976367\nmysql_1                | 2017-09-29T18:47:00.485106Z 1 [Note] InnoDB: Waiting for purge to start\nmysql_1                | 2017-09-29T18:47:00.535442Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nmysql_1                | 2017-09-29T18:47:00.536326Z 0 [Note] InnoDB: Buffer pool(s) load completed at 170929 18:47:00\nmysql_1                | 2017-09-29T18:47:00.582710Z 1 [Note] Found data dictionary with version 1\nmysql_1                | 2017-09-29T18:47:00.584940Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\nmysql_1                | 2017-09-29T18:47:00.585133Z 0 [Warning] CA certificate ca.pem is self signed.\nmysql_1                | 2017-09-29T18:47:00.586555Z 0 [Note] Server hostname (bind-address): '*'; port: 3306\nmysql_1                | 2017-09-29T18:47:00.586580Z 0 [Note] IPv6 is available.\nmysql_1                | 2017-09-29T18:47:00.586587Z 0 [Note]   - '::' resolves to '::';\nmysql_1                | 2017-09-29T18:47:00.586613Z 0 [Note] Server socket created on IP: '::'.\nmysql_1                | 2017-09-29T18:47:00.593951Z 0 [ERROR] Table 'mysql.component' doesn't exist\nmysql_1                | 2017-09-29T18:47:00.593994Z 0 [ERROR] The mysql.component table is missing or has an incorrect definition.\nmysql_1                | 2017-09-29T18:47:00.597193Z 0 [Warning] ACL table mysql.'user' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597206Z 0 [Warning] ACL table mysql.'db' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597220Z 0 [Warning] ACL table mysql.'proxies_priv' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597221Z 0 [Warning] ACL table mysql.'tables_priv' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597223Z 0 [Warning] ACL table mysql.'columns_priv' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597224Z 0 [Warning] ACL table mysql.'procs_priv' must use supported storage engine\nmysql_1                | 2017-09-29T18:47:00.597252Z 0 [ERROR] mysqld: Column count of mysql.user is wrong. Expected 47, found 45. The table is probably corrupted\nmysql_1                | 2017-09-29T18:47:00.597494Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-09-29T18:47:00.597513Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-09-29T18:47:00.597544Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-09-29T18:47:00.597559Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-09-29T18:47:00.597565Z 0 [ERROR] Missing system table mysql.global_grants; please run mysql_upgrade to create it\nmysql_1                | 2017-09-29T18:47:00.597700Z 0 [Warning] Could not load mysql.role_edges and mysql.default_roles tables. ACL DDLs will not work unless mysql_upgrade is executed.\nmysql_1                | 2017-09-29T18:47:00.602202Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1                | 2017-09-29T18:47:00.603138Z 0 [Warning] System table 'func' is expected to be transactional.\nmysql_1                | 2017-09-29T18:47:00.609780Z 0 [ERROR] Incorrect definition of table performance_schema.setup_actors: expected column 'ROLE' at position 2 to have type char(32), found type char(16).\nmysql_1                | 2017-09-29T18:47:00.618478Z 0 [ERROR] Column count of performance_schema.events_statements_summary_by_digest is wrong. Expected 32, found 29. The table is probably corrupted\nmysql_1                | 2017-09-29T18:47:00.619384Z 0 [ERROR] Native table 'performance_schema'.'events_statements_histogram_global' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.619601Z 0 [ERROR] Native table 'performance_schema'.'events_statements_histogram_by_digest' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.624034Z 0 [ERROR] Native table 'performance_schema'.'events_errors_summary_by_user_by_error' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.624160Z 0 [ERROR] Native table 'performance_schema'.'events_errors_summary_by_host_by_error' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.624298Z 0 [ERROR] Native table 'performance_schema'.'events_errors_summary_by_account_by_error' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.624396Z 0 [ERROR] Native table 'performance_schema'.'events_errors_summary_by_thread_by_error' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.624515Z 0 [ERROR] Native table 'performance_schema'.'events_errors_summary_global_by_error' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.628294Z 0 [ERROR] Native table 'performance_schema'.'data_locks' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.628500Z 0 [ERROR] Native table 'performance_schema'.'data_lock_waits' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.629624Z 0 [ERROR] Column count of performance_schema.replication_connection_status is wrong. Expected 20, found 11. The table is probably corrupted\nmysql_1                | 2017-09-29T18:47:00.630471Z 0 [ERROR] Column count of performance_schema.replication_applier_status_by_coordinator is wrong. Expected 15, found 6. The table is probably corrupted\nmysql_1                | 2017-09-29T18:47:00.630858Z 0 [ERROR] Column count of performance_schema.replication_applier_status_by_worker is wrong. Expected 16, found 8. The table is probably corrupted\nmysql_1                | 2017-09-29T18:47:00.631243Z 0 [ERROR] Native table 'performance_schema'.'replication_applier_filters' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.631372Z 0 [ERROR] Native table 'performance_schema'.'replication_applier_global_filters' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.634042Z 0 [ERROR] Native table 'performance_schema'.'variables_info' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.634174Z 0 [ERROR] Native table 'performance_schema'.'persisted_variables' has the wrong structure\nmysql_1                | 2017-09-29T18:47:00.635408Z 0 [Note] mysqld: ready for connections.\nmysql_1                | Version: '8.0.1-dmr'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\n^CGracefully stopping... (press Ctrl+C again to force)\nStopping laradock_mysql_1 ... done\n\nif I change anything in the .env file (e.g. version from 8.0 to 5.7) and rebuild I get the same as @medz \n. ok for me the problem was old databases from existing projects... I changed DATA_SAVE_PATH in the .env file from \n\nDATA_SAVE_PATH=~/.laradock/data\n\nto \n\nDATA_SAVE_PATH=~/.laradock//data\n\nfor this specific project and now everything works... It seems like when you \"up\" mysql container it loads all the databases from all the projects and if you have some mysql 5.6 databases it fails because of breaking changes in mysql 5.7 (more strict rules...). ",
    "steinkel": "The provided link is 404 now, but the fix worked for me when dealing with a similar issue in a .gitlab-ci.yml file, Thanks!. ",
    "andr2k": "Possibly, something is wrong with my docker configuration, because even a pure docker example does not work as expected: \ndocker run --rm -it -v ~/.bash_history:/root/.bash_history ubuntu /bin/bash\nSource: https://docs.docker.com/engine/tutorials/dockervolumes/#mount-a-host-file-as-a-data-volume. This it is not a bug: https://github.com/docker/docker/issues/31689. ",
    "nckrtl": "I did the first command:\n```\nNMBP:laradock nckrtl$ docker system prune\nWARNING! This will remove:\n    - all stopped containers\n    - all volumes not used by at least one container\n    - all networks not used by at least one container\n    - all dangling images\nAre you sure you want to continue? [y/N] y\nDeleted Volumes:\nlaradock_minio\nlaradock_mongo\nlaradock_phpmyadmin\nlaradock_aerospike\nlaradock_caddy\nlaradock_redis\nlaradock_elasticsearch-data\nlaradock_elasticsearch-plugins\nlaradock_mysql\nlaradock_rethinkdb\nlaradock_mariadb\nlaradock_memcached\nlaradock_neo4j\nlaradock_postgres\nlaradock_sessions\nDeleted Images:\ndeleted: sha256:92fbbd5e9790f11f8dbead393e3a89c08ed9fd2337924ef2d1167b3241be2280\ndeleted: sha256:ddf3c3ea3eecdd592d27b03bd9de9dbb8c6d37cd99f63484fd7a228da529b342\ndeleted: sha256:79fb343876a8a5e7e65942546a2ddfe98a6773fbab52ce55581831fd95e43eb3\ndeleted: sha256:f2bfb57986434d7833a08ab9d83ad07669f2ac34d11949e8f5c70929043c5c76\ndeleted: sha256:0093053a691ed63118cec6e5d6f75838fb7a70811eea8308f6f99e9a6762a91c\ndeleted: sha256:19c3b89737a46e52e06d9b8a48551c46ed521bafe7b5c7dab03b54a4b4c83d1b\ndeleted: sha256:d27639f11210b5b92b4cc45e427861b1cecf0773c075c3095d6e16ccfb9f6f1c\ndeleted: sha256:20297fae75b06631f5ed18857fe310e1589a2604d8c762cb394a81ea53c63b6b\ndeleted: sha256:e9df0b9dbb26c7067647e7dfc88c4feea34c85139eb6c7e874f72caf19755e3c\ndeleted: sha256:510c48c626b57252809fefd85e3c2d4489153afbddf7b9b802dcf7a1842c2750\ndeleted: sha256:0d1dbacd4c3b9d9344edccc75036a0a5713363a081cde104f515328f0d3be14c\ndeleted: sha256:6651069390731a947c7f107d0ebe3cb9369b3a006f61e404f8e1d7d08a667988\ndeleted: sha256:02f81ff887d33b76b0d0c75b97fd30ea632b301b63cc9e9ebf659385731806e9\ndeleted: sha256:9572470373ac1e9922f8dedb436c4e69ecf73d0cf98d0370f6ccaa0e13923eef\ndeleted: sha256:14e8ed390dcfde380e8702418bb33d4663def39c7ac0dbd92e2a99744b2472c7\ndeleted: sha256:b1304d874228e472fef717cbb5076350f6ea5a10065931d53a9a43f0ec8477cf\ndeleted: sha256:7803294fe02f507c093aa56b329ab5d4c5d36606e1ca38f8d2ca31fcb29dc04e\ndeleted: sha256:8c6ca11c85ecc3cceb9cff75327984592b6e7c087a5d3d70a9e7416fbabbbb6b\ndeleted: sha256:27bdc63d3f9b9ade730351409deaba1aaab5fd1df4538114ee0b4ebe98f72a92\ndeleted: sha256:df36224d842cc4b96b2b5fca456a6edaba97304300a3e8147c66ecef8ec1b607\ndeleted: sha256:efd3d5818bcca322d2c6f9ed917d9c187b435639f71ae5c6188fadfcdf680794\ndeleted: sha256:422a17954d3fbea87117d5be942a363a1324a1043d38de856785d6ec814ef95a\ndeleted: sha256:2a260194455b03d0c60fef6af914438bb4d8f4db65d5679981ad5a1b1199a530\ndeleted: sha256:9e2b2421df31221bc264d3e350a6e9a9c506677e62c77153f91f371795edcc5d\ndeleted: sha256:8e8e67f15a293da12afa4fdd5f684b681d663dc63961836197aff8ab769420e9\ndeleted: sha256:4f44ed5f8009ded2dc478c5e6a6ec95d48401dc6ec6c9ae44b4628387ef628c9\ndeleted: sha256:ea7ab15a16041588d2a537478fa7d1e0a09ced744e8507cc26376e67283e2d15\ndeleted: sha256:6e59392a5777d0625f63ed2a4b4558a9e93acfb1ee99024b6a47c3f8e30b5ad6\ndeleted: sha256:08c1515aab0dea33285e5b4e914640063a30199363af84d003fb796eb3a6d073\ndeleted: sha256:24ef6e375b9bd7969cfd4382093767e600f90b1df40db230bb7f288e88355b6a\ndeleted: sha256:b2202879eb5fdc4a2c08e2799cba538475f148a50551b46b6fcfd2e51804a7b7\ndeleted: sha256:b5e7c599e0fa1867b903d057bce53af6b9fc24e478f4b587a0179f254821f020\ndeleted: sha256:b999e482eb38143b56ee9490f85c723bc2bea179e9db4a1342eea3366443add3\ndeleted: sha256:53372bf09723400b74bc81659be343d5cdb2fc84ce17540b4dd94a6c1ae1b033\ndeleted: sha256:5b1627b0ebf09a43eeff8b34de21acbad5962881f092eb1dd19448170812a5ff\ndeleted: sha256:b13f8d920879368667f0a110d0c65401f5f9fbabbd7d24c085d116fac65cbbba\ndeleted: sha256:eb2c4abc2109ac052aeb47320d72d664f38a4f8a6dbe7332a379ed09548fb240\ndeleted: sha256:71c8e4e9c5cc8b91b9539b4b19fa1cafb76882182fdca3b39d5b4551593eb872\ndeleted: sha256:7ef99838a8959b476e7876d655ff8be186aee199177bba9fcee6a3d698295238\ndeleted: sha256:9fb452a97fed13ad66b0b3349158dc95c289f0a648d675e63d85dedc748ed01f\ndeleted: sha256:9e7600c89dfd27edff5ed5c264c3397f3f0897e0ea52a03786f0a4b239aef6f3\ndeleted: sha256:7081a118d0a2e1dd0a2c291f399fa6978d0a981185d0c10b0776bc073f82cc4f\ndeleted: sha256:ad570cec4f18011b8c559a02f8dfca31dfefeb562f07af9771462b9d34aec631\ndeleted: sha256:8d9123645f8a7b092517dd256b6b0f839fe98628c40dc7108e0632da5f2da178\ndeleted: sha256:b7f778ac44b64a6562a692393694d287bd4a4a261f7030d8fbc871fcddff3a17\ndeleted: sha256:f82c9b1a8e167cf66ca62f7296469d954ae8bc7572fe28e8a8454d9d93cb0838\ndeleted: sha256:befbe827327a36dc5b1fe10718ab300464d8f0b84b96951c8e8f7148f5e2a70b\ndeleted: sha256:32e6ad45c667c203d84a285cb262be1046825f1da257522cf85e799848f27ced\ndeleted: sha256:b457af1fd842cf4cf546cf4d4d272146bb23cfbe4f0f56f713e334739d388598\ndeleted: sha256:979ea709eb758f00a669623d362103a0dc076ea3b85f7f234d428bbcdb1edd61\ndeleted: sha256:846fe9eee3791564c4443fd07c6066bcee0d318c739057022f71b348ca2a4b9a\ndeleted: sha256:e2ef9a7432924a1b658405b05b51ece72778f418491626dfda7dd1bb25276375\ndeleted: sha256:f64cc014f62a6ea37005b1b741a58bde868f3d80a83b7b9bc416429280f70490\ndeleted: sha256:7b4f695603aa0cea26ef67fd4e5288f9f7c9bb3285e4d492d21fd97d9b8b206c\ndeleted: sha256:7c6bf5af2c90cf5f53406c3fedfa1b01f91534e4727d829ab44997d8667e9ce9\ndeleted: sha256:a03b805ed7311a32ac44d08e35033b0c426ebb57cc3843834080e7ca13b96b68\ndeleted: sha256:aebecd201bda9d57b88a0d57951c0f9c6395c60442d3c1f23f4f0fca1935e972\ndeleted: sha256:2b63a6efb95eda56c04b083b177021f65328c1d965eecf814628ffa8fa44d007\ndeleted: sha256:06689f24f9ee79481839410bfe9c2ae78f334ca1a7d23b20dfb64104522f18c6\ndeleted: sha256:f943db8d05d7879dca0976de3cc89cf60d97d4837997c1326aea06e377dc817d\ndeleted: sha256:1ba912a696cfeee69ad560e8bfb12590c3f418ada358f444e1962ba35c5d0bf7\ndeleted: sha256:e43cda0d3fbbaddfe0346ac17a86816ea2e5eeb8be2600ca57200c4474628775\ndeleted: sha256:7e8440e78295512e829be9fa5e1c91a7c9113fb056d02bc8f0175f3f190a3e92\ndeleted: sha256:e20274d6d62b70100acc8d4c3dec8276c0d22077a445e66f779f1cd7ac39a2ea\ndeleted: sha256:15e96c731f3b5abe89c7c4006658fce7c95829e200323c761fd26f7ff3befa80\ndeleted: sha256:2046fb58d066e7665132ba3a97b0b78a175756eeac2b509f763e71cb097b2a20\ndeleted: sha256:a002995824261c3a0de281b15370eae47f42a2437225ec12cb33df3c33dd2ccc\ndeleted: sha256:b5be2bd5aa323b202e16a1a1b75ac9f1c75cc7768ed46c965e7ca076355eacd1\ndeleted: sha256:cfa77c71250cf99631e4885129faffa5be8ecb0939b1c4fd66fa6fa616ccdd4a\ndeleted: sha256:4ab931eed532feaa68ad06a5bb3502f279d0eac52b15300f5f6c39ea43525029\ndeleted: sha256:23621800dbb0881342dc174824ff757d93dad4441aad37ea6402bb5540878410\ndeleted: sha256:eadeb4d395c75b3c3eaa11f1db111d6a768c237e62a0bc7469edfe1fee1ec896\ndeleted: sha256:3ced569086701a902a7019f7b3e2b0164c318d75162cbd82be4f553b169d689c\ndeleted: sha256:586a46af4a15640ba3f1f3c6b7d5cd73b7bc0b60f63c39abce20c8011d87439d\ndeleted: sha256:50bade5f1974062af680b4ff36a5fb3564e759d54b947f5d40b3f0f1ca060429\ndeleted: sha256:a8248a275635db79e223b09677ca52f3b2dde448f3306e56846638efaeac17ed\ndeleted: sha256:a1fd397ba6844cd736f92c2b65ef0a79441a10503283fa9582815a502778c026\ndeleted: sha256:8e59c5c21f38ac40511125439e66e4b137d3a11497905ed9f35e05e4e026738f\ndeleted: sha256:4678544239feaa20587005b2899e3da0ff361abe0d156fcd96444d38c302841e\ndeleted: sha256:3401baf9e0d70b0aa086f799c819ebcd1472dc37ae6163a66ae941ca41025433\nTotal reclaimed space: 234.5 MB\n```\nThen i started it again with: \nNMBP:laradock nckrtl$ docker-compose up -d nginx mysql redis\nOutput:\nCreating network \"laradock_default\" with the default driver\nCreating volume \"laradock_phpmyadmin\" with local driver\nCreating volume \"laradock_rethinkdb\" with local driver\nCreating volume \"laradock_elasticsearch-plugins\" with local driver\nCreating volume \"laradock_elasticsearch-data\" with local driver\nCreating volume \"laradock_postgres\" with local driver\nCreating volume \"laradock_aerospike\" with local driver\nCreating volume \"laradock_sessions\" with local driver\nCreating volume \"laradock_redis\" with local driver\nCreating volume \"laradock_minio\" with local driver\nCreating volume \"laradock_caddy\" with local driver\nCreating volume \"laradock_mysql\" with local driver\nCreating volume \"laradock_neo4j\" with local driver\nCreating volume \"laradock_mariadb\" with local driver\nCreating volume \"laradock_memcached\" with local driver\nCreating volume \"laradock_mongo\" with local driver\nCreating laradock_applications_1\nCreating laradock_redis_1\nCreating laradock_mysql_1\nCreating laradock_workspace_1\nCreating laradock_php-fpm_1\nCreating laradock_nginx_1\nThen i checked again with ps command and now it shows up but with state exit 1 for nginx but also mysql which i cant reach anymore as well:\n```\n         Name                        Command               State            Ports          \n\nlaradock_applications_1   /true                            Exit 0                        \nlaradock_mysql_1          docker-entrypoint.sh mysql ...   Exit 1                        \nlaradock_nginx_1          nginx                            Exit 1                        \nlaradock_php-fpm_1        php-fpm                          Up       9000/tcp             \nlaradock_redis_1          docker-entrypoint.sh redis ...   Up       0.0.0.0:6379->6379/tcp \nlaradock_workspace_1      /sbin/my_init                    Up       0.0.0.0:2222->22/tcp \n```\nI tried looking into the log file but that shows log entries right before my first post, which inidicates nginx was kinda working. After the latest log entry 2 hours ago there are no new ones. The most recent one is about ssl (which i tried to install with custom domain, thats where it went wrong i think): \n2017/03/08 20:16:12 [emerg] 1#1: BIO_new_file(\"/etc/nginx/ssl/YOURLOCALDOMAIN.local.crt\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/nginx/ssl/YOURLOCALDOMAIN.local.crt','r') error:2006D080:BIO routines:BIO_new_file:no such file)\nSo i guess I need to figure out why mysql and nginx have an error 1 state\n. Ok so I got it working by starting all fresh.\ndocker-compose ps:\n```\n         Name                        Command               State                     Ports                   \n\nlaradock_applications_1   /true                            Exit 0                                          \nlaradock_mysql_1          docker-entrypoint.sh mysql ...   Up       0.0.0.0:3306->3306/tcp                 \nlaradock_nginx_1          nginx                            Up       0.0.0.0:443->443/tcp, 0.0.0.0:80->80/tcp \nlaradock_php-fpm_1        php-fpm                          Up       9000/tcp                               \nlaradock_redis_1          docker-entrypoint.sh redis ...   Up       0.0.0.0:6379->6379/tcp                 \nlaradock_workspace_1      /sbin/my_init                    Up       0.0.0.0:2222->22/tcp \n```\nHowever when I try to reach the larvel project I get this in chrome:\nThis site can\u2019t be reached\n127.0.0.1 unexpectedly closed the connection.\nHowever the nginx logs aren't showing any new log entries. Any ideas on how to debug this?\nEdit: I do know it's reachable under 127.0.0.1 because when I bring nginx down chrome says \"local2.securelogin.nu refused to connect.\" instead of \"unexpectedly closed the connection.\". I'm running on Mac\ndocker-compose.yml:\n```\nversion: '2'\nservices:\nApplications Code Container\napplications:\n    image: tianon/true\n    volumes:\n        - ../:/var/www\n\n- ../sample/:/var/www/sample\nWorkspace Utilities Container\nworkspace:\n    build:\n        context: ./workspace\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_SOAP=false\n            - INSTALL_MONGO=false\n            - INSTALL_NODE=false\n            - INSTALL_YARN=false\n            - INSTALL_DRUSH=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n            - INSTALL_V8JS_EXTENSION=false\n            - COMPOSER_GLOBAL_INSTALL=false\n            - INSTALL_WORKSPACE_SSH=false\n            - INSTALL_LARAVEL_ENVOY=false\n            - INSTALL_DEPLOYER=false\n            - INSTALL_LINUXBREW=false\n            - INSTALL_MC=false\n            - PUID=1000\n            - PGID=1000\n            - NODE_VERSION=stable\n            - YARN_VERSION=latest\n            - TZ=CET\n    volumes_from:\n        - applications\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    ports:\n       - \"2222:22\"\n    tty: true\n\nPHP-FPM Container\nphp-fpm:\n    build:\n        context: ./php-fpm\n        args:\n            - INSTALL_XDEBUG=false\n            - INSTALL_SOAP=false\n            - INSTALL_MONGO=false\n            - INSTALL_ZIP_ARCHIVE=false\n            - INSTALL_BCMATH=false\n            - INSTALL_PHPREDIS=false\n            - INSTALL_MEMCACHED=false\n            - INSTALL_OPCACHE=false\n            - INSTALL_EXIF=false\n            - INSTALL_AEROSPIKE_EXTENSION=false\n            - CODEIGNITER=false\n        dockerfile: Dockerfile-70\n    volumes_from:\n        - applications\n    expose:\n        - \"9000\"\n    links:\n        - workspace\n    extra_hosts:\n        # IMPORTANT: Replace with your Docker Host IP (will be appended to /etc/hosts)\n        - \"dockerhost:10.0.75.1\"\n    environment:\n        # IMPORTANT: Set the Remote Interpreter entry matching name to `laravel`\n        - PHP_IDE_CONFIG=serverName=laravel\n\nNginx Server Container\nnginx:\n    build:\n        context: ./nginx\n        args:\n            - PHP_UPSTREAM=php-fpm\n    volumes_from:\n        - applications\n    volumes:\n        - ./logs/nginx/:/var/log/nginx\n        - ./nginx/sites/:/etc/nginx/sites-available\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nApache Server Container\napache2:\n    build:\n        context: ./apache2\n        args:\n            - PHP_SOCKET=php-fpm:9000\n    volumes_from:\n        - applications\n    volumes:\n        - ./logs/apache2:/var/log/apache2\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n    links:\n        - php-fpm\n\nHHVM Container\nhhvm:\n    build: ./hhvm\n    volumes_from:\n        - applications\n    expose:\n        - \"9000\"\n    links:\n        - workspace\n\nMinio Container\nminio:\n    build: ./minio\n    volumes:\n        - minio:/export\n    ports:\n      - \"9000:9000\"\n    environment:\n      MINIO_ACCESS_KEY: access\n      MINIO_SECRET_KEY: secretkey\n\nMySQL Container\nmysql:\n    build:\n        context: ./mysql\n        args:\n            - MYSQL_DATABASE=homestead\n            - MYSQL_USER=homestead\n            - MYSQL_PASSWORD=secret\n            - MYSQL_ROOT_PASSWORD=root\n    volumes:\n        - mysql:/var/lib/mysql\n    ports:\n        - \"3306:3306\"\n\nMariaDB Container\nmariadb:\n    build: ./mariadb\n    volumes:\n        - mariadb:/var/lib/mysql\n    ports:\n        - \"3306:3306\"\n    environment:\n        MYSQL_DATABASE: homestead\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n\nPostgreSQL Container\npostgres:\n    build: ./postgres\n    volumes:\n        - postgres:/var/lib/postgresql/data\n    ports:\n        - \"5432:5432\"\n    environment:\n        POSTGRES_DB: homestead\n        POSTGRES_USER: homestead\n        POSTGRES_PASSWORD: secret\n\nPostgreSQL PostGis Container\npostgres-postgis:\n    build: ./postgres-postgis\n    volumes:\n        - postgres:/var/lib/postgresql/data\n    ports:\n        - \"5432:5432\"\n    environment:\n        POSTGRES_DB: homestead\n        POSTGRES_USER: homestead\n        POSTGRES_PASSWORD: secret\n\nNeo4j Container\nneo4j:\n    build: ./neo4j\n    ports:\n        - \"7474:7474\"\n        - \"1337:1337\"\n    environment:\n        - NEO4J_AUTH=homestead:secret\n    volumes:\n        - neo4j:/var/lib/neo4j/data\n\nMongoDB Container\nmongo:\n    build: ./mongo\n    ports:\n        - \"27017:27017\"\n    volumes:\n        - mongo:/data/db\n\nRethinkDB Container\nrethinkdb:\n    build: ./rethinkdb\n    ports:\n        - \"8090:8080\"\n    volumes:\n        - rethinkdb:/data/rethinkdb_data\n\nRedis Container\nredis:\n    build: ./redis\n    volumes:\n        - redis:/data\n    ports:\n        - \"6379:6379\"\n\nAerospike c Container\naerospike:\n    build: ./aerospike\n    volumes_from:\n        - workspace\n    volumes:\n        - aerospike:/opt/aerospike/data\n    ports:\n        - \"3000:3000\"\n        - \"3001:3001\"\n        - \"3002:3002\"\n        - \"3003:3003\"\n\nMemcached Container\nmemcached:\n    build: ./memcached\n    volumes:\n        - memcached:/var/lib/memcached\n    ports:\n        - \"11211:11211\"\n    links:\n        - php-fpm\n\nBeanstalkd Container\nbeanstalkd:\n    build: ./beanstalkd\n    ports:\n        - \"11300:11300\"\n    privileged: true\n    links:\n        - php-fpm\n\nRabbitMQ Container\nrabbitmq:\n    build: ./rabbitmq\n    ports:\n        - \"5672:5672\"\n        - \"15671:15671\"\n        - \"8080:15672\"\n    privileged: true\n    environment:\n        RABBITMQ_DEFAULT_USER: guest\n        RABBITMQ_DEFAULT_PASS: guest\n    links:\n        - php-fpm\n\nBeanstalkd Console Container\nbeanstalkd-console:\n    build: ./beanstalkd-console\n    ports:\n        - \"2080:2080\"\n    links:\n        - beanstalkd\n\nCaddy Server Container\ncaddy:\n    build: ./caddy\n    ports:\n        - \"80:80\"\n        - \"443:443\"\n        - \"2015:2015\"\n    volumes_from:\n        - applications\n    volumes:\n        - ./caddy/Caddyfile:/etc/Caddyfile\n        - ./logs/caddy:/var/log/caddy\n        - caddy:/root/.caddy\n    links:\n        - php-fpm\n\nphpMyAdmin Container\nphpmyadmin:\n    build: ./phpmyadmin\n    environment:\n        PMA_ARBITRARY: 1\n        MYSQL_USER: homestead\n        MYSQL_PASSWORD: secret\n        MYSQL_ROOT_PASSWORD: root\n    ports:\n        - \"8080:80\"\n    links:\n        # for mysql container\n        - \"mysql:db\"\n        # for mariadb container\n        # - \"mariadb:db\"\n\npgAdmin Container\npgadmin:\n    build: ./pgadmin\n    ports:\n        - \"5050:5050\"\n    links:\n        - postgres\n\nElasticSearch Container\nelasticsearch:\n    build: ./elasticsearch\n    volumes:\n        - elasticsearch-data:/usr/share/elasticsearch/data\n        - elasticsearch-plugins:/usr/share/elasticsearch/data\n    ports:\n        - \"9200:9200\"\n        - \"9300:9300\"\n    links:\n        - php-fpm\n\nSelenium Container\nselenium:\n    build: ./selenium\n    ports:\n        - \"4444:4444\"\n    volumes:\n        # see https://github.com/SeleniumHQ/docker-selenium#running-the-images\n        - /dev/shm:/dev/shm\n\nVolumes Setup\nvolumes:\n    mysql:\n        driver: \"local\"\n    postgres:\n        driver: \"local\"\n    memcached:\n        driver: \"local\"\n    redis:\n        driver: \"local\"\n    neo4j:\n        driver: \"local\"\n    mariadb:\n        driver: \"local\"\n    mongo:\n        driver: \"local\"\n    minio:\n        driver: \"local\"\n    rethinkdb:\n        driver: \"local\"\n    phpmyadmin:\n        driver: \"local\"\n    aerospike:\n        driver: \"local\"\n    caddy:\n        driver: \"local\"\n    elasticsearch-data:\n        driver: \"local\"\n    elasticsearch-plugins:\n        driver: \"local\"\n    sessions:    ## nothing is connected to this (- ./data/sessions:/sessions)\n        driver: \"local\"\n```\nnginx.conf:\n```\nuser www-data;\nworker_processes 4;\npid /run/nginx.pid;\ndaemon off;\nevents {\n  worker_connections  2048;\n  multi_accept on;\n  use epoll;\n}\nhttp {\n  server_tokens off;\n  sendfile on;\n  tcp_nopush on;\n  tcp_nodelay on;\n  keepalive_timeout 15;\n  types_hash_max_size 2048;\n  client_max_body_size 20M;\n  include /etc/nginx/mime.types;\n  default_type application/octet-stream;\n  access_log /var/log/nginx/access.log;\n  error_log /var/log/nginx/error.log;\n  gzip on;\n  gzip_disable \"msie6\";\n  include /etc/nginx/conf.d/.conf;\n  include /etc/nginx/sites-available/;\n  open_file_cache max=100;\n  charset UTF-8;\n}\n```\ndefault.conf:  (local.flashalight.com) is my custom domain which I also set up in my /etc/hosts file to point towards 127.0.0.1\n```\nserver {\nlisten 80 default_server;\nlisten [::]:80 default_server ipv6only=on;\n\nserver_name local.flashalight.com;\nroot /var/www/public;\nindex index.php index.html index.htm;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k; \n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\n}\n```\n. ",
    "sl5310": "facing the same issue This site can\u2019t be reached. ",
    "woutervu": "I pulled laradock yesterday and ran into the same issue on Windows 10. While spinning up my containers it would list Nginx:\n\n$ docker-compose up -d nginx mysql\nStarting laradock_mysql_1 ...\nStarting laradock_applications_1 ...\nStarting laradock_mysql_1\nStarting laradock_applications_1 ... done\nStarting laradock_workspace_1 ...\nStarting laradock_workspace_1 ... done\nStarting laradock_php-fpm_1 ...\nStarting laradock_php-fpm_1 ... done\nStarting laradock_nginx_1 ...\nStarting laradock_nginx_1 ... done\n\nBut the nginx container would not show up in the list (docker ps). I checked with netstat if anything was hogging the ports, switched up the Nginx ports just to be sure, but no cigar. I reset docker to factory defaults, setup my shared drives BEFORE spinning up any containers and tried again. Nginx container is running now.\nI have no idea what may have caused this though.\n  . ",
    "kichetof": "Same issue here (Docker version 17.05.0-ce run on Synology NAS with DSM 6.1.4-15217 Update 5)\n\n$ docker-compose up -d nginx mysql\nCreating network \"laradock_default\" with the default driver\nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating laradock_applications_1 ... \nCreating laradock_mysql_1 ... \nCreating laradock_applications_1\nCreating laradock_applications_1 ... done\nCreating laradock_mysql_1 ... done\nCreating laradock_workspace_1 ... done\nCreating laradock_php-fpm_1 ... \nCreating laradock_php-fpm_1 ... done\nCreating laradock_nginx_1 ... \nCreating laradock_nginx_1 ... done\n\nnginx start and stop unexpectedly (from command or Docker GUI; but no log anywhere).\nMy .env differences:\n\n$ diff -f env-example .env \nc8\nAPPLICATION=../test/\nc23\nDATA_SAVE_PATH=/volume1/docker/laradock/data\nc36\nDOCKER_HOST_IP=172.17.0.1\nc126 127\nNGINX_HOST_HTTP_PORT=8081\nNGINX_HOST_HTTPS_PORT=8082\n\nI runned nginx:alpine manually from Docker GUI and it works fine. Maybe a bug in the Dockerfile from laradock ?. I found some logs:\n\n2018/01/08 21:44:20 [emerg] 1#1: invalid port in upstream \":\" in /etc/nginx/conf.d/upstream.conf:1\n\nIt seems that Dockerfile doesn't contain ENV after ARG, like:\nARG PHP_UPSTREAM_CONTAINER=php-fpm\nENV PHP_UPSTREAM_CONTAINER ${PHP_UPSTREAM_CONTAINER}\nARG PHP_UPSTREAM_PORT=9000\nENV PHP_UPSTREAM_PORT ${PHP_UPSTREAM_PORT}\nNow nginx start :). ",
    "GimmyHchs": "ok, I'll try to update the docs later. thx.. ",
    "samijnih": "I was updating the docker host file and not my mac host file.. I already did it but it doesn't solve the problem :/. On the Ubuntu repo, it seems to be PHP 7.1.7. \nMaybe you could fetch this last version according to the current Ubuntu architecture?\nhttps://ibb.co/dGS3n5. @hominglee thanks, but I switched on postgresql haha. Why does the travis build failed?. ",
    "ghulam-mustafa": "Still it gives error. . ",
    "evantolorio": "Hi @ghulam-mustafa. Did you put the IP address of your digital ocean machine on your /etc/hosts file as what @thorerik suggested?. Hi @stevesgit.\nI think your code should be RUN if [ ${INSTALL_SWOOLE} = true ]; \nrather than RUN if [ ${INSTALL_SWOOLE} = false ]; to enter the block statement of installing swoole.. I tried changing line 5 to something like this:\ncommand=php /var/www/<app_name>/artisan queue:work --sleep=3 --tries=3 --daemon\nand it runs. However, it enters into fatal state after many spawn retries. If someone hasn't found a solution yet, maybe this could help. You should edit the php-worker/supervisord.conf file to whatever your system architecture is set up.\nIn my case, since I use Redis queue driver and have a multiple projects setup, \ncommand=php /var/www/artisan queue:work --sleep=3 --tries=3 --daemon\nwould be\ncommand=php /var/www/<project_name>/artisan queue:work redis --sleep=3 --tries=3 --daemon\nIt worked for me. :)\n[edit] More:\nThere's a need to install Redis in the container as well. I added these lines in my Dockerfile:\n```\nInstall Redis\nARG INSTALL_PHPREDIS=false\nENV INSTALL_PHPREDIS ${INSTALL_PHPREDIS}\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis extension\n    pecl install -o -f redis \\\n    && rm -rf /tmp/pear \\\n    && docker-php-ext-enable redis \\\n;fi\n```\n. ",
    "endingman": "oh the pics is broken\u3002\n. ",
    "baskan": "im having difficulty with supervisorctl commands the way we build php-worker from \"php:-alpine\" cannot send commands like: \n\ndocker-compose run php-worker supervisorctl restart xyz\n\nwhich is super convenient when you change files and need to restart workers itself. any suggestions or hacks on this?. @cjmaxik thanks for the response, that will do for most people! \nbut in my case; I really need to restart (I'm booting up a reactphp daemon with supervisor to be exact). ",
    "artemzi": "@mikeerickson Not sure how to reproduce this case. This command call docker-compose inside laradock folder and there is no matter how much docker projects you have in your system. Maybe I don't understand something?. @mikeerickson And again did you try to reproduce it before report that it can raise a bug?  I don't know how to explain this and I think that will be better leave it as is. If you think it can cause a problem -ok. But cases which you have described is impossible at all :)\nexample:\n1) Any project with laradock inside:\n - docker-compose up -d nginx\n - laradock up -d nginx here will do nothing for this project and this is just mean cd ~/laradock && docker-compose up -d nginx \n2) project wich configured for use global laradock:\n -  laradock up -d nginx from any place and there is no matter do you have docker-compose.yml or not.\n - if you call here  docker-compose up -d nginx -you do something wrong.\nP.S. I think you don't understand simple thing, at first homestead also can be used not only like global stuff, but also for each project separately. If you call docker-compose <anything> yes it will call it based on docker-compose.yml in same folder, but if you use command that i have propose you never call docker-compose <anything> for projects (only if you need it and set up another laradock instance, here you will use it as always), all that you do is call laradock <anything>. This is the same if you call two commands:\n1 cd ~/laradock\n2 docker-compose <anything>\nPlease before report a problem try to reproduce this problem and give a little description for steps which must be done (because as you described it cannot be reproduced and you don't have any problem).\nAnd yes this is not really global thing. It just one laradock set up for multiple projects. I call it global only because use it only in global context. But you can have two or three global with laradock1 && laradoc2 && laradock3 main idea here that you have docker-compose for each global set up available from any place. \n- laradock up -d nginx do simple thing use docker-compose in context of ~/laradock folder\n- otherdock up -d nginx do simple thing use docker-compose in context of ~/otherdock folder\n- docker-compose -up -d nginx do use docker-compose in context of current dir and ./docker-compose.yml. Not sure maybe better notice that cd ~/laradock must be a path of cloned repo.. ",
    "akajack": "No, out laradock works perfectly, in different environments.\nTo find out if it was a code problem or not, I tried to make a simple php page, but it does not work. And the file is a simple php page with only the calls necessary imap_\nThe same code with Laravel both the php file, out Laradock, work properly without problems.\nThe php page code is:\n```\n<?php\n$mail_server = 'imaps.myhost.com';\n$mail_port = 993;\n$mail_username = 'info@myhost.com';\n$mail_password = '43n345h10Vxuch08ffssd8wxR';\n$mail_folder = 'INBOX';\necho \"\".$mail_username.\" on \".$mail_server.\"\\n\\n\" ;\n$mbox = imap_open(\"{\".$mail_server.\":\".$mail_port.\"/imap/ssl}$mail_folder\", $mail_username, $mail_password) or die(\"Error opening mailbox: \".imap_last_error());\n$mailboxheaders = imap_headers($mbox);\nif ($mailboxheaders == false) {\n    echo \"\".$mail_folder.\" is empty.\\n\\n\";\n} else {\n    echo \"\".$mail_folder.\"\\n\" ;\n    echo \"\\n\" ;\n    $msgno = 0;\n    foreach ($mailboxheaders as $val) {\n        $msgno++;\n        echo \"  \".$val .\"\\n\";\n    }\n    echo \"\\n\\n\" ;\n}\nimap_close($mbox);\n```. Yes yes @thorerik....the data are fake, thanks ;)\nNow I try as you suggested and let you know if it works.\nThanks :). ",
    "mhetreramesh": "Ok, let us know once this issue is fixed. Thanks. Now I'm getting below error\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (62e707fb876e45ff10b073cbaecb134bbb95e94849e27cbaa114db5e8bb4c78e): Error starting userland proxy: Bind for 0.0.0.0:80: unexpected error (Failure EADDRINUSE)\nERROR: Encountered errors while bringing up the project.. No luck yet, now I'm getting below errors. (on docker-compose build --no-cache & docker-compose up -d nginx mysql redis beanstalkd )\nWARNING: The WORKSPACE_INSTALL_YARN variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_DRUSH variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_AEROSPIKE_EXTENSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_INSTALL_V8JS_EXTENSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_COMPOSER_GLOBAL_INSTALL variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_WORKSPACE_SSH variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_LARAVEL_ENVOY variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_MC variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_PUID variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_PGID variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_NODE_VERSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_TIMEZONE variable is not set. Defaulting to a blank string.\nWARNING: The MEMCACHED_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The BEANSTALKD_HOST_PORT variable is not set. Defaulting to a blank string.\nERROR: The Compose file './docker-compose.yml' is invalid because:\nservices.memcached.ports is invalid: Invalid port \":11211\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.beanstalkd.ports is invalid: Invalid port \":11300\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":15671\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":15672\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.workspace.ports is invalid: Invalid port \":22\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.mariadb.ports is invalid: Invalid port \":3306\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.mysql.ports is invalid: Invalid port \":3306\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.apache2.ports is invalid: Invalid port \":443\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.nginx.ports is invalid: Invalid port \":443\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.selenium.ports is invalid: Invalid port \":4444\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.postgres.ports is invalid: Invalid port \":5432\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.postgres-postgis.ports is invalid: Invalid port \":5432\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":5672\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.apache2.ports is invalid: Invalid port \":80\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.nginx.ports is invalid: Invalid port \":80\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.phpmyadmin.ports is invalid: Invalid port \":80\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.minio.ports is invalid: Invalid port \":9000\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.elasticsearch.ports is invalid: Invalid port \":9200\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.elasticsearch.ports is invalid: Invalid port \":9300\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\n. ",
    "gazatem": "Same error occurring with fresh installation\n. Still same. I think docker compose can not read from .env file \nI'm using imac with zssh. I able to run other dockers without any error.. ",
    "lisabonde": "First time used under existing Laravel project, can't run docker-compose ps command.. Errors are the same as \nabove..\nWARINNG: ............\n..................................\nWARNING: The BEANSTALKD_HOST_PORT variable is not set. Defaulting to a blank string.\nERROR: The Compose file '.\\docker-compose.yml' is invalid because:\nservices.proxy.expose is invalid: should be of the format 'PORT[/PROTOCOL]'\nservices.proxy2.expose is invalid:.................................\n.................................. ",
    "harryhan24": "same error. also i did 'cp env-example .env'\nwhat you guys said not worked :-(. @winfried-van-loon it is lasted version.. i just reinstalled everything. so now it wor. so i guess that is my problem. sorry.. ",
    "valdezalbertm": "@winfried-van-loon it works!. @realhome Thank you!. ",
    "skyjerry": "The same error, because I did not execute in the laradock directory.\ud83d\ude36....... ",
    "deleugpn": "+1 here. I'm starting to study Docker and after playing with some settings I'm starting to understand what Laradock provides, which is quite incredible. Yet, I see some hard concepts I yet need to figure out to get it from local to production on Amazon regarding docker-compose and laradock .env. Stuck on this as well.. ",
    "davidtaboas": "In file php-fpm/Dockerfile-70 exists this block of code:\n```\nARG INSTALL_INTL=false\nRUN if [ ${INSTALL_INTL} = true ]; then \\\n    # Install intl and requirements\n    apt-get install -y zlib1g-dev libicu-dev g++ && \\\n    docker-php-ext-configure intl && \\\n    docker-php-ext-install intl \\\n``\nYou have to add on the end of this block;fi`:\nARG INSTALL_INTL=false\nRUN if [ ${INSTALL_INTL} = true ]; then \\\n    # Install intl and requirements\n    apt-get install -y zlib1g-dev libicu-dev g++ && \\\n    docker-php-ext-configure intl && \\\n    docker-php-ext-install intl \\\n;fi\nI made a pull request for fix this: https://github.com/laradock/laradock/pull/691\n. ",
    "phpmaple": "and it show:\nERROR: for applications  Cannot create container for service applications: create .: volume name is too short, names should be at least two alphanumeric characters\nERROR: Encountered errors while bringing up the project.. @Rozbo I solved this, you can set APPLICATION=xxx in .env file. When I run docker-compose up -d nginx mysql redis beanstalkd success, \nbut localhost did not work, it show 404, I already set map to my project. @zhangrxiang  \u4f60\u9700\u8981\u91cd\u65b0build\u4e00\u4e0bimages. ",
    "rozbo": "I meet this too.. @phpmaple ok ,I will try it, thank you very much! . ",
    "zhangrxiang": "@phpmaple \u4f46\u662f\u6211\u8fd9\u8fd8\u662f\u6709\u8fd9\u4e2a\u9519\u8bef\uff1f\n\n\n. \u8c22\u8c22\uff0c\u95ee\u9898\u89e3\u51b3\u4e86. thank you,It's my problem. I got the wrong path.\n. ",
    "brezzhnev": "@zeroc0d3 thanks for your response. I tried to change port and it works within guest machine, but when I trying to connect from host machine using psql -h localhost -p 5435 -U postgres -d postgres it returns following:\npsql: server closed the connection unexpectedly\n    This probably means the server terminated abnormally\n    before or while processing the request.\nSame connection to psql with port 5434 works fine. In really I find strange to use different local ports in containers.... @alchimik thank you! It solved my problem.. ",
    "hnquang112": "just upgraded laradock and facing with the same problem. I've just found out the solution, @zhangrxiang. I think it's a lack of documentation of env-example file. So you'll need to add an environment variable APPLICATION into your .env file\nTo me, I'm using multiple projects setting, so I added APPLICATION=... And for you, I guess it's probably APPLICATION=/var/www. Perhaps missing the .env file. ",
    "Chtheile": "add \"APPLICATION=../\" to your .env/.env-example file. ",
    "georgemr": "I am in Windows 10.  I have faced the same problem as @zhangrxiang. I have added \"APPLICATION=..\" to my .env file. But I have 4 projects in folder .. but none of the project folders are mapped in the workspace container. Folder /var/www in the workspace container has only folder laradock with 2 folders inside (logs and nginx). Please advice.. @Mvzundert the directory structure is as you indicate:\n\nBut when running the containers and conecting to workspace no folders are mapped:\n\nThe first line in .env file in laradock contains:\nAPPLICATION=..\nand docker-compose.yml contains:\napplications:\nimage: tianon/true\nvolumes:\n- ${APPLICATION}:/var/www\n. @Mvzundert its seems to be a bug in windows. I have corrected env file per your suggestion but its not working. More over I have changed docker-compose.yml to:\n- ${APPLICATION}:/var/www/dev.\nAfter recreating the containers, folder dev is created in /var/www but only folder laradock exists in /var/www/dev:\n\n. @Mvzundert the problem remains if I target each folder separately. I have inserted in my docker-compose.yml the following lines:\nvolumes:\n        #  - ${APPLICATION}:/var/www/dev\n          - ../finman:/var/www/finman\n          - ../osalp:/var/www/osalp\n          - ../pcrm:/var/www/pcrm\n          - ../pcms:/var/www/pcms\nThe folders are mapped by no files resides in them even if in the windows host all these folders contain laravel projects:\n\n. @a-h-abid COMPOSE_CONVERT_WINDOWS_PATHS=1 did the trick. Combined with APPLICATION=../ everything works fine. Thank you both @Mvzundert and @a-h-abid.. ",
    "jaasaria": ".env file exist. actually im running my app using xampp and wanted to use docker. hope someone could give idea. . ",
    "maxgaurav": "Description\nI am getting the error The Compose file './docker-compose.yml' is invalid because  after pulling the latest commit on master and then trying rebuild the workspace container. Same error for php-fpm and nginx.\nSteps to reproduce\n\nStep 1 : git pull origin master\nStep 2 : cp env-example .env\nStep 3 : Update .env file with port configurations\n\nChanges to .env\nWORKSPACE_NODE_VERSION=v6.10.0\nNGINX_HOST_HTTP_PORT=800\nNGINX_HOST_HTTPS_PORT=4430\nHere is the env-example and .env file\nenv-content.zip\nConsole Output\nsh\ndocker-compose build --no-cahce workspace \nWARNING: The PMA_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The PMA_USER variable is not set. Defaulting to a blank string.\nWARNING: The PMA_ROOT_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The PMA_DB_ENGINE variable is not set. Defaulting to a blank string.\nWARNING: The PMA_PORT variable is not set. Defaulting to a blank string.\nWARNING: The PHP_IDE_CONFIG variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_XDEBUG variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_SOAP variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_MONGO variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_ZIP_ARCHIVE variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_BCMATH variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_PHPREDIS variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_MEMCACHED variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_OPCACHE variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_EXIF variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_AEROSPIKE_EXTENSION variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_MYSQLI variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_TOKENIZER variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_INSTALL_INTL variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_DOCKER_FILE variable is not set. Defaulting to a blank string.\nWARNING: The DOCKER_HOST_IP variable is not set. Defaulting to a blank string.\nWARNING: The POSTGRES_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The POSTGRES_USER variable is not set. Defaulting to a blank string.\nWARNING: The POSTGRES_DB variable is not set. Defaulting to a blank string.\nWARNING: The POSTGRES_PORT variable is not set. Defaulting to a blank string.\nWARNING: The MINIO_PORT variable is not set. Defaulting to a blank string.\nWARNING: The NGINX_HOST_LOG_PATH variable is not set. Defaulting to a blank string.\nWARNING: The NGINX_SITES_PATH variable is not set. Defaulting to a blank string.\nWARNING: The NGINX_HOST_HTTP_PORT variable is not set. Defaulting to a blank string.\nWARNING: The NGINX_HOST_HTTPS_PORT variable is not set. Defaulting to a blank string.\nWARNING: The APPLICATION variable is not set. Defaulting to a blank string.\nWARNING: The MYSQL_DATABASE variable is not set. Defaulting to a blank string.\nWARNING: The MYSQL_USER variable is not set. Defaulting to a blank string.\nWARNING: The MYSQL_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The MYSQL_ROOT_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The MYSQL_PORT variable is not set. Defaulting to a blank string.\nWARNING: The MARIADB_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The MARIADB_PORT variable is not set. Defaulting to a blank string.\nWARNING: The MARIADB_USER variable is not set. Defaulting to a blank string.\nWARNING: The MARIADB_DATABASE variable is not set. Defaulting to a blank string.\nWARNING: The SELENIUM_PORT variable is not set. Defaulting to a blank string.\nWARNING: The RABBITMQ_DEFAULT_USER variable is not set. Defaulting to a blank string.\nWARNING: The RABBITMQ_DEFAULT_PASS variable is not set. Defaulting to a blank string.\nWARNING: The RABBITMQ_NODE_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The RABBITMQ_MANAGEMENT_HTTP_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The RABBITMQ_MANAGEMENT_HTTPS_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The PHP_SOCKET variable is not set. Defaulting to a blank string.\nWARNING: The APACHE_HOST_HTTP_PORT variable is not set. Defaulting to a blank string.\nWARNING: The APACHE_HOST_HTTPS_PORT variable is not set. Defaulting to a blank string.\nWARNING: The APACHE_HOST_LOG_PATH variable is not set. Defaulting to a blank string.\nWARNING: The ELASTICSEARCH_HOST_HTTP_PORT variable is not set. Defaulting to a blank string.\nWARNING: The ELASTICSEARCH_HOST_TRANSPORT_PORT variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_SSH_PORT variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_XDEBUG variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_SOAP variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_MONGO variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_NODE variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_YARN variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_DRUSH variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_AEROSPIKE_EXTENSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_INSTALL_V8JS_EXTENSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_COMPOSER_GLOBAL_INSTALL variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_WORKSPACE_SSH variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_LARAVEL_ENVOY variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_INSTALL_MC variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_PUID variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_PGID variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_NODE_VERSION variable is not set. Defaulting to a blank string.\nWARNING: The WORKSPACE_TIMEZONE variable is not set. Defaulting to a blank string.\nWARNING: The MEMCACHED_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The BEANSTALKD_HOST_PORT variable is not set. Defaulting to a blank string.\nERROR: The Compose file './docker-compose.yml' is invalid because:\nservices.memcached.ports is invalid: Invalid port \":11211\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.beanstalkd.ports is invalid: Invalid port \":11300\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":15671\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":15672\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.workspace.ports is invalid: Invalid port \":22\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.mariadb.ports is invalid: Invalid port \":3306\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.mysql.ports is invalid: Invalid port \":3306\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.nginx.ports is invalid: Invalid port \":443\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.selenium.ports is invalid: Invalid port \":4444\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.postgres.ports is invalid: Invalid port \":5432\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.postgres-postgis.ports is invalid: Invalid port \":5432\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.rabbitmq.ports is invalid: Invalid port \":5672\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.nginx.ports is invalid: Invalid port \":80\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.phpmyadmin.ports is invalid: Invalid port \":80\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.minio.ports is invalid: Invalid port \":9000\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.elasticsearch.ports is invalid: Invalid port \":9200\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\nservices.elasticsearch.ports is invalid: Invalid port \":9300\", should be [[remote_ip:]remote_port[-remote_port]:]port[/protocol]\n. @Mvzundert \nThanks for the help. \nI did create the .env file in the same directory as the env-example file. \nI was able to build the container after tweaking other parameters in .env file. I am still not certain why the error came. If I find the root of it I will post it here, just for info. . @Mahmoudz \nHere are the changes. \nI changed the port value of apache to 808 and 4438 in .env but I never built the apache container. I am using the Nginx container with a different port. \nI am running apache as a physical application on my mac. I did not build the apache container so had them to default to value 80 and 443 in .env file but somehow after changing them, everything worked fine.\n   . ",
    "neangkakada": "Ohhh it does not have .env file, the .env file was remove from laradock\nwith v5.0.0\nThank you for your help ^_^\nOn Mon, Mar 20, 2017 at 4:29 PM, Marius van Zundert \nnotifications@github.com wrote:\n\n@maxgaurav https://github.com/maxgaurav is the .env file in the same\ndirectory as the env-example ? These errors are generated because it's not\nreading the .env file which means all values will be set to a blank string.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/698#issuecomment-287710195,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AMnoHxzolAgbSV8HpXBL8tZDPBkeDcRyks5rnkbvgaJpZM4MiBdP\n.\n. @maxgaurav,\n\nI fixed the problem by checkout laradock to old version (v4.20.0). \nAnd docker-up works find the that version.\nI see laradock remove .env file from version 5.0.0 and I do not clear the purpose to remove it.\nI just checkout to old version then it was fixed.\n^_^. ",
    "cjmling": "I have to same problem and yeah APPLICATION key is not set but not sure what value I should set there.   For example my laravel project on my Mac is at .. Users\\USERNAME\\docker-web-project\\testproject\\ \nWhat value I should put there as APPLICATION = ?? \nThanks \n. ",
    "beadm": "Works! Thank you!. @vitoo thank you for your answer, but it's still unchanged. That did the magic! Thank you my friend @vitoo!. ",
    "CharlieTapSonin": "No luck unfortunately. As a quick bit of feedback for you guys on this, you shouldn't need to add both a Webserver and FPM into one container, in fact running multiple processes is taboo. Whilst I don't run laradock in production I run something very close to it, heres a quick break down:\nGet rid of the workspace container, it will cause more trouble than its worth. No more mounting to the host OS, this is fine in dev but destroys portability in production.\nCopy your laravel public folder into the webserver container.\nCopy your laravel project into php fpm container. Also install cron on this container but don't run it.\nThese two new images will serve all the features of laravel you need.\nCreate three services from the fpm image, one for the actual fpm process, one for the laravel scheduler (just start the container with the cron start command), one for the laravel queue (Just start the container with the  artisan queue command )\nVoila\n. What tasks are you looking to run? . I'm not particularly familiar with react so I'm not sure if these tasks need to be called for pre production packaging or they are actual tasks that get called in production?\nIf its the former then it's straight forward enough, just run them prior to copying the files into the images using the existing workspace container.\nIf its the latter then you would just have to install npm and any other dependencies in the php fpm container.\nThe key thing really is just ensuring that tools for Dev and build stay in those phases of development, it will mean that your containers stay lighter and have less surface area for attack. That being said @winfried-van-loon you guys should look into using the alpine images for most of the containers, I'm running alpine nginx alongside alpine fpm and it's saved me hundreds of mb.. @cr101 Then yeah just use the workspace container to prep the application files ready for copying into the production container, I actually do this on my CI/CD server as it saves a ton of time.. From the talks at DockerCon it looks like they're working on the issues caused from the v2 to v3 jump, but the solution is a way off. In the interim the compose file could at least be upgraded to 2.2, the new depends_on healthchecks are really useful for overcoming issues where containers still start before others (I.E. in CI Servers). By multiple projects do you mean that your laravel project actually serves more than one site? \nAssigning APP_URL to http://myproject.dev will not work unless you've configured a link on your selenium container pointing that hostname at your nginx container. PHP forwards the requests to selenium which passes that url on to chrome, chrome's DNS lookup will need to find a mapping from that url to the nginx container. I actually run multiple sites from one project and ran into this so here's the solution:\nselenium:\n      image: selenium/standalone-chrome\n      volumes:\n        - /dev/shm:/dev/shm\n      expose:\n        - \"9000\"\n      depends_on:\n        - nginx\n      links:\n        - nginx:http://myproject.dev\n        - nginx:http://secondproject.dev\n        - nginx:http://thirdproject.dev\n. Each container should really represent one running executable (So you shouldn't have fpm and cron running in the same container), so what you can do is just create another service in your compose file that is the same as php-fpm but overrides the command option to start cron. Provided you have added to cron package to the fpm image the you can either:\ncommand: bash -c \"crontab -l | { cat; echo '* * * * * /usr/local/bin/php /var/www/artisan schedule:run >> /dev/null 2>&1'; } | crontab - && cron -f\"\nor if you already have the crontab files copied in then\n```\ncommand: bash -c \"cron -f\"\n```\nThe dash f flag runs it in the foreground as cron usually runs in the background and thus the container would just stop.\n. ",
    "darkeus": "@KyawNaingTun i think you should use username default and password secret, it was specified in docker-compose.yaml on neo4j service  . ",
    "nozreh": "There's an error in the X-Debug install script that causing the other services to be installed I will close this.. ",
    "dace": "SOLVED: \nSo I got this working. What I had to do is also adjust my nginx configuration (in the laradock/nginx/nginx.conf file) by extending the keepalive_timeout 120 (originally it was set to 15). So my nginx.conf file now looks like this:\n```\nuser www-data;\nworker_processes 4;\npid /run/nginx.pid;\ndaemon off;\nevents {\n  worker_connections  2048;\n  multi_accept on;\n  use epoll;\n}\nhttp {\n  server_tokens off;\n  sendfile on;\n  tcp_nopush on;\n  tcp_nodelay on;\n  keepalive_timeout 120;\n  types_hash_max_size 2048;\n  client_max_body_size 90M;\n  include /etc/nginx/mime.types;\n  default_type application/octet-stream;\n  access_log /var/log/nginx/access.log;\n  error_log /var/log/nginx/error.log;\n  gzip on;\n  gzip_disable \"msie6\";\n  include /etc/nginx/conf.d/.conf;\n  include /etc/nginx/sites-available/;\n  open_file_cache max=100;\n  charset UTF-8;\n}\n```\nAfter doing this (and updating my laravel.ini settings from the post above), I stopped all running containers from the laradock directory by running docker stop $(docker ps -a -q) then deleted my nginx and php-fpm containers by running docker rm php-fpm and docker rm nginx. \nThen, I re-built my nginx and php-fpm containers to make sure there wasn't a weird caching issue that was causing the problem by running:\ndocker-compose build --no-cache php-fpm\ndocker-compose build --no-cache nginx\nAfterwards, I was able to upload my 70MB file. Hope this helps!. ",
    "innerspirit": "Alright. BTW the \"Upgrading Laradock\" link doesn't work. What is it supposed to point to?. ",
    "wallcrosstype": "I'm trying to report link typo but found this first so maybe here is appropriate ?\n\nVisit the Laradock-ToolBox branch. (outdated)\n\nat http://laradock.io/getting-started/#usage still point to small \"d\" url\nhttps://github.com/laradock/laradock/tree/Laradock-ToolBox\n. nope I really means http://laradock.io/getting-started/#usage\nthe anchor link in line  \"Use Laradock v3.*. Visit the Laradock-ToolBox branch. (outdated)\"\npoint to https://github.com/laradock/laradock/tree/Laradock-ToolBox (incorrect)\ninstead of https://github.com/laradock/laradock/tree/LaraDock-ToolBox\nwhile this pull suppose to already fix this, somehow in live document and branch master still incorrect. I think I know, please check commit fef6ec86b361b5d039da21b9d1b60c6deff80d25. ",
    "ben-joostens": "How exactly do you set this up in a multi-project setup as described in the docs? Not updating the path in docker-compose.yml to have it point to one of the projects' directories leads to Could not open input file: artisan. But if I do point it to a directory of one of the projects, it doesn't log any errors but nothing from the queue is being processed either.\nedit: Seems to be a redis issue:\nphp_network_getaddresses: getaddrinfo failed: Name or service not known [tcp://redis:6379]\nHowever, it worked fine in a single project setup, and if I bash into the container I can write/read to and from redis through laravel tinker.. ",
    "yangliuyu": "Got xdebug works with https://github.com/DevinY/dlaravel (https://www.youtube.com/watch?v=IdMs5LjbEX0) which not modify REMOTE_ADDR. When I open the root page of the laravel project in web browser, phpstorm prompt a remote connection(xdebug) event. But for laradock, it seems no connection started from the docker.. @novalis111 It works now, thanks \ud83d\ude04  I changed the directive orders below.\ninclude fastcgi_params;\nfastcgi_param REMOTE_ADDR \"192.168.1.51\";. ",
    "novalis111": "That's because nginx + php in dlaravel is in same docker container. In laradock the IP gets rewritten by nginx container, so php container doesn't get the correct remote address. Setting REMOTE_ADDR fixes that.. ",
    "pouya-daneshvar-freelands-it": "what should i put instead of 192.168.1.51 ? the ip address where i have the IDE ? . ",
    "garlian": "Tried the same procedure again after pulling the latest updates, no success.\nI removed container and images completely, rebuild everything from scratch but still no access. Maybe a Windows thing?\nMy process:\ndocker-compose up -d nginx mariadb\ndocker exect -it laradock_mariadb_1 bash\nmysql -u root -p default after prompt entering my credential password, which I set in my .env file\nbtw: The Dockerfile-71 in workspace has a wrong placed comment (making the build fail) in Line 13.. Okay, I tried the same solution, after some little hiccups I can now enter mariadb. But to reset to factory defaults is a little bit overkill, isn't it? I think the volume has been the Problem, since images and containers have been rebuild before. I'm not very experienced with docker, will the .env file only be loaded once during build process or everytime I boot up the container?\nI noticed that the env key MARIADB_PASSWORD won't work for default, is this normal behaviour?\nSo far thx!. The error lies in the Dockerfile-71 Line 13 in the workspace directory, the line has a wrong comment which stops docker from building. You could manually remove the comment and retry. The problem will be solved.. ",
    "wanfeiyy": "after updated to the latest version ,Still stuck\nAttaching to laradock_nginx_1\nnginx_1               | nginx: [alert] could not open error log file: open() \"/var/log/nginx/error.log\" failed (13: Permission denied)\nnginx_1               | 2017/04/06 03:44:53 [emerg] 1#1: open() \"/var/log/nginx/error.log\" failed (13: Permission denied)\nlaradock_nginx_1 exited with code 1. rebuild the container still encounter the same issue @Mahmoudz . ",
    "shailensobhee": "Tried all suggestions above - big bump. ",
    "toknsi": "open() \"/var/log/nginx/error.log\" failed  happen in laradock clone in wsl git ,do not happen in  laradock clone in powershelll git\ndocker for windows , laradock 7.0.0. ",
    "orubel": "same issue on ARM built version. I touched my nginx dir and both files (since they weren't being created) and even gave them the correct permissions. NOTHING.\nIs this a librries that isn't being included properly ? I say this because I noticed the '/var/log/nginx' dir needed to be created on Armbian/Raspbian (AKA Debian). ",
    "shemayas": "Still stuck :(\n\n. Thank you @cmpere ,\nWorked out for me.. ",
    "cmpere": "Hey, ammm\njust comment the line on nginx Dockerfile:\nfix a problem--#397, change application source from dl-cdn.alpinelinux.org to aliyun source.\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories\nthe mirror seems still broken... so. good luck. ",
    "mykolaim": "@winfried-van-loon I have got same error, so  I think will be good to fix it.. ",
    "gotrecillo": "+1\nHave the same error.\nMirror server sometimes is too slow, and original one is working fine, they hade some problems when renewing domain name but it is solved.. ",
    "kargnas": "+1\nI gave up Laradock becuase of this issue. ",
    "rlewkowicz": "This is still broke. Is this repo hard coded somewhere? Or it's just default? Like is this on alpine, or laradock?\nedit: Too, you can use this in the laradock folder:\nfor i in `grep -Ro mirrors.aliyun.com | awk -F':' '{print $1}'`; do sed -i s/mirrors.aliyun.com/dl-cdn.alpinelinux.org/g \"$i\";done\nSince whatever they added to the Dockerfile didn't work . ",
    "matt-pinder": "I am running into this issue too. Occurring to me also. ",
    "huijian222": "I am stuck here too.It's not the problem of network.. ",
    "netcraft-devops": "This has been a head scratching issue for me, but I have discovered that removing containers that I don't need solves this issue for me.. @hola56 in your docker-compose.yml file, edit volumes to become ${APPLICATION}:/var/www/[root-folder]\nAfterwards update nginx/sites/default.conf and change root directive to point to /var/www/[root-folder]/public assuming it's laravel you're developing with.\nrebuild and start your containers. ",
    "manjurulcis": "Whoever facing this issue please follow this:\nIn Windows:\nRight click on the netwrok icon and go to Network Connections and from\nthere Adaptar setting, there you will see there is bridge connection made\nfor docker, right click on it and go to properties, select to edit ipv4\naddress and add 8.8.8.8 as secondary/primary dns, it should be solved.\nFor Mac: In your network connection add a secondary DNS entry 8.8.8.8\nI had this same issue and this was solved this way.\nOn Fri, Jan 19, 2018 at 4:07 PM, Netcraft notifications@github.com wrote:\n\nThis has been a head scratching issue for me, but I have discovered that\nremoving containers that I don't need solves this issue for me.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/749#issuecomment-358975182,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEhQ86AcAlRqtGQ8I6Mkjr6KuJBT8aUnks5tMKGFgaJpZM4M0BmC\n.\n\n\n-- \nBest regards\nMd Manzurul Haque\nph : 358451835785\nLinkedin :  bd.linkedin.com/pub/manzurul-haque/14/7b3/297/\n. I am also facing the same issue while yesterday it was working too.\n\n. Just now I got it working by upgrading the docker version.. from your sample config code, DB_HOST should be DB_HOST=pgsql or 127.0.0.1. Facing same problem. Anyone knows what wrong here?. ",
    "ganl": "After commit a99281c \uff0cset CHANGE_SOURCE=false in .env . It is recommended to recheck\n\n\n. Already rebase and force update the PR. check server_name \nor\ndocker-compose exec nginx bash\nls /var/www/my-project\n. Has been removed. ",
    "partounian": "I found this link, https://sourceforge.net/p/adminer/discussion/960418/thread/082cef34/ . You might want to open up the container and update the php.ini upload_max_filesize, another alternative is to put your file into the same webserver folder as Adminer and use that option. Also, gzip your file.. Great! I did put my name as maintainer for that container, so I'm glad I could be helpful. And finally, thank you for that snippet, it'll definitely help people in the future.. To do this, go to adminer/Dockerfile and change \nFROM adminer:latest to FROM adminer:4.3.0\nAs I introduced adminer here, I hope I can help others with any problems they may be having.\n. It should be added into the docs or FAQ if there is one.. ",
    "lanphan": "FYI, latest version from Adminer Docker image already contains this setting (max 128MB, max input vars 5000, max execution time 600, max mem 1G) (link: https://github.com/TimWolla/docker-adminer/blob/9995b788b8948892a1aed163ab78796d5acaa276/4/Dockerfile ) no need to update / add more in Laradock, just remove base Adminer image and build again.. Another way is to create new log file reserved for your job under php-worker only. In supervisor.d/laravel-worker.conf, please add 2 lines below:\nredirect_stderr=true\nstdout_logfile=YOUR_PROJECT_DIRECTORY/storage/logs/worker.log. Hi,\nSorry, it's my fault to push flaw PR to this awesome project. The cause of this issue is from phusion's baseimage workspace depends on using default CMD /sbin/my_init, and that command requires root user to run it.\nThere are 2 ways to fix this, therefore I'd like to describe them here to get your advice:\n1. Set CMD = /bin/bash\n + Pros: fix issue.\n + Cons: don't have great init process phusion's baseimage offer (we don't use it now)\n\nRevert code to still have ROOT user and update document + sync.sh script\nDocument: add some note to inform user SHOULD use --user=laradock when using docker exec to prevent issue owner of log file will be changed to root if using rotated log and no new log file exists.\nadd --user=laradock for bash option, add some note for bash option\n\nThanks.. As this is required by composer command, should we move installing zip + unzip to https://github.com/laradock/workspace ?\nIn addition, would you please remove all existence of installing unzip + zip in this Dockerfile, for ex, if INSTALL_TERRAFORM = true, it'll install unzip?. @vladyslavstartsev ok, I'll take time to split it soon. @vladyslavstartsev \nPoint 2, add laradock user is now in PR https://github.com/laradock/laradock/pull/1928, please help to review, thanks\nPoint 3, add gitignore for nginx is now in PR https://github.com/laradock/laradock/pull/1929, please help to review, thanks\nAnother point, I have new PR https://github.com/laradock/laradock/pull/1930 to add new supervisor configuration to start Laravel Scheduler in php-worker.\nI'll add new PR about mysql client for php-worker later, just afraid it'll be conflict with #1928 . closed as I already created other smaller PRs for this.. What is your user id on host computer? If it's root user, it'll be a mess when running with Laradock (and normally, you'll be end up by setting 777 for whole your project's folder).\nIn case your id is different one, please check your user id by using id -u <your username>, and update it in all corresponding ***_PUID=<your user id> in .env file. It'll help your laradock user in container = your user on host computer.. would you please correct this comment?. ",
    "kp77": "@garlian Thanks. Actually, I'm fine with 7.0, just thought it would be worth reporting this, as it breaks the build process.. I'd like to add, that while the original issue still exists (all files are owned by root and it can't be changed via chown), it seems that I can use the www directory logged in as laradock without problems.\nI'm logged in as laradock, but I have write access to the files/directories owned by root, although I should not have write access according to the permission settings.. @maurosbu \n@zeroc0d3 \nI tried these, but I get the same error.. @thorerik I tried mysql but I got the same error.\n\n2005 - Unknown MySQL server host 'mysql' (-2). @zeroc0d3 Could you tell me which log process do you mean, and how I can get it?\n\nI looked at the container logs in Kitematic, but I couldn't see any related records.. ",
    "brazitech": "deleted the comments... naw it gives error \nStep 1/57 : ARG PUID=1000 ERROR: Service 'workspace' failed to build: Please provide a source image with from prior to commit. thanks @kp77 . did not work for me. still getting the same error.. ",
    "MikSDigital": "Hi! \nI am using Laradock under Ubuntu 16.04 with Docker version 17.03.1-ce, build c6d412e.\nAnd have also user/permissions problem:\n\nm@homePC:~/docker/laradock-testing/my_project_test$ ls -la\ntotal 136\ndrwxr-xr-x  9 root root  4096 apr   16 19:34 .\ndrwxrwxr-x 14 m    m     4096 apr   16 19:34 ..\ndrwxr-xr-x  4 root root  4096 apr   16 19:34 app\ndrwxr-xr-x  2 root root  4096 apr   16 19:37 bin\n-rw-r--r--  1 root root  2379 apr   16 19:34 composer.json\n-rw-r--r--  1 root root 78082 apr   16 19:34 composer.lock\n-rw-r--r--  1 root root   248 apr   16 19:34 .gitignore\n-rw-r--r--  1 root root  1065 apr   16 19:34 LICENSE\n-rw-r--r--  1 root root   978 apr   16 19:34 phpunit.xml.dist\n-rw-r--r--  1 root root  2300 apr   16 19:34 README.md\ndrwxr-xr-x  3 root root  4096 apr   16 19:34 src\ndrwxr-xr-x  3 root root  4096 apr   16 19:34 tests\ndrwxr-xr-x  5 root root  4096 apr   16 19:37 var\ndrwxr-xr-x 15 root root  4096 apr   16 19:37 vendor\ndrwxr-xr-x  3 root root  4096 apr   16 19:37 web\n\n. ",
    "gabriellucius": "Same problem here, and if I run chmod the with laradock or root user anything changes :(. ",
    "louiskareem": "Try putting what you have in DB HOST in the server section and use password & username as root.. ",
    "neuthral": "i could login with\nhost: mysql\nuser: root\npass: root. @neutt22 i have no idea, i found that out by chance, it works good after changing .env password. ",
    "neutt22": "@neuthral how come the user and password were root? it works tho! I thought it was secret as specified in the .env file of laradock.. ",
    "andersson83": "@neuthral great one, 24 hours trying to fix de issue... ufff. Thankyou. ",
    "murilolivorato": "I cant connec as well , please , ome one can help ?. I downgraded to 5.7 version . and It worked .Thanks. ",
    "ikingye": "change mysql from latest to 5.7\nand rebuild\nthen login with\nmysql + root + root. I have the same problem. How did you resolve this?. someone help?. Upgrading docker to Version 17.09.1-ce-win42 (14687), then anything works just fine.... I encounter this problem again. \nAnd I have no idea what is the reason.\nSicking of Docker-for-Windows more and more often... this fixed for me\n```\ndocker-compose down\nrm -rf ~/.laradock/data/mysql\ndocker-compose up -d mysql\n```. same. git checkout -b v6.0.1 v6.0.1\ncp env-example .env\n\u89e3\u51b3. ERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_PHPREDIS} = true ]; then     printf \"\\n\" | pecl -q install -o -f redis &&     echo \"extension=redis.so\" >> /etc/php/${PHP_VERSION}/mods-available/redis.ini &&     phpenmod redis ;fi' returned a non-zero code: 1. ",
    "CROSP": "\n@neutt22 i have no idea, i found that out by chance, it works good after changing .env password\n\nThanks, still have the same issue, resolved by changing password in .env file, however root password remained the same root. ",
    "maxkossatz": "Had the same issue:\ndowngrade mysql from 8 to 5.7 \nby setting   MYSQL_VERSION=5.7  in laradock/.env\nafter that in your .env file see the var called DATA_PATH_HOST and go to that folder, after that delete the mysql folder there and then do the docker-compose build --no-cache mysql and then docker-compose up -d mysql\nhttps://github.com/laradock/laradock/issues/1855#issuecomment-433393678. > \n\nI downgraded to 5.7 version . and It worked .Thanks\n\nHad the same issue and this worked! Thanks \ud83d\udc4d \ndowngrade mysql from 8 to 5.7 \nby setting   MYSQL_VERSION=5.7  in laradock/.env\nafter that in your .env file see the var called DATA_PATH_HOST and go to that folder, after that delete the mysql folder there and then do the docker-compose build --no-cache mysql and then docker-compose up -d mysql\nhttps://github.com/laradock/laradock/issues/1855#issuecomment-433393678. > \n\nMy dicision:\nsudo docker stop $(sudo docker ps -a -q)\nsudo docker rm $(sudo docker ps -a -q)\nsudo rm -rf ~/.laradock/data\nchanged latest on 5.7 version in .env MYSQL_VERSION\nsudo docker-compose up -d nginx mysql phpmyadmin\nlogin in PhpMyAdmin:\nserver: mysql\nlogin: root\npassword: root\n\nWas almost correct, as you dont have to stop and delete all containers and the whole data folder but just the mysql container and the mysql directory in the data folder. \nThanks anyways @AleksandrTkach ! \n. ",
    "1giba": "Try:\nsh\n$ docker exec -ti laradock_nginx_1 bash\n$ ifconfig\n(Get the ip address)\nAnd then:\nsh\n$ docker exec -ti laradock_workspace_1 bash\n$ vi /etc/hosts\n(Add ip address from laradock_nginx_1 and your host address). ",
    "shahzeb1": "So I can help with this.\nCan you give a more detailed explanation of what is to be done here?. Yes, so instead of pushing your Docker containers to Dockerhub, use EC2 Container Registry to compile your container and push it to ECR.\nHere's a helpful YouTube video.\nAlso, check out Docker on AWS basics.\nAnd deploy docker container\nIf you're looking for something a bit more tidy, consider Elastic beanstalk + Docker.. ### Some updates:\nSo I got completely fresh new Laravel app (called \"backend\") to work on it's own (without Docker) on my local Macbook. Meaning, if I cd into my backend folder and run $ ./artisan serve and visit http://127.0.0.1:8000, I can see the Laravel welcome page working just fine.\nSince I am trying to get Laradock to work with an new project, I am using method A2. \nI still see this: \n\nAnd weirdly enough, I'm still able to view app.css' contents.\nHere's what my $ docker ps looks like:\n\nPlease let me know what else I can do to help / what else I can provide. . @winfried-van-loon so you were able to re-create the bug? I'm not going crazy haha.. Celebrations are in order! (It works) \ud83c\udf89 . Just making sure that this is suppose to be here?. Also, this.. ",
    "redaBenchraa": "1 - Change the ports on the .env file :  \nNGINX\nNGINX_HOST_HTTP_PORT=4040\nNGINX_HOST_HTTPS_PORT=4043\nNGINX_HOST_LOG_PATH=./logs/nginx/\nNGINX_SITES_PATH=./nginx/sites/\n2 - Stop apache2 service\n3- Edit nginx/Dockerfile \nEXPOSE 4040 4043\n4 - If you're using a proxy, I suggest using a network which is not behind a proxy. It didn't work for me till I changed my network \n. ",
    "sameernyaupane": "also instead of changing ports, I just did \"docker container prune\" command. Since I had previous failed builds. It worked after that. . ",
    "Dayjo": "Hello, just adding my interest to the issue, also need to be able to use 7.1. \nHappy to help test if I can.. ",
    "FairHypo": "Meet same problem with laradock.\nI changed all possible options, removed containers, rebuilt it again etc...\nBut nothing is working.\nCan you help me to fix that issue?. \"Just use PHP_VERSION=70 for now.\"\nBut i need php 7.1 for my project.. upd.\nAfter last git pull a new issue become:\nTraceback (most recent call last):\n  File \"bin/docker-compose\", line 3, in <module>\n  File \"compose/cli/main.py\", line 64, in main\n  File \"compose/cli/main.py\", line 116, in perform_command\n  File \"compose/cli/main.py\", line 876, in up\n  File \"compose/project.py\", line 392, in up\n  File \"compose/project.py\", line 182, in get_services_without_duplicate\n  File \"compose/project.py\", line 170, in get_services\n  File \"compose/project.py\", line 141, in get_service\n  File \"compose/project.py\", line 608, in __init__\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 0: ordinal not in range(128)\nFailed to execute script docker-compose. \" If you use PHP_VERSION=70 it will actually install PHP 7.1\"\nhttps://i.gyazo.com/8ba404054d2b2bd000b861e7d767a981.png\nr you kiddin me? =)\nHope that today or tomorrow fixes will be helpful. Thx all for answers). ",
    "marknt15": "hi @Mahmoudz newbie here, how can I upgrade my laradock version? Our laradock is outdated and I can't use PHP 7.1. I tried changing it in the .env file and rebuilt the php-fpm container with --no-cache but it is still version 5.6 when I go inside my container and do a php -v. Thank you. ",
    "qZzQ1": "Yes it's ok, i have solved my issue whit this post :\nhttps://github.com/laradock/laradock/issues/575\nI go to rebuild my containers\nit's good for me thanks :+1: . ",
    "nugrahawahyu": "@bestlong this my command \"docker-compose up -d nginx php-fpm workspace mysql elasticsearch redis\"\nI think the problem is the php-fpm cannot resolve elasticsearch host.. @bestlong thank you, it's working now.. ",
    "wxb": "save database file\uff0ce.g:  persisted mysql/redis  data to hard disk. @a-h-abid \nno, swoole is a C extension; so don't need to configure docker-compose.yml . @a-h-abid \nsorry, I am wrong, you said is right\u3002 \ud83d\udc4d . @a-h-abid \nI add, #943. Hi, @jourdon \npecl install swoole \nThe latest version will be installed\npecl/swoole \n\nRelease 2.0.12  : Dependencies PHP Version: PHP 7.0.0 or newer\n\n\nif you want use swoole in php 5.6 environment\uff0cyou should modify laradock/php-fpm/Dockerfile-56 line 123:\npecl install swoole \\  \n->\npecl install http://pecl.php.net/get/swoole-2.0.11.tgz\n\nI'll deal with this bug later.\n. @jourdon \ud83d\udc4d . @jdxia \nI'm not sure about these questions. but I looked at swoole's release\uff1a PHP5 is no longer supported from v2.0.12\n. ",
    "tpetry": "@Mahmoudz To be honest i will have not time for a PR for several weeks because i will now have to the building of docker containers by my own as laradock was not feasible and there are a few more languages that need to be containerised.\nDoes anybody have an idea how this could be generally done without duplicating all the code? The docker devs states that they will not extend the Dockerfile language anymore, like adding include statements. And solutions like Ansible/Chef/Puppet would drastically change the orientation of the project.. ",
    "calnation": "@tpetry Take a look at rocker\nI have a question for laradock maintainers relevant to it being oriented towards development. I noticed the project is built where the application code is assumed to be on the host machine, not as a container/volume container, is there an intent to give some focus on production environments? . Well, what I admire most about Laradock is how it takes into consideration many scenarios out there (at least in development env for now) and simplifies adapting to them. So I'd say you can start by planning things out here for the production env and getting others input, scenarios and ideas for the best way possible to approach this.. Note v3 is heavily geared towards production env, e.g. there are issues with local persistence docker/compose#4379. ",
    "poor-bob": "I've been scouring the documentation and source to find a way to essentially reverse engineer laradock to package these containers for portability so I can run laradock in production on kubernetes.\n@CharlieTapSonin you seem knowledgable, may I ask for advice? I believe I have a simple use-case for Laravel: I want to use laravel in our CI/CD pipeline with Gitlab, which will re-create the Nginx & FPM containers via web hook. The problem is that Laradock doesn't seem production ready for anything other than docker-compose. Is it worth trying to make this work for my use-case or should I just start from scratch? \nAlso, for things like composer, is it best practice to run 'composer install' at build time or deployment time? Seems to be a trade-off of either larger containers or slower deployments. . ",
    "at-tienpham": "@zeroc0d3 sorry. mysql container not use \"localhost\", file .env have not MYSQL_HOST? Are you talk about phinx.yml?. @zeroc0d3 After get IP address is 172.20.0.2 from id container abf4dbe396b5. I change config \n```\npaths:\n    migrations: %%PHINX_CONFIG_DIR%%/db/migrations\n    seeds: %%PHINX_CONFIG_DIR%%/db/seeds\nenvironments:\n    default_migration_table: phinxlog\n    default_database: development\n    production:\n        adapter: mysql\n        host: localhost\n        name: production_db\n        user: root\n        pass: ''\n        port: 3306\n        charset: utf8\ndevelopment:\n    adapter: mysql\n    host: 172.20.0.2\n    name: default\n    user: root\n    pass: root\n    port: 3306\n    charset: utf8\n\ntesting:\n    adapter: mysql\n    host: localhost\n    name: testing_db\n    user: root\n    pass: ''\n    port: 3306\n    charset: utf8\n\nversion_order: creation\nBut it's not work. First time is : '172.20.0.2' and second times is : 172.20.0.2 . But not ok. . @bestlong Hi. it's not work. T.T. @bestlong Hi, i login by info phpMyadmin success. But when i run vendor/bin/phinx migrate has error above. I try\n<?php\n//echo $_SERVER['QUERY_STRING'];\n$servername = \"localhost\";\n$databasename = \"default\";\n$username = \"root\";\n$password = \"root\";\ntry {\n    $conn = new PDO(\"mysql:host=$servername;dbname=$databasename\", $username, $password);\n    // set the PDO error mode to exception\n    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    echo \"Connected successfully\"; \n    }\ncatch(PDOException $e)\n    {\n    echo \"Connection failed: \" . $e->getMessage();\n    }\n```\nin index.php and it has error in browser : Connection failed: SQLSTATE[HY000] [2002] No such file or directory. @bestlong @winfried-van-loon Thank you so much. It's work for me. \n^^. ",
    "junta1": "@zeroc0d3 I had a problem and help me with your answer, thank you.. ",
    "codeInBit": "@bestlong Thank you. Your answer helpedme.. ",
    "totymedli": "I had to add the following to my .env file:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root. ",
    "ankitjain28may": "I am unable to connect to mysql database, dont know the problem.. ",
    "cchoe1": "I tried following the Laradock documentation to setup my project, using all the recommended defaults.  I used mysql as the host, set the application dir, username default, pw secret, use docker-compose to run all the different containers (mariadb/mysql, nginx, phpmyadmin, redis, and workspace) and this kept throwing errors that 'mysql' was not a valid hostname when trying to interact with the db.\nInstead, I found a workaround which uses the CONTAINER ID instead of 'mysql' for the hostname.  I send a command to the container to see some mysql variables:\n$ docker exec -it laradock_mariadb_1 mysql -u default -psecret -e 'SHOW VARIABLES' | grep 'host'\nOR (for mysql users)\n$ docker exec -it laradock_mysql_1 mysql -u default -psecret -e 'SHOW VARIABLES' | grep 'host'\nThis then gives me the following line:\n| hostname                                               | cee76df28ce3      \nThe hostname of my mysql server was weirdly the CONTAINER ID for my mysql container, which can also be found using:\n$ docker ps -a\nFor my DB_HOST env var, I replace it with the container ID since the mysql container is, for some reason, using that as the hostname for the server.  After doing so, I can successfully create records from my application and I can also exec into my workspace container and then run 'php artisan migrate' and other commands that interact with the DB.  \nIf testing your setup, be sure to run commands from the workspace and not just the host OS.  Commands like composer work from the host OS since the project dir is mounted as a volume in the container and artisan commands might deceive you since the mysql container is exposed to the host OS but might have some weird config like mine when talking between containers.  I initially thought my project was setup fine but then I tried to insert records from my application and the connection kept failing.  Turns out I could connect fine from my host OS but when my application (that was running in the docker container) tried to insert records using my host OS credentials, it failed.  \nHere is my project's .env file for the DB creds:\nDB_CONNECTION=mysql\nDB_HOST=cee76df28ce3 <-- this is the CONTAINER ID for the mysql container (docker ps -a)\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nWarning:  this doesn't seem normal so I'm going to label this as a DIRTY WORKAROUND but it works.  I'm not well versed in Laradock's setup and frankly, I just want to make this 'just werk' so I can do more important things.  \nWarning # 2:  Rebuilding containers will change the container ID and, presumably, the hostname for the mysql server.  If you recreate the mysql container, you'll probably need to update the .env file.  Likewise, the container ID is a unique hash so it's going to vary by install--if you're working with other devs, that container ID will probably be different for everyone.  . ",
    "pbgswd": "DO NOT FORGET: you must use artisan commands from within the Laradock workspace when using Laradock & an instance of Laravel. \ndocker-compose exec -u laradock workspace bash\n// then go into your Laravel project root\nphp artisan migrate:install\n// and if your db credentials are correct, it should work fine . ",
    "feralbob": "Doh! - I didn't get to commit this earlier and it looks like it's addresses in #817. ",
    "LaurentChardin": "I could actually rebuild the image. I am closing this ticket. I will investigate on what happened.. ",
    "UniBen": "Thanks for pointing out the Laravel.ini!. Have you made sure your VM has been allocated at least 1024M?\nYou can change the allocated resources in the advanced tab of Docker:\n\n. I was referring to the memory of the docker vm, not the memory allocated in your php.ini.  It doesn't look like your script is trying to allocate more memory than available. Would it be possible to output the result of phpinfo?. ",
    "zomboo": "I am using Mac.. And I found when I changed some configs in php70.ini, something is working , something is not working.why?. php-fpm.zip\nhere is the php-fpm folder files. thank you very much.\nFinally, I have found the reason.\nBecause the laravel.ini doesn't relaod.\n I have modified display error from off to on in the laravel.ini in laradock/php-fpm/, and run \n docker-compose stop, then run docker composer up -d  nginx mysql, but when I enter the php-fpm container, I find the laravel.ini still not change, it hasn't reload or Updated. \nlaradock/php-fpm/Dockerfile-70 line 321:\nADD ./laravel.ini /usr/local/etc/php/conf.d\nCould you tell me How to update the modified ini file?\nMy document path is like this:\n/user/docker/laradock is my laradock path.\n/user/docker/webapp is my webapp path.. I try the cmd\n docker-compose up -d --force-recreate \nit works\uff01\nthanks very much!. ",
    "jonzrj": "after modified laravel.ini and try docker-compose up -d --force-recreate --build php-fpm\nit works for me. ",
    "sowork": "How do you make configuration files automatically synced\uff1f. ",
    "sefaYavuz": "The container is now running, but the command: php artisan queue:work doesn't work. It just returns the warnings that I mentioned before.. ",
    "ClearMarble": "Ahh...I wasn't aware of the build --no-cache option. Had no idea that docker-compose cached anything to begin with. \nWhen I tried your commands initially it returned nothing, but after docker-compose build --no-cache php-fpm and trying again I got the same response as you and the plugin's mysqli test started passing.\nThank you so much for the prompt and extremely helpful response, I'm really grateful!\nP.S. Upon actually running the Duplicator installer I kept getting a \"504 Gateway Timeout\" error from Nginx. Eventually got it to complete by adding  fastcgi_read_timeout 360; to nginx/sites/default.conf (or 'project-n.conf' for multiple projects) in the location ~ \\.php$ { section right before include fastcgi_params;.\nNever had to make that adjustment on Homestead, but everything appears to be working smoothly now.\n. ",
    "owl1n": "And now, i'm noticed something - in laravel app new Imagick working good but in artisan Console doesnt work. problem solved. just install extensions for workspace but this container use php-cli. ",
    "arnondora": "Here's my .env file\nhttps://gist.github.com/arnondora/879e2d53b4d945856a5b60669e3e1105. I have found that if I doesn't mount the data file, everything run smoothly but when I use default settings of laradock which mount data files into ../data/mssql, it got an error that I mentioned before. I struggle this problem on macOS, I don't know that this problem happen in other platform.. ",
    "bradleySuira": "Hi, I know that this is old but today i had this issue on Mac Os.\n\nDocker version 18.03.0-ce, build 0520e24\nMac Os version 10.13.4 \n\nIt's realted to docker volume mapping in Mac Os https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-configure-docker#persist\n\nHost volume mapping for Docker on Mac with the SQL Server on Linux image is not supported at this time. Use data volume containers instead. This restriction is specific to the /var/opt/mssql directory. Reading from a mounted directory works fine. For example, you can mount a host directory using \u2013v on Mac and restore a backup from a .bak file that resides on the host.\n\nIt's because we can't use a host directory like: \" ${DATA_PATH_HOST}/mssql\", the workaround for me was, edit the docker-compose.yml file in the services section, specific for mssql:\nInstead of:\n\nvolumes:\n        - ${DATA_PATH_HOST}/mssql:/var/opt/mssql\n\nYou should put:\n\nvolumes:\n        - mssql:/var/opt/mssql\n\nIt's match with the value \"mssql\" in the volumes section\nI hope that it's help. Hi @Nelsoft-EphraimLambarte, it happened a couple of months ago, not sure if it\u00b4s fixed now but I'm not using PHP for some time, but if the error is the same, you need to edit the docker-compose.yml file in the services section of laradock, find volumes: and change - ${DATA_PATH_HOST}/mssql:/var/opt/mssql to - mssql:/var/opt/mssql you can\u00b4t use DATA_PATH_HOST on mac with you setting for example ~/.laradock/data in a local folder instead you can find the volumen associated to the container using docker volume ls and then docker volume inspect [VOLUME_NAME]. My workaround is only for mac because the volume mapping for Docker on macOs is different.\nRegards!\n. @Nelsoft-EphraimLambarte no problem, I don't use windows but maybe we have the same issue than macOs because is not linux :). The only difference maybe is the paths, instead of / you should use \\ to inspect into a volume\n. @robbydooo Hi, you can't use the env var as is: DATA_PATH_HOST=~/.laradock/data, you need to edit your the docker-compose.yml file, check my past comment: https://github.com/laradock/laradock/issues/846#issuecomment-434549501\nHope it helps, (I assuming that you are using macOs), Regards!. ",
    "ephraimramoslambarte": "I am experiencing an error as well in running docker-compose up mssql:\nAttaching to laradock_mssql_1\nmssql_1                | tail: cannot open '/dev/null'$'\\r' for reading: No such file or directory\nmssql_1                | tail: no files remaining\nlaradock_mssql_1 exited with code 1\nthis is my .env file: https://pastebin.com/FLWU9S5i. @bradleySuira  im really sorry, i forgot to mention im using a windows 10 machine.. ",
    "Kayvaan44": "@Nelsoft-EphraimLambarte I have the same error, did you find a way to solve it or any workaround?. ",
    "kevin-coyle": "Hmm they seem to be different now\nOn 23 Apr 2017 7:09 pm, \"Winfried\" notifications@github.com wrote:\n\nThis should just work. For the NGINX container, it looks for the public\ndirectory, for the Apache container, it does not. It should either be both\nlooking for the public directory, or both not looking for the public\ndirectory.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/849#issuecomment-296469965,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZkweymnUpJjczCmUBHYUOU8UPUmJBWks5ry5PKgaJpZM4NFeZF\n.\n. \n",
    "vladthecodeimpaler": "Hi Guys,\napache2 doesnt work by default again, whats the reason for the revert?\nDocumentRoot /var/www/public\nis now\nDocumentRoot /var/www/. ",
    "benkelukas": "Hi, I have the same problem, will this be configurable in .env in the future? Right now i have rewritten it in default.apache.conf, but that does not seem right :)\nThanks. Hi, this guide is for Ubuntu Linuxu, unfortunately I do not know where to\nfind this IP adress in os x :(\nOn Fri, Aug 11, 2017, 11:58 Chris Hodgson notifications@github.com wrote:\n\nHi\nI'm struggling to find the DOCKER_HOST IP\ndocker ps -a returns several active containers including\nlaradockstoryboard_workspace. When i type ifconfig docker0 from OSX\ncommand line it returns an error ifconfig: interface docker0 does not\nexist\nThe env-example file already has the DOCKER_HOST_IP set to 10.0.75.1 but\nthis doesn't work when I add it to a deployment in PHPStorm\nthanks\nchris\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/951#issuecomment-321773375,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AGVQcM0rl_rYsGMi2EFpzSxUq89s9yAZks5sXCXTgaJpZM4NfFba\n.\n-- \n\nS p\u0159\u00e1telsk\u00fdm pozdravem\nLuk\u00e1\u0161 Benke\nmobil: 739 260 256 | e-mail: benke@akon.cz skvarkova@kamvbrne.cz\nAKON \u010cesk\u00e1 republika, s.r.o.\nBayerova 588/16, 602 00, Brno\ntel./fax: 548 211 210\nKamvBrne.cz http://www.kamvbrne.cz/ | KamvPraze.cz\nhttp://www.kamvpraze.cz/ | Akon.cz http://www.akon.cz/\n. Hi,\n@NewbMiao Could You please elaborate on this? I'm having same problem.\n@Euthimios Did You manage to solve this? Seems we are not the only one affected #996 . @bestlong \nAlrady tried that, same result. The ./data/postgres/data folder is owned by root:root, but when using MySQL it is owned by 999:docker - i think that is the issue, but i do not know what to do to fix it. I'm running docker without sudo, so that should not be a problem.. I do not think so, here is the full output: https://pastebin.com/SdhQxk50. Tried that, did not work. This is diff of your config (left) and my config (right): https://www.diffchecker.com/VCVy7Dyc\nI ssh'd into the postgres container: docker-compose exec --user=root postgres bash\nThen i listed the directory with data: ls -la /var/lib/postgresql/data/\nThis is the output: \ndrwx------   19 postgres postgres      4096 Mar 20 08:44 .\ndrwxr-xr-x    3 root     root          4096 Mar 20 08:37 ..\n-rw-------    1 postgres postgres         3 Mar 20 08:41 PG_VERSION\ndrwx------    6 postgres postgres      4096 Mar 20 08:41 base\ndrwx------    2 postgres postgres      4096 Mar 20 08:45 global\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_commit_ts\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_dynshmem\n-rw-------    1 postgres postgres      4535 Mar 20 08:41 pg_hba.conf\n-rw-------    1 postgres postgres      1636 Mar 20 08:41 pg_ident.conf\ndrwx------    4 postgres postgres      4096 Mar 20 08:44 pg_logical\ndrwx------    4 postgres postgres      4096 Mar 20 08:41 pg_multixact\ndrwx------    2 postgres postgres      4096 Mar 20 08:44 pg_notify\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_replslot\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_serial\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_snapshots\ndrwx------    2 postgres postgres      4096 Mar 20 08:44 pg_stat\ndrwx------    2 postgres postgres      4096 Mar 20 08:46 pg_stat_tmp\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_subtrans\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_tblspc\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_twophase\ndrwx------    3 postgres postgres      4096 Mar 20 08:41 pg_wal\ndrwx------    2 postgres postgres      4096 Mar 20 08:41 pg_xact\n-rw-------    1 postgres postgres        88 Mar 20 08:41 postgresql.auto.conf\n-rw-------    1 postgres postgres     22729 Mar 20 08:41 postgresql.conf\n-rw-------    1 postgres postgres        24 Mar 20 08:44 postmaster.opts\n-rw-------    1 postgres postgres        94 Mar 20 08:44 postmaster.pid\nSo the directories are in the container, but they do not get written onto host disk.. Everything looks fine, here is extracted info relating to volumes:\n\"HostConfig\": {\n            \"Binds\": [\n                \"/media/benke/CODE/laradock-postgress-issue-reproduce/laradock_pg_issue_rep/data/postgres:/var/lib/postgresql:rw\"\n            ],\n\"Mounts\": [\n            {\n                \"Type\": \"bind\",\n                \"Source\": \"/media/benke/CODE/laradock-postgress-issue-reproduce/laradock_pg_issue_rep/data/postgres\",\n                \"Destination\": \"/var/lib/postgresql\",\n                \"Mode\": \"rw\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            },\n            {\n                \"Type\": \"volume\",\n                \"Name\": \"1c9fe3924f7074ba6167067857c4ca18e657f681b49ed5369b4d5626a2778b8c\",\n                \"Source\": \"/var/lib/docker/volumes/1c9fe3924f7074ba6167067857c4ca18e657f681b49ed5369b4d5626a2778b8c/_data\",\n                \"Destination\": \"/var/lib/postgresql/data\",\n                \"Driver\": \"local\",\n                \"Mode\": \"\",\n                \"RW\": true,\n                \"Propagation\": \"\"\n            }\n        ],\nDo you see anything wrong? Here is the full output: https://pastebin.com/ysEiYWfLput. Solved, see here: https://stackoverflow.com/questions/41637505/how-to-persist-data-in-a-dockerized-postgres-database-using-volumes\nThe gist of it is to change this:\n```\nPostgreSQL Container\npostgres:\n  build: ./postgres\n  volumes:\n    - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql\n...\n\nto this\nPostgreSQL Container\npostgres:\n  build: ./postgres\n  volumes:\n    - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data\n...\n\n```\nNote the extra data after /postgresql/\ni think we should update laradock's docker-compose.yml to reflect this behaviour.. Yes, that should do it, will have to wait for the build to pass.. Hi, i managed to solve it by adding apt-get update to workspace/Dockerfile\nso this:\n```\n\nImageMagick:\n\nUSER root\nARG INSTALL_IMAGEMAGICK=false\nRUN if [ ${INSTALL_IMAGEMAGICK} = true ]; then \\\n    apt-get install -y --force-yes imagemagick php-imagick \\\n;fi\n```\nshould be this:\n```\n\nImageMagick:\n\nUSER root\nARG INSTALL_IMAGEMAGICK=false\nRUN if [ ${INSTALL_IMAGEMAGICK} = true ]; then \\\n    apt-get update && \\\n    apt-get install -y --force-yes imagemagick php-imagick \\\n;fi\n```. ",
    "Nvservicing": "Is there a solution for that ?. ",
    "jvzanatta": "Same here... After all the containers start, I get applications_1 exited with code 0.\nSO: Ubuntu 16.04 (Gnome)\ndocker-compose --version\ndocker-compose version 1.11.1, build 7c5d5e4\ndocker --version \nDocker version 17.03.1-ce, build c6d412e\n. @rasparac by deleting the generated /tmp/postgres file, yes. But not the way I intended to. . @bestlong Thanks for the reply. Makes perfect sense, I will close this now.. My bad, did not see the official container page with default login/password.. ",
    "gbgelado": "Same here :/\n```\ndocker-compose --version\ndocker-compose version 1.20.1, build 5d8c71b\ndocker --version\nDocker version 17.05.0-ce, build 89658be. Same here! :/. ",
    "lingfengchencn": "I fixed it.\nDATA_SAVE_PATH in env-example is /tmp,\ncan not work in windows\u3002\n. ",
    "hareku": "I also suffered from this problem. (Windows 10 Pro)\nIt may be better to annotate docker-compose.yml or Documentaion.. I opened PR #1981 . ",
    "core01": "@Hironate your solution does not work for me.\nI have ubuntu 16.04 as host and MariaDB 10.\nDid you do something else with my.cnf?. ",
    "Shivani-Parihar": "@Hironate can you please paste your .env file and .mycnf for mysql container. ",
    "latanoel": "This worked for me using laradock nginx and mysql containers\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root. ",
    "xpert13": "Perfect. Thank you.. ",
    "markhilton": "PHP_VERSION=70\nPHP_INTERPRETER=php-fpm\nWORKSPACE Container\nWORKSPACE_INSTALL_XDEBUG=false\nWORKSPACE_INSTALL_SOAP=true\nWORKSPACE_INSTALL_MONGO=false\nWORKSPACE_INSTALL_NODE=true\nWORKSPACE_INSTALL_YARN=true\nWORKSPACE_INSTALL_DRUSH=false\nWORKSPACE_INSTALL_AEROSPIKE_EXTENSION=false\nWORKSPACE_INSTALL_INSTALL_V8JS_EXTENSION=false\nWORKSPACE_COMPOSER_GLOBAL_INSTALL=false\nWORKSPACE_INSTALL_WORKSPACE_SSH=false\nWORKSPACE_INSTALL_LARAVEL_ENVOY=false\nWORKSPACE_INSTALL_DEPLOYER=false\nWORKSPACE_INSTALL_LINUXBREW=false\nWORKSPACE_INSTALL_MC=false\nWORKSPACE_PUID=1000\nWORKSPACE_PGID=1000\nWORKSPACE_NODE_VERSION=stable\nWORKSPACE_YARN_VERSION=latest\nWORKSPACE_TIMEZONE=UTC\nWORKSPACE_SSH_PORT=2222. I just downloaded latest version from laradock and this bug appears to be fixed already. I do not get the warning anymore.. If I remember well I added:\ncd / && \\\nbecause originally I added MS SQL support build after WORKDIR inside Dockerfile, therefore wget was downloading unixodbc libs into my application code base, as workdir is a volume mounted to local filesystem. It can be removed. I will clean this up and re-submit. \n. I submitted updates for this pull requests but seems like build on Travis fails due to unrelated issue with missing XML for INSTALL_V8JS_EXTENSION. ",
    "Caisen1988": "I still have the issue, pls help ,thanks a lot\nfile path\nMode                LastWriteTime         Length Name\n----                -------------         ------ ----\nd-----        2018/3/25     21:18                code\nd-----        2018/3/25     21:16                laradock\n/laradock/.env\nAPPLICATION=../code/\n/nginx/sites/\nremove .example and  add keyoutest.conf\nchange the root /var/www/keyoutest in keyoutest.conf\nrestart\ndocker-compose down\ndocker-compose exec workspace bash\ninto the container\ncomposer create-project --prefer-dist laravel/laravel keyoutest \"5.5.*\"\nresult\n403 Forbidden for http://localhost\nis ok for http://localhost/public/css/app.css\nuse docker-compose up -d --force-recreate --build nginx ,the problem still there\nI want to use chmod 777 -R keyoutest, but there is no change and /logs/nginx/laravel_accesslog is empty\nroot@028f68bac77f:/var/www/keyoutest# ll\ntotal 173\ndrwxr-xr-x 2 root root   4096 Mar 25 13:04 ./\ndrwxr-xr-x 2 root root      0 Mar 25 13:18 ../\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 app/\n-rwxr-xr-x 1 root root   1686 Mar 25 12:58 artisan*\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 bootstrap/\n-rwxr-xr-x 1 root root   1477 Mar 25 12:58 composer.json*\n-rwxr-xr-x 1 root root 143913 Mar 25 13:01 composer.lock*\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 config/\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 database/\n-rwxr-xr-x 1 root root    702 Mar 25 13:01 .env*\n-rwxr-xr-x 1 root root    651 Mar 25 12:58 .env.example*\n-rwxr-xr-x 1 root root    111 Mar 25 12:58 .gitattributes*\n-rwxr-xr-x 1 root root    155 Mar 25 12:58 .gitignore*\ndrwxr-xr-x 2 root root      0 Mar 25 13:15 .idea/\n-rwxr-xr-x 1 root root   1150 Mar 25 12:58 package.json*\n-rwxr-xr-x 1 root root   1088 Mar 25 12:58 phpunit.xml*\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 public/\n-rwxr-xr-x 1 root root   3622 Mar 25 12:58 readme.md*\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 resources/\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 routes/\n-rwxr-xr-x 1 root root    563 Mar 25 12:58 server.php*\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 storage/\ndrwxr-xr-x 2 root root      0 Mar 25 12:58 tests/\ndrwxr-xr-x 2 root root      0 Mar 25 13:05 vendor/\n-rwxr-xr-x 1 root root    549 Mar 25 12:58 webpack.mix.js*\nroot@028f68bac77f:/var/www/keyoutest#.  finally find the reason ,it's nginx root path should  direct the laravel public folder,thanks a lot\nroot   /var/www/html/site1/blog/public;. ",
    "webstractions": "I get this error when running any docker-compose function with the basic Windows command prompt. If I use the Docker Quickstart Terminal, then there are no errors. \nI am running Docker Toolbox on Windows 7. . ",
    "elickzhao": "@FOR /f \"tokens=*\" %i IN ('docker-machine env default') DO @%i. ",
    "ko22009": "Solution: #893. 8c8\n< APPLICATION=../advService/\n\n\nAPPLICATION=../\n32c32\n< WORKSPACE_INSTALL_XDEBUG=true\n\n\n\nWORKSPACE_INSTALL_XDEBUG=false\n41c41\n< WORKSPACE_INSTALL_WORKSPACE_SSH=true\n\n\n\nWORKSPACE_INSTALL_WORKSPACE_SSH=false\n50c50\n< WORKSPACE_TIMEZONE=Asia/Yekaterinburg\n\n\n\nWORKSPACE_TIMEZONE=UTC\n55c55\n< PHP_FPM_INSTALL_XDEBUG=true\n\n\n\nPHP_FPM_INSTALL_XDEBUG=false\n231c231,232\n< DOCKER_HOST_IP=192.168.0.104\n\n\n\nDOCKER_HOST_IP=10.0.75.1\n235c236\n< PHP_IDE_CONFIG=serverName=172.21.0.4\n\n\n\nPHP_IDE_CONFIG=serverName=laradock. I know, I do it. @bestlong \nI think this problem in container. When building image.\nMaybe it's correct, not activate debug mode in workspace.. @bestlong Yes, the same!!! There doesn't have a link. Another have.. DockerFile xdebug:\n\n\nxDebug:\n\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ]; then \\\n    # Load the xdebug extension only with phpunit commands\n    apt-get update && \\\n    apt-get install -y --force-yes php-xdebug && \\\n    sed -i 's/^/;/g' /etc/php/7.1/cli/conf.d/20-xdebug.ini && \\\n    echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/vendor/bin/phpunit'\" >> ~/.bashrc \\\n;fi\nADD for REMOTE debugging\nCOPY ./xdebug.ini /etc/php/7.1/cli/conf.d/xdebug.ini\nIt's special do that. But I cannot understand another way activate xdebug on server by ssh by phpstorm.. I found solution for phpunit debug, You just pass to option, when you click debug, phpstorm not correct identify host. You just need reset on yours - mine: laravel.\nC:\\Windows\\System32\\drivers\\etc\n10.0.75.1 laravel\n\nFor better web-site debugging I think, dbgp. But It's have problem with connecting.(\n. I decided the problem!\n.env file:\nWORKSPACE_INSTALL_XDEBUG=true\nPHP_FPM_INSTALL_XDEBUG=true\nWORKSPACE_INSTALL_WORKSPACE_SSH=true\nphp-fpm/xdebug.ini (without this web debugger won't work):\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.cli_color=1\n\n\n\n\n\n\n\n. @winfried-van-loon yes, but I show some solution, but it's not perfect.. RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get -qy install python-pip\nRUN apt-get -qy autoremove && DEBIAN_FRONTEND=noninteractive apt-get -qy clean\nRUN pip2 install --upgrade pip\nRUN pip2 install komodo-python-dbgp\nCMD pydbgpproxy -d 9000 -i 0.0.0.0:9001\nI add to workspace/Dockerfile-71, and also open port 9001:9001 in workspace in root yml.\nPhpstorm success add key dbpg server, but doesn't debug, why?\nI do it: https://confluence.jetbrains.com/display/PhpStorm/Multi-user+debugging+in+PhpStorm+with+Xdebug+and+DBGp+proxy. Solution: #893. ",
    "xsu1991": "@winfried-van-loon  There are follow step to ensure xdebug work well, \n1. Check you .env file\nPHP_FPM_INSTALL_XDEBUG=true\nDOCKER_HOST_IP=10.0.75.1\nPHP_IDE_CONFIG=serverName=laradock\nlaradock is your server_name, and must set same in phpstorm, \nSetting > Languages & Frameworks > PHP > Servers\npress \"+\" to add one \nName -> laradock            make sure same with PHP_IDE_CONFIG=serverName=laradock\nHost -> localhost   Port->80\nCheck Use path mappings\nFile/Directory             Absolution path on server\nD:\\opt\\www\\public     /var/www/public\n\nCheck you xdebug.ini\nlaradock/php-fpm/xdebug.ini\n```\nxdebug.remote_enable=1\n\nxdebug.remote_port=9000\nxdebug.remote_host=dockerhost\nxdebug.idekey=PHPSTORM\nxdebug.remote_enable must be set  to 1\n3.rebuild your imagesshell\ndocker-compose build php-fpm \n4. try xdebug\ndocker-compose up php-fpm nginx\nOpen phpstorm and create new file `index.php` to `www` dir\nsuch as\n$a = 'hello ';\n$b = 'world';\necho $a . $b;\n``\nmake breakpoint to line$b = 'world';and set phpstorm to listen debug connection\nopen index.php in broswer and phpstorm will pause in line$b='world'. @winfried-van-loon \nmaybe you should visit the url like thishttp://localhost/index.php?XDEBUG_SESSION_START=1, add argXDEBUG_SESSION_STARTor addxdebug.remote_autostart=1` to xdebug.ini\nor add xdebug-helper to chrome on chrome webstore & set to debug\nhappy enjoy. ",
    "giraz82": "@xsu1991 I'm very in trouble making xdebug working.\nIn my configuration all is configured exactly how you suggest.\nI tried it xdebug browser extension too. Nothing happens, and I don't have any error to start debugging the problem.\nAny ideas? Thank you in advance. ",
    "biwerr": "Environment: Windows 10\nDocker: Version 18.03.0-ce-win59 (16762) Linux Containers\nI have to access the Server via IP 10.0.75.2 to get x_debug working in PHP Storm\nIf you add xdebug.remote_connect_back = 1to xdebug.ini xdebug.remote_host will be ignored (See Doc )\n. ",
    "mrignacio1231": "Hi @bestlong How do i do that? . My OS \nNAME=\"elementary OS\"\nVERSION=\"0.4 Loki\"\nID=\"elementary\"\nID_LIKE=ubuntu\nPRETTY_NAME=\"elementary OS 0.4 Loki\"\nVERSION_ID=\"0.4\"\nHOME_URL=\"http://elementary.io/\"\nSUPPORT_URL=\"http://elementary.io/support/\"\nBUG_REPORT_URL=\"https://bugs.launchpad.net/elementary/+filebug\"\nVERSION_CODENAME=loki\nUBUNTU_CODENAME=loki\nDocker version\n```\nClient:\n Version:      1.12.6\n API version:  1.24\n Go version:   go1.6.2\n Git commit:   78d1802\n Built:        Tue Jan 31 23:35:14 2017\n OS/Arch:      linux/amd64\nServer:\n Version:      1.12.6\n API version:  1.24\n Go version:   go1.6.2\n Git commit:   78d1802\n Built:        Tue Jan 31 23:35:14 2017\n OS/Arch:      linux/amd64\n. It's 7.1. The problem is in workspace/Dockerfile-71 and php-fpm/Dorckerfile-71 files. They have not mssql installation like as Dockerfile-70,. Yes, i did that and work.\nAttaching to laradock_apache2_1\napache2_1             | container_linux.go:247: starting container process caused \"chdir to cwd (\\\"/var/www/public\\\") set in config.json failed: no such file or directory\"\napache2_1             | container_linux.go:247: starting container process caused \"chdir to cwd (\\\"/var/www/public\\\") set in config.json failed: no such file or directory\"\napache2_1             | container_linux.go:247: starting container process caused \"chdir to cwd (\\\"/var/www/public\\\") set in config.json failed: no such file or directory\"\n```. Doesn't work\n. ",
    "Erchoc": "\nI hava the same problem with you. form yesterday, still no answer\n\n. >  D:\\OneDrive\\LaraDock\\laradock>docker logs ed2\nInitializing database\n2017-05-05T14:43:08.180539Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2017-05-05T14:43:08.180592Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\n2017-05-05T14:43:08.221195Z 0 [Warning] InnoDB: Retry attempts for writing partial data failed.\n2017-05-05T14:43:08.221309Z 0 [ERROR] InnoDB: Write to file ./ibdata1failed at offset 0, 1048576 bytes should have been written, only 0 were written. Operating system error number 28. Check that your OS and file system support files of this size. Check also that the disk is not full or a disk quota exceeded.\n2017-05-05T14:43:08.221362Z 0 [ERROR] InnoDB: Error number 28 means 'No space left on device'\n2017-05-05T14:43:08.221395Z 0 [ERROR] InnoDB: Could not set the file size of './ibdata1'. Probably out of disk space\n2017-05-05T14:43:08.221730Z 0 [ERROR] InnoDB: InnoDB Database creation was aborted with error Generic error. You may need to delete the ibdata1 file before trying to start up again.\n2017-05-05T14:43:08.822761Z 0 [ERROR] Plugin 'InnoDB' init function returned error.\n2017-05-05T14:43:08.822803Z 0 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n2017-05-05T14:43:08.822815Z 0 [ERROR] Failed to initialize plugins.\n2017-05-05T14:43:08.822820Z 0 [ERROR] Aborting. @Mahmoudz  we need you, people's friend.. but I change DATA_SAVE_PATH , still  isn't work.\nmysql_1               | Initializing database\nmysql_1               | 2017-05-06T03:58:24.165962Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1               | 2017-05-06T03:58:24.166015Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1               | 2017-05-06T03:58:24.246209Z 0 [Warning] InnoDB: New log files created, LSN=45790\nmysql_1               | 2017-05-06T03:58:24.263888Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\nmysql_1               | 2017-05-06T03:58:24.317699Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 409fe934-3210-11e7-84bc-0242ac170002.\nmysql_1               | 2017-05-06T03:58:24.318763Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.\nmysql_1               | 2017-05-06T03:58:24.321642Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\nmysql_1               | 2017-05-06T03:58:24.558509Z 1 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-05-06T03:58:24.558632Z 1 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-05-06T03:58:24.558699Z 1 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-05-06T03:58:24.558764Z 1 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | 2017-05-06T03:58:24.559431Z 1 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\nmysql_1               | Database initialized\nmysql_1               | Initializing certificates\nmysql_1               | Generating a 2048 bit RSA private key\n. the mysql container still start failed. I don't know the how to do . oh thanks, just I forgot use dockercomposer up -d mysql then exit.\u6211\u771f\u5dee\u52b2. docker-compose exec --user laradock workspace bash\nthe command will use laradock user. @bestlong but I couldn't use laradock do this ??. ",
    "chgalvez": "Finally it seems to be a file permissions problem. I just edit DATA_SAVE_PATH .env variable to my User directory, to have full access (anyway I specifically  give it Full Control to All group, just in case) and voila\nIn my case editing .env to\nDATA_SAVE_PATH=c:\\Users\\chgalvez\\temp\\\nand giving that directory full control to All. Thats all.\nI figured it out just browsing docker-compose.yml to mysql section\nMySQL Container\nmysql:\n  .\n  .\n  .\n  volumes:\n    **- ${DATA_SAVE_PATH}/mysql:/var/lib/mysql**\n\n. Are you sure? Apparently there are no error in that sequence ... Execute docker ps to know if MySQL container is running or not. ",
    "rasparac": "@jvzanatta did you make it work?\n. Hi @bestlong but mysql laradock won't create a non-root user.. @mikeerickson I don't get any error. everything works just fine but there is no non-root user. i have another issue opened here. ",
    "haringsrob": "I have updated my master to have the merge conflicts resolved: https://github.com/haringsrob/laradock\nHowever, if I have the following scenario:\nProject 1\n- laradock_project1\nProject 2\n- laradock_project2\nI start laradock_project1 and all goes fine, proxy does the work\nI start laradock_project2 and I receive error port 2222 already in use. ",
    "gulien": "@Mahmoudz @dlnsk Jwilder provides a awesome reverse-proxy for sure! That's said, I've you considered using https://traefik.io/ instead?. Hi @vwchu!\nLooks like you did some nice works here \ud83d\ude03 \nOrbit might indeed helps you a lot in your job!\nIts first functionality is its ability to generate files from templates using values provided by one or more YAML files and one or more .env files. In your project, you rely a lot on .env files to setup your docker-compose.yml files.  Orbit might handle for you the generation of those .env files using values provided by a .env file and a laradock.yml file. The first would contain sensible data (secrets for example) and environments related data. The last would contain cross-environments data (users of modules, ports and so on). \nAlso, an interesting functionality of Orbit is to let you define commands in a YAML file. \nFrom the documentation:\n\nyaml\ncommands:\n  - use: \"my_first_command\"\n    run:\n      - command [args]\n      - command [args]\n      - ...\n  - use: \"my_second_command\"\n    run:\n      - command [args]\n      - command [args]\n      - ...\n\nthe use attribute is the name of your Orbit command.\nthe run attribute is the stack of external commands to run.\nan external command is a binary which is available in your $PATH.\n\nOnce you've created your orbit.yml file, you're able\nto run your Orbit commands with:\norbit run my_first_command\norbit run my_second_command\norbit run my_first_command my_second_command\nNotice that you may run nested Orbit commands :metal:!\n\nWe could imagine the following:\nProject structure\n.\n\u251c\u2500\u2500 config\n     \u2514\u2500\u2500 orbit # folder which contains sub Orbit configuration files\n\u251c\u2500\u2500 modules\n     \u2514\u2500\u2500 a_module\n          \u2514\u2500\u2500 .env.blueprint # a .env template\n\u251c\u2500\u2500 orbit.yml # the main Orbit configuration file\n\u251c\u2500\u2500 .env # the main .env file\n\u2514\u2500\u2500 laradock.yml # the cross-environments data\nmodules/a_module/.env.blueprint\nA_USER={{ Values.Laradock.a_module.a_user }}\nA_SECRET={{ .EnvFiles.Laradock.A_SECRET }}\nA_PORT={{ Values.Laradock.a_module.a_port }}\n.env\nA_SECRET=my_awesome_secret\nlaradock.yml\nyaml\na_module:\n    a_user: my_awesome_user\n    a_port: my_awesome_port\nconfig/orbit/orbit-generate.yml\nyaml\ncommands:\n  - use: \"generate-a-module\"\n    run:\n      - orbit generate -t=modules/a_module/.env.blueprint -o=modules/a_module/.env -v=Laradock,laradock.yml -e=Laradock,.env\norbit.yml\nyaml\ncommands:\n  - use: \"generate\"\n    run:\n      - orbit run generate-a-module -c=config/orbit/orbit-generate.yml\n      - ...\nSo, when running orbit run generate at the root of the project, Orbit will generate the .env file of  a_module \ud83d\udc4d ! Of course, this is a basic example. As Orbit uses the Go package text/templateunder the hood as a template engine, you have at your disposal a interesting amount of logic for your templates.\nAlso, you wrote a lot of nice scripts, which are unfortunately not cross-platform. We could imagine having a \"Laradock image\" which contains those scripts. See here how I handled calling scripts from a container with Orbit.\nLast but not least, you should take a look at the kickoff-docker-php to have a real example on how I used Orbit to run my stack.\nIf you need help, let me know \ud83d\ude04 ! I'll be glad to help!. @vwchu Your project structure inspired me for the first v2.0.0 stable release of my project! \ud83d\ude04\nYou have now a complete example at your disposal. \ud83d\ude09 . ",
    "lx-berlin": "thanks! This does the trick.\nOnly, I had to change\nlinks:\n- nginx:http://myproject.dev\nto:\nlinks:\n- nginx:myproject.dev\nbecause otherwise i got \nERROR: for selenium  Cannot start service selenium: bad format for links: laradock_nginx_1:http://myproject.dev\nERROR: Encountered errors while bringing up the project.\n. thanks @bestlong \nThat was the problem.\n:laughing: . ",
    "jhkueh": "Hi @bestlong, how do you use multiple database with this for my ${MYSQL_USER} (homestead, for example)? My homestead user can only access one DB specified at MYSQL_DATABASE in the docker-compse.yml file. But my root user can access all the other DBs.\nIt doesn't really matter for dev machine, but I can see that it does for production.. Thanks for that @bestlong! It's working now :D\nHowever, I just found out that you don't need to include FLUSH PRIVILEGES; at the end of the createdb.sql.example file. According to the docs & here:\n\nWhen mysqld starts, it reads all grant table contents into memory. The in-memory tables become effective for access control at that point.\nIf you modify the grant tables indirectly using account-management statements such as GRANT, REVOKE, SET PASSWORD, or RENAME USER, the server notices these changes and loads the grant tables into memory again immediately.. Maybe it's just my local machine, but I can't live without Opcache. Every page load is 2-3 seconds in Laravel 5.4 without it. When it's enabled, it's less than 1s.. \n",
    "stevesgit": "thanks all.I has solved this problem . ",
    "TanvirAlam": "@stevesgit How did you solve the issue, I am having same issue not with SWOOLE but with TRADER. ",
    "Ansonhkg": "@a-h-abid I wonder why doesn't editing the value in .env file work?. ",
    "rlindner81": "Can confirm, I had this bug and the suggested addition fixes it. ",
    "yblondeau": "I had the same issue also and the suggested edit to the docker-compose.yml file fixed it.\nInfo:\n\nDocker version ($ docker --version):  17.09.0-ce, build afdb6d4\nLaradock commit ($ git rev-parse HEAD): 9877f0453ef5d1c8f556403804f8f21df2618de6\nSystem info (Mac, PC, Linux): Windows\nSystem info disto/version: 10 Pro. \n",
    "dmz9": "helped     - PGDATA=/tmp. in case if someone (including me in future) trying to make it work.\n1. ./php-fpm/xdebug.ini (removed dbgp proxy - that was the problem for me)\n```\n; NOTE: The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)\n; xdebug.remote_host=dockerhost\nxdebug.remote_connect_back=1\nxdebug.remote_port=9000\nxdebug.idekey=PHPSTORM\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.cli_color=0\nxdebug.profiler_enable=0\nxdebug.profiler_output_dir=\"~/xdebug/phpstorm/tmp/profiling\"\nxdebug.var_display_max_children=-1\nxdebug.var_display_max_data=-1\nxdebug.var_display_max_depth=-1\n``\n2. B,E,D>Deployment - \nakk.test is the alias of my dev domain (127.0.0.1)\n![default](https://user-images.githubusercontent.com/19429896/37436934-8278463e-27fb-11e8-9b8d-38a57864c306.png)\nkeypair - doesnt work \"out of the box\" on ubuntu (some problems with ssh2, phpstorm shows notice at the bottom , whatever)\nfixed with this commandputtygen insecure_id_rsa.ppk -O private-openssh -o insecure_fix3. don't forget to set up deployment path in \"Mappings\" tab\n4. L&F>PHP\npick \"cli interpreter\" \"...\" button and add the php interpreter using deployment configuration.\ni did name it same as my dev domain\nalso i did pick different (not default one) php version - php7.2 \n![default](https://user-images.githubusercontent.com/19429896/37437272-48bdfe5a-27fd-11e8-938d-e44e0534a25a.png)\n5. L&F>PHP>Debug\ndebug port is 9000\ncan accept external connections\n6. shut down & rebuild docker image for php-fpm\ni used this cheat codedocker-compose down && docker-compose build php-fpm && docker-compose up -d nginx mysql php-fpm`\n===========\nthats all, next just set a breakpoint somewhere in the code, no need to create separate debug configuration (well, maybe it does for tests, didn't try) and start listening to xdebug\n\n. @sereden \n+1, any news on that? ). ",
    "mhaagens": "Setting PGDATA=/tmp worked for me as well!. ",
    "SalahAdDin": "@FMate Thank you very much man.\nBut, does it affect the our database persistence?. ",
    "eloyekunle": "I think it will affect the database persistence since everything is lost on reboot.. ",
    "choma": "This would be a great feature!\nThere is a pending pull request: #1916 . But I think there should be an easier way to unbind ports, one that doesn't imply to modify docker-compose.yml. ",
    "moiroca": "@bestlong Oh, I was just looking at their documentation. Thanks for this one.. ",
    "kandiu": "Solved it. I missed run composer install. ",
    "ciliehub": "@mikeerickson \n\nand are able to successfully debug\n\nI made this work especially for (php)unittesting\n\nwould like to know precise steps\n\nI'll try to find some time to sum this up in the next few days (although the documentation was very close already for both debugging & debug while unittesting)\nsome patience please. ",
    "RobbeVW": "I'm not sure what exactly solved it, but I updated Laradock, removed all my Docker images and it seems to be working right now.. I don't think you're supposed to use Artisan to serve Laravel, that's what Docker is for. Run docker-compose up -d nginx mysql and try to connect to localhost (no port). The introduction section of http://laradock.io/introduction/ explains things nicely.. @tobiasdalhof \nDid what you said, still the same error - even tried 8.8.4.4. Thanks for the reply though.. @tobiasdalhof \nRestarted Docker and my computer, even re-installed Docker at this point. My connection is giving 10Mbps, should be sufficient.\nhttps://paste.ee/p/Jf2Co (Git doesn't format this properly). ",
    "anggakes": "thanks for answer, I have try that, and not fix my problem sir.\nI just fix my problem because I can connect my mongo container with robomongo,\nso what I do is :\n1. from workspace container I get my host IP, that is 172.21.0.1 with port 27018\n2. on my php script, I connect my mongodb Client class with host 172.21.0.1:27018\nthe problem is, this is not dynamic. . @bestlong  thanks for the answer friend :D. ",
    "sajidunnar": "Hey guys, having the same issue all docker instances were fine for some reason I did docker rese and then getting the same problem.\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS              PORTS                                      NAMES\n* ****         \"docker-entrypoint...\"   43 minutes ago      Up 39 minutes       0.0.0.0:27012->27017/tcp                   laradock_mongo_1\nin my .env file I have set my port to 27012 but either with robo 3t or via shell I cant connect as get following errors\n(master) % mongo mongodb://127.0.0.1:27012                                                                                          ***\nMongoDB shell version v3.6.0\nconnecting to: mongodb://127.0.0.1:27012\n2017-12-11T21:56:29.153+0500 E QUERY    [thread1] Error: network error while attempting to run command 'isMaster' on host '127.0.0.1:27012'  :\nconnect@src/mongo/shell/mongo.js:251:13\neven with laravel app ( same code and env file with correct port ) I got this error \n[MongoDB\\Driver\\Exception\\ConnectionTimeoutException]                                                           \n  No suitable servers found (serverSelectionTryOnce set): [connection refused calling ismaster on 'mongo:27017']  \nOn gogole search they recommending to bind the ip but I Am not sure how I can do that \n. I belive both are related. https://github.com/laradock/laradock/issues/932. Not officially but I was able fixed by using mongo image directly\nIn docker compose file replace following\nbuild: ./mongo to image: mongo:latest\nOn 19-Dec-2017 6:21 PM, \"Vladyslav Piskunov\" notifications@github.com\nwrote:\n\nAny luck with this? Trying to install Webiny, which depends on mongo...\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1303#issuecomment-352746661,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AATGENJIEvPoOavpZyAIvzfAY6nKPSGHks5tB7g6gaJpZM4Q7JWr\n.\n. \n",
    "TiDJ": "Hey, I just had the same issue on my Vagrant VM, Ubuntu based.\n\nNo suitable servers found (serverSelectionTryOnce set): [connection refused calling ismaster on '127.0.0.1:27017']\n\nI'm definitly not an expert and i'm not sure it's the same problem, but here is how i fixed it on my case : \nhttps://stackoverflow.com/a/51553257/3132123 (rights problem, i dunno why). ",
    "atiladelcanton": "@bestlong \nMy machine does not have these folders. I put the laradocke's permission in 777 and the same problem continues.\n. ",
    "xushaobo": "Thanks first at all, But is there any way can change the port that docker use ? instead of  to change the host's default setting.. Yeap, but when I run the command again it shows something up-to-date:\n$docker-compose up -d nginx mysql redis beanstalkd\nlaradock_redis_1 is up-to-date\nlaradock_mysql_1 is up-to-date\nStarting laradock_applications_1 ...\nStarting laradock_applications_1 ... done\nlaradock_workspace_1 is up-to-date\nlaradock_php-fpm_1 is up-to-date\nlaradock_beanstalkd_1 is up-to-date\nlaradock_nginx_1 is up-to-date\n. So,  is this all right?\nbut since there is no errors, why when I visit http://localhost, there goes a 404 Not Found nginx.. Yes,it's okay now .thank you very much.\n\u8c22\u8c22\u5144\u5f1f!. try the command:\nchown -R mysql:mysql /var/run/mysqld. ",
    "sumihiro": "I found solution.\nMy path to laradock contains Unicode chars, like \"/User/me/\u30d7\u30ed\u30b8\u30a7\u30af\u30c8/laradock\".\nI changed it to \"/User/me/Project/laradock\", and errors are gone.\nI hope that someone will fix this.. I have same problem.\nI changed WORKSPACE_INSTALL_PYTHON =false to WORKSPACE_INSTALL_PYTHON =true.\nHowever, it seems that Python is not installed correctly on the system.\nroot@8ab127771d5f:/var/www# which python\nroot@8ab127771d5f:/var/www# ls -la /usr/bin/python*\nlrwxrwxrwx 1 root root       9 Dec 10  2015 /usr/bin/python -> python2.7\nlrwxrwxrwx 1 root root       9 Dec 10  2015 /usr/bin/python2 -> python2.7\nlrwxrwxrwx 1 root root      33 Nov 19  2016 /usr/bin/python2.7-config -> x86_64-linux-gnu-python2.7-config\nlrwxrwxrwx 1 root root      16 Dec 10  2015 /usr/bin/python2-config -> python2.7-config\nlrwxrwxrwx 1 root root       9 Mar 23  2016 /usr/bin/python3 -> python3.5\n-rwxr-xr-x 2 root root 4456240 Sep 18 15:59 /usr/bin/python3.5\n-rwxr-xr-x 2 root root 4456240 Sep 18 15:59 /usr/bin/python3.5m\nlrwxrwxrwx 1 root root      10 Mar 23  2016 /usr/bin/python3m -> python3.5m\nlrwxrwxrwx 1 root root      16 Dec 10  2015 /usr/bin/python-config -> python2.7-config\n\"python 2.7\" does not exist.\nInstead, python3 is installed.\nI think that the location where python is installed in the workspace/Dockerfile-71 file is corrupt.\n```\n\nPYTHON:\n\nARG INSTALL_PYTHON=false\nENV INSTALL_PYTHON ${INSTALL_PYTHON}\nRUN if [ ${INSTALL_PYTHON} = true ]; then \\\n  apt-get update \\\n  && apt-get -y install python python-pip python-dev build-essential  \\\n  && pip install --upgrade pip  \\\n  && pip install --upgrade virtualenv \\\n;fi\n```\nThis code seems to install python3 instead of python 2.7.\n. +1. in http://archive.ubuntu.com/ubuntu/pool/main/a/avahi/\nlibavahi-common3_0.6.32~rc+dfsg-1ubuntu2.2_amd64.deb and libavahi-common3_0.6.32~rc+dfsg-1ubuntu2_amd64.deb are available.\nlibavahi-common3_0.6.32~rc+dfsg-1ubuntu2.1_amd64.deb is not found.\n. ",
    "saeidee": "Just find the DATA_PATH_HOST key inside your .env\ncd <DATA_PATH_HOST>\nrm -rf mysql. ",
    "chrishodgson": "Hi \nI'm struggling to find the DOCKER_HOST IP\ndocker ps -a returns several active containers including laradockstoryboard_workspace. When i type ifconfig docker0 from OSX command line it returns an error ifconfig: interface docker0 does not exist\nThe env-example file already has the DOCKER_HOST_IP set to 10.0.75.1 but this doesn't work when I add it to a deployment in PHPStorm\nthanks\nchris. ",
    "mpoiriert": "I follow the procedure to the letter and everything worked.\nI did want to configure PHPUnit to run trough the editor so there is a few extra step.\nLanguages & Frmeworks > PHP\nAdd the path mappings from your root project to /var/www on the remote machine\nLanguages & Frmeworks > PHP > test Frmeworks\nAdd PHPUnit by remote interpreter\nPHPUnit library Use Composer Autoloader\nPath to script: /var/www/vendor/autoloader.php\nEnjoy !\n. ",
    "jerfeson": "@mpoiriert  Amazing, worked for me. @rodion-arr Thanks bro. Actually, the extension was not installed, but this should already be automatic at the time of mounting the container, I will study laradock, and try to develop this, for now I am still exploring the tool.\nMany thanks for the help;. ",
    "im-hs": "Docker version 17.05.0-ce, build 89658be. Excellent! Thank you!. ",
    "ab-su-rd": "try executing docker-compose rm and rerun up command. ",
    "aquinotgr00": "my env is already like this\nDATA_SAVE_PATH=/tmp\nso what should i change actually ?. thanks, i remove the line and it's work properly now \ud83d\ude03 . ",
    "mingersoll": "This worked for me on Linux as well, thanks!. ",
    "gjacob08": "It also works on macOS high sierra. Thanks!. ",
    "arifulhb": "The only solution worked is by @alchimik worked \ud83d\udc6f\u200d\u2642\ufe0f . Duplicate issue of https://github.com/laradock/laradock/issues/1534. ",
    "DeSuper": "I first built the default MySQL 8 container, then tried to switch to 5.7 when I had this error. I tried the mentioned solutions. I removed the stored mysql data from ~/.laradock on my Windows 10 machine. . ",
    "bbarclay": "I first built the default MySQL 8 container, then tried to switch to 5.7 when I had this error. I tried the mentioned solutions. I removed the stored mysql data from ~/.laradock on my Windows 10 machine.\nSaved my life. . ",
    "rslhdyt": "@bbarclay your case same with me, I try to delete the folder ~/.laradock/data/mysql in my Mac machine. and everything works.. ",
    "npiquerez": "I found a custom-made docker-compose file to support 2 php version, the developper idea is to use ports 80 or 8070 for php7.0 and port 8056 for php5.6. \nAlso idea is to separate folders /var/www/php70/ and /var/www/php56/ for legacy support.\nI would like to keep using laradock while having this choice. I will dig into this and publish something if I find a solution.\nversion: '2'\nservices:\n  nginx:\n    build: ./config/nginx/\n    container_name: nginx\n    volumes_from:\n        - www_data\n    links:\n        - php-7.0\n        - php-5.6\n    ports:\n      - 80:80\nphp-7.0:\n    build: ./config/7.0/\n    container_name: php-7.0\n    volumes_from:\n        - www_data\nphp-5.6:\n    build: ./config/5.6/\n    container_name: php-5.6\n    volumes_from:\n        - www_data\nwww_data:\n    image: tianon/true\n    volumes:\n      - .:/var/www/html. ",
    "aurawindsurfing": "Hi I wonder what solution did you end up using please?. Worked for me! thx!. ",
    "Smittttty": "I needed php-fpm 7.0, and 5.6. I solved this the following way(using laradock multi project setup):\nI copied the laradock/php-fpm folder and renamed it as php-fpm5.6,\nIn the docker-composer.yml I copied the entire php-fpm structure, and renamed the new one as php-fpm5.6, I then hardcoded the PHP_VERSION to 5.6 in the new structure. Under NGINX I also had to add php-fpm5.6 to the depends_on list.\nThen in nginx conf(yourdomain.conf) for the site that needed php5.6, I modified fastcgi_pass php-upstream; value line to be fastcgi_pass php-fpm5.6:9000;\nAfter doing that I did a docker-compose down followed up a docker-compose up and the site that needed php5.6 was now running on 5.6, while the other is running on 7.0.. ",
    "shijunti19": "I need it, and it's necessary\uff01\nThe old system has the highest support for php5.6. ",
    "rodolfobubb": "@Smittttty worked for me! Thanksss!!. same issue!. ",
    "laliux": "In fact is not necessary to copy all laradock/php-fpm folder. Adding a new entry in docker-compose.yml with the hardcoded PHP version is enough.\n```\nPHP-FPM 7.0\nphp-fpm-7.0:\n  build:\n    context: ./php-fpm\n    args:\n      - PHP_VERSION=7.0\n      - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}\n      - INSTALL_PHPDBG=${PHP_FPM_INSTALL_PHPDBG}\n      - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}\n\n...\n```. ",
    "bushibigniu": "Can you say something more?. ",
    "codejam1024": "@bushibigniu \nlaradock\\php-worker\\laravel-worker2.conf\n[program:laravel-worker2]\nprocess_name=%(program_name)s_%(process_num)02d\ncommand=/bin/sh -c \"sleep 60; php /var/www/artisan schedule:run\"\nautostart=true\nautorestart=true\nnumprocs=1\nAnd run a command:\n\ndocker-compose up -d php-worker\n. \n",
    "MyController": "done. ",
    "mbemvieira": "Thanks! That solved the problem :). ",
    "minkbear": "This may help you. https://github.com/laradock/laradock/issues/966. ",
    "maoosi": "Same problem for me !. ",
    "cooljeffrey": "Same issue here.\n```  ---> 1b2ffda26eb2\nRemoving intermediate container 897a6ef04c4d\nStep 6/10 : EXPOSE 80 443\n ---> Running in a759e3730f40\n ---> c8171db91406\nRemoving intermediate container a759e3730f40\nStep 7/10 : WORKDIR /var/www/public/\n ---> 87c5f4e2c785\nRemoving intermediate container ff196d4760be\nStep 8/10 : COPY vhost.conf /etc/apache2/sites-enabled/vhost.conf\n ---> 29608f517f1a\nRemoving intermediate container e3f85720b7e5\nStep 9/10 : ENTRYPOINT /opt/docker/bin/entrypoint.sh\n ---> Running in 990385832e01\n ---> 476e8a43b748\nRemoving intermediate container 990385832e01\nStep 10/10 : CMD supervisord\n ---> Running in a2da1859af5f\n ---> f07fc5c908ac\nRemoving intermediate container a2da1859af5f\nSuccessfully built f07fc5c908ac\nWARNING: Image for service apache2 was built because it did not already exist. To rebuild this image you must usedocker-compose buildordocker-compose up --build`.\nCreating laradock_applications_1\nCreating laradock_redis_1\nCreating laradock_mysql_1\nCreating laradock_workspace_1\nCreating laradock_php-fpm_1\nCreating laradock_apache2_1\nERROR: for apache2  Cannot start service apache2: oci runtime error: container_linux.go:247: starting container process caused \"chdir to cwd (\\\"/var/www/public\\\") set in config.json failed: no such file or directory\"\nERROR: Encountered errors while bringing up the project.\n````\nWhat is interesting is that the /var/www/public/ appeared as WORKDIR during the build process, then later it complains no such directory.\n. Credits to @alchimik .\nI created a public folder in the workspace, and executed docker-composer build, which took a long time to rebuild the images,  then docker-composer up -d apache2 mysql redis, hooray !\n~~Well, i have no ideas what happened~~\nThis looks like a necessary step for workspace/multiple-projects setup, would not it be mentioned in documentation ?\n. ",
    "darron1217": "@Mahmoudz I got directory indexing page after Apache2 fresh install...\nI think public directory config WEB_DOCUMENT_ROOT=/var/www/public must be there for most projects(especially for Laravel), and just mention about it on documentation would be nice :)\n. ",
    "faphdev": "Hello, thanks for the detailed explanation. I followed your instruction but I am getting 403 forbidden from Nginx. What are the changes needed for docker-compose.yml file?. ",
    "Grald": "the same problem here @faphdev. Did you fix yours?. Thanks @bestlong . I solved this problem by following this steps: https://lesson-school.com/autopost/laravel-docker-\u74b0\u5883\u69cb\u7bc989-with-laradock/. ",
    "agcty": "I have a similar problem, however, I want my apps living on the same domain but just in different folders.\nMy config looks like this:\n```yaml\n//.env\nPoint to the path of your applications code on your host\nAPP_CODE_PATH_HOST=../frontend/dist/\nAPI_CODE_PATH_HOST=../laravel-api/\nPoint to where the APP_CODE_PATH_HOST should be in the container. You may add flags to the path :cached, :delegated. When using Docker Sync add :nocopy\nAPP_CODE_PATH_CONTAINER=/var/www/frontend/:cached\nAPI_CODE_PATH_CONTAINER=/var/www/api/:cached\n```\n```yaml\n//docker-compose.yml\nNGINX Server\nnginx:\n    build:\n      context: ./nginx\n      args:\n        - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER}\n        - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT}\n        - CHANGE_SOURCE=${CHANGE_SOURCE}\n    volumes:\n      - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}\n      - ${API_CODE_PATH_HOST}:${API_CODE_PATH_CONTAINER}\n      - ${NGINX_HOST_LOG_PATH}:/var/log/nginx\n      - ${NGINX_SITES_PATH}:/etc/nginx/sites-available\n    ports:\n      - \"${NGINX_HOST_HTTP_PORT}:80\"\n      - \"${NGINX_HOST_HTTPS_PORT}:443\"\n    depends_on:\n      - php-fpm\n    networks:\n      - frontend\n      - backend\n```\n```nginx\n//nginx.conf\nserver {\nlisten 80 default_server;\nlisten [::]:80 default_server ipv6only=on;\n\nroot /var/www/frontend/;\nserver_name localhost;\nindex index.php index.html index.htm;\n\nlocation / {\n    alias /var/www/frontend/;\n    try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation /laravel {\n    alias /var/www/api/public/;\n    try_files $uri $uri/ @laravel;\n    # try_files $uri $uri/ /index.php$is_args$args;\n\n    location ~ \\.php$ {\n        fastcgi_pass php-upstream;\n        fastcgi_index index.php;\n        fastcgi_buffers 16 16k;\n        fastcgi_buffer_size 32k;\n        fastcgi_param SCRIPT_FILENAME $request_filename;\n        #fixes timeouts\n        fastcgi_read_timeout 600;\n        include fastcgi_params;\n    }\n}\n\nlocation @laravel {\n    rewrite /laravel/(.*)$ /laravel/index.php?/$1 last;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\n}\n```\nI always get this error message: nginx_1 | 2018/10/21 11:15:00 [error] 8#8: *1 FastCGI sent in stderr: \"Primary script unknown\" while reading response header from upstream, client: 192.168.112.1, server: localhost, request: \"GET /laravel/ HTTP/1.1\", upstream: \"fastcgi://192.168.112.5:9000\", host: \"localhost\"\nI cant access the app in /laravel/ but can access the root. Any help would be appreciated!. ",
    "vladyslavstartsev": "@agcty I think you changed the  fastcgi_param SCRIPT_FILENAME  directive that's why it fails fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\nalso see this for more info\n. @hlorofos you can put the code (that was suggested by @philippeboyd) in your Dockerfile. Or even send PR. The problem is, it probably will not be merged, because the 5.6 EOL is in 2 mouths from now.\nSo the installing of the extension is mostly up to you.. @thavoo you're using windows that's their issue try https://github.com/docker/for-win/issues/1100 \nalso see this one https://github.com/docker-library/official-images/issues/3835. When editing docs, I've found that Run Laravel Queue Worker (don't know how to add link to the section) section is not relevant. What I mean  is, you don't need to do those steps\na) open the docker-compose.yml file \nb) add a new service container by simply copy-paste this section below PHP-FPM container\nyou can just do docker-compose up -d php-worker straight out of the box. found installing volumes with docker-compose in phpmyadmin docs, but still doesn't work.\nLink to the docks. @phirschybar look at this one that I did last week it's almost the same, but for workspace container, not for php-worker. @phirschybar can you please close your issue if every thing works fine?. @adammparker \nhttps://github.com/laradock/laradock/blob/b2ab970d04e4c4c958ff25fd1ea09af91c39df37/workspace/Dockerfile#L333-L345\ndo the same as here but for you extension. @adammparker  can you please close your issue if every thing works fine?. > Need help\n\nI need php7.1-gmp in workspace container. I have set the following variable to WORKSPACE_INSTALL_GMP=true and PHP_FPM_INSTALL_GMP=true. php version in workspace container is PHP_VERSION=7.1. Rebuilding (docker-compose build --no-cache workspace) workspace container installs php7.2-gmp instead of php7.1-gmp. @vladyslavstartsev\n\nokay, somehow it installs old PHP 7.2,\nmake sure it installs 7.1 (for example check that you changed values in .env and not env-example). see this one https://github.com/laradock/laradock/issues/1098\nyou have old docker version, docker already has  18.03.1 version. @broven that's 2 different .env files, for 2 different project's. It doesn't make sense (at least for me) to have access to project's .env. @broven ok, I think it still bad idea, because people who use laradock, use it with symfony, wordpress, magento, zend and all other php frameworks and technologies that may not use .env files right now.\nAlso it was spited up by design.\nBut to solve your issue, there is a article on the docker docs https://docs.docker.com/compose/environment-variables/#the-env_file-configuration-option and for the laravel override the LoadEnvironmentVariables class. can you please post your full problem. It the problem on the workspace or on the php-fpm? What does it say? How can I reproduce it?\nBTW, it's ok that workspace php user is different to php-fpm user.  Because they have different containers so they are isolated.\nBut it's not ok that they have different rights for users.. @elinxer in which container?. closing #1724. @bestlong I've resolved conflicts!. Have you looked at this one? http://laradock.io/#B. @hz61p1 I'm not maintainer, but I would like to see this.\nAlso if you will do the PR, pay attention to not only .env (env-example in our case) but also to the matching of .env to docker-compose.yml.\nWhat I mean is if you will look into .env you will see WORKSPACE_COMPOSER_GLOBAL_INSTALL var as first, but if you open docker-compose.yml you will see it will but on over 10th place in the args list of workspace service.. have you tried this? https://laradock.io/documentation/#change-the-php-fpm-version . @dehumanise you have said that you can't run node script, but you don't say anything about the error you had. Can you please add some stack trace or something like that so we can help you more.\nIs it permissions issue? Is it an issue that php-fpm can't find node executable?\nSorry, but it's not clear for me.\nAlso there is a table\n| type                                         | container  |\n|----------------------------------------------|------------|\n| job (which is internally an artisan command) | php-worker |\n| php-fpm                                      | web        |\n| artisan command                              | workspace  |. same thing for the issues that are 1 y.o.\nwe can use https://github.com/apps/stale (at least for issues) to automate things. @sowork please consider using issue template. It will be easier for the devs to find out your problem. @kideny it's already merged, but can you please add also phalcon for php-worker.\nPreviously I was having issues when there was some ext for workspace and php-fpm, but no for php-worker. I've found on Hugo docs that there is possibility for that https://gohugo.io/tools/search/\nalso I found that Algolia pricing for OSS is free.. I can you please squash your commits and add phalcon to php-worker container. @kideny Thank you!. @santigarcor if you look inside laradock is just set of services binded together with docker-compose.yml file. That what I've found on SO for you question https://stackoverflow.com/questions/44543842/how-to-connect-locally-hosted-mysql-databse-with-the-docker-container. @lfrichter have you google it? Have you found an answer? That is probably not laradock issue, but docker issue.. @kideny Can you please help? Or that's the thing you fixed in #1811 ?. @blunket there is also not that much activity in past months . In your .env file see the var called DATA_PATH_HOST and go to that folder, after that delete the mysql folder there and then do the docker-compose build --no-cache mysql and then docker-compose up -d mysql. Hi! \nThe problem is not in the user www-data.\nSee what happens - you have installed the node under the workspace container\nand you're checking if it is there by node -v\nbut the requests are by other container called php-fpm. And in the php-fpm you don't have node installed\nSo you should install node there - see the example in dockerfile of workspace\nhttps://github.com/laradock/laradock/blob/538b6aa0cd484c475c5c537a763e4e1fe330fcae/workspace/Dockerfile#L447-L468. try to delete data from the DATA_PATH_HOST (the mysql relevant) and then do docker-compose build --no-cache mysql and see if it helps. Probably you have first created (build) the container with the default docs and then modified them. already solved in https://github.com/laradock/laradock/pull/1866\nwaiting to be merged. > As this is required by composer command, should we move installing zip + unzip to https://github.com/laradock/workspace ?\n\nIn addition, would you please remove all existence of installing unzip + zip in this Dockerfile, for ex, if INSTALL_TERRAFORM = true, it'll install unzip?\n\nsure, thank you. @bestlong what do you think? leave it here or move to https://github.com/laradock/workspace ?. > but there is a big problem. docker hub not auto build new image both workspace and php-fpm projects.\nso... what should I do in my turn?. I think it will be better to split those changes into 3 separate PRs. no need for whitespace. I think it should not be hardcoded that way, because currently we are pulling the latest version from master\nhttps://github.com/ptrofimov/beanstalk_console/archive/master.tar.gz. can you please revert all of those whitespace removing lines back?\nThis PR is small, but it's definitely  easier to look at PR without such things. Yes! Thanks a lot . changed the comment to some other env var because if we will leave it like this it will mislead people. ",
    "cyberkiko": "@bestlong I followed your config and for some reason, my second website keeps pointing to the first one. Is like is reading just one conf. ",
    "Zabanya": "after hours of googling finally know that i need to add docker name / hostname to etc/host before using it :(.\ncan you tell to add docker name / hostname to etc/host in guide?, in case there is more docker newbie using laradock. ",
    "LeoRoll": "maybe you should change REDIS_HOST=127.0.0.1 to REDIS_HOST=redis in  .env that file under your project.. ",
    "hellowords": "try to edit : vim laradock/redis/redis.conf\nand find the line bind 127.0.0.1 ::1 and change it to #bind 127.0.0.1 ::1 and then \nbash\ndocker-compose build --no-cache  redis\ndcoker-compose up -d redis\nin laravel .env REDIS_HOST=redis\n. ",
    "wangjialei01": "you need under laradock folder and run docker-compose up -d nginx mysql\n$ pwd\n/laradock\n$ ls\nDOCUMENTATION       aerospike       certbot         hhvm            mailhog         mssql           percona         postgres        selenium\nLICENSE         apache2         docker-compose.yml  jenkins         mariadb         mysql           pgadmin         postgres-postgis    squid\nREADME-zh.md        beanstalkd      elasticsearch       kibana          memcached       nbproject       php-fpm         rabbitmq        travis-build.sh\nREADME.md       beanstalkd-console  env-example     laravel-echo-server minio           neo4j           php-worker      redis           varnish\nadminer         caddy           haproxy         logs            mongo           nginx           phpmyadmin      rethinkdb       workspace\n$\nbe sure you have .env under this folder and \nthen you can run docker-compose up -d nginx mysql\n. thank you. \nfinally i found the reason. \ndocker-compose up -d mssql\ndocker logs mssql\nand \nsqlservr: This program requires a machine with at least 3250 megabytes of memory.\nSqlcmd: Error: Microsoft ODBC Driver 13 for SQL Server : Login timeout expired.\nSqlcmd: Error: Microsoft ODBC Driver 13 for SQL Server : TCP Provider: Error code 0x2749.\nSqlcmd: Error: Microsoft ODBC Driver 13 for SQL Server : A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online..\nit seems memory is not enough so please tell me \nwhere is the mssql's memory setting? i want to set it to 4GB\nanyone help?\n. @ItaloBC  thank you\n. anyone help ?. ",
    "ardziej": "It is true. Timezone is set only for workspace container.\nARG TZ=UTC\nENV TZ ${TZ}\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\nShould be added for example to mysql/Dockerfile to set timezone in right way.\npull for MySQL #1016 #1015 \nThis same for PHP-FPM Container should helps. I can make one bigger pull request later for others containers.\nIs it a good idea? For which containers ?. @winfried-van-loon what about rest of containers ? cause it's can be a problem for all of the containers. eg. queues. mssql, php-fpm. Is it the only one way to set timezone for all of them, one by one ? I can make a one commit for it, if it is the best idea to fix timezone problem in laradock.\nBest! \ud83d\udc4d . ",
    "xcaptain": "I also encountered this problem and solved by manually adding ARG TZ=UTC ENV TZ ${TZ} RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone to php-fpm/Dockerfile-{VERSION} and then edit php-fpm/php{VERSION}.ini to set local timezone.\nI think all containers share the same timezone config would be a good idea.. ",
    "canxml": "I got the same issue on macOS 10.12\nCan't login via Phpmyadmin but it's work on Sequel Pro.. ",
    "zulandar": "Can you delete /tmp/mysql and run docker-compose build mysql then run docker-compose up -d nginx mysql and try again?. ",
    "datpp": "hi @ihd2911 \nplease try to connect MySQL with TCP protocol (it mean replace localhost by 127.0.0.1). ",
    "own2pwn": "Okay, I've completeyly started from scratch, created my own keys, changed Dockerfile for php 7.1 (to use my name of the keys), and now I can connect but still can't auth.\nThere is what I've got now: \n~/laradock/workspace: ssh -i laradock_id_rsa -v root@laravel -p 2222\nOpenSSH_7.4p1, LibreSSL 2.5.0\ndebug1: Reading configuration data ~/.ssh/config\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Connecting to laravel [192.168.0.105] port 2222.\ndebug1: Connection established.\ndebug1: identity file laradock_id_rsa type 1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file laradock_id_rsa-cert type -1\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_7.4\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.2p2 Ubuntu-4ubuntu2.1\ndebug1: match: OpenSSH_7.2p2 Ubuntu-4ubuntu2.1 pat OpenSSH* compat 0x04000000\ndebug1: Authenticating to laravel:2222 as 'root'\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: algorithm: curve25519-sha256@libssh.org\ndebug1: kex: host key algorithm: rsa-sha2-512\ndebug1: kex: server->client cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\ndebug1: kex: client->server cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug1: Server host key: ssh-rsa SHA256:GNGpbQAASAzchcnZM0okxfvtgvVESGUKhUv0FwtV6JA\ndebug1: Host '[laravel]:2222' is known and matches the RSA host key.\ndebug1: Found key in ~/.ssh/known_hosts:13\nWarning: Permanently added the RSA host key for IP address '[192.168.0.105]:2222' to the list of known hosts.\ndebug1: rekey after 134217728 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: rekey after 134217728 blocks\ndebug1: SSH2_MSG_EXT_INFO received\ndebug1: kex_input_ext_info: server-sig-algs=<rsa-sha2-256,rsa-sha2-512>\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Offering RSA public key: laradock_id_rsa\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: password\nroot@laravel's password:. ",
    "devployment": "Just encountered the same issue. My host machine is Windows 10. A workmate running the same code on a Mac as I do does not have this issue. . Just in case. If you changed your Windows password recently, make sure that the drives you need are shared in the Docker settings again. It just happened to me that these shares were lost. Probably as I had to change my password recently.\nSo I created a new DockerUser and gave it the needed (admin) rights. By this it should not happen anymore if the company policy forces me to change my password. Or just use your Windows user and make sure everything is shared as needed.. ",
    "ItaloBC": "I'll do.\nI'm testing v5.5.0 so I will commit over that.. Commits already merged, so I'm closing this \"issue\".. Can you post your Docker logs from the MySQL container?. Did you read the official documentation from Microsoft?\nYou should be able to use this:\nsqlcmd -S <servername> -U <username> -P '<YourPassword>'\nThis issue seems related to Microsoft SQL Server and not Laradock. Please refrain from posting issues not related to Laradock.. > sqlservr: This program requires a machine with at least 3250 megabytes of memory.\nBasically, your VM (or your system, if you are under Linux) should have more than 4GB available, as the Microsoft SQL Server Docker Image says.\nAFAIK docker-compose.yml can reserve and limit a designated memory pool but only on version 3 of the file.. I would recommend MySQL or MariaDB, they don't require 4GB to start, unless your project demands such RDBMS.. ",
    "pawlox": "I have the same problem. What is your Windows user name? Mine contains non ascii characters and I think this is the problem (the same was with Vagrant). Some users recommend to install docker in Python 3 environment instead 2.7 but I have installed Python 3 and it didn't helped :/. ",
    "ejblom": "Keeps us updated @codeitlikemiley , I am currently building my first Spark app via Laradock. If it is finished, can you perhaps post a quick tutorial to get us started? Thanks in advance.. ",
    "bibberfell": "Hi @codeitlikemiley !\nIs there any updates for this issue?. ",
    "JohnAlonso": "Specifying the user in the docker-compose.yml file worked for me.\nIn the MySQL / MariaDB container section add: user: mysql. ",
    "nguyencongkrb": "I have fixed it. Disable AIO\nhttps://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10. I have fixed it. Disable AIO\nhttps://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10. I have fixed it. Disable AIO\nhttps://stackoverflow.com/questions/48239668/fails-to-initialize-mysql-database-on-windows-10. ",
    "heimuya": "@vitoo the output is \ncertbot_1              | Requested domain \"edc.easygreat.net\" is not a FQDN\ncertbot_1              | cp: cannot stat '/etc/letsencrypt/archive/\"edc.easygreat.net\"/cert1.pem': No such file or directory\ncertbot_1              | cp: cannot stat '/etc/letsencrypt/archive/\"edc.easygreat.net\"/privkey1.pem': No such file or directory\nbut I find the domain is ok. Thanks for your reply.. ",
    "kirtangajjar": "@winfried-van-loon @heimuya Excatly, I had the same problem. Turns out, you have to change \nCN=\"fake.domain.com\" to CN=fake.domain.com. @vwchu @Mahmoudz Not related to this, but while we're at it, can we update certbot to use certbot and not letsencrypt? \nAlso, it would be great if we could - \n1. Somehow copy paste the certs to right place(probably to a .ssh folder in application).\n2. Add some default configuration for ssl in apache/nginx containers so that ssl could work out of box.. ",
    "JIFT": "Not working for me. \nFailed authorization procedure. letterswar.com (http-01): urn:acme:error:unauthorized :: The client lacks sufficient authorization :: Invalid response from http://xxxxx.com/.well-known/acme-challenge/Gnq1fgpCJFYkH2cAHABN1l1i0cBIDS45LQ3wLVkXXXX: \"\ncertbot_1       | 404 Not Found\ncertbot_1       | cp: cannot stat '/etc/letsencrypt/archive/xxxx.com/cert1.pem': No such file or directory\ncertbot_1       | cp: cannot stat '/etc/letsencrypt/archive/xxxx.com/privkey1.pem': No such file or directory\n. The error was fixed when I add the certs volume to the docker-compose.yml\napplications:\n        image: tianon/true\n        volumes:\n            - ./data/certbot/certs/:/var/certs. The same please!. ",
    "doghap": "@JIFT  put this code into you nginx config: \nlocation /.well-known/acme-challenge/ {\n        root /var/www/laradock/certbot/letsencrypt/;\n        log_not_found off;\n    } \nletsencript generate .well-known/acme-challenge/xxxxxxxxxx files in to /laradock/certbot/letsencrypt folder. you can find your certs in laradock/data/certbot/certs/. ",
    "heshuo13": "Not working for me.     \n404 Not Found\nhelp   .  The following errors were reported by the server:\nDomain: *\n   Type:   unauthorized\n   Detail: Invalid response from http://****/.well-\n   known/acme-challenge/6uE4HCVIZ7xN4Y4PH-wI1bOYIAbMu8qc1Gejxbp62CA:\n   \"\n404 Not Found\n\n404 Not Found\n\"\nTo fix these errors, please make sure that your domain name was\n   entered correctly and the DNS A record(s) for that domain\n   contain(s) the right IP address.\n. @JIFT  i want to know you config, nginx and certbot. ",
    "Ishodnikov": "Add to nginx section in docker-compose.yml\n    nginx:\n      volumes:\n        - ./data/certbot/certs/:/var/certs\n        - ./certbot/letsencrypt/:/var/www/letsencrypt. https://github.com/laradock/laradock/issues/1012#issuecomment-427121338. ",
    "Trexology": "@Ishodnikov Hi, i tried adding the\nvolumes:\n- ./data/certbot/certs/:/var/certs\n- ./certbot/letsencrypt/:/var/www/letsencrypt\nunder my apache2 section but somehow it does not work\napache2:\n      build:\n        context: ./apache2\n        args:\n          - PHP_UPSTREAM_CONTAINER=${APACHE_PHP_UPSTREAM_CONTAINER}\n          - PHP_UPSTREAM_PORT=${APACHE_PHP_UPSTREAM_PORT}\n          - PHP_UPSTREAM_TIMEOUT=${APACHE_PHP_UPSTREAM_TIMEOUT}\n          - DOCUMENT_ROOT=${APACHE_DOCUMENT_ROOT}\n      volumes:\n        - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}\n        - ${APACHE_HOST_LOG_PATH}:/var/log/apache2\n        - ${APACHE_SITES_PATH}:/etc/apache2/sites-available\n        - ./data/certbot/certs/:/var/certs\n        - ./certbot/letsencrypt/:/var/www/letsencrypt. yes, @j1yak solution has fixed the issue.. ",
    "iredmedia": "I'm noticing that i can change this ONLY on the first run. Subsequent builds/runs fail to update with these new values, and retain the first run (regardless of removing volumes, containers, images).. The issue in my case is that CHANGING after FIRST run, the DB still exists on the host OS and isn't modified as per #1028. Need to manually change info, or delete ~/.laradock/data/[mysql/postgres] etc.\nin the .env file\n```\nData Path:\nFor all storage systems.\nDATA_SAVE_PATH=~/.laradock/data\n```. I updated my post, it fails on second-load so I must be missing something. . Okay, that makes a lot of sense. So the best way to change these values would be to execute commands to pgsql like normal?. ",
    "lhq0826": "@winfried-van-loon hi, Same issue is present for php7.0, git commit '8a090f3e46f4d04f9111952b5d12f2e2c80ff7b9'\nStep 19/69 : RUN if [ ${INSTALL_MONGO} = true ]; then     pecl install mongodb &&     docker-php-ext-enable mongodb ;fi\n ---> Running in b08a8ce25afe\nNo releases available for package \"pecl.php.net/mongodb\"\ninstall failed. @thiagorb \ncontainer_linux.go:247: starting container process caused \"exec: \\\"/bin/sh\\\": stat /bin/sh: no such file or directory\"\nService 'mysql' failed to build: oci runtime error: container_linux.go:247: starting container process caused \"exec: \\\"/bin/sh\\\": stat /bin/sh: no such file or directory\"\nwin 10 \n. After the docker I upgrade to the latest version 18.03.0-ce , solved the problem. ",
    "fireproofsocks": "+1 on more clarification on this in the docs.  If I edit the .env, rebuild via docker-compose down and docker-compose up -d, then hit my website in a browser, I can see xdebug in the phpinfo() output, but the xdebug module isn't loaded in the cli (php -m doesn't show xdebug).\nThe docs do not show any info on where to set the typical URL triggers for xdebug... so I would recommend that the docs include the bit about which container to log into and where to edit the options, e.g. \n```\ndocker-compose exec php-fpm bash\nvi /usr/local/etc/php/conf.d/xdebug.ini\nrestart nginx / php-fpm\n```\nbut, of course, I can't find an editor installed on that container (not vim, emacs, pico, nano, etc).  So it's a long and windy homework assignment to figure out how this was intended to be used when an extra sentence or two could have saved many of us hours of time.\nFurthermore...\nI don't see any .php-fpm folder, so the entire section on http://laradock.io/guides/#enablePhpXdebug seems completely irrelevant.  I've used xdebug for years and never gotten it to work with PHPStorm, even when working with folks from IDEA, so I'm amazed that section even exists in the docs for Laradock, let alone that it appears to describe a feature that actually works for someone (!!!).  . What docs are you reading @brunen9 ? The only xdebug info I've found http://laradock.io/guides/#enable-xdebug-on-php-fpm -- besides the error you confirmed, it says this:\n\nIf you have enabled xdebug=true in docker-compose.yml/php-fpm, xdebug will already be running when php-fpm is started and listening for debug info on port 9000.\n\nwhich I don't think specifies anything about which host or folder where edits should be made... the only bit about the xdebug.ini seems to be in the wrong section (down by the firewall settings?).  Regardless, I don't think the proper place to enable xdebug is in any docker-compose.yml file, is it?  It looks like it's meant to be edited in the .env, no?  But then what steps are required to recompile the containers with that extension enabled?  Those are really the most important bits of information about using xdebug and they do not appear to be in the docs.  What am I missing?. @brunen9 thanks!  That would be a useful page to link to from the other section.  \nIt seems that the laradock/php-fpm/xdebug has errors:\n./xdebug start\n./xdebug: line 100: syntax error: unexpected end of file. ",
    "pavel-mironchik": "@fireproofsocks , but why did you try to edit xdebug.ini IN container when docs clearly says \n\n2 - Open laradock/workspace/xdebug.ini and laradock/php-fpm/xdebug.ini and enable at least the following configurations: \nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.remote_connect_back=1\n\nAnd about .php-fpm mention in docs - it is indeed mistake. There must be ./php-fpm folder which is laradock/php-fpm.. @fireproofsocks , try this link: http://laradock.io/documentation/#install-xdebug. @fireproofsocks , in my case this file is fine and works, and line 100 is just empty line: https://github.com/laradock/laradock/blob/c2c30bfd0f278f6978a48dc62cf3ee063c9f3efa/php-fpm/xdebug#L100. @taufek , but latest workspace base image in docker hub is 1.8, which was pushed 5 months ago. And it doesn't contain php-intl and other useful extensions.. > Comments != empty lines. Don't count them as such.\nBut the parser in docker \"thinks\" that they are. If you move comments outside of RUN statement the parser will not throw those errors. \nAnd please pay attention to last warning in building log:\n\n[WARNING]: Empty continuation lines will become errors in a future release.\n\nIn future those comments would become a problem.\nP.S. I found the issue related to this topic, there is a lot of talking in it: https://github.com/moby/moby/issues/29005. @a-bashtannik , look at this issue. @fireproofsocks , it is laradock/logs/nginx directory at your host.. @NickToony , I added variable PHP_WORKER_INSTALL_PGSQL and such code:\n```\n\nPostgreSQL:\n\nARG INSTALL_PGSQL=false\nENV INSTALL_PGSQL ${INSTALL_PGSQL}\nRUN if [ ${INSTALL_PGSQL} = true ]; then \\\n    apk --update add postgresql-dev \\\n    && docker-php-ext-install pdo_pgsql \\\n    && rm /var/cache/apk/* \\\n    && mkdir -p /var/www \\\n;fi\n```. It's on your host system. And there will be your nginx (or another http server) in the container, listening.. If you use Linux then you'll not need virtualization support, as Docker on Linux uses its kernel. For other operating systems, you'll need virtualization support as you'll need to run a virtual machine with Linux.. Look at #1476 . ",
    "ariefitriadin": "also maybe better  the configuration file ( e.g supervisord.conf) that reside in  /conf.d folder should linked from volume folder just like nginx site configuration.\nso we can create multiple configuration file for supervisor based on project\n. ",
    "pnghai": "https://stackoverflow.com/questions/28994647/supervisor-how-to-run-multiple-commands\nYo, finally I have found a way to run as many tasks for each project as the system allow \ud83d\udde1 . ",
    "vwchu": "Closed in favour of #1043. @Mahmoudz But I didn't change anything in the php-fpm container.\nI just refactor the environment variables. That shouldn't change the behaviour of the build process.\nUnfortunately, there's no way to rerun the tests or those specific tests that failed.. Could be a network issue at the time the tests were run.\nSimilar errors for other packages:\n\nhttps://www.phing.info/trac/ticket/497\nhttps://bugs.php.net/bug.php?id=58926\n\nI noticed a large number of failures seem to be network related.\nPossibly need some kind of retry mechanism?. @a-h-abid Thanks for the feedback. I think splitting up the docker-compose file and the env file will actually make the project much more maintainable and scalable. It will make it possible to plugin new images with no changing to the docker-compose and env file that affects other images.\nIn terms of user experience, it should be all that different from it is now. With the additional of a CLI, editing project specific environment variables shouldn't be different from editing the env file currently. The CLI will handle the merging and combining of the env files behind the scene. The user is abstracted away from that and doesn't need to know how that happens. But also we get benefits such as only including containers, images and variables that we need for our specific projects, automatic dependency management for which docker-compose and env files to be included, etc.\nUnfortunately, I have to admit that my implementation of the CLI is kind of clumsy and not very elegant or easy to use. I need a more user-friendly interface.. @Mahmoudz Thanks for adding me to the Gitter.\nI know this PR is huge, and a lot of breaking changes. I would create a separate develop or laradock-next branch for this one as oppose to merge it directly into the master. Probably, a major version, 6. As such there is a lot of work to be done with regards to updating the documentation, documentation for the script, testing, additional test cases, improvements to the script, etc.\nWhen I have a chance, I will update the documentation and add documentation for the script. \nWith regards to testing, I am not sure how I will be able to test every combination of containers, since I usually only use the basic ones (nginx, apache2, php-fpm, workspace, mysql) and am not familiar with many of the containers.\nThe basic usage should work like before:\nscripts/laradock.sh environvars:template | scripts/laradock.sh environvars:evaluate --template /dev/stdin --output .env ./.env.example\ndocker-compose $(scripts/laradock.sh dockercompose) up nginx php-fpm mysql\nPerhaps help from the community.. ```\nscripts/laradock.sh  [options] \nCOMMANDS:\nenvironvars                 Alias for environvars:template\n  environvars:template        Generates a environment file from the templates\n  environvars:evaluate        Evaluates the template against a given set of user-defined\n                              variable values. Substitutes the default values with the\n                              values provided by the user.\ndockercompose               Alias for dockercompose:args\n  dockercompose:args          Generates the --file arguments for docker-compose\nENVIRONVARS (For all subcommands)\n-a, --all                   Include all built-in templates in the output (default)\n  -o, --output        File to write generated environment file to (default: stdout)\nENVIRONVARS:TEMPLATE\n               Built-in or custom templates to include.\n                              If no template is provided, include all built-in templates.\n                              If a template is include, only output that template.\n                              Built-in templates are specified based on their name, i.e.:\n                              nginx, apache2, php-fpm, etc. \n                              Custom templates are specified based on their directory\n                              path location: <custom>/.env.example.\nENVIRONVARS:EVALUATE\n-t, --template    Input template to use as output. (default: stdin)\n                              '-' aliases for stdin.\n[overrides...]              List of files containing the user-defined values\n                              to override or substitute the default values in the\n                              templates. If none is provided, the output is the same\n                              as the template. Only variables in the template will be\n                              outputted. Variables not in the template are excluded.\nDOCKERCOMPOSE\nDOCKERCOMPOSE:ARGS\n-a, --all                   Include all built-in docker-compose.yml files (default)\n           List of docker-compose.yml files to include in\n                              the output, built-in and custom. If no docker-compose.yml\n                              files are specified, includes all built-in files.\n                              If a compose file is specified, only output that file.\n                              Built-in compose file are specified based on their name, i.e.:\n                              nginx, apache2, php-fpm, etc. \n                              Custom templates are specified based on their directory\n                              path location: <custom>/docker-compose.yml.\nEXAMPLES:\nOutput all built-in templates to stdout:\n  scripts/laradock.sh environvars:template\n\nOutput all built-in templates to .env:\n  scripts/laradock.sh environvars:template --output .env\n\nOutput only built-in templates workspace, nginx or php-fpm to .env:\n  scripts/laradock.sh environvars:template --output .env workspace nginx php-fpm\n\nFor ../.env.example:\n  APPLICATION=../src\n  DATA_SAVE_PATH=../.data\n\nOutput all built-in templates to ../.env with ../.env.example variables substituted:\n  scripts/laradock.sh environvars:evaluate --output ../.env ../.env.example\n\nOutput only built-in templates workspace, nginx or php-fpm to ../.env with\n  ../.env.example variables substituted:\n  scripts/laradock.sh environvars:template workspace nginx php-fpm \\\n    | scripts/laradock.sh environvars:evaluate --template /dev/stdin --output ../.env ../.env.example\n\nOutput only built-in templates workspace, nginx or php-fpm to ~/.laradock/.env.example.\n  Then, create .env with ~/.laradock/.env.example template with ../.env.example variables substituted:\n  scripts/laradock.sh environvars:template --output ~/.laradock/.env.example workspace nginx php-fpm\n  scripts/laradock.sh environvars:evaluate --template ~/.laradock/.env.example --output ../.env ../.env.example\n\nRun docker-compose on all built-in containers:\n  docker-compose $(scripts/laradock.sh dockercompose:args) ...\n\nRun docker-compose on built-in containers workspace, nginx, php-fpm:\n  docker-compose $(scripts/laradock.sh dockercompose:args workspace nginx php-fpm) ...\n\n  -- Note: must be explicit about `workspace` and `php-fpm`\n\n```. Hi @Mahmoudz , the current implementation for the most part works. But unfortunately, I find that my implementation of the CLI is kind of clumsy and not very elegant or easy to use. I still stand by my original idea of splitting the files, but need a better way managing it. And I intend to fix that.\nHowever, until I can get an implementation that is more usable, I think I should delete the branch I created laradock-next and work on it from my personal repo. I am looking at an interface similar to the proposed CLI, but will see. I will keep you posted.. HI @Mahmoudz , I've made significant progress in the past few days. Still need to update documentation and add additional commands. See https://github.com/vwchu/laradock/\nThe current usage is as follows:\n``\nlaradock build <options...> <images...>\n  Generate the necessary.envfile to run docker-compose\n    images (String) (Default: all included images)\n      Automatic rundocker-compose buildon the listed of Docker images.\n    --envvars (String|Path) (Default: ./.laradock)\n      Env variables file with the variables specific to the project.\n      aliases: -E <value>\n    --output (Path) (Default: ./.env)\n      Output Env file path to be generate.\n      aliases: -O <value>, --env <value>\n    --skip-dockerbuild (Boolean) (Default: false)\n      Skipdocker-compose build`.\n      aliases: -d\n    --env-example (String|Path) (Default: ./.laradock.example)\n      Env example file to be used as the template.\n      aliases: -e \n    --yes (Boolean)\n      Automatic yes to prompts. Assume \"yes\" as answer to all prompts and run non-interactively.\n      aliases: -y\nlaradock dockercompose  -- \n  Execute docker-compose with the given arguments.\n    arguments (String)\n      Arguments and options to forward to the docker-compose command.\n    --env (Path) (Default: ./.env)\n      Environment variable file to extract module list.\n      aliases: -E \nlaradock down  -- \n  Stop and remove containers and networks, optionally volumes and images as well. Execute docker-compose down with the given arguments.\n    arguments (String)\n      Arguments and options to forward to the docker-compose command.\n    --env (Path) (Default: ./.env)\n      Environment variable file to extract module list.\n      aliases: -E \nlaradock help \n  Shows help for the CLI.\n    commands (String) (Default: all)\n      Commands and command groups.\nlaradock init   \n  Initializes Laradock in existing Laravel projects.\n    project-name (String) (Default: basename of APPLICATION)\n      Sets the project name.\n    modules (String|Path) (Default: all builtin modules)\n      Modules to include within the output.\n    --envvars (Path) (Default: ./.laradock)\n      File path to sample project-specific variables file to be generate.\n      aliases: -E \n    --output (Path) (Default: ./.env)\n      Output Env file path to generate when the variables file is evaluated.\n      aliases: -O , --env \n    --env-example (Path) (Default: ./.laradock.example)\n      File path to sample Env example file to be generate.\n      aliases: -e \n    --yes (Boolean)\n      Automatic yes to prompts. Assume \"yes\" as answer to all prompts and run non-interactively.\n      aliases: -y\nlaradock install  \n  Installs this CLI at the given target path\n    target (Path) (Default: ./laradock)\n      Destination path to output the laradock executable script.\n    --yes (Boolean)\n      Automatic yes to prompts. Assume \"yes\" as answer to all prompts and run non-interactively.\n      aliases: -y\nlaradock ssh   -- \n  Alias for: tty\nlaradock tty   -- \n  Execute docker-compose exec -it <container> bash with the given arguments.\n  aliases: ssh\n    container (String)\n      Docker container to attach a terminal to.\n    arguments (String)\n      Arguments and options to forward to the docker-compose command. Arguments before -- are docker-compose options, after -- are bash arguments.\n    --env (Path) (Default: ./.env)\n      Environment variable file to extract module list.\n      aliases: -E \nlaradock up  -- \n  Create and start containers. Execute docker-compose up with the given arguments.\n    arguments (String)\n      Arguments and options to forward to the docker-compose command.\n    --env (Path) (Default: ./.env)\n      Environment variable file to extract module list.\n      aliases: -E \n```\nIf you set ENABLE_PRIVATE_COMMANDS=true, there are more internal commands for debugging.\nVerbosity can also be set VERBOSE=<some number between 0 and 7> 0 being silent and 7 being more verbose.\nShould I create a new issue for this update?\n. Hi @Mahmoudz @gulien, I'll definitely have a look at Orbit. Looks interesting. I have been considering rewriting the CLI into Go, but I just have been too busy lately.\n. Hi @jeff-h, sorry for the delay response. Haven't been able to devote much time to this project lately.\nMy original proposal was to restructure the project was rooted in the following concerns and goals:\n- I only want the modules that I use\n- Similarly, I only want to deal with the configuration for the modules I use\n- Modules should be independent from each other and dependencies between them should be explicit and versioned. \n- Module implementation should be libraries (immutable / black box to users) \n- Configurations are separate from implementations and centralized. Managed by the users with a generated scaffolding provided. \n- Break the project into many smaller modules; instead of the current monolithic structure. \nOriginally, I used a shell script to prototype this https://github.com/vwchu/laradock, but it was too slow. Currently,  thinking about a solution using a mix between Docker hub, a package manager, Docker in Docker, and maybe multi stage Docker builds. \nAnother effort has been to make a Go-based CLI https://github.com/laradock/cli but not sure about its progress and status. \nUnfortunately I don't have the time currently to experiment. Maybe in the holiday or new year. But it would be probably be from scratch with modules ported over eventually if it works. \n-- VC. Yeah, it's been forever since I proposed this idea, but I have had any time to work on it.\nI thought of split the files into modules, each with its own docker-compose, Dockerfile, configuration files, etc, would do the trick. But there are too many variants and modules. And don't want to download everything. I thought maybe use a standard package manager to download the modules and handle dependencies, but that would require the someone to figure out all the dependencies between the modules, and create and deploy all the packages. Not everyone uses the same package manager, not everyone has or wants Node/NPM or whatever other package managers installed directly on their system, and not everyone needs or wants the same packages or configurations.\nSo a long time ago, I thought maybe a Docker-outside-of-Docker setup with one Docker image published to Docker Hub that is pre-configured with scripts to process input configuration files that tells the image what packages you want and need would be a more scalable and flexible implementation of this project. It's package and package manager agnostic. You would pull that image, provide the specific configuration file(s), the image processes those configurations, downloads the packages, builds to needed images via DooD and then creates the containers you need for your particular project. Tada!\nI am no longer a fan of the idea of have a standalone CLI that you download separately to configure your images, if there is to be a CLI, it should be packaged inside another Docker image.\nBut unfortunately with work and school, I haven't had any time to implement that idea yet. I proposed this issue, before I started grad school and well life caught up, I suppose. If you would like to help and contribute, feel free.\n. I'll start making these changes to my branch.\nI have added a Node image, that could make use of this. But you are sure it works?\nShould we upgrade the docker-compose format to the latest version \"3.3\" as well?\nI have already upgrade mine to 2.2, adding support for default values in the docker-compose.yml, so we omit variables in the env files. The problem with upgrading to 3.3 is some containers use volumes-from which was removed.. @Mahmoudz Sounds good. If you have a chance, PR me with the changes to workspace, php-fpm and maybe mysql. Or should I finally create a branch here on this project. It is nearly final for me, with just some small loose ends. See my updated comments #1065 .\nAlso, going to be super busy going forward unfortunately, so less commits from me for this project.. ",
    "govnah": "Got it working by setting ARG INSTALL_MYSQLI=true in Dockerfile-71 found in php-fpm.. Hi, was having the same issue, i run the mysql_upgrade you posted and now i'm able to see databases. But i still have an issue of connecting to the database via sequel pro, using credentials i changed in .env\nAre you facing same issue and have you been able to solve it? \nthank you. I have added 127.0.0.1 mysql in my hosts file, base on some post i read. \ni just used phpmyadmin wth the following credentials and it worked:\nusername: laradock\npassword: secret\ndatabase: zoo (Collation: utf8mb4_0900_ai_ci)\nThen i have a php file which i have this code in it.\n$con = mysqli_connect(\"127.0.0.1\",\"laradock\",\"secret\",\"zoo\");\nvar_dump($con);\nthis is the result i get:\nWarning: mysqli_connect(): (HY000/2002): Connection refused in....\nWhen i use \"mysql\" instead of \"127.0.0.1\", i get:\nWarning: mysqli_connect(): Server sent charset (255) unknown to the client.\n. I did the following to get mine working:\n\nRemoved image $ docker rmi laradock_mysql\nRemove container $ docker rm laradock_mysql\nLocated DATA_SAVE_PATH=~/.laradock/data in .env file\nDeleted mysql folder\nModified laradock/mysql/Dockerfile\nFROM mysql:5.7\nMAINTAINER Mahmoud Zalt <mahmoud@zalt.me>\nRUN chown -R mysql:root /var/lib/mysql/\nADD my.cnf /etc/mysql/conf.d/my.cnf\nCMD [\"mysqld\"]\nEXPOSE 3306\nBuil docker-compeer up -d mysql nginx\n\nI hope I didn't miss anything in the steps.. ",
    "stoneshower": "In my case, I needed to login as root.\nUsed below for login to phpmyadmin\nserver: mysql\nuser: root\npass: root\nThe default credential is in .env\nMYSQL_VERSION=latest\nMYSQL_DATABASE=default\nMYSQL_USER=default\nMYSQL_PASSWORD=secret\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=root. ",
    "francisco-ltech": "I resolved this error by running:\nmysql_upgrade -u root -p --force\nHowever, the next error whilst try to migrate the schema versions of Laravel is:\nSQLSTATE[HY000] [2054] Server sent charset unknown to the client. default character set utf8mb4 collate utf8mb4_unicode_ci.\nIt seems the problem has to do with a bug in the driver in the version of PHP that comes with laradock?\nhttps://bugs.php.net/bug.php?id=74461\nThis bug seems to be resolved in PHP1.7.5.\n. Have you tried to using host=mysql?\nIf you are using the laradock repo you can spin up phpmyadmin: \ndocker-compose up -d nginx mysql phpmyadmin\nthen you can browse phpmyadmin at: http://localhost:8080\n. ",
    "ultrono": "Changing the mysql container version to 5.7 from 8.0 didn't fix this for me. \nAfter lots of faffing I decided to start from scratch. Before building the containers for the first time ensure you have set the mysql version at laradock/mysql/Dockerfile to 5.7 as described at https://github.com/laradock/laradock/issues/1047#issuecomment-314942343. \nSetting the version from mysql 8.0 to 5.7 caused lots of issues. At the moment it's quicker to set the version before starting the build process.\n. ",
    "hackel": "@Mahmoudz Yes indeed, it's working fine for me with MySQL 5.7 installed on my container right now.  I struggled with this for a while myself before I finally figured it out.  The key was using build_args instead of environment variables.\nSee: https://docs.docker.com/engine/reference/builder/#understand-how-arg-and-from-interact. Looks like this can be closed after 6b6e2d5f86f89acfbc2c9ee50b7d9d54af1b875f was merged in v7.0.1.. ",
    "srawanshr": "I also encountered the same issue... In my case I changed my css but it wont change in the browser. I could not find any viable solution but to use Laravel mix to generate different version of the same file in each compilation.. ",
    "famelis": "The problem, IMHO, is with the browser. It is using the cache for css and js.\nIf you are in development environment you can use google chrome and open the programmer's tools (Ctrl+Shift+I)\nThen in the Network tab the \"Disable cache\" must be checked, and this solves the problem.\nIn production you need to have different paths/names for the files, possibly with version number, for the browser to re-read the files and not use the cache.. The problem occurs when behind a proxy and is solved with the following modiffications\n#### .env\nSet the http_proxy in the .env file. Do not put any quotes around it\nsh\nhttp_proxy=http://10.0.1.23:3128\ndocker-compose.yml\nAdd an arg http_proxy in every build that needs to connect to the internet (e.g. uses apt-get, pecl ...)\nNote that arg http_proxy is in lowcase in order for apt-get to understand it without any other modifications in the Dockerfiles\nEdit: You have to add an https_proxy arg in all builds that use curl\nyml\n    php-fpm:\n      build:\n        context: ./php-fpm\n        args:\n          - http_proxy=${http_proxy} \n          - https_proxy=${http_proxy} \n          - PHP_VERSION=${PHP_VERSION}\nphp-fpm/Dockerfile ...\nIn all Dockerfiles that use pecl (e.g in php-fpm, php-worker, workspace, adminer) \nbefore the first use of pecl put the following code\nDockerfile\nRUN if [ \"${http_proxy}\" != \"\" ]; then \\\n    # Needed for pecl to succeed\n    pear config-set http_proxy ${http_proxy} \\\n;fi. See my solution on another thread. ",
    "mro1127": "nginx/nginx.conf\nsendfile off;\n  tcp_nopush off;\n  tcp_nodelay off;\nand then, build and restart nginx:\n\ndocker-compose build nginx\ndocker-compose restart nginx\n\n. My way\uff1a\nRUN if [ ${CHANGE_SOURCE} = true ]; then \n Change application source from dl-cdn.alpinelinux.org to aliyun source\n RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories ;fi. I clean cache of cent os 7( VirtualBox ) , and then cat the file in nginx , it changed. \necho 1 > /proc/sys/vm/drop_caches\nBUT the workspace no need to clean cache.\nHOW can I change nginx file no need to clean cache?. ",
    "arianacosta": "Hi! Thanks for the quick reply. I tried using docker-sync-stack up, but it doesn't allow you to specify the services as arguments as the usual docker-compose up <services>. In my tests, it would just start all services. So, I wanted to keep it as flexible and as close as possible to the regular docker-compose command which allows people to run only the containers they need at that moment. What do you think it should be?. @Mahmoudz No problem, I will improve the documentation even more, and add the info of the commands without the .sync.sh helper. Also, if you could provide the error that you are seeing, that would be great.\nThank you. ",
    "hmaurer": "Unless I am mistaken docker-compose should be started using a flag (or env var) to load docker-compose.sync.yml instead of docker-compose.dev.yml? Using ./sync.sh up did not work for me. After some googling I tried docker-compose -f docker-compose.yml -f docker-compose.sync.yml up, which seems to work perfectly. Am I missing something?. ",
    "nieuwenhuisen": "I have tried to change the version to 2.1 in the docker-compose.yml file, but than I am getting the error \"ERROR: plugin not found\". It's only when I am using Windows containers. If I switch to Linux containers it's working. ",
    "JacobMillward": "It seems related to this issue here https://github.com/docker/compose/issues/4106\nSeems we need version 2.1 in the docker-compose.yml. ",
    "0lide": "Nice, same issue using Windows Containers, but can't use Linux Containers, because i7 and 8gb ram is not enough for docker when try use Linux Containers :D. ",
    "boudewijnk": "Same issue using Windows Containers on Windows 10.\ndocker version:\n```\nClient:\n Version:       17.12.0-ce\n API version:   1.35\n Go version:    go1.9.2\n Git commit:    c97c6d6\n Built: Wed Dec 27 20:05:22 2017\n OS/Arch:       windows/amd64\nServer:\n Engine:\n  Version:      17.12.0-ce\n  API version:  1.35 (minimum version 1.24)\n  Go version:   go1.9.2\n  Git commit:   c97c6d6\n  Built:        Wed Dec 27 20:15:52 2017\n  OS/Arch:      windows/amd64\n  Experimental: true\n```\ndocker-compose version:\ndocker-compose version 1.18.0, build 8dd22a96\ndocker-py version: 2.6.1\nCPython version: 2.7.14\nOpenSSL version: OpenSSL 1.0.2k  26 Jan 2017\ndocker-compose up:\nERROR: client version 1.22 is too old. Minimum supported API version is 1.24, please upgrade your client to a newer version\nchanging version to 2.1 gives:\nCreating network \"xxx\" with driver \"bridge\"\nERROR: plugin not found\nHow do I solve this issue?. ",
    "merodiro": "I have same issue, did anyone found a way to fix it?. did you find a solution? I have the same problem also. ",
    "devmsh": "Same here!. ",
    "harapeko": "same!. ",
    "CondormanFr": "Same ... ",
    "muskanaul": "same issue here, was anyone able to resolve this? \n. ",
    "gnanasekaranl": "Same here for windows 10.. ",
    "chidt": "Me too, It same :(. ",
    "samhela": "my docker-compose version was this \ndocker-compose version 1.22.0, build f46880fe\ndocker-py version: 3.4.1\nCPython version: 3.6.6\nOpenSSL version: OpenSSL 1.0.2o  27 Mar 2018\nand \ndocker-compose.yaml  was \nversion: '2.1'\nservices:\n  kafka:\n    image: antlypls/kafka:0.8.2.2\n    volumes:\n............\nI updated version '2' to '2.1'\nworks\nThanks for this folks \nhttps://github.com/docker/compose/issues/4106\n. ",
    "arliang": "Same issue solved by updating the DockerToolbox on Mac . ",
    "MrBandaruk": "Same issue here. Solved by changing version to 2.1. . ",
    "bradleyess": "For future reference \nUsername : pgadmin4@pgadmin.org\nPassword : admin\nLet's get this into the docs!. I feel like this is a matter of taste, and shouldn't be an out of the box default. Having an .env variable to switch is a great idea. If the maintainers are keen I'd be happy to make the PR.. @harrysbaraini answer is correct.\nIn simpler terms, your laravel .env should look like this : \nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=db\nDB_USERNAME=username\nDB_PASSWORD=password. ",
    "LadislavMarkus": "@rogyvoje  If you are using Windows you should set port to 5432 in your project .env file, your postgres container is probably set to expose port 5432 despite your using port 5433 :\nDB_CONNECTION=pgsql\nDB_HOST=postgres\n**DB_PORT=5432**\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nAlso if you are using latest laradock be sure to configure PostgreSQL Container in docker-compose.yml file, this config worked for me:\n```\nPostgreSQL Container\npostgres:\n  build: ./postgres\n  volumes:\n\n- ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data\n    - data:/var/lib/postgresql/data\n  ports:\n    - \"${POSTGRES_PORT}:5432\"\n  environment:\n    - POSTGRES_DB=${POSTGRES_DB}\n    - POSTGRES_USER=${POSTGRES_USER}\n    - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}\n  networks:\n    - backend\n\nand\ndata:\n    driver: \"local\"\n```. At the end figured out that the issue was Chrome, tried all possible calls with Curl from console 100 times and not a single duplicate, also tested with Mozilla works just fine.. ",
    "rogyvoje": "Yeah, this worked for me, but I don't understand why I need to set port 5432 if inside laradock/.env file I strictly said 5433...\nAnd also docker-compose.yml is not really configured to work with postgres and docker on windows, as I can see...\nIs there going to be some kind of a fix for this problem?. I did not define networks property when I created node container, Now it's working properly sorry for the false alarm.. ",
    "chrispaynter": "I have the same \"problem\" @rogyvoje in a different situation using a  .NET Core app, but I think the findings help support @LadislavMarkus's point.\nHere's the excerpt from my Docker file for the postgres container:\n```\nversion: '3'\nservices:\n  app.tests.postgres:\n    image: app.tests.postgres\n    restart: always\n    ports:\n      - 5433:5432\napp.tests:\n    build: \n      context: ../../src/App\n    image: app.tests\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - ConnectionStrings:DefaultConnection=User ID=sured;Password=sured;Host=postgres;Port=5432;Database=sured;Pooling=true;\n        ports:\n           - \"5002:5000\"\n    links:\n      - app.tests.postgres:postgres\n    depends_on:\n        - app.tests.postgres\n```\nWhat I am finding, as you have done, is that by changing my connection string port to 5432, the application is able to connect to app.tests.postgres successfully within the internal Docker network. If that connection string was for Port 5433 then the connection would be refused.\nNow, on my local machine (outside the context of Docker), if I spin up PgAdmin, I am able to connect to app.tests.postgres directly by connecting to localhost:5433 with the same credentials, however, localhost:5432 will not connect.\nMy deduction is that when app.tests container is linked to the app.tests.postgres container, the connection port is the same one that is being exposed by the Docker file that the image was made from. In my case, I'm using the official postgres image as my base, which exposes 5432. In the case of the ports being set on sured.tests.postgres, they are only being exposed for connections outside of the internal docker network being created.\nAt least this is what I can tell without spending more time I don't have at the moment to clarify.\nHoping to come across official documentation on this when I get a chance.\n. ",
    "kjbetz": "@chrispaynter THANK YOU!!! Exactly what I needed to see.... ",
    "HooDaresWins": "Hello, I had issues to configure remote debugging on PhpStorm and, browsing the web for a solution, I noticed it was an issue for many people.  I've found a simple way to configure Xdebug and I felt it would be a nice addition for your documentation.  Thank you for laradock, I like it !. ",
    "jeff-h": "I am very interested in discussion around a restructure of Laradock.\nUsing it in dev, the changes I have had to make to laradock's various configs are numerous and hard to find. The only way I can really know what I've changed is manual file diffs and git history. I'm just talking simple things like php memory allocation, installing libssh2, adding a shared volume or three etc\nI'm also working toward using laradock in production, so the configuration management becomes even more difficult; most prod config need to inherit from dev, but some things need to extend it, some things need to be removed.\nI am hoping there might be a better way! @vwchu do you think your changes would help resolve the above concerns?\nAs a docker newb Laradock currently feels simple and easy to understand \u2014 really just a bunch of fine-tuned standard docker configs \u2014 so I'm nervous about introducing \"proprietary\" stuff to it. I'm probably asking for the impossible \u2014\u00a0powerful but simple to understand :). @tronghieu are you also using PHP Storm? I so I probably can't help, but I do have it running really well using Codebug as the client (macOS app similar to MacGDBp).. Here's the complete contents of my xdebug.ini; one copy inside each of php-fpm, ~php-fpm-services~ and workspace*, which is working perfectly for me.\nI use it with Codebug \u2014\u00a0sorry if I'm convoluting a thread perhaps revolving around PHPSTORM oddities? Nonetheless I thought a working config might be a handy reference point.\n```\n; NOTE: The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.remote_connect_back=0\nxdebug.cli_color=0\nxdebug.profiler_enable=0\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.remote_port=9000\nxdebug.remote_host=docker.for.mac.localhost\nxdebug.idekey=PHPSTORM\n```\nI'm firmly in the \"use xdebug.remote_host=dockerhost instead of xdebug.remote_connect_back=1\" \u2014 I  couldn't get the connect-back thing to work at all. Also you will note the docker.for.mac.localhost \u2014\u00a0also critical, in my setup at least.\nAssuming you've set WORKSPACE_INSTALL_XDEBUG=true etc in your .env, this is what I did to rebuild after configuring the above stuff: $ docker-compose build workspace php-fpm ~php-fpm-services~\n\n*) only enable xdebug in the workspace container if you really need it; it slows down composer update massively.. Awesome \u2014\u00a0glad it helped :) I also feel like I spend ridiculous amounts of time getting this all set up, and keeping it that way. I definitely have a love/hate relationship with docker stuff. It's way too painful to setup, but way too awesome to give up.\nSorry about the php-fpm-services thing \u2014\u00a0I totally forgot that's one I invented for my own specific needs.. I also had to track down and find out why docker-sync wasn't working for me, and ended up commenting out the referenced line 10. Sorry, I should have contributed some documentation change regarding this, but I'm pretty new to docker and tend to be quite unsure that my changes are correct.\nI really like this idea for another reason, which is related to using Laradock in production. There really are very few parts of the current docker-compose.yml that have to be different between a production and a development version. Volumes are the main thing that cannot be overridden by a second docker-compose file (eg a docker-compose-prod.yml), so separating certain volume config (and anything else like it) into a -dev and -production version would be great, and not cause any excess maintainability issues for the project, because it would not result in any code redundancy.\nThen, all we need is an .env and an .env.prod file which each specify how the various docker-compose configs should behave in their referenced environment (eg include xdebug in dev but not in prod).. @EugenMayer \u2014 I have created a PR from your suggestions above, partly because I really need it! :)\nHowever, in my proposed docker-compose.dev.yml I only included the volume mapping. Could you explain why you propose the applications - ports and the fpm sections?. What socket server are you thinking?. Ah, sorry. I misunderstood.. See also #1226 for the inspiration for this PR (thanks @EugenMayer).. @stevenobird So sorry for the oversight. This kind of thing really annoys me in Docker... so many different fiddly things to change all the time! I really dislike the fact my PR means you cannot just use a copy of the supplied env-example on Windows and expect it to work :(\nSince (I'm guessing) you're on Windows, would you be able to test COMPOSE_PATH_SEPARATOR and see if it can be set to : on Windows, or does that break everything?\nCOMPOSE_PATH_SEPARATOR=:\nI assume it breaks things on Windows or it would come out-of-the-box with the same separator across all three platforms?\nRelevant docs: https://docs.docker.com/compose/reference/envvars/#compose_file\n@Mahmoudz Would you consider a PR changing the compose path separator to # (or something like it)?. Wow! That's both great news and also incredibly annoying. Thanks for testing it.\nSo... why is : not standard \"out-of-the-box\" in Windows docker-compose then?\nThe fix now seems to be simply to add COMPOSE_PATH_SEPARATOR=: into the default env-example file, would you agree? We can then remove any help notes regarding this from the documentation \u2014\u00a0it should just work on all three platforms without modification.. See https://github.com/laradock/laradock/pull/1265 for the PR that broke this. It's currently awaiting a little info from someone who uses Windows.. This is perfect, thanks @francoisfaubert \n@Mahmoudz \u2014 I am hoping you can roll this in asap, because my previous PR is causing lots of hassles for Windows users (I didn't realise Docker defaults to a different file delimiter on Windows than on Linux and macOS). This PR also fixes https://github.com/laradock/laradock/pull/1265. Looks fine to me. Why did you think it hadn't worked? Are you using Kitematic, and if so, does the container show up as running?. Very very weird. I traced it (by stepping back in my git repository history) to earlier today when I changed the xdebug.ini file, specifically the following line from 0 to 1:\nxdebug.remote_autostart=1\nThe full contents of my xdebug.ini files is:\n```\n; NOTE: The actual debug.so extention is NOT SET HERE but rather (/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini)\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.remote_connect_back=0\nxdebug.cli_color=0\nxdebug.profiler_enable=0\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.remote_port=9000\nxdebug.remote_host=docker.for.mac.localhost\nxdebug.idekey=PHPSTORM\n```\nIf i change xdebug.remote_autostart to 0, the php-fpm builds just fine.. In php-fpm/Dockerfile-56, I moved the 11 lines of Xdebug installer section ie \n```\n\nxDebug:\n\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ]; then \\\n    # Install the xdebug extension\n    # pecl install xdebug && docker-php-ext-enable xdebug \\\n    # workaround for https://github.com/docker-library/php/issues/133\n    #     - Xdebug breaks on access to class static property\n    apt-get install -y php5-xdebug && \\\n    echo \"zend_extension=/usr/lib/php5/20131226/xdebug.so\" > /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n;fi\nCopy xdebug configration for remote debugging\nCOPY ./xdebug.ini /usr/local/etc/php/conf.d/xdebug.ini\n```\nfrom above the opcache installer section to below it, and suddenly php-fpm builds fine ie the problem goes away.\nI would really like to know if anyone else has gotten php 5.6 + opcache + xdebug working without doing this code shuffle, or am I the only one who's ever tried it?. @alcir-junior-caju thanks for posting your followup \u2014\u00a0it got me up and running after a very frustrating hour or so, fighting npm update access denied errors.\nOf your two commands, I only needed to run npm config set user 0; in effect I believe this tells npm to run as root (uid 0), rather than as laradock (uid 1000) which it was prior.\nHowever, I believe it's best practice NOT to run npm as root. Switching to using root for something is most often just a quick way to bypass a permissions config error, IMO.\nSo my question is:\nWhy does the laradock user fail with EACCES: permission denied, mkdir errors when writing to some directories inside node_modules? I mean \u2014 it created node_modules in the first place so clearly has write permissions there?!. ",
    "Surt": "Hi all,\nIs there any news on this? It seems like an interesting aproach. Very modular, etc... \nActually, it will solve the \"production\" laradock in a good way.. I did disabled it, but anyway the authentification is elastic:changeme. ",
    "gbroques": "This could be a duplicate of issue #1245, which was recently fixed.\nCould you provide the full stack-trace?. Ok great. What about issue #1064? Is it the same issue as this one?. ",
    "JuanWilde": "Exactly! It's already fixed. Thanks. This can be closed. ",
    "terryzwt": "Any idea on failed travis test?\nI just install a mysql client.. any idea on mssql build failed? I touch nothing for mssql.. @robbygallo where you get the code? I check the Dockerfile, no such code.\nhttps://github.com/laradock/laradock/blob/master/php-fpm/Dockerfile. the problem is that, I think laradock should support it. you should not touch any code to support this feature.. just support socket function in php.\nlike socket_create etc.. ",
    "tumainimosha": "I have managed to get horizon working with the laradock php-worker service\n1. Changed the command in /laradock/php-worker/supervisord.conf\nfrom\ncommand=php /var/www/artisan queue:work --sleep=3 --tries=3 --daemon\nto \ncommand=php /var/www/artisan horizon\n2. And added pcntl extension which is required by redis driver to the php-worker.\nIn files /laradock/php-worker/Dockerfile-70and /laradock/php-worker/Dockerfile-71\nChanged line\nRUN docker-php-ext-install mysqli mbstring pdo pdo_mysql mcrypt tokenizer xml\nto \nRUN docker-php-ext-install mysqli mbstring pdo pdo_mysql mcrypt tokenizer xm pcntl\n. ",
    "solofeed": "yeah. The dashboard is working, but it not connected, status is inactive.\nupd:\nIt is working, was a typo in docker-compose.yml. ",
    "weweliang": "DB_HOST=mysql\nand add\n127.0.0.1 mysql\nin your Mac /etc/hosts. ",
    "Narahari-Sundaragopalan": "Thanks, I had already done that. I figured out the issue was that, I had to set the port number in the my.cnf file of mysql. Then i was able to connect to MySQL from host machine.. ",
    "exfriend": "Just for future: had the same issue but no luck with any solution. Turned out I had wrong permissions on my.cnf. If you're working on multiple projects, you probably noticed that building workspace in general takes a while. So I decided to build my own base image off of workspace/Dockerfile like this:\nhttps://github.com/exbox/workspace\nAnd then simply \n```\nFROM exbox/workspace:1\nMAINTAINER exfriend i@zlad.tk\n``\nI suggest you to consider doing something like this, build it once on a good internet connection and then let docker do the rest.. It clearly says you have some issues with your data directory permissions. Did you try deleting it to let laradock recreate it with proiper perms?. What's the output ofdocker-compose ps`?. Use the shared volume (you may adjust the volume and symilks to use particular certs):\ncaddy:\n      build: ./caddy\n      volumes_from:\n        - applications\n      volumes:\n        - ${CADDY_CUSTOM_CADDYFILE}:/etc/Caddyfile\n        - ${CADDY_HOST_LOG_PATH}:/var/log/caddy\n        - ${DATA_SAVE_PATH}:/root/.caddy\n        - ../storage/certs/letsencrypt:/root/.caddy/acme/acme-v01.api.letsencrypt.org/sites/\nThen mount the same storage folder to Laravel Echo Server:\nlaravel-echo-server:\n      build:\n        context: ./laravel-echo-server\n      volumes:\n        - ./laravel-echo-server/laravel-echo-server.json:/app/laravel-echo-server.json:ro\n        - ${STORAGE}:/storage\nUsing config like this:\n{\n  ...\n  \"devMode\": true,\n  \"host\": null,\n  \"port\": \"6001\",\n  \"protocol\": \"http\",\n  \"socketio\": {},\n  \"sslCertPath\": \"/storage/certs/cert.pem\",\n  \"sslKeyPath\": \"/storage/certs/key.pem\"\n}\n. Just for clarity, did you rebuild mysql container with docker-compose up --build or docker-compose build after upgrading to v8? Sometimes I catch myself spending hours when it's as simple at that :).. execute docker-compose logs mysql and look for [ERROR]. ",
    "tsukasa696": "Well i was totally wrong it dint create the DB at all. First of all i reinstall back the version 17.06.0-ce, because this version was working perfect before, but after i remake the first project cause re-installation will destroy all the volume so backup if you dont want to lose something important, when i start the new project this error shows again so must be something corrupt by now, so what i did was in the docker-compose.yml in the MySql Container i uncomment  line 212 - ${DATA_SAVE_PATH}/mysql:/var/lib/mysql and then comment the line 216 #user: \"1000:50\", and is working now, the bug still there but you will be able to work, an advice the database USER and PASSWORD still need to be created manually. ",
    "F1NaL": "Mb is't help you https://github.com/laravel/passport/issues/455. ",
    "0reo": "I seem to have just run into this issue. ",
    "bgultekin": "I think @Shadow2004 's answers should be added to documentation. \nBecause we use laradock for local development generally with local, not-real domain names. That's why using caddy with let's encrypt (requires domain validation) as written in documentation is overkill feature in order to access your local development over https. Using self-signed certificates are fine for these circumstances.. ",
    "dave-colenso": "@neorganic that's expected behaviour when using a self-signed certificate. this stackoverflow link explains how to get chrome to trust a self-signed certificate and give you the green padlock. ",
    "KoRiGaN": "Had the same issue today.. ",
    "k-zakhariy": "@NewbMiao How to revert d4m-nfs changes?. ",
    "atefBB": "@shukebeta Should I use Docker CE?. @psgganesh \nI change MySQL version to 5.7 but the issue still occurs!\nAny ideas?. ",
    "macghriogair": "Can confirm this. Also fixed along in PR #1097. Had not seen this PR before.. resolved it, @Mahmoudz please review.. ",
    "TZK-": "It seems that the image does not support other sql driver than mysql...\nCannot run my queue worker because my Laravel application uses Postgres which causes in a FatalErrorException because the driver does not exist.\nIs it possible to add this driver to get it work again ?. ",
    "NickToony": "@TZK- I experienced this problem myself. I opened an issue with a workaround. https://github.com/laradock/laradock/issues/1217. Specific error message:\nERROR: for nginx  Cannot start service nginx: driver failed programming external connectivity on endpoint laradock_nginx_1 (f52fbd0008270eabb0b6375119264fcc19d8dce0bc5a6aa93433ada054aaae5c): Bind for 0.0.0.0:443 failed: port is already allocated\nERROR: Encountered errors while bringing up the project.. As a workaround:\n\nShut down dinghy if it's running (dinghy halt)\nEdit the dinghy config, ~/.dinghy/preferences.yml, and change proxy_disable to true\nSave and boot dinghy back up (dinghy up)\nBoot up laradock the normal way\n\nYour laradock app will be available at http://web.myapp.docker/.\nThis is a good enough solution for me currently, though maybe someone can figure out a proper fix.. ",
    "psgganesh": "Sometimes, networking is the root cause, two things\n\n\nAllow docker to be able to make requests to hub.docker or other repo - from the front-end - generally shows up during installation\nCreate a valid login on hub.docker and enter the same on CLI by using \ndocker login\n\n\nAdding to it, if you are still finding issues on mysql 8.0, please consider using the stable build mysql 5.7 by changing the values in below files \n..../laradock/mysql/Dockerfile\n.../laradock/env-example\nActually if all works, please consider to close this issue.. Networking is the root cause, two things\n\n\nAllow docker to be able to make requests to hub.docker or other repo - from the front-end - generally shows up during installation\nCreate a valid login on hub.docker and enter the same on CLI by using \ndocker login\n\n\nAdding to it, if you are still finding issues on mysql 8.0, please consider using the stable build mysql 5.7 by changing the values in below files \n..../laradock/mysql/Dockerfile\n.../laradock/env-example\nActually this issue can be closed.. ",
    "thiagorb": "Had this issue on Docker version 17.12.0-ce, build c97c6d6, running on macOS. Solved by setting the version manually to 5.7 on mysql/Dockerfile and removing the line ARG MYSQL_VERSION=latest.. ",
    "mhightower": "Had this issue just come up. This Dockerfile was working and build images images a few days ago not sure what changed. I have:\n ARG TIMEZONE=America/Chicago\n ARG APACHE_DOCUMENT_ROOT=/usr/local/apache2/htdocs\n FROM composer:1.5.1 AS composer\n ....\n",
    "xulei131401": "Service 'mysql' failed to build: Please provide a source image with from prior to commit. ",
    "Fieel": "The only way to find out this information was to spend 2 hours googling and finally finding this open issue... so yeah, would be gladly appreciated.. @b4dnewz  I've been trying everything for the past 2 hours but running \n\nrm -rf ~/.laradock/data/mysql\ndocker-compose up -d mysql nginx\n\nso apparently re-building the mysql image did the trick.. ",
    "ScottSpittle": "I'll give that a try, I ran apt-get update and apt-get install and assumed it got the latest. I'll get back to you in a bit. Thanks.. Great thanks! All good after updating docker.. ",
    "uniraymond": "Solved, and just found have to login on the command line as well by using 'docker login'. ",
    "Khaleel": "Thanks so much @uniraymond needed this!. ",
    "onema": "I think there is an issue with any of the 5.x versions. I consistently get the following when using any version other than 8.0:\n```\n\ndocker-compose up -d mysql\n\n...\n\ndocker-compose ps\n      Name                   Command             State    Ports\n\n\nlaradock_mysql_1   docker-entrypoint.sh mysqld   Exit 1\n```\nUnfortunately I have not been able to figure out what is going on, or how to fix it :(. ",
    "Umkus": "Might this be your case: https://github.com/docker/compose/issues/4273#issuecomment-324054392?. ",
    "mauricios": "I'm using Docker version 18.06.1-ce, build e68fc7a and I can use the following command to recreate anonymous volumes:\nbash\ndocker-compose up -d --build --force-recreate --renew-anon-volumes db\nIt seems the flag --renew-anon-volumes was recently added and it works to recreate volumes created in the Dockerfile of the image.. ",
    "oaattia": "Have you tried to rebuild mysql container after adding user:1000:50 ? . ",
    "muzk6": "After I removed the line user: \"1000:50\" , and rebuild mysql container,  it work successfully.. ",
    "chadidi": "@Shadow2004 this is what I already did, Thanks for your comment.. ",
    "juan837": "Yep me too, what is the solution ?. Thanks @a-h-abid this resolved my problem :+1: \n\"Removing this user:\"1000:50\" from the docker-compose.yml is working on both Linode Linux Server and my Local Windows Machine.\"\n. ",
    "develalfy": "worked for me too \"Removing this user:\"1000:50\" from the docker-compose.yml is working\". ",
    "huntwj": "Why is this closed? The offending code is still in the repository.\nI don't know how to solve it, but my understanding is that you only want that line to take effect if you're on a Mac system. It breaks on Linux.. ",
    "bamboo-cp3": "Thanks tsukasa696 . Do not easily upgrade. ",
    "sandeepchowdary7": "Hi I'm unable to login into phpmyadmin everything works great. except this I tried mysql, root, root. and here is my .env file for laravel \nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=doc\nDB_USERNAME=root\nDB_PASSWORD=root\nHow to resolve this issue. can anyone help me on this? thanks in advance.. settings on .env (project):\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root\nsettings on .env (laradock):\nMYSQL_VERSION=latest\nMYSQL_DATABASE=default\nMYSQL_USER=root\nMYSQL_PASSWORD=root\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=root\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\n\nTrying to connect mysql in sequel-pro somehow getting an error\nsequel-pro connection details\nname: deafult\nhost: 127.0.0.1\nusername: root\npassword: root \n\nCan anyone help me on this? Thanks in advance.\n. @hofstede-matheus even replacing username and password with root. and visit http://localhost:8080 (mysql, root, root) That will works for sure.. ",
    "nanophp": "Any solution? I fed up try to cli commands. . docker-compose up -d mysql running true but I got every time \"laradock_mysql_1              docker-entrypoint.sh mysqld      Exit 1\" like this error. And I don't know how to fix it. \nAttemps:\n1) delete all container and build no-cache\n2) down and up container \n3)\n....\n10) docker-.... anyway (. ",
    "jewelfarazi": "You may try this one, https://github.com/laradock/laradock/issues/1173#issuecomment-335350927\nrm ~/.laradock and sudo docker-compose up -d --build nginx mysql has solved my problem.. ",
    "jourdon": "Has the problem been fixed\uff1f. @wxb Yes, I've found it. \nso I add the version number\nit 's more simple\n```    \n\nSwoole EXTENSION FOR PHP 5\n\nARG INSTALL_SWOOLE=false\nRUN if [ ${INSTALL_SWOOLE} = true ]; then \\\n    pecl install swoole-2.0.10 && \\\n    docker-php-ext-enable swoole \\\n;fi\n```. ",
    "kemalatila": "Could you figure out this problem ?. I found a temporary solution:\ngit checkout f82d3b30b483abdac72b0554ff7d72218c45fa34\ndocker-compose build --no-cache nginx mysql\ndocker-compose up -d nginx mysql. same issue. . ",
    "Triple-Z": "@kemal-atila  Still not... I have changed to homestead.... \ud83d\ude02 I have changed to Homestead... So I will close this issue.. ",
    "nguyenhaiphan": "Info:\n\nDocker version ($ docker --version): Docker version 17.05.0-ce, build 89658be\nLaradock commit ($ git rev-parse HEAD): 8485add87a42120e6d53b5053efa4489593fe166\nSystem info (Mac, PC, Linux): Ubuntu 16.04\nSystem info disto/version: Linux version 4.4.0-87-generic (buildd@lcy01-31) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) )\n\nAfter update to new commit this morning, I got below error. Now I can't start mysql container :(\nmysql_1                | 2017-09-05T05:04:28.331046Z 0 [Note] Basedir set to /usr/\nmysql_1                | 2017-09-05T05:04:28.331170Z 0 [Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\nmysql_1                | 2017-09-05T05:04:28.331198Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-09-05T05:04:28.331221Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled\nmysql_1                | 2017-09-05T05:04:28.331242Z 0 [Note] /usr/sbin/mysqld (mysqld 8.0.2-dmr) starting as process 1 ...\nmysql_1                | 2017-09-05T05:04:28.332589Z 0 [Warning] Can't create test file /var/lib/mysql/6850d8e1cd5d.lower-test\nmysql_1                | 2017-09-05T05:04:28.332597Z 0 [Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\nmysql_1                | 2017-09-05T05:04:28.333644Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2017-09-05T05:04:28.333704Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1                | 2017-09-05T05:04:28.334749Z 1 [ERROR] InnoDB: The innodb_system data file 'ibdata1' must be writable\nmysql_1                | 2017-09-05T05:04:28.334764Z 1 [ERROR] InnoDB: The innodb_system data file 'ibdata1' must be writable\nmysql_1                | 2017-09-05T05:04:28.334773Z 1 [ERROR] Failed to initialize DD Storage Engine\nmysql_1                | 2017-09-05T05:04:28.334834Z 0 [ERROR] Data Dictionary initialization failed.\nmysql_1                | 2017-09-05T05:04:28.334843Z 0 [ERROR] Aborting\nmysql_1                | 2017-09-05T05:04:28.334859Z 0 [Note] Binlog end\nmysql_1                | 2017-09-05T05:04:28.334959Z 0 [Note] Shutting down plugin 'InnoDB'\nmysql_1                | 2017-09-05T05:04:28.334970Z 0 [Note] Shutting down plugin 'MyISAM'\nmysql_1                | 2017-09-05T05:04:28.334986Z 0 [Note] Shutting down plugin 'CSV'\nmysql_1                | 2017-09-05T05:04:28.335250Z 0 [Note] /usr/sbin/mysqld: Shutdown complete. Check the caddy\\Caddyfile, there are 2 block {}, just comment out any block that you don't need, such as\nlaradock.demo {\nroot /var/www/public\n}\nand your should change the WORKDIR config in the caddy\\Dockerfile like below\nWORKDIR /var/www//public\n```\nHope you can solve your problem.. The separate apps can signed many times via the caddy\\Caddyfile. Each {} block is a config for each domain\nFrom Docker file, you can think about WORKDIR just like a cd command from shell.\n```Dockerfile\nWORKDIR /var/www/mailautoreply-ai-basic/public\nAlmost forgot, it seems that I've changed the cmd like below\nCMD [\"/usr/bin/caddy\", \"-conf\", \"/etc/Caddyfile\"] #<-- this one always call from root hierachy, not caring anything about workdir.\n```. I figured it out.\nJust try to shares the volume of caddy to laravel-echo-server in docker-composer.yml\n```yaml\nLaravel Echo Server\nlaravel-echo-server:\n  build:\n    context: ./laravel-echo-server\n  volumes_from:\n    - caddy:ro\n\nthe shared volume will be mounted to /root/caddy, the 'ro' will block the writable permission from laravel-echo-server\n  volumes: ...\n\n```\nThen from the laravel-echo-server.json, I can tell it to fetch ssl such as:\njson\n    \"sslCertPath\": \"/root/.caddy/acme/acme-v01.api.letsencrypt.org/sites/<caddy-registered.domain.name>/<caddy-registered.domain.name>.crt\",\n    \"sslKeyPath\": \"/root/.caddy/acme/acme-v01.api.letsencrypt.org/sites/<caddy-registered.domain.name>/<caddy-registered.domain.name>.key\". @codeitlikemiley Please tell me what exactly do you want to do? The problem I proposed here is different with another issue that I also proposed. You can private message me via skype pnghai179 and I can see if I can help your case.\nRegards,. How many site do you have? The solution I and @exfriend proposed is used for single site setup. \nThe key is you should share the source of truth (here is the caddy volumes that Caddy itself signed cert and key for your domain) so that the laravel-echo-server container can check that volume from its own container.. ",
    "acmitch": "It is running out of memory.\nsudo sysctl -w vm.max_map_count=262144\nvim docker-compose.yml\nChange mem_limit from 512m to 1g\nmem_limit: 1g\nStart back up. Good Luck!\ndocker-compose up -d --build elasticsearch\n. Tmp fix:\nmkdir aws/ssh_keys/\ntouch aws/ssh_keys/id_rsa.pub\ndocker-compose build --no-cache. ",
    "BalaWxd": "I am using docker for windows and entered a problem like this one: https://github.com/pires/kubernetes-elasticsearch-cluster/issues/145, after restarting the containers.\nmem_limit already 1024m.\nWith recreated the images, the issue still exists... until I changed the named volume from elasticsearch-data to some other name, as described here: https://discuss.elastic.co/t/elastic-elasticsearch-docker-not-assigning-permissions-to-data-directory-on-run/65812/2.\nAnyone knows why?? \nThis don't seem to be a problem in laradock, but someone else finds this issue can also try this workaround...\n. @evantolorio's solution fixed my problem.\nJust ensure adding a new entry of INSTALL_PHPREDIS:INSTALL_PHPWORK_PHPREIDS needs to be setup on docker-compose.yml and .env file.\nI am using phpredis and when supervisor spawn the queue worker with using phpredis as client, it fails immediately, the stderr logs shows @Alexanderwmc posted. \nRunning below command from php-worker container can get you more information about the queue:work failure raising from laravel.\ndocker-compose -p <namespace> exce php-worker php /var/www/<project>/artisan queue:work, the output I get is something like \nSymfony\\Component\\Debug\\Exception\\FatalThrowableError  : Call to undefined method Illuminate\\Support\\Facades\\Redis::connect(). This confirms for me, I need to install phpredis on the container.. ",
    "masterjus": "ok. ",
    "WanchiaTsai": "@Mahmoudz, threre is not. thanks.. ",
    "ConstantinChirila": "I've found the solution. \nLaradock saves the mysql data in the \"DATA_SAVE_PATH\" (my case was C:\\Users{yourusername}.laradock\\data\" and once you build the container for the first time it never overrides it. \nWhat i did, i just removed the \"data\" folder from \".laradock\" and rebuild my containers, and the values in the .env files were applied (Careful as you will lose your databases as well, it is like a complete wipe of the mysql container including any config or data). \nFrom what I understand, it is on purpose so you wont lose data on rebuilding the container (like i've mentioned).\nAnother solution would be to log in to the mysql container, and change the password in there. (i have not tried this solution) . ",
    "R-K-H": "Quick update when I drop the MySQL down to version 5.7 it builds and functions properly. \nI'm not sure what step might be missing for me as the database should not exist as everything was cleared. Unless someone could point me in a direction regarding phantom databases in docker (just my lack of knowledge potentially).. I've tried docker-compose build as well as docker-compose up --build and docker-compose up --build --force-recreate all with no avail. Like I said above I was able to get it working, just not with MySQL 8.0. I do appreciate the tip, as of yesterday I was trying anything I could find!. ",
    "wss610": "I have the same problem, and I use docker-compose build mysql,the problem is still there.\ndocker-compose down many times, but still can't be solved.\nDocker Version 17.06.2-ce-win27 (13194)\nsystem windows10\n\n`WARNING: Image for service mysql was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.\nCreating laradock_mysql_1 ...\nCreating laradock_mysql_1 ... done\nAttaching to laradock_mysql_1\nmysql_1                | 2017-09-30T23:46:36.415592Z 0 [Note] Basedir set to /usr/\nmysql_1                | 2017-09-30T23:46:36.415723Z 0 [Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\nmysql_1                | 2017-09-30T23:46:36.415752Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They w\nill be merged with strict mode in a future release.\nmysql_1                | 2017-09-30T23:46:36.419196Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled\nmysql_1                | 2017-09-30T23:46:36.419233Z 0 [Note] /usr/sbin/mysqld (mysqld 8.0.3-rc-log) starting as process 1 ...\nmysql_1                | 2017-09-30T23:46:36.430072Z 0 [Warning] No argument was provided to --log-bin, and --log-bin-index was not used; so replication may break when this MySQL se\nrver acts as a master and has his hostname changed!! Please use '--log-bin=441b44a5a18b-bin' to avoid this problem.\nmysql_1                | 2017-09-30T23:46:36.442964Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2017-09-30T23:46:36.443301Z 0 [Note] Plugin 'FEDERATED' is disabled.\nmysql_1                | 2017-09-30T23:46:36.445645Z 1 [ERROR] Failed to find valid data directory.\nmysql_1                | 2017-09-30T23:46:36.445903Z 0 [ERROR] Data Dictionary initialization failed.\nmysql_1                | 2017-09-30T23:46:36.445985Z 0 [ERROR] Aborting\nmysql_1                | 2017-09-30T23:46:36.446011Z 0 [Note] Binlog end\nmysql_1                | 2017-09-30T23:46:36.447956Z 0 [Note] Shutting down plugin 'InnoDB'\nmysql_1                | 2017-09-30T23:46:36.448022Z 0 [Note] Shutting down plugin 'MyISAM'\nmysql_1                | 2017-09-30T23:46:36.448058Z 0 [Note] Shutting down plugin 'CSV'\nmysql_1                | 2017-09-30T23:46:36.450846Z 0 [Note] /usr/sbin/mysqld: Shutdown complete\nmysql_1                |\nlaradock_mysql_1 exited with code 1\n`\n\n. ",
    "ganjarsetia": "I solved this problem. This is because of data folder. I was running it using mysql 5.7 then abort it in the middle of building, and change the mysql to 8.0. here some explanation https://github.com/laradock/laradock/issues/1138#issuecomment-333332386\nTry this step.\nTry remove the docker image. List all images using docker images then remove the mysql & laradock mysql using docker rmi imagename. Dont forget remove the docker volume using docker volume rm volumename\nAlso go to cd ~/.laradock/data remove the mysql folder.\nThen try docker-compose up mysql for debuging. If no errors, you could try docker-compose up -d mysql. have you try docker ps -a ? does the mysql is run or exited?. ",
    "UAK-Khan": "@ganjarsetia solution worked. Thanks. ",
    "urukalo": "more about: #244 . ",
    "nikolasok": "same problem... - Docker version ($ docker --version): 17.05.0-ce, build 89658be\n- Laradock commit ($ git rev-parse HEAD): 655b9a152660e5fe3148ade51f7a289fd390da94\n- System info (Mac, PC, Linux): Linux\n- System info disto/version: Ubuntu 16.04.3 x64\n\ndocker-compose up -d mysql\n\nThen\n\ndocker ps\n```\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS              PORTS                                        NAMES\n\nThere is nothing\n```\nThen\n\ndocker ps -a\n\n```\n91e7bd3e2d3f        laradock_mysql       \"docker-entrypoint...\"   6 minutes ago       Exited (1) 6 minutes ago                                                laradock_mysql_1\n```\nThen\n\ndocker-compose logs\n\n```\n\nmysql_1                | Initializing database\nmysql_1                | mysqld: Can't create/write to file '/var/lib/mysql/is_writable' (Errcode: 13 - Permission denied)\nmysql_1                | 2017-09-13T19:33:19.914251Z 0 [Note] Basedir set to /usr/\nmysql_1                | 2017-09-13T19:33:19.914501Z 0 [Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\nmysql_1                | 2017-09-13T19:33:19.914566Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2017-09-13T19:33:19.920252Z 0 [ERROR] --initialize specified but the data directory exists and is not writable. Aborting.\nmysql_1                | 2017-09-13T19:33:19.920298Z 0 [ERROR] Aborting\n```. \n",
    "daniel359davidson": "@nikolasok i found solution to this problem.\nFirst run of the laradock creates a .laradock directory in the current user home directory, but the directory owned by root, so running docker under the current user will fail.\nSimply just chown .laradock directory to current user:\nsudo chown -R $USER ~/.laradock\n. ",
    "henriale": "@daniel359davidson I did exactly as you but I'm still getting the same error. :(\ndo you have any clue of what it might be? have you run any other command than this?. Just found that this issue was solved here by @yosifkit.\nYou just have to add user: \"1000:50\" into mysql in docker-compose.yml.. ",
    "zetas": "This is very bizzarre, im dealing with this with one of my devs on a project. We're both running the same laradock setup (cloned from the same forked repo) and yet he is having issues getting the percona container to start, getting this error, and i am not. We both have the exact same .env file, neither of us has an existing mysql user in /etc/passwd on our macs and yet mine starts and his doesn't. \nBy default it creates the data directory in the users home dir ~/.laradock so what @daniel359davidson suggested doesn't seem to be an actual fix. Unless you ran the docker-compose as a root or something (why would you) the .laradock folder would already be owned by the user, and indeed it is on both our systems. It's marked as user:staff on every folder on both systems. \nI'm trying to find the actual problem here as I need to have a reliable laradock setup for all my developers. I can't start baking in work-arounds for peoples environments. I want to find the root cause and fix it. . ",
    "spzorn123": "\nJust found that this issue was solved here by @yosifkit.\nYou just have to add user: \"1000:50\" into mysql in docker-compose.yml.\n\nCan you show me where you added this in the file?\nthank you. ",
    "migueloop": "Same problem here on OSX. I fixed the problem on OSX by going to preferences and removing /tmp file in File Sharing tab\n\n. ",
    "sybohans": "Hello Mahmoud,\nApologies, I made a  mistake.\nYou can ignore it!\nKind regards,\nSybo-Hans\nOp do 14 sep. 2017 om 19:56 schreef Mahmoud Zalt notifications@github.com\n\n@sybohans https://github.com/sybohans hello, what's the purpose of this\nPR?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/pull/1136#issuecomment-329560430,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ANUd39w3oGXzdVLiHCXe0_6aNPwZ_THxks5siWjEgaJpZM4PXKok\n.\n. \n",
    "medz": "@luciano-jr DATA_SAVE_PATH=~/.laradock/data\nI do not think there is a problem with this configuration before I upgraded Laradock\n\u00a0 MySQL is 5.7 version, but after upgrading to 655b9a152660e5fe3148ade51f7a289fd390da94 after the MySQL version has become the 8 version, and in the .env file to modify the version configuration is invalid, I think it is willing to cause MySQL can not do.. My upgrade reference: http: //laradock.io/documentation/#upgradinging-laradock. I think, should give a 5.7 change mysql to 8.0 after a remedy.. ",
    "b1nj": "I have the same problem with a fresh laradock version when i switch mysql to 5.7.. thank sasokovacic. I delete .laradock/data and now it's ok.. ",
    "eleftrik": "I had the same problem. Same fix as @sasokovacic suggested, but the key in .env file now is DATA_PATH_HOST. Some problem here, on Windows 10 Pro with Docker Version 18.05.0-ce-win67 (18263).\nIn my case, I have this folders:\n```\napplication\napplication.docker\n``applicationcontains the Laravel application; sufolder.docker` contains Laradock files.\ncd .docker\ndocker-compose up -d nginx mariadb workspace\ndocker-compose run workspace bash\nOnce inside workspace container, if I run ls -la I got \n```\nroot@fa27bd542745:/var/www# ls -al\ntotal 4\ndrwxr-xr-x 3 root root   60 Jul 10 11:26 .\ndrwxr-xr-x 1 root root 4096 Apr 10 13:59 ..\ndrwxr-xr-x 6 root root  120 Jul 10 11:26 .docker\nroot@fa27bd542745:/var/www#\n```\n. @smuzammilali \n\nLooks like must be something related to Toolbox and Windows Home\n\nI don't think so, because I'm using Docker (not Toolbox) with Windows 10 Pro and I got the same result as you.\nDid you solve it?. Thank you very much @boxcc, you made my day!\nResetting docker shared drivers worked like a charm.. Some problem here. At the moment, I can't find any workaround.. Maybe it's a duplicate of https://github.com/laradock/laradock/issues/1290. Tried again on a fresh Laradock install, but I can't see project files in /var/www.\nNoone experiencing this problem?\nThanks. @amayer5125 Yes, in my case Laradock folder is a subfolder (.docker) of my project folder.\nI solved my issue thanx to https://github.com/laradock/laradock/issues/1290#issuecomment-405890996\nResetting Docker Shared Drivers fixed the problem.\nI have the same setup (subfolder) with many projects; on Mac OS, never had any problem, so I guess it's an issue related to Docker sharing in Windows.. @amayer5125 Shame on me, sorry for the confusion.\nNow I'm able to enter workspace container with  winpty docker-compose exec workspace bash command.\nBut I cannot see any file/folder inside /var/www, as described in https://github.com/laradock/laradock/issues/1657.\nThank you\n. ",
    "danielkullik": "Same here. Running \u201cdocker-compose up -d nginx mysql\u201d results in an endless download of \u201chttp://mirrors.aliyun.com/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\u201d. Running on a bare-metal Debian 9.1 server.. ",
    "alenn-m": "Same here, but it works on local computer even without commenting that line. ",
    "rssawhney": "same here, but works after commenting line. ",
    "neliseev": "Same here, works on local MBP, but on CI agent stuck...I think issue in memory limits, agent have only 4gb RAM and APK using memory based installation (directly to ram), so maybe this issue?. ",
    "nilsenj": "the new fix doesn't work for me in Ukraine!\njust hang on \nBuilding nginx\nStep 1/10 : FROM nginx:alpine\n ---> 21a2450d623e\nStep 2/10 : MAINTAINER Mahmoud Zalt mahmoud@zalt.me\n ---> Using cache\n ---> 43397aea6468\nStep 3/10 : ADD nginx.conf /etc/nginx/\n ---> Using cache\n ---> c807c78322ea\nStep 4/10 : ARG PHP_UPSTREAM_CONTAINER=php-fpm\n ---> Using cache\n ---> 650ade4a8aa9\nStep 5/10 : ARG PHP_UPSTREAM_PORT=9000\n ---> Using cache\n ---> cb9c4733fd42\nStep 6/10 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories\n ---> Using cache\n ---> 24ba8436497a\nStep 7/10 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data\n ---> Running in 06749a342b52\nfetch http://mirrors.aliyun.com/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nand hangs forever(. ",
    "vjekoslav": "\nStep 6/10 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories\n\nIf you had correct version you would not have this step. You didn't pull or something else is wrong. Try cloning a new repo from beginning. . ",
    "elgrim312": "I've got same problem. ",
    "abstractk": "+1. +1. ",
    "ronydebnath": "+1. ```\nARG INSTALL_PYTHON=false\nRUN if [ ${INSTALL_PYTHON} = true ]; then \\\n  apt-get -y install python python-pip python-dev build-essential  \\\n # && pip install --upgrade pip  \\\n  && pip install --upgrade virtualenv \\\n;fi\n```\ncommented out this line to have a temporary fix on this issue.. Give chown laradock:laradock  permission to storage/logs folder, this might solve your problem.. Have you tried login to the workspace container with this:\ndocker-compose exec --user=laradock workspace bash\nthen running your npm command to your myapp folder?\nif login with the non root user doesn't work, you should build the container again.\ndocker-compose build --no-cache --force-rm workspace. As for your log issue, this usually happens because of the web server needs a write access to the storage and bootstrap/cache directories.\nlogin to your php-fpm container and check the user:group of storage/logs folder. All files should be owned by www-data:1000 user/group.\nYou should  set the right permission again to the storage/logs folder if that helps you anyway.\nchown www-data:1000 storage/logs -R && chmod g+s storage/logs/ -R\n. > @ronydebnath Hey, it's already passed midnight UTC, and the new daily log file got created with the correct laradock laradock permissions! (Thanks!)\n\nSo I guess docker-compose build --no-cache --force-rm workspace worked for fixing that.\nAnd now I'm just trying to figure out why this no longer works, when it used to:\ncd /apps/laradock/ && docker-compose exec workspace bash -c \"cd /var/www/myapp/; npm run production\"\n\nGlad your log file permission issue being solved and hopefully you will find some solution with your npm and sass related problem in no time. Cheers!. ",
    "projectmentor": "+1. @canhkeeu @nurdinj4 \nCan you share how you got ssl with nginx multisite running in laradock?. ",
    "dantot": "+1. ",
    "dtmypd": "+1. ",
    "mattogodoy": "+1. Same here!\nI'm using docker-compose un WSL under Windows 10 Pro\nDocker version 18.06.0-ce, build 0ffa825\nI tried using absolute paths and no luck either.\nDid you solve it, @sinden ?\n. ",
    "carlosqueiroz": "+1. ",
    "HamzaDevz": "+1. ",
    "idflood": "I confirm this is still an issue, also visible when using apache2 instead of nginx. I didn't find a solution yet and I am also wondering how to connect from host to mysql for instance. With sequel pro I can connect to 127.0.0.1:3306 when not using dinghy, but with it it doesn't work with the same host/port.. So I've finally been playing with docker native NFS support on osx following this guide https://medium.com/@sean.handley/how-to-set-up-docker-for-mac-with-native-nfs-145151458adc . And I have to say that I've seen a massive performance boost and this new method is \"easier\" to setup. \nI think that the documentation could be updated to at least mention this possibility and provide instructions about how to setup this. I will try to fork the laradock repository to have a diff of the changes made to the .env (local) and docker-compose file.. I did a quick benchmark before going further, and the good news is that it confirm the feeling that using NFS setup is nearly like \"native\", sometimes even faster (php config, opcache or other settings may explain this.\nFresh Drupal 8 install, most caches including the Twig cache are disabled.\nVisiting /admin/config, measuring time needed for html load.\nMAMP (PHP 7.2.8)\n~520ms\nDocker (laradock default config)\nbetween ~1500ms\nDocker (with native osx NFS volume)\n~450ms. So here is the fork with the changes required on laradock to use NFS volume: https://github.com/idflood/laradock/commit/cad44b583d89360b4c73156f5647e3aa4da2726e\nNote that you also need to run the script from https://medium.com/@sean.handley/how-to-set-up-docker-for-mac-with-native-nfs-145151458adc to setup nfs file sharing correctly.. ",
    "san4io": "Ok, I've added to docker-compose file in elasticsearch container:\n  environment:\n        - cluster.name=laradock-cluster\n        - bootstrap.memory_lock=true\n        - xpack.security.enabled=false\n        - \"ES_JAVA_OPTS=-Xms256m -Xmx256m\". ",
    "OGKevin": "Why is the auth not documentent somewhere or am i just blind \ud83e\udd14 . So..... ? . ",
    "anchetaWern": "documentation is saying user and changeme. It should be updated.. ",
    "a1tem": "Thanks @san4io it works now!. ",
    "marabesi": "Same here, is there a way to disable AWS?. As a temporary solution I commented out the failing lines:\nOriginal file:\n```\nFROM python:slim\nMAINTAINER melchabcede@gmail.com\nRUN pip install --upgrade --no-cache-dir awsebcli\nRUN apt-get -yqq update && apt-get -yqq install git-all\nNOTE: make sure ssh keys are added to ssh_keys folder\nRUN mkdir root/tmp_ssh\nCOPY /ssh_keys/. /root/.ssh/\nRUN cd /root/.ssh && chmod 600 * && chmod 644 *.pub\nSet default work directory\nWORKDIR /var/www\n```\nCommented file:\nAs a temporary solution I commented out the failing lines:\n```\nFROM python:slim\nMAINTAINER melchabcede@gmail.com\nRUN pip install --upgrade --no-cache-dir awsebcli\nRUN apt-get -yqq update && apt-get -yqq install git-all\nNOTE: make sure ssh keys are added to ssh_keys folder\nRUN mkdir root/tmp_ssh\nCOPY /ssh_keys/. /root/.ssh/\nRUN cd /root/.ssh && chmod 600 * && chmod 644 *.pub\nSet default work directory\nWORKDIR /var/www\n```. ",
    "LarsZondag": "Has there been an update yet? I'm running into the same problem.. ",
    "basepack": "Stumbled upon the same error today. I now just run docker-compose up -d nginx mysql to not to load everything.. Strangely when I follow @bestlong's steps, the exact same error is gone on my installation. Is this issue already fixed?\nI did this:\nedited .env file:\nWORKSPACE_INSTALL_SOAP=true\nPHP_FPM_INSTALL_SOAP=true\nThen I ran: run docker-compose build --no-cache workspace php-fpm and: docker-compose up -d nginx mysql redis workspace. \nThe output of composer show -p lists ext-soap:\n...\next-session         7.2.6    The session PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\next-shmop           7.2.6    The shmop PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\next-SimpleXML       7.2.6    The SimpleXML PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\next-soap            7.2.6    The soap PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\next-sockets         7.2.6    The sockets PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\next-sodium          7.2.6    The sodium PHP extension (actual version: 7.2.6-1+ubuntu16.04.1+deb.sury.org+1)\n...\n. I can second this for xdebug:\nUnable to locate package php7.2-xdebug\nSteps to reproduce:\n1) git clone https://github.com/Laradock/laradock.git\n2) cd laradock\n3) cp env-example .env\n4) set WORKSPACE_INSTALL_XDEBUG=true\n5) docker-compose build --no-cache workspace\n6) View the error in the console:\nStep 61/179 : RUN if [ ${INSTALL_XDEBUG} = true ]; then     apt-get install -y php${LARADOCK_PHP_VERSION}-xdebug &&     sed -i 's/^;//g' /etc/php/${LARADOCK_PHP_VERSION}/cli/conf.d/20-xdebug.ini &&     echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/vendor/bin/phpunit'\" >> ~/.bashrc ;fi\n ---> Running in 2a2a47b3da6b\nReading package lists...\nBuilding dependency tree...\nReading state information...\nE: Unable to locate package php7.2-xdebug\nE: Couldn't find any package by glob 'php7.2-xdebug'\nE: Couldn't find any package by regex 'php7.2-xdebug'\nService 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_XDEBUG} = true ]; then     apt-get install -y php${LARADOCK_PHP_VERSION}-xdebug &&     sed -i 's/^;//g' /etc/php/${LARADOCK_PHP_VERSION}/cli/conf.d/20-xdebug.ini &&     echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/vendor/bin/phpunit'\" >> ~/.bashrc ;fi' returned a non-zero code: 100. ",
    "whoisryosuke": "Docker version: 18.03.0-ce-mac59 (23608)\nLaradock commit: 164069c2562bc67945b70f88ee1502b820c8698d\nMacOS 10.13.4\nHad this issue today. Project was working great for months, then I added Laradock to another project, came back to this one, and started getting this error.\nTried rebuilding, rebuilding with --no-cache, only calling specific services (nginx mysql), etc -- nothing worked. Rebuilding every time would result in the error about AWS:\nERROR: Service 'aws' failed to build: COPY failed: stat /var/lib/docker/tmp/docker-builder463720578/ssh_keys: no such file ordirectory\nTrying to run the server results in an error about the application failing (mysql runs, nginx fails):\nCannot start service applications: b'network 6b6e69c472bf1091a3809680f3c954ed5639851fe9b0eb0e6862df54ebae4cbb not found'\nI tried commenting out the code as @marabesi suggested, as well as creating the directory as @acmitch suggested. Ran the rebuild. Still getting errors.\n```\nRyos-iMac:laradock ryo$ docker-compose up -d nginx mysql redis elasticsearch\nRecreating laradock_mysql_1 ...\nRecreating laradock_redis_1 ...\nStarting laradock_applications_1 ... error\nRecreating laradock_mysql_1      ... done\nRecreating laradock_redis_1      ... doneb0e6862df54ebae4cbb not found'\nERROR: for applications  Cannot start service applications: b'network 6b6e69c472bf1091a3809680f3c954ed5639851fe9b0eb0e6862df54ebae4cbb not found'\nERROR: Encountered errors while bringing up the project.\n```\nNot sure what I can do beyond deleting the entire Laradock folder and trying from scratch. The errors are pretty cryptic.. Just wanted to update this by adding that I was able to resolve the issue by updating my project to the latest version of Laradock, and specifying different local folders for storage (that /~User/laradock/.data/ folder) in the ENV. I was a whole version behind, before those ENV configs existed.. ",
    "taufek": "Noticed that php-intl has been added in workspace image already.\nhttps://github.com/laradock/workspace/commit/4dba64febb507309ce8fe10bb7d049a226323649\nClosing this PR.. Thank you @Mahmoudz . \ud83d\udc4d . Mistakenly merged with other stuff. Will reopen new PR. . Reopen in #1354. @Mahmoudz ,\nWhat do you think about this addition?. Not sure if there is any drawback. I guess just for consistency sake. Most of the flags are disabled by default. . This is great work!. ",
    "erikstorli": "Did the same as here: https://github.com/laradock/laradock/issues/1007#issuecomment-310883173\nSetting user: redis under the redis-container in docker-compose.yml worked.. ",
    "geraintdong": "@zuohuadong that would not be a good solution for legacy apps. @Mahmoudz Done. Please review again & merge. Thanks.. ",
    "wormhoudt": "Comments != empty lines. Don't count them as such.\n... Is this the part where I bow?. Comment lines shouldn't count. Simple as. Anything short of that is either laziness or technical masturbation. Fix the parser to function appropriately rather than excoriating users for using comments in a way that is commensurate with typical usage. The whole point of comments is to be able to add them where they make sense contextually. . ",
    "a-bashtannik": "Confirm this annoying issue and the reason. Need to move the comments outside RUN section.. Hey, it's so easy to fix this bug, I can do it if somebody will merge my PR in the nearest feature... @Mahmoudz ?\n[WARNING]: Empty continuation lines will become errors in a future release.. Oh, I see. Your comment should be here, thx. . ",
    "centigrade-thomas-becker": "In my docker file I use a lot of comments in combination with the line continuation character. Example:\n```\ndeclare ports for services\nEXPOSE \\\n  # service foo\n  2005 \\\n  # service bar\n  2010 \\\n  # service baz\n  3000\n[...]\n```\nI get an error that the lines with comments are invalid. Do I need to remove these comments for upcoming releases, or will the behaviour of the parser modified to tolerate these comment lines?. These latest \"me too\" posts are not particularly helpful. Please use the +1 buttons on an existing post for that.. ",
    "mahnunchik": "Any news?. ",
    "lemats": "Should be fixed through Moby #35004 (Docker 17.10 and up).. ",
    "yanhongwang": "Hi, but that still unfortunately happen in docker 17.12.0-ce ...\nI use Linux Mint 18.\nI follow installation by\nhttps://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/. ",
    "alexpnet89": "Hello, i'm having the same problem too in version 17.12.0-ce.\nThere is an alternative to this problem?. ",
    "terreb": "Same here, 17.12.0-ce-mac49 (21995). ",
    "spaceSquid": "Same here, 17.12.0-ce, windows 10.. Looks to be a known issue: https://github.com/nginxinc/docker-nginx/issues/230\nOther posts are stating to use a previous build until resolved. You can change the first line of the nginx Dockerfile from FROM nginx:alpine to FROM nginx:1.13.8-alpine for now until it's resolved. Should work fine.. workspace_1            | *** Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1            | *** Running /etc/my_init.d/10_syslog-ng.init...\nworkspace_1            | Apr 24 08:40:08 bf76a3954b5e syslog-ng[9]: syslog-ng starting up; version='3.5.6'\nworkspace_1            | Apr 24 08:40:08 bf76a3954b5e syslog-ng[9]: WARNING: you are using the pipe driver, underlying file is not a FIFO, it should be used by file(); filename='/dev/stdout'\nworkspace_1            | *** Running /etc/rc.local.... ",
    "timerlau": "Same here, 17.12.0-ce, Ubuntu 16.04.3 LTS. ",
    "zjien": "and same here, Version 17.12.0-ce-mac55 (23011). ",
    "Boycce": "Why prevent the use of blank lines anyway?\ne.g\n```\nRUN rm -rf /home/app && \\\nln -sf /vagrant/ /home/app && \\\nln -s /home/app /home/app2 && \\\nSetup folders and files\nrm -f /etc/service/sshd /&& \\\nrm -f /etc/service/rsyslog/ && \\\n...\n```\n. ",
    "t3chn0m4g3": "Same here, Ubuntu 18.04, Docker version 17.12.1-ce, build 7390fc6. ",
    "indywidualny": "Any progress? Comments should be allowed. It will become a real issue in the future.. ",
    "AaronLiuIsCool": "Any progress in 2019?. ",
    "nickwongdev": "I just converted my comments into echo statements and called it a day.\nRUN echo \"############ Doing a thing! ##################\" && \\\n    things be doin && \\\n    echo \"############ Doing another thing! ##################\" && \\\n    more things to do\nThis way they also show up in things like Jenkins builds and stuff. . ",
    "Firman95": "Solved. \nThe problem was mariadb never initialized before. The error is the same as this issue https://github.com/laradock/laradock/issues/916. ",
    "ultrablue": "Howdy:\nDeleting the images and containers and starting all over again seems to have fixed the problem. \nThanks,\nGreg\n. Thanks for the response.\nMy env-example doesn't have many of those keys in it. Therefore, neither does my .env. Here are the ones from your list that I'm not seeing:\nAPP_ENV\nAPP_DEBUG\nAPP_KEY\nAPP_TIMEZONE\nCACHE_DRIVER\nQUEUE_DRIVER\nHaving said that, if the DB_ keys mean (for example) MYSQL_, then I don't see these ones in my env-example:\nMYSQL_CONNECTION\nMYSQL_HOST\nMYSQL_USERNAME (but it does have MYSQL_USER).\nThanks!. Ah. I guess I'm pretty wet behind the ears, I didn't even know such a thing existed. Thanks for the insight!\nWhat's the relationship between laradock/.env and project/laravel/.env?\nThanks again!\nGreg\n. @khoanguyen96 Sorry for the delay. Your suggestion worked. Updating laravel-project/.env with the correct database settings is working for me. Thanks!. @AlbinoDrought thanks a lot!\n. ",
    "VVVi": "It is caused by error \"[ERROR] [FATAL] InnoDB: Table flags are 0x4800 in the data dictionary but the flags in file mysql.ibd are 0x800!\"\nHere is more https://bugs.mysql.com/bug.php?id=87837 \nIf you haven't sensitive information in database files, then remove them and rerun docker.. ",
    "abr4xas": "@hominglee thanks. ",
    "codesmataxo": "Works. Thanks. . ",
    "nickreynke": "Thanks @realhome!. ",
    "jaiwardhan": "Great! I think removing the dangling volumes and rebuilding did it. Had the same issues with running percona 5 variants as well. Worked so well.. ",
    "ramachittala": "Thanks. ",
    "bliaxiong": "I ran these commands and that worked for me\n```\ndocker system prune\ndocker container prune\ndocker image prune\ndocker network prune\ndocker volume prune```. ",
    "IslaMurtazaev": "@realhome your link in step 5 seems to be not working, can you please update it?. ",
    "smuzammilali": "I have the same issue,\nTried different versions of mysql but no solution works.\nI can access mysql through phpmyadmin but not able to run mysql command under workspace bash. I'm also facing the exact same issue on my Windows 10 home using Docker Toolbox :\n\nI have another machine having Windows 10 Pro and everything works perfectly Using Docker Client for pro with he same setup.\nLooks like must be something related to Toolbox and Windows Home\n. ",
    "JontyCoertzen": "@crosspluser thank you! Cleaning volumes helped. ",
    "ChrGriffin": "Windows 7, Docker 17.07.0-ce. Encountering this same issue.. ",
    "megaxlr": "Can confirm for a Ubuntu host. \nRunning storage:link on the host machine does make the symbolic link, however this points to the path as seen from the host machine. The path may or may not be the same in the container.. ",
    "allaniftrue": "Inside postgres/Dockerfile change \nFROM postgres:alpine\nto\nFROM postgres:<version>  e.g.  FROM postgres:9.6\n& run\ndocker-compose up -d --build postgres. ",
    "scaule": "Hi,\nIn Docker to upgrade libgd you have two choices :\n-> ( Bad and not persistant if you drop your container ) connect you in your PHP container and update it like on a real server ( apt-get install php-gd for exemple on debian)\n-> (Good) update the Dockerfile of php-fpm and re-build it \nPersonnally i use the first one to test and when it's good i write on Dockerfile.. @EugenMayer this issue is ok and can be closed ? . Great news for volume override  :) !\n@EugenMayer Could you close it because i don't have the right to do it ? thx\n. @sladdpi  weird ticket here, what's the problem ?. Do you use ./sync.sh down ? this command do docker-compose down and this delete all containers.. @benjolsen weird ticket here, what's the problem ? . fix is merged. ",
    "IvanDelsinne": "May be already handled on #616 . ",
    "StanislavDremin": "I created file ./ php-fpm/cgi.ini in which specified short_open_tag = on and in docker-compose.yml pointed to \nworkspace:\n    volumes:\n       -./ php-fpm/cli.ini:/etc/php/${PHP_VERSION}/cli / conf.d / 30-cli.ini. ",
    "Zolotov88": "Can work if change - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data to - /var/lib/postgresql/data in docker-compose.yml. ",
    "demesiooliveira": "The problem is in updating the postgres image, which when you change it changes the permissions of the data folder. To solve it simply change - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql/data to - ${DATA_SAVE_PATH}/postgres:/var/lib/postgresql without the 'data'. ",
    "rwoody": "Removing data worked to solve this for me (and similarly for Redis - I had to change /data to /redis for the volume). I'm using Dinghy on OSX if that makes a difference.. ",
    "vudev": "renew ssh key file\nhttps://support.rackspace.com/how-to/connecting-to-a-server-using-ssh-on-linux-or-mac-os/. I think it conflict mac os high sierra. I fixed it.. ",
    "rodion-arr": "The same thing! Can't configure debugging in PhpStorm - it doesn't see any connections from Xdebug.. OK, seems I solved the issue.\nphp-fpm section of docker-compose.yml is standard, no changes\nphp-fpm:\n      build:\n        context: ./php-fpm\n        args:\n          - INSTALL_XDEBUG=${PHP_FPM_INSTALL_XDEBUG}\n          - INSTALL_BLACKFIRE=${INSTALL_BLACKFIRE}\n          - INSTALL_SOAP=${PHP_FPM_INSTALL_SOAP}\n          - INSTALL_MONGO=${PHP_FPM_INSTALL_MONGO}\n          - INSTALL_MSSQL=${PHP_FPM_INSTALL_MSSQL}\n          - INSTALL_ZIP_ARCHIVE=${PHP_FPM_INSTALL_ZIP_ARCHIVE}\n          - INSTALL_BCMATH=${PHP_FPM_INSTALL_BCMATH}\n          - INSTALL_PHPREDIS=${PHP_FPM_INSTALL_PHPREDIS}\n          - INSTALL_MEMCACHED=${PHP_FPM_INSTALL_MEMCACHED}\n          - INSTALL_OPCACHE=${PHP_FPM_INSTALL_OPCACHE}\n          - INSTALL_EXIF=${PHP_FPM_INSTALL_EXIF}\n          - INSTALL_AEROSPIKE=${PHP_FPM_INSTALL_AEROSPIKE}\n          - INSTALL_MYSQLI=${PHP_FPM_INSTALL_MYSQLI}\n          - INSTALL_TOKENIZER=${PHP_FPM_INSTALL_TOKENIZER}\n          - INSTALL_INTL=${PHP_FPM_INSTALL_INTL}\n          - INSTALL_GHOSTSCRIPT=${PHP_FPM_INSTALL_GHOSTSCRIPT}\n          - INSTALL_LDAP=${PHP_FPM_INSTALL_LDAP}\n          - INSTALL_SWOOLE=${PHP_FPM_INSTALL_SWOOLE}\n        dockerfile: \"Dockerfile-${PHP_VERSION}\"\n      volumes_from:\n        - applications\n      volumes:\n        - ./php-fpm/php${PHP_VERSION}.ini:/usr/local/etc/php/php.ini\n      expose:\n        - \"9000\"\n      depends_on:\n        - workspace\n      extra_hosts:\n        - \"dockerhost:${DOCKER_HOST_IP}\"\n      environment:\n        - PHP_IDE_CONFIG=${PHP_IDE_CONFIG}\n      networks:\n        - backend\nphp.ini\n```\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.remote_connect_back=0\nxdebug.cli_color=1\nxdebug.profiler_enable=0\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.remote_port=9000\nxdebug.remote_host=YOUR_LOCAL_IP_ADDRESS\nxdebug.idekey=PHPSTORM\nWhere `YOUR_LOCAL_IP_ADDRESS` is the value from `ifconfig` command. In my case it was in `en0` section in `inet` row\nen0: flags=8863 mtu 1500\n    ether ... \n    inet6 ... prefixlen 64 secured scopeid 0x5 \n    inet HERE_IS_LOCAL_IP netmask 0xffffff00 broadcast ....\n    nd6 options=201\n    media: autoselect\n    status: active\n```\nPhpStorm settings:\n\n\n\n\n\n\nGood luck!. @zlanich Sure, you're right, this is the major flaw of the solution. Don't you already specified as contributor automatically?\nLaradock contributors. Don't understand why you need direct access to repo :)\n. https://stackoverflow.com/questions/46151596/using-laradock-docker-configuration-for-developing/46850467\nThis should help\nAs you can see here - required public/ folder in config was removed. Sorry for potentially stupid question :)\nBut did you rebuild the apache service with docker-compose build command and then restart the container with docker-compose up?. ",
    "tronghieu": "I have same issue. @jeff-h thank for your response. I'm using PHPStorm.. ",
    "runforrestrun": "With @jeff-h config,I managed to get it working to.  Thanks dude.\nVersions:\nMacOs: 10.13.6\nPHPStorm: 2018.2.5\nDocker Engine: 18.06.1-ce\nMy laradock/php-fpm/xdebug.ini:\n```\nxdebug.remote_host=docker.for.mac.localhost \nxdebug.remote_connect_back=0\nxdebug.remote_port=9000\nxdebug.idekey=PHPSTORM\nxdebug.remote_autostart=1\nxdebug.remote_enable=1\nxdebug.cli_color=1\nxdebug.profiler_enable=0\nxdebug.profiler_output_dir=\"~/xdebug/phpstorm/tmp/profiling\"\nxdebug.remote_handler=dbgp\nxdebug.remote_mode=req\nxdebug.var_display_max_children=-1\nxdebug.var_display_max_data=-1\nxdebug.var_display_max_depth=-1\n```\nPhpStorm, important, set this to laradock or whatever you have set for PHP_IDE_CONFIG:\n\n. @francoism90, Thanks for your workaround! This worked. But does anyone know what the permanent solution is?. ",
    "JamShady": "@jeff-h thank you, switching to use xdebug.remote_host=dockerhost instead of xdebug.remote_connect_back=1 solved my problem. ",
    "arkadiusjonczek": "@Mahmoudz Thank you for accepting my pull request. I will add the container to the Random Tools list and create a new pull request.. ",
    "khoanguyen96": "Hey,\nI think values inside your Laravel project .env are overriding the config/database.php values (as they should be). I would replace the values inside .env instead like so:\n.env\n```\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_KEY=\nAPP_TIMEZONE=UTC\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root\nCACHE_DRIVER=file\nQUEUE_DRIVER=sync\n```. Hey,\nI meant the .env inside of your Laravel project, not the .env from this Laradock repository.\nOr you can do this, inside conf/database.php:\n'host' => 'mysql'\n'database' => 'default',\n'username' => 'root',\n'password' => 'root',. ",
    "AlbinoDrought": "https://github.com/laradock/laradock/issues/1204#issuecomment-339725117\n@ultrablue \nAside from the file name, laradock/.env and project/laravel/.env are almost entirely decoupled. The .env files are used for storing \"secret\" or frequently-changing configuration options, but both are mostly independent.\nThe entire laradock repo (this repo), I think, was originally meant for hosting a Laravel stack. This can make stuff a little more confusing. It can, however, be used for hosting pretty much any stack that needs PHP, a webserver (apache, nginx+phpfpm), a database, and even more (queues, cache, mail). I think this is a result of feature creep.\nLaravel is a framework that works great with Laradock. Laravel can be hosted with many things - a manually-installed LAMP stack, a raspberry pi, some Digital Ocean one-click droplet, or with an easily-usable (hopefully) and easily-repeatable container (Laradock). Applications made in Laravel usually require, at least, a proper database config - this will have to be setup in the Laravel .env file and have to match the same settings for your database. For many shared-hosting situations, this is often a username and password given to you by your host. For Laradock, this is the username and password configured in the laradock/.env file, or root:root, or a user that was manually created afterwards.\nThis seems to be the only (existing) relation between Laravel and Laradock - the services (DB, Queue, maybe mailer, maybe reverse proxy) need to be compatible. Besides this, Laradock or Laravel can be swapped out for most other hosting stacks or web frameworks.\nluv u pls respond \u2764\ufe0f \nThanks,\nSean\n. ",
    "smoleniuch": "I have the same issue, the extension is not installed at all.. ",
    "Rishats": "Extension is not installed at all +++. ",
    "hetsch": "Same here with more undefined variables:\nWARNING: The PHP_FPM_INSTALL_PGSQL variable is not set. Defaulting to a blank string.\nWARNING: The PHP_FPM_PG_CLIENT variable is not set. Defaulting to a blank string.\nWARNING: The GRAFANA_PORT variable is not set. Defaulting to a blank string.\nWARNING: The MAILDEV_HTTP_PORT variable is not set. Defaulting to a blank string.\nWARNING: The MAILDEV_SMTP_PORT variable is not set. Defaulting to a blank string.\nThrows error:\nERROR: The Compose file '.\\docker-compose.yml' is invalid because:\nservices.maildev.ports is invalid: Port ranges don't match in length\nservices.grafana.ports is invalid: Port ranges don't match in length\nservices.maildev.ports is invalid: Port ranges don't match in length\n. ",
    "hola56": "Thanks, have tried that but still no luck.... Yes, did that but no joy.. ",
    "cichondev": "@hola56 ,\nI use the Docker ToolBox and I solved this problem by changing the file \"{LARADOCK_GIT_FOLDER}/apache2/sites/default.apache.conf\", I performed the following steps:\n1 - \"ServerName laradock.dev\" for \"ServerName laradock.local\"\n2 - \"DocumentRoot / var / www /\" for \"DocumentRoot /var/www/public/\"\n3 - ' /var/www/\">' for ''\nAnd lastly I added a host to the Windows hosts file (C:\\Windows\\System32\\drivers\\etc\\hosts):\n\"192.168.99.100 laradock.local\". ",
    "simonvomeyser": "For anyone stumbling across this in 2018: \nThere is a settings option in the .env file that does exactly that:\n\nTo debug you can check your errors by typing \ndocker-compose logs apache2\nI had an unrelated error making me crazy: I did not install the composer dependencys so I was only getting a 500 Error. You can solve that by SSH-ing and install them\ndocker-compose exec --user=laradock workspace bash\ncomposer install. ",
    "Tinnin": "Found my problem. Was going to 127.0.0.1 not localhost. ",
    "JeroenVanOort": "As far as I know, using a single container is not possible.\nWhy would you like to do this? Running multiple containers has many advantages.. Travis fails, but I do not think it is because of my changes. If it is because of my changes, could anyone please point out the error on Travis for me?. ",
    "NakanishiTetsuhiro": "I'm having the same problem.... It solved it!\nI was trying to use Laradock on Ubuntu on VirtualBox.\nWhen I run Laradock on the shared folder with the host OS, laradock not working.\nAfter moving laradock dir to Desktop and runnning it works\n. ",
    "jmluang": "try to shutdown SELinux if your system have. hopes this can help.. ",
    "lambrojos": "sorry I must have opened this issue by mistake, somehow. ",
    "coderars": "Is the current version of docker-compose.sync.yml and docker-sync.yml ok for Windows?\nI've been using laradock since months with no problem but now I'm trying to get docker-sync to work on Docker For Windows (Version 18.03.1-ce-win65 (17513) on Windows 10 Pro (17134) + WSL (Ubuntu 16.04) but as soon as I set\nCOMPOSE_FILE=docker-compose.yml;docker-compose.sync.yml\nI always get the following error after any compose command:\n\nERROR: In file '.\\docker-compose.sync.yml', service must be a mapping, not a NoneType.\n\nI tried it with a fresh laradock copy, modifying only the .env file as described but the same happened.\nMy relevant settings:\nAPP_CODE_PATH_HOST=../www\nAPP_CODE_PATH_CONTAINER=/var/www:nocopy\nCOMPOSE_FILE=docker-compose.yml;docker-compose.sync.yml\nCOMPOSE_PATH_SEPARATOR=;\nCOMPOSE_CONVERT_WINDOWS_PATHS=1\nDOCKER_SYNC_STRATEGY=unison\nIf I remove that services: line from docker-compose.sync.yml, the error disappears, unison can start successfully, but when the app containers are starting, there's some other error:\n\nERROR: for workspace Cannot create container for service workspace: invalid volume specification: '/host_mnt/c/Docker/laravel/www:/var/www:nocopy': invalid mount config for type \"bind\": field VolumeOptions must not be specified\n\nAfter 2 days spent on this I've just no more idea how could I fix it.\n. @godbout I was able to get it working on Windows, changing these files as follows:\ndocker-compose.sync.yml\n```yaml\nversion: '3'\nservices:\n  workspace:\n    volumes:\n      - applications-docker-sync:/var/www:nocopy\n  php-fpm:\n    volumes:\n      - applications-docker-sync:/var/www:nocopy\n  nginx:\n    volumes:\n      - applications-docker-sync:/var/www:nocopy\nvolumes:\n  applications-docker-sync:\n    external: true\nand docker-sync.ymlyaml\nversion: \"2\"\noptions:\n  verbose: false\n  compose-dev-file-path: 'docker-compose.sync.yml' # docker-compose override file\nsyncs:\n  applications-docker-sync: # name of the intermediary sync volume\n    sync_strategy: '${DOCKER_SYNC_STRATEGY}' # for osx use 'native_osx', for windows use 'unison'\n    src: '${APP_CODE_PATH_HOST}' # host source directory\n    sync_userid: 1000 # giving permissions to www-data user (as defined in nginx and php-fpm Dockerfiles)\n    sync_excludes: ['laradock', 'ignored_folder_example'] # ignored directories\n...and then in WSL bash:bash\n./sync.sh up nginx mysql redis maildev\n```\nNow the unison sync is working as desired and my Laravel app's response time went down from ~700ms to ~50ms. Wow!\nBut... Next problem is now that on a file change event Laravel's mix with browserSync reloads the browser faster than the unison sync completes. LOL :) I see no changes in the browser after automatic reload, only after pressing F5. With browserSync option reloadDelay: 1000 it works, but that way docker-sync is useless. \nMy watcher is running by Windows in a Powershell terminal, watching the original files, not the synced ones sitting on that synced volume. I tried running npm run watch inside the workspace container but for some reason it was eating up my CPU. . Stop everything and then try to run only the mysql container without the -d param. See if any error comes up while starting the container.\ndocker-compose up mysql\nAlso check the value of DATA_PATH_HOST in laradock's .env file.\nIf no success at all, try to change the value of MYSQL_VERSION to 5.7 (backup your data folder first!) and rebuild the mysql container. Maybe you could try to point the DATA_PATH_HOST to an empty folder for testing.\nWhat operating system, docker+compose version do you have?. ",
    "Dannymx": "@coderars Your example fixed it for me!\nFor those having the same problem, make sure in your .env file these variables are set as follow.\nAPP_CODE_PATH_CONTAINER=/var/www Do not add :nocopy or it will break.\nCOMPOSE_FILE=docker-compose.yml:docker-compose.sync.yml Make sure your sync yml file is added as well.\nAs for the docker-sync.yml I did not touch that file and left it as is.\n. @godbout I noticed that if I remove the docker-compose.sync.yml from my .env file, the Laradock container and directories are created with the root user for some reason, and not with the laradock user.. Nevermind, ignore the rest: I just had to add the --no-cache option when rebuilding my workspace.\nThis still seems to be an issue, even though my Dockerfile have the apt-get update -yqq (both workspace and php-fpm) I still get this error:\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nService 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_SOAP} = true ]; then   apt-get -y install libxml2-dev php${LARADOCK_PHP_VERSION}-soap ;fi' returned a non-zero code: 100\nRestarting Docker didn't fix my issue either.. ",
    "mmmshakeel": "I had already symlink created. \ndeleting the old symlink fixed the issue and the command worked!. ",
    "sladdpi": "No problem, thanks !?!?. ",
    "JeromeDesseaux": "Same error here. I upvote.. I managed to fix it adding two lines to workspace/Dockerfile-71\nLine 56 : \napt-get install -y python2.7\nAnd at the end, once NPM is installed : \nnpm config set python /usr/bin/python2.7\nHope it could be useful. I guess it should be added to the official Dockerfile.\n. Thanks. Haven't seen it. And its a far better solution that the proposed one. Thanks :) . ",
    "nellonican": "The .env file also has a WORKSPACE_INSTALL_PYTHON which is set to false by default. If you set it to true, python will be installed in the workspace image.. This is because of 2 old commits creating a conflict with the WORKSPACE_INSTALL_PYTHON variable.\nSee:\nhttps://github.com/laradock/laradock/pull/1240\nIf you remove the changes the following 2 commits make, it should work. Can you test it?\nCommit https://github.com/laradock/laradock/commit/c5ccc2f4ff26adce44ce98373b951ff14eae3f8a\nCommit https://github.com/laradock/laradock/commit/b47963c80d88ff393ce25b0df1c9c8986dcdfdae. @ModernArtisan \nCan you try to build the workspace docker image with the following version of workspace/Dockerfile-71 ? \nhttps://github.com/nellonican/laradock/blob/nellonican/workspace/Dockerfile-71\nAnd set WORKSPACE_INSTALL_PYTHON to true in .env\nBy using that, I am able to create the workspace image without python errors.. They were added by @JeromeDesseaux . He didn't see the WORKSPACE_INSTALL_PYTHON variable in .env and added the python installation to Dockerfile-71 .. @Mahmoudz @JeromeDesseaux \nYou can probably avoid your python error by setting the WORKSPACE_INSTALL_PYTHON variable in your .env to true. \nDoing so will install python in the workspace docker image. \nSee https://github.com/laradock/laradock/blob/f7ac8cf8621f071ad3888d55b6ab94dbe85324cf/workspace/Dockerfile-71#L610. You're welcome.\n@JeromeDesseaux @Mahmoudz \nSince the python issue can be solved by using the WORKSPACE_INSTALL_PYTHON variable in .env, maybe we should revert the following 2 commits?\nhttps://github.com/laradock/laradock/commit/c5ccc2f4ff26adce44ce98373b951ff14eae3f8a\nand\nhttps://github.com/laradock/laradock/commit/b47963c80d88ff393ce25b0df1c9c8986dcdfdae. I had the same error. This should be fixed by https://github.com/laradock/laradock/pull/1241 . ",
    "slavarazum": "The same issue repeats with WORKSPACE_INSTALL_PYTHON=ture and WORKSPACE_INSTALL_PYTHON=false. In bin path only python3 exists. How it's happend if I have set WORKSPACE_INSTALL_PYTHON=false ? And with\nbash\nRUN groupadd -g ${PGID} laradock && \\\n    useradd -u ${PUID} -g laradock -m laradock && \\\n    apt-get update -yqq && \\\n    apt-get install -y python2.7\nWe need exactly python2.7! Because:\nbash\ngyp ERR! stack Error: Python executable \"/usr/bin/python3\" is v3.5.2, which is not supported by gyp.\ngyp ERR! stack You can pass the --python switch to point to Python >= v2.5.0 & < 3.0.0.\nDuring installation npm dependencies. @nellonican Yep, it works fine now! I think it should be a pull request :)\nSo, why these lines was added before?\napt-get update -yqq && \\\napt-get install -y python2.7\nnpm config set python /usr/bin/python2.7\n. Still no solutions?. ",
    "patrickcarlohickman": "The other problem is that the line npm config set python /usr/bin/python2.7 is not doing what is intended. The previous rm -rf statement is not terminated, so this addition is actually attempting to delete the files npm, config, set, python, and /usr/bin/python2.7. In this case, the python2.7 exectuable does actually get deleted.\n@nellonican's PR #1257 will fix the issue, though.. One workaround is to use yarn. yarn install seems to work for me.\nIf you need npm instead of yarn, I was able to come up with a solution. I'm not sure if there is a better solution out there, but the one that works for me is to change the volume mount from CIFS 3.02 to CIFS 2.0.\nI describe the process on an answer on StackOverflow: https://stackoverflow.com/questions/50981002/npm-install-on-laradock-not-working/52371510#52371510. ",
    "jeperello": "Using version 8.12.0 of nvm we solve this problem:\n- nvm install 8.12.0\n- nvm use 8.12.0\nRemove installed packages:\n- rm -Rf node_modules/\n- rm -f package-lock.json\nFinally, run install again:\n- npm install\nGood luck!. ",
    "fonger900": "Thanks a lot!. ",
    "nurdinj4": "solved.. ",
    "cnasikas": "@nurdinj4 How ?. ",
    "for0231": "When I add drush and drupalconsole to build, it reports below:\ndoe:laradock doe$ docker-compose build workspace\nBuilding workspace\nStep 1/158 : ARG PHP_VERSION=${PHP_VERSION}\nStep 2/158 : FROM laradock/workspace:2.2-${PHP_VERSION}\n ---> 95b8f4b0dbc9\nStep 3/158 : LABEL maintainer=\"Mahmoud Zalt mahmoud@zalt.me\"\n ---> Using cache\n ---> 5a4c150921b4\nStep 4/158 : USER root\n ---> Using cache\n ---> d91fb7947bdd\nStep 5/158 : ARG PUID=1000\n ---> Using cache\n ---> 0bcca2f1c018\nStep 6/158 : ENV PUID ${PUID}\n ---> Using cache\n ---> 5c31cbf4cf7c\nStep 7/158 : ARG PGID=1000\n ---> Using cache\n ---> 1534198a9997\nStep 8/158 : ENV PGID ${PGID}\n ---> Using cache\n ---> 484e399d28dd\nStep 9/158 : RUN groupadd -g ${PGID} laradock &&     useradd -u ${PUID} -g laradock -m laradock -G docker_env &&     usermod -p \"\" laradock\n ---> Using cache\n ---> 2bdda045c4c2\nStep 10/158 : ARG TZ=UTC\n ---> Using cache\n ---> 8b5ff4e2672b\nStep 11/158 : ENV TZ ${TZ}\n ---> Using cache\n ---> d7a1a5b5ccb3\nStep 12/158 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n ---> Using cache\n ---> 1396ecc8d6b0\nStep 13/158 : USER root\n ---> Using cache\n ---> 4f610e5e7ccf\nStep 14/158 : COPY ./aliases.sh /root/aliases.sh\n ---> Using cache\n ---> a409d07f3eb9\nStep 15/158 : COPY ./aliases.sh /home/laradock/aliases.sh\n ---> Using cache\n ---> 67e55d39c0b7\nStep 16/158 : RUN sed -i 's/\\r//' /root/aliases.sh &&     sed -i 's/\\r//' /home/laradock/aliases.sh &&     chown laradock:laradock /home/laradock/aliases.sh &&     echo \"\" >> ~/.bashrc &&     echo \"# Load Custom Aliases\" >> ~/.bashrc &&     echo \"source ~/aliases.sh\" >> ~/.bashrc &&     echo \"\" >> ~/.bashrc\n ---> Using cache\n ---> 4088a2aed690\nStep 17/158 : USER laradock\n ---> Using cache\n ---> b423a1af8d25\nStep 18/158 : RUN echo \"\" >> ~/.bashrc &&     echo \"# Load Custom Aliases\" >> ~/.bashrc &&     echo \"source ~/aliases.sh\" >> ~/.bashrc &&   echo \"\" >> ~/.bashrc\n ---> Using cache\n ---> 49b20b6362bd\nStep 19/158 : USER root\n ---> Using cache\n ---> a5d0997b0e7e\nStep 20/158 : COPY ./composer.json /home/laradock/.composer/composer.json\n ---> Using cache\n ---> 351271f54377\nStep 21/158 : RUN chown -R laradock:laradock /home/laradock/.composer\n ---> Using cache\n ---> 12a1643d2d3e\nStep 22/158 : USER laradock\n ---> Using cache\n ---> 32dd97d6f1eb\nStep 23/158 : ARG COMPOSER_GLOBAL_INSTALL=false\n ---> Using cache\n ---> cd0636b1b7e5\nStep 24/158 : ENV COMPOSER_GLOBAL_INSTALL ${COMPOSER_GLOBAL_INSTALL}\n ---> Using cache\n ---> e624aa3d7167\nStep 25/158 : RUN if [ ${COMPOSER_GLOBAL_INSTALL} = true ]; then     composer global install ;fi\n ---> Using cache\n ---> ac314b6015d9\nStep 26/158 : ARG COMPOSER_REPO_PACKAGIST\n ---> Using cache\n ---> 48259687f34b\nStep 27/158 : ENV COMPOSER_REPO_PACKAGIST ${COMPOSER_REPO_PACKAGIST}\n ---> Using cache\n ---> 54de0bba275d\nStep 28/158 : RUN if [ ${COMPOSER_REPO_PACKAGIST} ]; then     composer config -g repo.packagist composer ${COMPOSER_REPO_PACKAGIST} ;fi\n ---> Using cache\n ---> b01e1d4b4e3f\nStep 29/158 : RUN echo \"\" >> ~/.bashrc &&     echo 'export PATH=\"~/.composer/vendor/bin:$PATH\"' >> ~/.bashrc\n ---> Using cache\n ---> 04b97b595ec7\nStep 30/158 : USER laradock\n ---> Using cache\n ---> f5f43021814d\nStep 31/158 : RUN echo \"\" >> ~/.bashrc &&     echo 'export PATH=\"/var/www/vendor/bin:$PATH\"' >> ~/.bashrc\n ---> Using cache\n ---> 6fcb0627e2e0\nStep 32/158 : USER root\n ---> Using cache\n ---> f76979f23719\nStep 33/158 : COPY ./crontab /etc/cron.d\n ---> Using cache\n ---> dcc09f2fd9f3\nStep 34/158 : RUN chmod -R 644 /etc/cron.d\n ---> Using cache\n ---> ced7dc3dcbc1\nStep 35/158 : USER root\n ---> Using cache\n ---> 71fe5b256288\nStep 36/158 : ARG INSTALL_SOAP=false\n ---> Using cache\n ---> 37d83f56dc0a\nStep 37/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 6134f5bb1dc4\nStep 38/158 : RUN if [ ${INSTALL_SOAP} = true ]; then   apt-get -y install libxml2-dev php${PHP_VERSION}-soap ;fi\n ---> Using cache\n ---> 101f08e113ee\nStep 39/158 : ARG INSTALL_LDAP=false\n ---> Using cache\n ---> a716e7c6fa2b\nStep 40/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 172ea54df7b8\nStep 41/158 : RUN if [ ${INSTALL_LDAP} = true ]; then     apt-get install -y libldap2-dev &&     apt-get install -y php${PHP_VERSION}-ldap ;fi\n ---> Using cache\n ---> b096315df9ef\nStep 42/158 : ARG INSTALL_IMAP=false\n ---> Using cache\n ---> 50dff4ff5774\nStep 43/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> b08d4d27da8a\nStep 44/158 : RUN if [ ${INSTALL_IMAP} = true ]; then     apt-get install -y php${PHP_VERSION}-imap ;fi\n ---> Using cache\n ---> 38a37a7bf19d\nStep 45/158 : USER root\n ---> Using cache\n ---> 46fd2615af4d\nStep 46/158 : ARG INSTALL_XDEBUG=false\n ---> Using cache\n ---> cdf07c358cca\nStep 47/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 7138ccdf7a4b\nStep 48/158 : RUN if [ ${INSTALL_XDEBUG} = true ]; then     apt-get install -y --force-yes php${PHP_VERSION}-xdebug &&     sed -i 's/^;//g' /etc/php/${PHP_VERSION}/cli/conf.d/20-xdebug.ini &&     echo \"alias phpunit='php -dzend_extension=xdebug.so /var/www/vendor/bin/phpunit'\" >> ~/.bashrc ;fi\n ---> Using cache\n ---> 1095b94f87d1\nStep 49/158 : COPY ./xdebug.ini /etc/php/${PHP_VERSION}/cli/conf.d/xdebug.ini\n ---> Using cache\n ---> 780cf0643d7d\nStep 50/158 : ARG INSTALL_BLACKFIRE=false\n ---> Using cache\n ---> 0dd0fcfeff6c\nStep 51/158 : ARG BLACKFIRE_CLIENT_ID\n ---> Using cache\n ---> 7442a6eb006d\nStep 52/158 : ENV BLACKFIRE_CLIENT_ID ${BLACKFIRE_CLIENT_ID}\n ---> Using cache\n ---> 4579228f59b6\nStep 53/158 : ARG BLACKFIRE_CLIENT_TOKEN\n ---> Using cache\n ---> ffcf50ae647e\nStep 54/158 : ENV BLACKFIRE_CLIENT_TOKEN ${BLACKFIRE_CLIENT_TOKEN}\n ---> Using cache\n ---> ef42e11255c9\nStep 55/158 : RUN if [ ${INSTALL_XDEBUG} = false -a ${INSTALL_BLACKFIRE} = true ]; then     curl -L https://packagecloud.io/gpg.key | apt-key add - &&     echo \"deb http://packages.blackfire.io/debian any main\" | tee /etc/apt/sources.list.d/blackfire.list &&     apt-get update -yqq &&     apt-get install blackfire-agent ;fi\n ---> Using cache\n ---> deee3819ee1f\nStep 56/158 : ARG INSTALL_WORKSPACE_SSH=false\n ---> Using cache\n ---> bfcdf8a70b2c\nStep 57/158 : COPY insecure_id_rsa /tmp/id_rsa\n ---> Using cache\n ---> 41e1341d7a4b\nStep 58/158 : COPY insecure_id_rsa.pub /tmp/id_rsa.pub\n ---> Using cache\n ---> c29d5e6280e1\nStep 59/158 : RUN if [ ${INSTALL_WORKSPACE_SSH} = true ]; then     rm -f /etc/service/sshd/down &&     cat /tmp/id_rsa.pub >> /root/.ssh/authorized_keys         && cat /tmp/id_rsa.pub >> /root/.ssh/id_rsa.pub         && cat /tmp/id_rsa >> /root/.ssh/id_rsa         && rm -f /tmp/id_rsa         && chmod 644 /root/.ssh/authorized_keys /root/.ssh/id_rsa.pub     && chmod 400 /root/.ssh/id_rsa     && cp -rf /root/.ssh /home/laradock     && chown -R laradock:laradock /home/laradock/.ssh ;fi\n ---> Using cache\n ---> 9b0da886f6b5\nStep 60/158 : ARG INSTALL_MONGO=false\n ---> Using cache\n ---> 0140ea2cbcc8\nStep 61/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 04779eb325c6\nStep 62/158 : RUN if [ ${INSTALL_MONGO} = true ]; then     pecl -q install mongodb &&     echo \"extension=mongodb.so\" >> /etc/php/${PHP_VERSION}/mods-available/mongodb.ini &&     ln -s /etc/php/${PHP_VERSION}/mods-available/mongodb.ini /etc/php/${PHP_VERSION}/cli/conf.d/30-mongodb.ini ;fi\n ---> Using cache\n ---> 66084f92b7ee\nStep 63/158 : ARG INSTALL_AMQP=false\n ---> Using cache\n ---> e049fa692fe0\nStep 64/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 53c24f29c818\nStep 65/158 : RUN if [ ${INSTALL_AMQP} = true ]; then     apt-get install librabbitmq-dev -y &&     pecl -q install amqp &&     echo \"extension=amqp.so\" >> /etc/php/${PHP_VERSION}/mods-available/amqp.ini &&     ln -s /etc/php/${PHP_VERSION}/mods-available/amqp.ini /etc/php/${PHP_VERSION}/cli/conf.d/30-amqp.ini ;fi\n ---> Using cache\n ---> 32282f605228\nStep 66/158 : ARG INSTALL_PHPREDIS=false\n ---> Using cache\n ---> d39879b31ec0\nStep 67/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 3ae7cbf8a89c\nStep 68/158 : RUN if [ ${INSTALL_PHPREDIS} = true ]; then     printf \"\\n\" | pecl -q install -o -f redis &&     echo \"extension=redis.so\" >> /etc/php/${PHP_VERSION}/mods-available/redis.ini &&     phpenmod redis ;fi\n ---> Using cache\n ---> 6ff820bb03ed\nStep 69/158 : ARG INSTALL_SWOOLE=false\n ---> Using cache\n ---> 25b3b5cdde48\nStep 70/158 : ARG PHP_VERSION=${PHP_VERSION}\n ---> Using cache\n ---> 5aeb1e33c08a\nStep 71/158 : RUN if [ ${INSTALL_SWOOLE} = true ]; then     pecl -q install swoole &&     echo \"extension=swoole.so\" >> /etc/php/${PHP_VERSION}/mods-available/swoole.ini &&     ln -s /etc/php/${PHP_VERSION}/mods-available/swoole.ini /etc/php/${PHP_VERSION}/cli/conf.d/20-swoole.ini ;fi\n ---> Using cache\n ---> c3a016edbce4\nStep 72/158 : USER root\n ---> Using cache\n ---> e6907008602f\nStep 73/158 : ARG INSTALL_DRUSH=false\n ---> Using cache\n ---> 6e8f38609676\nStep 74/158 : RUN if [ ${INSTALL_DRUSH} = true ]; then     apt-get -y install mariadb-client &&     curl -fsSL -o /usr/local/bin/drush https://github.com/drush-ops/drush/releases/download/${DRUSH_VERSION}/drush.phar | bash &&     chmod +x /usr/local/bin/drush &&     drush core-status ;fi\n ---> Running in ff3e169a6ef1\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libaio1 libdbd-mysql-perl libdbi-perl libmysqlclient20 libreadline5\n  libterm-readkey-perl mariadb-client-10.0 mariadb-client-core-10.0\n  mariadb-common mysql-common\nSuggested packages:\n  libclone-perl libmldbm-perl libnet-daemon-perl libsql-statement-perl\nThe following NEW packages will be installed:\n  libaio1 libdbd-mysql-perl libdbi-perl libmysqlclient20 libreadline5\n  libterm-readkey-perl mariadb-client mariadb-client-10.0\n  mariadb-client-core-10.0 mariadb-common mysql-common\n0 upgraded, 11 newly installed, 0 to remove and 28 not upgraded.\nNeed to get 7,277 kB of archives.\nAfter this operation, 52.1 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial/main amd64 libaio1 amd64 0.3.110-2 [6,356 B]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libdbi-perl amd64 1.634-1build1 [743 kB]\nErr:3 http://security.ubuntu.com/ubuntu xenial-security/main amd64 mysql-common all 5.7.21-0ubuntu0.16.04.1\n  404  Not Found [IP: 91.189.88.152 80]\nIgn:4 http://security.ubuntu.com/ubuntu xenial-security/main amd64 libmysqlclient20 amd64 5.7.21-0ubuntu0.16.04.1\nGet:5 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 libdbd-mysql-perl amd64 4.033-1ubuntu0.1 [84.3 kB]\nGet:6 http://archive.ubuntu.com/ubuntu xenial/main amd64 libreadline5 amd64 5.2+dfsg-3build1 [99.5 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial/universe amd64 libterm-readkey-perl amd64 2.33-1build1 [27.2 kB]\nGet:8 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 mariadb-common all 10.0.34-0ubuntu0.16.04.1 [16.0 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 mariadb-client-core-10.0 amd64 10.0.34-0ubuntu0.16.04.1 [4,289 kB]\nErr:3 http://security.ubuntu.com/ubuntu xenial-security/main amd64 mysql-common all 5.7.21-0ubuntu0.16.04.1\n  404  Not Found [IP: 91.189.88.152 80]\nErr:4 http://security.ubuntu.com/ubuntu xenial-security/main amd64 libmysqlclient20 amd64 5.7.21-0ubuntu0.16.04.1\n  404  Not Found [IP: 91.189.88.152 80]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 mariadb-client-10.0 amd64 10.0.34-0ubuntu0.16.04.1 [1,173 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 mariadb-client all 10.0.34-0ubuntu0.16.04.1 [13.0 kB]\nFetched 6,452 kB in 9s (686 kB/s)\n**E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/m/mysql-5.7/mysql-common_5.7.21-0ubuntu0.16.04.1_all.deb  404  Not Found [IP: 91.189.88.152 80]\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/m/mysql-5.7/libmysqlclient20_5.7.21-0ubuntu0.16.04.1_amd64.deb  404  Not Found [IP: 91.189.88.152 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_DRUSH} = true ]; then     apt-get -y install mariadb-client &&     curl -fsSL -o /usr/local/bin/drush https://github.com/drush-ops/drush/releases/download/${DRUSH_VERSION}/drush.phar | bash &&     chmod +x /usr/local/bin/drush &&     drush core-status ;fi' returned a non-zero code: 100**. it's same error.. ",
    "rick20": "have you solve this issue? . ",
    "neomobil": "If you use an smtp server than take the host and the from that. \ud83d\udceb Otherwise you can use mail too.. ",
    "CeddyG": "Hi,\nsudo docker-compose up --scale php-fpm=3 -d nginx\nDoes it work ?. You can use gethostname() somewhere in your code to check.\nIn a view : \n{{ gethostname() }}\nYou can see different values when you refresh your page and see the Container ID.. Yes, you can see it by using gethostname().. ",
    "fosron": "It just adds the instances, but nginx config will still not point to them?. Is it going to point to different php-fpm instances, even if there's no config for that?\n  . ",
    "andersonpem": "I had quite some time searching why this behavior works out of the box.\nWhen you scale a named service, Docker does a \"Round-robin DNS A Record\" in the pool of available containers for that specific service. It chooses one of the available containers and serve its IP when you call the service by its name.\nMore info about that in the \"Discovering containers on the same service or stack\" part of the service discovery documentation of Docker:\nhttps://docs.docker.com/docker-cloud/apps/service-links/#discovering-containers-on-the-same-service-or-stack\n. ",
    "lbavendanos": "test running npm run watch-poll. @superbull The same thing also happens to me.\nObserving the webpack configuration, it gives us the option to exclude a large folder as node_modules with the optionwatchOptions.ignored.\nhttps://webpack.js.org/configuration/watch/#watchoptions-ignored\nTherefore, it should be added in webpack.mix.js file:\nmix.webpackConfig({\n    watchOptions: {\n        ignored: /node_modules/\n    }\n});\nthis would reduce the excess CPU and memory usage by using the commands npm run watch and npm run watch-poll in docker.. ",
    "superbull": "@lbavendanos Thanks, this works for me.\nSome more information about this:\nhttps://laravel.com/docs/5.4/mix#running-mix\nhttps://webpack.js.org/configuration/watch/#watchoptions-poll\n. But when I am using polling the fan of my MAC becomes very noisy. Below is the screen shot of my activity monitor:\n\nThe energy impact of docker jump from 4 to more than 400.\nI decide to run npm run watch locally in my MAC.\n. Yes, that's significantly reduced the CPU usage. Thanks.\nI thought ignore node_modules should be configured in Laravel by default.. @lcdss Sorry, I cannot answer your question. Because I just run npm run watch to build the assets, not serve them.. ",
    "lcdss": "I have a similar problem: I access the workspace and run yarn run dev which runs at localhost:3000, but I'm unable to access it from the host machine or others containers, even after I have exposed the port 3000 and opened the port 3000 in the docker-compose.yml file.\n@superbull How are you accessing it from the host OS?. @superbull No problem. I already solved my problem changing the listening address to 0.0.0.0 instead of localhost or 127.0.0.1.. @ed-fruty Thank you! Changing the host to 0.0.0.0 worked flawlessly. Thank you again! Your are 10/10!. ",
    "luongs3": "@lcdss could you tell me more detail, what do you mean when say \" changing the listening address to 0.0.0.0 instead of localhost or 127.0.0.1\". ",
    "eblanshey": "Ignoring the node_modules directory does not lower my CPU usage unfortunately. Docker uses 50% CPU and fans run on max. Has anyone else been able to find a solution on Docker for Mac and running watch or watch-poll successfully?. ",
    "marckyes": "Exact same issue here.\n\nLaradoc v5 4e48628 on\ndocker 17.09.0-ce-mac35 (19611)\n\nHardcoding values in docker-compose.yml doesn't have any effect either.\n. ",
    "mksglu": "Yeah, I have this problem too. . ",
    "DKarakis": "You must change password in mysql docker, simply open up mysql bash via docker-compose exec mysql bash\nthen follow these steps ;\nmysql -u root -p root\nFLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass';\nafter resetting password in mysql docker you then edit your .env file.\nIf you have connection error you can always lookup your mysql ip address by;\ndocker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' container_name_or_id\nI've solved issue by reproducing these steps. Hope it'll help you too.. Actually not. Once you booted your then following the steps that I\u2019ve provided earlier, you should be able to use those settings only if you do not rebuild or remove your docker. Because you are telling the docker simply change the mysql root password. There will be two cases that can change the password, whether you rebuild your docker or delete. \nHappy coding . ",
    "Boggimedes": "So this change does last through bringing the container down and back up again, but it still is very limiting.  the ability to change the .env file and have those changes replicate through the system is one of the major reasons for using docker-compose. ",
    "vladimirkonrad": "try to comment line below\n        - ${DATA_SAVE_PATH}/mysql:/var/lib/mysql\n. ",
    "AlexanderKosianchuk": "The reason of this is that data (schemes and privileges) stored outside the container.\nBy default for laradock /home/USER/.laradock/data/mysql. ",
    "scriptwang": "I found that after delete mysql database file (stored out side the container) and modify the MYSQL_ROOT_PASSWORD column of docker-compose.yml then the pwd will change.\nThe following operations is dangerous!!! Pls backup you file first!\n$ cd yourMysqlDatabaseFileFolder \n$ rm -rf *                           #delete all mysql data file,before do this you backup file first\n$ vi docker-compose.yml #modify the MYSQL_ROOT_PASSWORD \n$ docker rm $(docker stop $(docker ps -a -q)) #delete all containers\n$ docker-compose up -d. ",
    "abhinitsingh19": "i have observed that it has something to do with volume that we specify in docker-compose.yml file.\nif i dont specify it, i am able to change MYSQL_ROOT_PASSWORD and can connect with new password to mysql container, i run from docker-compose file.. i have found out the problem. it seems that even MYSQL_ROOT_PASSWORD appears to get stored on volume . as a result , no matter how many times, you try changing it, it  does not get reflected .\ni suggest changing volume declaration in docker-compose.yaml file from \n      - mysql:/var/lib/mysql  to - mysql1:/var/lib/mysql and then it will work like a charm.\n. ",
    "mrusho": "Having the same problem. Found this over at Sequel Pro:\nhttps://github.com/sequelpro/sequelpro/issues/2699\nChanged my config to use MySQL 5.7 and now it works without any problems. Probably need to wait until they resolve their issues first.. ",
    "martynishin": "@huuvan20 Hi! Do you solved this problem? I have the same problem after run migration and try to open my DB in sequel pro. In phpmyadmin or MySQL Workbench I can open my DB without problem.. ",
    "makapaka23": "no i'm not doing anything down myself - its simply in the process of rebooting windows. ",
    "saulo-silva": "I have the same problem.\n. ",
    "stojankukrika": "Yes, It's work in windows. I just add COMPOSE_PATH_SEPARATOR=: into .env file and it's start docker. Before that have that error ERROR: .IOError: [Errno 22] invalid mode ('r') or filename: u'.\\\\docker-compose.yml:docker-compose.dev.yml'. ",
    "Oleg-Arkhipov": "https://docs.docker.com/compose/env-file/. ",
    "codebykyle": "I also get this error, following the documentation on the documentation website. I am running Windows 10 with docker on hyper-v, on an existing laravel project. I added the git sub-module, and tried to run the command from documentation:\n\n. The file is there\n\nThe docker version is 17.09.0-ce-win33 stable release, which I believe is the current stable release provided by docker. \n\nI have no issues running other docker containers. I do not believe this to be directly a windows 10 environmental problem.. I also tried this in powershell just to be sure. I receive the same error, while the file is discoverable in the directory by hitting tab \n\n. Sorry, I'm really looking to use this on windows, since my development environment requires use of specific windows programs. Docker should be able to run on Windows alright. Additionally, the documentation discusses use on Windows, which leads me to believe Laradock should be able to run just as well regardless of the platform.\nThere is something specific going on here. I will look into this and report back if I find any solution to the problem.. Removing the : in the COMPOSE_FILE section of .env will let me run docker-compose up:\nDoesn't work:\nCOMPOSE_FILE=docker-compose.yml:docker-compose.dev.yml\nWorks:\nCOMPOSE_FILE=docker-compose.yml. ",
    "cornelius-agrippa": "Windows doesn't seem to like : very much. I had the same problem. Using ; instead, worked ok.\nCOMPOSE_FILE=docker-compose.yml;docker-compose.dev.yml\nGot this from the reference: https://docs.docker.com/compose/reference/envvars/#compose_file\nEDIT: Will ; work on UNIX machines though?. ",
    "francoisfaubert": "There's no hint it would work on Unix in the documentation. When building maybe Laradock could figure the OS context and change COMPOSE_PATH_SEPARATOR accordingly, but seems like a lot of work for a small gain.\nI personally feel you can get away by explaining it in .env-example. I'll send a PR doing just that and see what happens.. ",
    "Rhymond": "https://github.com/laradock/laradock/pull/1293 related. There is easier fix for this problem:\nhttps://github.com/laradock/laradock/pull/1293. ",
    "rei-nfk": "I have the same error as you. Do you have any idea to avoid this problem? . >> tigo-di, Thank you very much for your awesome advice!!! You saved my day!!. ",
    "tigo-di": "For now, comment and it will works\nRUN if [ ${CHANGE_SOURCE} = true ]; then \\\n# Change application source from dl-cdn.alpinelinux.org to aliyun source\n# RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories\n\n;fi.",
    "x8core": "Same on Mac.. ",
    "EnnioSimoes": "Missed a \"\\\" on the line above \"; fi\"\nRUN if [ ${CHANGE_SOURCE} = true ]; then \\\n    # Change application source from dl-cdn.alpinelinux.org to aliyun source\n    RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories \\\n;fi. ",
    "stueynet": "Sorry just to clarify this should be changed in /laradock/nginx/Dockerfile. ",
    "aComputerGeek": "My way\uff1a\nARG CHANGE_SOURCE=false\nRUN if [ ${CHANGE_SOURCE} = true ]; then \\\n    # Change application source from dl-cdn.alpinelinux.org to aliyun source\n     sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/' /etc/apk/repositories; \\\nfi\n. ",
    "danaia": "We are installing Laradock using an automated install shell script from a clean Ubunutu 16.04 instance and this is the only issue we have during the complete provisioning. Would like like to avoid manual labor here if this is an easy fix on your side. . I just forked the master and fixed the issue. No biggie. . Any ideas why this would be happening?: I have an install script which installs both Laradock and my Larvel application. I use this install script successfully within a Virtualbox VM - Ubuntu 16.04 without any issues at all. Every thing comes up and MySQL migrates no problem. I then install the exact same Ubuntu 16.04 OS on my same machine. This time, not as a VM but as the native OS. I run the exact same script, under the same Ubuntu OS with no modifications at all and I get the dreaded MySQL: SQLSTATE[HY000] [2002] Connection refused.  Why would 2 identical systems react this way? Everything is exactly the same and I have repeated this problem 3 times so far.  . I am getting the exact same error as @rafa-acioly with the same .env file. This has been running fine for a few months. Made no changes to the Laradock files Getting this error from a clean install and running from a Laradock fork which has not failed me until now. . @rockerbom This worked for me after a long time of forensics. Also solved how to create a DB. @adammparker I tried your option and bring everything back to 5.7 but I was not able to bash into the container for some reason. . Have a stable solution after a few days banging thy head. MySQL 8.0 is not stable at all for me. I am surprised it is a part of Laradock. Does anyone know why a dev version is included VS a production version? Once I downgraded to 5.7 all errors above are gone and my head is healing. Like to suggest to the developers of Laradock to please use a stable version of MySQL so others may not need to travel the road of misery. . ",
    "gclove": "Same issues. . Should be accepted  \ud83d\udc4d . It's the same as #1273 . It's the same as #1273 . ",
    "fengjianfei": "i have the same problem ,do you fix it yet?. ",
    "wwek": "this fix is right. ",
    "Denis4yk": "Yes. I've faced the same problem and have solved it in the same way.. ",
    "waqas-mehmood-pk": "1+. ",
    "renanwilliam": "I have created support to OCI8 in my fork:\nhttps://github.com/4success/laradock/commit/1c99911b83943a7adb242563d900c47ee5995296\nYou can take a look and adapt for you needs in your repository.. ",
    "tobysommer": "Hi and thanks a lot for this great project!\nAny chance to get the OCI8 support into the official laradock?. ",
    "gregoirepaqueron": ":+1: . ",
    "jspaceboots": "Sorry, I meant to open this PR for our forked copy. Move along citizen.. ",
    "blurstream": "it was resolved here: https://github.com/csi0n/laradock/commit/e33306063b25a2979845f83a17c2db5ad8f385a3. ",
    "jeffreyliim": "Its actually a mistake on my part, the built was actually complete. Thanks anyway.. This is the app.blade file. Both homestead and laradock examples are from the same file.\n\n\n\n\n. Its 2560x1600 13\u2019 macbook pro. I doubt it has anything to do with screen resolution though. Set your database, username and password in your project env file the same as configured in the laradock env file.. Change DB_HOST=mysql. Go into your docker workspace in your laradock folder by doing\ndocker-compose exec workspace\nthen clear your project config and cache\nphp artisan config:clear\nphp artisan cache:clear. Thank you @ZR87 its exactly what I'm looking for!. @bestlong thanks i disabled it and it worked again. ",
    "facundofarias": "@Mahmoudz That's fine, I didn't check if it was already solved. Thanks!. ",
    "boredomdenied": "Why not create a PR? I was expecting one to be already in the queue for approval. ",
    "kenichi1985": "Docker version ($ docker --version): Version 17.12.0-ce-win47 (15139)\nLaradock commit ($ git rev-parse HEAD): acbe7160d9680dd77b801b8df12300da6ab08d45\nSystem info (Mac, PC, Linux): PC\nSystem info disto/version: windows10\nHi all, I still have the same issue that couldn't see my project folder.\n\n. ",
    "boxcc": "try reset docker Shared Drivers. I fix this problem. ",
    "aoltra": "@smuzammilali I've had the same problem but I think I've found a fix.\n\nMake sure you are installing in your folder user.\nCheck in Kitematic if, for your container, the local folder of the defined volumes is set.. \n",
    "massimoselvi": "show the 2 html(s) the second looks like it's Bootstrap grid container into a container (or row in a row). don't show the blade file, of course it is the one and only, I asked for the HTML on the browser to check any difference in the Blade compilation/rendering on both platforms. ",
    "brianwfl88": "From what i see, it is related to your screen resolution. Mind if i know your screen resolution?. Maybe you can do a quick checkup on your resolutions of ur respective vm\u2019s in whatismyresolution.com. His laptop resolution is 2560 x 1600, which lead me to suspect that the homestead is using 1366 x 768, which make the difference in the margins on both sides. ",
    "ed-fruty": "No offense, but am I the only one who thinks, this issue sounds like:\nI have use laradock. I have bought an ice cream and a car. Why are the prices different? ? :joy:\nOn the screens I see different browser zoom. As I assume, domains for laradock and homestead are different. And browser remember zoom settings for different domains. :squirrel:. @omag0 when you want to use cli commands, like artisan you must enter into the workspace container, like\n```\ncd /var/www/docker/laradock\ndocker-compose exec --user=laradock workspace bash\nhere you can use cli\nphp artisan migrate\n```. Not sure, but I think it can be useful try to run node with host parameters. How to do it, depends on the project you have. You can see example for webpack and angular here or try to find another one.\nThe main thing is to allow node to be accessed from the network. Usually it can be done when you set host to the 0.0.0.0\nAnd maybe you will need to add port forwarding from the host to the workspace.\nFor examplle the next line here\nbash\n - \"3000:3000\". @wvdongen can you describe what you want to do?\nThis PR copied ssh keys from root to laradock. So it assume you can use your private repositories from your own gitlab for instance. Or another one is access as laradock user from workspace container to another servers via ssh and etc. So it's not necessary to store any pub keys in your /home/laradock/.ssh/authorized_keys for such kind of task. You will need to store content of /home/laradock/.ssh/id_rsa.pub in the settings of your repository, to allow laradock user access for your private source.\nAnd it's only as outbox configuration. If you need more security you can regenerate ssh keys.\n. > port is already allocated\nIn your case 8080 port is busy.\nTry to free this port or change port for phpmyadmin in your .env file. @sas05 , you can already use nodejs in your workspace container. You need to enable it in your .env file and maybe rebuild container if it already exists.. 1. Links to your message, git is not installed on the php-fpm container. Why do you  check/search it in the workspace container? In your case you need it in the php-fpm container .\n2. To execute external processes I suggest to use symfony process component\n3. For deploy by hook you can use ready utils, like jenkins, team city or another one. By the way, jenkins container is already exists in the laradock.. @usamaa can you provide more information? configuration for domains, env settings and how do you run it?. ",
    "iliasnaamane": "Issue closed. I have to install Python inside the \"php-fpm\" container ( not the workspace ). ",
    "rafa-acioly": "@jeffreyliim i've changed to the same values and still got the error:\nSQLSTATE[HY000] [2002] Connection refused\n.env file on laradock\nMYSQL_VERSION=8.0\nMYSQL_DATABASE=mydatabase\nMYSQL_USER=root\nMYSQL_PASSWORD=\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\n.env file in project\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=mydatabase\nDB_USERNAME=root\nDB_PASSWORD=. @jeffreyliim SQLSTATE[HY000] [2002] php_network_getaddresses: getaddrinfo failed: Name or service not known. I'm facing this problem as well, but i've already config. my .env file:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=mydb\nDB_USERNAME=root\nDB_PASSWORD=root\n\nPDOException::(\"SQLSTATE[HY000] [1130] Host '172.20.0.3' is not allowed to connect to this MySQL server\")\n      /var/www/ftimesheet/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php : 68\nPDO::__construct(\"mysql:host=mysql;port=3306;dbname=mydb\", \"root\", \"root\", [])\n      /var/www/ftimesheet/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php : 68\n. hi @UniBen i'm not using windows and yes, i've changed the memory size to 1024 like i said in the last line; Memory limit on php56.ini: memory_limit = 1024M. \n",
    "pedes42": "The solution from @rafa-acioly works, but please be aware to keep the DB_PORT to 3306 in your Laravel .env file, even if you have changed it in your Laradock .env file (e.g. 3007). So the config should be as follow:\n.env file on laradock\nMYSQL_VERSION=8.0\nMYSQL_DATABASE=mydatabase\nMYSQL_USER=root\nMYSQL_PASSWORD=\nMYSQL_PORT=3307\nMYSQL_ROOT_PASSWORD=\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\n.env file in project\nMYSQL_VERSION=8.0\nMYSQL_DATABASE=mydatabase\nMYSQL_USER=root\nMYSQL_PASSWORD=\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\nI had to change the port in my Laradock config, because there was already a MySQL service listening to port 3306 my Linux machine. That's why i ran into this problem.. ",
    "sjsiegel001": "I entered my workspace by entering the laradock folder and running\ndocker-compose exec workspace bash\nthen I configured my .env from within the workspace container as such:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\nthen I exited the workspace and entered the mysql container with user root password root\ndocker-compose exec mysql mysql -u root -proot\nthen I created the homestead database, and then created a user homestead, then assigned wildcard privileges:\nGRANT ALL PRIVILEGES ON homestead.* to homestead@'%' identified by 'secret';\nfinally I was able to re-enter my workspace and run php artisan migrate. I hope this helps someone.. ",
    "zetnet": "\ndocker-compose exec workspace\n\ndocker-compose exec workspace bash maybe ?\n. ",
    "hofstede-matheus": "\nI entered my workspace by entering the laradock folder and running\ndocker-compose exec workspace bash\nthen I configured my .env from within the workspace container as such:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\nthen I exited the workspace and entered the mysql container with user root password root\ndocker-compose exec mysql mysql -u root -proot\nthen I created the homestead database, and then created a user homestead, then assigned wildcard privileges:\nGRANT ALL PRIVILEGES ON homestead.* to homestead@'%' identified by 'secret';\nfinally I was able to re-enter my workspace and run php artisan migrate. I hope this helps someone.\n\nERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'identified by 'secret'' at line 1\n. ",
    "christopherarter": "This issue persists.\nMYSQL_VERSION=5.7\nMYSQL_DATABASE=default\nMYSQL_USER=default\nMYSQL_PASSWORD=secret\nMYSQL_PORT=3306\nMYSQL_ROOT_PASSWORD=root\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nThrows these errors:\nPDOException::(\"PDO::__construct(): php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, or not known\")\nPDO::__construct(\"mysql:host=mysql;port=3306;dbname=default\", \"default\", \"secret\", []). ",
    "ivya-ciklum": "same problem here. ",
    "vpiskunov": "Any luck with this? Trying to install Webiny, which depends on mongo.... ",
    "jonaselan": "@winfried-van-loon done!. @JohnatanT Do wish share this same environment with others application?  If yes, u need configure the /etc/hosts with nginx file configure (inside /nginx/sites/FILE.conf). I think the just put  127.0.0.1       localhost in hosts is enough.. @JohnatanT Did you create the .env file and mapped it to your application?\n```\n$ cp env-example .env\ninside .env\n$ APPLICATION=../App_Laravel/\n```\nBut on this case, is better to put laradock inside of App_laravel. @JohnatanT It's necessary to configure the nginx. If you go on laradock/nginx/sites, you will see files with extension .conf. Create a directory with this structure and try \n+ public\n  - index.html\n+ laradock. ",
    "sergeyklay": "Works well on clean Ubuntu 14.04 / 16.04\n```bash\nsudo apt-get update\nsudo apt-get install curl software-properties-common\nsudo add-apt-repository ppa:ondrej/php\nsudo apt-get update\nsudo apt-get install -y php7.1-common\ncurl -s \"https://packagecloud.io/install/repositories/phalcon/stable/script.deb.sh\" | sudo bash\nsudo apt-get install php7.1-phalcon\n```. @jarhom I'm pretty sure it is the same issue: https://github.com/Codeception/Codeception/issues/5352#issuecomment-457016992. \nSo this issue may be closed.. ",
    "1298799999": "\u279c  laradock git:(master) \u2717 docker run -it laradock/php-fpm:2.0-71  /bin/bash\nroot@6853ecc37e55:/var/www/html# pecl install xdebug\nNo releases available for package \"pecl.php.net/xdebug\"\ninstall failed\nroot@6853ecc37e55:/var/www/html#. ",
    "nei": "same issue here\nroot@local:/var/www/html# pecl install xdebug\nNotice: unserialize(): Error at offset 0 of 105457 bytes in PEAR/Registry.php on line 1141\nNotice: unserialize(): Error at offset 0 of 105457 bytes in PEAR/Registry.php on line 1141\nNotice: unserialize(): Error at offset 0 of 105457 bytes in PEAR/Registry.php on line 1141\ndownloading xdebug-2.5.5.tgz ...\nStarting to download xdebug-2.5.5.tgz (279,491 bytes)\n..............done: 279,491 bytes\nNotice: unserialize(): Error at offset 0 of 105457 bytes in PEAR/Registry.php on line 1141\nNotice: unserialize(): Error at offset 0 of 105457 bytes in PEAR/Registry.php on line 1141\nERROR: pecl.php.net/xdebug not installed\npear -V\nPEAR Version: 1.10.1\nPHP Version: 5.6.30\nZend Engine Version: 2.6.0. ",
    "knuth": "I got the same errors. Any solutions?\n---> Running in 2c241ea48d1f\nNo releases available for package \"pecl.php.net/xdebug\"\ninstall failed\nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c if [ ${INSTALL_XDEBUG} = true ]; then     pecl install xdebug &&     docker-php-ext-enable xdebug ;fi' returned a non-zero code: 1\n. update: Seems it was network issue, I could install xdebug successfully via VPN. ",
    "silsuer": "same issue here..................... @adammparker  I changed Mysql verision to 5.7 in .env, and rebuild it.    I can run it, but its exit 2 when I use docker-compose ps, could you help me?. @capripio I resolved it with https://github.com/laradock/laradock/issues/955\nMy 'solution' - don't use DATA_SAVE_PATH\n(in docker-compose.yml). @merodiro sure! I write a blog for it! click here!. ",
    "celorodovalho": "Same issue here... ",
    "ekahrovic": "@canhkieu Sorry for late response...\nYes, I successfully added SSL to apache by adding the following code to apache Dockerfile before the ENTRYPOINT line:\n```\nRUN mkdir /etc/apache2/ssl 2> /dev/null\nRUN openssl genrsa -out \"/etc/apache2/ssl/MY_CERT_NAME.key\" 2048 \\\n    && openssl req -new -key \"/etc/apache2/ssl/MY_CERT_NAME.key\" -out \"/etc/apache2/ssl/MY_CERT_NAME.csr\" -subj \"/CN=wptest.local/O=LGS/C=UK\" \\\n    && openssl x509 -req -days 365 -in \"/etc/apache2/ssl/MY_CERT_NAME.csr\" -signkey \"/etc/apache2/ssl/MY_CERT_NAME.key\" -out \"/etc/apache2/ssl/MY_CERT_NAME.crt\"\nRUN service apache2 restart\n```\nThough, Im not sure the last line must be there, I never tested if it work without it.\nAlso, you need to add following lines to the virtualhost conf:\nSSLEngine on\nSSLCertificateFile /etc/apache2/ssl/MY_CERT_NAME.crt\nSSLCertificateKeyFile /etc/apache2/ssl/MY_CERT_NAME.key\n. nginx? I thought we were talking about apache.. ",
    "FabrizioCafolla": "i used this conf\nfile \"apache2/Dockerfile\"\nbefore the ENTRYPOINT line\n```\nRUN mkdir /etc/apache2/ssl 2> /dev/null\nRUN openssl genrsa -out \"/etc/apache2/ssl/ssl_site.key\" 2048 \\\n    && openssl req -new -key \"/etc/apache2/ssl/ssl_site.key\" -out \"/etc/apache2/ssl/ssl_site.csr\" -subj \"/CN=site.com/O=LGS/C=IT\" \\\n    && openssl x509 -req -days 365 -in \"/etc/apache2/ssl/ssl_site.csr\" -signkey \"/etc/apache2/ssl/ssl_site.key\" -out \"/etc/apache2/ssl/ssl_site.crt\"\nRUN a2enmod rewrite && a2enmod headers && a2enmod proxy proxy_html proxy_http xml2enc\nRUN a2enmod ssl\nRUN service apache2 restart\n```\nfile \"apache2/sites/default.apache.conf\"\n```\n\n\n        ServerAdmin webmaster@localhost\n        ServerName site.com\n        ServerAlias *.site.com\n        DocumentRoot /var/www/public\n    SSLEngine on\n    SSLCertificateFile \"/etc/apache2/ssl/ssl_site.crt\"\n    SSLCertificateKeyFile \"/etc/apache2/ssl/ssl_site.key\"\n\n    #SSLOptions +FakeBasicAuth +ExportCertData +StrictRequire\n    <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n    </FilesMatch>\n\n    <Directory />\n        Options FollowSymLinks\n        AllowOverride None\n    </Directory>\n\n    <Directory /var/www/public>\n        Options FollowSymLinks MultiViews\n        AllowOverride All\n        Order allow,deny\n        allow from all\n    </Directory>\n</VirtualHost>\n\n\n```\n\n\"site.com\" is your site, it must also replace it in the docker command.\n\"ssl_site\" if you would change it, you can!\n\n@ekahrovic in the vhosts file you do not need those commands. ",
    "tjallingt": "the cron command is in the workspace/crontab/laradock file, it is running by default when you docker-compose up however it doesn't work for me either even though the command shows up in the syslog...\n. ",
    "lulucom": "I had a similar issue caused by multiple projects setup.\nIt was resolved by modifying the path to artisan command in crontab and rebuilding workspace container.\nlaradock/workspace/crontab/laradock\n* * * * * laradock php /var/www/project-1/artisan schedule:run >> /dev/null 2>&1\n* * * * * laradock php /var/www/project-2/artisan schedule:run >> /dev/null 2>&1\n. ",
    "tpraxl": "@lulucom That fixed it for me! Thanks.. Just had the same problem. Turned out that this was due to a misconfiguration.\nI think I'll post  a complete example, might help others to understand the issue.\nGiven you have the following section in your laradock .env\nMYSQL_VERSION=latest\nMYSQL_DATABASE=default\nMYSQL_USER=default\nMYSQL_PASSWORD=secret\nMYSQL_PORT=3307\nMYSQL_ROOT_PASSWORD=root\nMYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d\nThen you need the following laravel .env\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nThen you can docker-compose exec --user=laradock workspace bash and \nphp artisan migrate:install\nphp artisan migrate\nWondering why DB_PORT=3306 is configured in laravel's .env?\nActually, the port you specified in laradock's .env is the port mapped to the host. It should not matter for container communication. \nGuessing what to do if you wanted to change the port for containers\nI guess, if you wanted to change the mysql port for container communication, you would need to change mysql/my.cnf \n[mysql]\nport=3309\nAnd you might need to change the mysql/Dockerfile to EXPOSE 3309 then. You might also need to adapt the docker-compose.yml to this:\nports:\n        - \"${MYSQL_PORT}:3309\"\n. ",
    "gueroverde": "Not upgraded kibana because elastisearch elasticsearch_1        | org.elasticsearch.bootstrap.StartupException: java.lang.IllegalArgumentException: plugin [x-pack] is incompatible with version [6.1.1]; was designed for version [5.4.1]\n. Right just that is what I wanted to achieve @Shadow2004 . ",
    "jk2K": "my local docker build is ok, weird. ",
    "omag0": "Yep, i tried. And is the port 3307.\nWithout using laravel, and using just using pdo, the connection works fine.\nBut with laravel / eloquent, nothing works.....\nIm lost....\n\nDe: Lucas C. S. Silva notifications@github.com\nEnviado: quarta-feira, 27 de dezembro de 2017 22:50:47\nPara: laradock/laradock\nCc: Rodrigo Batista; Author\nAssunto: Re: [laradock/laradock] SQLSTATE[HY000] [2002] Connection refused (#1323)\nHave you tried to change the MYSQL_HOST to mysql or mariadb, depending on which database container you are using? Is the port 3307 correct as well?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/laradock/laradock/issues/1323#issuecomment-354205860, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AWawCgp9rBB4yvGK6Yg4BqC_r8o0-spzks5tEuXngaJpZM4RN6V_.\n. ",
    "NameIvan": "Use container name of mysql in DB_HOST. Like this DB_HOST=laravellocal_mysql_1. ",
    "josecelano": "I had the same problem and I did not know what host you mean. In my case I solved the problem changing webpack dev server host from 'localhost' to '0.0.0.0'. Because I am running a webpack dev server inside the workspace container.\ndevServer: {\n    hot: true,\n    inline: true,\n    host: \"0.0.0.0\", // <!------- changed from localhost\n    port: 3000,\n    contentBase: path.join(__dirname, \"public\"), \n  },. ",
    "wvdongen": "I'm still unable to login using the laradock user with the specified SSH key. The pub keys is present in /home/laradock/.ssh/authorized_keys. Furthermore SSH does work for the root user. Any ideas?. @ed-fruty I\u2019m trying ssh in to the workspace with the laradock user so I can use my IDE to work directly in the workspace container. Node and composer require to use the laradock user. I\u2019ve also tried putting my own key in authorized_keys, and I played around with the sshd config, but I can\u2019t get it to work for the laradock user.. @jasperf I know how I can su to the laradock user, that's something completely different from what I'm trying to achieve. I need to SSH as the laradock user to get my IDE working: https://github.com/laradock/laradock/pull/1327#issuecomment-364740606. @mariano-dagostino thanks, just tested it and it solved my problem.\nThis issue can be closed.. @bestlong I know it is a different container (I've mentioned this in my first post). It makes no sense to install all php extensions also in your workspace container. Then you might as well use --ignore-platform-reqs using composer.. @arvinakori @abhaymaurya  your comments have nothing to do with the issue that has been described! The problem is that Composer is run from the workspace container , but PHP for the app with all the extensions are running in the PHP-FPM container. So in order to use composer you would have to install all PHP extensions in both containers.\nIt makes no sense to install all php extensions also in your workspace container. Then you might as well use --ignore-platform-reqs using composer.\n. > Strangely when I follow @bestlong's steps, the exact same error is gone on my installation\nThat's not strange at all, because composer runs in the workspace container and you've installed SOAP there. The whole issue in this ticket is that your application uses the PHP-FPM container, so ideally composer should check those extensions and not in the workspace. \nSo as previously said in https://github.com/laradock/laradock/issues/1362#issuecomment-378224236\nIt makes no sense to install all php extensions also in your workspace container. Then you might as well use --ignore-platform-reqs using composer.. @Shadow2004 my pull request is completely unrelated to the all things in your commits.... ",
    "mariano-dagostino": "@wvdongen This was fixed by this PR #1399. That PR also updates the documentation to reflect how you can login using a the laradock user.. I'm seeing the same issue: This is what /var/log/auth.log says:\nsshd[1138]: User laradock not allowed because account is locked\n. ",
    "jsgv": "Is there a current status for this?. @bestlong My mistake. I updated the port.. ",
    "sytuacmdyh": "at the top of php-fpm/Dockerfile-71, change FROM laradock/php-fpm:2.0-71 to FROM laradock/php-fpm:1.4-71. . @rushairer I just tried 2.0-71, it seems already been repaired~ good luck. ",
    "rushairer": "@sytuacmdyh Thanks.\nI changed php-fpm version to 1.4-71, it works.\nBy the way, how to fix this bug for 2.0-71 ?. @sytuacmdyh thanks.\nI have tried 2.0-71,I think it did not fixed yet.\nit also show the error like that:\nNo releases available for package \"pecl.php.net/redis\". @bestlong Thanks.\nThe reason is the internet of China can not visit the 'pecl.php.net' ...\n\ud83d\ude02. ",
    "liyuze": "See my solution on another thread. \nedit .env\nDATA_SAVE_PATH=~/.laradock/data\nto\nDATA_SAVE_PATH=./data\nAbsolute directory d:\\docker_www\\laradock\\data, D Drivers is shared driver\ntry again\ndocker-compose up -d mysql\n. 1.) download the extension from http://pecl.php.net/packages.php\n2.) there you get an .tgz file\n3.) install the file:\nedit file: php-fpm/Dockerfile\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    printf \"\\n\" | pecl install -o -f redis \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nreplace to\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    # printf \"\\n\" | pecl install -o -f redis \\\n    printf \"\\n\" | curl 'http://pecl.php.net/get/redis-4.1.1.tgz' -o redis-4.1.1.tgz \\\n    && pecl install redis-4.1.1.tgz \\\n    &&  rm -rf redis-4.1.1.tgz \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nhappy to rebuild. 1.) download the extension from http://pecl.php.net/packages.php\n2.) there you get an .tgz file\n3.) install the file:\nedit file: php-fpm/Dockerfile\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    printf \"\\n\" | pecl install -o -f redis \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nreplace to\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    # printf \"\\n\" | pecl install -o -f redis \\\n    printf \"\\n\" | curl 'http://pecl.php.net/get/redis-4.1.1.tgz' -o redis-4.1.1.tgz \\\n    && pecl install redis-4.1.1.tgz \\\n    &&  rm -rf redis-4.1.1.tgz \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nhappy to rebuild. ",
    "nskforward": "I got the same issue but the fix was only compiling PHP with openssl extension:\n--with-openssl. ",
    "Soft-me": "I got the same issue here in China. Is there another solution , since changing php-fpm version is not work for me.... ",
    "aymanterra": "set\n \"authHost\": \"http://my-site.com\"\n as you need , and change your  hosts  file to map your domain to the container IP ,  like this : \n10.0.75.1      my-site.com\nit will be the IP in the laradock   .env  file \nDOCKER_HOST_IP=10.0.75.1\nthis will solve the problem. ",
    "kongkx": "I solve this problem by adding an alias to nginx service in docker-compose.yml\nreference:  aliases in Compose file reference ;\n```yml\nNGINX Server\nnginx:\n  build:\n    context: ./nginx\n    args:\n      - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER}\n      - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT}\n  volumes:\n    - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}\n    - ${NGINX_HOST_LOG_PATH}:/var/log/nginx\n    - ${NGINX_SITES_PATH}:/etc/nginx/sites-available\n  ports:\n    - \"${NGINX_HOST_HTTP_PORT}:80\"\n    - \"${NGINX_HOST_HTTPS_PORT}:443\"\n  depends_on:\n    - php-fpm\n  networks:\n    # before ----\n    # - frontend\n    # - backend\n    # end before ----\n    frontend:\n    backend:\n        aliases:\n          - my-site.com\n\n```\nlaravel-echo-server.json\n{\n  \" authHost: \"http://my-site.com\"\n  // ...\n}\nextra note: \n\nuse docker-compose up laravel-echo-server, without -d for easier debug;\nrebuild larvavel-echo-server after updating the laravel-echo-server.json, docker-compose build laravel-echo-server\n\nextra extra note:\nI'm new to docker.. ",
    "CasparChou": "@kongkx It works! I spent 3 days on this.... ",
    "karatana": "I'm new to docker and laravel.\nI had the same problem in localhost domain\nbecause authHost is not http://nginx but localhost.\nIs it better to change the default value of laravel-echo-server.json ?\n. ",
    "247163569": "@gavinliu6 help. ",
    "linus-zhou": "I got that problem too. ",
    "gavinliu6": "I have solved it by execute docker-compose up php-fpm. It is all my fault.. ",
    "jdxia": "Swoole extensions are usually run in the CLI environment\nso,I think the workspace container needs it. I think the swoole2.0 version is best used to use the php7 version, because swoole 2 no longer supports PHP 5. The failure rate of the unit test in PHP5 is 70%, all of the memory anomaly detection and Valgrind. The swoole author says it does not support PHP5.\nSo I think about the php5.6 swoole extension\n~~~\npecl install http://pecl.php.net/get/swoole-1.9.9.tgz && \\\n~~~. ",
    "littlestarsx": "I have the same problem.\ninfo:\nDocker version ($ docker --version): 17.06.0-ce, build 02c1d87\nLaradock commit ($ git rev-parse HEAD): 0077de28a13feea669f9d46ef21c20477fa6dbb0\nSystem info (Mac, PC, Linux): Mac\nSystem info disto/version: macOS Sierra \nIssue:\n```\nmysql_1                | 2018-01-16T10:25:48.247920Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2018-01-16T10:25:48.247978Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-01-16T10:25:48.253409Z 0 [Note] mysqld (mysqld 5.7.21) starting as process 1 ...\nmysql_1                | 2018-01-16T10:25:48.257530Z 0 [Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\nmysql_1                | 2018-01-16T10:25:48.260970Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2018-01-16T10:25:48.261098Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2018-01-16T10:25:48.261110Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2018-01-16T10:25:48.261116Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2018-01-16T10:25:48.261122Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1                | 2018-01-16T10:25:48.261309Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2018-01-16T10:25:48.262517Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2018-01-16T10:25:48.263208Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2018-01-16T10:25:48.265734Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | 2018-01-16T10:25:48.273324Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2018-01-16T10:25:48.275325Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2018-01-16T10:25:48.307182Z 0 [ERROR] [FATAL] InnoDB: Table flags are 0 in the data dictionary but the flags in file ./ibdata1 are 0x4800!\nmysql_1                | 2018-01-16 10:25:48 0x7f6e9e899740  InnoDB: Assertion failure in thread 140113082947392 in file ut0ut.cc line 942\nmysql_1                | InnoDB: We intentionally generate a memory trap.\nmysql_1                | InnoDB: Submit a detailed bug report to http://bugs.mysql.com.\nmysql_1                | InnoDB: If you get repeated assertion failures or crashes, even\nmysql_1                | InnoDB: immediately after the mysqld startup, there may be\nmysql_1                | InnoDB: corruption in the InnoDB tablespace. Please refer to\nmysql_1                | InnoDB: http://dev.mysql.com/doc/refman/5.7/en/forcing-innodb-recovery.html\nmysql_1                | InnoDB: about forcing recovery.\nmysql_1                | 10:25:48 UTC - mysqld got signal 6 ;\nmysql_1                | This could be because you hit a bug. It is also possible that this binary\nmysql_1                | or one of the libraries it was linked against is corrupt, improperly built,\nmysql_1                | or misconfigured. This error can also be caused by malfunctioning hardware.\nmysql_1                | Attempting to collect some information that could help diagnose the problem.\nmysql_1                | As this is a crash and something is definitely wrong, the information\nmysql_1                | collection process might fail.\nmysql_1                |\nmysql_1                | key_buffer_size=8388608\nmysql_1                | read_buffer_size=131072\nmysql_1                | max_used_connections=0\nmysql_1                | max_threads=151\nmysql_1                | thread_count=0\nmysql_1                | connection_count=0\nmysql_1                | It is possible that mysqld could use up to\nmysql_1                | key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68193 K  bytes of memory\nmysql_1                | Hope that's ok; if not, decrease some variables in the equation.\nmysql_1                |\nmysql_1                | Thread pointer: 0x0\nmysql_1                | Attempting backtrace. You can use the following information to find out\nmysql_1                | where mysqld died. If you see no messages after this, something went\nmysql_1                | terribly wrong...\nmysql_1                | stack_bottom = 0 thread_stack 0x40000\nmysql_1                | mysqld(my_print_stacktrace+0x2c)[0xe8ba7c]\nmysql_1                | mysqld(handle_fatal_signal+0x459)[0x7ac489]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0xf890)[0x7f6e9e476890]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(gsignal+0x37)[0x7f6e9ce7f067]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(abort+0x148)[0x7f6e9ce80448]\nmysql_1                | mysqld[0x78223f]\nmysql_1                | mysqld(ZN2ib5fatalD1Ev+0x15d)[0x110b04d]\nmysql_1                | mysqld[0x11bcb7c]\nmysql_1                | mysqld[0x11bd05c]\nmysql_1                | mysqld(_Z6fil_ioRK9IORequestbRK9page_id_tRK11page_size_tmmPvS8+0x1e0)[0x11c8400]\nmysql_1                | mysqld(_Z13buf_read_pageRK9page_id_tRK11page_size_t+0xcf)[0x11794cf]\nmysql_1                | mysqld(_Z16buf_page_get_genRK9page_id_tRK11page_size_tmP11buf_block_tmPKcmP5mtr_tb+0x389)[0x1149c39]\nmysql_1                | mysqld(_Z31trx_rseg_get_n_undo_tablespacesPm+0x143)[0x10e9df3]\nmysql_1                | mysqld[0x781548]\nmysql_1                | mysqld(_Z34innobase_start_or_create_for_mysqlv+0x35b3)[0x10b7e13]\nmysql_1                | mysqld[0xf7e938]\nmysql_1                | mysqld(_Z24ha_initialize_handlertonP13st_plugin_int+0x51)[0x7f7c51]\nmysql_1                | mysqld[0xc7dc16]\nmysql_1                | mysqld(_Z40plugin_register_builtin_and_init_core_sePiPPc+0x3f8)[0xc80d38]\nmysql_1                | mysqld[0x7a4a63]\nmysql_1                | mysqld(_Z11mysqld_mainiPPc+0xce1)[0x7a65e1]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf5)[0x7f6e9ce6bb45]\nmysql_1                | mysqld[0x79cbf4]\nmysql_1                | The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains\nmysql_1                | information that should help you find out what is causing the crash.\n```. ",
    "nsaumini": "@liyuze Updating DATA_SAVE_PATH to ./data didn't work.\nLogs:\n\nInitializing database\n[Note] Basedir set to /usr/\n[Warning] The syntax '--symbolic-links/-s' is deprecated and will be removed in a future release\n[Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\n[Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\n[Warning] You need to use --log-bin to make --log-slave-updates work.\nlibnuma: Warning: /sys not mounted or invalid. Assuming one node: No such file or directory\nmbind: Operation not permitted\n[ERROR] InnoDB: Operating system error number 22 in a file operation.\n[ERROR] InnoDB: Error number 22 means 'Invalid argument'\n[ERROR] InnoDB: File ./ib_logfile101: 'aio write' returned OS error 122. Cannot continue operation\n[ERROR] InnoDB: Cannot continue operation.\n. \n",
    "zhangpf41": "I have the same issue too\nCreating laradock_mysql_1\nAttaching to laradock_mysql_1\nmysql_1                | Initializing database\nmysql_1                | 2018-03-20T07:56:12.959088Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2018-03-20T07:56:12.959158Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-03-20T07:56:12.963949Z 0 [Warning] Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive\nmysql_1                | 2018-03-20T07:56:14.812724Z 0 [ERROR] InnoDB: Operating system error number 13 in a file operation.\nmysql_1                | 2018-03-20T07:56:14.813888Z 0 [ERROR] InnoDB: The error means mysqld does not have the access rights to the directory.\nmysql_1                | 2018-03-20 07:56:14 0x7f77770cf740  InnoDB: Assertion failure in thread 140151075174208 in file fil0fil.cc line 896\nmysql_1                | InnoDB: Failing assertion: success\nmysql_1                | InnoDB: We intentionally generate a memory trap.\nmysql_1                | InnoDB: Submit a detailed bug report to http://bugs.mysql.com.\nmysql_1                | InnoDB: If you get repeated assertion failures or crashes, even\nmysql_1                | InnoDB: immediately after the mysqld startup, there may be\nmysql_1                | InnoDB: corruption in the InnoDB tablespace. Please refer to\nmysql_1                | InnoDB: http://dev.mysql.com/doc/refman/5.7/en/forcing-innodb-recovery.html\nmysql_1                | InnoDB: about forcing recovery.\nmysql_1                | 07:56:14 UTC - mysqld got signal 6 ;\nmysql_1                | This could be because you hit a bug. It is also possible that this binary\nmysql_1                | or one of the libraries it was linked against is corrupt, improperly built,\nmysql_1                | or misconfigured. This error can also be caused by malfunctioning hardware.\nmysql_1                | Attempting to collect some information that could help diagnose the problem.\nmysql_1                | As this is a crash and something is definitely wrong, the information\nmysql_1                | collection process might fail.\nmysql_1                |\nmysql_1                | key_buffer_size=8388608\nmysql_1                | read_buffer_size=131072\nmysql_1                | max_used_connections=0\nmysql_1                | max_threads=151\nmysql_1                | thread_count=0\nmysql_1                | connection_count=0\nmysql_1                | It is possible that mysqld could use up to\nmysql_1                | key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68193 K  bytes of memory\nmysql_1                | Hope that's ok; if not, decrease some variables in the equation.\nmysql_1                |\nmysql_1                | Thread pointer: 0x0\nmysql_1                | Attempting backtrace. You can use the following information to find out\nmysql_1                | where mysqld died. If you see no messages after this, something went\nmysql_1                | terribly wrong...\nmysql_1                | stack_bottom = 0 thread_stack 0x40000\nmysql_1                | mysqld(my_print_stacktrace+0x2c)[0x55e7ef8410dc]\nmysql_1                | mysqld(handle_fatal_signal+0x479)[0x55e7ef16ddf9]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0x110c0)[0x7f7776cad0c0]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcf)[0x7f7775439fff]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7f777543b42a]\nmysql_1                | mysqld(+0x61f729)[0x55e7ef144729]\nmysql_1                | mysqld(+0xf9772b)[0x55e7efabc72b]\nmysql_1                | mysqld(_Z40fil_open_log_and_system_tablespace_filesv+0xeb)[0x55e7efac045b]\nmysql_1                | mysqld(+0xe92207)[0x55e7ef9b7207]\nmysql_1                | mysqld(_Z34innobase_start_or_create_for_mysqlv+0x2e90)[0x55e7ef9ba6c0]\nmysql_1                | mysqld(+0xd62a5b)[0x55e7ef887a5b]\nmysql_1                | mysqld(_Z24ha_initialize_handlertonP13st_plugin_int+0x4f)[0x55e7ef1b947f]\nmysql_1                | mysqld(+0xb0d316)[0x55e7ef632316]\nmysql_1                | mysqld(_Z40plugin_register_builtin_and_init_core_sePiPPc+0x2f0)[0x55e7ef635400]\nmysql_1                | mysqld(+0x641596)[0x55e7ef166596]\nmysql_1                | mysqld(_Z11mysqld_mainiPPc+0xc6b)[0x55e7ef16814b]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf1)[0x7f77754272e1]\nmysql_1                | mysqld(_start+0x2a)[0x55e7ef15e82a]\nmysql_1                | The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains\nmysql_1                | information that should help you find out what is causing the crash.\nlaradock_mysql_1 exited with code 2. ",
    "devstu": "I was having the same problem. Changing the data folder worked for me.. ",
    "andrzejkupczyk": "In my case neither downgrading MySQL nor changing the data folder solved the problem.\nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                | \nmysql_1                | 2018-04-22T17:44:49.472490Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-04-22T17:44:49.472561Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-04-22T17:44:49.474306Z 0 [ERROR] [MY-010119] [Server] Aborting\nlaradock_mysql_1 exited with code 1. Thanks @bdahlinger but that issue is a bit different. In fact using MySQL 5.7 solves the problem but I had to re-build container with docker-compose build mysql, thanks @Harti .. https://github.com/laradock/laradock/issues/1350. ",
    "bdahlinger": "@andrzejkupczyk I'm having the exact same issue, same error log. I am using a fresh install of laradock/docker for windows/windows10. I've been searching for answers, there is a stackoverflow with some information with others having this exact issue, but it is not answered yet.. ",
    "nguyenvq": "Change version of mysql from latest to 5.7 in .env file. It worked for me.. ",
    "Bonstark": "I'm having the same problem, on windows 10. The mysql container dies on creation. I have tried both using mysql 8 and 5.7 and have the same results. Everything else is updated and unchanged, fresh laravel project and fresh laradock clone. \nCreating network \"laradock_frontend\" with driver \"bridge\"\nCreating network \"laradock_backend\" with driver \"bridge\"\nCreating network \"laradock_default\" with the default driver\nCreating laradock_mysql_1 ... done\nAttaching to laradock_mysql_1\nmysql_1                | 2018-11-12T07:20:04.551569Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2018-11-12T07:20:04.551611Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-11-12T07:20:04.551614Z 0 [Warning] 'NO_AUTO_CREATE_USER' sql mode was not set.\nmysql_1                | 2018-11-12T07:20:04.557707Z 0 [Note] mysqld (mysqld 5.7.24) starting as process 1 ...\nmysql_1                | 2018-11-12T07:20:04.568103Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2018-11-12T07:20:04.568155Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2018-11-12T07:20:04.568159Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2018-11-12T07:20:04.568161Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2018-11-12T07:20:04.568164Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.11\nmysql_1                | 2018-11-12T07:20:04.568479Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2018-11-12T07:20:04.568611Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2018-11-12T07:20:04.569934Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | 2018-11-12T07:20:04.576741Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2018-11-12T07:20:04.579797Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2018-11-12T07:20:04.617416Z 0 [ERROR] [FATAL] InnoDB: Table flags are 0 in the data dictionary but the flags in file ./ibdata1 are 0x4800!\nmysql_1                | 2018-11-12 07:20:04 0x7fd578427740  InnoDB: Assertion failure in thread 140554822383424 in file ut0ut.cc line 942\nmysql_1                | InnoDB: We intentionally generate a memory trap.\nmysql_1                | InnoDB: Submit a detailed bug report to http://bugs.mysql.com.\nmysql_1                | InnoDB: If you get repeated assertion failures or crashes, even\nmysql_1                | InnoDB: immediately after the mysqld startup, there may be\nmysql_1                | InnoDB: corruption in the InnoDB tablespace. Please refer to\nmysql_1                | InnoDB: http://dev.mysql.com/doc/refman/5.7/en/forcing-innodb-recovery.html\nmysql_1                | InnoDB: about forcing recovery.\nmysql_1                | 07:20:04 UTC - mysqld got signal 6 ;\nmysql_1                | This could be because you hit a bug. It is also possible that this binary\nmysql_1                | or one of the libraries it was linked against is corrupt, improperly built,\nmysql_1                | or misconfigured. This error can also be caused by malfunctioning hardware.\nmysql_1                | Attempting to collect some information that could help diagnose the problem.\nmysql_1                | As this is a crash and something is definitely wrong, the information\nmysql_1                | collection process might fail.\nmysql_1                |\nmysql_1                | key_buffer_size=8388608\nmysql_1                | read_buffer_size=131072\nmysql_1                | max_used_connections=0\nmysql_1                | max_threads=151\nmysql_1                | thread_count=0\nmysql_1                | connection_count=0\nmysql_1                | It is possible that mysqld could use up to\nmysql_1                | key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68195 K  bytes of memory\nmysql_1                | Hope that's ok; if not, decrease some variables in the equation.\nmysql_1                |\nmysql_1                | Thread pointer: 0x0\nmysql_1                | Attempting backtrace. You can use the following information to find out\nmysql_1                | where mysqld died. If you see no messages after this, something went\nmysql_1                | terribly wrong...\nmysql_1                | stack_bottom = 0 thread_stack 0x40000\nmysql_1                | mysqld(my_print_stacktrace+0x2c)[0x55e44ff43cec]\nmysql_1                | mysqld(handle_fatal_signal+0x479)[0x55e44f86f829]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0x110c0)[0x7fd5780050c0]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcf)[0x7fd576791fff]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fd57679342a]\nmysql_1                | mysqld(+0x628dab)[0x55e44f845dab]\nmysql_1                | mysqld(_ZN2ib5fatalD1Ev+0x12d)[0x55e45011389d]\nmysql_1                | mysqld(+0xfa3601)[0x55e4501c0601]\nmysql_1                | mysqld(+0xfa3c38)[0x55e4501c0c38]\nmysql_1                | mysqld(_Z6fil_ioRK9IORequestbRK9page_id_tRK11page_size_tmmPvS8_+0x2b0)[0x55e4501c9d60]\nmysql_1                | mysqld(_Z13buf_read_pageRK9page_id_tRK11page_size_t+0xce)[0x55e45017ee6e]\nmysql_1                | mysqld(_Z16buf_page_get_genRK9page_id_tRK11page_size_tmP11buf_block_tmPKcmP5mtr_tb+0x4aa)[0x55e45014e0ba]\nmysql_1                | mysqld(_Z31trx_rseg_get_n_undo_tablespacesPm+0x143)[0x55e4500f1a33]\nmysql_1                | mysqld(+0x627f1f)[0x55e44f844f1f]\nmysql_1                | mysqld(_Z34innobase_start_or_create_for_mysqlv+0x2f3d)[0x55e4500be8ed]\nmysql_1                | mysqld(+0xd6dd73)[0x55e44ff8ad73]\nmysql_1                | mysqld(_Z24ha_initialize_handlertonP13st_plugin_int+0x4f)[0x55e44f8ba4ef]\nmysql_1                | mysqld(+0xb148e6)[0x55e44fd318e6]\nmysql_1                | mysqld(_Z40plugin_register_builtin_and_init_core_sePiPPc+0x2f0)[0x55e44fd34ad0]\nmysql_1                | mysqld(+0x64af2e)[0x55e44f867f2e]\nmysql_1                | mysqld(_Z11mysqld_mainiPPc+0xc71)[0x55e44f869af1]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf1)[0x7fd57677f2e1]\nmysql_1                | mysqld(_start+0x2a)[0x55e44f8601fa]\nmysql_1                | The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains\nmysql_1                | information that should help you find out what is causing the crash.\nlaradock_mysql_1 exited with code 2. ",
    "Chouhada": "Line 11 in env-example needs 72 adding as a valid value. ",
    "spyridonas": "Running in 7fc775a7a408\npecl/swoole requires PHP (version >= 7.0.0), installed version is 5.6.33-\nWhen Travis does tests for php56, it fails on this part. Until it's accepted you can modify the Dockerfile71 and make it say\nFROM laradock/php-fpm:2.0-72\nAnd you should have php 7.2.. Build fails because #1420 is needed as well. After a bit of searching I found a use who said\n\"Nevermind, I forgot that a program I'm running called Freedom messes up networking for some Docker images.\" Can you try that?. Try to access the workspace by running \"docker-compose exec --user=laradock workspace bash\". Try to ommit the --user=laradock . If you do that you ssh as root in your box\n\n\u0391\u03c0\u03cc: Alcir Junior notifications@github.com\n\u03a3\u03c4\u03ac\u03bb\u03b8\u03b7\u03ba\u03b5: \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae, 15 \u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5 2018 2:05 \u03bc\u03bc\n\u03a0\u03c1\u03bf\u03c2: laradock/laradock\n\u039a\u03bf\u03b9\u03bd.: Spyros Sakellaropoulos; Comment\n\u0398\u03ad\u03bc\u03b1: Re: [laradock/laradock] Error npm install (#1609)\nI had tried it that way, but the same error persists.\nToday I access via ssh, and still can not resolve.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/laradock/laradock/issues/1609#issuecomment-397588250, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AERD4b80J_nchMrOfetqd__rgPggdFPdks5t85TjgaJpZM4UmJNX.\n. The error you are having\n\n/init_gitlab_db.sh: /bin/bash^M: bad interpreter: No such file or directory\n\nindicates that you have DOS line endings. Change them to Unix line endings\nOr delete that file entirely. ",
    "DenzoNL": "Could someone take a look at this soon? It would be nice to have PHP 7.2 in Laradock for Laravel 5.6 and the Argon hashing algorithm :). @kohlerdominik I've tried your solution (a few times actually), but I can't get it to work unfortunately. I've tried it with and without fully resetting Docker.\nDo you have any other ideas I could try?. @kohlerdominik I have been working with the latter solution already and I just tried it with just PowerShell, no dice however. However, the wsl.conf I used from a tutorial was this:\nini\n[automount]\nroot = /\noptions = \"metadata\"\n~Do you reckon that last option might be the issue here?~\nNevermind, that didn't do the trick either.\nAlso, I'm using the Ubuntu 18.04 from the Windows Store, if that matters anything. \nThanks for helping out, by the way :). ",
    "Ryangr0": "This is more complicated than I thought. You apparently can't use RUN statements to fill ARG or ENV docker variables. Suggestions are welcome.. ",
    "desaroger": "Hi! I wanted to add prestissimo too! Very nice work.\nI made a PR which fixes all your travis issues. If the laradock team approves my PR I will let you know so you can merge with master and pass the travis tests.\nPS: What do you think of making it enabled by default? Is there any con?. Hi! I am working on another PR for laradock here.\nI found that you are struggling with the same as me, ensuring we use php 7.1 and not 'latest', but sure you found nothing works on Travis.\nI am working on this since yesterday and finally solved all Travis issues, including your issue with the PHP version.\nPlease take a look to my PR to be sure we are not working an the same issue, as I think my PR covers yours.\nThanks! :D. Some tests failed on php 5.6, I am looking the travis output to check what is going on, as I didn't change anything of 5.6 version.. Mmm this failed travis cases fails also in master to me :/\nEdit: I found that in master the workspace does not compile because PHP gives an 'segmentation fault' error when I install and enable the swoole module. If I remove the line with ln -s /etc/php/5.6/mods-available/swoole.ini /etc/php/5.6/cli/conf.d/20-swoole.ini then it works nice. There is a merged issue of 6 days ago which seems to try to fix this issue, but I can not make it work. I finally make everything work.\nI found some issues on master branch with another PHP versions that made travis don't pass the tests (on master) and I think I solved everything. I found some other problems related to PHP version, as sometimes the installation of a library forced the installation of an incorrect PHP version, so I added a check on the end of all php related Dockerfiles to make sure that at the end we have the PHP version we expect to have.\nMy only concern is that I need to downgrade the Swoole version on PHP 5.6 to make it work.. @Mahmoudz Is there anything else I have to do to make you merge this PR?. Sorry @bestlong, I forgot to add the new test cases to the travis.yml! Thanks for your changes. I added some fixes to pass all the tests. ",
    "lamaaa": "my operating system is Windows 10. ",
    "drobune": "sorry \ud83d\ude47 \nI made a mistake.. ",
    "KyawNaingTun": "Same error..... \nI also has been configured like that PHP_FPM_INSTALL_SOAP=true and then rebuild php-fpm\nbut still has error\nroot@057279b2082a:~# php --ini\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/local/lib/php/extensions/no-debug-non-zts-20160303/php_soap.dll' - /usr/local/lib/php/extensions/no-debug-non-zts-20160303/php_soap.dll: cannot open shared object file: No such file or directory in Unknown on line 0\nplease help me. ",
    "kisglaci": "I'm having the same problem. ",
    "newtekDev": "Any luck with this? I have the same issue with LDAP. ",
    "abhaymaurya": "Hello everyone, I had same issue. I am running php via xampp and recently I tried installing a Laravel project (Windows). When running composer install I ran into this very same issue.\nIn my case I just had to go to:\nC:\\xampp\\php\\php.ini\nas thats the config file which gets loaded for php. You can find out yours by running:\nphp --ini\n(I use GitBash for command line operations)\nSo in my php.ini file I found following line:\n;extension=php_soap.dll\nI had to remove the \";\" from the start of the line as it means commented,\nThen running composer install went smooth as butter.\nHope it helps some of the fellow devs.. ",
    "arvinakori": "i didn't took the help of Ctrl+F and i found extensions written in notepad. And at the top of the lines i found that: ;extension=php_soap.dll.\nI just removed the semicolon and it worked for me.\n\n. ",
    "douglasmaiabr": "I tried several ways, but the only one that resolved provisionally was this: https://stackoverflow.com/questions/48056498/e-package-php-soap-has-no-installation-candidate-on-php7-0-fpm-docker-imag. ",
    "donnykurnia": "@desaroger thanks. I just want to help. In my local, I'm already using my modification. I'll close this PR now then.. ",
    "foxtech9": "Solved the problem. ",
    "Alexanderwmc": "Same question! I wrote my supervisor configure file project.conf in /etc/supervisor/conf.d/ of container php-worker, like this:\n```\n[program:project]\nprocess_name=%(program_name)s_%(process_num)02d\ncommand=php /var/www/project/artisan queue:work sqs --sleep=3 --tries=3 --daemon\nautostart=true\nautorestart=true\nuser=root\nnumprocs=8\nredirect_stderr=true\nstdout_logfile=/var/www/project/worker.log\n```\nand i restart the container. It gave me an error:\n2018-08-07 04:50:48,186 INFO exited: laravel-worker_00 (exit status 1; not expected)\n2018-08-07 04:50:49,188 INFO gave up: laravel-worker_00 entered FATAL state, too many start retries too quickly\n. ",
    "dakong-yi": "My process started normally, but I don't process the queue. What could be the reason?\n php-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_00 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_01 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_02 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_03 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_04 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_05 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_06 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nphp-worker_1           | 2019-01-25 10:48:07,468 INFO success: laravel-worker_07 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs). ",
    "Drummer01": "Having same problem with workspace container. Besides, I am running node.js server which is beyound laradock, and it connects to redis just fine.\n@oberoivarun I checked and assigned IP of redis container to REDIS_HOST variable, all works fine for me.\nI am using redis as BROADCAST_DRIVER\n. ",
    "agseco": "I had exact the same problem and I have solved it similarly as @Drummer01 said. In case it helps, these are the steps I followed:\n\nGet the list of containers with docker ps\nGet the Redis container details with docker inspect <CONTAINER_ID>\nGet the IP address from Redis container details JSON (in my case located in NetworkSettings/Networks/laradock_backend/IPAddress)\nSet the IP address in the Laravel .env file (in my case property DB_HOST). \n",
    "vlachmilan": "Connecting to the container's service via it's IP is a really bad idea. IP of your container might change depending on your container network configuration. IMHO better option, if you use docker-compose, would be to access container by its service name.\nE.g.:\n```\nversion: '3'\nservices:\napplication database\nmysqlserver:\n    image: 'mysql:5.7'\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: symfony\n    restart: on-failure\n    volumes:\n      - './database:/var/lib/mysql'\n    networks:\n      - backend\n    ports:\n      - 3306:3306\nwebserver\nphp:\n    image: 'dalten/php7.1-apache-symfony4.0'\n    volumes:\n      - '.:/var/www/html'\n      - '/var/www/html/database'\n    ports:\n      - 80:80\n    networks:\n      - backend\nvolumes:\n  database: {}\nnetworks:\n  backend:\n    driver: bridge\n```\nYou would access mysql from php by declaring mysqlserver as a hostname.\nNote: this is a development docker-compose configuration which is not meant to be production-ready.. ",
    "Wasca": "@Shadow2004 \nThanks for letting me know, cheers!. ",
    "Okipa": "I found the solution to this problem.\nHopping it will help those who encounter the same issue : https://stackoverflow.com/questions/48809046/yarn-not-in-path-on-laradock-worskpace-when-using-it-in-inline-docker-exec-comma. Is there any news about this feature ?. Yo definitely should get a look at this : https://github.com/mrts/docker-postgresql-multiple-databases\nI managed to setup several postgres db with this solution on laradock.. ",
    "andreipaz": "Hi @bestlong, \nsorry, I didn't get it: by that link/example you game you mean that my commit should be more complete? . ",
    "bryan-kramer": "Sorry, started fresh with .env, now works.. ",
    "mvladimir7": "Root cause\nhttps://mysqlserverteam.com/mysql-8-0-4-new-default-authentication-plugin-caching_sha2_password/\nCorrective action\nDowngrade mysql version. ",
    "RohitVenturit": "Don't uninstall MySQL latest version. Rather follow these steps https://gist.github.com/benlinton/d24471729ed6c2ace731\nBasically you need to unlink latest installed mysql, install older MSQL version and link it.\n. ",
    "ondast": "If you want to use mysql 8 with native password (the old way) you can follow the following steps:\nAdd this to my.cnf in laradock\\mysql\\my.cnf under [mysqld]:\ndefault-authentication-plugin=mysql_native_password\nClear the data-folder (will destroy your data), rebuild the mysql container and it should work.. ",
    "ailionx": "alter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.. ",
    "najamalvi": "alter user 'username'@'localhost' identified with mysql_native_password by 'password';\nBravoo. This is the solution\n. ",
    "MaiQuocDuy": "Hi Mr. Ailionx and Mr. Najamalvi,\nI'm a student in a country which don't speak English. I'm very happy when reading your guide but I don't understand what steps I should do. Please tell me more details. Thank so much !!!. It also work for me. Many many thanks for you. Have a nice day!!!\nOn Sat, Oct 27, 2018 at 9:55 AM William Alexander notifications@github.com\nwrote:\n\nalter user 'username'@'localhost' identified with mysql_native_password\nby 'password'; would fix it.\nwork for me, thank you!\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1390#issuecomment-433585330,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AqZUP-QX0NTNn9J98RuhesSqjAuiuGnWks5uo8s6gaJpZM4SQ5gP\n.\n. \n",
    "CoderBill": "Don't uninstall MySQL 8.  Sign into mysql using a terminal program:\nmysql -u root -p\nmy_password\nalter user 'username'@'localhost' identified with mysql_native_password by 'password'; \nThis does the trick.   . ",
    "allexsv": "\nalter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.\n\nwork for me, thank you!. ",
    "zacksleo": "added these lines in docker-compose.yml fixed my issue:\nyaml\n    mysql:\n        image: mysql:8\n        command: ['--character-set-server=utf8mb4', '--collation-server=utf8mb4_unicode_ci','--default-authentication-plugin=mysql_native_password']. ",
    "Crowbrammer": "Basic PDO user with a possible solution. You do not have to uninstall MySQL 8.x or even do the above (maybe... I'm not using Laradock). You just need to go to your MySQL installer, reconfigure your server, and select Legacy Authentication Method (which retains MySQL 5.x compatibility). I figured this out through trial and error after my dsn in my PDO didn't allow me to connect. \nFinding the Installer in Windows\nClick 'Reconfigure'\nSelect the bottom option. Basic PDO user with a possible solution. You do not have to uninstall MySQL 8.x or even do the above (maybe... I'm not using Laradock). You just need to go to your MySQL installer, reconfigure your server, and select Legacy Authentication Method (which retains MySQL 5.x compatibility). I figured this out through trial and error after my dsn in my PDO didn't allow me to connect. \nFinding the Installer in Windows\nClick 'Reconfigure'\nSelect the bottom option. ",
    "mostafaznv": "\nalter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.\n\nyou saved my life.\nI changed default auth plugin to mysql native password in /etc/my.cnf and then used your command.\nmy problem solved. ",
    "darlandieterich": "if external/remote use replace 'localhost' to '%'. ",
    "thpkml": "The latest version of mysql : \n\ninitialize database\nchoose 'legacy password' \nproblem solved for me \nsimples (unless I face more issues later ;) ) \n. \n",
    "yeysus": "\nadded these lines in docker-compose.yml fixed my issue:\nyaml\n    mysql:\n        image: mysql:8\n        command: ['--character-set-server=utf8mb4', '--collation-server=utf8mb4_unicode_ci','--default-authentication-plugin=mysql_native_password']\nYou just saved my life @zacksleo, Thanks. Installing latest drupal 8.6.4 with MySQL 8.0.13 both via docker.\n. \n",
    "thicolares": "\nIf you want to use mysql 8 with native password (the old way) you can follow the following steps:\nAdd this to my.cnf in laradock\\mysql\\my.cnf under [mysqld]:\ndefault-authentication-plugin=mysql_native_password\nClear the data-folder (will destroy your data), rebuild the mysql container and it should work.\n\nJust in case someone else is using laradock too, by \"clear the data-folder\" I guess is:\n   $ rm -rf ~/.laradock/data.\n",
    "pr0f3ss0rst3ph": "\nDon't uninstall MySQL 8. Sign into mysql using a terminal program:\nmysql -u root -p\nmy_password\nalter user 'username'@'localhost' identified with mysql_native_password by 'password';\nThis does the trick.\n\nI'm using windows and I don't know which terminal program I should use for this. I really need help on this.. ",
    "srinivasakumar-a": "\nBasic PDO user with a possible solution. You do not have to uninstall MySQL 8.x or even do the above (maybe... I'm not using Laradock). You just need to go to your MySQL installer, reconfigure your server, and select Legacy Authentication Method (which retains MySQL 5.x compatibility). I figured this out through trial and error after my dsn in my PDO didn't allow me to connect.\nFinding the Installer in Windows\nClick 'Reconfigure'\nSelect the bottom option\n\nthanks a lot for your work around and it worked for me! :). ",
    "sammysaita": "\nalter user 'username'@'localhost' identified with mysql_native_password by 'password';\nBravoo. This is the solution\n\nthis really helped me. ",
    "leandroruel": "just remove damn mysql and use mariadb 10.x as main database, it works fine.. ",
    "ankurprem": "The crazy thing is that many times I didn't even use the .env, but the output always came Step 2/10 : FROM mysql:${MYSQL_VERSION}.. Right, @bestlong. Indeed, the version on the build mislead me. MySQL 5.7 is installed. Thank you.. ",
    "joaogomesufal": "I was able to solve the same problem by running: docker-compose up --force-recreate mysql. ",
    "adammparker": "mysql works for me inside the .env file, but otherwise I'm experiencing the exact same problem.\nAdditionally, I'm using PHP_VERSION=56 in laradock/.env (have an older 5.1 Laravel project I need to stand up and don't want to troubleshoot Valet issues with older version(s) of PHP.\nphp artisan migrate returns two errors:\n```\n  [PDOException]\n  SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client\n[ErrorException]\n  PDO::__construct(): The server requested authentication method unknown to the client [caching_sha2_password]\n```. Thanks @rockerbom for the thorough response. I didn't try your steps, but ended up with a different solution (for anyone that doesn't necessarily need MySQL 8.x):\n\nChanged MYSQL_VERSION to 5.7 in laradock/.env\ndocker-compose build --no-cache mysql. @danaia I think I may have experienced something similar. Rather than debugging I just nuked all of my Docker settings, containers, and images and just started from scratch (with the older [and more stable] version of MySQL).. \n",
    "Drakota": "+1, I'm having the same problem here.. ",
    "mulodo-ngo-anh": "Me too, same problem .\ni did resolved the problem following:\n1. add default authentication plugin to laradock/mysql/my.cnf\n[mysqld]\ndefault_authentication_plugin= mysql_native_password\n2. update content file mysql/docker-entrypoint-initdb.d/createdb.sql like:\n```\nCREATE USER 'admin'@'localhost' IDENTIFIED WITH mysql_native_password BY 'yourpass';\nGRANT ALL PRIVILEGES ON . TO 'admin'@'localhost' WITH GRANT OPTION;\nCREATE USER 'admin'@'%' IDENTIFIED WITH mysql_native_password BY 'yourpass';\nGRANT ALL PRIVILEGES ON . TO 'admin'@'%' WITH GRANT OPTION;\n\nCREATE DATABASE IF NOT EXISTS yourdb COLLATE 'utf8_general_ci' ;\nGRANT ALL ON yourdb.* TO 'admin'@'%' ;\nFLUSH PRIVILEGES ;\n```\nimportant note: remove old user, database and recreate again by above script.\n3. Remove mysql container and re-run it.\n4. php artisan migrate is done :)\nReason bug: \nDefault authenticate of MySQL 8.0.4 changed.\nRefer to detail information: https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-4.html\nat Security Notes\nhope it help you.\nThanks\n. @danaia nice man. @wmellema  are you instaill php-cli?\ncould you share .env file?. ",
    "MaximilianCoutuer": "I ended up with a similar solution as @adammparker. Thanks @rockerbom for an alternative. \ud83d\udc4d . ",
    "wmellema": "Getting the same issue with php 7.1, any ideas on how to fix it for 7.1 without redoing all the Docker entrypoints?. ",
    "MattBidas": "Some erros \n The server requested authentication method unknown to the client\nAnd downgrade mysql version to 5.6 or 5.7 doesn't work. @robindijkhof Use this to solve problem :\nhttps://github.com/laradock/laradock/issues/1407\n**stop all service docker-compose down\nEdit .env file set MYSQL_VERSION=5.7 or MYSQL_VERSION=latest\nDelete mysql database\n$ rm -rf ~/.laradock/data/mysql\nrebuild mysql image\n$ docker-compose build mysql\nretry\n$ docker-compose up -d nginx mysql phpmyadmin\nIt's working for me.**. @robindijkhof Alles Gute ! Sorry ;-). Thanks @bestlong and @Pherserk !!!\nYou are awesome !!!\nWork Fine Now !!!\nThanks Too Much. ",
    "capripio": "@silsuer , agreed same issue occurred exit 6 to me thought!. ",
    "EngEryx": "@silsuer I had the same issue.\nI  set MYSQL_VERSION to 5.7,\nFurther removed DATA_SAVE_PATH\nThen removed MYSQL_ROOT_USER since I realized an issue with Docker container for MySQL ...it already creates the root user as root. So when I removed it all worked fine.\nI am also hosting multiple projects and all is working well without extra patches.\nWould like to know who is still having an issue I can help.... ",
    "robindijkhof": "I'm NOT getting the error with mysql 8.0.0. This version might also be working.. @MattBidas I'm NOT getting the error with v8.0.0. Just posting it as another possible solution.. ",
    "walterti": "Access your mysql from console using \ndocker-compose exec mysql mysql -uroot -proot\nthen create a new user with a native mysql password\nCREATE USER 'admin'@'localhost' IDENTIFIED WITH mysql_native_password BY 'yourpass';\nGRANT ALL PRIVILEGES ON . TO 'admin'@'localhost' WITH GRANT OPTION;\nCREATE USER 'admin'@'%' IDENTIFIED WITH mysql_native_password BY 'yourpass';\nGRANT ALL PRIVILEGES ON . TO 'admin'@'%' WITH GRANT OPTION;\naccess phpmyadmin using your new user, change the password of your root user selecting Mysql Native Authentication method and then remove the user you've created, this works for me. ",
    "kazirahmat": "I have same problem. But I didn't find and change  MYSQL_VERSION to 5.7 in laradock/.env . Actually Where .env file?\nPlease help me. @adamm or any one. ",
    "igorjacauna": "@kazirahmat there is a file named env-example in laradock directory. You have to create a copy of this file and rename to .env. ",
    "BackendATS": "SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client\nPDO::__construct(): The server requested authentication method unknown to the client [caching_sha2_password]\nphp 7\nmysql 8\nubuntu 18.04\nHow can i resolve this? I can't make 'php artisan migrate:refresh --seed' my database. ",
    "themark147": "yea if you want previous version of mysql ex. 5.7 is necessary to remove mysql data that solution works for me . ",
    "bye-webster": "you can check by \"docker inspect name_of_mysql_1\" and then you can use IP of Gateway which is \"172.18.0.1\"\n\"NetworkID\": \"05f4c08c374b61334709dc8ce4b5e5cad8b94e09c27b66b0ed64c89c8d585f1f\",\n\"EndpointID\": \"4830e8ae5f13cc983252374e1955f8731490e561603996e6c8265ccf79dea73b\",\n\"Gateway\": \"172.18.0.1\",\n\"IPAddress\": \"172.18.0.3\",\n\"IPPrefixLen\": 16,\n\"IPv6Gateway\": \"\",\n\"GlobalIPv6Address\": \"\",\n\"GlobalIPv6PrefixLen\": 0,\n\"MacAddress\": \"02:42:ac:12:00:03\",\n\"DriverOpts\": null\njust info, im already done with it... ",
    "nmardones": "Gracias, @francoism90 . ",
    "nadimtuhin": "It also worked for my, thanks @francoism90\n. ",
    "JeromeSaby": "@francoism90 Perfect. Thanks a lot !. ",
    "fgibaux": "According to the PHP documentation, we should wait for a new version of mysqlnd: http://php.net/manual/en/mysqli.requirements.php to be able to use the new authentication method.. ",
    "maheshWebkul721": "@francoism90 its working, thanks a lot.. ",
    "alaamebrahim": "francoism90\nThanks that woked!. ",
    "tabirkeland": "@francoism90 thank you!. ",
    "aowie1": "If you already built your container using the default MYSQL_VERSION (at this time of writing the latest was v8) you'll need to remove the image, volume and data directory before updating to the lower version:\ndocker rmi laradock_mysql\ndocker volume rm laradock_mysql\nrm -rf ~/.lardock/data/mysql\nthen update your laradock's .env to MYSQL_VERSION={your_desired_version}\nthen rebuild while busting the cache docker-compose build --no-cache mysql. > Thanks @aowie1. There is a error in your second command, it should be:\n\ndocker volume rm laradock_mysql\n\ngood catch, thanks. I updated it. Ensure you are entering the workspace container \ndocker-compose exec workspace bash\nto run your composer install. ",
    "adriiiprieto": "alter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.. alter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.\n. ",
    "haobird": "\n@robindijkhof Use this to solve problem :\n1407\n**stop all service docker-compose down\nEdit .env file set MYSQL_VERSION=5.7 or MYSQL_VERSION=latest\nDelete mysql database\n$ rm -rf ~/.laradock/data/mysql\nrebuild mysql image\n$ docker-compose build mysql\nretry\n$ docker-compose up -d nginx mysql phpmyadmin\nIt's working for me.**\n\nI solve it with your method. ",
    "fabionofre": "I solve with Mysql Installer. Just select the legacy authentication method.\n\n. ",
    "Pareshoct7": "@fabionofre Thanks for the crystal clear solution.\nI applied solution from this video.\nhttps://gist.github.com/nrollr/3f57fc15ded7dddddcc4e82fe137b58e#gistcomment-1959744\nbut that is not enough. So, I have to follow your answer also @fabionofre \nhttps://github.com/laradock/laradock/issues/1392#issuecomment-440293085. ",
    "nil09": "This below query solved my problem. \nALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';. ",
    "jonny-khattar": "Hi @bestlong \nThanks for replying, i have tried this and im getting a 404 not found error now.\n. @bestlong \nNow getting a 500 error \"currently unable to handle this request\".\nWhen entering the nginx container and checking the error logs at /var/log/nginx/error.log the logs are empty.\nIs there anything else other than the nginx/sites/default.conf file and the .env that could impact this?. @bestlong \nUpdate i have found that the server is fine when returning html files, however seems to be an issue with php files. Any suggestions on troubleshooting?. ",
    "CorvinSteindl": "Okay but what is the recommend way to deploy a laravel Application to production (inclusive migration and seeding) ?. ",
    "GinoPane": "It looks like the problem is described here: https://github.com/docker/compose/issues/5019.\nNothing wrong with Laradock.\nRunning script from ConEmu seems to work.. @bestlong Today I've found out that there was a bug introduced by one of the previous updates when a new port forwarding for Windows was implemented: https://github.com/docker/for-win/issues/1506.\nAnd it looks like that it was my issue. I've upgraded to the latest version (Docker version 17.12.0-ce, build c97c6d6) and now my dev host is reachable (without any changes anywhere else).\nAnyway, thanks for looking into this!. @spyridonas No, it's not the case for me :). @bestlong This is the issue actually, I wanted to use it and set it in .env file (as DOCKER_HOST variable), which further populates docker-compose.yaml and got this error when building containers.. Shouldn't the fixed file be committed?. Isn't it working?\n\n. ",
    "Pherserk": "same problem here, my laravel configuration:\nDB_CONNECTION=mysql\nDB_HOST=laradock_mysql_1\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nMysql configuration has been left unchanged.\nWhen i run artisan migrate I get:\n`root@dbdfcc2b363f:/var/www# php artisan migrate -v\nIlluminate\\Database\\QueryException  : SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client (SQL: select * from information_schema.tables where table_schema = default and table_name = migrations)\nat /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php: 664\n    660|         // If an exception occurs when attempting to run a query, we'll format the error\n    661|         // message to include the bindings with SQL, which will make this exception a\n    662|         // lot more helpful to the developer instead of just the database's errors.\n    663|         catch (Exception $e) {\n\n664|             throw new QueryException(\n    665|                 $query, $this->prepareBindings($bindings), $e\n    666|             );\n    667|         }\n    668| \n\nException trace:\n1   PDOException::(\"PDO::__construct(): The server requested authentication method unknown to the client [caching_sha2_password]\")\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php : 68\n2   PDO::__construct(\"mysql:host=laradock_mysql_1;port=3306;dbname=default\", \"default\", \"secret\", [])\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php : 68\n3   Illuminate\\Database\\Connectors\\Connector::createPdoConnection(\"mysql:host=laradock_mysql_1;port=3306;dbname=default\", \"default\", \"secret\", [])\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php : 44\n4   Illuminate\\Database\\Connectors\\Connector::createConnection(\"mysql:host=laradock_mysql_1;port=3306;dbname=default\", [])\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php : 24\n5   Illuminate\\Database\\Connectors\\MySqlConnector::connect()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php : 183\n6   Illuminate\\Database\\Connectors\\ConnectionFactory::Illuminate\\Database\\Connectors{closure}()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 915\n7   call_user_func(Object(Closure))\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 915\n8   Illuminate\\Database\\Connection::getPdo()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 940\n9   Illuminate\\Database\\Connection::getReadPdo()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 399\n10  Illuminate\\Database\\Connection::getPdoForSelect()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 325\n11  Illuminate\\Database\\Connection::Illuminate\\Database{closure}(\"select * from information_schema.tables where table_schema = ? and table_name = ?\")\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 657\n12  Illuminate\\Database\\Connection::runQueryCallback(\"select * from information_schema.tables where table_schema = ? and table_name = ?\", Object(Closure))\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 624\n13  Illuminate\\Database\\Connection::run(\"select * from information_schema.tables where table_schema = ? and table_name = ?\", Object(Closure))\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Connection.php : 333\n14  Illuminate\\Database\\Connection::select(\"select * from information_schema.tables where table_schema = ? and table_name = ?\")\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Schema/MySqlBuilder.php : 18\n15  Illuminate\\Database\\Schema\\MySqlBuilder::hasTable(\"migrations\")\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Migrations/DatabaseMigrationRepository.php : 169\n16  Illuminate\\Database\\Migrations\\DatabaseMigrationRepository::repositoryExists()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Migrations/Migrator.php : 545\n17  Illuminate\\Database\\Migrations\\Migrator::repositoryExists()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php : 97\n18  Illuminate\\Database\\Console\\Migrations\\MigrateCommand::prepareDatabase()\n      /var/www/vendor/laravel/framework/src/Illuminate/Database/Console/Migrations/MigrateCommand.php : 63\n19  Illuminate\\Database\\Console\\Migrations\\MigrateCommand::handle()\n      /var/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php : 29\n20  call_user_func_array([])\n      /var/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php : 29\n21  Illuminate\\Container\\BoundMethod::Illuminate\\Container{closure}()\n      /var/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php : 87\n22  Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Object(Closure))\n      /var/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php : 31\n23  Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), [])\n      /var/www/vendor/laravel/framework/src/Illuminate/Container/Container.php : 564\n24  Illuminate\\Container\\Container::call()\n      /var/www/vendor/laravel/framework/src/Illuminate/Console/Command.php : 183\n25  Illuminate\\Console\\Command::execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))\n      /var/www/vendor/symfony/console/Command/Command.php : 252\n26  Symfony\\Component\\Console\\Command\\Command::run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))\n      /var/www/vendor/laravel/framework/src/Illuminate/Console/Command.php : 170\n27  Illuminate\\Console\\Command::run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/vendor/symfony/console/Application.php : 865\n28  Symfony\\Component\\Console\\Application::doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\MigrateCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/vendor/symfony/console/Application.php : 241\n29  Symfony\\Component\\Console\\Application::doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/vendor/symfony/console/Application.php : 143\n30  Symfony\\Component\\Console\\Application::run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/vendor/laravel/framework/src/Illuminate/Console/Application.php : 88\n31  Illuminate\\Console\\Application::run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php : 121\n32  Illuminate\\Foundation\\Console\\Kernel::handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\n      /var/www/artisan : 37\n`\nBut entering the mysql container in bash:\nmysql -udefault -psecret\nauthenticates me and the table default exists.. @MattBidas it seems there is another issue opened:\nhttps://github.com/laradock/laradock/issues/1392\nDowngrade to previous mysql version seems to work.. ",
    "makraz": "Thank you so much \nYou are awesome  @bestlong \nWork well now. ",
    "kavim": "SIMMMMM funcionaaaaa!!. ",
    "SamuelYute": "This works perfectly\nThanks. ",
    "jeshio": "\nstop all service docker-compose down\nEdit .env file set MYSQL_VERSION=5.7 or MYSQL_VERSION=latest\n```\nDelete mysql database\n$ rm -rf ~/.laradock/data/mysql\nrebuild mysql image\n$ docker-compose build mysql\nretry\n$ docker-compose up -d nginx mysql phpmyadmin\n```\nIt's working for me.\n\nonly with MYSQL_VERSION=5.7 works\n. ",
    "atualizado": "\nstop all service docker-compose down\nEdit .env file set MYSQL_VERSION=5.7 or MYSQL_VERSION=latest\n```\nDelete mysql database\n$ rm -rf ~/.laradock/data/mysql\nrebuild mysql image\n$ docker-compose build mysql\nretry\n$ docker-compose up -d nginx mysql phpmyadmin\n```\nIt's working for me.\n\nYou are awesome !!! \u2764\nWork Fine Now !!! \ud83d\udc4d\nThanks . ",
    "eltiare": "This lets people decide which version they're going to use, as is stated \nin the docs. If you hard code it in the Dockerfile then they can't \nspecify which is installed in the .env file.. Right now this only installs 8.0, which is a developmental version.. I couldn't get it to install 5.7 until I changed this. I ran it multiple times, removing the containers before each attempt. I kept getting version 8 installed (both reported and in all actuality). . ",
    "ganicus": "I have the exact same issue\nInfo:\n\nDocker version 17.12.0-ce, build c97c6d6\nLaradock Commit c4aef8e\nSystem info (Mac, PC, Linux): PC\nSystem info disto/version: windows10 Pro. AH HA!!! \n\nIn your .env file at the very bottom there is a variable you need to change for your Windows machine to allow proper Drive Sharing:\n```\nDOCKER-SYNC\nosx: 'native_osx' (default)\nwindows: 'unison'\nlinux: docker-sync not required\nDOCKER_SYNC_STRATEGY=unison\n\n```\nMaybe some updated documentation?. ",
    "CantonBolo": "Please merge this PR, the reason is here.. @bestlong I have passed the tests at local environment. The old versions has been merged at #1387 , and current version have passed all checks of CI.. ",
    "JimChenWYU": "\nThe official redis.conf file, copy it to laradock/redis and deploy it by yourself.\nUpdate the redis Dockerfile like this\n```\nFROM redis:latest\n\nMAINTAINER Mahmoud Zalt mahmoud@zalt.me\nFor security settings uncomment, make the dir, copy conf, and also start with the conf, to use it\nRUN mkdir -p /usr/local/etc/redis\nCOPY redis.conf /usr/local/etc/redis/redis.conf\nVOLUME /data\nEXPOSE 6379\nCMD [\"redis-server\", \"/usr/local/etc/redis/redis.conf\"]\nCMD [\"redis-server\"]\n``\n3.docker-compose build redis`. +1. ",
    "philbrowne": "Managed to resolve chaning the DATA_SAVE_PATH in .env from /.laradock  to /.laradock_b and rebuilt.. ",
    "sereden": "@dmz9 no :-( Have spent time re-installing from scratch, watched different tutorial, used different versions of PhpStorm (btw, the latest one displays another message) and still no results. ",
    "paslandau": "Not sure why it's even recommended to use the .ppk file. Did you try using \"laradock/workspace/insecure_id_rsa\"? . ",
    "mlwooding": "with help from fantastic Roger Roelofs worked out this was caused by your instructions not working on my latest Windows 10 Pro laptop.   to rename to .env, I needed to first rename to env-example.env and then to .env\nyou might like to test and see whether that was just a one off, or a change for Windows. ",
    "brunoecq": "Yup!! Same isuue here running on windows 7, and same way to solve it!!  Very Thanks @mlwooding  . ",
    "TummenUppGeInteUpp": "Have the same issue and im on macos high sierra 10.13.5 , \nERROR: The Compose file './docker-compose.yml' is invalid because:\nservices.proxy.expose is invalid: should be of the format 'PORT[/PROTOCOL]'\nservices.proxy2.expose is invalid: should be of the format 'PORT[/PROTOCOL]'\nservices.memcached.ports is invalid: Port ranges don't match in length\n........\ni totally gutted .. \nany tips ? \n@mlwooding\n@brunoecq\n. ",
    "tarunhere": "I am also running on Mac OS High Sierra\nlaradock git:(master) \u2717 docker-compose build\nWARNING: The INSTALL_BLACKFIRE variable is not set. Defaulting to a blank string.\nWARNING: The AEROSPIKE_PHP_REPOSITORY variable is not set. Defaulting to a blank string.\nWARNING: The BLACKFIRE_CLIENT_ID variable is not set. Defaulting to a blank string.\nWARNING: The BLACKFIRE_CLIENT_TOKEN variable is not set. Defaulting to a blank string.\nWARNING: The MEMCACHED_HOST_PORT variable is not set. Defaulting to a blank string.\nWARNING: The PMA_USER variable is not set. Defaulting to a blank string.\nWARNING: The PMA_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The PMA_ROOT_PASSWORD variable is not set. Defaulting to a blank string.\nWARNING: The PMA_PORT variable is not set. Defaulting to a blank string.\nWARNING: The PMA_DB_ENGINE variable is not set. Defaulting to a blank string.\nERROR: The Compose file './docker-compose.yml' is invalid because:\nservices.memcached.ports is invalid: Port ranges don't match in length\nservices.phpmyadmin.ports is invalid: Port ranges don't match in length\nWould appreciate any help/tips. Thanks. ",
    "shingo0620": "you have to update your .env file. ",
    "wimdeblauwe": "I had the same problem on macOS. After updating laradock, you need to compare your .env file with the env-example file. By adding all missing properties to your .env file, docker compose works again.. ",
    "igorbuts": "Had the same problem on macOS sierra 10.13.5\n@shingo0620 @wimdeblauwe, thanks, updating .env file from env-example helps \ud83d\udc4d . ",
    "rjcfj": "PHP version 7.1, It worked out well. But PHP 7.2 still issue same form \"SQLSTATE [01000]: [unixODBC] [Driver Manager] Can not open lib\".. Still problem PHP 7.2 until moment without SQL Server drive. something to fix SQLServe. Thanks dude @DeadMerc . ",
    "DeadMerc": "Got this problem too, on php7.1 works perfectly, thanks @rjcfj . ",
    "al1357": "It seems I need to run both apps on different ports.\nin docker-compose.yml, nginx container:\nports:\n        - \"${NGINX_HOST_HTTP_PORT}:80\"\n        - \"8081:8081\"\n        - \"${NGINX_HOST_HTTPS_PORT}:443\"\nand then in laradock/nginx/sites/app2-loc.conf:\n```\nserver {\nlisten 8081;\nlisten [::]:8081;\n\n```\nApp1 still listens on port 80.. ",
    "mazen1985": "I have the same issue, any luck?!. ",
    "spmsupun": "Here how i did this:\n.env add this line\nWORKSPACE_INSTALL_NPM_PM2=true\ndocker-compose.yml add env variable to workspace\n- INSTALL_NPM_PM2=${WORKSPACE_INSTALL_NPM_PM2}\nand finally add this to workspace Dockerfile near the RUN if [ ${INSTALL_NODE} = true ]; then \\\n&& if [ ${INSTALL_NPM_PM2} = true ]; then \\\n        npm install -g pm2 \\\n        ;fi \\\nthis is my fork: https://github.com/lifeeka/laradock\n. Adding   apt-get -y update fixed the issue\n```\nARG INSTALL_PYTHON=false\nRUN if [ ${INSTALL_PYTHON} = true ]; then \\\n  apt-get -y update \\\n  && apt-get -y install python python-pip python-dev build-essential  \\\n  && pip install --upgrade pip  \\\n  && hash -r pip \\\n  && pip install --upgrade virtualenv \\\n;fi\n```. ",
    "Multoryan": "sudo docker-compose up -d nginx mysql. ",
    "idbartosz": "Issue #1467 - fix works.. ",
    "inductor": "same for Dockerfile-71. seems fixed. ",
    "Qanah": "docker-compose exec --user=laradock workspace bash --login -c\nhttps://stackoverflow.com/questions/48809046/yarn-not-in-path-on-laradock-worskpace-when-using-it-in-inline-docker-exec-comma. ",
    "MatthiasHertel": "works like a charm should be merged!. ",
    "Dryr": "Thanks.\nI'm in the process of creating a pull request. I'll get to it when I have some free time.\nBut if someone feels like merging it before I do, I'm fine with that :). It doesn't work with travis because it was broken when I forked the repo. I need to pull in the changes made in the master branch since then, and submit the pull request again.\nI'll work on it soon. You can fix it by adding apt-get update in the DUSK section of the workspace's Dockerfile\nRUN if [ ${INSTALL_DUSK_DEPS} = true ]; then \\\n  apt-get update \\\n  && apt-get -y install zip wget unzip xdg-utils \\\n    libxpm4 libxrender1 libgtk2.0-0 libnss3 libgconf-2-4 xvfb \\\n    gtk2-engines-pixbuf xfonts-cyrillic xfonts-100dpi xfonts-75dpi \\\n    xfonts-base xfonts-scalable x11-apps \\\n  && wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb \\\n  && dpkg -i --force-depends google-chrome-stable_current_amd64.deb \\\n  && apt-get -y -f install \\\n  && dpkg -i --force-depends google-chrome-stable_current_amd64.deb \\\n  && rm google-chrome-stable_current_amd64.deb \\\n  && wget https://chromedriver.storage.googleapis.com/${CHROME_DRIVER_VERSION}/chromedriver_linux64.zip \\\n  && unzip chromedriver_linux64.zip \\\n  && mv chromedriver /usr/local/bin/ \\\n  && rm chromedriver_linux64.zip \\\n;fi. Looks like NO_AUTO_CREATE_USER is causing the issue. Removing it from the 'mysql/my.cnf' file seems to fix the issue as well. . Do you mean that the volume is not properly set up between the host and the container? \nIf you run docker-compose exec workspace ls, do you see the files that are contained in the folder pointed by APP_CODE_PATH_HOST?. Does it work if you specify 'workspace' in the docker-compose command?\ndocker-compose up -d workspace\nIf it does not works, Rerun the command without the '-d' option to see the output of the command.. What's the value of APP_CODE_PATH_HOST in your '.env' file?. Yeah, there's actually a bit more to it. The instructions assume that you are cloning laradock inside your Laravel project.\nIt's better if you change the value of APP_CODE_PATH_HOST in laradock's .env file, point it to your laravel's project folder.\nIf you are not using laravel, point it to a directory containing a folder named 'public'. Then put your web files in that folder.. Some of the environment variables defined in the '.env' file have changed names.\nFor example APPLICATION is now APP_CODE_PATH_HOST\nThe only way to find out which ones have changed is to compare your '.env' file with the last version of the 'env-example' file.. That is strange, normally the '/var/www' folder should already be owned by the 'laradock' user.\nI saw that the id of the owner of the folder is '1001'\nlaradock@884cb7ea9243:/var/www$ ll\ntotal 108\ndrwxrwxr-x 13 1001 1001 4096 May  7 12:55 ./\nI guess that's the user of your host machine.\nTry to set the WORKSPACE_PUID and WORKSPACE_PGID to 1001 in laradock's '.env' file. ",
    "sfox55": "+1 please merge this =). ",
    "mattharley": "It looks like this variable is now called APP_CODE_PATH_HOST. See commit a0c5ef75d2cc3462af537cb3a385ccb728e585c3\nIf you're happy to make a pull request to the documentation, the relevant file is: laradock/DOCUMENTATION/content/getting-started/index.md.\nOtherwise I can probably put it together :). ",
    "landah": "many, thanks to the new variable(APP_CODE_PATH_HOST) everything works properly.. ",
    "ernestohs": "I have the same problem, but when I use --verbose I see this message in the screen:\ncompose.service.build: Building php-fpm\ncompose.cli.verbose_proxy.proxy_callable: docker build <- (path='/home/ernesto/code/myproject/laradock/php-fpm', tag='laradock_php-fpm', rm=True, forcerm=False, pull=False, nocache=False, dockerfile=None, cache_from=None, labels=None, buildargs={'PHP_VERSION': '7.0', 'INSTALL_XDEBUG': 'false', 'INSTALL_BLACKFIRE': 'false', 'INSTALL_SOAP': 'false', 'INSTALL_IMAP': 'false', 'INSTALL_MONGO': 'false', 'INSTALL_AMQP': 'false', 'INSTALL_MSSQL': 'false', 'INSTALL_ZIP_ARCHIVE': 'true', 'INSTALL_BCMATH': 'true', 'INSTALL_GMP': 'false', 'INSTALL_PHPREDIS': 'true', 'INSTALL_MEMCACHED': 'false', 'INSTALL_OPCACHE': 'true', 'INSTALL_EXIF': 'false', 'INSTALL_AEROSPIKE': 'false', 'INSTALL_MYSQLI': 'true', 'INSTALL_PGSQL': 'false', 'INSTALL_PG_CLIENT': 'false', 'INSTALL_TOKENIZER': 'true', 'INSTALL_INTL': 'true', 'INSTALL_GHOSTSCRIPT': 'false', 'INSTALL_LDAP': 'false', 'INSTALL_SWOOLE': 'false', 'INSTALL_IMAGE_OPTIMIZERS': 'true', 'INSTALL_IMAGEMAGICK': 'true'}, network_mode=None, target=None, shmsize=None, extra_hosts=None, container_limits={'memory': None}, gzip=False, isolation=None, platform=None)\ndocker.api.build._set_auth_headers: Looking for auth config\ndocker.api.build._set_auth_headers: No auth config in memory - loading from filesystem\ndocker.utils.config.find_config_file: Trying paths: ['/home/ernesto/.docker/config.json', '/home/ernesto/.dockercfg']\ndocker.utils.config.find_config_file: No config file found\ndocker.api.build._set_auth_headers: No auth config found\nurllib3.connectionpool._make_request: http://localhost:None \"POST /v1.25/build?t=laradock_php-fpm&q=False&nocache=False&rm=True&forcerm=False&pull=False&buildargs=%7B%22PHP_VERSION%22%3A+%227.0%22%2C+%22INSTALL_XDEBUG%22%3A+%22false%22%2C+%22INSTALL_BLACKFIRE%22%3A+%22false%22%2C+%22INSTALL_SOAP%22%3A+%22false%22%2C+%22INSTALL_IMAP%22%3A+%22false%22%2C+%22INSTALL_MONGO%22%3A+%22false%22%2C+%22INSTALL_AMQP%22%3A+%22false%22%2C+%22INSTALL_MSSQL%22%3A+%22false%22%2C+%22INSTALL_ZIP_ARCHIVE%22%3A+%22true%22%2C+%22INSTALL_BCMATH%22%3A+%22true%22%2C+%22INSTALL_GMP%22%3A+%22false%22%2C+%22INSTALL_PHPREDIS%22%3A+%22true%22%2C+%22INSTALL_MEMCACHED%22%3A+%22false%22%2C+%22INSTALL_OPCACHE%22%3A+%22true%22%2C+%22INSTALL_EXIF%22%3A+%22false%22%2C+%22INSTALL_AEROSPIKE%22%3A+%22false%22%2C+%22INSTALL_MYSQLI%22%3A+%22true%22%2C+%22INSTALL_PGSQL%22%3A+%22false%22%2C+%22INSTALL_PG_CLIENT%22%3A+%22false%22%2C+%22INSTALL_TOKENIZER%22%3A+%22true%22%2C+%22INSTALL_INTL%22%3A+%22true%22%2C+%22INSTALL_GHOSTSCRIPT%22%3A+%22false%22%2C+%22INSTALL_LDAP%22%3A+%22false%22%2C+%22INSTALL_SWOOLE%22%3A+%22false%22%2C+%22INSTALL_IMAGE_OPTIMIZERS%22%3A+%22true%22%2C+%22INSTALL_IMAGEMAGICK%22%3A+%22true%22%7D HTTP/1.1\" 200 None\ncompose.cli.verbose_proxy.proxy_callable: docker build -> <generator object APIClient._stream_helper at 0x7f5d7d912bf8>\nStep 1/68 : ARG PHP_VERSION=${PHP_VERSION}\nERROR: compose.cli.main.main: Service 'php-fpm' failed to build: Please provide a source image with `from` prior to commit\nI'm using Ubuntu Linux\n. After more attempts to make it work I noticed this error message:\nurllib3.connectionpool._make_request: http://localhost:None \"GET /v1.25/images/laradock_php-fpm/json HTTP/1.1\" 404 46\nSo I noticed that 404 response, now I see that error each time that I run the command.. @David-Melo I give up with this and use cyberduck/php-fpm-laravel I hope this helps. ",
    "David-Melo": "Getting This Also. ",
    "vinwang": "@oberoivarun \n\n. Thanks,the problem has been solved.\nI delete .laradock/data/mysql. I try it\ngit checkout -b v6.0.1 v6.0.1\ncp env-example .env\n\u89e3\u51b3. @weedsks I have no solution here. ",
    "Crazymodder": "Hi,\nSimply add\nrm /etc/apt/preferences.d/no-debian-php && \\\nbefore\napt-get update -yqq && \\\n    apt-get -y install libxml2-dev php-soap && \\\nin php-fpm/Dockerfile. ",
    "sstraakenbroek": "Hello Crazymodder,\nThanks for your reply, with this fix i can rebuild php-fpm with SOAP\nRegards,\nStefan. ",
    "jeliasson": "@jourdon?. @guicara Not a solution. It\u2019s the opposite of what this issue report is about. . That seems to done the trick, thanks!. ",
    "remipou": "Hello, thanks for the the fix. It's working when i build the php-fpm container but not for the workspace container.. @Crazymodder . ",
    "matohavo": "Rebuilding images without cache helped:\ndocker-compose build --no-cache workspace php-fpm. ",
    "guider": "i have change mysql version to 5.7 and try buy invalid. Laradock commit 0c41fceae1b23089f5360dc4f8aeb85719c7bf5a\nsystem info mac 10.13.4\n. Attaching to laradock_mysql_1\nmysql_1                | 2018-04-11T03:51:04.311015Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\nmysql_1                | 2018-04-11T03:51:04.311065Z 0 [Warning] 'NO_ZERO_DATE', 'NO_ZERO_IN_DATE' and 'ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode in a future release.\nmysql_1                | 2018-04-11T03:51:04.315056Z 0 [Note] mysqld (mysqld 5.7.21) starting as process 1 ...\nmysql_1                | 2018-04-11T03:51:04.320095Z 0 [Note] InnoDB: PUNCH HOLE support available\nmysql_1                | 2018-04-11T03:51:04.320126Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\nmysql_1                | 2018-04-11T03:51:04.320129Z 0 [Note] InnoDB: Uses event mutexes\nmysql_1                | 2018-04-11T03:51:04.320131Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\nmysql_1                | 2018-04-11T03:51:04.320133Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\nmysql_1                | 2018-04-11T03:51:04.320135Z 0 [Note] InnoDB: Using Linux native AIO\nmysql_1                | 2018-04-11T03:51:04.320344Z 0 [Note] InnoDB: Number of pools: 1\nmysql_1                | 2018-04-11T03:51:04.320452Z 0 [Note] InnoDB: Using CPU crc32 instructions\nmysql_1                | 2018-04-11T03:51:04.321537Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\nmysql_1                | 2018-04-11T03:51:04.326542Z 0 [Note] InnoDB: Completed initialization of buffer pool\nmysql_1                | 2018-04-11T03:51:04.328128Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\nmysql_1                | 2018-04-11T03:51:04.350206Z 0 [ERROR] [FATAL] InnoDB: Table flags are 0 in the data dictionary but the flags in file ./ibdata1 are 0x4800!\nmysql_1                | 2018-04-11 03:51:04 0x7fb9dc8bd740  InnoDB: Assertion failure in thread 140436245829440 in file ut0ut.cc line 942\nmysql_1                | InnoDB: We intentionally generate a memory trap.\nmysql_1                | InnoDB: Submit a detailed bug report to http://bugs.mysql.com.\nmysql_1                | InnoDB: If you get repeated assertion failures or crashes, even\nmysql_1                | InnoDB: immediately after the mysqld startup, there may be\nmysql_1                | InnoDB: corruption in the InnoDB tablespace. Please refer to\nmysql_1                | InnoDB: http://dev.mysql.com/doc/refman/5.7/en/forcing-innodb-recovery.html\nmysql_1                | InnoDB: about forcing recovery.\nmysql_1                | 03:51:04 UTC - mysqld got signal 6 ;\nmysql_1                | This could be because you hit a bug. It is also possible that this binary\nmysql_1                | or one of the libraries it was linked against is corrupt, improperly built,\nmysql_1                | or misconfigured. This error can also be caused by malfunctioning hardware.\nmysql_1                | Attempting to collect some information that could help diagnose the problem.\nmysql_1                | As this is a crash and something is definitely wrong, the information\nmysql_1                | collection process might fail.\nmysql_1                |\nmysql_1                | key_buffer_size=8388608\nmysql_1                | read_buffer_size=131072\nmysql_1                | max_used_connections=0\nmysql_1                | max_threads=151\nmysql_1                | thread_count=0\nmysql_1                | connection_count=0\nmysql_1                | It is possible that mysqld could use up to\nmysql_1                | key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68193 K  bytes of memory\nmysql_1                | Hope that's ok; if not, decrease some variables in the equation.\nmysql_1                |\nmysql_1                | Thread pointer: 0x0\nmysql_1                | Attempting backtrace. You can use the following information to find out\nmysql_1                | where mysqld died. If you see no messages after this, something went\nmysql_1                | terribly wrong...\nmysql_1                | stack_bottom = 0 thread_stack 0x40000\nmysql_1                | mysqld(my_print_stacktrace+0x2c)[0x55e3173280dc]\nmysql_1                | mysqld(handle_fatal_signal+0x479)[0x55e316c54df9]\nmysql_1                | /lib/x86_64-linux-gnu/libpthread.so.0(+0x110c0)[0x7fb9dc49b0c0]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcf)[0x7fb9dac27fff]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fb9dac2942a]\nmysql_1                | mysqld(+0x61f729)[0x55e316c2b729]\nmysql_1                | mysqld(ZN2ib5fatalD1Ev+0x12d)[0x55e3174f66ed]\nmysql_1                | mysqld(+0xf97441)[0x55e3175a3441]\nmysql_1                | mysqld(+0xf97a78)[0x55e3175a3a78]\nmysql_1                | mysqld(_Z6fil_ioRK9IORequestbRK9page_id_tRK11page_size_tmmPvS8+0x2b0)[0x55e3175acba0]\nmysql_1                | mysqld(_Z13buf_read_pageRK9page_id_tRK11page_size_t+0xce)[0x55e317561c2e]\nmysql_1                | mysqld(_Z16buf_page_get_genRK9page_id_tRK11page_size_tmP11buf_block_tmPKcmP5mtr_tb+0x4aa)[0x55e317530d6a]\nmysql_1                | mysqld(_Z31trx_rseg_get_n_undo_tablespacesPm+0x143)[0x55e3174d48b3]\nmysql_1                | mysqld(+0x61e89d)[0x55e316c2a89d]\nmysql_1                | mysqld(_Z34innobase_start_or_create_for_mysqlv+0x2f3d)[0x55e3174a176d]\nmysql_1                | mysqld(+0xd62a5b)[0x55e31736ea5b]\nmysql_1                | mysqld(_Z24ha_initialize_handlertonP13st_plugin_int+0x4f)[0x55e316ca047f]\nmysql_1                | mysqld(+0xb0d316)[0x55e317119316]\nmysql_1                | mysqld(_Z40plugin_register_builtin_and_init_core_sePiPPc+0x2f0)[0x55e31711c400]\nmysql_1                | mysqld(+0x641596)[0x55e316c4d596]\nmysql_1                | mysqld(_Z11mysqld_mainiPPc+0xc6b)[0x55e316c4f14b]\nmysql_1                | /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf1)[0x7fb9dac152e1]\nmysql_1                | mysqld(_start+0x2a)[0x55e316c4582a]\nmysql_1                | The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains\nmysql_1                | information that should help you find out what is causing the crash.. @Shadow2004 \nwhat can I do to resolve it?  and i have  set mysql version 5.7 but  useless.. ",
    "Ablegang": "I also encountered this problem.\nI rebuild mysql container , and I delete the \"~/.laradock/data/mysql\" directory , and I:\ndocker-compose up -d mysql\nIt works.. ",
    "UnknowCC": "delete the line \u201cARG PHP_VERSION=${PHP_VERSION}\" before the \"FROM image\" line in the php-fmp/Dockfile and use actual version number replace the variable ${PHP_VERSION} in the \"FROM ..\" line. is there any script to modify this??. I do the same thing like you, and got the same error, the nginx image depend on php-fpm, so it build php-fpm first, if the Dockfile's syntax rule was wrong. then you get the php-fpm error. \nI think there may be some lack step in the document\n. ",
    "anviod": "@UnknowCC \nI  just     Enter the laradock folder and rename env-example to .env.\ncp env-example .env\nand  run\ndocker-compose up -d nginx. @UnknowCC  you can do this .\n# yum remove docker docker-common -y\n# yum install -y docker-engine\n# systemctl enbale docker && systemctl start docker\ndocker-compose up -d nginx\n\nnow \ndocker --version\nDocker version 18.04.0-ce, build 3d479c0\nuname -a\nLinux telecom.net 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\n. ",
    "nicholascm90": "@neorganic just make sure you are running a recent version of docker-compose...updating fixed for me. using v 1.18.0 on Ubuntu 16.04\n. ",
    "haco28": "What about this pull request ?\nWe really need it :)\nIt works like a charm for me but not for travis lol. ",
    "dontinhqt": "I have a problem as such\ncan not install build worworkingpace when\nWORKSPACE_INSTALL_DUSK_DEPS = true\nerror\n```\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/w/wayland/libwayland-client0_1.12.0-1~ubuntu16.04.2_amd64.deb  404  Not Found [IP: 91.189.88.162 80]\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/w/wayland/libwayland-cursor0_1.12.0-1~ubuntu16.04.2_amd64.deb  404  Not Found [IP: 91.189.88.162 80]\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/w/wayland/libwayland-server0_1.12.0-1~ubuntu16.04.2_amd64.deb  404  Not Found [IP: 91.189.88.162 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_DUSK_DEPS} = true ]; then   apt-get -y install zip wget unzip xdg-utils     libxpm4 libxrender1 libgtk2.0-0 libnss3 libgconf-2-4 xvfb     gtk2-engines-pixbuf xfonts-cyrillic xfonts-100dpi xfonts-75dpi     xfonts-base xfonts-scalable x11-apps   && wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb   && dpkg -i --force-depends google-chrome-stable_current_amd64.deb   && apt-get -y -f install   && dpkg -i --force-depends google-chrome-stable_current_amd64.deb   && rm google-chrome-stable_current_amd64.deb   && wget https://chromedriver.storage.googleapis.com/${CHROME_DRIVER_VERSION}/chromedriver_linux64.zip   && unzip chromedriver_linux64.zip   && mv chromedriver /usr/local/bin/   && rm chromedriver_linux64.zip ;fi' returned a non-zero code: 100\n```. @liangshuocj Sorry, I have not solved it yet. ",
    "philippeboyd": "Do you have the extension installed?\nmysql_connect() is still part of 5.6 (removed in 7)\ntry to do the following :\nbash\ndocker exec $container_name docker-php-ext-install mysql\ndocker restart $container_name. ",
    "hlorofos": "Any update how this could be persistently done?. ",
    "ogronau": "nginx' webroot is configured to be /var/www/public, which maps to ../public, relative to laradock's root. A Laravel installation in the parent directory would have this directory, but your basic test fails. Had the same issue just recently ;-). ",
    "imzyf": "I met the same issues. my system is macOS.. ",
    "lapswr": "For anyone interested ( @imzyf  )\nI've found a solution.\nThe error is caused because is trying to install memcached and mcrpt packages with the wrong php version.\nSo inside the php-worker file I've edited the Dockerfile and replaced these 2 lines \nRUN docker-php-ext-install mysqli mbstring pdo pdo_mysql tokenizer xml\nRUN pecl channel-update pecl.php.net && pecl install memcached mcrypt-1.0.1 && docker-php-ext-enable memcached\nwith this\nRUN if [ ${PHP_VERSION} = '5.6.35' ]; then \\\n       docker-php-ext-install mysqli mbstring pdo pdo_mysql tokenizer xml mcrypt \\\n        && pecl channel-update pecl.php.net && pecl install memcached-2.2.0 && docker-php-ext-enable memcached \\\n;else \\\n    if [ ${PHP_VERSION} = '7.2.0' ]; then \\\n        docker-php-ext-install mysqli mbstring pdo pdo_mysql tokenizer xml \\\n        && pecl channel-update pecl.php.net && pecl install memcached mcrypt-1.0.1 && docker-php-ext-enable memcached \\\n    ;else \\\n        docker-php-ext-install mysqli mbstring pdo pdo_mysql tokenizer xml mcrypt \\\n        && pecl channel-update pecl.php.net && pecl install memcached && docker-php-ext-enable memcached \\\n    ;fi \\\n;fi\nThe code above looks for the php versions 5.6.35 and 7.2.0 or default case and installs the appropriate version of the memcached and mcrypt.\nNotice that php 7.2.0 and above doesn't include mcrypt so thats why is installing it with pecl. ",
    "lbsfei": "Me too.\nLogs as below:\nStep 6/11 : RUN apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data\n ---> [Warning] IPv4 forwarding is disabled. Networking will not work.\n ---> Running in f0135f51d3a8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nERROR: http://dl-cdn.alpinelinux.org/alpine/v3.7/main: temporary error (try again later)\nWARNING: Ignoring APKINDEX.70c88391.tar.gz: No such file or directory\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\nERROR: http://dl-cdn.alpinelinux.org/alpine/v3.7/community: temporary error (try again later)\nWARNING: Ignoring APKINDEX.5022a8a2.tar.gz: No such file or directory\n2 errors; 28 distinct packages available\nERROR: Service 'nginx' failed to build: The command '/bin/sh -c apk update     && apk upgrade     && apk add --no-cache bash     && adduser -D -H -u 1000 -s /bin/bash www-data' returned a non-zero code: 2\nWhy ?\nplease help me!\nthanks!. ",
    "matthijs-neijenhuijs": "me too!. i have the same problem that nginx is not working at windows 10. Is there already a solution? . ",
    "limhu": "@lbsfei @matthijs-neijenhuijs\nI solved this issues  with changed the apk mirror. (nginx/Dockerfile)\n\n\ncd laradock && vim nginx/Dockerfile\n\n\n\ndocker-compose build --no-cache nginx\n. \n\n",
    "naughtyjoint": "I had the same issue last night, I think it's the mysql version problem. What I did was \n\n\nedited laradock/.env,  set MYSQL_VERSION from latest to 5.7\n\n\ndeleted ~/.laradock/mysql/ directory completely (Warning, This may delete your data ! )\n\n\nthen re-build docker-compose build mysql\n\n\ndocker-compose up -d mysql as usual\n\n\nHope this helps :). ",
    "carloshperes": "Thanks @naughtyjoint  . ",
    "ccennis": "i also had to remove the sql_mode line from the my.cnf but then deleting the dir and rebuilding helped. thanks!!. ",
    "linganmin": "@naughtyjoint Thanks. ",
    "yabasha": "thanx @naughtyjoint I struggled with mysql container issue for one whole night your answer solved my issue.\n. ",
    "pack254": "@naughtyjoint Thank a lot for your answer is solved my life, have been straggled to solve this problem for whole day.\nCheers . ",
    "Journeyerr": "Excuse me, How to set up the password for Redis. ",
    "fernandoajn": "Thanks @naughtyjoint, that still works!. ",
    "spyworldxp": "I personally modify this way.\nRUN if [ ${INSTALL_PYTHON} = true ]; then \\\n  apt-get -y install python python-pip python-dev build-essential  \\\n  && python -m pip install --disable-pip-version-check --user --upgrade pip  \\\n  && pip install --upgrade virtualenv \\\n;fi. ",
    "ahkui": "I fix with \npython -m pip ins....... @paulpoot  u need change [app.example.com] to your domain name like [google.com]. mongodb is on difference container and edit your .env file\nWORKSPACE_INSTALL_MONGO=true\nPHP_FPM_INSTALL_MONGO=true. you can try my fork version https://github.com/ahkui/laradock. @amayer5125 okay, this my mistake. finished . hmm... @bestlong how u think about for this function. #1740 fix. Opps is my fail,\ni am no idea why i change my pgadmin4 source to dpage/pgadmin4. ",
    "danieldevsquad": "Your fix suggestion works for me!. ",
    "evianoa": "Your suggestion worked for me too. Many thanks.. ",
    "gl3nda85": "having the same issue. ",
    "bcdennis": "Downgrading docker appears to be the solution.. ",
    "bradmccormack": "Same here.\n$ docker --version\nDocker version 18.03.1-ce, build 9ee9f40\n. For me this was due to the APP_CODE_PATH_HOST having a relative path to the docker-compose file (parent directory). After I updated it to use an absolute path, no more problems.\n. ",
    "pgvctoken": "Old thread but...   When this happens to me it is because Docker cannot access the Shared Drives.  I fix it by \nright clicking Docker, \nClick Settings, \nClick Shared Drives,\nUncheck C Drive, \nClick Apply, \nCheck C Drive, \nClick Apply,\nprovide credentials, \nbring up the container and workspace is populated.   Of course, I forget this every time and spend hours figuring it out again.  . ",
    "Crease29": "It isn't my fault that the checks have failed, right?. ",
    "perezale": "Nice trick! I applied this solution to install dusk deps (WORKSPACE_INSTALL_DUSK_DEPS=true)\nit installs a few related dependencies and apt-get update seems to solve the problem\nThanks!!. Hey, could you get this done? I'm trying to install it to the php-fpm container (as recommended for ffmpeg usage in general) but there a lot of guides using apk install or  add-apt-repository  which don't work with php-fpm base image.\nAlmost every install guide require external repository to be added. Any ideas on how to solve this situation?. @amirmasoud Can you share your solution? Thanks in advance!. ",
    "xiagw": "windows 10, same error,mark this.. ",
    "toaomatis": "I ran into the same issue this morning. \nUsing the docker-compose up -d workspace works. . ",
    "shane-scalable": "The documentation should be updated to show this as it literally says to run docker-compose up redis nginx then enter the workspace by running docker-compose exec workspace bash.. ",
    "fauzipadlaw": "Im sorry my bad. I just upgrade to v7.0.0 and forgot to change my .env \n. ",
    "nmihaica": "thanks @Dryr.. ",
    "liangshuocj": "Can you solve this problem?. ",
    "jarnix": "ok it's working now, must be something from another depo, closing the issue <3. ",
    "AnonymousArthur": "1 month passed, 0 reply. Is there anyone maintaining this project?. @Okipa Nope. But I hope there is.. @Okipa Thank you for the link!. ",
    "emperorjm": "I downloaded the latest version of Laradock and I still had the same problem. I had to downgrade docker to the previous version and it now works. Laradock is not working with the latest version of Docker.. ",
    "oozone": "This is a real issue, latest laradock doesn't work. ",
    "AndalusiaDev": "I have the same issue.\nIs there any news about it?. I solved this problem by:\n\nDisabling the firewall (in my case is necessary) or setting a rule\ngoing to \"Shared drives\" in docker settings \ndisabling then enabling the sharing again (C and E in my case) \nEnabling the firewall again\n. \n",
    "zch513430014": "The same problem happened!\nI changed Windows user password recently!\nThen there are not files at /var/www \nI try to restart workspace. or rebuild workspace but still not working!\nThen I going to Shared Drives and 'Reset credentials...'\nAnd reauthorized (E: D:)\nIt's working!!!. ",
    "qnox81": "I had situation exacly like @zch513430014.\nno files in workspace, rebuild and restarts doesnt worked. \nFIX: Shared Drives, reset credentials, reauthorize drives and its working. as workaround try downgrade node, f.e.\nnvm install 6.10.3. ",
    "zongmi": "Oh, yes, edit the.Env file NETWORKS_DRIVER=*.. Thank you. I found the same problem as me.\nThis is my current solution:\nHost path\nC:\\Users\\dc125\\.laradock\\data\nChange the. env Mongo configuration\n```\nDATA_PATH_HOST=~/.laradock/data \nChange to\nDATA_PATH_HOST=/Users/dc125/.laradock/data\n```\nThen start Mongo.\nIt may not be a good way, but it solved my problem.. Yes, my host system is wondowspYes, my host system is wondowsp. \uff1f\uff1f\uff1f. > chechk\u6587\u4ef6\u7cfb\u7edf\u6743\u9650\n\ndb\u6570\u636e\u4fdd\u5b58\u8def\u5f84\u5728.env\u4e2d\u5b9a\u4e49\n```\nChoose storage path on your machine. For all storage systems\nDATA_PATH_HOST=~/.laradock/data\n```\n\nThank you. I found the same problem as me.\n1663\nThis is my current solution:\nHost path\nC:\\Users\\dc125\\.laradock\\data\nChange the. env Mongo configuration\n```\nDATA_PATH_HOST=~/.laradock/data \nChange to\nDATA_PATH_HOST=/Users/dc125/.laradock/data\n``\nThen start Mongo.\nIt may not be a good way, but it solved my problem.. @Boltmerz \nShould be the actual path of mongoDB storage dataMONGO_DATA_PATH_HOST=/Users/dc125/.laradock/data`\n\n\n. @Boltmerz \nD:/resources-monitoring/database/\ndocker for windows need configuration Shared Drives.\n\nIf the. env configuration does not meet your requirements\nChange the docker file.. I'm sorry to reply to you so late.\ndocker-compose.yml. ",
    "thavoo": "ERROR: could not find plugin * in v1 plugin registry: plugin not found @zongmi . I solve modified file .env change NETWORKS_DRIVER=*. to NETWORKS_DRIVER=nat. my error: \nPS C:\\Users\\thavoo\\webapp\\laradock> docker-compose up -d nginx mysql\nBuilding mysql\nStep 1/9 : ARG MYSQL_VERSION=latest\nStep 2/9 : FROM mysql:${MYSQL_VERSION}\nlatest: Pulling from library/mysql\nERROR: Service 'mysql' failed to build: no matching manifest for unknown in the manifest list entries. I solved, configurate .env project... i'm change mysql 5.7.. ",
    "Shchepotin": "It makes sense.. I hope it final version:\n\nAdded installation OpenSSL and autogeneration \"default\" certificate.\nWas create volume for certificates.\n\nAdded SSL to sites config.. Fixed it #1879. @andreladocruz \n\n\nUncomment this lines in your configs for domain1.test and domain2.test\nhttps://github.com/laradock/laradock/blob/913abc54f9edde865a1d6de8a03b38098593ebfb/nginx/sites/laravel.conf.example#L7-L10\n\nStart/Restart containers.\nOpen https://domain1.test or https://domain2.test. Sorry for this, I'll fix it as soon as possible.. Yes, but not yet merged  #1879 . @ludo237 @matthijs-neijenhuijs @iamzhuyi for fix this issue add this line. @bestlong please, merge this.. \n",
    "ludo237": "This PR broke startup.sh on Windows 10 https://github.com/laradock/laradock/issues/1878. Why has been accepted ?\nWhy the key is INSTALL_YAML=false instead of the standard PHP_FPM_INSTALL_YAML \ud83d\ude15 \nPRs need more reviews tbh. Right now the only workaround is to \"disable\" the startup.sh script and change the CMD command inside nginx Dockerfile.\nBasically bring back this line\nBy doing so nginx will be up again. @Shchepotin shit happens dont' worry. @matthijs-neijenhuijs My current work around is the only solution until the merge is accepted. @junichimura it has been fixed already but the PR is still open somehow. You need to rebuild from scratch .... # How to fix this problem\nThere is literally a PR that fix this problem..... Can we please merge this? \ud83d\ude20 . I don't think it's your fault, there's no code review here \ud83d\ude15 . Apparently it has been fixed but no release has been made.. ",
    "andreladocruz": "@Shchepotin can you please help explaining how to enable Open SSL for development?\nMy laravel app responds to 2 different domains (domain1.test and domain2.test).\nDo you have the \"step by step\" process to enable both with HTTPS?. @Shchepotin , thanks for the kind and detailed reply. =)\nO got it working. . ",
    "MAJA-Lin": "Hi @bestlong \nI think I just get myself confused with my personal setting in docker-compose.yml\nBecause on my file, I put the following setting to mount the log file into laradock/logs folders\nvolumes:\n  - ${MYSQL_ENTRYPOINT_INITDB}:/docker-entrypoint-initdb.d\n  - ${MYSQL_LOG_PATH}:/var/log/mysql/\n\nAnd I forgot it when I tried to run another container.\nSo everything should be fine, thanks!\n. ",
    "ricardovigatti": "I'm facing a similar issue while using Laradock within my Jenkins testing process (Not the jenkins container from this package). There, Jenkins create the workspace and git pull my laravel app using the \"jenkins:jenkins\" user. Then I run git submodule add https://github.com/Laradock/laradock.git and that's my final workspace folder structure:\ndrwxr-xr-x 11 jenkins jenkins   4096 Oct  6 20:10 app\n-rw-r--r--  1 jenkins jenkins   1686 Oct  6 20:10 artisan\ndrwxr-xr-x  3 jenkins jenkins   4096 Oct  6 20:10 bootstrap\ndrwxr-xr-x  2 jenkins jenkins   4096 Oct  6 20:10 breadcrumbs\n-rw-r--r--  1 jenkins jenkins   3876 Oct  6 20:10 build.xml\n-rw-r--r--  1 jenkins jenkins   3326 Oct  6 20:10 composer.json\n-rw-r--r--  1 jenkins jenkins 281298 Oct  6 20:10 composer.lock\ndrwxr-xr-x  2 jenkins jenkins   4096 Oct  6 20:10 config\ndrwxr-xr-x  5 jenkins jenkins   4096 Oct  6 21:06 database\n-rw-r--r--  1 jenkins jenkins    761 Oct  7 18:57 Jenkinsfile\ndrwxr-xr-x 56 jenkins jenkins   4096 Oct  7 05:21 laradock\n-rw-r--r--  1 jenkins jenkins   1649 Oct  6 20:10 package.json\n-rw-r--r--  1 jenkins jenkins 484478 Oct  6 20:10 package-lock.json\n-rw-r--r--  1 jenkins jenkins    716 Oct  6 20:10 phpunit.dusk.xml\n-rw-r--r--  1 jenkins jenkins   1040 Oct  6 20:44 phpunit.xml\ndrwxr-xr-x  2 jenkins jenkins   4096 Oct  7 04:11 public\n-rw-r--r--  1 jenkins jenkins   1421 Oct  6 20:10 README.md\ndrwxr-xr-x  5 jenkins jenkins   4096 Oct  6 20:10 resources\ndrwxr-xr-x  2 jenkins jenkins   4096 Oct  6 20:10 routes\n-rw-r--r--  1 jenkins jenkins    563 Oct  6 20:10 server.php\ndrwxr-xr-x  5 jenkins jenkins   4096 Oct  6 20:10 storage\ndrwxr-xr-x  5 jenkins jenkins   4096 Oct  6 20:10 tests\n-rw-r--r--  1 jenkins jenkins   3299 Oct  6 20:10 webpack.mix.js\nSo far, so good.\nDuring the process, i run docker-compose exec workspace bash and try install composer. Now my \"vendor\" folder is owned by \"root:root\". And i don't want this.\nIf i try set the user with docker-compose exec -u laradock workspace bash before composer install, then this message appears:\n[RuntimeException]                                        \n  /var/www/vendor does not exist and could not be created.\nFurthermore, if i run the process as root, jenkins is unable to remove the vendor folder at the end of build.. ",
    "cyberbit": "I'm having the same problem with INSTALL_SOAP:\n```\nErr:1 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-soap amd64 7.2.4-1+ubuntu16.04.1+deb.sury.org+1\n  404  Not Found\nE: Failed to fetch http://ppa.launchpad.net/ondrej/php/ubuntu/pool/main/p/php7.2/php7.2-soap_7.2.4-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb  404  Not Found\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nERROR: Service 'workspace' failed to build: The command '/bin/sh -c if [ ${INSTALL_SOAP} = true ]; then   apt-get -y install libxml2-dev php${PHP_VERSION}-soap ;fi' returned a non-zero code: 100\n```\nEDIT: Of note, the problem commit appears to be 101986c: merge the php versions dockerfiles in php-fpm, workspace and php-worker. @mariwing Unfortunately the only solution for me was to downgrade my entire (multi-project) Laradock instance. I tried to do it in place but that took many hours of slowly tweaking configuration files and rebuilding containers before it worked.\nHonestly it's probably quicker to re-clone the repository from a previous point in history, clear the data cache, and add back the sites. The commit that I reverted to is 188a7d7. After a re-build of all the containers I was able to get the packages working correctly.\nIf you have a multi-project instance, you should only have to do this once. If you have multiple projects with this problem but you are using single-project Laradock instances, I would start the pot of coffee now. \ud83d\ude1c . @Sogl Can you add a PR for this? Just ran into this exact issue :). ",
    "mariwing": "The site where the package is updated from don't have version 7.2.4 anymore, only 7.2.5. I am a docker (and Linux) newbie; anyone care to share where this url is coming from? Is it something I could update somewhere in the docker files I have locally?. ",
    "philipptempel": "What appears to be happening here is that there are a few apt-get install commands for several packages are called while the local package repo is out of sync with the remote. In an interactive environment, this would be seen by the user and an appropriate apt-get update would be run. However, the Dockerfile does not contain any package repo update commands, as such the current layer has a different package repo list than the remote. This is in general the \"problem\" with dockers layers as they will be re-used if their command didn't change (something I, too, had to learn the hard way).\nWhat seems to be resolving the issue is to call apt-get update -yqq before any apt-get install within the Dockerfiles in question (I did this in workspace/Dockerfile and php-fpm/Dockerfile for the sake of testing with PHP 7.1).\nHowever, I cannot confirm these are the only places changes need to be made, but it's a start (that's why I'm not creating a PR).. ",
    "napogf": "Great! modifyng workspace/Dockerfile and running apt-get update -yqq container will build without problems.. ",
    "dimsamaras": "Try this:\nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ]; then \\\n    # Install the xdebug extension\n    # NECESSARILLY LOCK THE VERSION!!!\n    pecl install xdebug-2.5.5 && \\\n    docker-php-ext-enable xdebug \\\n;fi\nYet xdebug breaks when going over some static variable, known issue\nThis Dockerfile would work though: it uses an older Laradock image (quoting parts of it):\nFROM laradock/php-fpm:2.0-56\nand \nARG INSTALL_XDEBUG=false\nRUN if [ ${INSTALL_XDEBUG} = true ]; then \\\n    apt-get install -y php5-xdebug && \\\n    echo \"zend_extension=/usr/lib/php5/20131226/xdebug.so\" > /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n;fi. The ENV needs to be reset due to the --user param in this line: pip install awscli --upgrade --user\nRemoving installs the awscli globally in the container.\nIt is a naive workaround since the ENV is not yet set!. ",
    "crcms": "@fanly I also encountered the same problem. Did you solve it?. ",
    "vortgo": "Any progress?. ",
    "j1yak": "there is a problem in docker-compose.yml\nthe correct volume to cerbot is:\n./certbot/letsencrypt/:/var/www/letsencrypt\n. ",
    "randomcatgamer": "Am experiencing the same issue. Restarting docker seems to be a good workaround. ",
    "alexkb": "I'm using laradock as of ad316bab50e but the workspace/Dockerfile no longer mentions updating the bashrc file for either root or laradock. Also, it only seems to install it for root:\nhttps://github.com/laradock/laradock/blob/master/workspace/Dockerfile#L495\n. ",
    "jp-sauve": "I also just got this error while doing npm install in workspace, using laradock user (if that matters!). I was following this guide on a new install.\n```\nmozjpeg@5.0.0 postinstall /var/www/node_modules/mozjpeg\nnode lib/install.js\n\u26a0 The '/var/www/node_modules/mozjpeg/vendor/cjpeg' binary doesn't seem to work correctly\n  \u26a0 mozjpeg pre-build test failed\n  \u2139 compiling from source\n  \u2716 Error: autoreconf -fiv && ./configure --disable-shared --disable-dependency-tracking --with-jpeg8  --prefix=\"/var/www/node_modules/mozjpeg/vendor\" --bindir=\"/var/www/node_modules/mozjpeg/vendor\" --libdir=\"/var/www/node_modules/mozjpeg/vendor\" && make -j2 && make install -j2\nCommand failed: ./configure --disable-shared --disable-dependency-tracking --with-jpeg8  --prefix=\"/var/www/node_modules/mozjpeg/vendor\" --bindir=\"/var/www/node_modules/mozjpeg/vendor\" --libdir=\"/var/www/node_modules/mozjpeg/vendor\"\nconfigure: error: no nasm (Netwide Assembler) found\nat ChildProcess.exithandler (child_process.js:282:12)\nat ChildProcess.emit (events.js:182:13)\nat maybeClose (internal/child_process.js:957:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:246:5)\n\n```. ",
    "jhomephper": "Annotate it out, haha. ",
    "elinxer": "git checkout -b v6.0.1 v6.0.1 is right, but master not fixed~. ",
    "zealerFT": "@ikingye fix the issues because WORKSPACE_INSTALL_IMAGEMAGICK=false\nis not the real reason!!!!!!. ",
    "solonik1": "@buddisattva thx. ",
    "andrekutianski": "use on param WORKSPACE_NODE_VERSION the value v8.12.0 (or another that you need). Works for me. ",
    "Rahulsharma0810": "Try this\n```\nCaddy Server\ncaddy:\n  build: ./caddy\n  volumes:\n    - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}\n    - ${CADDY_CUSTOM_CADDYFILE}:/etc/Caddyfile\n    - ${CADDY_HOST_LOG_PATH}:/var/log/caddy\n    - ${DATA_PATH_HOST}:/root/.caddy\n  stdin_open: true\n  tty: true\n  ports:\n    - \"${CADDY_HOST_HTTP_PORT}:80\"\n    - \"${CADDY_HOST_HTTPS_PORT}:443\"\n  depends_on:\n    - php-fpm\n  networks:\n    - frontend\n    - backend\n\n```. ",
    "DIEGOBUSTOS11": "ISSUE:\nfriend, you could solve the mistake?\nStarting laradock_caddy_1\nAttaching to laradock_caddy_1\ncaddy_1                | http plugins loaded: git, cors\ncaddy_1                | Activating privacy features...\ncaddy_1                |\ncaddy_1                | Your sites will be served over HTTPS automatically using Let's Encrypt.\ncaddy_1                | By continuing, you agree to the Let's Encrypt Subscriber Agreement at:\ncaddy_1                |   https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\ncaddy_1                | Do you agree to the terms? (y/n): 2018/05/28 19:21:32 user must agree to CA terms (use -agree flag)\nlaradock_caddy_1 exited with code 1\n. ",
    "afzandev": "how did you solve the issue?. @shouhuori . ",
    "JohnatanT": "Inside Laradock:\ndocker-compose exec workspace bash\nWhen running this command you may notice that the terminal will change to something like this (it is inside the workspace container):\nroot@f59a0bd8d58b:/var/www/\nHere you have access to a terminal to run UNIX commands, such as: ls, mkdir, touch e etc.\nRotate the ls command to see the files in this directory. When you run it you will notice that you are accessing the previous level to the laradock / files, you can even see the laradock folder.\nNow that we are accessing the terminal with container workspace we can install PHPUnit. Make sure the composer command is working successfully:\nComposer\nNow install PHPUnit normally via composer, or other dependencies of your project.\nRemember that your /var/www/ container file is synchronized with one level above the Laradock folder.\n. \nI'm using Laradock just for one application.\nMy Folder Structure:\n/Folder\n ------- / Laradock\n-------- / App_Larave. My steps:\n1.git clone https://github.com/Laradock/laradock.git laradock\n2.cd laradock\n3.cp env-example .env\n4.docker-compose up -d nginx mysql\nRecreating laradock_mysql_1     ... done\nRecreating laradock_workspace_1 ... done\nRecreating laradock_php-fpm_1   ... done\nRecreating laradock_nginx_1     ... done\nAccessed: localhost\nResult: \n404 Not Found\nnginx. ",
    "vkislichenko": "I have same error on Ubuntu 16.04\n```\n$ sudo lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.3 LTS\nRelease:    16.04\nCodename:   xenial\n$ docker --version\nDocker version 17.03.2-ce, build f5ec1e2\n$ cat .env | grep PHP_VERSION\nPHP_VERSION=7.2\n$ docker-compose up -d nginx\nBuilding workspace\nStep 1/164 : ARG PHP_VERSION=${PHP_VERSION}\nERROR: Service 'workspace' failed to build: Please provide a source image with from prior to commit\n```. ",
    "ddiegosr": "I later discovered that the problem was not in Laradock, but in Docker itself that was not able to resolve the registry-1.docker.io address, and I was able to resolve it by adding DNS 8.8.8.8 in the resolv.conf file (in my case use Linux).. ",
    "hubertnnn": "Nginx might be dead.\nCould you run this 2 commands:\ndocker-compose ps\ndocker-compose logs nginx\nIf the first one on column \"State\" have something else than UP then share log from second command here.. ",
    "almonax": "Hi guys\nI had this problem. And this solution helped me: https://github.com/laradock/laradock/issues/86#issuecomment-264181045. ",
    "alep84": "Same for me:\nsh\n$ docker-compose logs\nAttaching to laradock_mysql_1\nmysql_1                |\nmysql_1                | ERROR: mysqld failed while attempting to check config\nmysql_1                | command was: \"mysqld --verbose --help\"\nmysql_1                |\nmysql_1                | 2018-06-08T11:51:38.421296Z 0 [Warning] [MY-011070] [Server] 'Disabling symbolic links using --skip-symbolic-links (or equivalent) is the default. Consider not using this option as it' is deprecated and will be removed in a future release.\nmysql_1                | 2018-06-08T11:51:38.421357Z 0 [ERROR] [MY-011071] [Server] /usr/sbin/mysqld: Error while setting value 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' to 'sql_mode'\nmysql_1                | 2018-06-08T11:51:38.423037Z 0 [ERROR] [MY-010119] [Server] Aborting. ",
    "mrzhouxiaofei": "Well done, it works, thanks a lot!. ",
    "khs1994": "Please update your docker-compose !. ",
    "zouchunxu": "edit workspace/Dockerfile ,PHP REDIS EXTENSION:\nARG INSTALL_PHPREDIS=false\nARG PHP_VERSION=${PHP_VERSION}\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis extension\n    printf \"\\n\" | pecl -q install redis && \\\n    echo \"extension=redis.so\" >> /etc/php/${PHP_VERSION}/mods-available/redis.ini && \\\n    phpenmod redis \\\n;fi. ",
    "eskrano": "Problem solved by using VPN server. Fuck my internet provider with his custom error pages. . Solved. \napt update\napt install whois. > docker-compose build --no-cache php-fpm workspace\n\n\n. Restart full docker and it works.. ",
    "collierscott": "Info:\n\nDocker version ($ docker --version): Docker version 18.03.1-ce, build 9ee9f40\nLaradock commit ($ git rev-parse HEAD): 66c61d9a72ea52ab04ddb1999b0998f7ba10a0e4\nSystem info (Mac, PC, Linux): PC\nSystem info disto/version: Windows 10\n\n\nIssue:\nWhen using Git, the prompt does not display information that may be useful to the user, (current branch, uncommitted changes, etc.)\n\nExpected behavior:\nWhen using Git, the prompt should display information that may be useful to the user, (current branch, uncommitted changes, etc.)\n\nReproduce:\nGo into a folder that is using Git.\n\nRelevant Code:\nThe workspace DockerFile.\n```\n\nInstall Git prompt for informative git prompts\nhttps://github.com/magicmonty/bash-git-prompt\n\nRUN git clone https://github.com/magicmonty/bash-git-prompt.git ~/.bash-git-prompt --depth=1\nRUN echo \"GIT_PROMPT_ONLY_IN_REPO=1\" >> ~/.bashrc && \\\n    echo \"GIT_PROMPT_FETCH_REMOTE_STATUS=0\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_IGNORE_SUBMODULES=1 # uncomment to avoid searching for changed files in submodules\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_SHOW_UPSTREAM=1 # uncomment to show upstream tracking branch\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_SHOW_UNTRACKED_FILES=all # can be no, normal or all; determines counting of untracked files\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_SHOW_CHANGED_FILES_COUNT=0 # uncomment to avoid printing the number of changed files\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_STATUS_COMMAND=gitstatus_pre-1.7.10.sh # uncomment to support Git older than 1.7.10\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_START=...    # uncomment for custom prompt start sequence\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_END=...      # uncomment for custom prompt end sequence\" >> ~/.bashrc && \\\n    echo \"# as last entry source the gitprompt script\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_THEME=Custom # use custom theme specified in file GIT_PROMPT_THEME_FILE (default ~/.git-prompt-colors.sh)\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_THEME_FILE=~/.git-prompt-colors.sh\" >> ~/.bashrc && \\\n    echo \"# GIT_PROMPT_THEME=Solarized # use theme optimized for solarized color scheme\" >> ~/.bashrc && \\\n    echo \"source ~/.bash-git-prompt/gitprompt.sh\" >> ~/.bashrc && \\\n    echo \"\" >> ~/.bashrc\n```\n. ",
    "alcir-junior-caju": "I had tried it that way, but the same error persists.\nToday I access via ssh, and still can not resolve.. I already access via root see:\nssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -p 2222 -i workspace/insecure_id_rsa root@localhost. After much research I found a solution, I do not know if the best one is working.\nInstalling and configuring python 2.7:\napt-get update -yqq && apt-get install -y python2.7\nnpm config set python /usr/bin/python2.7\nSolving the permissions problem:\nnpm config set user 0\nnpm config set unsafe-perm true. ",
    "wietsewarendorff": "Same set of permissions problem here, and npm config set user 0 also did the trick for me.. ",
    "charlesBochet": "Hope it helps: \nhttp://www.compulsivecoders.com/tech/laradock-how-to-fix-permission-denied-issue/. ",
    "wangjstu": "try update laradock to lastest And update Docker to lastest. ",
    "tommym9": "I'll give the upgrade a go and report back. ",
    "vlauciani": "Ok, found a solution.\nphp-fpm docker share the /var/www with workspace docker and the user www-data is user that execute the command. Then:\n$ docker-compose exec --user=laradock workspace bash\n$ mkdir .ssh\n$ chmod 700 .ssh\n$ echo \"$SSH_PRIVATE_KEY\" > .ssh/id_rsa\nthe user laradock under workspace docker is the user www-data under php-fpm.. Hi @godbout \nI solved by installing in the php-fpm and workspace container, the sshpass software:\ndocker-compose exec -T php-fpm bash -c 'apt-get update -yqq && apt-get install -yqq sshpass'\ndocker-compose exec -T workspace bash -c 'apt-get update -yqq && apt-get install -yqq sshpass'\nafter that, in my Laravel Model I've used this command:\n$command = \"sshpass -p '<password>' ssh -o StrictHostKeyChecking=no <user>@<host> './myScript.sh'\";\n$process = new Process($command);\n$process->run();\nwith sshpass the PRIVATE SSH KEY is not used.\nNOTE: if you destroy the containers (docker-compose down) you must re-install sshpass again on a new containers (docker-compose up -d).\n@vlauciani . You have to understand \"which\" container and \"which\" user are running you process; I noticed different result from different system.\nOne time my script was run from \"php-fpm\" with user \"www\" another time from \"workspace\" with user \"root\"; It depend from host system (In my case MAC or Linux). \nI do not understand why but this is why I've installed sshpass in the workspace and php-fpm container.\nTry to run, in the Controller a command like whoami && hostname && pwd and check who are you and which user run the command.. is there a problem with this PR?\nLook here:\n- https://github.com/laradock/laradock/issues/1889. Looking last commit:\n- https://github.com/laradock/laradock/pull/1875/commits/aecea0262778fa7f7e26081030cb228213566676\nchanging the line:\n- https://github.com/laradock/laradock/blob/master/workspace/Dockerfile#L897\nfrom:\nUSER laradock\nto:\nUSER root\nit works again:\n$ docker-compose up workspace\nCreating network \"laradockdante_default\" with the default driver\nCreating network \"laradockdante_frontend\" with driver \"bridge\"\nCreating network \"laradockdante_backend\" with driver \"bridge\"\nCreating laradockdante_docker-in-docker_1 ...\nCreating laradockdante_docker-in-docker_1 ... done\nCreating laradockdante_workspace_1 ...\nCreating laradockdante_workspace_1 ... done\nAttaching to laradockdante_workspace_1\nworkspace_1            | *** Running /etc/my_init.d/00_regen_ssh_host_keys.sh...\nworkspace_1            | *** Running /etc/my_init.d/10_syslog-ng.init...\nworkspace_1            | Nov 22 13:25:41 c419f66c3184 syslog-ng[10]: syslog-ng starting up; version='3.5.6'\nworkspace_1            | Nov 22 13:25:41 c419f66c3184 syslog-ng[10]: WARNING: you are using the pipe driver, underlying file is not a FIFO, it should be used by file(); filename='/dev/stdout'\nworkspace_1            | Nov 22 13:25:42 c419f66c3184 syslog-ng[10]: EOF on control channel, closing connection;\nworkspace_1            | *** Running /etc/rc.local...\nworkspace_1            | *** Booting runit daemon...\nworkspace_1            | *** Runit started as PID 16\nworkspace_1            | Nov 22 13:25:42 c419f66c3184 cron[19]: (CRON) INFO (pidfile fd = 3)\nworkspace_1            | Nov 22 13:25:42 c419f66c3184 cron[19]: (CRON) INFO (Running @reboot jobs)\nworkspace_1            | Nov 22 13:26:01 c419f66c3184 CRON[21]: (laradock) CMD (/usr/bin/php /var/www/artisan schedule:run >> /dev/null 2>&1)\nshould the commit be reverted?. The solution 2. is preferred for me.... ",
    "weedsks": "I also get it, can master fixed it?. ",
    "samoldenburg": "A few things I found from similar discussions in other packages\nRunning the following in the php-fpm container gets me at least started for now.\n$ apt-get update\n$ apt-get -y install wget\n$ apt-get -y install dialog\n$ wget http://security.debian.org/debian-security/pool/updates/main/o/openssl/libssl1.0.0_1.0.1t-1+deb8u8_amd64.deb\n$ dpkg -i libssl1.0.0_1.0.1t-1+deb8u8_amd64.deb\nReplace the package with your relevant architecture if not amd64 of course.\nNot sure how this could be addressed (or if it even should be addressed) in laradock. I had trouble getting apt-get to install libssl1.0.0.... I'm going to close this issue for this reason - I narrowed it down to an issue on my computer where files were not being copied to docker containers. My config files are simply not present in the nginx container, and my laravel application is not present in the workspace container. I therefore believe this to be an issue with my set up and not a package issue.. ",
    "antonyharfield": "I can confirm the problem. It appears that libmsodbcsql is particular about wanting lib1.0.0 installed. On php-fpm we have 1.1 and 1.0.2 only: \nshell\nroot@effadf3a9b03:/var/www# ldconfig -p | grep libssl \n    libssl.so.1.1 (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libssl.so.1.1\n    libssl.so.1.0.2 (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libssl.so.1.0.2\nI suspect that workspace is ok, as it has 1.0.0:\nshell\nroot@13b47c79e61a:/var/www# ldconfig -p | grep libssl\n    libssl.so.1.1 (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libssl.so.1.1\n    libssl.so.1.0.0 (libc6,x86-64) => /lib/x86_64-linux-gnu/libssl.so.1.0.0\n    libssl.so (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libssl.so. ",
    "gamevnlc": "it worked thanks . ",
    "mquellhorst": "@bestlong This does not seem to help. I still get the same error. Any other ideas?. I just found the solution.\nApparently it's a thing with Docker on mac.\nhttps://github.com/docker/for-mac/issues/1396. ",
    "atmar": "Exact same issue & environment here. ",
    "mishbah": "I have the same issue..\n(my server using ubuntu). ",
    "silvioiannone": "Sorry, but that didn't solve the issue (which is related to Nginx not Postgres).\nI removed all the containers and all the images but the issue presented itself again.. Sorry, I don't have access anymore to the machine where this issue was encountered.. ",
    "kohlerdominik": "I have the same error.\n@bestlong there is no more output in logs than\nnginx_1 | nginx: [emerg] open() \"/var/log/nginx/error.log\" failed (2: No such file or directory)\nHowever,  nginx -t in the container tells me:\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: [emerg] open() \"/var/log/nginx/error.log\" failed (2: No such file or directory)\nnginx: configuration file /etc/nginx/nginx.conf test failed\nso i tried different steps to reproduce, and my conclusion is:\n- If git clone is executed in WSL, this happens\n- If git clone is executed in git bash for windows, all is fine.\nThe interessting thing, it's only nginx that fails, all other of my containers (php-fpm, workspace, pgadmin, postgres, redis) worked fine.\nIdeas to fix this are welcome, i'll try it out. For now, i pulled laradock with Windows and it's working.\n . Current workaround for this: Clone with git for windows. You need to have installed git on your Windows host. All other works then can be done in WSL.\nOpen WSL. Change to repo directory\ncd /your/repo/dir\nStart Windows command line (cmd in wsl)\ncmd.exe\nFix line endings, if you want to work with LF (unix line ending)\ngit config --global core.autocrlf false\ngit config --global core.eol lf\nThen, clone your repo\ngit clone https://github.com/Laradock/laradock.git\nor\ngit clone --recurse-submodules https://bitbucket.org/you/your-repo.git\nFinally, exit cmd and you can work on as usual\nexit. Update on this:\nIt seems like clone-directory must be created on windows (for example in cmd.exe), otherwise nginx fails at start with this error. I have no time for further testing right now, but i will catch up when i find some time.. @DenzoNL  I'm still not sure, why exactly this error occurs. I suspect some path problems right now. \nHowever, on my environment, it works well this way. Did you try to work with PowerShell/cmd only? Clone (in directory-path completely created in windows), and docker-compose up -d in PowerShell worked always well for me.\nMaybe one thing you want to try, if you didn\u2019t do already, is to set host path of windows drives to /. Without that entry, docker had issues to determine correct path for me. Simple open /etc/wsl.conf (in WSL-console) with a text editor, and make sure, this entry matches your config:\n[automount]\nroot = /\nDefault entry is root = /mnt/.\n. @Yiidiir Yes absolutely. I worked like this for months now.. ",
    "mean-cj": "@kohlerdominik your solution have been work\ninstall git on windows and git clone on cmd.\n. Hello @jvihrial \nyour solution doesn't work.\nplease check data on /USER/.laradock/data not have sync.\nmongo on windows you can use bind volume.\nMongoDB\nmongo:\n      build: ./mongo\n      ports:\n        - \"${MONGODB_PORT}:27017\"\n      volumes:\n        - mongodb_data:/data/db\n      networks:\n        - backend\nvolumes:\n  mongodb_data:\n    driver: local\n. ",
    "Yiidiir": "@kohlerdominik Thanks for the helpful explanation! Do you have a reference saying it's safe to continue work on WSL after clone?. ",
    "Omranic": "Duplicate #1548. ",
    "amayer5125": "Is your laradock folder inside your project folder on the host machine?. I have never set up laradock like that. Did you follow the directions here?. If you start the containers without the -d flag do you get any helpful output? docker-compose up workspace. Which container were you trying to run when you got this error?. Can you squash (rebase -i) these commits? And add a commit message with more info. This should really just be one commit.\nExample:\n```\nAdd Web Based IDEs\nTheia\nWebIDE\nCodaid\nIceCoder\n``. You should usedocker-compose execnotdocker-compose run`.. The correct ssh folder permissions are 700 for ~/.ssh and 600 for files inside that folder. I added a pull request before I saw this one.. ",
    "LaJun": "@bestlong \nI follow what you said\uff0c first i  run \n docker pull  mysql:latest\n then\n docker-compose up -d apache2 mysql phpmyadmin redis rabbitmq mongo workspace\n still exist this error ;\nif i remove Arg in mysql dockerfile then make this version argument to be latest, another error turns up\nlike below\nRemoving intermediate container 00ab5e91049c\nERROR: Service 'mysql' failed to build: One or more build-args [MYSQL_VERSION] were not consumed, failing build. \nby the way, i dont know the workspace image function \nwe  are chinese, i think we can chat with QQ, whats your QQ number  mine is 1361683946. @bestlong when i use the deepin linux system to compose up, it works well ,why?. hi\uff0c@bestlong its should be network problem\uff0ci try install Again\uff0csuccessful\uff0cbut when curl localhost\uff0cnot found error\uff0ci set the param apppath  \u201c../wwwroot\u201dthen add a index.html file to this path\uff0cstill this error\uff0cnginx configure wrong or other problems\uff1fbut nginx configure never changed. sorry, i think i should search the soluation for the question seriously.  rabbitmq client should connect the rabbitmq server virtual ip in docker container not local host ip, use  docker inspect laradock_rabbitmq_1 to see that.",
    "Irving-yang": "\n1.) download the extension from http://pecl.php.net/packages.php\n2.) there you get an .tgz file\n3.) install the file:\nedit file: php-fpm/Dockerfile\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    printf \"\\n\" | pecl install -o -f redis \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nreplace to\nRUN if [ ${INSTALL_PHPREDIS} = true ]; then \\\n    # Install Php Redis Extension\n    # printf \"\\n\" | pecl install -o -f redis \\\n    printf \"\\n\" | curl 'http://pecl.php.net/get/redis-4.1.1.tgz' -o redis-4.1.1.tgz \\\n    && pecl install redis-4.1.1.tgz \\\n    &&  rm -rf redis-4.1.1.tgz \\\n    &&  rm -rf /tmp/pear \\\n    &&  docker-php-ext-enable redis \\\n;fi\nhappy to rebuild\nhave this error:\n/bin/sh: 1: docker-php-ext-enable: not found. \n",
    "rejidan": "try using vpn during installation, because in some cases the network can't access pecl.php.net. ",
    "batagliao": "Jey @jvihrial did you get anywhere with this issue? It seems like a mongodb issue with NTFS. Did you find any solution?. ",
    "jvihrial": "@batagliao well, I can post my solution:\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex 91e62b7..36aafb0 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -387,8 +387,8 @@ services:\n       build: ./mongo\n       ports:\n         - \"${MONGODB_PORT}:27017\"\n-      volumes:\n-        - ${DATA_PATH_HOST}/mongo:/data/db\n+      volumes:\n+        - \"/${USER}/${MONGO_SAVE_PATH}:/data/db\"\n       networks:\n         - backend\nand in .env:\nMONGO_SAVE_PATH=.laradock/data\nUSER=username-in-host. ",
    "llioor": "+1\nI have the same error:\n2019-01-06T10:55:30.495+0000 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=478M,session_max=20000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),statistics_log=(wait=0),verbose=(recovery_progress),\n2019-01-06T10:55:30.932+0000 E STORAGE  [initandlisten] WiredTiger error (17) [1546772130:932937][1:0x7f2f220d8a40], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists Raw: [1546772130:932937][1:0x7f2f220d8a40], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists\n2019-01-06T10:55:30.935+0000 I STORAGE  [initandlisten] WiredTiger message unexpected file WiredTiger.wt found, renamed to WiredTiger.wt.9\n2019-01-06T10:55:30.936+0000 E STORAGE  [initandlisten] WiredTiger error (1) [1546772130:936439][1:0x7f2f220d8a40], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted Raw: [1546772130:936439][1:0x7f2f220d8a40], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted\nmongo:\n      build: ./mongo\n      ports:\n        - \"${MONGODB_PORT}:27017\"\n      volumes:\n        - ${DATA_PATH_HOST}/mongo:/data/db\n      networks:\n        - backend\n. @Denis00211  and @zuohuadong ... can u please advice...? \nPlease check the print screens:\n\n\n\n. @ezra-obiwale Hi Ezra... I'll be happy to help you.\n1. I'm working with react and not Vue.. I don't think it matters.\n2. I can access the dev server from localhost:3300 (as u see I changed the port in the webpack \"devserver\" setting because I'm running another container which listen to port 3000).\n3. Hotreload works!\nBasically u need to change in the \"devServer\" setting this:\n1. port: 3300\n2. host: 0.0.0.0\n3. Then in the docker-compose.yml file I added this line under the workspace section:\nports:\n        - \"${WORKSPACE_SSH_PORT}:22\"\n        - \"3300:3300\"\n4. Then I re-build the workspace \n5. Then run the sever and go to http://localhost:3300\n. ",
    "bogardt": "\n+ 1 \n\nI have the same error too:\nLogs\n/~ -> docker-compose up\nPulling mongo (mongo:4.0.3)...\n4.0.3: Pulling from library/mongo\n18d680d61657: Pull complete\n0addb6fece63: Pull complete\n78e58219b215: Pull complete\neb6959a66df2: Pull complete\n1bb66a4db707: Pull complete\nb18fa018e44b: Pull complete\n5d0142bcb0df: Pull complete\ndb65733de31a: Pull complete\n867fe12df2c5: Pull complete\n658da3d983f5: Pull complete\nfc5dc5157057: Pull complete\nd39407c4ddb7: Pull complete\ned6877ef9a9b: Pull complete\nCreating mongo ... done\nCreating webapi ... done\nAttaching to mongo, webapi\nmongo     | 2019-02-05T16:37:33.297+0000 I CONTROL  [main] Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] MongoDB starting : pid=1 port=27017 dbpath=/data/db 64-bit host=linuxkit-00155d467d01\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] db version v4.0.3\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] git version: 7ea530946fa7880364d88c8d8b6026bbc9ffa48c\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] OpenSSL version: OpenSSL 1.0.2g  1 Mar 2016\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] allocator: tcmalloc\nmongo     | 2019-02-05T16:37:33.302+0000 I CONTROL  [initandlisten] modules: none\nmongo     | 2019-02-05T16:37:33.303+0000 I CONTROL  [initandlisten] build environment:\nmongo     | 2019-02-05T16:37:33.303+0000 I CONTROL  [initandlisten]     distmod: ubuntu1604\nmongo     | 2019-02-05T16:37:33.303+0000 I CONTROL  [initandlisten]     distarch: x86_64\nmongo     | 2019-02-05T16:37:33.303+0000 I CONTROL  [initandlisten]     target_arch: x86_64\nmongo     | 2019-02-05T16:37:33.303+0000 I CONTROL  [initandlisten] options: { net: { bindIpAll: true } }\nmongo     | 2019-02-05T16:37:33.312+0000 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=478M,session_max=20000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),statistics_log=(wait=0),verbose=(recovery_progress),\nwebapi    | standard_init_linux.go:207: exec user process caused \"no such file or directory\"\nmongo     | 2019-02-05T16:37:33.781+0000 E STORAGE  [initandlisten] WiredTiger error (1) [1549384653:781234][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted Raw: [1549384653:781234][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted\nmongo     | 2019-02-05T16:37:33.791+0000 E STORAGE  [initandlisten] WiredTiger error (17) [1549384653:791945][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists Raw: [1549384653:791945][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists\nmongo     | 2019-02-05T16:37:33.796+0000 I STORAGE  [initandlisten] WiredTiger message unexpected file WiredTiger.wt found, renamed to WiredTiger.wt.1\nmongo     | 2019-02-05T16:37:33.798+0000 E STORAGE  [initandlisten] WiredTiger error (1) [1549384653:798800][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted Raw: [1549384653:798800][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted\nmongo     | 2019-02-05T16:37:33.808+0000 E STORAGE  [initandlisten] WiredTiger error (17) [1549384653:808039][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists Raw: [1549384653:808039][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: File exists\nmongo     | 2019-02-05T16:37:33.817+0000 I STORAGE  [initandlisten] WiredTiger message unexpected file WiredTiger.wt found, renamed to WiredTiger.wt.2\nmongo     | 2019-02-05T16:37:33.820+0000 E STORAGE  [initandlisten] WiredTiger error (1) [1549384653:820013][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted Raw: [1549384653:820013][1:0x7fb5688b3a00], connection: __posix_open_file, 715: /data/db/WiredTiger.wt: handle-open: open: Operation not permitted\nmongo     | 2019-02-05T16:37:33.821+0000 W STORAGE  [initandlisten] Failed to start up WiredTiger under any compatibility version.\nmongo     | 2019-02-05T16:37:33.821+0000 F STORAGE  [initandlisten] Reason: 1: Operation not permitted\nmongo     | 2019-02-05T16:37:33.821+0000 F -        [initandlisten] Fatal Assertion 28595 at src/mongo/db/storage/wiredtiger/wiredtiger_kv_engine.cpp 645\nmongo     | 2019-02-05T16:37:33.821+0000 F -        [initandlisten]\nmongo     |\nmongo     | ***aborting after fassert() failure\nmongo     |\nmongo     |\nmongo exited with code 14\nwebapi exited with code 1\nDocker-compose\n```\nversion: \"2\"\nservices:\n  webapi:\n    container_name: webapi\n    restart: always\n    build: ./\n    depends_on:\n      - \"mongo\"\n    ports:\n      - \"4000:4000\"\n    volumes:\n      - ./:/usr/src/webapi\n    network_mode: host\nmongo:\n    container_name: mongo\n    image: mongo:4.0.3\n    volumes:\n      - ./mongo_data:/data/db\n    ports:\n      - \"27017:27017\"\n    network_mode: host\n```. ",
    "jaskiratr": "I rely on external docker volumes \n```\n(Run once) Create a external named volume for MongoDB\ndocker volume create mongodbdata\n```\ndocker-compose.yaml\n```yaml\nversion: \"3\"\nservices:\n  database:\n    image: mongo\n    ports:\n      - 27017:27017\n    volumes:\n      - \"mongodbdata:/data/db\"\n    command: mongod --smallfiles --logpath=/dev/null\nvolumes:\n  mongodbdata:\n    external: true\n```. ",
    "Boltmerz": "Hi all, Im having the same problem.\nThe .env folder value is\nMONGO_SAVE_PATH=./database/db\nThe DB docker file:\nFROM mongo:latest\nVOLUME [\"/data/db\"]\nWORKDIR /data\nEXPOSE 27017\nCMD [\"mongod\"]\nThe docker-compose.yml\n    build: ./database\n    ports: \n      - 32815:27017\n    volumes:\n      - ./database/db:/data/db. @zongmi\nHi, can you please help me. im stuck at the same issue.\nI have changed the .env path from:\nMONGO_SAVE_PATH=./database/db\nto \nMONGO_SAVE_PATH=/Users/boltmerz/database/db\nBut I still get the same error. can you please help me?. > @Boltmerz\n\nShould be the actual path of mongoDB storage data\nMONGO_DATA_PATH_HOST=/Users/dc125/.laradock/data\n\n\n\nSo if the  mongod.lock & WiredTiger files are under D:\\my-project\\database\\db\nthe .env path MONGO_SAVE_PATH will be like /D/monitoring/database/ ?\nShould I make this change in the docker file as well?. @zongmi  do you mean the database docker file? Or the docker-docker-compose file?. @zongmi  Thank you for your reply. Unfortunately it didn't work. \ncan you give an example of your docker-compose.yml so I can compare the DB container structure to mine?. ",
    "knnhcn": "Have you tried https://github.com/laradock/laradock/issues/1392#issuecomment-368308494 ?. For me, actually running artisan commands inside the workspace container solved the same problem I had. Check out http://laradock.io/documentation/#run-artisan-commands\nEDIT:\nAnd adding following code at the end of config/database.php, afert 'engine':\n'modes'  => [\n                'ONLY_FULL_GROUP_BY',\n                'STRICT_TRANS_TABLES',\n                'NO_ZERO_IN_DATE',\n                'NO_ZERO_DATE',\n                'ERROR_FOR_DIVISION_BY_ZERO',\n                'NO_ENGINE_SUBSTITUTION',\n            ],. ",
    "exodus244": "work for me. [problem with symfony]. ",
    "Jungey": "adriiprieto,\nalter user 'username'@'localhost' identified with mysql_native_password by 'password'; would fix it.\ncould anybody elaborate this? i mean like where to go and do all this.\n. ",
    "marcelledi": "@Jungey You supposed to log in your mysql:\nmysql -u USERNAME -pPASS\nand then run the code above.\nCheers. ",
    "ugurkankya": "This is what the error message looks like.\nError authenticating rYx2rd1g9nrEZAuYAAAI for private-order.24\n{ Error: connect ECONNREFUSED 127.0.0.1:80\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1159:14)\n  errno: 'ECONNREFUSED',\n  code: 'ECONNREFUSED',\n  syscall: 'connect',\n  address: '127.0.0.1',\n  port: 80 }\nError sending authentication request.. This was a very simple issue, just changed the url to http://nginx so docker can communicate.. ",
    "4c0n": "PR was merged without any communication. Closing this issue.. @bestlong Are you interested in this PR? If you decide you do NOT want to merge this, can you please let me know? Then I can close this PR and the issue.. @bestlong Thank you!. Merged. I just tested this and it works like a charm for me. Hope it will get merged soon.. @bestlong This PR has been here for a long time, I know your nickname is bestlong, but in this case long might not be best. Please tell me if you have a reason not to merge this PR, so that I can do something to convince you or close the PR.\nThanks in advance for your time.. @cherryred5959 I don't see this happening any time soon.\nClosing this and abandoning Laradock, as it has turned into a chaotic project without communication.. ",
    "nighon": "After enabling MongoDB in .env\n```\nWORKSPACE_INSTALL_MONGO=true\nPHP_FPM_INSTALL_MONGO=true\n```\nThen prune all the images, and try again\ndocker rmi $(docker image ls -aq)\ndocker-compose up -d workspace\ndocker-compose exec workspace bash\nphp -m | grep mongo\nAnd you can see \"mongodb\"\n. ",
    "dendihandian": "Same problem. Plus when migrating table using php artisan migrate, I got errors : \n1)\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nerror: \nSQLSTATE[28000]: Invalid authorization specification: 1045 Access denied for user 'default'@'%' (using password: YES) (SQL: select * from information_schema.tables where table_schema = default and table_name = migrations)\n2)\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root\nerror:\nSQLSTATE[HY000]: General error: 1449 The user specified as a definer ('mysql.infoschema'@'localhost') does not exist (SQL: select * from information_schema.tables where table_schema = default and table_name = migrations)\n. I solved my issue by this reference , it is about altering the 'default' user in mysql and modify the mysql/my.cnf file.\nThen I can login in phpmyadmin using server: mysql, username: default, password: secret. thanks @bestlong , it helped me solved my problem.\nI figured out why it's keep stopping everytime I docker-compose up -d elasticsearch. The log says [1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]. So I change the vm.max_map_count value to 262144 with this command in my local machine: sudo sysctl -w vm.max_map_count=262144.\nThe vm.max_map_count will be reseted to default value after you reboot your machine. . make sure you cache refresh your browser. See this for help. . ",
    "AleksandrTkach": "I have this problem like @murilolivorato . @glaand it is not work for me :(\nYou are have yet ideas ? \nThank you. My dicision:\nsudo docker stop $(sudo docker ps -a -q)\nsudo docker rm $(sudo docker ps -a -q)\nsudo rm -rf ~/.laradock/data\nchanged latest on 5.7 version in .env MYSQL_VERSION\nsudo docker-compose up -d nginx mysql phpmyadmin\nlogin in PhpMyAdmin:\nserver: mysql \nlogin: root \npassword: root . @glaand i chenged mysql in .env file latest on 5.7 and all engine !\nThanks for the solution :). ",
    "glaand": "@murilolivorato I'm having the problem as well! I'm driving crazy \ud83d\ude04. SOLUTION: . \nlaradock's volumes are stored under this path (Which is defined on the .env file of laradock):\nDATA_PATH_HOST=~/.laradock/data\nJust delete ~/.laradock/data and start again mysql\nIT SHOULD WORK . Did you try to delete the data folder at ~/.laradock ?\nAleksandr Tkach notifications@github.com schrieb am Mi., 11. Juli 2018,\n22:02:\n\n@glaand https://github.com/glaand it is not work for me :(\nYou are have yet ideas ?\nThank you\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1694#issuecomment-404292634,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQZo_diAeCUnEqZoEQs-ZvxJtEEiK2TKks5uFlndgaJpZM4VG4DY\n.\n. Show me your .env file of laradock\n\nAleksandr Tkach notifications@github.com schrieb am Do., 12. Juli 2018,\n09:03:\n\nMy dicision:\nsudo docker stop $(sudo docker ps -a -q)\nsudo docker rm $(sudo docker ps -a -q)\nsudo rm -rf ~/.laradock/data\nchanged latest on 5.7 version in .env MYSQL_VERSION\nsudo docker-compose up -d nginx mysql phpmyadmin\nlogin in PhpMyAdmin:\nserver: mysql\nlogin: root\npassword: root\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1694#issuecomment-404410703,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQZo_cHwdtL0yJcoHAl059m3Ous9Tn4vks5uFvS6gaJpZM4VG4DY\n.\n. \n",
    "nemcaninz": "@Grald you, sir, are fucking dickhead! (pardon my French). If you can not help - do not troll. ",
    "jackwang1993": "\n\nI downgraded to 5.7 version . and It worked .Thanks\n\nHad the same issue and this worked! Thanks \ud83d\udc4d\ndowngrade mysql from 8 to 5.7\nby setting MYSQL_VERSION=5.7 in laradock/.env\nafter that in your .env file see the var called DATA_PATH_HOST and go to that folder, after that delete the mysql folder there and then do the docker-compose build --no-cache mysql and then docker-compose up -d mysql\n#1855 (comment)\n\nThen I can login in phpmyadmin using server: mysql, username: default, password: secret. ",
    "joppuyo": "I'm having this error too with Vanilla WordPress. I can connect with phpmyadmin but trying to access the site gives \"Error establishing a database connection\".\nHere's my wp-config.php\nphp\ndefine('DB_NAME', 'default');\ndefine('DB_USER', 'root');\ndefine('DB_PASSWORD', 'root');\ndefine('DB_HOST', 'mysql');. ",
    "mobinzk": "I've used mariadb instead of mysql and that fixed the error.. ",
    "WeiChieh-Chen": "Hi @bestlong, sorry, I'm just saw the response.\nMy PHP_FPM_INSTALL_ZIP_ARCHIVE was true in a new clone. but this problem has not solved,  until I directly to change this value in DockerFile.... Thank you for your help ! @bestlong , this is really good,  maybe I should try to use docker-compose build php-fpm in before, sorry to waste your time.. ",
    "juniorrosul": "Hi @bestlong,\nI made some mess, let me fix that.. Hey @Mahmoudz I need some help here, those errors on build are happen on another dependency, i have to create a new issue to discuss that and create a pull request for this only? Or can I apply the correction in this PR?. ",
    "volkovmqx": "TOFIX :\ncreate zz-docker.conf with the content\n```[global]\ndaemonize = no\n[www]\nlisten = 8795\n``\nand in DockerfileaddCOPY ./zz-docker.conf /usr/local/etc/php-fpm.d/`. ",
    "sav-valerio": "This PR just disappeared in the dark.\nMain logo has been fixed, however the \"docs\" logo is still missing.. ",
    "rex-chien": "I had encountered this problem today. Solved it by restarting my docker service.. All the build jobs did not failed in my enviroment...... ",
    "Aidilrozi": "restarting docker solve my problem . thank you!. ",
    "kinqsley": "@vladyslavstartsev  That doesn't work.. ",
    "tomonsoejang": "Need help\nI need php7.1-gmp in workspace container. I have set the following variable to WORKSPACE_INSTALL_GMP=true and PHP_FPM_INSTALL_GMP=true. php version in workspace container is PHP_VERSION=7.1. Rebuilding (docker-compose build --no-cache workspace) workspace container installs php7.2-gmp instead of php7.1-gmp. @vladyslavstartsev . @vladyslavstartsev @adammparker Please check this PR. ",
    "CrediMarketIT": "+1. I facing the same problem. Trying to expose 3000 or add port 3000:3000 on workspace container but no luck, localhost:3000 still returns 'this site can't be reached'. \nAnyone know how to set this up?. ",
    "Denis00211": "I changed the port to 3003 and rebuilt the workspace container, it helped me. ",
    "ezra-obiwale": "@llioor Need more clarifications, please.\n\nVue 2 or 3?\nYou can access the dev server from the host?\nHot reload works?. \n",
    "StenKoning": "Solved: problem was being caused by a slow network connection.. ",
    "Spudley": "Hmm. Actually, I just got the same issue from a fresh install using Laradock 7.2, so it obviously isn't specific to 7.3 after all. Sory for the mis-information.\nAlso, I can work around it by setting PHP_FPM_INSTALL_IMAGEMAGICK=false in the env file. I'm not planning to use ImageMagic on this project, so that workaround is okay for me, but it will still be a problem for anyone who does need it.\n. Hi @bestlong.\nThanks for the tip -- that worked.  :)   I'll close the issue.\nWorth keeping a note of it though.. ",
    "tobiasdalhof": "I just realized that the workspace container uses it's own php installation but I fail at adding the right code to my workspace Dockerfile. I eneded up using Interbase.\n```dockerfile\nDockerfile php-fpm\nRUN apt-get -y install firebird-dev\nRUN docker-php-ext-install interbase\nRUN docker-php-ext-enable interbase\n```\n```dockerfile\nDockerfile workspace\nRUN apt-get update -yqq && apt-get -y install firebird-dev libc6 libfbclient2 php-common php7.2-common ucf php7.2-interbase\n``\n. Have you tried to change the DNS Server settings under Network toFixed: 8.8.8.8`? https://i.imgur.com/oJsjDlS.png\nAlso make sure that your drives are available to your containers. https://i.imgur.com/jnBnxtU.png\nI had a similar problem back in the days.\nLet me know if it worked.. Have you tried restarting docker / reboot your machine? Refering to https://github.com/gliderlabs/docker-alpine/issues/348#issuecomment-340954983\nIs your internet connection fast enough?. ",
    "JapSeyz": "After digging through the logs it seems to have an invalid config option:\nproxy_1                | varnishd: invalid option -- 'u'\nlaradock_proxy_1 exited with code 1\n. ",
    "grepollo": "Sorry, I just found out I got a conflict in port for phpmyadmin. Please ignore thanks.. ",
    "loonpwn": "You can debug this further by running docker-compose up mysql and seeing what is comes out. I've ran into this problem previously and it has had to with mounting an existing corrupt DB volume. \nCould be a port conflict or numerous other issues. . ",
    "aagarwal2286": "Did you try mariadb as well?. ",
    "gabrielcamr9": "Thanks for your replies, unfortunately this was a side project and I don't have the time to work on it anymore. I am closing this issue.. ",
    "broven": "@vladyslavstartsev yeah, but laradock has some identical variables, such as REDIS_HOST DB_MYSQL some thing like that, we have to maintain two of them, It seems a little bothering. (personal opinion). @vladyslavstartsev thanks for your time! I'll close this issue.. ",
    "sanpakyou027": "I resolve the issue by restarting the docker.. duplicate issue. ",
    "lokingwei": "In my case, you can specify  user=www-data in laravel-worker.conf when runing your worker.\nHowever, be sure the www-data have the same uid with the apache www-data, strangely my supervisord spawn a different www-data user.. ",
    "grandkrav": "@MoogyG , have the same issue. Just added user and group creation.\nIn docker-compose.yml pass the same group and user ids from workspace:\nphp-worker:\n...\n- args:\n  - PUID=${WORKSPACE_PUID}\n  - PGID=${WORKSPACE_PGID}\nIn Dockerfile added user and group creation:\n```\nARG PUID=1000\nENV PUID ${PUID}\nARG PGID=1000\nENV PGID ${PGID}\nRUN addgroup -g ${PGID} laradock && \\\n    adduser -D -u ${PUID} -G laradock laradock\n```\nIn supervisor.d/laravel-worker.conf set user:\n[program:laravel-worker]\n...\nuser=laradock. ",
    "shahzad-sarwar": "Change your db host to mysql. Log in to phpmyadmin and add a database there. You're using default DB params which are not acceptable at any cost.\nDB_DATABASE:your-database-name. share the output of these commands.\n\n\ndocker-compose ps\n\n\ndocker-compose logs mysql. I have found a solution for your problem.\n\n\nGo to laradock/mysql/my.cnf\nchange it with the following code.\nThe MySQL  Client configuration file.\n[mysql]\n[mysqld]\nsql-mode=\"STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION\"\ncharacter-set-server=utf8\ndefault_authentication_plugin=mysql_native_password\nend of my.cnf\nNow rebuild your container.\ndocker-compose down\ndocker-compose build mysql\ndocker-compose up -d nginx mysql etc\ndocker-compose exec --user=laradock workspace bash\n. ",
    "jr-smith": "changed db host to 'mysql' in the .env\n(running on windows 10)\nStill doesn't work.\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=root\nDB_PASSWORD=root\nAlso changed to:\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=default\nDB_USERNAME=default\nDB_PASSWORD=secret\nand still does not work.. Oddly enough, I can connect to the database remotely (using datagrip) with 127.0.0.1:3306/root/root. But I cannot access it internally.. ",
    "xingaoau": "my env\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=catapult\nDB_USERNAME=root\nDB_PASSWORD=root\n\ncreate new db via mysqlbencmark\n\nchange db host to mysql\n\n\ndocker-compose stop\n\ndocker-compose up -d nginx mysql workspace\ndocker-compose exec workspace bash\nphp artisan migrate\n\nstill have the error:\nSQLSTATE[HY000] [2054] The server requested authentication method unknown to the client (SQL: select * from information_schema.tables where table_schema = catapult and table_name = migrations). ",
    "amorZhu": "cd laradock/mysql\nvim mysql/my.cnf\n\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a\uff08\u7b2c\u4e00\u884c\u4f5c\u4e3a\u53c2\u7167\uff09\ncharacter-set-server=utf8\ndefault_authentication_plugin=mysql_native_password\n\u6267\u884c docker-compose down\n\u67e5\u770b laradock/.env \u6587\u4ef6\u4e2d DATA_PATH_HOST=~/.laradock/data\nsudo rm -rf ~/.laradock/data\ndocker-compose up -d nginx mysql phpmyadmin redis workspace\ndocker-compose exec workspace bash\nphp artisan migrate\nOK \n. \u6253\u5f00 laradock/grafana/Dockerfile\n\u589e\u52a0 USER \u548c RUN\nFROM grafana/grafana:latest\nUSER root\nRUN chown -R root:root /etc/grafana && \\\n  chmod -R a+r /etc/grafana && \\\n  chown -R grafana:grafana /var/lib/grafana && \\\n  chown -R grafana:grafana /usr/share/grafana\nEXPOSE 3000\n\u6267\u884c docker-composer build\n\u5982\u679c\u5931\u8d25\uff0c\u8bf7\u5220\u9664\u65e7\u7684\u955c\u50cf\uff08\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662flaradock_grafana\uff0c\u4e00\u4e2a\u662fgrafana/grafana\uff09\u6267\u884c docker-composer build\n. ",
    "bbashy": "Need to update the ports yourself in .env?. I made nginx/sites/all.conf file and added the contents below.\nThis will match any domain.tld and subdomain.domain.tld and direct it to a folder for the $domain var.\n```\nserver {\nlisten 80;\nlisten [::]:80;\n\nserver_name ~^(?<domain>[^.]+)\\.(?<tld>[^.]+)$;\n\nroot /var/www/$domain/public;\nindex index.php index.html;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    #fixes timeouts\n    fastcgi_read_timeout 600;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\nerror_log /var/log/nginx/$domain-error.log;\naccess_log /var/log/nginx/$domain-access.log;\n\n}\nserver {\nlisten 80;\nlisten [::]:80;\n\nserver_name ~^((?<subdomain>.*)\\.)(?<domain>[^.]+)\\.(?<tld>[^.]+)$;\n\nroot /var/www/$domain/public;\nindex index.php index.html;\n\nlocation / {\n     try_files $uri $uri/ /index.php$is_args$args;\n}\n\nlocation ~ \\.php$ {\n    try_files $uri /index.php =404;\n    fastcgi_pass php-upstream;\n    fastcgi_index index.php;\n    fastcgi_buffers 16 16k;\n    fastcgi_buffer_size 32k;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    #fixes timeouts\n    fastcgi_read_timeout 600;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /.well-known/acme-challenge/ {\n    root /var/www/letsencrypt/;\n    log_not_found off;\n}\n\nerror_log /var/log/nginx/$domain-error.log;\naccess_log /var/log/nginx/$domain-access.log;\n\n}\n```. ",
    "mifas": "Thanks, But seems I need to update data folder value ~/.laradock/data for each project as well. Then only MySQL is working. . ",
    "lixin1014": "Hello,I have  same problem.Have you solved the problem?. ",
    "PeterPlucinski": "bump. ",
    "redbonzai": "Hello, @zr87 When you mentioned Setting remote_host to host.docker.internal, where did you set it for xdebug to work for you ? Was this in the xdebug.ini settings ? Could you please post an example ? \nThank you, \nChristian. ",
    "NicksonYap": "@redbonzai\nYes it's in xdebug.ini\nxdebug.remote_enable=1\nxdebug.remote_host=docker.for.mac.localhost       <<<<< REPLACE THIS TO: host.docker.internal\nxdebug.remote_port=9000\nxdebug.remote_autostart=1\nxdebug.remote_connect_back=0\nxdebug.remote_handler=dbgp\nxdebug.max_nesting_level=250\nxdebug.remote_log=\u201d/var/www/xdebug_log/xdebug_docker.log\u201d\nSee this guide, extremely helpful:\nhttps://medium.com/full-stack-development/laradock-xdebug-ms-code-no-problem-35a4338deb3f. ",
    "lhduc": "Hello, I got same issue too. \nI've changed xdebug.remote_host=host.docker.internal (or \"dockerhost\" as well).\nThe xdebug validation is good with same xdebug.ini. \nThe website sends correct cookie XDEBUG_SESSION=PHPSTORM as well.\nHowever it is still not stopping at break point. Please advice me, thanks.\nHere are some screenshots.\nhttps://pasteboard.co/I35CguV.png\nhttps://pasteboard.co/I35CznR.png\nhttps://pasteboard.co/I35CTxZ.png. ",
    "liminworks": "\u53ef\u4ee5\u8bbe\u7f6e2\u4e2a\u5bb9\u5668,,\u4e0d\u540c\u7684\u522b\u540d\u548c\u7aef\u53e3\u53f7,nginx\u914d\u7f6e\u4e2d\u53d6\u4e0d\u540c\u7684\u522b\u540d\u8fde\u63a5\u554a. ",
    "GeoffreyWolff": "Yes, I know that and I agree. But I don't want to go that way because that would mean I would have to keep multiple systems up to date and that would not by very DRY. I wanted to switch to Docker / Laradock to have something simple to use, more lightweight than classic Laravel Homestead.\nFor now I've made myself a bash script to switch between 7.2 / 5.6 and other versions in .env file\n```\nPHP Version\nSelect a PHP version of the Workspace and PHP-FPM containers (Does not apply to HHVM). Accepted values: 7.2 - 7.1 - 7.0 - 5.6\nPHP_VERSION=7.2\n```\nand rebuild the containers, bring them up. It's certainly more user friendly and makes usage of the system a lot easier or better to say enjoyable to use.\nAnyway I still think that the process of switching PHP versions in PHP and Workspace containers should be easier for newcomers.\nPHP version in the workspace container matters because of composer and executables installed in the project using composer. Yes we can use composers --ignore-platform-reqs but that requires special configs in composer.json file.. ",
    "mufengorg": "At present, many PHP integrated development environments are multi-project sharing. The demand of most users is actually multi-version PHP and multi-version MySQL coexist. Most of the other modules can be shared. The COMPOSE_PROJECT_NAME mechanism requires laradock to copy multiple copies. This will result in maintenance costs for multiple cloned version environments, which is not an optimal solution. Is it possible to add a grouping mechanism to the outermost layer to store multiple items that can be configured in a shared configuration?. ",
    "amirmasoud": "It seems that problem is related to ftype of disk according to these links Moby#27214 and overlay filesystem of CentOS Docker OverlayFS\nBut a quick solution that seems to be working for me right now is to commenting clean section in building workspace and commenting rm -rf /tmp/pear command in PHP REDIS EXTENSION for php-fpm.\nAgain, I just tried workspace, mysql and nginx. . I also installed it by adding the extra repo to the OS. I didn't add it to Dockerfile, just installed them in the container (php-fpm),\nI followed this tutorial: http://ubuntuhandbook.org/index.php/2018/10/install-ffmpeg-4-0-2-ubuntu-18-0416-04/ for installing FFmpeg. ",
    "TheDailySpank": "Have you tried adding 'rsync' to php-fpm/Dockerfile then rebuild php-fpm?\nOriginal:\n```\nalways run apt update when start and after add new source list, then clean up at end.\nRUN apt-get update -yqq && \\\n    apt-get install -y apt-utils && \\\n    pecl channel-update pecl.php.net\n```\nNew:\n```\nalways run apt update when start and after add new source list, then clean up at end.\nRUN apt-get update -yqq && \\\n    apt-get install -y apt-utils \\\n    rsync && \\\n    pecl channel-update pecl.php.net\n```\nSave and then run\ndocker-compose build php-fpm. ",
    "cherryred5959": "I want to handle the server side rendering infrastructure in php.\nI also want to know why php-fpm image does not support v8js.\n. ",
    "jmurphy45": "@AminMkh In my hosts file I have both www.your-app.com and your-app.com, and in my config file for nginx I have a file for it that lists your-app.com as the server name.. Still getting the same error has any found a solution?. > * docker-compose exec apache2 bash (or nginx if you are using nginx), ifconfig to get the IP address from the apache or nginx\n\n\ndocker-compose exec php-fpm bash\nEdit the /etc/hosts file such as: 172.23.0.2 mydomain.local\n  I hope it fix you guys issue\n\n\nIs there a better way to do this so I don't have to do it for development and production?. ",
    "SammyMohamed": "I'm having the same issue but even if I do $http->post('127.0.0.1/oauth/token', [ the issue remains. ",
    "sammy-esportshero": "I'll try that and come back to you. In the mean time what worked for me was to use the IP '172.17.0.1' instead of '127.0.0.1' as per https://stackoverflow.com/questions/44040852/in-docker-container-connect-from-inside-to-local-apache-not-happening. ",
    "luongvupc": "\ndocker-compose exec apache2 bash (or nginx if you are using nginx), ifconfig to get the IP address from the apache or nginx\ndocker-compose exec php-fpm bash\nEdit the /etc/hosts file such as: 172.23.0.2 mydomain.local\nI hope it fix you guys issue. I solved the problem on MAC, from the php-fpm of the docker-compose.yml on the root folder add your domain to extra host:\n\n\nextra_hosts:\n        - \"dockerhost:${DOCKER_HOST_IP}\"\n        - \"domain.local:${APACHE_HOST_IP}\"\n\nAnd then rebuild php-fpm, workspace:\n\ndocker-compose up -d --build workspace php-fpm\n\nIf still not work, rebuild your apache2 as well. ",
    "talapai": "I didn't find php7.2-soap extension for ubuntun-16.04. It's actual . ",
    "deviouspk": "docker logs:\nGF_PATHS_DATA='/var/lib/grafana' is not writable.\nYou may have issues with file permissions, more information here: http://docs.grafana.org/installation/docker/#migration-from-a-previous-version-of-the-docker-container-to-5-1-or-later\nmkdir: cannot create directory '/var/lib/grafana/plugins': Permission denied\n. sure but what is :p I tried lots of other things nothing worked. ",
    "MoogyG": "I resolved this by using Task Scheduling.. ",
    "sysoce": "PROBLEM:\nIf you get the error:\n/usr/bin/env: 'node': No such file or directory\nwhen trying to run a node script from the web app, it is due to that node is not installed in the container running the web app (php-fpm).\nFIX:\nInstall node in the php-fpm container by copying the following slightly modified script found in the workspace/Dockerfile to the php-fpm/Dockerfile which will add a non-root user node and install node with npm. And rebuild the php-fpm image with docker-compose build php-fpm. Then recreate the container with docker-compose up -d.\n```\n\nLaradock non-root user:\n\nAdd a non-root user to prevent files being created with root permissions on host machine.\nARG PUID=1001\nENV PUID ${PUID}\nARG PGID=1001\nENV PGID ${PGID}\nalways run apt update when start and after add new source list, then clean up at end.\nRUN apt-get update -yqq && \\\n    pecl channel-update pecl.php.net && \\\n    groupadd -g ${PGID} node && \\\n    useradd -u ${PUID} -g node -m node && \\\n    usermod -p \"*\" node\n\nNode / NVM:\n\nUSER node\nCheck if NVM needs to be installed\nARG NODE_VERSION=node\nENV NODE_VERSION ${NODE_VERSION}\nARG INSTALL_NODE=true\nARG INSTALL_NPM_GULP=false\nARG INSTALL_NPM_BOWER=false\nARG INSTALL_NPM_VUE_CLI=false\nARG NPM_REGISTRY\nENV NPM_REGISTRY ${NPM_REGISTRY}\nENV NVM_DIR /home/node/.nvm\nRUN if [ ${INSTALL_NODE} = true ]; then \\\n    # Install nvm (A Node Version Manager)\n    mkdir -p $NVM_DIR && \\\n    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash \\\n        && . $NVM_DIR/nvm.sh \\\n        && nvm install ${NODE_VERSION} \\\n        && nvm use ${NODE_VERSION} \\\n        && nvm alias ${NODE_VERSION} \\\n        && if [ ${NPM_REGISTRY} ]; then \\\n        npm config set registry ${NPM_REGISTRY} \\\n        ;fi \\\n        && if [ ${INSTALL_NPM_GULP} = true ]; then \\\n        npm install -g gulp \\\n        ;fi \\\n        && if [ ${INSTALL_NPM_BOWER} = true ]; then \\\n        npm install -g bower \\\n        ;fi \\\n        && if [ ${INSTALL_NPM_VUE_CLI} = true ]; then \\\n        npm install -g @vue/cli \\\n        ;fi \\\n        && ln -s npm bin --global /home/node/.node-bin \\\n;fi\nWouldn't execute when added to the RUN statement in the above block\nSource NVM when loading bash since ~/.profile isn't loaded on non-login shell\nRUN if [ ${INSTALL_NODE} = true ]; then \\\n    echo \"\" >> ~/.bashrc && \\\n    echo 'export NVM_DIR=\"$HOME/.nvm\"' >> ~/.bashrc && \\\n    echo '[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"  # This loads nvm' >> ~/.bashrc \\\n;fi\nAdd NVM binaries to root's .bashrc\nUSER root\nRUN if [ ${INSTALL_NODE} = true ]; then \\\n    echo \"\" >> ~/.bashrc && \\\n    echo 'export NVM_DIR=\"/home/node/.nvm\"' >> ~/.bashrc && \\\n    echo '[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"  # This loads nvm' >> ~/.bashrc \\\n;fi\nAdd PATH for node\nENV PATH $PATH:/home/node/.node-bin\nMake it so the node modules can be executed with 'docker-compose exec'\nWe'll create symbolic links into '/usr/local/bin'.\nRUN if [ ${INSTALL_NODE} = true ]; then \\\n    find $NVM_DIR -type f -name node -exec ln -s {} /usr/local/bin/node \\; && \\\n    NODE_MODS_DIR=\"$NVM_DIR/versions/node/$(node -v)/lib/node_modules\" && \\\n    ln -s $NODE_MODS_DIR/bower/bin/bower /usr/local/bin/bower && \\\n    ln -s $NODE_MODS_DIR/gulp/bin/gulp.js /usr/local/bin/gulp && \\\n    ln -s $NODE_MODS_DIR/npm/bin/npm-cli.js /usr/local/bin/npm && \\\n    ln -s $NODE_MODS_DIR/npm/bin/npx-cli.js /usr/local/bin/npx && \\\n    ln -s $NODE_MODS_DIR/vue-cli/bin/vue /usr/local/bin/vue && \\\n    ln -s $NODE_MODS_DIR/vue-cli/bin/vue-init /usr/local/bin/vue-init && \\\n    ln -s $NODE_MODS_DIR/vue-cli/bin/vue-list /usr/local/bin/vue-list \\\n;fi\nRUN if [ ${NPM_REGISTRY} ]; then \\\n    . ~/.bashrc && npm config set registry ${NPM_REGISTRY} \\\n;fi\n```\nYou can also disable/enable node installation via the .env file the same way as in the workspace. Just add the following to the php-fpm: build: args: in your docker-compose.yml\n- INSTALL_NODE=${PHP_FPM_INSTALL_NODE}\n- NODE_VERSION=${PHP_FPM_NODE_VERSION}\nNote that the docker_env group is not added to the node user because there is no such group in the php-fpm container. I do not know what consequences this may have so I would appreciate if someone would shed some light.. ",
    "EdwinHoksberg": "@Mahmoudz Any plans on accepting this? I was also looking for this plugin to use in my projects.. ",
    "michaelradionov": "\nWhy has been accepted ?\nWhy the key is INSTALL_YAML=false instead of the standard PHP_FPM_INSTALL_YAML \ud83d\ude15\nPRs need more reviews tbh\n\nyou are right! how I didn't noticed that... Just created new PR #1888\nNot sure if I'm doing it right. Please guide me how to fix this.. Argh, one more mistake. Thanks for fixing!. ",
    "mintalicious": "The build errors are not caused by the three lines (!) of additional code I've made for the php-worker service.. ",
    "bebjakub": "I already made same on a different machine and it's working. Thank you!. ",
    "kideny": "ok\uff01. it's ok!. yes\uff0ci fixed it in #1811 . ",
    "AdrianHL": "I have added FFmpeg in the php-fpm container by adding the following lines to the Dockerfile (in my case Dockerfile-71):\n```\n\nFFmpeg:\n\nUSER root\nARG INSTALL_FFMPEG=true\nENV INSTALL_FFMPEG ${INSTALL_FFMPEG}\nRUN if [ ${INSTALL_FFMPEG} = true ]; then \\\n    echo 'deb http://ftp.uk.debian.org/debian jessie-backports main' >> /etc/apt/sources.list && \\\n    apt-get update && \\\n    apt-get install ffmpeg -y && \\\n    ffmpeg -version \\\n;fi\n```\nPlease note that FFmpeg will be installed unless INSTALL_FFMPEG is set to false.. ",
    "leonardovff": "this error is present in current version, anynews?. ",
    "vsnote": "CREATE USER 'default'@'%' identified by 'password';\nGRANT ALL ON *.* TO 'default'@'%' ;\nFLUSH PRIVILEGES ;. ",
    "ABQJuan": "I had this problem. I was able access phpmyadmin with the following creds:\nServer: mysql\nUsername: root\nPassword: root. I am having the exact same issue. \nIf this is solution\n\nconvert laradock\\nginx\\startup.sh file's windows style line endings to linux style line endings solve the problem\n\nHow do you do it? Please explain. . I was able to resolve this issue by opening  laradock\\nginx\\startup.sh with Notepad++ and changing the EOL setting there. Any more elegant solution?. ",
    "santigarcor": "Thanks man it worked.. ",
    "GriffinMeyer": "Is there any status update on this? I'd love to start using php 7.3 with laradock.. ",
    "humop": "Sorry my bad. Needed to update docker-composer. Thank you for the reference too. :). ",
    "Nightbr": "This is awesome! any news on this, really love to see this integrated on the core Laradock!. ",
    "lfrichter": "Really @vladyslavstartsev , it's a question in the docker .. Sorry, for the inconvenience, I'll look better before posting, thankful.. ",
    "kennyleelks": "Why error?\nLaravel Swoole http server listens on 127.0.0.1:1215 by default.\n- nginx container can't access workspace container's 127.0.0.1.\n- workspace container exposes only port 22.\nDeal with it:\n\nAdd EXPOSE command to the end of laradock/workspace/Dockerfile.\n```Dockerfile\n\nExpose port for laravel-swoole\nEXPOSE 1215\n2. Add `RUN` command  before CMD[\"nginx\"] of _laradock/nginx/Dockerfile_.Dockerfile\nSet laravel-swoole upstream\nRUN echo \"upstream swoole-http { server workspace:1215; }\" >> /etc/nginx/conf.d/upstream.conf\n3. Make sure `proxy_pass` hostname matches step 2 upstream setting in\n_laradock/nginx/sites/your-site.conf_.nginx\nmap $http_upgrade $connection_upgrade {\n    default upgrade;\n    ''      close;\n}\nserver {\n    listen 80;\n    # listen [::]:80;\nroot /var/www/public;\nindex index.php index.html;\n\nserver_name your-site.test;\n\nlocation = /index.php {\n    # Ensure that there is no such file named \"not_exists\"\n    # in your \"public\" directory.\n    try_files /not_exists @swoole;\n}\n\nlocation / {\n    try_files $uri $uri/ @swoole;\n}\n\nlocation @swoole {\n    set $suffix \"\";\n\n    if ($uri = /index.php) {\n        set $suffix \"/\";\n    }\n    proxy_set_header Host $http_host;\n    proxy_set_header Scheme $scheme;\n    proxy_set_header SERVER_PORT $server_port;\n    proxy_set_header REMOTE_ADDR $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    # IF https\n    # proxy_set_header HTTPS \"on\";\n\n    charset utf-8;\n\n    proxy_pass http://swoole-http$suffix;\n}\n\n}\n4. Rebuild and restart containers.\ndocker-compose build workspace nginx\ndocker-compose restart workspace nginx\n```\n\n\nMake sure you already published laravel-swoole config files.\nhttps://github.com/swooletw/laravel-swoole/wiki/5.-Configuration\n\n\nAdd two variables to laravel .env file:\nSWOOLE_HTTP_HOST=workspace\nSWOOLE_HTTP_DAEMONIZE=true\n\n\nStart swoole http server in workspace container.\n```\nroot@asdasd:/var/www# php artisan swoole:http start\nStarting swoole http server...\nSwoole http server started: http://workspace:1215\n\n(You can run this command to ensure the swoole_http_server process is running: ps aux|grep \"swoole\")\nroot@asdasd:/var/www#\n```\n\n\n\nAll set!\nYour laravel project is integrated with laravel-swoole on laradock successfully.. \n\n",
    "hezhizheng": "@kennyleelks  It works, thank you very much for your answer.. ",
    "Wooze5401": "It's work but sometimes will lost the request param in laravel,  when the request into nginx is stil have params?\n. ",
    "Inkognitoo": "Sorry, I'm double your issue\nError is still present\nhttps://github.com/laradock/laradock/issues/1847. Thank you.\nI literally just got the same error when installing the ssh package.\nCorrected it the same way as you advised here. It may be worthwhile to re-trigger an update when installing each package.\nWhat do you think?. ",
    "zoulux": "me too \uff0cHow do you solve\uff1f. travis-ci find \"The command \"sudo apt-get update\" failed and exited with 100 during .\" ,It is not my problem. ",
    "susonwaiba": "Same problem.. ",
    "alainperrier": "I have the same problem. \nInfo\nDocker version 18.09.0, build 4d60db4\nMac version 10.13.5 (17F77)\nI found that it doesn't work when I use the build parameter from a docker compose file\ndocker-compose.yml\nmysql:\n    build:\n      context: ./mysql\n    environment:\n      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n    volumes:\n      - ${DATA_PATH_HOST}/mysql:/var/lib/mysql\n      - ${MYSQL_ENTRYPOINT_INITDB}:/docker-entrypoint-initdb.d\n    ports:\n      - \"3306:3306\"\n    networks:\n      - backend\nDockerfile (in /mysql)\nFROM mysql:5.7\nResult (sequel pro)\n\nMySQL said: Can't connect to MySQL server on '127.0.0.1' (61)\n\nBut it works when I use the image parameter from a docker compose file\ndocker-compose.yml\nmysql:\n    image: mysql:5.7\n    environment:\n      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n    volumes:\n      - ${DATA_PATH_HOST}/mysql:/var/lib/mysql\n      - ${MYSQL_ENTRYPOINT_INITDB}:/docker-entrypoint-initdb.d\n    ports:\n      - \"3306:3306\"\n    networks:\n      - backend\nResult (sequel pro)\n\nI can connect to MySQL. \n",
    "kimett": "Original issue comes from this?:\nhttps://stackoverflow.com/questions/50026939/php-mysqli-connect-authentication-method-unknown-to-the-client-caching-sha2-pa. ",
    "LukasTsunami": "I've submitted a Pull request to solve it\nhttps://github.com/laradock/laradock/pull/1842. ",
    "mac-s-g": "this change fixed the same issue for me.\nthanks @LukasTsunami !. this change fixed the same issue for me.\nthanks @LukasTsunami !. this change fixed the same issue for me.\nthanks @LukasTsunami !. ",
    "raikusy": "Any help/resource regarding this?. ",
    "Zhong1002": "the source has updated http://ppa.launchpad.net/ondrej/php/ubuntu/pool/main/x/xdebug/,so you get 404\nedit file laradock/workspace/Dockerfile line 261\napt-get install -y php${LARADOCK_PHP_VERSION}-xdebug && \\\nto\napt-get update && apt-get install -y php${LARADOCK_PHP_VERSION}-xdebug && \\\nthen run docker-compose build workspace. ",
    "gaoshijun1993": "Came across same problem.... workaround reference this: https://gitlab.com/gitlab-org/omnibus-gitlab/issues/2280. ",
    "simlux": "You're right!! I've overlooked the fixed version. I will look how I can use the current version in the config file. Thanks!\nPerhaps I will overwrite only the list of servers via sed.. ",
    "blunket": "hey, thanks for the merge! I was expecting some changes would be necessary first. For example the people using logstash may not need MySQL. should we account for that or are we good for now?. ",
    "goosmaster": "@vladyslavstartsev I have noticed that this won't always fix the problem, I've seen multiple macbooks simply ignoring the ${MYSQL_VERSION} variable, even if I set it manually (in the ARG MYSQL_VERSION=latest) to a different version e.g. 5.7\nBehavior seen on:\nMacOS Mojave\nVersion 10.14\nit was fixed when I changed\nFROM mysql:${MYSQL_VERSION}\nto\nFROM mysql:5.7\n(but I forgot to delete the DATA_PATH_HOST folder, so I got another error, but that is not the problem, because once I updated the FROM mysql to my specific version, it pulled in the correct version instead  of the latest)\nI expect it has something to do with macOS parsing the variable, but I have too little knowledge of macOS to verify this.. ",
    "freefzl": "@vladyslavstartsev you are right. ",
    "Kamicloud": "+1 I meet this issue on Windows 10 too. It was caused by git, which auto transformed LF to CRLF on windows.\nI solved problem by:\ngit config --global core.autocrlf false\nthen re clone & build the project \n@eokorieFA . ",
    "fero": "@Ttdnts it works. gG. @gmatkowski like @Kamicloud said, on your windows machine run git config --global core.autocrlf false in command line and then re-clone laradock and rebuild it.. ",
    "gmatkowski": "\nIt was caused by git, which auto transformed LF to CRLF on windows.\nI solved problem by:\ngit config --global core.autocrlf false\nthen re clone & build the project\n@eokorieFA\n\nCan you please tell me what EXACTLY have you done to finally make it work? I have same issue and can't really figure it out :-/\nHave you cloned whole LARADOCK one more time after this command:\ngit config --global core.autocrlf false\n? Or what?. Oh, ok RE-CLONE laradock - that's fine, I'm gonna try :-) thx!. ",
    "t0rjan": "@vladyslavstartsev   I tried this command to rebuild my mysql version and rebuild my laradock mysql, but it still doesn't work.\n```\ncd /Users/aaa/docker-mysql/8.0 \ncd /Users/aaa/docker-mysql/5.7\ndocker rmi mysql\ncd /Users/aaa/laradock\ndocker-compose stop mysql && docker-compose stop mysql\ndocker rm laradock_mysql_1\ndocker rmi laradock_mysql\ndocker-compose build --no-cache mysql\ndocker-compose stop\ndocker-compose up -d nginx mysql redis adminer\n```. ",
    "ScottChayaa": "I found running apt-get update before install xdebug, then can solve this problem\nso, I can modify ./workspace/Dokerfile to fix this\nbut is there any better solution to fix this?. I found I lose these parts in my script : \n```sh\nalways run apt update when start and after add new source list, then clean up at end.\nRUN apt-get update -yqq && \\\npecl channel-update pecl.php.net && \\\ngroupadd -g ${PGID} laradock && \\\nuseradd -u ${PUID} -g laradock -m laradock -G docker_env && \\\nusermod -p \"*\" laradock\n\n....\nClean up\nRUN apt-get clean && \\\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* && \\\nrm /var/log/lastlog /var/log/faillog\n\n```\nConclusion : It's my mistake . ",
    "github-rainsen": "Chang\ndocker-compose exec elasticsearch /usr/share/elasticsearch/bin/plugin install {plugin-name}\nTo\ndocker-compose exec elasticsearch /usr/share/elasticsearch/bin/elasticsearch-plugin install {plugin-name}. ",
    "nerijuso": "Suggest to update laradock version.. ",
    "mprocner": "Hi, I have the same problem with newest laradock version. Any ideas?. ",
    "helloMJW": "\u5408\u5e76\u4ee3\u7801. ",
    "iamzhuyi": "@ludo237 i have bring backed this line but still doesn't work. @Shchepotin @ludo237 thanks\uff0cit's my first time use docker, and i don't know the image should rebuild when the dockerfile change \ud83e\udd23 . ",
    "junichimura": "I had the same problem.\nI think that it is a problem that meta characters are included in / nginx / startup.sh.\nLaradock works without problems by changing / nginx / startup.sh in my environment.. ",
    "JHChan314": "\n@ludo237 @matthijs-neijenhuijs @iamzhuyi for fix this issue add this line\n\nAdd that line still don't work.\nAfter add RUN sed -i 's/\\r//g' /opt/startup.sh , then I run docker-compose down docker-compose up -d nginx mysql redis workspace, still samp problems docker-compose logs nginx :\nAttaching to laradock_nginx_1_204e51496d22\nnginx_1_204e51496d22   | /opt/startup.sh: line 2: $'\\r': command not found\nnginx_1_204e51496d22   | /opt/startup.sh: line 10: syntax error: unexpected end of file\nWindow 10 64-bit\nDocker version 18.09.0, build 4d60db4\ndocker-compose version 1.23.1, build b02f1306\nUpdata:\nSolved. Convert startup.sh  EOF to unix style.\nhttps://stackoverflow.com/questions/53356394/cant-get-nginx-to-run-under-docker-environment-on-windows-for-unknown-reason. ",
    "maciejsk": "hi this fix problem\nYou can try to convert laradock\\nginx\\startup.sh file's windows style line endings to linux style line endings, i.e. with Notepad++ ( Edit > EOL Conversion > Unix (LF) ).\nThen try to start nginx container with rebuild option:\ndocker-compose up --build nginx\nsource: \nhttps://stackoverflow.com/questions/53356394/cant-get-nginx-to-run-under-docker-environment-on-windows-for-unknown-reason\n----. ",
    "SirPoot-": "@maciejsk Thank you for the pointer. I was able to get it working.. ",
    "koka0012": "Merge this, plz. ",
    "yayMark": "Did you find a solution to this? I get this when I try to install the WP All Import ACF addon for the first time.. ",
    "acharrex": "Try to run this command :\ncurl host.docker.internal. ",
    "jonasgoderis": "I'm dealing with the same issue. For some controllers in my application I also have to run 'docker-compose down' to see my changes. It's not happening with all controllers but with some of them. \nFirst I thought it was opcache but I've built my container again without opcache and the same issue is happening. \nInfo\n\nDocker version: 18.09.2, build 6247962\nSystem info: Mac OS Mojave 10.14.2\nLaradock commit: 61d7b18922006d582ae68ca0cdf5e202e5bcf08d\n\nMaybe https://github.com/laradock/laradock/issues/1992 is related.. I'm dealing with a similar issue. For some controllers in my application I also have to run 'docker-compose down' to see my changes. It's not happening with all controllers but with some of them. \nFirst I thought it was opcache but I've built my container again without opcache and the same issue is happening. \nInfo\n\nDocker version: 18.09.2, build 6247962\nSystem info: Mac OS Mojave 10.14.2\nLaradock commit: 61d7b18922006d582ae68ca0cdf5e202e5bcf08d\n. \n",
    "markymarilag": "Same here i am using docker windows the latest one, i have problem with workspace\nhttps://imgur.com/a/gM9kXgD. ",
    "Glen1023": "There's no running test case before approved.. ",
    "albakov": "2 it works. Thank you very much bro.\np.s. Do not forget docker-compose build workspace after update USER laradock -> USER root. ",
    "jonwhittlestone": "I couldn't get solution 2 to work so I just checked out release v7.7.0 and built, and it worked.. ",
    "nicogranelliAA": "I found a work around until this can get fixed:\nset the variable PHP_FPM_INSTALL_IMAGEMAGICK in the .env file to false. ",
    "maurobaptista": "This is the errors returned: \nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/imagemagick-6-common_6.9.7.4+dfsg-11+deb9u5_all.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickcore-6-arch-config_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickcore-6-headers_6.9.7.4+dfsg-11+deb9u5_all.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickcore-6.q16-3_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickwand-6-headers_6.9.7.4+dfsg-11+deb9u5_all.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickwand-6.q16-3_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickcore-6.q16-3-extra_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://cdn-fastly.deb.debian.org/debian/pool/main/p/python3.5/python3.5-minimal_3.5.3-1_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickcore-6.q16-dev_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickwand-6.q16-dev_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/libmagickwand-dev_6.9.7.4+dfsg-11+deb9u5_all.deb  404  Not Found\nE: Failed to fetch http://cdn-fastly.deb.debian.org/debian/pool/main/g/ghostscript/libgs9-common_9.20~dfsg-3.2+deb9u2_all.deb  404  Not Found\nE: Failed to fetch http://cdn-fastly.deb.debian.org/debian/pool/main/g/ghostscript/libgs9_9.20~dfsg-3.2+deb9u2_amd64.deb  404  Not Found\nE: Failed to fetch http://cdn-fastly.deb.debian.org/debian/pool/main/g/ghostscript/ghostscript_9.20~dfsg-3.2+deb9u2_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/imagemagick-6.q16_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Failed to fetch http://security-cdn.debian.org/pool/updates/main/i/imagemagick/imagemagick_6.9.7.4+dfsg-11+deb9u5_amd64.deb  404  Not Found\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nERROR: Service 'php-fpm' failed to build: The command '/bin/sh -c apt-get install -y libmagickwand-dev imagemagick' returned a non-zero code: 100\nAs far as I could see, in it is not available the file with 5, only with 6. (...deb9u5all.deb)\nhttp://security-cdn.debian.org/pool/updates/main/i/imagemagick/imagemagick-6-common_6.9.7.4+dfsg-11+deb9u5_all.deb. Btw, this solution here solved for me: https://github.com/laradock/laradock/issues/1730. ",
    "takkkken": "Me too.... ",
    "tripex": "I'm experiencing this as well, have you found any solution to this? . ",
    "Soria0906": "No good. No good. ",
    "Foreman-PHP": "\u5728workspace \u5f00\u542fswoole\u6269\u5c55 \u7136\u540e \u91cd\u65b0\u6784\u5efa workspace \u5bb9\u5668 \u62a5\u9519 \u5982\u4e0a. ",
    "happyphper": "\ud83e\uddd0I have the same problem! My System is Mac OS 10.14.1\u3002\n. ",
    "arthurching": "open vim nginx/startup.sh\n:set fileformat=unix\n:w startup.sh\ndocker-compose up --build nginx\ndocker-compose restart\ndocker-compose ps. ",
    "spaco": "vim nginx/startup.sh\n:set ff=unix\n:wq\ndocker-compose build nginx\ndocker-compose restart\ndocker-compose ps. ",
    "AratKruglik": "Same with PHP 7.2 and previous 7.1.16. How I can fix it?. Any ideas?. ",
    "marast78": "@bestlong your tip did not help me to fix this issue. I have two separated folders in one I use PHP 7.2 and in the second PHP 5.6. Even if I do docker-compose up in the folder with PHP 5.6 works PHP 7.2. I have to each time to build with --no-cache my environment to set correct PHP version.. @bestlong how I can do it if in .env I see:\n# Select the PHP Interpreter. Accepted values: hhvm - php-fpm\nPHP_INTERPRETER=php-fpm. I have to do each time docker-compose build php-fpm workspace nginx and then up. It solved my issue :+1: . I think we can close this issue.\n\nIf you have my issue you should before docker-compose -d up .. run docker-compose build ... . ",
    "qujsh": "i did, the nginx.conf copy to container in build, so change nginx.conf have no using, so i copy the gzip conf to sites/default.conf (it's my conf), it work. ",
    "roelgonzalez": "Version 7.1.25 is a higher version than version 7.1.3. ",
    "karan-levaral": "same issue on mac Service 'workspace' failed to build: linux spec user: unable to find user laradock: no matching entries in passwd file. ",
    "nathanaelytj": "Just edit docker compose file and remove /data. ",
    "busyfree": "in the php-fpm Dockerfile Phalcon scope\nbefore  && echo \"extension=phalcon.so\"  add below script \n&& mkdir -p /etc/php/${LARADOCK_PHP_VERSION}/mods-available \\\n  && mkdir -p /etc/php/${LARADOCK_PHP_VERSION}/cli/conf.d \\\n  && touch /etc/php/${LARADOCK_PHP_VERSION}/mods-available/phalcon.ini \\\nafter && ln -s /etc/php add below script\n&&  docker-php-ext-enable phalcon \\. ",
    "TyperEJ": "same issue!. ",
    "ankit20893": "Without any solution, you closed my issue??\nOn Wed, 9 Jan 2019 at 6:53 PM, Shao Yu-Lung (Allen) \nnotifications@github.com wrote:\n\nClosed #1943 https://github.com/laradock/laradock/issues/1943 via\nce7a29c\nhttps://github.com/laradock/laradock/commit/ce7a29c66282e5f8060406ce7ff1827470495808\n.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1943#event-2063056328, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMQ0HpZjn38iAdUaSzKyZY4XEl5mxOEOks5vBe03gaJpZM4Z3b2r\n.\n. I have cloned the latest laradock as mentioned in documentation.Still i am\nfacing same issue.\n\nOn Wed, 9 Jan 2019 at 8:43 PM, Shao Yu-Lung (Allen) \nnotifications@github.com wrote:\n\nHi @ankit20893 https://github.com/ankit20893\ni think will fixed by #1942\nhttps://github.com/laradock/laradock/pull/1942. please update laradock\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1943#issuecomment-452731216,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AMQ0Hl1jOP93soZn97F7IyLpsY1ClfYKks5vBgcXgaJpZM4Z3b2r\n.\n. Thanks Shao\nNow it\u2019s working fine.\n\nOn Thu, 10 Jan 2019 at 8:17 AM, Shao Yu-Lung (Allen) \nnotifications@github.com wrote:\n\nReopened #1943 https://github.com/laradock/laradock/issues/1943.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/laradock/laradock/issues/1943#event-2064803215, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMQ0Hpq7t1pZYRBehTVUgCfZbp4ck3TJks5vBqnPgaJpZM4Z3b2r\n.\n. \n",
    "zswordsman": "I have encountered the same problem. Have you solved it?. ",
    "Sander-Kastelein": "Try running:\n(sudo) docker-compose exec workspace bash\nthis opens a bash environment within the container, then try running artisan config:clear, there might still be paths from your host system in the cache.. ",
    "albertosgz": "I need to fix this too. Any idea, clue or workaround?\nThe only point I came out with is to install ssh client in php-fpm or workspace container and install sshd on nginx container and configurate a certificate among them to run commands over nginx. But before that, I would like to know another solutions.. ",
    "carstenwawer": "It was an error on my side. My fault - sorry1. ",
    "marciojc": "you need to rebuild.\ndocker-compose build --no-cache nginx. Use the same code as composer vendor, should work\n# Export python path\nRUN echo \"\" >> ~/.bashrc && \\\necho 'export PATH=\"~/.local/bin:$PATH\"' >> ~/.bashrc.\n",
    "edtan-git": "ERROR: Service 'nginx' failed to build: ADD failed: stat /var/lib/docker/tmp/docker-builder612379973/startup.sh: no such file or directory\nGot this error message also.\nSeem like the problem is because there is not permission to write on /var/lib/docker/tmp, when I run \nsudo docker-compose build nginx there is not problem.\n. ",
    "rossanoua": "same error here\nany suggestion?\ndocker-compose build --no-cache nginx not help\nBut for me it's just not working as well.\nJust cloned repo.\nand trying to execute \ndocker-compose up -d nginx mysql\ni have another projects which are use docker \nbut they are not working (stoped...). @edtan-git \nnormally you should not execute docker and docker-compose with sudo due to security risks.. ",
    "scappuccino": "necessary for magento 2. ",
    "Yeyunrong": "```\nubuntu@VM-0-10-ubuntu:~/laradock$ docker version\nClient:\n Version:           18.09.2\n API version:       1.39\n Go version:        go1.10.6\n Git commit:        6247962\n Built:             Sun Feb 10 04:13:47 2019\n OS/Arch:           linux/amd64\n Experimental:      false\nServer: Docker Engine - Community\n Engine:\n  Version:          18.09.2\n  API version:      1.39 (minimum version 1.12)\n  Go version:       go1.10.6\n  Git commit:       6247962\n  Built:            Sun Feb 10 03:42:13 2019\n  OS/Arch:          linux/amd64\n  Experimental:     false\n```\n. ",
    "DimitriMiranda": "Problem resolved!  I'm using an laradock by project, but i had not configurated the variable  DATA_PATH_HOST, so all my projects has geting the same configurations, they  has shared the same values of configuration. \nI resolved  my problem creating different folders  and set an DATA_PATH_HOST  by project\n.   \nDATA_PATH_HOST=~/.laradock/myProjectOne/data\nDATA_PATH_HOST=~/.laradock/myProjectTwo/data\n. ",
    "mathin94": "I Have same problem \ud83d\ude25. ",
    "dithmer": "\nPackage tls partially implements TLS 1.2, as specified in RFC 5246, and TLS 1.3, as specified in RFC 8446.\nTLS 1.3 is available only on an opt-in basis in Go 1.12. To enable it, set the GODEBUG environment variable (comma-separated key=value options) such that it includes \"tls13=1\". To enable it from within the process, set the environment variable before any use of TLS:\nfunc init() {\n    os.Setenv(\"GODEBUG\", os.Getenv(\"GODEBUG\")+\",tls13=1\")\n}\n\nFrom https://golang.org/pkg/crypto/tls/. ",
    "mkrensing": "caddy updated TLS to 1.3 in https://github.com/mholt/caddy/commit/72d0debde6bf01b5fdce0a4f3dc2b35cba28241a\nupdating golang to version 1.12 works for me.. ",
    "helioh3": "thanks for answering. Sorry for the delay, but then, I could not find the extension control on the .env of the laradock .. see my .env file:\nhttps://gist.github.com/helioh3/254a1febc03bb3e71b457eb6d7263a78\nmy php7.2.ini file:\nhttps://gist.github.com/helioh3/cdf1c35be01f5bcc2ace875232daea3e\nAs I said in the issue I could not activate the extensions in my .ini file from the php version I am using, in this case 7.2\nThank you!. Yes!! Thanks!! . ",
    "ahmad-sa3d": "yes after updating the repo i tried to build and i got the same error. ",
    "leoaxxess": "I sometimes get the userland proxy and programming external connectivity errors when starting up Laradock too. Restarting Docker fixes it for me. Let us know if it helps you.. ",
    "alfaproject": "typo. "
}