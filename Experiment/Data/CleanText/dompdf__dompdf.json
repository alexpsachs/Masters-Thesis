{
    "PhenX": "Thanks Adrian! My first pull request merge ;)\n. The package is now available as version 0.1.1 : https://packagist.org/packages/phenx/php-font-lib\n. Thanks, I'll review it. \nAbout the whitespace, I didn't notice it, you are welcome to make a new pull request ;) But ony whitespace at the end of non empty lines.\n. First person to complain about the new way to deal with php-font-lib: http://stackoverflow.com/questions/13431905/php-font-lib-must-either-be-installed-via-composer-or-copied-to-lib-php-font-lib/13432787#13432787\nI hope we can find a better solution than the actual, as the vast majority still don't use Composer, but only fork or download the zip from Github. \nIs there any way to still keep the reference to php-font-lib and have it in the zip ?\n. @adrianmacneil, is there a problem if we put the submodule back ? Will it be in conflict with composer ?\n. There are already zip packages available on Google Code: http://code.google.com/p/dompdf/downloads/list\nI'll upload them on Github too.\n. I finished to move the zips to Github, I also changed the links on Google Code to point to https://github.com/dompdf/dompdf/downloads\n. From amitabhk...@gmail.com on October 04, 2009 03:06:21\nFrom\nhttp://teroheikkinen.iki.fi/blog/php-s_different_echo_methods_performance_comparison/\nand http://spindrop.us/2007/03/03/php-double-versus-single-quotes/ it doesn't seem\nchanging from double quotes to single quotes would be of much significance. \n. From imperf...@gmail.com on April 19, 2010 14:37:29\nActually, this hasn't been an issue in PHP for quite some time.\nhttp://www.phpbench.com/\n. From eclecticgeek on April 19, 2010 15:34:53\n@imperfect the PHP version and available system resources likely make a difference.\nSince we have to support a wide range of versions this modification may still be\nhelpful to some users. It'd be good to know which PHP version the site tests against\nand to see the results for other versions as well.\n. From fabien.menager on July 19, 2011 20:42:16\nI'm closing this issue as the difference is insignificant in recent versions of PHP.\n. From tomd...@gmail.com on September 04, 2009 10:25:39\nShould definitely be a good idea !\nBe aware that it might also induce some coding standards...\n. From davidjme...@gmail.com on September 08, 2009 19:14:22\nI think we should wait until the config changes, which was discussed in the list[0] not too long ago.\n[0]http://groups.google.com/group/dompdf/browse_thread/thread/eabfd48069bceba7\n. From raymond....@maine.edu on August 07, 2012 22:43:31\nIs there a status update on this issue? I'm specifically interested in the need to decouple the configuration files from the application.\nIs this a matter of no one is working on the issue? If so, how open is the project to taking new code submissions/RFCs?\n. From d.sandi...@gmail.com on April 25, 2011 05:08:27\nHello,\nI have configured TCPDF in domodf_config.inc.php as\nphp\ndef(\"DOMPDF_PDF_BACKEND\", \"TCPDF\");\nand in  tcpdf_adapter.cls.php , I have used this code:-\nphp\n  function get_pdflib() { return $this->_pdf; }\nbut gives me this error:-\n\" Fatal error: Declaration of TCPDF_Adapter::get_text_width() must be\ncompatible with that of Canvas::get_text_width() in *\nC:\\wamp\\www\\dompdf\\include\\tcpdf_adapter.cls.php* on line 58\"\nWhat should I do now?\n. From sandipgh...@indusnet.co.in on May 02, 2011 12:44:45\nPlease give me a suggestion about it?as I am helpless!.Plase also can u give a one shot function that should be used to put header text and footer text at pdf.Now I have to calculate the header and footer portion of a single pdf page.So I need a handful functions through which I can put header text/image to pdf. \n. From rakesh.g...@gmail.com on November 10, 2011 13:44:52\nHi this work in the core PHP but i try to create the joomla module for this so everybody can use this module but i getting some errors like \"Fatal error: Class 'DOMPDF' not found in E:\\wamp\\www\\Joomla162\\modules\\mod_pdfcreate\\mod_pdfcreate.php on line 12\" so how i can do the solution for this problem.\ni also try to include the class file but not getting the output so please help me i want to complete it as soon as possible.\n. I can't see the point in integrating TCPDF, as I find this library too much heavy and really badly written. CPdf suits largely better for dompdf.\n. @bsweeney in fact I dont see the point in supporting other libraries. If Cpdf is not enough, why not work on it? \n. From sven.rym...@gmail.com on June 22, 2009 11:08:01\nHi,\nthere's another issue; when there is a line wrap on one of the LI lines the text\nalignment is wrong because the button spacing is taken into account.\nSven\n. From ryan.mas...@gmail.com on March 11, 2010 23:11:36\nWhen submitting code fixes, please submit them as a .patch file.\n. From rocknrol...@gmail.com on June 02, 2009 18:03:26\nThe addition of this would be wonderfully helpful.\nThanks!\n. From tomd...@gmail.com on September 04, 2009 10:32:29\nAs well as position: fixed, to have the div on every page, as defined in the standard.\nSorry for flooding around this whole position support thing, but I also believe it'd\nbe incredibly helpful.\n. From tomd...@gmail.com on September 04, 2009 10:32:29\nAs well as position: fixed, to have the div on every page, as defined in the standard.\nSorry for flooding around this whole position support thing, but I also believe it'd\nbe incredibly helpful.\n. From gregkiy...@gmail.com on December 01, 2009 04:43:28\nI think I've got the changes needed to support \"position: absolute\".  I added them a\nwhile back for a project I was working on.  I'll talk to Benj and see if I can get a\npatch to you guys.\n. From gregkiy...@gmail.com on December 01, 2009 04:43:28\nI think I've got the changes needed to support \"position: absolute\".  I added them a\nwhile back for a project I was working on.  I'll talk to Benj and see if I can get a\npatch to you guys.\n. From eclecticgeek on December 01, 2009 17:45:14\nBenj isn't actively working on the project at the moment. Can you get in touch with\nRyan Masten about the changes?\n. From gregkiy...@gmail.com on August 23, 2011 23:11:43\nIt appears that in the latest beta absolutely positioned elements within a \"position: relative\" block do not render.  I had this working in the code that I contributed that is currently used for absolute positioning but in comparing the two I can't figure out what's changed.  Admittedly it has been a long time since I coded that stuff and I really have no idea what's changed elsewhere.  Any chance someone has a simple fix?\nThanks guys!\n. From gregkiy...@gmail.com on August 23, 2011 23:11:43\nIt appears that in the latest beta absolutely positioned elements within a \"position: relative\" block do not render.  I had this working in the code that I contributed that is currently used for absolute positioning but in comparing the two I can't figure out what's changed.  Admittedly it has been a long time since I coded that stuff and I really have no idea what's changed elsewhere.  Any chance someone has a simple fix?\nThanks guys!\n. From fabien.menager on August 31, 2011 15:47:10\nThere have been a few changes related to absolute positionning in the SVN trunk, they may have solved this problem.\n. From gregkiy...@gmail.com on August 30, 2011 19:34:49\nI've started looking at this more carefully, and it appears that the issue has something to do with STYLE::$POSITIONNED_TYPES.  If I have a very simple html file with a single \"position: absolute\" div INSIDE a single \"position:relative\" div then the content of the absolute div is not shown.  If I then remove \"relative\" from the STYLE::$POSITIONNED_TYPES array then the absolute content is displayed, albeit overlapping the relative content.\nI believe I've traced this behaviour to the renderer.cls.php(L190) file where it checks if the child_style->position is in the POSITIONNED_TYPES array, and if so, adds the frame to the stacking context instead of rendering it directly.\nThis is where I get stumped, as I'm not sure what to do to fix this issue.  If someone could let me know what the best way to debug the stacking_context array in the page_frame_reflower.cls.php is, then I can try to proceed.\n. _From fabien.menager on August 31, 2011 15:47:10\nThere have been a few changes related to absolute positionning in the SVN trunk, they may have solved this problem.\n. From gregkiy...@gmail.com on September 08, 2011 20:39:26\nI am happy to report that the version in SVN fixes my issues.  Thanks for the great work picking up this project and continuing to take it forward.\n. From gregkiy...@gmail.com on September 08, 2011 20:39:26\nI am happy to report that the version in SVN fixes my issues.  Thanks for the great work picking up this project and continuing to take it forward.\n. From m...@davidreade.co.uk on August 25, 2009 10:23:43\nAny updates as to when this will be fixed?\n. From m...@davidreade.co.uk on August 25, 2009 10:23:43\nAny updates as to when this will be fixed?\n. From ryan.mas...@gmail.com on November 07, 2009 22:57:21\nWe will try to address it in the next major release.\n. From ryan.mas...@gmail.com on November 07, 2009 22:57:21\nWe will try to address it in the next major release.\n. From tredudo...@gmail.com on December 18, 2009 10:38:37\nHi,\nthis issue shoud be set to high priority, very difficult to manage nested tables\n. From tredudo...@gmail.com on December 18, 2009 10:38:37\nHi,\nthis issue shoud be set to high priority, very difficult to manage nested tables\n. From melhasm...@gmail.com on June 11, 2010 17:34:57\nYes...please nested tables and floats very necessary for the project I am working on...other than this issue, your code would be perfect!\n. From melhasm...@gmail.com on June 11, 2010 17:34:57\nYes...please nested tables and floats very necessary for the project I am working on...other than this issue, your code would be perfect!\n. From stephent...@gmail.com on September 30, 2010 02:00:51\nPush to make this a critical issue.\nNested tables are a nasty that is likely to be around for a very long time.\n. From stephent...@gmail.com on September 30, 2010 02:00:51\nPush to make this a critical issue.\nNested tables are a nasty that is likely to be around for a very long time.\n. From thomas.r.martin on October 05, 2010 18:44:42\nIs there any status on this?\n. From fabien.menager on October 05, 2010 20:33:46\nActually, tables CAN be nested. \nThis works at least in the 0.6 beta, and even better in the SVN trunk.\nThe only remaining issue is that if a cell exceeds the page size, an infinite loop will occur, see Issue 91.\n. From thomas.r.martin on October 05, 2010 18:44:42\nIs there any status on this?\n. From fabien.menager on October 05, 2010 20:33:46\nActually, tables CAN be nested. \nThis works at least in the 0.6 beta, and even better in the SVN trunk.\nThe only remaining issue is that if a cell exceeds the page size, an infinite loop will occur, see Issue 91.\n. From tobias.t...@gmail.com on October 20, 2009 14:42:09\nHi,\nI needed this for more ordered list types (roman, alpha, etc.)\nThanks for providing the patch for ordered lists Sven!\nTT\n. From sven.rym...@gmail.com on June 24, 2009 06:28:54\nI added support for ordered lists.\nModify dompdf.cls.php as documented below:\n``` php\n      // FIXME: handle generated content\n      if ( $frame->get_style()->display == \"list-item\" ) {\n    // Insert a list-bullet frame\n    $node = $this->_xml->createElement(\"bullet\"); // arbitrary choice\n    $b_f = new Frame($node);\n\n//---NEW CODE---\n        $index = 0;\n        if(!$frame->get_parent()->get_node()->hasAttribute(\"-dompdf-counter\"))\n        {\n          $index = 1;\n          $frame->get_parent()->get_node()->setAttribute(\"-dompdf-counter\", 1);\n        }\n        else\n        {\n          $index = $frame->get_parent()->get_node()->getAttribute(\"-dompdf-counter\");\n          $index++;\n          $frame->get_parent()->get_node()->setAttribute(\"-dompdf-counter\", $index);\n        }\n        $node->setAttribute(\"-dompdf-counter\", $index);\n//---END NEW CODE---\n    $style = $this->_css->create_style();\n    $style->display = \"-dompdf-list-bullet\";\n    $style->inherit($frame->get_style());\n    $b_f->set_style($style);\n\n    $deco->prepend_child( Frame_Factory::decorate_frame($b_f, $this) );\n  }\n\n```\nNext modify the file list_bullet_renderer.cls.php (switch statement):\n``` php\n      case \"none\": // Already documented in another thread.\n        break;\n  case \"decimal\": // Here you go, the ordered list stuff!\n    list($x, $y) = $frame->get_position();\n    $index = $frame->get_node()->getAttribute(\"-dompdf-counter\");\n    $text = sprintf('%d.', $index);\n    $font = $style->font_family;\n    $size = $style->font_size;\n    $height = $style->height;    \n    $spacing = 0; //$frame->get_text_spacing() + $style->word_spacing;\n\n    if ( preg_replace(\"/[\\s]+/\", \"\", $text) == \"\" )\n      return;\n\n    $this->_canvas->text($x, $y, $text,\n                         $font, $size,\n                         $style->color, $spacing);\n\n    $x += Font_Metrics::get_text_width($text, $style->font_family,\n\n$style->font_size, $spacing);\n    break;\n\n```\nThe outline of the list can be better, so you should modify the\nlist_bullet_renderer.cls.php file as well, but this is a first step.\nHope this helps in making dompdf even better.\n. From tobias.t...@gmail.com on October 20, 2009 14:42:09\nHi,\nI needed this for more ordered list types (roman, alpha, etc.)\nThanks for providing the patch for ordered lists Sven!\nTT\n. From charlie....@gmail.com on February 17, 2010 23:17:17\nThanks a million, works very well. The margin styling is a little rough but I can fix\nthat next!\nFor anyone needing them, attached are the 2 files with the updated code.\n. From charlie....@gmail.com on February 17, 2010 23:17:17\nThanks a million, works very well. The margin styling is a little rough but I can fix\nthat next!\nFor anyone needing them, attached are the 2 files with the updated code.\n. From ryan.mas...@gmail.com on March 11, 2010 23:11:28\nWhen submitting code fixes, please submit them as a .patch file.\n. From ryan.mas...@gmail.com on March 11, 2010 23:11:28\nWhen submitting code fixes, please submit them as a .patch file.\n. From blorri...@gmail.com on March 21, 2010 18:47:29\nThanks for this - but when I replaced the files (dompdf.cls.php and\nlist_bullet_renderer.cls.php) I get a blank screen.  I went back to the original\nfiles and it worked again . . . but of course I'm trying to show ordered lists in the\npdf, so I'd really like to get this to work.\nAny suggestions?\n. From fabien.menager on March 25, 2010 12:37:59\nI commited the patch with a few changes in r236. Please report any problem here.\n. From blorri...@gmail.com on March 21, 2010 18:47:29\nThanks for this - but when I replaced the files (dompdf.cls.php and\nlist_bullet_renderer.cls.php) I get a blank screen.  I went back to the original\nfiles and it worked again . . . but of course I'm trying to show ordered lists in the\npdf, so I'd really like to get this to work.\nAny suggestions?\n. From fabien.menager on March 25, 2010 12:37:59\nI commited the patch with a few changes in r236. Please report any problem here.\n. From eclecticgeek on June 24, 2010 19:08:59\nThere was an issue where lists specifying lower alpha would render in upper. Addressed in r276.\nSander Bol reported this problem and supplied a fix.\n. From fabien.menager on July 27, 2010 19:55:01\nI think I can close this issue as ordered lists are now fully supported. \nThe only point that may remain is that the List_Bullet_Renderer chich renders the ordered lists could be renamed now to List_Renderer, but this is not the same problem.\n. From fabien.menager on July 27, 2010 19:55:01\nI think I can close this issue as ordered lists are now fully supported. \nThe only point that may remain is that the List_Bullet_Renderer chich renders the ordered lists could be renamed now to List_Renderer, but this is not the same problem.\n. From zlatea.a...@redkiwi.ro on October 04, 2012 11:29:15\nHello,\nHave solved someone the issue with margin styling? thank you\n. From zlatea.a...@redkiwi.ro on October 04, 2012 11:29:15\nHello,\nHave solved someone the issue with margin styling? thank you\n. From eclecticgeek on October 04, 2012 18:14:28\n@zlatea the issue you're asking about does not appear to be related to this enhancement request. Can you open a new issue to report the bug.\n. From regis...@gmail.com on August 27, 2009 14:01:14\nI need use HTML in headers and footers too.\nDo you have an idea?\n. From regis...@gmail.com on August 27, 2009 14:01:14\nI need use HTML in headers and footers too.\nDo you have an idea?\n. From tomd...@gmail.com on September 04, 2009 10:27:50\nShould at least use CSS position-fixed field to achieve that.\nSee #56\n. From tomd...@gmail.com on November 20, 2009 15:31:14\nI think the merge should have been the other way. The problem is having HMTL objects\nprinted at each page, header and footer being an instance of such object, as would be\nleft/right bars...\n. From tomd...@gmail.com on November 20, 2009 15:31:14\nI think the merge should have been the other way. The problem is having HMTL objects\nprinted at each page, header and footer being an instance of such object, as would be\nleft/right bars...\n. This issue is a duplicate of #56\n. From ryan.mas...@gmail.com on May 08, 2009 18:02:53\nPlease see http://groups.google.com/group/dompdf/msg/c0ba6508857eee0a.\n. From ryan.mas...@gmail.com on May 08, 2009 18:02:53\nPlease see http://groups.google.com/group/dompdf/msg/c0ba6508857eee0a.\n. From slavp...@gmail.com on May 08, 2009 21:59:16\nThank you for your fast answer - I've checked the topic but I'm afraid it didn't\nhelped me much. The problem is that I can't get even an error - just a blank screen.\nIncreasing max_execution_time and memory_limit didn't helped me as well, although I\nthink they are connected with the issue. Anyway with smaller files everything is OK. \nI'm attaching an example html file(created by php). It's not complex at all - just\ntable cells with some alignments and styles. The file is W3C certified, so this is\nnot the case as well.\nActually there are some nested tables, but it's not working without them as well.\nI've just created them recently in order to prevent a rendering bug and smaller htmls\nare parsed correctly by dompdf even with such nested tables. \nI'm attaching an example file (800K) if you can check it on your installation.\nThank you!\n. From slavp...@gmail.com on May 08, 2009 21:59:16\nThank you for your fast answer - I've checked the topic but I'm afraid it didn't\nhelped me much. The problem is that I can't get even an error - just a blank screen.\nIncreasing max_execution_time and memory_limit didn't helped me as well, although I\nthink they are connected with the issue. Anyway with smaller files everything is OK. \nI'm attaching an example html file(created by php). It's not complex at all - just\ntable cells with some alignments and styles. The file is W3C certified, so this is\nnot the case as well.\nActually there are some nested tables, but it's not working without them as well.\nI've just created them recently in order to prevent a rendering bug and smaller htmls\nare parsed correctly by dompdf even with such nested tables. \nI'm attaching an example file (800K) if you can check it on your installation.\nThank you!\n. From ryan.mas...@gmail.com on May 08, 2009 22:31:16\nWould need the associated CSS \"s.css\" in order to properly test.\nHowever, the current version does not officially support nested tables. It works\nsometimes and doesn't others.\n. From ryan.mas...@gmail.com on May 09, 2009 00:18:49\nFYI - I tested it without the CSS and on our latest internal build. I've attached\nwhat I get... Obviously it probably looks incorrectly due to not having the CSS.\nTry adding this to the top of your php that is generating the PDF.\nini_set(\"display_errors\",\"on\");\nerror_reporting(E_ALL);\nYou may get something like:\nFatal error: Allowed memory size of 16777216 bytes exhausted (tried to allocate 50 bytes)\nIf you still are not getting an error and it still isn't working... Upload the /www/\ndirectory and try the demo area where you can test by directly inputting HTML. Put\nthe above debug code on the top of examples.php and see if you get an error then.\nWorst case, download the current dev build from the SVN trunk.\n. From ryan.mas...@gmail.com on May 08, 2009 22:31:16\nWould need the associated CSS \"s.css\" in order to properly test.\nHowever, the current version does not officially support nested tables. It works\nsometimes and doesn't others.\n. From ryan.mas...@gmail.com on May 09, 2009 00:18:49\nFYI - I tested it without the CSS and on our latest internal build. I've attached\nwhat I get... Obviously it probably looks incorrectly due to not having the CSS.\nTry adding this to the top of your php that is generating the PDF.\nini_set(\"display_errors\",\"on\");\nerror_reporting(E_ALL);\nYou may get something like:\nFatal error: Allowed memory size of 16777216 bytes exhausted (tried to allocate 50 bytes)\nIf you still are not getting an error and it still isn't working... Upload the /www/\ndirectory and try the demo area where you can test by directly inputting HTML. Put\nthe above debug code on the top of examples.php and see if you get an error then.\nWorst case, download the current dev build from the SVN trunk.\n. From slavp...@gmail.com on May 09, 2009 11:36:55\nHi Ryan,\nThank you for your cooperation! I've made a few more tests with a simpler htmls -\nremoved all nested tables, css file and all classes. If the html is below 500K I got\nthe error \"Fatal error: Allowed memory size of...\" and if it is more than 500K I have\na blank screen. But the blank screen is OK, obviously my main problem is that there\nis not enough memory with or without error message;) \nWell, I need to ask you if you are planning to work in this direction in the future -\noptimizing performance/decreasing memory load? \nAnd if there are another hints or tweaks in dompdf in order to work with bigger htmls?\nThanks you very much for your help!\nSlav\n. From slavp...@gmail.com on May 09, 2009 11:36:55\nHi Ryan,\nThank you for your cooperation! I've made a few more tests with a simpler htmls -\nremoved all nested tables, css file and all classes. If the html is below 500K I got\nthe error \"Fatal error: Allowed memory size of...\" and if it is more than 500K I have\na blank screen. But the blank screen is OK, obviously my main problem is that there\nis not enough memory with or without error message;) \nWell, I need to ask you if you are planning to work in this direction in the future -\noptimizing performance/decreasing memory load? \nAnd if there are another hints or tweaks in dompdf in order to work with bigger htmls?\nThanks you very much for your help!\nSlav\n. From slavp...@gmail.com on May 09, 2009 11:38:29\njust to mention - I've tried both ways -  creating HTML on the fly and directly\ninputting HTML\n. From slavp...@gmail.com on May 09, 2009 11:38:29\njust to mention - I've tried both ways -  creating HTML on the fly and directly\ninputting HTML\n. From ryan.mas...@gmail.com on May 10, 2009 02:13:20\nYou can alter the memory limits on your server. That should help.\nYes, we are working towards reducing memory loads.\n. From ryan.mas...@gmail.com on May 10, 2009 02:13:20\nYou can alter the memory limits on your server. That should help.\nYes, we are working towards reducing memory loads.\n. From ryan.mas...@gmail.com on May 12, 2009 21:38:42\nPlease attach your code.\n. From ryan.mas...@gmail.com on May 12, 2009 21:38:42\nPlease attach your code.\n. From carlcarl...@gmail.com on May 21, 2009 19:02:48\nI have the same problem. I have a SQL query that generates a very simple HTML table\nand the Apache process crashes!\nI am running\nWindows Server 2003 SP2\nApache/2.0.55\nPHP 5.2.8\nThis is it, there is no style sheets or anything, just this basic HTML:\nCould it be the colspans? or simply the number of rows?? I noticed my colspans are\nnot the proper number.\n``` html\n\n\n\nCol1\nCol2\nCol3\nCol4\nCol5\n\n\n\n%%%%%%%%%%%%%%%%%%%%%%%%\n%% Repeated for each row: (x100 for a typical result)\n%%%%%%%%%%%%%%%%%%%%%%%%\n\n\n\n\n'.$row['q'].'\n'.$row['t'].'\n'.$row['qd'].'\n'.$row['cn'].'\n'.$row['jn'].'\n\n'.$row['ld'].'\n '.$row['ln'].' \n\n%%%%%%%%%%%%%%%%%%%%%%%%\n\n\n```\n. From eclecticgeek on May 29, 2009 15:49:04\ncarlcarlson: What is the error reported by apache when the process crashes? Have you\ntried taking DOMPDF out of the script to see if the crash still occurs?\n. From carlcarl...@gmail.com on June 17, 2009 20:44:41\nYes, it is definitely dompdf causing the crash. If I only have 1 row in the table it\nwill output just fine.\nI have since rewritten my script for FPDF.\n. From carlcarl...@gmail.com on June 17, 2009 20:44:41\nYes, it is definitely dompdf causing the crash. If I only have 1 row in the table it\nwill output just fine.\nI have since rewritten my script for FPDF.\n. From m...@davidreade.co.uk on June 18, 2009 08:25:10\nCheck your memory usage - I had a similar problem with tables and high res images.\nGot it to work fine by up'ing my memory limit. Also, you could try removing all your\ndata, and just see if the table loads fine - use single letters or numbers to see\nwhere your cells are in the final PDF copy.\n. From tosc...@gmail.com on June 18, 2009 13:02:04\nI am more or less having the same problem (FreeBSD 6.2 release p3, PHP version\n5.2.8). It happens when rendering bigger pieces of HTML code (about 20kb and up).\nDOMPDF does its work on smaller HTML files, but when the HTML code that needs parsing\ngets too big, it throws a 500 Internal Server Error. It seems to have happened after\na PHP server update (DOMPDF didn't seem to have this problem on PHP version 5.2.6).\nI've maximized the memory_limit and execution_time settings and they didn't solve the\nproblem. Any thoughts?\n. From m...@davidreade.co.uk on June 21, 2009 01:53:24\nCheck your error_log file - HTTP 500 errors should be logged there.\n. From mindfulb...@gmail.com on June 29, 2009 18:18:48\nI am having the same issue.\n- No error is reported in the error log, though error logging is turned on\n- A blank screen is displayed in the browser when I am generating a PDF that is more\n  than one page\n- One-page PDFs work fine\n- Works fine with PHP version 5.2.4 (test server), but no-go on 5.2.8\nPHP.INI\nmemory limit is 1.5 GB\nmax_execution_time is 600 seconds\nI'm on Linux/Ubuntu\n. From zwa...@gmail.com on August 12, 2009 15:05:40\nI have the same problem as mentioned in issue 54.\nI recogniced that with PHP version 5.2.9 it will work again.\nIt would be fine if anyone can help us...\n. From beh...@gmail.com on August 20, 2009 17:21:36\nsame problem here.\nAfter struggling for hours i discovered that it doesn't work when the the content in\nthe table is too big.\nWhen the table exceeds the page size, the pageload stays looping, nothing happens.\n. From mindfulb...@gmail.com on August 20, 2009 17:39:50\nI can confirm that upgrading PHP to version 5.2.9 corrects this issue completely. I\ndo sympathize, however, with those who do not have deep enough access to their server\nto do this upgrade...\n. From beh...@gmail.com on August 21, 2009 06:18:36\nAHA! Will try it, and leave a messagre if that's the case with me also.\nThanx anyway for the tip!\n. From beh...@gmail.com on August 21, 2009 06:25:08\nbugger ... i already have PHP 5.2.10\n. From joshidom...@gmail.com on October 27, 2009 15:08:43\nyes me too have the same problem. if the table not fit a page it will break.\n. From arif....@gmail.com on November 16, 2009 19:46:34\ni have a similar kinda problem. but it happens no matter how big the table is. \ni get internal server error and no pdf is generated for the html file if php version is \n5.2.11. when i change to php 5.3 everything works fine. i change nothing else .. just \nclick on wamp manager and select php version as 5.3.0 and it generates pdf. \n. From michele....@gmail.com on November 18, 2009 00:00:07\nSame problem: if the table exceeds the page size (just one more line) loops until\nmax_execution_time and no output is give!\n. From srbrown1...@yahoo.com on February 23, 2010 11:58:42\nHas anyone found a fix to this yet? I am having the same problem. 1 page pdf's work \njust fine but anything beyond that is hit or miss - sometimes it works and other \ntimes it does not....\n. From steelcas...@gmail.com on February 23, 2010 13:54:02\nWhat are the alternatives?  I too am seeing this problem and need a fix.  I tried the\nalpha code and it does seem to resolve this issue but others issues arise and thus I\ncannot use it.  Should we look into an alternative for html to pdf processing?\n. From fabien.menager on April 07, 2010 19:54:00\nHas anybody tested its code with the latest revision from the trunk ? A few changes \nhave been made for this issue.\n. From bjorn.ro...@itcnet.nu on April 07, 2010 20:35:39\nI just tried it after updating from the trunk. Testfile is \"table_height.html\" with \nadded content. Works fine until the table wraps to the second page, then processor \ngoes up to 100% for 60 seconds and I get this message:\nFatal error: Maximum execution time of 60 seconds exceeded in C:\\xampp\\htdocs\n\\dompdf_svn\\dompdf\\include\\text_frame_reflower.cls.php  on line 100\nIncluded are the HTML file that causes this.\nCall like this:\nhttp://localhost/dompdf_svn/dompdf/dompdf.php?base_path=www%2Ftest\n%2F&input_file=table_height2.html\n. From eclecticgeek on April 07, 2010 21:29:41\nThis does still appear to be a problem. I tested on my dev system and saw memory\nusage rise steadily until the script timed out.\nI haven't delved into the code yet to confirm the problem, but I suspect DOMPDF is\ntrying to keep the contents of each cell on a single page and failing when one of the\ntable cells is too large to fit on a single page. When this happens DOMPDF will enter\nan infinite loop because it continuously pushes the current row to the next page.\n. From stride.a...@gmail.com on April 21, 2010 21:05:20\nThis problem still exists on the current trunk.  I am using php 5.2.9, but have tested \nit on machines with newer versions with no luck.\nI can verify that it is only when a cell grows over the size of one page.  I will look \nthrough the code to see if I can find anything.\n. From eclecticgeek on April 24, 2010 01:59:59\nBased on the comments there may be multiple issues being discussed here. The large table cell problem has \nbeen reported in Issue 91. For this particular problem please refer to that issue.\n. From farozenb...@gmail.com on June 27, 2010 02:38:33\nI use with small size (one or two pages) and work well.\nWhen I try to use with multiples pages (10, 20 o 30) doesn't run.\nDepending of the quantity of pages there are not error or internal server error 500.\nI increase the memory limit.\nI create the PDF from HTML. The HTML is one Table by page. Yes, I sum the rows and end the table and break the page.\nI use windows 2003 (updated today), Apache 2.2.13 and php 5.2.8 in production and VMWare XP (updated today), Apache 2.2.13 and php 5.2.11.\n. From Justin.B...@gmail.com on July 06, 2010 16:23:01\nI'm getting 500 Internal Server Error as well, I'm on php 5.2.8 but I'm on GoDaddy shared hosting and don't have a clue on how to upgrade to 5.2.9.  CAN ANYONE HELP ME UPGRADE.  I read about yum, but this stuff is above my level of knowledge.  HELP PLEASE!!\n. From ivon.web...@gmail.com on November 02, 2010 23:06:57\nSeems I found where is a problem:\nIn my case I had white page without response. So problem was in next:\nMy html was more then 1 PDF page and was in on General < table > < / table >. I've just break this one table on several tables so before next page I've close table and open next table.\nHope this is help someone\n. From Lng...@gmail.com on January 20, 2011 16:12:10\nGot the same issue today.\n@JUST BREAK DOWN YOUR HTML TABLES SO THAT THEY ARE NOT SPAN ON > 1 PAGE\n. From bj...@kvartersmenyn.com on January 20, 2011 16:17:49\nBreaking up tables is not always possible since you don't always know how big a page is or how many rows you can fit. Especially if the cells can be more than one line long because of word-wrapping occuring. But never mind, I found another PDF-creator that can do this. It's much slower but at least it works. mpdf is the name if anyone is interested.\n. From germac...@gmail.com on January 30, 2011 17:56:02\nSo? we have to migrate to another pdf creator until this bug it's fix??\n. From epana...@gmail.com on February 26, 2011 03:28:51\nPerhaps this isn't the optimum solution but t may help someone. \nWe made sure the html data was valid, then, we increased the memory_limit in the php.ini file to 1024 and restarted the php process. dompdf was able to create a 16 page pdf. It took awhile but the pdf was created. Normally we create pdfs that range from one page to about four containing one huge table with nine columns. This file was a little larger, 10 pages. \nEvan\n. From far...@askwhyweb.com on May 17, 2011 11:38:16\nYes somewhat similar problem to this i had faced.\nLets see how longer it takes to fix this bug\n. This issue is a duplicate of #91\n. From rashid...@gmail.com on March 13, 2012 21:36:54\nThis happens for the memory limit of server and the maximun execution time.\nThere's that increase these, for example:\nini_set(\"memory_limit\", \"999M\");\nini_set(\"max_execution_time\", \"999\");\nDo this before you instantiate the class, $dompdf = new DOMPDF();\nSorry for my English!\n. From ryan.mas...@gmail.com on May 14, 2009 13:09:46\nPlease post this in the forum.\nThis is to track bugs.\n. From eclecticgeek on June 03, 2009 16:27:57\nMy understanding of how DOMPDF works with fonts was incorrect. The issue in my case\nwas that the .ttf file was not present for embedding.\n. From bruns.ni...@gmail.com on May 22, 2009 20:57:30\nSometimes when a goofy url is typed in, it redirects to a Wikipedia page for part of\nthe URL contents. Maybe something similar to aciworldwide.com?\n. From ryan.mas...@gmail.com on May 22, 2009 21:02:52\nMy guess would be its a local DNS issue or a server config issue. \n\"aciworldwide\" is not located in any of the dompdf files.\n. From alex.qu...@gmail.com on August 13, 2009 11:34:01\nConcordo logo o a justifica\u00e7\u00e3o que \u00e9 t\u00e3o importante nos documentos.\n. From xjpmauri...@gmail.com on October 10, 2009 15:56:12\nI've been using text-align:justify; with no results. Anyone found a solution?\n. From m...@davidreade.co.uk on October 11, 2009 12:55:04\nI have used this alongside \"white-space: nowrap;\" but only if you want to achieve the\nfollowing:\n1) prevent line wrapping\n2) condense the text to fit into a small space\nIf I leave out nowrap it causes problems.\n. From xjpmauri...@gmail.com on October 12, 2009 22:25:11\nI've tried \"white-space: nowrap;\" but the text get's all mixed up. I can't even \nexplain it. Does anyone knows if there is anything still to be released that \nadresses this problem? i have dozens of documents already done with dompdf, the \nproblem only appears on the server. On my loca instalation of xampp it works ok.\nGetting desperate here... :(\n. From florian....@univ-avignon.fr on October 24, 2009 19:08:01\n@xjpmauricio:\nJustification does not work with Unicode enabled (at least with\nown-added/self-designed) fonts). This is more or less a problem of the PDF-Standard.\nI'll post a more detailed description and a patch to the list once I find time to\nclean it up...\n. From eclecticgeek on December 29, 2009 19:40:47\nSeems like we should be able to rtrim() the text to achieve the desired result. I'll\nneed to research where this action would best be utilized.\n@xjpmauricio: You might have been running into some problems with character width\ncalculations that have since been addressed. Try the latest nightly release\n(http://groups.google.com/group/dompdf/msg/608cf69792d05a82). If you you continue to\nexperience problems post a message to the group so we can better pinpoint your problem.\n@florian.verdet: Have you made any progress on this point? I'd be interested to hear\nwhat you've found. Also, this sounds like an issue that would be better addressed in\na separate issue, so open a new one if you have anything to report.\n. From maic...@gmail.com on March 10, 2010 14:47:38\nI have very problems :~ no wrap, in loclahost with xamp perfect justify, but online\nproblem words wrap  help maiconr@gmail.com tks\n. From maic...@gmail.com on March 10, 2010 15:05:37\neclecticgeek\nwith your code, please view attach \n. From maic...@gmail.com on March 10, 2010 18:33:53\nhi, solution in\nhttp://luca.priorelli.com/lang/en-us/2009/05/19/dompdf-justification-extended-ascii-chars/\n:)\n. From eclecticgeek on April 01, 2010 18:58:21\nI have an update that fixes problems with standard ASCII characters. I do have a\nquestion, though. What should we do when the space at the end of a line is a\nnon-breaking space. DOMPDF no longer strips these off so it can make a line of text\nlook like it doesn't justify correctly. How do we feel about stripping non-breaking\nspaces from the end of a line?\nFlorian, any more information to share on the problems with Unicode?\n. From fabien.menager on April 01, 2010 19:48:05\nI think the best thing to do is to have the same behavior as browsers. I tested with \nthis code :\nhtml\n<div style=\"width: 240px; text-align: justify; border: 1px solid #999;\">\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n  abcdefghijkl mnopqr&nbsp;&nbsp;&nbsp;\n</div>\nand the nbsp are kept when at the end of a line (in Chrome 5.0). They seem to be \nexpanded like normal spaces though.\n. From eclecticgeek on April 12, 2010 19:30:17\nI believe I have a functional patch for when Unicode is disabled. I still have a bit\nof cleaning up to do. The encoding on the font metrics for the core fonts were not\ncorrect (namely they were not based on the encoding used by default in DOMPDF). After\nI clean those files up I'll turn my attention to Unicode-enabled fonts, which still\nappear to be rendering incorrectly.\n. From ryl...@gmail.com on April 14, 2010 18:02:15\nIf you need any help testing this, or I don't know what else, just say the word - I've \nspent a fair amount of time fiddling with some Japanese fonts and made decent progress \ntowards embedding font subsets... One tool that jumped my understanding way forward \nwas using fontforge to open fonts and then comparing that to what ended up in my \nsubsets and also into the PDF itself.\n. From duane.g...@gmail.com on April 15, 2010 12:29:43\nLikewise I would be happy to test.  I'm working with some French text that exhibits\nthis problem and I would be glad to test and report if it fixes it.\n. From mick.d...@gmail.com on April 21, 2010 16:01:07\nI really need this work. I have a whole system just waiting on this final thing. Any\nnews yet on a fix?\n. From eclecticgeek on April 21, 2010 16:19:02\nI'm working out some problems with user-installed fonts when Unicode is enabled, but\nthat is the last thing I need to do. Hopefully I can get it figured out this week,\nbut I'm still tracking down the problem.\n. From mick.d...@gmail.com on April 21, 2010 19:19:47\nexcellent, anything I can do to help just let me know. I have been looking over and\nover to try and get this to work. I have unicode disabled, but am still not able to\nget this working. I have just upgraded to 0.6 beta to try and resolve it on here.\n. From eclecticgeek on April 21, 2010 20:27:12\nI have yet to commit the modifications I've made. So even if you download the current\ndeveloper version from the repository you won't see any changes. I think I'm getting\ncloser to understanding the problem.\nIf I'm not able to make some headway I may commit the current modifications now and\ntry and fix Unicode support later. I would like, however, to post a patch that\naddresses the issue fully.\n. From eclecticgeek on April 29, 2010 02:50:35\nI committed a patch that partially addresses this issue (r257). The patch focuses on two areas:\n  1) spaces at the beginning and end of non-wrapped text\n  2) justify support for Unicode text\nRegarding justified Unicode text, the PDF spec does not allow word spacing modification to a text string \nusing the Tw parameter when the font encoding is multi-byte (reference section 5.2.2 of the PDF 1.3 spec). \nSo I worked around the problem by breaking the text string into individual words. The words are rendered \nusing the TJ operator instead of Tj (meaning they can be rendered as a group). The word spacing modification \nis then manually applied between each set of words (reference section 5.3.2 of the PDF 1.3 spec).\nUnfortunately, the results aren't quite polished enough to close out this issue. Also, I haven't had a chance to \npull together a solution for dealing with left over spaces on wrapped text. We can't just strip these out during \ntext reflow because that causes rendering problems.\n. From voviz.ot...@gmail.com on August 18, 2011 13:27:30\nThe solution is here (a php function witch justify like microsoft word)\n``` php\n<?php\ndefine('JPAD_LEFT', 1);     // More spaces are added on the left of the line\ndefine('JPAD_RIGHT', 2);    // More spaces are added on the right of the line\ndefine('JPAD_BOTH', 4);     // Tries to evenly distribute the padding\ndefine('JPAD_AVERAGE', 8);  // Tries to position based on a mix of the three algorithms\nfunction justify($input, $width, $mode = JPAD_AVERAGE)\n{\n    // We want to have n characters wide of text per line. \n    // Use PHP's wordwrap feature to give us a rough estimate.\n    $justified = wordwrap($input, $width, \"\\n\", false);\n    $justified = explode(\"\\n\", $justified);\n// Check each line is the required width. If not, pad\n// it with spaces between words.\nforeach($justified as $line)\n{\n    if(strlen($line) != $width)\n    {\n        // Split by word, then glue together\n        $words = explode(' ', $line);\n        $diff  = $width - strlen($line);\n\n        while($diff > 0)\n        {    \n            // Process the word at this diff\n            if     ($mode == JPAD_BOTH)  $words[$diff / count($words)] .= ' ';\n            else if($mode == JPAD_AVERAGE)  \n                $words[(($diff / count($words)) + \n                        ($diff % count($words)) + \n                        (count($words) - ($diff % count($words)))) \n                        / 3] .= ' ';\n            else if($mode == JPAD_LEFT)  $words[$diff % count($words)] .= ' ';\n            else if($mode == JPAD_RIGHT) $words[count($words) - ($diff % count($words))] .= ' ';\n\n            // Next diff, please... \n            $diff--;\n        }\n    }\n    else\n    {\n        $words = explode(' ', $line);\n    }\n\n    $final .= implode(' ',  $words) . \"\\n\";\n}\n\n// Return the final string\nreturn $final;\n\n}\n?>\n```\n. I think we can consider this as resolved now, or we'll reopen it.\n. From carlos.o...@gmail.com on May 23, 2009 17:31:07\nHi again,\nThe changes i spoke about above worked just fine - i renamed all the classes to the standard $class.\".php\" \nand put them in a classes folder for easier access.\nTo use dompdf on a different __autoload() system you now only have to move the classes to the library folder \nfor that system.\nI've attached a zip in case someone has the same problem.\nBest regards,\nCarlos Ouro\n. From woody.gilk on November 12, 2009 19:06:29\nIf you have spl_autoload_register, which you should with almost all PHP5 installations, then this is a non-issue.\n. From eclecticgeek on May 29, 2009 15:30:53\nThank you for your input. Support for this CSS property has already been added to the\ntrunk. It will be available with the next release of DOMPDF.\n. From eclecticgeek on May 29, 2009 15:39:17\nAdditional suggested fixes can be found on the bug report filed with the SourceForge\nproject page:\nhttps://sourceforge.net/tracker/index.php?func=detail&aid=1730578&group_id=129679&atid=715479\n. From yyusei...@gmail.com on April 03, 2012 14:56:59\nIssue is not repaired. I have new suggestion.\nWhat steps will reproduce the problem?\nGenerate more than one pdf containing images within the same request\nWhat is the expected output? What do you see instead?\nError 1. Warning: unlink(/var/www/dompdf/ca_dompdf_img_ujrBJ8): No such file or directory in /var/www/ef_root/vendors/dompdf/3.0/include/image_cache.cls.php on line 152\nError 2. On second pdf - Image not readable or empty\nhttp://localhost/img/companyLogo_0309\nFirst generated pdf is OK. But other, where have images from same link is not.\nWhat version of dompdf are you using? What version of PHP? On what\noperating system?\nDOMPDF 0.6.0 beta 3, on linux.\nPlease provide the HTML source code you want to convert, or any additional\ninformation.\nFirst loop - no problem.\nSecond loop - All file is deleted but self::$_cache contains link to file, who not exist.\nLine 66-68 of include/image_cache.cls.php check if the link is exist, but file is not there.\nphp\n  if ( isset(self::$_cache[$full_url]) ) {\n    $resolved_url = self::$_cache[$full_url];\n  }\nIn second loop we can't delete files and can't use them to generate pdf file, because they are not exist.\nChanging this (line 147 of include/image_cache.cls.php)\n``` php\n  static function clear() {\n    if ( empty(self::$_cache) || DEBUGKEEPTEMP ) return;\nforeach ( self::$_cache as $file ) {\n  if (DEBUGPNG) print \"[clear unlink $file]\";\n  unlink($file);\n}\n//\u0421\u043b\u0435\u0434 \u043a\u0430\u0442\u043e \u0438\u0437\u0442\u0440\u0438\u0435\u043c \u0432\u0441\u0438\u0447\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u0438, \u0438\u0437\u0447\u0438\u0441\u0442\u0432\u0430\u043c\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0430\u0442\u0430 \u043f\u0440\u043e\u043c\u0435\u043d\u043b\u0438\u0432\u0430\nself::$_cache=array();//TODO \u0414\u043e\u0431\u0430\u0432\u0435\u043d\u043e \u043e\u0442 Yusein Yuseinov\n\n}\n```\nTo this:\n``` php\n  static function clear() {\n    if ( empty(self::$_cache) || DEBUGKEEPTEMP ) return;\nforeach ( self::$_cache as $file ) {\n  if (DEBUGPNG) print \"[clear unlink $file]\";\n  unlink($file);\n}\n\nself::$_cache=array();//changed\n\n}\n```\nSeems to work as expected.\n. From eclecticgeek on April 03, 2012 21:46:18\n@yyuseinov thank you for the pointer. This bug had been addressed, but was apparently reintroduced in the latest release (regression error). We'll patch for the next 0.6.0 release.\n. From eclecticgeek on April 04, 2012 01:24:04\nd'oh ... checked the beta 3 tag, but forgot to check against the trunk. Already fixed for next release.\n. From ryan.mas...@gmail.com on July 28, 2011 21:38:50\nI've gotten a lot of email requests for this. We may want to make this a priority. Has anyone looked into it yet?\n. From fabien.menager on July 31, 2011 13:35:07\nNope, we didn't work on it, we try to resolve page break issues in tables for now.\n. From newc...@gmail.com on June 04, 2009 06:35:51\nIm also waiting on this one, hope it gets done on next release cause it would be good\nto set logos on the top-right of the page.\nThx for the work so far!\n. From kelvin.w...@gmail.com on July 30, 2009 11:51:45\nlets tell me if you are finish.\n. From destilla...@gmail.com on September 01, 2009 13:07:44\nThe Float-property support would be absolutely great.\n. From amitpati...@gmail.com on September 01, 2009 13:20:51\nyes thats really nedded\n. From daleya...@gmail.com on October 18, 2009 12:39:00\nfloats are definitely more needed in our case\n. From vie...@gmail.com on October 18, 2009 18:48:10\nseens like a high priority enhancement\n. From gigaprom...@gmail.com on October 28, 2009 07:40:08\nAny other possible alternative to align before this is done?\n. From m...@davidreade.co.uk on October 28, 2009 19:19:18\nI've used padding/margin along with negative values to move anything anywhere i want,\neven over the top of another object. It works very well.\nE.g. padding-top: -10;\nNotice I've not used pixels or any form of measurement. I found using this method\nenabled me to position something accurately. You can also use a single decimal place\nhere to make it even more spot on, such as \"padding-top: -10.5;\".\n. From Bokern.K...@gmail.com on January 03, 2010 12:52:42\nFloat support would be nice. I don't like to use tables instead.\n. From arp...@gmail.com on January 26, 2010 22:13:39\nFloat property is very important at this time, because div it been used more than ever\n. From fabien.menager on August 27, 2010 19:10:04\nI'm currently working on this issue, which is the most wanted, but also one of the hardest issues.\nSo, if anyone has ideas about this, he'll be welcome !\nI searched a lot on the web to find how existing engines work, and I found a few things.\n- The first is the spec : http://www.w3.org/TR/CSS2/visuren.html This is where I know how it should look\n- The second one is a project (pybrowser) which is a \"Python Web Browser with it's own rendering engine\". I didn't test it, but the engine seems to be quite complete, and I found a few clues about how to implement floats : \n  - http://git.paulbonser.com/?p=pybrowser.git;a=blob;f=boxmodel/box.py#l22\n  - http://git.paulbonser.com/?p=pybrowser.git;a=blob;f=boxmodel/layout.py#l124\n    Even if it is not working as it is missing a few lines of code, this looks good.\nI also looked at other PHP libraries that aim to convert HTML to PDF, but no one supports float.\nAfter reading all this, I had a better idea of how to do this.\nAll the rules I'm going to detail are for left-floating element, but it is analogous for right-floating elements.\nFirst, all floating elements should behave like block elements except that their width will be adapted to there contents instead of there container (except if specified explicitly).\nThen, if an element B is floating to the left, it will be pushed to the left of it's container, but at the right of any other existing floating element A if the bottom of A is below the top of B.\nFloating elements are never pushed down or up from there initial Y position (except if specified by margin-top or top of course).\nThe element B that follows a floating element A is pushed at the top of the floating element (like if A had a zero height). The available width for B is then reduced by A.width+A.x\nSo, if a text is following A, it will have a restricted width, and the lines will be shorter, as long as the line's Y position if higher than the A. The text's lines will get their width back after this.\nFurthermore, a floating element can not only affect it's next sibling, but also all the inline elements that come after it : http://www.w3.org/TR/CSS21/images/float2p.png\nSo a list of previous floating elements need to be kept on each page in order to refer to it to see if any floating element will affect the inline element's placement and size. The block elements are not affected if they are not siblings.\nThe specs say : \"The contents of floats are stacked as if floats generated new stacking contexts, except that any positioned elements and elements that actually create new stacking contexts take part in the float's parent stacking context.\" So the floating elements need to be drawn after any \"normal\" element so that they appear on top.\nOuch.\nThis won't be easy.\n. From fabien.menager on August 30, 2010 21:26:47\nI commited a basic support for floating elements in r305, please try it by checking out the SVN trunk. I added an example, and I attach the resulting PDF document.\nNote that I only tested this on floating images, but I will also add support for any element type.\n. From eclecticgeek on August 31, 2010 17:48:24\nFabien, that looks like an awesome start! Your method of handling this functionality should work out great (and should be easier to implement than what I had mentioned in email).\nAs you said, this won't be easy. But I think with the work you're putting in we'll at least have some basic float capabilities in DOMPDF for the next release.\n. From fabien.menager on September 03, 2010 12:54:27\nHere is what works now (in the SVN trunk) : \n- Images floating left and right inside raw text \n- Images floating left inside text containing inline elements (strong, em, etc), it partially works when floating on the right\n- Blocks floating left and right are well positionned, but its content remains on its initial place (??)\nWhat doesn't work (or that I didn't test yet):\n- The line after a right-floating block is not shifted, the same for the line before a floating-left block.\n- Inline floating elements\n- Successive floating elements\n- Floating elements inside tables\nThis may not all be fixed before the next beta release\n. From ponzus...@gmail.com on September 17, 2010 10:46:10\nHave any idea how to 'hard-code' a temporary fix until it is done in the released version? I ned to have 2 columns of images next to each other that are all contained in divs. So far they float alright, but all on the same line, when the parent container has a defined css height, they all show but the float right doesnt flot on the same line anymore. \nI've tried playing around with the block_positioner and image_renderer files but couldnt find how to force a height on the parent container only on float:right..\nAny idea?\nThanks\n. From phenxdesign on September 17, 2010 19:06:54\nHello, all the work is done by Block_Frame_Reflower. Actually, my main goal is to support image floating inside text.\nI hope I won't have to take another direction that the one I'm following to support float.\n. From victoria...@gmail.com on October 15, 2010 21:39:38\nHi there!\nI\u00b4m trying to use negative margins (while I can\u00b4t use float at least), but it won\u00b4t work at all. The second object that should be besides the first one won\u00b4t move.\ncss\n.print_activos {\nmargin-left:5px;\n}\n.print_pasivos {\nmargin-top:-268px;\nmargin-left:450px;\nmargin-bottom:100px;\n}\nThe second block of text won\u00b4t be aligned beside the first one, but after it.\nAny advice would be geatly appreciated. \nThanks!\nRosamunda\n. From victoria...@gmail.com on October 15, 2010 21:40:11\nHi there!\nI\u00b4m trying to use negative margins (while I can\u00b4t use float at least), but it won\u00b4t work at all. The second object that should be besides the first one won\u00b4t move.\ncss\n.print_a {\nmargin-left:5px;\n}\n.print_p {\nmargin-top:-268px;\nmargin-left:450px;\nmargin-bottom:100px;\n}\nThe second block of text won\u00b4t be aligned beside the first one, but after it.\nAny advice would be geatly appreciated. \nThanks!\nVictoria\n. From eclecticgeek on October 18, 2010 18:26:17\n@victorialoisi: Negative margins are not fully supported. The issue has been partially address in the latest code. Even with the latest code you will want to apply the negative value to the adjacent margins. If .print_a is followed by .print_p then you should be able to use this:\ncss\n.print_a {\n  margin-left:5px;\n  margin-bottom:-268px;\n}\n.print_p {\n  margin-top:-268px;\n  margin-left:450px;\n  margin-bottom:100px;\n}\n. From keic...@gmail.com on February 08, 2011 10:25:13\nplease need the fix for css float. many thanks\n. From fabien.menager on June 24, 2011 22:20:10\nHello everybody, I commited an initial support for CSS float, you can see what it looks like here :\nhttp://pxd.me/dompdf/dompdf.php?base_path=www%2Ftest%2F&options[Attachment]=0&input_file=css_float.html\nPlease note that this may not work in every cases for now, especially with elements aligned on the right, or when there are more than one floating element on the same side, but, we are on the good path !\n. From fabien.menager on June 29, 2011 21:23:38\nI made a few changes after my first commit for the float support and there are still lots of issues remaining : \n- it doesn't work in tables, but tables can be floating\n- floating elements normally have an effect on all the elements in the page (except them with CSS clear) not only the ones in the floating element's parent\n- sometimes when the float is at the end of a line, the line itself is too narrow for its words\n- clear is not supported\n- when floating elements touch themselves, they behave strangly\n- floating elements should widen their container when they can and when they are wider\n- floating block elements should not take all the width when they don't have a width specified\n- maybe other problems\nFor now, it looks like floating images work in most of the simple cases, I hope we'll have a pretty complete support in the next release.\n. From fabien.menager on July 18, 2011 10:26:20\nI fixed this bug this weekend : \n- sometimes when the float is at the end of a line, the line itself is too narrow for its words\nDon't hesitate to try the latest revision from the trunk in your project !\n. From ukarr...@gmail.com on August 30, 2011 15:03:22\nWith domPDF 0.6 beta2 the float does not work (in this one case I have).\nOn the left a div with a table inside. On the right a div with an image (in an anchor). Around a div-container with class \"floatbox\" (a class to end floating in YAML (Yet another multicolumn layout).\nBut it does not work. The image and table is on top of each other.\n. From ukarr...@gmail.com on August 30, 2011 15:04:41\nHere is described how the YAML Framework and the floatbox-class works.\nhttp://www.yaml.de/en/documentation/basics/how-floats-work.html\n. From fabien.menager on August 31, 2011 15:42:12\nHello, there have been lots of changes in the SVN trunk, did you look at them ?\n. From guiferro...@gmail.com on August 31, 2011 17:00:20\nIf i might say something, it would be : Why inline-block elements have a natural float to left? i mean,it's not a real float but works like. The only problem with inline-block elements is that they doesn't support styles like padding, margin. If it is possible to make inline-block elements accept attr off a block element such as positioning (top,left,right,bottom) and size (margin, padding, width, height) inline-block elements would be just like block elements but with the natural float.\nIt wouldn't solve the problem and it's not the way we (i) want to do our software, but is a work arround to thing about:\nEx \ncss\ndiv.somediv {\n  display:inline-block;\n  padding:5px;\n  margin:2px;\n  background:#CDF;\n}\nhtml\n<div class=\"somediv\"></div>\n<div class=\"somediv\"></div>\nIt will works almost perfectly in any version of DOMPDF, but margin, padding and any other attr that will modify the form of the El will not.\n. From eclecticgeek on September 22, 2011 02:57:13\n@ukarr... we are still implementing float support. As @fabien.menager says, the latest code from the repository has much improved float support. You can grab it from the repository or download a nightly here: http://eclecticgeek.com/dompdf/\nAlso, you have to specifically enable float support in you configuration file. See DOMPDF_ENABLE_CSS_FLOAT\n. From eclecticgeek on September 22, 2011 03:00:15\n@guiferrolli inline-block support is only nominal right now. To ensure better support you should create a new issue/enhancement request so we can better track it.\n. From fabien.menager on January 26, 2012 07:10:42\nI worked again on this issue, we have pretty good results now, especially with floating elements inside text blocks. There are still a few issues : like the example on the top of this issue report which doesn't work yet. \nIt's hard to try all the combinations so, feel free to post examples here that you'd like to see working, keep in mind that the work is done in the SVN trunk so, try your examples with it before.\nDon't forget to enable float support in the config.\nIf you want to see what result we can obtain, look at the examples \"css_float\" and \"css_position_all\" here: http://pxd.me/dompdf/www/examples.php\n. From knob...@gmail.com on February 08, 2012 14:39:31\nhey, gimme the last release.\n. From eclecticgeek on February 08, 2012 15:46:44\nIf you can't wait for the official beta 3 release you can download a nightly here:\nhttp://eclecticgeek.com/dompdf/\n. From laststoc...@gmail.com on March 23, 2012 16:20:55\nI tried the floating, but It apears to still have alot of problems. When I put some elements on float they all apear on top of each other in the right corner.\n. From eclecticgeek on May 15, 2012 02:02:32\nOne more test case: a floated element styled with width: auto\nref. #487\n. From eclecticgeek on June 04, 2009 16:24:48\nOriginal bug report from SourceForge\nhttps://sourceforge.net/tracker/?func=detail&aid=1756314&group_id=129679&atid=715479\n. From fabien.menager on February 01, 2011 20:46:18\nAll the occurences of %f and other locale aware type specifiers were fixed, I can close this issue.\n. From eclecticgeek on June 03, 2009 16:13:29\nThis would appear to be the intention. dompdf_config.inc.php does include a constant\ncalled DOMPDF_DEFAULT_FONT that is described to be \"Used if no suitable fonts can be\nfound. This must exist in the font folder.\"\nOne possible location to fix this might be style.cls.php@get_font_family().\n. From eclecticgeek on June 04, 2009 16:21:37\nHTischer fixed in r132.\n. From eclecticgeek on June 03, 2009 17:01:18\nTurns out the problem is not that DOMPDF was treating the value of font-family as a\nsingle font name. Upon exception DOMPDF was reporting the value of font-family as\nwritten. While processing of the list, however, DOMPDF was correctly parsing the\nstring and attempting to match each individual entry to a font mapping. The problem\nwas that after exploding the font-family string the resulting array of alternatives\nwere not at any point trimmed. This resulted in leading spaces for entries after the\nfirst font.\nTo fix this I used array_map() to pass each value to trim. See\nstyle.cls.php@get_font_family().\nNote: We might also consider using trim in font_metrics.cls.php@get_font() to further\nensure the font is read correctly. I don't imagine there are many (any) font names\nwith a leading or trailing space.\n. From fabien.menager on July 21, 2010 22:02:33\nThis issue was closed by revision r287.\n. From fabien.menager on April 28, 2012 11:08:13\nDefault styling for fieldset was added a few revisions ago. Which gives this result : http://eclecticgeek.com/dompdf/debug.php?identifier=365e042e78b44af5691d2a53771f4388\n. From syx...@gmail.com on June 23, 2009 20:07:09\nI am also having this issue.  We are running 0.5.1 on a Windows server. \n\"page-break-before:always\" works but page-break-inside:doesn't work if there are\nnested tables\n. From davidjme...@gmail.com on September 08, 2009 19:55:15\nI cannot reproduce this using the latest dompdf from SVN - could you:\n1) Double check that it renders as italic using a Standards-Compliant HTML renderer such as WebKit \n(Safari/Opera/Chrome)/Gecko(Firefox)?\n2) Can you check the behaviour with the latest dompdf code from SVN?\n. From prestonk...@gmail.com on September 23, 2009 14:30:58\nI am having this problem too. I traced it to the sans-serif font family. \n\n\n\n.font {\n    font-family: Helvetica, sans-serif;\n}\n\n\n\n\ndon't bold it\nnot bolded\n\n\nthis code will produce it in the demo at http://www.digitaljunkies.ca/dompdf/examples.php\n. From eclecticgeek on September 23, 2009 20:02:59\nThanks for the additional info. It is definitely still a problem in the latest\nversion and it appears to affect all the core fonts (Helvetica, Times, Courier,\nSymbol, Zapf Dingbats). I loaded Verdana on my test system and it renders fine.\nIf I were to hazard a guess I'd have to say there's a problem with the included font\nmetrics, but I'll have to do more testing.\n. From fabien.menager on March 15, 2010 21:32:01\nThe default font family cache file is really weird !\nIt contains data like this :\nphp\n  'sans-serif' => array (\n    'normal' => DOMPDF_FONT_DIR . 'Helvetica',\n    'bold' => DOMPDF_FONT_DIR . 'Helvetica-Bold',\n    'italic' => DOMPDF_FONT_DIR . 'Helvetica-BoldOblique',\n    'bold_italic' => DOMPDF_FONT_DIR . 'Helvetica-BoldOblique'\n  ),\nIt is the same for Times, TimesRoman, Courier, Helvetika, Monospace and Fixed. I \ndidn't test the FontMetrics method that writes data in this file, there may be the \nreason of this issue.\n. From eclecticgeek on March 16, 2010 18:54:41\nI think this is just a mistake in the .dist file. DOMPDF doesn't create any of these\nentries from scratch, it starts with what's in the dompdf_font_family_cache file then\nwrites out the results after any modifications to the array have been made. I've gone\nahead and updated the file (r225), hopefully this will address the issue.\n. From pozzo...@gmail.com on June 22, 2009 01:27:29\nI meant :\n\"When put this line n\u00b01216 in comment, I get my PDF file correctly.\"\nAPB\n. From pozzo...@gmail.com on June 23, 2009 16:31:55\nHere is the solution :\nclass.pdf.php doesn't know how to manage pagenavigation anchors, \ndeb, next, 1 and 2 where the problem. \nJust do a $website = str_replace (\"#\", \"\", $website); in shop.pdf_output.php before \n$dompdf = new DOMPDF();\nThat's all folks\n. From fabien.menager on March 29, 2010 21:42:54\nNavigation anchors are pretty well supported in the latest releases, and I think this \ncan be closed as 1 and 2 are not valid XHTML anchors.\n. From sluderitz@gmail.com on June 26, 2009 08:45:19\nAll umlauts seem to have zero width. This also effects line breaks for left aligned text.\n. From eclecticgeek on November 12, 2009 20:49:49\nI don't believe this is limited to aligned text. The main issue appears to be a\ngeneral problem calculating the width of non-ANSI characters.\n. From eclecticgeek on November 12, 2009 21:38:28\nA partial fix is available in the SVN repository, Revision 191. The fix addresses the\nunderlying issue that were caused by character set conversion. However, this fix\nworks best when you're using your own fonts (i.e. fonts loaded with load_font.php).\nDue to some other issues related to the core fonts we have some more work to do\nbefore this is fully addressed.\n. From ton...@gmail.com on November 13, 2009 17:15:08\nI'm using latin characters like \u00e0\u00e1 \u00e8\u00e9 \u00f2\u00f3 \u00e7 and the Revision 191's fix doesn't work\nfor me. The text lines with latin characters appear displaced to the right (partialy\noutside the body, div or table) exactly the same way they did before.\nThank you anyway for your effort!\n. From eclecticgeek on November 13, 2009 18:31:53\n@tonilb: You are correct. There were actually two problems that needed to be\naddressed. I've taken care of the code modifications that needed to be made, but\nthere is still an issue that needs to be addressed related to character set mapping\nfor the core fonts. We're discussing how to address that issue.\nIn the meantime, I believe that if you load your own font (like verdana) the\ndisplacement problems should be addressed. If that is not the case please let us know.\n. From mitchell...@gmail.com on February 23, 2010 01:10:26\nhi.\nHaving issues with right align accented chars. \nI've checked out the latest copy ( r210 ) and tested against the attached file. \nSeems to be related.\nI've tried different fonts as suggested in comment. \n. From eclecticgeek on February 23, 2010 02:40:46\n@mitchell.amihod which fonts are you using? I loaded the document up with Verdana and it renders correctly. \nSee it here:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue29.htm&&dompdf_ver=trunk&load_method=1\n. From mitchell...@gmail.com on March 10, 2010 15:16:46\n@eclecticgeek I tried with a few fonts (helvetica in that example). I am on OSX. I will try with Verdana. Can I ask \nwhat rev # you are using? (sorry for delay response - I thought I had starred the issue so i would get email \nnotice when someone replied )\n. From eclecticgeek on March 10, 2010 18:57:08\n@mitchell.amihod I believe the problem with the accent character is related to the\nlimited character set available by default. You would either have to enable unicode\nand use an installed font (such as verdana) or create a differences array that helps\nDOMPDF understand your characters.\n. From mitchell...@gmail.com on March 10, 2010 19:01:25\nThanks eclectic. \nI will look at the enabled Unicode (i must have missed that, since it was working fine left aligned, \nfigured utf8 was enough). \nI will try first though with Verdana and see what happens.\nCan you tell me more what you mean about a differences array? (just even a link or line reference in the code \nwhere I should be reading)\n. From eclecticgeek on March 29, 2010 17:30:22\n@mitchell.amihod Luca Priorelli has a pretty good description of how to use a\ndifferences array:\nhttp://luca.priorelli.com/lang/en-us/2009/05/19/dompdf-justification-extended-ascii-chars/\n. From rapha...@gmail.com on October 06, 2010 12:47:09\nHey there!\nI would like to use dompdf with umlauts, especially the german \u00e4, \u00fc, \u00f6 and \u00df. I used v6.0a1 but after this issue, I checked out the repository and tried to use it but dompdf won't work no longer. I also updated to r210 but there is the same error.\nHave you any ideas to fix it? A table with umlauts is necessary and I have no ideas :/\n. From rapha...@gmail.com on October 06, 2010 12:48:40\nOh sorry, I meant v6.0b1...\n. From eclecticgeek on October 06, 2010 18:40:54\n@raphaaDE Have you indicated that your document is encoded as UTF-8 using a meta tag? This is necessary if you have not entity-encoded those characters. Otherwise DOMPDF assumes that your document is iso-8858-1.\nYou shouldn't need to enable Unicode support for the characters you specified, especially if you're using at least v0.6.0 beta 1. Your problems with the latest from the repository could be due to changes in the font metrics format. For help on that try posting to the support forum.\nHere are examples of how DOMPDF renders a document depending on the encoding and characters.\n1) UTF-8 encoded with meta tag\nHTML: http://eclecticgeek.com/dompdf/debug_tests/issue29c16-1.htm\nPDF: http://eclecticgeek.com/dompdf/index.php?input_file=issue29c16-1.htm&dompdf_ver=0.6.0_beta1\n2) UTF-8 encoded with NO meta tag\nHTML: http://eclecticgeek.com/dompdf/debug_tests/issue29c16-2.htm\nPDF: http://eclecticgeek.com/dompdf/index.php?input_file=issue29c16-2.htm&dompdf_ver=0.6.0_beta1\n3) Entity-encoded with NO meta tag\nHTML: http://eclecticgeek.com/dompdf/debug_tests/issue29c16-3.htm\nPDF: http://eclecticgeek.com/dompdf/index.php?input_file=issue29c16-3.htm&dompdf_ver=0.6.0_beta1\n. From rapha...@gmail.com on October 07, 2010 06:33:14\nThank you for your fast answer. I have no problems with the encoding, but the text \nis in a td with a fixed with and overlaps himself like this:\n. From eclecticgeek on October 07, 2010 18:24:58\nI believe the overlap is due to a bug in width calculation. It has been addressed in the latest code and will be part of the next beta. If you would like the updates now, you should try code from the repository again.\n. From rapha...@gmail.com on October 14, 2010 11:24:10\nI updated to the latest revision but my PDF is totally broken now...\n. From eclecticgeek on October 14, 2010 18:33:41\nBroken how? Without more detail I can only guess as to the problem. There have been some changes to the format of the files related to font metrics. When upgrading to the latest trunk you'll want to make sure you're not using any files from a previous release.\nThe easiest way to do this is to install into a new directory. Next best thing would be to archive/delete the contents of the domdpf font folder when upgrading. If you have loaded any fonts you'll need to do so again.\n. From rapha...@gmail.com on October 15, 2010 06:16:52\nI checked out into a new directory, just using this trunk and have no extra fonts.\nThe PDF shows no border of a table and it ignores my inline-PHP (header & footer).\nCan I fix the bug with the latest beta?\n. From eclecticgeek on October 15, 2010 18:05:09\nI'm not sure about the table border issue. I'd have to see a sample HTML document. Regarding the other issue, the default in the latest code is to NOT run inline PHP. So make sure you adjust that setting.\nThere were a few changes committed after the beta 1 release that might relate to your problem. The revision that incorporates the most relevant changes would probably be 257. If you're comfortable enough with SVN you could try checking that revision out on the trunk.\n. From rapha...@gmail.com on October 15, 2010 18:07:21\nOkay I will try r257 on monday. Thanks a lot and have a nice weekend :-)\n. From *proyec...@ideaespacio.com on January 21, 2011 12:39:01\nSame problem with 0.6.0 beta1. Any idea?\n. From eclecticgeek on January 21, 2011 20:16:27\nSome updates have been made to the code since the release of beta 1. The next release will incorporate these changes.\n. From kalle.ne...@gmail.com on February 16, 2011 21:21:38\nWhen is the next beta being released?\nThanks\n. From fabien.menager on February 16, 2011 22:02:04\nWe are currently writing the release notes and the migration info. This beta will appear this week.\n. From davidjme...@gmail.com on September 08, 2009 20:01:16\nCan you reproduce this using dompdf yourself rather than the bundled test script and post the full stack trace?\n. From fabien.menager on April 07, 2010 19:55:33\nWhile having no more info for more than 6 months, I close this issue\n. From james.ze...@gmail.com on February 05, 2011 22:50:06\nI'd also like to see this too. A method like this would also cater for simple page borders, logos, underlays and much more and I can see this being incredibly useful. For example, business could easily append their logo to header/footer, contact information displayed, SAMPLE TEXT could be written across the page using a simple background image (for sensitive documents?) and much more.\n. From james.as...@knowledgebrief.com on October 17, 2012 08:34:48\nAgree this would be great\n. From eclecticgeek on August 19, 2009 16:52:54\nThe fix offered by Goldenlocks at\nhttp://groups.google.com/group/dompdf/msg/d3f9c0d744c93a08 is a partial solution.\nThere appear to be some further issues that need to be addressed.\n. This issue is a duplicate of #98\n. From eclecticgeek on October 15, 2011 03:50:16\nI'm not entirely sure this is related to issue 91. I think this issue had more to do with a bug in PHP which was causing the apache child process to die. Issue 91 typically just results in PHP exhausting its available resources (memory, execution time).\nThis is difficult to say for sure. In the first relevant post we don't have a code sample. In the second I was unable to duplicate the error and the code sample wouldn't trigger issue 91.\nAs a result I don't think this bug is due to a problem with the dompdf code (though if we were able to pinpoint it we might have been able to mitigate the error).\n. From romuald....@gmail.com on June 29, 2009 12:52:27\nSorry the function name is split_text, not strip_text\n. From glp...@gmail.com on January 06, 2010 13:31:17\nHi, I'm having the same problem, but I have PHP 5.2.9 and also your fix don't work.\nAny thoughts?\n. From fabien.menager on July 20, 2010 11:35:06\nThis issue was closed by revision r285.\n. From fabien.menager on July 20, 2010 11:35:34\nFixed in r285\n. From latinos...@gmail.com on February 22, 2011 16:08:39\nThis solution didn't solve my problem (i use PHP 5.3.2 on Ubuntu), after i replace that function DOMPDF continued breaking words very bad.\nI tried with something somebody posted on the following link and it solved it all:\nhttp://www.dashinteractive.net/dompdf/index.php?v=3153736\nWhat tommylacroix proposes is:\nfunction split_text($offset) {\n    if ( $offset == 0 )\n      return;\n```\n$text = $this->_frame->get_node()->nodeValue;\n$split = $this->_frame->get_node()->splitText($offset);\n$this->_frame->get_node()->nodeValue = mb_substr($text,0,$offset);\n$split->nodeValue = mb_substr($text,$offset);\n$deco = $this->copy($split);\n$p = $this->get_parent();\n$p->insert_child_after($deco, $this, false);\nif ( $p instanceof Inline_Frame_Decorator )\n  $p->split($deco);\n```\n}\nBest regards from Colombia\n. From mma...@gmail.com on February 22, 2011 16:18:43\nPHP 5.3 doesn't have the bug in the splitText() method, so this patch is irrelevant.\n. From m...@davidreade.co.uk on July 06, 2009 22:34:11\nRunning on PHP 5.2.9 here, Linux VPS, no problems. Tell your host to upgrade to the\nlatest version of PHP first... IMO.\n. From eclecticgeek on July 14, 2009 04:52:49\nIf you run DOMPDF from the command line you should see a segmentation fault. I have yet to track down the \nsource, but I have found that some HTML documents that cause this issue can still present problems on updated \nsystems (memory limit issues). May or may not be related.\n. From Justin.B...@gmail.com on July 06, 2010 14:32:58\nI'm having the same issue.  Dompdf is working fine on my localhost but when I run the script on my server (Linux shared hosting from GoDaddy) I get this error:\nInternal Server Error\nThe server encountered an internal error or misconfiguration and was unable to complete your request.\nPlease contact the server administrator, support@supportwebsite.com and inform them of the time the error occurred, and anything you might have done that may have caused the error.\nMore information about this error may be available in the server error log.\nGoDaddy says my version of PHP is 5.x\n. From eclecticgeek on July 06, 2010 17:31:13\nLooking back at this error we'll need more information about what's going on. An internal server error could be due to something as simple as going over the allowable memory usage. If you look at the Apache/PHP error logs do you see any relevant information?\n. From inkwell....@gmail.com on July 12, 2010 21:48:32\nHaving the same issue. Stuck on GoDaddy and I do not have the option to switch or upgrade PHP versions. I've upped the memory and time limits to no avail. \nSmaller PDF's are generated easily however the large PDF's that used to work fine, now result in a 500 internal server error after 15-20 seconds of processing time.\nEverything runs smoothly until $dompdf->render(); is called.\nAny ideas appreciated.\n. From eclecticgeek on July 15, 2010 02:02:43\nThere does appear to be an issue with PHP 5.2.8 that does not appear in other releases. I haven't definitively identified the source (possible memory leak?).\n. From nicholas...@gtempaccount.com on July 16, 2010 10:35:19\nI think the problem stems from the php evaluator class. On newer versions of PHP a segmentation fault occurs when using inline php. When disabling utf8_decode of the inline php the segmentation fault disappears.\n. From mma...@gmail.com on July 19, 2010 09:20:02\nSame here with PHP 5.3.2\nSeems that the proposed solution provided by 9 solves the problem.\n. From german.r...@gmail.com on July 27, 2010 14:23:41\nSame here. PHP 5.3.2 (ubuntu with Suhosin)\nGives segfault when trying to convert pages from \"Samples\".\nAll the pages that fail have script type=\"text/php\" in them.\nTried with both 0.6.0b1 and with 0.5.1\nWhen php code is removed PDF generates successfully.\n. From gary.huk...@gmail.com on August 12, 2010 06:24:22\nGet this error when converting pages with tables. most samples work fine, have an issue with latin1.html. Gives Internal Server Error.\nNot sure how to deal with it. Works well with my hostgator account. Godaddy server has an issue.\nAny one can help?\n. From MCF...@gmail.com on March 10, 2011 13:12:03\nWith PHP 5.1.6 I get this error on the latin1 example page as mentioned by #12 \nIt also happens on one of my scripts once a simple table is a certain way down the page inside a body element and after about 2 DIVs.\n. From MCF...@gmail.com on March 11, 2011 09:08:31\nUpgrading from PHP 5.1.6 to 5.3.5 solved the issue for me.\n. From mewl...@gmail.com on March 16, 2011 14:13:33\nI have this same problem with script type=\"text/php\" began after the updating of some packages (unfortunately I noticed not immediately) in March 2011. There were errors \"segmentation fault\"... Before all worked fine. WTF...\nEarned today after the upgrade my Ubuntu from 10.04 to 10.10 :)\n. From michael....@gmail.com on April 06, 2011 02:54:11\nI have same problem. Working one day and no working the next.  Removing php/text script allows to work without problems. Ubuntu 10.04, php -v 5.3.2.  Has anyone found a work around for this.  I see one guy upgraded to 5.3.5, has that worked for anyone else?\n. From fabien.menager on April 06, 2011 06:04:52\nHello, what version of dompdf do you use?\nCould you try something to know where this error comes from ?\n- Change the \"type\" attribute of the inline PHP script from \"text/php\" to \"text/dompdf\"\n- Replace \"text/php\" to \"text/dompdf\" in renderer.cls.php\nand tell me if it works now.\n. From binarys...@gmail.com on July 29, 2011 21:29:13\nI am using PHP 5.2.14 on godaddy and it seems that there is a big issue with dompdf.\nIt generates one page pdf. But when we try to generate multipage pdf it show 500 internal server error. This happens when render is called. I don't think it's an issue of PHP but for dompdf library itself.\n. From fabien.menager on July 31, 2011 13:36:13\nDo you use inline PHP script or long HTML tables ?\n. From rob.geno...@gmail.com on October 04, 2011 08:59:10\nI have a strange situation.\nI have two sites, both on the same server, thus with the same configuration and both with the same version of dompdf (0.6 beta 2) and with the same PHP script.\nSo, everything works fine on one site, but on the other one I get \"internal server error\".\nHow is it possible?\nThis is the server configuration:\nApache version     2.2.17\nPHP version     5.3.6\nMySQL version     5.1.56\nArchitecture     i686\nOperating system     linux\nKernel version 2.6.38.2-xxxx-std-ipv6-32\nThanks \n. From eclecticgeek on October 04, 2011 16:46:26\nAre you copying dompdf from one server to the other? Have you installed any fonts? A 500 error is a script error, so look in the PHP error log for hints as to what's going wrong.\n. From phils...@gmail.com on January 07, 2012 08:52:16\nUbuntu 10.04 LTS (Lucid)\nPHP Version 5.3.2-1ubuntu4.10\nPages with script type=\"text/php\" failed. The page was a blank screen. The error logs showed a Segmentation Fault. Removing script tags allowed the PDFs to generate normally.\nFrom comment 11 I attempted the text/dompdf fix. No help. Went back to text/php\nFrom comment 9 removing utf8_decode fixes the problem.\ndompdf/include/php_evaluator.cls.php\nOld line 66:\neval(utf8_decode($code));\nChanged to 66, 67:\n// eval(utf8_decode($code)); \neval($code);\n. From rashid...@gmail.com on March 13, 2012 14:45:46\nNo, still not working :(\n. From rashid...@gmail.com on March 13, 2012 21:38:11\nThis happens for the memory limit of server and the maximun execution time.\nThere's that increase these, for example:\nini_set(\"memory_limit\", \"999M\");\nini_set(\"max_execution_time\", \"999\");\nDo this before you instantiate the class, $dompdf = new DOMPDF();\nSorry for my English!\n. From ke...@parkinginmotion.com on March 26, 2012 05:41:58\nI have similar problem in Ubuntu w/ php 5.3.2 \nNone of the above fixes work.  Nothing shows up on my Apache or PHP error logs.  Not sure how to debug.\n. From fabien.menager on March 26, 2012 06:09:05\nA sample file that gives this (with all the CSS) would help.\n. From eclecticgeek on April 16, 2012 22:16:56\nThe next release of dompdf will modify the eval(utf8_decode($code)) line that appears to be causing some problems. If you're experiencing issues, and are using inline script, can you test this out on your own system?\n. From eclecticgeek on July 14, 2009 04:27:21\nThere's no indication in the manual that the magic quotes functions are deprecated in 5.3.0.\nThe manual does specify that the settings related to magic quotes have been deprecated \nhttp://www.php.net/magic_quotes, but the changelog doesn't say anything about it \nhttp://www.php.net/ChangeLog-5.php.\nInformal testing indicates that no problems should be encountered when using PHP5.\nThis will be an issue with PHP6.\n. From rpiga....@gmail.com on September 11, 2009 12:22:14\nIssue is related to set_magic_quotes_runtime.\nIt's deprecated on 5.3 and removed on 6.0\nhttp://www.php.net/manual/en/function.set-magic-quotes-runtime.php\nI recently moved to 5.3.0 and had issues with pdf export.\nI applied the workaround suggested and it seems it is working fine.\n. From eclecticgeek on September 11, 2009 16:54:46\nDon't know if I missed that or if they updated the manual after I looked into the\nproblem. The changelog still doesn't mention this fact, and there is a comment on the\nmanual for set_magic_quotes_runtime() which could possibly mean the manual wasn't\nupdated in a timely manner.\nThe migration guide, however, does include information about deprecated functions.\nI'll be sure to check that in the future.\nhttp://www.php.net/manual/en/migration53.deprecated.php\nI'm upgrading the severity of the issue and it'll be addressed in the next release.\n. From eclecticgeek on October 20, 2009 19:21:40\nWe should make a note that DOMPDF will not work if magic quotes are turned on. Has\nanyone tested on a system that uses magic quotes?\n. From merolh...@gmail.com on August 10, 2011 22:54:52\nhttp://www.php.net/manual/es/function.set-magic-quotes-runtime.php\nAnonymous 18-Aug-2010 10:13\nSince this function is depracted as of PHP 5.3, use ini_set('magic_quotes_runtime', 0); instead.\n. From eclecticgeek on July 14, 2009 17:24:14\nWe'll need more information before we can proceed. What method are you using to\ncreate the PDF document? By relative path do you mean \"/images/logo.gif\" or do you\nmean \"images/logo.gif\"?\nAlso, please see the following post on the group:\nhttp://groups.google.com/group/dompdf/browse_thread/thread/7669afe88bd76998\nIf that does not adequately answer this question please post an update with some\nsample code.\nDOMPDF does have a base path property that can be set by a call to set_base_path().\nThe base path setting is ignored in certain situations, which should probably be\naddressed.\n. From eclecticgeek on March 25, 2010 18:23:32\nClosing due to lack of information. Try posting to the support group if you continue\nto have this problem so we can better determine whether or not this is due to a bug.\n. From ranjeet1...@gmail.com on May 08, 2012 11:08:40\nhtml\n    <img  alt=\"No\"  style=\"height:55px; width:198px\" src=\"'.BASE_PATH.'images/signature/6.jpg\">\n. From eclecticgeek on July 17, 2009 03:25:17\nThis issue is addressed in the upcoming release.\n. From pixelaz...@gmail.com on July 17, 2009 03:29:33\ntnx, will wait for the upcoming release ^^\n. _From igor...@gmail.com on July 16, 2009 13:09:59\nOk, I have noticed that in fact 0.5.1 is a really old versi\u00f3n. I have downloaded the\nlast Subversion revision and it works fine.\nI think there should be at least a 0.6.0,0.5.5 or whatever new release in the\ndownload area.\n. From eclecticgeek on July 17, 2009 03:31:44\nWe're working on getting a pre-release out the door. Not all the features will be functional, but it does contain \nquite a few fixes.\n. From eclecticgeek on July 21, 2009 00:22:41\nThe appropriate place to post this question is on the discussion forum. We'll do our best to help you there.\n. From eclecticgeek on December 14, 2009 18:29:41\nRight now this doesn't necessarily look like an issue with DOMPDF. The \"headers\nalready sent\" message is due to the fact that some content has already been sent to\nthe web browser. As a result DOMPDF is unable to set the mime type of the content. If\nyou're not receiving any error messages when debugging is disabled, and you're not\nsending any other content to the web browser, then one of the files involved in\ncreating the PDF might have some empty lines.\nCheck your files to ensure that there are no extra line breaks outside the PHP code.\nIf it's not in your files, then one of the DOMPDF files could have been modified on\nupload. Try uploading again DOMPDF again to see if that helps.\n. From eclecticgeek on March 16, 2010 18:25:27\nClosing due to lack of information. Try posting to the support group if you continue\nto have this problem so we can better determine whether or not this is due to a bug.\n. From eclecticgeek on July 22, 2009 03:23:32\nThis sounds like a possible bug, so this would be the appropriate place to post it.\nI am unable to reproduce the problem. I have tried both an inline styles and a style definition in the head of the \ndocument.\nCan you provide some sample code? Also, do you know which version of PHP you have on your system?\n. From timothy....@gmail.com on July 22, 2009 17:50:44\n...Well, that will teach me to be lazy and develop as su.  And on outdated systems (php version is 5.2.4).\nI did some more testing on some other boxes, and this only crops up when the the current working \ndirectory is owned by root, and only when php is <5.2.8.  So, admittedly, it's a pretty narrow bug.\nAnyhow, I've added a sample php file that has potential to cause the crash.\nHere are all the conditions I've found to reproduce the bug:\n1: {background-image: none} in css\n2: current working directory owned by root.  The actual php script can live anywhere.\n3: Either OS X 10.4 or PHP version 5.2.4.  I could not reproduce the crash on my 10.5 system (with both PHP \n5.2.8 and 5.3.0), so I'm not sure if OS X or PHP was the culprit.\n. From eclecticgeek on July 23, 2009 01:46:57\nThanks for the update. We'll check into it to make sure it's not a bug that could crop up in other circumstances.\n. From timothy....@gmail.com on July 23, 2009 23:24:28\nThanks!  In the meantime, I've gotten around it for now by streamlining the css so it doesn't need 'background-\nimage' in the first place.\n. From eclecticgeek on July 27, 2009 03:31:59\nBetter might be to use rawurlencode() rather than trying to figure out which characters could be problematic.\n. From eclecticgeek on July 28, 2009 20:43:06\nThis issue has already been addressed in trunk and 0.5.2 alpha 1.\n. From davidjme...@gmail.com on July 29, 2009 08:09:17\nAlready been addressed? - I can see the change in SVN, but has it been tested to fix\nthis bug?\nDid you reproduce this problem?\n. From eclecticgeek on July 30, 2009 15:36:12\nI was able to reproduce this problem in 0.5.1 and I have tested the fix in trunk. The\nfix works as far as the call from DOMPDF to PDFLib, though I do notice an oddity in\nthe resulting URL. PDFLib on my system is producing a double slash (//) after the\ndomain part of the URL if the space comes in that before another slash.\nFor example:\nOriginal URL: http://www.example.org/file with spaces.html\nPDF URL: http://www.example.org//file with spaces.html\nAs far as I can tell this appears to result from something internal to PDFLib. Unless\nI'm mistaken this won't affect the functionality of the link, so I doubt we'll\naddress it.\nIf the space is deeper in the directory structure the double slash is not created.\nAre you seeing something else or are you confused about the status? After talking\nwith Ryan I'm tagging issues like this differently. While we won't be working on this\nissue (since it was addressed prior to being reported), it has been addressed so I\nwill tag it as such.\n. From utahs...@gmail.com on July 29, 2009 21:46:04\nexception 'DOMPDF_Internal_Exception' with message 'Frame not found in cellmap' in\n/home/www/wiki/extensions/PdfExport/dompdf/include/cellmap.cls.php:239\nStack trace:\n```\n0\n/home/www/wiki/extensions/PdfExport/dompdf/include/table_cell_frame_reflower.cls.php(66):\nCellmap->get_frame_position(Object(Table_Cell_Frame_Decorator))\n1 /home/www/wiki/extensions/PdfExport/dompdf/include/frame_decorator.cls.php(387):\nTable_Cell_Frame_Reflower->reflow()\n2\n/home/www/wiki/extensions/PdfExport/dompdf/include/table_row_frame_reflower.cls.php(70):\nFrame_Decorator->reflow()\n3 /home/www/wiki/extensions/PdfExport/dompdf/include/frame_decorator.cls.php(387):\nTable_Row_Frame_Reflower->reflow()\n4\n/home/www/wiki/extensions/PdfExport/dompdf/include/table_frame_reflower.cls.php(468):\nFrame_Decorator->reflow()\n5 /home/www/wiki/extensions/PdfExport/dompdf/include/frame_decorator.cls.php(387):\nTable_Frame_Reflower->reflow()\n6\n/home/www/wiki/extensions/PdfExport/dompdf/include/block_frame_reflower.cls.php(408):\nFrame_Decorator->reflow()\n7 /home/www/wiki/extensions/PdfExport/dompdf/include/frame_decorator.cls.php(387):\nBlock_Frame_Reflower->reflow()\n8\n/home/www/wiki/extensions/PdfExport/dompdf/include/page_frame_reflower.cls.php(78):\nFrame_Decorator->reflow()\n9 /home/www/wiki/extensions/PdfExport/dompdf/include/frame_decorator.cls.php(387):\nPage_Frame_Reflower->reflow()\n10 /home/www/wiki/extensions/PdfExport/dompdf/include/dompdf.cls.php(417):\nFrame_Decorator->reflow()\n11 /home/www/wiki/extensions/PdfExport/PdfExport_body.php(136): DOMPDF->render()\n12 /home/www/wiki/extensions/PdfExport/PdfExport_body.php(171):\nSpecialPdf->outputpdf(Array, ' --landscape --...', 'Letter')\n13 /home/www/wiki/includes/SpecialPage.php(534): SpecialPdf->execute(NULL)\n14 /home/www/wiki/includes/Wiki.php(224): SpecialPage::executePath(Object(Title))\n15 /home/www/wiki/includes/Wiki.php(55):\nMediaWiki->initializeSpecialCases(Object(Title), Object(OutputPage), Object(WebRequest))\n16 /home/www/wiki/index.php(93): MediaWiki->initialize(Object(Title), NULL,\nObject(OutputPage), Object(User), Object(WebRequest))\n17 /home/www/wiki/index.php5(1): require('/home/www/wiki/...')\n18 {main}\n```\n. From eclecticgeek on July 31, 2009 03:30:18\nI'm not entirely sure that the list element is the main culprit in your situation. Cellmap errors tend to show up when tables span \nmore than one page. Is the exception you included a result of the code from step one or due to a more complex page?\nThat being said, your test code does indeed cause a crash, though it's not consistent. A simple reformatting of the code seems to \nfix the problem. I added line breaks between the tags and that was sufficient.\nEither way, the code that causes a crash in 0.5.1 appears to run correctly in the trunk.\n. This issue is a duplicate of #44\n. From fabien.menager on July 27, 2010 20:12:18\nWe now recommend using the DOMPDF class directly. Please open a new issue if this is still a blocking feature for you. DOMPDF 0.6 doesn't have a save_file or out_file parameter, I guess this is beacause it was a security hole.\n. From vikram.m...@gmail.com on February 12, 2010 06:09:06\nI found a temporary solution for this. If its a small document and if you are able to\nfind out the rows that come in other pages, set the width % of columns for those rows\ntoo down the table. This is a temporary fix though. I think this might happen if % is\nused. I am not sure what happens if px is used. \n. From pvledoux on March 12, 2010 13:58:52\nI don't know if it is related but I have a very strange issue with table.\nAs you can see, on the second page, the images in the table are bigger than in the \nfirst page. The size on the first page is correct, I don't see why it is scaled up in \nthe the second page.\nI'm running the 0.6.0beta posted yesterday.\n. From rajpandi...@gmail.com on April 16, 2010 12:55:03\nHI i have a problem to convert the HTML to PDF . in this process if i have more text fields mean . the letter are split to next page how can i solve  this problem \n. From jethro.m...@gmail.com on October 04, 2010 13:06:38\nPlease notify me when this issue is fixed.  I have the same problem with nested tables.\n. From eclecticgeek on March 01, 2011 18:40:42\nThe error isn't specific to nested tables. In general DOMPDF is currently unable to track table calculations across pages. Updating the summary statement to reflect this.\n. From muellera...@tele2.de on March 02, 2011 06:28:26\nquote:\nIn general DOMPDF is currently unable to track table calculations across pages.\nIs there any chance that the next release of DOMPDF is able to handle that problem?\n. From eclecticgeek on March 03, 2011 18:52:47\nWe would like to address a few table issues, so there is a chance. I can't say right now if it will be addressed, though.\n. From muellera...@tele2.de on March 11, 2011 07:33:54\nDon't know if it is important, but there is still one more error that might be related to this posted issue.\nWhen having a table that is split up by DOMPDF the graphics and rows are converted correctly for the first page.\nRight after the page break, the row and cell sizes are converted correctly, however, the graphics are converted differently in comparison to the first page grahpics.\nWhere the graphics in the first page show larger white borders to the right and left and small borders to the top and bottom, the graphics in the second page only show small borders to the left, right, up and down.\nAll graphics are of identical size in the original.\nAfter the conversion, both grahpics before and after the pagebreak are converted - just in different ways, resulting in different sizes.\nAll graphics on the first page are of the same size (both before and after the conversion) and so are all graphics after the pagebreak of the same size (both before and after the conversion, too). \n. From fabien.menager on January 29, 2012 22:46:55\nThe original issue report doesn't really correspond to what I just fixed, but now when tables are split across pages, the column widths are kept (since r462).\n. From fabien.menager on September 03, 2009 18:24:22\nIt looks like the behavior is the same on IE8, Opera 9.6 and Opera 10 (I tested all of \nthem). \nI think this issue could be merged with Issue 8.\nI'm very surprised by the very little size of the PDF document generated by DomPDF vs \nthe one generated by PDF Creator ! This is a very good point.\n. From tomd...@gmail.com on September 04, 2009 10:23:14\nShould definitely be merged with issue 8, as this one is way more generic.\nThe DomPDF generated document size is indeed incredibly small, that's surprising. By\nthe way it can't be loaded with SumatraPDF for instance (PDF reader alternative), so\nthere might be something missing in there...\n. From davidjme...@gmail.com on September 08, 2009 19:24:54\nI agree - just to back up the point - http://www.w3.org/TR/CSS2/visuren.html#fixed-positioning\n\"For paged media, boxes with fixed positions are repeated on every page.\"\nHas anyone tested this with 0.5.2 yet?\n. From ras...@hostinservices.com on November 20, 2009 09:37:10\nHi\nI am generating the html page by smarty template file dynamically \nand using dompdf to convert the output to pdf \nI dont know in advance how many pages the outout will be it is dynamically generatd\nhtml code which sometimes shows as 2 pdf pages\nHow is it possible to put footer on each generated page in the pdf\nthanks\n. This issue is a duplicate of #15\n. From tomd...@gmail.com on November 20, 2009 15:32:45\nThe point is precisely to have HTML+CSS formating in recurring (page over page)\nobjects, from my perspective anyway.\n. From eclecticgeek on November 20, 2009 17:32:02\n@tomdesp: I agree as far as this enhancement request is concerned. My comment was\ndirected specifically to rashmi. I just wanted to point out that if he doesn't need\nHTML+CSS in his footer he can achieve the results he needs using the currently\navailable methods.\n. This issue is a duplicate of #15\n. From flavien....@gmail.com on February 25, 2010 09:55:00\nHi,\nI have been working on this problem during one week. Here is a patch I suggest which\nadd the position : fixed.\nThere only few changes.\nAlso, the printing result with dompdf of the html file found in the first post\n. From tomd...@gmail.com on February 25, 2010 10:05:37\nExcellent patch, it looks to work great! \nFurther testing and file demos would be interesting, for instance lateral page blocks.\nI strongly encourage the dev team to apply Flavien's patch.\nCheers \n. From eclecticgeek on February 25, 2010 17:42:42\nThanks for your work on this issue. The patch looks pretty good. We might use your modifications in a way that \nmatches the coding style used in the project (i.e. we'll likely create a Fixed_Positioner class). We'll work over the \nissue on the developer group (feel free to join in).\n. From flavien....@gmail.com on February 26, 2010 11:47:05\nGreat! As I'm about to work a lot with DOMPDF in the next few months, in the frame of\nMediboard project, and probably contribute to XHTML/CSS rendering compliance, I'd\nrather refactor the patch myself, to suit your coding standards by now, hence reduce\nyour patch integration burden as much as possible. Would you have a typical file I\ncould base my work on, to code the class you're mentioning ?\n. From eclecticgeek on February 26, 2010 19:25:34\nThat sounds great, flavien. Why don't you go ahead and contact Ryan about getting\ndeveloper access?\nAs for creating a new class, I think you could base it off the Absolute_Positioner\nclass. Most of the code will be shared between the two, which would mean some\nredundancy between the two classes. I'm not absolutely opposed to putting your code\ninto the Absolute_Positioner class, but I would like us to think about it before\nimplementation.\n. From tomd...@gmail.com on February 27, 2010 08:08:56\nIf I may participate to this discussion, you might put the shared behaviour and code\nin a Positioner abstract class which Absolut_Positioner and Fixed_Positioner classes\nwould extend, right ?\n. From flavien....@gmail.com on February 27, 2010 20:22:01\nThanks eclecticgeek. So, I will contact Ryan.\nIn fact, it will not be so redundant because of the w3's css rules. When you have a\nfixed position, the containing box is the page. And when it's an absolute position,\nthe containing box is the parent box which a relative / fixed position. However,\nmaybe the test can be made in the existing class, or in the Positioner abstract class\naccording to tomdesp.\n. From eclecticgeek on February 27, 2010 21:36:02\nThat's a good point, flavien. Why don't we create the separate class first and see how much overlap there is \nbetween the two.\n. From flavien....@gmail.com on March 02, 2010 09:33:36\nYes, I agree with that.\nHere is a proposal for the fixed_positioner class.\nHowever, there is a little problem with another version of the printable file (the\ndivs replaced by p tags, and add a padding to the body). I submit also this file.\nFor a given value of the padding-bottom of the body, the footer must have the same\nvalue or more to render the pdf. If it's less, it doesn't render. I'm currently\nworking on that, but I don't find yet.\n. From flavien....@gmail.com on March 19, 2010 10:09:13\nSupport for position fixed commited.\nEclecticgeek, the fixed positioner class is enough different to be created.\nFor all, try the fixed position, and tell here if there are some problems.\nRegards.\n. From pwar...@gmail.com on August 06, 2009 12:42:21\nHave you got some examples of this? If such a simple change can make a big speed\ndifference I'd be interested in seeing it applied to other projects as well as dompdf.\n. From eclecticgeek on August 06, 2009 17:38:41\nWe'll probably implement this when we work on a performance-oriented release. I'll\ntry to remember to do some basic benchmarking before and after the change and share\nthe results.\npwaring: the speed increase comes from the fact that === doesn't do any variable type\nconversion, whereas == does. Also, if the variable types don't match there's no\nreason to compare the values. Using === is also a more accurate comparison since the\ntype conversion can create a situation where two seemingly unequal values compare as\ntrue when using ==.\nYou can find some information how various coding styles affect performance here:\nhttp://www.phpbench.com/\n. From pwar...@gmail.com on August 12, 2009 07:24:27\nIs there likely to be a performance-oreintated release at some point? I would really\nlike to use dompdf but at the moment the amount of memory it uses and the execution\ntime means that I can't (it breaks the PHP memory barrier with one not very complex\ntable and some text).\n. From eclecticgeek on August 12, 2009 18:26:33\nYes, I would expect so. We haven't really discussed what the focus will be after the\nupcoming release, so I can't say when it will happen. Even if we don't focus on this\nissue for the follow-up release, I am hoping to at least have improved support for\ntables.\n. From fabien.menager on August 25, 2009 07:23:03\nHello, (I'm phenxdesign)\nwell, I haven't tested an integration of such a modification in an existing project \n(we already use triple equal when possible in our framework and it would take too \nmuch time to make a good benchmark). But I made a little synthetic benchmark : \nhttp://phenxdesign.net/projects/dompdf/triple_equal.php\nand the source\nhttp://phenxdesign.net/projects/dompdf/triple_equal.phps\nWe can see that the triple equal is like 1.5 times faster than the double equal, for \nthe cases I'm testing.\n. From fabien.menager on September 03, 2009 18:13:13\nHere is a patch with all the well == replaced with === and != replaced by !==.\nHope this will help !\n. From fabien.menager on December 06, 2012 21:18:29\nThis issue was closed by revision r190.\n. From eclecticgeek on August 06, 2009 17:46:45\nAre all your settings correct in dompdf_config.inc.php? I'm not seeing any problems\non my installation.\n. From mileshar...@gmail.com on August 23, 2009 14:56:21\nI get the same issue: \ntest files of relative path work fine. Abolute path Ie: http://servername/images/...\ndo not render. I've gone through dompdf_config.inc.php and compared to v5.1. \nAlso this may be related when I change DOMPDF_ENABLE_REMOTE to true the process\nerrors. This may be related in that I'm working within https and getting the images\nfrom http within the same server.\n. From adamkose...@gmail.com on August 27, 2009 23:35:24\nSame thing here. This is not related to the value of DOMPDF_ENABLE_REMOTE for me.\n. From eclecticgeek on November 13, 2009 18:54:29\nCould there be some kind of permission error going on here? Have a look at this\ndiscussion thread and let us know if it helps at all:\nhttp://groups.google.com/group/dompdf/browse_thread/thread/36375753828ca0fb\n. From eclecticgeek on March 29, 2010 17:33:13\nClosing due to lack of information. Try posting to the support group if you continue\nto have this problem so we can better determine whether or not this is due to a bug.\n. From pierre...@gmail.com on May 19, 2010 07:58:02\ninstead of the file location being:\nhtml\n    <img src=\"images/myimage.jpg\" style=\"width:200px;height:200px\">\nIt should be:\nhtml\n    <img src=\"/var/www/images/myimage.jpg\" style=\"width:200px;height:200px\">\n. From mart...@gmail.com on September 16, 2010 17:25:16\nI get the same issue, images need to be a relative path in order to work.\nThis works:\nphp\n$html = '<img src=\"images/logo.gif\"/>';\npdf_create($html, 'pdfReport', TRUE);\nThis does not work:\nphp\n$html = '<img src=\"http://www.mysite.com/images/logo.gif\"/>';\npdf_create($html, 'pdfReport', TRUE);\n. From eclecticgeek on September 16, 2010 18:54:21\nTwo things to check on your setup:\n1) DOMPDF_ENABLE_REMOTE is set to true\n2) your web server has write access to the DOMPDF_TEMP_DIR directory\n. From bsande...@gmail.com on July 25, 2011 15:45:28\n@eclecticgeek:\n1) is true\n2) is wirteable\nsrc=\"/images/2.jpg\" and src=\"http://www.example.com/images/2.jpg\" dont work.\n. From Steven.R...@gmail.com on December 28, 2011 22:57:05\nI was having a terrible time getting img tags to appear, and I finally found through trial and error that placing an \"id\" tag in the tag was causing it to be ignored.  Same with having a style tag... still trying to figure out how I am going to style these now though...\n. From Steven.R...@gmail.com on December 29, 2011 01:10:32\nActually - did a little more looking ... seems it wasn't so much the id tags, as it was \"clear: left\" in the styles.  Apparently dompdf doesn't accept clear and as a result it wasn't displaying the images at all.  I was also having some issues with getting a table to appear, then I realized that it was because it had an inline style of \"position:absolute\".  Once I took that out, everything worked.\n. From eclecticgeek on January 03, 2012 23:03:56\n@Steven.Riche which version of dompdf are you using? Can you supply a sample of the HTML that was causing the problem? I'm unable to duplicate the issue where adding \"clear: left\" breaks image display. It could be a combination of things that's causing problems.\n. From eclecticgeek on August 12, 2009 18:06:01\nThe source of your problem is a security enhancement implemented due to the\nvulnerability reported in 2008. The fix for this vulnerability currently limits\n$dompdf->load_html_file() to the path set by DOMPDF_CHROOT\nhttp://code.google.com/p/dompdf/source/browse/branches/dompdf_0-5-2_alpha1/dompdf/dompdf_config.inc.php#128.\nYou have two options for working with the limitations imposed by DOMPDF_CHROOT:\n1) Load the file into a variable using the PHP function file_get_contents()\nhttp://www.php.net/manual/en/function.file-get-contents.php and then use\n$dompdf->load_html() instead of $dompdf->load_html_file().\n2) Set the value of DOMPDF_CHROOT to something that will encompass the file paths\nDOMPDF will need to access. In your case that would probably be '/'. Though if you\nonly render document using the described method you could use '/tmp'.\nIf you decide to use the second option you should ensure that dompdf.php, located in\nthe root DOMPDF directory, can not be accessed by the public (i.e. via your web server).\n. From cerien.j...@gmail.com on August 12, 2009 19:56:35\nMany thanks !\nJ.\n. From eclecticgeek on November 13, 2009 19:04:15\nRegarding session-based content: we may work on this in the future, but for it's up\nto the user to use their code-fu to handle something like that. You should post an\nenhancement request to remind us that this is a desired enhancement.\n. This issue is a duplicate of #39\n. From ismaelvi...@gmail.com on February 04, 2011 17:10:40\nyes, i have the same situation only can use letter format\n. From eclecticgeek on February 04, 2011 17:25:46\nAre you using dompdf 0.5.1? Have you tried using \"a4\" instead of \"A4\"?\n. From fabien.menager on February 04, 2011 17:53:01\nI think the next release will take A4 like a4.\n. From eclecticgeek on February 05, 2011 01:39:35\nYou are correct, Fabien. The next release does address this issue.\n. From fabien.menager on August 02, 2010 21:04:16\nThank you for these advises, the problem may come from a few differences in the configuration too, because if dompdf is configured to use Cpdf, I don't think it can use PDFlib.\n. This issue is a duplicate of #51\n. From eclecticgeek on August 14, 2009 17:58:21\nThis has been implemented in the upcoming release.\n. From eclecticgeek on August 17, 2009 19:50:55\nI see two options for addressing the issue:\n1) Update the affected lines of code to use spl_object_hash() to mimic the original\nfunctionality of returning the object ID.\n2) Create classes that extend the DOM class objects and consist solely of a\n__toString() method. This option can be seen in example 2 on the registerNodeClass()\ndocumentation http://www.php.net/manual/en/domdocument.registernodeclass.php.\n. From eclecticgeek on August 21, 2009 18:24:18\nOption number 1 seems more desirable from a maintenance standpoint.\nThe SPL extension is compiled in by default since PHP 5.0.0, but can be disabled.\nShould we include a fallback in functions.inc.php in case a user has disabled this\nmodule?\nAs of PHP 5.3.0 it can no longer be disabled, so going forward this function should\nbe safe to call.\n. From adamkose...@gmail.com on August 27, 2009 22:25:00\nfyi I'd be happy to help with the patch if I got some info on what that function does.\n. From ryan.mas...@gmail.com on November 07, 2009 22:53:54\nTo solve this problem set the DOCUMENT_ROOT variable in the environment on your server (ControlPanel >> \nSystem >> Advanced >> Environment variables...). I set the variable in the System variables part and after\na reboot the variable is accessible through PHP.\n. From fabien.menager on August 02, 2010 21:19:37\nThis issue was closed by revision r292.\n. From eclecticgeek on August 31, 2009 17:21:21\nDo you know which version of GD is installed on your system? imagecreatetruecolor()\nis part of GD2 (>2.0.1); more than likely your system has an older version.\nhttp://us2.php.net/manual/en/function.imagecreatetruecolor.php\nThis is not currently outlined as part of the installation requirements, though it\nprobably should be.\n. This issue is a duplicate of #90\n. From Qui...@quinie.nl on September 03, 2009 11:40:52\nsee google more people same error \nalso an old sourceforge posting same error. Sollution there didn't work.\nhttp://www.dashinteractive.net/dompdf/index.php?v=2808098\n. From eclecticgeek on September 16, 2009 17:18:16\nCan you attach some sample code?\n. From gruber.k...@gmail.com on January 04, 2010 14:45:08\nFor me, it could be solved by debugging line-by-line which one causes the bug. It seems Dompdf (at least 5.x) \nhas a lot of issues with accented multibyte characters. The line was full of them. I inserted a , then \neverything went fine.\n. From mwel...@gmail.com on November 21, 2010 06:17:07\ni tried  dompdf_0-6-0_beta1 and looks like this has been solved. tq guys. \n. From eclecticgeek on November 22, 2010 01:44:10\nThanks for the feedback, mweldan. I presumed this to be a valid issue, but we never got some sample code to test against so we had no way to track the problem.\n. From edtech.e...@gmail.com on March 09, 2011 13:18:39\nHere is the sample code.\nProblem occurs when splitting long multibyte line.\n. From edtech.e...@gmail.com on March 09, 2011 14:28:07\nI found that problem has been solved in last release 0.6.0 beta2\n. From eclecticgeek on March 09, 2011 19:16:55\nGood to know, and thanks for the sample document.\n. From wah...@gmail.com on October 20, 2009 09:40:29\nran across this myself. actually submitted another issue (80), with some sample code to reproduce it.\n. From fabien.menager on October 20, 2010 20:36:01\nThis seems to be related to the table breaking on multiple pages. It breaks the cell map when a cell is split in two cells when it overflows a page.\n. From andrea.b...@gmail.com on November 23, 2010 09:18:07\nIs there a solution to this problem?\n. From solution...@gmail.com on December 02, 2010 02:39:06\nThis problem doesn't occur for me with a row-spanned table but with a normal simple table. As soon as the rows fill one page and I would expect the rows to continue on the next page, but get the exception \"Frame not found in cellmap\".\nAny known work-arounds?\n. From andrea.b...@gmail.com on December 02, 2010 07:29:35\nI couldn't find a solution, so I switched to mPDF.\n. From solution...@gmail.com on December 02, 2010 18:50:44\nAndrea, thanks a lot for that tip. mPDF works like a charm with big tables.\nSorry to turn my back on dompdf ...\n. From flat...@gmail.com on December 13, 2010 18:10:19\nThere has to be a solution other than switching to mPDF. \n. From imcman...@gmail.com on December 14, 2010 14:57:10\nI was able to create a work-around for this issue by closing the table before the page ended and then opening another table on the next page -- this bug is very annoying though so I will be looking into mpdf now too...  Question, does anyone else have problems with really long html files?  Does mpdf fix those issues too?\n. From eclecticgeek on March 01, 2011 18:41:37\nIn the current release DOMPDF should no longer error out in this situation. However, due to the fact that DOMPDF forgets table layout between pages the results will still not be as desired.\nI believe we've addressed the specific issue here, but I won't close the issue until this has been verified. For the table layout problem please follow issue 48.\n. From peter....@solide-ict.nl on June 15, 2011 10:12:37\nI have the same issue, and determined that this got broken in the change to include/table_cell_frame_reflower.cls.php in r387. Reverting this change made the error go away.\nI don't understand why though; perhaps because the page can get filled while calculating the flow of the cell? I'm not even sure if this is the right fix, but I really need to get dompdf working for my project so I needed to apply the patch. Without it, dompdf simply doesn't work for me.\nFor other people who are desperate to get dompdf working here's a patch for trunk that undoes the change.\n. From fabien.menager on June 15, 2011 17:17:18\nHey Peter !\nSure, we'll commit this change, it was my mistake ! I'll try to understand why this happens.\n. From peter....@solide-ict.nl on June 16, 2011 07:51:13\nThe fix isn't perfect; there's a layout issue (which wasn't there in r387), but this might be caused by a different change altogether. Not sure yet. I'll try to figure out what caused it.\n. From peter....@solide-ict.nl on June 16, 2011 08:01:58\nNevermind; it's another patch I applied that caused the issue (#77). The current trunk code is fine\n. From leon.br...@gmail.com on February 21, 2012 22:31:57\nHow do I install the patch mentioned above? I really need to get this working ASAP and upgrading did not work (raised a new issue 432)\n. From ydb1...@gmail.com on February 21, 2012 23:22:24\nHello,\nMy fix (2 steps):\nStep 1.\nThere is a file \"include/table_row_group_frame_decorator.cls.php\"\nIn it there is a function: split()\nIn the function, there is a line that reads: $cellmap =\n$this->get_parent()->get_cellmap();\nAfter that line, I've added the lines:\nphp\n// ------------- my fix: (ydb1976@gmail.com)\n while($child->get_node()->getAttribute(\"dontbreak\")){ //\nDOMPDF::dbg(\"remgc: \".$child->get_id()); $child =\n$child->get_prev_sibling(); }\n// ------------- end of my fix\nStep 2.\nIn the HTML that is provided to the class,\nIn a row that contains cells that started before it\nI set the attribute \"dontbreak\" to true\nexample:\nhtml\n<tr>\n<td>foo</td>\n <td *rowspan=3*>bar</td>\n<td>baz</td>\n</tr>\n<tr *dontbreak=\"true*\">\n <td>bar2</td>\n<td>baz2</td>\n</tr>\n<tr *dontbreak=\"true\"*>\n <td>bar3</td>\n<td>baz3</td>\n</tr>\n<tr>\n <td>this row</td>\n<td>can start</td>\n <td>in new page</td>\n</tr>\nThat's it\nWhat it does is to go all the way to the row that starts the row span, and\nbreak the page from there.\nWARNING:\nif you have rowspan that will exceed the entire height of a page, this\nwhile will loop infinitely (i didn't need a solution for that, but it can\nbe fixed too).\nEnjoy,\nYariv\n. From jonasfon...@mugnetic.com on March 08, 2012 20:44:18\nSame problem here,\n\"Fatal error: Call to a member function get_cellmap() on a non-object in /home/mugg/sub/t.profebox.com/script/dompdf/include/table_cell_frame_reflower.cls.php on line 31\"\n. From huynhca...@gmail.com on July 04, 2012 10:10:59\nWhen will this issue be fixed? I'm waiting for this at least 2 months.\n. From nkos...@gmail.com on July 17, 2012 15:50:34\nFix it please!:)\n. From code.p...@gmail.com on July 18, 2012 12:41:48\nmpdf is easier too! three lines of code and bam! mpdf does it all!\n. From code.p...@gmail.com on July 18, 2012 12:41:48\nmpdf is easier too! three lines of code and bam! mpdf does it all!\n. From zen...@gmail.com on September 26, 2012 15:57:25\nMy 2 cents worth:\n1. The patch DOESNT work\n2. Yariv's \"dontbreak\" solution DOES WORK.\nThanks!\n. From zen...@gmail.com on September 26, 2012 15:59:06\nOh yeah... Yariv's fix has a slightly hard-to-see commented line. You only need to add:\nphp\nwhile($child->get_node()->getAttribute(\"dontbreak\"))\n{ \n$child =$child->get_prev_sibling();\n}\n. From bazookaw...@gmail.com on September 08, 2009 12:00:44\nIt is only when the element has a classname or an inline style attached to it... i\nwill now scrape the source to see that it is picking this up and not breaking on the\nclasses\n. From bazookaw...@gmail.com on September 08, 2009 12:03:16\nScratch that .. its only when the div has a margin-top in it!!!!... not sure why this\nis happening now\n. From bazookaw...@gmail.com on September 08, 2009 13:00:42\nThere is a serious error in the parser somewhere...\nIn a table i can put..\nhtml\n<td>01/01/2010</td>\n...\nor\nhtml\n...\n<td>09/02/2010</td>\n...\nBut i cant put\nhtml\n<td>01/01/2010 - 09/02/2010</td>\n- it just errors out with ->\natal error: Uncaught exception 'DOMPDF_Internal_Exception' with message 'Frame not\nfound in cellmap' in\n. From fabien.menager on April 07, 2010 19:57:53\nCould you try your code with the latest revision from the trunk or the 0.6 beta from \nthe Downloads section?\n. From eclecticgeek on September 09, 2009 01:44:31\nUpdated code with corrected fix for issue 17.\n. From holyfi...@devbau.com on September 08, 2009 22:15:13\nversion: dompdf 0.5.1\n. From fabien.menager on October 20, 2010 20:19:45\nWill be fixed in the next release\n. From holyfi...@devbau.com on September 08, 2009 22:06:08\nAnother sample, where while ( $tmp = $deco->get_decorator () ) causes assignment in\ncode warnings:\nphp\n    function get_first_child() {\n        $c = $this->_frame->get_first_child ();\n        if ($c && $deco = $c->get_decorator ()) {\n            while ( $tmp = $deco->get_decorator () )\n                $deco = $tmp;\n            return $deco;\n        } else if ($c)\n            return $c;\n        else\n            return null;\n    }\n. From holyfi...@devbau.com on September 08, 2009 22:15:08\nversion: dompdf 0.5.1\n. From fabien.menager on October 23, 2011 14:49:17\nI think that the less code we write, the less bugs we have. I'm closing this issue for now.\n. From holyfi...@devbau.com on September 08, 2009 22:15:00\nversion: dompdf 0.5.1\n. From holyfi...@devbau.com on September 08, 2009 22:17:10\nFile: frame_decorator.cls.php\n. From fabien.menager on July 27, 2010 20:21:45\nWhy wouldn't it be needed? The code here is to find the furthest decorator.\n. From eclecticgeek on September 10, 2009 18:48:56\nDo you have some sample code?\n. From eclecticgeek on September 10, 2009 18:48:56\nDo you have some sample code?\n. From svecp...@gmail.com on September 11, 2009 10:40:44\nyes, I have\n. From creepy...@gmail.com on September 14, 2009 19:46:24\nI've been getting this error too. \n. From eclecticgeek on September 15, 2009 17:07:28\nThe problem is caused by table rows that are not contained within a  element.\nDOMPDF is unforgiving where HTML structure is concerned (unlike the web browsers).\nTry validating your HTML to see where the problems are occurring.\nThis is still problematic, however. We'll have to decide how to address the issue.\nThere are also problems with the rendering that are outside the realm of this issue.\nI'll post a new issue report to cover those.\n. From eclecticgeek on September 15, 2009 17:07:28\nThe problem is caused by table rows that are not contained within a  element.\nDOMPDF is unforgiving where HTML structure is concerned (unlike the web browsers).\nTry validating your HTML to see where the problems are occurring.\nThis is still problematic, however. We'll have to decide how to address the issue.\nThere are also problems with the rendering that are outside the realm of this issue.\nI'll post a new issue report to cover those.\n. From fabien.menager on October 20, 2010 20:48:51\nI think, the DOM should be at least HTML4 valid before sending it to DOMPDF. I think we'll make a preprocessing tool to try to fix bad HTML code, but this will be wider than this issue.\n. From fabien.menager on January 15, 2012 11:08:02\nWhen this issue appear, it means that the HTML code is not completely valid, so that would be a good idea to try the HTML5 parser added in the SVN trunk which will be in the next beta coming soon.\nhttp://code.google.com/p/dompdf/wiki/HTML5\n. From woody.gilk on December 04, 2009 16:00:24\nDOMPDF does not support the \"float\" CSS property, or CSS3 \"table\" styles.\n. This issue is a duplicate of #26\n. This issue is a duplicate of #26\n. From michiele...@gmail.com on September 14, 2009 14:18:49\nOr maybe:\nphp\n$content = (function_exists('curl_init')) ? http::fetch_content($url) : file_get_contents($url);\n. From michiele...@gmail.com on September 14, 2009 14:18:49\nOr maybe:\nphp\n$content = (function_exists('curl_init')) ? http::fetch_content($url) : file_get_contents($url);\n. From eclecticgeek on September 14, 2009 17:52:03\nIt seems unlikely that curl would be enabled on systems where allow_url_fopen is\ndisabled (though I don't doubt the possibility). Can you think of any reason this\nwould be the case? The user could also enable url_fopen for the currently running\nscript using ini_set().\nPerhaps we should consider making url_fopen be a requirement of accessing remote\nobjects and document as such.\nI'm not totally against curl support, I just want to make sure we do it for the right\nreasons.\n. From eclecticgeek on September 14, 2009 17:52:03\nIt seems unlikely that curl would be enabled on systems where allow_url_fopen is\ndisabled (though I don't doubt the possibility). Can you think of any reason this\nwould be the case? The user could also enable url_fopen for the currently running\nscript using ini_set().\nPerhaps we should consider making url_fopen be a requirement of accessing remote\nobjects and document as such.\nI'm not totally against curl support, I just want to make sure we do it for the right\nreasons.\n. From michiele...@gmail.com on September 14, 2009 18:12:27\nWell, we host a hosting server. We and also others disable by default\nallow_url_fopen, because it could be used by hacking attack, which makes your server\nrather vulnerable. So for security sakes we disable it by default. But I know of\nother hosting services, which won't even enable it, even if you ask them. So that is why.\nAlso CURL can be seen as browser, by sending useragent headers as well as\nForwarded-For headers, so websites which use browser detection, or website which do\nhave a rather strong client/header policy (like mod_security) could be used as well.\nIndeed I go with the suggestion you'd rely on url_fopen, if you see my second reason\nfor using curl as \"browser\" as not worth. Because url_fopen is more precise than\nallow_url_fopen.\nCurl is by the way on more and more servers installed. Because everyone is going to\nPHP5 and webservices are a major issue in the common days. Most webservice libraries\nuse Curl nowadays. \n. From michiele...@gmail.com on October 05, 2009 12:48:09\nAnother advantage of using CURL is using cookies to access secure images on the\nserver on which the PDF library is located.\nSee http://svetlozar.net/page/free-code.html for reference code.\n. From luca.pri...@gmail.com on October 31, 2009 20:51:42\nGiving a hight to one of the empty TDs, fixes somewhat this problem. E.g.\n\n. From luca.pri...@gmail.com on October 31, 2009 22:44:08\nI have tried to see what happens here and I have found something strange in the\nfunction length_in_pt(). The comment of this function says: \"...returns an absolute\nlength\" and a little after: \"@return float\".\nBut it actually can return also a string (\"auto\" or \"none\"). Than the caller uses the\nreturn value as a number and ...\nI tried to apply the following patch at the reflow() function in\ntable_cell_frame_reflower.cls.php (around line 126) there is some improvement. I\ndon't know what the real problem is, but I think it can help to find the right fix.\n``` php\n    // Determine our height\n    $style_height = $style->length_in_pt($style->height, $w);\n    // FIX ==> if it returns \"auto\", call it again asking for the hight of \"1em\"\n    if ($style_height == \"auto\") {\n        $style_height = $style->length_in_pt(\"1em\", $w);\n    }\n$this->_frame->set_content_height($this->_calculate_content_height());\n\n$height = max($style_height, $this->_frame->get_content_height());\nprint \"reflow->: height=\".$height.\", style_height=\".$style_height.\",\n\nthis->_frame->get_content_height()=\".$this->_frame->get_content_height().\"\\n\";\n// Let the cellmap know our height\n$cell_height = $height / count($cells[\"rows\"]);\n\n// FIX ==> if there is no content (e.g. $this->_frame->get_content_height() == 0)\n\nadd top and bottom space\n    if ($this->frame->get_content_height() == 0 || $style_height < $height)\n      $cell_height += $top_space + $bottom_space;\n```\n. _From luca.pri...@gmail.com on October 31, 2009 22:44:08\nI have tried to see what happens here and I have found something strange in the\nfunction length_in_pt(). The comment of this function says: \"...returns an absolute\nlength\" and a little after: \"@return float\".\nBut it actually can return also a string (\"auto\" or \"none\"). Than the caller uses the\nreturn value as a number and ...\nI tried to apply the following patch at the reflow() function in\ntable_cell_frame_reflower.cls.php (around line 126) there is some improvement. I\ndon't know what the real problem is, but I think it can help to find the right fix.\n``` php\n    // Determine our height\n    $style_height = $style->length_in_pt($style->height, $w);\n    // FIX ==> if it returns \"auto\", call it again asking for the hight of \"1em\"\n    if ($style_height == \"auto\") {\n        $style_height = $style->length_in_pt(\"1em\", $w);\n    }\n$this->_frame->set_content_height($this->_calculate_content_height());\n\n$height = max($style_height, $this->_frame->get_content_height());\nprint \"reflow->: height=\".$height.\", style_height=\".$style_height.\",\n\nthis->_frame->get_content_height()=\".$this->_frame->get_content_height().\"\\n\";\n// Let the cellmap know our height\n$cell_height = $height / count($cells[\"rows\"]);\n\n// FIX ==> if there is no content (e.g. $this->_frame->get_content_height() == 0)\n\nadd top and bottom space\n    if ($this->frame->get_content_height() == 0 || $style_height < $height)\n      $cell_height += $top_space + $bottom_space;\n```\n. _From eclecticgeek on April 06, 2010 23:27:35\nNote that a temporary work-around to this problem has been found to work with the\nupcoming release. Applying the following style to a document seems to mitigate the issue:\ntd { height: 1px; }\nAdditionally, this style does not seem to affect the actual height of table cells and\nso should not affect the overall appearance of a rendered document.\n. From eclecticgeek on April 06, 2010 23:27:35\nNote that a temporary work-around to this problem has been found to work with the\nupcoming release. Applying the following style to a document seems to mitigate the issue:\ntd { height: 1px; }\nAdditionally, this style does not seem to affect the actual height of table cells and\nso should not affect the overall appearance of a rendered document.\n. From fabien.menager on April 07, 2010 20:01:11\nI commited a change that fixed this bug in the examples I tried, could you confirm this \nplease ? There is no need to set \"td { height: 1px; }\" anymore.\n. From eclecticgeek on April 07, 2010 20:29:14\nThe rendering looks to be correct.\nYour code modifications look to be spot on. The variable references were definitely\nwrong in this instance.\n(r245)\n. From eclecticgeek on April 07, 2010 20:29:14\nThe rendering looks to be correct.\nYour code modifications look to be spot on. The variable references were definitely\nwrong in this instance.\n(r245)\n. From eclecticgeek on October 20, 2011 15:38:18\nI'm resurrecting this bug. The issue appears to relate to zero-height rows. The empty row cells problem would then be just one situation that could have resulted in a zero-height row.\nAs you can see from the attached file specifically assigning zero height to the cells in a row results in the same rendering error.\nThe previously-outlined work around appears to still be valid.\n. From eclecticgeek on October 20, 2011 15:38:18\nI'm resurrecting this bug. The issue appears to relate to zero-height rows. The empty row cells problem would then be just one situation that could have resulted in a zero-height row.\nAs you can see from the attached file specifically assigning zero height to the cells in a row results in the same rendering error.\nThe previously-outlined work around appears to still be valid.\n. From fabien.menager on January 30, 2012 20:45:04\nThis issue was closed by revision r464.\n. From fabien.menager on August 02, 2010 20:01:13\nA pretty simple way to achieve this could be to create a new row at the beginning (or the end) of the table with a single cell, with the right colspan, without borders, which contains the caption.\nIf the align attribute of the caption is left or right, it would be a new cell in the first row, at the end or beginning with a rowspan attribute.\nWhat do you think?\n. From andoro...@gmail.com on July 01, 2011 17:05:35\nThe problem is present in 0.6 beta2 too. While the suggested workaround will do the trick, I can't lose my  elements because they are needed for jQuery bindings.\n. From OneWinge...@gmail.com on November 08, 2011 20:38:01\nIn addition to the described placement of the caption, the table-layout is messed-up as well. A render of the attached file should render a 2-column/3-row table; instead, a 3-column/3-row table is created with the (1,1) & (2,2) cells being null, and with the latter having a rowspan of 2.\nThis behavior is more serious, IMO, than the placement of the text at the top of the document; and possibly should receive more than a 'low' priority. (The 'caption' tag being valid HTML.)\nI believe I am using the 0.6 beta.\n. From eclecticgeek on January 24, 2012 17:23:58\nFabien has implemented some changes that temporarily addresses the issue. This is not a fix, but it does prevent the breakage that had been occurring.\nYou can get the update from the code repository or by downloading a nightly release. This will also be included in the next release (likely beta 3).\n. From debiais....@gmail.com on April 17, 2012 00:41:12\nvery thanks\nbut i have Wrong parameter count for imagefilledrectangle()\nphp\nimagefilledrectangle($Ress_Dst, 0, 0, $trans_color);\n. From debiais....@gmail.com on April 17, 2012 00:46:17\nok no problem just add 0 and 0 imagefilledrectangle($Ress_Dst,0,0,0,0,$trans_color);\n. From debiais....@gmail.com on April 17, 2012 00:41:12\nvery thanks\nbut i have Wrong parameter count for imagefilledrectangle()\nphp\nimagefilledrectangle($Ress_Dst, 0, 0, $trans_color);\n. From fabien.menager on April 26, 2012 12:26:05\nI think that to get the same result, we need to set the $x2 and $y2 arguments to the width and height of the image. Can you confirm this ?\n. From m...@davidreade.co.uk on September 20, 2009 14:31:15\nJust to mention I'm using remote image URLs. In PHP 5.2.10 this works fine. While\nworking on the PHP 5.2.11 server I changed the remote URLs into local paths instead.\nThis seems to be working, but still not sure why remote image URLs is no longer\nworking in PHP 5.2.11?\n. From m...@davidreade.co.uk on September 20, 2009 19:36:21\nJust to add I have managed to replicate this issue in other scripts that utilise the\nfile_get_contents function, but using dompdf 0.5.1 with PHP 5.2.11 is still causing\nproblems. After downgrading to 5.2.10, dompdf runs as expected.\n. From eclecticgeek on September 23, 2009 20:04:14\nValid for users system, but does not appear to be a problem in DOMPDF.\n. From eclecticgeek on September 23, 2009 20:04:14\nValid for users system, but does not appear to be a problem in DOMPDF.\n. From m...@davidreade.co.uk on September 26, 2009 00:28:04\nFor anyone who's interested this appears to be a bug within PHP 5.2.11. Some users\nmay experience problems especially with DOMPDF as it utilises the file_get_contents()\nto convert images into temporary files, then back into images for the PDF compilation\nprocess.\nMore details available here: http://bugs.php.net/49611\nSee attached file for patch (credits go to cPanel Dev \"J.D.\").\n. From fabien.menager on July 27, 2010 20:18:27\nThank you for this idea, we made this change recently, but we didn't saw your issue report ;) We should really have read you sooner !\nIt was clearly a memory leak.\n. This issue is a duplicate of #64\n. This issue is a duplicate of #64\n. From peter....@solide-ict.nl on June 15, 2011 15:30:21\nThese resets don't appear to be necessary. Here's a patch that removes them. This shaves off about 20% overhead.\nA quick scan of all the examples seems to indicate that this breaks nothing.\n. From peter....@solide-ict.nl on June 16, 2011 08:22:25\nTurns out it does break something.. will work on a better patch\n. From michiele...@gmail.com on June 16, 2011 08:45:56\nKeep in mind though that sometimes even the constructor does use the reset function as well as the reset() is public. So you can even use it in external code.\n. From michiele...@gmail.com on June 16, 2011 08:45:56\nKeep in mind though that sometimes even the constructor does use the reset function as well as the reset() is public. So you can even use it in external code.\n. From peter....@solide-ict.nl on June 16, 2011 09:20:27\nI'm giving up for now, it's a bit too tangled to figure out how to improve this\n. From peter....@solide-ict.nl on June 16, 2011 09:21:05\nNote that the original request was implemented; get_children caches the framelist and returns the previously made object when it's still there.\n. From eclecticgeek on June 16, 2011 15:05:19\n@peter thanks for the update, we'll take a closer look at that functionality to see if any additional enhancements can be made.\n. From eclecticgeek on June 16, 2011 15:05:19\n@peter thanks for the update, we'll take a closer look at that functionality to see if any additional enhancements can be made.\n. From fabien.menager on October 23, 2011 14:56:20\nA cache for the get_children methods was added in r374. The get_subtree subtree method is never used.\n. From eclecticgeek on October 07, 2009 02:22:33\nFYI, this can be done in the current release, though it's not as easy as having said functions available. See the \nfollowing discussion:\nhttp://groups.google.com/group/dompdf/browse_thread/thread/0ec8b4fb978650cf\n. From eclecticgeek on October 07, 2009 02:22:33\nFYI, this can be done in the current release, though it's not as easy as having said functions available. See the \nfollowing discussion:\nhttp://groups.google.com/group/dompdf/browse_thread/thread/0ec8b4fb978650cf\n. From eclecticgeek on October 16, 2009 17:48:51\nForm elements are not current supported (though I don't believe this is noted in the\nofficial documentation).\n. From eclecticgeek on October 16, 2009 17:48:51\nForm elements are not current supported (though I don't believe this is noted in the\nofficial documentation).\n. From dezu...@gmail.com on October 16, 2009 18:06:33\nIt'd be nice to see form elements render.  this is useful for a situation where you \nhave an HTML form you want them to be able to print and fill it out as a paper form.\nOr when you have a page you want to send to PDF and you want the PDF to look just \nlike the screen (or as close as possible) which may include form elements.\nI think in the short term, it would be good to make a documentation update so people \nseeking this feature can easily confirm that it isn't implemented.\nIn the long term, let's get it to work.  Anyone have any input on what this would \ntake to make this update?\nDamien\n. From fabien.menager on March 07, 2010 22:54:18\nI made a quick fix to this issue by tweaking the html.css base stylesheet with form \nelements. I also had to append the value attributes of the text inputs and buttons \nso that it renders as text.\nFor the radio buttons and the checkboxes, I made little background images for the On \nand Off states, no disabled/readonly state yet. The select tags are not supported.\nI join a patch and the image files.\nI'm conscious that this is not a viable option in the long term and that DOMPDF will \nhave to support true PDF forms, but this will require a lot more work.\n. From ryan.mas...@gmail.com on March 11, 2010 23:12:37\nLet's address this in the next release (0.7)\n. From jez...@gmail.com on April 06, 2011 13:27:27\nThanks for that fix, it made my day :)\nHowever, I've had to modify the html.css, as it checked all checkboxes and radio buttons on my page.\nI replaced input[type=checkbox][checked] with input:checked[type=checkbox], same for the radios.\n. From maryann....@gmail.com on June 14, 2011 16:53:14\nI'm sure this is a very silly question but how do I apply the patch?  I've never used Dompdf before today and I'm stumped : /  Thanks!\n. From eclecticgeek on June 14, 2011 21:18:33\nNot a silly question at all. If you're not already familiar with how to patch code then you might want to wait. The patch supplied is a subversion diff and you can read up about it here: http://ariejan.net/2007/07/03/how-to-create-and-apply-a-patch-with-subversion/\nThat being said, a lot of changes have been made since this patch was introduced. You may want to wait for us to incorporate it back into the code.\n. From eclecticgeek on June 14, 2011 21:18:33\nNot a silly question at all. If you're not already familiar with how to patch code then you might want to wait. The patch supplied is a subversion diff and you can read up about it here: http://ariejan.net/2007/07/03/how-to-create-and-apply-a-patch-with-subversion/\nThat being said, a lot of changes have been made since this patch was introduced. You may want to wait for us to incorporate it back into the code.\n. From mr.r...@gmail.com on February 23, 2012 19:49:01\n+1 Me too!\nAlso would like to have input text box be rendered.\nAs a workaround, can at least treat it as dummy text, right now no text of the input box will be displayed in the PDF file \n. From fabien.menager on February 23, 2012 21:44:14\nYou can display input values by adding this to your CSS if you use at least 0.6 beta 2:\n``` css\ninput {\n  display: inline;\n  white-space: nowrap;\n  border: 1px solid #999;\n}\ninput:before {\n  content: attr(value);\n}\n```\n. From fabien.menager on February 23, 2012 21:44:14\nYou can display input values by adding this to your CSS if you use at least 0.6 beta 2:\n``` css\ninput {\n  display: inline;\n  white-space: nowrap;\n  border: 1px solid #999;\n}\ninput:before {\n  content: attr(value);\n}\n```\n. From ash.need...@gmail.com on June 14, 2012 09:44:32\nJust in case anyone is interested, you can style a select list to show only the selected option:\ncss\nselect option{\n        display:none;\n}\nselect option:first-child{\n    display:inline;\n}\n. From dsawick...@gmail.com on August 17, 2012 22:25:17\nHi I have never used dompdf,  but according to this thread am I correct in assuming you can generate a PDF from a HTML form that would include user enter values into the form fields??\n. From ash.need...@gmail.com on June 14, 2012 09:44:32\nJust in case anyone is interested, you can style a select list to show only the selected option:\ncss\nselect option{\n        display:none;\n}\nselect option:first-child{\n    display:inline;\n}\n. From eclecticgeek on August 20, 2012 15:40:22\n@dsawicki78 dompdf will generate a PDF based on a HTML document. What you want to do is use the form submitted by the user to generate a HTML document, which you then feed to dompdf. If you need additional help on this please visit the support forum: https://groups.google.com/forum/#!forum/dompdf\n. From eclecticgeek on August 20, 2012 15:40:22\n@dsawicki78 dompdf will generate a PDF based on a HTML document. What you want to do is use the form submitted by the user to generate a HTML document, which you then feed to dompdf. If you need additional help on this please visit the support forum: https://groups.google.com/forum/#!forum/dompdf\n. From dsawick...@gmail.com on August 20, 2012 20:07:06\nThanks very much for the answer.  This makes my workflow clear.\nSent from Dustin's iPhone 4s\nOn Aug 20, 2012, at 10:40 AM, \"dompdf@googlecode.com\"\ndompdf@googlecode.com wrote:\n. From deathroc...@yahoo.com on August 22, 2012 13:43:20\nConfirmed that input checkboxes are not being rendered in 0.6.3 beta.  I'd also like to see this feature added.  Don't even need any form processing capability - just having the elements render (specifically, checkbox, radio, text and textarea) would be a big plus.\n. From fabien.menager on August 24, 2012 12:03:54\nThis issue was updated by revision r500.\nForm elements are now displayed, with CSS generated content, a bug in the CSS parser prevented to do this before, but I solved it. Everything is still not perfect, but it is a good start. It will be in the next release or if you are impatient, it's in the SVN trunk.\n. From goo...@fachtan.de on November 09, 2012 11:00:17\nInput fields still don't work in the current version (Beta3)! :(\nWhen will form elements be available?\n. From fabien.menager on November 09, 2012 11:49:06\nHello, these changes are only present in the SVN trunk.\n. From goo...@fachtan.de on November 16, 2012 07:38:15\nthanks, fabien!\nso... will it be available in the upcoming final version?\nwhere do i get the svn package meanwhile?\ni urgently require input fields to type in for a project... \n. This issue is a duplicate of #68\n. From ukarr...@gmail.com on April 01, 2011 14:39:19\nAn error occur as well, when a div tag is used. Really tricky when dompdf put the half of the div container at the end of site 1 and the other half on site 2.\nDescribed here: http://oskarsmith.com/blog/view/dompdf_error_fixed_frame_not_found_in_cellmap\nI don\u00b4t know why dompdf divided one container into two parts when the site ends.\n. From ben.lago...@gozer.com.au on October 23, 2009 05:14:16\nP.S. Just checked the latest from the svn. Bug is there too.\n. From ryan.mas...@gmail.com on October 23, 2009 15:02:39\nHave you verified your fix corrects the problem you are having?\n. This issue is a duplicate of #24\n. From eclecticgeek on October 26, 2009 13:07:44\nNever mind my FYI. I was thinking of some documents I was generating where later pages in the document exhibited this problem. However, each page was generated using a new instance of DOMPDF, so the problem was due to the same issue identified.\n. This issue is a duplicate of #24\n. From phpale...@gmail.com on April 14, 2010 12:04:32\nWhen we have multiple instance the pagination code does not works \nAny reason why ?\n``` php\n\nif ( isset($pdf) ) {</p>\n<p>$font = Font_Metrics::get_font(\"verdana\");;\n  $size = 6;\n  $color = array(0,0,0);\n  $text_height = Font_Metrics::get_font_height($font, $size);</p>\n<p>$foot = $pdf-&gt;open_object();</p>\n<p>$w = $pdf-&gt;get_width();\n  $h = $pdf-&gt;get_height();</p>\n<p>// Draw a line along the bottom\n  $y = $h - $text_height - 10;\n  $pdf-&gt;line(16, $y, $w - 16, $y, $color, 0.5);</p>\n<p>$pdf-&gt;close_object();\n  $pdf-&gt;add_object($foot, \"all\");</p>\n<p>$text = \"Page {PAGE_NUM} of {PAGE_COUNT}\";</p>\n<p>// Center the text\n  $width = Font_Metrics::get_text_width(\"<b>Page 1 of 2</b>\", $font, $size);\n  $pdf-&gt;page_text($w / 2 - $width / 2, $y, $text, $font, $size, $color);<br />\n} \n\n```\nThis code will not print pagination in second PDF for code like this \nphp\nforeach($arrStory as $story ) \n{ \n            $strContent = $story->htmlContents; \n            $dompdf = new DOMPDF(); \n            $dompdf->load_html($strContent); \n            $dompdf->render(); \n            $strPdfContents = $dompdf->output(); \n            unset($dompdf); \n}\nI dont know whther its right to ask here.\nMy Apologies \n. From phpale...@gmail.com on April 14, 2010 12:04:32\nWhen we have multiple instance the pagination code does not works \nAny reason why ?\n``` php\n\nif ( isset($pdf) ) {</p>\n<p>$font = Font_Metrics::get_font(\"verdana\");;\n  $size = 6;\n  $color = array(0,0,0);\n  $text_height = Font_Metrics::get_font_height($font, $size);</p>\n<p>$foot = $pdf-&gt;open_object();</p>\n<p>$w = $pdf-&gt;get_width();\n  $h = $pdf-&gt;get_height();</p>\n<p>// Draw a line along the bottom\n  $y = $h - $text_height - 10;\n  $pdf-&gt;line(16, $y, $w - 16, $y, $color, 0.5);</p>\n<p>$pdf-&gt;close_object();\n  $pdf-&gt;add_object($foot, \"all\");</p>\n<p>$text = \"Page {PAGE_NUM} of {PAGE_COUNT}\";</p>\n<p>// Center the text\n  $width = Font_Metrics::get_text_width(\"<b>Page 1 of 2</b>\", $font, $size);\n  $pdf-&gt;page_text($w / 2 - $width / 2, $y, $text, $font, $size, $color);<br />\n} \n\n```\nThis code will not print pagination in second PDF for code like this \nphp\nforeach($arrStory as $story ) \n{ \n            $strContent = $story->htmlContents; \n            $dompdf = new DOMPDF(); \n            $dompdf->load_html($strContent); \n            $dompdf->render(); \n            $strPdfContents = $dompdf->output(); \n            unset($dompdf); \n}\nI dont know whther its right to ask here.\nMy Apologies \n. From Markel.M...@gmail.com on October 28, 2011 19:51:12\nEnsure that you place the inline php script in the 'HEAD' section of the DOM\nhtml\n<head>\n  <script type=\"text/php\">\n    if ( isset($pdf) ) {\n      /* CODE */\n    }\n  </script>\n</head>\n. From Markel.M...@gmail.com on October 28, 2011 19:51:12\nEnsure that you place the inline php script in the 'HEAD' section of the DOM\nhtml\n<head>\n  <script type=\"text/php\">\n    if ( isset($pdf) ) {\n      /* CODE */\n    }\n  </script>\n</head>\n. From ryan.mas...@gmail.com on October 27, 2009 15:15:39\nIf you look at the wiki, it explains how to convert fonts for use in dompdf.\nhttp://code.google.com/p/dompdf/wiki/Installation\n. From pf.per...@gmail.com on October 30, 2009 16:18:06\nHi all,\nI followed the instructions as they are written in the installation wiki, but when i \nopen the pdf i have this error: \"font 'fontname' had non valid /BBox values\"...\ni think that something went wrong in the ttf-> afm convertion...\ncan anybody help me?\n. From eclecticgeek on October 30, 2009 17:27:36\nPlease post your question to the group and we'll work out your problems there.\nhttp://groups.google.com/group/dompdf/\n. From eclecticgeek on October 30, 2009 17:27:36\nPlease post your question to the group and we'll work out your problems there.\nhttp://groups.google.com/group/dompdf/\n. From arefla...@gmail.com on October 28, 2009 18:31:17\nJust upgraded, too. I have GD installed, but none of the images in the HTML are rendered in the PDF (broken \nimage icon). The exact same views rendered fine with 5.1 and 5.2. This may be something else.\n. From batssha...@gmail.com on October 28, 2009 18:38:09\n@areflagan - Our images rendered correctly as soon as we got a working GD.\n. From eclecticgeek on October 28, 2009 19:02:40\n@areflagan this may be a bug, but should be posted under a new issue since the\nproblem is different. Also, you may want to post to the discussion forum first to get\nsome help with the issue and ensure that it is truly a bug. But if you're confident\nyou've found a bug please go ahead and create a new issue with a sample document.\n. From arefla...@gmail.com on October 28, 2009 19:03:01\nThanks. Obviously a seperate issue, then. My guess is the new $imagelist array in CPDF.\n. From betoaned...@gmail.com on January 12, 2011 13:06:52\nI have this problem too, the images are not rendered properly. It works with pdf 0.5.1 and 0.5.2 but not with 0.6.1. Didn`t do any more investigations, just making sure everone knows the bugs and that will  be fixed soon.\n. From eclecticgeek on January 12, 2011 18:42:34\n@betoanedecorativersr are you able to try the latest code from the repository (either via SVN access or by downloading here: http://eclecticgeek.com/dompdf/)?\n. This issue is a duplicate of #55\n. From eclecticgeek on November 06, 2009 03:16:22\nCan you try DOMPDF 0.6.0 alpha2 to see if it is still a problem? We don't plan on releasing any patches for the \n0.5.1 code, but if this is still an issue we will address it.\nAlso, if you are able can you provide a sample document that causes the error? \n. From sethcrie...@gmail.com on November 06, 2009 19:45:51\nI am still getting the same error with 0.6.0 alpha2...Here is the actual script i am\nusing to try and generate a pdf:\nphp\n<?php\nrequire 'lib/dompdf2/dompdf_config.inc.php';\n$dompdf = new DOMPDF();\n$dompdf->load_html('hello world');\n$dompdf->render();\n$dompdf->stream(\"sample.pdf\");die();\n?>\nFatal error: Call to undefined method Style::merge() in\n[...]lib/dompdf2/include/stylesheet.cls.php on line 218\nThank you!\n. From phenxdesign on November 06, 2009 19:59:08\nThe problem is maybe that what you load with load_html is not HTML ? ;)\n. From eclecticgeek on November 07, 2009 01:14:23\nI would expect it to render the document even with a simple \"hello world\" test. I have confirmed that on my \nown system. Despite the strictness of DOMDocument it will attempt to create a valid document. You can \nconfirm this in 0.6.0 alpha 2 using the following code:\nphp\n<?php\nrequire 'lib/dompdf2/dompdf_config.inc.php';\n$dompdf = new DOMPDF();\n$dompdf->load_html('hello world');\n$dompdf->output_html();\n?>\nWhat version of PHP are you running?\n. From quentin....@gmail.com on March 15, 2010 14:12:25\nHello,\nI have the same problem and no way to resolve it. I search on the web, on the forum, \ninto the groupe google and nobody have the same problem.\nCan you help me ? I am sure that that the error come from the render() function when it \ncall add_style()... I don't understand the link between the two classes Style and \nStylesheet. This last called on line 217 a $this->_styles[$key]->merge and it's the \ncause of the error.\nThanks for your help.\n. From eclecticgeek on March 24, 2010 16:39:42\n@quentin.janon: The Stylesheet class deals with loading a document stylesheet while\nthe Style class deals with the specific entries in the stylesheet.\nWhat version of PHP are you using? Can you provide a sample document that exhibits\nthe error?\n. From fabien.menager on February 01, 2011 21:05:53\nI suspect a class \"Style\" which is already defined in the system in which you want to integrate dompdf.\n. From quentin....@gmail.com on February 06, 2011 10:15:38\nThat was that fabien menager ! \nThanks for the help !\n. From fabien.menager on February 06, 2011 10:42:52\nGreat! How did you fix it?\n. From hitesh.w...@gmail.com on May 29, 2011 00:09:34\nHello guys? Can you please share, how did you fix it?\n. From joluissc...@gmail.com on September 28, 2011 15:00:50\nI find Style definition on my project and see that I have 2 definitions call Style so, try replace class Style with other name, I replace Style class name with Stylepdf and Fix!!!\n. From fabien.menager on July 19, 2011 20:32:58\nThis may be related to the large tables bug. As this issue is 2 years old, I think I can close it.\n. From james.cu...@standingcloud.com on November 07, 2011 22:36:26\nI am still encountering this issue on a fresh install of CiviCRM 4.0.7.\nIs it safe to assume that this bug is fixed in the latest DOMPDF, and that the version bundled with CiviCRM is simply out of date?\n. From woody.gilk on December 02, 2009 01:52:50\nFixed by r196\n. From woody.gilk on December 04, 2009 04:28:39\nReverted broken patch in r197 and fixed in r199.\n. From woody.gilk on November 12, 2009 19:49:51\nThe inconsistent newlines could also be fixed using the svn:eol-style property, see \nhttp://groups.google.com/group/dompdf-dev/browse_thread/thread/e66271851a4df589\n. From woody.gilk on December 02, 2009 01:53:06\nFixed by r195\n. From woody.gilk on December 04, 2009 04:38:34\nSet property svn:eol-style to \"LF\" on all PHP files in r200.\n. From woody.gilk on December 04, 2009 04:48:57\nRemoved all ending ?> tags on pure PHP files in r201.\n. From eclecticgeek on November 16, 2009 20:22:18\nThe focus of DOMPDF is on converting web documents. Since BMP is not a typical image\nformat on the web, it is not currently included in the list of supported image\nformats (namely GIF, JPG, PNG).\nI'm not sure at this point what the barriers are to implementing BMP support.\nHowever, we have other priorities right now so I wouldn't expect to see it\nimplemented in the next release.\nIn the meantime you will have to convert the images to a supported format prior to\nusing them with DOMPDF.\n. From eclecticgeek on November 16, 2009 20:22:18\nThe focus of DOMPDF is on converting web documents. Since BMP is not a typical image\nformat on the web, it is not currently included in the list of supported image\nformats (namely GIF, JPG, PNG).\nI'm not sure at this point what the barriers are to implementing BMP support.\nHowever, we have other priorities right now so I wouldn't expect to see it\nimplemented in the next release.\nIn the meantime you will have to convert the images to a supported format prior to\nusing them with DOMPDF.\n. From ryan.mas...@gmail.com on November 17, 2009 01:55:35\nxiejijiji - If you can please create a test case for this feature request, it would\nhelp for when we tackle it. Thanks.\n. From woody.gilk on December 04, 2009 16:01:08\nGD does not support loading BMP images, only WBMP. Until GD supports standard BMP files, it will be impossible \nto fix this.\n. From ryan.mas...@gmail.com on December 04, 2009 16:11:27\nwoody - there are several workarounds. such as:\nhttp://bytes.com/topic/php/answers/3033-there-bmp-support-gd\n. From fabien.menager on July 08, 2010 17:58:22\nI've been working on this issue in the 0.6 test branch, and started a Code Review with changes in the img elements handling and with support for different formats of bitmap images.\nhttp://codereview.appspot.com/1748043/show\nYou can try this by checking out the 0.6 test branch and applying the patch available in this page.\nIt will be applied in the test branch and then will appear in the trunk soon.\n. From eclecticgeek on November 16, 2009 20:39:57\nYour document renders ok on my machine. It may have to do with the version of PHP you\nare using. The other possible source may be your system resources (i.e. not enough\nmemory or processing power).\nHave you tried DOMPDF 0.6.0 alpha 2? It does have some improvements related to tables.\n. From eclecticgeek on November 16, 2009 20:39:57\nYour document renders ok on my machine. It may have to do with the version of PHP you\nare using. The other possible source may be your system resources (i.e. not enough\nmemory or processing power).\nHave you tried DOMPDF 0.6.0 alpha 2? It does have some improvements related to tables.\n. From smug...@gmail.com on November 16, 2009 21:20:05\nHi,\nMany thanks for the quick response.  Thats interesting it works without issue for\nyou, i had assumed it was dompdf or somin in the html I wasn't seeing that was\ncausing the problem.  Could it be a problem with me converting it in memory?\nI'm using PHP 5.2.  That said the server its running on is fairly powerful with\nplently of resources. Quad core, 8GB Ram, big HDD.\nI've not looked at 0.6.0 as yet, do you think it's stable enough to use.\nThe other thing I found out today is that &nbps so a empty table cell\ncaused a cell crash.\n. From eclecticgeek on November 17, 2009 02:50:15\nThere are lots of issues with tables, even in the upcoming release. Your problem, however, could be the images \nand/or CSS combined with the tables. Without all the document assets there's no way I could test for this. You might \ntry taking out references to the CSS and images and see what happens.\nDOMPDF 0.6.0 alpha 2 should be stable enough for use. I typically test every help request in it to see how it handles \ncompared to 0.5.1. There have been very few instances where 0.6.0 had trouble with something 0.5.1 was able to \nrender.\nEven so, I've run across a few problems here and there. One in the file you posted, which I have already addressed in \nthe subversion repository. If you want to try the next release, at least until we post a new download, add a space \nbefore your character encoding. i.e. make ...\nhtml\n    <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">\nread like\nhtml\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n. From eclecticgeek on November 17, 2009 02:50:15\nThere are lots of issues with tables, even in the upcoming release. Your problem, however, could be the images \nand/or CSS combined with the tables. Without all the document assets there's no way I could test for this. You might \ntry taking out references to the CSS and images and see what happens.\nDOMPDF 0.6.0 alpha 2 should be stable enough for use. I typically test every help request in it to see how it handles \ncompared to 0.5.1. There have been very few instances where 0.6.0 had trouble with something 0.5.1 was able to \nrender.\nEven so, I've run across a few problems here and there. One in the file you posted, which I have already addressed in \nthe subversion repository. If you want to try the next release, at least until we post a new download, add a space \nbefore your character encoding. i.e. make ...\nhtml\n    <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">\nread like\nhtml\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n. From smug...@gmail.com on November 17, 2009 10:28:26\nThanks for the <meta tip, i have adjusted it.\nI've had a bit of a play and it seems that it is something in the css that is causing\nit.  I can't think what at the moment as the same css is used on other html to pdf\nreports almost identical to this without issue but i'm going to methodically remove\nbit to try to track it down.\nI susspect it is something to do with the <td> but we shall see.  Going to try to get\nto the bottom of this before I try 0.6.0.  Will post the issue when/if i find it.\n. From smug...@gmail.com on November 17, 2009 10:28:26\nThanks for the <meta tip, i have adjusted it.\nI've had a bit of a play and it seems that it is something in the css that is causing\nit.  I can't think what at the moment as the same css is used on other html to pdf\nreports almost identical to this without issue but i'm going to methodically remove\nbit to try to track it down.\nI susspect it is something to do with the <td> but we shall see.  Going to try to get\nto the bottom of this before I try 0.6.0.  Will post the issue when/if i find it.\n. From smug...@gmail.com on November 18, 2009 10:49:27\nUpdate to the problem.  Turns out it was a CSS issue after all, as yet have been\nunable to identify the troublesome CSS element as it's not one used by the HTML thats\nbeing parsed but is in the CSS file that was included.\nSimple fix was to seperate out the css to a pdf.css file that is stripped right back\nto only the essentials for the html being converted.  Will post again if I suss it out.\n. From eclecticgeek on April 24, 2010 01:06:04\nCould your CSS have caused one of the cells in your table to grow beyond the size of a single page? A cell that \nexpands beyond a single page will cause DOMPDF to enter an infinite loop\n. From eclecticgeek on April 24, 2010 01:06:04\nCould your CSS have caused one of the cells in your table to grow beyond the size of a single page? A cell that \nexpands beyond a single page will cause DOMPDF to enter an infinite loop\n. From eclecticgeek on April 24, 2010 01:59:46\nOn second thought, I believe you are dealing with the table cell issue. DOMPDF appears to be attempting to keep \nthe contents of each row on a single page. When one of the cells in a row overflows the page DOMPDF moves the \nrow to the next page. If the row in question is larger than a single page it will continually be pushed to the next \npage. This loop continues until DOMPDF runs out of resources.\n. From eclecticgeek on April 24, 2010 01:59:46\nOn second thought, I believe you are dealing with the table cell issue. DOMPDF appears to be attempting to keep \nthe contents of each row on a single page. When one of the cells in a row overflows the page DOMPDF moves the \nrow to the next page. If the row in question is larger than a single page it will continually be pushed to the next \npage. This loop continues until DOMPDF runs out of resources.\n. From joris.witteman@gmail.com on July 12, 2010 13:52:45\nThe following HTML sends dompdf 0.6 beta into an infinite loop:\nhtml\n<html>\n<head></head>\n<body>\n<table>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n</table>\n</body>\n</html>\n... What's the workaround there?\n. From joris.witteman@gmail.com on July 12, 2010 13:52:45\nThe following HTML sends dompdf 0.6 beta into an infinite loop:\nhtml\n<html>\n<head></head>\n<body>\n<table>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n    <tr><td>Foo</td><td>Bar</td></tr>\n</table>\n</body>\n</html>\n... What's the workaround there?\n. From eclecticgeek on July 12, 2010 15:36:11\n@joris.witteman: I don't think you're running into an infinite loop problem as described here. The code you provided works fine when I render it:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue91c8.htm&dompdf_ver=0.6.0_beta1\nPlease post additional information on the support forum so we can help you work out your issue:\nhttp://groups.google.com/group/dompdf\n. From terry...@alliancesoftware.com.au on October 05, 2011 07:40:49\nOn a legacy system.\nPHP v5.1.6\nDomPDF v0.5.2\nModified dompdf.php to put the line at the start:\n```\n!/usr/bin/pdf\n```\nExecute command on my server as:\n/home/user/dompdf/dompdf.php -p a4 -f ztesting.pdf ztesting.html\nIt can work a few times in a row (best I've done it 16 times).\nBut otherwise it can randomly freeze when processing.\nIt uses zero cpu when it freezes (idle process).\nMemory never goes up while it's stuck processing.\nI can manually break out of it easy enough (Ctrl + C).\nBut otherwise it never finishes procesing.\n. From eclecticgeek on October 08, 2011 01:25:44\n@terry... post this to the support group, doesn't sound like what you're experiencing is directly related to this issue.\n. From d...@deanmyerson.org on October 14, 2011 04:38:26\nSo you merged by issue 364 into this one, but in fact after restructuring the content to not have the nested tables, it still crashed. I eventually determined that within content, there was a missing  tag, so we basically had:\nhtml\n<tr><td>stuff</td></tr></table>\nWhen this was fixed, the conversion no longer crashed.\n. From eclecticgeek on October 25, 2011 00:45:37\nModifying summary to highlight the actual issue. In the worst case this results in an infinite loop. The other typical result is lots of empty space where content could be placed if the cell could be split.\n. From gurukml...@gmail.com on March 18, 2012 09:23:27\nI had the same problem either memory exception (1024 MB) or script time out (3000 Sec).\nIn my html, \nhtml\n<table><tr><td>\n<table>\n<tr><td></td><td></td></tr>\n<tr><td></td><td></td></tr>\n......29set of \"<tr><td></td><td></td></tr>\"\n</table>\n</td></tr></table>\nI used latest beta version(0-6-0_beta3) to test!!!!.\nI managed to simulate the issue in my case, if I reduced 29 (inner td/tr) to 24, it working fine, If more than 25 then its freezes.\nWhen I replaced outer table to  then it is allowing me to add 29 td/tr content.\nStrange behavior, looks like not the issue with CSS or table seems to be, not able to manage more then 25 td/td content in inner table.\nHope this might help somebody if any similar issue.\n. From muthuraj...@gmail.com on March 20, 2012 13:41:07\nHello Guys,\nI also had the same problem. But in my HTML code, i dont have more s as Guru told. But my content is very big and it'll come around 6 pages. The content was created using the FCKeditor and stored in the mysql database. Am using the stored mysql content and making that as a simple HTML and generating pdf. Here is my code below,\nphp\n$buffer         = \"<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>\n<html xmlns='http://www.w3.org/1999/xhtml'>\n<head>\n<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n<title></title>\n</head>\n<body>\n<table width=\\\"100%\\\" border=\\\"0\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" style=\\\"border:1px solid #000000\\\">\n<tr>\n <td align=\\\"left\\\" valign=\\\"top\\\" width=\\\"300\\\" style=\\\"padding-top:3px; padding-left:3px; padding-bottom:3px; border-bottom:1px solid #000000;\\\"><img src=\\\"http://www.toptechdepot.com/admin/images/VentDepot_Logo_PDF.jpg\\\" width=\\\"200\\\" height=\\\"100\\\" /></td>\n    <td align=\\\"right\\\" valign=\\\"middle\\\" style=\\\"padding-right:10px; color:#000000; font-family:Arial, Helvetica, sans-serif; border-bottom:1px solid #000000;\\\"><b>\".$row_data['title'].\"</b><br>\".$date.\"</td>\n      </tr>\n  <tr>\n    <td colspan=\\\"2\\\" align=\\\"left\\\" valign=\\\"top\\\" style=\\\"font-family:Arial, Helvetica, sans-serif;font-size:12px; padding-left:3px;\\\">\n    <table width=\\\"100%\\\" border=\\\"0\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\">\n    <tr>\n    <td align=\\\"left\\\" valign=\\\"top\\\">\n    \".$row_data['description'].\"\n    </td>\n  </tr>\n</table>\n  </td>\n  </tr>\n</table>\n</body>\n</html>\";\necho $buffer;\nrequire_once(\"dompdf_config.inc.php\");\n$dompdf = new DOMPDF();\n$dompdf->load_html($buffer);\n$dompdf->render();\n$dompdf->stream(\"sample.pdf\", array('Attachment'=>'0'));\nThis is my content $row_data['description'] which am retrieving from the database.\nPlease help me to solve the issue. \nAdvance thanks.\n. From eclecticgeek on March 22, 2012 03:22:51\n@muthurajmanikandan there is currently no way to work around this issue. You can only avoid the problem by restructuring your document. Star this issue to receive updates on its status.\nFYI, If you're using v0.6.0 you can get away without using a table, though until we work out a few kinds it does require a bit of manual formatting. See the following non-table version:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=b47eab69ab4ec658ecb632b4001532d6\n. From mattl...@gmail.com on July 24, 2012 18:33:50\n@eclecticgeek Would this issue also be related to simply long tables, ie many rows but short rows, not over a page long? I am having similar memory/timeout issues but my table has 30 rows per page but several hundred rows total. If none of the rows are over a page should I open a separate ticket?\n. From eclecticgeek on July 24, 2012 18:54:31\n@mattleff a long table with short rows shouldn't result in this issue. Start a new issue or thread on the discussion forum. Remember to post a sample document if you can.\n. From craig.rodway on July 26, 2012 09:55:13\nI'd like to share my experience on this problem. When trying to generate a PDF containing a table of 13 columns and about 80 rows, I believe I encountered this issue.\nRemoving whitespace between HTML tags in the markup prior to dompdf rendering allowed it to work.\nI used the following code to do this:\n$html = preg_replace('/>\\s+', \"<\", $html);\n$dompdf->load_html($html);\n. This issue is a duplicate of #90\n. From jerrywil...@gmail.com on November 18, 2009 19:41:57\nD'oh. My searching mojo is off today. Thanks.\n. From eclecticgeek on November 18, 2009 19:50:48\nNo worried ;)\n. From eclecticgeek on November 18, 2009 19:51:30\num ... that would be \"worries\"\n. From woody.gilk on December 04, 2009 15:57:28\nThat error means that the request took too long to process, probably because your XAMPP install doesn't have as \nmuch resources available as the server, or because XAMPP has a lower execution limit.\nYou can fix this at runtime by calling \"set_time_limit(300)\" or changing the value of \"max_execution_time\" in \nphp.ini.\nThis is not unique to DOMPDF.\n. From ryan.mas...@gmail.com on December 04, 2009 16:05:07\nAlso - feel free to post on the Discussion Group for more assistance with your issue.\n. From sujimo...@gmail.com on December 04, 2009 16:10:31\nYes you are true. And so much thanks for the reply.\nIt worked but 2 things is need to be done to make this work.\nNeed to change the \nmax_execution_time = 60\nmax_input_time = 60\nto\nmax_execution_time = 1200\nmax_input_time = 600\nAnd comment this line \n    extension=php_cpdf.dll\n  ;extension=php_pdf.dll\n  ;extension=libpdf_php.dll\nRestart Apache server \nDadaaa...It works!!\n. From sujimo...@gmail.com on December 04, 2009 16:11:04\nYes you are true. And so much thanks for the reply.\nIt worked but 2 things is need to be done to make this work.\nNeed to change the \nmax_execution_time = 60\nmax_input_time = 60\nto\nmax_execution_time = 1200\nmax_input_time = 600\nAnd comment this line \n    extension=php_cpdf.dll\n  ;extension=php_pdf.dll\n  ;extension=libpdf_php.dll\nRestart Apache server \nDadaaa...It works!!\n. From eclecticgeek on November 23, 2009 21:33:44\nAre you using DOMPDF 0.5.1 or DOMPDF 0.6.0 alpha 2? There have been significant improvements in text \nhandling with the latter and I believe both of these characters should render correctly.\n. From ajflor...@gmail.com on November 24, 2009 11:28:00\nCorrect, in 0.6 it shows some of this html tags \u20ac and so on.... but still have\nproblems with chars like \u00ba \u00aa\n. From eclecticgeek on November 24, 2009 14:46:37\nI'll have to research this a bit more. I believe those characters should be \nsupported, so there could be some problems with character set conversion when \nplacing the text in the PDF.\nIn the meantime your best bet for working around the problem would be to use Unicode.\n. This issue is a duplicate of #36\n. From ukarr...@gmail.com on April 05, 2011 14:09:56\nIn 0.6.0 beta 2 it has still problems with Unicode characters as: \u25cf (\u25cf - a black round centered dot)\n. From eclecticgeek on April 21, 2011 19:01:59\nSince that is a Unicode character you will have to enable Unicode in your configuration file and use you own font. We're still working on enabling expanded character support in the core fonts. You could swap that particular character with the standard \u2022\n. From ryan.mas...@gmail.com on November 27, 2009 15:52:40\nPlease try the latest alpha 0.6 alpha 2.\n. From smug...@gmail.com on November 27, 2009 15:57:48\nI tried it with a pervious issue and it didn't work for me so I rolled it back.  Did\nnot have time to figure out why the alpha was failing at the time.\nI'll give it another go shortly.\n. From ryan.mas...@gmail.com on November 27, 2009 16:03:55\nYou can just comment it out in 0.5.1\n. From smug...@gmail.com on November 27, 2009 16:07:29\ngreat stuff, i'll give that a whirl.  When I get more time i'm going to try 6 again.\n. From fabien.menager on July 08, 2010 18:08:39\nHello, I tried to create a document with the gif image you provided, but the GIf is well rendered, what version of PHP / GD do you use ?\n. From eclecticgeek on December 11, 2009 21:11:56\nAddressed in Revision 207\nAn image width/height, as defined by an inline style, is actually applied to a\ncontainer element in the DOMPDF document structure. An earlier update missed this\nfact and Image_Frame_Reflower::get_min_max_width() was checking only the image object\ndirectly for styling. This fixed an issue where the width and height attributes were\nused, but broke inline styling.\nDOMPDF will now check both the image object and it's container for styling information.\n. This seems to be related to #98 \n. From fabien.menager on March 07, 2010 17:40:54\nI tried your example and the styles are well applied, it looks like this issue has \nbeen fixed.\n. From eclecticgeek on March 07, 2010 22:23:54\nI'll have to see if I can track down what led me to post this bug. Perhaps the bug only shows in certain situations \n(e.g. when certain tags are used). If I don't find anything I'll mark the bug as invalid.\n. From eclecticgeek on March 09, 2010 18:41:56\nI was unable to rediscover the source of the problem. If I'm able to dig it up in the\nfuture I'll re-open the issue.\n. From oxodes...@gmail.com on April 13, 2011 07:12:25\nWill it be a fix for this soon?\n. From eclecticgeek on May 06, 2011 17:31:29\nThis appears to have been addressed in a recent update. Though right now I couldn't say which. Fabien?\n. From fabien.menager on May 07, 2011 13:33:04\nYes it's fixed, in fact colors could not be inherited for a long time, and this was the problem for this issue.\n. From eclecticgeek on May 08, 2011 00:56:35\nFixed in r390\n. From fjgod...@gmail.com on December 04, 2009 01:48:18\nLast Version \n/* $Id: dompdf.cls.php 196 2009-12-02 01:50:37Z woody.gilk $ */\n. From eclecticgeek on December 04, 2009 02:33:35\nThere appears to have been some corruption of a few of the files on the last update. We'll address the problem \nASAP.\n. From woody.gilk on December 04, 2009 04:21:21\nSorry folks, using git-svn for the first time and failed miserably. Fixed by r197 and r198.\n. From fjgod...@gmail.com on December 04, 2009 12:15:21\nA PHP Error was encountered\nSeverity: Notice\nMessage: Uninitialized string offset: 1\nFilename: include/functions.inc.php\nLine Number: 315\n. From woody.gilk on December 04, 2009 15:45:10\nWhy is this assigned to me?\n. From woody.gilk on December 04, 2009 15:46:41\nThat function is atrocious though, on multiple levels.\n. From ryan.mas...@gmail.com on December 04, 2009 15:50:37\nSorry.. long day already... i saw your name in his request and i figured it had\nsomething to do with what you did.. but nevermind ;-p\n. From woody.gilk on December 04, 2009 15:53:50\nI'm happy to clean up that function, but I don't have a Windows machine to test on.\n. From eclecticgeek on December 04, 2009 16:36:28\nI have some thoughts on how to significantly simplify this function. I believe the reason this function was created \nwas so that DOMPDF can get the intended path of a file that does not yet exist. In most situations we can just \nuse the PHP function realpath(). For files that do not exist we can do realpath(basename()).\nI can work up something when I get some time.\n. From eclecticgeek on January 08, 2010 20:19:22\nAfter looking at this function a bit more I'm at a loss to say whether it's even\nnecessary. There's only one line in the code where the ability to canonicalize a\nnon-existent path might be useful. In all other locations it would be just as well to\nsay that the file doesn't exist.\nAs of now I'm inclined to remove all references to dompdf_realpath() and use the\nrealpath() PHP function.\nMy only concern is that it's a bit difficult to trace back all the instances where\nthis function might be used and how DOMPDF would react to a return value of FALSE as\nopposed to NULL for an invalid path. I'm looking into this before I commit changes\nback to the repository.\nAlso, I decided not to rewrite the function using realpath(). I realized while\nplanning out an update that we would incur some performance degradation due to file\nsystem access. I will try to clean up the function a bit so that we can avoid this\nbug, but since I'm removing reference to it in most places I'm not going to do a\ncomplete rewrite.\n. From eclecticgeek on March 10, 2010 20:35:20\nI decided to completely remove the dompdf_realpath() function. As I mentioned before\nit seemed to be of little use and was referenced only a few times. Where the function\nhad been referenced before I modified the code to use realpath() instead.\nAddressed in r212\n. From fjgod...@gmail.com on December 04, 2009 12:18:03\nA PHP Error was encountered\nSeverity: Notice\nMessage: Undefined index: isUnicode\nFilename: lib/class.pdf.php\nLine Number: 4271\n. From fjgod...@gmail.com on December 04, 2009 12:19:16\nA PHP Error was encountered\nSeverity: Notice\nMessage: Undefined index: isUnicode\nFilename: lib/class.pdf.php\nLine Number: 3692\n. From eclecticgeek on December 05, 2009 03:54:55\nThis is caused by the font metrics cache. A new variable (isUnicode) was introduced into the cache that indicates \nhow to embed a font file. I forgot to update the cache version with this change. The fix is easy enough, but I \nwant to work out an automated method of versioning the cache to avoid this problem in the future.\nWhile we work out a solution you can manually delete the cached font metrics. Typically these will be located in \ndomdf/lib/fonts. The files which start with \"php_\" (e.g. php_Helvetica.afm) are the cache files and can be \ndeleted.\n. From eclecticgeek on December 11, 2009 05:28:21\nAddressed in Revision 206.\nIn lieu of working out an automated method for versioning the font metrics cache we decided to stick to a \nmanual setting for now. When we have more time we'll investigate options for automating the process.\n. From eclecticgeek on December 08, 2009 22:07:27\nThere are a number of text-related methods that rely on a font having been loaded. If\nno font is loaded these methods load the core font Helvetica. I updated filterText()\nso that it, too, loads Helvetica if needed.\nSince multiple methods load a font when needed I modified the CPDF class so that the\nfont loaded is stored in a class property (defaultFont) so that this value can be\neasily maintained.\n. From eclecticgeek on December 08, 2009 22:07:43\naddressed in Revision 205\n. From dysrup...@gmail.com on March 17, 2010 09:57:43\nWith v 0.6.0 Beta 1, \u00a0 are completely removed at the begining of a line.\nFor this : \nhtml\n<p>&nbsp;&nbsp;&nbsp;Word</p>\nthere is no space at all before Word in the PDF\nSo this : \nhtml\n<p>&nbsp;</p>\ndoes not create a new line. the  element is simply ignored and removed.\nQuite a problem for rendering a simple html page\n. From eclecticgeek on March 17, 2010 18:52:28\nI modified the regular expressions around white space collapsing. PHP was including\nnon-breaking space as part of the \\s character type. To get around this I specified\nthe characters to include (i.e. \" \\t\\r\\n\\v\\f\").\n. From magical...@gmail.com on December 12, 2009 14:48:07\nIn lib/fonts:\narialuni.ttf (23M)\narialuni.afm (2.4M)\narialuni.ufm (1.7M)\n. From fabien.menager on August 27, 2010 18:16:38\nHello, an issue related to font metrics loading has been fixed, which reduces a lot memory consumption, could you try the latest trunk to verify this ?\n. From fabien.menager on February 01, 2011 21:07:27\nThe new font metrics were reduced to something like 10 times smaller, so the memory should not be filled with this now. It will be available in the next beta coming soon.\n. From fabien.menager on April 10, 2011 17:29:20\nPublished in beta2\n. From magical...@gmail.com on December 13, 2009 02:12:18\nChecked result of Image_Cache::resolve_url() and indeed returns a file in /tmp with\next=png. File verified, it is really the expected image.\n. From magical...@gmail.com on December 13, 2009 02:29:57\nProblem was linked to output buffering which was required to open the image file.\nIn theory output buffering is supposed to not be a problem, as many calls to\nob_start() are stacked. For some reason it has been a problem here...\n. From magical...@gmail.com on December 13, 2009 03:07:25\nCorrection: output buffering was not the problem. For some unknown reason, the pdf\nwas generated successfully once while testing...\n. From Kanchana...@gmail.com on April 26, 2010 16:07:57\nAm using below img tag with Codeigniter framework\nhtml\n<img src=\"<? print WEB_URL ?>images/<?print $applnInfo->applnLogo;?>\"/>\nPDF generated in collapsed or its empty with below error\nFatal error: Uncaught exception 'DOMPDF_Exception' with message 'Unknown image type: \nUsing dompdf 0.6 version in windows 7\n. From eclecticgeek on April 26, 2010 17:36:04\n@KanchanaSrini your problem doesn't sound quite the same. Self-registered protocols\nwould be a communications protocol specific to the local system setup (e.g. instead\nof http:// the system may use site://). These aren't standard protocols, but still\nvalid for the local system.\nPlease re-post to the support group so that we can work out your problem there.\nhttp://groups.google.com/group/dompdf\n. From eclecticgeek on December 23, 2009 20:28:45\nAddressed in Revision 208.\nI decided to specify 8bit encoding with most uses of mb_strlen(). The only instances\nwhere the default encoding (UTF-8) is used are those where the actual character width\nis needed. I'm hoping that 8bit encoding will provide some speed improvements over\nUTF-8 since PHP only needs to look at the byte length.\n. From eclecticgeek on December 22, 2009 02:24:44\nThis issue should already be addressed the code that will comprise DOMPDF 0.6.0. If you can, I would suggest \nyou try the alpha 2 release.\n. From fernando...@gmail.com on December 22, 2009 12:15:07\nI downloaded the new version as you suggested, but i get the same error.\nI send the html file that i\u00b4m using for tests  as attachemnt and here is the php code:\n``` php\n<?\nrequire_once(DOMPDF_PATH.\"/dompdf_config.inc.php\");\nrequire_once(DOMPDF_INC_DIR . \"/dompdf.cls.php\");\n$output=file_get_contents(\"teste.html\");\n$dompdf = new DOMPDF();\n$dompdf->set_paper(\"a4\",\"portrait\");\n$dompdf->load_html($output);\n$dompdf->render();\n$dompdf->stream(\"test.pdf\");\n?>\n```\n. This issue is a duplicate of #36\n. From virg...@gmail.com on January 02, 2010 20:34:15\nUpdate: Make sure the host operating system is NOT windows for testing.\n. This issue is a duplicate of #110\n. From eclecticgeek on January 07, 2010 19:14:27\nIt's not quite the case that there is no leading. There is, in fact, a small amount\nof leading. The reason it's so small is that DOMPDF is treating a value without a\nunit declaration as a percent. So in your case, DOMPDF would presume a line height of 3%.\nBased on the CSS spec this is not the correct way to perform the calculation. If a\nnumber is supplied it is supposed to be used as a multiplier of the font size\n(similar to em units?).\nhttp://www.w3.org/TR/CSS2/visudet.html#propdef-line-height\nAlso, line-height inheritance may differ between when a number is used and when a\nlength or percentage is used.\nhttp://css-discuss.incutio.com/?page=LineHeight\nhttps://developer.mozilla.org/en/CSS/line-height\nThe fix for the immediate issue is pretty straightforward, but I want to check for\ninheritance issues before moving forward with an update.\n. From fabien.menager on July 21, 2010 22:04:08\nFixed in r287 with \"em\" as it is what is said in the spec :  acts like \"em\" units\n. From eclecticgeek on January 12, 2010 19:15:31\nThis isn't a problem with the blockquote itself, but with some of the styling of the\nelements contained within the blockquote. Specifically, the absolutely positioned\nelements appear to be breaking the document flow. As a work-around you could remove\nthe styling related to the blockquote decorative borders.\n. From eclecticgeek on January 18, 2010 18:30:18\nI believe you are probably running into the problem described by Issue 70. Do you have any table rows that \ncontain no text?\n. From emphatic...@gmail.com on January 18, 2010 19:19:20\nThere is no table rows without text. All rows contain some kind of data in it.\n. From eclecticgeek on January 18, 2010 22:22:59\nCan you post a sample of the HTML that's giving you problems? It can be hard to determine what's going on \nwithout the source document.\n. From mattconn...@gmail.com on December 27, 2010 16:56:53\nHas there been a resolution to this?\n. From eclecticgeek on December 27, 2010 18:49:56\nA sample HTML document that exhibits the problem was never posted. Without this we do not have a good way of identifying what is causing the problem. If you are experiencing a similar issue please feel free to post a sample we can test against.\n. From mattconn...@gmail.com on January 07, 2011 15:37:19\nHere is some html that isn't working for me\n. From mattconn...@gmail.com on January 07, 2011 16:44:08\nI have updated to trunk (currently 345) with no luck\n. From eclecticgeek on January 07, 2011 18:22:01\nYour problem is due to structural errors in your HTML, namely you have block elements inside inline elements. This is confusing dompdf when it reaches the end of a page and it loses track of the document layout.\nTo address the issue in your document, your span tags should be changed to div tags. It's always good practice to ensure that your HTML is valid before passing it to dompdf. But we will address the issue at some point in the future.\n. From mattconn...@gmail.com on January 09, 2011 21:25:56\nThat makes perfect sense. I replaced all the spans with divs, and that helped out a bit, instead of one page, I now have three. The first two are good but now the third page is jubgle gook.\nThanks for the second eyes and support.\n. From mattconn...@gmail.com on January 09, 2011 22:15:16\nI also replaced the p tags with div tags and that solved the output problem. It would be nice to solve the problems though.\n. From eclecticgeek on January 10, 2011 19:59:37\nYou are correct. There does appear to be a propagation problem of the document structure on the third page.\nIf you go back to the beta 1 release the document renders correctly. We'll have to take a look and see where the latest code is breaking.\n. From eclecticgeek on March 17, 2010 18:57:47\nThe problem appears to be (on initial inspection) that white space collapsing isn't\nconditional on the type of line styling.\n(Reference the changes made to address issue 106.)\n. From eike.send on January 19, 2010 15:33:36\nThis problem also applies to:\n&nbsp;\n&lt;\n&gt;\n&quot;\nso some html elements are unescaped 2 times\n. From fabien.menager on August 02, 2010 20:55:34\nThis issue was closed by revision r291.\n. From fabien.menager on March 17, 2010 20:10:32\nSorry for the late reply, could you provide a simple test case with an image that gives \nthis error please ?\n. This issue is a duplicate of #108\n. From eclecticgeek on February 04, 2010 19:34:05\nYour page numbering script should be run in the context of the PDF document. Try the\nupdated test file I've attached.\n. From bthakk...@gmail.com on February 08, 2010 05:13:01\nThanks for your help but this as did not work. i had tried the same earlier but all\nin vain. Plz plz if someone could trick it out\n. From eclecticgeek on February 09, 2010 22:51:44\nI don't use HEREDOC/NOWDOC syntax in my code so I missed an issue with the updated code I posted. When \nyou use HEREDOC syntax the variables will be interpreted when the string is parsed. This will cause errors \nsince the variable references will be invalid at that point.\nNOWDOC syntax should work, but I was having problems with it on my server. In it's stead I just used normal \nsingle-quote delimiters. The attached document should work.\nFor any further help, please post to the discussion forum at:\nhttp://groups.google.com/group/dompdf\n. From bthakk...@gmail.com on February 10, 2010 05:04:05\nDear teclecticgeek, \nYou are a hero!!! This works wonder!!!\nThanks a million\n. From Markel.M...@gmail.com on October 28, 2011 19:39:36\nThis might help. Ensure that you place the inline script in the  section of the DOM.\nhtml\n<head>\n<script type=\"text/php\">\nif ( isset($pdf) ) \n{\n    $w = $pdf->get_width();\n    $h = $pdf->get_height();\n    $font = Font_Metrics::get_font(\"helvetica\");\n    $pdf->page_text($w -100, $h - 40, \"Page {PAGE_NUM} of {PAGE_COUNT}\", $font, 10, array(0,0,0));\n}\n</script>\n</head>\n. From eclecticgeek on February 18, 2010 19:25:50\nAdditional information regarding version 0.6.0 alpha 2.\nA link appears to be created, but only for the text and placed as if the image never\nexisted (at least in certain circumstances).\n. From 2009p...@gmail.com on March 28, 2010 06:06:36\nI also noticed this bug, and tried to workaround it without any luck. The image\nappears, but the PDF reader does not render (or dompdf does not write) the link at\nall. Changing the styling won't help, and since display:block is not supported, I\nfound no other way to work around this problem.\nDo you have any news regarding this bug?\nThanks a lot in advance for your time. Dompdf is a great time-saver for me.\n. From fabien.menager on July 20, 2010 11:36:47\nThis bug should be fixed in the trunk now. The next release (0.6beta2) will contain this fix.\n. From eclecticgeek on February 21, 2010 05:49:18\nAddressed in Revision 210\n. From fabien.menager on March 03, 2010 22:30:00\nI changed a few things in the last patch, like the Javascript class, renamed to \nJavascript_Embedder, I also finished to remove the extra blank lines from the CPDF \nclass and made a few small performance optimizations. I also made a new CSS_Color \nclass to handle the colors (it only parses CSS colors for now) and added a full list \nof CSS color names.\nA demo of all this is available here : \nhttp://pxd.me/projects/dompdf/www/examples.php\nClick on the javascript.html example or try the demo with a <script \ntype=\"text/javascript\"> tag in the body (it still doesn't work in the head).\n. From eclecticgeek on March 01, 2010 18:14:41\nWe will response to your post on the support group.\n. From seniorit...@gmail.com on March 02, 2010 12:04:05\nwhat is the link of the support group ?\n. From eclecticgeek on March 02, 2010 13:21:04\nIs this your post?\nhttp://groups.google.com/group/dompdf/browse_thread/thread/1f855bfd5ac3c433\n. From fabien.menager on July 27, 2010 20:45:19\nThank you, your modification will be in the next revision.\n. From fabien.menager on March 07, 2010 18:31:43\nThis issue is partially fixed by adding these lines in stylesheet.cls.php after the \nline 951 : \nphp\n      if (strpos($prop, \"url(\") === false) {\n        preg_match(\"/[a-z-]+\\s*:\\s*[^:]+$/i\", $prop, $m);\n        $prop = $m[0];\n      }\nIt is a partial fix because it won't would break the background image urls because \nof the \":\" that it may contain.\nI simply takes the last \"style: value\" part of the rules obtained by splitting the \nCSS with \";\"\n. From fabien.menager on March 30, 2010 18:03:32\nA better solution to solve all this would be to use another library, like CSS Tidy, \nwhich has a very powerful CSS parser which can fix bad syntaxes and other useful \nstuff, like minimizing the resulting stylesheet.\nhttp://csstidy.sourceforge.net/index.php\nIt could be either used directly by checking if the class csstidy exists, make parse \nand fix the CSS, get it as raw CSS and then parse it a second time with out parser or \nby taking a part of the source code (it is under GPL) which interests us.\nIn both cases, we will still need the actual XPath maker (which has a few lacks).\nFor information, I tried to parse this CSS with it: \ncss\n[colspan] .test:after {\n  content: \"margin: 2px; ' \\\" \\\\ { Hello } border: 1px solid;\";\n  background: url(data:image/png,base64;abcd)\n  border: 1px solid #rrr\n}\nThe output is totally correct, with the three rules separated with semicolons.\nWhat do you think of it ? If there are even better PHP CSS parsers, they are welcome \n!\n. From eclecticgeek on March 31, 2010 02:11:14\nUsing something like CSSTidy is an interesting idea, especially if we could find a PHP-based project. It would \ncertainly increase the robustness of DOMPDF when handling bad code. Then again, the same could be said of \npassing HTML through tidy. I think we should fix the problem as best we can in our own code and post this idea \nas a separate enhancement request.\n. From eclecticgeek on March 05, 2010 17:30:56\nI wouldn't necessarily consider this a bug since using {} was valid practice when\nDOMPDF was initially developed. At a minimum we should make note of PHP\ncompatibility. However, I believe making DOMPDF compatible with PHP 5.3 should be\nhigh on our list and this change shouldn't require too much effort.\nI suggest we use mb_substr() rather than string offsets to avoid possible problems\nwith strings that contain UTF8-encoded characters.\n. From eclecticgeek on March 11, 2010 19:37:37\nI modified string offset references so that they now use the [] syntax. This should\nsmooth the path towards PHP 5.3 compatibility.\nI'll leave this issue open, however, because we should still consider using\nmb_substr() for better compatibility with UTF8-encoded characters.\n. From eclecticgeek on March 11, 2010 19:52:34\nref. r213\n. From fabien.menager on March 11, 2010 19:52:50\nOk, great !\nIt looks like a big part of the string offsets are applied to simple text like CSS \nrules or font names, does these string always need to be unicode ?\n. From eclecticgeek on March 29, 2010 17:52:13\nI would think that in a lot of instances there would not be Unicode text. But we'll\nreally just have to look at each case individually\nI'm guessing these functions can cost a bit in performance. So perhaps when working\non this in the future we should consider whether a call to a multibyte string\nfunction is necessary. But we will also have to consider the possibility of function\noverloading on a user's system and the necessity of specifying 8bit mode (e.g. for\nvariables containing binary data).\n. From fabien.menager on July 19, 2011 20:38:19\nAs I couldn't find any occurence of this problem in the trunk, I close it.\n. From eclecticgeek on March 29, 2010 18:01:45\nIt would be helpful to also see your source HTML? There could be something in the\nsecond row that is causing it to not split.\nAlso, which version of DOMPDF?\n. This issue is a duplicate of #98\n. From fabien.menager on March 07, 2010 17:00:33\nI finally got it to work for background images by changing the way the CSS rules are \nsplit. They were \"exploded\" with \";\" now they are split with a regexp that only \ntakes semicolons outside of parenthesis. I also changed a few things relative to \nURLs.\n. From ryan.mas...@gmail.com on March 11, 2010 23:16:40\nPatch doesn't sync up. You have commit access. Feel free to apply it.\n. From fabien.menager on March 12, 2010 06:54:36\nOk, I'll update my patch.\nBut I have no commit access, maybe you are confusing me with Flavien ;)\n. From fabien.menager on March 12, 2010 20:00:14\nHere is the new patch. \nThis patch includes the modification I proposed here : \nhttp://groups.google.com/group/dompdf/browse_thread/thread/d1dae6161ce07d9a\n. From fabien.menager on March 08, 2010 19:50:56\nDid you try to remove only the H1 tag and let the comment where it is ? ;)\nThe problem is that you use a bad syntax for the comment : this should be\nhtml\n<!-- My comment -->\nand not\nhtml\n<!-- My comment --!>\nSo the rest of the file is being commented and nothing is rendered. A good syntax \ncoloring editor would have helped you see that everything was commented.\n. From luttk...@gmail.com on March 08, 2010 19:59:32\nAh...You're right. But that's not the issue, I had the same problem before I added\nthe comment. \nDoes it work for you when removing the comment and leaving the H1-tag?\n. From luttk...@gmail.com on March 08, 2010 20:02:12\nPS: I'm using TextWrangler to color my code, but it didn't detect it :(\n. From fabien.menager on March 08, 2010 20:10:09\nYes it works perfectly, I'm joining the resulting PDF.\nPS: I suggest you to change your editor :)\n. From luttk...@gmail.com on March 08, 2010 20:24:47\nThat is strange. Is there any way to receive an error msg so I know where something\ngoes wrong?\n. From fabien.menager on March 08, 2010 20:35:11\nYou can set the global variable $dompdf_show_warnings to true and you'll see all \nthe warnings generated by DomPDF. Its declaration is in dompdf_config.inc.php with \nother debug variables.\n. _From luttk...@gmail.com on March 08, 2010 21:05:35\nThat didn't show anything. I tried to turn on the debug-mode, and it says that \"the\nentire tree is dumped to stdout in dompdf.cls.php.\" I'm not sure how to access this\ntree of information. I've attached my php-file.\n. From eclecticgeek on March 09, 2010 18:59:49\nI don't see anything so far that would indicate a bug.\nIf turning on debug-mode doesn't show anything then DOMPDF probably isn't loading\nyour document at all. Since you're also not seeing errors PHP may not be set up to\nshow errors to the browser. Check your PHP error.log or add the following code to the\ntop of your PHP file:\nphp\nini_set('display_errors', 1);\n. From maic...@gmail.com on March 10, 2010 18:35:28\nyes, perfect\nhttp://www.google.com/url?sa=D&q=http://www.eclecticgeek.com/dompdf/nightly.php%3Fformat%3Dzip&usg=AFQjCNFf4RcmC4U9GhrhHQjOfSTCdIOn9A\n+\nhttp://luca.priorelli.com/lang/en-us/2009/05/19/dompdf-justification-extended-ascii-chars/comment-page-1/#comment-1025\nthank you\n. From eclecticgeek on March 10, 2010 18:52:42\nglad to hear you were able to find a solution\n. From flavien....@gmail.com on March 11, 2010 11:12:57\nAnd also, a patch for the attribute_translator class. So, you can use the old\nattribute align (with left, center and right as values) for the table.\n. From ryan.mas...@gmail.com on March 11, 2010 22:19:09\nYou have access to commit the changes to the current working trunk.\n. From ryan.mas...@gmail.com on March 11, 2010 23:18:12\nI've applied them - thanks.\n. From eclecticgeek on March 15, 2010 16:13:25\nHaving DOMPDF decide where to pull the character bitmaps from wouldn't really be a\ngood idea. That being said, enabling font sub-setting across all characters would\nsignificantly reduce the size of embedded fonts. Then if you wanted to further shrink\na document's file size you could just apply a font family using a span around the\nspecific characters.\nOnce we figure out how to support Unicode encoding with the core fonts I don't\nbelieve you would need to embed a font for the characters cited. Note, however, that\nsome characters may not be supported at all in the core fonts (such as Chinese\ncharacters).\n. From fabien.menager on March 15, 2010 18:12:02\nI think this would be a really good idea to have an option of the DOMPDF instance as \nan array of the standardized subsets \n(http://en.wikipedia.org/wiki/Unicode#Standardized_subsets) like this :\nphp\nprotected $unicode_subsets = array(\n  \"Basic Latin\" => true,\n  \"Latin-1 Supplement\" => true,\n  \"Latin Extended-A\" => true,\n  ...\n  \"Latin Extended Additional\" => false,\n);\nWith default booleans choosen to have the best compromise, with an accessor to \nmodify them, like any other protecter property of dompdf. And the output of the PDF \nwould filter the characters of the embedded fonts with the help of an internal array \nof ranges corresponding to the subset names chosen.\n. From naruskev...@gmail.com on March 16, 2010 06:31:11\n   \"Once we figure out how to support Unicode encoding with the core fonts I don't\n    believe you would need to embed a font for the characters cited.\"\nDon't know if it would be helpful but here is the PDF, containing the same text,\ngenerated with OpenOffice (43,7Kb only)\nMaybe some ideas could be taken from OpenOffice.\n. From bhosale....@gmail.com on February 02, 2011 11:27:04\nhi have problem with greek font i have attchend my pdf file \nplz help me out \n. From karageor...@gmail.com on May 02, 2011 02:13:58\nThe same problem with greek fonts! Any news?\n. From eclecticgeek on May 10, 2011 19:40:42\n@naruskevic.jan Thanks for the PDF. It looks like OpenOffice is embedding a font to handle those characters.\n@bhosale.mahesh21 It looks like your text wasn't properly encoded before being placed in the document. Make sure you have Unicode enabled in your configuration file and that the MBString() PHP extension is enabled.\nThe latest code includes the DejaVu fonts, which should allow for a large number of characters. Get it here: http://eclecticgeek.com/dompdf/\nIf you're having problems enabling expanded character set support please post a question to the support forum: https://groups.google.com/forum/#!forum/dompdf\n. From fabien.menager on February 05, 2012 11:47:22\nI commited the first version supporting font subsetting in r468. You need to enable it by setting DOMPDF_ENABLE_FONTSUBSETTING to true. Not all fonts work yet, php-font-lib (http://code.google.com/p/php-font-lib/) needs to be fixed for this.\n. From ryan.mas...@gmail.com on March 16, 2010 12:16:08\nThere were some recent changes lists. Please try the latest beta, the previous\nalphas, and/or 0.5.1 and let us know if anything changes.\n. From derakki...@yahoo.com on April 06, 2010 20:35:39\n0.5.1 has this issue.\n0.6.1 beta doesn't.\n0.6.1 has some other issues that are more distracting than mis-aligned wrapped text.\nI've attached some examples. One created by 0.5.1 and the other with 6.0b along with\nthe HTML version.\nI've observed this output using php5.2.6 on windows and 5.2.10 on RHEL.\n. From eclecticgeek on April 06, 2010 23:28:27\n@derakkilgo@yahoo.com thanks for the update, I hadn't had a chance yet to check\nagainst the latest revision.\nI believe the issue you are seeing is due to a bug related to empty table cells. The\nrelated bug report can be found here:\nhttp://code.google.com/p/dompdf/issues/detail?id=70\n. From derakki...@yahoo.com on April 07, 2010 12:32:56\nThanks. \nAdding \"td { height: 1px; }\" fixed the display with 6.0b.\n. From phenxdesign on April 07, 2010 20:03:39\nHello, I commited a fix for the empty TD issue, could you please try the latest \nrevision from the trunk ?\n. From ryan.mas...@gmail.com on March 16, 2010 19:44:22\nPlease try the latest Beta.\n. This issue is a duplicate of #26\n. From fabien.menager on March 25, 2010 17:05:11\nCould you please try with the latest beta (0.6 beta) available in the Download section \n?\n. From Freigh...@gmail.com on March 29, 2010 10:52:17\nThanks for the quick answer.\nNo it is not solved, cause from www-view the css are based to root\nhttp://domain1/css/style.css. So the link in html to stylesheet is \"/css/style.css\".\nThe if-statement in line 134 evaluates to false then and the basepath is then ignored\nbei if-statement in line 143.\nHere some ideas:\nTo obtain wider compatibility I would suggest to introduce a local_path (or\nabsolute_path)-Attribute to Class Dompdf. If set, then use the localpath for\nretrieving the css.\nSimpler could be a solution, that checks wether base_path is a local-directory and if\nso, uses it. \nThird the if-statement in line 134 could be modified to fit this usecase.\n. From Freigh...@gmail.com on March 29, 2010 11:15:06\nAntoher simple effective idea: What about expecting base_path beeing a localpath when\nhost is not set. This should be consistent to the code cause in the other case host\nis expected for an remote-url in line 142-150.\nSo this line from dompdf-0.6.0b1/include/functions.inc.php in function build_url()\nphp\n    if ( $url[0] !== '/' && (strtoupper(substr(PHP_OS, 0, 3)) !== 'WIN' || ($url[0]\n!== '\\\\' && $url[1] !== ':'))) {\ncould be modified to\nphp\n   if ($host === '' || ( $url[0] !== '/' && (strtoupper(substr(PHP_OS, 0, 3)) !==\n'WIN' || ($url[0] !== '\\\\' && $url[1] !== ':')) ) ) {\nGreetings\n. From fabien.menager on April 08, 2010 17:05:12\nFor security reasons, DOMPDF cannot read html fils outside of the dompdf root. See line\n133 of dompdf_config.inc.php\n. From mungleri...@gmail.com on April 13, 2010 12:46:25\nargh, how did I miss that!. thanks running fine now.\n. From eclecticgeek on April 13, 2010 13:56:09\nThanks for posting an update, glad to see you got it running.\n. From Freigh...@gmail.com on June 14, 2010 10:25:50\nTake a look at issue 138. Does this workaround help?\n. From marko7...@gmail.com on April 14, 2010 15:27:46\nThis is font i am trying to use. Can u check about chars i need. I dont know how \ncould i view this afm fonts and what are chars in it. thanx\n. From senswerk...@gmail.com on September 21, 2010 08:53:43\nI see \"?\" characters insted of utf-8 hungarian characters in generated pdf where characters like\n\"\u0151\" (Latin Small Letter o With Double Acute U+0151)\n\"\u0150\" (Latin Capital Letter O With Double Acute U+0150)\n\"\u0171\" (Latin Small Letter u With Double Acute U+0171)\n\"\u0170\" (Latin Capital Letter U With Double Acute U+0170).\nSee attachments.\n. From mehmetka...@gmail.com on November 03, 2011 17:48:32\nSolition on windows (used wamp server)\nCOPY \"dompdf\\lib\\ttf2ufm\\bin\\ttf2ufm.exe\"  TO  \"C:\\Program Files\\GnuWin32\\bin\\\"\nrename \"ttf2ufm.exe\" >>> \"ttf2pt1.exe\"\nOR \nOPEN \"dompdf/dompdf_config.inc.php\"\nGOTO LINE 186 -- def(\"TTF2AFM\", \"C:\\Program Files\\GnuWin32\\bin\\ttf2pt1.exe\");\nshow your exe file to here >>>>>>(\"C:\\WAMP\\www\\dompdf\\lib\\ttf2ufm\\bin\\ttf2pt1.exe\")\n. From fabien.menager on January 12, 2012 20:16:48\nNext beta (0.6 beta 3) has a builtin font installer, you won't need to use TTF2UFM anymore.\nAnd it also has the DejaVu font installed, which supports a lot of Unicode characters.\n. From eclecticgeek on April 16, 2010 14:00:08\nDefinitely hold off on committing this patch until we have a chance to test it\nfurther. I'm not sure of the reason for using a wrapper around the image, but I would\nguess that Benj had a good reason.\nYou should extract the non-image enhancements so that they can be committed separately.\n. From phenxdesign on April 18, 2010 19:31:28\nDoes your document contain table cells which could be larger than a page ? If so, this \na known problem : the cell doesn't fit on its page so it is reported on the next one, \netc.\nFor the problem about the paper size, the second argument specifies if both sizes are \nflipped if it is equal to \"landscape\", even if the horizontal size is already the \nlargest.\n. From mitchell...@gmail.com on April 20, 2010 12:31:00\nAwesome!!! 100% right! Thanks!\n. From eclecticgeek on April 20, 2010 15:57:31\nGlad things are working out then (thanks phenxdesign for the help)\n. From duane.g...@gmail.com on April 22, 2010 14:01:59\nFor some further detail on this, I narrowed down that the error occurs between\nrevisions 228 and 229.  It appears to be in the include/text_frame_reflower.cls.php\nfile.  The only change in these revisions is a variation on a string substitution:\nphp\n$str = preg_replace(\"/[ \\t\\r\\n\\v\\f]+/u\",\" \", $text);\nI hope this helps further in narrowing down the cause.\n. From eclecticgeek on April 23, 2010 22:02:49\nWhich version of CentOS and PHP are you using? I'm not yet able to reproduce this problem on my servers. See if \nthe following test using r255 looks ok:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue144.htm&dompdf_ver=trunk&load_method=1\n. From duane.g...@gmail.com on April 24, 2010 03:54:12\nThanks for looking into this.  I'm heading out for the weekend but I'll check into it further when I'm back mid-\nweek.  In the meantime, I have some info on the environment:\n$ uname -a\nLinux webhosting30.bnsi.net 2.6.18-164.9.1.el5 1 SMP Tue Dec 15 20:57:57 EST 2009 x86_64 x86_64 \nx86_64 GNU/Linux\n$ php -v\nPHP 5.1.6 (cli) (built: Apr  7 2009 08:00:18) \nCopyright (c) 1997-2006 The PHP Group\nZend Engine v2.1.0, Copyright (c) 1998-2006 Zend Technologies\nYes, that is 5.1.6.  The CentOS releases are very conservative with the PHP release versions.\n. From eclecticgeek on April 24, 2010 04:32:47\nI wonder if it's the older version of PHP. Try simplifying the regex, something like:\n  $str = preg_replace(\"/[ \\t\\r\\n]+/u\",\" \", $text);\n. From eclecticgeek on June 04, 2010 02:05:05\nThis looks to be a limitation in the supported escape characters in earlier version of PHP (see the \\v notes at \nhttp://www.php.net/manual/en/regexp.reference.backslash.php). My guess is that unsupported escape \nsequences are treated as literal characters, resulting in \"\\v\" reading like \"v\". Note that I haven't confirmed this.\nI see two straightforward solutions at present:\n1) Use the pre-5.2.4 equivalent of \\v specified in the comments.\n2) Remove the test for \\v since it should rarely (if ever) show up as part of an HTML document.\n. From fabien.menager on July 23, 2010 18:39:11\nWe could also do something like I did for the splitText bug in PHP < 5.2.7 : I added a static boolean attribute to the Text_Frame_Decorator class named \"_buggy_splittext\" which I initialize right after the class's declaration like this so that it isn't evaluated each time the function is called :\nText_Frame_Decorator::$_buggy_splittext = version_compare(PHP_VERSION, '5.2.6', '<=');\nWe could consider doing this for the \\v problem : \nText_Frame_Reflower::$_whitespace_pattern = version_compare(PHP_VERSION, '5.2.4', '<') ? \"/[ \\t\\r\\n\\x0a\\x0b\\x0c\\x0d\\x85\\x2028\\x2029\\f]+/u\" : \"/[ \\t\\r\\n\\v\\f]+/u\";\nand then use this at the three places it is used (in Text_Frame_Reflower).\nLike this, we would have a short and effective regexp for recent PHP versions and something a little bit less effective but that works for the older ones.\nIf these \"workaround variables\" become numerous in DOMPDF, we could gather them in a common place.\n. From fabien.menager on August 02, 2010 20:55:34\nThis issue was closed by revision r291.\n. From eclecticgeek on April 24, 2010 02:12:06\nI'm currently unable to confirm the problem as described. Your table appears to be structured such that it will experience the problem outlined in Issue 91. The error message you reported doesn't seem to indicate the same issue, but perhaps you are running into that problem.\nRight now we can't confirm this issue until the other problem has been addressed.\n. From markus.o...@gmail.com on April 26, 2010 10:20:51\nHi\nThanks for the response. I'll wait and hope there will be a solution for the \"cell-\nlarger-than-a-page\" issue soon.\n. From JiPi00...@gmail.com on May 04, 2010 12:43:47\nSo while I was testing that html code before sending it to you, I found out that\nwithout the \"\u00e9\", it was rendering fine on both my dev comp and the server... and when\nI changed the \ufffd for \"\u00e9\" I had the same problem again. It was rendering fine on my\ncomp but not on the serv.\nI thought utf-8 characters was suported in the beta version :/\nI will keep working on that. Let me know if you find anything and how it render on\nyour servers/comps. What I don't understand is that on my dev comp it's rendering fine...\n. From markus.o...@gmail.com on May 04, 2010 12:55:37\ngood point, I didn't even think about the character encoding.\nSo you're saying that the error message about \"DOMText::getAttribute()\" does not appear \nwhen there are no special character like \u00e4, \u00f6, \u00fc etc.?\nDo you use another linux dist and/or configuration on your computer than on the server? \nI also experience some different behavior in different dists (e.g. the first page \nwasn't blank on CentOS)\n. From JiPi00...@gmail.com on May 04, 2010 13:57:08\nhmm no I'm sorry for some reason when i was awnsering somewhere else it awnsered\nhere. Sorry hehe\nBut I am also having some problem with our linux server that is running CentOS.\n. This issue is a duplicate of #42\n. From pilzni...@gmail.com on September 27, 2011 14:09:11\nThis workaround didn't work for me. But after experimenting a bit I think I found a solution by changing your line a bit.\nInstead of adding the line above, use the following line:\n$split = mb_strlen(mb_substr($this->frame->get_text(), 0, $split), 'UTF-8');\n. _From jordiher...@gmail.com on November 20, 2011 22:40:42\nIt does work and it saved my a##. Thank you\nSummary:\n1) Edit \"include/text_frame_reflower.cls.php\" file\n2) After line 246 enter a new line\n3) Add this: $split = mb_strlen(mb_substr($this->frame->get_text(), 0, $split), 'UTF-8');\n. _From alejan...@vulsai.com on September 13, 2012 16:29:32\nI'm on 0.5.2 and had the problem that when there were an accent on a line, the first character from the next line was wrapped into it, like:\nThis is a first line with \u00e1ccent. T\nhis is a second line.\nNotice the T at the end of the first line, it belongs to the second. It happened with default and custom font.\nThe fix proposed by comment 3 (by jordiher...) was the one that fixed the issue. Can it be merged to make a 0.5.3?\n. This issue is a duplicate of #42\n. From fabien.menager on July 08, 2010 18:09:37\nI added this test in the 0.6 test branch\n. From eclecticgeek on May 03, 2010 20:11:34\nThis may be a problem with the version of PHP, but we would need to run some tests to\nconfirm. I have a few variants of linux on which I can test, but I'll have to see if\nI can set up an older release of PHP. Can you supply a sample HTML document against\nwhich we can test?\n. From JiPi00...@gmail.com on May 04, 2010 12:45:53\nSo while I was testing that html code before sending it to you, I found out that\nwithout the \"\u00e9\", it was rendering fine on both my dev comp and the server... and when\nI changed the \ufffd for \"\u00e9\" I had the same problem again. It was rendering fine on my\ncomp but not on the serv.\nI thought utf-8 characters was suported in the beta version :/\nI will keep working on that. Let me know if you find anything and how it render on\nyour servers/comps. What I don't understand is that on my dev comp it's rendering fine...\n. From JiPi00...@gmail.com on May 04, 2010 12:49:58\nFor some reasons, the file that I uploaded was empty\n. From JiPi00...@gmail.com on May 04, 2010 13:50:31\nSo I was doing some test and I found out something intersting.\nAs you will be able to see on those 2 screenshots(both from the server which I have\ntrouble with), it looks like it is working fine with\"\u00e9\" but when it is in cap(\"\u00c9\") it\nis not rendering like I want.\nThats kinda wierd.\n. From JiPi00...@gmail.com on May 04, 2010 14:21:19\nHmmm this is definatly a special characters problems, but not with capital letters.\nLook at these 2 new screenshots I made.\nMaybe it's a problem with the interpretation of the length of the special characters\nwith linux?\nOk i'm gonna stop spamming your mailbox and wait for your answer,\nthanks again for the help :)\n. From JiPi00...@gmail.com on June 17, 2010 15:43:08\nHave you looked at it and started to work on a solution? \nIf not could you tell me where I should start looking at to find what is causing this and how I can fix it because I will have to get this working in the next few weeks.\nThanks\n. From eclecticgeek on June 17, 2010 21:22:51\nIt's hard to work on a solution as we have yet to confirm the problem. I haven't been able to reproduce your issue using PHP 5.2.1 on a linux system. Also, I don't have access to CentOS so it's difficult to know if there's a library on the OS causing a problem.\nI think I know what's happening, but I'm not sure why right now. There have been some adjustments to how DOMPDF works with text since the beta 1 release. Can you try the latest developer code from the subversion repository to see if your issue has been fixed?\nIf you're not familiar with subversion, you can download a copy of the most recent code base here:\nhttp://eclecticgeek.com/dompdf/\n. From JiPi00...@gmail.com on June 18, 2010 14:36:45\nWell there is a good news and a bad news. The original problem is fix which is the good news! However, it look like all the \"v\" are replaced by a space (\" \")\nAny thought on this?\n. From eclecticgeek on June 18, 2010 22:06:19\nI believe this is a compatibility problem with the PCRE library included with CentOS. I haven't had confirmation, but you should be able to work around the issue by adjusting the regular expression used with preg_replace(). See http://code.google.com/p/dompdf/issues/detail?id=144\n. From JiPi00...@gmail.com on June 21, 2010 14:14:54\nAlright it's working! thanks a lot for taking time to help me.\nCheers\n. From eclecticgeek on June 21, 2010 17:48:08\nSince this report covers a few bugs I'm marking it invalid. The issues are reported elsewhere and will be fixed or have already been addressed in trunk.\n. From fabien.menager on October 20, 2010 20:51:58\nThis can be done with inline PHP, see the \"large_table\" example\n. From bthakk...@gmail.com on November 11, 2010 06:04:20\nAt last i found a 100% workable solution as below. I am sharing this so that many users can take this benefit!!!\nhtml\n<script type=\"text/php\">\n  $watermark = $pdf->open_object();\n  $w = $pdf->get_width();\n  $h = $pdf->get_height();\n  $pdf->text(110, $h - 240, \"DELETED\", Font_Metrics::get_font(\"helvetica\", \"bold\"),110, array(0.85, 0.85, 0.85), 0, -52);\n  $pdf->close_object();\n  $pdf->add_object($watermark, \"all\");\n</script>\n(Script edited for accuracy, see demo_01.html for a more complete example.)\n. From att...@gmail.com on June 10, 2010 19:01:25\nI ran into the same problem using DOMPDF_DPI=96 and your fix is working fine.\n. From fabien.menager on August 02, 2010 20:57:01\nFixed by r283\n. From eclecticgeek on May 20, 2010 03:12:37\nThanks for the notice. I replaced the original 0.6.0 beta 1 downloads with news ones. Let us know if you see any \nother problems.\n. From fabien.menager on April 10, 2011 19:09:54\nThis will be fixed in the next revision\n. From eclecticgeek on May 31, 2010 16:32:48\nA quick look at the code and I can't see why you're getting this error. Do you have a sample document that \nproduces the same results?\n. From fabien.menager on May 31, 2010 18:38:49\nHello, do you have another version of the CPDF class ? (in another project that uses a \nbundled version of the Cpdf class, maybe).\nIt may be declared before the one from DOMPDF, that has more methods, like this one.\n. From md.shafi...@gmail.com on June 01, 2010 12:08:54\nno, i just used in one place to convert the html to pdf. But the problem gone after i\ndownload the code using SVN. But another problem i found is that, \"cellpadding\". When\ncellpadding=\"somevalue\" in the table and tables goes out of boundary due to\ncellpadding, the script become in infinite loop.\nSo i changed the cellpadding=\"10\" to cellpadding=\"5\" in one table, then it works.\nThanks.\n. From eclecticgeek on June 01, 2010 16:37:52\nThanks for the update. I checked the beta release and it should be ok. I'm marking this one invalid unless/until \nwe can confirm the issue (so far I have been unable to do so). At any rate, I'm glad you were able to address the \nissue by updating to more recent code from the SVN repository.\nRegarding your other issue. There is a known problem with block elements that are too big to fit on a page (see \nIssue 91). We'll be addressing this in a future release.\n. From eclecticgeek on June 04, 2010 20:41:23\nIt looks like maybe DOMPDF is having trouble selecting a font. Can you try deleting the temporary font files in \nthe dompdf/lib/fonts directory? Up to and including the current trunk these files begin with \"php_\"\n. From cm5...@gmail.com on June 06, 2010 16:28:39\nThere were none of these cache files present. However, I realized a mistake was that \nthis directory was not web-server writable so I fixed that and the files are still \nnot present. To be safe I run this before loading the dompdf libs:\ndefine(\"DOMPDF_FONT_CACHE\", Mage::getBaseDir('cache'));\nStill no font cache files are being created.\nThanks!\nColin\n. From cm5...@gmail.com on June 06, 2010 16:46:39\nFixed.. There was an error in my application code that caused the rendered content to \nbe <html><body></body></html>. Fixed that and everything works now.\nThanks!\nColin\n. From eclecticgeek on June 07, 2010 01:17:23\nGlad you were able to work it out.\n. From cm5...@gmail.com on June 07, 2010 15:46:02\nThanks. However, shouldn't <html><body></body></html> render a blank page rather than \ncause an error?\n. From eclecticgeek on June 07, 2010 18:23:40\nOops ... pulled the trigger too fast on that one. There does appear to be an index reference problem in the CPDF \nlibrary. If you have display_errors turned off then the PDF will render correctly. If not, PHP will display the error, \nprevent the generated PDF from being sent to the web browser. We'll include a fix in the next release.\n. From flavien....@gmail.com on August 02, 2010 13:43:17\nI added an isset test because of a declaration style but without tag to display an it caused the same error.\n. From xgro...@gmail.com on September 18, 2010 19:27:39\nValeu!!! o Seu problema foi a solu\u00e7\u00e3o do meu!!\n. From eclecticgeek on June 09, 2010 01:58:10\nI am unable to duplicate the problem with 5.3.0. When I have time I'll compile 5.3.2 and test it out.\nIs the following group posting related?\nhttp://groups.google.com/group/dompdf/browse_thread/thread/2479b277af036aa0\n. From eclecticgeek on June 22, 2010 14:56:26\nDo you have the GD PHP extension enabled? This is required when using GIF images.\n. From eclecticgeek on August 28, 2010 02:16:03\nAlso, can you check your PHP error log for any warnings/notices. I seem to recall that there might have been an issue with a missing function that could cause this error when the mbstring extension was not enabled.\n. From eclecticgeek on July 03, 2010 00:37:28\nIs this a verbatim example? Typically this has been found with text that includes non-ASCII characters (e.g. characters with accent). The upcoming release has already addressed this problem, please try 0.6.0 beta 1 and let us know if the problem has been corrected.\n. From eclecticgeek on July 09, 2010 17:39:30\nThere does appear to be a problem here. This may be related to issue 150, can you check to see if the fix reported there helps.\n. From alvaro.g...@gmail.com on July 14, 2010 10:19:22\nHi eclecticgeek,\nYes, that change solved the issue ;)\nThanxs a lot.\n. This issue is a duplicate of #156\n. From eclecticgeek on July 10, 2010 01:50:48\nCan you post to the support group so we can work out if this is a bug or just a configuration issue?\nhttp://groups.google.com/group/dompdf/\n. From escapi...@gmail.com on July 13, 2010 05:15:23\nI should add that this issue does not occur in version 0.5.1\n. From fabien.menager on July 30, 2010 15:39:32\nDid you use the latest revision from the SVN trunk ? if not, could you checkout the trunk or download a nightly from eclecticgeek's website ? \nhttp://www.eclecticgeek.com/dompdf/\nThis may have been solved in this version, but I'm not totally sure.\n. From escapi...@gmail.com on August 01, 2010 23:33:30\nI just downloaded the nightly and it seems to have been fixed - thanks\n. From eclecticgeek on July 14, 2010 18:12:01\nI haven't looked closely at your HTML in order to decipher the source of the problem but it appears to have already been resolved in the latest dev code:\nhttp://eclecticgeek.com/dompdf/index.php?input_file_http=http%3A%2F%2Fpweb-inf.cicese.mx%2F%7Eadrian%2FCONTROLESC%2Fbin-debug%2Fscripts%2Ftest.php&dompdf_ver=trunk\n. From adrian...@hotmail.com on July 14, 2010 19:08:12_\nThis issue is caused because of the \"acutes\" in the document.\nThe solution is to parse all strings with  htmlentities();\nto convert   \"  \u00e1 \u00e9 \u00ed \u00f3 \u00fa  \"   in to   &xacute\nhowever I still have an issue with an element going to the top of the page. as this is not a complete solution.\n. From adrian...@hotmail.com on July 14, 2010 19:23:28_\nI am suppouse to have the 0.6.0 Beta...\nHow can I get the latest dev code if that is not?\n. From adrian...@hotmail.com on July 14, 2010 20:43:43_\nSecond issue solved by changing the above line in the config file:\ndefine(\"DOMPDF_UNICODE_ENABLED\", false);\nto:\ndefine(\"DOMPDF_UNICODE_ENABLED\", true);\nThank you very much for your support !\n. From eclecticgeek on July 14, 2010 20:59:53\nThe beta is just the last released version of the code. We are constantly updating the code in the subversion repository. If you're not familiar with SVN, you can download a \"nightly\" release here:\nhttp://eclecticgeek.com/dompdf/\nThere are a lot of updates to the character set support, so it is probably worth a try.\n. From jase.wil...@gmail.com on March 25, 2011 14:37:38\nI have 1.6.0 beta2 and i am still having this problem.\nI have a margin on the top of the page and nothing seems to be removing it.\n. From eclecticgeek on March 25, 2011 18:21:49\n@jase.williams see Issue 248\n. This issue is a duplicate of #42\n. From josepco...@gmail.com on November 25, 2010 18:53:11\nThanks for your patch, it also worked for me! \nThey should include your patch at new version!!\n. From fabien.menager on November 25, 2010 20:00:36\nIt is already in the trunk ;)\nhttp://code.google.com/p/dompdf/source/diff?spec=svn285&r=285&format=side&path=/trunk/dompdf/include/text_frame_decorator.cls.php#sc_svn216_160\n. From nikol...@gmail.com on April 14, 2011 20:41:51\nDoesnt work on my system, Debian with \"PHP Version 5.2.6-1+lenny9\". The version compare function returns false, so this fix doesnt work. Hope to help someone.\n. From eclecticgeek on May 06, 2011 17:47:29\nIf I'm reading the version_compare() documentation correctly 5.2.6-1 (translated to 5.2.6.1) may be determined to be newer than 5.2.6. If you modify the version_compare() function to be the following what do you get?\nversion_compare(PHP_VERSION, '5.2.7', '<')\n. From lucky.wo...@gmail.com on February 29, 2012 20:42:13\nIf you are working with UTF-8 encoded texts, with accents (tilde, circumflex, etc) or special characters, add \"mb_internal_encoding(\"UTF-8\");\" on the patch suggested, as the example bellow:\nfunction split_text($offset) {\n    if ( $offset == 0 )\n      return;\n```\nif (version_compare(PHP_VERSION, '5.2.6', '<=')) {\n    // workaround to solve DOMText::spliText() bug parsing multibyte strings\n    $node = $this->_frame->get_node();\n    mb_internal_encoding(\"UTF-8\"); // fix for UTF-8 encoded texts\n    $txt0 = $node->substringData(0, $offset);\n    $txt1 = $node->substringData($offset, mb_strlen($node->textContent)-1);\n$node->replaceData(0, mb_strlen($node->textContent), $txt0);\n$split = $node->parentNode->appendChild(new DOMText($txt1));\n\n}\nelse {\n    $split = $this->_frame->get_node()->splitText($offset);\n}\n$deco = $this->copy($split);\n$p = $this->get_parent();\n$p->insert_child_after($deco, $this, false);\nif ( $p instanceof Inline_Frame_Decorator )\n    $p->split($deco);\n```\n}\n. This issue is a duplicate of #98\n. From fabien.menager on July 22, 2010 11:01:44\nDid you activate unicode support in the config file (set DOMPDF_UNICODE_ENABLED to true in dompdf_config.inc.php) ?\n. From proc.n...@gmail.com on July 22, 2010 11:14:30\nerhm , no :) ..now activating it and using an embedded font it works!\nThanks so much!\n. From eclecticgeek on July 22, 2010 15:57:10\nPerhaps we should consider enabling Unicode by default. If no Unicode metrics are available then DOMPDF falls back to standard encoding.\n. From fabien.menager on July 22, 2010 18:22:57\nI could not agree more!\n. From eclecticgeek on July 22, 2010 17:33:08\nAn upcoming 0.6.0 beta 2 release includes a fix for this.\n. From eclecticgeek on July 22, 2010 17:35:45\nThis doesn't necessarily sound like a DOMPDF issue. Is there some kind of setting that flips the switch on PDF generation for the pages your site?\n. From DMFurgu...@gmail.com on July 22, 2010 19:20:49\nthere is a link in the top corner of the content, generated by the 'Print, email, and PDF' module for drupal (http://drupal.org/project/print).  The version of the module is 6.x-1.x-dev which is the recommended release for PHP 5.3 and dompdf 0.6.  I originally started my search there, and was told that my issue was with dompdf. \n. From eclecticgeek on July 22, 2010 21:52:40\nThe warnings are from DOMPDF, but based on your description of how the issue is encountered I'm not sure it is due to a bug in DOMPDF. Do you have a site up somewhere where we can see the problem?\n. From DMFurgu...@gmail.com on July 23, 2010 12:58:18\nUnfortunately I do not...\n. From fabien.menager on July 27, 2010 20:58:37\nThis looks like a bad formatted CSS stylesheet, could you upload the CSS file here?\n. From DMFurgu...@gmail.com on July 29, 2010 13:00:48\nHere is the css associated with the theme of my site and the print module\n. From fabien.menager on July 29, 2010 14:50:59\nEverything seems ok with this CSS.\nCould you add this :\nif ($nodes == null) pre_var_dump($selector);\nright after \n$nodes = $xp->query($query);\nin stylesheet.cls.php line 614 ?\n. From DMFurgu...@gmail.com on July 29, 2010 16:26:00\ntried and Im still getting the same errors, only now the pdf is not generated at all (adobe sends an error message \"File does not begin with %PDF-\")\n. From fabien.menager on July 29, 2010 16:49:04\nSorry I forgot to tell you to give me the message this line printed ;)\nCould you open the generated PDF with something like notepad, and paste here all the text before %PDF ?\n. From DMFurgu...@gmail.com on July 29, 2010 17:32:38\nHere is the text before %PDF (attached is the full file)\nstring(15) \"a[href$='.doc']\"\n\nstring(15) \"a[href$='.rtf']\"\n\nstring(15) \"a[href$='.txt']\"\n\nstring(15) \"a[href$='.xls']\"\n\nstring(15) \"a[href$='.rss']\"\n\nstring(16) \"a[href$='.atom']\"\n\nstring(16) \"a[href$='.opml']\"\n\nstring(17) \"a[href$='.vcard']\"\n\nstring(15) \"a[href$='.exe']\"\n\nstring(15) \"a[href$='.dmg']\"\n\nstring(15) \"a[href$='.app']\"\n\nstring(15) \"a[href$='.pps']\"\n\nstring(15) \"a[href$='.pdf']\"\n\nstring(15) \"a[href$='.xpi']\"\n\nstring(15) \"a[href$='.fla']\"\n\nstring(15) \"a[href$='.swf']\"\n\nstring(15) \"a[href$='.zip']\"\n\nstring(15) \"a[href$='.rar']\"\n\nstring(16) \"a[href$='.gzip']\"\n\nstring(16) \"a[href$='.bzip']\"\n\nstring(15) \"a[href$='.ace']\"\n\nstring(16) \"a[href$='.ical']\"\n\nstring(15) \"a[href$='.css']\"\n\nstring(15) \"a[href$='.ttf']\"\n\nstring(15) \"a[href$='.jpg']\"\n\nstring(15) \"a[href$='.gif']\"\n\nstring(15) \"a[href$='.png']\"\n\nstring(15) \"a[href$='.bmp']\"\n\nstring(16) \"a[href$='.jpeg']\"\n\nstring(15) \"a[href$='.svg']\"\n\nstring(15) \"a[href$='.eps']\"\n\nstring(15) \"a[href$='.mov']\"\n\nstring(15) \"a[href$='.wmv']\"\n\nstring(15) \"a[href$='.mp4']\"\n\nstring(15) \"a[href$='.avi']\"\n\nstring(15) \"a[href$='.mpg']\"\n\nstring(15) \"a[href$='.mp3']\"\n\nstring(15) \"a[href$='.wav']\"\n\nstring(15) \"a[href$='.ogg']\"\n\nstring(15) \"a[href$='.wma']\"\n\nstring(15) \"a[href$='.m4a']\"\n\nstring(18) \"a[href$='.torrent]\"\n\n. From fabien.menager on July 29, 2010 21:51:08\nOk! so these CSS selectors were not supported until now. I added support for three new CSS3 selectors in the last revision. Could you try the latest version from the trunk ?\nIf you are not familiar with Subversion, you can download a nightly zip from eclecticgeek's website: http://www.eclecticgeek.com/dompdf/\n. From DMFurgu...@gmail.com on July 30, 2010 14:14:15\nTried it and it is working perfectly, thank you very much for your quick help!\n. From fabien.menager on July 30, 2010 15:36:56\nYou're welcome !\nIn addition to this, all the CSS3 selectors that dompdf can't understand will be ignored and won't throw fatal errors.\n. From sivaji2...@gmail.com on September 21, 2010 15:49:06\nI tried the recent version from http://www.eclecticgeek.com/dompdf/ i am still facing the same problem. Can you please share the patch here ?\n. From fabien.menager on July 30, 2010 15:41:33\nIt looks like the way DOMPDF is initialized differs from the 0.5.1 version, and we should definitely add an API to the DOMPDF class to directly write :\n$dompdf->setEncryption(\"pass\", \"pass\", array(\"print\"));\n. From pandyleg...@gmail.com on July 30, 2010 15:51:37\nAn additional note which I forgot to mention - even in 0.5, when opening the PDF in some PDF readers (i.e. not Adobe) it would prompt for password upon opening. Adobe Reader and Acrobat behaved as expected.\n. From pabloalb...@gmail.com on October 02, 2010 17:06:11\nFatal error: Call to undefined method PDFLib_Adapter::get_cpdf() in\n??\n. From eclecticgeek on October 03, 2010 20:31:26\n@pabloalberto18: I don't think this is related to setEncryption. I see a possible problem in dompdf.cls.php (r316) line 618. Do you have $dompdf_show_warnings set to true?\n. _From fabien.menager on November 11, 2010 18:16:49\nThe initial issue was fixed by r328\n. From fabien.menager on July 30, 2010 15:43:13\nIt seems to be related to problem with cells that don't fit on the page. I'll look at it as soon as I can.\nSee here : http://code.google.com/p/dompdf/issues/detail?id=91\n. This issue is a duplicate of #98\n. From fabien.menager on August 04, 2010 18:34:10\nHello, this was fixed in the 0.6 beta that you can download from the Google Code page.\n. From konarzew...@gmail.com on December 03, 2010 18:07:02\nno, it wasnt. the line is the same.\n. From fabien.menager on December 03, 2010 20:54:05\nYou are right, I thought it was fixed before the beta release, but it is fixed in the SVN trunk, a new beta will come shortly.\n. From fabien.menager on August 10, 2010 21:44:03\nThe output_file and save_file arguments are forced to dompdf_out.pdf and false in the 0.6 release, see here : http://code.google.com/p/dompdf/source/browse/trunk/dompdf/dompdf.php#276\nI don't know why the output_file was forced, but I understand for save_file. Allowing to set it for the web would allow to overwrite possibly any file on the system, or at least in the web directory. You need to use the class directly to do what you want to do, but we need to fix your problem with images. What is the code you use to instanciate dompdf and how are written the urls of the images in the document?\n. From stu.tipp...@gmail.com on August 11, 2010 07:23:12\nHi Fabien,\nthanks for your reply, I missed the atuo false value there, thanks!\nI've reset them and made sure that only that directory can be overwritten. It's on a private box anyway, so should be secure!\nAs for the images, with the 'save_file' set to default to 'true' now, it saves the file every time perfectly with images in it.\nThe script that wasn't working with images was here: http://code.google.com/p/dompdf/wiki/FAQ under the section 'How do I save a PDF to disk?', the code:\n``` php\nrequire_once(\"dompdf_config.inc.php\");\n$html =\n    'body {  color: #7d7a7a;  font-family: 'trebuchet ms', verdana, sans-serif;}The PHP 5 HTML to PDF converter ';\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n// The next call will store the entire PDF as a string in $pdf\n$pdf = $dompdf->output();\n// You can now write $pdf to disk, store it in a database or stream it\n// to the client.\nfile_put_contents(\"saved_pdf.pdf\", $pdf);\n```\nI've changed the $html value above to include the html code from www/test/image.html (which normally displays the images fine when converted to a PDF), however with the code above no matter what I enter for the URL of the image, it won't display it!\ni.e. I've tried:\nhtml\n<img src=\"dompdf_simple.png\"/>\n<img src=\"images/dompdf_simple.png\"/>\n<img src=\"test/images/dompdf_simple.png\"/>\n<img src=\"www/images/dompdf_simple.png\"/>\n<img src=\"create/images/dompdf_simple.png\"/>\n<img src=\"http://www.mydomain.com/create/images/dompdf_simple.png\"/>\nAnd none of those will find the image.\nI'm not sure if that's supposed to be the case, but I thought I'd pop it here in case someone else comes across the same problem as me.\nResetting the 'save_file' value to true has fixed my problem now though, so I don't need to use the code above anymore!\nThanks.\n. From stu.tipp...@gmail.com on August 11, 2010 07:25:59\nThose links should have read:\nhtml\n<img src=\"dompdf_simple.png\"/>\n<img src=\"images/dompdf_simple.png\"/>\n<img src=\"test/images/dompdf_simple.png\"/>\n<img src=\"www/test/images/dompdf_simple.png\"/>\n<img src=\"create/www/test/images/dompdf_simple.png\"/>\n<img src=\"http://www.mydomain.com/create/www/test/images/dompdf_simple.png\"/>\nTypos!\n. From fabien.menager on April 25, 2011 18:41:26\nThis issue was closed by revision r385.\n. From vedio...@gmail.com on August 17, 2010 03:44:03\nAfter further searches, I found I am not the only one to have this problem...\nhttp://www.dashinteractive.net/dompdf/index.php?v=2189079\nhttp://groups.google.com/group/dompdf/browse_thread/thread/21404e12244ba8bd/676122318a39231f?lnk=gst&q=image#676122318a39231f\nEtc....\nExcept the trick to call the image before opening the footer object works only for one page (the first or the last, depending where the script is located into the HTML)\n. From vedio...@gmail.com on August 18, 2010 11:23:05\nI have the same problem with every versions (dompdf 0.5.1 and DOMPDF 0.6.0 beta1)\n. From fabien.menager on August 27, 2010 18:11:02\nI tried a simple example like this one:\n``` html\n\nif ( isset($pdf) ) \n{\n  $footer = $pdf-&gt;open_object();</p>\n<p>$pdf-&gt;image(\"www/test/images/goldengate.jpg\", 'jpg', 50, 10, 143, 46);</p>\n<p>$pdf-&gt;close_object();\n  $pdf-&gt;add_object($footer, \"all\");\n}\n\n```\nwith an image from dompdf and everything is ok in dompdf 0.6 beta if I put this right after  tag.\n. From vedio...@gmail.com on September 06, 2010 09:38:13\nI still can't dot it, and I locate my script inside the <body>  </body> tag.\nHow can I help you to reproduce the problem? Do you have a private email so I can give you the complete HTML template and join the pictures I use?\nThanks :)\nS.L.\n. From harnish....@gmail.com on March 01, 2012 20:09:40\ni have written below code to add header image to every page\nphp\n$header = $pdf->open_object();\n    $pdf->image(\"logo.jpg\", \"jpg\",10,80,50,400);\n$pdf->close_object();\n$pdf->add_object($header,\"all\");\nbut the image is displayed left aligned.\nhow to set the left margin of image\nas i have tried, the image parameter goes like this\nimage(Path of image,Type of Image, Margin-top, width,height,\"\")\ni would like to know what does last parameter stands for.? i have set it to 400 and 40 but there was no difference\n. From eclecticgeek on March 01, 2012 23:29:29\n@harnish.padia have you updated to dompdf 0.6.0? The latest version no longer requires that you specify the image type when you call $pdf->image(). So your code would be:\nphp\n$header = $pdf->open_object();\n$pdf->image(\"logo.jpg\",10,80,50,400);\n$pdf->close_object();\n$pdf->add_object($header,\"all\");\n. From osugule...@gmail.com on June 18, 2012 12:51:23\nSome help me Nothing is working to put a header on my PDF file\n. From eclecticgeek on June 19, 2012 01:21:49\n@osugule123 please post a follow-up to the support group. It helps if you include any relevant information about your installation and, if possible, a sample HTML document.\n. From eclecticgeek on June 19, 2012 01:23:03\n@vediovis I hope that you have been able to resolve your issue. If you continue to have problems please post a follow-up and we'll take another look.\n. From fabien.menager on May 02, 2011 21:53:38\nWe need more info, I'm closing it for now\n. From eclecticgeek on May 11, 2011 17:04:34\nPossibly related to the following discussion:\nhttps://groups.google.com/d/topic/dompdf/IUBOEiRLqL0/discussion\nThe PDFLib issue with adding images outside an object doesn't appear to be strictly within the realm of DOMPDF, though it may be something we want to address. At the very least we should probably add an entry to the FAQ.\nHowever, for the current bug report I agree on closing.\n. From fabien.menager on August 27, 2010 18:12:46\nThis file is in the zip, your downloaded zip seems to be broken. Could you download 0.6beta instead ? \nhttp://code.google.com/p/dompdf/downloads/list\n. From eclecticgeek on August 28, 2010 02:12:18\nclass.pdf.php is the correct file. This class should only be referenced if you are using the CPDF library. In which case it should be loading when the CPDF_Adapter class is loaded (see dompdf/include/cpdf_adapter.cls.php). At any rate, and as mentioned by Fabien, we do recommended that you upgrade to the 0.6.0 beta if at all possible.\n. From eclecticgeek on September 01, 2010 17:17:37\nMitigating factor: DOMPDF_ENABLE_REMOTE must be set to true\n. From eclecticgeek on September 01, 2010 17:33:22\nI think we should address this issue for the following reasons:\n-In the worst-case scenario a vulnerable installation that also has DOMPDF_ENABLE_PHP set to true, malicious PHP code could be run in the context of the web server.\n-In the best-case scenario a vulnerable installation could be used to generate a malicious PDF. This would be most useful for targeted attacks on web site users.\nThe latter point is theoretical at this point. I haven't seen nor tried to produce a document that, when rendered by DOMPDF, will result in a malicious PDF document. But I do not think we can rule out the potential.\nI see two quick paths moving forward:\n-disable web access to dompdf.php (again)\n-add a whitelist that is checked for any remote file access; the default could be the domain on which DOMPDF is hosted\nI also think we need to produce a security document for end users that explains how best to secure their installation and the potential issues that can arise when using DOMPDF in certain ways and/or with certain settings.\n. From fabien.menager on September 01, 2010 20:04:33\nI think dompdf.php should never access the web, it should only have access to local files, limited to the dompdf folder. If lots of people request this, we'll add a whitelist feature in 0.6.1, or another config option like DOMPDF_ENABLE_REMOTE_DOCUMENT (in parallel to DOMPDF_ENABLE_REMOTE which is more like a DOMPDF_ENABLE_REMOTE_RESOURCES constant).\nThis option would have the advantage to still allow the converter to access remote stylesheets and images (which are less critical IMHO).\nThe activation of this option could still be added to the whitelist feature, but any misconfiguration that would add a vulnerability will still be of the user's responsibility (the web app developer).\n. From fabien.menager on September 02, 2010 16:13:21\nI think that DOMPDF_ENABLE_PHP should be disabled by default.\nAnyone who has access to the demo page of an installation of DOMPDF can execute arbitrary code on the server.\nIt could be dramatic if the apache was configured to have high privileges.\n. From woody.gilk on September 02, 2010 16:18:08\nAgree with Fabien, dompdf.php should not have any reference to $GET['input_file'] and should not be web-accessible. It is trivial to create a single file to include DOMPDF and do what $_GET['input_file'] does, so DOMPDF does not need this functionality out of the box.\n. _From eclecticgeek on September 02, 2010 18:30:39\nI'm of two minds on the issue of the web-based functionality of dompdf.php. I think it could prove useful to keep the file and web access to it, but only for the local domain. It's one way to provide easy installation/usage while still maintaining some level of security.\nStill, if the majority of us feel that access via the web should either be removed or restricted I won't fight over the point. As Woody pointed out, creating a pass-through script for processing documents using the class is trivial.\nI agree about DOMPDF_ENABLE_PHP. I've been thinking for a while that we should make this change. I also think we should move the demo site and CPDF library out of the DOMPDF repository. These are really separate sub-projects. But that's a discussion for another time.\n. From fabien.menager on September 02, 2010 20:07:18\nOk, I disabled DOMPDF_ENABLE_PHP in my last commit.\nI agree with the fact that dompdf.php is a very easy way to have a working product, but then the white-list or the restriction to local system files (paths limited by the white-list). \nConcerning the CPDF library and the demo, I don't totally agree. The embedded CPDF has been hacked a lot, and I think this could even be renamed DOMPDF_PDF_Writer or something like this.\nFor the demo site, we could maybe remove the \"user\" input feature as it is another vulnerability. The example files would be loaded by a custom and very restrictive script if we abandon dompdf.php\n. From eclecticgeek on September 03, 2010 00:57:19\nI'm posting separate issues to discussion the extraction of CPDF (Issue 178) and the web site (Issue 179), just so we don't get too off topic from this security issue.\n. From eclecticgeek on September 03, 2010 01:00:31\nFabien, how far are you with your work on float support? I think we should go ahead and release another beta as soon as possible. Even without float ability we (you) have made some significant improvements to the library.\n. From fabien.menager on September 03, 2010 12:53:49\nI fixed a few issues with float (details in Issue 19), I also changed a few things about text-decoration that I would like to finish before the next beta (maybe this weekend).\n. From dmmal...@gmail.com on December 24, 2010 05:13:07\nHas there been any resolution to the remote file include issue? I have stopped using dompdf due to this vulnerability but would like to continue using it in the future.\n. From eclecticgeek on December 27, 2010 18:43:46\nWe are still looking into how best to address the issue. There are ways to mitigate the problem, but whether or not it is necessary and the exact steps to take depends on your configuration. If you post a more question to the discussion forum with information on your DOMPDF configuration we can provide some guidance.\n. From kfo...@gmail.com on July 19, 2012 19:20:56\nWhat about including files which are not meant to be included? /etc/passwd?\nhttp://yehg.net/lab/pr0js/advisories/Apache%20Security%20Bypass%20Vul%20DomPDF.pdf?1340284852\n. From eclecticgeek on July 19, 2012 19:53:16\n@kfoens We have taken steps with 0.5.2 and in 0.6.0 to address the vulnerability cited in that document. Anyone still using 0.5.1 should upgrade immediately.\nThe vulnerability of any particular system depends entirely on the setup of that system. We are doing our best to ensure that dompdf is more secure by default. To help with this in regards to dompdf we will be producing a document outlining the best practices in securing a dompdf installation.\n. I think this problem is solved in 0.6, right ? Can we close this issue ?\n. ref #570 \n. From kyle.mor...@gmail.com on September 09, 2010 21:49:41\nhere is me source code\n``` php\ninclude(\"dompdf_config.inc.php\");\n$html =''\n.''.''.''.''.''.\n' DoctorsInTraining.com USMLE Step 1 Review '.\n  '  - 6 Week \"Emergency\" Plan - Testing week of:'.$ArrayofDates[0].'   '.\n'Study Guide Created For: '.$ArrayofDates[49].''.''.\n   '\n Week  Week of:  First Aid & Doctors In Training  Question Bank  \n Days 1-3  '.$ArrayofDates[6].'    4hr practice test (200q).  If less than 45% correct, then\nyou will require at least 12 weeks of study, and this plan\nwill not work for you.  \n 2  '.$ArrayofDates[5].'  Doctors In Training USMLE Step 1 Review   25-50q daily. Weekend 150q NBME test online.  \n 3  '.$ArrayofDates[4].'  Doctors In Training USMLE Step 1 Review   25-50q daily. Weekend 150q NBME test online.  \n 4  '.$ArrayofDates[3].'  Doctors In Training USMLE Step 1 Review   25-50q daily. Weekend 150q NBME test online.  \n 5  '.$ArrayofDates[2].'  Doctors In Training USMLE Step 1 Review   25-50q daily. 100Q DIT Predictive Exam.  \n\n'.'Week 6 : Post Course - Week of: '.$ArrayofDates[1].''.\n'If scoring less than 55-60% correct on practice questions (Qbank or World), your risk of not passing Step 1 is high. '.\n'The last 5 days before your test, re-read First Aid (1/5 daily) and review high-yield info from the course. '.\n'Take test within a 5-14 day window after the DoctorsInTraining.com course '.\n' Question Bank resources to consider: Kaplan Q-bank, USMLEWorld.com, NMS review book '.\n'**It usually takes 1-2hrs to take and review 25 questions.   '.\n'Review Books to strongly consider reading or referencing: '.\n'BRS Pathology (or Goljan) '.\n'BRS Physiology '.\n'BRS Physiology '.\n'Lippincott Biochemistry (or Goljan) '.\n'Lippincott Pharmacology '.\n'Robbins Pathology Chapters 1-7 '.\n'HY Neuroanatomy '.\n''.\n'Important Notes: '.\n'Success with this plan will require 12+ hours of study daily. '.\n'By placing a check mark on the upper right-hand corner of a page completed, you can skip around in pages and keep track of what you have already done. '.\n'Meet with a study partner 2-3 times a week so that you can quiz each other over the FA pages read in previous weeks. '.\n'Each week, set aside a small amount of time to quickly review the FA pages read the previous week. '.\n'</p>\n<p>if ( isset($pdf) ) {</p>\n<pre><code>//$font = Font_Metrics::get_font(\"verdana\", \"bold\");\n</code></pre>\n<p>// $pdf-&gt;page_text(72, 18, \"Header: {PAGE_NUM} of {PAGE_COUNT}\", $font, 6, array(0,0,0));</p>\n<p>$w = $pdf-&gt;get_width();\n  $h = $pdf-&gt;get_height();</p>\n<p>// Draw a line along the bottom\n  $y = $h - 2 * $text_height - 24;\n  $pdf-&gt;line(16, $y, $w - 16, $y, $color, 1);</p>\n<p>// Add a logo\n  $img_w = 2 * 290; // 2 inches, in points\n  $img_h = 1 * 70; // 1 inch, in points -- change these as required\n  $pdf-&gt;image(\"https://origin.ih.constantcontact.com/fs045/1102653126500/img/673.png\",\"png\", 1,1, $img_w, $img_h);</p>\n<p>// Close the object (stop capture)\n//  $pdf-&gt;close_object();</p>\n<p>}\n  \n'.'';\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(\"sample.pdf\",array(\"Attachment\" => 0));\n```\n. From fabien.menager on November 15, 2010 13:18:29\nThe HTML source is far from being valid : \n-  is not a valid HTML tag\n- 1px thin ffffff >> you forgot the # before 000000\n- the table's attributes dont need a unit, for example you should use width=\"300px\" but width=\"300\" (but the units are still required in the style attribute)\n- you shouldn't use  between LI tags\nBe sure that accesses to $ArrayofDates don't throw errors and that it works with or without the </p>\n<p>Then into frame_decorator : </p>\n<p><code>php\n  function get_break_margins() { return $this-&gt;_frame-&gt;get_break_margins();}</code></p>\n<p>Finally : \ninto the file page_frame_decorator.cls.php \nnear the line 445</p>\n<p>replace  </p>\n<p><code>php\n$max_y = $frame-&gt;get_position(\"y\") + $frame-&gt;get_margin_height();</code></p>\n<p>by</p>\n<p><code>php\n$max_y = $frame-&gt;get_position(\"y\") + $frame-&gt;get_break_margins();</code></p>\n<p>I'm not really sure of what consequences it may have on the PDF generating, so if someone from the DOMPDF Team could validate i'm not wrong...</p>\n<p>But for the moment it seems to work pretty good for the exemple file.</p>\n<p>(I'm sorry if my english is a little poor, i'm a french guy)\n. <em>From fabien.menager on February 01, 2011 21:50:30</em>\nHello, sorry for the late reply, I tried the HTML and CSS you provided,and I have the same problem with the trunk, but, I don't know why this happens.\nIt seems that the height: 100% on #contributions is a part of the problem, but I don't know why.\nIt clearly is an annoying bug, I'm going to fix it.\nBy the way, I'm French too, so if you are still working on this project, I may help you easily ;)\n. <em>From eclecticgeek on October 14, 2010 18:23:53</em>\nWhich 0.6 release did you test? I tried out your sample in 0.6.0 beta 1 and it appears to render correctly. See here:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue185.htm&amp;dompdf_ver=0.6.0_beta1\n. <em>From gastaob...@gmail.com on October 26, 2010 17:51:45</em>\nI get the same problem, but only when using a custom font.\nHELP!\n. <em>From eclecticgeek on October 27, 2010 02:30:17</em>\n@gastaobrun, the generated font metrics may not be correct. Can you share the problematic font and a sample HTML document that exhibits the problem?\n. <em>From glapl...@unizar.es on June 15, 2011 07:16:02</em>\nI have a problem with bold text. I attach the sample. the bold text is a little bit bigger.\n. <em>From eclecticgeek on June 15, 2011 17:26:36</em>\nI believe the original issue has been addressed. Please refer to the Unicode how-to: http://code.google.com/p/dompdf/wiki/CPDFUnicode</p>\n<p>@glaplana can you start a new bug report for your issue? Your problem seems sufficiently different from the original issue. We may need to tweak the text positioning.\n. <em>This issue is a duplicate of #188</em>\n. <em>From d.sandi...@gmail.com on October 19, 2010 07:33:27</em>\nAs now we cannot use .ttf file directly for dompdf and for new font installation the only easy way should be put the .ttf file in 'font' directory and specify it in config file and that's all.\n. <em>From eclecticgeek on October 19, 2010 18:29:24</em>\nWe've been discussing providing better font support. I'm not sure when that will appear, but in the meantime you can try the web-based font prep tool. It still has some issues, is worth a try:\nhttp://eclecticgeek.com/dompdf/load_font.php\n. <em>This issue is a duplicate of #188</em>\n. <em>From fabien.menager on October 22, 2010 18:56:15</em>\nHello, this is already fixed in the trunk, and maybe in the 0.6 beta:</p>\n<p>http://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/cpdf_adapter.cls.php#206\n. <em>From HeitorSa...@gmail.com on October 23, 2010 12:23:36</em>\nOh, thanks. Next time i'll have a look at trunk before submit a code report. :D\n. <em>This issue is a duplicate of #26</em>\n. <em>From fabien.menager on October 29, 2010 13:48:18</em>\nAre these bugs the reason why encryption doesn't work ?\nI don't understand the second point (Creator info field)\n. <em>From wings.ga...@gmail.com on October 29, 2010 18:07:01</em>\nYes, removing the call to 'filterText' for 'o' and 'u' keys </p>\n<p><code>php\n$res.= \"\\n/O (\".$o['info']['O'].')';\n$res.= \"\\n/U (\".$o['info']['U'].')';</code></p>\n<p>seems to fix the issue. Don't know if there are any side-effects of the fix.</p>\n<p>After making the above fix the document open perfectly. however the 'Application' field (creator) in document properties appears incorrect.\n. <em>From fabien.menager on November 11, 2010 18:15:47</em>\nThanks for the help on this issue, this was fixed by r328\n. <em>From mauroasp...@gmail.com on December 02, 2010 15:24:55</em>\nThis worked for me :D thanks. I have upgraded from @version 0.5.1to the lastest beta\n. <em>From eclecticgeek on December 02, 2010 19:58:26</em>\nI'm not sure why this would be the case since is_readable() should also check for the file's existence. We'll look into the change, though.\n. <em>From bhosale....@gmail.com on February 02, 2011 11:28:32</em>\nits not working for me \n. <em>From fabien.menager on October 29, 2010 13:45:37</em>\nHello, I think there are more advantages to use isset for three reasons :\n- It is really faster than array_key_exists (http://juliusbeckmann.de/blog/php-benchmark-isset-or-array_key_exists.html)\n- It is shorter to type \"isset\" than \"array_keys_exists\"\n- I always forget if it is $key before $array</p>\n<p>Another reason is that it is the kind of refactoring that takes too much time for what it is ;)\n. <em>From eclecticgeek on October 29, 2010 18:08:52</em>\nAdditionally, you should not get an \"Undefined index\" error when checking for an array key.</p>\n<p>The PHP manual includes an example of using isset() with arrays.\nhttp://php.net/manual/en/function.isset.php\n. <em>From eclecticgeek on November 09, 2010 18:51:32</em>\nCan you provide more detail (and a simplified example) of the issue?</p>\n<p>Note: updates to address problems in the 0.5.1 code base will show up in the next release and we test problems against the most current code.\n. <em>From eclecticgeek on November 09, 2010 18:58:25</em>\nI'm not seeing the same issue:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue194.htm&amp;dompdf_ver=trunk</p>\n<p>Which revision of the trunk are you using? It's currently at r325.\n. <em>From italota...@gmail.com on November 09, 2010 19:37:38</em>\nI am using r325 on\nWindows 7 x64\nApache 2.2.15\nPHP 5.3.2 </p>\n<p>When I use border=1 I can see two borders. One for each cell and one outside the whole table. With border=0 there is still the inner border.</p>\n<p>I have attached another example.\n. <em>From eclecticgeek on November 09, 2010 19:50:04</em>\nSorry, the debug tester wasn't up-to-date. Definitely appears to be an introduced bug. I'm trying to track it down now.\n. <em>From eclecticgeek on November 09, 2010 20:20:38</em>\nThere was a minor error in how the border attribute of the table element was being translated.</p>\n<p>Addressed in r326\n. <em>From italota...@gmail.com on November 09, 2010 20:36:50</em>\nThank you and congratulations for your work. dompdf is excellent.\n. <em>From italota...@gmail.com on November 09, 2010 19:38:46</em>\nI think this is the same as issue 194.\n. <em>This issue is a duplicate of #200</em>\n. <em>From eclecticgeek on November 10, 2010 18:20:47</em>\nthanks for pinpointing exactly when the issue appeared\n. <em>This issue is a duplicate of #26</em>\n. <em>From eclecticgeek on November 10, 2010 18:31:48</em>\nThanks for the heads-up. I updated the example code as indicated.</p>\n<p>Automatically determining image type could be useful, but this is something that we would want to tackle at a later and after some discussion about the possible issues.\n. <em>From lee...@gmail.com on November 10, 2010 16:16:10</em>\nCorrected HTML (added proper emg closing tag) below. Issue is still present.</p>\n<p><code>php\n$HTML = '&lt;html&gt;&lt;body&gt;&lt;p&gt;&lt;span style=\"font-family: arial, helvetica, sans-serif; font-size: small;\"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas eget massa magna. Morbi tincidunt luctus velit vel imperdiet. Nam pharetra massa nec purus vestibulum quis fermentum magna euismod. &lt;em&gt;&lt;strong&gt; Mauris mi quam, hendrerit quis facilisis eu, sollicitudin nec lorem. Vivamus semper mattis felis, nec malesuada quam consequat a. Aliquam ullamcorper sem at neque volutpat non posuere quam pretium. Proin ac velit in nisi facilisis mollis non vel lectus. Aliquam porta turpis nec lorem malesuada ut lobortis tortor tristique. &lt;/strong&gt; Nam vel odio et arcu auctor dapibus. Fusce orci neque, suscipit eget euismod non, dignissim ac justo. &lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;';</code>\n. <em>From eclecticgeek on November 10, 2010 18:38:23</em>\nThe issue has been partially addressed in the 0.6.0 code base, but there is still a problem rendering your sample code. The last sentence in the example still wraps around to a new line.\n. <em>From fabien.menager on January 30, 2011 20:57:11</em>\nThis issue was closed by revision r357.\n. <em>From ben.lago...@gozer.com.au on November 11, 2010 04:06:34</em>\nIf i explicitly see the P style to text-align:left that fixes it.</p>\n<p>Still weird though...\n. <em>From eclecticgeek on November 12, 2010 02:04:10</em>\nI'm having trouble producing a test document. Can you post a full example?\n. <em>From fabien.menager on November 12, 2010 08:34:44</em>\nI think he has text-align: justify in his CSS, and it looks like not justified in the browser because a line which has a <br> should never be justified, unlike dompdf. I fixed this locally, marking the $lines as containing a br, and then I exclude them from the justifying process.\n. <em>From eclecticgeek on November 12, 2010 20:18:29</em>\nIs this per the spec, Fabien? I couldn't find anything on the topic after a cursory search. It seems to me that line-broken text should still be justified if it meets the minimum line length requirement for justification.\n. <em>From fabien.menager on November 12, 2010 21:12:55</em>\nI didn't look at the spec, I just tried it in Chrome (but this should be the same in Firefox or even Safari, Opera and IE). And saw that lines were never justified when they were broken with a <code>&lt;br&gt;</code>.\nIf it wasn't, how could be distinguish them from non-broken lines?</p>\n<p>I noticed that lines were justified :\n- when the parent block has text-align: justify (inline or stylesheet)\n- the line is not the last of the block\n- doesn't have a <code>&lt;br&gt;</code> at its end</p>\n<p>In fact, I don't think it's a good idea not to justify a line that is not long enough to fit the line. This was maybe like this in dompdf because it was simpler to implement, but the final result is definitely better, IMHO, with the rules I listed above.\n. <em>From eclecticgeek on November 13, 2010 02:32:08</em>\nIt isn't that short lines are not justified, but that lines must meet a minimum length. I guess it was written this way so that a line that covers, for example, only half the width of the container won't be justified. We should see if there's a good guide or spec on justification of text. Or maybe even check out the source of one of the browsers.</p>\n<p>Still, I think your rules may make for a good start. We should come up with a good test case document to cover a variety of possible situation.\n. <em>From fabien.menager on November 15, 2010 13:06:33</em>\nI commited changes yesterday about this issue, could you please test it ?\n. <em>From eclecticgeek on November 15, 2010 19:02:24</em>\nA quick test and it looks good to me. Let's wait until the original poster confirms the expected rendering output before we close.\n. <em>From eclecticgeek on March 03, 2011 19:59:36</em>\nThe document sample posted here isn't correct structure per the HTML spec (in strict mode), but as a test case we might was to consider it:\nhttps://groups.google.com/d/topic/dompdf/cVl2LfoibOU/discussion\n. <em>From eclecticgeek on April 25, 2011 18:05:04</em>\nDo we want to make any effort to address rendering issues like that caused by the source referenced in comment 10?\n. <em>From fabien.menager on April 25, 2011 18:32:59</em>\nA fix for this will appear in my next commit.\nNote that the issue here (which is already solved) is not the same as the one referenced in comment 10.\n. <em>From fabien.menager on November 15, 2010 13:05:47</em>\nWhat version of DOMPDF do you use ?\nCould you provide the source code where you set this color ?\n. <em>From rubbyra...@gmail.com on November 16, 2010 07:10:36</em>\nversion is dompdf-0.5.1 and i am using the following code in html file : </p>\n<p>``` html\n<script type=\"text/php\"></p>\n<p>if ( isset($pdf) ) {</p>\n<p>$font = Font_Metrics::get_font(\"helvetica\");;</p>\n<p>$size = 8;</p>\n<p>$text_height = Font_Metrics::get_font_height($font, $size);</p>\n<p>$foot = $pdf-&gt;open_object();</p>\n<p>$w = $pdf-&gt;get_width();</p>\n<p>$h = $pdf-&gt;get_height();</p>\n<p>$y = $h - $text_height - 20;</p>\n<p>$pdf-&gt;close_object();</p>\n<p>$pdf-&gt;add_object($foot, \"all\");</p>\n<p>$color = array(0,100,0);</p>\n<p>$text = \"Footer text is here XXXXXXXXXX\";</p>\n<p>$pdf-&gt;page_text(30, $y, $text, $font, $size, $color);</p>\n<p>$text2 = \" {PAGE_NUM} of {PAGE_COUNT}\";</p>\n<p>$pdf-&gt;page_text(560, $y, $text2, $font, $size, $color);</p>\n<p>}</p>\n<p>\n```\nColor system working but it takes standard color only, not my given RGB color code like : $color = array(152,100,0);\nThanks \nBrijmohan karadia\n. From eclecticgeek on November 16, 2010 18:45:28\nWhen using inline script you have to supply the values in the color array in the range 0-1. So array(152,100,0) should actually be array(.596,.392,0). Divide your 0-255 values by 255 to get a decimal approximation.\n. From rubbyra...@gmail.com on November 17, 2010 11:12:14\nThanks for ultimate solution, You have saved my lot of time and efforts, thanks again.\n. From fabien.menager on November 15, 2010 16:51:56\nHello, it works with the version from the SVN trunk ;)\nhttp://pxd.me/dompdf/www/examples.php (see the image > datauri example).\nSee here to checkout the latest revision :\nhttp://code.google.com/p/dompdf/source/checkout\nor here to download a \"nightly build\":\nhttp://eclecticgeek.com/dompdf/\nor here to download the latest beta:\nhttp://code.google.com/p/dompdf/downloads/list (I think this version supports Data URI, but a lot of improvement were made since this version).\n. From fabien.menager on February 01, 2011 21:09:19\nHello, is GD correctly installed? what version of dompdf are you using?\n. From eclecticgeek on December 09, 2010 17:32:16\nCurrently being discussed here:\nhttp://groups.google.com/group/dompdf/browse_thread/thread/5e26b378a8a7c97a\n. From jeroen.p...@gmail.com on December 18, 2011 00:41:10\nI'm having exactly the same issue here with a bleeding edge copy of the trunk. \nCall to undefined method Page_Frame_Decorator::add_line() in /Volumes/WINXP/Documents and Settings/Administrator/My Documents/workspace/runwalk-site/system/helpers/dompdf/include/block_positioner.cls.php on line 32 \nAny ideas what might be the real culprit here?\n. From eclecticgeek on December 19, 2011 02:55:33\n@jeroen an idea, perhaps. Do you have a sample HTML document that causes the problem?\n. From jeroen.p...@gmail.com on December 21, 2011 13:49:56\nYes, sorry about that. I found that it seems to have the problem with the header in my website. I already had a css style defined on it to make it invisible, but it seems that it was rendered anyway. \nAfter removing it from the html explicitly, the error message dissapeared and everything worked fine (except from having a hard time getting image rendering to work)\nI retried this test here on a document with header, and when I place it in the dompdf test folder, it renders fine. So I'm not able to reproduce this again. In cas you want to try and see if the example works for you, I attached it here in this comment.\nThanks \n. From eclecticgeek on December 09, 2010 18:09:33\nThe specific declaration that's causing a problem is this one:\ncss\n  tbody th[scope=\"row\"]\nIf you remove the attribute selector the page renders without issue. If you need this selector you might consider using a class instead (if possible).\nThe CSS-handling has been improved for the 0.6.0 release (currently in beta) and this declaration isn't a problem for that version.\n. From ukarr...@gmail.com on December 13, 2010 10:15:16\nThanks for the comment. I will test this. :)\n. From ukarr...@gmail.com on December 14, 2010 10:39:58\nIt workes fine. Thank you very much for the fast help!\n. From annisa.e...@gmail.com on December 21, 2010 09:06:24\nI have same problem but I'm search  \"tbody th[scope=\"row\"]\" in my css but not find a single one...can any body help me?\n. From eclecticgeek on December 21, 2010 18:48:19\n@annisa.echa that declaration was specific to ukarrock's document. The problem is a general issue with how dompdf 0.5.1 handles declarations. So the issue in your document may be similar, but it won't necessarily be exactly the same.\nIf you can post your stylesheet we'll let you know what line is causing issues for dompdf.\n. From annisa.e...@gmail.com on December 22, 2010 03:51:55\nOk...this is my stylesheet\n. From ukarr...@gmail.com on December 22, 2010 03:58:47\nYour CSS is really big. If dompdf has a problem with special selectors as my problem above, I would recommend to search for special selectors or attributes and delete them to test if it works or not.\nMaybe try to delete the \"!important\" attribute in the CSS.\nAnd / Or try to delete such attribute \"filter: alpha(opacity=0);\".\nBut eclecticgeek is surely better informed than I am.\n. From ukarr...@gmail.com on December 22, 2010 04:00:52\nArggh ... Annisa ... you HAVE specific declarations in your CSS. Have you tried it??\n\"BDO[DIR=\"ltr\"]\"\n. From annisa.e...@gmail.com on December 22, 2010 04:15:40\nHmm...honestly i'm newbie in css and i don't know why desainer put it in our project css.So, i must remove \"BDO[DIR=\"ltr\"]\"?\n. From ukarr...@gmail.com on December 22, 2010 04:20:27\nJust try it. For Browsers it is normally no problem I think. But dompdf is growing project and the new version is in development. The older version 0.5.1 can not handle these CSS declarations with these brackets []. These are special declarations.\nSo just try if this helps. Comment it out (with /* ... */) and try if it works. But you don\u00b4t have to delete it completely from your project. You just have to be sure to not deliver it to dompdf to avoid the error.\n. From ukarr...@gmail.com on December 22, 2010 04:22:24\np.s.: you just have to delete the brackets and what is inside: [DIR=\"ltr\"]\nIf it works without these declaration you\u00b4ve found your \"bug\".\n. From annisa.e...@gmail.com on December 22, 2010 04:48:14\nOk, thanks. I will try this\n. From eclecticgeek on December 22, 2010 18:42:06\nA quick test and I believe that should fix it.\nAlso, if you set display_errors to 0 (recommended for production systems) you will not receive these errors since they are warnings.\n. From eclecticgeek on December 10, 2010 18:38:46\nI don't believe inclusion of the body tags by themselves should not cause an extra page. Do you have a sample document that we can test against?\n. From mauro....@gmail.com on May 15, 2012 14:41:47\nyou must be careful about whitespaces.\n. From ukarr...@gmail.com on December 17, 2010 12:11:46\nThis failure also appears when the text of a list item is longer than the text-line so that it breaks into a 2nd line.\nSo there is no need to put in a break (but it makes the same error visible).\n. From fabien.menager on December 17, 2010 15:07:39\nThis seems to be fixed in the 0.6 beta, could you try it ?\n. From eclecticgeek on December 17, 2010 19:48:19\nIt also looks to me like this problem has been addressed.\nWe won't be providing any patches for the 0.5.1 release. All work, including fixes to known problems, are being done in the 0.6.0 release. If you can provide information showing similar problems in the latest code base we will re-open your issue.\n. From ukarr...@gmail.com on December 17, 2010 20:46:18\nYeah that\u00b4s ok. I have no chance to test the latest release.\nI only wrote it here to be sure that this issue is known and you have the chance to fix it.\nI searched in the issues and found nothing about it, so I thought it is a good idea to give something back. :)\n. From eclecticgeek on December 18, 2010 01:53:50\nOccasionally we find bugs and fix them without posting an issue. Sometimes they're fairly minor and sometimes they're fixed in the course of addressing other bugs. And of course some were addressed before we moved to Google Code.\nIn any case, it's important for users to let us know if they find any problems. We appreciate you taking the time to report the bug.\n. From apmar...@gmail.com on December 18, 2010 20:44:58\nI found the solution myself. If setlocal isn't on \"en_US\" then the . are converted to , \nThis cause the failure of your system, floats become int's. \nMaybe you should add this line in your configuration file before the code gets executed. Then this will not happen any more in the future.\nsetlocale(LC_ALL, 'en_US');\nThanks any way for creating such a nice script! \n. From fabien.menager on December 18, 2010 22:07:45\nHello, if you didn't find the reason of this bug, I really couldn't have imagined this to be the problem !\nThank you for the solution, I rename your issue report to reflect what needs to be done in the source.\nWhat was the locale on the Linux server ?\n. This issue is a duplicate of #27\n. From apmar...@gmail.com on December 19, 2010 10:34:45\nThe setlocale on the Linux system was dutch. \nsetlocale(LC_ALL, 'nl_NL');\nTry it out with tables then you can see it for your self.\n. From eclecticgeek on December 20, 2010 04:27:02\nYou are correct, there is definitely more to this problem than the sprintf() issue. I'll reopen the original issue and post updates there.\n. From fabien.menager on February 16, 2011 22:20:30\nI commited a fix for this in r362, that will change the locale locally when needed. The only problem that could appear is on threaded servers, where the locale is also changed for the whole process.\n. From apmar...@gmail.com on December 17, 2010 14:57:25\nIn \"lib/class.pdf.php\" go to function stream and add this line:\nheader(\"Content-Length: \" . mb_strlen($tmp, '8bit'));\nafter: \nheader(\"Content-type: application/pdf\");\n. From fabien.menager on December 17, 2010 15:18:24\nThanks apmarico, this code comes from the 0.6 beta so this is already fixed ;)\n. From eclecticgeek on December 21, 2010 19:02:30\nThis question is more appropriate for the discussion forum:\nhttp://groups.google.com/group/dompdf\nHowever, as a quick pointer, you would need to use a class or function that can handle attachments.\nThere are some comments for the mail() function that discuss this:\nhttp://us.php.net/manual/en/function.mail.php\nYou could use the Mail_MIME packages available via PEAR:\nhttp://pear.php.net/package/Mail_Mime\nOr just do a google search (something like \"php mail class\").\n. From eclecticgeek on December 23, 2010 14:28:16\nI'm not seeing this issue in the 0.6.0 code base, though it is present in 0.5.1. There are some spacing calculation problems in 0.6.0 beta 1 that have been addressed (see issue 14) but are not part of an official release yet. If you download a nightly release you should see your problem addressed in full.\n. From marclaporte on January 27, 2012 06:43:19\nThis should be changed to \"feature request\"\n. From asif.ja...@my-take.com on January 31, 2012 15:35:08\nis this is working now I want to link my table of contents on the first to other page so user just click and jump to that page?\n. From fabien.menager on January 31, 2012 16:27:39\nNo, this is not supported, hence this feature request.\n. From nlrober...@gmail.com on July 09, 2012 20:13:47\nIs there more info about this function? Is it planned? Or is there a dirty solution?\n. From eclecticgeek on July 09, 2012 22:03:25\nNothing planned so far, but I did manage to create a fairly dirty solution here:\nhttps://groups.google.com/d/msg/dompdf/HI3aqD_H42k/QxnOAZ7AJg4J\nIt does require a bit a manual configuration, but I'm sure with some effort somebody could find a way to automate it a bit. For example, it may be possible to write a pre-processing script that inserts the necessary inline script.\n. From eclecticgeek on December 30, 2010 15:16:54\nI'm not seeing the same results when rendered on my own system. It may be specific to your OS/PHP/dompdf combination. Also, you may be experiencing a combination of bugs: stripping of non-breaking spaces (issue 106) and mis-rendering of empty table cells (issue 70).\nIf you are able, try the latest code from the repository to see if the issue will be addressed in the next release.\n. From fabien.menager on January 03, 2011 09:04:07\nHello, where did you see that dompdf can convert DOCX documents? \nThe title at the top is \"HTML to PDF converter (PHP5)\".\n. From eclecticgeek on January 06, 2011 19:43:19\nYou'll need the 0.6.0 version of dompdf to enable this type of functionality (currently in beta). You also have to supply a font that supports your characters (the core fonts currently only work with latin1 characters). Check out the wiki for instruction on how to install new fonts:\nhttp://code.google.com/p/dompdf/wiki/Introduction\nStart a new discussion on the support group and we can guide you through the process:\nhttp://groups.google.com/group/dompdf\n. From eclecticgeek on January 06, 2011 19:46:56\nDOMPDF 2.1? Currently dompdf is at 0.6.0 (beta), so I'm not sure what you are referencing.\nAt a minimum you need PHP 5 with the DOM extension enabled (it is enabled by default in more recent versions of PHP). Also recommended are the MBString and GD extensions, plus allow_url_fopen set to true.\nIf you need any additional help try posting a message on the support group:\nhttp://groups.google.com/group/dompdf\n. From eclecticgeek on January 11, 2011 19:14:38\nIf you are using the 0.6.0 release you can use fixed positioning to create HTML-style headers/footers. There are some features we still need to work out (e.g. page numbering), but fixed-positioned content works nicely.\n. From eclecticgeek on December 27, 2011 19:09:32\nNo comments for an extended period of time, plus a solution is available using fixed-position elements. If some other solution is desired please let us know.\n. From fabien.menager on January 30, 2011 15:50:11\nHello, the 0.5.1 doesn't have such an error (User input has been disabled for remote connections.). You may be using a version from the trunk on the server. The error in the demo.php is to prevent anybody to convert any code with your server except when you run it in your localhost for debugging.\n. From hellc...@gmail.com on January 19, 2011 06:15:10\nPlease disregard this issue. We think we have found the problem, which had nothing to do with dompdf. Thank you.\n. From eclecticgeek on January 19, 2011 18:38:54\nThanks for the post-back.\n. From bahj...@gmail.com on January 20, 2011 21:49:03\nWhat was the problem? I have this issue too. With mee when I set the table too large on the page (width: 100% or height: 100%)\n. From eclecticgeek on January 20, 2011 22:17:23\n@bahj... your problem may be related to issue 91. If so we're still looking into that issue.\n. From fabien.menager on January 30, 2011 15:47:10\nHello, the variables passed to the dompdf.php script are in the $GET. I don't see any reference to the ID in the code you gave, are you sure the problem is related to the lib itself?\n. _From gunni...@gmail.com on January 20, 2011 16:04:40\nOh btw. pdf is just simple created using:\n$dompdf = new DOMPDF();\n    $dompdf->load_html($html);\n    $dompdf->render();\n    $dompdf->stream(\"sample.pdf\");\n. From eclecticgeek on January 20, 2011 18:33:09\nThanks for helping pinpoint when the error was introduced. This should help greatly in debugging.\n. From fabien.menager on January 30, 2011 15:44:37\nHello, this is due to the parial (and buggy) support of float positionning. I added a DOMPDF_ENABLE_CSS_FLOAT constant in the latest revisions, disabled by default to prevent this kind of problems.\n. This issue is a duplicate of #26\n. From fabien.menager on January 30, 2011 15:43:08\nHello, I tried your code, and in fact, it seems that the rectangle is drawn over the doccode. I think this is an implementation problem.\nThe solution would be to used a feature present since the 0.6 beta : fixed positionned elements. \nTo see this in action, try the \"CSS position fixed\" example here : http://pxd.me/dompdf/www/examples.php\nThe repeated elements are in fact elements with \"position: fixed\" CSS style (see the HTML source code, and they are repeated for each page. Note that you cannot have the page count and current page in these elements, so you'll still have to \"PAG: {PAGE_NUM}/{PAGE_COUNT}\" in an inline PHP script like you did.\n. From ajlore...@gmail.com on January 31, 2011 11:39:52\nThanks for your answer.\nI changed my implementation.\nBut, footer doesn't appear in all pages.\nNot appear when I use: 'page-break-before: always;'\nI suppose there aren't any way to draw the rectangle before text on inline php script.\n. From fabien.menager on February 02, 2011 21:36:13\nHello, the 0.6 version will have this code :\nfunction DOMPDF_autoload($class) {\n  $filename = mb_strtolower($class) . \".cls.php\";\n  require_once(DOMPDF_INC_DIR . \"/$filename\");\n}\nif ( !function_exists(\"__autoload\") ) {\n  /\n- Default __autoload() function\n  \n- @param string $class\n  /\n  function __autoload($class) {\n    DOMPDF_autoload($class);\n  }\n  }\nDoes it work for you?\n. From PKus...@gmail.com on February 03, 2011 12:47:49\nHello,\nthe code you posted won't make sure that it only tries to load DOMPDF's classes. \nAdditionally it would also overwrite (because a single \"function_exists\"-check doesn't cover all cases) existing autoloaders of other tools like HTMLPurifier. The snippet I posted above won't overwrite existing autoloaders (instead it adds to the list of autoloaders and places the DOMPDF-loader in the first place) and it also makes sure to only load classes that can be found in the DOMPDF_INC_DIR.\nUnfortunately I couldn't just check if the class name begins with \"DOMPDF\" (like the people from HTMLPurifier do in their function) because your classes aren't named with such a scheme, so I used the scandir()-method together with the in_array()-check.\nJust try the snippet... it makes sure that DOMPDF plays nice together with others, as mentioned above I've taken parts of the HTMLPurifier autoloader - and the people working on HTMLPurifier are way more experienced (due to its longer project history) in this. Their autoloader plays nice and doesn't interfere with any other things.\nSo I can really just suggest: Take it & use it - it's well tested.\n. From eclecticgeek on February 03, 2011 17:23:11\nActually, the 0.6.0 autoloader looks more like this (I think you pulled the 0.5.1 code, Fabien):\nfunction DOMPDF_autoload($class) {\n  $filename = DOMPDF_INC_DIR . \"/\" . mb_strtolower($class) . \".cls.php\";\nif ( is_file($filename) )\n    require_once($filename);\n}\nif ( function_exists(\"spl_autoload_register\") ) {\nspl_autoload_register(\"DOMPDF_autoload\");\n} else if ( !function_exists(\"__autoload\") ) {\n  /\n- Default __autoload() function\n  \n- @param string $class\n  /\n  function __autoload($class) {\n    DOMPDF_autoload($class);\n  }\n  }\nSo it's not quite as bad as it looks. Still, we'll take a closer look at the code you provided since it does appear to handle more exceptions.\n. From fabien.menager on February 03, 2011 19:52:05\nARGH yes that's what I did ...\nI'm going to try the modified version in my local copy.\n. From fabien.menager on February 03, 2011 20:19:54\nI changed a little bit your code to use the additional arguments in PHP 5.3.\nI also keep the actual code of the DOMPDF_autoload function, as I really don't understand why it is so complicated. This may be required for HTMLpurifier, but not for DOMPDF.\n\n/\n- DOMPDF autoload function\n  \n- If you have an existing autoload function, add a call to this function\n- from your existing __autoload() implementation.\n  \n- @param string $class\n  */\n  function DOMPDF_autoload($class) {\n  $filename = DOMPDF_INC_DIR . \"/\" . mb_strtolower($class) . \".cls.php\";\nif ( is_file($filename) )\n    require_once($filename);\n  }\n// If SPL autoload functions are available (PHP >= 5.1.2)\nif ( function_exists(\"spl_autoload_register\") ) {\n  $autoload = \"DOMPDF_autoload\";\n  $funcs = spl_autoload_functions();\n// No functions currently in the stack. \n  if ( $funcs === false ) { \n    spl_autoload_register($autoload); \n  }\n// If PHP >= 5.3 the $prepend argument is available\n  else if ( version_compare(PHP_VERSION, '5.3', '>=') ) {\n    spl_autoload_register($autoload, true, true); \n  }\nelse {\n    // Unregister existing autoloaders... \n    $compat = version_compare(PHP_VERSION, '5.1.2', '<=') && \n              version_compare(PHP_VERSION, '5.1.0', '>=');\n```\nforeach ($funcs as $func) { \n  if (is_array($func)) { \n    // :TRICKY: There are some compatibility issues and some \n    // places where we need to error out \n    $reflector = new ReflectionMethod($func[0], $func[1]); \n    if (!$reflector->isStatic()) { \n        throw new Exception(' \n            This function is not compatible \n            with non-static object methods due to PHP Bug #44144. \n        '); \n    } \n// Suprisingly, spl_autoload_register supports the \n// Class::staticMethod callback format, although call_user_func doesn't \nif ($compat) $func = implode('::', $func);\n\n}\nspl_autoload_unregister($func); \n} \n// Register the new one, thus putting it at the front of the stack... \nspl_autoload_register($autoload); \n// Now, go back and re-register all of our old ones. \nforeach ($funcs as $func) { \n  spl_autoload_register($func); \n}\n// Be polite and ensure that userland autoload gets retained\nif ( function_exists(\"__autoload\") ) {\n  spl_autoload_register(\"__autoload\");\n}\n```\n}\n} else if ( !function_exists(\"__autoload\") ) {\n  /\n- Default __autoload() function\n  \n- @param string $class\n  /\n  function __autoload($class) {\n    DOMPDF_autoload($class);\n  }\n  }\n\n. From eclecticgeek on April 26, 2011 19:59:24\nvia @MeTroFuN\nDOMPDF has issue with 5.3 autoloading, which conflicts with Joomla, causing JResponse to be undefined\nI'm using dompdf_0-6-0_beta2 commenting lines 383-386 in file dompdf_config.inc.php fixed my problem\n. From fabien.menager on April 26, 2011 20:41:38\nHello, the 0.6 beta2 doesn't have the most up to date version of the autoloader, I changed it in r374 because of conflicts like this.\n. From Napora.A...@gmail.com on April 18, 2012 10:29:06\nThank You for that long but great solution, just helped us with our big project... BIG UP!!\n. From rikard.e...@gmail.com on January 29, 2011 22:50:39\nOuch, my fault.\nThe variable I sent to set_paper didn't contain anything which caused it to autosize the document or something.\nClose this issue please.\n. From fabien.menager on January 30, 2011 11:47:27\nNo problem!\n. From Reade...@gmail.com on January 31, 2011 15:43:54\nSorry, my bad, please ignore. I had it set to Letter, not A4. Duh! :(\n. From john.col...@eschoolconsultants.com on February 01, 2011 21:45:34\nForgot to mention that this change was made to save memory. With this change, I can generate a 300 page PDF and only use 50MB of memory. Without the changes, it was easily over 300MB.\nThe discussion that led to this issue can be found here: http://groups.google.com/group/dompdf/browse_thread/thread/5a29cfd6b7918ef6\n. From fabien.menager on February 02, 2011 21:25:44\nHello, very simple clever hack!\nAnd it seems very efficient. \nTo go further, we could do something similar in order not to need to split the document.\nThe method would process the HTML document by looping over the 's children and transform them into dompdf frames only when they have to be rendered. This way, we would only have in memory :\n- the HTML DOMDocument\n- a partially rendered PDF\n- a page of frames\n- their styles\nThank you for the patches! \n. From anna.vak...@gmail.com on November 22, 2011 15:15:55\nIt's great work.\nBu I have a problem with set_paper I can't change the auto page size , could you help me?\n. From anna.vak...@gmail.com on November 22, 2011 16:29:22\nI found the problem, text and image was too big for page size\n. From rpat...@novologic.com on January 24, 2012 19:12:03\nI'm having issues implementing your patch - what version of dompdf was this for?\n. From DariusLe...@gmail.com on April 12, 2012 10:34:27\nIf you're using this workaround and have problems with UTF-8 support, the solution is using  tags in each page.\n. From muellera...@tele2.de on February 28, 2011 10:49:01\nNot to mean to get pushy but is there any development in solving/analyzing this problem?\nThanks for a reply.\n. This issue is a duplicate of #55\n. This issue is a duplicate of #36\n. From ntn23...@gmail.com on January 10, 2012 11:14:48\nI am also facing the same issue \"use of &euro inside a cell that is right-aligned, it also moves more to the right\". \nPlease provide some help to resolve this issue.\n. From fabien.menager on February 15, 2011 19:48:34\nI tried the PNG image and it appears very well with the version from the trunk.\n. From jmdiazan...@gmail.com on February 15, 2011 19:50:56\nI haven't tried with the trunk version. I can post a screenshoot of how it looked on 0.6.0 b1 if you want ... otherwise I think it could be closed.\n. From eclecticgeek on February 16, 2011 01:06:00\nI tried with trunk and experienced the same problem. It may have to do with the specific system configuration ... maybe version of GD?\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue228.htm&dompdf_ver=trunk\n. From fabien.menager on February 16, 2011 07:19:34\nYes, it seems to be related to this issue : \nhttp://bugs.libgd.org/?do=details&task_id=88\nI'll see if we can use a workaround for this.\nWhat is your version of GD ?\n. From eclecticgeek on February 16, 2011 17:49:13\nThat does look relevant. My install info:\nPHP 5.2.15\nGD bundled (2.0.34 compatible)\nSince this isn't a dompdf issue I think we can lower its priority. We may want to include a note about this in the docs.\n. From fabien.menager on January 15, 2012 11:27:07\nIt is because the text in the last column doesn't fit in 13% of the table so it pushes the right border.\nThis is a bug, but it can be easily bypassed by always keeping a column without a specified width.\n. From yoan.blanc on February 14, 2011 10:53:28\nUsing rawurldecode instead works just fine!\n. From fabien.menager on February 15, 2011 19:45:42\nThank you! This change does the trick.\n. This issue is a duplicate of #169\n. From fabien.menager on February 18, 2011 12:48:11\nThis is normal, and the HTML should look the same as long as you don't change the white-space CSS property of this text's container.\nFor example, this will render a single space:\nhtml\n<p>aaaa                             bbbb</p>\nBut this will display all the spaces:\nhtml\n<p style=\"white-space: pre;\">aaaa                             bbbb</p>\na similar result is obtained with the  tag because it's its default behavior.\nWhat version of dompdf are you using ?\n. From rok.sleb...@gmail.com on February 18, 2011 13:06:47\nCan white-space CSS be formated in outside CSS file, like style.css or does domPDF uses his own CSS? If so, where can CSS file be found?\n. From fabien.menager on February 18, 2011 16:17:29\nYou can use a CSS like you would with an normal HTML document with, a  or a  tag.\n. <em>From eclecticgeek on February 18, 2011 20:09:23</em>\nAlso, in the 0.6.0 release you should be able to use non-breaking spaces if you want. I believe this was addressed in the beta2 release.\n. <em>From eclecticgeek on February 21, 2011 14:27:57</em>\nCurrently DOMPDF does not pass along the credentials of the connecting user. It's unlikely we'll bake this functionality into the project anytime soon. Your best bet for accessing password-protected content is to capture the content yourself into a variable then passing it to DOMPDF using $dompdf-&gt;load_html(). There are some considerations to take into account when using this method, such as how you link to images and stylesheets, but it's probably your best option.\n. <em>From carlos.v...@gmail.com on February 21, 2011 15:36:25</em>\nThanks for your answer.</p>\n<p>I've try that already, but my problem seems to be the PHP code inside the html variable. Should be something like this, right?</p>\n<p>``` php\n$variable=\"Hello World\";</p>\n<p>$html='<html>\n<head></head>\n<body>\n&lt;?php echo $variable; ?&gt;\n</body>\n</html>'\n```</p>\n<p>I also need to make some queries, do they need to be inside $html or outside it?</p>\n<p>Thanks for your help in advance.\n. <em>From eclecticgeek on February 22, 2011 02:29:04</em>\nActually I would do something like this:</p>\n<p><code>oho\n$html='&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;'.$variable.'&lt;/body&gt;\n&lt;/html&gt;';</code></p>\n<p>Otherwise you might to run into variable scope problems. Plus with your sample you have to enable PHP support in DOMPDF, whereas in the modified code above you do not (or I should say it doesn't matter).</p>\n<p>I would perform all my queries and build the document before passing it to DOMPDF. Store it all in a variable or use buffering. It's easier to debug any problems that way because you have the capability of knowing what's being processed.\n. <em>From fabien.menager on May 02, 2011 21:50:24</em>\nClosing this issue as it is not related to DOMPDF, please post on the Google Groups if you need more help.\n. <em>From fabien.menager on February 21, 2011 14:22:33</em>\nThis is a feature I wanted to implement as it would solve partially one of our current problems : performance when rendering tables, because \"table-layout: auto\" (which is the only supported value) needs multiple passes over tables to get a good render of the columns' width, and the \"fixed\" value doesn't.\nI'll see if I can do this before 0.6 final.\n. <em>From mihs...@gmail.com on September 09, 2011 16:37:27</em>\nThis would be a very useful feature, as we currently need to process some tables that only display properly with the \"fixed\" layout. Any news or progress? I'd be happy to assist with beta-testing!\n. <em>From mihs...@gmail.com on February 15, 2012 14:47:16</em>\nHi, congrats on the 0.6.0 beta 3 release, it's looking great! Are there any news on 'table-layout: fixed' being implemented for 0.6.0? Thanks in advance!\n. <em>From fabien.menager on February 16, 2012 08:41:44</em>\nI think this should not be too hard to implement as we now have the posssibility to \"lock\" columns widths. That's what we did to keep the columns' width across pages.\n. <em>From mihs...@gmail.com on March 14, 2012 16:44:48</em>\nHi, nice to see work progressing on this one! I grabbed the latest SVN to check how it worked, and it's a definite improvement. I did notice a bug though, if it's a known issue then please ignore, otherwise it may be useful to report: the current implementation seems to ignore the \"colspan=NN\" property. So, if I have a table with, say, 6 columns, they all have equal widths even if one has td's with \"colspan=2\". I tried setting the width manually but it doesn't work either... Is there a workaround for this?</p>\n<p>Regards, Mihnea\n. <em>From fabien.menager on March 19, 2012 13:29:41</em>\nThanks for your feedback, I just fixed this behaviour in the trunk.\n. <em>From mihs...@gmail.com on March 21, 2012 17:10:00</em>\nI just checked the latest trunk version right now and it is working fine! Thank you for the quick reply and all the work on dompdf!\n. <em>From james.ca...@gmail.com on February 24, 2011 15:25:40</em>\nWhat is the expected output? What do you see instead? should have read:\nDownload pop up for the specified PDF file, instead the attached error message appearing\n. <em>From eclecticgeek on February 24, 2011 22:23:13</em>\nThanks for the information. Is the problem related to the filename or just kind of random. We'll look into the header format to ensure we are using a) the correct format and b) a format that's compatible with a wide range of browsers.\n. <em>From cmgo...@gmail.com on March 01, 2011 00:43:08</em>\nI get this exact same error as well. I have not modified any of the files yet. I have figured out that I ONLY get this error if I have already started my session in php (session_start()). If I have my dom_pdf call after this the file will not download in IE. If I move the pdf creation ahead of my session start then it works as would be expected. The problem with this is I cannot check authentication before generating the pdf. Is there an official fix for this issue yet?\n. <em>From james.ca...@gmail.com on March 01, 2011 00:47:04</em>\nAhh that's a very good point, mine also uses sessions (also to autenticate that the user is allowed to download a PDF!)</p>\n<p>I'll have a closer look into this tomorrow at work as the problem has re-occured.</p>\n<p>James.\n. <em>From eclecticgeek on March 01, 2011 18:46:09</em>\nI would guess, though I can't be certain, that you may inadvertently be sending some information to the browser prior to running DOMPDF. Have you tried enabling output buffering at the top of the page?\n. <em>From james.ca...@gmail.com on March 02, 2011 16:48:37</em>\nI've managed to solve my version of this problem!</p>\n<p>After trawling through all the headers I could find that my server was returning, I thought maybe the culprit was SSL (as it's secure insurance documentation system). So after a bit more searching I managed to stumble upon this MS KB article:\nhttp://support.microsoft.com/kb/323308</p>\n<p>It relates to IE6, but what it says seems to apply to IE8 too, it states that if a server outputs a Cache-Control: no-cache header when connected via SSL it will throw the error I showed.</p>\n<p>My server wasn't actually sending Cache-Control: no-cache, but what it WAS sending was Pragma: no-cache, which in HTTP/1.1 should be treated as Cache-Control.</p>\n<p>Here's my headers before the fix:</p>\n<p><code>HTTP/1.1 200 OK\nDate: Wed, 02 Mar 2011 16:28:50 GMT\nServer: Apache/2.0.63 (Unix) mod_ssl/2.0.63 OpenSSL/0.9.8e-fips-rhel5 mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635\nX-Powered-By: PHP/5.2.14\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\nCache-Control: post-check=0, pre-check=0, private\nPragma: no-cache\nContent-Disposition: attachment; filename=policy_372.pdf\nLast-Modified: Wed, 02 Mar 2011 16:28:50 GMT\nContent-Length: 239665\nKeep-Alive: timeout=15, max=100\nConnection: Keep-Alive\nContent-Type: application/pdf</code></p>\n<p>To remedy, all I did was add:</p>\n<p><code>php\nheader(\"Pragma: \");</code></p>\n<p>after</p>\n<p><code>php\nheader(\"Content-type: application/pdf\");</code></p>\n<p>in the stream() function of lib/class.pdf.php and it replaced no-cache with a blank field, therefore allowing me to download PDFs!</p>\n<p>Hopefully this will go some way to assisting other people with the same error!</p>\n<p>James.\n. <em>From joseblan...@gmail.com on March 02, 2011 23:49:34</em>\nI have exactly the same problem. It works perfectly in Internet explorer without an SSL certificate but the certificate will not let me download the file. I'm working on PHP 5.3 and IIS 7.0 which may be the problem?\n. <em>From eclecticgeek on March 03, 2011 19:11:17</em>\nThe KB you cited indicates that this is a problem in IE 5-8. I'm not sure we'll introduce a patch in DOMPDF, but we'll make a decision after researching th eissue a bit more.</p>\n<p>At the very least we'll make a note in the documentation when it is updated.\n. <em>From joseblan...@gmail.com on March 03, 2011 19:24:50</em>\nToday, I tried to make the switch from $filename and header(\"Pragma:\") and everything is working well even in ie6!</p>\n<p>Definitely the problem seems to be the SSL and I recommend that DOMPDF check $ <em>SERVER ['https'] or that this solution becomes part of the library.\n. _From james.ca...@gmail.com on March 04, 2011 14:26:28</em>\nJust to add more info to why this happens, I've just realised (as the project I'm working on is collaborative), our global settings.php sets Pragma: no-cache as the rest of the site is not allowed to cache, this may have been what was triggering this problem, but as n10 said this maybe should be checked in the class itself.\n. <em>From joseblan...@gmail.com on March 07, 2011 20:41:53</em>\nIf you are using dompdf, and everything was fine until you tried to add an image to your document, and I began giving an error like \"file does not begin with% PDF, or some similar nonsense, the solution is to simply add this line ob_end_clean () before $pdf-&gt;stream(), so that your code is as follows.</p>\n<p>ob_end_clean();\n$pdf-&gt;stream();\n. <em>From cmgo...@gmail.com on March 13, 2011 16:39:39</em>\nThanks! Adding header(\"Pragma:\") to the class worked like a charm. Completely solved my IE issues with SSL enabled. \n. <em>From michaels...@gmail.com on March 27, 2011 11:51:15</em>\nGreat work guys! this solved a big prblem for me! \n. <em>From technica...@gmail.com on February 22, 2012 16:55:36</em>\nAdding header(\"Pragma:\") worked like a charm\n. <em>From imran.bl...@gmail.com on March 06, 2012 18:17:25</em>\nHi Guys,\nNeed some help here :)\nI am using DOMPDF to genereate PDF, it works perfectly at my localhost, but when i upload the codes to my domain, i am getting \"Unable to stream pdf: headers already sent\". Any clue ??\nThanks in advance and your kind help is highly appreciated. \n. <em>From eclecticgeek on March 07, 2012 03:23:18</em>\n@imran your question is more appropriate for the support group (you should always start there):\nhttps://groups.google.com/forum/#!forum/dompdf</p>\n<p>That being said, your issue is due to the fact that your PHP script is sending some kind of content (even just a line break) to the browser before DOMPDF is able to stream the PDF. If you need help figuring out why post a follow-up to the support group.\n. <em>From rishabme...@gmail.com on November 16, 2012 06:10:26</em>\nhiii..\ni am new to Dompdf. i am facing a problem that pdf is not generated in I.E as the above mentioned errors. In the Comment number 13. \"Thanks! Adding header(\"Pragma:\") to the class worked like a charm.\"  i want to know where to add this line in which line.\n. <em>From fabien.menager on February 25, 2011 11:34:45</em>\nHello, could you provide a sample HTML source code and the CSS if any?\n. <em>From muellera...@tele2.de on February 28, 2011 10:47:46</em>\nThanks for your quick reply.\nI have attached a sample where you can see the faulty result of the conversion.\nIncluded are the css-stylesheet, html-code, the output-pdf and a test image.</p>\n<p>If you need anything else, please let me know and I will try to provide it.\n. <em>From eclecticgeek on March 01, 2011 19:12:16</em>\nThis definitely needs some improvement. If you need a work-around sooner you could either size the images smaller manually or modify the DOMPDF DPI.\n. <em>From balacl...@gmail.com on February 25, 2011 11:22:00</em>\nVersion used is: 0.6 Beta 2, not 6.02 beta :)\n. <em>From fabien.menager on February 25, 2011 12:44:06</em>\nHello, this is a bug in the way z-index is handled. I'll fix it ASAP.</p>\n<p>If you want to be able to use your HTML code, you can tweak includes/renderer.cls.php in line 189 and change the \"if\" statement so that </p>\n<p><code>php\n$this-&gt;render($child);</code></p>\n<p>is always called.\n. <em>From balacl...@gmail.com on February 25, 2011 12:52:08</em>\nThanks!\n. <em>From j.paroche on March 07, 2011 21:26:18</em>\nHi, I just wanted to say that I had this problem 1 hour ago and the fix worked perfectly : I commented all the \u00ab if () {} \u00bb (line 189), then removed the \u00ab else {} \u00bb  and just kept the \u00ab $this-&gt;render($child); \u00bb line. Now absolute positioning work fine :)\n. <em>From tshivasr...@gmail.com on April 18, 2011 08:54:06</em>\nhi , position abslolute is not working for me, is there is a way to work fine ??\n. <em>From tshivasr...@gmail.com on April 18, 2011 08:55:01</em>\nThis is the html code.</p>\n<p><code>html\n&lt;html&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        div { position: relative; width:100%; }\n        p { position: absolute ;top : 0px; right:0px;}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;p&gt;hello.&lt;/p&gt;\n        &lt;p&gt;Hello world!!!&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code>\n. <em>From fabien.menager on May 02, 2011 21:49:03</em>\nFixed by r379\n. <em>From eclecticgeek on May 11, 2011 16:53:31</em>\nWe will need to look at nested positioned elements more for a future release. Things like the following snippet are still problematic:</p>\n<p><code>html\n&lt;div style=\"position: relative; top: 100px; overflow: hidden;\"&gt;&lt;p style=\"position: absolute; top: -100px;\"&gt;hello.&lt;/p&gt;&lt;/div&gt;</code></p>\n<p>That being said, I think the fix as implemented is good enough to address this specific issue.\n. <em>From eclecticgeek on February 28, 2011 19:25:05</em>\nHow are you globally modifying the line height? Something like * { line-height: 1em; }? Do you have a sample document?</p>\n<p>A quick perusal of the W3 spec for HTML4 doesn't indicate how superscript should be rendered. Am I missing something? I have seen other places indicate that the rise should be half a character and not based on line height. However, if this is your primary complaint it affects text outside a table as well.\n. <em>From excepti...@hotmail.com on September 23, 2011 22:05:40</em>\nActually it is not needed to alter the global line-height of the document.</p>\n<p>The following just demonstrates the current problems:</p>\n<p><code>html\n&lt;td&gt;Some &lt;span class=\"s1\"&gt;special&lt;/span&gt; text.&lt;/td&gt;</code></p>\n<p>inside a table, and some css:</p>\n<p><code>css\nspan.s2 {\n   font-size: 50%;\n}</code></p>\n<p>It seems like changing color the text inside a table-cell has effect, but font-resizing isnt honored at all.\n. <em>From eclecticgeek on September 24, 2011 00:47:09</em>\nFont sizing appears to work correctly. Your sample code is using the wrong class name inside the table.</p>\n<p>The problem with superscript appears to be related to text that is not contained within a block-level element. A work-around to the problem is to surround your text with some type of block element, e.g. P or DIV.\n. <em>From eclecticgeek on September 24, 2011 00:48:18</em>\nattaching test document</p>\n<p><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Issue 238 sample document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        &lt;table&gt;\n                &lt;tr&gt;&lt;td&gt;Text with &lt;sup&gt;super&lt;/sup&gt;script, no block level element.&lt;/td&gt;&lt;/tr&gt;\n                &lt;tr&gt;&lt;td&gt;&lt;p&gt;Text with &lt;sup&gt;super&lt;/sup&gt;script, inside block level element (P).&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;\n                &lt;tr&gt;&lt;td&gt;&lt;div&gt;Text with &lt;sup&gt;super&lt;/sup&gt;script, inside block level element (DIV).&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n        &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code>. <em>From eclecticgeek on February 28, 2011 20:00:02</em>\nI'm not sure any of the binaries included with the ttf2ufm library are universally executable. The Windows version is definitely not. The *nix version does not run on my host as far as I can tell. We may have to leave it up to the user to compile or acquire a working copy until we can otherwise provide something more universal from the ttf2ufm project.</p>\n<p>I think we should maybe point, by default, to a batch file/shell script that returns a message informing the user of this fact. The setup script can execute whatever is referenced (with -v perhaps) and return either the version information, if installed, or a message about how to install, if the batch file is run.\n. <em>From eclecticgeek on February 28, 2011 20:11:55</em>\nAnything prior to 0.6.x has limited support for characters outside iso-8859-1 encoding. The Euro is supported in 0.5.x (see the FAQ http://code.google.com/p/dompdf/wiki/FAQ), but otherwise you have to jump through some PDF encoding hoops.</p>\n<p>The 0.6.0 release will have better support for \"special\" characters by default. The default encoding is based on Windows ANSI (one of the few recognized by the PDF 1.3 spec). You can enable better character support by loading a Unicode-based font and enabling Unicode.\n. <em>From fabien.menager on March 07, 2011 20:18:26</em>\nI can confirm this bug, I know why it doesn't work and will fix it ASAP\n. <em>From kalle.ne...@gmail.com on March 23, 2011 23:09:01</em>\nAny updates on this bug, is it fixed in trunk? \nThanks!\n. <em>From tommiepo...@gmail.com on April 14, 2011 11:08:43</em>\nAny updates on this issue?\n. <em>From fabien.menager on April 14, 2011 20:58:22</em>\nI fixed this in r380, could you tell me if that's OK?\n. <em>From Gers...@gmail.com on April 19, 2011 11:20:34</em>\nIts working!\n. <em>From fabien.menager on April 20, 2011 13:50:28</em>\nGreat !\n. <em>From fabien.menager on April 28, 2012 11:15:48</em>\nWe had issues with \"localized\" floating point number with commas instead of points, but they were fixed in dompdf 0.6\n. <em>From eclecticgeek on March 10, 2011 19:27:25</em>\nCan you post an example HTML document we can test against?\n. <em>From *prasha...@medicuslocums.com on March 11, 2011 05:00:40</em>\nActually its not hard core Html, i have merged the dompdf to the Drupal CMS with the PRINT MODULE. \nI found a way to display the pdf ,i commented the code in block_frame_reflower.cls.php on line 199 and that did the magic but the pdf which i download is scrambled. Please check the attachment.\n. <em>From eclecticgeek on March 11, 2011 17:11:46</em>\nI understand that the HTML is dynamically generated. Unfortunately, unless the bug is a corruption in the PDF format the PDF document doesn't really give us much of a hint as to what's going on.</p>\n<p>In the 0.6.0 beta you can see what HTML document DOMPDF is processing using $dompdf-&gt;output_html(). If you can supply that or point us to the web page having problems we can take a closer look.\n. <em>From han...@mekaia.com on October 18, 2012 14:28:11</em>\nHad the same error. Problem was caused by css syntax error ( padding: !important; )</p>\n<p>It's weird that I had the same code on 3 server and it only failed on one them.\n. <em>From eclecticgeek on October 18, 2012 16:58:14</em>\nThank you for the post, @hannes. That definitely helps narrow down the issue.</p>\n<p>Test case: http://eclecticgeek.com/dompdf/debug.php?identifier=3ae9d0040b8931ebf9f1ed27d7e9a0b5\n. <em>From j.muthre...@hartech.de on March 11, 2011 14:27:37</em>\nVersion 0.5.2\n. <em>From eclecticgeek on March 11, 2011 17:15:44</em>\nThanks for the patched file. We don't plan to release any non-security patches for the 0.5.1 release since we're focused on the 0.6.0 release. We have addressed this issue in 0.6.0.\n. <em>From laput.le...@gmail.com on March 02, 2012 09:53:36</em>\nThanks a lot\n. <em>From timmik...@gmail.com on June 25, 2012 17:18:13</em>\nThank you very much!!\n. <em>From esteves....@gmail.com on August 13, 2012 14:16:08</em>\nWow, very thanks!\n. <em>From fabien.menager on March 14, 2011 21:51:09</em>\nThis issue was closed by revision r373.\n. <em>From eclecticgeek on March 15, 2011 18:35:20</em>\nThis appears to be valid. It looks like dompdf is Unicode-encoding the link text, which is what's causing the problem.\n. <em>From fabien.menager on May 14, 2011 23:30:24</em>\nThis issue was closed by revision r394.\n. <em>From jase.wil...@gmail.com on March 25, 2011 09:40:00</em>\nI'm having the same problem, this looks like a bug to me.</p>\n<p>I did try a CSS reset which helped a little bit but the problem came back.</p>\n<p><code>css\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, font, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    outline: 0;\n    font-size: 100%;\n    vertical-align: baseline;\n    background: transparent;\n    font-family:Arial, Helvetica, sans-serif;\n}</code>\n. <em>From fabien.menager on March 25, 2011 15:44:59</em>\nHello, you need to set the page's margin like this :</p>\n<p><code>css\n@page {\n  margin: 0;\n}</code></p>\n<p>You can also set the page's size with this, like here : http://www.w3.org/TR/css3-page/#page-size-prop</p>\n<p>If it is OK, I'll close this issue.\n. <em>From wbeau...@gmail.com on March 25, 2011 16:06:06</em>\nI added this to the HTML head:</p>\n<p><code>html\n&lt;style media=\"print\" type=\"text/css\"&gt;\n/*&lt;![CDATA[*/\n@page {\n     margin: 0;\n}\n/*]]&gt;*/\n&lt;/style&gt;</code></p>\n<p>But it didn't work. I assume there's something amiss with how I've written the CSS.\n. <em>From jase.wil...@gmail.com on March 25, 2011 16:25:57</em>\nfabien.maneger </p>\n<p>We have both tryed that and it doesnt work, it makes no difference.</p>\n<p>I tryed both <code>@page</code> and body and  gave them both margin:0; and it made no difference.</p>\n<p>My CSS is in the head and not an external file, does this matter?\n. <em>From jase.wil...@gmail.com on March 25, 2011 16:36:06</em>\nwbeau...@gmail.com</p>\n<p>I've just found that sizing some stuff such as the wrapper div and the header by mm and not pixels has pushed it up to the top again.</p>\n<p>this could be a temporary fix but for now it kind of works.\nApart from that im not making any progress on this.\n. <em>From eclecticgeek on March 25, 2011 18:00:37</em>\nPerhaps the page margins should be set to 0 by default. On initial read I don't see anything outlining the default page margins for a printed page in the spec. So far as I can tell it should probably be 0.</p>\n<p>Plus, using this value would avoid any confusion regarding unexpected margins in the PDF.</p>\n<p>Location of the CSS should not matter. We'll have to look into the other claims of misplacement. \n. <em>From fabien.menager on March 26, 2011 17:02:50</em>\nDid you try without the </p>\n<p><code>media=\"print\"</code></p>\n<p>in your style tag ? By default, dompdf uses the media screen (I think this could be discussed)\n. <em>From jase.wil...@gmail.com on March 28, 2011 08:34:28</em>\nIs there a solution to this or is it still an open issue?\n. <em>From eclecticgeek on March 28, 2011 19:30:05</em>\nThe solution provided by Fabien works when checked against a simple test document. Can you post a sample of your document, including the fix, that does not work?\n. <em>From fabien.menager on May 02, 2011 21:47:23</em>\nI'm closing this issue as we didn't have more info for one month, I'll reopen it if needed.\n. <em>From eclecticgeek on March 25, 2011 18:06:48</em>\nYour problem appears to be the version of ttf2pt1 on your system. The version included with DOMPDF is modified to support Unicode font metrics out of the box. Did you compile from scratch or use a copy already on your system? You would have to jump through some hoops to get the same out of the standard executable</p>\n<p>The modified version creates font metrics in both .afm and .ufm format. The UFM format is required in order to render Unicode text correctly. Without it, DOMPDF will fall back to Windows ANSI encoding.</p>\n<p>If you are unable to compile from source then you might try the web-based font prep tool:\nhttp://eclecticgeek.com/dompdf/load_font.php\n. <em>From wbeau...@gmail.com on March 25, 2011 18:13:51</em>\nI uploaded Unicode-friendly Arial font files that I got from another source and changed the font to Arial and it still didn't fix things.\n. <em>From eclecticgeek on March 25, 2011 18:24:33</em>\nIt's not just the font that needs to be Unicode friendly. You also have to process your font using ttf2ufm to get the Unicode font metrics (<em>.ufm) that DOMPDF needs to process text that uses the font. Without the </em>.ufm files DOMPDF will fall back to Windows ANSI encoding.\n. <em>From wbeau...@gmail.com on March 25, 2011 18:33:07</em>\nI know that. That's what I meant: the files I uploaded are .ufm files.\n. <em>From eclecticgeek on March 25, 2011 19:43:52</em>\nOk. Just wanted to clarify that you were uploading all the necessary files.</p>\n<p>So to review the requirements for working enabling Unicode support.\n1) make sure the MBString PHP extension is enabled\n2) set DOMPDF_UNICODE_ENABLED to true\n3) install a Unicode font (ttf + ufm)\n4) ensure your HTML document includes a meta header indicating the content type, e.g. <meta http-equiv=\"Content-Type\" content=\"charset=utf-8\" /></p>\n<p>You're ok on 2 &amp; 3. What about 1 &amp; 4?\n. <em>From wbeau...@gmail.com on March 25, 2011 19:57:10</em>\nYes, all of those conditions are satisfied.\n. <em>From eclecticgeek on March 25, 2011 20:37:00</em>\nCan you post a sample of your HTML document and font files so we can try it out on our systems?\n. <em>From pavel.fr...@gmail.com on July 12, 2012 08:31:47</em>\nShows blank pdf =(</p>\n<p>``` html\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"charset=utf-8\" />\n<style></p>\n<p>body {\n  font-family: \"DejaVu sans\" /<em> unicode font from the box </em>/\n}\n\n\n\n\u042f \u043d\u0430\u043a\u043e\u043d\u0435\u0446-\u0442\u043e did it!\n\n\n```\n. From eclecticgeek on July 12, 2012 17:42:13\n@pavel.frankov which version of dompdf? This seems to render fine on my copy of dompdf 0.6.0 beta 3 (the most recent). You might also check to see if you have any PHP errors.\n. From pavel.fr...@gmail.com on July 12, 2012 17:54:32\nThe latest one: 0.6.0 beta 3. No PHP errors.\nWorks fine for latin letters, but even one cyrillic letter is breaks everything.\nWhen I've remove  it works only for latin letters.\n. From eclecticgeek on July 13, 2012 03:06:17\nAre errors enabled? Seems you should get some kind of error if the characters are being stripped. Also, can you post your PDF?\n. From pavel.fr...@gmail.com on July 13, 2012 07:21:45\nHere is screenshot from setup.php\nhttp://speedcap.net/img/e63b6e397b5b9143d7f78497f866bf4f/7a660ded.png\nPDF in attachment.\n. From pavel.fr...@gmail.com on July 13, 2012 09:42:04\nHm, I've changed my WAMP from XAMPP to latest OpenServer and now all is ok. Thank you!\n. From eclecticgeek on July 13, 2012 17:15:54\nThanks for the update. I'll make a note of the issue. If we have a chance we'll investigate further. Which version of XAMPP were you using?\n. From pavel.fr...@gmail.com on July 13, 2012 17:20:05\nXAMPP (Basispaket) version 1.7.4 \n. From pavel.fr...@gmail.com on July 16, 2012 05:14:01\nI've fully reinstalled XAMPP and now all works fine. Thank you again!\n. From eclecticgeek on July 16, 2012 17:00:08\nThanks for the update. Odd that a reinstall would have fixed the problem. Maybe a missing library. At any rate, glad you got it working again.\n. From eclecticgeek on July 16, 2012 17:00:08\nThanks for the update. Odd that a reinstall would have fixed the problem. Maybe a missing library. At any rate, glad you got it working again.\n. From eclecticgeek on March 25, 2011 18:15:21\nI think you're just hitting a cascade problem in your CSS. When I check with Firefox I see the same result. As a rule I always recommend placing generic styles at the top of your CSS and more specific ones further down (though it really depends on the desired cascade).\nSo to fix the padding on your document you might try the following:\n``` css\ngreybg p {\nfont-size: 14px;\n  margin-bottom: 25px;\n  width: 95%;\n}\ngreybg p#first-para {\nmargin-bottom: 25px;\n}\n```\n. From eclecticgeek on March 25, 2011 18:15:21\nI think you're just hitting a cascade problem in your CSS. When I check with Firefox I see the same result. As a rule I always recommend placing generic styles at the top of your CSS and more specific ones further down (though it really depends on the desired cascade).\nSo to fix the padding on your document you might try the following:\n``` css\ngreybg p {\nfont-size: 14px;\n  margin-bottom: 25px;\n  width: 95%;\n}\ngreybg p#first-para {\nmargin-bottom: 25px;\n}\n```\n. From eclecticgeek on March 25, 2011 18:18:37\nI marked invalid too soon. My advice still holds for the cascade, but there does appear to be a problem with the margin on the first paragraph.\n. From eclecticgeek on March 25, 2011 18:18:37\nI marked invalid too soon. My advice still holds for the cascade, but there does appear to be a problem with the margin on the first paragraph.\n. From fabien.menager on April 10, 2011 19:37:24\nThis was a problem with the margin collapsing, this is fixed in the trunk.\n. From eclecticgeek on March 28, 2011 19:07:22\nI've run into the problem before, but it has been a while and I can't remember the exact cause. I believe you're missing the actual font file (arial.ttf) in your fonts directory. Did you use the load_font.php program?\nIf you've attempted to load the font manually, here are the steps:\n1) create your font metrics files (_.afm and, if you're using 0.6.0, .ufm) using ttf2pt1/ttf2afm/ttf2ufm\n2) copy the font metrics files (.afm, .ufm) and font files (.ttf) to your dompdf font directory (typically dompdf/lib/fonts).\n3) update dompdf_font_family_cache to include references for the font family\n. _From evonise88 on March 28, 2011 20:29:32\nThanks for your reply. It is true that I did not have the .ttf files in my fonts folder. But when I add them, I get another error and the PDF does not render at all...\n\"File does not begin with '%PDF-'.\"\nCould you help me towards a solution?\n. From eclecticgeek on March 28, 2011 19:07:22\nI've run into the problem before, but it has been a while and I can't remember the exact cause. I believe you're missing the actual font file (arial.ttf) in your fonts directory. Did you use the load_font.php program?\nIf you've attempted to load the font manually, here are the steps:\n1) create your font metrics files (.afm and, if you're using 0.6.0, *.ufm) using ttf2pt1/ttf2afm/ttf2ufm\n2) copy the font metrics files (.afm, .ufm) and font files (.ttf) to your dompdf font directory (typically dompdf/lib/fonts).\n3) update dompdf_font_family_cache to include references for the font family\n. From eclecticgeek on March 29, 2011 01:25:25\nMore than likely you are experiencing a PHP error. If you save that file and open with a normal text editor you are likely to see some kind of server error, followed by the PDF document. If this is the case make sure display_errors is set to off in your php.ini (or when you use dompdf). (Also, addressing whatever the reported problem is would be good.)\n. From evonise88 on March 30, 2011 13:08:03\nHmm thanks again! I thought I'd checked that... It seems I'm getting this error 11 times:\nDeprecated: Function set_magic_quotes_runtime() is deprecated\nWhen I remove this from the PDF file (and check for any other PHP errors), the PDF still fails to open in Acrobat; it renders a white page.\nTurning display_errors off in my php.ini, and downloading the file again fixes the problem. But I'm still not sure what's the difference with removing the errors...\n. From eclecticgeek on March 29, 2011 01:25:25\nMore than likely you are experiencing a PHP error. If you save that file and open with a normal text editor you are likely to see some kind of server error, followed by the PDF document. If this is the case make sure display_errors is set to off in your php.ini (or when you use dompdf). (Also, addressing whatever the reported problem is would be good.)\n. From eclecticgeek on March 30, 2011 14:55:33\nPDF documents are fairly structured documents internally, any deviation from the expected structure can cause problems in a reader. The errors inserted at the top of your PDF were making the document impossible to read.\nBecause a PDF contains a mix of binary and non-binary data you can't really edit in a text editor. The main point was so you could see what the error was. It's always a good idea to disable sending errors to the web browser on a production system. I personally find it better to disable error display on all systems and use error logging instead.\nFYI, set_magic_quotes_runtime() has been removed from the 0.6.0 code base.\n. From eclecticgeek on March 30, 2011 14:55:33\nPDF documents are fairly structured documents internally, any deviation from the expected structure can cause problems in a reader. The errors inserted at the top of your PDF were making the document impossible to read.\nBecause a PDF contains a mix of binary and non-binary data you can't really edit in a text editor. The main point was so you could see what the error was. It's always a good idea to disable sending errors to the web browser on a production system. I personally find it better to disable error display on all systems and use error logging instead.\nFYI, set_magic_quotes_runtime() has been removed from the 0.6.0 code base.\n. From arie.m...@gmail.com on February 28, 2012 18:21:28\nI had the bad bbox problem as well using the ./load_font.php script. I was trying to use uppercase ttf files like ARIAL.TTF. I found out when you make them lowercase (e.g. arial.ttf) and run them in load_font.php again, bbox was gone.\n. From eclecticgeek on March 29, 2011 17:36:25\n(ref) https://groups.google.com/d/topic/dompdf/saH94J2YWcw/discussion\n. From eclecticgeek on March 29, 2011 17:36:25\n(ref) https://groups.google.com/d/topic/dompdf/saH94J2YWcw/discussion\n. From fabien.menager on May 02, 2011 21:44:31\nThis can now be done with the trunk by adding a meta tag :\n\nYou can replace FitV by any value from here : http://www.activepdf.com/support/knowledgebase/viewKb.cfm?id=10884\n. From fabien.menager on March 31, 2011 09:41:43\nHello, thank you for your bug report, it's clearly a problem.\nI found a temporary solution by removing the height and min-height properties to the #itemdiv selector.\nI know that the result is not the same with this solution, but we'll take care of this bug ASAP.\n. From themauiw...@gmail.com on March 31, 2011 20:04:00\nThank you!! :)\n. From eclecticgeek on May 14, 2012 02:28:56\nDo we have the linked test cases fort his bug anywhere? If not I'm inclined to close the issue since the URLs are no longer valid.\n. From eclecticgeek on May 14, 2012 02:28:56\nDo we have the linked test cases fort his bug anywhere? If not I'm inclined to close the issue since the URLs are no longer valid.\n. From fabien.menager on May 02, 2011 21:45:42\nFixed by r387\n. From eclecticgeek on April 04, 2011 01:46:48\nI'm not sure that it is true the code worked in previous versions. I tried a document using a single-cell table with the height attribute and I only got a small box. If you have an actual sample that worked in older versions let us know.\nThe error could be related to issue 91. However, the underlying issue appears to be that DOMPDF is calculating a height that is larger than the available space. But I'm not sure this is actually the case ... we'll have to take a closer look.\n. From adrianc....@gmail.com on April 03, 2011 11:20:34\nPlease find attached the configuration file.\n. From adrianc....@gmail.com on April 03, 2011 11:24:27\nIn my tmp file (which is 777) I found that the files are 0 size, for example: cpdf_img_37irVf\n. From adrianc....@gmail.com on April 03, 2011 18:07:39\nI saw that if I copy it to dompdf directory, it works. Thank you!\n. From eclecticgeek on April 04, 2011 01:49:27\nSounds like possibly a local configuration issue. If you experience any further problems let us know and we'll re-open the issue. \n. From eclecticgeek on April 04, 2011 01:49:27\nSounds like possibly a local configuration issue. If you experience any further problems let us know and we'll re-open the issue. \n. From adrianc....@gmail.com on April 04, 2011 15:17:33\nIt seems to be a problem. I configured:\ndef(\"DOMPDF_ENABLE_REMOTE\", true);\nThis settings must allow downloading images from other site, but it doesn't work.\n. From eclecticgeek on April 04, 2011 19:18:32\nIn addition to DOMPDF_ENABLE_REMOTE, you must have write access to the temporary directory (which appears to be the case), the GD PHP extension, as well as allow_url_fopen set to true. Do you get any PHP errors?\nWith 0.6.0 you can load the setup.php script to see if you have any configuration problems.\n. From eclecticgeek on April 04, 2011 19:18:32\nIn addition to DOMPDF_ENABLE_REMOTE, you must have write access to the temporary directory (which appears to be the case), the GD PHP extension, as well as allow_url_fopen set to true. Do you get any PHP errors?\nWith 0.6.0 you can load the setup.php script to see if you have any configuration problems.\n. From adrianc....@gmail.com on April 04, 2011 20:29:49\nHi,\nI don't think is an environment problem. When the html page and the image are under dompdf folder it works. It also work when the image is remote and is loaded using css. I think it is a configuration issue.\nCan you please chage the status of this bug?\nThank you\n. From adrianc....@gmail.com on April 06, 2011 14:39:39\nI activate the debug mode and the logs are bellow. The html file is simple, it just loads the Google logo.\n[__construct http://www.google.ro/images/logos/ps_logo2a_cp.png]resolve_url(http://www.google.ro/images/logos/ps_logo2a_cp.png,,,)(http://)/home/adrian/public_html/labs/dompdf/tmp/ca_dompdf_img_iGmReZ\n[resolve_url http://www.google.ro/images/logos/ps_logo2a_cp.png|http://www.google.ro/images/logos/ps_logo2a_cp.png(missing)|/home/adrian/public_html/labs/dompdf/lib/res/broken_image.png|png]get_min_max_width() auto auto;600pt auto;600pt auto;17 17|12.75 12.75;[image:/home/adrian/public_html/labs/dompdf/lib/res/broken_image.png|png]!!!png!!![addImagePng /home/adrian/public_html/labs/dompdf/tmp/cpdf_img_xAuhBm.png][addImagePng /home/adrian/public_html/labs/dompdf/tmp/cpdf_img_eP7JXJ.png]\nCan you please tell me why it gives me:\n[resolve_url http://www.google.ro/images/logos/ps_logo2a_cp.png|http://www.google.ro/images/logos/ps_logo2a_cp.png(missing)\nThe URL exists\n. From eclecticgeek on April 20, 2011 17:45:30\nRight now I don't see anything that indicates a problem in DOMPDF. You get the \"(missing)\" message because when DOMPDF attempted to fetch the image via file_get_contents() nothing was returned.\nCan you confirm that all the requirements for fetching images via URL are met? See comment 6. Specifically, I suspect you may not have allow_url_fopen set to true. You can easily check this by accessing dompdf/www/setup.php.\n. From adrianc....@gmail.com on April 20, 2011 18:05:26\nHi,\nYes, I see that allow_url_fopen is disabled. We will ask our hosting company to enable it.\nThank you,\n. From eclecticgeek on April 20, 2011 17:45:30\nRight now I don't see anything that indicates a problem in DOMPDF. You get the \"(missing)\" message because when DOMPDF attempted to fetch the image via file_get_contents() nothing was returned.\nCan you confirm that all the requirements for fetching images via URL are met? See comment 6. Specifically, I suspect you may not have allow_url_fopen set to true. You can easily check this by accessing dompdf/www/setup.php.\n. From fabien.menager on May 02, 2011 21:41:12\nDompdf alone cannot do this, but there are PHP libs that can write barcodes into images files, that could be inserted via IMG tags.\nBut this may be something we could include in the future, to embed vectorial barcodes.\n. From ukarr...@gmail.com on April 05, 2011 07:47:35\nI forgot:\n- the paper size is \"a4\", \"portrait\".\nAnd I set a left border for the PDF:\nmargin-left: 40px;\n. From ukarr...@gmail.com on April 05, 2011 07:55:16\nSorry, forget about the error-file above. The error is a little bit different. This is a new file.\nYou see the difference (the red border-bottom is propper). So the error seems only to affect the border-top.\n. From fabien.menager on April 05, 2011 08:25:37\nIt looks like there is something wrong with the colspans, all the rows of the table should have the same number of cols for the table to be displayed correctly. \nDompdf doesn't resolve this problem the same way as browsers.\n. From ukarr...@gmail.com on April 05, 2011 08:41:00\nHi.\nYeah, I\u00b4m sorry.\nIt was my fault. FF viewed it correctly so I don\u00b4t saw that a colspan was not set correctly. It\u00b4s a mess when you use PHP and the HTML is dynamically build together.\nNevertheless thanks for the advice! :)\nBug can be closed!\n. From fabien.menager on April 05, 2011 11:31:20\nIt is displayed exactly the same way in my browser ;)\nI think you should set only a border on the top of the hr.\n. From ukarr...@gmail.com on April 05, 2011 11:38:22\nWhich browser do you use?\nI use FF 3.6.16 and it is shown like this (s. attachment).\nSame for IE 8 (compatibility mode / IE 7).\n. From fabien.menager on April 05, 2011 11:40:59\nI use Google Chrome, I guess it doesn't know the noshade attribute, but, you should set border:none except on the top.\n. From ukarr...@gmail.com on April 05, 2011 11:42:22\nAh and I forgot that it also worked in dompdf latest 5+ version. It was a little bit thicker then in the browser, but it was a solid line not a rectangle.\nCSS is explicit: 1px thick means really only 1px in height, not more.\nTake look here on the well known selfHTML reference:\nhttp://de.selfhtml.org/html/text/trennlinien.htm#gestalten_css\nIf you click on \"Anzeigebeispiel: So sieht's aus\" you see a 5px thick rectangle. It looks like in the PDF (and this in the PDF has to be 1px thick!)\n. From ukarr...@gmail.com on April 05, 2011 11:45:30\n@fabien\nI tried it and now it looks like this (s. attachment).\nThis is not correct as well as before.\nHTML:\nhtml\n<hr noshade=\"noshade\" align=\"center\" style=\"border-top: none; border-color: #CFCFCF; border-style: dashed; color: #CFCFCF; height: 1px; margin-top: -5px; text-align: center;\" />\n. From ukarr...@gmail.com on April 05, 2011 11:45:30\n@fabien\nI tried it and now it looks like this (s. attachment).\nThis is not correct as well as before.\nHTML:\nhtml\n<hr noshade=\"noshade\" align=\"center\" style=\"border-top: none; border-color: #CFCFCF; border-style: dashed; color: #CFCFCF; height: 1px; margin-top: -5px; text-align: center;\" />\n. From ukarr...@gmail.com on April 05, 2011 11:49:43\nBut what you wrote is a workaround when I write the \"border-top: none;\" at the end (because it overwrites the style before).\nBut you can see at the edges that domPDF still wants to draw a rectangle (s. attachment / 300% zoom).\nhtml\n<hr noshade=\"noshade\" align=\"center\" style=\"border-color: #CFCFCF; border-style: dashed; color: #CFCFCF; height: 1px; margin-top: -5px; text-align: center; border-top: none;\" />\n. From ukarr...@gmail.com on April 05, 2011 11:56:53\nBest workaround I found to meet my needs is a div-tag which has one border (s. attachment).\nCode (similar to this / maybe can be modified):\nhtml\n<div style=\"border-top: 1px dashed #CFCFCF; padding: 2px; padding-bottom: -4px; text-align: center; border-bottom: none;\">&nbsp;</div>\n. From ukarr...@gmail.com on April 05, 2011 11:56:53\nBest workaround I found to meet my needs is a div-tag which has one border (s. attachment).\nCode (similar to this / maybe can be modified):\nhtml\n<div style=\"border-top: 1px dashed #CFCFCF; padding: 2px; padding-bottom: -4px; text-align: center; border-bottom: none;\">&nbsp;</div>\n. From ukarr...@gmail.com on April 05, 2011 11:49:43\nBut what you wrote is a workaround when I write the \"border-top: none;\" at the end (because it overwrites the style before).\nBut you can see at the edges that domPDF still wants to draw a rectangle (s. attachment / 300% zoom).\nhtml\n<hr noshade=\"noshade\" align=\"center\" style=\"border-color: #CFCFCF; border-style: dashed; color: #CFCFCF; height: 1px; margin-top: -5px; text-align: center; border-top: none;\" />\n. From ukarr...@gmail.com on April 05, 2011 11:57:21\nThe last image is as well as the one before zoomed to 300%.\n. From fabien.menager on April 05, 2011 12:02:36\nI usually set :\ncss\n   border: none; border-top: 1px dashed #CFCFCF;\nBecause I don't use HTML presentational attributes (like noshade).\n. From fabien.menager on April 05, 2011 12:02:36\nI usually set :\ncss\n   border: none; border-top: 1px dashed #CFCFCF;\nBecause I don't use HTML presentational attributes (like noshade).\n. From eclecticgeek on April 20, 2011 18:36:01\nJust tossing in some additional thoughts.\nI think DOMPDF 0.6.x+ is displaying this correctly. IE7 was not exactly a highly standards-compliant browser, and DOMPDF aims to render as close to the standard as possible. So using IE7 (and even IE8 in some instances) as your reference is not recommended. Testing out your sample in Adobe BrowserLab it appears to me that the only browsers that render what you are expecting are IE versions 7 or lower. (I'm not sure why you were seeing something different in FF3.6.16.)\nThe HTML spec is a little light on rendering guidance for the HR element (at least, I haven't found anything specific). If you know of any other definitive resources let us know.\nhttp://www.w3.org/TR/html4/present/graphics.html#edef-HR\nDOMPDF 0.5.x was probably doing it wrong which is why the rendering has since been tweaked.\nTo try to explain the rendering, when you specify a border it is rendered around the horizontal rule, not as the rule itself. Even now there is some variation across the latest browsers. The DOMPDF rendering could probably use some tweaks, but I think overall it's pretty good.\n. From eclecticgeek on April 20, 2011 18:36:01\nJust tossing in some additional thoughts.\nI think DOMPDF 0.6.x+ is displaying this correctly. IE7 was not exactly a highly standards-compliant browser, and DOMPDF aims to render as close to the standard as possible. So using IE7 (and even IE8 in some instances) as your reference is not recommended. Testing out your sample in Adobe BrowserLab it appears to me that the only browsers that render what you are expecting are IE versions 7 or lower. (I'm not sure why you were seeing something different in FF3.6.16.)\nThe HTML spec is a little light on rendering guidance for the HR element (at least, I haven't found anything specific). If you know of any other definitive resources let us know.\nhttp://www.w3.org/TR/html4/present/graphics.html#edef-HR\nDOMPDF 0.5.x was probably doing it wrong which is why the rendering has since been tweaked.\nTo try to explain the rendering, when you specify a border it is rendered around the horizontal rule, not as the rule itself. Even now there is some variation across the latest browsers. The DOMPDF rendering could probably use some tweaks, but I think overall it's pretty good.\n. From fabien.menager on April 08, 2011 10:58:55\nI'm afraid dompdf will require a LOT of memory for such a table :(\nTables are known to use a lot of memory, and when it is so big, it may even never work.\nWe are working on solutions to this problem, but this will require a lot of work.\nI can suggest you to split this table in smaller tables, this may better work.\n. From fabien.menager on April 08, 2011 10:56:35\nAs I told in the add_info issue, inline PHP was disabled in dompdf 0.6 beta 2 for security reasons, \nAnd for this problem, see the CSS > content example here :\nhttp://pxd.me/dompdf/www/examples.php\nSee the source code of the HTML file :\nhttp://pxd.me/dompdf/www/test/css_content.html\nIt is using CSS Generated content. The main issue with this right now is that is doesn't support the page count, only the current page number, but you can display it in roman, upper-roman, greek, etc\n. From fabien.menager on April 08, 2011 10:48:41\nHello, inline PHP was disabled by default in dompdf 0.6 beta2 for security reasons.\nYou can re-enable it in the config file (DOMPDF_INLINE_PHP), or you can set these info just by adding meta tags to the HTML file : #30 \nThe meta tag names you can use are the same as in your array, except for the title where this is the  tag that is taken.\n. From fabien.menager on April 08, 2011 10:48:41\nHello, inline PHP was disabled by default in dompdf 0.6 beta2 for security reasons.\nYou can re-enable it in the config file (DOMPDF_INLINE_PHP), or you can set these info just by adding meta tags to the HTML file : #30 \nThe meta tag names you can use are the same as in your array, except for the title where this is the  tag that is taken.\n. From martin.a...@gmail.com on April 14, 2011 12:48:02\nSame problem can anyone help?\n. From eclecticgeek on April 22, 2011 19:53:05\nBy default the current release of DOMPDF supports the iso-8859-1 character set. Perhaps this isn't plainly stated in the documentation. In order to support characters outside this set, you have to ensure each of the following is true:\n1) the MBString PHP extension is enabled\n2) DOMPDF_UNICODE_ENABLED to set to true in dompdf_config.inc.php\n3) you have loaded a Unicode font via load_font.php (requires ttf2ufm) or using the web-based font prep tool\n4) your HTML document includes a meta header indicating the content type, e.g. \nIn the final release of 0.6.0 we will more than likely include some fonts with Unicode support. That will make things a little easier, but you will still need to ensure that all the required conditions outlined above are true.\nFYI, the demo has not been tweaked to ensure all the examples produce the expected output. I have taken the same example, added a font that does support Cyrillic, and it renders fine. See it here:\nhttp://eclecticgeek.com/dompdf/docs_0-6-0/dompdf.php?base_path=test%2F&options[Attachment]=0&input_file=encoding_utf-8.html\n. From eclecticgeek on April 22, 2011 19:53:05\nBy default the current release of DOMPDF supports the iso-8859-1 character set. Perhaps this isn't plainly stated in the documentation. In order to support characters outside this set, you have to ensure each of the following is true:\n1) the MBString PHP extension is enabled\n2) DOMPDF_UNICODE_ENABLED to set to true in dompdf_config.inc.php\n3) you have loaded a Unicode font via load_font.php (requires ttf2ufm) or using the web-based font prep tool\n4) your HTML document includes a meta header indicating the content type, e.g. \nIn the final release of 0.6.0 we will more than likely include some fonts with Unicode support. That will make things a little easier, but you will still need to ensure that all the required conditions outlined above are true.\nFYI, the demo has not been tweaked to ensure all the examples produce the expected output. I have taken the same example, added a font that does support Cyrillic, and it renders fine. See it here:\nhttp://eclecticgeek.com/dompdf/docs_0-6-0/dompdf.php?base_path=test%2F&options[Attachment]=0&input_file=encoding_utf-8.html\n. From vkera...@gmail.com on April 22, 2011 20:04:49\nFirst of all, all the requirements are met. I think it is strange that the current fonts do not support unicode. Really, really strange... And finaly, I can not use the web based font converver, so I really can not find those fonts.\n. From eclecticgeek on April 22, 2011 22:41:41\nNo fonts are currently supplied with DOMPDF. What you get on a fresh installation is support for the core fonts that all PDF viewers are required to include. We are working on improving character set support in these fonts, but as of now DOMPDF only supports the Windows ANSI character set when they are used. Windows ANSI is one of the few internally-supported encodings allowed by the PDF 1.3 spec. None of these internal encodings include Cyrillic character support, which is why you have to supply your own fonts if you want to enable Unicode support.\nWhy are you unable to use the web-based font prep tool? Is it failing when processing your fonts? If you post the font you wish to use here I will be happy to process it and post the resulting files (font metrics and dompdf_font_family_cache).\n. From vkera...@gmail.com on April 23, 2011 08:46:52\nReally thanks! Actually the web based tool always gives me an error. And nothing for download :[\nThis is an archive with calibri font (normal, bold, italic, bold-italic). 4 files in the .rar\nI am (almost) sure, those do support cyrillic.\nWill be very happy if You could send them to me via email. Thanks in advance!\n. From eclecticgeek on April 22, 2011 22:41:41\nNo fonts are currently supplied with DOMPDF. What you get on a fresh installation is support for the core fonts that all PDF viewers are required to include. We are working on improving character set support in these fonts, but as of now DOMPDF only supports the Windows ANSI character set when they are used. Windows ANSI is one of the few internally-supported encodings allowed by the PDF 1.3 spec. None of these internal encodings include Cyrillic character support, which is why you have to supply your own fonts if you want to enable Unicode support.\nWhy are you unable to use the web-based font prep tool? Is it failing when processing your fonts? If you post the font you wish to use here I will be happy to process it and post the resulting files (font metrics and dompdf_font_family_cache).\n. From vkera...@gmail.com on April 29, 2011 20:41:27\nAny chances for the fonts soon? Really thanks again...\n. From mindwrap...@gmail.com on May 01, 2011 07:26:23\nI have exactly the same problem.\nCould you send me the fonts too?\nThanks in advance!\n. From phenxdesign on May 03, 2011 06:06:02\nHello, the DejaVu font is now embedded in the latest revision from the SVN trunk, with Cyrillic. See here : http://pxd.me/dompdf/dompdf.php?base_path=www%2Ftest%2F&options%5BAttachment%5D=0&input_file=encoding_utf-8.html#toolbar=0&view=FitH&statusbar=0&messages=0&navpanes=0\n. From eclecticgeek on May 06, 2011 17:10:59\n@vkeranov: I sent you the processed fonts by email.\nDejaVu should handle most people's needs with regard to expanded character support.\nAlso, the web-based font prep tool has been updated with a new font processor option. If you font doesn't process with the traditional processor (the ttf2ufm binary) try the new one (ttf2ufm.php). You will currently only get the Unicode font metrics from this processor (.ufm files).\n. From eclecticgeek on May 06, 2011 17:10:59\n@vkeranov: I sent you the processed fonts by email.\nDejaVu should handle most people's needs with regard to expanded character support.\nAlso, the web-based font prep tool has been updated with a new font processor option. If you font doesn't process with the traditional processor (the ttf2ufm binary) try the new one (ttf2ufm.php). You will currently only get the Unicode font metrics from this processor (.ufm files).\n. From orlin...@gmail.com on May 26, 2011 10:13:04\nI cant convert too. how can i get the modified fonts. is there a link\n. From eclecticgeek on May 26, 2011 14:46:02\nThe addition of the DejaVu fonts will be included in the next release. You can download a nightly (a pre-release version of the code) that includes these fonts here:\nhttp://eclecticgeek.com/dompdf/\n. From fabien.menager on April 20, 2011 13:53:31\nHehe thanks ;)\n. From fabien.menager on May 02, 2011 21:38:51\nThere may be a double encoding of your HTML file that would cause this.\n. From eclecticgeek on May 09, 2011 18:25:45\nCould be a transfer problem between the two machines. Have you checked the HTML on the server to make sure it display as expected?\nIf you can provide a sample HTML document and more details about your server (e.g. OS, PHP version, DOMPDF version) we'll take a look.\n. From fabien.menager on July 31, 2011 13:53:59\nWe'll reopen it if needed.\n. From eclecticgeek on April 22, 2011 19:58:47\nDOMPDF does support embedded fonts. I thought this was clear based on our discussion in Issue 249.\nThe built-in fonts currently only support iso-8859-1 (Windows ANSI, actually). This is one of the few standard character sets allowed in the PDF 1.3 spec. Because of this I'm not entirely sure what the full list of supported characters are for the built-in fonts. This is something we're looking into.\n. From wbeau...@gmail.com on April 22, 2011 22:50:18\nThen update your documentation so that it does not say \"Font embedding is not currently supported\" (dompdf_config.inc.php, lines 108-109).\n. From fabien.menager on April 22, 2011 23:37:51\nI think we meant \"font subsetting\", we'll fix it, thanks.\n. From eclecticgeek on April 23, 2011 00:53:56\nWow ... how did that comment get missed for so long? Thanks for pointing it out. Do you need any additional help with your font situation?\n. From wbeau...@gmail.com on April 23, 2011 01:07:13\nYes, but I don't know if you can help me because all I can say is that I've tried installing various fonts that are supposed to be Unicode-friendly and none work for displaying Cyrillic characters. Could it be something other than the font? I've checked the text I'm printing and I know it displays correctly in HTML (UTF-8 encoding).\n. From eclecticgeek on April 23, 2011 01:33:58\nIf you can supply a sample document we'll make sure it converts correctly. If that's ok, then maybe we can take a look at your PHP?\nThough there are really only a few things you need to enable support for Cyrillic, it's the details that can cause problems.\n. This issue is a duplicate of #10\n. From ukarr...@gmail.com on April 26, 2011 12:46:44\nI create a html table as used for the pdf (the last one on page one, which is truncated as described above) but with fake data. The CSS code is missing as well.\nThanks for you work, hope this helps!\n. From ukarr...@gmail.com on April 26, 2011 12:51:43\nAh i forgot, I re activate the parsing of inline PHP code in the HTML code and parse there the footer for the PDF with this code:\n``` php\n//Footer\n          $text = 'some pattern' ;\n          $pdf->text(23, $y, $text, $font, $size, $color);\n      $font = Font_Metrics::get_font(\"Helvetica\", \"bold\");\n      $date = date(\"D, d. M Y\");\n      $text = $date . \"  -  Page {PAGE_NUM} of {PAGE_COUNT}\";\n      $pdf->page_text(445, $y, $text, $font, 8, array(0,0,0));\n\n```\nThis caused no failure before, but maybe it is important. My idea: The missing rows from the table are not \"dropped away\", they just behind the footer (\"between\" the pages) so that they does not appear in the PDF.\n. From ukarr...@gmail.com on April 26, 2011 13:10:12\nI\u00b4m sorry. This is no issue, you can close it.\nIIRC in the old version the table was just split. Now I saw that in the beta 2 (if you use thead, tbody and tfoot) the table-head is just repeated on the 2nd page (when the table is split).\nSo it is no problem.\n. From fabien.menager on April 26, 2011 20:42:49\nOk, thanks for the completeness of your bug report : the bug ... and the solution ;)\n. From fabien.menager on May 02, 2011 21:20:13\nThis issue was closed by revision r388.\n. From eclecticgeek on May 11, 2011 17:09:10\nThe issue more than likely is a result of your configuration and not a bug in DOMPDF. Take a look at, for example, issue 265 for a discussion of enabling expanded character support.\nIf looking at that issue doesn't help re-post your question to the support forum:\nhttps://groups.google.com/forum/#!forum/dompdf\n. From fabien.menager on May 04, 2011 19:09:52\nWhen I add border-collapse: collapse or separate to a table, the borders are still displayed. Does the dom > table example render correctly for you ?\n. From kamalsomani on May 05, 2011 05:35:24\noh, sorry i was trying it on td, its working fine if applied to table.\nbut, I would like you to still look at the below\ncss\ntable td {border-collapse: collapse; border:1px solid black;}\ni know its not a property of td, but this makes border disappear, instead it should use default property and still show borders.\nhope you agree.\n. From eclecticgeek on May 11, 2011 17:18:56\nI think this might be best handled through widow/orphan control.\nhttp://www.w3.org/TR/CSS21/page.html#break-inside\n. From eclecticgeek on May 11, 2011 17:20:11\nMore than likely PHP is encountering an error. Have you saved the resulting file and viewed the source to see if any error is contained within it?\n. From eclecticgeek on August 09, 2011 21:39:55\nClosing for lack of information. Will reopen if additional details confirming the problem are posted.\n. From eclecticgeek on May 11, 2011 17:24:04\nI believe we do support inline-block, but you are correct about the added line. This appears to be a recently introduced bug, perhaps due to r388?\n. From matthieu...@gmail.com on May 11, 2011 18:26:06\nI have been using dompdf since May, 3 , corresponding to r388 so I had not used earlier versions. \nThanks to git I reverted several commits back and found part of the solution : \nfile frame_factory.cls.php, line 92, in the case \"inline-block\" edit  $reflower = \"Block\";  to $reflower = \"Inline\";\nNow the inline-block does stay on the same line but its width in PDF seems to be the width fixed in the CSS + the width of its textual content. \nSorry, currently no more time to investigate further : since I am totally new to this project I need to discover its inner workings before being really helpful. \nbr\n. From fabien.menager on May 11, 2011 19:16:34\nHello, no we never supported inline-block, but this is a very useful feature.\nI think we'll have to make a new type of reflower, something like InlineBlock_Frame_Reflower, because it is neither an inline nor a block.\n. From eclecticgeek on May 11, 2011 21:29:26\nWe perhaps haven't made any special effort to support inline-block, but it does appear to be supported on a basic level.\nHere a sample document with an inline block:\nhttp://eclecticgeek.com/dompdf/debug_tests/issue276.htm\nRendered in 0.6.0 beta 2:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue276.htm&dompdf_ver=0.6.0_beta2\nRendered in the latest trunk:\nhttp://eclecticgeek.com/dompdf/index.php?input_file=issue276.htm\nYou can see that the render is the same, except that beta 2 doesn't add an extra line break. In fact the render is almost correct for this test case. The biggest issue appears to be related to reflow, as you can see from the way the text is flowed separately from the containing box.\n. From fabien.menager on May 14, 2011 23:25:37\nYes, r388 effectively adds an extra lines after inline-block, I fixed it in r393\n. From eclecticgeek on May 11, 2011 17:30:10\nWould you be able to update to the latest 0.6.0 beta? Lots of changes have been made since the Helmut release.\nIf you can post a sample of the HTML being rendered that would help determining what's going on. Just FYI, the most typical cause of 500 errors on simple documents is a table cell larger than a single page.\nWe'll take a look at the xdebug.txt when we get a chance to see if there's anything of note.\n. From Hershe...@gmail.com on May 16, 2011 17:35:40\nTried that but unfortunately didn't solve the problem. :(\nAs far as the HTML, not it's rendered dynamically and it would be difficult I think to try to extra that.\n. From eclecticgeek on May 16, 2011 18:25:15\nDOMPDF 0.6.0 will return the working HTML document as a string if you call $dompdf->output_html().\n. From eclecticgeek on May 11, 2011 15:49:24\nThe PDF appears to have been rendered successfully (that's it at the bottom of the page). What you see is typically only shown when $dompdf_debug is set to true. Can you check that value in dompdf_config.inc.php?\n. _From eclecticgeek on May 11, 2011 16:20:17\nI don't see anything to profit from in your sample. There's nothing in the dompdf code that can't be seen publicly already (except maybe some info in dompdf_config.inc.php). Yes, in 0.5.1 there are some serious security problems, but we are working to improve the hardening of DOMPDF as a whole. In 0.5.2+ we have already provided the ability for users to restrict the directory from which files can be pulled for rendering (see DOMPDF_CHROOT).\nAdditionally, while we are working on making dompdf.php more secure we're leaning towards recommending that users not expose it publicly. Once 0.6.0 final is released we will complete the documentation, including information regarding security considerations.\nIf you have any suggestions for how to further improve security we'd be happy to hear them.\n. From fabien.menager on May 14, 2011 23:24:39\nThis issue was closed by revision r393.\n. From eduseba...@gmail.com on May 16, 2011 15:59:46\ni have the same problem, i'm working with version 0.5.1 and Windows 7.\nAdditional information:\nPHP Version 5.3.4\n. From eclecticgeek on May 16, 2011 18:20:23\nThe PDF may have been rendered correctly but, depending on your configuration, some non-PDF content may have been included in the PDF source. The easiest way to check for this is to open your PDF in a text editor and look for things like strings of HTML text.\nIf that's not the problem, it would help to see the PDF itself.\n. From deni...@gmail.com on May 17, 2011 16:47:37\n@eclecticgeek you were right. I had the php code inside of an html document with it's headers html tags and etc. Once I leave only the php code everything runs fine. Thank you.\n. From eclecticgeek on May 18, 2011 18:28:27\nGlad you were able to resolve your issue.\n. From sourabh....@sarvatman.com on May 25, 2012 09:34:00\nthis problem occurs when your server is not permit to write any file....so try to give permission to write load.html in dompdf/lib/fonts/log.htm\n. From far...@askwhyweb.com on May 17, 2011 11:33:56\nIn addition i am using the below code to get output\nThe print-inv.html contains the same above html that i have mentioned above.\n``` php\n$file=file_get_contents('http://127.0.0.1/pdf/print-inv.html');\n  if ( get_magic_quotes_gpc() )\n$file   =   stripslashes($file);\n$dompdf = new DOMPDF();\n$dompdf->load_html($file);\n$dompdf->set_paper('a4', 'portrait');\n$dompdf->render();\n$dompdf->stream(\"proposal.pdf\");\n```\nThanks\n. This issue is a duplicate of #98\n. From eclecticgeek on May 18, 2011 18:33:09\nBullet placement does appear to require some tweaking.\n. From fabien.menager on May 30, 2011 20:56:39\nThis issue was closed by revision r399.\n. From eclecticgeek on May 19, 2011 17:56:27\nThank you for pointing this out, addressed in r395.\n. From eclecticgeek on May 20, 2011 22:13:16\nAre you saying that adding the 200 header fixes the problem and makes it possible to access the PDF? If so that's extremely odd. DOMPDF doesn't add any status headers so I'm not entirely sure why you would get a 404 error. Is the site using any kind of framework or anything of that nature?\n. From sc0ttkclark on May 22, 2011 17:24:10\nI'm 100% certain that the system I'm using (using this inside a WordPress plugin) isn't sending the 404, as the headers_sent() checks and would fail if it had, and even then -- as soon as the PDF is sent to browser then dompdf exits.\nForcing the 200 solves the issue, so I'm not sure at this point how or why it was sending out a 404 before.\n. From eclecticgeek on May 23, 2011 03:43:30\nwhich Wordpress plug-in are you using?\n. From sc0ttkclark on May 24, 2011 18:08:31\nIt's a custom plugin, in fact I'm calling a PHP file directly for my purposes, so it's not passing through any rewriting. I didn't modify dompdf core besides sending the 200 header, otherwise as is it wasn't working.\n. From sc0ttkclark on May 24, 2011 18:09:31\nI should also note that technically, the PDF was sent out. For instance, I could see it in Google Chrome I believe, but Firefox and other browsers would show the default browser 404 page.\n. From eclecticgeek on May 23, 2011 19:30:53\nBy remote we mean references that include the domain portion (e.g. http://example.com/images/example.png instead of /images/example.png). To enable support for accessing resources using a full URL modify your dompdf_config.inc.php or dompdf_config.custom.inc.php so that DOMPDF_ENABLE_REMOTE is set to true.\n. From brikk...@gmail.com on October 10, 2011 08:21:08\nI had the same problem (remote images not being displayed), but it was solved by setting a correct and writable DOMPDF_TEMP_DIR in dompdf_config.inc.php.\nSuggestion: maybe add a little note to the documentation for DOMPDF_ENABLE_REMOTE, that the temp dir should be valid for remote images to work?\nRemote CSS files do not require the temp dir, so it seems.\n. From eclecticgeek on May 23, 2011 19:33:16\nThe proper location to look in for the source documents is dompdf/www/test.\n. From eclecticgeek on May 25, 2011 16:31:55\nCurrently image dimensions are affected by the DOMPDF_DPI setting, except when using certain units (e.g. points or percentage).\nHowever, when you specify a real-world dimension (such as mm) DOMPDF should probably not adjust the image dimensions based on the DPI. This is something we'll have to look at.\n. From fabien.menager on May 30, 2011 21:22:01\nThis issue was closed by revision r400.\n. From eclecticgeek on May 26, 2011 18:19:57\nThere does appear to be a typo in the variable reference. Addressed in r396\nThanks for the notice.\n. From fabien.menager on May 27, 2011 08:38:35\nYes, you are right ! My mistake :(\nWe'll fix it in the next rev, thanks !\n. From fabien.menager on May 30, 2011 20:56:39\nThis issue was closed by revision r399.\n. From lukecjco...@gmail.com on May 26, 2011 22:22:32\nHi\nI have investigated further and found that problem was caused by a configuration issue on my windows Vista dompdf install.\nOnce the configuration was fixed the performance issue went away. However, it did point out a possible problem, as follows: In class CPDF, function openFont the first piece of code uses the linux directory '/' separator to test the font file string. In my misconfigued case the string contained the windows '\\' separator and this code does not cater for this situation.\nI also noticed that there was possibly a typo in this function: there are 2 calls to file_exists in this function with similar parameters one of which should be incorrect\nfirst one  -> !file_exists(\"$dir/$metrics_name\")\n                                     ^\n     second one ->  file_exists($dir . $metrics_name)\nIt seems to me that the '/' is required or not, but should be the same in both cases?\nSo if this situation occurs legitamtely the test will fail and introduce an excessive performance overhead.\nIn conclusion, I guess this may be a non event in a properly configured system so  Issue 291 may be ignored/closed\n. From fabien.menager on May 27, 2011 08:40:19\nThis is clearly something we should investigate, file access is something we should do less, even with the \"stat\" cache.\n. From fabien.menager on May 30, 2011 20:56:40\nThis issue was closed by revision r399.\n. From fabien.menager on May 27, 2011 08:42:38\nHello, eval is not used anymore in the 0.6 version, but I think there are still create_function calls, which I think are the same as eval.\nAnd for the TCPDF adapter, you can simply remove it to compile your package, because it doesn't work and is not used, there is no plan to make it work for now.\n. From eclecticgeek on May 27, 2011 14:42:23\nI'm not seeing the same error on my system. You installed 0.6.0 beta 2 then updated it with the latest from SVN? Did you perform a merge on the files or replace them with the newer versions?\n. From fabien.menager on May 27, 2011 15:11:25\nThis may be a syntax error in PHP 5.2 and not in PHP 5.3.\nhttp://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/line_box.cls.php#130\nI admit this line is a little bit risky!\n. From eclecticgeek on May 27, 2011 16:50:53\nI was thinking the same about the syntax used.\nInitially I testing using 5.2.17 and 5.3.5 and I didn't receive the syntax error. I went back and tested in 5.2.1 and did, so this does appear to be an issue for early releases of PHP 5.2.x. We should modify the variable reference (and any similar ones) to use syntax that is a little less \"advanced.\"\n. From michele....@as.algeco.com on May 27, 2011 19:25:36\nI checked out latest SVN revision and uploaded as is on the webserver to check if all was ok and if the environment was suporting it.\nI see from your comments it's a bug related to early releases of PHP 5.2.x, glad the issue i've found can help you guys fix. dompdf is really a great tool.\nCheers \n. From fabien.menager on May 30, 2011 20:56:41\nThis issue was closed by revision r399.\n. From eclecticgeek on May 31, 2011 02:17:18\nJust to confirm, even with DOMPDF_CHROOT set to \"/\" you are receiving the chroot error? I ran a quick test using a file from www/test and did not experience any errors.\nFrom the error message it looks like $file is empty when it gets to the CHROOT check. Could there be a function somewhere up the line that isn't supported on your system (namely rawurldecode or realpath)? Which version of PHP are you running?\n. From jay.ben...@gmail.com on July 01, 2011 17:56:10\nhi I also have this problem\nDOMPDF_CHROOT is DEF as c:\\webservices via $PATHAPPLICATION \nThe files is is in C:\\Webservices\\admin\\content\\produits\\pdf_tool\\cache\\Working\\html\nI'm running as a command line script and calling the class directly \nI'm using the nightly build from 30/6/2011\nThe behaviour when running without debugging is that the creation of the PDF sits in limbo.  \nAt first i did't see this because the escape url was falling over silently, without causing the process to exit. when it run into a path like ...Working\\html\\page1-Randomname_html. \nI only caught the error after hooking up a debugger ... at first i thought i was dealing with the mystery infinite loop \nThanks Jay\n. From jay.ben...@gmail.com on July 01, 2011 18:02:50\nthe function was dompdf.cls.php -> load_html_file\nto work around comment out the check \n``` php\n$realfile = realpath($file);\nif ( !$file ) throw new DOMPDF_Exception(\"File '$file' not found.\");\n/BEGIN/\n//  if ( strpos($realfile, DOMPDF_CHROOT) !== 0 )throw new DOMPDF_Exception(\"Permission denied on $file.\");\n/END/\n// Exclude dot files (e.g. .htaccess)\nif ( substr(basename($realfile),0,1) === \".\" ) throw new DOMPDF_Exception(\"Permission denied on $file.\");\n```\n. From jay.ben...@gmail.com on July 01, 2011 19:27:07\nin frame_tree.cls.php\nThe rows section is stuck in a loop. I commented out appendChild($Row) to allow it to continue .. there was no obviouse issue. \nhowever it has not fixed my second infinite loop issue .. but i think thats stylesheet related. \n``` php\nprotected function fix_tables(){\n    $xp = new DOMXPath($this->_dom);\n/*$captions = $xp->query(\"//table/caption\");\nforeach($captions as $caption) {\n  $tr = $this->_dom->createElement(\"tr\");\n  $tr = $caption->parentNode->insertBefore($tr, $caption);\n  $tr->appendChild($caption);\n}*/\n\n$rows = $xp->query(\"//table/tr\");\nforeach($rows as $row) {\n  $tbody = $this->_dom->createElement(\"tbody\");\n  $tbody = $row->parentNode->insertBefore($tbody, $row);\n\n//      $tbody->appendChild($row);\n    }\n  }\n```\nFYI : this is not a fix ... it was just what i did to get the debugger to cont.. i dont understand the implication yet. \n. From eclecticgeek on July 07, 2011 04:00:28\n@jay.bennie the problem you're encountering with DOMPDF_CHROOT is case-related (c:\\webservices != C:\\Webservices). Since case is irrelevant on Windows we should either ignore case or check OS type and use the appropriate test.\nIf you still need help with your infinite loop head on over to the support forum. It's a known issue, so no need to post a new bug (unless your situation proves to be unique).\n. From heny...@gmail.com on May 31, 2011 22:55:48\nIt seems that explode function at include/style.cls.php line 948 not handled when var $this->_props[\"background_position\"] become the array.\nI have tried to handled with:\nphp\nfunction get_background_position() {\n    if(is_array($this->_props[\"background_position\"])\n         $tmp = explode(\" \", $this->_props[\"background_position\"][0]);\n    else\n    $tmp = explode(\" \", $this->_props[\"background_position\"]);\n    ...\nBut I get blank result on pdf.\n. This issue is a duplicate of #108\n. From heny...@gmail.com on June 01, 2011 03:57:34\nThanks for answering.\nBut I've still got nothing result when rendering pdf after I modified the get_background_position() function.\nI will try the nightly build, and come up with the result output.\n. From eclecticgeek on June 01, 2011 16:48:45\nThe TCPDF adapter hasn't been fully developed yet. We'll likely be removing it from the final 0.6.0 release. It may reappear in a future release.\n. From valentin...@gmail.com on January 11, 2012 07:56:26\nall missing functions:\nscale(),\nrotate(),\nsave(),\nclipping_end(),\nclipping_rectangle(),\ntransform(),\nget_font_baseline(),\nset_default_view(),\nset_opacity(),\nrestore(),\ntranslate(),\nskew()\n. From johngbel...@gmail.com on April 28, 2012 14:07:14\nThere are also some typos, where the terms $colour and $color are used storing up problems for later...\nPatch attached to convert all references to $color ; as a Brit this hurts :) \n. This issue is a duplicate of #98\n. From eclecticgeek on June 04, 2011 01:46:45\nYou're using DOMPDF 0.5.2? Is the HTML you posted what you used to create the attached PDF? I have been unable to duplicate your rendering. Could you post it as an attachment to this issue to avoid any modification of the document by the issue tracker?\nI see two issues that could affect your rendering:\n1) Your table cells are large and could be affected by Issue 91.\n2) When a table flows across pages auto-calculated column widths are not maintained, Issue 48.\nFinally, if you are using 0.5.2 we will not be releasing any patches. The solution would be to upgrade to 0.6.0, currently in beta.\n. From fabien.menager on January 12, 2012 20:22:07\nWe'll reopen it if the OP gives more info.\n. From eclecticgeek on June 04, 2011 02:04:47\nThe issue appears to crop up when content that has already been parsed on a page is flowed to the next page. It is parsed again and the generated content is re-applied. A good test case is when the generated content target element is in a table where the cell it is contained in is wholly rendered on the current page but a cell to its right causes the row to flow to the next page.\nSee the attached example.\n. From fabien.menager on June 23, 2011 20:23:57\nThis issue was closed by revision r406.\n. From u01jmg3 on June 24, 2011 14:22:45\nPerfect!\n. From fabien.menager on July 24, 2011 14:21:57\nHello, the barcode.gif file is a PNG (see the file header, with notepad for example). After renaming it to barcode.png, it works. Do you confirm this ?\n. From fabien.menager on October 23, 2011 14:47:04\nClosing this issue as I didn't get an answer for 4 months.\n. From eclecticgeek on June 08, 2011 18:27:27\nDOMPDF should be able to flow a table normally. The problem you are experiencing typically happens when an individual cell within a table won't fit on a page.\nSee Issue 91.\n. From eana...@gmail.com on June 09, 2011 16:56:38\nYou right, the problem was with an individual cell containig nested table.\n. This issue is a duplicate of #98\n. From eclecticgeek on June 08, 2011 18:24:19\nattaching test case\n. From fabien.menager on June 13, 2011 10:02:08\nYou'll need to change the tags in your script to something like this :\nalert(\"<\"+\"/html>\");\nOnly HTML5 parsers seem to handle this correctly, but we use the DOM extension, which uses an HTML 4 parser, that doesn't handle this well.\nA project like this http://code.google.com/p/html5lib/ could be used in the future to be able to make it work.\n. From fabien.menager on June 13, 2011 10:12:05\nOr at least put an HTML5 doctype ;)\nhtml\n<!DOCTYPE html>\n. From eclecticgeek on June 13, 2011 15:17:33\nNice, I didn't try the HTML5 doctype. Other doctypes are also a possibility so long as the script is enclosed in a CDATA section. Maybe we should write this off as due to poorly-written HTML and add a FAQ entry?\n. From eclecticgeek on June 10, 2011 16:41:33\nThat's a good idea and should be easily implemented.\n. From fabien.menager on June 13, 2011 09:42:19\nThis issue was closed by revision r403.\n. From eclecticgeek on June 15, 2011 16:57:41\nThanks for that. We'll take a look and implement for the next release.\n. From fabien.menager on June 19, 2011 21:10:54\nI fixed it in r404, to test if the image type is 3, 4 or 6, so the slow path will not be used when it is 2. This also fixes a few test cases (3 was not taken into account before), it's always good to read the specs ;) Thanks Peter\n. From peter....@solide-ict.nl on June 20, 2011 07:41:28\nI don't understand why the is_alpha check now includes 3. The spec says 3 means \"indexed-colour\", which means a palette (PLTE) chunk indicates the allowed colors, but the section on this PLTE chunk only mentions RGB but no alpha component.\nI see a mention of an optional tRNS chunk which is allowed for color types 0, 2 and 3 though. Perhaps the proper check is whether color type 4 or 6 is chosen OR a tRNS chunk is present. This is trick,y though. (but checking for 4, 6 or 3 seems just wrong to me)\n. From fabien.menager on July 24, 2011 14:16:23\nHello Peter, sorry for the very late reply, you are right, the check is still incorrect. I was misleaded by the tests in image_transparent_png that were better than before. \nThe handling of PNG is very bad in CPDF, we need to improve it to be less complex and treat each case separatly (with/without palette, with/without alpha, etc).\n. I think this was fixed in the master branch\nhttps://github.com/dompdf/dompdf/blob/master/lib/class.pdf.php#L4057\n. From fabien.menager on June 19, 2011 21:08:27\nI already noticed this and saw that it only happens with the built-in fonts (helvetica, times, etc) because they have different vertical metrics in the bold and the normal styles. \n. From arva... on July 11, 2011 20:29:46\nI lost a lot of time until I figure out that the wrong position of my text was because the BOLD tag. Can you check this bug, please??\n. From fabien.menager on July 12, 2011 21:03:24\nThis issue was closed by revision r411.\n. From eclecticgeek on June 16, 2011 16:36:45\nThis is something that will still require some kind of action on the part of the user, otherwise we would need to watch the directory. But, the process can certainly be improved and we are looking into it.\n. This issue is a duplicate of #188\n. From fabien.menager on June 19, 2011 21:02:06\nThank you for your bug report and for the solution, this was already fixed in r400 with an example file and will be in the next beta.\n. From eclecticgeek on June 20, 2011 17:34:32\nCan you share some sample code that exhibits the problem? I don't believe position:relative by itself is causing the problem, a simple page using this declaration display ok. It's probably a combination of the styles/content, but finding the problem is difficult without a sample.\n. From dxpst...@gmail.com on June 21, 2011 14:26:20\nUnderstandable, attached a bit of sample HTML that this was happening for.\nAnd here is the PHP code I am using to create the pdf:\n$page = file_get_contents('dompdf_ex.html');\n    $pdf = new DOMPDF();\n    $pdf->load_html($page);\n    $pdf->set_paper('a4', 'portrait');\n    $pdf->render();\n    $pdf->stream('inform.pdf');\n. From fabien.menager on June 21, 2011 17:31:08\nThis is fixed in the trunk, this was an issue related to stacking contexts (the stacking contexts of elements are used for z-index, absolute and relative positioning, opacity, etc).\nNote that the nth-child selector used in your document is not supported yet.\n. From eclecticgeek on June 21, 2011 18:07:00\nJust to confirm, see your document rendered with the latest code.. From dxpst...@gmail.com on June 21, 2011 18:12:05\nOops, I thought  took out that nth-child selector. But thanks for the prompt responses, maybe I will checkout a copy of the latest source and see how it all works together.\n. From fabien.menager on June 22, 2011 07:45:45\nPlease provide a sample HTML and your configuration file.\n. From josmed...@gmail.com on June 22, 2011 08:15:12\nThe configuration file and the html are \nattach. \nI hope you can help.\n. From fabien.menager on June 23, 2011 20:27:34\nI can't see any reason why you have these lines, did you try removing overflow: hidden from the table ?\nCould you try with the latest revision from the SVN trunk ?\n. This issue is a duplicate of #98\n. From cafe...@gmail.com on June 24, 2011 13:58:51\nSorry for my bad english :)\n. From eclecticgeek on June 24, 2011 14:55:23\nIf you look at your code, notice that the last line of the HTML document string ends with a concatenation character (a period) instead of a line ending (a semi-colon). This causes the $tamanho variable to be appended. Since $tamanho is an array, concatenating it will cause the text \"Array\" to appear.\nJust fix that minor error and the issue should be resolved.\n. From cafe...@gmail.com on June 24, 2011 15:23:45\nThank you eclecticgeek! I really haven't saw this :D\n. This issue is a duplicate of #55\n. From m.narend...@gmail.com on June 27, 2011 13:12:14\nThis markup has been written in DIV structure, not in tables.\n. From eclecticgeek on June 27, 2011 18:29:25\nI think it's safe to say that typically when talking about rowspan and HTML tables are inferred. Are these floated divs? Set to display: table-cell?\n. From eclecticgeek on June 27, 2011 18:34:32\nThanks for the info. We'll patch for the next release.\n\"Note: The GLOB_BRACE flag is not available on some non GNU systems, like Solaris.\"\nhttp://php.net/manual/en/function.glob.php\n. From a...@aerialdynamics.net on June 27, 2011 20:15:25\nGreat project by the way...  I'll try and contribute back via the issue tracker if I enhance or troubleshoot other items.\n. From marclaporte on January 06, 2012 01:09:54\nRelated link:\nhttps://dev.tiki.org/Online+Publishing+House+-+SVG+Drawings#SVG_to_PDF_conversion\n. From fabien.menager on January 12, 2012 20:13:43\nI would also add\nhttp://www.godisaduck.com/svg2pdf_with_fpdf\n. From ger...@bourdin.name on September 28, 2012 10:22:10\nwhy not using imagick to convert svg files in png format, as a quick workaround to this feature ?\nI am using dompdf for several years now, i would be glad to contribute.\n. From mar...@mgscreativa.com on September 28, 2012 14:06:53\nimagick certainly converts to PNG, but is a very basic convertion and no all hosting services provide it. In my case, my hosting provider refused to install needed addons for imagick to be able to convert SVG to PNG.\n. @oliverhuynh I totally agree, if you need help pushing to a Git clone, please tell us.\n. @bsweeney I agree with you. But this patch may be a good start (even if it doesn't have all the \"hard\" code we would need).\n@oliverhuynh can you send us the patch please ?\nWe could start a separate project like I did with php-font-lib, and get inspiration from fabric.js which includes a pretty good SVG parser + canvas renderer. PDFKit.js has also a part of what we want.\nThe PDF is basically like a Canvas, we already have a part of the methods required in Cpdf : line, curve, ellipse, text, transformations, etc. The \"path\" is still missing, but I think it's not really hard to add.\nSomething harder is integrating gradients, but still not impossible.\n. For your information, I'm currently working on a library to parse and write SVG files onto PDF documents, it will be used by Dompdf.\nHere is what will be possible : http://pxd.me/dompdf/dompdf_svg.pdf\nA few fixes need to be done (like text rendering but it's getting good).\nYou can follow the project here : https://github.com/PhenX/php-svg-lib\n. It's great to see so much support :)\nThere is a demo of the lib here : http://pxd.me/php-svg-lib/gui/debugger.php\nI'll write some doc if I see interest in using it independently from Dompdf, but it's use will be transparent in Dompdf, and will be probably in 0.7 beta 2\n. I just committed SVG support, in the develop branch, in 7f893801911d5b4dedc653e5074353a8c010ec20\nPlease tell me what you think, but for any issues with SVG rendering itself, please post issues or pull request in the dedicated project here : https://github.com/PhenX/php-svg-lib\nHave fun !\n. Did you have the time to try it ?\nPlease note that for now, only SVG in  tags are supported, what is the next priority for you ? \n- Embedded SVG \n- Better SVG support (gradients, clipping, etc)\n- CSS Backgrounds\n. Ok, could you send me examples of SVG files you'd like to use with dompdf ? I'll work on it wo it looks good.\n. Hi, I have a solution for this problem, can you open an issue in PhenX/php-svg-lib please so that I can post the solution ?\n. From fabien.menager on July 06, 2011 11:00:55\nHello, I can't understand yor problem.\n. From fabien.menager on July 06, 2011 11:00:24\nHello, what version of DOMPDF are you using ?\nCan you show an HTML document having this problem ?\n. From michele....@gmail.com on July 06, 2011 15:27:15\nHello,\ni'm using the 0.6 beta 2 version downloaded from the site. The error \noccurres whatever document i try to convert, even the simple html which \nis in the demo page:\n``` html\n\n\n</p>\n<p>/<em> Type some style rules here </em>/</p>\n<p>\n\n\n Type some HTML here \n\n\n```\nthanks\nIl 06/07/2011 13:01, dompdf@googlecode.com ha scritto:\n. From eclecticgeek on July 07, 2011 03:40:03\nThis might be a problem specific to PHP 5.0.x. The last comment on the following bug report seems to indicate that the way PHP handles this case may have changes between 5.0.x and 5.1.x\nhttps://bugs.php.net/bug.php?id=28814\nI haven't found anything other related information yet.\nBut even if we ignore that problem I think we might consider removing the \"parent\" argument from Stylesheet::create_style(). For every instance I found where create_style() is called no argument is passed. Additionally, create_style() creates a new Style object and passes the parent argument as a second argument to the Style object constructor. But the Style constructor doesn't accept a second argument. So it seems pointless unless I'm missing something?\n. From fabien.menager on July 06, 2011 11:02:17\nHello, can you try with the latest beta or even better with the version from the SVN trunk ?\n. From capoeiri...@gmail.com on July 06, 2011 14:34:09\nI just downloaded the version from the svn trunk.\nI tried running the app again and now it fails completely, giving me the dreaded \"Frame not found in cellmap\" message. (Complete error message pasted at the bottom of this comment.)\nI read up on it a bit and it seems to happen when divs span over more than one page, but with my code, that is not the case.\nAny suggestions on what this may be, before I start going through my whole code?\nThank you.\nM.\n```\nFatal error: Uncaught exception 'DOMPDF_Internal_Exception' with message 'Frame not found in cellmap' in /home/vg-victory/web/virtuegroup.info/dompdf/include/cellmap.cls.php:227 \nStack trace: \n0 /home/vg-victory/web/virtuegroup.info/dompdf/include/table_cell_renderer.cls.php(83): Cellmap->get_spanned_cells(Object(Table_Cell_Frame_Decorator))\n1 /home/vg-victory/web/virtuegroup.info/dompdf/include/renderer.cls.php(315): Table_Cell_Renderer->render(Object(Table_Cell_Frame_Decorator))\n2 /home/vg-victory/web/virtuegroup.info/dompdf/include/renderer.cls.php(149): Renderer->_render_frame('table-cell', Object(Table_Cell_Frame_Decorator))\n3 /home/vg-victory/web/virtuegroup.info/dompdf/include/renderer.cls.php(217): Renderer->render(Object(Table_Cell_Frame_Decorator), false)\n4 /home/vg-victory/web/virtuegroup.info/dompdf/include/renderer.cls.php(217): Renderer->render(Object(Table_Row_Frame_Decorator), false)\n5 /home/vg-victory/web/virtuegroup.info/dompdf/include/renderer.cls.php(217): Renderer->render(Object(Table_Row_Group_Fr in /home/vg-victory/web/virtuegroup.info/dompdf/include/cellmap.cls.php on line 227\n```\n. From capoeiri...@gmail.com on July 06, 2011 15:04:27\nOk, I fixed the frame not found issue and once that was out of the way, the new version seems to have helped with the background image issue.\nGot another couple of problems now, but I'll work on them a bit and if need be, I'll open another ticket.\nThanks for your help.\nM.\n. From eclecticgeek on July 08, 2011 03:15:49\nThe original problem would have been caused by an element that was too tall for your page size. The element causing the problem (possibly your background image?) was taller than a landscape page but not a portrait one, which is why you only encountered the error when you used $dompdf->set_paper('letter', 'landscape')\nIt's still an issue we need to address, but I'm glad updating to the latest code helped.\nWe don't have an issue posted that covers this particular case. So I'm going to keep this one open (with a modified summary). I'm still a bit vague on the exact cause, though. Most likely cause: an inline element that's too big (e.g. an image)?\n. From eclecticgeek on July 09, 2011 03:08:11\nI believe your issue is due to the use of span tags for your inner positioned elements. DOMPDF does not current support positioning these unless you explicitly indicate they should be displayed as block elements. The other option would be to use div instead of span.\nCheck out the following example with the span elements correctly positioned:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=cf83d74b5f94950812848adb97e9c887\nWe'll have to look into the positioning problem a bit more to see if inline elements really need to have the display explicitly set to block. Safari positions the span elements even without this declaration. Perhaps DOMPDF should automatically switch to a block view for absolutely-positioned elements.\n. From fabien.menager on August 21, 2012 21:28:44\nThis issue was closed by revision r498.\n. From freecorv...@gmail.com on July 06, 2011 23:24:24\nSorry, I hit Enter accidentally before posting the full description. This is posted as Issue #326 , you can close this issue.\n. From fabien.menager on July 07, 2011 06:04:49\nHello, as you are using the SVN version, you can use the other methods to have headers and footers : \nMy header\nwith this style :\n``` css\nheader {\nposition: fixed; \n  top: 50px; \n  left: 50px;\n}\n```\nYou can also add a page number in this element (or any other element, like in a footer div, with a \"bottom\" proprerty) : \n``` css\nfooter:after {\ncontent: \"Page \" counter(page);\n}\n```\nSee the examples CSS/content and CSS/position_fixed here\nhttp://pxd.me/dompdf/www/examples.php\n. From freecorv...@gmail.com on July 07, 2011 17:31:12\nThis is great, worked perfectly! Thank you.\n. From eclecticgeek on July 14, 2011 03:52:07\nThe reason you are unable to use characters that do not fall within iso-8859-1 encoding is that the PHP evaluator class first parses any inline PHP with the utf8_decode() function. This function converts a string to iso-8859-1 and any non-translatable characters are converted to a question mark (?). See here: http://us2.php.net/manual/en/function.utf8-decode.php\nYou can work around this limitation by hex-encoding the strings in your script. Of course, that means you have to dynamically generate your inline script and convert any problem characters (or know how to write in hex, fileformat.info is your friend if you want to try).\nAs an example of converting a string in PHP, the following code converts all the characters of the $str variable into their hex representation:\nphp\n  $str = '\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0430\u043d\u0435';\n  $hexstr = '';\n  for ($i=0;$i<strlen($str);$i++) {\n    $hexstr .= sprintf('\\\\x%lx', ord($str[$i]));\n  }\n  echo $str , '=' , $hexstr;\nIf you past the resulting hex string into your inline script you will get the expected output. See here:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=a6592dbc0b2f300737cb39d9fedef89b\n\nI'm reopening this issue because I think we should make a determination as to whether or not parsing the inline script with utf8_decode() is necessary. Fabien, do you know of any reason for the parsing? I didn't see any problems after a cursory test (I even used a multi-byte character in a variable name). However, I was not thorough and I can imagine the possibility of problems if PHP is parsing multi-byte characters as part of the code (i.e. not as variable content). On the other hand, nobody should be processing PHP code that they themselves did not write, so the harm should be minimized.\n. From eclecticgeek on April 16, 2012 22:21:52\nSince there have been no objections or further thoughts I modified the way inline scripts are handled so that they are no longer parsed by utf8_decode(). If anyone sees any problem because of this change please post a follow-up here.\n(addressed in r491)\n. From freecorv...@gmail.com on April 17, 2012 19:46:39\nConfirming that the original problem is fixed in trunk rev 491. Thanks!\n. From fabien.menager on July 07, 2011 16:59:12\nHello, this may not be more difficult than just taking an image from the Flash object. I think the flash object that draws the chart requires Javascript to be executed, and Dompdf doesn't execute Javascript.\nThis may be easier to use a server side library for your charts, and insert them as regular  tags.\n. From capoeiri...@gmail.com on July 11, 2011 15:38:18\nThank you for the reply Fabien.\nIn this case, JS is not assisting the creation of the object, as it's all being dynamically passed via URL variables.\nI am also looking into other server-side options. Unfortunately, most of those require access to the fla file one way or another, which is something I do not have.\nM.\n. From fabien.menager on July 12, 2011 06:14:52\nOk for the JS.\nI thought about server side scripts written in PHP or the langage that you use on your server. There are a few ones in PHP like http://jpgraph.net/ http://graphpite.sourceforge.net/ or http://www.pchart.net/\n. From capoeiri...@gmail.com on July 12, 2011 13:40:13\nYeah, jpgraph is the one I'm looking into just now.\nThanks again.\nM.\n. From mechjag...@gmail.com on July 07, 2011 20:17:25\nI need to clarify this, it isn't the alignment but sizing when using a height percentage.\n. From fabien.menager on July 12, 2011 21:24:23\nThis issue was closed by revision r412.\n. From eclecticgeek on July 13, 2011 03:27:53\nIs DOMPDF_ENABLE_REMOTE set to true? Also check that your web server has read/write permissions on the path specified by DOMPDF_TEMP_DIR. Any PHP errors?\nFinally, can you provide a URL for one of the barcode images, or attach it to this issue. There's always a possibility that something about the issue is causing problems for DOMPDF. There have been some changes to image handling since 0.5.x.\n. From fabien.menager on January 12, 2012 20:24:25\nWe'll reopen if we have more info from the OP.\n. From fabien.menager on July 21, 2011 13:03:42\nThis issue was closed by revision r420.\n. From fabien.menager on July 21, 2011 13:03:54\nThanks !\n. From eclecticgeek on July 27, 2011 22:56:12\nDo you have a sample of the HTML that's causing the problem? If you can't supply anything, you should check that your document validates. DOMPDF can be finicky about document structure.\n. From fabien.menager on July 31, 2011 13:32:21\nYes, this should not be very hard to implement, we'll take care of this. In fact I thought this was already supported!\n. From bwdut...@gmail.com on October 27, 2011 22:34:02\nMy company will pay a $250 bounty to get this fixed by Nov 8th, either a patch to 6beta2 or in an updated release.\nThanks,\nBrad\n925 804 2513\n. From eclecticgeek on October 28, 2011 03:58:41\nWe won't have a new release for a little while yet, but the issue has been addressed in the developer code (r430). You can download the latest code to get the fix, but be sure to run test cases. You can download via the code repository or get a nighty archive here: http://eclecticgeek.com/dompdf/\nA brief look at the fix and I don't think it would be difficult to back-port to beta 2 if you would rather stick to released code.\n. From bwdut...@gmail.com on October 28, 2011 16:35:24\nLooks like it's working ok, where do we send the check or should we use the donate link on the home page?\n. From eclecticgeek on October 28, 2011 17:49:11\nYou can use the donate link, we appreciate your desire to support the project.\n. From ukarr...@gmail.com on July 28, 2011 15:21:59\nIs there some important write permissions (other than lib/fonts/) or some special grafic libraries which are needed for generating the PDF?\nBut JPEG works fine ...\n. From fabien.menager on July 31, 2011 13:34:14\nEverything is checked in the config/setup script at dompdf/www/setup.php\nIt looks like this : http://pxd.me/dompdf/www/setup.php\nThe GD2 library is required.\n. From ukarr...@gmail.com on August 08, 2011 11:51:14\nI checked it and seems to be all like domPDF need it. On my local machine (Windows; where the PDF output works) is no APC available, but that seems to be no problem.\nBut on the test server (SLES) it returns a white page. I would expect when an error occur, that domPDF outputs something in the log file, but there\u00b4s nothing.\nAnd as well ther is no output what domPDF do, so no indication where the problem is / where dompDF stops.\nIt seems that domPDF just stop working somewhere, that\u00b4s why no PDF but a white page is returned.\nI have no idea ... :(\nOn the local machine it works, on the test server (in both cases same DB) it works not. The problem must be in combination with the content (comes as well from the DB), but I do not understand why it works locally and not on the server. Without an error message or a logging it\u00b4s really hard to debug!\n. From eclecticgeek on August 09, 2011 17:43:14\nOn your server do you get a blank PDF or what appears to be a blank HTML page? It sounds like an error is happening that's halting rendering. DOMPDF doesn't modify you log settings so if an error is encountered you should be able to find it in the usual log file for your server.\nYou can always try enabling log display manually in your PHP:\nini_set('display_errors',true);\n. From ukarr...@gmail.com on August 10, 2011 13:01:18\nYes it is just a white (empty) HTML page which is returned, because domPDF dies during processing/rendering.\nI enabled display_errors (I think it is anyway activated) ... but it does not work. No errors in the apache logs as well as in the dompdf fonts/log.html. :(\n. From eclecticgeek on August 10, 2011 17:19:05\nWe have seen some instances where bugs in PHP will result in a fatal error/core dump, meaning that no errors are displayed to the web browser. Depending on your configuration this could result in an error being logged to the apache error log. I don't believe this is something we've seen on your version of PHP.\nDo other image formats (GIF, JPG) work?\n. From ukarr...@gmail.com on August 16, 2011 08:43:15\nYes, other images work. I put a header image into the PDF template via img-tag and absolute path.\nThe strange thing is, that it works local on Windows with XAMPP. Now I test again against the pre-requirements domPDF needs (your link above).\nHere are the differences between my local XAMPP installation and the test server with Linux (test/local):\n- PHP Version: 5.2.14 / 5.3.5\n- APC: suhosin.apc_bug_workaround Flag available but is OFF / no APC (no suhosin)\nAnd as well, one machine is linux, the other is Windows. But export other pages as PDF works fine. It is only one page. I make as well a echo from the HTML source code (I put to the pdf_create() function) ... but I see no things which would be a problem.\nNeither special CSS classes nor special HTML things.\nOnly one floating and a PNG image.\nBut when I remove the floating div with the PNG image inside it does not work either.\nActually the PDF output local with XAMPP works, as well with PNG and that floating div (it is just not shown in the PDF, e.g. because it is a PNG!? I don\u00b4t know).\nNo more information available at the moment ... :(\n. From ukarr...@gmail.com on August 16, 2011 13:42:35\nSome more information.\nThe apache log (and FF extension Live Headers) shew me, that the HTTP Status-Code is 200 (seems to be okay) but then only a length of 2 (bit?) is sent.\nNo error code in the apache logs.\nI seet debug mode for apache on as well and get no error. Just a 200 Code.\nFrom CodeIgniter I got as well no error message.\n. From eclecticgeek on August 16, 2011 18:24:32\nIt's not too surprising you would have different experiences on the two machines. The PHP libraries will vary between linux and Windows and there could be a bug in the library on your SLES server. Can you attach the problematic page/image?\nAlso, can you try a variety of PNG images to see if there's one particular type causing problems? You can find a test suite of PNG images here: http://www.schaik.com/pngsuite/pngsuite.html\n. From ukarr...@gmail.com on August 18, 2011 07:35:33\nThanks for the PNG information.\nBut I\u00b4m not sure if this really helps. Because there is only one PNG image in the HTML Code and it comes out of the DB. And I removed it there to be sure and domPDF is still (without the PNG) returning a white page.\nSo my first thought that the png is the problem seems not to be right. It\u00b4s very confusing.\n. From eclecticgeek on August 18, 2011 17:42:54\nSince you're not getting any kind of error message things are going to be difficult to debug. So now it comes down to some step-by-step debugging:\n1) render a simple \"hello world\" style document\n1) grab your db content end echo to the browser (don't load DOMPDF)\n2) grab your db content, instantiate DOMPDF\n3) 1+2+load the HTML into DOMPDF\n3) 1+2+3+echo $dompdf->output_html()\n4) 1+2+3+$dompdf->render()\n...\n. From ukarr...@gmail.com on August 30, 2011 12:59:57\nHi.\nThe problem is solved.\nAs I wrote, I set the error reporting, but I got no error (neither nothing in the PHP Framework CodeIgniter nor in the Apache Logs).\nNow we start to debug the problem, we go back in the call hierarchy and set in the file include/dompdf.cls.php/render() a view echos and set the error reporting. We think that dompdf sets the error reporting back, so that we don\u00b4t see any errors.\nThe problem then was identified as a memory problem. We had just 2 pages with HTML tables (inside some colours, implemented in HTML with background colours via CSS) and domPDF said it needs more then 128 MB RAM.\nSo we set in the php.ini the attribute memory_limit to 256.\nI think it is really important that domPDF has an extra log directory for system and error logs.\nWould be really nice if that would be configurable in the config-files.\nThanks for your suggestions! :)\n. From ukarr...@gmail.com on August 30, 2011 13:03:35\nExtended informations.\nError reporting on the server is on, but dompdf seems to set the error reporting level to 0. So no error was displayed. Only setting it in the dompdf.cls.php/render() shows us the real problem.\n. From eclecticgeek on September 22, 2011 02:28:08\nDOMPDF can require extra resources to handle tables, especially if you have nested or page-spanning tables. We're still working to improve table handling for the next release.\nI don't know why you're not seeing errors, but so far as I know DOMPDF doesn't modify the error reporting settings. There are a few places where the error handler is changed, but errors are still reported. Have you double-checked your settings via phpinfo()?\nI'll close this issue since the problem has been solved. However, you might want to start a new issue/enhancement request related to error reporting. Certainly we have it in mind for the future, but nothing concrete yet.\n. From kzeni1 on February 15, 2012 01:08:48\nI too have this issue where PNG images with full alpha channels would have the image show as white while the alpha channel still displayed properly. Some investigation showed that the problem was the utilization of imagick. I found a fix that involves disabling imagick's PNG rendering.\nAdd the following to \"dompdf_config.custom.inc.php\" (so you can still choose to enable it if your setup is working fine):\ndefine(\"DOMPDF_ENABLE_IMAGICK\", false);\nChange line 4324 of \"class.pdf.php\" from:\nelseif (extension_loaded(\"imagick\")) {\nto:\nelseif (extension_loaded(\"imagick\") && DOMPDF_ENABLE_IMAGICK) {\nThis makes it so the configuration file is disabling the buggy PNG processor.\n. From eclecticgeek on February 15, 2012 03:22:12\n@kzeni1 ImageMagick use was only included in a release version of dompdf as of 0.6.0 beta 3. So I think your issue is probably different than that originally posted. Can you start a new bug report? It would be helpful if you could include information on your version of ImageMagick\n. From fabien.menager on July 31, 2011 13:36:59\nHello, which version of dompdf ?\n. From binarys...@gmail.com on July 31, 2011 13:56:11\nWe tried using both version of dompdf and they both output 500 internal server error.\n. From eclecticgeek on August 02, 2011 01:52:48\nI have encountered some situation where PHP will die and result in a memory dump on Dreamhost. I think when the script consumes more memory than allowed it just gets killed by a process watcher. Since you're not seeing any errors, this could be a similar type of issue.\nAt any rate it could, in fact, be something related to DOMPDF, but we wouldn't be able to tell without more details. Can you provide a sample document?\n. From joshua.f...@gmail.com on November 07, 2011 22:12:37\nThis happens to me as well with dompdf 0.6b2. It works great for 1 or 2 page documents but throws a 500 Internal Server Error when attempting longer documents. I should note that it works intermittently. Last week, I was able to get it to work by displaying fewer table rows per page. This week, without changing anything, it will error out 100% of the time.\nI attempted changing the script type text/php to text/dompdf as mentioned in similar report, but that didn't help the situation.\nHere's the output from setup.php, and I've attached a sample of the HTML that's giving me trouble:\nPHP Version 5.0  5.2.17\nDOMDocument extension   Yes  20031129\nPCRE    Yes  Yes\nZlib    Yes  1.1\nMBString extension  Yes  Yes\nGD  Yes Yes\nAPC Yes No. Recommended for better performances\n. From joshua.f...@gmail.com on November 07, 2011 22:14:35\nRe comment 4. I should mention that I'm on Green Geeks shared hosting with a 512mb Memory Limit -- not GoDaddy.\n. From eclecticgeek on November 08, 2011 01:54:06\n500 errors typically mean that PHP reported an error. If that's the case you're seeing the generic 500 message because error display is turned off. If you have error logging enabled you can find out the specific error there. Knowing what that error is will help isolate the problem.\nThat being said, it sounds like you're probably running into memory issues. The easiest fix is to increase the PHP memory limit. If that's not possible, you could try modifying your HTML to use fewer tables (dompdf is still in need of quite a bit of optimization related to table rendering).\nFYI, I was able to render your document without any issues.\n. From joshua.f...@gmail.com on November 08, 2011 23:08:32\nYou're right on, eclectic.\nGreen Geeks is ridiculously stingy with resource usage--they'll limit your limits and not be able to tell you when or why or how you exceeded them.\nAnyway, in the script, I upped the PHP memory_limit to 128M, and it rendered without a 500 error.\nSo now I begin the resource limit dance with the host.\n. From eclecticgeek on November 09, 2011 19:36:17\nGlad you were able to work out that particular issue. Hopefully you won't run into any others.\n. From gopal.sa...@bminfotech.in on March 02, 2012 06:39:41\nHELLO every one, I cann't remove error \"500 internal server error\",\nI think it is the problem of dompdf library,\nPlease help me.\nThanks\nGopal\n. From eclecticgeek on March 03, 2012 03:39:02\n@gopal please post to the discussion forum so we can better help you with your problem.\nhttps://groups.google.com/forum/#!forum/dompdf\n. From rashid...@gmail.com on March 13, 2012 21:38:41\nThis happens for the memory limit of server and the maximun execution time.\nThere's that increase these, for example:\nini_set(\"memory_limit\", \"999M\");\nini_set(\"max_execution_time\", \"999\");\nDo this before you instantiate the class, $dompdf = new DOMPDF();\nSorry for my English!\n. This issue is a duplicate of #141\n. This issue is a duplicate of #141\n. From eclecticgeek on August 02, 2011 01:57:31\nJust to follow up, font embedding actually embeds the font. So however large the font is, that's roughly how much larger your rendered PDF will be. Adding support for a font into DOMPDF and then specifying it in your document will result in it being embedded.\nWe have in a request to add font sub-setting, and definitely plan to support that in a future release. This would significantly decrease the size of most documents with embedded fonts. We've also looked at the possibility of using fonts without embedding them, though this line of development is currently on hold.\nIn the meantime, to keep the PDF size light you can use one of the core fonts (Helvetica, Times Roman, Courier).\n. From eclecticgeek on August 02, 2011 01:57:31\nJust to follow up, font embedding actually embeds the font. So however large the font is, that's roughly how much larger your rendered PDF will be. Adding support for a font into DOMPDF and then specifying it in your document will result in it being embedded.\nWe have in a request to add font sub-setting, and definitely plan to support that in a future release. This would significantly decrease the size of most documents with embedded fonts. We've also looked at the possibility of using fonts without embedding them, though this line of development is currently on hold.\nIn the meantime, to keep the PDF size light you can use one of the core fonts (Helvetica, Times Roman, Courier).\n. From fabien.menager on August 02, 2011 20:37:44\nHello, I can confirm this issue. It is related to table rows containing only empty cells. \n. From eclecticgeek on August 03, 2011 01:02:46\nDo you think this is a regression of issue 70 or due to a new problem?\n. This issue is a duplicate of #77\n. From fabien.menager on August 03, 2011 13:28:26\nSo obvious that we didn't even see it! :) Thanks\n. From ls...@comtree.nl on August 03, 2011 13:39:25\nFrom the comments it wasn't very clear to me what you are trying to achieve, that's why I wasn't sure how to \"fix\" this issue, otherwise I would have supplied a patch file.\nI did temporarily out-comment the line to make it work.\nHopefully we will see a 0.6.0 beta 3 soon.\n. From fabien.menager on January 12, 2012 20:27:09\nThe latest revisions should fix it, is it ok for you ?\n. From eclecticgeek on August 08, 2011 17:37:00\nWhich version of PHP/libxml/DOM are you using? I'm not seeing the same thing on my server (PHP 5.3.4, libxml 2.6.32, DOM API 20031129).\nCan you create a simplified test document that duplicates the problem and post it? Also on your computer load that document into DOMPDF then use $dompdf->output_html() and post the results so we can see what has been loaded on your computer?\n. From fabien.menager on September 01, 2011 09:09:10\nI think the problem doesn't come from the zip files ;) They were already downloaded 25 000 times.\nTry from another place, if it still doesn't work, try the nightly here : http://eclecticgeek.com/dompdf/\n. From eclecticgeek on September 22, 2011 03:06:17\nThe trojan report is likely a false positive. We haven't received any other reports of that issue so we wouldn't be able to trace the problem or contact the vendor to address it.\nI just downloaded the tar+gz and it opened fine. Which version of WinRAR are you using? Might you try 7zip instead?\n. From fabien.menager on September 02, 2011 23:24:48\nProblem seen with the OP, it was not related with non ascii chars but table cells accross multiple pages.\n. From eclecticgeek on September 22, 2011 03:13:51\nSounds like you need help from the ground up. Try starting in the support forum:\nhttps://groups.google.com/forum/#!forum/dompdf\n. From eclecticgeek on September 22, 2011 03:19:02\nDo you mean to save it to your server? $dompdf->output() returns a string containing the PDF document. Once you get your PDF just use the PHP function file_put_contents() to save it locally.\nFor general support questions (such as this one) try the support forum: https://groups.google.com/forum/#!forum/dompdf\n. From eclecticgeek on September 22, 2011 03:22:03\nI've seen this happen in two different instances:\n1) CPDF can find no valid font metrics\n2) An empty table row (no content but spaces) breaks table rendering.\nThe problem outlined in the latter instance has been addressed.\nCan you supply a sample document?\n. From marco.d....@gmail.com on September 22, 2011 09:43:24\nI had tags opened and not closed so i'm really sorry but it was an html problem. once wrote the html again without errors the problem is solved and your lib works REALLY GREAT! MANY THANKS!\n. From eclecticgeek on September 22, 2011 17:01:15\nThanks for the update. Which open tags were causing the problem. DOMDocument is sometimes good about cleaning up problematic HTML, but not always. I don't know that we would address it, but depending on the nature of the code we might consider it.\n. From sa...@midsummerenergy.co.uk on September 09, 2011 15:25:45\nUpdate - oddly, when I uploaded the PDF here and checked it, it looked fine. It appears that the spacing problem is only apparent when opening the PDF in a browser on creation. When subsequently saved and opened in a PDF reader, there don't appear to be any problems.\nIt's still not really usable as it is however. Attached is a screenshot of how it appears in the browser.\n. From fabien.menager on September 19, 2011 17:39:18\nIsn't it a problem with the embedded reader in your browser? What browser and PDF reader plugin do you use ?\n. From eclecticgeek on September 22, 2011 03:25:31\nIt could also be the reader is addressing some issues with the PDF. I've seen this with Acrobat in the past. Instead of viewing in the browser just save. You can view it afterwards to confirm the issue, but don't save again from your viewer.\nAlso, as requested by Fabien, let us know which reader you're using.\n. From eclecticgeek on September 10, 2011 02:43:52\nUsing 0.5.x? We've made significant upgrades to the auto loader for 0.6.0. See the new code here:\nhttp://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/autoload.inc.php\n. From fabien.menager on September 19, 2011 17:56:45\nDo you apply headers and footers with inline PHP ?\nIf so, you can add a background with a filled rectangle drawn before the text :\n$color = array(1, 0.9, 0.9);\n  $pdf->filled_rectangle(0, $y, $w, 30, $color);\n. From eclecticgeek on September 22, 2011 03:46:41\nHard to say without further testing where the problem lies. I don't think it's with DOMPDF directly because I can render with 0.5.1 and 0.6.0 beta 2. In fact, you might consider upgrading to beta 2 because it does a much better job with your document. See here: http://eclecticgeek.com/dompdf/debug.php?identifier=1f0d9528dde26ba1ab889e50f91761e6\nLooking at the source of the PDF there appears to be some unnecessary character near the top of the PDF. These are probably related to your problem. So the question is where they come from. There could be a system library compatibility on your server. Or PHP may be throwing some kind of error. Or the DOMPDF files could have been corrupted somehow.\nSo first shot, try downloading a fresh copy of DOMPDF and see if that helps.\n. From greenpea...@gmail.com on September 30, 2011 11:17:34\nI've updated to beta, and now it works!\nI have still some problems with some special chars (like \u20ac) and CSS, I'll try to resolve them.\nThanks for all :)\n. From eclecticgeek on October 01, 2011 00:39:51\nIf you specify the correct character encoding you'll have better luck with your text. However, keep in mind that unless you've enabled Unicode support you'll only be able to use characters supported under Windows ANSI encoding.\nIf you continue to run into issues feel free to post to the support forum.\n. Thank you for the contribution, but this can be handled with position: fixed.\n. From eclecticgeek on September 23, 2011 02:25:55\nWe'll need more info. To start, which versions of DOMPDF and PHP do you have and what OS are you using?\nThis sounds like an issue that crops up when running under PHP 4. DOMPDF only runs under PHP 5.\n. From sravanj...@gmail.com on September 30, 2011 09:00:53\nI tried this in DOMPDF 0.6 beta 2 and in 0.5.2 also\nServer is working on php 5.2.17\nOperating system is linux (server)\nThe application working fine in my 'localhost'\nI have made no change , just extracted to my space and the error message shows when clicking 'examples' and 'demo'\nhttp://physicsguru.in/dompdf/www/examples.php\nerror message: \"Parse error: syntax error, unexpected ')', expecting '(' in /home/physicsg/public_html/dompdf/www/examples.php  on line 62\"\n. From eclecticgeek on October 01, 2011 00:34:35\nI would definitely recommend sticking with the 0.6.0 beta. There are a number of significant improvements there.\nI don't really see anything that would be causing errors such as you're experiencing, except, as I said, for possibly running under PHP 4. Can you put up a script that calls phpversion() to confirm?\n. From eclecticgeek on September 25, 2011 00:10:51\nSeems like a post for the support group:\nhttps://groups.google.com/forum/#!forum/dompdf\nDo you get any errors from PHP (check the error log). You mention doubts about the font. Have you installed a font? If so, modifications would have been made to dompdf/lib/fonts/dompdf_font_family_cache which would make your install less portable. Best bet is to install a fresh copy of dompdf on the server and re-install any fonts there.\n. From duongphu...@gmail.com on September 26, 2011 02:24:35\nHi, thanks for your comment.\nBecause, the PDF page is exported is blank, so I have a doubts like that.\nhttp://ezitsol.com/test/process.php =>blank page.\n\nMy code is here:\nphp\n$html = \"hello\";\nrequire_once(\"dompdf_config.inc.php\");      \n$dompdf = new DOMPDF();\n$dompdf->set_paper(\"a4\", \"portrait\");\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(\"dompdf_out.pdf\");\n\nWhen I run load_font.php, show that \n``` bash\n!/usr/bin/php Unable to locate the ttf2afm / ttf2pt1 executable (checked /usr/bin/ttf2pt1).\n```\nHelp me. please :)\n. From eclecticgeek on September 26, 2011 22:01:40\nUnless you're planning to install a new font I wouldn't worry about the load_font.php error. You get a PDF, it's just blank. So dompdf is running but somewhere along the line the text is not parsed correctly.\nPHP should be reporting an error somewhere, but your setting may be preventing it from being viewed. Try adding this to the top of process.php:\nphp\nini_set('display_errors',true);\n. From duongphu...@gmail.com on September 27, 2011 08:17:39\nHix hix \nMy code is simple:\n\n``` php\n<?php\nrequire_once(\"dompdf_config.inc.php\");\n$html =\"hello \";\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream('dompdf_out.pdf');\n ini_set('display_errors',true);\n?>\n```\n\nPDF_out file doesn't have any text, just have border of input tag.\nSee link: http://ezitsol.com/AMB/demo.php\nThis run well in Windows server, but have problem when i put in Linux\nCan I help me ? hix hix \n. From duongphu...@gmail.com on September 27, 2011 10:54:35\nI uploaded the  dompdf_0-6-0_beta2 on the Linux. But did not run ..\nhttp://ezitsol.com/dompdf_0-6-0_beta2/dompdf/www/examples.php\nPlease show me the reason make it cannot run. ! \nThank you!\n. From eclecticgeek on September 27, 2011 16:58:19\nWe still don't have enough information to tell what's going on. Some of the examples appear correct, and others not. We'll need to know what kind of errors PHP is running into. Have you enable error reporting to the browser? At the top of your demp.php file add the ini_set() command I mentioned earlier. Then comment out the $dompdf->stream() line.\n. From eclecticgeek on October 04, 2011 16:52:42\nCan you post the problematic document?\n. From weber...@gmail.com on February 08, 2012 14:13:21\nI also have this issue with large PDFs -- PHP crashes when it hits 512MB of memory.\nIs there a way I can store temporary data on disk instead of in memory?\n. From eclecticgeek on February 08, 2012 15:56:14\n@weberdan not at this time. It's something I think would be useful, but it will require a bit of work to implement. Doing this could have a significantly impact on rendering time depending on the document, but I think it could be a benefit for users on shared hosting.\n. From eclecticgeek on October 08, 2011 01:20:16\nThis is probably an issue with what you're passing to DOMPDF. Can you post the script that creates this PDF?\n. From fabien.menager on October 08, 2011 12:39:02\nYou need to set DOMPDF_ENABLE_PHP to true\n. From eclecticgeek on October 12, 2011 02:10:02\nWe've made some changes to the ttf2ufm directory. We'll need to update the path referenced by the configuration file, but really you should build your own copy of the file. We haven't done thorough testing on the version included ... it's just a placeholder at this point.\nHopefully for the final 0.6.0 release we'll have a better option built in.\n. From st...@sillybean.net on October 12, 2011 02:16:59\nAh. In that case, just mentioning the need to build a copy of the file in the installation instructions would help. I came away with the impression that it was all set to work as-is.\n. From eclecticgeek on October 12, 2011 02:20:05\nThat would also be a good idea. I think a binary might be included (I'll double-check when I address this issue), but I don't know that it's universal.\n. From fabien.menager on October 23, 2011 14:40:47\nThis is not really an issue, and we'll remove this dependency as we can generated UFM files with the php-font-lib now.\n. This issue is a duplicate of #61\n. From ydb1...@gmail.com on October 12, 2011 03:28:55\nAbout my patch: WARNING!  it might lead to infinite loop of trying to place too high \"cluster\" of successive \"dontbreak\" rows.\n. From eclecticgeek on October 12, 2011 02:18:56\nThe attached code doesn't indicate how the image is referenced in the image element's src attribute. Is it relative or absolute, include the domain or just with path information? As a first step, check to make sure your web server has read/write access to the DOMPDF_TEMP_DIR directory.\nAlso, browse to dompdf/www/setup.php to see a summary of your configuration and any possible problems.\n. From fabien.menager on October 23, 2011 14:44:44\nThis may be related to an issue with spaces in the src.\n. From redge...@gmail.com on January 26, 2012 09:52:53\nI came across the same bug when I used an absolute URL, e.g. \"http://example.com/images/myimage.png\" in the img tag. My workaround was to replace the absolute URLs with relative ones. BTW, this bug doesn't occur in version 0.5.2\n. From eclecticgeek on February 05, 2012 01:25:03\nredgeoff you've managed to work around your problem, however ... this may be related to a change in the default value for DOMPDF_ENABLE_REMOTE. In 0.5.2 this is true by default, in 0.6.0 this is false. Any URL that includes a domain requires this value to be true.\n. From redge...@gmail.com on February 08, 2012 10:03:13\nThank you! Setting DOMPDF_ENABLE_REMOTE to false also does the trick.\n. From eclecticgeek on October 12, 2011 02:05:43\nThis is true. dompdf currently checks for HTML4-style meta tags. We haven't looked into enabling HTML5 support for the 0.6.0 release, though we might be able to do so for the follow-up.\nIn the meantime we could probably add better support for various methods of indicating the character set.\n. From st...@sillybean.net on November 16, 2011 16:47:57\nI saw the new HTML5 support in trunk and I've upgraded, but now I'm getting a fatal error about the HTML5_Tokenizer class not being found. Do I need to explicitly include the html5lib files somewhere?\n. From eclecticgeek on November 17, 2011 19:15:17\nI'm not seeing the same problem. You shouldn't need to download the library, it's included in the code. How did you go about upgrading?\nFYI, the parser basically reads in a document and ensures appropriate structural format. A modification had to be made to a separate code segment to support the short meta tag format. This was included as of revision 430. You can utilize the new meta tag format without enabling the HTML5 parser.\n. This issue is a duplicate of #98\n. From eclecticgeek on October 14, 2011 17:06:17\nI'm replying to your post on issue #98 here since it's more relevant to your original issue.\nI went back and looked at your original document and was unable to find any unopened tables. Of course, it's a big document so I might have missed something. Or in the process of testing I might have inadvertently fixed that markup error.\nThen again, the W3C HTML validator didn't see any structural problems of that type in your sample document either. Are you testing with the same document you posted here (or with something generated dynamically)?\nEither way, incorrectly structured tables do present a problem for dompdf. Generally we recommend that you ensure your documents are structurally valid before passing them to dompdf. That eliminates a lot of problems.\n. From d...@deanmyerson.org on October 14, 2011 17:34:25\nYes, it's a large document and hard to find small errors like this. All I know is that by fixing this error in our system, dompdf is working 100% of the time on our site. Hopefully having this response available in searches will clue people in that doing an html validation is a good starting place when they have problems with conversions. Thanks for your quick responses on this issue.\n. From eclecticgeek on October 14, 2011 21:11:43\nRemoving duplicate status and modifying the issue summary to reflect the suspected cause of the error.\nExample Code:\nhtml\n<html><body><td>table cell</td></body></html>\nResulting Error:\nFatal error: Call to a member function get_cellmap() on a non-object in dompdf/include/table_cell_frame_reflower.cls.php on line 64\nThough the above code is structurally invalid, the same problem could result from the following:\nhtml\n<html><body><div style=\"display: table-cell;\">table cell</div></body></html>\nThe CSS spec outlines rules related to the generation of missing table objects.\nhttp://www.w3.org/TR/CSS2/tables.html#anonymous-boxes\n. From fabien.menager on October 23, 2011 14:42:05\nWe recently implemented an HTML5 parser that solves this issue, see here for more info : https://github.com/dompdf/dompdf/wiki/HTML5-Parser\n. From fabien.menager on October 23, 2011 14:43:50\nWe already use the SPL autoloader : http://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/autoload.inc.php\nOr I didn't understand your problem.\n. From eclecticgeek on October 20, 2011 15:46:06\nYou could define the body margin to be larger than the header. Body margins affect HTML content but not content created through inline script.\n. From gche...@gmail.com on January 11, 2012 18:27:24\nPlease notify me when this is supported!\n. From pierro.l...@laposte.net on February 16, 2012 16:18:20\nIs it ?\n. From fabien.menager on February 18, 2012 11:46:55\nNo\n. From d...@sheepdan.net on April 04, 2012 15:39:11\nIs there an ETA on this? It would greatly simplify some code I'm writing.\n. From fabien.menager on April 05, 2012 11:51:52\nThere is no ETA for this as we spend more time on highly demanded issues.\nhttp://code.google.com/p/dompdf/issues/list?sort=-stars\nBut you are welcome if you want to help us for this ;)\n. From d...@sheepdan.net on April 11, 2012 11:42:46\nOK, I've got something working. It's not 100% complete, but it does what I need, and probably what most people need.\nSUMMARY\nIt handles attributes such as:\n  border-radius: 10px;\n  border-radius: 10mm;\n  border-radius: 10px 20px 30px 40px;\n  border-top-left-radius: 10px; (etc)\nIt doens't handle neatly eliptical corners (e.g. border-top-left-radius: 10px 5px;), or the scenario where the borders vary in colour or width.\nI'd appreciate if you'd check the setters in style.cls.php when you've got time, I'm not sure they're correct.\nCAVEATS\nI'm not sure how to merge this in...! I've not used google code before, but it looks like it's running on SVN? I'm used to source control, but I've not actually used SVN before.\nI've made my changes to 0.6.0.b3. Let me know how I should merge it. I'm happy to get SVN working and merge it into the tip, or I can zip and attach the code if you'd prefer.\nI've implemented it by drawing quadrants using clipping_rectangle() and circle(). I'd really have liked an arc() function, so I could draw eights of circles, and preferably an elipse_arc() function.\nI'm guessing that such functions do exist in the pdf libraries, but I'd need to dig into each of them and expose them to _canvas, which is a fair bit of work.\nTherefore, it won't neatly handle rounded corners where the border colours differ on the different sides. The corner will be all one colour. This also affects inset, outset, ridge, and groove styles - the whole corner matches one side. This would be fixed if I could find an arc() function.\nIt also does not handle eliptical corners, as there's no elipse() function on _canvas:\n  border-top-left-radius: 10px 20px;\n  border-radius: 10px 20px 30px 40px / 15px 25px 35px 45px;\nIt won't elegantly handle rounded corners where the borders are different widths on different sides. That's actually quite a tricky one, I think.\nIf used with a radius = 0 on some corners, and radius > 0 on some corners, the bevel will be lost on the corners with no radius (this could probably be fixed fairly easily).\nRounded corners with style double are slightly malformed. I think this could be fixed with elipse().\nI've refactored quite a bit of the _border_xxx code in abstract_renderer.cls.php in the process, reducing some redundancy, and hopefully making it easier to maintain and extend in the future. I hope that's ok.\nI've tried to preserve your coding style in my work, though you'll doubtless find some differences.\nI'm not sure if the setters for the border-radius are implemented correctly; I didn't 100% understand the mechanisms behind them. They seem to work, but I've not done anything about !important - I wasn't sure if that needs passing through or if that's taken care of automatically.\nDotted and dashed styles continue to be dotted/dashed on the corners (though the dots seem to stretch a bit), whereas firefox shows them solid on the corners. This is probably an improvement over firefox?\n. From d...@sheepdan.net on April 11, 2012 11:43:17\nExample Output\n. From fabien.menager on April 11, 2012 14:14:43\nMan, this is a very good start! \nI strongly recommend you to checkout the source code from the trunk : http://code.google.com/p/dompdf/source/checkout\nand give us a patch with the code you changed.\nAs you said, we'll need to add \"arc\" methods to the canvas classes, I'll take care of it. Do you handle background clipping?\nKeep up the good work, I can't wait to see your patch!\n. From d...@sheepdan.net on July 30, 2012 15:51:15\nHere's the updated files if anyone wants them.\n. From jonathan...@gmail.com on August 06, 2012 21:09:47\nThis works great except for two issues that i have seen. First, no background clipping. Not much of an issue where the background color of the element is the same as the background color of the page. You won't notice it then. Second is that when doing a colored border, in the upper left corner there is always one eighth segment that is black. Keep up the good work.\n. From fabien.menager on August 07, 2012 07:57:35\nI'm currently integrating the changes Dan made, with a few optimizations and correction (like background clipping and the top left corner remaining black).\nI thought this was a good way to get back into dompdf's code ;)\n. From fabien.menager on August 07, 2012 12:59:57\nThis issue was updated by revision r496.\nThere are still issues with the PDFLib adapter, but background clipping and the top left border bug are fixed with Cpdf\n. From d...@sheepdan.net on August 07, 2012 13:10:43\nSorry for those bugs, not sure what's up with the black segment, I've seen all segments the correct colour in my tests, so it might be a combination of css settings I didn't test. I didn't do much testing with different colours or widths on different parts of the border (though I did check different radii), and most of what I was doing was with circular borders, with no straight segments.\nBackground clipping should be working, at least on images; I've probably not tested it with background-color. If it's not working with images, I must have uploaded the wrong version. If background images are working but not background-color, then the background-color needs moving inside the clipping.\nOne thing I didn't do, but I think needs to be done, is to correct the draw order.\nI think it should be:\nOverflow visible: start clipping, background, stop clipping, border, content\nOverflow hidden: start clipping, background, content, stop clipping, border\nI can't remember what the current order is, but I don't think it's correct.\n. From fabien.menager on August 07, 2012 13:14:52\nJust do an SVN update and you'll see how I changed your code ;)\nBackground color and image clipping were not in your code, but it was easy to implement.\nhttp://pxd.me/dompdf/www/examples.php > border_radius\n. From rfoge...@gmail.com on August 08, 2012 16:34:06\nJust to let u know, border-radius doesnt work on images, atleast not on string images > <img src=\"data:image/png;base64,TEXTEXTEXTEXT\"/>\n. From fabien.menager on August 09, 2012 11:56:37\nYes, in fact it works, but they overflow on the corners, I'll fix it.\n. From eclecticgeek on October 20, 2011 15:53:51\nThere's not really any way to prevent page breaks. Your best bet is to clean up the HTML so you don't have any empty elements at the end.\nIf you can't clean up your HTML you could try surrounding your content with a div that has a set height and overflow set to hidden. It would help to provide a more relevant solution if we could see the source HTML document.\n. From rob.mobi...@gmail.com on November 02, 2011 11:30:12\nthanks for that hint.\nWhat about JS - it seems if I try to add a class via jquery, the class isn't added at the right time - added to late!.\nI tried inline js without success. Would it be possible to set a \"delay\" on the pdf creation, to wait until the jquery stuff is added?\n  \n$(document).ready(function(){\n$('.print_node').addClass('red');\n})\n\n. From fabien.menager on November 02, 2011 12:17:10\nDompdf does not support execution of JavaScript such as jQuery or even any other common JavaScript framework.\nWhat would you like to do ?\nPDF documents can embed JS code, but it cannot be used to change the document's style like you would like to as it does not support the same APIs as the JavaScript engine that is in internet browsers.\nFor more info : http://www.adobe.com/devnet/acrobat/javascript.html\n. From rob.mobi...@gmail.com on November 03, 2011 09:32:36\nHi fabien, \nI have a few pages, that should merge to a pdf. Now I try to manage the page-break. If I \"hard-code\" the page break class into the html the page break is working, but how avoid the page break on the last \"views-row\".\nThis views rows are a list from drupal views . Now I try to set /remove the page-break class via jquery to avoid the page-break on last page...\n. From fabien.menager on October 23, 2011 14:04:54\nHello, some Linux distibutions don't have this extension be default, see this comment in PHP docs : \nhttp://www.php.net/manual/fr/dom.setup.php#102046\n. From eclecticgeek on October 25, 2011 00:20:11\nYou probably have content buffering turned on and PHP is reporting a notice or warning. You should disable content buffering and/or set display_errors to false in order to avoid this particular problem.\nYou can see the value of the error produced by opening the PDF produced in a regular text editor (notepad, textedit, vi, etc.).\n. This issue is a duplicate of #91\n. From fabien.menager on October 25, 2011 11:40:09\nWe need the HTML code you want to convert in order to help you.\n. From patil.sh...@gmail.com on October 29, 2011 09:37:55\nThe pdf i have generated is from primo pdf with dompdf everything goes wrong.\n. From patil.sh...@gmail.com on October 29, 2011 09:40:00\nVersion: 0.5.1\nOS: CentOS\n. From eclecticgeek on December 07, 2011 03:10:24\nWe don't recommend using 0.5.1 if you are at all able to upgrade. The overall styling of the document is better in 0.6.0 beta 2, but in the latest code there appear to be some structural problems we'll need to address.\nThank you for the sample code. Complex documents like this can help us track down difficult issues in the code.\n. From fabien.menager on January 14, 2012 15:05:11\nThis issue was closed by revision r452.\n. From eclecticgeek on January 15, 2012 02:51:18\nBeat me to it! I had a solution sitting on my server, but hadn't tested it fully yet. For reference:\ncase \"media\":\n  $acceptedmedia = self::$ACCEPTED_GENERIC_MEDIA_TYPES;\n  if ( defined(\"DOMPDF_DEFAULT_MEDIA_TYPE\") ) {\n    $acceptedmedia[] = DOMPDF_DEFAULT_MEDIA_TYPE;\n  } else {\n    $acceptedmedia[] = self::$ACCEPTED_DEFAULT_MEDIA_TYPE;\n  }\n  $specifiedmedia = explode(',', $match[3]);\n  foreach ($specifiedmedia as $media) {\n    if ( in_array(mb_strtolower(trim($media)), $acceptedmedia ) ) {\n      $this->parse_sections($match[5]);\n      break;\n    }\n  }\n  break;\n. _From fabien.menager on January 15, 2012 11:01:19\nHehe :)\nDo you think it would be worth supporting @media features ?\nhttp://www.w3.org/TR/css3-mediaqueries/#media1\n. From eclecticgeek on January 16, 2012 00:48:22\nCertainly! The technique has really taken off lately. Plus the media queries seem like they shouldn't be too difficult to implement.\n. From fabien.menager on November 07, 2011 19:55:43\nSupport for word-wrap:break-word was only added in r391, a little bit after 0.6 beta 2, can you test with the SVN trunk ?\n. From eclecticgeek on November 08, 2011 01:22:31\nThis probably has to do with how table cell widths are calculated. I tried it inside a div and it rendered as expected:\nThistextisareallylonglonglonglonglongtext\n. From richa...@springload.co.nz on July 16, 2012 00:59:45\nThis bug is still present in beta 3. The text breaks correctly but the table cell seems to calculate it's width based on the unbroken text width. \n. From eclecticgeek on December 07, 2011 03:18:36\nSo you've followed the steps outlined in the Unicode How-to (http://code.google.com/p/dompdf/wiki/CPDFUnicode)?\nTypically a question mark indicates that the text was converted from Unicode to Windows ANSI. Can you post a complete sample document so we can look for any possible problems in the HTML?\nFYI, I was able to achieve the correct rendering with the Firefly Sung font: http://eclecticgeek.com/dompdf/debug.php?identifier=cfbec170bfa48e82fc8775021d67eed2\n. From eclecticgeek on December 07, 2011 03:22:48\nYou shouldn't have to add your own headers, dompdf will do that for you. There is, maybe, some content being sent to the browser before dompdf finishes. Typically you would see an error when this happens, but not always. Can you save the document created by your script and post it here?\n. From sa...@advan-t-edge.com on December 01, 2011 07:46:55\nI'm having Same issue.... HELP!!!!!\nThanks in Advance.... :)\n. From eclecticgeek on December 01, 2011 19:09:45\nWe don't currently have a solution for this. You may be able to find a work-around, but it depends on which version of dompdf you are using, the nature of the headers/footers you are creating, how much you know about your document in advance, and how you are creating your header/footer (inline script or CSS).\n. From mnbaya...@gmail.com on December 01, 2011 19:50:22\nI haven't been able to find any workarounds in my searching. I don't know how many pages my document will have beforehand, or where the page breaks will occur. Are there any plans to implement a solution for this?\n. From eclecticgeek on December 01, 2011 20:33:34\nThere is a selector defined in the CSS 2.1 specification for selecting the first page and left/right pages in a document (ref. http://www.w3.org/TR/CSS2/page.html#page-selectors) so that is something we will implement in the future.\nThe CSS 3 specification does indicate the ability to name pages (ref. http://www.w3.org/TR/css3-page/#using-named-pages). Since our goal is to support the CSS specifications as fully as possible this functionality should conceivably be impelemented in the future.\nWe haven't talked about this functionality yet so I can't say when this would be implemented. Also keep in mind that page naming is part of CSS 3 and we're still working on full CSS 2.1 support. Not to mention we still have some major bugs to quash in the layout engine.\nIf you can post a sample HTML document we can take a look and offer suggestions.\n. From eclecticgeek on November 17, 2011 19:22:39\nIt would help to see the original HTML, but I suspect you are either missing a declaration of the character encoding or have not loaded a compatible font into dompdf. To ensure you meet all the requirements of proper encoding see the following document: http://code.google.com/p/dompdf/wiki/CPDFUnicode\n. From saumil.2...@gmail.com on December 21, 2011 15:40:52\nI am facing the same issue while generating pdf from HTML.I am using dompdf and when I am converting HTML to pdf it is showing an error.\nNo Data Received\nError 324 (net::ERR_EMPTY_RESPONSE) \nOn other browsers it gives a blank screen.\nPls let me know if any one is having same issue and have solution to it.\n. From dvog...@islandlinux.org on December 21, 2011 20:52:54\n@saumil.21188, are you using xdebug?\n. From edworm...@gmail.com on February 22, 2012 12:54:49\nI've been getting the same error (connection reset or Error 324)\nNo errors in any logs but dompdf was falling over at the ->render() stage\nWhen I removed the table from my html -> no more error, pdf downloaded fine.\nDon't know if this is the cause for other cases (and it must still count as a defect) but removing this helped me.\n. From dvog...@islandlinux.org on March 28, 2012 14:25:31\nI have also noticed that there is a segfault in apache2 that shows up in the apache2 error log:\n[notice] child pid 850 exit signal Segmentation fault (11)\n. This issue is a duplicate of #98\n. From eclecticgeek on November 29, 2011 18:42:15\nI don't know that we'll include this as a standard feature of dompdf. This is likely something that would implemented via the back end processor. TCPDF is not currently supported, but there have been requests to do so and we do have some code to work with.\n. From eclecticgeek on November 29, 2011 18:48:05\nIt sounds like maybe the document is being sent. Maybe the headers are not set correctly.\nDo you have a link to the problem page we can test? Or can you at least post a sample of what is displayed in the webpage box?\nIf you're still testing, it also may be worthwhile to try out the 0.6.0 code (still in beta, but fairly stable).\n. From dloughli...@gmail.com on November 30, 2011 02:39:05\nI have simplified my code, and it works great in IE8 (except need to figure how to deal with the multiple space issue). I get the download box, just as desired. The problem now is that when I do it in Chrome, I don't get the open/save/cancel dialog, but rather I just get the save dialog.\nThe current php script is:\nphp\nini_set(\"memory_limit\",\"24M\");\nsession_start();\n$buff = $_GET['buff'];\ninclude('dompdf/cppdf/dompdf_config.inc.php');\n\n<p$dompdf = new DOMPDF();\n        $dompdf->load_html($buff);\n        $dompdf->render();\n        $dompdf->stream(\"test.pdf\",array(\"Attachment\" => 1));\n    exit;\n?>\n. From eclecticgeek on December 01, 2011 19:07:08\nGlad you were able to address your issue. Simplifying your code as much as possible always helps!\nIt looks to me that Chrome doesn't have an option to open a PDF rather than save it. So if you want it to display rather than download you'll have to set the attachment option to 0. The user can then manually save the PDF.\nRef:\nhttp://www.google.com/support/forum/p/Chrome/thread?tid=1d571c09708dea01&hl=en\nhttp://code.google.com/p/chromium/issues/detail?id=333\n. From eclecticgeek on December 01, 2011 18:58:25\nCheck to see if your server is set up to send PHP errors to the browser and also check to see if buffering is enabled. This combination can result in some non-PDF content corrupting the PDF document.\n. From eclecticgeek on December 02, 2011 14:08:45\nHave you looked at the Unicode how-to (http://code.google.com/p/dompdf/wiki/CPDFUnicode)?\n. From laurens....@llaman.nl on September 12, 2012 11:54:52\nThis problem is not only limited to the <b> and <strong> tags this issue also appears on the <i> and <u> tags \n. From eclecticgeek on December 08, 2011 20:00:14\nWhich version of dompdf? Are you specifying a document encoding?\n. From p...@xk7.net on December 13, 2011 11:52:24\nHave you tried using the HTML entity \u20ac instead? I always use \u00a3 \u20ac etc. as I find it's more reliable (also I use the same templates for HTML and PDF output).\n. From dereurom...@gmail.com on December 13, 2011 16:19:27\nwell, the whole document (layout, view) is utf-8 (And yes, I specify it) - the html views are fine, but on \"print\" the pdf views are messed up... and the data partly comes from the DB. so it is difficult (due to html) to substitute it. htmlentities() also works but would need to be applied to the single utf8 chars via some kind of preg_replace prior to letting dompdf render the doc.\none other thing:\nI need to use utf8_decode to pass my utf8 data. otherwise its double encoded...\n$dompdf->load_html(utf8_decode($html), 'UTF-8');\nso this issue might be related.\n. From dereurom...@gmail.com on December 13, 2011 16:25:36\nessentially - this works:\n$dompdf->load_html(utf8_decode(str_replace('\u20ac', '\u20ac', $html)), 'UTF-8');\nbut its not beautiful...\n. From eclecticgeek on December 15, 2011 22:22:46\nThere was a double-encoding error, but I'm pretty sure it has been addressed in 0.6.0 beta 2.\nCan you make sure your print view HTML is correct. You can do this by calling $dompdf->output_html(); This will return the HTML dompdf is processing.\n. From eclecticgeek on April 16, 2012 22:11:33\nno updates in a while, will re-open if new information is forthcoming\n. From eclecticgeek on December 09, 2011 20:18:46\nHave you modified the DOMPDF_ENABLE_REMOTE setting?\nhttp://code.google.com/p/dompdf/source/browse/tags/dompdf_0-6-0_beta2/dompdf/dompdf_config.inc.php#320\nIn 0.6.0 beta 2 this is set to false by default, meaning any file references (image, css) that includes a domain component will not be loaded.\n. From thesilve...@gmail.com on December 10, 2011 20:47:34\nThanks for responding. I did indeed enable the setting you mentioned, as said in initial report, I've allowed remote content.\nCSS debugging options seems to show what I presume are default styles, no external css is apparently referenced.\n. From eclecticgeek on December 11, 2011 17:48:31\ner, yeah ... sorry, I missed that when I initially read the issue.\nIt appears that something is breaking when the filename is not included. If you load http://megatokyo.com/index.php instead the CSS and images are found. This occurs on both the root of the site and any deeper content. With no filename the css/image references get messed up.\nThat being said, dompdf isn't quite up to rendering this site yet. Even in the latest code from the repository it doesn't look great.\n. From eclecticgeek on December 15, 2011 22:18:52\nYou're probably experiencing a PHP error, which is being captured in the output buffer during PDF generation. You can check this by opening your PDF in a plain text editor (Notepad, TextEdit, vi, etc.).\nTo avoid the problem try disabling buffering or not sending errors to the web browser.\n. From p...@xk7.net on December 13, 2011 11:49:23\nWhat error message are you getting when you try to create the PDF? Are you running out of memory?\nThere's no upper limit to the number of pages as far as I'm aware, although the more pages you have the larger the final PDF will be and the more memory will be consumed whilst it is being created.\n. From vis...@futerox.biz on December 13, 2011 13:22:23\nYes,  running out of memory?\nI have set out the limit to infinite for time and 128 mb for memory...\nBut still getting this error... memory limits.\nI am creating PDF with inline style with   structure.\nThe pdf is near about of 30 to 32 pages...\n=> Can you please clear me, Which specific css or html effects pdf\ncreation in DOMPDF ?\n=> How much maximum memory limits i have to set for making BIG pdf ?\nI also tried with filegetcontent php function (unable to work)\nPlease let me know, as soon as possible...\n. From p...@xk7.net on December 13, 2011 13:34:45\nI'm afraid it's not possible to answer the question about the maximum memory limits as it depends entirely on your PDF. As a guide though, 128MB is unlikely to be enough for long or complicated PDFs (e.g. ones with lots of tables) - I have the limit set to 512MB on my servers.\nYou should also double-check that your HTML is valid using: http://validator.w3.org/\n. From eclecticgeek on December 15, 2011 22:39:53\nIf you pass only the body content dompdf will create a new full HTML structure when the document is parsed. In this case dompdf will place any script blocks found into the header of the resulting document.\nAs you have noted, dompdf does not currently process script blocks in the document header. It may be reasonable to expect dompdf to process these script.\nIn the meantime, you can work around the issue by concatenating the necessary structure around your content before passing it to dompdf.\n. From OneWinge...@gmail.com on December 16, 2011 00:33:12\nThank you; I'll work around it. I was just surprised that the ... didn't work because if I wanted headers/footers on every PDF page then putting the script in the header looked like a reasonable choice.\n. From eclecticgeek on December 17, 2011 01:37:48\nWhich version of dompdf? Looks like 0.5.1. We recommend upgrading to the latest version (currently 0.6.0 beta 2) if possible.\nThere's something about your URL that dompdf doesn't like. It would help to see a sample document that generates the error.\nFYI, the pop-up you attached a sample of is just indicative that the error message was caught in the output buffer and sent as part of the PDF.\n. From p...@xk7.net on December 19, 2011 14:35:19\nI've noticed the same issue with the development version of dompdf, using A4 paper size on an Ubuntu server, so I don't think it's an issue with your settings.\n. From eclecticgeek on December 20, 2011 01:38:58\nThe alignment on the latest code appears a little worse than in 0.6.0 beta 2. We'll try to address this prior to the next release.\n. From a_re...@live.co.uk on December 20, 2011 10:31:25\nThanks eclecticgeek.\n. From fabien.menager on January 14, 2012 15:06:51\nr451 should give better results, could you try it ?\n. From eclecticgeek on January 15, 2012 02:57:11\nmuch improved alignment\n. From p...@xk7.net on January 16, 2012 15:23:36\nAgreed, just updated the application I run and the text alignment is exactly what I'd expect now.\nThanks for the quick fix. :)\n. From fabien.menager on January 16, 2012 15:37:17\nGreat! thanks for the feedback.\n. From a_re...@live.co.uk on April 25, 2012 08:47:25\nThank you for fixing this :)\n. From eclecticgeek on December 20, 2011 19:15:44\nHave you read the following document?\nhttp://code.google.com/p/dompdf/wiki/CPDFUnicode\n. From eclecticgeek on December 27, 2011 01:58:23\nSo you can't access remote resources? Using dompdf 0.6.0? Check out dompdf/www/setup.php for any red flags.\nIf I were to guess I'd say that the PHP setting allow_url_fopen is set to false. This way dompdf accesses resources requires that this setting be true.\n. From fabien.menager on December 27, 2011 09:32:11\nHello, this message appears only in the demo page, when not accessed from localhost, where there should be a textarea like here http://eclecticgeek.com/dompdf/docs/examples.php#demo\nIt was locked for security reasons, because anyone could convert any HTML using your server. If you still want to enable it, you can change the code in www/demo.php\n. From jeff.c...@gmail.com on June 05, 2012 21:17:56\nWhat steps does one need to do to unlock it and allow remote connections for testing?\n. From eclecticgeek on June 07, 2012 01:18:14\nWhat kind of testing do you need to do? You can easily write a script that will allow you to perform testing, which is what we recommend in order to perform input sanitation and not be exposed to the possibility of exploit or social engineering.\nThat being said, if you want to re-enable the functionality for universal access look at the source of demo.php. What you need to change should be obvious.\n. From eclecticgeek on December 27, 2011 15:03:33\nCan you share a sample document so we can see if there's anything about it that might be causing a slowdown?\n. From administ...@maderasaguirre.com on December 27, 2011 15:20:10\ni dont know why, but a \"php while\" cause the slowdown, when i change it to the first page of the document the pdf go fast. i have change it and its ok. \n. From eclecticgeek on December 27, 2011 18:40:37\nThanks for the update. If you need any further assistance let us know.\n. From eclecticgeek on December 28, 2011 19:59:07\nI don't see anything particularly problematic about your code, but it would be easier to debug seeing the HTML dompdf is attempting to process.\nFirst thing we would recommend is to try dompdf 0.6.0 (currently at beta 2). Though still in beta it's recommended over 0.5.1 due to additional functionality and improved stability.\nThat being said, a memory overload when you've allocated 1GB seems unlikely unless you're running into the bug outlined in issue 91.\n. From san...@creationetinfosystems.com on December 29, 2011 06:04:34\nthanks for your quick response.Now that i upgraded to 0.6(beta) it still shows up with the same error.however when i generate the pdf using the same code of fewer rows/data then it works fine.Also there is no memory limit set as in .5.1 in the latest release. so is it because of the amount of data or amount of images i am putting in the pdf??please help as it is very necessary to solve the issue ..\nthanks again for your response\n. From san...@creationetinfosystems.com on December 29, 2011 08:50:50\nmy php version in the server is 5.2.17\nis it causing a problem??\n. From eclecticgeek on January 03, 2012 22:51:42\nPHP 5.2.17 should work fine. It's hard to determine where the error is occurring without seeing the HTML dompdf is trying to parse. Can you point us to a URL online? If not, can you attach a sample HTML document that causes the problem. In v0.6.0 you can call $dompdf->output_html() to retrieve the HTML dompdf is attempting to render.\n. From san...@creationetinfosystems.com on January 05, 2012 12:56:12\nFatal error: Out of memory (allocated 68157440) (tried to allocate 171192 bytes) in /home/crea09/public_html/handicraft/admin/lib/class.pdf.php on line 1612\nI am giving you the html file generated by  $dompdf->output_html()\nbut as this file contained images you may not see the file properly\nPlease reply \n. From eclecticgeek on January 05, 2012 18:01:23\nIn class.pdf.php? This is not usually where an out-of-memory error occurs. It does point to a general overloading of what dompdf can handle. What is the KB size of your images, on average? Can you optimize them in any way?\nFYI, 68157440 bytes is 65MB. So PHP is not taking the 1000M memory limit you have set. Are you on a virtual host. Your host admin could have administratively set the limit, in which case you would be unable to change it.\n. From eclecticgeek on January 05, 2012 04:41:58\nWould support for page-break-inside: avoid cover your use case, or do you need a bit more control?\n. From bryanleb...@gmail.com on January 11, 2012 03:34:02\nI think that would work for this case as I am just trying to avoid splitting an element between two pages.\n. From jonasfon...@mugnetic.com on July 12, 2012 20:48:31\nThe problem about the page-break-inside is sometimes the behavior isn't that espect. Give some space between two element with page-break-inside:avoid propriets. \nHow i can do more control about this ? \n. From tomdy....@gmail.com on January 12, 2012 08:27:42\nExport PDF File \n. From fabien.menager on January 12, 2012 20:12:11\nIt looks like we should split words on the 0xFF0C Unicode char \nhttp://www.fileformat.info/info/unicode/char/ff0c/index.htm\nAnd even other uncommon word separators.\n. From tomdy....@gmail.com on January 13, 2012 00:52:45\nsplit 0xFF0C is good solution,\nin my case need set width to word wrap. not split words on the 0xFF0C.\nin this content, I have set the width: 500px, and word-wrap: break-word;\n.entry-content {\n        width:500px;\n        word-wrap: break-word;\n}\nwhen i export pdf this chinese word content not wrap by width.\n. From eclecticgeek on January 14, 2012 02:44:10\nYou might try the latest code. break-word support was only added after the release of 0.6.0 beta 2. I tested with more recent code and the does appear to wrap:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=0513a34a8c7e7a42cb713a8baa20b6bc\nThis doesn't address the issue of introducing correct break-points for natural sentence wrapping, and we'll keep this bug open to address that issue.\nYou can download a \"nightly\" release here:\nhttp://eclecticgeek.com/dompdf\n. From fabien.menager on January 14, 2012 13:53:23\nSeeing the PDF size, I can't wait for font subsetting !!\nHa! I forgot I'm the one in charge of this ;)\n. From eclecticgeek on January 14, 2012 23:48:26\nNo doubt. The Firefly font is particularly large, so it will be a good test case for subsetting.\n. From tomdy....@gmail.com on January 16, 2012 05:53:47\nDear All\nI am download \"nightly\" and change code.\nIt's Working Now.\nThank All.\n. From eclecticgeek on January 14, 2012 02:52:35\nWhat is the error you receive? I'm not certain why removing accented characters would cause any particular problem. Based on the code you posted I would suspect you're likely running into issue 91\n. From eclecticgeek on January 14, 2012 02:59:57\nPerhaps a line box problem. Fabien?\n. From fabien.menager on January 14, 2012 13:50:21\nI confirm this issue, but I don't think this is related to the line box. It may be due to the way frames are moved when vertically centered. Here the table is moved to the middle, but not the cells. I already noticed this issue, but didn't fix it.\n. From fabien.menager on January 14, 2012 14:57:03\nI commited a fix for this, can you confirm it works well for you ?\n. From eclecticgeek on January 15, 2012 02:54:11\nThe changes appear to address the test case provided.\n. From prabal....@gmail.com on January 15, 2012 12:20:22\nHi Fabien,\nDo I have to do a complete checkout for the svn for this fix or can I just download a few files and get this done?\nThanks.\n. From fabien.menager on January 15, 2012 13:14:30\nI recommend you to do a checkout or download the nightly from here : http://eclecticgeek.com/dompdf/\n. From prabal....@gmail.com on January 17, 2012 13:52:28\nThanks. This works perfectly now.\n. From fabien.menager on January 17, 2012 22:18:06\nI confirm this issue.\n. From fabien.menager on January 17, 2012 22:33:34\nThis issue was closed by revision r454.\n. From fabien.menager on January 23, 2012 10:44:12\nWe'll need more information, these questions are here for that :\nWhat steps will reproduce the problem?\nWhat is the expected output? What do you see instead?\nWhat version of dompdf are you using? What version of PHP? On what\noperating system?\nPlease provide the HTML source code you want to convert, or any additional\ninformation.\n. From fabien.menager on January 23, 2012 10:46:40\nIt should work, can you show us all your HTML source ?\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=fbe7c25673c35b155284124762dfb0c6\n. From netboxon...@gmail.com on January 25, 2012 07:48:56\nHello again,\nI could not fix the problem yet. I attach the source code which I want to convert to PDF. I think that I am defining the fonts properly, and in your example I see that it should work, but it does not. I had not any correct result with a no default font. Does some of you has any idea? Thanks\n. From fabien.menager on January 30, 2012 20:50:25\nIt looks like dompdf cannot write files inside the dompdf/lib/fonts folder.\nPlease go to dompdf/www/setup.php with your web browser to see if everything is ok.\n. From eclecticgeek on February 05, 2012 01:37:18\nIn your original issue post you have the following sample text:\nhtml\n  <span style=\"font-family:helvetica,sans,serif;\">Helvetica Text</span>\nwhich is not quite right, it should be:\nhtml\n  <span style=\"font-family:helvetica,sans serif;\">Helvetica Text</span>\nYou have a comma between \"sans\" and \"serif\" in \"sans serif\" and since sans is not a valid value serif is used. Double-check all your font family declarations to make sure the values are correct.\n. From marclaporte on January 27, 2012 06:44:13\nSee: http://code.google.com/p/dompdf/issues/detail?id=211\n. From fabien.menager on January 29, 2012 22:36:52\nBookmarks are not the same as a table of content. Bookmarks are this : http://www.pdfsharp.net/wiki/GetFile.aspx?File=%2fBookmark-sample%2fBookmark.png\n. From fabien.menager on January 29, 2012 22:38:17\nSomething like this should be used for this : http://www.princexml.com/doc/8.0/pdf-bookmarks/\n. From fabien.menager on January 26, 2012 20:26:05\nThis issue was closed by revision r461.\n. From fabien.menager on January 26, 2012 20:26:23\nThank you for your bug report!\n. From fabien.menager on January 30, 2012 20:47:50\nThis is not possible right now.\n. From fabien.menager on January 30, 2012 18:14:27\nHello, I think the Google Groups would have been a better place to ask your question, but can you give a sample image that doesn't render, or a link to the page, if possible ?\n. From rtam...@pragmatic-conseil.fr on January 31, 2012 08:33:51\nHello Fabien,\nUnfortunately I can't give you a link to the page. The website still under development and is protected by htaccess.\nFor the sample image, any jpg or png reproduce this issue.\nThere is the result on a sample PDF generated (the image that is showing up is from another website)\n. From rtam...@pragmatic-conseil.fr on January 31, 2012 09:44:09\nAs i was writting I realised that maybe the password htaccess forbid dompdf to use the images.\nSo I desactivated the password and all work fine now.\n. From fabien.menager on January 31, 2012 10:36:33\nGreat! That's something we forget easily ;) \nThat gives me an idea for a new information to display when images cannot be downloaded as there is a message now if you use the version from the SVN trunk.\n. From eclecticgeek on February 05, 2012 01:47:14\nI don't know if you still need to keep the site hidden, but I believe there's a way your can specify that a connection either has to supply a password or come from a specified IP address. Google should be able to find you an example. Just FYI.\n. From fabien.menager on February 03, 2012 21:30:08\nI wasn't able to reproduce it with the trunk, could you try it to see if it solves the problem?\n. From eclecticgeek on February 05, 2012 01:55:14\nI was also unable to reproduce the problem. It may be an issue related to your version of PHP (5.2.6). If I have the opportunity I'll compile a copy and check for the issue.\n. From stwien...@gmail.com on February 10, 2012 15:24:12\nThank you for your time.\nI tried it with svn-trunk, with no difference.\nThe problem seems to be related with the PHP version. I tried 5.3.6 and the rendering was succesful. Unfortunatly, I can't upgrade the server's PHP to 5.3.x, due to legacy PHP Apps. Do you have any idea for a workaround or starting point?\n. From eclecticgeek on February 10, 2012 16:18:26\nWith the latest release can you check www/setup.php page for any red flags?\nIt almost sounds like a problem similar to the multi-byte text splitting bug in PHP prior to 5.2.7 (already addressed). Only here you're having the line truncated instead of split in the middle of a character.\nCan you post the resulting PDF so we look for any oddities in that?\n. From stwien...@gmail.com on February 13, 2012 14:35:41\nOK, I used the latest SVN-Trunk and removed all warnings/red flags from setup.php.\n(There been only some warnings about not being able to write to the log). The bug is still there.\nI attached the resulting pdf with the missing rest of the line. If there is no solution, I will try to upgrade PHP to 5.2.17. for our servers. Meanwhile, putting a  in front of the broken word, will trigger the manual line-break.\nThank you for your time! \n. From stwien...@gmail.com on February 14, 2012 07:19:45\nI just upgraded the PHP to the latest patch-version offered by Debian\nPHP 5.2.6-1+lenny16 with Suhosin-Patch 0.9.6.2 (cli) (built: Feb  3 2012 13:17:21) \nThe pdf now renders find with the whole line :) Seems, the debian guyes backportet the PHP issues with the 5.2 version (there is no offical version higher than 5.2.6 in the debian lenny repositories).\nThanks for pointing me in the right direction, this fixed it for me!\n. From eclecticgeek on February 14, 2012 15:11:10\nThanks for the update. We'll keep the issue open for now in hopes that we will have a chance to look into the cause of the bug.\n. From eclecticgeek on February 05, 2012 02:03:34\nCan you post a sample of the PDF that is produced? Does PHP throw any errors during rendering (check your PHP log if you have logging enabled)?\n. From Korbinia...@gmail.com on February 05, 2012 11:58:52\nHi, Thanks a lot for your reply! I solved the issue using the nightly build. So, I think you already fixed that bug. Thank you :-)\n. From eclecticgeek on February 05, 2012 02:17:07\nThe DejaVu fonts support a wide range of character sets, but support for specific characters varies from one font family to another. For DejaVu Sans Mono Vietnamese does not appear to be supported. You should be able to use DejaVu Sans, however.\nA sample document showing supported characters for DejaVu Sans Mono can be found here:\nhttp://dejavu.sourceforge.net/samples/DejaVuSansMono.pdf\nAnd for DejaVu Sans here:\nhttp://dejavu.sourceforge.net/samples/DejaVuSans.pdf\nHere is a sample render using DejaVu Sans:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=9aa13b1da0927434028b0a49e619d74e\nAlways be sure to check that the font you want to use supports the characters that you'll be using in your document.\n. From vudp1...@gmail.com on February 06, 2012 16:11:52\nHello,\nThank you for your help.\nNow it is working well with language Vietnamese.\nRegards,\nVu Do\n. From vudp1...@gmail.com on February 06, 2012 16:42:17\nHello,\nI make some mistake about 3 problem:\n\u662f\u4e00\u7a2e\u8607\u683c\u862d\u50b3\u8aaa\u4e2d\uff0c\u6703\u9810\u5831\u6b7b\u4ea1\u7684\u5973\u5996\u7cbe\n\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49\u0e04\u0e38\u0e13\u0e21\u0e35\u0e2a\u0e34\u0e17\u0e18\u0e34 \u0e25\u0e38\u0e49\u0e19\u0e23\u0e31\u0e1a\n\u201d\nWith font \"DejaVu Sans\", it only right with language VietNamese\nI don't know how to choose font to allow it right all. Thanks.\nRegards,\n. From eclecticgeek on February 06, 2012 18:27:22\nThe DejaVu fonts support a wide range of characters. However, most logosyllabic script (such as written Chinese) do not have wide support. For those you will have to find a dedicated font, such as Firefly Sung for Chinese.\nref. http://luc.devroye.org/fonts-51316.html\n. From vudp1...@gmail.com on February 07, 2012 16:43:27\nHello,\nThank you for your help again.\nNow it is working well. \nReagards,\nVu Do\n. From eclecticgeek on February 07, 2012 22:45:44\nIt would help more to see the output from pdf_settlement_view.php (i.e. the actual HTML rendered by dompdf that results in a crash). Using what you have provided I am unable to reproduce your error (on php 5.3.5).\n. From albertoa...@gmail.com on February 08, 2012 16:03:29\nHere is the html\n. From fabien.menager on February 08, 2012 21:13:27\nI got your document to work by adding the missing closing  and by removing half the tables rows (5 pages), with the latest version from the SVN trunk. Dompdf is memory consuming when dealing with tables, this is something we are working on.\nYou could try to split the table in subtables or 50 rows.\n. From fabien.menager on February 08, 2012 21:32:34\nOne way for you to be able to generate more lines is to reduce the DOM inside of the table, for example, the  element can be avoided, by using a class for the cells you want to be bold, or by using something like this (if the cell is always the third in the rows) : \n``` css\nmy_table td:nth-child(3) {\nfont-weight: bold;\n}\n```\nNote that this will work in the beta 3 we are planning to release this week or by using the latest code from the trunk. Generally, the fewer DOM elements there are, the less memory will be used by DOMPDF.\n. From albertoa...@gmail.com on February 09, 2012 08:38:08\nThank you very much!\nI'm going to fix the missing closing  and optimizing the DOM.\nI will test it with the code from the trunk (or the beta 3 if it's available) and I'll post my result.\n. From eclecticgeek on February 07, 2012 22:48:27\nYour PDF is definitely corrupted. Is this the raw output from dompdf or did you open it in another application and save it? Your system configuration hasn't changed at all?\n. From eclecticgeek on February 07, 2012 22:51:50\nBased on the file you attached to issue 419 your application is writing some non-PDF data into the output stream. If you open the file in a text editor the following is at the end of the file:\ncontroller:\n. From pfzw...@gmail.com on February 08, 2012 07:57:48\nHi txs for your answer:\n\"If you open the file in a text editor the following is at the end of the file:\"\nI did that...so what am i looking for ??? and how do i fix it?\nWe checked our system configuration and no major changes have been taken place. I tried to integrate dompdf , into other websites of codeigniter i have, and getting the same result so i think there might be a wrong setting in codeigniter. \nMaybe something todo with the headers or encoding ?\nI would appreciate any help\n. From eclecticgeek on February 08, 2012 15:51:31\nYour application is buffering content and appending it to the end of the PDF document. Scroll all the way to the bottom and you'll see the text \"controller:\" which should not be there. I'm not familiar with CI, so I couldn't say where the text is coming from. You could try adding an exit() statement just after streaming the PDF. This would halt processing and prevent anything else from slipping into the stream.\n. From pfzw...@gmail.com on February 08, 2012 21:46:03\nsorry i think i edited that part myself to show code examples attachted you will find the pdf which is corrupt and generated the way its been outputted by dompdf version 5.0.1 \ncan you tell me if anything wrong with the file i opened it myself in texteditor but seems fine to me. maybe you can tell me what wrong with the pdf and how to fix this problem. I am having a strict deadline and this deffinately needs to be fixed.\nAre there certains setting in php or on the server that really needs to be on??that might cause this problem?\n. From eclecticgeek on February 08, 2012 22:05:24\nCan you try uncommenting line 2082 in dompdf/lib/class.pdf.php?\n. From fabien.menager on February 08, 2012 22:35:47\nIt looks like a problem with the locales, can you try to add this before you do \"new DOMPDF\" ?\nsetlocale(LC_NUMERIC, \"C\");\n. From pfzw...@gmail.com on February 09, 2012 11:56:22\ntxs fabien that worked! life saver!\n. From fabien.menager on February 09, 2012 12:58:17\nGreat! I'm closing the issue then (it was fixed in the previous beta)\n. This issue is a duplicate of #424\n. From eclecticgeek on February 07, 2012 22:54:23\nYou haven't styled your content with a supporting font. And I would hazard a guess that you haven't installed one on your system as well?\nPlease read over the following documentation:\nhttp://code.google.com/p/dompdf/wiki/CPDFUnicode\n. From guido.ro...@gmail.com on February 08, 2012 13:13:48\nWell, after try one million times, the font that worked is this...\nhttp://www.sbl-site.org/educational/BiblicalFonts_SBLHebrew.aspx\nAdd to html body\n\nInstall font through load_font.php script\nphp load_font.php sbl hebrew_bi/sbl.ttf\nInstall font in the Ubuntu system\nsudo cp sbl.ttf /usr/share/fonts/truetype/\nThanks for your help eclecticgeek\n. From eclecticgeek on February 08, 2012 15:52:41\nGlad you got it working. Font support will be much easier once we release the next beta.\n. From emperor...@gmail.com on February 14, 2012 21:15:24\nHi i did exactly as written above and i got Hebrew.\nThe only thing that its written backwards instead of \"\u05e9\u05dd\" i got \"\u05dd\u05e9\" and no rtl support\nexample in english: \"right\"->\"thgir\"\ni Attached a file,\nAnd heres the code:\n``` php\n$text = <<< eot\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">\n\n\n\n\n\n    \u05e0\u05e1\u05d9\u05d5\u05df \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea:\n    \u05e9\u05dd: \u05d1\u05d5\u05d3\u05e7\n    \u05ea\u05e4\u05e7\u05d9\u05d3: \u05d1\u05d3\u05e7\u05df\n    \u05d7\u05d1\u05e8\u05d4: \u05d1\u05d3\u05e7\u05e0\u05d5\u05ea \u05d1\u05e2\"\u05de\n    \n\neot;\nrequire_once(\"pdf/dompdf_config.inc.php\");\n$html = $text;\n$dompdf = new DOMPDF();\n$dompdf->load_html($html,'UTF-8');\n$dompdf->render();\n$dompdf->stream(\"sample.pdf\");\n```\nany ideas?\nthanks amit\n. From eclecticgeek on February 14, 2012 23:43:31\nemporor.iq currently dompdf does not support RTL. It is something we will look into in the future. In the meantime you might check out the following related thread on the discussion forum. It covers a kludge to get around the issue, but the modifications still provide only limited support for RTL.\nhttps://groups.google.com/d/topic/dompdf/qfWb24ct7Ts/discussion\n. From guido.ro...@gmail.com on February 23, 2012 16:04:43\nSee this function, may be help you...\nhttp://www.php.net/manual/es/function.strrev.php#70381\n. From onlinedi...@gmail.com on February 08, 2012 14:08:57\nI forgot to add, I use the following to 'try' to generate the pdf:\nrequire_once(\"dompdf/dompdf_config.inc.php\");\n$dompdf = new DOMPDF();\n$dompdf->load_html($factuur->html);\n$dompdf->render();\n$dompdf->stream(\"factuur\" . rand(0,9999) . \".pdf\");\nwhere $factuur->html is the HTML string. I get back the above html if I instead do print $factuur->html. So that throws no errors.\n. From eclecticgeek on February 08, 2012 16:00:54\nWe would recommend you try the 0.6.0 beta. Though not a \"stable\" release, it performs at least as well as 0.5.x.\nIf you would rather stick to a non-beta product we'll need a bit more info. Can you post the resulting PDF as well? Though blank it may contain something useful in debugging your issue.\n. From onlinedi...@gmail.com on February 08, 2012 19:50:10\nOk, here is the PDF.\nI hope this can help you, help me out. I have used this application before and it did work. \nA lease calculator uses dompdf as well and works just fine. It spits out quote in PDF for the user and also mails the output. I can't figure out, why it isn't working now.\n. From eclecticgeek on February 08, 2012 22:02:38\nCan you try uncommenting line 2082 in dompdf/lib/class.pdf.php?\n. From eclecticgeek on February 09, 2012 00:52:12\nI must thank Fabien for reminding me of this:\nIt looks like a problem with the locales, can you try to add this before you do \"new DOMPDF\"?\nsetlocale(LC_NUMERIC, \"C\");\n. From onlinedi...@gmail.com on February 09, 2012 09:58:33\nThat last comment did the trick! thank you very much. Maybe in a future release run this automaticly to avoid this problem?\nI had locale LC_ALL set to nl_NL for other purposes. I did not know that this application made use of locales.\n. From fabien.menager on February 09, 2012 10:26:58\nThis is already fixed in the SVN trunk for a year now : r361 ;)\nIt is in 0.6 beta 2.\n. From onlinedi...@gmail.com on February 09, 2012 10:50:10\nSo that is why you it got recommended to me to use the beta version.......\nAnyway, I am very happy with the result produced by this application. I hope my customers will be happy with it too. Couldn't have done it without the support here, thanks again.\nexample:\nhttp://www.onlinedierenspeciaalzaak.com/pdf/?factuur=afffc36a51d93c3428726700ef5f7592\n. From eclecticgeek on February 10, 2012 15:52:53\nDo you have a link where we can see what's going on? At the very least can you attach the document produced?\n. This issue is a duplicate of #26\n. From eclecticgeek on February 14, 2012 15:10:04\nFYI, float support is available starting with dompdf 0.6.0 beta 3. It is still in the \"experimental\" stage. As such you have to manually enable it in dompdf_config.inc.php or dompdf_config.custom.inc.php.\nconfig ref: http://code.google.com/p/dompdf/source/browse/tags/dompdf_0-6-0_beta3/dompdf/dompdf_config.inc.php#301\nrender ref: http://eclecticgeek.com/dompdf/debug.php?identifier=149e4d6cb74787c9e829c4f775560914\n. From administ...@blackcatadvertising.com on February 15, 2012 14:30:04\nIt seems that problem happens on any table that spans on multiple pages\n. From administ...@blackcatadvertising.com on February 15, 2012 15:08:36\nAnother thing I found is that the problem happens when the td as a p in it. If all the td elements have only text the problem disappears.\nThanks\n. From fabien.menager on February 21, 2012 21:51:20\nThe problem was not in beta 2\n. From fabien.menager on February 22, 2012 08:38:08\nThe problem is due to the change here: http://code.google.com/p/dompdf/source/diff?spec=svn457&r=457&format=side&path=/trunk/dompdf/include/block_frame_reflower.cls.php#sc_svn451_205\n. From m...@lemonskip.com on February 24, 2012 17:18:57\nhey when will this change be pushed so it is available to be used?\nI am using version 0.6.0 beta 3\n. From fabien.menager on February 25, 2012 13:11:52\nI have to find the reason why this change (in r457) does this before I can make a patch.\n. This issue is a duplicate of #403\n. From fabien.menager on February 16, 2012 08:45:12\nHello, thank you for your bug report. When I wrote this part of the code, I had in mind to be compatible with imagick 3, but I see you use an older version. I'll have to take version 2 into account, but a lot has changed! \nhttp://pecl.php.net/package-changelog.php?package=imagick\nMaybe you can also update your extension, using the command \"pecl upgrade imagick\"\n. From kzeni1 on February 16, 2012 18:09:20\nAh, well the site I'm working with is on Rackspace Cloud Sites (managed hosting) so, unfortunately, I don't have access to update the version of imagick & nor can they update imagick for just one site.\nMaybe have the condition check what version of imagick they're running in addition to seeing whether or not it's loaded (removes the need for the manual config setting from my suggested workaround).\n. From xer...@theelitist.net on February 16, 2012 09:37:11\nDelete please, I accidentally pressed enter.\n. From fabien.menager on February 16, 2012 12:36:05\nThank you, this makes the attached file to work. We'll fix it soon.\n. From fabien.menager on February 16, 2012 20:15:52\nThis issue was closed by revision r476.\n. This issue is a duplicate of #24\n. From lgg.wett...@gmail.com on June 11, 2012 10:47:34\nI have the same issue in 0.6.0 beta 3.\n. From eclecticgeek on June 11, 2012 14:39:41\n@igg.wettmann please refer to the last comment on issue 17. We would appreciate it if you could try the latest code, either via the SVN repository or by downloading a nightly release:\nhttp://eclecticgeek.com/dompdf\nIf the problem is not resolved in the latest code then please visit issue 502 for follow-up. Details about your setup and a sample document would help in determining if this is due to a bug or some other issue.\n. We consider dompdf compatible with PHP 5.4 as it's been used by many people yet. We'll open an issue when PHP 5.4 is a problem.\n. From eclecticgeek on March 09, 2012 21:41:24\ndisplay:inline is probably throwing dompdf as far as the document structure. You might try display: inline-table if you want the table to be displayed as part of a line.\nI'm still not sure why white-space at the beginning of a selector would cause problems. Can you share a sample stylesheet?\n. From eclecticgeek on March 09, 2012 22:09:24\nI can confirm that setting a table to display:inline does break the rendering process. We may have to force inline-table styling, though the spec hopefully has guidance on this one.\n. From marianaa...@gmail.com on March 09, 2012 22:21:37\nNow i can't post css and html, later i will try. When i try the table inline, it was mistake when i write the code in my project, i lost many hours to give a solution about this. But the real problem was that.\n. From eclecticgeek on March 17, 2012 01:59:58\nI haven't found any guidelines or restrictions on how to handle a table when its display is set to other than table/inline-table. In fact, it appears Firefox (v11) treat the table as an inline element. Firefox must generate an anonymous table object around the table contents.\nI think for the sanity of our users, at least until we have a chance to define a better solution, that we force either table or inline-table.\n. From jonasfon...@mugnetic.com on July 06, 2012 11:09:58\nHello, \nOnly to say, that css rule:\ntable {\ndisplay:inline;\n}\nhas an erro of ascii, beteween tableand {have a caracter that mess it all css rule.\nBut, now i have another erro. \nI have this:\nhtml\n<div class=\"table nobr\">\n    <div class=\"top\">\n     dompdf will break this wrong!\n    </div>\n    <div class=\"bottom\">\n     this is line of bottom\n    </div>\n</div>\nCss is:\ncss\nnobr {\npage-break-inside:avoid;\n}\nWhen dompdf need to break , the element look bad. Bottom div current with tab inside of page and give some much space between div.top and div.bottom... like 300px...\nGood Luck!\nJonathan\n. From eclecticgeek on July 06, 2012 17:27:06\nIn the CSS you are missing the class identifier, should be:\n.nobr { page-break-inside:avoid; }\n. From jonasfon...@mugnetic.com on July 06, 2012 17:33:03\nSorry in my file css it's correct, wrong typing. The real problema isn't that ! The problem, now is about break block html into piece and give some much space in bottom of block html.!!!!\n. From eclecticgeek on July 07, 2012 00:52:10\nCan you start a new issue for this problem? This issue is still relevant and something we need to fix. If there is another issue it should be addressed separately. Thanks.\n. From eclecticgeek on March 09, 2012 17:48:12\ndo you have a sample HTML document? Also, if you're using beta 1 you should consider upgrading to beta 3\n. From tejasvis...@gmail.com on March 10, 2012 04:59:21\nThanks for your reply.\nHere i have attached the file Please check it.\nTej\n. From eclecticgeek on March 17, 2012 02:15:51\nIt would help more to see the actual HTML, not the PHP that generates the HTML. Otherwise it's hard to reproduce what you are experiencing. One way to get the HTML is to call $dompdf->output_html().\nHave you tried upgrading to beta 3?\n. From eclecticgeek on March 17, 2012 02:23:50\nHave you read over the documentation here:\nhttps://github.com/dompdf/dompdf/wiki/UnicodeHowTo\nIt needs to be updated to reflect some changes in beta 3, but it's still relevant. You'll have more success if your HTML takes into account the advice from that document. Try this HTML:\nhtml\n<html xmlns=\"http://www.w3.org/1999/xhtml\" dir=\"ltr\" lang=\"lt-LT\" xml:lang=\"lt\">\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    body { font-family: DejaVu Sans; sans-serif; }\n  </style>\n</head>\n<body>\n  <p>Lithuanian: \u0105\u010d\u0119\u0161\u012f\u0105\u0173\u010d\u0119\u016b\u012f - \u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a</p>\n</body>\n<html>\nYou can see the above HTML rendered here:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=b6e98aca930bab802515827a75b855fb\n. From eclecticgeek on March 17, 2012 02:26:41\nYou're going about it in the wrong way. Read over the following documentation:\nhttp://code.google.com/p/dompdf/wiki/CPDFUnicode\nIt needs to be updated to reflect some changes with beta 3, but the advice still holds. Also, if you don't need Verdana you might try DejaVu Sans, it's built in to beta 3.\n. From eclecticgeek on March 17, 2012 03:00:09\nThis does appear to be buggy. I can't get it to work with 0.6.0 beta 3, either.\nFYI, we are no longer patching the 0.5.x code base so you will have to upgrade to 0.6.0 once the issue is addressed.\n. From fabien.menager on March 25, 2012 17:01:31\nThis issue was closed by revision r483.\n. From fabien.menager on March 19, 2012 12:38:12\nI don't really understand your question, but here is something that might help:\nhttp://code.google.com/p/dompdf/wiki/CSSCompatibility\nPlease use the Google Groups for questions : http://groups.google.com/group/dompdf\n. This issue is a duplicate of #320 \n. From eclecticgeek on March 22, 2012 03:33:52\nCan you supply a sample document? I'm unable to duplicate the same error.\nI have also seen this problem surface when an image is present. I'll see if I can find a sample of that as your issue may be related.\n. From eclecticgeek on March 22, 2012 03:57:04\nThis may be the post I was thinking of regarding images affecting text sharpness.\nhttps://groups.google.com/d/msg/dompdf/FfY3HDN8b5E/8kLQLc-Xy5EJ\nI'll need to do some testing in different environments, however, because I'm not seeing the issue discussed in that post either.\n. From joris.wi...@gmail.com on March 22, 2012 08:03:59\nHere is a sample:\nSource: http://pdf.willekens.eu/test.txt\nResult: http://pdf.willekens.eu/test.php\n. From joris.wi...@gmail.com on March 22, 2012 08:09:59\nThe absolute div must be a child of a 'relative' div to reproduce\n. From fabien.menager on March 22, 2012 09:12:48\nHa! I see. Try to copy/paste after selecting all the text :\nAbsolute\nNot absolute\nAbsolute\nThe \"Absolute\" word is rendered twice, I'll fix it.\n. From fabien.menager on April 08, 2012 16:51:33\nThis issue was closed by revision r489.\n. From fabien.menager on March 21, 2012 13:07:52\nHello, I don't have this error (dompdf 0.6 beta3, Windows 7 64bit, PHP 5.3.8). \nI'm attaching the HTML I'm testing (generated from the PHP you attached).\nDid you enable inline PHP in dompdf_config.custom.inc.php ?\n. From u01jmg3 on March 21, 2012 14:16:33\nThat was indeed the problem - taken a note of my configuration for the release of Beta 4 so I don't forget next time.\nThanks for your swift reply - I have successfully implemented Beta 3. There's one thing I've noticed and that is the position of the underline on hyperlinks - see attached. Is this normal?\n. From fabien.menager on March 21, 2012 16:02:18\nYeah, this is a problem! Which font is used here ? How did you generate the UFM file ?\n. From u01jmg3 on March 21, 2012 16:18:14\nLucida Sans.\nGenerated using the Dompdf Online Font Tool - see attached.\n. From eclecticgeek on March 22, 2012 03:42:39\nYou might try reloading your font using load_font.php. DOMPDF now has a built-in PHP-based font processor (php-font-lib) so you no longer need to compile or find a copy of ttf2ufm. php-font-lib may very well do a better job generating the font metrics than what I'm currently using in the online tool.\n. From fabien.menager on March 22, 2012 06:57:24\nI tried this font with the built-in font processor, and the result is even worse, I'll have to see why and fix it. It looks like Lucida sans has a different kind of ascender/descender, weird.\nI suggest you use \"DejaVu Sans\", which is already installed since beta 3.\n. From u01jmg3 on March 22, 2012 10:34:14\nThanks both.\n\"DejaVu Sans\" doesn't look as good as Lucida Sans so I've opted to use the following CSS fix:\na {\n    text-decoration: none;\n    color: #0000ff;\n    border-bottom: 1px solid #0000ff;\n}\n. From fabien.menager on March 25, 2012 16:15:25\nI fixed the underline position problem by using a metric which is not present if the UFM files generated by the online tool, but only by the built-in one (load_font.php via CLI or www/fonts.php via web).\n. From u01jmg3 on March 25, 2012 17:47:08\nHow do I re-make my Lucida font with this fix in place?\n. From fabien.menager on March 25, 2012 19:30:07\nThe fix I did is only available in the SVN trunk.\nTo reinstall the Lucida font, you can use the load_font script (http://code.google.com/p/dompdf/wiki/Installation#Font_Installation) or the web tool available in your installation : dompdf/www/fonts.php, at the bottom, but you need to set a password in dompdf_config.custom.inc.php and remove the \"Lucida sans\" entry in the dompdf_font_cache file because this tool won't replace the entry if it was already there.\n. From u01jmg3 on March 25, 2012 20:35:22\nThe padding of the font doesn't look right although the underline of links is now below the link but now almost too far - you'll see what I mean in the attached PDF.\n. From fabien.menager on March 25, 2012 20:55:04\nI have a different rendering with the fonts I generate with DOMPDF taken from the trunk. I attached the 4 UFM files I'm using and the PDF I get.\n. From u01jmg3 on March 25, 2012 21:15:21\nI've just downloaded and tried the 4 UFM files you've attached but I get the same result - see attached.\nAm I missing something else?\n. From fabien.menager on March 26, 2012 06:00:58\nHo, I think you need to remove the UFM cache files (with the extension *.ufm.php). You can do so by going to www/fonts.php and click on Clear cache or just by removing them from lib/fonts\nSorry I forgot to tell you this.\n. From u01jmg3 on March 26, 2012 09:29:33\nPreviously, I wasn't using the entire SVN trunk - I just copied dompdf/www/fonts.php from the trunk and followed your instructions on how to re-install Lucida in my current installation of Dompdf Beta 3.\nThis didn't work so I checked out the entire SVN trunk (Revision 483) and now it works. :)\n. From fabien.menager on March 26, 2012 10:19:53\nYes, the changes I did were in includes and libs, that's better with a full trunk ;)\n. From eclecticgeek on March 22, 2012 22:34:15\nIt appears the problem is that the DOMPDF_DEFAULT_FONT setting is ignored in favor of the default set in the Style class. You can work around the problem by adding a body styling to your CSS, e.g.:\ncss\nbody { font-family: DejaVu Sans, sans-serif; }\nIf you want a quick fix for the issue you can modify dompdf/include/style.cls.php@238 to read as follows:\nphp\n$d[\"font_family\"] = DOMPDF_DEFAULT_FONT;\n(ref. http://code.google.com/p/dompdf/source/browse/tags/dompdf_0-6-0_beta3/dompdf/include/style.cls.php#238)\nAlso, please note that \"dejavu\" is not a valid font. The DejaVu font pack is a set of fonts that include the following: DejaVu Sans, DejaVu Sans Light, DejaVu Sans Condensed, DejaVu Sans Mono, DejaVu Serif, DejaVu Serif Condensed.\n. From eclecticgeek on March 22, 2012 22:46:31\nUsing r481 as a reference for discussion.\nA default font of \"serif\" is set in the Style class here:\nhttp://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/style.cls.php?r=481#240\ndompdf currently takes into account the DOMPDF_DEFAULT_FONT setting here:\nhttp://code.google.com/p/dompdf/source/browse/trunk/dompdf/include/font_metrics.cls.php?r=481#169\nSince the default font set in CSS is a valid font the value of DOMPDF_DEFAULT_FONT will always be ignored unless the user specifies a bad font. We might consider switching where DOMPDF_DEFAULT_FONT is referenced so that the CSS default is set as follows:\nphp\n$d[\"font_family\"] = (isset(DOMPDF_DEFAULT_FONT)?DOMPDF_DEFAULT_FONT:\"serif\");\nAnd the FontMetrics class initializes to \"serif\" (a known, valid font) on line 240.\n. From fabien.menager on March 25, 2012 16:18:01\nI thought about the same thing for the default font, but I don't think the \"isset\" test is needed.\n$d[\"font_family\"] = DOMPDF_DEFAULT_FONT;\nshould be enought IMO.\n. From eclecticgeek on March 26, 2012 01:30:39\nYou're right. No need to complicate the code.\n. From eclecticgeek on March 28, 2012 02:53:55\nThis issue was closed by revision r484.\n. From PerryGov...@gmail.com on April 30, 2012 18:15:16\nI'm getting the same issue php 5.3.1\n. From eclecticgeek on May 13, 2012 02:40:28\nBased on what I'm seeing with a quick web search this error is due to limits implemented by a debugger (e.g. xDebug, Zend). You should either disable your debugger or increase the recursion limit. I'm not sure what would be an appropriate limit for DOMPDF.\nhttp://www.google.com/search?q=php+maximum+nesting+level\nI'm keeping this issue alive, however, because it could point to an area that could affect performance. A lot of work has been done to improve performance, but there is still a significant amount of recursion due mainly to the nature of processing the DOM and handling style cascade.\n. From fabien.menager on August 08, 2012 13:07:01\nThis may be a problem with the CSS float, I noticed something like this, but without any debugger.\n. From eclecticgeek on March 23, 2012 23:49:47\nPlease post the source HTML+CSS for debugging purposes.\n. From aku...@greendust.com on March 24, 2012 04:49:19\nThank for your reply .\nThis issue is resoveled .I was missing (thead and tbody tag) in table .after adding these tags table is not cutting .\n. From eclecticgeek on March 24, 2012 23:36:07\nThanks for the follow-up. More recent versions of dompdf will add these elements if they are missing. Unless you're missing some closing code, I'm surprised that just adding these elements would fix the problem.\n. From eclecticgeek on March 24, 2012 23:52:47\nI don't have Lucida, but I am able to reproduce the problem using DejaVu Serif.\nThe problem with your div page break is that you're styling it display: none;. This style effectively removes the element from the document, and so it doesn't affect the document flow. The page-break attribute is thus ignored.\n. From u01jmg3 on March 25, 2012 10:32:30\nLucida fonts attached.\nThanks, my fault for copying code and not reading it!\nI assume the bug I've found will need to be fixed though?\n. This issue is a duplicate of #68\n. From fabien.menager on March 26, 2012 10:25:19\nThis seems to be related to zend.ze1_compatibility_mode in php.ini :\nhttps://bugs.php.net/bug.php?id=30102&edit=1\nBut we can adapt our code to work everytime, like you did.\n. From MariusKa...@gmail.com on March 26, 2012 21:07:48\nHello Fabien,\nYes I found that reference too, but in my case this wasn't it. My config by default does not specify zend.ze1_compatibility_mode anywhere and when I explicitly set it to 'off' the error did not go away. Anyway my proposed quick fix seems to work so far and I do not think it breaks anything else. O... and I think we now have the most beautiful invoice PDFs in the world, thanks to your great lib ;) \nRegards,\nMarius Karthaus\n. From mrsmithl...@gmail.com on April 23, 2012 21:52:24\nif use \"zend.ze1_compatibility_mode = off\" and get this error too!\n. From eclecticgeek on June 13, 2012 19:44:12\nThe compatibility setting was deprecated and removed in PHP 5.3, which could be why it has no affect on some installations.\nImagick used to have a built-in clone() method, but it has been deprecated in favor of the clone keyword in v3.1.\nhttp://us3.php.net/manual/en/imagick.clone.php\nhttp://pecl.php.net/package-info.php?package=imagick&version=3.1.0b1\nWhat version of the PECL extension are you using? Perhaps the error only appears in versions of the extension prior to 3.1 (i.e. they aren't compatible with the clone keyword)? Unless we find a solution it may be worthwhile to just create a new object instead of using a clone. This is already how the code is written for Gmagick.\n. From eclecticgeek on March 28, 2012 03:12:30\nPerformance\nYou're loading numerous remote objects (HTML document, stylesheets, images), so rendering speed will be affected by your connection speed and server responsiveness. There is also the issue of document complexity, which can significantly affect rendering speed and resource usage. These Wikipedia pages may be a bit much for DOMPDF at the moment\nUnicode\nThese Wikipedia pages appear to use a variety of generic fonts in their styling (Verdana, Arial). Unless you have a Unicode-friendly version of the specified font loaded into DOMPDF you are not going to get any kind of Unicode support. Some of the document even appear to rely generic font families (e.g. \"sans-serif\") and DOMPDF does not currently support Unicode at all for text using this type of styling.\nTo prepare your installation for Unicode support please read over the following how-to:\nhttp://code.google.com/p/dompdf/wiki/CPDFUnicode\n. From Fabian.B...@gmail.com on March 28, 2012 09:41:18\nPerformance\nI am talking about a timespan of hours here, not just it feels like its taking long ...\nUnicode\nThe fonts shouldn\u2019t matter as it falls back to the default font, but even then it doesn\u2019t render correctly. This is not the fault of the font as I used it in other cases and the glyphs are not missing there.\nIn any case I found other software that suits my needs 'wkhtmltopdf' that\u2019s fast enough and renders properly with this test.\n. From eclecticgeek on April 02, 2012 15:16:02\nIt helps to quantify an issue. Requiring hours to render these documents is definitely not something we would expect. Are all the documents successfully rendered, or is there a hang-up at some point?\nAs for Unicode support, dompdf does not currently support glyphs outside the Windows ANSI character set when using the generic font families (serif, sans-serif, etc.). So even though these documents include this as a fallback some of the characters would render as \"?\" since they are unsupported.\n. From Fabian.B...@gmail.com on April 02, 2012 15:33:02\nThe documents do eventually render successfully aside from the missing glyphs. \nWith the 'test_dompdf.php' script in the attachment should have a decent test case to reproduce the described problems.\nHowever since I require full Unicode support, I have since moved on to using 'wkhtmltopdf' which does what I need and wish you guys good luck.\n. From eclecticgeek on March 29, 2012 21:42:18\nWe'll follow-up on your post in the support group.\n. This issue is a duplicate of #26\n. From tonicosp...@gmail.com on March 29, 2012 17:47:23\nI'm a start this improvement\n. From eclecticgeek on April 02, 2012 15:30:09\nPAGE_NUM and PAGE_COUNT are more like template variables and so are not available to PHP. However, you can retrieve the page count from the canvas object like so:\n$dompdf->get_canvas()->get_page_count()\n. From amitpraj...@gmail.com on April 03, 2012 05:11:26\nThank you very much for your reply .\nbut still my problem is not solved .\nmy motive is find out when second page start because i want to print something when \nsecond page start .\n. From eclecticgeek on April 03, 2012 14:07:23\nsee issue #465 for follow-up\n. From eclecticgeek on April 03, 2012 14:07:38\nPrint some value where? In the PDF? To the web browser?\nAlso, Your question is more appropriate for the support group since it does actually involve a bug in dompdf: https://groups.google.com/forum/#!forum/dompdf\n. From fabien.menager on April 07, 2012 14:52:36\nThis issue was closed by revision r488.\n. From eclecticgeek on April 11, 2012 22:56:32\nThis code by itself shouldn't produce an extra blank page. Can you post the rest of your document?\n. From dany.vaz...@gmail.com on April 12, 2012 08:51:21\nI find the solution...\nThis occur when I put this code:  \n\n        if ( isset($pdf) ) {\n          $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n          $pdf->page_text(420,788,$PageNumber, $font,6, array(0,0,0));\n        }\n        \nafter the html close : .\nDany\n. From eclecticgeek on April 12, 2012 17:46:46\nThat could cause problems. The current expected location of any inline script is within the body of the HTML document. Still, I believe all that should happen is the script will be relocated.\nThis may be happening if the last page of the PDF prior to parsing of the script is filled.\n. From eclecticgeek on April 11, 2012 22:59:27\nIn beta 3 you no longer need to specify the image type. Try:\n$pdf->image($path, ($w - $img_w) / 2.0, $y,  $img_w, $img_h);\n. From rob.mobi...@gmail.com on April 13, 2012 06:49:38\nThanks it's working\n. From eclecticgeek on April 12, 2012 17:49:01\nNot sure I follow. Can you post just the lines of code related to dompdf?\nTo save to the server's disk you should do something similar to the following:\nphp\nfile_put_contents('/path/to/document.pdf', $dompdf->output());\n. From krajshek...@gmail.com on April 13, 2012 04:59:51\nthank u\n. From krajshek...@gmail.com on April 13, 2012 07:16:27\nCan u generate a pdf for the attached html file. Because it takes a long time to process and doesnt generate the pdf.\n. From fabien.menager on April 13, 2012 09:52:42\nAs I said in the other issue, please post on the Google Groups :http://groups.google.com/group/dompdf\n. From fabien.menager on April 14, 2012 09:44:28\nYou need to set DOMPDF_ENABLE_PHP to true, and put the ",
    "amacneil": "Awesome. Before you submit it to packagist.org we should create a package for pdf-font-lib and list it as a dependency (since composer doesn't handle git submodules). I'll send you another pull request for that :)\n. Yip, we're just working on that. https://github.com/PhenX/php-font-lib\nWe just need to get php-font-lib tagged with an actual version number so we can specify it as a dependency of dompdf.\n. Awesome! I'll make another pull request for dompdf to reference it :)\n. On an unrelated topic - all the extra whitespace in this project is driving me crazy. If I submit a patch to remove all trailing whitespace will you accept it? I have my editor set to remove all trailing whitespace on save (like most developers), so every time I go to view the diff in git there are hundreds of lines changed, and I have to remove them all manually to keep the patch tidy :)\n. Also, thanks for taking the time to look at all these pull requests! It's really going to make my life much easier once I can use dompdf with composer :smiley: \n. Um, I did change that line. Did you look at the diff?\n. I'm pretty sure the automatic github zip tags never include git submodules, so that's not the best solution. The only way to include it in the zip would be to keep a copy of the files in this repo, which is exactly what composer is there to avoid.\nTo be fair, that SO asker probably could have just read the error message and been on their way :smiley: \nWhat I suggest is that when you tag a release, manually create a zip package with php-font-lib included. You could upload this to a new gh-pages branch (http://pages.github.com/) and link to it from the README so that people know to download the latest release instead of grabbing it directly from github.\n. Turns out composer just renamed their ComposerAutoloaderInit class a few days ago. I'll get another PR to fix this. It would be easier to just test for the DOMPDF class directly.\n. We had it as a submodule and removed it. If you're using composer it will be installed automatically. If you are using git to include DOMPDF then it's not a good idea to have submodules-inside-submodules anyway.\n. I don't think there's any problem having it there for composer. It's just messy having a submodule in a package - phpfontlib should either just be included in the code (not a separate library), or a dependency, but not both.\n. My suggestion is to create a downloadable zip with phpfontlib included (of the latest stable version), and link to that from your README. People probably shouldn't be including the latest master branch in their projects anyway.\n. This was done long ago\n. This isn't a bug, it's designed that way to allow backwards compatibility with the crazy configuration system in dompdf. This pull request will break all non-composer projects using dompdf (and besides, why would you still want to include the autoload file if you are using composer?).\nAll you have to do is disable that setting in your application before including dompdf_config.inc.php:\ndefine('DOMPDF_ENABLE_AUTOLOAD', false);\nrequire('/path/to/vendor/dompdf/dompdf/dompdf_config.inc.php');\nThe idea is that in future dompdf will be rewritten not to rely on a bunch of global constants, but for now it's all there is and that additional constant was added to allow composer users to disable the standard autoloader without breaking existing applications.\n. This isn't a bug, it's designed that way to allow backwards compatibility with the crazy configuration system in dompdf.\nAll you have to do is disable that setting in your application before including dompdf_config.inc.php:\ndefine('DOMPDF_ENABLE_AUTOLOAD', false);\nrequire('/path/to/vendor/dompdf/dompdf/dompdf_config.inc.php');\nThe idea is that in future dompdf will be rewritten not to rely on a bunch of global constants, but for now it's all there is and that additional constant was added to allow composer users to disable the standard autoloader without breaking existing applications.\n. Now documented in the readme :)\n. @bsweeney I created the composer integration, and I was just trying to be helpful and document my work. Seriously, it shouldn't take 5 months to merge a pull request to improve your documentation. It doesn't even need any code review :)\n. I can't tell why it didn't work for @bfrohs without more information. I'm using that method exactly with the latest master and it works fine.\nWhile I've got your attention, I'd really appreciate if you could tag a release sometime soon. It's scary every time I update from the dompdf master branch not knowing whether anything may be broken.\n. For the record, I'm using dompdf in a commercial product and I'd love to give back to the community. So if you wanted to add me to the project I'd be happy to help with bug triage etc, especially around the composer stuff as I have a lot of experience with it. It seems there are a lot of github bugs which could simply be closed, or which belong on a mailing list.\n. That's no good because you don't get a chance to define any custom settings before composer includes dompdf_config.inc.php. You would have to define the settings before including autoload.php which isn't always possible.\n. The solution to this is to tag a new version so people can rely on the stable versions instead of the git master. Will be looking to do that ASAP.\n. I'd be in favour of getting the 0.6 branch out the door which can be maintained for legacy installations, then look at starting an unstable 0.7 branch with PHP 5.3, dropping the custom autoloader in favour of composer, PSR-1 etc.\n. The actual problem described in this bug will be avoided by following the instructions in the updated README though. Feel free to let us know if you're still having any problems.\n. This isn't a bug, just\ndefine('DOMPDF_ENABLE_AUTOLOAD', false);\nbefore you include the settings file. I tried to document this in #629 but it really seems this library is not actively maintained any more.\nBefore you say it, I know it's ridiculous defining settings like this, but it's just how dompdf works and noone has stepped up to rewrite a proper settings class (or at least, noone has been able to get one merged).\n. Thanks for the response. Yes, this PR is wrong, if you follow the instructions in #629 it will work already.\nThe composer autoload.php file should already be included if you are using composer correctly. To keep backwards compatibility I added the DOMPDF_ENABLE_AUTOLOAD flag so you can disable dompdf's built in autoloader. Ideally I'd like to see the settings moved into a class, but for now at least it works.\n. Seems sensible enough. I can't remember the original motivation for not just testing for the class in the first place. I think it was mostly for backwards compatibility.\nIdeally though, you would remove the autoloader from config.php altogether, so people can choose between using composer, or manually requiring the legacy autoloader.\n. To be fair, modifying any of the configuration constants requires setting them before including dompdf_config.php. So in that sense this configuration option isn't different to any of the others.\n. Well yes, ideally you would not have a config file or global constants anywhere. If the DOMPDF class already allows configuration options to be set directly on it, then perhaps you can just remove the config file already.\nCan I adopting the slightly stricter PSR1 conventions (camel case method names), and perhaps a more sane 4 spaces for indentation at the same time? It would make this project much easier to work on, and more in line with the rest of the PHP community too.\n. ",
    "raykolbe": "Are you going to add pdf-font-lib to packagist (e.g. dompdf-pdf-font-lib)?\n. Consumers just need to be aware of the alternative way of installing packages now. Just pull or download the package and manually install it.\n. Thanks @PhenX \nAlso, I forked the official DOMPDF project here and started moving files around (https://github.com/raykolbe/dompdf-1/tree/master/lib/DOMPDF).\nThe idea here is to start using namespaces, to reorganize classes, and move towards PSR-2. Whether or not we want to accept these changes in the future isn't super relevant at the moment.\n. I concur.\n. Is there an update on this?\n. ",
    "ghost": "There's still one to change: line 13 on /include/font_metircs.cls.php\nWhich is still require_once and outputs an error when using the dompdf without php-font-lib. Bye!\n. Sorry, (new on github) I got confused with the downloaded code in which the line is still present.\n. So, just to clarify, if I want a header and footer that show up on every page, and I want to use HTML+CSS to do that, I need to use the method laid out here: http://stackoverflow.com/questions/7484318/header-in-pdf-page-using-dompdf-in-php ... as opposed to table headers and footers, correct?\n. I can reproduce the issue.\n. +1\n. +1. I had the missing (then empty) classes folder too. git submodules init/update sorted my issue. I should have read the readme...\n. @bsweeney I've fixed the problem. heheheh.\n. +1\n. You are quite right on reading the W3C spec a counter-reset should indeed define a new scope at this element.\nSo your comment regarding using the current frame, rather than parent is probably a good idea and may be the cause of #440.\nMy problem and the reason i tweaked the code was i wanted to rest my page numbers at a given point in the document. i.e after a large multi page section re-start the page numbers from 1 on the following page.\nI was using \"counter-reset: page\". \nI misunderstood the use of counter-reset using a duplicate id, and assumed this would/should work up the tree with a global scope.\nHaving read the spec and reviewing how the page counter is set on the HTML tag and incremented on body, i am not convinced what i wanted to do is possible using just css, without progressively nesting entire sections of my document in new divs to establish a new counter scope for that point forward.\nWill close this as my code will almost certainly break something somewhere and doesn't achieve anything desirable despite solving my particular issue in isolation.\n. Yeah that's what we considered - we are just going to do very crude math to more or less calculate if page content fits - there is a certain amount left after we add header and other content. So it should be fairly straightforward. Thanks.\n. Thanks for the reply, Brian. We're just hiding rows - it seems to be\noccurring when a certain number of rows are hidden, but we can't figure out\nwhy it happens sometimes but not always...\n\u1427\nOn Mon, Aug 10, 2015 at 1:31 PM, Brian Sweeney notifications@github.com\nwrote:\n\nConfirmed. We'll have to isolate where the problem occurs. I did not see\nthis on the full table, only when certain columns were selected. Are you\nmodifying the table structure or just hiding columns?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1000#issuecomment-129540526.\n. No, this issue was not resolved.\n\nOn Tue, Dec 22, 2015 at 11:24 AM, TeamRenegade notifications@github.com\nwrote:\n\nHas this issue been resolved?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1000#issuecomment-166708647.\n. Same exact issue - nothing will get any custom font to load.\nLoading from Google fail -\nLoading from Local File provided by dompdf fail\nLoading loading from full path fail - \nLoading from relative path fail\n\nAny help would be appreciated - I have to move back to another lib without being able to use a custom font.\n```\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: normal;\n  src: url(http://themes.googleusercontent.com/static/fonts/opensans/v8/cJZKeOuBrn4kERxqtaUH3aCWcynf_cDxXwCLxiixG1c.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'Deja';\n  font-style: normal;\n  font-weight: normal;\n  src: url('<?= $_SERVER['DOCUMENT_ROOT'] ?>/zpark/vendors/dompdf/dompdf/lib/fonts/DejaVuSans.ttf') format('truetype');\n}\nh1 {\n    font-family: 'Open Sans' sans-serif;\n}\np {\n    font-family: 'Deja' sans-serif;\n    font-size: 1em;\n}\n```\n. i installed this in my project into two different branches and yesterday i just run the composer update command then after that it's will shown an error =>  Call to undefined method DOMDocument::hasAttribute() #393\nand on other branch it's still working like charm. @WeeHong \nyes!! \nRemove the external link or sciprt from view file it's worked but when you added the external links it's thrown same error  . @bsweeney  Yes the problem is in bootstrap 4 CSS all other external CSS and JS are working. ",
    "bsweeney": "When I get a chance I'll updated the download on my site to use the git repo. When I do I'll also take into account any dependencies. Adding downloads to github will only be necessary when we have a new release. In that case we can have a version that includes all the necessary components.\nThat leaves people who download github's auto-archive. No doubt we'll get complaints about missing files, but hopefully they'll be few. We can pin a post on the support forum about this if necessary.\n. Odd. dompdf should parse the path for the CSS background URL and the HTML image source the same. Is this HTML retrieved via a web server ($dompdf->load_html_file('http://example.com/docs/sample.html');) or via the file system ($dompdf->load_html_file('docs/sample.html');) or generated and fed to dompdf ($dompdf->load_html($html);)?\n. Closing because Composer.\n. @PhenX I think it'd be nice to support a wider range of rendering libraries, but I'm inclined to agree. You're not the first to comment on the difficulty of supporting TCPDF. Few people using dompdf will need a library other than CPDF or PDFLib (though obviously there's a contingent out there that would still like to see TCPDF supported).\n. @PhenX don't get me wrong. I don't disagree. There's little point right now in devoting efforts on supporting other libraries when we have so much other work to do. I guess I look at it as more of a nice possibility, especially if a library similar to PDFLib (but perhaps open source) can be integrated. But I look at this as more of an academic value (the modularization of the back end) not something we need to continue working on to the detriment of other needs.\n. Thinking about this again after a post on the forum. The question of TFOOT support presents a particularly problematic issue where we have to back up from the bottom of the page when a footer is present. Not entirely impossible to address, perhaps the easiest method would be to \"shorten\" the available height when we're inside a table with a footer.\n. No updates on this issue.\n. Internal Server Error is a bit generic and not something we can evaluate without more details. We never got a good indication of the source of this issue beyond possibly a problem in PHP 5.2.8 and/or an issue with use of the utf8_decode() function. PHP 5.2.8 is old and we're no longer using the offending function so I'm closing this issue.\n. @archanavhire we'll need to know more about your problem to identify whether or not it's an issue we need to address. The only thing I can guess at right now is a resource exhaustion issue, which is not necessarily a problem with dompdf. Please take your question to the support forum so we can work out what's going on.\nhttp://groups.google.com/group/dompdf\n. Closing. This issue is rather obscure, haven't seen report of a similar problem of late.. This one's pretty old, but if anyone has a good HTML sample showing the issue in 0.6.x we'd like to see it.\n. @shbmira no bug was ever identified. Most image loading problems tend to be a combination of configuration and implementation. Off the top of my head these are the things to check regarding your configuration:\n1. Are you using dompdf 0.6.0?\n2. Does the process that executes dompdf have read/write access to DOMPDF_TEMP_DIR?\n3. Do you have DOMPDF_ENABLE_REMOTE set to true?\n4. Do you have the GD extension for PHP enabled?\n5. Is allow_url_fopen true?\nIf nothing from there helps it probably is due to something about your implementation. We'd need to see some HTML and possibly the PHP code you're using. If that's the case let's continue the discussion on the support forum: http://groups.google.com/group/dompdf/topics\n. @B1nTree head over to the support forums and we can try to work through the issue. It helps to see a sample of the HTML that's causing a problem.\n. I believe we have sufficiently incorporated form field display as of 0.8.0. Closing unless someone is able to point out an oversight on our part.. @SAIF001 you'll either want to start a new issue or a new discussion on the support forum. When you do please be sure to provide a sample of the HTML that's causing causing problems.. @mjm54 the \"File does not begin with %PDF\" error could mean that some non-PDF content was pushed into the output stream. When this happens it is typically due to errors/notices from PHP. If you save the PDF and open it in a text editor (e.g. Notepad, TextEdit, vi) then you would see the errors at the top of the file.\nAs for the rest of your problem there isn't a solution to the table cell problem yet. If it's possible to re-structure your page so that no single table cell spans a page you'll be ok. Do you have a short sample document? We can give you more specific advice knowing your current document structure.\n. Is this a layout or a view? I know you're still learning CakePHP, but there are more cake-like ways of organizing your code. This issue isn't the best place to discuss it, though. You can inquire about that more on the CakePHP support forums or StackOverflow.\nLooking strictly at the HTML-producing PHP, I'd stick with a table over table-styled DIV elements and remove the outer table. E.g.\n``` php\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n@media all {\n    .page-break { display: block; page-break-before: always; }\n}\n\nphp\n    if(!empty($drivingData))\n    {   \n        $count = 0;     \n        foreach ($drivingData as $key=$item)\n        {   \n            switch ($rptTitle) {\n                case 'Driving Forms (KES Dr Cert-Ann Rev-DRA)':\n                    if($count == 0)\n                        echo ''; // start table\n                    else\n                        echo ''; // start table\n                    $count++;\n                    echo ''; // start row\n                    echo '';\n                    echo ''; // end row\n                    echo ''; // start row\n                    echo 'Name of Driver:';\n                    echo 'Social Security Number:';\n                    echo 'EIN:';\n                    echo 'Date of Employment:';\n                    echo ''; // end row\n                    echo ''; // start row\n                    echo '' . $item['full_name'] . '';\n                    echo '';\n                    if($item['ssn'] == '')\n                        echo '\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0\u00a0\u00a0-';\n                    else\n                        echo substr($item['ssn'], 0, 3) . '-' . substr($item['ssn'], 3, 2) . '-' . substr($item['ssn'], 5, 4);\n                    echo '';\n                    echo '' . $item['employee_no'] . '';\n                    echo '' . $item['hire_date'] . '';\n                    echo ''; // end row\n                    echo ''; // end table\n                    break;\n                default:\n                    break;\n            }\n        }\n\n}\n\n?>  \n```\n. @mjm54 totally understand (sounds like a buddy of mine a few years ago when I went on FMLA for my kids). If you want more help with how CakePHP works be sure to read the docs and hit the support resources. If you just want to get things done try my modification and see how it goes.\n. Good luck. The table cell issue is probably the one things that's really hard to work around with dompdf. No doubt you've got enough experience you can hack your way through to a solution.\n. @mjm54 as mentioned by @rspadim it's easier to debug from the rendered HTML rather than the PHP that produces the HTML. Can you create some HTML we can test. My only other suggestion would be to get rid of the surrounding DIV if it's only used for a page break. Instead of surrounding the table you can have a conditional empty div above it, e.g.\nphp\n                   if($count > 0)\n                        echo '<div class=\"page-break\"></div>';\n. @mjm54 let's take this discussion to the support forum so that we over-burden the issue discussion with trying to figure out how to get your problem solved.\nhttp://groups.google.com/group/dompdf\n. @wakeless I pretty much have a sense of what we need to do. Right now dompdf doesn't even try to split up table cells. Fixing the issue does require rewriting the paging code a bit, but we should be able to address the issue once we are able to devote some time to it.\n. I'm sorry to say not yet, though it's the next major issue we plan to tackle. Unfortunately I can't provide a time frame for seeing a fix.\n. @wakeless there are lots of easier things to fix ... you could always start with something a little less complex. But if you like a challenge...\nThe problem in handling a page break on a table cell has to do with the way content is rendered. dompdf determines the page breaks as it's laying out the document elements. This works fine when you're working mainly with block elements, but when you have elements that render in a horizontal sequence (a float before other content, the cells of a table row) you can't just insert a page break at that point. You have to complete the rendering of adjacent elements.\nThen there's the issue of column widths. Unless the column widths are defined dompdf has to determine the actual widths on the fly. As dompdf goes through the cells in a row it tries to balance the column widths in that row to accommodate all the cells. This means that where a page break occurs could vary as you parse the cells in a row. Plus dompdf has to rewind to previous rows in the width allocation logic so that all columns are consistent in width.\nThere's no logic for this right now and so dompdf just moves the whole row to the next page.\nThe code necessary for breaking an element across pages occurs in the split() method, which can be found in the decorator classes (e.g. Frame_Decorator::split() or Table_Frame_Decorator::split()). Additionally, the logic for determining if a page break is necessary can be found in Page_Frame_Decorator::check_page_break().\nRight now the only clear path I see to addressing the issue is to render a document in multiple passes: first pass for layout, second pass for page breaks. That's a pretty significant change from the current layout process.\nDigest that and let me know if you need any additional information.\n. Sadly, no. We're trying to reorganize the code for the next release and will create a branch to address this issue when we're done. We apologize for the inconvenience.\n. @kamalsamra that can happen with some of the code we put in to try to avoid resource exhaustion issues.\n. @jasperpogi02 just :disappointed:\nI believe after 0.7.0 final is released we'll start looking at how we might address this issue. But no time frame on a fix.\n. No updates. There is actually some code that should prevent dompdf from entering an endless loop. It does not, however, always work as expected. We'll need to take a closer look at that.\nAs for solving the problem ... it's complicated. Right now the resolution I have in mind is modifying the rendering process to perform layout and paging (PDF generation) as separate steps. But that's a non-trivial change to the process.. So, conceptually this logic should already detect the case where a table row is the first element on the page and too large to fit. It's been a while since I looked at this so I'm not sure why it doesn't always work (maybe *:before styling or some other issue).\nThere's also the _already_pushed frame property. That's another avenue for investigation.\nSo ... considering the built-in checks aren't working as expected I wouldn't necessarily count on those. If you wanted to try to catch this manually the way I might go about it would be to use a callback to record frame IDs before they go through the render process (the before-render callback is being added to v0.8.1 via 76af12d). If a frame ID shows up more than X number of times it is probably looping.. @enumag FYI I decided to take a look at the relevant code. If I can come up with a sufficient resolution to the infinite loop I'll go ahead and implement it. The affect of the fix will be that a table row that is too big will just continue past the bottom of the page. Normal paging should resume after that element renders.. The just-pushed commit should improve table handling somewhat. This is by no means a fix for the problem. What this change does is actually stop paging a table row after it has been paged once. So if you have a table cell in your document that is larger than the page it will just continue rendering on the current page, i.e. beyond the bottom margin of the page.. As I was looking at this I found that a few minor changes to the code allows Dompdf to split these table cells. There are other issues we still need to address because of how the split occurs, but I think for the post-0.8.1 release we should be able to enable that functionality. It still won't be the final fix for this issue but it should help render documents with this type of structure.. @pascaldls the code for that already exists. The issue is that Dompdf was specifically coded to not split table cells. I have gotten cell paging to work by commenting out that code but there are other issues we need to address. I'm going to set up a branch for 0.9.0 development on which I'll be working on this and other changes for that release. If anyone is interested in helping work on the issue I'll post information here when that's ready.. @Crankforfree it's been a while since I looked at this. I'd have to revisit things and see where I was ... I'm not even sure I still have the code. I believe I just tweaked the logic to allow splitting table cells without doing must of anything else. It worked but wasn't great. One of the biggest issues is that it would split on the current cell so any following cell would move to the next page.. At the very least we should not interpret &shy; as a hyphen by default. Which is easily doable. But yes, support for soft hyphens would be good.\nThough not ideal you could style your container with word-wrap:break-word;. It doesn't intelligently break words, but it does prevent them from overflowing the container.\nAnother work around would be to surround each syllable of the word in span tags. You would lose the hyphens, but the word would break correctly.\n. Can you confirm the structure of the document where you encountered the problem? I tried with a <div> containing a number of <p> elements such that the DIV covers more than one page and did not encounter the issue. However, if I have a single <p> within the DIV and that single <p> is larger than a page then I do encounter the issue.\n. That would be my guess, though I wasn't sure how well the issue could be isolated.\n. You would put that code at the top of the body content. You also have to enable embedded script support by setting DOMPDF_ENABLE_PHP to true (in 0.6.0) or $dompdf->set_option('isPhpEnabled', true);. Before you do this, though, you should read the security documentation.\nAs of 0.6.0 you could also do this entirely using CSS with code similar to the following:\n<html>\n<head>\n  #watermark {\n    position: fixed;\n    top: 45%;\n    width: 100%;\n    text-align: center;\n    opacity: .6;\n    transform: rotate(10deg);\n    transform-origin: 50% 50%;\n    z-index: -1000;\n  }\n</head>\n<body>\n  <div id=\"watermark\">\n    DRAFT\n  </div>\n  <div>\n    ...\n  </div>\n</body>\n</html>\nYou would, of course, need to tweak the CSS as needed such that the watermark is styled how you want.\n. It would help to see a sample of the HTML you're using.\nIn reviewing the previous embedded script sample again I can say it's not quite right. I'll tweak that comment so that it accurately reflects how to do this with embedded script.\nYou can also use my code sample for headers and footers. Check out this code sample from the 0.6.2 release: https://github.com/dompdf/dompdf/blob/v0.6.2/www/test/css_position_fixed.html\n. Typically you'll see positioned content on a single page only when you use position: absolute. But it's hard to say exactly why you're getting this result without seeing the HTML. I don't really know drupal well enough to tell you how to get the HTML. If you have access to the dompdf object you can call $dompdf->output_html() to see the HTML it's working with.\n. Head over to the developer discussion and we can start a conversation: http://groups.google.com/group/dompdf-dev\n. @DerDu can you provide more details? I would go ahead and open a new issue.. We do not currently have a solution for this. You'll have to manually simulate small caps by doing something like: W<span style=\"text-transform: uppercase; font-size: 70%;\">at</span>, or just W<span style=\"font-size: 70%\">at</span>. Unfortunately, you can't just replace the small caps styling with the above because upper-case letters would be similarly affected.\n. Just a follow-up comment about implementation. Performing a transform and size reduction should work fine. Ideally we'll be able to eventually detect when a font supports this variant and utilize the native support.\nFont support appears to come by two methods: as a separate font variant file and as a built-in option (e.g. in OpenType). For fonts that use separate files for each variant updating the font handling to support this should be trivial. For OpenType fonts where variants are all stored in a single file some special handling will be required.\nI suggest we add support for the small caps variant by first building in support for additional font variant files combined with text-transform/scaling for fonts without the necessary variant. We can explore supporting the built-in support of OpenType for a future release.\n. Let's review what we've done to harden the default installation:\n- local files are limited to the those in the path specified by DOMPDF_CHROOT (the dompdf directory by default)\n- remote file loading is disabled by default\n- PHP processing is disabled by default\n- dot-files are not permitted\nI think we've sufficiently covered our bases.\nAn installation can still be made vulnerable based on user configuration/usage. Because of this it's important that we write a document outlining best practices for a secure installation. However, I don't think we need keep this issue open for that reason alone.\n. Utility code was removed in commit db8ca427128dcce38698dade85cdd195a1c504ee.\n. @leiha you are always welcome to ask on the support forums if you need help. Current page can be easily output using just CSS, though the total page count is a bit more difficult.\nTOC is a tricky issue with domdf, though as you see I did provide a solution. Perhaps not ideal, but workable. We will likely support CSS-based TOC in the future when support for CSS cross references is implemented. However, since this is part of the CSS3 spec I can't say when that would happen.\n. @bartosz-grabski first thing to check is your PHP and/or web server logs (make sure you're set up to use the error log).. The modifications actually require very few changes to the dompdf code. There are a few basic changes to dompdf.cls.php and then an additional class called DOMPDF_ext. If you look closely you should be able to see where the changes are plus symbols (+) indicate new lines and minus (-) removed lines. Lines without a plus or minus remain unchanged. You can get a sense of where the changes need to be made by looking at the surrounding code (line number may have changed since that diff was created).\nIf I get a chance I'll make a branch with the changes. Or anyone savvy enough please feel free to fork and apply the changes.\n. no longer a bug. @rnealxp Are you talking about a default margin around the page? This is because the page margins are different from the body margins. Set the page margin using the following style:\ncss\n@page { margin: 0px; }\n. @oliverhuynh how have you gone about SVG support? We would be interested in knowing the details.\n. That's not going to be universal enough for the majority of users who, I suspect, use the CPDF back end. Still, it would be good to see the patch. We could conditionally add it for PDFLib users. We could also give some support to CPDF by converting to PNG using imagick/gmagick if installed.\nUnfortunately, this doesn't really get us where we want to be. The closest I've seen to what we need is prawn-svg, but it's coded in Ruby. Everything I've seen coded in PHP relies on an external app/library.\n. @mfeske are you using the develop branch? SVG support is not yet integrated into the downloadable archive or master branch.\n. @mfeske SVG support is only enabled on the develop branch. Easier than using git, though, would be to install with composer or download a nightly.\n. @ThomasLandauer should be working, how are you referencing the SVG document in your HTML? Was the php-svg-lilb dependency also installed?\n. @ThomasLandauer since you're using composer you should see it under vendor/phenx/php-svg-lib.\n. Ok, I'll validate that Composer is set up correctly. In the meantime you can grab a copy of php-svg-lib from the repository if you want to test out the SVG functionality.\n. The easiest path for now would be to manually reference the included autoloader: require_once 'vendor/PhenX/php-svg-lib/src/autoload.php';.\n. Are you using PDFLib? That would be the issue. We haven't added SVG support to the PDFLib adapter yet.\n. @PhenX would be the best person to answer these questions but I'll do my best\n1. Would actually probably be a php-svg-lib issue\n2. Yes. Currently dompdf (0.7.0) only supports SVGs referenced via IMG element, either <img src=\"file.svg\"> or <img src=\"data:image/svg+xml;base64,...\">\n3. I don't believe so.\n4. There are some things missing, the last update from PhenX indicated future improvements to gradients and CSS (ref)\n5. Absolute worst case is an SVG with text, which loses the text.\nIf you have a sample SVG that's not rendering well and can post it please do. Actually, you should post a bug report to the php-svg-lib project for any problematic SVG renders.\n. @Asimov500 0.7.0 can load SVGs, though I've seen a few instances where people are having problems. If you need help you should ask. Just remember to provide details about what you've tried and the results.. @Asimov500 could your issue be related to this #1353?. FYI since php-svg-lib 0.2 is newly released it wasn't available with the last dompdf release. I added it to dompdf last night for inclusion in the next release (currently in the develop branch).. Depending on the format of your SVG you might be affected by the problem described in #1353.. @Asimov500 I don't really have a definitive answer right now. Rather than tie up this issue trying to track down your problem you should start a new discussion on the support forum: http://groups.google.com/group/dompdf. @Asimov500 for something like that it might help to start a new issue with php-svg-lib.. We haven't yet begun work on this issue.\nAlso just FYI, the latest release of Firefox doesn't appear to exhibit the problem anymore. Adobe Reader is still displaying incorrectly.\n. Nothing yet.\n. @gizmomarco just to clarify how things work: $pdf->text() runs as it is encountered, meaning the full page count will not have been determined yet; $pdf->page_text() runs on every page after the HTML document has been rendered.\nYou can work around the limitations by using $pdf->page_script() instead, which is like $pdf->page_text() but it runs a script instead of placing text. So something like the following (you should be able to fill in the details):\nphp\n$pdf->page_script('\n  if ($pdf->get_page_number() == 1) {\n    $pdf->text(...);\n');\n. I could've sworn those variables were accessible (need to refresh memory). Try the following:\nphp\n    if ( isset($pdf) ) { \n        $pdf->page_script(\\'\n            $font = Font_Metrics::get_font(\"verdana\", \"bold\"); \n            $pdf->text(450, 50, \"This number must be seen in all pages: \".$PAGE_NUM, $font, 8, array(0,0,0));\n            if ($PAGE_NUM == 1) {\n                $pdf->text(450, 60, \"This number must be seen in page 1: \".$PAGE_COUNT, $font, 8, array(0,0,0));\n            }\n        \\');\n    }\n. This is a relatively old issue and the files have been lost to the bit bucket. If anyone has any useful info to report please do so and we'll re-open.. This is a relatively old issue and the files have been lost to the bit bucket. If anyone has any useful info to report please do so and we'll re-open.. @yogeshkoli the error is fairly generic so it's difficult to determine the cause. A starting place for help with debugging is to post the document you're having trouble rendering.\n. This is partially implemented, but width calculation is off for width: auto. See #627.\n. @Buildbetter instructions on downloading the latest (unpackaged) code are on the project home page. If you're not sure what to do just grab the nightly.\n. As of 54551d32450ce0085c1e1a88e5145016a69ec765 there is a bug in the mask applied. So far in testing, if the bottom left corner has no radius then the mask cuts the box in half.\nThe following exhibits the issue.\nhtml\n<div style=\"border-radius: 5px 5px 5px 0px; background-color: red; height: 200px; width: 200px;\"></div>\nThe only work around I have found so far is to use a 1px radius for this corner (border-bottom-left-radius: 1px;).\n. Follow up based on question from the OP.\nWe have made no changes to support this type of functionality, but that doesn't mean it's impossible to do. How you do it entirely depends on your document and system configuration. If you know where page 1 ends you can break the page, setting a page 1 header using absolute positioning and a remaining pages headers using fixed positioning. So long as you declare the page 1 header/footer on page 1 and the remaining pages header/footer on page 2 you'll get the results you're asking for.\nIf that doesn't quite work for you have a look at issue #608 for some hints on other ways to proceed.\n. That sample was specific to the #608 question, but the code should work fine. Actually, you can simplify it quite a bit.. The code I provided requires inline script to work. I've disabled inline script support for content entered into the \"Manual Entry\" and \"Remote Document\" fields of my debugger. So you'll have to test it on your own system.\nThere are limitations to what you can do using this method, but the code does work. I cleaned it up a bit and fixed the issue with the hidden content.. As said by @mnbayazit, you either need to use an alternate string quotation style (like nowdoc) or you need to escape the quotes in the string so that they don't conflict with the start/end quotes of the string. Your other option would be to put the HTML content into an external file (if you're not building it dynamically, or part of it into external files if you are building it dynamically) and use file_get_contents() to pull the external content into a variable.\n. @Paktas you can specify a larger margin for the entire document then target page 1 for a smaller margin. Try the following in your stylesheet:\ncss\n@page { margin: 2in .5in .5in .5in; }\n@page :first { margin: .5in; }\nbody { border: 1px solid black; }\n(The body border is just to show how the margins are applied, you'll obviously want to not use that styling.)\n. With the latest release you should be able to use the DejaVu fonts to display a wide range of characters. If further assistance is needed please open a new issue.\n. @Gummibeer we are aware of the continuing difficulties of nested inline elements and removed spacing. If we add an option such as you request or the problem will likely run in the other direction (too much space between letters). Maybe that would be preferable, but I think it would require not much more work to resolve the issue. I think at this point it would make sense to open a new issue considering the age of this one.. @Gummibeer we are aware of the continuing difficulties of nested inline elements and removed spacing. If we add an option such as you request or the problem will likely run in the other direction (too much space between letters). Maybe that would be preferable, but I think it would require not much more work to resolve the issue. I think at this point it would make sense to open a new issue considering the age of this one.. The HTML spec specifies that extra white space is ignored and that's why we go through the trouble of removing it when rendering text. If adding multiple spaces the requirement should be that the space is either \"pre\" styled text or uses non-breaking spaces. Those shouldn't be removed by dompdf. But if you're talking about using something like two. <span> Spaces</span> to define extra space, most browsers will remove that extra space as well.\nIf you have specific examples of where this is a problem or incorrect in your view it would be helpful to see. Preferably in a new ticket.. The HTML spec specifies that extra white space is ignored and that's why we go through the trouble of removing it when rendering text. If adding multiple spaces the requirement should be that the space is either \"pre\" styled text or uses non-breaking spaces. Those shouldn't be removed by dompdf. But if you're talking about using something like two. <span> Spaces</span> to define extra space, most browsers will remove that extra space as well.\nIf you have specific examples of where this is a problem or incorrect in your view it would be helpful to see. Preferably in a new ticket.. OK, yes. That is a known issue that we still need to address and is not the correct/desired behavior. We do still want to trim space in general, but we'll take a closer look at improving detection of space on the borders inside and outside of inline elements.. OK, yes. That is a known issue that we still need to address and is not the correct/desired behavior. We do still want to trim space in general, but we'll take a closer look at improving detection of space on the borders inside and outside of inline elements.. @Jany-M PDF bookmarks, no. Right now the best you can do with Dompdf is create a TOC with links to targetted element using the <a name=\"bookmarkname\"></a> syntax. Even that implementation is ... not great. The bookmark is to the page not to the specific location on the page of the bookmark.\n. I don't think creating bookmarks would be a lot of work. We already know where the headings are. But I'm not sure that our default library even supports adding bookmark metadata yet. I'll have to check.\nThe method we support to provide linking in the pdf uses standard PDF syntax and is, I believe, named destinations. But it's been a while since I've looked at that code so I'd have to refresh myself. We use this to provide internal linking within the PDF.\n. Not yet, but I'll go ahead and tag it for our forthcoming release.. @Orthophilos are you saying that the browser is displaying \"%PDF-1.3 ...\"? If so, that is the content of the PDF if viewed directly rather than in a PDF viewer. It could be that something is sending content to the browser before dompdf or affecting the headers. Can you provide a link to the PDF?\n. @rajesh0231 Which version of Dompdf are you using? When I tested with 0.8.x the text flows below the image before wrapping.\nIf you're using a recent version please open a new issue or post to the support forum. Be sure to include sample HTML+CSS that exhibits the issue.. This particular issue appears to be addressed in testing with 424c235949407b590002e7f0f4be2e0e911bc784.\n. I was hoping to have something done for the 0.8.0 release, but I had to push it off. I don't think I'll have time to do anything for 0.8.1, but maybe for the follow-on release. At the very least I'd like to make usage optional via the configuration.. Merged a fix for IMagick issues in commit c68484c. If anyone can confirm the issue is resolved that would be great. The update will be included in 0.8.2.. Thanks for the patch. We'll take a closer look at it.\n. Yes, I see that. I didn't think to check different styles. I think it's a separate issue related to how counters are rendered. I'll have a look, it should be a quick fix.\n. Try it now. Not all the counter types render correctly, but the list type detection should now work.\n. You can indeed and it is much appreciated: http://goo.gl/DSvWf\n. The :before content handling is breaking page counters. Easily seen on the css_content sample.\n. Not the :before content handling, but the way in which counters were decremented. Should be ok now with commit ae1e0d4987741b1d0a153b48f671b10a45c1cb59\n. It is on our list, though I can't say when it will be implemented. However, it wouldn't seem to be something too difficult to patch in so I'll take a quick look sometime soon.\n. At some point, yes. Actually, I'll tag it for 0.7.1, but it may slide to 0.7.2.\n. Not  yet.\n. It is not yet implemented.. @ancabr seems to work fine. Which version of Dompdf are you using? Do you have some sample HTML?. I understand what you're saying, but I'm not sure right now that this qualifies as a bug. Currently dompdf reparses the body on each page. I suspect what you'd like is to be able to apply values to the HTML element and have then parse once as a global (with inheritance, of course). This may be worthwhile, but we'll have to discuss what is the most appropriate method to handle @page vs body vs html.\n. I don't believe this is still an issue.. Is this still a problem with v0.6.1? We haven't yet looked into this particular issue, but there has been some work done that could affect InDesign.\n. We released 0.6.1 not too long ago. It has at least one change that may help.\n. Thanks for the update. Previously I had identified font embedding as a potential source. Have you tried opening in Acrobat Pro, saving, then placing in InDesign. A bit of a pain for the work flow but sometimes saving from Acrobat Pro can fix issues in the PDF.\n. That should help somewhat in determining the error. I no longer have access to Acrobat Pro or InDesign, so debugging will be difficult.\n. We do indicate that the document format is 1.3, can you rerun preflight with a profile for Acrobat 4 or higher? I did see some structural errors reported when I ran a document through an online validator. The PDF version we target is under the minimum used by most validators (PDF/A, i.e. PDF 1.4), which is probably part of the reason. We'll have to take a closer look.\nTo help fix this issue (and ensure wider compatibility) I think we'll need to further integrate some PDF validation tools in our testing. Here's a list of potential validation tools, preferably we can go with something open source:\n- JHOVE\n- PDF/A preflight tools\n- 3-Heights\u2122 PDF Validator (or online)\n- Appligent APGetInfo\n- PDFTron PDF/A Manager\n. Thanks. This should hopefully be enough to get us started.\n. Sorry, nothing yet. Other projects have kept me busy, though I have been mulling the problem over in my head. Have you tried turning off compression in the PDF? It's either $dompdf->stream( 'file.pdf' , array( 'compress'=>false ) ) or $dompdf->stream( 'file.pdf' , array( 'compression'=>false ) ) ... I need to check the code on that option.\n. Thanks for trying. It was a bit of a long shot, but I wanted to exhaust the simple things first.\n. Can you try the PDF at the following location?\nhttp://eclecticgeek.com/dompdf/rendertemp/dompdf-patched-xref.pdf\n. I'm still looking into the CapHeight issue, in the meantime I found an unterminated line (easy fixes first). New download: http://eclecticgeek.com/dompdf/rendertemp/dompdf-patched-xref-endstream.pdf\n. I don't have a fix for the CapHeight issue (I think it may be that php-font-lib is not pulling the information from the font), but I hacked CPDF to use the ascender value. Though it's not correct the file should render. Hopefully this download fixes the issue (I also incorporated fixes for the XREF and the missing line terminator).\nhttp://eclecticgeek.com/dompdf/rendertemp/dompdf-patched-cpdf.pdf\n. Glad that worked out. Truthfully this issue was low on our list. If you hadn't been so motivated to see it fixed I don't know when we would have looked at it again. It proved to be important, though. The structural errors in the rendered PDF, while not fatal for most PDF readers, can definitely prove to be problematic.\nThough we addressed the errors that caused the PDF import to fail in InDesign we still have work to do. We haven't resolved the core issue with the missing CapHeight key, For now we just modified CPDF to fake the CapHeight key so that the PDF is valid.\nLook for a commit with an updated CPDF file, which is the only file you need update until a more robust fix is produced.\n. @ldaguise are you using the 0.6.0 final release? I believe the core issue was addressed. There may be multiple problems under discussion here and so it would help to see the problem PDF (or screenshot) and the HTML that produces it.\n. @ldaguise are you using 0.6.0 final? I'm not seeing the issue when rendering your sample HTML unless I'm using beta 3. If you are it could be something in your style sheet causing the issue. Can you post the full CSS?\n. @nathanpitman it would help to see a sample of the HTML you are using that's causing the issue. The original report used a fairly large table (and still appears to have problems).\n. I managed to grab some of the original issues and attachments before Google retired the Google Code. The original document definitely would benefit from the fix you put in @simonberger.\nYou'll see even better performance enabling the HTML5 parser, unless the document you're trying to render is perfectly formed. Also look at using the latest version of PHP, under which you should see even greater improvement.. @nguyendola a good question for the support forum: http://groups.google.com/group/dompdf/topics\nPDF documents are defined in PPI. dompdf translates PX to PT based on the value of DOMPDF_DPI. If you set DOMPDF_DPI to 300 it will essentially triple the pixel width of your PDF, which has a fixed PPI of 72. So to get one-to-one translation to the PDF document you should use a DPI of 72.\nAbout your page size ... what are you specifying in $width and $height? \"A4\" is a recognized paper size and so you can just use $dompdf->set_paper('a4','landscape');. A4 dimensions are 595.28pt x 841.89pt and so even at 72dpi your div won't fill the page.\n. @PhenX, can you check the following Bangla text that was supplied in the linked StackOverflow question?\n\u09ac\u09b8\u09cd\u09a4\u09bf \u098f\u09b2\u09be\u0995\u09be\u09af\u09bc \u099b\u09bf\u09a8\u09a1\u09bc\u09ac\u09ae\u09c2\u09b2 \u09ab\u09cd\u09b0\u09bf \u09aa\u09cd\u09b0\u09be\u0987\u09ae\u09be\u09b0\u09c0 \u09b8\u09cd\u0995\u09c1\u09b2 \u09aa\u09cd\u09b0\u09a4\u09bf\u09b7\u09cd\u09a0\u09be\nI tried a number of fonts from this site and the text never rendered correctly. I don't know if this is an issue with the text or a similar issue as the one addressed in that update to php-font-lib.\n. @thedevsaddam can you open a new issue? I'm not certain this older one is relevant since disabling font subsetting seems to have worked around the reported issue.\n. @PhenX uh ... wha? I'll have to review this issue and the fix. I think it had something to do with the selectors.\n. @PhenX luckily I documented the issue. See #543 \n. It looks like any nth-child issues are now fully addressed ... though this particular patch does not appear to have been applied. It's entirely likely other changes were made that address this issue. I'll have to compare the relevant code as it stood when this patch was originally addressed against what it looks like now.. For anyone interested nth-child and nth-of-type have the same behavior because the same code is used for each (ref in 0.7.0).. Not yet, no. Just a quick summary of what's happening. When text is justified we have to do a spacing adjustment for the text in the PDF. This works fine for a single string of text. But nested inline elements are treated separately in the PDF, even if there is no styling difference. So these have to be positioned correctly to take into account that spacing. You can tell that an attempt is made to space these inline elements, but the calculation must be slightly off.\nSo the crux of the problems is that the position calculation for the text blocks needs to be updated to better reflect the modified spacing.\n. duplicate of #430\n. This particular issue appears to be addressed in testing with 424c235949407b590002e7f0f4be2e0e911bc784.\n@TeckniX your issue may be unrelated. Can you open a new issue or take it to the support forums so we can investigate further?\n. Running a quick test and line-height seems to be implicated, even though it has no discernible effect when the line is not at the bottom of the page.\n. Which release of dompdf are you using? Looks like possibly v0.5.1, in which case we'd recommend you try v0.6.0, currently in beta but just as stable as 0.5.1.\n. @bfrohs since this is off-topic to the bug, let's move the discussion to a more appropriate venue. I started a new thread on the developer forum: https://groups.google.com/d/topic/dompdf-dev/EUHC660ibv0/discussion\n. @bfrohs point taken, particularly when considering the following fact: passing this document through the HTML5 parser results in a fatal error in the parser. Of course, that's a subject for a separate bug. As Fabien says, this issue appears to be more related to the rendering code and not the parsing code.\n. dompdf is able to parse all three levels of CSS. Duplicate style declarations shouldn't cause the issue you're seeing. It's more a problem with dompdf keeping track of the elements on the page. My one suggestions would be, if you could, to redesign the form (even if only a little). I think you can make it more readable, and more easily processed by dompdf, with just a few tweaks to the document structure. That doesn't resolve the original issue, but it would make your job a little easier.\nIt looks like you're in the process of addressing the layout issues. If this is true then keep in mind that to help us resolve the original issue we would need access to the original document. What's up there now doesn't exhibit the same problems and I think you're probably looking at more of a layout problem than a parsing problem (e.g. the \"Patient Information\" cell should have a colspan).\n. Pondering the question, I'll come out in support of this. Using the class as part of a project is fairly easy and I think most installations probably do not need the included website. It would have been a more difficult decision had not @font-face support been added. With support for that feature, however, an installation is fully functional even without the CLI or WWW components.\n. Thanks, indeed! I totally forgot that I had brought this up before.\n. Utility code was removed in commit db8ca427128dcce38698dade85cdd195a1c504ee.\n. This code will eventually be made part of the dompdf-utils project\n. Currently it is important where in the document you start your header/footer. dompdf processes the page linearly, so page 1 will have been processed before it gets to your footer. Place your footer at the top of the document and it will display on all pages.\n. Hrm ... there may be a bug around this. Try pulling your div outside any other elements so that it's only parent is the body.\n. You can access the current page number using CSS counters. For example:\nhtml\n<html>\n  <head>\n    <style>\n      p { page-break-after: always; }\n      .footer { position: fixed; bottom: 0px; }\n      .pagenum:before { content: counter(page); }\n    </style>\n  </head>\n  <body>\n    <div class=\"footer\">Page: <span class=\"pagenum\"></span></div>\n    <p>lorem ipsum ...</p>\n    <p>lorem ipsum ...</p>\n  </body>\n</html>\n. Not at this time, though it's on our list. Right now page count can only be accessed via inline or page script.\n. @Asimov500 so the main thing to keep in mind is that you have to push the header into the page margins using negative positioning (e.g. top: -200px). It's a bit more difficult if you don't know what the height of the header will be. One way you might do this is to render the document twice and use a callback on the first render to get the height of the header. The first render could just render the header and nothing else.\nIf you want to work out your options a better place to discuss this is on the support forum.. If you update to the latest code the bottom padding issue should be resolved. However, the previous-page rendering issue remains for the \"nobreak\" div.\n. We should be able to address the page-break-inside issue.\nThe hangup, however, I'm unable to reproduce. It seems like possibly an object that's too big for the page is causing issues, but I don't see anything like that in your document.\n. You can access the current page with inline script using $pdf->get_page_number();.\nNote that inline scripts run as they are encountered. Another means of running script is using page scripts. These are similar to inline script but run on every page of the document after it has been rendered. When using page scripts you have access to both the current page and the total number of pages.\nYou can add a page script two ways: through inline script or via the dompdf object. Adding through inline script is as simple as:\nphp\n$pdf->page_script('\n  /* some PHP code here, you have access to $PAGE_NUM and $PAGE_COUNT */\n');\nYou can see inline script and page script used in combination to create a TOC here:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=toc-v0.6.x\n. Which version of dompdf and what back end are you using? In my testing with various versions of dompdf and the CPDF back end I haven't been able to reproduce this issue.\nI don't know if your sample code is accurate, but if so that would also be a problem. You may also want to ensure that your link is correct (e.g. no leading spaces or other characters).\n. If you run into any further issues let us know.\n. The problem is a little more complex. Implementing your change, we run into an issue where extra white space remains. Such as in the following:\nhtml\n<p><b>THIS IS BOLD, <u> UNDERLINED AND <i>ITALIC</i></u></b></p>\nThe code around collapsing white space needs more work so that we can develop a more robust solution. I hate to significantly increase the complexity around this functionality, but some more complex logic may be needed that can parse parent & neighbor inline elements and text nodes in a recursive manner until the question of extraneous white space can be resolved. Or perhaps there's a more elegant solution than brute force parsing.\nStill, the perfect is the enemy of the good. This change is arguably better than the current situation where we're truncating white space to the point where words run together. Any thoughts,@PhenX?\n. I was thinking a workable means of handling the white space collapse issue might be to a) trim leading/trailing white space from an inline element; and then b) push that same white space around the inline element in its parent. This can cascade all the way up to the containing block element. This might more easily be done after the document is fed into DOMDocument, but it would require an extra parsing step prior to rendering.\nIn the meantime, I think this change is beneficial since it clears up an obvious issue (that can't be addressed in the HTML) while only adding a minor issue related to spacing (that can be addressed in the HTML).\n. Addresses issue #393 \n. FYI, with 0.6.0 you can also create a connection context and pass it to dompdf. Basic authentication should be the easiest to implement. I would imagine that with a little effort it's also possible to use session cookies as well.\nI haven't used this feature myself, but there are examples on the web and maybe @phenx has some sample code.\n. Does this happen with all fonts or just the one you are currently attempting to use?\n. It's possible it's an incompatibility with 5.3.21, but I am not in a position to test that right now.\nHowever, the error appears to be more basic in that it's saying the Font_Glyph_Outline class can not be found during instantiation of the Font_Glyph_Outline_Simple class. This could indicate a corruption in your php-font-lib files. So the first thing you might try is downloading a fresh copy of the files.\n. Your source may be the problem. @PhenX is the author of php-font-lib. You can find the official code repository here: https://github.com/PhenX/php-font-lib\n. At this point I don't have any other advice. I'll need to set up a system with 5.3.21 so I can try to reproduce the error in an environment that is a closer match to your own.\n. This error is due to class instantiation order in php-font-lib. Apparently in older releases of PHP is was perfectly fine to declare a child class before its parent, but since then PHP has become more strict. While this capability still exists, most of the opcache engines adhere to the strict ordering requirement. PHP5 gets around the limitation through the use of autoloaders, but since this particular class pulls in the child class the require statement should be moved to the bottom of the file. This is preferable to disabling opcode caching since you'll see better performance with caching enabled.\n. This error should be addressed by PhenX/php-font-lib#12. When that PR is accepted we'll update the reference in dompdf.\n. So you are rendering your document from the command line? First thing to check is whether or not PHP throws any errors. You might want to enable error display, since you're running from the command line (though I always find having error logging enabled a benefit for debugging). Try this command instead:\nbash\nphp -d display_errors=1 dompdf.php -- -v t.html\nYou image is a PNG. Do you have GD enabled?\nRegarding the first image. You said you have already enabled DOMPDF_ENABLE_REMOTE set to true. You enabled access to /tmp, but make sure this is the directory specified by DOMPDF_TEMP_DIR which is where dompdf needs read/write access when working with remote images. Finally, make sure you have allow_url_fopen set to true in your php.ini. Or enable it at run time:\nbash\nphp -d display_errors=1 -d allow_url_fopen=1 dompdf.php -- -v t.html\nThe second image will load relative to the current working directory (presumably your dompdf folder). The third image would be the absolute path to the image in the local file system. It looks like you've taken this in to account. Just make sure that all the above questions are addressed and that the image and temporary path is accessible to the account running dompdf.\n. Take a look at issue #250. A similar error was returned due to an invalid style.\n. dompdf 448, as in revision 448 from the SVN repo? That's not the latest, so you might try updating, though I don't think that's your issue. It would help to know what your source document is, how you are loading it into dompdf, and any other relevant information. As you can see from this test render these characters should render just fine.\n. Hrm ... sure you're using dompdf? That code looks more like what you'd see with TCPDF. The civiCRM site isn't responding, however, so I wasn't able to check.\nIf it is TCPDF, you might try removing the AddFont line, perhaps it is causing problems with preloaded fonts (like the core fonts).\n. Float is implemented in 0.6.0, but support is incomplete (since the feature is still experimental it has to be enabled in the configuration). I tested a two-column layout using float and it works ... sort of. Not well enough to use in a production environment.\nWhen using tables all table cells have to be able to fit on a page or you'll run into issue #98.\nSo ... yes, right now it's impossible to create a two-column layout if your document is larger than a single page.\n. @zarifansari your question might be better answered on the support forum.\n. Nothing yet :/\nWe'll need to make some changes to the rendering process before this is truly feasible. Probably won't be until 0.8.0, unless somebody finds the time to jump in and help.\n. This looks to be related to issue #430. I believe it has been addressed in the latest code, though it's hard to say due to issue #592. The last update from the SVN repo seems to contain the fix.\n. Seems the page-break problems are more extensive. page-break-inside: avoid; also appears to no longer work.\nTested on commit 3991634.\n. The source HTML document for that example is included in the distribution from us. All the samples can be found in dompdf/www/test. You can see that particular document here: https://github.com/dompdf/dompdf/blob/master/www/test/print_header_footer.html\n. Would it be preferable to utf8_decode() the base file name and rawurlencode() the UTF8-encoded file name? Other than that question, though, I think we can merge this.\n. I realize that we would lose characters when utf8_decode() is applied. But it seems the fallback is assuming the text is using iso-8859-1 encoding anyway. If we don't do anything and just pass the rawurlencod() text to both filename parameters the end user could potentially see what appear to be a string of random characters instead of the expected filename. In this case it seems it would make sense to go ahead and utf8_decode() the text for the fallback. It's not perfect, but some at least some transliteration is done.\nActually, we already rely on mb_convert_encoding(), so that's probably a more acceptable means of transliterating.\nThere's no worries about converting iso-8859-1 since the character encoding of the first bytes of UTF-8 match up with that of iso-8859-1. The concern is if the user is using some other character set, such as iso-8859-5, that does not match up. We should obviously spend more time thinking this through.\nIn the meantime I think we can include the quick fix provided in your code, with the modification that the fallback filename is transliterated to iso-8859-1. So long as everyone agrees that applying mb_convert_encoding() to the filename is an acceptable compromise for the time being.\n. Looks like we're on the same page. We may want to add in mb_detect_encoding() just to be sure we're not corrupting the file name. But with these modifications in mind we can go ahead and merge your request.\n. Without doing too much testing, it's likely due to your CSS. Your HTML looks pretty straight-forward. A quick glance and it could be the height attribute on the HTML and BODY elements. I don't have time to check it, but if you take those out do you see any improvement?\n. You're experiencing an issue with character encoding. Follow the advice in the Unicode How-to and see if that addresses the issue.\n. Definitely an issue. Looks like an issue introduced since 0.6.0 beta 3, so you could try reverting back to that release if you don't need any of the fixes introduced since then.\n. Could be related to issue #482. If you remove the image do you still encounter the problem?\n. I can't say about the examples on @PhenX's site, but scripting does appear to be working. See here the test render here: http://eclecticgeek.com/dompdf/debug.php?identifier=1cfda8e15b89b651b1b0f536bb2bbac1\nCould it be a configuration issue? You said you enabled PHP in the config, so it should be running. Do you get any PHP errors or warnings?\n. I stand corrected. I wasn't running the latest code in the debug tester. After updating I am also experiencing problems running inline script.\n. The problem is with commit 19e5ef167a19df19266aac4cf0d655ee9232c22b. Scripts are being removed because they are set for display: none. We'll have to come up with a more robust solution to the problem this commit was attempting to fix.\nYou can either undo the changes made by that commit (see https://github.com/dompdf/dompdf/commit/19e5ef167a19df19266aac4cf0d655ee9232c22b) or download an earlier version. The download for the code as it was just prior to that commit can be found here: https://github.com/dompdf/dompdf/archive/62a8231ef3f43ab8b016ff8387c752b3dcbb13a1.zip\n. @PhenX the quickest fix would be to add an exception for anything that needs to remain in the document despite styled with display: none. Or, considering the number of non-rendering elements maybe the exception should be for elements that normally render. We're not encountering many issues with non-rendering elements so perhaps the immediate solution would be to only address problem elements. In this case the TR element.\n. @PhenX Are you sure you don't want to go for a more complex solution? Perhaps a new class for \"none\"-level elements might be in order (None_Renderer)? ;p\n. I see one major issue with what you've posted here. Your inline scripts are located outside of the body of the HTML document. All inline scripts should be contained within the body of your HTML. Otherwise, when dompdf parses the document they may be moved to the document head and not parsed.\nSo try something more like the following:\n``` html\n\n\n\n    $GLOBALS['chapters'] = array();\n    $GLOBALS['chapterpage'] = 3;\n    $GLOBALS['backside'] = $pdf->open_object();\n\nTOC\n\n\nforeach($pages as $k = $page) { if($page!= '') { ?> echo $page; ?%%CH echo $k; ?%% } }\n?\n\n$pdf->close_object();\nbla bla bla\n\nif(isset($pdf)) {\n    foreach ($GLOBALS['chapters'] as $chapter => $page) {\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = str_replace( '%%CH'.$chapter.'%%' , $page , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] );\n    }\n    $pdf->page_script('\n        if ($PAGE_NUM== $GLOBALS[\"chapterpage\"]) {\n            $pdf->add_object($GLOBALS[\"backside\"],\"add\");\n            $pdf->stop_object($GLOBALS[\"backside\"]);\n        }\n    ');\n $pdf->page_script('\n        if ($PAGE_COUNT > 1 && $PAGE_NUM != $PAGE_COUNT ) {\n        $font = Font_Metrics::get_font(\"verdana\");\n        $fontsize = 10;\n        $fontcolor = array(0.4,0.4,0.4);\n        $pdf->page_text($pdf->get_width()-60, $pdf->get_height()-30, \"{PAGE_NUM}\", $font, $fontsize, $fontcolor);\n        }\n   ');\n\n}\n\n\n```\n. This is probably causing the problem outlined in issue #98.\n. For example, if you update your HTML with the following styling it should render ok (tested with latest dompdf code).\ncss\ntable { border-collapse: collapse; }\ntable, tr, td { margin:0px; padding: 0px; }\n. @PhenX you've understood correctly. I'd like to add a bit more context for the OP about this issue in hopes of clearing up any confusion. Helvetica, Times, and Courier are all core fonts as defined by the PDF spec. Per the PDF 1.3 specification, section 2.2.3:\n\nPDF prescribes a set of 14 standard fonts that can be used without prior definition. These include four faces of each of three Latin text typefaces (Courier, Helvetica_, and Times_) and two symbolic fonts (Symbol and ITC Zapf Dingbats\u00ae). These fonts, or suitable substitute fonts with the same metrics, are guaranteed to be available in all PDF viewer applications.\n\nWhat this means is that if one of the core fonts is used we do not have to provide the actual font file. The PDF reader is responsible for supplying the font. If, in your PDF, Helvetica looks more like Arial it is because your reader is using Arial as a \"suitable substitute\". If you want to ensure that the character glyphs in the PDF are actually Helvetica you'll need to load that font into dompdf.\nTo complete the picture, the .AFM files are font metrics files. The font metrics for the core fonts come from Adobe. They do not contain actual glyphs, just the measurements of the characters. We use the information contained in the .AFM files during rendering to calculate line length. The actual displayed glyphs would (typically) be contained in either a .TTF or .OTF file.\n. No worries, glad we were able to clear things up. I just started using the built-in Firefox reader ... look forward to seeing what other things it does differently.\n. Which version of dompdf are you using. The image display issue may have to do with a bug in the image cache. This has been fixed in the most recent release.\nAdditionally, you may be experiencing a resource overrun. When running dompdf in a loop you should at least destroy the object at the end of the loop. But what we've found in the past is that the best results come from running each render in its own process (e.g. using exec()). Check out this thread on the support forum for more information: https://groups.google.com/forum/m/#!topic/dompdf/tvYDvZQ6u0E\n. The image cache issue was reintroduced in 0.6.0 beta 3, so you may want to go ahead and try the latest code by downloading it here: https://github.com/dompdf/dompdf/archive/master.zip.\n. Can you post a sample HTML document showing the problem (or reference an existing bug)?\n. Also, we'd like to avoid merging changes directly into the master branch where possible. Target your changes to the develop branch and we'll take a closer look.\n. @grzebzi without a minimal test case I'm not sure what problem this fixes. I've tried a few test cases and so far the only way I can get an absolutely positioned DIV to not show up is if it has no content (i.e. no width).\nI'll push this to the next release unless you can provide more info.\n. FYI here's what I tested with:\n<html>\n  <body>\n    <div style=\"position: absolute; height: 50px; left: 10px; top: 10px; background-color: black;\"></div>\n    <div style=\"position: absolute; height: 50px; left: 10px; top: 70px; background-color: black; width: 10px;\"></div>\n    <div style=\"position: absolute; height: 50px; left: 10px; top: 160px; background-color: black;\">a</div>\n  </body>\n</html>\n. @bfrohs that seems more appropriate. I didn't even know about the submodule command (though I am just getting started with git). Also, I might modify the instruction to be more like the following so that we can add other installation methods in the future:\nEasy Installation\nInstall with git\nsh\ngit clone https://github.com/dompdf/dompdf.git\ngit submodule init\ngit submodule update\n. @bfrohs good point!\n. Page breaking is basically handled as part of the Page_Frame_Decorator class. And the header/footers in the sample you cite are created in CSS using fixed positioning. @PhenX can better point you where to look, but I think we could provide you better guidance if we knew what you wanted to do.\n. Are your headers/footers the same every time? If so you can just define them once and use position: fixed. If each page DIV has different headers/footers things become a bit more difficult. However, it is still possible without modifying the dompdf source.\n. Normally what I would do is generate each \"page\" separately then combine using a tool like pdftk. If you can run in this type of setup it's much easier to generate the type of document you want (so long as you're not including page numbers). See this StackOverflow question for a few variations on the theme.\nIf running a second app or PHP script is not an option then you'll need to use inline script to capture the header/footer content and then re-apply it post-processing using the page_script() method. The tricks you have to use with inline script are a bit complex, but if you study this example render for a few minutes you'll hopefully be able to figure out what's happening. If you need me to explain just let me know.\n(For some reason there's a blank page inserted in the PDF, but once I got this far I decided to call it a day.)\n. When you apply margin/padding on document content to a container it does not get reapplied when the container spans pages. So it will affect the first page, but not later pages.\nThe easiest fix is to specify page margins that provide space for your headers/footers. Try the following stylesheet adjustment (you can just append it on to the end of your existing styles):\ncss\n@page { margin: 1in .5in .75in .5in; }\n.header { top: -.75in; }\n.footer { bottom: -.25in; }\nThe problem with this in your situation is that right now there's not a way to modify the margins per section, which is what you'd need to do using this type of styling. So this works best when your headers/footers are a) fixed in size and b) the same size for all sections. I don't really have a solution right now for when section headers are of different sizes.\n. Thanks for the update. The original problem may be in php-font-lib, so I'll leave that for @PhenX to look at. The underline position may well be due to how dompdf is calculating where to draw the line, so we'll take a closer look at it.\n. Which version of dompdf are you using?\n. 0.5.x has a number of issues related to URL parsing. These have been addressed in 0.6.0, and though it's listed as beta we highly recommend you upgrade. There are a number of significant improvements in the latest code, it's as stable as the 0.5.x release even in beta, and 0.5.x won't be receiving any more updates.\n. I'm not seeing the same issue when rendering on my system (i.e. it looks as expected). Are you seeing any messages in the PHP error log? You might try refreshing your files as well\n. I dunno. That works ok for me as well. Have you tried blowing away your install and starting fresh?\n. Thanks, @PhenX. I totally forgot that it's disabled by default :/\n. @mohit-eis can you share a sample of your HTML?\n. github doesn't accept file uploads, but you can link to the file hosted elsewhere.\n. dompdf can natively access external files, just use $dompdf->load_html_file(). Or if you want to load the HTML document into a variable first use the file_get_contents() PHP function then $dompdf->load_html().\n. @mohit-eis FYI general questions are best asked on the support forum: http://groups.google.com/group/dompdf\n. At the very least we do not want dompdf to error out when unknown keywords are used.\n. I don't know if it's the font itself or the information generated by php-font-lib that's causing the issue for ghostscript. You might try updating your dompdf and php-font-lib code. There are newer versions of both.\nAlso, with the latest code you can enable font subsetting, which will significantly decrease your file sizes. Look for the DOMPDF_ENABLE_FONTSUBSETTING setting.\n. I'm not sure why you would have broken images or missing text. Could be related to your settings.\nThe extra lines could have to do with some font metrics issues we've encountered (see issue #609). Can you post the original HTML so we can do some testing when we look into this issue?\nGlad that font subsetting helped. I have run across some occasional oddities related to it (e.g. the new PDF reader built in to Firefox as of v19 has trouble with fonts embedded by dompdf), but it seems to be working quite well otherwise.\n. The underline issue may be related to #609, so follow-up there if you're able to reproduce the problem.\nThe spacing issue is ... odd. The character appears to be there. If you copy the line it copies correctly. I don't know if maybe the glyph is missing or something else is going on. But in the latest version of dompdf I'm not seeing the problem, so whatever the issue was it looks like it has been addressed.\nI have been unable to reproduce the image issue. Since the image is a GIF, it may be due to the conversion to PNG for placement in the PDF. You might try converting these images to PNG yourself and see if that helps.\n. The main reason this is used is to prevent naming collision on fonts added using @font-face. I think we just re-purposed it for use in the web admin interface. Perhaps we can modify register_font to pre-pend the font name to the md5 hash. That way you can identify the font, but we still have the collision prevention.\nI'm not against allowing user naming. In addition to adding a field in the admin interface, the font name could be pulled from the @font-face property. So anytime register_font is called there's a font name associated with the hash.\nAlso, it doesn't hurt anything and maybe not worth changing, but do we need a hash on fonts added via the web admin interface?\n. We'll consider some changes related to this for the next release. Since the PR is out of date if you have time it'd be great if you had time to update it.. Unicode works, you just have to make sure you have a supporting font. The demo site at pxd.me does not. I loaded that same document on my site and added the Firefly Sung font and the document renders as expected. You can see the results here:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=5c27e33b09c7ff5465acb1da38289ed1\n. Sample HTML would be greatly appreciated.\n. That is quite odd, especially considering the consistent structure of the HTML throughout. We'll have a closer look when we get a chance.\n. A donation is appreciated, but not necessary. The issue is more about developer time. You've hit us while the team is particularly busy with other projects. Since dompdf is a volunteer effort it necessarily has to take a back seat to other activities (like those from our regular employment). I may have time in the next week to take a closer look.\n. Still haven't had a chance to work out the issue further, but wonder if it's related to issue #550.\n. So far as I know nobody has had a chance to look at this yet. I tested your sample and am still experiencing the non-wrapping issue.\n. I don't think this logic is why phar doesn't work. I ran a phar path through these functions and it came out correctly. Supporting phar shouldn't be a major hassle, but we'll need time to run some tests and find out where processing phar paths fail. Are you trying to render an HTML file from a phar or reference a resource (e.g. css or image) inside a phar? Some sample code would help determine how to handle your use case.\n. Noted elsewhere: https://bugs.php.net/bug.php?id=52769. Also see https://groups.google.com/d/topic/dompdf/PxGsXAjXIkI/discussion. I've not seen this particular error before when attempting to write a file locally. What OS & version of PHP are you running? Does dompdf have write permissions to the specified directory?\n. Those directories should be the only ones that need write access. Are you using latest dompdf from the git repo?\nIf you write a generic script (not using dompdf) that just calls something like file_put_contents(/path/to/dompdf/dompdf/lib/fonts/Times-Roman.afm.php, 'stuff') does it work?  Make sure to delete the file after testing.\nDoes it have something to do with the file system or disk device?\n. @ylynfatt the *.php files will be created on the fly. They're a cache of the parsed information from the font metrics file (plus some other information). In the past the inability to create these files was a problem, but I believe we have addressed that issue.\n. I'm not seeing the same error. Are you using the latest trunk from SVN? Or the latest from git master? A lot of updates since moving to git so if you're still using the SVN code you may want to update from github.\nIf you are using the latest git commit can you share what OS and PHP version you have?\n. The download is, unfortunately, incomplete when downloading from github. The download doesn't include any linked projects (such as php-font-lib). So you'll want to head over to that project to download a fresh copy: https://github.com/phenx/php-font-lib.\nThe problem could be specific to PHP 5.2.x, I'm planning to modify my debugging environment so that I can run different versions of PHP so I'll test again when that's done.\n. @DerDu sample code is the best way to help us help you. So I think the reason I wasn't able to reproduce the issue is that I typically run with the HTML5 parser enabled. When I disabled that feature dompdf threw the noted exception.\nIt looks like the main cause of the issue is the white space between the cells. When I enable the HTML5 parser the space is removed and the document render just fine. So, for now, while not ideal, you can try removing any space from between your table (table, tr, td, etc.) elements. Or maybe just try using the HTML5 parser.\nThe changes suggested in #1125 will prevent the exception from being thrown so that'll be pulled in the for the 0.7.0 release. I'm not sure if this fully addresses the issue, so we'll take another look for the 0.7.1 release.\n. I'm also wondering if commit 2137e2b8e26e3ea85535080f48abc017e2dc7b40 could be relevant.\n. No recent feedback, and so far as I can tell the issue seems to be addressed in the latest develop branch. Closing for now unless further info is incoming.. By default when you add a font the entire font file is included in the PDF. The core fonts (Helvetica, Times Roman, Courier) are special in that the fonts are built in to PDF viewer apps and so do not need to be included in the PDF.\nIf you're using 0.6.0 beta 3 try changing the DOMPDF_ENABLE_FONTSUBSETTING option to true.\nAlso, in beta 3 you no longer need to use the web-based font prep tool. We switched to a PHP-based font library. You can either use the command-lilne load_font.php script or visit the included web content, which includes a font loading tool.\n. The difference between the web-based tool and the built-in one is mainly in convenience. With the built-in tool you don't have to modify any files, you just load the font.\nWe'd have to see a sample PDF to diagnose the problem. It could be, for example, that the font file itself is not embedded.\n. Which version of PHP are you running? The DOM extension (of which DOMDocument is part) is enabled by default. Presumably you didn't install the old PHP4 extension (DOMXML).\nThat being said, the HTML5 parser is where you're having issues, so you could disable it. Set DOMPDF_ENABLE_HTML5PARSER to false. Also, you might want to run your HTML through a validator. The closer your document adheres to correct HTML syntax the less likely you'll run into parsing errors.\nFinally, if you want to post a sample HTML document that produces the problem we can take a look for any bugs that need to be addressed.\n. DOMDocument::loadHTML is a built-in method to the DOM library, so you shouldn't be getting that error. Do you maybe have the PHP4-based DOMXML extension installed? You can tell what modules are installed by calling phpinfo().\nAlso, access dompdf/www/setup.php to see if you have any red flags.\nThis isn't related to your error, so just a reminder. When downloading an archive from github make sure you also download a copy of php-font-lib. It's not current included in the download.\n. Samples are no longer included with the library (though may be resurrected in the utils project).. The problem likely has to do with the encoding of the text. The characters that are displaying correctly are likely encoded in UTF-8, while the other characters are encoded in something other than UTF-8. If your editor supports specifying a document encoding you should specify the file encoding. This is done via program options/commands, not using the meta tag (though you want the meta tag so dompdf knows the document encoding).\nIf your document is online I'm happy to take a look at it.\n. Browsers tend to be a little more forgiving than dompdf. When I copied the text you entered I was getting question marks when rendering with output, but if I type the characters directly I don't have any problems. Perhaps somewhere along the line the text is being parsed in a way that's messing with its encoding. It's really hard to say if the problem is with dompdf or somewhere else without seeing a sample document.\nEncoding issues are terribly difficult to diagnose because while the characters may look correct the underlying code sequence may be wrong. And often it's not until you go from one system or application to another that the problem appears. If you can't provide us with a sample document you might try investigating the encoding yourself.\nOne things you can do is check the character encoding by isolating the problem character and converting the individual bytes to hex. The same character should always use the same byte sequence. You can check the current byte sequence with the expected (e.g. by looking at Wikipedia).\n. @taii Can you specify your issue and provide sample text. Which version of dompdf? What font?\n. FYI, Verdana is shown in the example but it isn't provided with dompdf. With that in mind dompdf will use the core \"sans-serif\" font which is Helvetica. When rendering with the core fonts dompdf only supports characters that are covered by the Windows ANSI encoding, which is probably why you only saw certain characters in the output. Try specifying DejaVu Sans and you should see better results.\n. @probircse FYI best practice if you're having an issue unrelated to the ongoing discussion is to open a new issue or post to the support forum.\nThat being said, there's a good chance PHP threw a notice that got caught in the PDF content stream. Try opening your PDF in a text editor, the notices usually wind up above the PDF source.\n. inline-block elements also exhibit this issue\n. Sorry, I checked when you initially posted the issue. I waited to respond for a little while, but forgot that github does some caching so it appeared that you hadn't filled out the details.\nThe issue (for images) has been addressed (see issue #448). If you can't wait for the next release go ahead and download the code from github (you'll need to download php-font-lib separately from https://github.com/PhenX/php-font-lib).\nFYI, the issue has not yet been addressed for other elements. You can follow the status of that in issue #476.\n. We have some basic instructions, but certainly something more thorough would be beneficial. There's actually a nice overview in the wiki, feel free to enhance it as necessary.\nWhen I have a chance I'll review the composer installation procedure and write a more thorough document. Plus I'll pull the best info together to create a composer quick start for the README.md.\n. And helpful you are. I apologize for the delay, a little patience is appreciated. I was hoping @PhenX would have more time to devote to the composer issues because, to be honest, I have almost zero experience with it. Though I know that moving forward Composer usage will only grow. So I do plan to spend more time learning the environment so I can help code better integration inside dompdf.\nLooking at your PR the modification is simple enough I'll go ahead and merge it.\nBefore I do so do you have any thoughts regarding the fact that @bfrohs wasn't able to use your instructions?\n. Glad to know you haven't given up on dompdf yet.\nIt is about time to tag another release. The code hasn't seen any major changes for a while. I'll talk to @PhenX about it. We had tossed the idea around before, and then just let it drop. Perhaps it's time to run tests against the code and tag 0.6.0 final.\n. You're running into issue #98. Based on your sample HTML you should be able to work around the issue. Only the top and bottom parts need to be in a table. End your table after the head and then open a new one before the foot.\n. It's possible some of the issues you're encountering could be fixed. It really depends on the nature of your document. I don't believe we have any support for media queries (though I'll have to confirm that). And JS is out. You might have to designate a dompdf style sheet to address some of the issues.\n. Watch issue #758 for the :before/:after issue. Although this isn't really the core problem with using bootstrap. This issue prevents rendering, but the core problem is lack of support for box-sizing and media queries.\nMedia queries should be addressable quickly. I'm not yet sure about box sizing.\n. not as of yet, sorry :/\n. @Jany-M not really, I think changes being made for the 0.7.1 release should help, but I haven't fully tested yet to see what level of improvement we'll see.\n. @chrBrd seen the same. I'm looking to further improve float support for the 0.7.2 release, which I hope will improve Bootstrap grid support.. @brunocouty the print width bootstrap column sizing issue is real, but it's not the biggest issue we have. Still, if you want to see something other than the XS sizing try one or more of the following: increasing the Dompdf DPI setting, using landscape mode, using a larger paper size.. There some minimal support right now. We're considering changes for the next release that may improve things a bit.. Which version of dompdf are you using? \"No block-level parent found\" indicates that dompdf lost the content of your document during loading. Some earlier versions of dompdf had a bug that could cause this.\nAlso, you shouldn't use utf8_decode() because any characters that aren't supported by iso-8859-1 will be lost (or possibly converted to a less complex character).\n. The problem will be in the font metrics. It's possible the necessary information was lost in the font format conversion, or that the resulting TTF couldn't be parsed by your parsing library. I believe if width information is missing for a character a default width is assigned. This would throw off the width calculation vs. the appearance on screen.\nWhich version of dompdf are you using? The latest comes with php-font-lib for font handling, which @PhenX would be able to speak to. Plus he knows a lot about fonts.\nI don't suppose it's possible to post the font for testing.\n. I wish there were a better way to share non-image files on github (privately and publicly). I set up a simple file uploader here: http://eclecticgeek.com/dompdf/upload/\nUse the following password: ***\nThe password can only be used once so create a zip with all your files. If it doesn't work for some reason let me know.\n. It looks like the original plus converted fonts are in the zip. I'll let you know if we need anything else.\n. There appears to be something wrong with the font. I used the php-font-lib web app to analyze the font. When looking at the glyphs tab you can see a glyph for the space character. But when you look at the Unicode map tab the space character isn't represented.\nSo the problem isn't with dompdf. Though it's possible we should code some kind of fallback in php-font-lib to handle missing characters (such as the space character) that are universal and necessary. @PhenX is more knowledgeable in this area so his feedback is important to the issue.\nIf you manually modify your .ufm files to include information for the space character dompdf will be able to break the lines more appropriately. Based on the glyph information it looks like the space should take up the same width as an exclamation. I uploaded the modified .ufm files I used here:\nhttp://eclecticgeek.com/dompdf/upload/_upload/3134856054/slimbach_ufm.zip\nNote: Don't forget to delete the cached font metrics before trying out the new files. They're named the same as the font metrics files but end with .ufm.php\n. It would help more to see an actual HTML document causing the problem. It's difficult to reproduce the issue if we have to fill out the results of the PHP code ourselves (not to mention time-consuming).\n. Thanks for the HTML. I'm not seeing the same issue when I run a test. Have you tried updating to the latest code from github?\n. The github download doesn't include the php-font-lib library. So when downloading from github you'll have to download that library separately and put the library in dompdf/lib/php-font-lib\n. We've included composer configuration, so all you should need to do is set up your project to use dompdf. We have a short section on using dompdf with composer in the readme.\nhttps://github.com/dompdf/dompdf#install-with-composer\n. @paulscode I'll have to look into it. We list php-font-lib as a requirement and so it should be installed in the vendor directory alongside dompdf under phenx/php-font-lib. In order to avoid missing class errors you have to remember to use composer's autoload and disable dompdf's (set DOMPDF_ENABLE_AUTOLOAD to false in your configuration file). Last time I tested everything seemed to work fine.\n. @paddelboot which release of dompdf are you using? And how did you grab a copy (git, composer, release download)? You shouldn't be using the php-font-lib master. If you are grabbing it manually then be sure to use the 0.2.2 tag. If you are using a different method to include php-font-lib let us know and we'll look into the issue further.\n. If you're cloning the repo locally using git and using the master branch you have to initialize and update submodules, as described in the readme. We're moving away from this for future releases because of issues like this one. In the future the recommended installation method will be via composer, though we will still support git usage as well as downloading a stable release.\n. FYI, if you're using Composer and the current release of dompdf you can just set DOMPDF_ENABLE_AUTOLOAD to false.\nThe next major release will be a have a bit more intelligence around autoloading.\n. Both libraries are in the expected location since Composer takes care of library management, not dompf. You should read the Composer quick-start guide in the wiki.\nIn brief, use composer's autoloader and disable dompdf's by setting DOMPDF_ENABLE_AUTOLOAD to false. You will still need to include dompdf_config.inc.php.\n. Again, the lib classes are loaded in the correct location. That's how things work with Composer, it handles dependencies (placing libraries in the vendor directory) and all you have to do is load the composer autoload script.\nThe issue appears to be that end-to-end testing was not done for the 0.6.x release and so Composer support seems to work with the dompdf class, but the extras apparently have some issues. I haven't personally tested with Composer so I will spend more time with it for a future release. Your best bet may be to use the CSS @font-face rule to load your fonts. If you're trying to use the extras (e.g. font loader) you'll need to modify the files so that whenever dompdf_config.inc.php is included so is the Composer autoload script.\n. So you want to be able to place an image inside another div? Like this (same image positioned differently in three container DIV elements)?\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=525ae16a8b9aec73b2f61aa65bdeac44\nMake sure you're using the latest code from github, v0.6.0 beta 3 has trouble with overflow on positioned content.\n. Check the settings in your configuration file. With the newer version we disabled some of the setting by default. You can also check dompdf/www/setup.php which gives you an overview of your installation.\n. It's an issue with your PHP configuration. e.g. are you using a debugger? See issue #456.\n. There's nothing wrong with your code, per se. But I wonder if the large number of span tags is giving dompdf a problem. I'd have to run some tests to see if that's the case.\nSince the majority of these don't really do anything I wonder if you would see better performance if you modify your code to exclude the span tag where a class is not applied.\n. I think we should leave this open as something to address related to performance (memory/CPU resource usage). It's not a bug, per se, but definitely something we should look into.\n. @vietvh this seems like a possibly different issue. Can you post a sample HTML document that we can test?\n. Still not yet implemented. Glad you were able to work it out.. There are two ways to create a footer, using inline script or HTML+CSS. Generally we recommend using HTML+CSS, though it does have the drawback that you are unable to display the total number of pages.\nThis Q&A from StackOverflow has a good overview of your options: http://stackoverflow.com/q/7484318/264628\n. I'm not sure what you mean. I tested in both 0.6.0 b3 and the latest code base and it appears to work as expected. Can you post a sample of the output? What OS, version of PHP are you using?\n. Are you saying you're unable to see the border and text from the inner div? It shows in the PDF you uploaded.\n. This issue appears to have already been addressed in the latest code. If you are able you should update to the latest code from the repository.\n. word-break is not, but we do support word-wrap: break-word; which is an alias of overflow-wrap: break-word; (ref).\nThis doesn't work when applied directly to a table cell, but if you wrap your content in a div with a specified width it will break the word (this was previously reported in #1017). So you would utilize it like this:\n<table>\n  <tr>\n    <td>\n      <div style=\"width: 100px; word-wrap: break-word;\">\n        averylongstringoftextthatismorethanthespecifiedwidthofthediv\n      </div>\n    </td>\n  <tr>\n</table>. The text is rendered in full by design. Overflow text is hidden by a mask and not literally cropped to fit the designated container.\nThe hidden text shouldn't affect other text on the page since they are rendered separately. There are some other issues around line height that may be causing problems. But feel free to open a ticket with some sample HTML that we can use to test.\nHow text selection works would be a function of the PDF viewer, though certainly we could explore potential improvements to how we lay out text to prevent that particular issue. Feel free to open an enhancement request.. Using border-radius? You'll need to grab the latest code from github to access that feature.\n. border-radius was not yet implemented when v0.6.0 beta 3 was released. You'll have to download a copy of the latest code from github. Click on the \"Code\" tab at the top of the page, then on \"ZIP\" button. You'll have to download php-font-lib as well since it's not included in the download from github.\nOr wait until there's a new release.\n. The current release allows you to modify the configuration via the dompdf class. Also, because of the way the settings are loaded so long as you aren't using dompdf_custom_config.inc.php you can define the same settings prior to loading dompdf_config.inc.php. With this in mind and thinking about future releases I think we can skip this change.\n. Good catch!\n. One reason for performing the locale switch multiple times is the issue of universality. Changing the locale is global to the PHP process and so affects any script running under the same process. So we want to try and minimize the calls a bit more in order to avoid inadvertently affecting other running scripts.\nOf course, render() is the longest-running process so locale switching at the start and end of that process may defeat the purpose of limiting the switch.\nI was wondering, after your earlier PR, if there's a better way to do this. I've seen some odd results tied to locale setting that I haven't had time to track down, and so locale switching (being the easiest path) is the way we decided to go.\n. > PS: I would like to see a phpunit test suite for dompdf. Are there any plans on adding one?\nSo would we. Plans yes, though it's hard to say when that would happen at this point.\n. The %F does take care of the sprintf() calls, but we were running into another problem (see issue #213) that only appeared depending on the locale setting. We had trouble locating the error on initial look and rather than spend an inordinate amount of time tracking down the issue we decided locale switching would work for now.\n. > Is there any documentation on these test suite plans? Maybe I could wrap something up when I find the time. I say, even an incomplete test suite is a good one if you put every new change in it!\nSadly, no. Neither I nor @PhenX have heavily used test suites in the past so right now we're just mulling the idea over. We need to spend some time planning this. If you want to start a discussion on the developer forum we can hash out the details there.\n. We are talking about this and how to tag/branch things. We've had a suggestion that the latest development should be in a separate branch and stable code merged back into master. I've also seen it the other way around. And, of course, tagging each release would be a good idea.\n. Everyone has to start somewhere, right? Probably, for now, the best place for this information is on the wiki. I do see that we have no setup advice file, which might be useful. So a general INSTALL.md (or some similar file) would be in order. I think any OS-specific instructions should live on the wiki that way they can be easily updated and we don't clutter the dompdf directory.\n. The last part array(0,0,0) sets the color using RGB. The values are 0-1.\n. What version of dompdf? What version of PHP? Have you run your HTML through a validator? If all that checks out then seeing a sample of the HTML would help in debugging the issue.\n. Which version of dompdf? Can you share a sample document? I tried something using the basic structure you outlined and didn't have any problems with the render.\n. I'm not experiencing the same issue. Did you test on your server with the sample you provided?\nWhat version of PHP are you using? Sometimes that can affect how dompdf renders.\nYou might try updating to the latest code by downloading from github or using the nightly downloader.\n. It could be a PHP 5.4 problem. We haven't tested in that environment yet. I'll get back to you after testing with PHP 5.4.\n. There's definitely something buggy here. I'm not sure what the trigger is, but it looks like anything that causes the no-page content to flow to a new page breaks the render. We should keep this issue open until we've had a chance to look into it further.\n. @sinothoma you're probably running into issue #98.\n. It could be that you're not rendering what you think you are. You're loading a PHP file and unless you have DOMPDF_ENABLE_PHP set to true the PHP parts of the file will not be rendered. Generally we recommend enabling this setting. The other way to retrieve the rendered PHP content is via your web server (e.g. $dompdf->load_html_file('http://example.com/output.php');).\nIf your image is really a background then why not set it as the background on the body element instead. Though we don't currently support the background-size property so if the image doesn't match the page dimensions you'll not get the expected results.\nIt would help to see some sample HTML showing how you're trying to set your header. Also, what version of dompdf are you using?\n. What version of dompdf are you using? There were some problems in v0.6.0 beta 3 that have been addressed. If you're not using the latest code you can download it from github or using the nightly download link here: http://eclecticgeek.com/dompdf\n. Did you update php-font-lib as well? I believe the earlier issues were fixed by updates to that library. If you've updated that library and still experience issues try disabling font subsetting.\n. What font are you using?\n. Sorry, nothing yet on our end.. Sorry, nothing yet on our end.. In this particular situation you have a large table inside a div with page-break-inside: avoid. dompdf is trying to keep the entire DIV on a single page, as requested. If the div is too large to fit on a page dompdf should realize that and go ahead and break the div contents up. Unfortunately, as the code is currently written, this doesn't happen until after the first page break.\nNote: if the div contents is actually able to fit on a single page then dompdf is working as expected. It doesn't really matter how much space is left on the previous page if you've asked that the div be kept together. In this situation widows and orphans would be a better style to use. Support for widows/orphans is not yet implemented in dompdf.\nIf you have a sample of how you would like the output to look we can try to find a way to render it using what's currently supported.\n. You might be running into the same issue outlined in #653. What you might try instead is getting rid of the current page-break-inside style and apply page-break-after: avoid; to the title element.\n. @jaredwalters it would help to see some sample code. Running a quick test using the following does not indicate the problem you describe:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  <div style=\"page-break-inside: avoid;\">\n    <h5>something something</h5>\n    <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed varius porta purus a egestas. In id congue arcu. Proin quis posuere nisl. Suspendisse a consectetur diam. Fusce dapibus feugiat est eu tempor. Pellentesque a ornare neque. Donec ultrices odio at vestibulum rutrum. Mauris adipiscing nulla odio, quis laoreet lectus vehicula et. Cras venenatis diam libero, quis congue est laoreet non. Praesent porttitor orci et nulla venenatis, et commodo dolor ullamcorper. Ut gravida lectus ac enim posuere rhoncus. Nam dui odio, auctor et tincidunt et, mollis at mi. </p>\n  </div>\n</body>\n</html>\nSomething else in your code might be relevant. Also, it would help to know what version of dompdf you're using.\n. I don't have any advice right now. I just wanted to say that I wish all bug reports were this awesome.\n. This is basically issue #98, which we have not yet developed a solution for. The problem is that if a table cell extends beyond the bottom of the page dompdf just gives up and sends it to the next page. We wrote a temporary patch to prevent an infinite loop where the cell just keep getting pushed to a new page. For some reason this had not been working as expected, and apparently that's due to how dompdf deals with border-collapse, which your report clearly shows. So thank you for that.\nThis is a high priority for us to fix. It's just a matter of the developers finding time to sit down and work out the necessary solution.\n. Yes ... ish. The fatal error was fixed by c081dbd9a6fc64f7ec7633c9446a3f061ced85fc (ref #961). The resulting render isn't perfect, but dompdf will no longer crash. Check out the develop branch or grab a nightly.\n. Solution? Yes. A good render? Not yet. As noted above this will render in 0.7.0 but the output is not great.\n. In which version of dompdf? HTML sample?\n. @mdhama do you have a complete sample that reproduces the error.. @uglyeoin thanks for the sample. Your sample does have a few structural issues that could cause problems for Dompdf, but even after cleaning those up it does indeed throw that exception. This should be helpful in tracking down the issue.. @cauehqueiroz rowspan on a TR element? That wouldn't be valid HTML. But looking at your sample I think you mean the rowspan is on the TD element.\nThat's a large sample, it makes debugging hard. But we'll take a look. It would help to have a bit more information. For example, which version of Dompdf are you using? What's the page size? Is the HTML5 parser enabled?. What do you mean by generate graphics? dompdf supports the standard formats used on the web (GIF, PNG, JPG) plus we occasionally add support for other formats (BMP). If your images do not display correctly it's probably a path issue. The easiest solution is to just use a full web URL (e.g. http://example.com/image.jpg). Just make sure you have DOMPDF_ENABLE_REMOTE set to true.\nFYI, this type of question is better asked on the support forum or StackOverflow.\n. I am unable to reproduce the issue. Can you post a sample document that exhibits the problem?\n. Can you post the HTML for that document?\n. Thanks for the HTML, now I'm seeing it. This problem sounds familiar, but I can't remember if there's an earlier bug report or if it was on the support forum. Either way, we'll look into it.\n. @haga87 I don't have an answer yet, but if I were to guess we should be able to address the problem quickly. When I get a chance I'll at least see if I can come up with a workaround.\n. Maybe I'm missing something, but your image appears to show the same characters as the text of your issue.\nRegardless, right now you can only use characters supported under Windows ANSI encoding when using the core fonts (Helvetica, Times Roman, Courier). To fully support other character sets you'll need to load a supporting font into dompdf and style your text using that font. Luckily if you're using v0.6.0 beta 3 or newer (I recommend the nightly) then I believe you can use the included DejaVu fonts, though I am uncertain about the support for characters used in Vietnamese.\nIf the DejaVu fonts do not work out then you'll need to load your own font. For more information on this topic check out the Unicode How-to.\n. Interesting, I'd like to take a closer look but can you first port your changes to the develop branch. We'd like to avoid merging code directly into the master branch.\n. Isse #589 sort of covers this topic, but it's not entirely the same. #589 is talking more generically about multi-column layouts and mentions tables and floats. This issue is about implementing the column-count CSS property. The other issue is a bit generic in that floats and tables are both covered by earlier issues. Maybe that issue should be closed in favor of this one due to specificity.\nThoughts?\n. @JonielRosales it really depends on the nature of your content. For example, are both columns larger than a single page? If at least one element does not go over a page you could absolutely position that column and set a margin on the other.\nAnother option, if the two columns are independent of each other, would be to render each separately and use a third-party library like FPDI to join them.\nIf you give a sample of your HTML we can take a look to see if any other options might work.\n. @JonielRosales thanks for the follow up.\n. Are you installing a Times-Roman font or using the core (i.e. built-in) font? It could be that the metrics for the space character are missing and the problem is only apparent when you subset the font (ref. issue #634).\n. Check the font metrics file for the presence of a space. Open the .UFM file and look for lines similar to the following:\nU 32 ; WX 352 ; N space ; G 0\nU 160 ; WX 352 ; N nbspace ; G 0\nU 32/U 160 are the character codes for a space and non-breaking space. WX 352 in the above sample is the width of the character. If these characters aren't listed in the metrics file then that's why you're having problems. You can add them in, but the exact value for the width is font-specific.\nIf these characters are listed post back and I'll investigate further. It would help to have the font you're attempting to use. Post it online or, if that's not possible, let me know and I'll set up a file drop for you.\n. @kamalsamra the UFM file contains the entry?\n. It could be that the width of the space character was misread from the font file. You can manually modify the font file width, though that work-around is not ideal. It would help to see a sample of the HTML+CSS and know which font you're using.\nIf the font width was misread then the fix would have to be made to the php-font-lib library.\n. I think I can reproduce this, but it would help to see a test case so we know exactly how you're experiencing the problem.\n. After you have instantiated dompdf and render your document you can access the backend renderer. So if you're using CPDF try something like this:\nphp\n$dompdf = new DOMPDF;\n$dompdf->load_html(...);\n$dompdf->render();\n$dompdf->get_canvas()->get_cpdf()->setPreferences('HideToolbar','true');\n$dompdf->stream();\n. With the TD you're probably experiencing issue #98. However, dompdf should be able to handle the same content in a DIV. Do you have some sample HTML?\n. There does appear to be a bug related to how paging is done around floated content. We'll need to address this in dompdf and, right now, I don't see any way around the bug.\n. The warnings will not prevent dompdf from rendering a PDF, though they are things we'll want to address at some point. However, sending them to the browser will prevent you from seeing the PDF.\nThe fatal exceptions are more serious, though it would help to know what version of dompdf you are using. If not the latest you should go ahead and update. I was able to successfully render both documents, though neither was handled very well.\nThat being said, what is your purpose in rendering these pages. We will freely admit that currently dompdf does not provide browser-class rendering, though that is our ultimate goal. With dompdf right now you are better off working with your expected HTML rather than rendering randomly-chosen web pages.\n. @IreneArgolloDelgadillo this doesn't seem to be an issue with dompdf. That error is not one that would be thrown by dompdf. You might try checking that the page renders ok without converting to PDF first.\n. Look for minimal support in the next release, but this won't be fully developed until at least 0.7.2.. It's not perfect, but if you add vertical-align: middle to your style then the placement by dompdf is much closer to what you see in the browser.\n. Thanks for the feedback. Right now I can't be of too much more help. @PhenX has more knowledge of how dompdf works internally so if he has time to look into this he'll be able to provide some feedback on what you found.\n. The information in that Q&A seems to indicate that the problem was addressed in the latest code. What version of dompdf are you using? Have you tried the latest code? Do you have a sample HTML document?\n. There are actually two issues here.\n  1) Auto-width calculation is, essentially, non-existent. inline-block elements should have their width calculated based on the content, but this isn't happening. It's a problem with any element where the width should be calculated (i.e. not set at 100%). You can see this by explicitly setting a width, 1em works in your test case.\n  2) vertical-align is not well handled. Actually, appears to be ignored in this case. Something we'll have to work on. You can simulate the effect if you know the height of your content. Try a negative margin in your test case.\nUpdated sample:\nhtml\n<html>\n<head>\n<style type=\"text/css\">\n  code {\n    background:black;\n    color:white;\n    display:inline-block;\n    width: 1em;\n    margin-bottom: -1.35em;\n  }\n</style>\n</head>\n<body>\n  <p>\n    Some text <code>A<br />\n    B<br />\n    C<br />\n    D</code> continues afterward.\n  </p>\n</body>\n</html>\n. I dunno why I went with a negative bottom margin. Guess I was thinking of pulling the object down. You can alternatively use a positive top margin, which is probably more consistent anyway. The real problem is that you have to hand-craft your positioning for every element using this styling since the heights will vary. The best solution would be to fix the issue.\n. No updates, but I think auto-width issues will be addressed as part of #627.\n. page_text() is only applicable to the entire document. If you want to apply text to only certain pages you would want to do one of the following: a) if you know where page number one ends, use a detached object and the text() method; or b) use the page_script() method, which runs a script on all pages after the document is rendered.\nThe second method would probably work best. You can use a conditional against the $page_number variable available to script executed via page_script().\n. Also, see issues #385 and #608 for some more advanced examples. Those are a little bit of overkill compared to what you're talking about, but they should give you some clues on how to proceed.\n. Right now dompdf does not have the necessary logic to handle font weights other than \"bold\" and \"normal.\" The style parser has some rudimentary logic to handle numeric weights in that anything over 500 is set to bold. But the font management code (for installation and at-font loading) currently only understands bold and normal so there's a real limitation over what you can do here. We'll have to update the code to better handle numeric font weights.\nYou can support the bold variant for the cited font, but you'll have to host the CSS rather than reference it from google. This is because some minor edits to the CSS are required. Namely, change the font-weight in the bold variant (700 weight) to bold instead of 700, e.g.:\ncss\n@font-face {\n  font-family: 'Quattrocento Sans';\n  font-style: normal;\n  font-weight: bold;\n  src: local('Quattrocento Sans Bold'), local('QuattrocentoSans-Bold'), url(http://themes.googleusercontent.com/static/fonts/quattrocentosans/v5/tXSgPxDl7Lk8Zr_5qX8FIQfd-b-I5PxxcmB4_-MNcqw.ttf) format('truetype');\n}\n. @livinzlife are you using Firefox? It seems to have problems with some of the PDFs created by dompdf. We don't have time to investigate further right now. Try opening in Adobe Reader (if installed) and I'm pretty sure it will display fine.\n. @adammwood nice, thanks for the reminder! You could also define more specific font families if you wanted to be able to display even more variations (e.g. Open Sans Light in normal, italic, and bold variants as well as Open Sans in normal, italic, and bold variants). The only issue is that you wouldn't get the same flexibility you get by being able to use numeric weight values.\n. @adammwood I think the confusing phrasing is on my part. We're pretty much talking about the same thing. As you noted font family name in the @font-face declaration doesn't really matter. You could just as easily name the font families \"Open Sans 300\", \"Open Sans 400\", etc.\nThanks again for detailing the work-around until we add support.\n. Which version of dompdf are you using?\n. That's a good question! You know, there's not really an easy way to tell right now. If you look in the header of one of the files and see version information (e.g. 0.5.1) then you're using an older release and should update to the latest code. The most recent code does not indicate a version. You can also look at the PDF properties and see what's recorded in the created-by field.\nFYI, I ask because it looks like you're having some issues not with the image but with the spacing. This could be due to two things: 1) using an older release that doesn't support characters that fall outside Windows ANSI encoding; or 2) using a font that does not include metrics for the space.\nYou may want to update to the latest code if you're not already using it.\n. Closing due to lack of updates.\n. Can you elaborate?\n. That's interesting. We'll look into this more when we get a chance and add a note to the documentation.\n. You're probably running into issue #98. dompdf is currently unable to split a table cell across pages, so the rows of any tables should be able to fit on a single page. We're looking into addressing the issue.\nIn the latest code dompdf should stop paging the row after a page or two, but nested tables could be causing problems with that logic.\n. Did you resolve your issue, or did you close this report on accident?\nIf you are still experiencing problems some sample HTML would be helpful. The problem sounds familiar, but I can't remember where I've seen it before.\n. No worries, just wanted to make sure you were good. What version of dompdf are you using? I believe we addressed this issue with the latest release.\n. Please note that the issue tracker is for posting known or suspected bugs in dompdf. If what you have to report has already been reported then it's best to continue the discussion on an existing issue rather than start a new one. We can always reopen an issue if it turns out to be unresolved for certain test cases. If you are not sure the issue you are dealing with is a bug it's best to stick to the support forum or StackOverflow.\nI'm re-posting my response to your comment on issue #254:\n\nAre you talking about a default margin around the page? This is because the page margins are different from the body margins. Set the page margin using the following style:\ncss\n@page { margin: 0px; }\n. No worries, just wanted to make sure you had the info you need about the best place to post. So this isn't a page margin issue, but an alignment issue? This sounds familiar, but I don't have information on the relevant posting right now. It helps in defining the issue if you post sample HTML.\n. You can't post files, but you can add the content inline using the correct markdown syntax. In the case of github you prefix and suffix your code with thee backticks optionally followed by the language, e.g.\n\n```html\n<html>...</html>\n```\nPress the \"m\" key on your keyboard (when not editing) to see a quick reference.\n. It appears that dompdf is ignoring the margins applied to inline block elements after the first one. See the following simplified example:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    div { background-color: orange; }\n    div > div { margin: 5px; display: inline-block; width: 50px; height: 50px; background-color: blue; }\n  </style>\n</head>\n<body>\n  <div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</body>\n</html>\nWe'll have to look into the issue further and will likely need to work on a patch. In the meantime there are two work-arounds based on your sample code:\n1. Apply a padding to the .fns class instead of a margin to the .fn class.\n2. Since your data is tabular in nature you could use tables to achieve similar formatting.\n. This issue appears to be a bug introduced after v0.6.0 beta 3 was released. If you don't need the fixes introduced since then you can drop back down to beta 3.\n. I wouldn't necessarily want to do a revert on any individual file. The bug cropped up a while ago so there have probably been a number of changes. Could be related to the issue outlined in #597, but right now it's hard to see where the bug was introduced. I'm working on an update to my debug tester that will let me easily test against revisions which will make it easy to identify when the bug cropped up. I'm guessing the issue lies more in the parent classes than specifically in the list_bullet* classes.\n. No problem, the code is rather complex. @PhenX is probably the only one who has a good handle on the entire code base right now.\nI did a quick look and I'm thinking the issue cropped up in the changes introduced in either 21ca1a164eb023462095ca5d1bf1e377a4122168 or 763ed27ba0a036b3958bd12674ba9a352dac267d.\n. Our composer setup needs a bit of work. We'll keep your suggestions in mind when we clean it up.\n. DPI doesn't do what you expect. In dompdf, the DPI determines how measurements in the HTML are translated to those in the PDF. A PDF (per the spec) is always set to 72ppi, which is basically 72dpi. Really it's best to just maintain your DPI at 72 so you always get more of a 1-to-1 translation.\nSetting a higher DPI does allow you to squeeze more content into the same size PDF. But that's not your goal. You want to improve image quality and so you should focus on the DPI and resolution of the image. You can place a large image in the document sized down resulting in a higher relative DPI in the PDF.\nSay you have a 500x500 pixel image at 72 DPI. If you place it in your document with a width/height of 250x250 you have essentially doubled the DPI of the image in the PDF. I'm not sure if a high-DPI image maintains its DPI if dompdf has to do any processing (PNG are heavily processed), so it's probably best to focus on the dimensions of an image over the DPI.\n. That would depend on the back-end renderer. Right now neither CPDF nor PDFLib support digital signatures. If you're using PDFLib the company does offer a product (PLOP DS) that does. PLOP DS isn't free, but if you're already using PDFLib you can probably afford the cost.\nYou could also look into the offering from Setasign. This is also not free.\nI believe TCPDF can handle signatures, but only on PDFs created using the library. There's also a Zend plugin for digitally signing document, but it relies on the Zend Framework.\nI'll mark this as an enhancement request.\n. I don't have much experience with ZF. It looks like the plug-in isn't in the official repo, so I can't say anything about it's quality. You can find it here: http://program.farit.ru/#certificate\nI don't really see many other options out there after a quick search.\n. @StephenOTT not yet, sorry.\n. Is the page-two case when the report is two pages? What if the page is more than two pages? Because of the way dompdf parses/renders documents any CSS absolute/fixed position or inline script page_text() content is rendered starting on the page they are encountered. So if this content is at the bottom of the document it will only render on the last page. If this is the case try placing it at the top of the document.\n. Not sure why only the first page would lose it's footer when there was more than two pages. If you can post a sample HTML document that's more than two pages that reproduces the problem the issue would be worth investigating further.\n. OK. Yeah. That's not quite what I was expecting but does appear to be the case. For now re-positioning the footer content to the top of the source works around the issue. In the future as a means of addressing the issue we may pre-process fixed- and absolutely-positioned content.\n. There is a specification for generating this type of content but we haven't yet implemented it (see the target-counter() function).\nIf you have some lead time I may be able to work out a bit of a hack using inline script and the underlying CPDF library to modify the content stream after parsing.\n. Nice catch. I don't really have a work around for this one right now. The only possible option would be to use display: inline-block, except that dompdf doesn't correctly calculate the width of that type of element when none is supplied.\nNo need to test earlier versions, we can quickly check against various versions using my debugging tool.\n. dompdf does not currently support anonymous table objects, though we do plan to support them in a future release (see issue #449). In the meantime you can work around the issue by filling out the necessary table structure. It requires extra markup that you don't need with the web browser, but it does address the issue:\n``` html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\nCrash cell test\n\n      .table {\n          display: table;\n      }\n      .tr {\n          display: table-row;\n      }\n      .highlight {\n          background-color: greenyellow;\n          display: table-cell;\n      }\n  \n\n\n<!-- NO MORE CRASH HERE -->\n<p>Here is <span class=\"table\"><span class=\"tr\"><span class=\"highlight\">a span</span></span></span> with no padding.</p>\n\n\n\n```\n. It would help to see your HTML document. Sometimes you can work around the issue by modifying the document structure.\n. I don't see anything in use here that should be problematic for dompdf. Which version are you using?\nThat being said, though I can render the document some of the syntactical problems are causing problems with the resulting PDF. You have some block elements inside inline elements (e.g. a DIV element inside a FONT element). This is invalid syntax, but beyond that dompdf does not handle this structure well. You also appear to have some unclosed tags. If you clean up these issues dompdf will render your document without issue.\n. Image problems are difficult to debug remotely because often the issue often stems from something about the particular configuration in use. I've seen this complaint before, but haven't really seen anything that would indicate the source of the problem. So a few questions: Which version of dompdf? PHP? GD? Do you get any errors or notices from PHP? Do you have a sample online somewhere?\n. The images do legitimately appear to not be present in the PDF (instead of, say, just not visible).\nAlso, to clarify, I mean what version of GD is on your system/in use by PHP. dompdf uses GD quite a bit for image processing, depending on the images.\nCould it be something about the image format? Have you tried different formats? Can you try on another system or with another version of PHP? Or, alternately, can you supply a sample HTML document?\nIt's hard to say what's going on unless I can further debug on a system that exhibits the issue. It would help to have a sample HTML document (plus CSS and images) that I can test on my system.\n. Your images are styled with display: inline which is causing problems for dompdf. For some reason I thought we had already addressed this issue, but I'm not seeing any commits, issues, or discussion related to this problem beyond one reference on StackOverflow where images were styled display: block.\nI'm not sure why the issue is only present after page one. But it affects any image with an altered display starting on page 2. So something as simple as the following exhibits the issue:\nhtml\n<div><img src=\"http://placekitten.com/300/150\"></div>\n<div style=\"page-break-before: always;\"><img src=\"http://placekitten.com/300/300\" style=\"display: inline;\"></div>\nThe work around is to avoid modifying the display styling of images. If you need to modify the display style you can do so by surrounding the image with a span and styling the span. Lucky for you the styling shouldn't be necessary since images are flowed (i.e. inline) elements by default.\n. Glad it worked out :)\nSince this bug isn't reported elsewhere I'd like to keep it open. If you don't want to follow you can mute updates using the button at the bottom of the page.\n. @joostdekeijzer thanks for the follow up. Should help in working out a fix for the issue.\nJust as an FYI, in versions of dompdf prior to 0.6.0 image elements were converted into a container element plus the image. Styling implementation is significantly different when using that type of document structure internally.\n. FYI, also discussing this one here: http://stackoverflow.com/q/18194382/264628\n. We'll look at doing this. There are tagged releases in the old SVN repo, but we hadn't tagged them in git. I think the goal was to tag the 0.6.0 final, but team resources are low so we're on a bit of slow cycle at the moment. We should be able to tag 0.5.1 and 0.6.0 beta 3. Note that it's almost always safe to use the latest revision from master.\n. @cbakker we try not to change the settings in a way that makes them incompatible with future releases. That being said you have a point. Larger projects should be able to rely on a stable code base so that changes can be previewed before implemented. You can always specify a revision, though certainly that's not ideal.\nFYI the following commits relate to specific releases:\n- e80756aa25331e873bbfdab2fa38b9d55cd63835 => 0.6.0 beta 3\n- f5e77b4f05c1372858f9c5f2377292c15d48382e => 0.5.1\n. Thanks for the code hint. I'm still a git lightweight so any tips are appreciated at this point. I'll go ahead and tag the most recent releases (the two specified above).\nI was looking at A successful Git branching model and it may be worth adopting here (though perhaps simplified a bit for dompdf). At least, it will once we complete 0.6.0.\nAny thoughts on the specifics of tagging nomenclature? In SVN we were using a full release name, e.g. dompdf_0-6-0_beta3. In git I've seen a lot of bare version tagging, e.g. 1.1.2. But a lot of docs use the \"v\" prefix and I think that makes sense for tagging a \"version\". I know it doesn't matter in the end, but I figure we might as well start off right.\n. I've added the tag for 0.6.0 beta 3, but I'm going to wait on 0.5.1. There was a security issue in that release that resulted in 0.5.2. However, the patch was not committed to the repo (so far as I can tell). I need to look at what was done for the patch and figure out how/if to address it in the repo.\nAny ideas on how to address something like that? I thought about branching off the 0.5.1 revision, commit the patch, and tag the branch revision. Would it be a nightmare unless the changes were minor? Just leaving the branch hanging seems to be bad repo management (particularly with git). Should I even bother?\n. @cbakker I was thinking it would be nice to fold the branches back in when they're no longer in use, as outlined in the model proposed on nvie.com. Especially since we have no intention of putting any more work into the 0.5 code base. It may still be possible to fold that back in, I'm going to give it a shot and see how things turn out.\n@rspadim the problem is that the security issue has already been addressed in the code base, in a later revision after a lot of changes were made. A patch was made against the 0.5.1 download, but never applied to the code in the repository. Branching at that revision and applying the patch isn't an issue, but merging it back in would be. Still, as I mentioned above, I may give it a try and see what happens. I can always leave the branch rather than merge back in to master in order to provide a 0.5.1 tag.\n. So here's what I decided to try:\n1. create branch \"0.5\" from revision f5e77b4f05c1372858f9c5f2377292c15d48382e (the untagged v0.5.1)\n2. update the 0.5 branch with the changes from 0.5.2 and commit\n3. checkout v0.5.1 again\n4. merge the 0.5 branch with v0.5.1\n5. tag the revision created in step 4 as v0.5.2\nI haven't yet pushed the changes back to origin/master so they're not yet visible. But so far as I can tell this had the desired effect. Unless anyone has thoughts or objections I'll go ahead and update the main repo.\n. Sorry, a bit of unclear terminology on my part. What I meant was when I send it back up to github. But you may be correct in that I need to adjust the command. I was hoping I could just call git push --tags origin/master but based on the reading of that question I may need to tweak the command.\n. Well, that was easier than I expected. Since I tagged the 0.5.2 release in the main branch all I had to do was call git push --tags origin master. No special effort necessary.\nThe last \"stable\" release and the current 0.6.0 beta are now both tagged in the repo.\n. Now don't be cruel. That project also uses RegEx, trim, and the like! When you're parsing strings you use the best tool for the current task. RegEx can be a great tool for string parsing so long as you can deal with two problems instead of one.\nWe have actually talked about using a third-party parser in the past. dompdf has a lot of baggage since the code was originally written many years ago (beginning in 2005). Our code may be more old-school monolithic, but it's fairly robust.\nStill, it doesn't hurt to look at other options. So we'll keep this one on the table.\n@sabberworm's code is definitely better engineered, but it would require some effort to implement in dompdf. The most recent version of the code uses namespaces, which means he's targeting PHP 5.3 or newer. Though we may move in that direction for the post-0.6 release we're still supporting PHP 5.2.x. That doesn't preclude us from using an earlier version of the code, but that also means we get no updates.\nAll being said, we have some other serious issues we want to resolve before we look at the CSS parser. In the meantime you can post bug reports resulting from the current parser and we'll see how much work would have to be put in to patch them.\n. Perhaps. The difficulty should be in the teasing out of the styles. There's only so much you can do to minimize CSS and we should be able to handle most of those techniques. If you have some CSS you want us to test feel free to post it.\n. @Ugoku the release currently in development was started while PHP 5.2.x was still actively developed. It doesn't make much sense to restart development now just to support PHP 5.3+. Plus, PHP 5.2.x still appears to have a fairly large install base according to W3Techs.\nWe are a small team with limited resources (namely time) and so must dedicate those resources judiciously. In considering future development we need to take into account not only code architecture but also library functionality and the needs of our user base. Rewriting dompdf would not be a trivial matter (such undertakings never are). With some important rendering issues to address it doesn't yet make sense to start worrying about the code architecture. Especially when the code is compatible forwards as well as backwards.\nThat's not to say we don't want to make some significant changes in the future. And certainly the topic has come up multiple times. But changes of that nature are not yet warranted.\n. Right now I haven't a clue. I don't really see anything wrong with your HTML or your dompdf installation. And it renders as expected for me. Do you get any PHP errors or warnings? Have you tried it without subsetting enabled? Have you tried downloading a fresh copy of dompdf/php-font-lib? The PDF you uplaoded, was that direct output from dompdf or re-saved from Adobe Reader?\n. That would be the problem. We haven't addressed the issue yet so if you need protection you either need to avoid embedded fonts or do some kind of post-processing (e.g. with pdftk). Sorry for the inconvenience. Visit issue #340 and click the \"Watch Thread\" button at the bottom of the page to get updates on the issue.\n. OK. Yeah. I noticed this issue before in relation to @page (#614). I had started to look into a fix, but put it down and didn't get back to it. The issue is basically that the regex is expecting a space after the @[name] directive. We should be able to address that particular issue.\n. Just FYI, you can see the stylesheet being teased out of the document in dompdf::_process_html().\nThe parsing of the stylesheet happens in the Stylesheet class. You can start by looking at Stylesheet::_parse_css() to see the stylesheet parsing and Stylesheet::apply_styles() to see how the styles are applied to elements.\nFabien's the expert here, so if he wants to explain more he can. But basically we create utizlize PHP's DOM and XPath in conjunction with an internal object (kind of a dompdf DOM). The PHP DOM basically handles document operations, while the dompdf DOM handles styling operations.\nreferencing revision 2bcbee77427efa5e3d4faad478351c7f307fe3f3 so the links don't go bad\n. In looking at the code around this I wonder if we even need DOMPDF_FONT_CACHE. It appears the original purpose was to store only the cached font metrics (though this configuration option was never actually used). There is other code that also has to be adjusted for an installation to not touch dompdf/lib/fonts. Considering these facts and the changes you've made I wonder if it would streamline the code a bit if we remove the DOMPDF_FONT_CACHE option, use DOMPDF_FONT_DIR to specify where new fonts and cached files are stored, and hard code the few references to the fonts/metrics included with dompdf that remain.\nI'm working on making the other necessary changes. I'll post them shortly.\n. I think my previous statement is supported by the following descriptions in dompdf/www/setup.php\nphp\n  \"DOMPDF_FONT_DIR\" => array(\n    \"desc\" => \"Additional fonts directory\",\n    \"success\" => \"read\",\n  ),\n  \"DOMPDF_FONT_CACHE\" => array(\n    \"desc\" => \"Font metrics cache\",\n    \"success\" => \"write\",\n  ),\n. So after going over the code I think we should maintain fonts in the location specified by DOMPDF_FONT_DIR. When looking at how dompdf manages fonts there are three scenarios to consider:\n1. Fonts loaded using dompdf/load_font.php on the command line.\n2. Fonts loaded using dompdf/www/fonts.php via the web.\n3. Fonts loaded using CSS at-font declarations.\nThe first option retains the file name when loading the font. The second and third options name the file using a hash of the file name. This is important when considering manageability of the font directory. Perusing this directory and seeing a collection of hash-based names makes it more difficult to manually manage. To make font management easier we should look to implement the suggested changes from #617.\nIt might be preferable to save fonts loaded in scenario 3 separately (such as on a site rendering user-generated content). Storing these fonts in the cache directory would make it easier to clean them up since the cache contents could be deleted at any time (though this only applies if the cache directory is separate from the font directory). However, we do not currently have the capability of separating out scenarios 2 & 3 when managing the fonts. Because of this I think we should maintain all fonts in the font directory until we build more robust font management tools.\nStill, I think some of the changes in this PR are worthwhile. I'll keep this in a separate branch to get some feedback before merging with master.\n. Named the branch font-management-tweak.\n. There are a couple of issues related to font metrics, tables, and other parsing problems that could cause something like this. It would help, to start, to see the HTML.\n. Using dompdf 0.5.1? You have some elements in your code that dompdf before v0.6.0 beta 3 does not know how to handle (article, footer, etc.). v0.5.1 officially supports HTML4 and XHTML. Anything not defined in those specs are likely to cause problems. We recommend you upgrade to the current 0.6.0 beta. It is as stable as 0.5.1 and has a number of significant improvements.\n. Not as of yet. We're trying to close out current work on the current release so we can implement a better branching/tagging scheme. I can't promise a specific date, but hopefully it will be soon.\n. I don't believe we're quite ready to go all-in on composer. Composer is steadily gaining in popularity, but there are still plenty of people who don't or can't use it. Still, the configuration does need to be improved to avoid problems such as this. The suggested patch may be sufficient for now, but we'll probably spend more time on the problem.\n. Anyone having this issue, please try the updated instruction in README.md related to Composer installation? Also see #629.\n. Thanks for the compliment. Can you post the code you're using the produces the error? I was unable to create a test case exhibiting the issue.\n. > $counter_id holds the \"(\" as well as the actual id\nAh, I see what you mean. This section of code could definitely use a little clean up. Until we do that your work-around addresses the problem.\n\nAlso as a point of interest, if there is counter-increment and content: counters in the same css class, it should technically increment the counter before displaying the content which does not happen here. I fixed it by moving the increment a section up. If I find some time I'll look into how to do that.\n\nI did notice this issue. If you find anything let us know. Probably should start a new issue as well.\n. @nrwiersma I believe the commit I just pushed fixes both issues you outlined. Can you test?\n. In addition to the sample code supplied in this issue, I tested against the code in the MDN doc Using CSS counters.\n. Is this with a specific PDF viewer? Which version of dompdf?\n. Still a problem in the final release?\n. That's just about a perfect report, thanks! Bullet positioning seems to be an ever-looming issue. The bit of code that handles it could use some additional attention.\nAs for the second issue, you can work around it until we fix it by styling the LI as well as the UL, e.g.\ncss\nul , ul > li {\n    list-style: none;\n}\n. Looks like the second issue may have been addressed.\nBut still seeing problems for the first issue.. Been a while, is this still an issue with the current release?\nI tried a long unordered list (3 pages worth) and it didn't seem to have any ill affect. If this is still a problem can you provide more details? For example, the large number of blank pages sounds like more of a table issue.\n. This is a follow-up to #705. The samples cited in that issue exhibit the problem when split across pages.\nThis is also likely related to issue #440, though I suspect the fix may require a bit more finesse than the one proposed in that issue.\nDo we set a paged property on all frames that are paged? Checking for that and not incrementing the counter for any paged frames may be how to address this issue. We could also decrement the counters as we walk up the tree during the paging operation.\n. @tamaghna91 this is probably an unrelated issue, though it sounds familiar. Can you start a new discussion with a sample of the HTML on the support forum?\n. @tamaghna91 if you've found a bug feel free to start a new issue. If you need any guidance or have any questions feel free to post to the support forum.\n. I'm curious why the dompdf config is loaded multiple times. Other than the warning about attempting to define an existing constant it shouldn't cause any problems, but it's inefficient and unnecessary.\nOtherwise, though, I have no objections. Your PR seems reasonable.\n. In thinking about this more, wouldn't it be more efficient to check if the DOMPDF class exists and if it does stop processing? I'm still not sure why you would be loading dompdf twice, is there an optimization you can do on your end?\nAt any rate, try adding the following to the top of dompdf_config.inc.php:\nphp\nif ( class_exists( 'DOMPDF' ) ) { return; }\n. I understand now. If the modification I suggested works let me know and I'll go ahead and add it.\nHopefully some of these issues will be addressed when start using more modern coding practices in a release after v0.6.0.\n. Are you saying the characters themselves are reversed or that you were expecting RTL and got LTR? I don't read Arabic and so am unable to really make much sense of the issue just looking at the PDF. At the very least seeing a PDF with the correct display would help.\nOne thing you might try to see how it affects the render is to turn off font sub-setting (if enabled).\nTo debug the issue we would want to be able to access the actual HTML and font used.\n. Can you post the HTML in non-image format for easier replication in testing?\n. No worries, markdown takes a little getting used to, but it's easy to pick up. Plus we can go in and edit issues/comments.\n. Not yet. We'll need to perform additional testing on this issue before we can provide any specific feedback. This may be an issue of how the text is represented in the PDF and how it is mapped to the font glyphs. In which case we'll have to research the issue a bit more before we can work out a solution.\n. @rjbijl I believe the RTL issue is a separate, but still valid, problem for dompdf. If you're looking for RTL support then, yes, give the advice in that discussion a try.\nThis issue, if I am correct, is about the visual display of \"words\" in the PDF. The individual characters display correctly, but when combined into a word they should be linked (similar to cursive script in English). For some reason this is not happening.\n. @t3rep-com interesting, we'll definitely take a look!\n. @ramonleenders you'll need to load the font into dompdf before it can actually be used. The loading process parses the font to generate the font metrics used for layout. You can load fonts using the load_font.php script or, as indicated by @t3rep-com, using the @font-face CSS rule.\nTake a look at the Unicode How-to for an overview of the process.\n. It depends on how you are loading the font. If you're using @font-face then you'll need to specify the bold version as well as the non-bold version. Something like:\n```\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Bold.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n}\n```\ndompdf doesn't support psuedo-bold or psuedo-italic (i.e. faking it using the existing font), so if you don't have a separate font you would just specify the same font file. Something like:\n```\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n}\n```\n. I can't yet provide much help in regard to the RTL issue. Something we'll be spending time on in an upcoming release. Any community help in that regard is most welcome.\n. @safalppj did you also follow the steps in the Unicode How-to?\n. @emados these are both known issues and I do not have a timeline for a fix at the moment. Have you tried the suggestion from this comment?\n. You're in luck. dompdf (as of v0.6.0) has the ability to embed JavaScript into a PDF. The JS functionality is somewhat limited in that you can't tie the JS to events. But in the case of telling the PDF to print you can just tack the necessary JS to the end of the document.\nFirst, set DOMPDF_ENABLE_JAVASCRIPT to true.\nThen place the JS that calls the print dialog at the bottom of your HTML document:\n``` html\n\n\nJavascript test\n\n\nPDF JS Test\nThis page will call the print dialog on load.\n\n  try {\n    this.print();\n  }\n  \n\n\n```\n. Is there an existing issue for commit 1f7b2c6d37ad95ded3116ba94e194c1b738395cf? If not do you have some sample code that exhibits the problem?\n. It's a minor change, so no worries about keeping it here. Do you have some sample HTML code?\n. Can you also post the CSS (or a link to the CSS) since that may be important in revealing the issue?\n. @jameswilson I agree, but with both commits being so minor I don't mind merging them together. I just wanted to make sure we had a test case against the bug. I'll see if I can track it down. Since it's in the absolute positioner class perhaps I can find it with a little experimentation.\n. OK. So the error addressed by camna@1f7b2c6 comes from positioning an element that is contained by an inline element. The following is one way to reproduce the error:\nhtml\n<span>\n  <span style=\"position: absolute;\"></span>\n</span>\nI don't know right now if there are other situations where the error will appear. If any other test cases can be found please post them to issue #721.\nWith this in mind the proposed fix is not correct, though that's not to say the code is correct. What we're doing here is determining the container position to help in laying out the positioned content. Unfortunately because the container is an inline element it doesn't contain line boxes.\nSo to fix the issue perhaps we should check for the existence of line boxes in the parent and if they do not exist use the current position unchanged. Until this is patched work around the issue by placing positioned elements within block elements.\n. I addressed the positioning issue. I'll be looking at some of the composer-related issues in the near future.\n. @adrianmacneil thanks for the comment. So you feel this PR is unnecessary so long as #629 in merged in?\nJust FYI, the library is being maintained. Though I will admit that the team (which consists of myself and @PhenX) does not have a lot of time to spend on the project. So yes, things tend to slip. I do have every intention of going through all the PRs as I have time.\n. @davidbarratt can you test out the instructions posted by @adrianmacneil to see if that addresses the issue? If not post back and let us know what's happening on your system.\n. Your issue is due to a quirk in the way dompdf processes content. First, dompdf currently doesn't have a mechanism for updating previously rendered pages (beyond the page_script and page_text methods). Second, there isn't really much in the way of pre-processing and so content is placed according to its order in the document. So if something falls later in the document but is positioned the current page can be considered the first page (so far as that content is concerned).\nWe will likely address this quirk in a future update.\nThat's not to say you can't work around the issue now. I can think of three ways.\n1. Buffering, or build your document in parts. You can build your content first, then your header and footer, and combine them at the end. This may not be feasible, based on whatever other considerations you have.\n2. Reorder your content using DOM methods. You can access the internal DOMDocument instance via $dompdf->get_dom()\n3. Use a combination of inline script and CSS.\nThose are in order of preference if I were in your situation. If you can't do the first option, then the second option would be the next easiest. You can find information on all the methods you'd need in the PHP documentation. The third is the most difficult in terms of code complexity since it mixes operational modes, but it can be done entirely within the HTML. You can get a sense of how you might do the third option by looking at issue #385.\nIf you need any help figuring out the code let us know.\n. related to #491. That's an odd one. I was unable to reproduce the issue using your samples so it might be related to some additional page content. Did you test with the simplified HTML you posted? Do you have a sample document that exhibits the problem? Also, which version of dompdf are you using?\n. I'm not sure why it would do that. But it could be a quirk of 0.5.x. It really didn't handle non-Windows ANSI very well. Though in testing with your full document I'm still not seeing the issue. There are no patches planned for the 0.5.x release, if you can we recommend upgrading to 0.6.0. Though still in beta it's as stable as 0.5.1.\n. dompdf is currently unable to handle something like this. We haven't really talked much yet about how to handle objects that span a page that would require special handling (images, positioned elements, etc).\n. The error is complaining about an option bit, which likely means the UTF-8 pattern modifier. Without this modifier UTF-8 strings will be parsed using a different character set (probably iso-8859-1). Parsing strings in the wrong character set could cause the string to be mangled and so it's better to parse text in it's native character set.\nA better fix would be to test for compatibility with the pattern modifier and set it optionally. Barring that, you could remove the modifier:\nphp\npublic static $_whitespace_pattern = \"/[ \\t\\r\\n\\f]+/\";\nA quick google search seems to indicate that the problem is due to compilation of the incorrect PCRE libraries into PHP. Do you know what version of PCRE is on your system? Version of PHP? OS?\n. This is related to issue #98. Unfortunately, right now, we don't have a solution. It is high on our list, but I can't say right now when the issue will be addressed. Currently the only work-around is to modify the code to not use tables when a cell will span more than a single page.\n. nothing yet :/\n. @goldnetonline nothing yet\n. @arturslogins currently no fix. We're thinking of ways to address the issue, but this might not be addressed until 0.8.0. Recommend not using tables for layout if at all possible.\n. Yes and no. Dompdf does a better job of handling table cell paging, but there are still issues. 0.8.1 does a better job of handling this type of layout in that it doesn't enter an infinite loop or produce a large number of pages before the table. Where it currently fails, however, is in actually paging the table cell. Any table cell larger than the page is still not paged, it now just flows beyond the page boundaries.\nI expect we'll have some level of support for paged table cells in 0.9.0.\nBest to follow #98 for updates.. You should be able to just use mm as your units when specifying dimensions. So, for example, the following should work just as well as using other units:\ncss\n@page { margin: 25mm; }\ndiv#sample { position: absolute; background-color: orange; left: 165mm; top: 165mm; width: 165mm; height: 165mm; }\n. I'm not sure why you would get that error, it should only show up if content has been sent to the browser. An inadvertent space in one of the files maybe? If you view the page source do you see anything? Your browser's develop tools can also show you the raw source coming from the server as well as the headers.\nFYI, I'm not seeing the same issue on my server. Could you refresh your install?\n. I don't believe those statements are true any more. I'm pretty sure dompdf now dumps everything into the log file. There must be a header sent at some point. Have you tried calling die at various points to see what is returned to the browser? Or, before running dompdf what about checking calling headers_sent() to see if anything has been sent to the browser?\nAfter we resolve the issue we should leave this bug open as a reminder to fix that text.\n. Which version of dompdf are you using? I'm unable to reproduce the issue.\n. @Carlitta87 which version of dompdf are you using?\n. It's not clear to me that WooCommerce uses dompdf, but if it does perhaps they are using an older version that does not include the DejaVu fonts. If you look in the dompdf/lib/fonts directory you should see the available TTF fonts. If you do not see the fonts you can always add them as you would with any dompdf installation.\nAlso, if they are using an older version you could try upgrading. Though if they've made any customizations you may break the functionality.\nYou should head over to their support forums and see if anyone has had a similar problem and, if not, post your question there.\nhttp://support.woothemes.com/categories/20075173-community-forum\n. The above didn't render because you are missing the closing </style> tag. dompdf can be unpredictable when it renders documents with syntax errors.\nWhen in doubt, validate!  ;)\n. That's ... weird. When I tested it last night I didn't have any problems. But today it was throwing a fatal error from php-font-lib. I reloaded the library and all seems well now so give it another try.\n. Not a problem. I actually have some enhancements planned, just haven't had time to update the code.\n. Regarding AFM vs. TTF. The AFM file contains nothing but the font metrics (e.g. character widths). This information is used to calculate how to place the text in the PDF. What the AFM does not include is the actual character glyphs necessary for displaying the font (plus some other things). You can't use a font with dompdf without having both the TTF and the AFM (or UFM when DOMPDF_ENABLE_UNICODE is true).\nThe core fonts (Helvetica, Courier, Times, Zapf Dingbats, Symbol) are a special case. These fonts are included in all PDF readers per the specification. Because the glyphs necessary to display these fonts are built in to the reader the TTF file is not needed. So for the core fonts all dompdf needs are the AFM files.\n. Do those PHP warnings result from using the supplied TTF and UFM files?\n. If you read the note related to DOMPDF_FONT_HEIGHT_RATIO it states\n\nA ratio applied to the fonts height to be more like browsers' line height\n\nSo the original goal was to make the placement of text match better with what the browsers are doing. Perhaps since then some other changes to how we calculate the font height has improved the placement such that the current ratio of 1.1 is no longer necessary.\nI don't know why this would cause the odd text placement unless the value is not used consistently. You could try removing the sole use of the value from cpdf_adapter.cls.php@740.\n. Can you also attach the PDF or a screen grab of the PDF so I can see the output?\n. It would help to see the HTML. There have been issues with content being rendered more than once (#453) that have been addressed. This could be related.\nAre you using 0.6.0 beta 3 or the latest from github?\n. Which release of dompdf are you using? You could try setting DOMPDF_FONT_HEIGHT_RATIO to 1.\nAlso, which fonts are you using?\nPossibly related to #727\n. That seems like an extreme increase in time to process. It would help to see your HTML so we can better determine what's going on. There is more FS activity, but it really depends on your document. Some activities, such as image or font processing, are more intensive than in the older version and could be the cause.\nAre you able to try the latest from the git repo?\n. Thanks for the follow-up. If you can post a clean version that would be great. You might also try some of the sample files included under domdf/www/test to see if you get the same results.\nSome changes have been made since v0.6.0 beta3 was released so if you have time you might try the latest code. You can easily download an archive from http://eclecticgeek.com/dompdf.\n. Using inline script from 0.5.1? You could try creating the same in HTML+CSS, though I don't know that it would make a significant difference in performance.\nWith inline script the need to specify the image type was removed from inline script. So this:\nphp\n$pdf->image($image_url, $image_type, $x, $y, $w, $h)\nwould now be this:\nphp\n$pdf->image($image_url, $x, $y, $w, $h)\n. You shouldn't need to use inline script. I guessed you might be since you were previously using 0.5.2. However, I use a setup similar to yours for PDF generation (created before 0.6.0 was in the works).\nJust to clarify, using position: fixed for the footer? Positioning wasn't really supported in 0.5.2 (I believe, need to refresh my memory). Plus fixed positioning works differently than absolute positioning in that it propagates to all following pages.\nHave you tried converting the GIF to PNG or JPG? This is what dompdf does before inserting into the PDF.\n. The problem appears to be the work dompdf is doing to process image transparency. In order to produce the most accurate background for images with transparency dompdf scans the images pixel by pixel to set the appropriate color. It's a slow process.\nThere are two options to work around the issue:\n1. Use images without transparency.\n2. Install the imagick or gmagick PECL extensions.\n. Thanks for the follow-up. I'll note, in support of your observation, that you should see a benefit in using JPG images because they are not analyzed or converted as are PNG and GIF (respectively). Non-transparent PNG images should result in performance improvements. JPG should result in the best performance.\n. Missing styles? Try embedding the CSS in the HTML head. If that fixes things then you're probably experiencing a path problem.\n. Hm. Doesn't look like it, but using a non-core font?\n. There's a failure in both instances, then. The font is a serif font so you're not getting the correct font, despite everything else being ok.\nCould be that the font metrics were messed up. Did you copy from your local system to the remote? Are you using dompdf v0.5.x or v0.6.x? You might try re-installing dompdf from a fresh download. \nAlso, FYI, your font order might be better as Geneva, Arial, Helvetica, sans-serif. You're unlikely to ever see Geneva be used unless it's closer to the front since almost every system has either Arial or Helvetica. If your preference is for those two then you might just as well simplify your code and remove that font alternative.\n. I can't really answer that right now, I just don't have enough information. Though the problem is likely a configuration issue (with dompdf or PHP) or due to corrupted files. Do you see any errors or warnings in your PHP error log? It basically looks to me that the styling isn't applied.\nHow are you creating your HTML and how are you using PHP. Some code samples would help.\n. Did you download the archive from github? If so you'll be missing php-font-lib. Try downloading a \"nightly\" from here: http://eclecticgeek.com/dompdf\n. Yeah. It's weird, but anything PHP under the dompdf folder dies with a 500 error. Hopefully your PHP errors are logged. Do you admin your own server or use shared hosting?\n. That's odd. Check dompdf/include/dompdf.cls.php line 277 (ish). That method should be there. I wonder if perhaps the file is corrupted? You could try calling the method after instantiating dompdf to see if it's loading correctly, e.g.\nphp\n$dompdf = new DOMPDF();\necho $dompdf->get_option('default_font');\n. It's been a few weeks, did you have any luck resolving your issue?\n. @gerbengeeraerts hard to tell without looking at the HTML, but your issue looks more to be a problem with the font metrics. Have you tried resetting to the distribution default the dompdf font and font cache directories (default is dompdf/lib/fonts).\n. Would certainly help to see the HTML.\n. Ah, yes. that would do it. In 0.6.2 we had a replacement library for installations where MBString was missing. With 0.7.0 we decided to make it a requirement instead. Not sure at this point if we'll provide a fallback in the future.\nMaybe we'll look to add an initialization routine that checks for required libraries.\n. @sj5515139 you might want to head over to StackOverflow or\nthe Google Groups to talk through what's going on.. @sj5515139 you might want to head over to StackOverflow or\nthe Google Groups to talk through what's going on.. @avadh22 please start a new issue and provide more detail. Or, if you're not sure what the problem is please start a discussion on the support forum.. This issue was previously raised in issue #602 (and before that #196). Your code examination appears to suggest more fields may be affected, so it would help to know if the latest code addresses your issues. Can you try the latest from the code repo (either download from github or use the nightly download link)?\n. I believe this has been addressed in the final release.\n. Does this address a existing issue? If so it would help to know which one and if not you might want to create one so we can better track the fix. Or at least outline the behavior you observed in the comments here.\nI'm not sure your modification does what you're expecting. I'll need to refresh my memory with some reading of the W3C spec, but a counter reset defines the scope of the counter element where the counter resides, so there's no need to parse the frame stack looking for the relevant frame. @PhenX can clarify this.\nAlso of note, I tested out your code change on the sample code from the MDN Using Counters page and wasn't seeing any counters at all after the change. I'm at a loss to explain why this is without investigating more because your modification doesn't look like it would break counters. Plus the counters sample page included with dompdf appears to render fine. If I had to guess, though, I'd say that it might be related to the changes made for #705.\nFinally, for the sake of completeness, in reviewing the unmodified code I would actually expect the current frame to be the most appropriate scope for the counter reset, not the parent. However, I don't currently see any need to address this as I'm not sure we would see sufficient improvements in performance or rendering.\n. Thanks for the follow-up. If you have any more insights into the issue post back or add a new PR. Always glad to see some effort in the community to improve the code.\n. You are correct, setEncryption() is in class.pdf.php. That's the CPDF class file, which is nested inside the dompdf class. You'll want to code it as follows:\n```\nrequire_once(APP . 'Vendor' . DS . 'dompdf-master' . DS . 'dompdf_config.inc.php');\n$dompdf = new DOMPDF();\n$dompdf->load_html(utf8_decode($html), Configure::read('App.encoding'));\n$dompdf->render();\n$dompdf->get_canvas()->get_cpdf()->setEncryption(\"pass\", \"pass\");\n$name = $this->params['controller'].'-'.$this->params['pass']['0'];\n$dompdf->stream($name.\".pdf\");\n```\n. You're lucky, I just happened to be looking at some things!\nIf $dompdf->load_html() is ok I would expect $dompdf->get_canvas()->get_cpdf() to be available. Are you rendering first? I believe that CPDF isn't instantiated until after you call $dompdf->render().\n. I'm not seeing this when I test, though I know there were some issues with double decoding in 0.5.1 that have been addressed. What version are you using?\n. The core PDF fonts (Helvetica, Times Roman, Courier) in dompdf only support characters that are included in Windows ANSI. Additionally, though dompdf 0.5.x can display other characters it requires much work to set up.\nWith dompdf 0.6.0 full Unicode character support is enabled so long as you have loaded a font that covers your character set. dompdf 0.6.0 (currently in beta) includes the DejaVu fonts, which do support \u03b1. Displaying that character requires only something like the following:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n    <p><span style=\"font-family: DejaVu Sans;\">\u03b1</span></p>\n</body>\n</html>\nFor more details on configuring dompdf with Unicode support see the Unicode How-to on the wiki.\n. This is the expected behavior, depending on how you are feeding the document to dompdf. Loading a document using $dompdf->load_html() results in dompdf having no knowledge of the source. In this situation file paths are relative to the PHP file utilizing dompdf and absolute paths are absolute to the local file system root, not the web server root. Any references external files (images, stylesheets) are read via the local file system.\nTo give dompdf a hint about where to find files you can use $dompdf->load_html_file() and point to the full URL of the HTML file. In this case dompdf will translate paths in a manner similar to a web browser as well as read files through the web server instead of the local file system. I believe you can also set a base path in the HTML, e.g. <base href=\"http://example.com/HTML/file/path\">. You can also try setting the base path manually using $dompdf->set_base_path().\n. We don't have plans to continue explicitly supporting PHP 5.2. The 0.6.x family will be the last where we attempt to maintain compatibility with that version of PHP. This is due to the point at which development on v0.6.0 started (2009) and not a decision to support PHP 5.2 in 2014.\n. @BenMorel all of those are on our list for the next release.\n. Looks like we've got this covered with the current state of the develop branch. Way too many commits to cite (since I wasn't keep track :disappointed: ). The changes were authored by @gabrielbull, @PhenX, @barryvdh (with a little clean up by me).\n. It may be out of date with regard to the current code but this does give us something to think about. This is definitely an interesting idea.. Were this a business I would agree with you. Not much point in leaving issues open for extended periods. Typically that means there's no business interest in addressing it. But this project is not maintained as part of a business strategy. Nobody works on the project full time and so things tend to be addressed as the volunteers working on it have time. And issues that point out valid problems or enhancements are worth keeping open until we're sure the issue is addressed.\nStill, your point is taken. I opened a new issue for this enhancement (#1572).. DOMDocument is a core PHP extension, enabled by default. Check your PHP configuration (e.g. using phpinfo()) and look for a section called \"DOM\". If you do not see it then the DOM extension has been disabled. How you enable it depends on your environment.\nYou can read more about this extension in the PHP documentation: http://www.php.net/dom\n. Thanks for the fix. This points out an additional flaw where font-size: 0 results in a division-by-zero warning. Though not fatal we should address that issue as well.\n. Thanks for the follow-up. If you happen to locate the source please let us know. Really shouldn't be setting a zero font size without the user knowing it.\nI think zero might be valid (the CSS spec says no to negative values, but it quiet on a value of zero). At any rate, I'll fix the division-by-zero soon.\n. I suspect the problem is more in the definition of the font size, not the calculation. get_font_size() uses the already set font size value. It would be easier to track own the issue with some HTML known to cause the notice.\n. Do you have some sample HTML we can test with? Seems odd that changing the font would cause this, though it is possible if the source of the issue is a containing element. The two fonts have different dimensions and so the space requirements will change with the font.\n. Based on your code the font switch is probably causing you to run into issue #98. There's not really much you can do with the current layout until we address that issue. One possible work around would be to use DIVs and float the content on the left.\n. Fixed-position content propagates to every page after the one on which it's encountered. This is actually a bit of a quirk because of the way dompdf parses content right now. If you only want that footer to appear on the last page of the section use absolute positioning, which positions the content the same as fixed positioning except that the content only appears on the current page.\ncss\n.foot {\n  position: absolute;\n  bottom: 0;\n  margin-bottom: 0;\n  left: 0;\n  right: 0;\n  height: 9cm;\n  text-align: center;\n}\n. It is definitely useful, but I'd like to find another way to accommodate that type of functionality because I do think it's the wrong way to do it. For now though, the its-a-feature-not-a-bug stands.\nThe functionality is not documented, but there is an open issue about it. See #491.\n. If you are using the latest code from github then you can do the following:\nphp\n$dompdf = new DOMPDF;\n$dompdf->set_option( 'dpi' , '200' );\n$dompdf->load_html($html);\n$dompdf->render();\nThe full option list can be seen in the source.\n. Also answered on the forum: https://groups.google.com/d/topic/dompdf/fNJyiHJyTIA/discussion\n. Currently no. Please watch issue #320 for updates.\n. The latest code from the repository addresses this particular issue. Can you download a copy and double-check the results?\n. I'm going to further tweak the code so that at least the color is used, if not the transparency. Your specific issue is resolved so I'm going to close the issue. Watch issue #753 for information on the addition of transparency support.\n. It's actually not just the OL numbers. Normally-generated numbering appears to be fine. But any any content generated from the CSS content property is not included in the font subset.\n. Normally this is done at render time, as you can see in dompdf.cls.php@869. There's even a place-holder for handling generated content. It's a bit more difficult with generated content. Rather than try to back port the content generation methods to the font subset logic I think we can just add some font subset logic to Frame_Reflower::_set_content().\n. Because of the point at which the characters to include in the subset are determined (prior to rendering) and the way the font subset is created (first time a font is selected in CPDF) we can't easily include the actual generated content in the subset. This is because the generated content is determined during rendering. In lieu of duplicating the code necessary to render the generated content I set up a small bit of logic to capture the value of the generated content declaration. This won't be 100% accurate, but it should suffice for now.\nI think ideally font subset creation should take place later in the process so that characters included in the subset can be modified during rendering. Perhaps this can be accomplished by moving the subset creation to CPDF::output.\nIt may also be worthwhile to remove subset creation from the DOMPDF class completely and let the CPDF class track character usage (it would still be something controlled by a DOMPDF setting). Modifying the code in this way would remove one iteration of walking the frame tree, which should improve performance (though by how much depends on the size and complexity of the HTML document).\n. @sabat24 since inline script is executed outside the context of the HTML document rendering you'll have to manually add the text to the font subset reference.\nFor example, the following snippet adds the characters in the string \"Hello World!\" to the subset:\nphp\n<script type=\"text/php\">\nif ( isset( $pdf ) ) {\n  $text = 'Hello World!';\n  $font = Font_Metrics::get_font(\"DejaVu Sans\");\n  $pdf->register_string_subset($font, $text);\n}\n</script>\nIt's probably worthwhile to add the necessary functionality to the $pdf->text() and $pdf->page_text() methods so that dompdf handles the font subsetting at all levels. Also, if we adopt the changes I have in mind the subsetting will take place in CPDF and so no extra work will need to be done.\n. Ah, yes. Sorry. While working on this issue I had noted that the font subset is created the first time a font is used. The code I suggested can work, with the caveat that the font you use with the inline script isn't used in the HTML. Also, because of the way the document is rendered there's not really a way to use this code when the font is also used in the HTML.\nThere is a work-around, and that's to add any text used in inline script to the HTML in a hidden div, e.g.\n``` html\n<!DOCTYPE html>\n\n\n\n\n\n\nif ( isset( $pdf ) ) {\n  $text = 'Hello World!';\n  $font = Font_Metrics::get_font(\"DejaVu Sans\");\n  $pdf->text(72, 18, $text, $font, 18, array(0,0,0));\n}\n\nPage 1\nHello World!\n\n\n```\n. Additional improvements to content-declared text was added in commit 27ce2db2.. Which release of dompdf are you using?\n. This issue should be addressed in v0.6.0 (currently in beta). We are not, at this time, planning to address any issues with 0.5.x and recommend you update. The current release is pretty close to the final, grab a download from github or at http://eclecticgeek.com/dompdf to get the latest, nearly final 0.6.0 release.\n. Note per issue #776 that this was not quite correct in v0.6.0. We had some xref issues in the past that I thought had been addressed, but apparently the off-by-one issue was still present. A download of the latest code should now address this issue. \n. First, in the sample your H2 tag isn't closed correctly. I tested with and without the error and didn't experience the same issue. What version of dompdf are you using?\n. That's ... odd. Do you have the MBString extension enabled in PHP? If not are you using dompdf in a framework that might define these functions? Currently dompdf only checks for the existence of the mb_strlen() function to determine if the mb_ functions are available, but we may have to change the setup if this is a potentially common issue.\n. Makes sense that WP would only generate the functions it needed. We'll just need to be a little more explicit and checking each function before creating it.\n. Can you post the path to the file (relative to WP install) where you found these function definitions?\n. Do you mean using ImageMagick with dompdf? Or just generally with PHP? Best to ask a question like this in the forums. But briefly, dompdf will utilize it for some functionality if it's available. But if you want to generally enable it you'll need to load the imagick module via pecl.\n. No worries. I see what you mean. As I said there is some use of IM, but we do rely on GD. Still, it would be worthwhile for you to post a feature request for this one.\n. I think you're starting to get a handle on things. Your breakdown of the problem sounds about right.\nAlso note, you can't echo out content from inline script. Because of the way inline script is handled echo'd content will go to stdout (i.e. to the web browser, or, more specifically, into the output buffer).\n. What are you trying to do that you can not use CSS counters? There is a pseudo-callback in the form of page scripts. But these are run outside the bounds of the HTML content. Still, you can use them to add content (including page numbers). If you provide a little more detail perhaps I can provide a work around.\n. As long as I've maintained this project I've almost never dealt with them. But I was recently reminded that dompdf does indeed have callback support. See #1424. Now I just need to add some documentation.. Ideally, since there is no content declaration dompdf should not be attempting to prepend anything. At the very least we should limit generated content to the body (?).\n. Hold tight, it's next on my list.\n. This particular rule presents a bit of a tricky situation. Because the generated content is applied globally it is applied not to just to the body and its children but also to the root HTML element (and the HEAD element and its children, but those are excluded from rendering). Generating content on the HTML element creates document nodes outside the body which basically cause paging before and after the body element (i.e. an extra page before and after the rendered content).\nThis is to be expected in the current rendering logic since the body element defines the content of a page. Any content encountered before or after the body would basically be defined in its own page space. However, though this is expected technically it goes against the output expected by the user.\nWhat I decided to do was limit generated content to the body and its descendants. Due to the nature of how the XPath queries are defined this was easily accomplished by prepending the queries with a \".\" making them relative to the HTML element rather than the document \"root\" (for lack of a better term). It seems like a distinction without difference, but the result is that the HTML element is not included in the results of the XPath query.\nThis update produces results that do not quite match up with what is seen in modern web browsers. In the browser the generated content on the HTML element shows up as part of the document space, rendered before/after the body content. dompdf will exclude this content. For the specific code reported in this error that won't be a problem. But if anyone is creating generated content that actually displays something the results will be off.\nI'm postponing the decision on how to handle generated content on the HTML element until a later date. A quick solution I have in mind that would meet user expectations is to revert the XPath query modification and then post-process the document to move the generated content into the body element.\n. We've sufficiently addressed the cited issue, but a fuller fix still needs to be worked out. The change is included in 0.6.1.\n. Is your issue with layout or that dompdf is actually unable to render the document? There are other issues to address related to Bootstrap. You can subscribe to issue #631 to get updates on support.\n. @dirkluijk your particular sample appears to be sufficiently addressed in the upcoming (0.8.0) release.. There's not really a way to ask dompdf in advance where the content is pages. If you post a sample I can think about a way to do what you need.\nOne possibility that comes to mind is that you could use fixed positioned content for the repeating layout elements. Just make sure the page has a large enough margin to prevent content overlapping.\n. Thank you for that. Sleepy eyes do not make for good code.\n. Using which release of dompdf? Rendering with 0.6.0 beta 3 it looks ok.\nFYI, the gist of your HTML is a little screwy around line 185.\n. Which version of dompdf are you using? This does appear to be the case in 0.5.x, but in 0.6.0 it renders as you expect so long as you have the HTML5 parser enabled. However, what you're missing is that you should not be using a bare < in your code since this character has special meaning in HTML. When you want to show this character as part of your document text it should be encoded (&lt;) to avoid any ambiguity. E.g.\nhtml\n<html><head></head>\n<body> ciao &lt; 4 </body>\n</html>\n. if you downloaded a nightly then you have the latest version. It works in the debug helper because of the HTML5 parser, which corrects invalid syntax in the HTML. Look in your configuration file for DOMPDF_ENABLE_HTML5PARSER and set to true.\n. Pulling from the master branch? PHP version? Might also help to know the DOM extension information (specifically the libxml version). I'm not sure why you're getting an exception with errors suppressed, I ran your HTML I didn't encounter the same error.\nI'll take another look later.\n. If I run that particular query directly I do see the same error. But when running your HTML through dompdf I'm not getting that error. Is the sample HTML/CSS you posted the same code giving you an error? If you run your sample through dompdf on your system does PHP return the warning?\n. This is an issue with DOMDocument, which dompdf relies on. I thought this issue was already addressed, but that does not appear to be the case. There are two work arounds that require minimal effort:\n1. Placing the HTML meta element before the title element (as you indicated).\n2. Enable the HTML5 parser (v 0.6.0 and greater), by modifying the DOMPDF_ENABLE_HTML5PARSER setting in your configuration file.\nPersonally, I recommend enabling the HTML5 parser. Beyond addressing this issue, it can help prevent DOMDocument processing errors by correcting syntactical problems in the HTML.\n. Where are you downloading the ZIP from? The button on the right side of the page downloads the code, not the current release. The fact that it doesn't include all the files is an annoying quirk of github. To get the full download go to the releases page and scroll to the bottom of the release notes to see the download link (in green).\nAnother alternative if you want the absolutely latest code is to grab a nightly download, which includes all the necessary files. You can find that here: http://eclecticgeek.com/dompdf\n. I think we'll definitely implement this. We just need to get to a point where we can ramp back up development. As you may have noticed things have been a little slow lately.\n. I know it's hard to wait; we appreciate everyone's patience. You'll get a heads-up via the issue when we start working on it.\n. Which version of dompdf are you using? For the Euro symbol you don't need a different font. The only thing you need to do is make sure the character and/or document is properly encoded.\ndompdf 0.5.x only supports Windows ANSI encoding. To display the Euro symbol in a resulting PDF when using this release you should encode it as indicated. So in the HTML you feed to dompdf you need to ensure that any instance of the Euro symbol is encoded. For example:\nhtml\n<html>\n<body>\n  <p>The euro character: &#0128;</p>\n</body>\n</html>\ndompdf 0.6.x and above support different encodings. So the easiest way to display the Euro is to encode your document in UTF-8. Then you can reference the Euro symbol in a few different way. For example:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n  <p>The euro character:  \u20ac  &#0128;  &euro;  &#8364;\n</body>\n</html>\n. I'm not sure about this. It's been a while since I immersed myself in the intricacies of font implementation and will have to look into the issue further. If I were to guess I'd say the difference probably relates to kerning modification in the font metrics that define how certain character pairs are spaced. Perhaps the way we embed the font causes this information to be lost.\nIt might help to be able to examine the PDF files.\n. You can set the margins of the document using CSS, try @page { margin: 2cm; }.\n. It's possible our transition from cm to pt (the units used in PDF documents) is slightly different from what's used by OpenOffice. I've never printed a document and measured it to ensure accurate unit conversion.\n. I'm seeing the same issue in 0.6.0 beta 3, but whatever the cause is has already been addressed for the final release. We're pretty much ready to release 0.6.0 final except for some housekeeping in the documentation and support files. I'd recommend downloading the latest here or downloading a nightly.\n. I'm not seeing the same issue with Duru Sans, it displays the indicated characters just fine. I do have missing characters when using Roboto Slab.\nFYI, I'm not getting a corrupted file error that you indicated in issue #777. If you can post the bad PDF online we can take a look at the internals.\nThree things you can try:\n1. disable font subsetting (if you're using it)\n2. load a non-subsetted font from google, e.g. <link href='http://fonts.googleapis.com/css?family=Duru+Sans' rel='stylesheet' type='text/css'>\n3. download the TTF and install it\nAlso, look for any PHP errors. And browser to dompdf/www/setup.php to see if there are any red flags. And, finally, if you can post your PDF online we can take a look at the internals.\nI did the third option for Roboto Slab and all characters were shown. There may be something in the way Google parses the fonts that causes problems for php-font-lib. I won't know what the source of the issue is until I explore a bit more.\n. I thought the query string was taken into account when generating the local cache. I'll have to take a closer look at the process to make sure this is the case.\nFYI, the reason we save the font and reuse it is for performance reasons. Fonts referenced using @font-face shouldn't change often, but it's probably a good idea to at least check for changes every now and then.\nI'm reopening the issue so we can do a bit of work around this issue.\n. A better location for general queries such as this would be the support group. That being said...\nWhat is happening as far as PDF generation? Do you get any errors?\n. Good catch!\n. I think we can put this under the umbrella of the font problems you're having in #774. I'll answer there.\n. A little more information would be useful. Are you saying that you have input fields in your HTML you're sending to dompdf and they do not render? Which version of dompdf?\n. Are you pulling again from the facturame repo to your server, or are you copying from local? Any PHP errors? \nNot related, but I wouldn't use utf8_decode() in facturame / functions.php. It's a destructive transformation from UTF8 to ISO-8859-1. With dompdf 0.6.0 UTF8 is just fine.\n. First thing to try is to switch from $dompdf->stream() to echo $dompdf->output_html(). This will tell you if the rows make it into dompdf. If that doesn't look right, go back further and ech out $htmls. Maybe the content isn't making it back to the server.\n. I realize that. But something's going on with the server and it never hurts to start with the basics. The first step is to make sure dompdf is actually getting all the content, because everything else on the document renders fine.\n. It's a bit messy. Is that the actual value being passed to dompdf as part of the final document? If so, then all the \\\" characters may be part of the problem. Before passing the document to dompdf you may want to clean that up (just str_replace('\\\"', '\"', $html)). Or maybe run it through json_decode().\nWhen I manually removed the \\\" it rendered just fine.\nAs for why it works on your local system, maybe just due to a difference in system libraries.\n. @ripunjoy-sarma to get help with your issue post your question to the support forum or to StackOverflow\n. The latest code under dev-master pretty much requires dev-master from php-font-lib due to PhenX/php-font-lib#12, which was causing fatal errors in some systems using opcache (e.g. xcache). I'll get in touch with @PhenX about tagging a new release.\nAbout our own tagging issues with packagist. I pinged them via twitter and am waiting a response. We're about ready to release 0.6.0 and I want to make sure the release will show up when I tag it. If I don't hear back before that release is ready I'll try tagging without the \"v\" prefix (which seems to work for php-font-lib).\n. It's one of the recommended tagging styles, so I'm not sure why it's proving problematic. Hopefully I'll hear back soon.\nI apologize for the dependency issue. I crossed my fingers on that one, hoping it wouldn't cause too many issues. I'll try to have it resolved quickly.\n. I should have known that :/\n. That is the purpose of DOMPDF_ENABLE_AUTOLOAD. Though, admittedly, making use of that configuration constant does require modifying the configuration prior to use. And, this change doesn't appear to be harmful in any way.\nPerhaps we should run the same check for the dompdf autoloader, negating the need for DOMPDF_ENABLE_AUTOLOAD. Thoughts?\n. > Ideally though, you would remove the autoloader from config.php altogether, so people can choose between using composer, or manually requiring the legacy autoloader.\nOne goal for the next release will be to remove the config file and make the library PSR-0 compliant. Base configuration will take place during class instantiation and setting can be modified as needed after the class is loaded. There's a bit to figure out related to things like the support functions in functions.inc.php, but I don't see this being a huge issue.\n\nTo be fair, modifying any of the configuration constants requires setting them before including dompdf_config.php. So in that sense this configuration option isn't different to any of the others.\n\nHah, yes. Although at least with this release other setting can be modified after the dompdf class has loaded using $dompdf->set_option(). So really DOMPDF_ENABLE_AUTOLAOD is one of the few configuration constants that you have to set prior to loading the class.\n. I'm not too worried about Composer users, the platform offers many advantages for handling edge case needs. But so far we are still planning to offer direct downloads so we need to keep in mind a way to accommodate those users as well.\n. Considering where we are with the 0.7.0 code I think it's safe to close this issue.\n. Yes, sorry. I should have given you a heads-up. The main reason I went ahead with 0.6.0 now is the constant pressure to have something stable tagged for composer. That, and I wanted to make sure download users were comfortable using 0.6.0 by having a version not labeled as a pre-release.\nI want to review the outstanding PRs and merge them (where needed) before we start making the project PSR0. Which means we can quickly release a version 0.6.1 to cover what will be, by comparison, relatively minor changes.\n. Perhaps we can push this further by going ahead and changing the load process to exclude dompdf_config.inc.php ...\n. We'll try to have PSR-0/PSR-4 support in 0.7.0. Supporting PSR-1/PSR-2 will come as we're able to work it in (unless somebody wants to work on it ... I'll create a branch). Considering where we are with 0.7.0 I'm going to go ahead and close this one.\n. Actually, better to just change the location specified by DOMPDF_FONT_DIR, which you can do prior to loading dompdf_config.inc.php. That way if you want to load or reference any new fonts they will be saved. The included fonts are now always available even if you change this setting.\n. Awesome! Thanks for posting back.\n. One way to prevent the overlap is to set a page margin then move the header/footer into that space. For example:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    @page { margin: 1in; }\n    #header { position: fixed; top: -1in; left: -1in; right: -1in; height: 1in; background-color: orange; }\n  </style>\n</head>\n<body>\n  <div id=\"header\">Header</div>\n  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n  <p style=\"page-break-before: always;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n</body>\n</html>\nFor your specific issues it would help to see a sample HTML document.\n. I'm unable to reproduce the issue. You've updated to the latest release (v0.6.0) as per suggested in the referenced issue? And your dompdf font directory is writable by the web server? Do you get any PHP notices/errors? You can check the basics by browsing to dompdf/www/setup.php\n. That directory would still need to be writable. dompdf has to download the font to parse and (if enabled) subset it. Though the fact that other fonts work fine is a bit of a twist. Are you sure the font isn't working? What font is used instead? In reader you can check the font tab of the PDF properties to see what fonts are used.\n. This I was able to reproduce, and was all I needed to realize this is a known issue (though a bit hidden when looking just at your HTML). This is related to a problem with font weight expressed numerically when loading a font via @font-face. The problem was first reported in issue #675.\nYou can work around the issue by writing the @font-face declaration yourself. It's a bit tricky to get the correct code because of the way google tailors the CSS depending on the browser, so I'm including it in the code sample below.\nhtml\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-15\">\n  <style type=\"text/css\">\n  @font-face {\n    font-family: 'Source Sans Pro';\n    font-style: normal;\n    font-weight: normal;\n    src: local('Source Sans Pro'), local('SourceSansPro-Regular'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v7/ODelI1aHBYDBqgeIAH2zlNzbP97U9sKh0jjxbPbfOKg.ttf) format('truetype');\n  }\n  @font-face {\n    font-family: 'Source Sans Pro';\n    font-style: normal;\n    font-weight: bold;\n    src: local('Source Sans Pro Bold'), local('SourceSansPro-Bold'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v7/toadOcfmlt9b38dHJxOBGLsbIrGiHa6JIepkyt5c0A0.ttf) format('truetype');\n  }\n  @font-face {\n    font-family: 'Source Sans Pro';\n    font-style: italic;\n    font-weight: normal;\n    src: local('Source Sans Pro Italic'), local('SourceSansPro-It'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v7/M2Jd71oPJhLKp0zdtTvoM0DauxaEVho0aInXGvhmB4k.ttf) format('truetype');\n  }\n  @font-face {\n    font-family: 'Source Sans Pro';\n    font-style: italic;\n    font-weight: bold;\n    src: local('Source Sans Pro Bold Italic'), local('SourceSansPro-BoldIt'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v7/fpTVHK8qsXbIeTHTrnQH6Edtd7Dq2ZflsctMEexj2lw.ttf) format('truetype');\n  }\n  body {\n    font-family: sans-serif;\n    font-family: 'Source Sans Pro', sans-serif;\n  }\n  p, h1 {\n    font-size: 2em;\n    background: #eee;\n    padding: 1em;\n    font-family: 'Source Sans Pro', sans-serif;\n  }\n  </style>\n</head>\n<body>\n  <h1>Hello, this is a h1 tag with the same styling as a paragraph one.</h1>\n  <p>Hello, this is a paragraph tag with the same styling as a paragraph one.</p>\n</body>\n</html>\nRemember to delete the existing font and cache file from your system to see this\n. Which dompdf release? What font was used? Can you post some the HTML used to produce this?\n. I was thinking that RTL and character separation might be separate issues, but they may be related. This was previously brought up in issue #712, so watch that for updates.\nWe haven't yet had a chance to look into what needs to be done to support RTL in PDF documents. In the meantime we did find a quick-and-dirty method of simulating that capability. You can find the relevant discussion in the support forum: https://groups.google.com/d/topic/dompdf/qfWb24ct7Ts/discussion\n. @truthglow sorry, nothing yet. Have you tried the suggestions in #712?\n. @truthglow that's not entirely what's going on. We have UTF8/Unicode support. That's mainly a character encoding issue.\nWhat we still need to work out is how to accurately render the character to PDF. Individual characters seem to be fine, it's just that combined characters are not.\nThen on top of that we'll need to add RTL support.\n. Of course!\n. The two buttons labeled \"Source code\" are not the packaged release download. These files are auto-generated by github and include the dompdf source code but not any external libraries (namely php-font-lib).\nIf you require a non-ZIP format please let us know and we will add it.\n. Ah, yes. Sorry. It's still the same issue. Those two links are auto-generated from the dompdf source. You have to click on the \"downloads\" link to get to the page with the packaged download. We'll update the instructions to help people find their way to the correct location.\nPerhaps a good solution would be to host download links on http://dompdf.github.io\n. You've been busy! We have some things to address in 0.6.0 for a quick 0.6.1 release, but this will definitely help push us to where we want to be for 0.7.0.\n. I'm not too worried about renaming the dev branch since it's so new, surely there aren't too many people working there. On the other hand we don't want to break things so I think setting up a mirror is a good idea.\nOnce we review your changes we'll merge them to dev then create the new develop branch.\n. That is impressive. I'm looking forward to reviewing the changes you've made because it's exactly where we want to go for the next release.\n. Check out the develop branch, it should have everything you need. With luck we'll wrap up development on that release in the near future, merge back into master, and quickly follow up with a final release.\nI've been thinking of how to better delineate the project's needs and how the community can help. Feel free to offer any suggestions.\n. What release of dompdf are you using? This particular issue should be addressed in v0.6.0. Please refer to issue #758 for relevant discussion.\n. The layout is off by a very tiny amount ... but still enough to be noticeable. Looking at the source you can see that the positioning of the text differs depending on whether or not it is contained in an inline element (the second number is the one to look at):\npdf\nBT 37.016 743.882 Td /F1 12.0 Tf  [(Cell content with )] TJ ET\nBT 122.684 743.579 Td /F2 12.0 Tf  [(italic)] TJ ET\nBT 147.356 743.882 Td /F1 12.0 Tf  [( text)] TJ ET\nBT 172.356 743.579 Td /F1 12.0 Tf  [(Cell content with )] TJ ET\nBT 258.024 743.579 Td /F2 12.0 Tf  [(italic)] TJ ET\nBT 282.696 743.579 Td /F1 12.0 Tf  [( text)] TJ ET\n. I was unable to produce the desired without resorting to tricks. Here is the best work-around I could find, but it only works if .first-page is really only one page:\nhtml\n<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" />\n    <title>Header and Footer example</title>\n    <style type=\"text/css\">\n      @page {\n        margin: 0;\n      }\n      .pages {\n        margin: .5in;\n      }\n      .first-page {\n        margin: 0in;\n        color: green;\n        height: 100%;\n        width: 100%;\n        position:absolute;\n      }\n      .first-page + * {\n        page-break-before: always;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"pages first-page\">TEST</div>\n    <div>Some more content</div>\n  </body>\n</html>\nWe'll have to look into the problem further.\n. Yeah, I see where it went wrong. I was testing against a small bit of content, not something that spanned multiple pages. We'll definitely look into the issue.\n. Use position: fixed; to have an element appear on all pages. position: absolute; places an element in the document once and positioned relative to the current page.\n. I was browsing the issues and realized I never responded (at least not here, did we communicate out-of-band?). Did you resolve your overlap issue? The most reliable method (for you and anyone else interested) is to give your page a margin using the @page rule to define page margins. You can then push your fixed-position content into that space by using negative coordinates. Avoid unexpected dimensions/overlap by using fixed units (px, pt, etc) instead of percentage-based units (%, em).\n. Any update on the HTML/CSS that was causing this issue?\n. No worries, I just happen to be poking at page styling and thought I'd check. If it's still an issue I'm sure it will be brought up again.\n. I haven't yet looked at this PR, so I can't comment on the closing.in the meantime I just wanted to point out a related PR in #617.\n. I've used UTF-8 encoded document/strings in the past and have not had any problems. Can you detail the problem you're experiencing, provide a test case (or just some sample html), and any relevant references.\nThere is much code preceding the change made in this commit that explicitly attempts to determine the document/string encoding and, if necessary, convert it to UTF-8. This helps avoid encoding issues when processing the document. Additionally, the code was modified to accommodate potential issues with UTF-8, as you can see in the commit note and code comments (d3ad5de92f362355fbf06853f18703e0f5a37e07).\nI meant to chime in earlier before we went ahead with this PR, sorry for the delay.\n. No follow up for a while and it looks like the commit I referenced does pretty much the same thing. Imma close. If any new and relevant information comes up I can re-open and re-assess.\n. @olivier-weka the positioners are fairly light-weight which may be why you don't see much of a change in resource usage despite their being instantiated only once.\nI wonder if there might be more affect on a document with a large number of frames such as that indicated in issue #639.\n. Preliminary testing says probably not wrt a large number of frames. The real memory hog is obviously elsewhere. But every little bit counts.\n. Don't forget to merge this into develop as well.\n. We currently include the DejaVu fonts to support a wider range of Unicode characters (including Cyrillic). Since we already include support for the desired character set I don't think we'll pull in this change. Unless you have a compelling reason to replace one of the core fonts with embedded fonts we recommend that this should be implemented as a local update.\n. dompdf doesn't support echoing content into the page. To do insert that value into the document you would need to call the $pdf->text() method. See this StackOverflow question:\nhttps://groups.google.com/forum/#!topic/dompdf/8BhTBiabR2w\n. What kind of watermark? Just as a sample, here's a simple document with text as a watermark:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n  <div style=\"z-index: -1000; position: absolute; top: 200px; font-weight: bold; font-size: 150pt; transform-origin: 50%; transform: rotate(-45); opacity: .25;\">PROOF</div>\n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n</body>\n</html>\n. Then again, why not? Bower support doesn't seem to be too difficult to implement. The downsides I see are that 1) it's Yet Another Package Manager (YAPM); and 2) Composer is, by far, the place to be with PHP. But supporting bower doesn't necessarily seem to be a bad idea.\n. Interesting. The \"raw\" links in github now redirect to the raw.githubusercontent.com domain. It's not technically a problem with dompdf rendering remote images, but we should check to see if there's a problem fetching images when the link is redirected.\n. Is the problem that the image is not showing at all or that it is misplaced. In dompdf 0.6.x you no longer have to specify the image type so the line where you insert the image into the header object should be:\nphp\n$canvas->image($image, 400, 25, 100, 25);\n. The error you receive usually indicates that some non-PDF content was inserted into the PDF stream, typically PHP warning/notices. Try saving that PDF and opening in a text editor, the non-PDF content will be at the top of the file.\n. The error appears to be on our end. When you add a PNG using the canvas object it calls CPDF::addPngFromFile() which attempts to parse the PNG headers. This is done by pulling in only a portion of the image file using optional arguments to file_get_contents(). And, unfortunately, doing this isn't supported for remote files, though apparently it can work.\nI'm surprised we haven't seen more questions around this issue. Can you load the file locally? Or maybe save it locally then include from the local copy?\n. Same error?\nThe easiest way is to just use HTML + fixed-position content, e.g.\nhtml\n<div style=\"position; fixed; left: 0px; right: 0px; top: 0px;\">\n  <img src=\"http://designdemo.glowtouch.com/hivedesk/hivedesknew/app/misc/images/hivedesk_newlogo.png\">\n</div>\nI would have suggested this instead of using the canvas object, except that we do not yet support showing the total number of pages using this method. You can get the current page number, just not the total number of pages.\n. It should be fine with a local file. You mentioned a controller, so I'm guessing you're using a framework. Without specifying a path PHP is probably looking in the same location as the bootstrap code (or something like that). You may have to give the full local path to the file.\n. Do you have the GD extension for PHP enabled? With v0.6.x GD is required.\nAs for the location of the image ... that's to be expected. The way $dompdf->page_text() is handled pushes it to all pages. The other methods can be applied to all pages through the use of an object, but only if that object is set up on the first page of the document. This is a limitation of how dompdf processes content. You would need to convert your current code to inline script to get the desired results.\nIf you want to keep the header code outside the HTML you can modify it to use $dompdf->page_script() which is applied to every page of the document. Something like the following would work (untested, so you might need to tweak it).\nphp\n$canvas->page_script('\n  $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n  $date = date(\"Y-m-d H:i:s\");\n  $pdf->text(35, 25, \"HiveDesk Screenshot Report\", $font, 8, array(0, 0, 0));\n  $pdf->text(490, 25, \"hivedesk.com\", $font, 8, array(0, 0, 0));\n  $image = \"http://designdemo.glowtouch.com/hivedesk/hivedesknew/app/misc/images/hivedesk_newlogo.png\";\n  $pdf->image($image, 400, 25, 100, 25);\n');\nNotice that this is not using an object, meaning you lose the benefit of content re-use. You can still use an object, it just requires a bit more work.\n. I had a few errors in my sample. Before I give you an updated sample let me say a word about the CPDF methods. The text() and page_text() methods don't work quite the same. The text() method adds text to the currently active object, be that a page or detached object. When added to a detached object, you can then add that object to other pages' thus the reason it's good for headers/footers. The page_text() method operates outside this mechanism and adds the text directly to the pages themselves. So when using the page_text() method there's no use for the object methods. The page_script()method works similar to the page_text() method.\nSo ... here's an update of your code (still untested).\n``` php\n  require_once(\"dompdf/dompdf/dompdf_config.inc.php\");\n  $dompdf = new DOMPDF();\n  // $dompdf->set_paper(\"A4\");\n  $dompdf->load_html($html);\n  $dompdf->render();\n  $canvas = $dompdf->get_canvas();\n  //For Footer\n  $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n  $date = date(\"Y-m-d H:i:s\");\n  $canvas->page_text(250, 760, \"Page: {PAGE_NUM} of {PAGE_COUNT}\", $font, 8, array(0, 0, 0));\n  $canvas->page_text(35, 760, \"HiveDesk Screenshot Report\", $font, 8, array(0, 0, 0));\n  $canvas->page_text(500, 760, $date, $font, 8, array(0, 0, 0));\n$canvas->page_script('\n    $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n    $date = date(\"Y-m-d H:i:s\");\n    $pdf->text(35, 25, \"HiveDesk Screenshot Report\", $font, 8, array(0, 0, 0));\n    $pdf->text(490, 25, \"hivedesk.com\", $font, 8, array(0, 0, 0));\n    $image = \"/usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/arw.jpg\";\n    $pdf->image($image, 400, 25, 100, 25);\n  ');\n$file_name = md5(uniqid(mt_rand(), true));\n  $pdf_file_name = $file_name . '.pdf';\n  $dompdf->stream($pdf_file_name);\n``\n. @imvenky more details? Which version of dompdf? PHP? Do you have the PHP GD extension enabled? IMagick/GMagick extension? Do you get any errors?\n. I see you are using@font-faceto load fonts. All well and good, except that you specify formats dompdf does not yet support (EOT and WOFF). Then, in your CSS you specifyfont-family: DaxWeb;`. With no valid font options specified dompdf is running into errors. We can definitely handle this scenario better, but in the meantime you might try adding a fallback font, e.g.:\ncss\nbody {\n    font-family: DaxWeb, DejaVu Sans, sans-serif;\n}\n. Yes, hopefully that will address the issue for your instance. I'm keeping this open because we should probably be more proactive in selecting a font if no viable one is found (at least as far as the HTML/CSS parsing is concerned).\n. This is an odd one. It only seems to happen when the block element is preceded by another block element. An inline element doesn't have the same effect.\n. That ... makes sense. We'll have to remember to update it when merging back into master prior to tagging each release. We'll need to start a checklist for certain tasks ... perhaps I'll put it in the wiki.\n. The name of the file is a bit misleading. It doesn't actually have much to do with the font cache, which contains font information (font metrics, glyph information) used by CPDF. The font family cache stores the names and locations of the fonts loaded into dompdf. It's current location is probably most appropriate, though perhaps we should consider renaming it.\n. The latest release of dompdf now always checks the dompdf/lib/fonts directory since these files are a core part of the library. This frees you up to change the location specified by DOMPDF_FONT_DIR (or $dompdf->set_option('font_dir')). If the value of DOMPDF_FONT_DIR is set to a different directory than the one included in the distribution then dompdf will maintain newly loaded fonts in that location. Both the distributed fonts found in dompdf/lib/fonts and the loaded fonts found in the location specified by DOMPDF_FONT_DIR are loaded and available during rendering.\n. This is pretty stale. While I think maybe the issue is still relevant there's not enough detail here to know for sure. If you have more details and have confirmed this is still an issue on 0.7.x please let us know.. Did you mean to submit this PR?\n. It would help to see the HTML source for your sample. @phenx would have to comment specifically on any issues with line height, but with the HTML we can better identify the issue.\nI think probably the only way to enforce the same line height would be to set DOMPDF_FONT_HEIGHT_RATIO to 1 and use a real-world measurement like cm.\n. You can load a font into dompdf using load_font.php or via CSS by using the @font-face declaration. Once you've loaded your font you reference it in the document by specifying the font family in the CSS. You can get some more information in the Unicode How-to (though it does need to be updated to reflect changes in v0.6.x).\n. It looks like this is a bug we'll have to address. I ran some test code through my debugger and you can see the issue readily.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=91afc3e5f61678e657a6122ab222cbb8\nThough text is hidden by the overflow declaration it continues to render in the PDF, even causing pagination if it reaches the end of the page. This shouldn't be since the hidden content shouldn't affect layout. As a result of pagination, the height of the element is reset and the paged text continues to render visibly until the set height is reached, at which point it is again hidden.\n. It does look like something's wrong here, though I think your fix may not be quite what's needed. Still, I'll merge (to develop) and tweak as necessary.\n. Before I merge you'll first need to port your changes to the develop branch. We'd like to avoid merging code directly into the master branch.\n. I see what you were trying to fix. The first block of code you modified was an attempt to migrate from an older version of the font family cache to a newer version (if present). This was done on behalf of the user to avoid any problems with upgrades from 0.5.x to 0.6.x.\nThe real issue is that the old cache file was not deleted after the migration. This would cause dompdf to re-migrate the font family cache every time it was run. I'm surprised we didn't see more complaints about this issue ... or maybe we did and just didn't realize this was the source of people's font problems.\nAt this point I think it's probably best to just remove that code block entirely.\nThe change you made in the latter block has since been addressed.\n. What version of dompdf are you using? v0.5.x used an auto loader that was't very compatible with other libraries. It looks like the wrong autoloader is being called.\n. Yes, v 0.6.x and earlier were not developed with namespaces in mind. The upcoming version (in early development on the develop branch) will use namespaces. Presumably it works though we have done little testing on it.\n. Try the develop branch. It will require a modification of minimum stability (sorry about that). We're looking at the 0.7.x release as mainly providing better support for for php 5.4+.\n. That's a tricky proposition. I had not considered that you were using a package that required dompdf. I'd have to research the issue, but it looks like you might have to fork laravel-dompdf so that you can customize the composer.json. Then you can tell composer to use your fork. See the following links for details:\n- http://mnapoli.fr/overriding-dependencies-with-composer\n- http://stackoverflow.com/q/17531909/264628\n. Thanks for the help on this one.\n. I know your post is a bit old, but I can't quite reproduce the issue. If you're still around do you have a complete example of the HTML+CSS that was causing the problem?\n. That was it, thanks.\n. Looks good but please use the develop branch as the basis for your changes. We'd like to avoid merging code directly into the master branch.\n. How is it not working? Do you get any errors from PHP? Do you get any output at all? What is your implementation (i.e. how are you using dompdf)?\n. It sounds like you're probably running into a PHP error somewhere. Try enabling sending PHP errors to the browser. Or, if you can't do that, download the corrupted PDF and open it in a text editor (Notepad, TextEdit, vi). Sometimes a corrupted PDF is an indication that some non-PDF content was captured in the PDF stream, usually PHP errors.\n. Somewhere in your PHP before you instantiate and use dompdf try adding ini_set('display_errors',true);.\n. I believe hosting providers can disable the ability for users to modify settings. You can't upload files here, but if you post your file online (or link to your site) I'll take a look.\n. Better to post the PDF in binary form somewhere we can download. What you uploaded appeared to be incomplete, and if that was the entire PDF produced by your server then it would certainly not display correctly.\nI didn't see any link to produce a PDF on your site. When I attempted to render one of the pages I experienced an out-of-memory error. Rendering the print view of the same page was fine.\n. So when I visit your test environment and generate a PDF I get a connection reset during page load. As a guess I'd say maybe there is a memory overload, but you would have to confirm that in your logs. PDF generation can be memory intensive because all the resources have to load into memory. That's particularly true with graphics. If you can temporarily raise the amount of memory available it would be a good thing to try.\nHowever, if I use wget and fetch the PDF I am able to pull it down and it looks fine (except for some formatting issues). Maybe there's something going on that's upsetting communication between the server and the browser. Could be that the PDF size doesn't match the reported content size, and so the browser assumes the server did not finish sending the file. If you have any kind of compression or caching you might try temporarily disabling it.\n. dompdf only requires allow_url_fopen if you are trying to fetch resources via HTTP. Since your HTML is pulled from the local file system it should load just fine. If you are referencing any CSS or image files they will also need to be local. But you should at least be seeing the text of the document rendered to PDF.\nIf you get nothing at all then there's probably a PHP error happening somewhere. You could try turning on error display (ini_set('display_errors',true);).\nIf I were to guess as to the issue, you could be running into problems around DOMPDF_CHROOT which is set to the dompdf directory by default. You can easily see if that's the issue by temporarily setting the value to your filesystem root, i.e. define('DOMPDF_CHROOT', '/');. If that's the issue you will want to set it to something more permissive, but not so permissive as to expose files to dompdf that shouldn't be accessible.\n. You should only need to set DOMPDF_CHROOT to the location where the HTML file will be read from. So if you aren't rendering any HTML from the dompdf directory you can safely set it to the export directory.\n. I'll have to review the code and comments. I believe we had gone back and forth on whether to apply the setting to using the class directly, but it appears the comments are out of date with the current functionality.\n. That would be helpful. I also have a copy of your message regarding that in my inbox as a reminder.\n. Re: merging the documentation. That's something we'd like to do. Core documentation will be maintained with the project itself. README.md will have the basics and the wiki will host most of the relevant usage information. We'll be pulling out the sample site into a separate project and maintain any other documentation there. Maybe as part of the github.io site or as something else.\nThe DigitalJunkies site belongs to Benj Carson, the creator of dompdf. He isn't actively developing the project so you can consider that site archival for 0.5.1. It used to redirect to dompdf.org, but I think after a site rebuild the redirect was lost.\nAs for eclecticgeek.com, the docs are there mainly for reference and testing. I may just take them down for now.\nAlso, you forgot http://pxd.me/dompdf/ maintained by @PhenX (our lead developer at this point).\n. I don't know why that would be, unless the path doesn't quite match up. Have you tried without the trailing slash (/)? One way to work around the restriction is to fetch the file contents into a variable then use $dompdf->load_html($html); instead of $dompdf->load_html_file($file);.\n. This is not yet supported. Please follow issue #476.\nFor your particular use case, have you considered positioning the signature and conditions instead of pushing them down using min-height?\n. It looks like this may be similar to #823. I don't think this is necessarily anything in dompdf, though I can't completely rule it out. My current thought is that the issue is due to either resource exhaustion or server configuration.\nAre you seeing any PHP errors in your logs? Does your server include any kind of caching or compression?\n. Without much more information (server errors, for example) it's hard to diagnose. I see one post on StackOverflow indicating a that a \"Frame load interrupted\" error might be due to the content disposition. Try: $dompdf->stream('output.pdf',array('Attachment'=>false));.\n. Thank you for your patch. Since the www content is no longer included with dompdf I'm going to close the issue. If the content is resurrected as part of the utils project I'll be sure to include the updated image.\nWe'll try to keep your note in mind when adding images to the library in the future.\n. This is typically due to malformed HTML syntax. You might want to run your HTML through a validator and try to address any issues. The purpose of html5lib is to clean up syntactical errors, but the library needs a bit of work (I'm currently looking at a more active fork of the library we currently use).\n. Responded via the support group.\n. Looks like I never followed up after you posted a sample image. Sorry about that, but glad to hear that you were able to work around the issue.\n. I've been wondering what effect our image parsing could be having on image quality. You've identified one side effect. We'll take a look at the relevant code and see what we can do. Thanks for taking the time to debug the issue.\n. Are you sure it's failing on the call to load_html()? Do you get any error messages? I don't see any reason on first look why accessing over HTTPS would cause this to fail.\n. There must be a PHP error if the document is failing to render. Have you checked your log files?\n. Thanks for the follow-up. I didn't think it related to dompdf directly. I would've expected that to be set globally, though best practice in security is to only enable what you're using. Still, you would expect the SSL config to mirror the non-SSL one.\n. It's an issue if you download the dompdf source code from github. When you do that php-font-lib is not included because it is a separate library. You can download it individually, as you have done, or you can grab the official release (the green button) on the release announcement (e.g. 0.6.1 here: https://github.com/dompdf/dompdf/releases/tag/v0.6.1).\n. You shouldn't need to change anything in cpff_adapter. All you need to do is specify the page size in your configuration or by calling $dompdf-> set_paper('a4');. Which version of dompdf are you using?\nAlso can you confirm that your issue is not that dompdf is producing the incorrect page size (when viewed in a PDF viewer), but that the PDF, when printed, is showing as letter.\n. You would need to tell dompdf that you want to render to a4 size, similar to what I posted. I'm not entirely sure what's going on in your situation. Do you have a link that we can use to take a look?\n. Specifying the default paper size should be sufficient. If you're using dompdf.php you can also specify it as part of the url parameters, e.g. dompdf.php?paper=a4...\nAlso, we don't need to see the source of those files since they're from dompdf (unless you've made significant changes). What I was looking for was a link to the PDF output so I could check out the paper size and see if I experience the same issue.\n. Looks like you're using html2pdf instead of dompdf unless the html2pdf file is a helper file that subsequently includes dompdf.\n. dompdf does, via the DejaVu fonts. You'll need to be on 0.6.x, try the following HTML:\nhtml\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n    <p style=\"font-family: DejaVu Sans, sans-serif;\">\u0412\u0441\u0435 \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0435 \u0441\u0435\u043c\u044c\u0438 \u043f\u043e\u0445\u043e\u0436\u0438 \u0434\u0440\u0443\u0433 \u043d\u0430 \u0434\u0440\u0443\u0433\u0430, \u043a\u0430\u0436\u0434\u0430\u044f \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u0430\u044f \u0441\u0435\u043c\u044c\u044f \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u0430 \u043f\u043e-\u0441\u0432\u043e\u0435\u043c\u0443.</p>\n</body>\n</html>\nAnd don't forget to read (and contribute to) the Unicode How-To.\n. First, if you're not using v0.6.1 you should go ahead and upgrade. Then use the built-in font loading tools. You can still use the web-based font prep tool, but what's included with dompdf is much better right now. Third, try disabling font subsetting to see if that helps.\nI was able to use the font without any missing glyphs with the following HTML:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n  @font-face {\n    font-family: latha;\n    font-style: normal;\n    font-weight: 400;\n    src: url(http://eclecticgeek.com/dompdf/fonts/latha.ttf) format('true-type');\n  }\n  </style>\n</head>\n<body>\n  <p style=\"font-family: latha, DejaVu Sans, sans-serif;\">\u0ba4\u0bae\u0bbf\u0bb4\u0bcd</p>\n</body>\n</html>\n. Sorry. I meant 0.6.1, .2 is in-the-works.\nDo you have read/write access to your temp directory? Is DOMPDF_ENABLE_REMOTE true? Those are the only two things I can think that may affect your output (though I don't know that the latter is necessary). Do you get any PHP errors/notices?\n. I had no trouble using your HTML.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=05106307de016883506829e239aac75c\nI don't really see anything wrong with the code so the issue might be somewhere else. Are there any red flags on the setup page (browse to dompdf-0.6.1/www/setup.php)?\n. @moeseth you should start a new discussion on the support forum to work through any problems you're having. Unless you can definitively identify a problem with the solution for a closed issue that is.\nThat being said, the format specifier in your @font-face declaration should be \"truetype\" and not \"ttf\" (a mistake I often make myself).. I believe we've seen this happen when dompdf is conflicting with another class (specifically the Stylesheet class). Do any of the other libraries you're running include a Stylesheet class?\n. You could try downloading the current dev branch. We haven't done much real-world testing (or any at all to be honest) but we're working the code into it's own namespace.\n. Sorry, my mistake. I meant to say 0.6.1. 0.6.2 is still in the works.\n. Please go back to 0.6.1 as that's the latest supported. We haven't done extensive testing on the development branches.\n. Looks interesting. We'd like to avoid merging changes directly into the master branch where possible. Target your changes to the develop branch and we'll take a closer look.\n. If you have time to fix up this PR I'd be grateful. Still seems like a potentially good fix and I'll look at it more for the next release.. There's not an easy way to catch this error as part of your PHP code. Normally you would use a try/catch block, but that doesn't work with this type of error.\nYour best bet for catching this error is to run dompdf in an external process. There are a few ways to go about this, but the simplest would be to run dompdf using exec(), saving the PDF and redirecting the user to it. If the process fails the PDF won't exist and you should get a return code indicating an error.\n. If available on your system you might try using Composer to install dompdf. It nicely handles class loading and dependency management.\nIf you'd rather stick with a download we recommend one from the releases page. The green download buttons (showing a downward pointing arrow and the file name) link to a zip that contains all the necessary files.\n. @hgamiel nice detail on the reply, BTW!\n. Is there any particular reason you're suggesting this change? I think we want to go the other route, push from master to develop, until we've had a chance to finalize the work we're doing.\n. @Lutacon though I can't tell you where, right now, the issue lies (dompdf, php-font-lib, or the font itself), I can say that if you modify the font metrics file (UFM) you can tweak the underline position by changing the value of UnderlinePosition.\n. You can find the font metrics in the location specified by DOMPDF_FONT_DIR. In a vanilla copy of dompdf that would be under dompdf/lib/fonts. Look for a file with the same name as the font file (or hash for @font-face-loaded fonts) ending with .UFM.\n. Instead of changing the .ufm.php file I'd recommend changing the .ufm file and deleting the .ufm.php file, which is a cache file generated by dompdf when it first parses a font.. Instead of changing the .ufm.php file I'd recommend changing the .ufm file and deleting the .ufm.php file, which is a cache file generated by dompdf when it first parses a font.. With the upcoming release I believe this work-around will no longer be necessary.\nClosing as a duplicate of #609. Please follow that issue for updates.. Is this still an issue?\n. This could very well be an issue with how we represent the font and how OS X does. dompdf still generates PDFs according to the 1.3 spec. Apparently starting with the 1.5 spec the \"special treatment\" given to the 14 core fonts is deprecated. It's entirely possible that Apple has decided to no longer support the old style format of the font. In which case the glyph references would no longer match up. More research is needed.\n. Issue 1577 in the pdf.js discusses a similar issue: https://github.com/mozilla/pdf.js/issues/1577\n. There's not an easy way to test this theory since dompdf converts core font formatted text to WindowsANSI during rendering. Some minor code modifications might make testing possible, so I'll just toss this sample HTML here for now:\n<div style=\"font-family: ZapfDingbats, sans-serif;\">\u270c</div>\nAnd this link: http://www.spectraok.com/pdf/ZapfDingbats.pdf\n. @consolibyte you might check out issue #1178 or #1179 (particularly if you're using a Windows system).\n. Not really in an elegant way. You would have to generate your page numbers using scripting. You could then set and unset a variable indicating when to exclude the page number.\n. There can be (e.g. see #98), however I'm not sure this is related. In which file does the exception occur? Can you post a sample of the HTML?\n. Also, are you using 0.6.1? If not we highly recommend you do so. If so, try enabling the HTML5 Parser.\n. Anything in the problematic document that might cause a table cell to be larger than the page size? Seems like it's potentially due to the issue outlined by #98, but the code sample doesn't cause an exception (and looks fine).\n. You can upload your file to my server ...\n. I did receive the file. I'll take a look at it this week.\n. Hm. I'm seeing that error, but dompdf is not actually crashing. Usually an offset error is non-fatal so I'm not sure the issue is actually related to the tables. Plus I don't really see anything wrong with the code itself. dompdf is having some trouble with the CSS, and maybe that's where things are going wrong.\nEven though I can render the document the output is not optimal. That's probably because we don't have full support for media queries. If you do get it working on your system you'll probably want to provide a print-oriented stylesheet for dompdf.\n. CSS issue confirmed by removing the reference to foundation.min.css. I switched to the non-minimized version and still had issues, but fewer of them. I'm still not sure what's causing problems for the parser right now.\n. I don't know how much time I'll be able to spend on this, but I will take a look. There are some definite issues that we need to address. Hopefully we can temporarily work around the issues by modifying the styling.\n. @Gertiozuni then you'll need to find another solution. Dompdf through versions 0.8.1 (at least) do not have any resolution for that issue. v0.8.1 (to be released soon) will handle paging of this type of layout better, but it won't resolve the issue. Please read through and follow issue #98 for more information.. Ideally dompdf would be able to split the image across pages. But that doesn't sound like what you want/need in this instance. To get an image to fit the page you can set it's height to 100%.\nIf you really do want to increase the page size you can modify that using $dompdf->set_paper(). dompdf understands most standard page size so you could, for example, use the b0 page size which is 2834.65pt X 4008.19pt (1pt = 1px when DOMPDF_DPI is set to 72). To set that size you would use $dompdf->set_paper('b0').\nIf you want to set a custom page size you can do that by passing an array. For example, if you want a page size of 1000pt X 2000pt you would use $dompdf->set_paper(array(0,0,1000,2000)). The first two numbers are required but should just be set to zero.\n. Have you read the Unicode How-To? What do you want to put into Russian? narmalno (\u043d\u0430\u0440\u043c\u0430\u043b\u044c\u043d\u043e, according to Google Translate)?\n. dompdf is pretty strict about the HTML passed to it. Yours is not valid. The TH element should be used in the same way as the TD element. You probably meant the following:\n<table>\n        <tr>\n            <th>\n                Work Description\n            </th>\n            <th>\n                Location\n            </th>\n             <th>\n                 Work Type\n             </th>\n            <th>\n                Work Purpose\n            </th>\n        </tr>\n        <tr>\n            <td>\n                <?php echo $suggestion->work_description ?>\n            </td>\n            <td>\n                <?php echo $suggestion->work_location ?>\n            </td>\n            <td>\n                <?php echo $suggestion->work_type ?>\n            </td>\n            <td>\n                <?php echo $suggestion->work_purpose ?>\n            </td>\n        </tr>\n    </table>\nIf your'e using 0.6.x you can enable the HTML5 parser and it will attempt to clean up any errors in the HTML. This will help avoid fatal errors, such as the one you encountered, but the results may not always be what you expect.\nIf in doubt, I always recommend running your HTML through a validator to see if there are any serious issues to address.\n. Looks like that property is being copied when the element is split to rendering on a new page. Right now I don't think we have a good way of tracking which styles should or should not copy to the next page. That would be helpful moving forward when implementing the box-decoration styling (see #640). This particular property isn't covered, but we can set up the tracking to handle that by providing various options (e.g. duplicate styles always, never, or based on box-decoration ... page-break-before would be never).\nYour issue isn't directly related to the originally-reported problem in #793. That issue relates to the div pushing against the page boundaries and causing a page break even though it shouldn't. The page-break styling mentioned in that issue was in relation to attempting to come up with a work-around.\nThis issue is fairly straightforward to address. Update the file include/frame_decorator.cls.php by adding the following after line 591:\nphp\n      $orig_style->page_break_before = \"auto\";\n. Good to hear. I plan to post the change soon along with some other minor tweaks. Feel free create a pull request since you've already done it, just remember to do any work on develop. We're going to try to reserve master for stable-ish code moving forward.\n. Can you update the paste with the CSS (or provide a link to it by some other means)?\n. Apparently I never got back to you :(\nI supposed at this point no further help is needed, but if so feel free to post back and I'll open this back up.\n. The Deja Vu fonts are not needed at all. We provide those fonts in order to support a wider character set since, as implemented, the core fonts only support Windows ANSI encoding. The core fonts (Helvetica, Courier, Times, Symbol, and Zapf Dingbats) take up so little space because we do not need to include the TTF files since they are built in to all PDF viewers (per the spec).\nI'm not even sure if it's possible to support an expanded character set with the core fonts. It's something I've looked into in the past but had to put aside. Most programs that have wider character support with these fonts use an embedded subset of the TTF file.\nThough 16MB seems a paltry amount of server space in this day and age it's certainly worth considering having an option to download dompdf without the extra fonts (and the fonts in a separate package). Or, at least, paring down the fonts we supply by default. I doubt many people are using the condensed versions.\nDo you have a particular reason for asking?\n. Good to know. It does certainly build up when you have multiple versions sitting around. Are you using the release download or composer? I think for the next release we should be able to do this. We'll just have to look at how much work it would be to do for composer.\n. Your modification would actually break the current release of dompdf (0.6.1). That version uses the 2.x release of php-font-lib, which has a different file structure from the v1.x release. However, if you are still using the 0.1.x release of php-font-lib this patch will be necessary.\n. I see the error, but it's a notice from PHP not an exception. The document should still render.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=29e5b0e068bc307361cf1d83c7602d1f\nCan you turn down the error reporting level in your framework?\nNot to say there's no problem, it's just not a show-stopper. So we'll take a look when we get a chance.\nSeems to be a similar issue to that reported by Bootstrap users (#631).\n. Would it be too much trouble to share the problem CSS? Testing against a known bad subset will help us improve the robustness of the CSS parser.\n. Probably related to parsing the font, so the actual issue may be in PhenX/php-font-lib. Hard to say without more investigation where the problem actually lies.\nThis is probably covered by #631.\n. FYI, it's not the inclusion of @font-face directive ... it's when you actually use the font in your document. At any rate, I didn't mean to confuse the issue. I realize this issue is not directly related to the before/after styling. I was more trying to point out that when we work on teasing out compatibility with Bootstrap (as requested in the other issue), that we will probably look at this font problem.\nOr, maybe we'll look at it sooner. I believe this one's a resource exhaustion issue. If you can allocate more RAM for your system/PHP you may not encounter any trouble with the font.\n. Nothing yet.\n. I haven't tried it, but it's possible the performance updates to php-font-lib might help. You'll have to manually download a copy of the master branch, but it should be a drop-in replacement if you're using dompdf 0.7.0.\n. Also, you might try 0.7.0 beta 3. Seems to do better since it no longer parses non-TTF fonts.\n. After quick testing, 0.7.0 will render now even if glyphicons are used. However, the icons themselves are not displayed due to, I believe, a style-parsing issue around the :: CSS syntax (#869).\n. You should see improved support for this in dompdf 0.7.1 thanks to better handling of font subsetting on CSS content declarations. There is still an issue parsing the font in php-font-lib, but that will have to be addressed separately in that project.. Which version of dompdf are you using? I tried with the latest and did not experience the same issue.\n. According to composer.json it requires dompdf 0.6.x. At least for the latest version. What version of laravel-dompdf are you using? To better debug the issue it would help to see an actual document (HTML+CSS) that's being rendered incorrectly.\n. We're looking to namespace our classes for the next release. Take a look at the develop branch. Everything will be under the Dompdf namespace and should avoid conflicts so long as the target systems support namespaces. And since these have been available since PHP 5.3 everyone should now be compatible.\nI believe the develop branch is pretty much functional now. I spent a few weeks going through it and looking for any problems arising from architectural modification. Not to say that we've completely tackled the issue, but things look to be stable enough now that we might begin to consider a new release.\nYou might give the develop branch a try against a known problematic and see how it fares. And if you have any ideas for improvement we'd be glad to see a PR.\n. I wouldn't necessarily want to use Bower over Composer, and I wouldn't use or recommend using Bower in lieu of Composer. It's a bit of a misnomer that Bower is intended for front-end package management. Admittedly the packages currently supported by Bower are heavily oriented towards front-end tech, but Bower is technology-agnostic.\nPositives: adding basic support seems to be easy enough; it would expand the possible distribution channels.\nNegatives: lack of PHP-centric functionality (providing an autoloading mechanism); few PHP packages (meaning possible future dependencies may not be available).\n. nah\n. The style that's causing problems is p { page-break-after: always; } ... which is just an insane style to begin with. Who wants to break pages after every single paragraph? Every. Single. Paragraph.\nRemoving the page break styling seems to fix things, but I'm not sure why it's causing the problem. It's not the styling itself, but something about your document combined with that styling (I can use that style on a simple document without issue). We'll need to look into this further.\n. Who would write such crazy CSS ... oh. Ha ha. Sorry, yes.\nThe page break styling does exactly what it sounds like. After every p element a new page is created. I wanted to keep that example simple, it wasn't meant to be used in production. I'll try to do better with my sample code next time. Since all you really want is the page number, you can get rid of the page break styling. All you really need is this part:\n<html>\n  <head>\n    <style>\n      .footer { position: fixed; bottom: 0px; }\n      .pagenum:before { content: counter(page); }\n    </style>\n  </head>\n  <body>\n    <div class=\"footer\">Page: <span class=\"pagenum\"></span></div>\n  </body>\n</html>\nThat being said, I think it could be an endless loop. You don't have enough p elements to create hundreds of pages. I think the page break styling may be getting pushed to a new page, causing a new page to render, then getting pushed yet again to a new page.\n. They way most browsers (and indeed dompdf) handle elements that break across pages is to not reapply any borders. That means after the first page your box will go back to being flush against the page margins. Luckily it's easy to get around, just push in the page margins, and position the header content outside the page bounds.\nFor example:\n<html>\n<head>\n  <style>\n    @page { margin: 100px; }\n    body { border: 5px solid red; }\n    .header { position: fixed; height: 65px; top: -70px; background-color: purple; }\n    .break-before { page-break-before: always; }\n    .section { margin-top: 200px; }\n  </style>\n</head>\n<body>\n  <div class=\"header\"></div>\n  <p>page 1</p>\n  <div class=\"break-before section\">\n    <p>page 2, with unnecessary extra spacing</p>\n    <!-- insert lots of text here -->\n    <p>but following pages are flush against the page margins again</p>\n  </div>\n</body>\n</html>\nToo complex of an example?\nFYI, there is a CSS property related to this, where you can tell the renderer to re-apply margins, etc. We just haven't implemented it yet (see #640).\n. You need to add a page margin and then place the header/footer into that space using negative values for top/bottom respectively. If you tweak your stylesheet just a little it should look OK. Just add the page margin:\n@page { margin-top: 50px; margin-bottom: 50px; }\nand adjust your header/footer to push into that margin:\n.header {top: -50px; position: fixed;}\n.footer {bottom: -50px; position: fixed;}\nAdjust the size as necessary, of course.\n. Sorry, yes. When positioning the footer you'll need to take into account the height of the footer. Or you could just specify bottom: 0px and it will abut the page margin.\n. @shimax you need to set the header/footer inside the page margins to avoid header/footer overlap. You didn't provide sample HTML, but let's say your footer is styled .footer { position: fixed; bottom: 0px; left: 0px; right: 0px; }. Content that flows to the bottom of the page will run under the footer element. To avoid this, push the footer into the page margins, for example .footer { position: fixed; bottom: -1in; left: 0px; right: 0px; }. \ud83d\ude11\nCan't really help you there. I know a lot about how to deal with this type of formatting in dompdf but haven't spent much time in the browser environment doing the same.. Glad you found the right download. Which link did you follow?\n. The problem would be in how dompdf translates the CSS into an XPath expression. What version are you using? And do you have a sample of the CSS that's causing problems? I ran a simple test and didn't receive any warnings. dompdf should be dropping things it doesn't understand, but perhaps there's an issue with some translations.\n. I'm still not seeing the warnings (though I'll do a bit more testing on at least one other system). What OS and version of PHP are you using?\n. That is probably the case. I totally should have noticed that sooner. If I can figure out how to address the issue I'll let you know.\nYou might try adding a try/catch statement around that line to see if that suppresses the notice.\n. Your guess as to what the page_text() function does is correct, it writes the specified text at the specified coordinates on every page. With the inline script example the {PAGE_NUM} and {PAGE_COUNT} placeholders are replaced with their respective values during rendering. Inline script support is disabled by default in the latest release. You can find the appropriate setting in the configuration file. Because of security issues we recommend not using this feature unless you need to. You can still script the counter from the outside (see the second part of this answer).\nThe other answer in that question show you how to do the same using just CSS. Unfortunately it is not yet possible to get the page count using this method and so this probably won't work for your needs.\n. I'm not entirely sure what you mean, but if you set the styling on the elements to display: none they will be excluded from the PDF. How are you attempting to exclude content?\n. Also see issue #403.\n. Something about your system must have changed. Temporary directory issues, maybe? Also, if you can't open the PDF how do you know what's going on with the images?\nAt any rate, PDF corruption typically means that some PHP warnings were caught in the PDF stream. If you open the PDF in a text editor you should see some PHP warnings/notices at the top of the file. Addressing the cause of the notices/warnings should fix the problem you're having opening the PDF. Also, best practice is to disable sending PHP notices/warnings to the browser, which would also proven this issue.\n. You probably downloaded the wrong file. github provides a ZIP of the code, but it's missing anything that's external to the project (e.g. php-font-lib). You'll want to head over to the releases page and click on the green download button labeled with the version number (e.g. dompdf-0.6.1.zip).\nOr just use this link to download the latest stable release (0.6.1 as of this posting): https://github.com/dompdf/dompdf/releases/download/v0.6.1/dompdf-0.6.1.zip\n. Is that the extent of the error message? Also, you shouldn't need the ob_start() command since you're not using it. Could be interfering with display of some notices/warnings.\n. Instead of loading the dompdf class files in your configuration have you tried loading using dompdf_config.inc.php? With 0.6.x you should be loading that file anyway (it sets a lot of configuration values used by dompdf). Or is that what happens with application.vendor.dompdf.*?\n. What if you add load information for php-font-lib? I believe the link I provided earlier it would be under dompdf/lib/php-font-lib/classes.\nYour initial note indicated which file was not found, but in your later note just says that a file was not found. Is there any way to determine which file?\n. The error you received after renaming the files is due to the fact that the dompdf_config.inc.php file is not loading. This file sets a lot of constants at run time that dompdf uses.\nWhat appears to be happening is that the Yii autoloader is expecting the files to be named according to a convention such as PSR-0. dompdf 0.6.1 and earlier do not follow these conventions and so when Yii is looking for the class files it's not finding them. Rather than rename all the files you should just require dompdf_config,inc.php because it adds autoload support for the dompdf files.\nThe next major release of dompdf will be structured based on PSR specifications.\n. Sometimes the viewer may display things slightly different from how they are coded, usually depending on the zoom level. We can check the output if you post a sample PDF that has the issue.\n. Post a PDF created by dompdf and one created by other means as well as the source HTML and we can take a look and see if there's a problem that needs to be addressed.\n. Do you mean that as pages are generated the content is output to the browser? It would place some restrictions on what you could do with the pdf (e.g. page_text would be problematic).\nIn general I think decreasing the resource requirements is a fantastic idea. I've considered another path (disk caching) for low-mem environments, but that type of modification would come at the cost of speed (from read/write disk operations). I'd be curious to see what you have in mind (there's a lot of packaging of the PDF object during output).\n. I like the sound of that. Do you have any examples of this in use elsewhere?\n. Some pseudo code or related actual code would be useful.\n. It would probably work fine if you use the CPDF backend, which is what is being used on your development machine. Of course, that's not ideal if what you really want is to use the PDFLib backend. There must be something going on with how PDFLib is being initialized such that on the second pass the library is not in the correct state. It could also be something about the document, are you testing on simple documents?\n. It's been a while since I looked at the PDFLib code, so you're probably steeped in it more than me at this point. I'm having trouble seeing where this could be happening. dompdf creates a new PDFLib object during document rendering. If you don't find anything I'll set up a system for debugging and step through to see if I can figure out what's going on.\n. Was $this->_dompdf->get_options(\"temp_dir\"); at line 184 not working?\n. I see most of the changes were related to setting configuration options. Any sense of whether or not it would be worthwhile to continue supporting the older version. If so we could probably write a private method that chooses the appropriate method.\n. This was probably sufficiently covered by #1743.. This is probably a text wrapping issue due to how dompdf treats inline elements. Definitely something we should improve.\n. Nothing as of yet, sorry. The issue will affect any inline element since, I believe, an inline element is treated similar to a word break.\n. No, sorry. It's definitely something we want to fix I'm just not sure when we'll be able to look at it. I wasn't even able to find a decent work around since the issue has to do with how inline elements are treated.\n. You can get basic usage information from in the wiki. Some API documentation is in order, so we'll add that to the todo-list. dompdf.cls.php, canvas.cls.php, and the CPDF.php are the files where you'll find the most useful functions that you can access.\nUntil we get the API documentation started is there anything in particular you want to know about?\nSome documentation is available online for v0.5.x. While it's mostly still relevant to 0.6.x there have been changes, so always compare the old methods to the new ones.\n. We will try. You can leave this issue open as a reminder for us to work on that documentation.\n. You don't describe the error you encounter, so it's a bit hard to figure a solution.\nHazarding a guess, however, your div styling may be causing issues. You style the height at 100%, which, with margin and padding will cause the div to be larger than the current page. This could be causing an early page break. Until we add support for box-sizing you'll have to manually figure the appropriate dimensions rather than rely on using 100%. Unless, of course, you have zero margin and padding.\n. Glad you were able to figure it out. Switching from the older version should definitely help, though some problems persist (such as the box sizing). With 0.6.x you shouldn't need to set the encoding since we do that during initialization in dompdf_config.inc.php.\nWatch issue #669 for updates related to support for box sizing styling.\n. Follow the advice from @gozonjoedaimar and you should be ok.\n. Versions of dompdf beginning with 0.6.0 support float. Since the functionality is still in development you have to specifically enable it by setting the DOMPDF_ENABLE_CSS_FLOAT configuration constant to true in dompdf_config.custom.inc.php. You can also set the value by calling $dompdf->set_option('enable_css_float', true) during runtime.\nThis feature may be enabled by default with the 0.7.0 release.\n. It looks like when you style the parent container with text-align: justify; it breaks the positioning calculation related to floated content. Until we fix the issue you can work around it by moving text alignment styling to the element with content that needs to be aligned.\n. Looks good but please use the develop branch as the basis for your changes. We'd like to avoid merging code directly into the master branch.\n. This type of question is best asked on the support forum: http://groups.google.com/group/dompdf\n. Which version of dompdf? Testing that sample code it seems to work fine. What color are you expecting to see?\n. Yes, we haven't yet addressed this issue. That particular section of code is just one part that will need to be modified in order to support &shy;. Please watch issue #104 for updates.\n. Excellent suggestion! When the relevant code is resurrected in the utils project you might want to re-submit your PR there.\n. You need to set the paper size before rendering. After you call render dompdf has already done most of the heavy lifting around rendering the HTML to PDF.\n. There is no built-in way, though I did come up with a technique that works fairly well. Check out this answer on StackOverflow: http://stackoverflow.com/a/26771324/264628\n. Which version of dompdf are you using? Do you have a more specific example?\nWhat about absolutely positioning the div (position: absolute; left: 0px; top: 0px;right: 0px; bottom: 0px;).\n. Absolutely positioned content does not affect the \"flow\" of the document. It will be rendered only on the page where it is encountered.\nThis is something we should look further into, though.\n. The built-in fonts specified by the PDF spec only support characters from the Windows ANSI encoding. If you want to display characters not supported by this encoding you have to use an alternate font. dompdf as of 0.6.0 supplies the DejaVu fonts which support a fairly large number of characters from Unicode encoding.\nQuick testing indicates that the characters you specified are supported. Try something like the following:\nhtml\n<div style=\"font-family:DejaVu Sans; sans-serif\">\u016b\u0101\u0113\u012b\u0146</div>\n. That one should work without any modification of the HTML or dompdf configuration if you're using 0.6.1. Are you doing anything to the HTML before passing it to dompdf?\n. Encrypted documents with embedded fonts and missing glyphs is a known issue. Visit issue #340 and subscribe to notifications to get updates on the issue.\n. Looks like you have layout debugging enabled. Ensure that the DEBUG_LAYOUT configuration constant is set to false. You can set it from dompdf_config.inc.php or dompdf_custom_config.inc.php.\n. also asked here: http://stackoverflow.com/q/27987206/264628\n. That would do it. Do you have some sample code? Looks to be related to issue #74 and likely to be encountered when there are structural errors. Still, we should catch for issues like this when we can.\nAlso note that if the problem is due to structural issues enabling the HTML5 parser could help. Also watch issue #449.\n. @raxhet91 First thing you might do is either a) check your HTML for structural errors (e.g. using the w3 validator), or b) enable the HTML5 parser. Dompdf isn't very forgiving of structural problems in the HTML.\nIf that doesn't work you should consider upgrading to 0.7.0 which has an update that can address this issue (see commit 9af6eab022f9ba63d5c469ead272e8d8f6cb33e4).\n@dleffler I don't think this patch is necessary in 0.7.0 anymore, can you confirm?\n. Closing since I haven't heard otherwise. If this is still an issue please post an update.. @garrettw best time to set options is before you load your document, so something like ...\n$dompdf = new Dompdf();\n$dompdf->setOption('isHtml5ParserEnabled', true);\n@wreardan sounds like potentially invalid HTML is causing the issue. If you can provide a sample we can confirm. I generally recommend using the HTML5 parser if you can. It's not enabled by default because we're using a fairly old version right now.. Usually that error is caused by something mulling the document before it's even parsed. I'm not sure why you would get it just for missing a required module.\nWe do provide a system check if you browse to dompdf/www/setup.php. Maybe it would be a good addition to the initializion routine.\n. You can not use GD2? With v0.6.x GD is now a requirement. You could try 0.5.x, it has some image support even for systems that do not have GD.\n. Sorry, I didn't mean to change the dompdf back end to GD. I was asking if you had the GD PHP extension installed on your system.\nImage issues are difficult to diagnose remotely. You said you're getting the temp files when using http://. Do you get any error from PHP (like in the error log)? Does the dompdf \"user\" have read/write access to the temp directory.\nAlso, if the http:// image is not rendered what do you see in it's place?\n. If there were a problem processing the image you should get an error or a notice at some point. You might have to modify PHP's error reporting settings.\nCan you post a sample PDF so that we can look at its source?\n. You can't do what you want in quite that way. Page scripts run outside the context of the rendering engine, so any text you place in the PDF is rendered verbatim. Also, page scripts are run after all other rendering is complete, so it's a bit more difficult to insert content using them when you keep in mind the positioning and styling requirements.\nNow that I've given you a primer on page scripts let's talk about inline script in general. The way dompdf parses documents means that it will parse scripts as it encounters them. So you're on to something. You might try something like\n<script type=\"text/php\">\nif ( isset($pdf) && $PAGE_COUNT <= 5) {\n    open_object();\n}\n</script>\n      <div>Payment of: $39.00</div>\n<script type=\"text/php\">\nif ( isset($pdf) && $PAGE_COUNT <= 5) {\n    close_object();\n}\n</script>\nWhat this does, essentially, is hide that bit of html in a disconnected object when the page number is less than six. But this doesn't quite get you what you want because the space used by that text will still be reflected in the document.\nIt might help to see a fuller sample of what you're trying to achieve.\n. Relevant to this question is the discussion of ZapfDingbats in issue #847.\n. Have you read the dompdf README instructions related to composer or the dompdf & Composer quick start in the wiki?\n. @alex-ception your issues will likely be addressed by the forthcoming release. Feel free to check out the develop branch if you want to see how it works. If you run into any other problems it's best to open a new issue or start a discussion on the support forum.\n. This is a commonly-reported issue. You downloaded a ZIP of the code repository instead of the the actual release. I you visit the releases page you want to click on the link that indicates the version (e.g. dompdf-0.6.1.zip) instead of the link that says \"source code.\"\n. Check your PHP error log. Typically this error is the result of a null value being parsed, which probably means your document content was lost during initial processing.\n. You should check your inputs to make sure the content variable (if using $dompdf->load_html()) isn't being nulled out. Also look in your PHP logs for any errors. Also, perhaps you're missing a PHP extension or an external PHP library (e.g. the HTML 5 parser) on the server?\n. $dompdf->loadView()? Are you using dompdf with another library? That method isn't part of dompdf.\n. Ha ha ... we all do it (you will not look at my recent github activity). The error is from dompdf, but you might have better luck with the other library. If that doesn't help come on back over and we can hash it out in the support form.\n. I haven't yet spent much time trying to figure out exactly what would need to be changed to support this. I thought maybe the canvas and frame tree would need to be reset. But the canvas is currently set at render time and the frame tree when a document is loaded. So...\nYou should be able to unset($dompdf) to clear out any objects that may be causing conflicts.\n. @aquaticpond using the 0.7.0 final release? Do you get anything back if you call $dompdf->output_html(); instead of render? What if you disable the HTML5 parser?\n. Typically this error is thrown when the variable containing the HTML contents is null. There have been issues in the past where a bug in the HTML processing would result in the HTML content being nulled before by dompdf, but I believe those have been cleared up with the latest release.\nDo you see any notices or warnings thrown by PHP besides the initial one.\n. Certainly looks to be that there was not content. What OS are you running on? Version of PHP?\n. @akovalyov hoping to fix this in the next release. Follow #1056 for updates.. @marcleimvs, @UweKeim: when you state that you change the Dompdf directories to suite your project's needs ... what exactly does that mean? There is a level of configuration possible, but moving the lib/res directory isn't one of those options. We can look at making that a possibility if it's something that's needed.. @UweKeim let's move this discussion to #621.. @iiamfawad which version of dompdf? What steps have you taken so far?. @iiamfawad which version of dompdf? What steps have you taken so far?. Thank you for the follow-ups.\n@marcleimvs which version of Dompdf are you using? That should be the correct path for 0.7.0 or higher since __DIR__ returns the path to Stylesheet.php. In these versions the default stylesheet path starts two directory levels higher up. What values do you get for __DIR__ and $dir with the original code?\n@sitilge I'm not sure why turning on the HTML5 parser would fix the issue considering the simplicity of the HTML document. It might be an issue with one of the libraries, or possibly system configuration. Are you on *nix or Windows?. @sitilge sounds similar to #1494 ... want to continue in that issue?. I merged #1570 which addresses one possible cause of this issue. Other potential/actual causes mentioned we'll address as part of the referenced issues.. Interestingly, in our default CSS we style the HTML element with display: -dompdf-page; ... but that display type isn't referenced anywhere. I'll have to research this a bit more.\nThe BODY element is appropriately styled with display: block; but that can be overridden. I'll update the base stylesheet to at least add !important to the body display styling.\n\n\nRemoving tags and spaces is NOT a solution, it's a hack.\n\nAgreed, and if the problem were with Dompdf we would (eventually) address the issue so the hack wouldn't be needed. For the cases discussed where this is the workaround the bug is not with Dompdf but with a system library. That's beyond the scope of our control and should be reported to the team that maintains that library.\nThat being said, there is one issue we have not yet addressed brought up by the previous comment: display styling on the body element can throw an exception. And if you're interested in seeing that fixed follow #1869.. First, I think you mean to use width instead of colspan.\nSecond, I was unable to reproduce your issue with the small code sample you provided. What works best is to post with the issue or link to a full code sample that exhibits the problem. Preferably cut down to the smallest amount of code necessary (lest it take more time to debug the issue).\n. Excellent, thank you for the PR. I hope to be able to catch up on these soon(ish).\n. Looks good but can you target your changes to the develop branch? We would like to avoid merging changes directly into the master branch where possible.\n. Thank you much, we'll take a look.\n. I think we'll want to do things a bit differently when we add official support. Still, this may prove useful for others so thanks for taking the time to post it. Anyone looking at the issue should see a reference to this PR.\n. It's difficult to diagnose your issue until we have more information such as a sample of the HTML or the error reported by PHP (which might be found in your web server or PHP error logs).\n. Which version of dompdf are you using? Where did you get your font and how are you adding it (e.g. using load_font.php)? Do you have a sample document?\nThe line-height issues could be a processing problem with the font. I'm not sure about the issue with a non-breaking space. It could be an encoding error, or it could be that the font has an odd character encoded in that space.\n. We have not coded in support for the unicode-range property yet. Until we've added support for this feature you'll need to configure two different fonts in your CSS then reference them in your document. Something like the following:\ncss\n@font-face {\n    font-family: 'Noto Sans';\n    font-style: normal;\n    font-weight: normal;\n    src: local('Noto Sans'), local('NotoSans'), url(http://full/path/to/fonts/NotoSans-Regular.ttf) format('truetype');\n}\n@font-face {\n    font-family: 'Noto Sans Arabic';\n    font-style: normal;\n    font-weight: normal;\n    src: local('Noto Sans Arabic'), local('NotoSansArabic'),    url(http://full/path/to/fonts/NotoNaskhArabic-Regular.ttf) format('truetype');\n}\nhtml\n<span style=\"Noto Sans, sans-serif;\">blah</span> <span style=\"Noto Sans Arabic, Noto Sans, sans-serif;\" lang=\"ar\" dir=\"rtl\">\u0628\u0644\u0627\u0647</span>\n. We have seen some issues with our font metrics. I'm not sure if there is an actual problem with what's produced by php-font-lib, a problem in the font itself, or how we're interpreting the metrics. Some further investigation is definitely in order.\nOne thing to note, if you add some superscript text to your example you will see that what the browser does is collapse the space where superscript text would be while dompdf does not. That appears to account for some of the spacing differences.\nAs a workaround, once you have the font installed to dompdf you can go in and tweak the metrics. Delete the metrics cache (the *.ufm.php file) and modify the values for ascender and descender (and, maybe, font bbox) until you get the look you expect.\n. We did make some changes to image handling between the beta and final release. You should be able to perform an in-place update of dompdf. If you want to test the release you can always pop over to the debug helper on my site: http://eclecticgeek.com/dompdf/debug.php\n. If this is still an issue post back and let us know, closing for now.\n. Your issue appears to be in your PHP code. How are you using dompdf?\n. Well, that's simple and straightforward. Are you using APC or some other opcode cache?\n. I've seen some posts indicating that opcache may be the cause. I think there are two potential work-arounds:\n1. modify the php-font-lib includes to use an absolute path\n2. exclude php-font-lib from caching\nI don't know if there's any advice specific to eaccelerator.\n. Which release are you using? 0.6.1 should still be compatible with PHP 5.2. The next release (what's in the develop branch definitely will not be). I'm not seeing the same issue, but I don't have PHP 5.2 (though I can set it up if need be for testing).\nThere could be some other code messing things up as well. Can you reproduce the error using only that HTML?\nAnother recommendation, get on your host. PHP 5.2 is seriously out of date at this point--it hasn't been updated since 2011.\n. If you continue to have problems feel free to follow up here.\n. Sure does. Here's a live sample: http://pxd.me/dompdf/www/examples.php#css_border_radius.html,pdf\nYou can follow progress in issue #374.\n. I'm still trying to work out all the kinks in the develop branch. Looks like Cpdf isn't appropriately hinted for composer so the file isn't loading. I'll look into that. In the meantime you can require Cpdf manually and you should be fine.\n``` php\n<?php\nrequire 'vendor/autoload.php';\nrequire 'vendor/dompdf/dompdf/lib/Cpdf.php';\nuse Dompdf\\Dompdf;\n// disable DOMPDF's internal autoloader if you are using Composer\ndefine('DOMPDF_ENABLE_AUTOLOAD', false);\ndefine(\"DOMPDF_ENABLE_REMOTE\", true);\n// include DOMPDF's default configuration\nrequire_once 'vendor/dompdf/dompdf/dompdf_config.inc.php';\n// ...\n```\nI'm currently working on making dompdf_config.inc.php obsolete. The develop branch of dompdf  doesn't really use that file anymore (though there may be a few settings that still come into play). Configuration can be done (for the most part) by setting the options using the set_option/set_options methods.\nphp\n$dompdf->set_option('isRemoteEnabled', true);\n$dompdf->set_options(\n  array(\n    'isRemoteEnabled' => true,\n    'isCssFloatEnabled' => true\n  )\n);\nAfter removing dompdf_config.inc.php this issue with Cpdf is (hopefully) the last bit we'll need so that we can go back to working on the actual functionality.\n. Have you tried the latest code in the develop branch? This issue might now be addressed.\n. Thanks for the update @frost-nzcr4 :)\n. Ultimately fixed in commit da250b978bbd88dcca497dc761fe30b7d2958fb6.\n. I'm not seeing the same issue (using the image you attached). Which version of dompdf are you using? PHP? GD? Do you have either the gmagick or imagick extension loaded?\n. I imagine that viewing the HTML you feed into dompdf does not indicate the same issue. What about if you view the loaded document using $dompdf->output_html()?\nI have the same release of ImageMagick and don't see the issue, so I don't know if it's related. But you could test that by disabling the imagick module in your php.ini or commenting out the relevant code in dompdf/lib/class.pdf.php (lines 3927-3993 plus line 4038).\n. I think for 0.7.1 we'll either remove support for these libraries or make them optional.\n. Merged a fix for IMagick issues in commit c68484c. If anyone can confirm the issue is resolved that would be great. The update will be included in 0.8.2.. I don't see \"initial\" listed anywhere as a possible value for line-height. (mdn)\n. Ah ha ha, yes. Sorry, I was aware of that property. Just ... slipped my mind.\nSo, obviously, it's not currently supported. But certainly this should be something we ca do.\n. Related to issue #612.\n. We don't yet support numerical font weights. So long as the font is installed correctly you should be able to use font-weight: bold;. You can follow issue #675 to track the status of this feature.\n. Presumably if you browse directly you get the expected response. What about if you browse from the server to the url? If the response produced is a valid image it would help to see a sample of the image output from the image script.\n. I have been unable to duplicate the issue except by purposely corrupting the output (e.g., sending some minimal content (e.g. a line break) before generating and serving the issue. If you image is online is it publicly accessible? If so I can take a look. Perhaps it's something specific to your image/setup.\n. So you have to be logged in to view the image? If that's the case you'll need to pass the user's credentials to dompdf so that it can forward those to the script. I have not done this myself, though there are examples of how to do it on the web.\nRelevant discussion on the support group:\nhttps://groups.google.com/forum/#!msg/dompdf/A54NP-AtU3A/7W67l1xU9bcJ\n. This discussion on StackOverflow might also be useful: http://stackoverflow.com/a/30363868/264628\n. I'm glad you were able to find a solution. I do hope to provide more guidance on accessing authenticated content in the future. Perhaps we'll use this issue as a reminder.\n. Looks like dompdf is passing in the CSS value instead of the calculated value.\n. There does appear to be a few places where dompdf is calling that method regardless of back end renderer. For now as a work around, if you need it, you can comment out that line in dompdf.cls.php.\n. The issue may have been present on the other server, but you might not have noticed. These are notices and as such don't affect the ability of dompdf to continue processing. The PDF is created, just not streamable because of the notice text already sent to the browser (as evidenced by the \"Unable to stream pdf: headers already sent\" text. Your previous server may have suppressed notices or disabled sending that content to the browser (which is recommended).\nSo you can either:\n1. Run your html through a validator and correct any issues. dompdf is fairly finicky about the HTML syntax.\n2. If you're using dompdf 0.6.1 you can try enabling the HTML5 parser. This can help correct a number of syntactical issues, though it's not perfect.\n. Lack of a doctype shouldn't have much of an effect when loading into dompdf. But you should definitely see fewer errors and better rendering updating to 0.6.1 even if you don't use the HTML5 parser.\nThe display of errors/warnings/notices from PHP is typically controlled by the PHP configuration (php.ini). You can also change this configuration at run-time by calling ini_set('display_errors', false);.\n. No need to open a new issue when one already exists. Follow #712 for updates.\n. The issue is the format. dompdf v0.6.1 pretty much only works with TTF. I believe it's the same situation with the code in development. Though there's some rudimentary support for loading OTF files, the PDF back end hasn't been updated to handle them yet.\n. No progress yet. We use php-font-lib for font handling and so support would have to be built into that library.. It looks like something in your code might have affected the headers and/or sent content to the browser prior to sending the PDF (although dompdf will usually complain if you try to stream the document after content has already been sent to the browser). Make sure you have no spaces and that you're not buffering the output.\n. Here is what I responded with in the support group: \n\nIt would help to see a sample of the HTML. You can set page margins with the @page { margin: ...; } styling, but I suspect that's maybe not the issue here?\n. There is a default margin of 1.2cm in the base stylesheet. If you desire more or less margin on the left or right of the document you should add that to your @page declaration (which currently only specifies the top/bottom margin).\n. You should build your HTML document completely before you pass it to dompdf. A quick way to get started is to write a script to generate an HTML document then add output buffering to capture the content. Place your dompdf code at the bottom to render the captured content to PDF.\n. Hope it worked out. Follow up on the support forum if you have any other questions: http://groups.google.com/group/dompdf\n. The support forums are here: http://groups.google.com/group/dompdf\n\nIf you download the archived release and not the source code you should have all the files you need. The archived release is named dompdf-0.7.0.beta.zip on the release page.\ndompdf v0.7.0 uses php-font-lib v0.3.x. I believe v0.4.x may be drop-in compatible. You may not need the library at all, but without it you would not be able to use anything but the core PDF fonts. However, using a different version or excluding the library has not been tested. So let's just say php-font-lib v0.3.x is required.\nThe requirements page is mostly accurate for this release. We will be updating the wiki when we release the final version of dompdf.\nYou do not need to set all options, just the ones you want to change from the default. dompdf should run out of the box without modifying any options. Your question does suggest we should outline the options on the wiki.\nIf you look at the README.md file you should see the basics of using this version of dompdf. The wiki will hopefully have more information with the final release. Also, we're hoping to put together a \"utilities\" project which will include some of the removed content (e.g. the www directory) and, hopefully, some scripts and information on migrating from 0.6.x to 0.7.x.\n. The core PDF fonts are only Helvetica, Times, and Courier. You will need php-font-lib if you want to use the DejaVu fonts included with dompdf (or, at least, if you want to use them with font subsetting). The DejaVu fonts are included to allow characters beyond those supported by Windows ANSI encoding.\nAlso, you can't just drop your fonts in that folder. The fonts have to be processed so that the font metrics can be extracted and the font location recorded. With the 0.7.0 beta the only way to do that is using a CSS @font-face declaration.\n. The DejaVu fonts should work the same as before. Do you get any errors or notices? Are you using a stylesheet (internal or external) or inline styles? Do you have a sample of your code that isn't working?\n. When you updated did you replace your dompdf_font_family_cache file? It could be that dompdf is unable to find the font file.\n. Odd. I do see some text on the page but not what's in the HTML. See below.\n\nI took a cursory look at the PDF source and it seems ok (i.e. the expected text is in there). So it's probably something about the font parsing that went wrong.\nInstead of downloading the nightly have you tried the 0.7.0 beta download? There could maybe be some corruption in the nightly download.\n. This is most odd. Do you get any notices from PHP? Might help in tracking down the issue. Have you tried disabling font subsetting?\n. I'm at a bit of a loss, then. If I get a chance I'll take a closer look at the PDF.\nIs your link to the sample output using font subsetting? Because the size of the file indicates that it is. Also something's going wrong with the CID to GID mapping (for mapping character to glyphs) ... it doesn't exist in your PDF.\nFinally, do you have compression enabled or disabled?\n. The issue shouldn't be related to whether or not you use Composer. The release download should have everything you need. (Also, it's not a stupid question at all!)\n. Could this be related to issue #1002?\n. Probably not the issue then. Just came across that and wanted to confirm.\n. Looks like calling both stream() and output() on the same document can cause problems when using the CPDF backend. Have you tried using just one or the other?\n. @duong841992 I think your problem is different. Dompdf does not support CJK text in a default install. Have you loaded a font that supports your characters?. As for this particular issue, I'm not sure what the problem is with the original font since it's no longer available. However, I tested different DejaVu families and it appears that with the version of the DejaVu fonts included in 0.7.0 that the serif font contains the specified characters but not the sans-serif font. We're planning to update DejaVu with the next release so I'll take another look after we incorporate the latest release.. You'll need a CJK font that supports Japanese characters. I have a font on my site, you can see it in use by rendering the following HTML:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    @font-face {\n        font-family: CyberCJK;\n        font-style: normal;\n        font-weight: normal;\n        src: url(\"http://eclecticgeek.com/dompdf/fonts/cjk/Cybercjk.ttf\") format(\"truetype\");\n    }\n    * {\n      font-family: CyberCJK;\n    }\n  </style>\n</head>\n<body>\n  <p>&#x3042;&#x306E;&#x308C;&#x30B7;&#x30F0;&#x30DB;\n&#x5E73;&#x96EA;&#x8FCE;&#x9AA8;&#x6C34;&#x76F4;</p>\n</body>\n</html>\n. Check the path to your font file. You're probably using $dompdf::loadHtml() and so the path will be relative to the running script (not the view). You may need to adjust that path.\nAlso, you're running dompdf in a loop and it really doesn't handle that very well right now unless you re-instantiate the class before using it again. I'm not sure how best to handle that with the library you're using.. The problem is your image styling. dompdf has problems when an image's display styling is modified. Easy fix is to remove that styling on the image.\nFollow issue #693 to be appraised of any fixes.\nAlso just FYI, it's easier to debug if we have a copy of the HTML (rather than the PHP that produces the HTML).\n. RGBA is not yet fully supported. Watch issue #753 for updates.\n. Anyone know of any situations where a user would be using composer without the CLI (e.g. a PaaS environment)? I think this is fine for README.md, but we might want to update the wiki with manual configuration instructions.\n. Calling the stream() method without a file name does work as-is, but it's not well coded. PHP throws a warning if you exclude the file name parameter since a default isn't defined. Good catch.\n. Yeah, the output buffering issue is fairly annoying and affects a lot of people. At some point we need to do a better job of dealing with that possibility.\n. Can you clarify what you mean by \"defining the mb_string functions with fixed results\" (sorry, a bit dense today)? Still I think this is a good suggestion. We have talked about using a third-party library to better support UTF8 but hadn't really worked out any details yet.\nSome of the functions originally defined in functions.inc.php were pushed in to a helper class. I'm not sure why that was only a partially job. But it does make sense to move the rest into the helper class.\nI was hoping to keep the pre-release stage relatively short by avoiding any additional major changes between now and the final 0.7.x release. Any thoughts on targeting this recommendation to a following release?\n. Ah, yes. I see what you mean. dompdf relies on mbstring and so without it things break horribly, which is why we defined replacements. You are probably right that we should just require mbstring and move on, at least until we can work in something like the lib you pointed out.\nSome of the other functions defined in functions.inc.php are still being used as well. I think we can do away with or integrate the remainder of the code in that file. But not for the current release. Which means the composer instructions will need to be updated.\n. I'm not saying it can't be fixed it's just that ... well ... I'm anxious to put out a new release. This code has been sitting for a while. But I guess I shouldn't let my desire to release override good coding practice. It's waited this long a few more months shouldn't have any serious consequences. I'll go ahead and implement the changes you've suggested and release a second beta in the near future.\n. Not breaking, no. It was more about me wanting to stick with a single beta barring any major issues. But we should go ahead and address these concerns, especially since you've already done the work.\n. Partially addressed by commit f661eb59a261cc3d7f9abd3fcd8e85882c99f463. The MBString compatibility functions will probably be resurrected in the forthcoming utils project until we have a chance to look at more robust alternatives.\n. There does appear to be a miscalculation here. Thank you for the updates.\n. No fix yet.. see https://groups.google.com/d/topic/dompdf/d0guRp-hXp8/discussion\n. Due to the way objects are added this is the expected result (see the CPDF_Adapter). Until we build in a way to instantiate the PDF renderer earlier in the process you won't be able to add objects in this way.\nThat's not to say it can't be done. You'll have to work around the issue by using page scripts. Page scripts run on all pages after the document has rendered, thus allowing you to perform all the same actions on a page-by-page basis. It's not as efficient since it recreates the PDF elements each time, but unless you have a fairly large image it shouldn't be an issue.\n``` php\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$canvas = $dompdf->get_canvas();\n$canvas->page_script('\n  $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n  $image = \"' . SITEPATH . 'images/ef-logo.png\";\n  $pdf->image($image, 20, 125, 50, 25);\n  $pdf->text(490, 25, \"EF No.\".$filename, $font, 8, array(0, 0, 0));\n');\n```\nNote the usage of page_text(). This method is similar to page_script() in how it runs, i.e. it's added to all pages after the document is rendered. What you want to use if you're adding to an object is the text() method.\nAlso note that in v0.6.x and newer you no longer need to specify the image type when calling image().\n. I agree, let's remove it. I'll take another look, it's possible that these functions were used in other code that has been removed. Or we had plans to use some of it but never actually did.\n. :+1: though I still want to review the changes first.\n. I think Helpers::DOMPDF_fetch_url() could have been potentially useful, though it was not actually referenced anywhere. I think it would be good to generalize resource fetching (i.e. all resources are fetched using a singular method) so that we can better manage how that's done in the future.\n. This PR leaves just the MBString compatibility functions in functions.inc.php. I'll probably move the file to the forthcoming utils project and reference it in the requirements doc.\n. It may be more relevant to just remove the TCPDF adapter for now. It has always been in a very experimental state. I've never actually tested it out myself.\n. Probably not with the latest. I think it was initially developed a few years ago. If we do ever decide to support TCPDF it will have to be against a fixed release. Maybe I'll move that to the \"utils\" project I'm putting together.\n. Merged since the actual code was bad. Regardless I'm going to remove the adapter shortly. Anyone interested in working out TCPDF support can grab a copy of the adapter as it existed at this point: https://github.com/dompdf/dompdf/blob/cca62f817d688ce6ad310bd5d7fbff93bf320bc4/src/Dompdf/Adapter/TCPDF.php\n. Probably not a good idea. Before updating the PDF version we'll need to review the spec for structural changes. Also, that line just specifies the PDF spec used so I doubt it's causing the problem.\nWhat you might want to try is changing the \"Creator\" field. I imagine that the virus scanners are basing the analysis on the PDF headers. The start of the PDF will be consistent across dompdf installations up to a point. We'll have to think about how to best address the issue.\nThanks for following up about the status. I'm going to create an issue where we can hash this out.\n. Thanks for the follow-up. We'll take a look at updating the version, but that may be an option best left to the end user. If we were to do that in the source then it's likely malicious use of dompdf would continue and eventually the newer PDF spec header would eventually be caught as well.\nMaybe it would help to contact the organizations who have flagged dompdf-generated documents as malicious and inquire as to how we can avoid this but also enable signature development of malicious PDF documents. (I doubt they'll offer to exclude dompdf-generated PDF documents from their database in full.)\nPerhaps we can use an online virus tester to work out what in the documents is being flagged. I found these two:\n- VirusTotal\n- Metascan Online\n@wakeless do you have a sample of the PDF causing issues for you? If it's sensitive I can set up a private upload.\n. The next release of dompdf will use the \"Producer\" field instead of \"Creator\" and will populate it with version information of the form \"dompdf 0.7.0 + CPDF\". Hopefully that will help resolve the issue to some degree, though it's likely we may need to further refine the metadata in the future.\n. @shorrog to disable compression stream or output dompdf with the \"compress\" option set to zero:\n$dompdf->stream('render.pdf', array('compress'=>0));\n$pdf = $dompdf->output(array('compress'=>0));\nAs mentioned by @wakeless you might need to try modifying the PDF version, which is generated by the CPDF class.\nYou also might try a nightly release, which varies the PDF meta-data a bit from what it used to be. I'm not sure if that will help since we don't have any information as to why dompdf-generated PDFs are being flagged.\n. Has anyone tried a nightly to see if any of the changes we've made help?\n. Anyone tried with beta 3 yet to see if we're still being caught?\n. @zgrimz I believe so, yes. No confirmation with the latest release, but you might try the suggesitons here: https://github.com/dompdf/dompdf/issues/952#issuecomment-163286096\n. That's unexpected, but there have been some past issues where paging caused the default styling to change. However, I'm unable to reproduce the issue so it would help to see some sample text.\n. OK, now I'm seeing it. The issue appears to be that when the spacing is modified the modification carries forward. Text inserted into the PDF using the canvas object (e.g. inline script) is added after any HTML page content. Because of the text justification the last line of text on the page has its space adjusted which continues to affect any following text on the page.\nIt should be an easy resolution for us, just reset the spacing at the end of each line. Your work-around is a perfect (temporary) solution because you're explicitly setting the word spacing. The word spacing has to be a value other than 0 to be applied.\nFYI, this issue will not affect non-core fonts (e.g. the DejaVu fonts) because word spacing doesn't apply to multi-byte characters and that just happens to be the way we represent non-core fonts.\n. Following up with further details.\nCPDF was not resetting word/character space adjustments after adding text. This could cause an issue if the following sequence occurred:\n1. text with word/character adjustment is added to Page 1 (CPDF sets the spacing adjustment)\n2. a new page is created (Page 2)\n3. non-adjusted text is added to Page 2 (CPDF sets the spacing adjustment back to 0)\n4. text is added to Page 1 (e.g. via canvas::page_text)\nBecause of the way CPDF determined whether or not a spacing adjustment operator was needed the text added in step 4 would not be adjusted. The text from step 4 would thus inherit the adjustment from the last block of text added to Page 1.\nThe word/character adjustment tracking in CPDF was broken. First, it only tracked the adjustment for the last text added (not the last text added to the current object). Second, if any adjustment was specified when calling the addText method (even if it matched the adjustment for a previous text addition) the spacing operator would be used (unless the current and previous were both zero). These two factors resulted in the issue.\nThis issue did not affect Unicode-based text because the spacing adjustment operator does not apply to multi-byte characters. We're using a different method to adjust the spacing of Unicode-based text that disregards the previously-implemented tracking mechanism.\nSince the adjustment tracking was only used in this one method and because Unicode-based adjustments did not adhere to the tracked value I went ahead and removed it and set any adjustment back to zero after the text was placed.\n. Thanks for that! Must've been a late night coding session :/\n. no worries, welcome to git/github\n. Excellent!\n. Can you rebase your changes to the latest dev (sorry about that). I'll merge once that's done.\n. I'll give it a look, but the changes were fairly minor so I don't expect any conflicts.\n. Oh, github. Why can't I lazy merge?!? Wanna rebase this one again?\n. alright, alright ... I took care of it (it was a simple merge anyway)\n. No worries, it was an easy merge. I was just being lazy.\n. For completeness should we check that $style is actually an array first (e.g. is_array($style) && count($style) > 0)? Or perhaps it's sufficient to check that the element isn't empty and we can address any instances where an invalid type (e.g. int or string) is passed as they come up.\n. I always go in expecting (hoping) methods are being called correctly, but you never know when something will slip through (and it's harder to diagnose with a loosely typed language).\n. Which version of dompdf are you using? You may see better results if you update to the 0.7.0 beta.\n. I'm not able to reproduce this error with the latest release. If you're still having problems please post back.\n. Nice catch on the scaling issue!\nI like the idea of being able to select the page to output. That would definitely make the GD adapter more useful.\n. Not yet, but I am planning to take a look at it for inclusion. Subscribe to this PR to be notified when it's been merged.\n. I haven't tried this yet and will take a look. In the meantime could you try again with a truetype font? That could be the source of the error.\n. Thanks for the follow-up. Glad the URL method works fine for you. We'll probably still update the font parser to add base64 support so I'll keep the issue open. (Actually, probably update all resources fetches to use a generalized method that can determine the best method for retrieving the resource.)\nRegarding your questions:\n1. The documentation right now lives on the develop branch of the wiki's git repo, though right now I don't think it's significantly different from the live version. \n2. Uh ... good question. I don't recall any methods built in to dompdf. So for now you have to do this manually. Something like the following code should work with v0.6.1 or higher:\nphp\n$font_cache_files = glob(realpath($dompdf->get_option('font_cache')) . '/*.{afm,ufm}.php', GLOB_BRACE);\nforeach ($font_cache_files as $font_cache_file) {\n  unlink($font_cache_file);\n}\nYou might also need to clear the font directory ($dompdf->get_option('font_dir')). There may or may not have been a bug in 0.6.1 that put the files in the incorrect location (my recall on this is questionable).\nAlso note that currently once dompdf grabs a file from a particular URL is will not update that file if there are changes. If that's an issue for you follow #774 (I think that's the correct one).\n. Nice catch and thanks for checking. That should be a quick fix for the next release.. I know this is a bit old, but do you still need help with this issue?\ndompdf is currently unable to handle this particular document structure. Ideally you would generate each section as a separate PDF then combine them later using something like pdftk or FPDF. If that's not an option but you know where each section start (e.g. you break the page before and after the sections) then you could just use negative margins on the cover page. For example:\n```\n<!DOCTYPE html>\n\n\n\n\n      @page { margin: .5in; }\n      body { background-color: orange; }\n      .intro { margin: -.5in; background-color: white; height: 10.5in; }\n      .page-break { page-break-after: always; }\n  \n\n\n\nSection 1\n\n\n    ...\n  \n\nSection 2\n\n\n\n\n\n``\n. Have you loaded the font into dompdf? Or referenced it using@font-face` CSS declaration? What does the result look like? Do you have a sample of the HTML?\n. ? means that the encoding being used doesn't support the characters. It's likely that dompdf is using one of the core PDF fonts, which means that your custom font did not load correctly and a fallback is being used or you are not referencing the font correctly.\nThe weird spacing for your custom fonts would seem to indicate that the font metrics are incorrect or missing. Can you post some sample HTML? Including the relevant CSS.\nThe core PDF fonts (Helvetica, Times Roman, Courier) only support characters from the Windows ANSI encoding. We include the DejaVu fonts for wider support, but even these only support a subset of the Unicode character set (see the PDF samples).\nMaybe start with something simpler. For example, the following seems to work:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<style>\n  @font-face {\n    src: url(\"http://experimenting.in/css3/webfonts/hindifontsdemo/gargi.ttf\") format('truetype');\n    font-family: \"gargi\";\n  }\n  body {\n    font-family: gargi, dejvu sans, sans-serif;\n  }\n</style>\n</head>\n<body>\n  <p>\u092f\u0939 \u0938\u0940\u090f\u0938\u090f\u0938 \u0935\u0947\u092c \u092b\u094b\u0902\u091f\u094d\u0938 \u0939\u0948| (Gargi)</p>\n</body>\n</html>\n. That's a bit odd. dompdf appears to recognize the font but assumes it to be ANSI encoded. Preparing a font using the included tools in v0.6.x should always encode to Unicode. What does the relevant section of the dompdf_font_family_cache file look like? And what files do you have in your font folder?\n. The .AFM files use Windows ANSI encoding. You need a .UFM file to get the Unicode metrics. Which version of dompdf are you using? What are you using to generate the font metrics file?\n. You will need to use the UFM file since the AFM only supports Windows ANSI characters. Not sure why the document is timing out, could be something unrelated to the font but caused by the different spacing. Have you tried a simple \"Hello World\" document with the Devanagari font?\n. Can you post the UFM created? Perhaps there's something wrong with it.\nI rendered some basic text using Mangal and another font and didn't have any issues so it's probably not a problem intrinsic to dompdf. Might just be a configuration issue.\n. That looks fine. Have you tried a simple document like the test I did?\n. I'm not sure what's going on, then. If PHP is timing out then it should report where this happens. You should be able to find the information in your PHP error log or by enabling PHP to send errors to the browser.\n. First, I couldn't find a version of dompdf that matches up with the line numbering there. At least, not a released version. So the version of dompdf you're using may be modified. You might try dropping in a fresh copy of dompdf 0.6.1 and see what happens.\nSecond, no font size was passed, which could be related to what's going on in the first notice about the undefined offset. You might try simplifying your stylesheet and see what happens, but it may also be addressed if you replace dompdf.\nThird, if this were a timeout issue PHP should provide an error indicating the file/line number where it stopped. Not that this information will necessarily help, but it wouldn't hurt to know. Have you tried increasing the timeout? Are you using tables?\n. You should be able to get enough info from my debug helper:\nhttp://eclecticgeek.com/dompdf/debug.php\n. Could this be related to issue #1002?\n. @satyajitgaikwad I'm not sure if this is related. I think the problem here is with the metrics, but so far I haven't seen anything definitive helping identify the issue nor have I been able to reproduce it.\nThe incorrect ordering/connecting is could be related, but it seems likely to be due to something else. I think we may look into it in relation to issue #712.\n. ref #655\n. Sorry, didn't get to this before your code share expired. If you still need help can you post it again?\n. Unfortunately dompdf isn't quite up to the challenge of rendering bootstrap-based layouts. It's definitely something we'll pursue in the future, especially as use of these types of frameworks is likely to increase over time.\nIn the meantime, if your output is pretty much as indicated in the sample image you could try replacing the bootstrap stylesheet on render with a custom one that simulates the effect. What you have isn't overly complicated and though it's not ideal you should be able to achieve that design.\n. We don't yet support flexbox styling. Display stylings line up with formatting classes which is why it's probably failing. We should be able to add some fallback support until this feature is implemented.\n. Not a dumb question at all. That information does not appear to be documented in the code. We'll add it for the next release.\n. Forgot to tag the relevant commit. Closed by 5d80bca8fe8586dc8c29fe3aa1f0b8e96cc94918.\n. What do you mean by \"look different?\"\nI tried out the @font-face sample included with dompdf and was able to print using a PCL-based driver without issue. It could be a driver-specific issue, or an incompatibility with the PDF produced by dompdf or the embedded fonts. So a few things to try:\n1. Update your printer driver\n2. Turn off font subsetting\n3. Try printing the @font-face sample\nIf the issue persists it might help to see a screen shot of the PDF and a scan of the printed document. If you provide the PDF itself I can try printing to my printer. And if your printer provides any kind of diagnostic messages on print jobs that might help as well.\n. Can you point to an example of this in the code where we might run into problems?\n. I'm not sure there's a problem here. I believe file_get_contents and file_put_contents both handle spaces just fine. If someone can point out exactly what problem is ocurring we'll look into it more.. Which branch (link, please)?\nDo you have a sample image? As you can see from transparent image demo the latest release has fairly decent support for transparent images.\n. Is the answer to your question on StackOverflow not sufficient?\nhttp://stackoverflow.com/q/30993210/264628\n. We're not accepting patches against the master branch. It's difficult to see from your patch what's going on, but if you want to work out the issue further start a new issue or visit the support forum.\n. I was hoping to have 0.7.0 out by now, but some requested changes that make total sense are still in the pipeline. My current thought is to finish with the current todo list, release another beta, then if no major issues crop up merge back into master. Final release would be shortly after that.\nIn the future I'd like to see us do major development (e.g. improved support for tables, svg, and float) on their own branches (to be eventually merged into develop) and use the develop branch for minor fixes and tweaks so that we can put out minor releases more often.\n. I was looking at the post on nvie.com as a model. The main reason we went down this path was due to requests from the community. Certainly I understand the desire to develop off the master branch. It is a bit frustrating that github doesn't highlight activity on other branches in the activity graph. However, unless there's a strong request to move back towards active development on the master branch I don't know that we'll switch back now.\nAt any rate I hope the question will be moot once 0.7 is out the door. The whole reason I want to start working off of feature branches is so that we can release bug fix versions more often. There are so many minor issues that get caught up because we're working on one major change or another.\nOf course, all community feedback on this point is welcome.\n. master branch is now up-to-date\n. Seems to work ok with the following:\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<style>\n@font-face {\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 400;\n  src: local('Montserrat-Regular'), url(http://fonts.gstatic.com/s/montserrat/v6/zhcz-_WihjSQC0oHJ9TCYC3USBnSvpkopQaUR-2r7iU.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'Montserrat';\n  font-style: bold;\n  font-weight: 700;\n  src: local('Montserrat-Bold'), url(http://fonts.gstatic.com/s/montserrat/v6/IQHow_FEYlDC4Gzy_m8fcvEr6Hm6RMS0v1dtXsGir4g.ttf) format('truetype');\n}\n</style>\n</head>\n<body>\n  <p style=\"font-family: Montserrat, serif;\">Grumpy wizards make toxic brew for the evil Queen and Jack.</p>\n  <p style=\"font-family: Montserrat, serif; font-weight: bold;\">Grumpy wizards make toxic brew for the evil Queen and Jack.</p>\n</body>\n</html>\nDouble-check your font reference. Did you update the font-style for the bold version? You could also name it differently, but then you would have to style bold text with that font instead of just using a bold indicator (e.g. font-weight, b, or strong).\n. Yeah, sorry. We pretty much only support TrueType right now.\n. Looks like you're using a nested tables. Normally this is fine, but if any one table cell is larger than the size of the page you'll run into this issue (see #98). Your layout is a bit difficult to work with, but you might be able to adjust things such that this issue doesn't occur. Try using div elements where possible and maybe surround the options table in a div to position it correctly.\n. For handling table cells larger than the page size? Nothing yet.\nThe pastebin for this issue is no longer available so I'm going to close it unless relevant info it re-posted.\n. We're not accepting updates to master. Plus check out the develop branch, things are changing ... soon.\n. Which version of dompdf? Which version of Firefox? Do you have a sample of the HTML & rendered PDF?\n. What are the font stylings on that text? Could be an issue with font subsetting, if turned on try turning it off. You also might try upgrading to the stable 0.6.x release (0.6.1).\n. Are you calling both stream() and output() on the rendered document? This has proven to be a problem when using the CPDF backend.\n. Which file is not found? Is that the status/page returned by the web server or an error returned by PHP?\n. I know this is a bit old, but are you still having problems? Any useful information in the log files?\n. I've got nothing. Seems more like an integration issue, in which case we may not be able to provide much guidance.. Not quite what I meant. It's a pain to merge code from master because of the significant changes we've made. Possible, but not pleasant with conflicting commits. Unless you don't mind me just reproducing your changes ... but I do like to give credit in the commit history. Could you check out develop, make the changes, and submit a new PR?\n. We'll take a closer look then. Since the change is confined to a small bit of code I don't expect any issues merging with the develop branch so long as no other changes have been made to that section of code.\n. Possibly relevant to #866?\n. @SharkWipf thanks for the follow up. I'll try to pull this change in for the next release.. What happens without this modification? dompdf currently only supports the TrueType font format. But I don't see that as being a reason we should hard code the format extension.\n. Also, please target your PR at the develop branch.\n. I think keeping options property private is OK, but the rest of the code does need to be updated as get_option() is still heavily used. Based on the current state of the code the appropriate method would be to call getOptions() then work off of the returned object.\n. I don't disagree.\n. (re-submit of PR #986)\n. Do you know what format the remote file was in? And what, exactly, was the error? I'm just trying to understand exactly what was happening. It looks like dompdf will force a TTF extension, but that it doesn't really matter because php-font-lib will sniff the format based on the file headers. Is the actual error occurring elsewhere?\n. Which version of dompdf are you using? I was only able to produce an error when using 0.7.0 beta 1 because of a bad path option. And then only a warning, not an exception, which may mean that turning down your error level in laravel may help.\n. The actual issue I'm having is that php-font-lib consumes too much memory while processing the font. Not to mention it appears that maybe the WOFF font is being used instead of the TTF. Maybe. I'd have to look into that more.\nStill, your change is important. I'll probably pull it in plus make whatever other changes are necessary to remove hard-coded extensions.\n. I think the problem is more widespread than indicated in your patch. There are a number of locations where we refer to the filename extension. However, since that info is not recorded in the font family cache we have no way of knowing the appropriate letter casing.\nI still have a bit more research to do before I post a fix but I think we need to do three things:\n1. Force a case when saving files to the system.\n2. Prefer the above-set casing, but check for other variants (maybe just check all uppercase and all lowercase).\n3. Update the documentation to indicate that filesystem-based options may be case sensitive, depending on the system.\nIt might be useful to address #1068 first so that we can add some debug logging for failed file loading.\n. You are missing php-font-lib from your installation. When downloading the source from github external libraries are not included. You might have better luck downloading the version bundle or using Composer.\n. If I were to guess I'd say you ran out of memory or exceeded the max execution time. But it would be easier to know if you could retrieve any errors produced.\nYou also might try adding a container around the document content. There have been issues related to overly large inline content contained by the body element. For example, try:\nphp\n$CreatedPDF = \"<html><head></head><body><div>\";\nfor ($i = 1; $i <= 1153; $i++)\n  $CreatedPDF .= '<br>';\n  $CreatedPDF .= \"</div></body></html>\";\n. FYI, just to confirm possible memory overload, I was able to render the same simple HTML with > 4500 lines. Took a while, though. The stats on the render were 9674 frames, 116224.00 KB, 62085.88 ms.\n. Thanks for the follow up. Glad the issue was determined, hope you were able to resolve without too much trouble.\n. The top is missing purposely since this is a continuation of the tbody not a new one. See issue #640.\nInterestingly, I wasn't able to get the tbody border to render at all in web browsers until I added table { border-collapse: collapse; }. This add a border around the content on the first page of the PDF, but the random left-side border is still present.\n. That's a large file. I haven't reviewed the earlier discussion, so bear with me. Have you considered rendering each portion separately and combining the result using a tool like pdftk? Can you upload a sample of the full document somewhere for testing?\n. I do see that. I wonder, perhaps, if the issue is related to #895 (though I don't see the cited error).\n. Thanks for the update. I haven't looked at your issue yet, but a pull request (#996) was recently submitted that might help. I'm planning to incorporate it fairly quickly.\n. FYI, develop has been merged with the change.\n. Not sure what was introduced between 0.6.1 and 0.7 to cause the issue but the cited change appears to have addressed it.\n. https://groups.google.com/d/topic/dompdf/hxCR-CVKvyE/discussion\n. The html5lib is a third-party library not maintained by us. It has a number of issues and we're looking to migrate to something else, probably Masterminds/html5-php (which is a fork of the original project). With that in mind it's probably not worthwhile to address this issue.\nAlso, the library is not strictly needed. If you're not using it (e.g. if your HTML document structure is solid) you can disable usage in the options.\n. How much of a performance hit do you see with this? I'm guessing not much unless the node has a large number of children (which is already an issue, see #639).\nIf you have a chance to profile the code I have some thoughts on changes that could improve performance. These suggestions all fall in the variable vs. object property access speed question. I haven't been keeping up with how well PHP optimizes the byte-code, does anyone know where PHP falls in relation to this question (e.g. is there a significant different between accessing an object property vs. pushing into a variable)?\n- Push the length of the childNodes collection into a variable on the second pass since that value shouldn't be modified.\n- Replace $child->parentNode with $node.\n- Push the nodeName into a variable and set the case so the conditionals are simplified.\nOtherwise I like this. I was thinking we might use a similar method to pull out non-flow nodes (e.g. fixed-position elements) and push them to the top of the frame stack.\n. Awesome, thanks for investigating! I'm surprised as well about that slowdown. Your guess makes sense to me, I'm sure PHP can optimize internal object access but when using external libraries there's probably not a whole lot it can do.\n. I'm still looking into it, but there appears to be an issue related to this change. White space is inserted in place of the removed element. Try rendering the following:\n<p>lorem ipsum</p>\n  <!-- -->\n  <p>lorem ipsum</p>\n  <p>lorem <!-- --> ipsum</p>\n. So this commit didn't create a new issue, it exposed an existing one that was introduced in commit 439e6477cae04432a88fd44c637098923a9bd961. In the loop dompdf was moving on to the next index of the childNodes collection on each iteration of the loop regardless of what action was taken. If a node was removed from the childNodes collection (shortening the collection by one element) then the following node would be skipped.\nTry rendering the following in 0.7 beta:\n<p>to be <!-- --> or not to be</p>\nThere is a second issue that has always existed that is relevant to my previous comment. Non-rendering nodes (e.g. HTML comments) can affect the layout of the page when they split text nodes. The adjacent text nodes cause a failure in the white-space collapse logic.\n. @scotteh I'm not sure that adjacent text nodes are merged. I think your commit worked around the problem I identified because the second loop goes back through the childNodes collection, catching any nodes that would have been skipped in the first iteration.\n. Trying to start using git am to merge PRs. Merged ok but I forgot to amend the commit to indicate it closes this issue. So...\nclosed by commit a7e1c657919d91b78fd2db16bc12e2c9a099cc78\n. Which version of dompdf and which version of php-font-lib. dompdf 0.6.x uses php-font-lib 0.2.x which is compatible with php 5.0 (though I don't know that we specify that anywhere).\nIf you're downloading the code instead of using composer it's easier to grab an packaged copy of the release.\n. We would be interested in helping figure out the blurry PNG issue. Some of it may be do to extra processing done with the file in 0.6.x. I believe 0.5.x may have inserted the file without modification. It may also be a display issue (whereas print may be fine). Do you have a sample image and a PDF showing the blurry output?\nIn the meantime there is some SVG support in the upcoming 0.7.0 release. The first beta does not include it, but the second (and hopefully last) beta will. Check out the develop branch. And watch issue #320 for more info (which I see you are already doing).\n. I responded in issue #320 about getting a version with SVG support.\nIf you don't have anywhere you can share the file I can set up a one-time upload. Go to http://eclecticgeek.com/dompdf/upload/ and use the password ******* to upload your file (PDF, or ZIP if sending multiple files).\nI'm not sure about the signature. Maybe the newer release will behave better with your fax client. Some issues with the PDF structure have been fixed over time.\n. @manish-dev-28 can you share one of the images as well as the HTML used to reference it? Might also help to know what version of GD you're using.. @MikeLund it's mostly a matter of finding the time to work on the issue. I suspect it's the extra processing some images types go through. If you switch to a JPG file do you have the same result.. Confirmed. We'll have to isolate where the problem occurs. I did not see this on the full table, only when certain columns were selected. Are you modifying the table structure or just hiding columns?\n. Not with a default installation. You'll have to add a font supporting the characters you want to display. Read the Unicode How-To for more information.\n. also see #988\n. Which version of dompdf are you using? Are you using barryvdh/laravel-dompdf? If so have you checked that project for relevant info?\n. Which release did you specify in composer? The latest stable (0.6.1) does not support namespaces and so would not need the use statement in your code. The upcoming release (0.7.0) does include  namespace support.\n. So ... got it figured out?\n. What do you mean by \"this does not work?\" Do you have a screen shot or example online?\nThere were some alignment issues with special character in 0.5.1 but more recent versions should be fine.\n. I do see a problem when using this with the DejaVu fonts. The rsquo character isn't even represented properly in the rendered PDF. Same issue?\n. These characters were being mangled by some string replacement in the CPDF library that was not taking into account the fact that Unicode strings are two bytes long. The issue should be addressed by commits 18b08fdb3e22378e980f79fc45cdd3e0a69a416a and 18b08fdb3e22378e980f79fc45cdd3e0a69a416a.\n. Note that while the characters are no longer mangled there does appears to be an issue in the justification alignment. See issue #1168.\n. Would help to also see the relevant HTML/CSS. Can you provide a test case the exhibits the problem?\n. I believe this is fixed in commit 1fa43aa08ab5264b1d3713afa9ed96f886bd4638.\n. We have yet to look into supporting this feature. I don't know that we have a specific issue related to adding support for RTL, but issue #712 has some relevant discussion.\n. Could be that the font was not actually embedded into the PDF, or that the glyph references are incorrect. Do you have a sample PDF we can look at?\n. possibly related to issue #938?\n. Are you calling both stream() and output() in your code? That's proven to be a problem when using the CPDF backend.\n. $dompdf->outout() will return the source of the PDF. Typically this is used to capture the PDF in a variable which can then be saved to a file, attached to an email, or sent to the browser.\n$dompdf->stream() calls $dompdf->output() then sets up the appropriate HTTP headers and sends the PDF directly to the browser.\nThe output process in CPDF compiles the PDF source. It must not be set up to run more than once, which is probably something we'll want to address. If you're not doing anything other than sending to the browser you'll just want to use the stream method anyway.\n. I see that the current develop version does show both methods used and I'll fix the documentation. If you know of anywhere else this is shown please let me know.\nI don't know why it isn't working because I haven't looked into the issue as of yet. This is probably a good candidate for fixing before the final 0.7.0 release.\n. I'll update the documentation, and hopefully provide a fix for the dual use situation in 0.7.1.\n. Presumably for performance reasons? Can you create a new PR on the develop branch?\n. Sorry ... should have looked at your comment first :/\n. Thanks for the follow up.\n. Hm. That is interesting. There have been occasional reports about a dompdf-generated PDF never fully sending. I'll be sure to suggest calling exit() in the future to see if it helps.\nThis may bear more investigation.\n. Interesting. Looks to possibly be an issue with the font metrics, though I'm not sure why it only happens when a span is present. I tried it with DejaVu Sans and there was no issue, do you see the same?\n. We will definitely take a look (at some point).\n. Maybe related to issue #98? Do you have a sample of the HTML?\n. Could just be taking a long time to render the document. Table handling in dompdf is a bit janky ... can you try increasing the PHP max_execution_time?\n. Which version of dompdf? You must be using at least 0.6.0.\n. That version should work as well, though if you want you can try the newer release (0.6.1), it should be drop-in compatible.\nDo you have a sample online that we can look at?\n. I had actually written a rather detailed response, but I must have forgotten to actually submit it :(\nSo the problem does appear to be the line breaks in the base64-encoded data. I tried your sample from jsfiddle after removing white space and the smiley face rendered just fine. Most base64 decoders ignore white space, so I'm not sure what's going on here. There could be something happening when dompdf processes the document, but we'll have to look into it a bit more before we can say for sure.\nI wasn't able to find a way to tell PHP not to include white space in encoded data so you might try removing line breaks:\n<img width=\"200\" height=\"50\" src=\"<?php echo 'data:image/jpeg;base64,' . preg_replace('/[\\r\\n]/', '', base64_encode($image->mydatauri)); ?>\"/>\n(I'm sure you could also write something more specific to cleaning up base64.)\n. Sorry ... my preg_replace usage was wrong (I didn't actually test). I updated the previous comment with valid code. Also, here's something more specific to base64:\n<img width=\"200\" height=\"50\" src=\"<?php echo 'data:image/jpeg;base64,' . preg_replace('/[^\\+\\/\\=A-Za-z0-9]/', '', base64_encode($image->mydatauri)); ?>\"/>\n. Looks like the line breaks were removed at least. Can you share the actual HTML that you're feeding to dompdf?\n. It'll help to see the actual HTML fed into dompdf (I guess preferably in pastebin since it'll include an encoded image). That way I can look to see if there's anything else in there making it difficult to parse.\n. You certainly don't need the base64_encode for the first image since the image is already encoded. Try using the following (make sure no extra line breaks or white space is present inside the quotes as well):\n<img width=\"150px\" src=\"<?php echo 'data:image/jpeg;base64,' . preg_replace('/[^\\+\\/\\=A-Za-z0-9]/', '', \"/9j/4AAQSkZJRgABAQAAAQABAAD/2w [...etc...]\"); ?>\"/>\nThe second statement looks fine, so I dunno why it's failing. You might try generating the entire image tag inside the PHP code:\n<?php echo '<img width=\"200\" height=\"50\" src=\"data:image/jpeg;base64,' , preg_replace('/[^\\+\\/\\=A-Za-z0-9]/', '', base64_encode(Images::find(1)->mydatauri)) , '\"/>'\nIt would still help to see what dompdf is actually parsing. Can you post what's returned by $dompdf->output_html()? Call that method after calling $dompdf->load_html().\n. I believe it's actually more of a table processing issue. From my comment on your SO answer:\n\ndompdf has some layout issues with tables that prevents it from limiting width when the contents are larger than the cell size... Just be sure to specify a width on the container and style with word-wrap: break-word;\n\nThis particular issue occurs even if the table has a specified dimension with overflow hidden or word-break enabled.\n. Stable meaning 0.6.1? I didn't have any issues parsing that table but this issue has been brought up before in issue #454. Do you have inline scripting enabled?\n. Inline scripting is enabled using the DOMPDF_ENABLE_PHP setting and allows dompdf to parse PHP code in blocks similar to the following:\n<script type=\"text/php\">\n...\n</script>\nIf you don't need I'd disable it and see if that helps.\nIs it just that table causing issues (i.e. if you take it out does the error go away)? Do you have any inline script in your document? If there's more to your document it might help to see the full thing (HTML and CSS).\n. Do you have a sample of the code you're using to generate the PDF (not the table) that causes the problem vs. not?\nSince you're not actually using inline script you can still get the desired result without enabling script support in dompdf. Something like the following would work:\n```\nob_start();\ninclude('table_generating_script.php');\n$html = ob_get_clean();\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream('table.pdf');\n```\nFYI, the next release of dompdf will not support pre-processing PHP code in the document. If you update when it comes out (and you should) you'll have to change how you do things.\n. Since this still appears to be a problem (with 0.6.x) I'd like to keep this issue open. For now anyway. If this is just DOMDocument trying to parse the actual PHP then I'll probably close it again.\n. As far as CSS spreadsheets are concerned, do you have an example?\n. There are some issues with Bootstrap (see in particular issue #758 and #860). I'm going to hazard a guess that it's probably not going to work out like you want, but if you have a link to a sample online I can run a test render.\n. JavaScript isn't supported at all, so a lot of what you see on that page wouldn't work. If possible you would want to perform some basic formatting before using DataTables (e.g. apply the Bootstrap classes yourself).\nI was able to render the table with some basic formatting that way, though there are some odd formatting issues. But for some reason when I attempt to fetch that page from datatables.net it fails.\n. Fixed by 4c7dca690edc85168cff0abe9d1d9aaf4ebb72ce\nFYI, the next release doesn't use submodules and so that part won't be pertinent anymore.\n. It's not a bug, per se, just not a supported use case. dompdf currently has no way of clearing it's state so you can't use an individual instance to render more than one document. You can work around the limitation by creating and destroying the dompdf variable on each pass. For example:\n$lang_array = array(\"chi\",\"eng\");\n$i = 0;\nforeach($lang_array as $lang)\n{\n  $html = \"<!DOCTYPE html><html><body>M</body></html>\";\n  $dompdf = new DOMPDF();\n  $dompdf->load_html($html);\n  $dompdf->set_paper(\"A4\", 'portrait');\n  $dompdf->render();\n  $output = $dompdf->output();\n  unset($dompdf);\n  file_put_contents($i.\".pdf\", $output);\n  $i++;\n}\n. Ah, yes. I had forgotten about that image cache issues. Thanks for bringing that up!\n. I don't know if the problem is the font or the way its embedded in the document. Do you know if other PDFs with embedded fonts display as expected? Are you using font subsetting? You might want to try turning off subsetting to see if that helps.\n. Font embedding has pretty much been developed around the TTF format. OTF is a fairly similar format, but I can't say right now if it works as well. Part of that depends on what level of support is provided in php-font-lib, but also I don't know that OTF is supported in PDF1.3 which is the spec we use for development.\nSimilar issues have cropped up in the past relating to fonts (see #517). If you can somehow validate the format in relation to your service we can try and address any issues.\n. @wreardan I'm not sure if this is the same issue since you're doesn't appear to display correctly at all. Though perhaps it's related. What version of dompdf? Are you subsetting the font? I rendered your document without issue so it could be something local (a library, or corruption in the dompdf files).\n. I modified the document prior to rendering to add that styling back when I noticed it was missing. But here's a fresh render: 0.6.1 & nightly\n. Are you grabbing a packaged version of the library? I don't usually do a lot of testing with the packaged version on different platforms, but maybe I'll take a look to make sure there's nothing wrong with it. What OS are you running?\nIf you are using a packaged version would you be willing to give a try using composer?\n. I'm using cpdf. It's been a while since I did anything with pdflib. That's something I'll need to rectify in the future since I believe it still has a decent user base with dompdf.\nYour usage looks fine, but try removing the output before stream just to see if that changes things.\n. Really? Did you figure out which backend you're using? We may need to modify those methods so that calling one doesn't interfere with the other.\n. The default in newer versions of dompdf should be CPDF.\nAs of 0.7.0 you can retrieve the current setting:\n$dompdf->get_option('pdfBackend');\nFor earlier versions you can check the value of the DOMPDF_PDF_BACKEND configuration constant in either dompdf_config.inc.php or dompdf_config.custom.inc.php.\n. resolved (?) http://stackoverflow.com/q/32750777/264628\n. Good catch! I made a minor tweak and added the fix to the PDFLib and GD adapters.\n. When updating PHP did libxml also update? Do you know what version is on your system (you can check phpinfo())?\n. To work around the issue for the time being you can style using classes rather than IDs.\n. I believe the error is thrown because of rules triggered by using DomDocument::load_html, but this might be an issue specific to the version of libxml. Really need to do some more research into what's going on.\nWe could disable libxml exceptions using libxml_use_internal_errors() though that seems a bit extreme.\nSince what's thrown is a warning processing of the PDF should be able to continue, so you could disable error reporting (or at least warnings) before processing the document. If that's not an option you could also call the libxml_use_internal_errors() function before using dompdf.\n. Thanks for the updates. We'll keep an eye on where libxml goes with this. It's likely we'll want to implement some kind work around in the code.\n. Of course, that fact had completely escaped me! Since the appropriate styling is applied prior to laying out the document we should be able to address the issue by handling the ID prior to cloning. Perhaps until we find a better solution we can reassign the ID of cloned nodes to something like a data-id attribute.\n. Agreed, we would definitely want to use something more specific for the data attribute.\nI think you have a good enough understanding of what's going on. I dunno why this didn't scream out at me earlier, the issue that needs to be dealt with is right there in the error message.\n. Triggering the issue appears to be possible by using the HTML 4 Transitional DTD and disabling the HTML5 parser.\nThe issue can arise if an element with an ID renders on more than one page either from straddling the page break (block and inline elements) or using fixed positioning (block elements).\n. Per the HTML spec \"character entity references are case-sensitive.\" That being said, in versions 0.6.0 or newer if you enable the HTML5 parser you will get some support for incorrect character entity case.\nIt's unlikely we'll address the issue further since the HTML5 parser corrects the incorrect case in certain instances. Plus, unless we hard code entities where a case doesn't matter (e.g. there's no &Gt; or &GT; entity) there's no way to know what the intent was (e.g. is &ARING; supposed to be &Aring; or &aring;).\n. (Anyone is welcome, of course, to make a case for supporting this within dompdf itself.)\n. Truthfully I hadn't really thought about it ... had to go and check the spec to make sure ;)\n. @osworx I don't know that the same issue applies to tags. I'd have to refresh myself on the specifics, but I imagine between the HTML5 Parser and DOMDocument that the tag format is lower-cased during processing. Also, I believe dompdf uses all lowercase internally to avoid any mismatch in tag names.\nRegardless of how you case your element names and attributes, the comparison by a parser should be case-insensitive [1] [2]\n. Also, found this nifty chart on HTML5 character entities: http://dev.w3.org/html5/html-author/charref\n. (actually nodeName returns in all uppercase)\n. That must be why ths HTML5 parser handles this. If there's a strong enough case for doing this in dompdf we'll certainly consider it. For now I think we'll leave it to the HTML5 Parser. We'll probably look at upgrading that library for the 0.7.1 release and enable it by default.\n. This issue should be addressed by commit be53f5825fba90758f3856e3dbd6efc984c21353\n(translate)\n. Looks to actually be a problem with elements styled as display: inline-block;. Work around for your particular issue would be to style checkbox elements as inline instead of inline-block.\ncss\ninput[type=checkbox] { display: inline; }\n(Or you could provide a width to the element.)\n. I think auto-width issues causing your problem will be addressed as part of #627.\n. @priya3192 checkboxes are supported in the latest release of dompdf. Which version are you using?. I do not believe the current stable version (0.6.1) is compatible with PHP 7, we haven't really tested it. The next release should run fine. Also, there are some efforts in the community to actively improve PHP 7 support (e.g. #1030).\n. Can you post some sample HTML so we can test?\n. That sample doesn't quite reproduce the problem for me, but it's close enough. There appears to be some bit of overlap going on between the cell and the adjacent border. Since you have no border spacing can you try styling the table with border-collapse: collapse; to see if it works around the issue?\n. It looks like the table cell in the second row (Cell A) next to the one with rowspan from the first row (Cell B) isn't correctly accounting for that cell. Because Cell A is placed in the document after Cell B it  will be rendered above Cell B in the stack. And since Cell A isn't correctly accounting for Cell B it's overlapping the boundary between the two cells.\nI can't find a good way to work around the issue at this time. In your particular document, since you have no padding on the cells, if you apply the background color on a div around the content rather than on the cell it should appear as expected.\n<td>\n  <div style=\"background-color: lightgray\">\n    <p><strong>border right</strong></p>\n  </div>\n</td>\n. nothing yet\n. @DooRooSA correct. Take a look at my previous comment where I offered a potential work-around until we can address the problem.\n. dompdf v0.7.0 will use the newer php-font-lib. You can grab the latest beta from the releases page.\n. As of this writing no, but this would be a helpful addition.\n. This is a known bug, though I don't think it's been recorded yet (at least, I didn't see a relevant issue.\nI think you can work around the issue by adding <nobr></nobr> around the affected text.\n. I got nothin' ... I'll put in the bucket for development in the next release.. Will follow up on SO.\n. At present, no. I believe php-font-lib may already generate outlines, in which case implementing might be feasible.\n. Thank you for that! Feel free to submit a PR (if you're inclined) otherwise we'll patch that for the upcoming release.\n. This issue was addressed in the develop branch (0.7.x) by #1051.\n. Can you post a screen grab of the resulting PDF? Could be a problem with the font metrics. Or maybe something in the HTML is pushing the lines around.\n. Definitely something off in that spacing. Looks to be some kind of last-line problem. Can you post the relevant HTML/CSS so we can debug the issue?\n. Similar problems have been reported in the past (#454, #609, #846). You might try the advice from #846:\n\nif you modify the font metrics file (UFM) you can tweak the underline position by changing the value of UnderlinePosition.\n. Would need additional info, but I believe this will be fixed in an upcoming release. Closing as a duplicate of #609. Please follow that issue for updates.. (trying to work this out on the forums first: https://groups.google.com/d/topic/dompdf/5KuslFixiwc/discussion)\n. That would be my guess. Little of your content appears to actually need to be in a table. It's a chore, but you might consider adjusting the layout to use DIVs where tables aren't needed.\n. First place to look for help is the README.MD. After that check out the wiki, particularly the requirements and usage pages.\n\nIf you need help beyond that head on over to the support forum.\n. reference issues #403, #872\n. Firefox doesn't appear to like it either, though it displays fine in OSX Preview. I didn't immediately see anything wrong in looking at the PDF source, but unless there was a glaring issue I would have to do more investigation.\nWhen I attempted to render the web page it appeared that php-font-lib was trying to parse the WOFF fonts (based on some warnings received). This font format isn't yet supported by dompdf so it should be skipping those files, but that does not appear to be the case. You might try simplifying your CSS to only reference the truetype fonts (at least when you're trying to pass it to dompdf).\n. Can you post the PDF so I can run it through a validator? Also, version of dompdf?\n. Do you have IMagick or GMagick enabled? It could also depend on the version of GD installed on your system. If you can't recreate the issue then it will be a bit difficult to track down. Is the customer able to re-generate the PDF, and if so do they get the same corrupt output?\n. More than likely an IMagick issue that we hope is addressed with the next release. Closing due to lack of follow-up.. Indeed. The function would treat that as an absolute path rather than as a protocol-relative URL. This has already been addressed in the 0.7 branch. I'm actually working on some URI-related updates so I'll fit in the fix for this as well. If you need it quicker, though, you can grab the updated function from the next release: https://github.com/dompdf/dompdf/blob/develop/src/Helpers.php#L38\n. The core fonts (Arial, Times, Courier) only supports characters that can be encoded in Windows ANSI. In order to display a wider range of characters use one of the bundled DejaVu fonts, which have decent non-CJK unicode support.\nSomething like the following should work:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    * { font-family: DejaVu Sans, sans-serif; }\n  </style>\n</head>\n<body>\n  <p>\u2212</p>\n</body>\n</html>\n. Thanks for the update. If you have any helpful details feel free to post for the benefit of others.\n. Are you using both $dompdf->output() and $dompdf->stream() at the same time? Right now this isn't something you can do and the most obvious result are font issues.\n. I'm not seeing the same issue. The sample you posted is exhibiting the issue? Are you using the CPDF back end? Anything else that could help reproduce?\n. Sorry, my mistake. I was looking at it incorrectly. There is indeed an issue.\nThe problem is more pronounced if you do not have a block element around the document content, in which case the content runs to the edge of the page. If you surround the content with a block element there will at least be a little space between it and the bottom of the page.\nAnd, yes, it does look like any inline element will cause an overflow. Easiest way to tell is to just bold the entire paragraph.\n. @Finalfantasykid sorry I hadn't responded. I do not yet know where the problem is occurring. If I were to guess I'd start looking in the inline frame reflower. These methods look to the containing block to understand the boundaries.\n@sabat24 your issue might be different. You have to place headers/footers outside the page margins so that the page content does not overlap it.\n. @sabat24 if you want to supply an HTML sample we can take a closer look.\n. Closed by a0eb016\n. In 0.7.0 FontMetrics class is now instantiated and available as $fontMetrics. The wiki will be updated when we merge the develop branch back in to master.\n. I'll keep this issue open so we don't forget to update the wiki.\n. wiki is updated\n. So at this point your are not looking for help in getting dompdf working? If you do decide to give dompdf another shot it would help to see a sample of the output plus the HTML you are attempting to render.\n. No worries. Glad you were able to track down the issue. Thanks for the follow-up.\n. This is a known problem, though I can't recall if there's already an issue associated with it.\n. We'll patch this up in the next release, in the meantime just unset your dompdf variable and re-instantiate before each subsequent use.\nFYI, also bad is calling both the output and stream methods from the same instance.\n. I really don't, but maybe we can add a service class to the utils project that provides this type of functionality. Basically a wrapper that, when loadHtml is called, instantiates a new instance of dompdf.. I haven't looked into it yet so I can't really say. I would expect the actions you take when you load an HTML document and render it would reinstantiate the classes dompdf uses, but obviously something's hanging around that causing problems.\nI guess the first place I'd look is the frame tree, but when I get a chance I'll probably step through the code so I can actually see what's going on.. I haven't looked into it yet so I can't really say. I would expect the actions you take when you load an HTML document and render it would reinstantiate the classes dompdf uses, but obviously something's hanging around that causing problems.\nI guess the first place I'd look is the frame tree, but when I get a chance I'll probably step through the code so I can actually see what's going on.. Something else I've found is that you would need to clear out the cached results of the Style::length_in_pt method. These are stored in a static variable and so persist across instances. It doesn't prevent from using dompdf more than once, but it can affect layout if your documents differ in font size, dpi, or other measurements (one document relative to another).\nI think our use of static variables needs to be reviewed to see where they could cause this type of problem.. @arimourao one way I've gotten around the reuse problem is to exec a second PHP document that actually performs the PDF render.\nIf that's not an options I'll have to revisit the question. It's been a while since I've thought about the problem.\nBesides the length_in_pt variable I mentioned there's one in LineBox called anti_infinite_loop that looks potentially problematic over many runs, but only if you use floats extensively.. I'd have to look closer at the affected code. Perhaps it's an initialization error similar to #997. At the very least we should do something different if the divisor is zero.\n. @marcoraddatz thanks for the work-around.\nI'd be surprised if the box-sizing declaration is having any effect since we don't yet support it.\n. That's interesting. Can you relate the nature of the problem? I'll have to look into the issue a bit more just to see if the problem is more widespread.\n. yikes\n. Good to know. I don't see any reason not to pull this in, I just want to look at it a bit more first to see if there's anything else we can do as well.\n. So I tried to find what was going on here, but I haven't really come across anything useful. The closest I've found is this: https://code.google.com/p/chromium/issues/detail?id=199191. But that appears to be a fit-to-page issue.\nAll the samples I've seen place the MediaBox on the page object themselves and not on the page tree, though the PDF reference states that the MediaBox is inheritable from the page tree. GCP does appear to understand the size of the page, so I'm not sure why it's placing it in the wrong location when the MediaBox is inherited.\n. I tweaked your commit to use the MediaBox property from the parent page tree. Bonus, I think this brings us a bit closer to being able to provide different page sizes/orientations within the same document.\n. The H1 sizing, while not what you would expect, is probably correct. Since you are not specifying any styling on that element it inherits the default styling. Default sizing of H1 elements is 2em. Since the parent elements have no sizing set the default font size is used (12). Without any defined units dompdf assumes the value given is in PT, in which case no scaling is performed.\nSame issue with the table cells. The translation of the width attribute excludes any units and so the value is assumed to be in PT.\nWe should probably look at this as it's no doubt confusing for more than just you.\nTo work around your two issues:\n- Specify a root font sizing in px\n- Add px units to your table widths\n. You can find the default styles in dompdf/lib/res/html.css. The default font size is set to \"12\" in the Style class. Since the value excludes units it's read as in PT.\nI did mean adding px to your width attributes. I know it's invalid HTML, but I believe it would render OK in dompdf. As I said, it's a workaround (though an admittedly hacky one).\nAs for the decision not to scale PT lengths, the CSS spec says:\n\nFor print media and similar high-resolution devices, the anchor unit should be one of the standard physical units (inches, centimeters, etc). For lower-resolution devices, and devices with unusual viewing distances, it is recommended instead that the anchor unit be the pixel unit. For such devices it is recommended that the pixel unit refer to the whole number of device pixels that best approximates the reference pixel. [CSS3].\n\n(The CSS2 spec differs little from the CSS3 spec. Do you have a link to similar information from the HTML spec?)\nSince PDF is nominally a print media (or at least could be viewed in that way), and considering that the native unit for PDF is PT, it makes sense to use PT as the anchor unit. DPI technically stands for dots per inch, and is sometimes also represented as PPI (pixels per inch). PT is considered a physical unit in CSS equivalent to 1/72 of an inch. This matches up with the fixed resolution of a PDF, which is 72 PT per inch. Thus the reason there is no scaling. At least this is my interpretation of the decision (since it was made before I got involved).\n. Closed by adeb2b8\n. I definitely recommend using a different fontDir for exactly the reason of keeping the dompdf installation clean. I've been thinking being able to set the options in the constructor would be a nice addition, so go ahead an submit that.\nYour points are spot on. dompdf instantiates a Canvas instance in its constructor. Another Canvas instance is later instantiated during the render process, which is problematic for exactly the reason you've noted. There are a few issues that need to be worked out to remove this duplication:\n1. When Canvas is instantiated in the dompdf constructor it doesn't receive any updates to the dompdf configuration.\n2. I'm not entirely certain (without more research) if there are any problems instantiating the Canvas object only during render. I do know of one drawback in that you have to render the document before you can access the canvas object.\nIn addition to your modification I think we can also remove line 719. There's no reason a new FontMetrics instance should be created at this point; we should use the existing FontMetrics instance.\nConsidering point 2 you might also see what happens if you remove Canvas instantiation from the dompdf constructor. As I said, if done this would limit access to the canvas object until after the document has been rendered.\n. Also, just to clarify (because I wasn't sure based on your post if you know), but dompdf will check to see if it has already downloaded a font referenced via @font-face. If it has it won't download the file again, so you only incur the extra HTTP call the first time that reference is encountered across all renderings.\n. That's fine. In the current stable release the Canvas object isn't available until after you render. It's more useful for it to be available sooner so you can add objects that persist to the rendered pages. But right now that doesn't really matter anyway since we're re-creating the object on render anyway.\nStill, I don't think anyone's using dompdf in that way right now so I'll go ahead and work on the other suggested changes. I'll leave this open until I go in and make the other changes.\n. I believe this should be sufficiently addressed now.. So the PDF renders, but does not display correctly? First thought is that it could be some PHP notices related to PNG processing finding their way into the PDF source. Otherwise ... it would help to see either a sample of the PDF or the image causing problems.\n. Ah, so you generate the PDF and save it on the server, then later you access the PDF via another script which returns it using the above code? What kind of error is given by the readers?\nI would start by removing two headers Accept-Range and Content-Transfer-Encoding.\nI'm not really sure how web servers deal with the Accept-Range header when serving generated content. dompdf will supply this header, but only conditionally if indicated in the options. I really need to research this a bit more to better understand the interaction between PHP and the web server if this header is present.\nAs for Content-Transfer-Encoding, the actual HTTP header is Transfer-Encoding and I'm just not familiar enough with this to even make a guess as to how it should be used.\nAt any rate, there's nothing written into the script to handle transfer encoding or accept ranges, so I'd leave it to the web server to figure out.\n. Is the PDF you uploaded one that was giving an error? For one of the PDFs that's giving you problems can you change the content disposition to attachment, save the PDF, then uploaded it here so I can take a look at it? Sometimes an application that can read the PDF will correct any problems it found when saving.\n. That's ... unexpected. I would expect the split value to already be set correctly. We'll take a closer look.\n. Nothing yet, but I'll add it for the next release.. Thanks for that @seeschloss. I can sorta confirm this with images by opening the JPG in a stand-alone viewer. The colors are definitely less flashy.\nIf anyone has any links to info on browser support for CMYK that would be helpful.\n. sweet\n. I plan to pull this soon, but I first want to compare it to previous code we had in the library (that was never used). I was thinking that in order to maintain compatibility with the current context configuration I'll modify it to prefer file_get_contents over curl.\n. This is likely an issue with how certain character sets are handled in (I would guess) CPDF and/or php-font-lib. More research is needed.\n. How are you setting the page size? Is this the only issue so far?\nAn overview of the differences is in the release notes. A bit more info is available from this post in the support forum.\n. A migration guide is an excellent idea, and we'll post one on the wiki.\nYour installation steps are correct and your code should work. set_paper() is still a valid call at this time, though eventually you'll want to use setPaper() instead. I tested locally and got the expected document size/orientation.\n. I see. You're using the \"card\" page size, but that's something your project must have added to the CPDF adapter since it's not one of the page sizes we support. The quickest fix would be to update your setPaper() statement to be:\n$dompdf->setPaper( array(0,0,295.00, 175.50), 'portrait' );\n. Units for PDF measurements are in PT, 72 PT per inch.\nAn error/warning about the size missing is a good idea, I'll keep this issue open as a reminder.\n. This is how 0.7.0 is set up. Try composer require dompdf/dompdf:0.7.x@beta (from the beta). We're on packagist if you'd rather track our progress that way.\n. The most likely cause is that some PHP errors/notices have made it into the PDF stream. This typically results from using dompdf while output buffering is enabled. You can check this by downloading your PDF and opening it in a text editor. The PHP notices will be above the PDF source.\nWhen using dompdf we recommend that you turn off output buffering. Also, right now you should not use both the stream and output methods together. For some reason they interfere with the PDF generation. Plus, it doesn't really look like you're using the PDF file you create on your system.\nThe following might work better:\n<?php\nsession_start();\n$htmlstring = $_SESSION['template']['html'];\n$filename = $_SESSION['template']['file_name'];\ninclude( get_template_directory() . '/dompdf/dompdf_config.inc.php' );\nunset($_SESSION['template']);\n$htmlstring = stripslashes($htmlstring);\n$dompdf = new DOMPDF();\n$dompdf->load_html ($htmlstring);\n$dompdf->render();\n$dompdf->stream($filename);\n?>\nAnd really you should always disable sending errors to the browser in PHP\n. > you should always disable sending errors to the browser in PHP\nYes, I would recommend setting display_errors to off (if that's not your current setup).\nBack to your problem ...\nWhat version of dompdf are you using? There are some versions whose PDF structure is problematic for some PDF viewers. Can you upload a corrupted PDF so we can inspect it?\n. @lopandpe there's nothing wrong with your Dompdf usage so it's probably related to how you're trying to integrate it into WordPress. It would help to see how you're using it inside dompdf.\nI looked at the source of the PDF you attached and it has nothing but what looks like a part of the WordPress HTML header. This indicates that the something is causing the header to be sent to the browser before Dompdf is able to render the PDF. If content is sent to the browser Dompdf will throw an error when your call the stream() method. This is probably why this is the only content of the page.\nYou can test this theory by replacing $dompdf->stream(); with echo $dompdf->output();. It won't address your issue, but at least you'll know whether or not dompdf is working correctly.\nMight I suggest using a plug-in instead of developing the functionality yourself?\n. I do like the idea, I'll tentatively schedule this for 0.7.0.\n. There does appear to be a problem here. For this simple example you can work around the issue by moving the clearing div outside the float container, e.g.\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n    <div>\n        <div style=\"float:left;width:50%;\">sdhfl<br/>ajsdhk asbhdkja</div>\n        <div style=\"float:left;width:50%;\">sdhfl</div>\n    </div>\n    <div style=\"clear:both;\"></div>\n    <div>\n        sdlkfl;s jashfkjas\n    </div>\n</body>\n</html>\nBut that doesn't work on all variations on your structure. Generally clearing a two-column float seems to work better if the floats are in a container and the clear outside the container.\n. I realize that fix won't address all variations. Until we can resolve the underlying problem you'll have to find a way to work around the issue.\nWhile there are still problems with the float rendering in this second sample the more relevant issue here is that dompdf does not yet correctly calculate the width of floated or positioned elements that have width: auto (#627). Plus, this second example seems to be working awfully hard to achieve what looks to be a fairly simple layout. Unless this is generated by some kind of framework or content management system I'd suggest simplifying your HTML.\nUnless, of course, your example is merely contrived to illustrate the issue further.\n. @kamalsamra works fine in some situations. Which version of dompdf are you using and can you provide a sample of your HTML?\n. Clearly some problems. First, without a height on the container element dompdf is unable to really figure out where to clear. Second, dompdf has problems clearing floats contained in another element. Third, dompdf doesn't appear to be taking the floats into account when calculating element height.\nI don't have a good work-around right now.\n. @rsm0578 not sure what you need. Try running again, but head to the options tab and select dompdf_develop as the dompdf release. You'll see that the particular issue is resolved. Though your code does bring up a new issue: float does not appear to apply to tables. You might want to start a new issue for that.\nIn terms of your document you don't even need the table surrounding the image so you can work around the issue.. @rsm0578 not sure what you need. Try running again, but head to the options tab and select dompdf_develop as the dompdf release. You'll see that the particular issue is resolved. Though your code does bring up a new issue: float does not appear to apply to tables. You might want to start a new issue for that.\nIn terms of your document you don't even need the table surrounding the image so you can work around the issue.. That section is actually intended just to show how to install dompdf. But point taken, we don't have an example of how to use it like we do for the upcoming release.\n. That's not quite what I meant. We'll add an example, I like what you did with #1078 as far as adding example usage.\n. This question would be better posted to the support forum.\nThat being said, it would help to know the layout. If you place the DIV at the top of your HTML source and absolutely position it then it will only appear on the first page.\n. I'm not seeing the same notice when I style some text in that way. Do you have a sample of the HTML? Also, which version of dompdf are you using?\n. SlikNL's integration is using a fairly old version of dompdf (v0.6.0 beta 3). I don't have a copy handy to test with, but with the current stable (0.6.2) I don't see that notice. Since they're not using a composer-enabled version of dompdf you might try just dropping a copy of v0.6.2 into the dompdf directory.\nFurther, an undefined offset notice shouldn't prevent rendering the PDF unless your app is configured to display notices/errors to the browser. I don't know, however, what kind of adverse affect the problem could have on the rendering.\n. Merged with some minor tweaks.\n. Sorry, I appear to have overwritten this update when merging back in the 0.6.2 updates. I don't know that I'll add it back in now that the 0.7.0 release is on the master branch.\n. I'm not sure why it would do that. Can you post some sample HTML that we can use for testing?\n. Official dimensions of a4 are 8.27in x 11.69in, which actually comes to 595.44pt x 841.68pt (at the standard PDF resolution of 72 PPI) which, oddly enough, does not match up with the dimensions used by dompdf. It does appear to be common practice to round down to the nearest integer. I'm not sure where the dimensions we use originally come from. I think it may be worthwhile to revisit the dimensions we use.\nAll that being said, I'm not sure why the dimensions we use would cause a blank page. Do you have some sample HTML that exhibits the problem?\n. Thanks for the follow-up. I'll keep this issue open so we remember to revisit the paper sizes.\n. Is that the PDF contents or an error thrown by your PDF reader? It could be that laravel is modifying the content-type header and confusing your PDF reader. Or it could be that the PDF wasn't generated and what you downloaded was actually an HTML file. Try opening the PDF in a text editor.\nHave you tried barryvdh/laravel-dompdf?\n. That I couldn't help you with as I haven't even used laravel, let alone the wrapper written by @barryvdh.\nHave you tried downloading the PDF produced and opening it in a text editor? It could be that the PDF content-type was set but that laravel later encountered an error and so an HTML document was actually sent instead of the PDF itself. Or, sometimes, if content buffering is enabled PHP notices/errors can because in the PDF stream and show up at the top of the file source.\n. Take a look at the Unicode How-to in the wiki.\n. Yes, it looks like the calculation for bottom: 0; is off. If you're specifying the height of the containing element then to work around the issue you can just specify the height of the positioned element instead of the bottom.\n. @mrtuvn can you take your question to the support group? I'm not entirely sure what you need to fix. Some sample HTML would also be useful.\n. We've seen similar issues before (#1047, #975, #920, #905). You might try disabling GMagick/IMagick support in dompdf if you have those PHP extensions loaded.\n. Support for multi-byte character sets was included as of version 0.6.0. Please read the Unicode How-To for more information.\n. As it so happens dompdf supports this functionality as of v0.6.2 (see #1048). \n. It should just work. Do you have a sample of your HTML and your PHP related to dompdf?\n. Since you're using the load_html() method dompdf has no way of knowing what the protocol is. You'll either have to include a base href in your document header:\n<base href=\"http://example.com\">\nor set the base url using the appropriate methods:\n$dompdf->setProtocol('http://');\n$dompdf->setBaseHost('example.com');\n$dompdf->setBasePath('/content/dir');\n. The % calculation must be based on the wrong parameter (or not supported at all). We'll take a look.\n. I do recall that. I'll take a look and see if it's a similar issue.\n. There was a bug in the initial release of 0.7.0 beta 3. It was fixed by 5f13a9afa8862bafdae2108e01246b293cc17a34. We have re-released the beta, but apparently the archive download still had the bug. I just updated the download and it should now have the fixed code.\nIf you're using composer to install you will have to clear your cache before you update otherwise composer will still be pulling from the unfixed release, e.g.:\nphp composer.phar clear-cache\nI apologize for the inconvenience.\n. For the single header on the first page and the single footer on the last page you could just use absolutely positioned content. Just put the header above everything else and the footer below everything else.\nOf course, the in-between stuff is a bit more complex.\nThe code you're using isn't fully supported. I've certainly found ways to use HTML/CSS and embedded script mixed together, and I've even offered suggestions for how to use it to work out more complex documents (e.g. TOC), but you don't always get the expected results.\nBut let's start with the question at hand. So your document is rendered but the embedded script is not processed? Have you enabled PHP support in your configuration?\n. @hellboy81 see this statement:\n\nFor the single header on the first page and the single footer on the last page you could just use absolutely positioned content. Just put the header above everything else and the footer below everything else.\n\nIf you need more detail it would help to know exactly what you need to create.. no additional info provided as of yet, closing. This is a known issue with line breaks in base64-encoded data. White space is supposed to be ignored but it's causing issues for data-uri processing. We're not sure yet if the problem is with dompdf or PHP. See #1016 for some relevant regex to strip out the line breaks.\n. @themao thanks for that!\n. The Unicode How-to has information on how to install fonts.\nBeyond that, do you have an example of your CSS?\n. dompdf does not support numeric weight very well (see #675). There is a work-around, but it's not very efficient.\n0.7.0 does not include any extraneous code (such as the load_font.php script) in the package, but you can find related tools in the utils project.\nWhether you're using the 0.6.2 release or the 0.7.0 beta the README.md should have all the information you need to get started. Beyond that if you have any specific questions please feel free to ask.\n. How dompdf loads your image depends on how you load the HTML document. If you provide only a path in your URL then dompdf determines where the file is based on the location of the HTML document. When using load_html() dompdf has no pre-existing knowledge of the document location and so assumes the base path is the executing script's path on the file system.\nSo \"/web/upload...\" looks for the file on that path from the root of your file system. If this is actually a sub-path of your web server's document root you would need to append the document root path, e.g. \"/www/content/web/upload...\".\nProbably the easiest method of working around the load_html() base path problem is to tell dompdf what the base is. Either by adding a base href to your document header:\n<base href=\"http://example.com\">\nor by setting the base url using the appropriate methods:\n$dompdf->setProtocol('http://');\n$dompdf->setBaseHost('example.com');\n$dompdf->setBasePath('/content/dir');\n. Excellent! If you need any further help let us know. A good place for general questions is the support forum: http://groups.google.com/group/dompdf\n. I'm not sure why it would be trying to put the files in that particular directory. What is the setting for your font directory and font cache directory? By default it should be dompdf/lib/fonts.\n. Did you upload from your local install to your remote? If so you should probably reset your font directory so the font can be loaded again on the server. Remove the dompdf_font_family_cache.php file (not the .dist file).\n. Have you read through the Unicode How-To?\n. Do you have some sample code? You might also read through #320 to see if there's any useful info related to using SVG with dompdf.\n. Are you attempting to render the SVG document directly? dompdf can't do that, it expects the document to be in HTML format and currently only renders SVG linked via IMG element, e.g. <img src=\"certificate.svg\">.\nIf you want to directly convert an SVG check out php-svg-lib. This is the library that dompdf uses. Note that php-svg-lib does not yet have good support of text in SVG.\n. @maartenmachiels only starting with 0.7.0.\n. FYI, anyone wanting to convert directly from SVG to PDF should consider using php-svg-lib directly instead of going through Dompdf.. Just FYI I'm going to tie this to the other issue. The SVG does appear to render but there are still issues to address. Any issues particular to the SVG library should be posted there.. Do you have some samples you can share, e.g. sample HTML, sample PDF output, and an image of what the printed version looks like?\n. That's just ugly! I'm curious which tool you were using and which you're using now.\n. Thanks for the info :)\n. The correct method call on 0.6.2 is $dompdf->load_html(). I'm in the process of updating the documentation.\nAlso, don't call $dompdf->output() and $dompdf->stream() ... the two methods interfere with each other.\n. Is this related to #1096?\n. FYI, I may not pull this on the 0.6.x branch since we're about to release 0.7.0, but it looks to be relevant to 0.7.0 as well.\n. Is this a warning or error? What is $remoteFile in your case?\n. A warning shouldn't cause problems for rendering the PDF (depending on your PHP/app configuration). But catching for this is a good idea.\n. This PR is problematic in that if $remoteFile is a URI with protocol and domain (e.g. http://example.com/somefont.ttf) the check will fail even if the file exists. I did come up with a tweak, check out commit b5fb3246deccdeda3b0b28e548da255901ed2bb9.\n. The samples were removed starting with the 0.7 code base. You can look at previous versions of the code (e.g. 0.6.2) by clicking the branch dropdown above the file listing and selecting the \"tags\" tab.\n. The core PDF fonts (Helvetica, Times, Courier) do not as they only support Windows ANSI encoding. To support characters that are not available in this encoding you can use the bundled DejaVu fonts, which have been available since 0.6.0.\nTry this:\n<p style=\"font-family: DejaVu Sans;\">\u0e3f</p>\nYou can find more information about the font issue and how to enable Unicode support in the wiki.\n. It looks like the font parsing failed but still added a reference to the font in your font family cache. It's possible dompdf is attempting to parse the wrong font format. Currently it only support truetype fonts, but I've seen in the past where other formats were being parsed.\nDo you have a sample HTML document we can use for debugging?\nAdobe_Font_Metrics.php is found in php-font-lib 0.3.x, which is used by dompdf 0.6.x. Since 0.7.0 is about to be released would you be able to test using the latest 0.7 beta which uses php-font-lib 0.4? I did a quick test using the stylesheet from the error in barryvdh/laravel-dompdf#191. I was not able to render the document with dompdf 0.6.2. With dompdf 0.7.0 beta 3 it rendered just fine.\n. Excellent, thanks for taking the time to follow up. I'll go ahead and close. Hopefully commit 240c2f2b10079629b2a6a9453e6cc3ebad8e8fc9 addressed the issue.\n. Do you have a sample of the HTML that's producing the problem PDF as well as the PDF itself?\n. I haven't seen the same issue using Firefox (whose reader is based on pdf.js). Can you upload a sample PDF?\nAs for auto-height. It's a bit difficult to do right now. The workaround I've used is to define a custom page size, render the document, count the pages, calculate the height of the content, render again with a new custom size.\n. That's interesting. It could be due to the difference in how your web server serves up the file vs. when you stream from the db. Maybe the headers need to be adjusted. You also might try forcing the connection closed after the PDF has been sent (e.g. using exit).\n. Can you post some sample HTML?\n. @webspecnick that certainly causes it. Similar issue reported in #1107, though ultimately this ties back to #758.\nTo work around the issue for now you can add the following to your stylesheet:\ncss\nthead:before, thead:after,\ntbody:before, tbody:after,\ntfoot:before, tfoot:after {\n  display: none;\n}\n. There's a bug in border radius rendering if values are not applied to the bottom corners, see my comment on issue #374. The workaround for the issue is to add a 1px border radius to the other corners.\n. I don't know Magento, so you'll have to do some poking around on your own. But a quick look at the autoloader code leads me to believe that the Magento autoloader does not support PHP namespaces. Since I don't use Magento you'll have to figure out the best way to address the issue, but I did find a project that adds namespace autoloading support: kschroeder/magento-namespace-autoloader.\n. Also, please note that if you're pulling from the git repo directly you won't have all the code you need. At the very least you'll also need a copy of php-font-lib.\nYou might look into using composer with magento.\n. The CPDF backend currently only supports PDF 1.3. We should be able to update it to PDF 1.4 / PDF/A-1 without too much trouble, but it's a matter of developer time of which there is not much.\nThe PDFLib backend supports rendering to PDF/A, but it does require some attention to how the PDF document is crafted. We have not yet done the work necessary to support it.\n. Nothing yet.. Yes, but we have other priorities right now. Pull requests are always welcome so if anyone familiar with the format can help it would be much appreciated.. This sounds familiar, but I'm not immediately able to find a relevant issue. At any rate, I'm going to keep this open for now since the table styling is incorrect.\nAre you using Bootstrap (just a guess based on the table class)?\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>\n  <div class=\"wrapper wrapper-content p-xl\">\n    <div class=\"ibox-content p-xl\">\n        <div class=\"row\">\n            <div class=\"col-sm-6\">\n                <h5>From:</h5>\n                <address>\n                    <strong>Text Bussine.</strong><br>Text text text<br> Text text text<br> Text text text<br>\n                    <abbr>Email:</abbr> Text text text\n                </address>\n            </div>\n            <div class=\"col-sm-6 text-right\">\n                <span>To:</span>\n                <address>\n                    <strong>Text Client</strong><br> Text text text<br>Text, Text<br>\n                    ZipCode: 213211               </address>\n                <p>\n                <h4>Invoice No.</h4>\n                <h4 class=\"text-navy\">ONL 1</h4>\n                <span><strong>Invoice Date:</strong> 2016-02-11</span><br/></p>\n            </div>\n        </div>\n        <div class=\"row\">\n        <div class=\"table-responsive m-t\">\n            <table class=\"table invoice-table\">\n                <thead>\n                <tr>\n                    <th>Item List</th>\n                    <th>Quantity</th>\n                    <th>Unit Price</th>\n                    <th>Total Price</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                    <td>\n                    <strong>40 GZ Coins</strong>\n                    <small>Virtual currency</small>\n                    </td>\n                    <td>1</td>\n                    <td>40.00 \u00c4</td>\n                    <td>40.00 \u00c4</td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        </div>\n        <table class=\"table invoice-total\">\n            <tbody>\n            <tr>\n                <td><strong>TOTAL :</strong></td>\n                <td>40.00 \u00c4</td>\n            </tr>\n            </tbody>\n        </table>\n        <div class=\"well m-t\">\n            Status: <strong> Paid</strong> with PayPal. Transaction Id: <b>23121916DP218503E</b>\n        </div>\n    </div>\n</div>\n</body>\n</html>\nref #631, #758\n. @efbiaiinzinz just FYI the merge didn't pick up your user account because of the email used. If you want your account to show up in the commit history (rather than your name) add the sportlyzer email address to your account.\n. So how did you even run into this error? I have so far been unable to reproduce.\n. Per #1125 the problem appears to be caused by a structural issue with the HTML document.\n. I'll probably not commit this to the 0.6.x code base since 0.7.0 is about to be released.\n. All I really need to do is click a button. Unless something major comes up the current master branch will be the stable 0.7.0 release. I just need to go over the documentation and run through some local rendering tests to make sure everything is good to go. But I don't have a definitive timeline ... maybe in the next week?\n. Probably best to close this and create a new PR against master.\n. You would need to modify the memory_limit to get past this error. Currently it appears to be set to 128MB, if you have the resources available you could try doubling the value.\nDepending on your hosting situation you might be able to do this from within your PHP script by calling ini_set('memory_limit', '256M');.\nAn alternative, if you have the option, would be to break your HTML into a number of documents (e.g. 10 documents of 100 pages), render these separately, then use a utility library (e.g. pdftk or PDFMerger) to merge the individual PDFs. You might also see better performance doing it this way.\n. I'm curious if we can do much to improve the get/set functions beyond reordering based on number of times a particular property is likely to be accessed. I did a quick (non-rigorous) test using a variety of comparisons:\nif (isset($this->$prop)) { return $this->$prop; }\nif (property_exists($this, $prop)) { return $this->$prop; }\nswitch ($prop) { case 'prop' : return $this->prop; }\nif ('prop' === $prop) { return $this->prop; }\nBy far the fastest was the strict comparison, but I can see that being a problem with a lot of properties.\nFor internal use it does make more sense to use the accessor function.\n. Good catch. I wonder what issues this might address. I found a similar action in FrameReflower/Image, but it seems to be a bit more thorough in using a numeric value.\n. This has already been merged into the develop branch (see commit 4ab5ab251ad77191c0539c93806006a50aa0e453). I don't always use the github merge process ... rarely these days. This issue will auto-close once develop has been merged back into master.\n. If you're using 0.6.2 or earlier you have to enable float support in your configuration (starting with 0.7.0 it's enabled by default). But the text shouldn't disappear. Do you have a more complete sample HTML document?\n. The float is working but support for clearing floats is still iffy (#26, #1074).\nYou can sort of get a working render by inserting a div after the elements containing floated children. But you may have to tweak the styling to get something acceptable.\n. I believe the code in the develop branch does a much better job with your document now. If you have a moment to take a look and report back we'd appreciate it.. @sgehrman which version of dompdf? Can't really help without seeing a sample of the HTML+CSS. If you still need help go ahead and open another issue, I'm going to close this one since there have been no recent updates from the OP.. Direct print from where?\nIf you want a site to directly print to a client's printer then no.\nIf you want to send the PDF to a printer available to the server it should be possible, though I haven't tried anything like that. You can get the rendered PDF using the output() method instead of the stream() method. You could then save to a file on the server or maybe push directly to a print service.\n. Not seeing the same issue with a quick test. Check that allow_url_fopen is set to true and that the GD extension is enabled in your PHP configuration.\nWe'll be working on better debug logging for a future release, but you could try enabling the dompdf debug log.\n. Ah yes, sorry. Forgot that with 0.7 remote support is disabled by default. I'll keep this open for the time being to remind myself to add some documentation around how to configure dompdf and to detail the default configuration.\n. @skipperbent the options accepted by the output method are different and specific to how the PDF is output (or streamed when using the stream method). To set the global options related to how dompdf functions you would do it they way you found in your second post.\n. @skunkbad can you share the URL of the image?\n. Good find. There are a few posts on StackOverflow and the support group, but we haven't explicitly documented that feature yet. Feel free to add something to the wiki if you're so inclined.\n. @landsman it may be worth revisiting this setting. It was originally defaulted to false as part of a security review of the dompdf code when we were still providing some default content that could potentially be leveraged to exploit a system.. Looks good to me, I just haven't had a chance to pull it in just yet.\n. Lots of other things going on. Hope to catch up soon(ish).\n. OK, I've pulled this into develop.\n. Sorry for the open PR. They close automatically when the commit is merged with master, but you can always close it manually if you want to create a new PR (as you have done).\n. More than likely the font metrics are no longer loading correctly. If the dompdf directory, the font directory, or the font cache directory on the new server is not the same as on the old then dompdf is failing to load the font metrics and font files.\n. Depends. By default it's the same directory as the dompdf font directory. Since you're asking that's probably what it is.\nCheck your dompdf_font_family_cache.php file and make sure any paths in that file are accurate.\nAlso, which version of dompdf?\n. It looks like the styling on the checkbox element isn't quite right. A \"?\" will show in place of the checkbox if your stylesheet applies a font to that element that does not include the ballot box glyph.\nYou can fix the rendering by adding the following to your stylesheet:\ncss\ninput[type=checkbox]:before { font-family: DejaVu Sans; }\nAlso, you might want to also add the following to prevent the checkbox element from taking up an entire line (see #1031):\ncss\ninput[type=checkbox] { display: inline; }\n. You would do this by modifying the PDF meta after rendering your document:\nphp\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->add_info('Creator', 'My App Name');\n[ref]\nFYI, prior to v0.7.0 dompdf wrote library info into the \"creator\" pdf metadata element (aka Application). Starting with 0.7.0 we're moving this info to the more appropriate \"producer\" metadata element (5d80bca8fe8586dc8c29fe3aa1f0b8e96cc94918). The creator info is normally used to indicate the application that created the original document.\n. Characters that are not represented in the Windows ANSI character encoding require a non-core font family (the core font families being Helvetica, Times, Courier, and the generic fallbacks sans-serif, serif, monospace). Take a look at the Unicode How-To.\nFor your specific example, you can use the following with dompdf 0.6.0 or greater:\nhtml\n<span style=\"font-family: DejaVu Sans;\">&#x20B9;</span>\n. Add that code where you would normally want the symbol to appear. For \u20a6 try:\n<span style=\"font-family: DejaVu Sans;\">&#x20A6;</span>\nin dompdf 0.6.0 or newer\n. @VirendraArekar that works for me, which version of Dompdf are you using?. @VirendraArekar have you tried rendering that line by itself? Can you share the PDF output? Is anything relevant in the PHP logs?. Yikes. Not sure what's changed between 0.6 and 0.7 to cause this. I was about to release the final 0.7 but I think we'll need to fix this first.\n. Might be a problem in specific versions of PHP. The issue does not appear to be present when using PHP 5.6.\n. I think the cloneNode issue is unrelated, see #1027.\nI did run across another error while looking into this. I think it's probably unrelated, but until I do more research I'll leave the info here. In PHP 5.6 if I render the following:\nhtml\n<div style=\"font-family: dejavu sans;\">\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161 \u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161\u0161</div>\nI see the following error:\n\nPHP Catchable fatal error:  Argument 1 passed to Dompdf\\FrameDecorator\\AbstractFrameDecorator::copy() must be an instance of DOMNode, boolean given, called in /dompdf/dompdf_git_develop/src/FrameDecorator/Text.php on line 156 and defined in /dompdf/dompdf_git_develop/src/FrameDecorator/AbstractFrameDecorator.php on line 133\n. When we took out the dompdf_config.inc.php file for 0.7.0 we forgot to put the mb_internal_encoding('UTF-8') call, which ensures that MBString functions parse text as UTF-8 encoded string, elsewhere in the library. The internal encoding in versions of PHP prior to 5.6 is iso-8859-1 by default (?). Handling strings with the wrong encoding could result in, for example, mis-calculating string length when multi-byte characters are present.\n\nWith PHP 5.6 the internal encoding is UTF-8 by default, which is why this isn't a problem in that release.\nI added the mb_internal_encoding() statement to the dompdf constructor which should address the issue sufficiently for the upcoming release. And as more systems upgrade to PHP 5.6 this will be less of a problem. Still, we should additionally update the mb_* function calls to specify the encoding where accepted. This will prevent issues for some edge cases such as installs configured to use an encoding other than UTF-8 or user scripts that switch the internal encoding.\n. FYI, for a temporary fix you can just add mb_internal_encoding('UTF-8'); somewhere in your PHP code prior to using dompdf.\n. The fatal error I noted earlier also appears to be addressed by setting the internal encoding. However, I think we need to look into this a bit more. Even if the character count is off we shouldn't be passing in a boolean to the copy() method.\n. Odd. So far I'm still unable to reproduce the issue. The output is definitely wrong (\"Test\" is missing from the output), but I get no PHP errors/notices.\n. Actually, the text is in the PDF, just placed out of the bounds of the visible page. When I get a chance I'll see if your commit addresses the unexpected text placement.\n. Do you experience the same issue if the first table element is a THEAD instead of a TBODY?\n. @kirugan do you have any more feedback?\n. No worries, I just wanted to get a fuller picture of the issue before I pulled in your changes. Still not able to reproduce the issue ... the styling may be the key to reproducing with the updated. At any rate, with confirmation that THEAD also causes issues I'll probably tweak your commit a bit to account for other variations.\n. @kirugan sure ... I think that would help. Thanks :)\n. OK, so I'm just now seeing this, but your HTML is structurally invalid. You have a TD inside the initial TH. While browsers can handle this by setting up anonymous table elements dompdf can not (yet). I wasn't running into any issues because I had the HTML5 parser enabled, which was correcting the document structure.\nAlways good to run your document through a HTML validator if you run into errors like this.\nI'm going to push this to 0.7.1 to fix so we can take a closer look at this issue and build in better error handling.\n. Issue #623 is relevant here. It looks like overly-tall table cells can also result in this exception. Something like the following:\nhtml\n<table style=\"page-break-inside: avoid;\":>\n<tr><td style=\"height: 150px;\"></td></tr>\n<tr><td style=\"height: 150px;\"></td></tr>\n<!-- etc, etc -->\n</table>\nThe issue actually appears to be the white space between the rows. With the HTML5 parser enabled the white space is removed and the document renders without throwing an exception.\nThe issue isn't quite resolved, though. This will prevent the exception from being thrown, but for some reason the styling (specifically the height) is lost after the first paged element in the above sample.\nThough more work needs to be done to fully address what's going on I'll go ahead and pull this in for 0.7.0.\n. Actually, I think the style loss may be unrelated.\n. If you explicitly wrap the table body in a tbody element the styling is maintained.\n. There does appear to be a slight placement issue with the images. I can't quite find a way to work around the issue. I'm guessing the issue is more about the calculation used to determine placement of the images is not accurate enough to maintain such a tight arrangement.\n. Where are you downloading dompdf from? The Autoloader.php file does not reference any non-existent libraries, but the autoload.inc.php file does. However, you should only be using that file if you're downloading the packaged release. If you're using composer you should use the composer autoloader and ignore the ones we include in the package. And if you're grabbing the dompdf source instead of the packaged release you'll have to manually download any of the dependencies (such as php-font-lib) manually.\n. Difficult to say without seeing a sample of the HTML. However, as a first shot I'd say run your HTML through a validator. Errors like this typically show up when there are structural issues with the document that dompdf is unable to handle. You also might try enabling the HTML5 parser.\n. Were I to guess I'd say the issue is the <center> element that isn't closed in the first cell of your table.\nYou also have an un-opened table row towards the end just before the cell that contains the text Observaciones.\ndompdf isn't always able to handle structural issues like this so you should try to ensure your document validates (e.g. run the generated HTML through the W3C validator). Or at the very least enable the HTML5 parser using $dompdf->set_option('isHtml5ParserEnabled', true);.\nI'm going to leave this issue open to remind us to look at the code to see if we can improve error detection or method attribute typing in this code.\n. There's a bug in border radius rendering if values are not applied to the bottom corners, see my comment on issue #374. The workaround for the issue is to add a 1px border radius to the other corners.\n. It would help to see a sample of the HTML you used so we can check the output ourselves.\n. dompdf definitely needs some work in relation to sizing table cells. In the meantime, since you have defined table widths you could style your table with a fixed layout, e.g. table { table-layout: fixed; }.\n. I've not tried with Symfony specifically. Presumably you're using the composer autoloader?\n. I'll have to set up a test environment to see what's going on.\n. How are you using dompdf within Symfony?\n. Wow, thanks for the research @themao! @beta is definitely the wrong tag. I don't know why that slipped under the radar for so long :(\n. @ThomasLandauer ... d'oh!\nOK, I threw that in there quickly but obviously it's wrong. Can you try using just v0.7.0-beta3. I need to refresh myself on what works best with composer.\n. thanks, I'll get the docs updated today with an actual correct version tag\n. So I think running composer require dompdf/dompdf:0.7.x@beta is actually the correct command. It could be that you were only getting an earlier beta because of cached data or an existing install that met the requirement.\ndompdf/dompdf:v0.7.0-beta3 works because it is a reference to a specific release. If you have you minimum stability set low enough (let's just say \"beta\") then you could also use dompdf/dompdf:~0.7 to get the latest beta.\nIn the future you might try (in no particular order):\n- Clearing the Composer cache: composer clear-cache\n- Removing any existing install\n- Updating composer: composer  self-update then composer update\n. @raisen I'm at a bit of a loss then. I spent some time reading through the Composer docs and testing myself and didn't have any issues. I wonder if it's possible something's interfering with the Composer autoloader.\nWe should be releasing 0.7.0 (stable) soon. I'll try to remember to post a note here so you can try the simpler composer require dompdf/dompdf.\n. The new release is now up. Hopefully the composer installation issues will be resolved\n. All kinds of errors coming in on your installation. I'm not sure what's going on here.\n. It's true, but I don't expect we'll be fixing the demo. The Unicode demo relies on a font not installed on that system. Plus the web content included with dompdf is going away (possibly to be resurrected in the utils project).\n. You can change the chroot path during instantiation, e.g.\n$dompdf = new Dompdf();\n$dompdf->set_option('chroot', '/path/to/document/root');\n. @zander009 this type of question is more appropriate for the support forum.\nThat being said ... you can't. The location where the file is saved is entirely dependent on the client. You can't provide path information for a file download (it's a security risk).. The two switch structures have always been there. They're not duplicated; the first block gets the min width, the second block gets the max width. The coding style is maybe prone to error. I'll have to walk back through the history to see why that one instance of array_walk is different.\n. I believe the different implementation of array_walk are entirely accidental. Looks like the code was partially updated in the middle of another update. So far as I can tell, this also resulted in the unnecessary (and potentially buggy?) inclusion of addslashes in the function definition.\n. Note: issue would appear when text styled white-space: pre-wrap; was contained within a table.\n. The content-type header is set by either a) the adapter (in the case of PDFLib and GD) or b) the PDF generating back-end (in the case of CPDF).\n. Ah, now that's interesting. It's possible that Symfony is buffering the output and setting it's own content type header. You might also have to set the content type manually if it sets a default of \"text/html\".\nActually, you may want to use the output() method and rely on Symfony to handle the response to the client.\nreturn new Response(\n    $dompdf->output(),\n    Response::HTTP_OK,\n    array('content-type' => 'application/pdf')\n);\nYou would have to set the headers yourself that are typically set by dompdf. The Symfony documentation may be useful here: http://symfony.com/doc/current/components/http_foundation/introduction.html#serving-files.\n. Not paging the element is valid handling of absolutely positioned elements on a paged medium, per the spec. Though, certainly, it would be helpful to at least consider the possibility of continuing the element on following pages.\nSome relevant links\n- https://www.w3.org/TR/CSS2/page.html#page-margins\n- https://www.w3.org/TR/CSS2/page.html#outside-page-box\n- https://www.w3.org/TR/css3-positioning/#def-cb\n. I don't disagree with your points. We'll have to look to see if there's any useful styling arguments that help define this. If not we'll probably use a vendor-prefixed declaration (alternately a configuration option).\n. The paper size and orientation are stored in the dompdf class. Appears to be lack of synchronization. I'm not sure how much it'll slow things down but for now I might switch to checking the options.\n. Or not. That's not right. We only want to get the default value if no other value is present or if you haven't already set a value. The difficulty in the way things are set up is that we don't know if the value has changed or not.\nI'm going to push this for now. The best practice for setting the defaults in 0.7.0 until we do a better job handling change tracking will be to set the defaults at the time of instantiation.\nphp\n$dompdfOptions = new Options();\n$dompdfOptions->set('defaultPaperSize', 'legal');\n$dompdf = new Dompdf($dompdfOptions);\n$dompdf->loadHtml('It's Legal!');\n$dompdf->render();\n$dompdf->stream('dom.pdf');\nor \nphp\n$dompdfOptions = array('defaultPaperSize' => 'legal');\n$dompdf = new Dompdf($dompdfOptions);\n$dompdf->loadHtml('It's Legal!');\n$dompdf->render();\n$dompdf->stream('dom.pdf');\nThese two methods of setting the options were added in commits bb68e540372558e92296de7174b14605887013f3 and d98bf252339b7ddabc0509bc3bcf249e97242f9f.\nIf for some reason you can't set the paper size when instantiating dompdf you can set the paper size afterwards $dompdf->setPaper('legal');.\n. Just want to note that we should probably also add \"defaultPaperOrientation\" to the options class.\n. And if anyone has opinions on change tracking, I was thinking of using a getter/setter pattern that falls back to the options class if the value isn't currently set.\n. Default paper orientation added in commit d3769f4.. In thinking on this more I'm inclined to say this is the correct behavior. The Options class was a replacement for the configuration constants. Those also could not be changed after dompdf was instantiated.\nThat being said, I think it might be worthwhile to consider not having \"default\" values in the Options class. These should just be the options set by the user. It will require a bit of reworking the code, however, since I think options that are maintained in the Options class should be removed from the Dompdf class.. Which images are you have trouble rendering? I tried the logo image linked at the top of your document and got back a 404 message.\nAlso, do you have read/write access to the temporary directory?\n. By this point the styles have all been applied. First pass sets up the frame tree, second pass applies styles to all elements, third pass renders the elements. It's during the third pass that nodes are split to accommodate page breaks.\n. cloneNode is also used in the inline decorator. I'd also want to look to see if there are any other method that could potentially result in the same issue. But otherwise I think that pretty much should cover the issue.\n. A problem we are familiar with. Unfortunately I don't really have a solution right now.\n. Please run your HTML through a validator. More than likely there's a structural issue that dompdf was unable to handle. If that doesn't address the issue please post a sample of your document so that we may look at it.\n. Yes, sorry. I didn't mean to leave that so long (see #1132). Try composer require dompdf/dompdf:v0.7.0-beta3.\n. The authentication functionality relies on HTTP basic authentication, but this authentication scheme doesn't seem fully compatible with PHP when run via FastCGI (ref google). Looks like maybe you can use this code from symfony, but it does require modification of your site's .htaccess as well.\nThe www site is no longer available as of dompdf 0.7.0 so we won't be producing a patch for the issue. If we resurrect the code in the utils project I'm thinking it might be easier to deal with this by migrating to session-based authentication.\n. Have you tried using the @font-face CSS declaration instead to install fonts?\n. I'm not sure about the quality of the conversion. Try a simpler document first to see if that helps. There have been some situations in the past where the output appears to be fuzzy depending on the elements in the PDF.\nIf you can upload the font you're using we can test it out as well. Or you can use php-font-lib to inspect the TTF.\n. There does appear to be a bug in the 0.7.0 beta where dompdf attempts to construct a full URI before rendering the link. This is causing dompdf to use the wrong linking mechanism.\nNamed anchors work in v0.6.2 and earlier, but there is a minor issue you have to work around. In those versions named anchors are removed if they're empty.\nSo instead of something like:\n<p><a href=\"#ch2\">Chapter 2</a></p>\n<!-- lots of content -->\n<a name=\"ch2\"></a>\n<h2>Chapter 2</h2>\nyou'll need to do this:\n<p><a href=\"#ch2\">Chapter 2</a></p>\n<!-- lots of content -->\n<h2><a name=\"ch2\">Chapter 2</a></h2>\n. The bug in 0.7.0 beta was due to the change introduced by df0bc000c5e0ecaf33ba1e3eb234632f427909cc, which I have fixed.\nStill, the anchor linking could use a bit more work. I'll leave this open as a reminder to address the issue around empty named anchors elements and lack of support for ID linking. We should also try to better target the PDF action that takes you to the anchor.\n. @u01jmg3 seems to be working ok. Do you have a sample HTML document and the resulting PDF? Are you running the final 0.7.0 release?\n. No worries, glad it worked out.\n. How did you get dompdf? If you're not using composer we recommend a packaged release. The dompdf source from github does not include any external dependencies.\nRelated: you only need to use the dompdf/autoload.inc.php file if you're using the packaged release. If you're using composer just use its autoloader.\n. Correct!\nI thought that had already been fixed :/\n. @preetamverma128 dompdf_config.inc.php is no longer part of Dompdf as of version 0.7.0. Please check out the readme and the usage page on the wiki. If you're still having issues you should probably head over to the support forum to discuss the problem.. @sudhi112 we would need more information about the error, Dompdf version, how your system is configured ...\nAlso, probably should open a new issue or (preferably) head over to the support forum.. And you included a unit test ... :trophy: \n. It seems like this would be an appropriate header for the application to set rather than dompdf. If you know the PDF document you do not want indexed you can just add header('X-Robots-Tag: noindex'); to your script. If you do not know in advance you could use the DOMDocument, something like:\nphp\n$dom = $dompdf->getDom();\n$elements = $dom->getElementsByTagName('meta');\nforeach ($elements as $element) {\n  if ($element->getAttribute('name') == 'robots' && $element->getAttribute('content') == 'noindex') {\n    header('X-Robots-Tag: noindex');\n  }\n}\nI'll leave this now for additional discussion. I don't know off the top of my head if there's a similar metadata entry in the PDF spec.\n. If you're using dompdf 0.7.0 dompdf_config.inc.php is no longer used. We recommend using Composer and the Composer autoloader. Otherwise you should download a packaged release, which includes everything you need.\nThe project's readme has all the info you need to get started.\nRelated to #1150.\n. Your HTML structure needs some work. dompdf can be finicky and a bad HTML structure can cause unexpected issues. Try running your HTML through a validator. You might also enable the HTML5 Parser (which can help correct some structural issues) by calling $dompdf->set_option('isHtml5ParserEnabled', true); before you render the document.\n. More than likely an IMagick (since it's disabled in the second configuration). Also see #432, which would indicate that this isn't an entirely new problem. Can you upgrade ImageMagick?\n. So are your two configurations on separate servers (I was thinking it was different configurations on the same server)? Could maybe be a GD problem, then? It'll be difficult to resolve unless we can duplicate the issue. Can you upload the image causing problems?\n. I'm able to render those images correctly.\nFor reference the relevant version info on my system is:\n- PHP: 5.4.42\n- GD: 2.1.0\n- libPNG: 1.2.46\n- IMagick: 3.1.0RC2\n- ImageMagick: 6.6.9-7 2014-03-06 Q16\n. Closing due to lack of follow-up.. I'm not seeing a similar issue using just http://. Without more testing I couldn't say if the issue were due to the way dompdf handles URLs or if there's an issue with the way PHP fetches https:// content from non-standard ports.\nWhich version of dompdf and PHP are you using?\n. Yeah, I think it's ok now. Could have been broken before but hard to say without more detail. If anyone happens to find a breaking case feel free to update this issue.. Can you share an example of the URL string you're using? I've not been able to reproduce the issue.. I'm not entirely sure. The method exists and so you shouldn't be getting that error. There have been cases where a file was mangled during installation (such as from a bad ZIP or file extraction). First thing to try would be to download a fresh copy and see if that helps.\n. How did you download? Did the issue show up after an update? Any other changes to you system?\nTry clearing out the font metrics cache files (*.afm.php) in your font cache directory (the font directory by default).\n. Very nice!\nThe changes do not appear to be so complex that it will be a problem to review as a single commit.\n. Good catch! We won't be pushing any more updates to the 0.6.x code base, but 0.7.0 is just about ready to release.\n. @ADmad no worries, we all have days like that.\n. dompdf doesn't have exactly that functionality, but if what you want is to place text at a particular position on a page you can use the Canvas::text method. \nHere's how you would use the method directly in v0.7.0:\nphp\n$dompdf = new Dompdf();\n$dompdf->load_html(''); // empty to create blank page\n$dompdf->render();\n$font = $dompdf->getFontMetrics()->getFont('DejaVu Sans', 'normal');\n$dompdf->getCanvas()->text(56, 20, 'text', $font, 12);\nBecause of the way document are rendered at this time you'll need to render the document first, which can present some issues related to placement. Typically you would work around this using embedded script or (preferably) page scripts.\n. It's pretty similar, but the FontMetrics class is static:\n$dompdf = new DOMPDF();\n$dompdf->load_html(''); // empty to create blank page\n$dompdf->render();\n$font = FontMetrics::get_font('DejaVu Sans', 'normal');\n$dompdf->get_canvas()->text(56, 20, 'text', $font, 12);\nFYI, if you don't need the HTML/CSS rendering capabilities of dompdf (i.e. you just want to manually craft the PDF) you might consider using the CPDF class directly instead of going through dompdf.\n. The CPDF library used by dompdf is in the source, you can find it here: https://github.com/dompdf/dompdf/blob/master/lib/Cpdf.php.\nWe don't really have any documentation for it at this time. CPDF was originally created by a third-party but the related website is no longer available. You can find the original documentation on archive.org.\nThere also appears to be a related project, but I don't know anything about it beyond the fact that it's based on the same library. The documentation on that site related to the CPDF class is (probably) still relevant.\n. We've talked about splitting off CPDF into it's own project. I think it's likely to happen at some point but it probably won't be until some of the larger issues with dompdf are settled. As far as documentation ... that's a more difficult question. I think for now the best option is to use the R&OS documentation.\n. You should absolutely not use utf8_decode() ... it'll completely destroy any non iso-8859 characters.\nHave you read over the Unicode How-To?\nAt the very least you should use a font that supports your characters:\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<title>Creator Supporter List</title>\n<style>\n  * { font-family: DejaVu Sans, sans-serif; }\n</style>\n</head>\n<body>\n<p >\n<h4>Supporter List</h4>\n</p>\n<p >\n<h4>\u064a\u0628\u0634\u0633\u064a\u0628 \u064a\u062a\u0628\u062a \u0628\u0644\u0627 \u0628\u0644\u0627 \u0628\u064a\u0644</h4>\n</p>\n</body>\n</html>\nThat being said there are still some issues to work out, especially around compound characters and RTL directionality.\n(ref #712)\n. @shadoWalker89 nobody has had a chance to investigate this further. I don't know about \"soon\" but we will look into fixing the issue.\n. See #1124 (specifically this comment. The issue was fixed by commit 8658648502acdc45e93d6e11f9f906ded5224aba.\nTemporary fix is to make PHP internal encoding UTF8. Add mb_internal_encoding('UTF-8'); somewhere before you use dompdf.\n. Can you post some sample HTML? I believe this should be addressed by commit 003cea083c2fc1416c795fe69dae5aa78d6c9421 (ref #1159).\n. This is addressed in the latest version:\n\n. Wow, yeah. That's not right. The issue with the odd spacing is cleared up, but the justified text is no longer justified. I think it's probably an issue with how spacing adjustments are defined in PDF documents. We'll fix that up before release.\n. OK, so the broken spacing is fixed but the alignment on justified text is still off.\n\n. Still not great but the changes in commit 311e856 should help with the alignment issues.. Do you have some sample HTML causing the issue? You mentioned tables so maybe related to #98?\n. You can use my one-time upload page:\nhttp://eclecticgeek.com/dompdf/upload/\nPassword: **\n. Looks like you're running into issue #98. In the sample you uploaded you have a container table around the content. Even if you're breaking pages between tables elsewhere this container table will cause an infinite loop. This container doesn't appear to be doing anything beyond adding some padding to the content, which you could easily do using a DIV element.\n. Glad you were able to work around the issue. Thanks for following up.\n. We'll address this in the original issue.\n. dompdf is unable to parse JavaScript, it is solely a HTML/CSS rendering library. if you need JavaScript for your page you'll have to use a headless browser like PhantomJS.\n. This is a known issue (see #1132), but so far we haven't been able to determine a cause. So far as I can tell that should work.\nFor now you can use the following command to get the latest beta:\ncomposer require dompdf/dompdf:v0.7.0-beta3\nBecause we're about to release the final 0.7.0 I don't expect we'll try to work out what's going on.\n. Using v0.7.0? It could be related to issue #1168.\n. Thanks for the follow-up. Looks like we'll need to catch for that possibility when determining the appropriate spacing.\n. Please read through the Unicode How-To. When using the core fonts (Times, Helvetica, Courier) you only have access to characters represented by Windows ANSI encoding. For anything else you have to supply your own font that supports that character and use an appropriate encoding for your HTML.\nLuckily that specific character is supported by dompdf using the included DejaVu fonts. Try the following:\n<p style=\"font-family: DejaVu Sans, sans-serif;\">\u20b9</p>\n. Yes it does. Your dimensions are extremely small. The dimensions for the size array are in PT, with PDF resolution set to 72 PPI (PT per inch). So your page size is defined as 1in by 3/4in. If that's actually the size you want you'll need to remove the margins from the page which are set to 1.2cm, or roughly .5in. That means the page margins are large enough that they'll cause paging all by themselves.\nI'd suggest at least getting rid of the margins:\n<html>\n    <head>\n        <style>\n            @page {\n                size: 72.20pt 50.70pt;\n                margin: 0px;\n            }\n            body { margin: 0px; padding: 0px; }\n        </style>\n    </head>\n    <body>\n        <p>Joe Cool</p>\n    </body>\n</html>\nProbably related to #323, among others. Our catch for infinite-paged content needs a bit more work.\n. Which version of dompdf? Looks like you're using a fairly recent copy since the alternate file naming convention is used.\nIs the pdf-generating script available online somewhere so we can take a look at what's being sent to the client?\n. OK. I'll see if I can set up a test environment to duplicate the issue.\n. @gjones604 this looks to possibly be a separate issue, you might try explicitly halting execution after streaming the PDF by calling exit;. Also might be worthwhile to include the file extension, though I can't imagine it would make a difference.\n$html = '.... lots of stuf here .... ';\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->set_paper(\"letter\", \"portrait\");\n$dompdf->render();\n$dompdf->stream('Stuff.pdf');\nexit;\n. @GiacomoK FYI the filename issue is because of some additions we made to provide a fallback for file names that are UTF8 encoded (e.g. $dompdf->stream('\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.pdf');), see Cpdf#3525.\nIf you don't plan on using any characters outside iso-8858-1 for the file name you could replace that header with the following:\nheader(\"Content-Disposition: $attachment; filename=\\\"$fileName\\\"\");\n(which is what we had before the addition of a fallback).\nI wonder if just adding back in the quotation marks would address the issue. If you are able to test at all that would be helpful. Also might be useful just to check if the fallback and filename are the same and, if they are, leave out the fallback.\nI'm still not sure why you see nothing at all. If you haven't updated to the final 0.7.0 release you might try that and see if it helps.\n. @gjones604 the only SSL-related info I see in the issue tracker are related to IE8, except for one related to an apache configuration. I don't really have any insight into what's going on. It seems like apache isn't sensing the end of processing of the file and so never sends down any content. If you have output buffering on you might try adding ob_end_flush(); before the exit; statement.\n. I tweaked the code that generates the filename header when streaming the output. Anyone have time to test?. Please post back here if there are still problems.. There's a good chance PHP threw a notice that got caught in the PDF content stream. Try opening your PDF in a text editor, the notices usually wind up above the PDF source.\n. OK, yeah. There does appear to be an issue here. The font reference is wrong,  /BaseFont /dompdf/lib/fonts/Times-Roman should be /BaseFont /Times-Roman. After fixing that line the PDF displayed as expected for me.\nLooks like you're using the latest master. How did you get your copy? Any details on your system specs? Is this an upgrade or fresh copy of dompdf?\n(I haven't had a chance to look at #1179 further yet.)\n. @topher00 thanks for the follow-up. I'll take a closer look soon.\n. The problem was an issue with platform-specific directory separators (DS). We tried to improve DS handling with commit adf81af61c89f0be9c091e905ca7c6f1f2398271, but that only exposed further issues. I'm trying a different solution ... hopefully it will prove more robust.\n. Have you read through #675? Because Google uses numeric font weights dompdf is unable to parse the font declaration correctly. Probably the best solution for now would be to download the fonts so you can use the named font weights in the @font-face declaration.\n. It's possible the changes made to address #1178 may have addressed this issue (particularly if you are on a Windows system). If you are able to test with the latest code that would be most helpful.\n. @summit-web what's your HTML/CSS look like? Using the TTF version of the font?\n. Dompdf should be fed the bold version of the font by Google if it exists. But if you grab the download from Google Fonts it should give the the TTF files.\nFYI, you can get the HTML that dompdf is parsing by calling $dompdf->output_html(). The source PHP usually isn't all that helpful for figuring out HTML rendering issues.\n. Followed up on the support group post: https://groups.google.com/d/topic/dompdf/86ABdXdZAM0/discussion\n. dompdf hasn't been updated along-side PDFLib and we're quite a few versions behind. We'll see if we can update for the newer version in the near future.\nIn the meantime I'll update the documentation to indicate the supported release of PDFLib before the final 0.7.0 release.\n. This method looks to have been deprecated with PDFLib 9.. Do you have a code sample? Is DOMPDF_ENABLE_REMOTE set to true?\n. It could be that dompdf has the wrong URI for the CSS file. It depends on how you're loading your HTML document and how the CSS file is referenced.\n. Thanks for the update. Were the other changes you had previously committed just the automated fixes?\n. Feel free to work on it more. I'm not opposed to you pushing more commits our way related to these changes. I'm trying to make sure the master is in good shape for the 0.7.0 release. I'll probably pull this in to develop after that.\n. Can you provide a full HTML example? Also, which version of dompdf are you using?\n. Confirmed with 0.6.2 and 0.7.0.\n. Not until after the 0.7.0 release. I can't say when, exactly, but I'll add it to the 0.7.1 milestone. I want to keep the 0.7.1 development period shorter so hopefully sooner rather than later.\n. I believe the changes made in the commit above sufficiently address the issue you encountered. If you're still working on this and have time to test that would be appreciated.. Which version of dompdf are you using? This will work with the latest code from the master branch but not necessarily with any of the current betas. The final 0.7.0 should be ready soon, or you can grab a nightly.\n. This is addressed by commit eaa6b4f3cb9a779bd9f8ead71bd30427f8e863e1 for the upcoming 0.7.0 release.\n. To create a header/footer you use fixed position elements. These will appear on every page at the specified position. There's a bit of a quirk in how dompdf parses documents that results in elements appearing on the page on which they're first encountered, so you'll want to put any header/footer content at the top of the document. Also, the header and footer are positioned based on the body element, so to prevent them from overlapping your content you should add extra margin to the page and position the elements into the margin.\nSomething like the following:\n<html>\n<head>\n  <style>\n    @page { margin: 100px 25px; }\n    header { position: fixed; top: -60px; left: 0px; right: 0px; background-color: lightblue; height: 50px; }\n    footer { position: fixed; bottom: -60px; left: 0px; right: 0px; background-color: lightblue; height: 50px; }\n    p { page-break-after: always; }\n    p:last-child { page-break-after: never; }\n  </style>\n</head>\n<body>\n  <header>header on each page</header>\n  <footer>footer on each page</footer>\n  <main>\n    <p>page1</p>\n    <p>page2></p>\n  </main>\n</body>\n</html>\n. @Tapulator not in dompdf. Content is placed relative to the content area of the page, i.e. the body element. Since the page margins are outside the body element you want to push the header/footer into this space. bottom positioning indicates how far up from the bottom of the containing box you want to be. So using negative margins will shift the content down.\nYou can see this by making the body element visible (e.g. give it a border ... body { border: 1px solid red;}).\nWhere this would be a problem is if you had no page margins. Because then the header/footer would be pushed outside the visible page area.\n. @MunkelTrogg this is a little bit of a late response to your original question, and I see you found a solution, but maybe still helpful. I think maybe you're running into an issue with positioned elements contained in other elements. It's not ideal structurally, but I believe you just need to place your header outside the section so that it will render correctly.\nAlso, right now dompdf renders fixed-position content starting on the page on which it's encountered. In the future that will likely change, though I'm hoping at the same time we'll add named page support (I think that's what it's called) with some custom enhancements to better define when certain content should display.\n@cojocaru3 there's not an easy way of doing this right now. If you can use the merge method suggestions by MunkelTrogg that would work best.. @lalynescobal please open a new issue. You'll have to provide detail before I can even begin to guess what's going on.. I wonder if the changes in commit af914c2cdcaea0c4b3e0efed3354f58caecf13ba would address your issue? Still, I don't see any reason not to make the highlighted changes.\n. There isn't really a way around this unless you know that one of the columns will always be shorter than the page height. Otherwise you're bumping up against a quirk in the way dompdf parses documents. If you want to continue using dompdf your best bet would be to generate the two columns in separate documents and merge them using something like fpdi.\n. I don't have a good work-around at this time. If you can post a sample of the type of content you're working with we can take a closer look and see if there's another way to achieve the desired results.\n. @marrch-caat problem is not addressed in the final 0.7.0 release. It will require a significant change to how dompdf parses documents, but it is one we are considering using to help deal with other issues.\n. @marrch-caat I'll try to get back to you this week on what's possible, not possible.\n. @marrch-caat typically what I would suggest for a multi-column layout would be to render the two columns separately in separate documents then use something like FPDI to merge them. The problem with your document in particular is that content in one column lines up with content in the other (i.e. the content in each column is not independent of each other).\nThe sample you gave has the left column significantly shorter than the right. In that case I would actually style the document more like the following (using 0.7.0):\n<style>\n    .BlankResumePrint_row {\n        position: relative;\n        width: 100%;\n    }\n    .BlankResumePrint_row_left {\n        display: block;\n        width: 20%;\n        margin-right: -20%;\n        float: left;\n        page-break-inside: avoid;\n    }\n    .BlankResumePrint_row_right {\n        display: block;\n        font-size: 13px;\n        margin-left: 20%;\n        padding-left: 12px;\n        width: 80%;\n    }\n</style>\nThe results with that styling are not ideal, but they are acceptable.\nReally, if you can, I would suggest using a headless browser like PhantomJS. I hate to see you move away from dompdf but I'm not sure yet when we'll be able to resolve this issue. Probably not with 0.7.1.\n. The margin-right styling is a quirk of dompdf. Most browsers will place floated elements inside the margin of an element without affecting the content unless the float width is larger than the margin. Dompdf adds the float element width to the margin, displacing content next to it. Adding negative space equal to the adjacent element's margin negates this displacement.\nI haven't fully tested across browsers, but I believe they'll just ignore the negative margin on the floated element.\n. I haven't had a chance to take a closer look yet. If you add clear: both; to the .BlankResumePrint_row styling does that help?\n. Our :before and :after support still needs a bit of work. For the most part the layout on these elements doesn't work quite as well as it needs to. Relating to your particular layout, adding the clear:both; declaration to the :after pseudo-element doesn't have any affect.\nI found that just putting the clear declaration on the row itself works:\n.BlankResumePrint_row:after {\n  display: block;\n  height: 1px;\n  clear: both;\n  background-color: green;\n}\n. @marrch-caat not for this issue, not yet.. @marrch-caat not for this issue, not yet.. @wardjk you are correct, scaling occurs after the page layout is complete. But more importantly scaling only affect the visual appearance of the element, not it's layout on the page.\nFrom the W3C Transform spec:\n\nNote: Transformations do affect the visual layout on the canvas, but have no affect on the CSS layout itself.\n. I'm hoping by the end of the week. Since putting the code on the master branch a few issues have come up that have delayed release, but I think we've caught up with those. I have one last PR to review and then put together the download.\n. The new release is now up.\n. Can you share a sample of the HTML you are rendering that causes the warning?\n. The sample is still a bit mussed ... I saw a few missing </td> tags. But that's just FYI because even after cleaning up the table I get that warning.\n\nLooks to be triggered by the bootstrap styling applied to the table, but I'd have to dig a little deeper to see what, exactly, is the cause.\nref #631 \n. Have you tried modifying the memory_limit PHP setting?\n. Yes, should be. Do you have a sample of the HTML that's causing problems? You said it fails to render, but you didn't state whether you receive an error, an empty PDF, or if the script just stops running.\n. It's a bit slow to render (about 20 seconds), but my system can handle that document. Which version of dompdf are you using?\n500 error typically indicates that PHP had a problem. But if you're not actually seeing the error from PHP then you should either a) enable error logging in PHP and check the log file; or b) temporarily set display_errors to true so you can see the error in your browser.\n. That one increased the render time a bit, but the document does still render. It seems likely to be a resource (time or memory) exhaustion issue. It's hard to say which without seeing what exactly is causing the 500 error.\nAre you on shared hosting, VPS, self-hosted?\n. Thanks for the follow up. I'd like to see us add an option for low-memory installations, which would probably help in a circumstance like this. Though likely at the cost of render time.\n. I don't see why not. We'll take a look for 0.7.1.\n. Have you found a resolution for your problem? Was this also posted to StackOverflow (it looks familiar)?\n. Ok, thanks for the update. I remember seeing your post, but hadn't yet had a chance to respond. I think your issues were solvable with dompdf (if I recall correctly), but if you've already found a resolution with another library rock on.\n. Could be a read/write problem to the temp directory. Or possibly an issue with the image type (possibly an issue with GD).\n. Definitely the problem. It's a bit of a hack, but you can try modifying the tempnam() calls to specify where to write the files, e.g. something like tempnam(sys_get_temp_dir(), \"svg\").\nYou also might post a bug report to the php-svg-lib project. This should be updated to use sys_get_temp_dir() based on comments in the PHP manual.\n. Thanks, should be an easy enough fix. I'll leave this open for now as a reminder to double-check dompdf for any similar tempnam uses.\n. After a quick review I don't believe we're doing this anywhere.. It's possible that the issue was addressed by the changes made to better support nth-child/nth-of-type (#543). At least, my limited testing appears to indicate as much.\nAre you able to check your document against the latest develop branch to see if it work as expected? If you still see issues, can you supply some sample HTML?. This should be ok with the forthcoming 0.7.1 release.. This is probably due to the attempted fix for the cross-cut problem from commit f92c8b83f877cd35c87beea47f77530b5b9e7718.\n. If you can't wait for 0.7.1 the fix required a very minor adjustment to the code (thanks @scotteh).\nModify CPDF line 3281 to replace the - with a +:\n$this->addContent(sprintf(\"\\n%.3F %.3F l \", $x1, $y1 + $rBL));\n. This is probably not an issue with dompdf specifically but a server configuration problem where memory exhaustion is happening outside dompdf (e.g. see this question on SO). I don't know that we can do anything about that, per se, unless you have evidence that it was specifically a dompdf problem.\nI think it would be useful to add a low-memory-profile execution mode, but I'm not sure when this will happen. Not to mention there will likely be a potentially significant trade-off in rendering time for large document.\n. If you can track down the source of the issue and it's something we can catch then throwing an exception would definitely be useful. What I mean to point out in my previous comment is that I suspect that no catchable exception is thrown, e.g. PHP ran until the host process (such as apache) ran out of memory or otherwise crashed. In this situation there's not really an exception to catch.\nHowever, if there's something in the crash that points to a catchable exception then definitely we should handle it.\n. I'd have to review the relevant code but I believe there is some amount of processing of images right now for anything other than JPG files. I think it would be worthwhile to investigate how we might improve high-quality image handling.\n. Glad that worked out, thanks for the confirmation. I totally agree that we should be able to do a better job of passing through the original image, or at least embedding a version at the same quality level as the original.\n. Did you resolve the issue?\n. OK. If you want to try to work it out let me know. That's an ... odd ... issue.\n. We're aware of the issue, e.g. see #1056. It's something we hope to address for 0.7.1.\n. This is somewhat related to #98, but mainly is due to how dompdf pages elements. An element that bumps up against the borders of a page can cause paging even if it should, technically, be drawn on the current page. We need to do a bit of work to better support boundary collision detection. I think, also, that supporting the box-sizing CSS declaration would help (#669).\nIn the meantime the workaround is to trial-and-error tweak the height settings to the point where paging does not happen. Not ideal, unfortunately.\n. Post-0.5.x we stopped bundling a change log with the project. The release page covers the most important changes.\nIf you're using Composer to install this shouldn't be a problem. If you're downloading a packaged release, we didn't include version information until the 0.7.0. So with the packages release:\n- presence of ChangeLog file indicates 0.5.2 or earlier\n- presence of VERSION file indicates 0.7.0 or later (the file contains version information)\n- if neither file is present then you're using a release in the 0.6.x family\n. What have you tried? Some sample HTML/CSS would help determine the source of your problem.\n. $fontfile is the path to the TTF? In addition you need to add a format attribute to the source:\n@font-face {\n  font-family: 'Helvetica';\n  font-weight: normal;\n  font-style: normal;\n  font-variant: normal;\n  src: url('<?php echo $fontfile; ?>') format(\"truetype\");\n}\n. Something like this should work\n```\n\n\n\n  @font-face {\n    font-family: 'Elegance';\n    font-weight: normal;\n    font-style: normal;\n    font-variant: normal;\n    src: url(\"http://eclecticgeek.com/dompdf/fonts/Elegance.ttf\") format(\"truetype\");\n  }\n  body {\n    font-family: Elegance, sans-serif;\n  }\n  \n\n\nhello world\n\n\n``\n. A few other things to check:\n1. Are you using the latest version of dompdf (currently 0.7.0)?\n2. Does dompdf have read/write access to the temporary directory (DOMPDF_TEMP_DIRin 0.6.2 or earlier,$dompdf->set_option('temp_dir', '')in 0.7.0 or newer)?\n3. Are you calling both$dompdf->output()and$dompdf->stream()` in the same script? This can break font rendering.\nMight help to see your dompdf-related code.\n. @aleksandar-irvas perhaps your sample was just for demonstration, if that's the case maybe my comments are not on point. If so follow up with a bit more information. First, a few things I noticed about your sample code:\n1. You don't need to enable javascript support. That's actually for inserting JS into the rendered PDF.\n2. You don't need to enable PHP support. That's only needed if you're running embedded script (e.g. in the body of the HTML you have some php surrounded by <script type=\"text/php\">...</script>).\n3. The base path works a bit differently from the HTML meta tag. Pass in only a the directory path.\nSecond, since you're using a DejaVu font you don't need to use an @font-face declaration. The @font-face declaration is only to load a font that dompdf can then use when rendering your document. To actually use the font you would specify it in a font-family declaration (e.g. body { font-family: DejaVu Serif, serif; }).\n. @aleksandar-irvas I would check that dompdf has read/write access to the temp directory, font directory, and font cache directory.\n. @cocomo just FYI instead of manually setting up the font you can use an @font-face declaration or the load_font.php script from the utils projects.\nThat being said, You do need a font metrics file. AFM is for fonts that use Windows ANSI encoding, UFM is for fonts that use Unicode encoding. For all intents and purposes Dompdf uses only UFM. You can get the font metrics using php-font-lib or some other font processing tool, but probably the easiest way to get everything set up is to use one of the methods I mentioned above.\n. Unfortunately Dompdf doesn't currently support numeric weights (see #675). The work around would be, as you stated, to define each weight as a separate family in your stylesheet.\n. @lippoliv do you have a sample of the HTML?\n. Not pretty is ok ... certainly better for tracking down possible issues ;)\n. I don't see anything out of the ordinary, and a quick test seems to work. If you remove absolute positioning does that help? What if you set gosmick-sans globally in your stylesheet, e.g. * { font-family: gosmick-sans, sans-serif; }?\n. Nice. I haven't used laravel-dompdf much but it seems to be quite popular. Glad to know it makes font installation easy.\n. @kasra-appscore we can discuss your issue over on the support forum. Remember to provide details on what you've tried and the results.. Something must have changed in the CSS parsing after the release you're using. Dompdf versions 0.6.2 and 0.7.0 appear to have the same issue. If you tweak your CSS by removing the space before and after the URL it should work fine:\nbody { background-image: url(<?php echo $bg_url; ?>); background-repeat: no-repeat; background-position: center; }\n. :/ ... those are the worst problems.\nFirst place I'd check are read/write permissions on the temporary directory, followed by the URL used to access the file (by absolute do you mean it includes the domain?).\n. If you want to try and move on by using an older version I'd suggest 0.6.2. It has a number of security fixes. I'm not sure why CSS backgrounds wouldn't work. You could try a fixed-position element with a negative z-index, but you'd have to manually tweak the image positioning because of some vertical alignment issues.\n```\n\n\n\n\nHello world.\n\n``\n. The zero-byte image could be a write issue or just a left-over fromunlinking the file. It might help to see the error being thrown, try setting the global variables$_dompdf_show_warnings = true;and$_dompdf_warnings = [];` before using dompdf.\nSo how are you loading your HTML document and how are you referencing the image?\n. Ah, yes, sorry. I sometimes forget to check that setting. There are ways to work around the issue if you have cURL enabled. You might try the modification in #1068.\n. @paddelboot you might look at the discussion in #1233, could be helpful. How are you loading the document? What does the HTML document look like after the PHP code has been parsed?\n. If you're loading a file from the local file system or using the loadHtml method all paths that do not include a protocol+domain are relative to the file system not the site. So a path beginning with a \"/\" indicates the file system root.\n. I believe the issues here are covered in the current stable code. If not post back and we'll take another look.. Are you copying your local copy of Dompdf to your server? If so it could be a path issue in the dompdf_font_family_cache.php file in your defined font directory.\nI'll have to look at the default font issue. We've had problems in the past, but I thought they were fixed. Plus I'm not sure why the behavior would be different local vs remote.\n. @Mat-Moo thanks for the follow-up. @font-face should work pretty much the same, but we'll take a look and see if there are any issues we need to address. If you are able to find any relevant information (PHP warnings for example) let us know.\n. The main file that would affect whether or not fonts are rendered is the dompdf_font_family_cache.php file. There are some other files related to cached font metrics, but I wouldn't expect those to cause any problems. You can specify the location of installed fonts and the metrics cache by changing the value of the fontDir and fontCache settings.\n. There's a good chance the last few commits on the develop branch address at least some of the cross-platform issues. It would probably be useful to document exactly how to \"reset\" a dompdf installation to avoid font family cache issues.\n. Is Verdana a font  you loaded into dompdf? If not you'll need to load it or another font that supports your character set (see the Unicode How-To). If the font hasn't been loaded into dompdf it will use one of the fallback fonts (sans-serif in your case). Sans-serif is a default font family encoded to Windows-1252. This encoding does support some of the characters you specified but not all of them, thus the inconsistent output.\nIf you're using 0.6.0 or newer then you can replace \"Verdana\" with \"DejaVu Sans\", which has been included to provide some measure expanded character support.\n. I think maybe there's something odd with your character encoding. When I copy/paste the text from your input I get the same, but if I type the characters directly it looks fine. If I copy the \u00d3 from your text and search in the DejaVu Sans sample PDF the \u00d9 is highlighted.\nIn what encoding is your PHP file? What about the database tables? What character set is being used when communicating with the database?\n. I don't think it's ignored, but the default page size is \"letter\" which is pretty close in dimensions to the \"a4\" size. One thing to keep in mind is that dompdf sizes elements with box-sizing: content-box (see #669). So if you want to exactly size the container to your page you'll have to subtract margin and padding from the width.\n. Box sizing determines how a CSS-compliant user agent determines the width of a block element. When set to \"content-box\" a defined width defines the content box width. Margin and padding are then added to that to determine the actual width of the element. When set to \"border-box\" a defined width defines the total width of the element, margin and padding included.\nTruth be told, you can address the positioning issue by just removing the width/height from the body styling. It's unnecessary.\nAs for the sizing, try tweaking the dompdf dpi. This affects the rendering of anything defined using px (this includes the image, which does not have defined dimensions). As for everything defined using em try tweaking the font size.\n. You're welcome. It is important to keep in mind that there may be rendering differences between a web browser and dompdf.\nFYI, the debugger samples get purged after a period of time (I believe they start being eligible for cleaning up after 3 months). If you want them to remain available for reference you should be able to attach them as HTML documents.\n. We current only support a small subset of URIs. We can take a look at what it would take to add support for additional ones. You can try adding the \"tel:\" to the [build_url helper function]((https://github.com/dompdf/dompdf/blob/v0.7.0/src/Helpers.php#L64).\n. ack, forgot to reference this issue in the pushed commit message for 4914c05ced1218949dbafa6010279f829af8fc93\n. Typo is fixed by commit f54c2bec21993719063a9ed4dc09191215d33a88 (via #1216).\nThe variable name issue was fixed by #1217. I was apparently not paying attention. That should have been merged with develop not master. Thanks for pointing out the error.\n. @luigimannoni you are correct. At one point we had more documentation available, but since moving everything to github we have not yet re-created the API documentation. I'm not sure when we'll have that available, but feel free to ask questions on the support forum.\n. Interestingly, this does not happen if you have the HTML5 parser enabled since it deals with any potential issues in the document parsing. I usually have this enabled.. Ultimately I agree. We don't need the special encoding anymore. The main potential pain point is that if a user does not specify the encoding then DOMDocument will assume it to be iso-8859-1. I tried to modify the logic such that the existing encoding is detected well enough that we can always convert to UTF-8 if the document is not already using that encoding.\nThe down side to making this change is that it's hard to test all the ways somebody could mess up their document encoding. Hopefully the eventual integration of an improved HTML5 parser will make the encoding-related logic unnecessary.. Tell me about it!. Line 213 of Dompdf\\Adapter\\PDFLib should read:\nfamilies = $dompdf->getFontMetrics()->getFontFamilies();\n. The commit I just added to the develop branch should address this issue. I fixed a few issues based on testing with PDFLib Lite 7.\n. It's a problem, yes. There's quite a bit we can do to improve table handling. No timeline on a lot of these issues yet.\n. @Neograph734 thanks for the additional info. dompdf should stop after paging once, but that code may be buggy. We also have a max-paging check but I think it needs a bit more work (besides the fact that it wouldn't look right if you had a few hundred blank pages in your document).\nThen there's also this: I don't believe page break declarations attached to table elements are supported.\n. That sounds like a reasonable estimation of the problem. I'm not sure that there's a good means of getting a handle on that particular issue since you're manually laying out the text.\nFor that particular sample a solution on our part would be to support the page count via CSS. Then you wouldn't have to manually lay out the content.\n. Unfortunately not at this time.\n. Currently inline SVG is not supported.\n. I have an idea for a way to make this work, but I don't know if it'll make it into 0.7.1. You can follow #320 to keep track of progress.\n. The most relevant issue I've seen is due to a problem with GMagick/IMagick PHP module support. Do you have either of those modules enabled?\n. I think maybe #920 is the most recent relevant issue, though this goes back as far as #432. There are a few other issues as well. Took a while to track it down so the issues aren't all correlated.\nFYI, the quickest work around is to disable the library. But if that's not possible you can modify the conditionals that check for that extension to always be false in the Cpdf library.\n. You are correct, what I mean to say is that the fix proposed in 432 (adding a configurable option) is probably how we will address the issue until we figure out exactly what's going on. The option will be added to 0.7.1.\n. sorry ... booting to the next release. Merged a fix for IMagick issues in commit c68484c. If anyone can confirm the issue is resolved that would be great. The update will be included in 0.8.2.. Support for this feature is certainly possible, but we can't give a time frame for adding it. Making URLs clickable, however, should be easier to provide.\n. Can you provide more details?\n. This slipped by me, and I see some time has passed. Still need help?\n. Thank you for your addition. This was covered by PR #1215 and added to the develop branch by commit 08b395618a0774f6e8a19272d4d50eb8f9b0e6e0. It will be merged into the master branch when we're ready for the 0.7.1 beta.\n. Which version of dompdf are you using?\nThe relevant laravel issue references PhenX/php-font-lib#43 which may address your issue.\n. The issue is probably that v0.6.1 wasn't correctly limiting itself to the supported font formats  (currently just TTF). There are some other issues as well. You'll have to wait for 0.7.1 to get better support for Bootstrap fonts.\nRelevant to #860\n. The upcoming 0.7.1 release of dompdf should appropriately support the glyphicons font.. After you have rendered the document you can set restrictions on it using the Cpdf library. In 0.7.0, after calling the render method call the following:\n$dompdf->getCanvas()->get_cpdf()->setEncryption('', 'ownerpass', array());\nThe parameters of setEncryption are:\n| paramter | type | description |\n| --- | --- | --- |\n| 1 | string | user password (restrictions apply) |\n| 2 | string | owner password (unlocks document) |\n| 3 | array | strings indicating allowed actions when user password is supplied (e.g. print, copy). If the array is empty the user is limited to saving the document. |\nvia StackOverflow\n. I think this is an old issue we just haven't had a chance to review (#340 may be related).\n. Yes, sorry about that. I'll add this to the 0.7.2 milestone so we at least start looking at it.\n. @Morfik the issue around using embedded fonts with a protected document has not yet been addressed.. @zander009 more details? What version of dompdf? What password are you using? Sample of your code.\nProbably better to start a discussion on the support forum.. Referring to #1209 ...\nHow are you loading the image? If you are using $dompdf->loadHtml() or loading a local file using $dompdf->loadHtmlFile() then the image path will be based on the file system. Since your image path is absolute that means it will be looking at the root of the drive, which seems an unlikely location for your wp-content directory. You'll need to figure out a way to reference the path relative to the file creating the PDF document or use a URL that includes the site domain.\nIf you're using $dompdf->loadHtmlFile() and your file location includes a domain (e.g. http://example.com/pdf.html) the issue could be that dompdf does not have read/write access to the temporary directory.\n. My previous comment wasn't entirely accurate, I updated it.\n. Glad to hear it.\n. @inilabsn the answer depends on your problem. In this particular case the issue revolved around the external resource reference and how the HTML document was loaded. To work out your particular issue it's best to head over to the support forum and give as much detail as you can.\n. Makes sense. I hadn't yet reviewed it, but I was going to do some testing with various scenarios. Feel free to update with additional commits if you happen to work on this more.\n. I looked into this a bit more and decided to try a different adjustment to the code. We were already shifting the line boxes based on float so in commit 81e0416 I modified that code to take into account margins/padding in relation to the floated element.\n. Whoops ... had a minor arithmetic error in that last one. Updated in commit 9895c02\n. Sadly, few tests at all at this point.\n. No worries, I didn't take any offense. Always (always) glad to have community support/input. And thanks for the patch, I've already tagged it for inclusion in the next release.\n. Do you have a sample HTML document (including CSS)?\n. Yeah, I don't think we're quite there for parsing this type of document. PR #1234 (slated for inclusion in 0.7.1) may address some of the issues you're seeing.\nAlso see #859 and #849.\n. Unfortunately the page-break declarations (normally how you would do this) don't work too well with table elements right now. I can't really think of a great way to handle the setup. The best I can come up with off the top of my head is to used a fixed table layout and container table, e.g.:\n<table width=\"100%\">\n  <tr><td width=\"100%\">\n    <!-- content start -->\n      <table width=\"100%\">\n        <tr>\n          <td width=\"50%\">John D'oh</td><td width=\"25%\">a</td><td width=\"25%\">b</td>\n        </tr>\n        <tr>\n          <td>Comments</td><td colspan=\"2\">wat wat</td>\n        </tr>\n      </table>\n    </td></tr>\n  <!-- content end -->\n</table>\nRepeat that content block for each record. Because dompdf won't page a table row each content block will be paged as a whole.\n. If you carefully construct the table you should be able to get the headers to line up (should, but I haven't tried, so...). You just have to manually define the widths rather than rely on dompdf to calculate them based on the content. It's far from an ideal solution.\n. Hm. Not sure this is the best solution to the issue. Ideally the user will specify their font directory and font cache directory. I think moving forward it would be good to keep the dompdf space clean (especially if the install is via composer). I'm not sure, though, what would be the best solution. We could make these directories point to the temp directory, but that seems a bit hacky.\nMaybe displaying a message post-install about the need to specify these directories when using dompdf?\n. I'm not so much worries about the install process as what it would entail to add this kind of functionality. The settings are currently hard-coded into the Options class. That was done, partially, to make it feasible to remove the dompdf_config.inc.php file and the constants defined by it.\nWhat are you thoughts as to where these settings would be stored? A file that the Options class reference during instantiation? Modifying the class file directly? The former certainly makes more sense. If the file exists we could throw a warning about the missing settings and that defaults will be used.\nI would actually consider using the temp directory as the default if we have an install script and run-time warning. The main problem from using the temp directory would be that the user would experience a bit of a performance hit from having to parse the font files every time.\n. I wouldn't want to mess with the class file in order to avoid any potential issues with the modification. Using an external file to store local defaults should be fine, and is how we're handling the bundled fonts (see dompdf_font_family_cache.dist.php).\nI think making the default in the class use the temporary directory makes sense.\n. You're welcome to hack at it if you want. Just submit a PR when you're done and I'll review and make any changes I think might improve it.\n. dompdf limits loading files from the local file system to the path set in the chroot option (by default the dompdf install directory, ref).\nHowever, that's not what's causing your problem. You appear to be loading the HTML source instead of specifying the path to the HTML. Thus the reason you are seeing the HTML source in the permission denied error instead of a file path.\nHow are you using dompdf? You should probably be calling $pdf->loadHtml() rather than how you are currently doing it.\n. You should use this:\n```\n$html = file_get_contents(DIR . '/../../../vendor/dompdf/pdf_mail.html');\n$dompdf = new Dompdf();\n$dompdf->loadHtml($html);\n$dompdf->setBasePath('/../');\n$dompdf->setPaper('a4', 'portrait');\n$dompdf->render();\n```\nOr this:\n$dompdf = new Dompdf();\n$dompdf->loadHtmlFile(__DIR__ . '/../../../vendor/dompdf/pdf_mail.html');\n$dompdf->setBasePath('/../');\n$dompdf->setPaper('a4', 'portrait');\n$dompdf->render();\n. We used to use submodules, but it causes problems for some installations. We've switched to Composer for dependency management. Or a user can download a packaged release, which includes everything you need.\n. This is true for CSS3, but as you'll note on the project readme:\n\ndompdf is (mostly) a CSS 2.1 compliant HTML layout and rendering engine\n\nWe're slowly adding support for the CSS3 spec. This one should be easy enough to implement.\n. The wording is a bit confusing. The CSS3 spec defines break-*. CSS3 compliant user agents that also conform to CSS2 should alias the page-break-* properties. Dompdf is currently aiming for CSS2 compliance enhanced with CSS3 support.\nSo at some point we'll be CSS3 compliant and will definitely want to do this. I don't think it will have adverse affects to implement sooner rather than later. Especially if it requires little modification to the code.\n. You are correct. Chrome must be fixing up the stylesheet to CSS3 conformance rather than translate.\n. Right now this is not possible with dompdf.\n. @cjwotbot not yet. Dompdf supports rendering form fields as static content in the PDF but not for rendering fillable forms.. The color array should be in the range 0-1, not 0-255 (as is done in CSS).\n. The range for the RBG values when accessing the CPDF methods directly is a decmial ranging fro 0 to 1.\nThink of it as a percentage value in decimal form (e.g. 0.1 = 10%). To figure out the percentages for the web-oriented 0-255 RBG value just divide by 255. 40/255 ~ .16 so array(.16,.16,.16);\n. I really should be more careful. Thanks!\n. It depends on where you want to do this. @zagreusinoz provides an answer that works for standard page sizes. If you want a custom page size you can just provide the dimensions directly using the array syntax.\n$dompdf->setPaper(array(100,100,0,0));\nOr if you wanted to do it in your document:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    @page { size: 500pt 500pt; }\n  </style>\n</head>\n<body>\n  ...\n</body>\n</html>\nTo set margins you just add that to your page declaration:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    @page { size: 500pt 500pt; margin: 50px;  }\n    body { background-color: orange; }\n  </style>\n</head>\n<body>\n  ...\n</body>\n</html>\n(background color added for clarity)\n. @hassanazimi that's not really something dompdf is equipped to do, though I have worked out a method that may be sufficient for rendering content to a single page. See this SO post: http://stackoverflow.com/a/26771324/264628\n. @HKandulla didn't like the method I outlined in my linked answer?\nMaybe you could do it the way you want by wrapping the entire content of the HTML document in the first render in an absolutely positioned element. After the render is complete, if you could find the correct frame object attached to that element, you could query its line boxes to see what the position of the last line is.\nSomething like this for the HTML:\n<html>\n  <head>\n    <style>\n      #height-container { position: absolute; left: 0px; right: 0px; top: 0px; }\n    </style>\n  </head>\n  <body>\n    <div id=\"height-container\">\n      <!-- your HTML here -->\n    </div>\n  </body>\n</html>\nThen like this with the HTML:\n```\n<?php\n$dompdf = new Dompdf();\n$dompdf->loadHtm($html);\n$dompdf->render();\nfor ($i = 0; $i < \\Dompdf\\Frame::$ID_COUNTER; $i++) {\n  $frame = $dompdf->getTree()->get_frame($i);\n  if ($frame->get_node()->nodeName == \"div\" && $frame->get_node()->getAttribute(\"id\") == \"height-container\") {\n    $height = round(end($frame->get_decorator()->get_line_boxes())->y);\n    break;\n  }\n}\nunset($dompdf)\n$dompdf = new Dompdf();\n$dompdf->setPaper(array(0,0,612,$height));\n$dompdf->loadHtml($html);\n$dompdf->render();\n$dompdf->stream();\n?>\n```\nThe main thing you would need to figure out is how to modify the stylesheet to remove the styling on the #height-container for the second rendering.. #1116\n. The latter example is probably the PDF reader translating the URI-looking text into a link (some of them do that).\nWhich dompdf version specifically? I tested that text and did not have any issues, but I may be missing something. There have been a few bugs in the URL helpers (ref).\nAlso, what PDF viewer are you using.\n. Interesting. If you run into the problem again and can post the full document maybe we can track down the issue.\n. Relates to issue #1257. The issue was fixed by commit 74a9b6a.\nApologies, I forgot about this commit when I fixed up the helper usage.\n. Do you have some HTML we can use for testing?\n. This styling would be the cause:\nhtml{ margin-top: 0 !important; }\n. no worries, glad it was an easy fix\n. Seems to be the first-column width definition that's throwing things off. Taking out the width for the first column and the table widths are fine, but of course the first column then doesn't line up correctly. I think the issue is due to but in how dompdf calculated the width of the group of cells related to the colspaned cell in the first row.\n. You're not using embedded script correctly. Embedded script is designed to give you access to the underlying PDF rendering engine, not echo into the HTML stream. To print the current page number in the document you have to manually place it using the Canvas::text() or Canvas::page_text() method.\nAchieving correct text placement using this method can be difficult. Since all you need in the above sample is the current page you can just use CSS:\n<style>\n.footer .page-number:after { content: counter(page); }\n</style>\n<div class=\"footer fixed-section\">\n  <div class=\"left\">\n    <span class=\"report-time\">08/05/2016 09:43:06</span><br>\n    <span class=\"promo\">Generated by QuickEMR.com</span>\n  </div>\n  <div class=\"center\">\n    <span class=\"signature-warning\">Document Electronically Signed</span>\n  </div>\n  <div class=\"right\">\n    <span class=\"page-number\">Page </span>\n  </div>\n</div>\nHowever, if you also need the total number of pages you'll currently need to use embedded script.\n. Which version of dompdf? Do you have a sample of the HTML?\n. Latest being 0.7.0? I tested with your sample (duplicating row 2 to fill more than one page) and did not experience any issues in either landscape or portrait. Do you get any errors from PHP?\n. I dunno. I'm not seeing that in my test environment. Unless you have some odd data that's triggering issue #98 seeing some kind of error would help track down the issue.\n. Indeed there's still some work to be done related to vertical alignment. Relevant issues that I could find on a quick search were #672 and #923.\n. Have you checked out #1212?\n. I was mainly curious what your thoughts on it were since you had taken time to work on a similar issue. I appreciate the feedback (I haven't really looked at either PR in much detail yet). I leave it to you to decide if you want to rebase on top of that PR. If you have the time that would be wonderful.\nI actually plan to look at these two PRs in tandem to pull in to the code next, but because of my upcoming schedule I may not be able to give it the kind of time I prefer to give for reviewing PRs for a few weeks.\n. Which release of dompdf are you using?\n. OK, wonder if it has to do with the change to a helper function for file fetch. See commits c53dc98, 8a64c82, and 589ed86.\nTwo things:\n1. Is allow_url_fopen set to true\n2. It looks like I introduced a variable reference bug in 8a64c82\nI'll fix that bug then double-check that things are working as expected and push an update today.\n. No, thank you. Not many people are working off the develop branch, meaning mistakes like this take longer to catch. I appreciate you taking it for a spin.\nThe just-committed update should address the issue.\n. So far as I know it should. What kind of exception do you receive?\n. Were you able to resolve this issue?\n. This is likely an issue with dompdf. I'm not sure what's going on but it looks like dompdf is attempting to read info about the font before it has been loaded into CPDF. Or maybe an attempt was made to load the font but it could not be found.\n. That's a good point, though we'll have to ensure that the path is consistently generated. If the path is system-generated then it still matters if we're doing any kind of parsing.\n. @McGreeb I think your issue (original post) may be unrelated.\nThe issue brought up by @dylboy is probably different. I may go back and update our code to use / instead of DIRECTORY_SEPARATOR ... but it will require a bit of finesse to make sure all related code is looking for the correct thing (as mentioned, some parts of the code may be parsing the path string).\nBTW, which version of dompdf are you using?\n. Has anyone tried resetting their fonts? You do this by restoring dompdf/lib/fonts back to how it is in a fresh install. If you have also specified separate directories for the font directory and font cache directory you should clear those out.\n. Just wanted to make sure.\n. Maybe a system-related configuration issue around process isolation (e.g. PHP's safe mode). Any other errors logged by PHP or your web server software? Can you render a similar HTML file from the command line (if you have access)?\n. Oh, wait. I see. It looks like a path parsing issue. We've been working to address this in newer versions of dompdf. You might try tweaking your dompdf_font_family_cache manually so that the path delimeter is a \"/\" instead of a \"\\\".\n. Good lord I need to remember to re-read the thread next time. This was discussed earlier \ud83d\ude1e \n. To make sure you don't run into any issues yes, you would want to make all path delimiters match your system's default.\n. If you're using a custom font directory be sure to check the dompdf_font_family_cache.php file there as well.\n. That's it, but after you've used dompdf a file without the \".dist\" extension should also be present.\n. I hope to have fixes for this in the next version. In the meantime if you can grab a fresh copy of dompdf on your server rather than uploading the local copy you will hopefully avoid the problem.\n. oh ... kay. Not sure why you're experiencing this particular issue then. You've created the appropriate font storage directory for laravel?\n. I can't say for sure, haven't used Barry's package. But I have seen that brought up before (ref).\nHave you tried the latest from the develop branch to see if it helps?\n. @dylboy indeed it is ... must've slipped by without a notice :/\n. @vincentkedison the issue here was related to the path separator. I believe the latest version should sufficiently address that type of problem, but copying code between systems (or using some kind of continuous deployment from source) can cause this type of issue to rear up again. If you're not sure what's going on here or if this applies to you please start a thread on the support forum.. We do not have any functionality at present to take into account target. But also consider that this functionality did not exist for the PDF spec the CPDF library uses (1.3). I'm not sure if any later versions of the spec provide this type of functionality, but without built-in support it doesn't really matter.\nh/t to mozilla/pdf.js#3812\n. I don't think there's really a whole lot you can do at this time. At least, not with dompdf. We'll look into what's possible with newer versions of the PDF spec, but I can't give you a timeline on that.\nI don't know if this works at all. It doesn't in Firefox. But maybe you can get this to work using some reader-specific JS. Something like:\n<script type=\"text/javascript\">\n  app.openInPlace = false;\n  // or is it this.openInPlace?\n</script>\nThis would, of course, be viewer-dependent.\n. Do you know where page two starts? If so the easiest way to achieve this is for the page 1 header/footer to be an absolutely-positioned element. If you put the page 2+ header/footer after the page break it should only render from page 2 onwards.\nIf you don't you can still use the absolute/fixed combination, it just requires a bit more work to style things such that the page 2+ header/footer is not visible on the first page.\nI should note there's a good chance that in the future we may make a change such that positioned content will always be positioned from the first page. However, I hope that by then we can provide a more elegant solution for handling different headers/footers per page.\n. CPDF is the PDF rendering engine (where dompdf is the layout engine). It does have limitations, but it has a lot of functionality you can access directly. We haven't had a chance to re-generate that documentation. Though once we do it should be fairly straightforward since the documentation is just the output from PHPDocumentor.\nCPDF is a stand-alone library that we forked for use with dompdf. The original site where the code was released no longer exists, but the project appears to live on at rospdf/pdf-php. The documentation provides good info on the available functionality, though keep in mind two things: 1) we don't include the ezpdf class; 2) since we've forked the library the functionality may have changed somewhat.\nAlso relevant is #1220.\n. Sample HTML?\n. I'd tentatively say this is to be expected. The table doesn't actually end after the first page so there's no break at the bottom (see #640). I can't really say if the styling is correct without also seeing the relevant CSS.\n. Try something more like this for your PHP:\n$options = new \\Dompdf\\Options();\n$options->setIsPhpEnabled(true);\n$dompdf = new Dompdf($options);\n$dompdf->loadHtml($html);\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n$dompdf->stream();\nDompdf determines what to do with the embedded script when you render the document, so you'll want to set that option before you render.\n. Great! I'm going to leave this open for now to remind myself to add more documentation around embedded script.\n. How are you using dompdf? How is the eternal CSS referenced?\n. It's possible that dompdf just isn't finding the CSS. When using the load_html method paths that don't include a protocol+domain are relative on the local file system. If style.css is not in the same directory as the script running dompdf it won't be found. You can try setting the base path after loading the document.\n. That file is intended to be used only with the packaged version of dompdf that includes all the dependencies. I'll add a note to the file to make that clear.\nIf you're not using the packaged version we recommend using composer.\n. @Gnurps what file did you download? The packaged version can be found on releases page, dompdf_0-8-0.zip for example.. The clone button is to grab only the Dompdf source. When you do that you have to download the dependencies manually. On the main project page you'll see a link that says releases that takes you to the list of releases. You can download packaged versions from this page.\nFYI, you can still use composer on shared hosting. Just download the phar and run rather than install globally.. Be sure to take a look at the README and usage page on the wiki.\n. I'm sure you could, but I don't know php-svg-lib well enough to direct you. Head over to the project and put in an enhancement request. If @PhenX is able to give you enough direction to make the change make sure you submit a pull request.\n. Your caption says it all. Watch issue #449 for updates on anonymous tables.\nMore specifically on your issue, to avoid the exception just add a container element around the content that defines the cell.\n<div class=\"child\">\n  <div class=\"child-content\">\n    1\n  </div>\n</div>\nThat being said, fixing that exception will not make things look correct. Until we support breakpoints Bootstrap-based layout is probably not going to look quite right. Watch issue #631 for improved Bootstrap support.\n. Sounds like a project in and of itself. If you're looking for a quick fix using a headless browser would be the best solution. Take a look at PhantomJS.\n. Take a look at the Unicode How-To.\nQuickest fix is to style your text using the bundled DejaVu fonts (e.g. <style>* { font-family: DejaVu Sans, sans-serif; }</style>).\n. You would add that styling to your document's stylesheet.\nSince you used composer you should not need to add any other packages.\n. That definitely seems like incorrect handling though I'll need to take a look at the code to be sure. Seems like it would be more appropriate for length_in_pt to return zero because we're asking for a length. But I'd have to look through the code to see if we're using an \"auto\" return from that method in specific ways.\n. I'm looking at this right now and I can honestly say I'm not sure how much work this will require to address though it does seem to be potentially huge.\nI'll probably start with the use of length_in_pt since that's the easiest to track down. We may have to iterate on this issue until we have fully canvased the code for any potential problems.. If length_in_pt is used prior to the calculation then a number should be returned (except for the special cases \"auto\" and \"none\").\nUltimately I'm thinking maybe length_in_pt should only return a number. In that case we'll need to add pre-call check to see if what we're passing is numeric. And if what's passed isn't numeric ... I'm not sure what would be best. We'll probably want to check for the special cases and only call length_in_pt only if they're not present. Though it may also be worthwhile to consider returning zero (the value in calculations of \"auto\" and \"none) or the sum of the numeric values (as the minimum length). Really it'll require a bit of time to evaluate the current use cases across the library.\nAs an intermediate solution I'm leaning towards a post-call check against the special cases and using zero in calculations when there's a match.. Sadly, yes. If you really want to upgrade you can, as mentioned earlier, suppress these warnings by prefixing your dompdf calls with an @ ... but it's not really the best option. You could also temporarily disable warnings by changing the error reporting level using:\n$error_level = error_reporting();\nerror_reporting(E_ALL & ~E_NOTICE & ~E_WARNING);\n// dompdf code\nerror_reporting($error_level);\n. I've started work ... just haven't gotten very far yet. If you have found additional areas that need to be updated beyond those in 1331 please feel free to submit a pull request. . The just-pushed commit addresses this issue everywhere I found it. No doubt I missed a place or two, so if anyone has time please try it against some sample HTML you're likely to use.. The just-pushed commit addresses this issue everywhere I found it. No doubt I missed a place or two, so if anyone has time please try it against some sample HTML you're likely to use.. @danielfnz hm ... guess I shoulda left in the casing for that calculation. I'll take a closer look. get_margin_height is supposed to return  a float.. @danielfnz hm ... guess I shoulda left in the casing for that calculation. I'll take a closer look. get_margin_height is supposed to return  a float.. @manogi I didn't see any issues with text alignment. If you can't find where the problem is feel free to post some sample HTML.. @manogi I didn't see any issues with text alignment. If you can't find where the problem is feel free to post some sample HTML.. @danielfnz are you using the the code in the develop branch or one of the releases?. @graddus-corp have you tried the develop branch?. @twify93 those are definitely problematic lines and that method should probably only return a numeric value (see my earlier comment. The develop branch should sufficiently address the issue. I've been waiting for some feedback to see if I missed any code before I push to master.. @graddus-corp thanks for the follow-up. I'll take another look at that file.. Thanks for the feedback, it definitely helped find some issues I missed previously. How do things look now?. @BrunoDeBarros thanks for triaging. I'll likely merge this to the master branch this week. At that point if you're using Composer you can switch from the versioned release to dev-master. As an official release I'm not sure yet as I'm trying to work through some other issues. Though I do understand this is a high priority for release so I'm pushing some issues to 0.7.2.. Update is merged into master. Have at it!. Not sure just yet. We need to go through the backlog for 0.7.1. I think a number of those items will move to 0.7.2, but there are a few issues we still want to address. If we're aggressive enough we should have 0.7.1 by the end of February.. Cherry picking against what is currently 0.7.0 would be a challenge considering the other changes committed. Should have fixed up the PHP 7 compatibility in a branch of 0.7.0 ...\nI'll look at pushing issues to 0.7.2 so that we can go ahead and release 0.7.1.. I should have the next release tagged this week. It'll be 0.8.0.. Ha ha ... thanks. \ud83d\ude0a \nReally this project would be nowhere without the great support of the community. You folks keep up the great work.. Hopefully we've caught them all.... There appears to be at least one arithmetic operation that we missed (see #1407). That patch will be included in 0.8.1.. @IvanRibakov bummer. Do you have a sample of the HTML that triggers that warning? The method expects float values, so we'll need to track down the offending caller (in addition to casting to float).. I'm going to pare down the issues for 0.8.1 and try to push out a fix for the known issues soon(ish). If anyone still experiencing the issue can provide sample HTML+CSS that would be helpful.. @netero @hrkut that was fixed in the develop branch in commit 63accc48. Hoping to finish up 0.8.1 soon(ish).. This was mostly addressed in 0.8.0. There were a few missed instances that we have addressed for 0.8.1 which we hope to release soon.. Finalizing 0.8.1. Fingers crossed that we have addressed all instances of this bug.. @serdud this is a slightly different (but related) issue. Can you open a new issue and add some sample HTML+CSS that causes the problem?. Been meaning to add an implementation page to the wiki.\n. Actually, looks like this is fixed (tested in 0.8.3) though I couldn't say when we fixed it.. Not sure why you want to make this change. Though, perhaps, adding a note that it's important to close the connection after streaming the PDF may be worthwhile.\n. No worries. Calling exit() isn't necessarily a bad idea as it ensures the PHP process ends. There's a relevant issue to that in #1282.\n. Haven't really looked into this yet so I couldn't provide an ETA. I'd need to research what the spec allows and PDF viewer compatibility.\nBut I think we could hack together some level of support using the available functionality in GD to convert from WebP to an already-supported format (PNG).. Could be the image type? Maybe a bug in the system libraries? Do you get the same results if you use a JPG?\n. That is some unexpected behavior. Think we need to do a better job of cascading defaults for some of those values.\n. Which Arial font are you using? Your system font? Are the characters in the HTML or rendered using CSS or using the canvas class? Have you tried disabling font subsetting?\n. Not sure why it would work ok with DejaVu and not with Arial if the characters show in the character map. Could be something about the font itself. What version of Windows? How did you load the font? Might be something that needs to be addressed in php-font-lib if the issue is in the parsing of the font.\n. Definitely different than the browser, but maybe technically OK? I dunno I'll have to look at this one some more. If you add an intermediate tr to your styling should work as expected.\ntable.inventory tr td:nth-child(1) { width: 35%; }\ntable.inventory tr td:nth-child(2) { width: 10%; background: red;  }\ntable.inventory tr td:nth-child(3) { text-align: right; width: 18%; background: green; }\ntable.inventory tr td:nth-child(4) { text-align: right; width: 18%; background: orange;  }\ntable.inventory tr td:nth-child(5) { text-align: right; width: 18%; background: yellow;  }\n. The reason you need the \"tr\" in there is due to the way the rules are parsed. Without it Dompdf is looking for the nth TD child of the table. It will only match the first five TDs period.\nWe don't have a template library, but that might be a good idea for more complex layouts.\n. Currently in dompdf nth-child and nth-of-type are treated the same \ud83d\ude1e. Follow #543 for updates on fixing that.\n. I believe this was fixed by commit 27566fe.. If you're using the core PDF fonts then I would expect the display to be system dependent. Those fonts are supplied by the PDF viewer and so are subject to the vagaries of implementation. Have you tried using an embedded font (such as DejaVu Serif in v0.6.0 or greater)?\n. Not working meaning it doesn't load the font? Or not working meaning it also looks heavier?\n. sorry, your CSS example is throwing me off. You have something like this?\n@font-face {\n  font-family: Pacifico;\n  font-style: normal;\n  font-weight: normal;\n  src: url(\"...\") format(\"truetype\");\n}\nHow do you load the font? Is the font path on the local filesystem? It could be that dompdf isn't finding the font file.\n. Any notices logged by PHP? Might try turning on dompdf debugging to see what it says.\n. Typically when I want to debug dompdf I do the following (in v0.7.0 or newer):\nensure errors are logged:\nini_set('error_log', 'dompdf.log');\nini_set('log_errors', true);\nerror_reporting(E_ALL);\nthen enable dompdf debugging:\n```\n$_dompdf_show_warnings = true;\n$_dompdf_debug = false;\n$_DOMPDF_DEBUG_TYPES = [\n   'page-break' => false\n];\n$dompdf_options = array(\n    'logOutputFile' => 'dompdf.log.html',\n    'debugPng' => false,\n    'debugKeepTemp' => false,\n    'debugCss' => false,\n    'debugLayout' => false,\n    'debugLayoutLines' => false,\n    'debugLayoutBlocks' => false,\n    'debugLayoutInline' => false,\n    'debugLayoutPaddingBox' => false\n);\n$_dompdf_warnings = array();\n$dompdf = new Dompdf($dompdf_options);\n```\nYou can get more debug messages by tweaking the debug settings.\n. Nice catch. Eventually we'll fix logging by addressing #960. In the meantime we'll address this for the next release.\n. That does seem to be the case. Have you tried rendering with font subsetting disabled?\n. Could be an issue with parsing your font. I see a similar error mentioned in PhenX/php-font-lib#40.\n. How do you mean? Do you have some sample HTML+CSS?\n. May also need to style your table with border-collapse: collapse (because without this some browsers also do not show a border). But yes, dompdf doesn't appear to handle this correctly.\n. Surprisingly first we've heard of it \ud83d\ude2e!\n. Interesting error, though. That namespace isn't used by dompdf. Also CPDF isn't namespaced so it should reference the global namespace, yes? How are you using dompdf?\n. However this comes about we'll probably also need to be more specific about any other class names that aren't specific to dompdf (e.g. when we use the global Exception class).\n. Ah yeah, I see. I forgot to fix the static property references. I wanted to be more explicit with the class usage. I notice that if you add a use statement of that type then PHP will throw the following warning:\n\nWarning: The use statement with non-compound name 'Imagick' has no effect\n\nWe see questions regularly enough about non-halting PHP message (e.g. undefined index) that I don't want to add something that will generate more. I'll go back and fix up the rest of the references.\n. Hopefully I got them all that time.\n. I think we've got this one. If the issue turns out to still be present please post back.. How are you retrieving dompdf? autoload.inc.php is included for use only when you're using the package release. If you're using Composer you should use the Composer autoloader. If you're grabbing the source code directly you'll need to separately fetch third-party libraries (php-font-lib, php-svg-lib).\n. If you're not familiar with Composer I suggest downloading the packaged release. Current stable is 0.7.0.\n. Not sure what this has to do with HTML5. Are you using dompdf 0.5.1?\n. My comment was because I don't see a main tag in your gist.\n. OK, yeah. I see it now. The quick fix on your end would be to style your main element with display: block;.\n. Perhaps time to update our default CSS with the latest from Mozilla:\nhttps://dxr.mozilla.org/mozilla-central/source/layout/style/res/html.css\n. So far I've been unable to reproduce the issue. Are you using any particular font?\n. Well, you've tried the master branch. Want to give the develop branch a try?\n. I am able to reproduce the issue at the top of the page on the develop branch. By adding the layout debugging outlines to the output (sample) I can see that the first header element has a greater height than needed. I'm not sure where that's coming from ... could be something that cascaded from the page styling, but I'll need to research this a bit more.\nIf you add an empty block element above the affected header elements the spacing is normalized.. I used a <div></div> ... should have less visual affect on the spacing (I believe).. Ack...I can't unsee this error! I don't know if I just didn't notice before, but now I am seeing the extra spacing in my test bed and I don't remember seeing it before.. What type of documentation are you seeking?\n. Point taken. We used to have a site linked from the README with a number of samples. We can add a few samples to the readme as we tidy up the documentation for the next release.\n. That's a warning, so shouldn't prevent rendering. But it could be the way you're calling the stream function. Sample of the PHP?\n. Does that PHP represent the actual HTML causing the error, or is it a simplification (I'm unable to reproduce the error)?\n. Two quick things that should help:\nFirst, you should validate your generated HTML. You have a div element between table rows (at the bottom of your for loop. This isn't a valid HTML document structure and dompdf doesn't always handle invalid document structure well.\nSecond, avoid HTML5 elements (e.g. main) until v0.7.1. Currently dompdf does not deal with them correctly and they can cause rendering issues. See issue #1287.\n. I've actually been planning to update to the fork maintained by Masterminds, which receives regular updates.\nhttps://github.com/Masterminds/html5-php/\n. Just FYI, in a upcoming release we'll switch to Masterminds/html5-php. Since H1 and H2 are styled as bold by default you also have to define the font file to use for that variant of your font family.\n@font-face {\n  font-family: PT-Serif-Regular;\n  font-variant: normal;\n  font-weight: bold;\n  src: url(\"pt-serif.regular.ttf\") format(\"truetype\");\n}\n. Might have to update the documentation about that...\n. I believe #1195 is related.\n. It looks like we're using the wrong frame id in the update_row_group method. Initial testing seems to confirm this. Though that may be because this is strictly a paged table issue and not too many of the documents in my test bed have paged tables.\nCan you try changing line 800 to:\n$r_rows = $this->_frames[$g_key][\"rows\"];\n($g_key instead of $r_key). This is on the master branch now. A release is forthcoming, but I don't have a date just yet. Hopefully by the end of February.. @davidsneal can you post some sample HTML?. @davidsneal could you update that with some actual (well, dummy) data that reproduces the problem? Might also need to see the CSS since that can affect the rendering is ways that may or may not cause the issue to surface.. Also relevant is #459.\n. The extension removed the clone keyword in version 3.1 (to clarify my statement from #459).\nSo if I am understanding this right, phpversion does not always return the correct value (?). It looks like we should check the extension version using the IMAGICK_EXTVER contstant (which is available starting with 2.0.1 so ... should be safe).\nI don't have an installation with imagick handy, so a little bit of help? Can you try replacing that line with:\n$imagickClonable = version_compare(IMAGICK_EXTVER, '3.0.1rc1') > 0;\n. Do you know if that modification will work as expected?. The addition of the IMAGICK_EXTVER constant was noted in the changelog for v2.0.1.\nThe deprecation of the clone() method was noted in the changelog for v3.1.0b1.. The updated check is in the code. If anyone still has issues please post back here.. \ud83d\ude2d . I think maybe we should just check for the existence of the clone method rather than do a version compare. I believe that how you get the extension may determine whether or not the version constant is populated.\n@bluefirex are you able to do a quick test for me? Can you replace Cpdf.php#L4793 with the following:\n$imagickClonable = method_exists('\\Imagick','clone') == false;\nThat's a little awkward. If that works I may tweak the logic a bit to make it easier to read.. right ... sorry ... deprecated\nany thoughts?. (I really need to set this up so I can test.). That's a good point. version_compare should take into account RC versions so I don't think that's the problem.\n@bluefirex what does Imagick::IMAGICK_EXTVER return on your system.. Hm. And what about that version_compare statement?\nversion_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1'). Maybe we should try adding in the operator instead of checking if it's > 0?\nversion_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1', '>');. Still seems odd to me, but I think we'll use the operator version (yes?).. So we're ok then! I...guess? I think for now maybe this is fodder for a FAQ, unless/until we determine that this really isn't going to work or we find a better way to determine if the version of the extension has deprecated the clone method.. So ... what is the PHP_IMAGICK_EXTNUM value based on? Maybe we should use that instead?. @reichwebconsulting thanks for the update. Of course you're right, but this may be the best fallback. Maybe checking to see if the value is non-semantic (i.e. \"@PACKAGE_VERSION\") and if it is use reflection.. I'm not inclined to include this change since the same result can be accomplished using the page_script method, albeit with a bit more work in writing the script. The ideal would be to support retrieving the page count via CSS.\n. If you add text using the page_text method the text will appear on all pages. Same if you add text to a PDF object that is then added to all pages. Scripts are only run a single time.\nIf you want to run a script on each page to generate customized text for that page you can use page-scripts. They're like inline scripts but run on every page instead of a single time.\n. What does happen?\n. You might try ending execution of the file. There have been instances where the process does not end, causing the PDF to not download. Try adding an exit; statement after the dompdf code. Could also be related to #1282.\n. Is your code sample correct? The image tag is a bit off:\n<img src=\"#\"; ?>\" style=\"width:300px;height:100px;\">\n. Should be addressed in 0.7.1 (fix is currently in the develop branch).\n. This is something you'll want to submit an issue for in the SVG library (php-svg-lib): https://github.com/phenx/php-svg-lib/issues\n. Hm, yes, I didn't take into account Unicode encoding. You should be able to use the CPDF library to encode your replacement text. I'll see if I can update the code.\nYou should also be able to specify a core font to avoid the Unicode encoding of the replacement text.\n<ol>\n    <li>Chapter 1 ....................... page <span style=\"font-family: sans-serif;\">%%CH1%%</span></li>\n</ol>\n. Did the answer on SO not help? Looks like the problem there was related to mod_security. What do you see in the Chrome dev tools as far as the network traffic? Seems to be browser-specific, a little more details on what types of errors your seeing would help.\n. Is that the extent of your HTML/CSS? It seems like maybe a font metrics issue, but your code sample doesn't indicate you're using a custom font.\n. Not really. It seems like maybe the font metrics are missing/corrupted. Does dompdf have read/write ability on the configured temp, font, and font cache directories? \n. Sorry, not yet. You might follow #1272 to see if a PR comes in. We were planning to address this in 0.7.2, but looks like we may want to do it for the next release.\n. The stable branch should be ok on PHP 7.1.0 now. Look for a release soon.. @rpmconsulting that's not from our code. If it's your own code try casting to int/float (and maybe searching StackOverflow). For example:\n$mainContentWidth = 12 - ((int)$asideLeftWidth + (int)$asideRightWidth);\n. Could be some difficulty dealing with the Word-formatted HTML. If users type the content in do things appear correctly? Do you have a sample of the HTML/CSS being parsed by dompdf?\n. Which version of dompdf are you using? I believe we've seen this before with text contained in tables ... but I'd have to search around for the relevant info.\nI'm unable to reproduce the issue using your sample code. Can you provide a sample that reproduces the error on your system?\nI can't think of a way to limit the number of lines except to manually lay out the page.. No private communication is available on github. I have a page for one-time uploads.. The CPDF library is currently based on the PDF 1.3 spec so we'd need to go about updating to a newer version of the spec before we start adding in enhancements like this. Unless there is similar functionality in the 1.3 spec, but I'd need to research that.. I haven't taken a good look at the changes between 1.3 and 1.7. I would imagine that for the most part things should work fine. But you may want to run your resulting PDF through a validator to see if any serious problems are found. I put together a list at one point in issue 517..  \ud83e\udd14 that is a good question. I've always been one for examining the challenge over the viability/need.\nThe dompdf team is focused on rendering static content to the PDF. And when you consider the many more urgent issues we need to address I don't know when/if we would get around to developing this feature.. (edited my previous comment)\nThe PDF spec does allow for use cases like this and, though it may seem specious, there are reasons people use PDF documents for this kind of thing. Even if it's not something they would normally recommend.. Yes, indeed this has been fixed in the develop branch. It will be included in the next release.. Have you read through the Unicode How-to? Can you post sample HTML/CSS and the PHP that implements Dompdf?. Different in what way?. Fixed-position content is rendered starting on the page on which it is encountered. So if your footer after your document content in the HTML source it will only display on the last page.\nIf you know where the first page ends you can easily keep the header/footer off that page by placing them after the first-page content. If you do not know where it ends the process is a bit trickier, but still possible.. Your use statement should be use Dompdf\\Dompdf;. I believe (and someone feel free to correct me) that since you're aliasing the Dompdf namespace you would have to refer to the alias when instantiating the class ($dompdf = new Dompdf\\Dompdf()).. Do you have some actual output from the blade? Easier to debug if we can see what you're trying to render.. Your HTML structure is a bit off. You have some non-table element as children of the tbody element which is not valid per the HTML spec. This could be throwing off the rendering, though I believe those elements might be moved outside the table in later releases of dompdf.\nWhat is the full text of the error?. You have a small element at the start and end of your tbody element. You also have a page break div at the top. Neither of these elements should not be directly inside the tbody element. If I remove those three elements or enable the HTML5 parser (which fixes the HTML structure) the document renders without errors.\nThe small elements are hidden, so you can probably just take those out. You'll need to find another way to break the page after a certain number of rows. Maybe have a colspan row with no background color that contains the page-break div. It's not ideal, but unfortunately dompdf doesn't recognize page-break directives on table rows.. Dompdf can handle hidden elements, which are ignored during rendering. But the fact that they're hidden is not taken into account until after the document structure is parsed, which is why they could cause problems.. There are quite a few instances of this popping up (e.g. #1195, #1295, #1300). I don't know if we'll include a fix to this particular issue for 0.7.1, but likely 0.7.2 since it appears to be a common.. Not much progress with anything for the last few months, but I'm going to try to get back into things.. I haven't looked at this yet, just a random thought ... perhaps better handled in the line box logic?. I was able to load the image just fine. What does your HTML look like? Does your installation meet the minimum requirements?. @lmontenegro it looks like you're relying on the JS library to draw the chart. Dompdf does not parse JavaScript so you'll need to have a browser render the page then submit the chart image URL that you can embed in the HTML document you feed to Dompdf.. @lmontenegro sample of your code that converts to base64 and uses the image?. @jor3l that's a PHP setting, and whether or not you can change it depends on how you're hosting. But try adding ini_set('display_errors', true) to the top of your PHP script.. I'm not sure what I'm supposed to see since I only have the PHP source. Could you at least post an image from your web browser plus the PDF created by dompdf?. You mean something along the lines of:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    table { border-collapse: collapse; }\n    thead { border-bottom: 1px solid black; }\n    td, th { border-left: 1px solid black; padding: 1em; }\n    td:first-child, th:first-child { border-left: none; }\n  </style>\n</head>\n<body>\n  <table>\n    <thead>\n      <tr>\n        <th>1</th>\n        <th>2</th>\n        <th>3</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>1</td>\n        <td>2</td>\n        <td>3</td>\n      </tr>\n    </tbody>\n  </table>\n</body>\n</html>\nMight be able to provide a better answer if you can give a visual sample of what you're trying to achieve.. ? ... can you provide more details?. $pdf->dom is not part of our code or samples. It would help to have more details. Are you using a framework that implements dompdf? Can you share the PHP source? Maybe, also, what's your composer configuration?. Still not sure what the setup is. How are you using dompdf? Can you show some code, please?. s'ok. Probably don't need this. You can check the current page inside the page script via $PAGE_NUM from within the page script. It might, however, be useful for page text.. Can you post a sample of your script?. That works fine for me, page 1 was skipped for the header. I should note one problem with that sample: FontMetrics::get_font expects a single, available font name not a CSS font family declaration. So it won't find a matching font. I believe this still works with CPDF, but with PDFLib an error is thrown. You would want that line to be something along the lines of:\n$font = $fontMetrics->get_font(\"sans-serif\", \"normal\");\n. There are many places where this is a problem. This is due to a change in how 7.1 deals with non-numeric values used in calculations. We're currently working through them for the next release. In the meantime you can either suppress errors by prefixing the render call with an @, or you can modify error handling to not halt on warnings.\nFollow #1272 for updates.. If you're using the latest version (which is the case if you're pulling from the master branch) then don't forget to reference the namespace.\nrequire_once \"includes/dompdf-master/autoload.inc.php\";\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n. There is a version of the load_font.php script that works with dompdf 0.7.0 in the utils project. But the recommended path would be to use an @font-face declaration in your stylesheet:\n@font-face {\n  font-family: \"Some Font Name\";\n  src: url(\"http://example.com/somefont.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n}\n. I don't believe there's anything wrong with the CSS. How are you loading your document? That will effect the way Dompdf translates the font path.. I don't believe there's anything wrong with the CSS. How are you loading your document? That will effect the way Dompdf translates the font path.. That's a bit bigger than I usually test against. Performance is an area we need to work on. Perhaps we can look to make some further improvements after the next release.\nIn the meantime, if it's possible in any way to split the document up you could then render it in parts and combine later.. Your ability to split the document depends on whether or not you know where the pages will break. If you have a defined page break you can split the HTML at that point and render each side of the page break separately. You can do this for each page break.\nHow you combine the resulting PDFs depends on what level of access you have to your system. In the past I've used pdftk, but there are some pure PHP libraries out there.\nHere are some StackOverflow questions in regards to this question:\n - http://stackoverflow.com/a/36755200/264628\n - http://stackoverflow.com/a/37662125/264628\n - http://stackoverflow.com/a/36018887/264628. No specific fix yet. Has anyone with this issue tried the latest version of dompdf with PHP 7.1?. One page with two tables really shouldn't take very long, unless your table structure is exceptionally complex. What is the timeout on your server? Any errors reported with the timeout (PHP usually reports the line on which the timeout occurred)?\nOff the top of my head I see two possibilities:\n\nThe table structure actually spans more than one page in a way that results in an infinite loop.\nThe PDF is rendered but the connection not correctly closed and so the browser doesn't realize it has the full document.\n. @DoctorBlue thanks for the feedback. Every little bit of info can help pinpoint the issue.. Anyone interested in improving performance should read through #1813.\n\ntl;dr garbage collection can really slow things down because we're constantly creating/destroying objects due to paging. Try disabling garbage collection before running dompdf (and enabling when you're done).. You can also see example renders (and provide your own HTML) on the debug helper here: http://eclecticgeek.com/dompdf/debug.php. Yikes ... not sure. Where's you get that file?. dompdf.org should now also redirect to dompdf.net. Do you have a full stack trace? What about some sample HTML? We've started working on PHP 7.1 compatibility, but I haven't yet run across this message.. That's probably due to something in the base stylesheet considering your test HTML. Testing with PHP 5.3-7.0 doesn't reveal any issues. I'll try with 7.1 when I get a chance.. When I render that HTML in PHP 7.1.0 I don't see that error. Where DOMXPath::query() is used errors are suppressed (i.e. we prefix it with an @). Is there something in your configuration that may be overriding that operator?. Turns out it was a PHP 7.1 issue. Should be fixed in 89e43661, can you confirm?. We'll be posting updates to #1272. Working on it now, but no time frame for completion at the moment. As things are improved you should see updates in #1272.. Also, any opinion on casting to float instead of int (as in #1339)?. @steffenweber could be an issue in the attribute translator. I'll be sure to take a look at that in conjunction with this update.. I imagine it was added to avoid issues with the sprintf format string. I don't think the change will break anything, but I'll look into it a bit more.. Probably just need to add an attribute translation for input. In the meantime you could use CSS to modify the width.. So ... input size is a weird attribute. I'll add the necessary translation, but it's kind of an arbitrary calculation of the width.\nIn the end you're better off using CSS to set your input widths.. You can't really modify the height of an inline element. If you want to do that you should use line-height instead of height. If you want the styled element to act more like block-level element you can style it with display: inline-block, but it doesn't work too well if the inline block wraps and there is normal text on either side of it.\nAs for the box tag, dompdf doesn't know what type of element that is so you'll want to give it a display styling.. Good catch! Extra kudos for including a unit test.. While this fixes a missed comparison, the results are still not quite what we want. The logic can cause the text to render in undesirable ways if there are inline elements.\nThat's not meant to be a critique of your PR, but of the original intent of the code. Something we'll want to look at further. Thanks again!. I went ahead and made the changes I suggested. No need to do further work. This PR will close once I merge back in to master.\nFor future reference the preference is to submit PRs on the develop branch.. No luck as in then xdebug complains about the limit of 130 being reached?\nRight now in dompdf you should set the limit fairly high, especially with complex documents. I don't often run into this on my own test bed, but when I do I usually set the nesting level arbitrarily high (1000).\nAlso see #456.\n. For the first problem, you should style your body element to produce a rectangle that spans the length of the content area of the page (.page { border: 1pt solid black; }).\nYour second issue isn't related to anonymous tables, it's due to the fact that currently dompdf is unable to split table cells across pages. So if any table cell spans more than one page it may cause dompdf to enter an infinite loop as it tries to move the entire table row to the next page. See #98.\nSo you can use the table method to style your content, just keep that limitation in mind.\nFinally, with regard to setting a width. You can't give an inline element (e.g. a span element) a width. If you want to do that you should style your span with display: inline-block;. But really you probably want to use a div element instead. But no matter which route you take keep in mind that because of the way dompdf renders the HTML if you have a block element that flows beyond the bound of the page a page break will occur inside that element (except for table cells). Any content that is adjacent to the element will also flow to the next page.. I'll have to ponder the possibilities. You can lurk through the tickets for any tagged with \"Performance\" (though there aren't many). Some things we've noted in the past that can affect performance include:\n\nexcessive tags\nimage processing\n...\n\n(I'll add more to this list as I think of them ... at least until we have something on the wiki documentation.)\nIn regards to image processing, you can improve performance by enabling IMagick or GMagick (though these have issues of their own). You can avoid image processing by using JPEG, which is embedded as is.. With JPEG images they are placed as-is. In that regard the closer your image is to the final size in the PDF the better. Unless you're targeting printing in which case you may want to use a higher quality image that matches the output resolution.\nDisabling the HTML5 parser would definitely improve performance, but you want to make sure your HTML is structurally and syntactically valid since dompdf can't always handle invalid HTML.\nAs for styling, always better to put those inside the <style> element. Dompdf is able to grab and parse these styles easily whereas inline styles have to be pulled out and applied separately to the individual elements. And, of course, the more streamlined your stylesheet the better. Dompdf parses all styles, so if there are things in there that aren't used it's wasted work.. It's in the queue. Not sure it'll happen this week or next, but soon.. Sorry we can't get it out sooner. Why not 7.0?. @necenzurat if you have time can you check to see if there's any improvement with the latest code in the develop branch?. This isn't the effect I would expect. All that setting does is pre-filter the HTML document through the HTML5 parser. Otherwise the document is parsed in the same way as it is if the HTML5 parser is not used.\nIt could be that the clean-up the HTML5 parser did on your document significantly affected how it was represented when parsed. Do you have a sample of one of the documents?. Nice catch! The current behavior is definitely not very efficient.. Dompdf should be fine to run under PHP 7.0. You are correct that there are some issues with 7.1 ( #1272) that we are working to address. I'm planning to add some additional parameters to my local testing environment so I get a better feel for compatibility across PHP versions. This is something we should update in the documentation.. We'll be keeping 5.x compatibility for the next release. Not sure about after that, considering the lengthy period between stable releases right now. Though I have been toying around with the idea of smaller releases to fix bugs.. Truth be told our versioning is kind of semver-ish at this point. We don't really have a strong roadmap and versioning feels a bit strained with the development pace. We're trying our best.\nThe main breaking functionality was dropping support for PHP < 5.3 and no longer using the configuration file. We considered adding something that could read in the configuration file if it existed, but ultimately decided against it. I can see an argument for bumping the major version with that change. The project really doesn't feel like it's in a 1.0 state right now with some of the work that's needed.. For anyone interested, consideration of the Symfony Options Resolver will happen in #1343.. This was fixed by commit 4fc095b, which was included in 0.7.0.. Looks interesting, thanks for the pointer.. Following here to see if you find a resolution: http://stackoverflow.com/q/41612042/264628. Following here to see if you find a resolution: http://stackoverflow.com/q/41612042/264628. Does your live implementation have read/write access to the directories Dompdf uses. If you haven't customized any of them that's usually the system temp and dompdf/lib/fonts directories.\nAre the systems running on the same OS? You might need to refresh the dompdf_font_family_cache.php file (not the \".dist.php\" file). Easiest method is just to remove it and dompdf will recreate it next time it runs. This file contains path information for the font files themselves and may not be correct after a system move.\nFor the background image ... ? Can you post a sample of the CSS you've tried?. Does your live implementation have read/write access to the directories Dompdf uses. If you haven't customized any of them that's usually the system temp and dompdf/lib/fonts directories.\nAre the systems running on the same OS? You might need to refresh the dompdf_font_family_cache.php file (not the \".dist.php\" file). Easiest method is just to remove it and dompdf will recreate it next time it runs. This file contains path information for the font files themselves and may not be correct after a system move.\nFor the background image ... ? Can you post a sample of the CSS you've tried?. I'd expect at least one of those to work. For URLs make sure allow_url_fopen is true. The next release will have some curl-based functionality as a backup.\nMake sure dompdf has read/write access to the temp directory specified in your configuration.\nMake sure you have GD ... though that shouldn't be necessary for JPGs.. I'd expect at least one of those to work. For URLs make sure allow_url_fopen is true. The next release will have some curl-based functionality as a backup.\nMake sure dompdf has read/write access to the temp directory specified in your configuration.\nMake sure you have GD ... though that shouldn't be necessary for JPGs.. That is weird, then. If you can use the images normally then it's not a temp directory issue. It might be the format of the background-image property. You might try varying the format of that property to see if it work (for example, add quotes around the image path).. That works! Sorry for the headaches, though. If you decide you want to spend some more time on this just post back here.. You can't really change the resolution of a PDF, and we don't currently have any quality settings (which would have to mainly revolve around shrinking image sizes by resampling them).\nHave you enabled font subsetting?. Watch #1327 for updates. In the meantime you can also see example renders (and provide your own HTML) on the debug helper here: http://eclecticgeek.com/dompdf/debug.php. Have you followed all the advice in the Unicode How-To? If so, it would help to see a sample of your HTML.. What font did you use? Did you load your own copy of Times New Roman? The core fonts (Times, Helvetica, Courier) only support Windows ANSI (which does not support the characters in your document).. I didn't see anywhere that you're actually using the Dojo font in your document. Make sure you have loaded in to dompdf (using either the load_font.php script or via @font-face declaration) and that you are styling your text appropriately.. That's not how you would use @font-face. That declaration tell the renderer (dompdf in this case) about the font (it's name, location, weight, etc.). Then you use the font-family property to indicate you want text to use that font. Should be more like:\n<style>\n@font-face {\n  font-family: \"Dojo Sans Serif\";\n  font-style: normal;\n  font-weight: normal;\n  src: url(http://example.com/fonts/dojosans.ttf) format('truetype');\n}\n* {\n  font-family: \"Dojo Sans Serif\", \"DejaVu Sans\", sans-serif;\n}\n</style>\n. I'm not sure where the Dojo font came from because it is not included as part of dompdf. A selection of the DejaVu font families is. You can check to see if the font is actually installed by opening up the dompdf_font_family_cache.php file. If the font is installed it will be listed in that file.. I don't suppose you held on to a copy of the bad files? I'd be curious to see what it was about them that was incorrect?\nDid you upload from one system to another?. I believe you're right, but I'll double-check. If this proves true I think at least initially we'll just add both cases to the subset. Eventually I'd like to move this code into the PDF backend (as mentioned in #750) since that seems like a more appropriate location.. Forgot to tag, this is fixed by commit 88f10d2b.. With 0.7.0 we no longer use that file. Please read over the quick start section of the readme and see if it helps: https://github.com/dompdf/dompdf#easy-installation. Which version of dompdf are you using? Do you have the IMagick or GMagick extension? Can you upload the image for testing?. Closing due to lack of follow up.. Reminder to please target pull requests at the develop branch.. That's some sloppy coding on our part. I found two other place where that call was incorrect. I went ahead and fixed it when pulling in this change.. Pretty inefficient code in there (ours, not yours). Having to get the file twice if it's not parsed by the PHP functions is ... well ... not good. Perhaps we can improve it by using the Image\\Cache class instead of direct access.\nUm ... assuming we're not already doing that \ud83d\ude05.. Those values are correct as of when that text is evaluated. What you want to do rather than interpreting the text on the current page is to insert the value after the document is rendered. Try the following instead:\nif (isset($pdf)) {\n  $font = $fontMetrics->getFont(\"Arial\", \"bold\");\n  $pdf->page_text(770, 580, \"Page {PAGE_NUM} of {PAGE_COUNT}\", $font, 10, array(0, 0, 0));\n}\nAnother option would be to use page_script instead, which evaluates the passed-in text as PHP on each page after the document has been rendered.\nif (isset($pdf)) {\n  $pdf->page_script('\n    $font = $fontMetrics->getFont(\"Arial\", \"bold\");\n    $pdf->text(770, 580, \"Page $PAGE_NUM of $PAGE_COUNT\", $font, 10, array(0, 0, 0));\n  ');\n}. Saw a similar post on SO recently. Which version of dompdf are you using? Did you see any errors?\nIt's likely just the changing of the locale that causes the problem.. Nothing yet.. Nice! I'll try to take a look for the next release.. Do you think that instead of selecting all children in the foreach loop we should select all direct descendent TR elements? It seems unlikely, but what if somebody tries to render a document that contains a table similar to the following:\n<table>\n  <thead>\n    ...\n  </thead>\n  <tr>...</tr>\n    ..\n</table>\nIt seems unlikely, except that we see all kinds of wacky HTML.. I think we're OK to ignore obviously wrong table formatting such as a P as a child of the TABLE element. If someone's HTML is likely to be that poorly formed they should use the HTML5 parser. Since a TR is appropriately a child of the table element, but for the purposes of parsing our document we're moving those inside a TBODY, I think this is the only exception we want to handle.\nWhenever we get around to fully supporting anonymous table objects we can deal with exceptions at that point.. @rsm0578 I'm posting your HTML here since the debug helper occasionally clears out old files.\n<!doctype html>\n<html>\n<head>\n<meta charset=\"UTF-8\" />\n<title>The benefits of training in the access control market - SourceSecurity.com</title>\n<style>\nbody, a, p{\n    font-family:Arial, Helvetica, sans-serif;\n    font-size:14px;\n    color:#777;\n}\nh1 {\n    color:#71ADCD;\n    font-size:18px;\n    margin:0;\n    padding-bottom:10px;\n}\nh2 {\n    color:#71ADCD;\n    font-size:18px;\n    margin:15px 0 10px 0;\n    padding:0;\n    text-align:left;\n}\n.blue_bold, a.blue_bold, a.blue_bold:link, a.blue_bold:active, a.blue_bold:visited,\n.orangebold, a.orangebold, a.orangebold:link, a.orangebold:active, a.orangebold:visited\n{\n    font-size:15px;\n    font-weight:bold;\n    color:#71adcd;\n}\n.blue_bold_tx {\n    font-size:16px;\n    color:#71adcd;\n    font-weight:bold;\n}\n.smalltxt\n{\n    font-size:12px;\n}\n.floatleft {\n    float:left;\n}\n.floatright {\n    float:right;\n}\n.clearit {\n    clear:both;\n    padding:0 !important;\n    margin:0 !important;\n}\n.gridtbl {\n    border-top:1px solid #BEBEBE;\n    border-right:1px solid #BEBEBE;\n}\n.gridtbl th {\n    font-weight:bold;\n    text-align:left;\n    border-bottom:1px solid #BEBEBE;\n    border-left:1px dotted #BEBEBE;\n    padding:5px;\n    color:#71adcd;\n}\n.gridtbl td {\n    border-bottom:1px solid #BEBEBE;\n    border-left:1px dotted #BEBEBE;\n    padding:10px;\n}\ntd,th { page-break-inside: avoid; }\nimg {\n  display: -dompdf-image !important;\n}\n</style>\n</head><body ><h1 class=\"blue_bold\" style=\"font-size:20px;\">The benefits of training in the access control market</h1><table style=\"width: 203px; height: 280px;\" border=\"0\" cellspacing=\"8\" align=\"left\">\n<tbody>\n<tr>\n<td><img src=\"https://security-images.scdn2.secure.raxcdn.com/moreimages/Expert_commentary/access-control-training-250.jpg\" border=\"0\" alt=\"Those who undergo access control training programs and are certified installing dealers can set themselves apart by being more knowledgeable\" width=\"250\" height=\"250\" /></td>\n</tr>\n</tbody>\n</table>\n<p>Training and education are essential elements of success in the access control market for integrators and end users alike.</p>\n<p>Whether one is a seasoned veteran or still new to the industry, continued training and education are critical given that access control technologies continue to evolve at a rapid pace. <a href=\"http://www.sourcesecurity.com/companies/search-results/company-search/t.systems-integrators.html\" class=\"blue_bold\">System integrators</a> who do not take advantage of <a href=\"http://www.sourcesecurity.com/companies/search-results/company-search/t.manufacturers.html\" class=\"blue_bold\">manufacturers&rsquo;</a> training seminars are short-changing themselves and their customers, contends Robert Laughlin, president of <a href=\"http://www.sourcesecurity.com/companies/company-listing/galaxy-control-systems.html\" class=\"blue_bold\">Galaxy Control Systems</a>. Those who participate in access control training programs and are certified installing <a href=\"http://www.sourcesecurity.com/companies/search-results/company-search/t.resellers-dealers-reps.html\" class=\"blue_bold\">dealers </a>can set themselves apart by being more knowledgeable. From a return-on-investment perspective, successful completion of a training program can heighten an employee&rsquo;s confidence in their ability to solve a customer problem and enable him or her to be more proficient in installing and access control system with fewer costly mistakes, Laughlin adds.</p>\n<p>It&rsquo;s a challenge for integrators to keep up with changing technologies, agrees Greg Love, vice president of sales, <a href=\"http://www.sourcesecurity.com/companies/company-listing/amag-technology-inc.html\" class=\"blue_bold\">AMAG</a>. Among the obstacles is a need for training on IT standards and an understanding of network administration. <em>&ldquo;Our industry doesn&rsquo;t seem to roll out new technologies as quickly as the video market,&rdquo; c</em>omments Love.</p>\n<p>Rapidly changing technologies include <a href=\"http://www.sourcesecurity.com/technology-areas/biometrics.html\" class=\"blue_bold\">biometrics</a>, <a href=\"http://www.sourcesecurity.com/tags/video-analytics.html\" class=\"blue_bold\">video analytics</a>, wireless communications, locking systems, encryption options, <a href=\"http://www.sourcesecurity.com/tags/near-field-communication.html\" class=\"blue_bold\">NFC </a>and Bluetooth LE. All of them need to be supported by access control.</p>\n<table style=\"width: 221px; height: 145px;\" border=\"0\" cellspacing=\"8\" align=\"right\">\n<tbody>\n<tr>\n<td>\n<h2><em>Integrators and end users should partner with a vendor who will readily provide support and education on access control trends and technologies</em></h2>\n</td>\n</tr>\n</tbody>\n</table>\n<p><em>&ldquo;Understanding the benefits of the various offerings in each of these categories alone requires significant time and effort,&rdquo; </em>says Richard Goldsobel, vice president, <a href=\"http://www.sourcesecurity.com/companies/company-listing/continental-access.html\" class=\"blue_bold\">Continental Access</a>. Not to mention the need to convey the information to integrators and, especially, to end users. Goldsobel sees greater use over the last several years of video clips (available from both corporate websites and social media) as a mechanism to present information to help end users see and understand existing and new technologies.</p>\n<p>Understanding the intricacies of networks and newer IP-enabled access control devices can be overwhelming to end users moving to IP access control, says Jimmy Palatsoukas, senior product marketing manager, <a href=\"http://www.sourcesecurity.com/companies/micro-site/genetec-inc.html\" class=\"blue_bold\">Genetec</a>. However, newer technologies can help, as devices are becoming more intelligent, automatically connecting to the network with little or no manual intervention. Devices can now automatically obtain an IP address, and advanced IP access control software can automatically detect the devices on the network. For the integrator, these advancements in IP access control systems simplify the installation and maintenance.</p>\n<p>To help in keeping up to date with these advancements, integrators and end users should partner with a vendor who will readily provide support and education on access control trends and technologies. Maintaining current access control knowledge will also help ensure end users are able to maximize their IP access control investments, now and in the future, says Palatsoukas.</p>\n            <div class=\"clearit\"></div><br />\n            <div style=\"border-top:1px solid #dbdbdb;padding-top:20px\">\n            <div class=\"floatleft\" style=\"margin-right:10px;\">\n                <a href=\"/people/larry-anderson.html\"><img src=\"https://security-images.scdn2.secure.raxcdn.com/people/Larry-anderson-ssc-us-editor.jpg\" alt=\"Larry Anderson\" width=\"170\" height=\"170\" /></a>\n            </div>\n            <div class=\"blue_bold_tx\">By <a href=\"/people/larry-anderson.html\" class=\"blue_bold_tx underline_on_hover\">Larry Anderson</a>\n            </div><div><em>Editor, <a href=\"http://us.sourcesecurity.com\">SourceSecurity.com US Edition</a></em></div><p>An experienced journalist and long-time presence in the US security industry, Larry is SourceSecurity.com's eyes and ears in the fast-changing security marketplace, attending industry and corporate events, interviewing security leaders and contributing original editorial content to the site. He leads SourceSecurity.com US Edition's team of dedicated editorial and content professionals, guiding the \"editorial roadmap\" to ensure the site provides the most relevant content for security professionals.</p>\n            <div class=\"clearit\"></div>\n            </div></body></html>\n. That's all very nice work. Please feel free to add a PR. I'm not sure about timing, but I don't see any reason we wouldn't be able to merge this quickly. Though, you can continue adding to the PR if you have more changes.\nAs for the question regarding deprecated methods ... it's mostly a matter of time and who did the work. I this it would be preferable for changes like that to propagate all the way through, but it hasn't always been the case. My priority of late has been fixing actual bugs in the rendering process, but I would be happy to see some help with code cleanliness.. This is all just amazing. Thank you for putting in so much work. I was planning to look at pulling this tonight.. Everything looks good. If you plan to add more commits please go ahead. Otherwise I'll pull this in.. I should have mentioned this before. But as you're digging back in don't bother with the html5lib code. Eventually we'll be tossing that for a newer version that's actively maintained.. What, exactly, is the issue you are encountering? We can only help you if you detail what you have tried and the issue you are experiencing.\nAlso, have you read through the Unicode How-To?. It's entirely likely DejaVu does not support the characters you want. You'll need to load a font into dompdf that does support your characters (you can use the @font-face declaration as indicated in the how-to), then you should be able to render your document.\nThere might be some issues, however, around how text is represented in the document. We're still seeing some issues with some character sets.. @ridislam rather than hi-jack someone else's issue (twice) with a general complaint you should post a question to the support forum, especially when you're not yet sure there's a bug to be addressed. \"It's not working\" is not a helpful way to ask for support. Help us help you by providing as much detail as you can: a sample of your HTML/CSS, the font used, what you expected, and the resulting PDF.. Let me illuminate the problem you're having. There is a bug in the current implementation where the canvas object that's used for the PDF (*) is not instantiated until the render method is called. If it were instantiated sooner you would be able to move your code above the render method and affect all pages. As it is, your code affects only the current page and any following pages. Because after render the canvas object is referencing the last page the only page affected is the last page.\nAlso, note that the page_text and page_script methods behave differently than the other methods (text, line, rectangle, etc). Other methods act only on the current page or object. The page_* methods are applied to each page during the packaging up of the PDF (i.e. during the stream or output methods). So the solution you found is not really a dirty method, just not ideal for what you're trying to do.\n\n(*) I worded this statement in this way because the canvas is actually instantiated in the dompdf constructor, but it's re-instantiated during render. I know how to fix the bug, but haven't had time yet to actually implement it.\n. The reason this canvas object is recreated in the render method is specifically to support specifying the page size in CSS. Removing the creation from here breaks that for sure.\nFixing this up so that we can refuting the page size should actually not be terribly difficult. It requires changes to the CPDF library and to the canvas class. I'm sure pdflib supports this functionality, but I haven't looked into it yet.. OK, yes. I think that's a good temporary fix for the problem. There's certainly no need to re-create the canvas object if the page size doesn't change after parsing the styles.. As mentioned by @simonberger, as of 0.7.0 we're no longer supporting the configuration constants defined in dompdf_config.inc.php that were used in previous releases. That file is, in fact, no longer referenced at all.\nTo change this setting in dompdf 0.7.0 or newer you can use the setOption method ($dompdf->setOption('tempDir', '/some/path';) or set the value when instantiating dompdf (e.g. $dompdf = new Dompdf(array('tempDir'=>'/temp/path'));).\n. Presumably the HTML looks correct? Does your system meet the minimum requirements?. Agreed. I want to say a similar issue may be documented already, but I wasn't able to find it after a quick search.. Interesting ... that may help in determining why this is happening.. This is a bit tricky. The way dompdf is set up isn't really optimized for differentiating a user-defined base path from the running file path. I'll need to think on this some more but probably a better way to do this is to let the base path be empty by default and in build_url() use the current file path unless the base path is set.. also see #144 . You'll want to seek this kind of support from the PHPWord project.. For dompdf help we have a support forum or you can always try StackOverflow. But your problem relates more with how to use PHPWord so you might start there: https://github.com/PHPOffice/PHPWord.. What if the user sets the paper size using the setPaper method instead of using CSS?. FYI, one reason we have the setPaper method is because in some earlier versions you couldn't set the default paper orientation during instantiation since configuration was done via constants. It's not an issue anymore, but I don't see the harm in maintaining the method. I think in the next release we'll fix up how we deal with page size.. No worries. You're code looks great and I appreciate the time you've put into it.. It looks like in 0.7.0 your document is actually rendered in letter format, based on the dimensions you cite. How are you setting your page size?. Likely related to issue #1140.. In 0.7.0 we no longer utilize the configuration constants. I'm surprised the other constants would have any affect. I'll double-check the code to see if we accidentally left in references.. We're no longer distributing the www content. It may be resurrected as part of the utils project. If we do resurrect that code we'll take a look at that point.. Since each .page covers the page you might want to use absolute positioning. The page edge detection code is a bit iffy when a normal flow element is sized at 100%. You can force each .page element onto it's own page by setting the page-break styling. Something like the following works:\n```\n    \n        @page {\n            margin:0px;\n        }</p>\n<pre><code>    .page {\n        background-image: url(##base64imageheare###);\n        background-position: center center;\n        background-repeat: no-repeat;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        position: absolute;\n        page-break-after: always;\n    }\n    .page:last-child {\n      page-break-after: never;\n    }\n\n    img {\n        width: 100%;\n        height: auto;\n    }\n\n    body {\n        font-family: helvetica !important;\n    }\n&lt;/style&gt;\n</code></pre>\n<p>```</p>\n<p>Also note that dompdf does not currently support the <code>background-size</code> declaration. So you'll want to make sure your background image sizes to your page. Or, alternately, use an image element and position it as well using a lower <code>z-index</code>.</p>\n<p>You might also get rid of the transforms and instead place your elements using left/top. For some reason when I render the text doesn't show up at all. Based on the PDF source I think the text is being place outside the visible space of the document. Glad you're not having that same issue.</p>\n<p>I do think we should look at this a bit more to see why dompdf isn't handling it so well.. Nice find! I'm surprised I hadn't run into that yet. Could you use <code>(float)$w</code> instead of <code>floatval($w)</code>?. The only way you can do this in 0.7.0 is to set the opacity of the container.</p>\n<p><code>&lt;p style=\"background-color: black;\"&gt;&lt;span style=\"color: white; opacity: .35\"&gt;35% OPACITY&lt;span&gt;&lt;/p&gt;</code></p>\n<p>In the upcoming 0.7.1 release you can set the text color using rgb-alpha and hex-alpha to modify the coloring on just the text itself.</p>\n<p><code>&lt;p style=\"background-color: black; color: rgba(255,255,255,.35)\"&gt;35% OPACITY&lt;/p&gt;\n&lt;p style=\"background-color: black; color: #ffffff59\"&gt;35% OPACITY&lt;/p&gt;</code>. Can you post your HTML source as a code snippet rather than as an image?. We prefer to have HTML rather than PHP or template code so that we don't have to try and guess at what data should be in the document. Plus there's the time to replace the variables.. If you look at the <a href=\"https://www.w3.org/TR/html4/struct/global.html#edef-HTML\">HTML4</a> or <a href=\"https://www.w3.org/TR/html5/semantics.html#the-html-element\">HTML5</a> spec you'll see that the only elements allowed inside the HTML element are HEAD and BODY. Most browsers handle this structure by moving the script inside the body element (as you can see by inspecting the rendered document structure).</p>\n<p>Fixing up the document syntax and structure is part of the parsing browsers do when loading an HTML document. Dompdf does a bit of fixing up as part of parsing a document, but if you want something more akin to what the browsers do you can set the isHtml5ParserEnabled option to true. Indeed we recommend it!</p>\n<p>In a future release (once we upgrade the parsing library) we'll probably use the parser by default.. We prefer PRs on the develop branch. One of these has already been fixed there. I'll pull this in to fix the other thanks.. I went ahead and pulled this in via AM. The PR will auto-close when I merge back into master.. Best place would be the <a href=\"http://groups.google.com/group/dompdf\">support forum</a>, but this is fine.</p>\n<p>We can't really help without seeing the HTML, but in looking at the PDF it appears that you have the page margins set to zero. If you need to move only certain content closer to the edge of the page there are other ways of achieving that type of layout.. It's difficult for us to debug the rendering when you supply the code that generates the HTML and not the actual HTML document rendered by dompdf. If you have trouble getting it you can call <code>$dompdf-&gt;output_html()</code> to see the document dompdf is working off of.</p>\n<p>I don't see anything in particular that would cause that problem in your CSS, but if you have a layout page that includes additional stylesheet references the issue could be there instead.. OK, so looking at the new document the first thing that stands out is that you have set a margin on the body element to 0. Setting margins on the body is effectively the same as setting them using the <code>@page</code> rule. So you'll either need to remove that or later in the CSS set the page margins.</p>\n<p>Of course, this will affect the layout on the first page. If you use a container element (e.g. a DIV) to set top/bottom margin you'll lose that when the content splits a page. At least, you will until we support the <a href=\"https://github.com/dompdf/dompdf/issues/640\">box-decoration-break</a> declaration. What you want to do is set the margins around the content using <code>@page</code>.. Sorry, I don't really have anyone I can send you to right now. There are some talented developers who toss in a commit here or there but nobody I know offering up services. Have you tried one of the freelancer sites?. Sorry, I don't really have anyone I can send you to right now. There are some talented developers who toss in a commit here or there but nobody I know offering up services. Have you tried one of the freelancer sites?. Next time please submit your pull request to the develop branch.. Next time please submit your pull request to the develop branch.. See commit 6f8c47ea. Planning to merge into master soon.. Hopefully I'll have it today. I have one last tweak I need to make to the code.. There does appear to be an inconsistency there when compared to browser functionality. We'll look into it.. Prior to 0.8.0 the output buffer is closed in the <a href=\"https://github.com/dompdf/dompdf/blob/v0.7.0/src/Dompdf.php#L868\">write_log method</a>, which is called from the output and stream methods. Besides being problematic if a user never calls output/stream, the process was buggy in cases where the log file was not writable (see #1282).</p>\n<p>This is addressed for the 0.8.0 release, we're now starting/ending the output buffer in the same method. See commit e75c407c.. I'm fairly certain there's an existing issue for this ... but I couldn't find it in a quick search.. Maybe #232 is most appropriate, which points to #55.. Could you please elaborate a bit more?. Looks like a bug. When a link contains nested inline elements Dompdf does not correctly calculate the size of the rectangle for the link action. The following simplified HTML will exhibit the issue:</p>\n<p><code>&lt;a href=\"http://example.com\"&gt;&lt;span&gt;&lt;span&gt;example.com&lt;/span&gt;&lt;/span&gt;</code>. You might also supply the PDF generated by your code? Do you know if PrintNode modifies the document before sending it to your print server? Is there any way to see exactly what's sent to your printer?. If printnode is converting to EMF I wonder if maybe its mis-interpreting what's in the PDF source. Hard to know without seeing the output of their system. But really you should see the same results across systems.</p>\n<p>Working with your updated HTML (with the added clearing div), it's likely a problem with how dompdf prior to 0.8.0 dealt with clearing floats. You should see improved results with the 0.8.0, have you updated on your server yet?. Which version of dompdf are you using? We released changes in dompdf 0.8.0 to improve PHP 7.1 compatibility. Specifically, we addressed the invalid expression in #1329 and the non-numeric value issue in #1272.. Not sure. Simply repeating an image shouldn't be an issue. Do you have some sample HTML?. Can you share the CSS? And maybe also the PDF you get (we can peek at the source to see what's in there)?. Sorry ... been pretty busy lately. I have a one-time uploader here: https://eclecticgeek.com/dompdf/upload/</p>\n<p>It currently only accepts one file so zip up everything you want to send me.. Sorry ... been quite busy of late. May not have a chance to get back to it until next week.. I apologize that I didn't get back sooner. That is indeed a known issue (see #693).. This does appear to be the case and does not happen in 0.7.0. I wonder if this is related to the change in margin collapse handling (commit cce7388).. I'm not even having that much luck. Which version of dompdf are you using? Might help to see the HTML+CSS you're using. There are a few things about the demo from that site that either don't work or require a certain version of dompdf.. Do you have a sample of the HTML used?. I'm unable to reproduce the issue. Seeing the full document (HTML + CSS) might help.</p>\n<p>That being said, the fact that it works differently on different systems may indicate a migration issue. Do you copy the code from one system to another or deploy from a repository? You may need to flush your font cache and reset your font directory on the server.. This isn't really a something dompdf is designed to handle. If you're pulling the data from a database can't you use the PHP <a href=\"http://php.net/manual/en/function.number-format.php\"><code>number-format</code></a> function to format the number?. I hope composer did indeed warn on that missing dependency. Unless you're working off the packaged release .... The third attempt won't work with the way dompdf is using the resources.</p>\n<p>The second attempt <em>may</em> work, but I'd have to see how you modified the font family cache and what files you uploaded.</p>\n<p>The first attempt is preferred. By inline do you mean <code>style=\"...\"</code> on an element? Or do you mean putting a style element inside your HTML. The former will not work, the latter should be fine. Just make sure you have read/write access to the directories specified in your configuration for the temporary directory, font directory, and font cache directory.. What does <code>plugin_dir_path</code> return? Is it the physical path to the file or a URI?. I'll close this, then. But if you run across the same issue in the future let us know and we can revisit.. The line height calculation was tweaked in the 0.8.0 release but it still needs some work. We can look into it more but we'd need to see a sample of the HTML that was used. Either way I'm glad you were able to come to a resolution.. Commented on SO: http://stackoverflow.com/q/42764414/264628. Looks to be an issue where the generated content (the actual checkbox or radio control) is re-generated on page break.. I believe this is addressed in the above commit.. Bummer. @nickwuk can you open a separate issue. I don't know if I'll have time fix this for the 0.8.1 release and I'd like to make sure we track it separately so it doesn't get lost.. That may help determine why, thanks. I think we still want a separate issue, though, since it's not directly related to the duplication.. A <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> always helps. . That's a bit more work than I want to do to get a sample of the HTML \ud83d\ude2c. Can you just grab the HTML you're feeding to Dompdf?</p>\n<p>How is the image styled? Since the release it's come to our attention that auto left/right margins can be a problem.. I think you're probably running into the same issue discovered in #1482. You have auto margins on your H2 element, which Dompdf is having trouble parsing. Seems like you can just specify a margin-top of \"0\" as a work around.. Are you able to isolate the HTML+CSS that causes the issue? I'm not sure why there would be available style on the root object. Also, what do you think of using the <code>$ref_size</code> value when the root style doesn't exist rather than skipping the calculation?. Are you able to isolate the HTML+CSS that causes the issue? I'm not sure why there would be available style on the root object. Also, what do you think of using the <code>$ref_size</code> value when the root style doesn't exist rather than skipping the calculation?. To summarize, the problem is with the <code>rem</code> units in the <code>@page</code> declaration. At the very least this looks to be directly related to the fix for the referenced issue since this didn't appear to happen in the same way prior to 0.8.0.</p>\n<p>Since the source of the warning is in the <code>@page</code> declaration I believe you should be able to use <code>em</code> units instead of <code>rem</code> since the size reference will be the same in either case.. Let me look at your code and I'll get back to you.. Our problem may be deeper than I initially thought. Because we're calling <code>length_in_pt()</code> before the page element has had styles applied, the base font size will be the default. That means calculated dimensions could be based on an incorrect value. For example, in this case the font size is also set in the stylesheet and so using the default is incorrect.</p>\n<p>I'm going to have to analyze this a bit more. We may need to move some of the logic in this section so that the page style can be set. Still, your fix is probably necessary to handle edge cases more gracefully until we can figure out how to address the problem more thoroughly.. Our problem may be deeper than I initially thought. Because we're calling <code>length_in_pt()</code> before the page element has had styles applied, the base font size will be the default. That means calculated dimensions could be based on an incorrect value. For example, in this case the font size is also set in the stylesheet and so using the default is incorrect.</p>\n<p>I'm going to have to analyze this a bit more. We may need to move some of the logic in this section so that the page style can be set. Still, your fix is probably necessary to handle edge cases more gracefully until we can figure out how to address the problem more thoroughly.. I usually leave them open until I merge to master (github will then close any that are addressed by commits). I hope to tag a release soon. Just a few more issues to review.. I knew it was too much to hope that I had caught all these for 0.8.0 \ud83d\ude1e . In the future please submit pull requests against the develop branch rather than master.. Thank goodness for quick fixes. I dunno why this is all it takes sometimes.. Pages aren't determined until after rendering is complete. Dompdf splits the content into pages as it renders the document.</p>\n<p>If your document is only two pages and takes a long time to render there could be some other issue.. Can you post a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> of the HTML+CSS involved?. FYI, dompdf targets the screen and dompdf media formats by default.</p>\n<p>It would help to know what dompdf is trying to render. You can always call <code>$dompdf-&gt;output_html()</code> if generating the HTML is difficult otherwise.. Seems like an entirely different issue. To oversimplify, the line boxes represent the content of an element in the frame tree. I'm not sure why this is returning -1. Probably an issue with how we remove lines.</p>\n<p>Sample HTML would help figure out why this is happening.. Thanks, this should help.. The \"non-numeric value\" error when running PHP 7.1 is one of the driving factors behind the release of 0.8.0. So if you don't want to downgrade PHP you'll need to stick with dompdf 0.8.0. There was a missed arithmetic operation (see #1407). So it's possible you'll still run into the issue.</p>\n<p>For the other error, there's no indication of where that error occurred. <code>unpack</code> is used by dompdf, mainly when parsing images, and by php-font-lib. There a relevant issue already for php-font-lib so that may be something to keep an eye on (see issue PhenX/php-font-lib#47).</p>\n<p>I'm not sure why even a simple document would not render correctly. For your simple test is the CSS inline or in an external document. It sounds like maybe dompdf is having trouble accessing external resources, but I'm not sure.</p>\n<p>Might help if you can turn up the error reporting in PHP. If that doesn't help you can try enabling to domdpf debugging capabilities.. To start you might try a simpler file name using just latin characters. Also I believe there's some potential problems when setting the locale using LC_ALL. You might try removing that statement and seeing what happens.. I think the content-length issues is a distraction. What type of error messages are you getting? Also, I just saw you mentioned MBString ... is that extension available in both environments.. I don't think it's the version of apache. Can you post the error messages?. Weird. Not what I would have expected. I guess it could have been a bug between the versions of PHP and apache. Or maybe a bug in that version of PHP.</p>\n<p>I'm going to go ahead and close, but if the issue pops back up let us know.. Weird. Not what I would have expected. I guess it could have been a bug between the versions of PHP and apache. Or maybe a bug in that version of PHP.</p>\n<p>I'm going to go ahead and close, but if the issue pops back up let us know.. If you're using 0.7.0 or better (and I'm guessing you are since you're using the autoloader) you should re-read the <a href=\"https://github.com/dompdf/dompdf#quick-start\">quick-start documentation</a>. Try the following:</p>\n<p>```\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;</p>\n<p>// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n```\n. Just thinking out loud, but I'm wondering if there's a namespacing issue since php-svg-lib includes it's own version of CPDF.</p>\n<p>At any rate I think it makes sense to include this in our version of CPDF.. I'll go ahead and pull in #1493, no harm in the added functionality.. Please post a sample of the HTML + CSS that's causing the issue.</p>\n<p>There may be some relevant issues already: <a href=\"https://github.com/dompdf/dompdf/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+get_cellmap\">issue search for \"get_cellmap\"</a>. Is this your SO question? http://stackoverflow.com/q/43128372/264628. Or rowspan? Any luck tracking down the issue?. Definitely a structural issue. With the the HTML5 parser enabled the error is not encountered. Running through a <a href=\"https://validator.w3.org\">validator</a> I found a span element directly inside a table element.. I'm still noticing some issues with some icon fonts. Before we look into that though let's make sure the font is being parsed. Did the font file get copied to your dompdf font directory? Did the dompdf_font_family_cache.php file get updated with the font's info?. Do you have a sample that exhibits the issue? I tried the following and it looked ok:</p>\n<p><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;table&gt;\n    &lt;tr&gt;\n      &lt;td style=\"text-align: right;\"&gt;\n        &lt;img src=\"http://eclecticgeek.com/images/macro/ants.jpg\" width=\"100\"&gt;\n        &lt;br&gt;\n        aasdfasd fasdf asdf asdf  adsf asdfaf \n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code>. Do you have a sample that exhibits the issue? I tried the following and it looked ok:</p>\n<p><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;table&gt;\n    &lt;tr&gt;\n      &lt;td style=\"text-align: right;\"&gt;\n        &lt;img src=\"http://eclecticgeek.com/images/macro/ants.jpg\" width=\"100\"&gt;\n        &lt;br&gt;\n        aasdfasd fasdf asdf asdf  adsf asdfaf \n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code>. I see. Looks to be more of a problem with inline-blocks than with images.. Perhaps the font metrics files are not being read correctly. You might try installing a fresh copy of dompdf, \"resetting\" your font directory, or fixing the paths in the dompdf_font_family_cache.php file.. Yes, it would make more sense to use a <code>tempnam</code> for the temporary file and add some extra checks before copying the file into the font directory.. Yes, it would make more sense to use a <code>tempnam</code> for the temporary file and add some extra checks before copying the file into the font directory.. @marrch-caat you did great. Even remembered to submit to the develop branch, bravo.. Should be possible, I'm pretty sure I've done this before. But I'll need to refresh myself on how to get the value. You'll probably need to do it using inline script as I at the end of the rendering process the frame tree is cleaned up.. Yes, that's how you would do it.. If you get what you need and have time post some sample code here. I know this question has come up before and I've just not had the time to document it.. Nice!</p>\n<p>I wonder if <code>get_margin_box</code> would provide a more accurate number?</p>\n<p>You can get the document node via the frame and query it for the class, e.g.:</p>\n<p><code>$frame-&gt;get_node()-&gt;getAttribute(\"class\")</code></p>\n<p>Then it's just a matter of parsing for the expected class name.. Sorry, I meant <code>get_border_box</code>.</p>\n<p>To get the current page number you should be able to use the page counter (see <a href=\"https://github.com/dompdf/dompdf/blob/0f418c6b58fdeafc2a0e80eb1fa5e644e185089c/src/FrameReflower/AbstractFrameReflower.php#L324\">AbstractFrameReflower::_parse_content</a>). Something like:</p>\n<p><code>$counter_frame = $frame-&gt;lookup_counter_frame('page');\n$page_number = $counter_frame-&gt;counter_value('page', $type);</code>\n. If you're happy with the solution you should answer your question on SO: http://stackoverflow.com/q/43365702/264628.. @SStembridge I've noticed the same thing. It's something I need to research a bit.. Looks like you have output buffering turned on. At some point in the process before you call the stream method the buffer is being written to. Try clearing the buffer prior to streaming. You might also check that HTML to see if there are any PHP warnings thrown in.. Side note, good on you for checking the source! That's a level of debugging effort not usually put in.. Is the CSS included in the document or referenced in an external stylesheet. More than one stylesheet?. The reference to one may not be accurate for one of the servers, unless they're exact mirrors. How are you loading the document into dompdf? How are you referencing the external stylesheets?. Perhaps dompdf is having trouble reading the minimzed version of the bootstrap stylesheet on the second server?</p>\n<p>You might try loading a fresh copy of dompdf on the server where it's not rendering correctly.. @caliburn82 dompdf does not currently support CSS variables so those would definitely be a problem. Can you open a separate issue with this information requesting an enhancement? I think first pass would be to make sure we don't produce errors when parsing these values.. Dompdf no longer supports rendering HTMl in the file. You'll need to fully render the PHP to HTML before passing it to Dompdf. You can do that by accessing the file via your web server or by including it and capturing the results to an output buffering.</p>\n<p>Note that the <code>&lt;script type=\"text/php\"&gt;...&lt;/script&gt;</code> syntax is mainly used to accommodate embedded script that allows you to access the underlying PDF rendering back end. This doesn't allow you to generate HTML content on-the-fly, but you can add content to the page using the PDF canvas object.. You're <code>echo</code>ing out the content instead of capturing it in the variable you pass to Dompdf. The new lines 7-10 should read:</p>\n<p>```\n$content = &lt;&lt;<HTML\n<!doctype html></p>\n<p>\u00bfQu\u00e9 es DOMPDF?&lt; b r &gt;Ejemplo lista<br>$url\nHTML;\n```\n. It is true that dompdf does not yet support the \"col\" tag. In the meantime you should be able to set up the widths using the other two methods. With the exception that the table cell must contain content of some sort. Do you have a sample of the HTML+CSS that's producing the incorrect results?. It is true that dompdf does not yet support the \"col\" tag. In the meantime you should be able to set up the widths using the other two methods. With the exception that the table cell must contain content of some sort. Do you have a sample of the HTML+CSS that's producing the incorrect results?. The problem due to the fixed table layout styling. It looks like when you style the table in this way the column widths are ignored and the width of the table distributed evenly across all columns. If you don't specify a table width then the table collapses completely. Obviously something we'll need to look into more.. It <em>looks</em> like the font it embedded correctly. I'm not sure why it would display correctly in Chrome but not in other viewers. Can we see a sample of the HTML+CSS you're using?. It <em>looks</em> like the font it embedded correctly. I'm not sure why it would display correctly in Chrome but not in other viewers. Can we see a sample of the HTML+CSS you're using?. Can you clarify the font definition? You specified \"DejaVu\" but the actual font family names used by the included fonts are \"DejaVu Sans\" and \"DejaVu Serif\" (for example).. Thinking about it more ...</p>\n<p>Are you moving dompdf from one system to another? It could be that dompdf recognizes your font family declaration and sets up the PDF as if it is using that font. But when Dompdf goes to grab the font file for embedding it's not finding the file.</p>\n<p>If this is the case the quickest fix should be to reset the font directory back to its initial state.. 45 rows doesn't seem like an overly large amount of data. I see you're using the bootstrap (?) grid to lay out your document. While Dompdf 0.8.0 does a better job with Bootstrap we still need to do some work to fully support it. Have you tried with tables?. http://stackoverflow.com/q/43600190/264628. Do you have a working URL I can use for testing. Maybe also the HTML you're trying to render. I have not seen that before.. http://stackoverflow.com/q/43628314/264628. Well, that's an odd affect. Was the URL part of a resource reference or just text on the page?. Well, that's an odd affect. Was the URL part of a resource reference or just text on the page?. You would need to enable remote if you're using a URI that includes the protocol+domain. I'm not sure what about the code is mangling the URI but we'll take a look.. see #1472. indeed \ud83d\ude1e . Which version of dompdf are you using? Using only the sample code above it works fine so it could be something in your stylesheet. Any relevant CSS?. http://stackoverflow.com/q/43714419/264628. Dompdf 0.7.0 correctly renders the checkbox as checked, but still has an issue with the width assigned to the checkbox. Dompdf 0.8.0 appears to render fine. So far I have been unable to reproduce the issue.</p>\n<p>It's possible that the document stylesheet could be over-riding the font in which case it may not display correctly. The stylesheet in 0.8.0 was tweaked to try to prevent that from happening.</p>\n<p>@hiteshambaliya if you have a sample that reproduces the issue we can take a closer look.. Lots of issues identified and some fixes as well. We're planning to add some documentation around some of the raised issues and some issues we plan to address in a future release.</p>\n<p>Anyone in this thread still need any specific help?. That is a common issue, especially when migrating code rather than installing a fresh copy.. Dompdf does not currently support WOFF fonts. Make sure you're using TTF.. Thank ... goodness (?). But that's a bummer.. Thank ... goodness (?). But that's a bummer.. This would be good for a \"known issues\" document. Re-opening until I have a chance to work through documentation updates related to the 0.8.0 release.. This would be good for a \"known issues\" document. Re-opening until I have a chance to work through documentation updates related to the 0.8.0 release.. Started a wiki page for <a href=\"https://github.com/dompdf/dompdf/wiki/Known-compatibility-issues\">known compatibility issues</a>.. There are some problems rendering with font awesome. In 0.7.0 I was able to get it working by <a href=\"http://stackoverflow.com/a/37289218\">customizing the font awesome-related CSS</a>.</p>\n<p>We fixed the specific issue in 0.8.0 but Font Awesome is still broken. I haven't had a chance to identify what's going on in 0.8.0 yet.. There are some problems rendering with font awesome. In 0.7.0 I was able to get it working by <a href=\"http://stackoverflow.com/a/37289218\">customizing the font awesome-related CSS</a>.</p>\n<p>We fixed the specific issue in 0.8.0 but Font Awesome is still broken. I haven't had a chance to identify what's going on in 0.8.0 yet.. @lexthor this seems to be working OK for me with 0.8.3. If you can show some sample HTML where it doesn't work we'll take another look.. If I recall correctly, you can just load the TTF font using one of the normal methods (<code>@font-face</code> or the <a href=\"https://github.com/dompdf/utils/blob/master/load_font.php\">load_font.php</a> helper) and it should replace the core font.. But ... you shouldn't need to provide a font since this is a core font. Unless you are using characters not supported by Windows ANSI (though those characters should just render as \"?\"). Which reader are you using? Do you have a sample document?. Sorry. Don't know how I missed the obvious reader reference \ud83d\ude1e.</p>\n<p>I don't want to burden you on your holiday so feel free to put this off following up until you get back.</p>\n<p>Since we Helvetica is a core font we shouldn't need to embed it. PDF viewing applications are required to provide a built-in version of the core font. Support for some of the core fonts has been waning (ZapfDingbats for example) but I can't imagine Helvetica would be removed.</p>\n<p>I'll need to do some testing and see if I can reproduce. I'll let you know if we need any further information.. Confirmed. I've run into the issue myself (though, obviously, hadn't yet posted an issue) and am pretty sure it is a problem with static variable use. I'll need to review my earlier research to provide a temporary work-around.. Nice catch.</p>\n<p>Please remember to submit pull requests to the develop branch.. Agreed. That's the commit reference. I'll need to look to see if this can be generated as part of the composer install or if we need to fix it in the file before tagging.. The sample HTML from the OP:</p>\n<p>```\n<div id=\"body_content_inner\" style='color: #737373; font-family: \"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif; font-size: 14px; line-height: 150%; text-align: left;'>\n    <div class=\"ywgc-template style1\"></p>\n<pre><code>    &lt;div class=\"ywgc-preview\" style=\"clear: both; max-width: 500px; margin: 0 auto; margin-bottom: 15px; border: 5px solid #F7F4F4; padding: 5px;\"&gt;\n        &lt;div class=\"ywgc-main-image\" style=\"max-width: 100%; height: auto; margin: 0 auto; display: block;\"&gt;\n            &lt;img src=\"http://test.artmedia.ee/vspa/wp-content/uploads/2017/05/600volukaart-lyhike.jpg\" id=\"ywgc-main-image\" class=\"ywgc-main-image\" alt=\"Gift card image\" title=\"Gift card image\" style=\"border: none; display: block; font-size: 14px; font-weight: bold; height: auto; line-height: 100%; outline: none; text-decoration: none; text-transform: capitalize; max-width: 100%; margin: 0 auto;\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"ywgc-card-values\" style=\"overflow: hidden; margin-top:360px; padding: 5px 0; display: table; width: 100%;\"&gt;\n            &lt;div class=\"ywgc-logo-shop\" style=\"width: 40%; display: inline-block; vertical-align: middle;\"&gt;\n                &lt;img src=\"http://vspa.ee/wp-content/uploads/2016/11/sitelogo.png\" class=\"ywgc-logo-shop-image\" alt=\"The shop logo for the gift card\" title=\"The shop logo for the gift card\" style=\"border: none; display: inline; font-size: 14px; font-weight: bold; height: auto; line-height: 100%; outline: none; text-decoration: none; text-transform: capitalize; max-width: 100%; max-height: 100px;\"&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"ywgc-card-amount\" style=\"text-align: right; padding: 10px; font-size: 25px; font-weight: bold; display: inline-block; width: 50%; float: right;\"&gt;\n                &lt;span class=\"woocommerce-Price-amount amount\"&gt;10&lt;span class=\"woocommerce-Price-currencySymbol\"&gt; EUR&lt;/span&gt;&lt;/span&gt;           &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"ywgc-card-code\" style=\"padding: 10px; color: #9b9b9b; text-align: center; border-top: 1px solid #e6e6e6; border-bottom: 1px solid #e6e6e6;\"&gt;\n            Your Gift Card code:            &lt;span class=\"ywgc-generated-code\" style=\"font-weight: bold; display: block; font-size: 18px;\"&gt;NWKF-99P0-ZOGG-OKSG&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=\"ywgc-card-message\"&gt;123545&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p></div>\n```. I did not have any trouble rendering the document in the released versions of dompdf. I'll note one thing that's a known issue: you modified the display styling of the image which is something Dompdf does not handle very well. See #693.</p>\n<p>The only other potential issue, barring additional information, is that maybe the function that determines the height/width of the image was unable to read the image. But that seems unlikely if the image itself is embedded in the document.</p>\n<p>This will make an interesting test case, though. Current dev doesn't render it correctly even though the released versions seem fine.. So far I am still unable to reproduce the micro-size rendering if the image. Unless we can do that we won't be able to address the issue or offer potential work-arounds.. Sorry, I didn't provide clear enough specifics on what I was seeing. The image is correctly sized on dev. I'm getting a different issue where the image is removed from the document flow (the following text is rendered on top of it).. Confirmed. Thanks for looking into it more @agoradesign. Looks like there are probably a few issues to address (particularly in dev).</p>\n<p>I haven't looked at the code yet but best guess is that because column size is based on the content (if the width is not defined) the <code>max-width</code> on the image will be small. This is likely because without any other content in the cell the column size is being defined based on the \"characters\" present in the cell. And the image width is being defined before it is rendered, which is before the table cell is rendered. Or something like that.</p>\n<p>Plus some other obvious issues around using <code>max-width</code> in tables.</p>\n<p>Looks like the work-around for now is setting setting that styling to <code>max-width: none;</code> (the default).. Two things. First, Dompdf has float enabled by default starting with 0.7.0 so you don't need to modify the configuration to enable it.</p>\n<p>Second, as of 0.7.0 we no longer use the configuration constants. So changing the value of <code>DOMPDF_ENABLE_CSS_FLOAT</code> does nothing. You'll want to pass in values on Dompdf instantiation or use the <code>$dompdf-&gt;set_option()</code> method.</p>\n<p>Regarding your follow-up question, <code>overflow: auto;</code> is supported. What are you looking for that isn't working in your PDF?. @cabeza-melon thanks for the assist \ud83d\ude4c . And if you remove that link everything renders correctly? Do you have a sample of the HTML+CSS?. With dompdf 0.8.0 we no longer use the configuration constants. Based on the <a href=\"https://github.com/barryvdh/laravel-dompdf#configuration\">laravel-dompdf documentation</a> you should be able to enable embedded PHP support with the following command:</p>\n<p><code>PDF::setOptions(['isPhpEnabled' =&gt; true]);</code>. Breaking the page is the default behavior. It's likely something in your HTML that's throwing off the rendering. Can you post a sample of the HTML?. I've not used dompdf with CakePHP3. But the easiest way to add fonts is to use the <code>@font-face</code> CSS declaration.. Just apply background image styling to the body. Something like the following:</p>\n<p><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n&lt;/head&gt;\n&lt;body style=\"background-image: url(http://eclecticgeek.com/images/macro/ants.jpg);background-repeat: no-repeat; background-position: center;\"&gt;\n  &lt;p&gt;p1&lt;/p&gt;\n  &lt;p style=\"page-break-before: always;\"&gt;p2&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></p>\n<p>If that's not sufficient you'll have to be more specific in your question.. What release of Dompdf is everybody using? So far I've been unable to reproduce this issue.. Sorry for the delayed response. If you're still having issues we'll need to see a sample of the HTML used to generate the PDF.. I'm a little confused by your layout and by your question. Can you rephrase it some.</p>\n<p>I did notice one potential issue, however, in your use of a container table. Dompdf is able to handle tables within tables, but there is a limitation with regard to how large an individual cell can be. If any table cell exceeds the height of the page then dompdf will be unable to process it correctly and will enter an infinite loop (see #98).</p>\n<p>If all you want is a border around the table but now the table cells you can do the following:</p>\n<p>```\n<style>\n  table { border-collapse: collapse; border: 1px solid black; }\n\n\n\nTest\nTest\nTest\n\n  ...\n\n```\n. Anything is possible, given sufficient resources. Which, right now, are few.\nI'll add it to the list, though, it's a good suggestion.. Which version of Dompdf are you using? As of 0.7.0 we no longer use the dompdf_config.inc.php configuration file. Look through the README for the specific version you're using. Or head over to the wiki. Presumably you didn't mean to close this issue?\nDid you copy your dompdf content from one server to another? If so you can try restoring the dompdf/lib/fonts directory to it's default state.. Are you saying you want to be able to take an existing HTML document and append content before rendering? Let us know if that's the case, or clarify what you want to do otherwise, so we can respond appropriately.. I'm even more confused now. Are you saying you want to construct the PDF in parts and then merge them together? Or do you want to take various HTML snippets and combine then and then create the PDF?\nIf the latter Simon's provided you the technique. But either way he is also correct in that this is something outside the bounds of what Dompdf is designed to do.. The last release of that content would be included with dompdf 0.6.2 here: https://github.com/dompdf/dompdf/tree/v0.6.2/www/test\nThere are plans to re-create the content in the dompdf/utils project ... but no timeline for doing that.. It's hard to debug with the PHP that generates the HTML. Do you have a sample of the HTML itself?. Which version of Dompdf are you using? As of 0.7.0 we no longer use the dompdf_config.inc.php configuration file. Look through the README for the specific version you're using. Or head over to the wiki.\nIf you downloaded the packaged version of dompdf I think you can modify the require statement in step 3 to be require_once(\"dompdf/autoload.inc.php\");. You'll also either want to reference the Dompdf namespace (i.e. use Dompdf\\Dompdf;) or instantiate Dompdf with the full namespace path (i.e. $dompdf = new Dompdf\\Dompdf(););. We could probably save some trouble by using tempnam instead of the MD5 hash of the remote file when creating the temporary file name. You wouldn't need the do...while loop in that case.\nThen the main thing we'd want need to try to avoid is writing to the stored font file while another process generating the PDF document. I don't know how much extra logic we want to put in to handle this case.. No worries. I think I just about have it all done. Took a bit longer because of the changes I made that broke your PR.. I dunno what I did with that last pull request, but your changes are now merged. Sorry you don't show up in the commit history, I prefer to show where things came from.. The direct child selector is likely being affected by the creation of container tbody elements for the table rows. This action is performed during document parsing before the styling is applied. It's a known issue (though I couldn't find anything for it).\nYou can work around the issue by removing the child selector (table tr { ... }) or adding tbody to the selector path (table > tbody > tr { ... }).\nThis might be a quick fix so I'll go ahead and add it to the list for the next release.. I thought maybe I could come up with a quick fix for this, but I'm not happy with what I came up with (too many potential drawbacks).\nI decided to check browser rendering of that selector and both Firefox and Safari don't apply the styling to the TR. I'm going to drop further investigation for now and we may not address it at all. Unless you have another child selector sample that does render in the browser but not dompdf.\n. That's ... interesting. The PHP version specific bugs are the worst. 5.3.1 is old enough that we'll probably not fix this. But I will do a bit more investigation just to be sure.\n@jutho-agentur which version of PHP are you using?. It could be a path issue. How are you loading the document into Dompdf and how are you referencing the issue in your HTML? Also, are the basic system requirements met?. Addressed in commit c2b6f04.. @tucson-tom we haven't yet tagged 0.8.1, so unless you're specifying dev-master for Dompdf you'll still be getting the older version of php-svg-lib. We should have the new Dompdf tagged sometime next week.. Can you post a full HTML sample as well?. Confirmed. It probably is a similar issue. I don't know if it's a matter of using sans-serif as much as how the document flows when using sans-serif vs. some other font. I don't think we'll get to this one for 0.8.1 but I think for the follow-on release.. The specific error indicates that PHP is looking for the mb_internal_encoding() method in the Dompdf namespace. I haven't run into this before so I'd need to take a closer look. I believe you should be able to temporarily avoid the issue by prepending that method call with a backslash (), e.g. \\mb_internal_encoding(...);. Just to confirm, MBString is enabled in your installation?. Yes, or the internal representation of the characters could be problematic during parsing. This mainly applies if you're rendering any non-Windows ANSI characters.\nStill, it's not something you should have to do unless you're using an older version of Dompdf. It's the the very first thing Dompdf does.. Sample would be good. The ref_size is supposed to only be a float per the phpdoc comments. Might need to make a change elsewhere to fix usage.. It's one of the last things we need to do for 0.8.1. Just need a bit of time to review internal usage of that method since it expects a float for the second argument.. I'm not worried about the patch. I just want to make sure we review the Dompdf code style_in_pt usage. There is obviously some code that's not calling that method correctly.\nI recognize this will address the issue anywhere we are making the call. I just want to make sure we check so that we can catch any potential issues with our own code.. FYI, in the future please remember to submit PRs to the develop branch.. Since this only seems to affect a single system I don't think it's a problem with dompdf specifically. At least, I can't say otherwise without more evidence. Perhaps something about the user's request to the server is affecting the rendering.\nIf you can get the HTML used to generate the PDF on one system vs another that would give us somewhere to start.. Probably related to #952?. Or if you specify a width. It looks like something about the auto-width calculation plus auto-margin calculation is causing problems.. Your updated examples are extremely helpful!\nMedia queries were completely ignored before 0.8.0 which is why they would not have any affect on the rendering in previous versions.\nFor the float issue, I believe what's happening is that the combined media query restrictions are being treated as an \"or\" rather than an \"and\". We'll take a closer look and if this is the case should be able to produce a fix for the next release.\nFor the font over-ride issue ... I had no idea! We'll have to look into that.\nThe fact that normalize.css is causing issues is likely due to a bug in how pseudo-selectors were being handled. That should be corrected by commit a3a160f2.\n. This is something I've considered. It doesn't strictly follow the CSS spec, but it seems like a valuable option to have and I haven't come across a better way to handle this type of styling.. this is related to #498. We'll have to look at what the (PDF 1.3) spec allows for this, but we will definitely look into this.. I would guess those segmentation faults are caused by a PHP crash. Maybe due to a memory overrun. To start, can you render a simple \"hello world\" style PDF document? If that works, then it would help to see the HTML the invoice is using.\nWhich version of dompdf are you using? Also, PHP 5.4 is a bit old at this point. Any change of getting on a current release? I've found dompdf runs significantly better under PHP 7.. Did you intentionally close the issue? We actually have a fix in for the next release. Ref commit 7c3fe917.. see #1434. I'm not seeing the same issue on my system using Dompdf 0.8.0 with PHP 7.1.5. Possibly it's an issue with 7.1.7, but I'd need to set up a system with that to see. It could also be one of the system libraries that's causing the issue.\nGenerally, we recommend using the HTML5 parser because it can help prevent all kinds of parsing issues. I understand that's a work-around not a resolution. But unless we can definitely identify the cause we won't be able to resolve the issue.\nIf you have time it would help if you could identify precisely what is causing the issue. We've seen more requests for help with this issue lately. It's generally caused by one of two issues:\n\nDompdf attempting to parse a null HTML string.\nThe default stylesheet not loading correctly.\n\nIf you have time we can work with you to try to identify the exact cause.. Dompdf doesn't use any particular libraries beyond the ones provided by PHP or your operating system. The main one at the point of parsing, with the HTML5 parser disabled, would be anything required by the DOM extension (i.e. libxml).\nSince we have seen quite a few queries regarding the \"No block level parent found\" exception it might be worth investigating the particular issue around attempted styling of non-body content. But we won't be able to get very far unless I can reproduce the issue.. There isn't really a downside. The main reason it's disabled is that the version currently included with the project is no longer maintained and has a few bugs. There's a maintained fork that we intend to include in the future but haven't had a chance to review the integration.. Thanks @burlap. So it does appear that this is potentially due to a change made between 2.9.4 and 2.9.5.\nI'll have to see if I can set up a system to reproduce the issue. I may also review the change log and commit history for libxml to see if there's anything that stands out as a potential cause.\nCan you post the format of the document after loading it (i.e. the return from $dompdf->outputHtml();)? Not sure if it'll provide any clues but it can't hurt.. @garnold thanks for the feedback. Hopefully we can switch out our HTML5 parser in one of the upcoming releases.. Just time. There are a few issues slated for a 0.8.2 release, I'll try to pare them down to the bare minimum of bug fixes.. I merged #1570. I still need to see if I can find a testable setup.. The patch is now pushed to the master branch so if you're pulling from there you can update. If you're waiting for a tagged release I should have 0.8.2 ready sometime this week.. FYI 0.8.2 is out.. Can you provide some sample HTML that triggers the issue. I was trying to reproduce and couldn't quite get it.. The one things you shouldn't do with images is change the display type. This is a known issue (#693) and I can't recall at the moment if we've addressed it at all.\nJPG images are minimally processed, so it shouldn't be anything like IMagick/GMagick corruption. Do you have read/write access to the temporary directory used by Dompdf (requirements)? Can you post a sample of the HTML that's generating that PDF? And what about the PDF itself?. You might try checking that the image file created in the temp directory is correct. To do that set the \"debugKeepTemp\" option to true, e.g. $dompdf = new Dompdf(array('debugKeepTemp' => true));.\nIt may not be the extension but the backing library (e.g. GD). You can get all the relevant info on what's loaded using php -i from the console or with a PHP script with the phpinfo(); function call in it.. @exdelierium that is an interesting result. I'm not sure why saving vs. streaming would cause such a problem. We have had issues in the past where the stream did not end correctly but that would usually result in PDF corruption errors rather than white images. You can try seeing if that's the cause by forcing your script to end after the call to $dompdf->stream().. I'd also like to note that you can help us help you by providing the actual HTML rendered by Dompdf rather than the PHP code that generates the HTML.. I do realize this is the template you use to generate the HTML. It's more helpful for us if you provide the generated HTML so we don't have to guess at what should replace the PHP code.. The screen capture is ok but it's easier for us to try to reproduce the issue if we have the actual code.. Sorry, I mean the HTML+CSS of the document you're trying to render.. That's the PHP code that generates the HTML, not the actual HTML itself. We can more easily debug a problem if we don't have to go through and figure out what to replace the PHP code with.\nAnyway, I rendered it without doing any replacement and it does indeed produce the results you describe. I suspect the issue is due to the heavy use of inline-blocks but more research will need to be done to isolate the specific issue.\nYour document is structured in such a way that you should be able to achieve the same results using a table instead. Try something like the following:\n```\n\n    body { font-family: Calibri; }\n    .wrapper { width: 575px; margin: 0 auto; }\n    .row { margin-bottom: 10px; }\n    .row:last-child { margin-bottom: 0; }\n    .number { width: 25px; text-align: center; vertical-align: top; }\n    .photo { width: 125px; padding: 10px; border: 1px solid #000; }\n    .photo img { width: 100%; }\n    .description { width: 425px; vertical-align: top; border: 1px solid #000; font-size: 14px; padding: 10px; }\n    .list { width: 100%; display: block; margin: 0; padding: 0; }\n    .column-left { width: 30%; display: inline-block; }\n    .column-right:before { content: ': '; }\n    .column-right { width: 65%; display: inline-block; }\n\n<center>PROFIL ANAK LKSA WIDHYA ASIH</center>\n<center><?= date('Y') ?></center>\n<center>LKSA Widhya Asih : Singaraja</center>\n<br /><br />\n\n\nphp $i = 1; foreach($list_anak AS $anak) { ?\n\n= $i ?\n\n\n\nNama\n= ucfirst($anak['nama']) ?\n\n\nTempat Tgl lahir\n= ucfirst($anak['tempat_lahir']) ?, = date('d F Y', strtotime($anak['tanggal_lahir'])) ?\n\n\nPendidikan\n= ucfirst(explode('|', $anak['pendidikan_saat_ini'])[1]) ?\n\n\nMinat & Bakat\n= $anak['minat_bakat'] ?\n\n\nPretasi\n= !empty($anak['prestasi_untuk_sponsor']) ? ucfirst(explode('|', $anak['prestasi_untuk_sponsor'])[1]) : 'Belum ada prestasi.' ?\n\n\n\nphp $i++; } ?\n\n```\nnote: I switched to fixed widths on the TD classes because dompdf was unable to determine the appropriate width for the image otherwise. A separate bug.. Also, it's possible Dompdf thinks it's embedding the font but is not doing so. Or not doing it correctly. In this case I imagine it is possible some PDF viewers may be substituting a system font, where as others may not.\nI'm not sure about the encryption issue. I would have to peek at the PDF source, which I have not yet done. Same for determining the font status.. Simon's probably right on this one. Something we should look at a bit more.. I was unable to reproduce the flow issue from your sample, but I believe this may be fixed for the next release (7c3fe91). If you are able to confirm this by trying out the develop branch that would be helpful.. I don't know if this is what we want to do. I think adding the check for the constant is a good idea, but if the constant doesn't exist we still don't want to check the extension version since that doesn't tell us what we need to know.\nPerhaps what we should do if the constant doesn't exist is check the existence of the clone method? Something like:\nif ($imagickClonable === null) {\n  if (defined('Imagick::IMAGICK_EXTVER')) {\n    $imagickClonable = version_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1') > 0;\n  } else {\n    $imagickClonable = !method_exists('\\Imagick', 'clone');\n  }\n}\n(I haven't tested, do we need the \"\\\" for the root namespace?)\nThoughts?. I have a question about this change. There's not much change to the PDF itself (just the encrypting of the ordering and registry text). Do we need this change for the next release? Does it improve the ability of PDF viewers to read the PDF at all? Or is this more tightening up of the security profile of the PDF?. I'll test later and probably go ahead and pull this in. The only thing I'm not sure about is if we're encrypting the right (or sufficient) parts of these objects. We'll need to review this more in the future, but if nothing breaks I'm OK pulling it in.. It is possible, but not simple. Have a look at this TOC sample: http://eclecticgeek.com/dompdf/debug.php?identifier=toc-v0.6.x. Are you using fixed-position elements for that other content? If so I can see why that would be a problem. Can you post a sample of your document?. I see you came back in #1512. Presumably I can test with that document?\nFYI, since the current page can be generated using CSS you should be able to change up your header like so:\n<header class=\"page-all\">\n        17-18/000105\n        &nbsp;\n        <script xtype=\"text/php\">$GLOBALS['pager_n'] = $pdf->open_object();</script>\n        pagina <span class=\"pagenum\"></span> van %m%\n        <script xtype=\"text/php\">$pdf->close_object();</script>\n    </header>\nwith this additional CSS:\n.pagenum:before { content: counter(page); }\nThen your script at the end only needs to deal with the total pages replacement. I'm not sure when we'll address being able to use CSS to generate the page count, but it is on our radar.\n. Nice hacking there! I'm glad you were able to work it out.\nThe CPDF class is in need of a major rewrite, but it's not on our immediate to-do list.\n. Not really. The most relevant may be #184. As you can see the idea has been around since before we moved to git.. The box character typically means the expected glyph is missing from the font. The two fonts you specify do not appear to support both CJK- and Latin-based characters. Until we support unicode range definition in the @font-face declaration you will need to find a font that supports both character sets.\nYou can work around the issue by styling the Chinese character text so that it is displayed using Droid Sans Fallback.\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n    <title>Document</title>\n    <style>\n    .droid {\n        font-family: droidsansfallback, sans-serif;\n    }\n    </style>\n</head>\n<body>\n    <span class=\"droid\">\u4e2d\u6587</span> / English\n</body>\n</html>. The Windows font info dialog does seem to indicate it supports those characters. But if I open the font on OS X or inspect it with php-font-lib it's not showing those characters.\nAccording to this site:\n\nSupport for CJK is provided by the Droid Sans \"fallback\" font. This font contains over 43,000 glyphs and includes support for Simplified Chinese (GB2312), Traditional Chinese (Big 5), Japanese (JIS 0208) and Korean (KSC 5601). This font uses the Simplified Chinese ideographs for shared Unicode code points.\n\nThe page also states that \"Each of the Droid fonts contains an extensive character set with coverage including Western Europe, Eastern/Central Europe, Baltic, Cyrillic, Greek and Turkish.\" But that statement is before the description for the Fallback variant so I don't know if it applies.\nWhen I download the font from android/platform_framework_base it appears to only include CJK glyphs.\n. Upon further investigation I can say for sure that Droid Sans does not support the latin characters ... at least the versions at the latin code points (https://codepoints.net/basic_latin). What it does support is the half- and full-width forms (https://codepoints.net/halfwidth_and_fullwidth_forms). If your latin text is not using those code points the characters won't display.\nI don't know what Windows is doing to display the latin text in the font sample. Perhaps it is detecting that the font doesn't support those code points and so is substituting the full-width versions. Or maybe it's just substituting some other font. Either way, Dompdf doesn't perform that kind of substitution.. FYI, the relevant Unicode range enhancement request can be found in #913.. @MichaelEugeneYuen was it? I haven't seen that before. Possibly a new bug? How did you add your font?. @MichaelEugeneYuen thanks for the follow up. Maybe I'll go ahead and add some logic to strip out quotes. I have some other changes to make to that script.. Confirmed. This should work, but definitely does not. I'm glad you were able to work around the issue.. My first thought is ... what font do you use for the document and do you have font subsetting enabled? Additionally, it's possible image processing that Dompdf performs could be producing larger image sizes. Are you using JPG or PNG? JPG images are inserted without additional processing.\nBeyond that it would help to know more about the document. If you can supply a sample of the HTML+CSS and images we can take a closer look. You can also supply the PDF generated by Dompdf and we can break it apart to see what's taking up so much space.. Is your image a PNG? If so it's likely because dompdf is creating a new one based off the original. We do a lot of processing of PNG images to accommodate the features it supports that aren't available natively in the PDF 1.3 spec.\nYou might try using a JPG image instead. Those go in without being touched.\nCan you share a sample of the HTML you're using and the image?. Is the image you're using a PNG or a JPG? Based on the PDF object profile it looks like a PNG. If that's the case I believe it's probably the DPI of 300 combined with the complexity of the image. I don't recall off the top of my head because I haven't looked at that part of the code in a while, but I believe that Dompdf re-renders PNG images so that they are more compatible with the PDF 1.3 spec (as I mentioned before). I did a test with a similar image and had similar results. For an image such as yours you'll get better results using a JPG since Dompdf will insert the image as-is.. I saw what you used in your sample, but when I look at the PDF source the object defined for your image matches what would be used if the image were a PNG. Can you upload the image used in the original PDF sample?. I see it now. It's because the image is used for a background and background images are re-generated from source so we can handle background-repeat styling. So the JPG rule doesn't work for background images.\nYou could work around this by using a positioned div containing the image rather than setting it as a background. It would take a bit more work to set up but should allow you to avoid the image re-generation penalty since you're not repeating in any direction.. I don't see anything of particular concern in your code. But can you please post the HTML and generated CSS so that we can more easily debug the issue?. Hm. It would be nice to try and track down the culprit ... if you have the time and inclination. Which version of Dompdf are you using?. There are likely a few bugs here. I have noted the oddity with fixed-position content generation in the past but haven't had a need to track it down yet.\nI'll take a closer look as I can.. I agree the footer issue isn't important but it's still unexpected behavior. If we have to supply a work around the results should at least be consistent.\nThe paragraph breaking issue is definitely something we'll need to look at.. This isn't an issue with font subsetting. The issue is that CPDF is converting the metadata field text to Windows ANSI as it compiles the PDF source.\nSo how does this happen? All text in the document is run through a filter to format it correctly. One of the filtering options is to convert the character encoding of the text to a PDF-compatible encoding. The encoding conversion relies on the currently selected font. This is fine for most text in the document since the font is selected as it is created. Some text, however, is filtered as the PDF source is compiled (during the output/stream method) and so does not select a font. Metadata is one of the these texts. If the last font used supports Unicode then all is well. If it doesn't then the text in the metadata fields is converted to Windows ANSI (the default PDF encoding).\nI think to address this we can just go ahead and encode all metadata strings as UTF16 with BOM. It's a bit overkill since not all text needs to be encoded in that way, but it's probably more reliable than trying to determine if UTF16 is necessary and conditionally encoding the text. Thoughts?\nTo work around the issue for now you can just ensure that the last font used supports Unicode. In your sample you use embedded scripting to set some text. So at the end of the script just make sure to select a font that supports unicode (i.e. DejaVu).. The meta-data has always been correctly encoded, just not always to the appropriate character set. If the last font loaded was a non-Unicode font it would convert the string to Windows ANSI encoding, resulting in a \"?\" for any characters not supported by that encoding.\nYou are correct in your presumption. If you specify a font that doesn't exist CPDF doesn't switch the font. It's like you didn't switch the font at all, meaning CPDF uses the font specified in the body styling.. Also just want to note that we probably have run into this issue before but didn't realized the cause.. @PirunSeng the issue is that DejaVu does not have support for Khmer glyphs yet. See the coverage chart. You'll need to load a different font that does support those characters.. With the release of 0.8.0 we adopted an updated core stylesheet (see dompdf/lib/res/html.css) that defines the display type of the table caption as table-caption. Classes that define how to render such an element do not yet exist. We added a catch for this element that should render it as a block element, but we must be missing something that handles border rendering.\nIt looks like you can work around the issue by adding display: block; to your styling for the caption element.. Caption issues originally noted in #78.. A common cause of this type of message from your PDF reader is that the PDF source contains PHP errors at the top of the file. Try opening your PDF in a text viewer and/or look in your PHP logs.. I believe this should be fixed by commit 7c3fe91.. It's an interesting concept. We'll take a closer look as we have time.. I'm slammed these days so I'll only be working on bug fixes for the next release. Will keep you updated on progress with this enhancement.. Is develop 25% slower after the commit or just in general. We're not focussing on performance just yet, mainly bug fixes. But a 25% penalty would be extreme. Which version of PHP are you using?. it would help to see a sample of the HTML+CSS and your dompdf usage.. Something that simple should work just fine. Is this running on a shared host? It may be that you can't modify those settings in that case. Have you enabled/checked the PHP error log? What do you see in the rendered PDF?. Can you upload the resulting PDF?. I'm not sure why an image-only PDF would fail to load the image. I'll see if I can reproduce (you never know).\nThanks for following up. Sorry to hear your host is being so \"helpful\" \ud83d\ude09.. Also, during render is when dompdf breaks up the document into multiple pages. So using this method you would never get a height larger than the page size.\nThere are some methods I've outlined in the past that could help, but that required making some changes to the document stylesheet and running through a first pass, calculating the height based on the number of pages, and then rendering again.\nI'm wondering if maybe you could do something similar using callbacks instead. It would still require two passes, but you should be able to get a more accurate measurement that way.. There have been a few similar questions about how to get this type of information (see #1424) so I think I should add some documentation to the wiki.\nSo you should be able to do this fairly simply in two passes with code similar to the following:\n```\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$dompdf->set_paper(array(0,0,600,800));\n$GLOBALS['bodyHeight'] = 0;\n$dompdf->setCallbacks(\n  array(\n    'myCallbacks' => array(\n      'event' => 'end_frame', 'f' => function ($infos) {\n        $frame = $infos[\"frame\"];\n        if (strtolower($frame->get_node()->nodeName) === \"body\") {\n            $padding_box = $frame->get_padding_box();\n            $GLOBALS['bodyHeight'] += $padding_box['h'];\n        }\n      }\n    )\n  )\n);\n$dompdf->loadHtml($html);\n$dompdf->render();\nunset($dompdf);\n$dompdf = new Dompdf();\n$dompdf->set_paper(array(0,0,600,$GLOBALS['bodyHeight']+50));\n$dompdf->loadHtml($html);\n$dompdf->render();\n$dompdf->stream();\n```\nThis is only lightly tested so you might need to tweak things a bit. Some notes:\n\nget_content_box may give you a more accurate height calculation than get_padding_box since it should only include the height of the content itself\nmake sure the width during the first pass matches what the width will be in the second pass\nI'm not sure if you'll need to pad the page height (the +50, chosen randomly) but it seems likely to help avoid bumping up against the page bounds\nmake sure you don't have any forced page breaks in the document\n. @josegus I don't use laravel so I couldn't say for sure, but I believe you use the getDomPDF method to retrieve the Dompdf instance. So if $pdf is your laravel instance you would just make the following call before you use my sample code:\n\n$dompdf = $pdf->getDomPDF();\n(ref). @wergh I don't have an answer off the top of my head when the body is styled with auto margins or padding. Quickest fix is to specify a value or \"default\" for those attributes.. I'm unable to reproduce what you're seeing. I would guess something in your CSS is causing the unexpected rendering. Can you share a full sample (HTML+CSS) that exhibits the issue?\nI'd also like to note that your HTML syntax isn't quite right. You shouldn't place your inner list directly inside the outer list element. The inner list should be inside an LI element. This, however, doesn't appear to be the cause of what you're seeing.. No worries. Glad it worked out in the end.. This looks to be a duplicate #1493, which is already targeted at the develop branch (preferred for pull requests).. The issue is with the auto-margins, originally surfaced #1482. We haven't yet determined the cause. Also note, Dompdf can have problems if you change the display styling for image.\nLuckily the work-around in your case is fairly simple. Just modify the styling on the image and container to:\n<p style=\"text-align: center;\"><img src=\"http://i66.tinypic.com/28i2dk0.jpg\" width=\"751\" height=\"300\" /></p>\n. Can we see a sample of the HTML+CSS?. WIth your sample code I wasn't able to reproduce the issue. I can't be of much help unless I can do so.\nI'd guess it's probably an issue around the CSS. First thing I would try is to remove the styling and add back a piece at a time to try and isolate the cause.. This isn't really my strongest area. If @PhenX has time he might be better able to assist.\nThat being said, I don't think the issue is that the font height returned is incorrect. What are you attempting to do with the value? Set the height of a containing element?. Seems reasonable.. Also seems to be an issue for Safari (tested with 10.1.2).. If we do decide to include the iconv usage we'll also want to update composer.json to reflect that requirement. Transliteration is a nice touch, but is it nice enough to require iconv just to handle the filename?\nI agree that filename generation might prove useful as a helper since the code is the same.. Ah, I didn't think about that. Ideally we would like to eventually move the Cpdf backend into it's own project. But there's no timeline on that.\nIf you're up for it I wonder if we should modify the Cpdf adapter stream method to use Cpdf::output from the backend and rewrite it to be more like the other adapter methods. And keep the stream method code in the Cpdf backend, keeping it a bit more clean in terms of it's dependencies. That does require some code duplication, but its one less dependency to fix up if we decide to move it into it's own project.\nThoughts?. Most excellent. I appreciate your efforts.. Very nice. Thank you.. Appears to be due to commit 9895c02. We'll review that change.. I tried a variety of styling and had no luck. It looks like the border should be there based on the PDF source, but we'll need to investigate more.\nThe only thing I could figure out was using inline blocks instead of a table. Something like:\n<div style=\"display: inline-block; width: 25%; border: 1px solid black;\">\n          Insured\n        </div><div style=\"display: inline-block; width: 75%; border: 1px solid black;\">\n          {fullname}\n        </div>\nI didn't fully style the elements so you'll have to tweak the styling to get it to look just right. Sorry I couldn't find a better work around.. Presumably you're closing tickets because you don't like to have long open tickets attached to your account. That's fine, but there's still a bug to deal with so I'll open a new one, referencing this issue.. Actually, there's already a ticket for the underlying issue: #489. You're downloading the source code which does not include not dependencies maintained elsewhere.\nYou should only use this file if you are downloading a packaged release from the releases page. Look for a download link with the version number in it such as dompdf_0-8-0.zip.. This was done in commit c2b6f04. It will be part of the 0.8.1 release.. Do you have a sample PDF or (preferably) link to a PDF on your site that does not load in chrome?. We addressed a number of issues related to PHP 7.1 in the 0.8.0 release. A follow-up release (0.8.1) will be available in the near future that fixes a few issues that slipped by.\nFollow #1272 to see the full history.. Already addressed for the next release. See #1518.. This PDF has an egregiously ridiculous producer field.. Which version of dompdf are you using? Can you upload a sample of the resulting PDF?. There does appear to be an issue. We'll need to take a closer look. Do you have font subsetting enabled? If so you might try disabling it.. What font are you using and is it one you can share with us?. This logic is pretty much a hold-over from previous versions of Dompdf. We've talked about converting to JSON but I remember seeing some potential issues at the time and dropped the idea. What those issues were I can't remember.\nIf you have the time and inclination feel free to submit a PR with a suggested improvement.. Indeed you're not the first to ask about it. I'll be working on documentation for a little while and I'll be sure to update the instructions if you're pulling directly from git. And hopefully I'll have a dist builder ready sometime soon in the utils project.. Copied code sample here since debug helper recycles submissions after a period of time.. Nicely done.. The code base undoubtedly needs a good linting.. I have seen this before, and thought there was a relevant issue, but I'm not finding it. There is a discussion on the support forum: https://groups.google.com/d/topic/dompdf/fvXFbUg0bWg/discussion\nWe would like to be able to track down edge cases like this. Can you provide any further details about your system?. Seems to be an issue specific to PHP 7.1. I can reproduce when rendering a document in that environment. It's not an exception-level error in vanilla PHP, just a notice. But still a compatibility issue we'll need to address.\nI'm not seeing anything useful with a quick search of the web so a bit more research is in order.. As I mentioned in the support forum it looks to me like that property should be available. DOMText extends DOMCharacterData. The data property is defined on DOMCharacterData.\nMaybe for our purposes it would be sufficient to use DOMText::wholeText instead. Or to cast the node prior to reading the data property.. Interesting. I'll need to take a look at my installation and see if this is why I'm seeing that issue.. Are you using composer? It looks like potentially composer could attempt to install conflicting PHP libraries. Fixing it requires either updating sensio or tweaking your PHP configuration (I think that's what that issue is saying).. Do you have a sample of the HTML that you're attempting to render?. I don't see any errors using that text by itself. Perhaps something else in your document structure or the CSS is the cause. Can you provide a minimal, complete, and verifiable example?. I'd like to keep this open for not just to ensure we're not mis-handling an element. If you're willing to help, I'd like to see the code you used that caused the issue to see if we can reproduce it.. Composer updated to 0.8.1? I haven't run across this in my testing. Do you have a sample of the HTML + CSS?. It's maybe an issue with some changes we made in 0.8.1. If I render an empty document with just a reference to the Bootstrap 4 CSS I get an error.. Unless I'm mistaken I don't think it's the reference to external CSS generally. I believe Dompdf is mis-handling something in the Bootstrap CSS.. There are a few issues related to adding a header/footer: #571, #1190.\nHiding it on the first page is a bit more difficult. How you do it depends more on the nature of your document. There's at least one related issue (#385) and a post on StackOverflow (https://stackoverflow.com/a/7214442/264628).\nIf these don't help and you need more specific help please post additional details.. This is interesting and we'll definitely take a look. Some users are reporting incorrect character representations in the rendered PDFs. I wonder if this is the cause (or at least part of the problem).. oh boy. We shall study the tomes and confer with the fontly spirits to discern where the breakdown in reality is occurring.\nI greatly appreciate your efforts to bring clarity to the situation (and your knack for storytelling).. Is this resolved or did you close accidentally?. I'm not sure I understand the issue you're having. Is the problem that the header/footer is overlapping your content? Or do you want the header/footer to appear in a certain location?. You can still use load_font.php but you'll want to modify the fontDir and fontCache locations. Which you'll want to do regardless of how you load a font otherwise the install directory will be used.\nI'm not sure if a data-uri would work. I mean, we've put in a lot of code to handle that so it's conceptually possible but I've never tried it or confirmed it works for font loading.. It has, in fact, come up before. See #967. I'll put it on deck to we don't lose track of it for future dev work.. This should be something we can look at for the next release.. In reviewing the code the position of underline and strikethrough is determined in Dompdf\\Renderer\\Text. The specific logic looks at the height of the text in the frame to calculate the position of the line. It doesn't look like ascender and descender are taken into account, and I would need to do more review to see if any additional changes are necessary.. right \ud83d\ude1e . Not sure. I had some fairly large changes I was looking at for the next release but I may put those off to address some smaller issues first.. Oh I'm very sure people would not complain if we produced a new release sooner. If you look at our past release history it's not typically how we've done things. But I'm trying to get to a place where we release more often to address minor issues.. This does appear to be the case. Probably to do with string encoding.. This is the solution I was thinking was appropriate.. @Julianoe it has not yet been resolved. The fix is fairly straightforward but I've got other responsibilities that are consuming any time I might spend on it.\n@gemal yes if someone submits a PR that addresses the issue I will accept it.. Just curious, what is the goal of using that kind of styling on the body element?\nBecause of what dompdf needs to successfully process the document as a temporary work around we'll probably make the default display styling on the body element !important. It won't prevent someone from over-riding the styling, but should make it less likely that anyone will encounter this error.. The white space issue outside the body should be addressed by #1570. I still need to update the default stylesheet to better address the body styling issue. It won't be a definitive fix but it should help.\nI still need to look into whether white space between other elements is an issue. I have not seen that confirmed anywhere else. @bkilshaw do you have a sample HTML document?. Which version of Dompdf are you using?. I'm not seeing this with <p>&nbsp;</p>, but I can confirm with an empty P. We'll look into it.. Still not seeing it with &nbsp;. Maybe with that element it has something to do with your styling?. Thanks for the follow up. This should help as we work through the issue.. The issue with &nbsp; may have been resolved with 0.8.3. Previous versions were treating those as regular spaced in some situations. So using &nbsp; in empty P element may be the best work around for now.. Dompdf is an HTML+CSS parser. If you want to dynamically generate the CSS (in pdf.php) you'll need to do it before passing it to Dompdf. The way you would typically do this is to access it via your web server. If you load a file from the file system you'll just get the source of the file.. file_get_contents(\"output.php\") would fetch the file output.php from the local file system. Because this doesn't go through any intermediaries there is no PHP parser involved and so you'll get just the PHP source code.\nTo get the the parsed PHP you need to go through an intermediary, typically your web server. I.e. file_get_contents(\"http://example.com/output.php\").\nSame goes for Dompdf. If you load a document from a file on the local filesystem ($html = file_get_contents(\"output.php\"); $dompdf->loadHtml($html); or $dompdf->loadHtmlFile(\"output.php\")) you get the source of the file. Not a problem for HTML, but for PHP it will not be parsed. This holds for any resource references within the document as well. So a reference to a dynamically generated CSS file will still only fetch the source and not the parsed document.\nThis is because Dompdf uses the same protocol to load references as the original file. So if the original file is fetched via the file system then any resource references are also fetch via the local file system. Unless a specific protocol is specified in a fully qualified URI.. @donjajo yes if you are loading a font dompdf needs to be able to load it. Perhaps sometime in the far future we'll modify dompdf to support non-writable environments using memory streams or something like that. It'd be more memory-intensive, but would work regardless of file system permission.\nAt the same time we can hopefully build out support for low-memory systems using more filesystem read/writes (which would be slower).. Dompdf does work with Bootstrap ... conceptually. Something we changed with 0.8.1 seems to have broken rendering with Bootstrap 4. Until 0.8.2 you can use 0.8.0.\nRelevant to #1551.. That's all we need.. Just FYI, this isn't a major change so no big deal but in the future we prefer PRs on the develop branch.. No worries, feel free to leave this PR unless you want to do that. Just keep it in mind for the next one.. Did you download the packaged release or just the source code? The packaged release includes an autoloader to make it a bit easier. Have you followed the instructions in the README.md file? Specifically, Download and Install and the Quick Start.. How are you loading your document? loadHtml or loadHtmlFile?. You'll want to confirm a few thing.\n\nYou're using a relative path so make sure it's relative to the working directory where PHP is executing.\nYou have read/write access to the font and font cache directories.\nYou might try filling out your @font-face declaration to see if maybe it's a parsing error on our end, e.g.\n\n@font-face {\n  font-family: Tondo;\n  font-weight: normal;\n  font-style: normal;\n  src: url(\"assets/fonts/glyphicons-halflings-regular.ttf\") format(\"truetype\");\n}. Glad you were able to get it working.. Same issue as #1559?. That issue is about links to other documents, i.e. <a href=\"http://example.com\">example.com</a>.. I'm not sure about hrefs in 0.8.0. Seems to be fine. What do you get for that?\nI guess the question is what is going wrong? Links not working, assets not displaying?\nCan you call output_html so we can see what's being rendered?. No worries, so long as we get where we need to go eventually.\nFor your asset issue see #144 / #1370.. This was addressed in 0.8.1. See #1404.. Do you have a sample of the SVG generated by Raphael? Dompdf doesn't directly support Raphael so you might want to take your question over to the php-svg-lib project.. Seems to be two different issues here (please correct me if I'm wrong).\n\nLinks not working in 0.8.1. That's a duplicate of #1559.\nLinks not opening in a new tab. That's a duplicate of #1261.. There's potentially a few things going on here, but the biggest problem is that the line height calculation is off. I noticed that we weren't really doing a good job with that calculation as I was working on some issues for the 0.8.0 release.. Extremely doubtful at this point unless somebody wanted to help set it up.. Do you have a sample of the HTML+CSS causing the issue?. Looks to probably be the margin-right: 500px; (did you mean to put 50?). Even tweaking that value, though, and it's not pretty. Of course, that's a problem with our rendering with Bootstrap, which is still a work in progress (#631).\n\nThis, however, is not directly related to bootstrap but, I think, how we're flowing the elements.. The patch for this is now on the master branch. Look for the 0.8.2 release (coming soon).. Thanks for the PR. The size seems a bit excessive.. After looking at why this error was happening I noticed we were already performing this check in the non-generated content style logic block, but with a slightly different condition. I modified the code to use that condition so that the two match up (a76c706).. Did you close on purpose?. Nope, that's what we prefer! Thanks for catching it.. The patch for this is now on the master branch. Look for the 0.8.2 release (coming soon).. Good catch. We'll update the documentation and composer config.. It depends. There's been a recent discussion (#1813) where performance was investigated and it appears that PHP's garbage collection can have a significant performance impact. The larger the number of frames being generated the more time will be spent on garbage collection.\nAlso, because of the extra tracking that has to occur with tables these can also have a significant impact on performance.\nIn the past, I've found breaking a document into chunks and rendering those in separate processes can improve performance. I typically do this via two separate PHP scripts ... a controller script that collates the input/output, renders via a call to the rendering script via exec, then combines the output using another library.. When using composer all the dependencies will be installed by composer. If you download the packaged version of Dompdf all the dependencies should be included. But I just checked and that dependency is currently not in the packaged download. We'll fix that with the next release.. The 0.8.2 release is ready. If you're using the packaged version try downloading this release and see if you're issue is resolved.. @rmpel indeed you should use the packaged version or composer if possible. We do need to do a bit of work around the documentation. I moved out the autoload.inc.php since it's more an add-on for the packaged version.. I believe #842 would address the issue.. Just FYI, that code isn't yet integrated. We will include it for the 0.9.0 release and maybe before then in one of the intermediate releases.. Sorry for the delay ... took a bit longer than I was hoping. But I guess that's the theme of the project \ud83d\ude1e . No idea. Do you have a sample of the HTML+CSS?. The call is coming through the margin collapse logic, is this with the just-posted 0.8.2 release?\nI don't use laravel so I'm just guessing but you should be able to access the instance of Dompdf, in which case you can call output_html to see what's being rendered. Maybe if you modify that last bit of code to something like:\nreturn PdfReport::of($title, $meta, $query_builder, $columns)\n    ->make()\n    ->getDomPDF()\n    ->output_html();\nmake returns the Dompdf instance (laravel-dompdf in this instance), getDomPDF is the laravel-dompdf method to return Dompdf, output_html is the Dompdf method to return the imported HTML document.. If you want to post the HTML we can look at why Dompdf is tripping over the margins.. OK, I can reproduce. Looks to be introduced with 0.8.0. Quick fix to Dompdf would be fairly trivial (just check for the existence of the key) but I want to make sure we're handling it correctly. I'll add for the next release.. The cause of the issue was because we were directly accessing style property methods and not using the default accessor (__get) when retrieving style properties in some instances within Dompdf. The generic accessor sets a default value for the style properties when none is defined. This was fixed in 5cc48383e6f88cc3b285b1950f0650886fab14a4.\nThough we've corrected the issue in our own code, the calls are still accessible. Anyone attempting to call these methods directly would bypass the default-setting behavior and still run across the issue. Ultimately, we should probably make the style property methods private to avoid this type of issue.\nStill, I'm closing since your immediate issue has been resolved.. That one seems like it should be fairly straight-forward to add.. I haven't had anyone run into this issue before. Is this after running for a period of time or does it always happen? If you restart your services do you still get the error?. Hm ... could be that the PHP process had hung and wasn't able to release some file handles. Let us know if you run into the issue again.. 500 errors are generated by your server when there's an exception. We'd need to know what the actual error is before we could offer much help.\nWhich version are you using? I see you have a use statement, but it should be use Dompdf\\Dompdf; if you're using the latest release.. This is a known issue, one of the earliest reports being #589. I'm not sure when we'll address this particular issue. Right now it's slated for v1.0.0.. Can you provide more of the HTML+CSS that's resulting in that PDF?. That looks about right. I mean, a 100x100 px page size will render about that big. There are some boundary issues in dompdf with elements that bump up against the page margins. If you need this to be a single page then you could wrap the whole thing in an absolutely-positioned DIV.. Your size declaration isn't right. No semi-colon between the values. Should be something like\n@page {\n  size: 200px 50px;\n}\nThe bottom space is because you haven't filled to the bottom of the page. If what you want is some text in the top portion and the image in the bottom portion you can position each separately.\n```\n<!DOCTYPE html>\n\n\n\nTitle\n\n        @page {\n            size: 100px; 100px;\n            margin: 0px;\n            padding: 0px;\n        }\n        body {\n            margin: 0px;\n        }\n    \n\n\n\n    text\n\n\n\n\n\n\n```\n. My sample had a typo. I edited the comment so it is now correct.. That situation is a bit more difficult. Dompdf does not yet fully support the CSS that would make this simple to do. You have a few options:\n\nMake the page size the same as the image;\nSet the height and width to 100%. This will distort the image if it's not the same ratio as the page\nSet the height or width to 100% such that the image will fit the page. This will crop the image if it's not the same ratio as the page.\n\nThere are also some issues around how Dompdf deals with max- styling as well as height styling on an element that doesn't specify a height (e.g. if the height is a percentage or set to auto).\nSo, a lot of caveats. But using 200x160 for the page size seems to work well:\n```\n<!DOCTYPE html>\n\n\n\nTitle\n\n        @page {\n            size: 200px 169px;\n            margin: 0px;\n            padding: 0px;\n        }\n        body {\n            margin: 0px;\n        }\n    \n\n\n\n\n\n\n\n```. Does the process running PHP have read/write access to /tmp directory?. Please submit future pull requests to the develop branch.. How are you installing Dompdf? Do you have a sample of the SVG we can use for testing?. I am seeing the same starting with 0.8.1. I'm not seeing any errors so I don't have much advice just yet. I'm not sure if the issue is related to updating php-svg-lib from 0.2 to 0.3 or if there's something else going on. Other SVG images render OK.\nI'll leave this open while we investigate the Dompdf side, but you should also post a bug to the php-svg-lib project.\nSo you're using the packaged version of Dompdf? You could always drop-in replace the version of php-svg-lib to work around the issue for now (assuming that's the source).. I'm seeing the same result in 0.8.0 as in 0.8.2. Maybe the sample is simplified a bit too much?\nI'd have to ponder this one in relation to the spec around margin collapse, but I will note that printing from a web browser gives the same presentation as 0.8.2. That leads me to think this is probably the correct behavior.\nIt looks like you can use the following structure to achieve the desired results:\n<div class='first-element'>Some text</div>\n<div class=\"page-break\">\n  <div class='first-element'>Some text</div>\n</div>\n<div class=\"page-break\">\n  <div class='first-element'>Some text</div>\n</div>\nBut I will note that believe the rendering of the above is incorrect because it doesn't look like margin collapse is being calculated correctly. So more of a temporary work-around.. Please submit future pull requests to the develop branch.. I'll need to review this. On the surface it seems reasonable. You don't absolutely need GD, for example if you're not processing any images you don't need any image libraries. But we probably want to make this clear because without handling it appropriately some users would be confused.. I think I'm fine moving forward with that suggestion. I think we'll need to tweak things to not fail if no supported libraries are present. And modify the canvas factory to throw an exception if GD is specified but the GD extension isn't present.\nWe'll still need, in the follow-up release, to analyze how and where we're using images or image-related functionality to make sure everything works without issue when no libraries or present, or when one library is in use over another.. This isn't an entirely new problem, though I'd have to do a bit of searching to find the related issues. If you can provide some sample HTML that shows the problem we can take a look.. Simple enough change to be worth a review for the next release.. This isn't quite what's wrong, but you put me on to something. I think I have a solution, just need to do some more testing.. This was addressed by commit 6880289975e0ae14289bd26fe97bfa0dd74c5a78. I'm surprised (though not really) that any of these have gotten past us with the effort to improve PHP 7 compatibility.. We prefer to use the (float) cast for these cases. Can you update?. preferred change submitted in #1765. Appears to be a problem introduced with 0.8.x. We'll have to look into this a bit more.. Looks like #1796 is related.. I don't think this one is ready for 0.8.3. When I tested using this test from the W3C the results were not great. Looks like something in the change to the regex causes dompdf to miss some counters in the content style.\nWhich version of dompdf did you test with? When I tried out your sample on the 0.8.2 release dompdf seems to render correctly.. Thank you for the full sample code, I can confirm the issue. Not sure what's going on but probably related to other paging issues (e.g. #1626).. It looks like specifying a numeric value for both the left and right margins is the cause. If you set the ul styling to the following it renders correctly:\nul {\n            padding-left: 15%;\n            margin: 0 auto 0 0;\n            page-break-inside: auto;\n        }\nMaybe somehow related to #1482?. This could be due to dompdf not being able to find the font. When you're uploading dompdf from one system to another it's always a good idea to re-install your font. You can also look at the dompdf_font_family_cache.php file and update the path for your font such that it would point to the correct font location on the new system.\nAnother potential issue is dompdf not having read/write access to some of the directories on the server. The relevant directories would be the dompdf temp directory and the dompdf font cache directory.. No recent follow up from OP. Will re-open if new information is provided.. This was addressed in another pull request (#1611).. Any reason to limit to PHP 5.6+ except for the obvious that older versions are no longer actively developed? (I mean, that's a good reason to not use it but not necessarily for us to drop support.)\nPlease explain your reasoning and also add a commit to fix the .travis.yml configuration.. Does this continue to be an issue? I was unable to reproduce using the latest version.. OK, yes, I think I can confirm this is a problem ... at least with minimal testing. I'll do some more research and provide a fix if necessary for the next release.. Do you have a font that supports the emoji characters?. You can also use the white-space CSS property on wrapper element for that text to indicate you want to maintain line breaks.. I'd like to move away from these methods, Especially since the functionality pretty much already exists using existing back-end renderer scripting or CSS.\nBut still...worth considering. FYI, in the future please make sure to submit your PRs against the develop branch.. Not sure about the notice, maybe related to #1705?\nWhich version of dompdf are you using? We were seeing a lot of \"block-level parent not found\" errors recently and it was due to the version of libxml (#1560). 0.8.2 included a patch against that particular issue.. This is almost definitely a bug. If you set a wider page size (say, letter) you can see that the text is not disappearing but pushing out to the right. I suspect the page break is causing the block calculation to be off. Maybe we're not resetting the left edge of one of the blocks. I'm not sure, more research is required.\nIn the meantime, the quickest work-around since the layout is similar to a table, would be to use a table instead. It would require re-working your styling a bit but should display fine.\n. No promises, but let's say a month ... ish?. Dompdf does not currently support the table-caption display type and so caption display is not correct. We essentially render the caption above the table as a block element (or at least that's what's supposed to happen).\nBecause of how we're currently handling captions, what you might try is styling the caption with page-break-after: avoid;.\nFor updates on the status of full caption support watch #78.. And old one, but still relevant. I supposed the OP has resolved and/or moved on but for anyone else interested be sure to specify the appropriate directories for temp files before running dompdf. The relevant settings are:\n\ntempDir\nfontDir\nfontCache\nlogOutputFile\n\nI think we'll also look at resolving Dompdf's inability to write to the filesystem using #842.. Would need some more info. You can start by providing the HTML source so we can see if we can  reproduce the issue. If you can provide a sample of the PDF created that would also help.. Thanks for the follow up. v0.8.3 is now out and includes that change.. Still having a problem here? There was a period where Dompdf wasn't respecting the default font setting, which should have been fixed.. That is certainly an easy work around. I'll close the issue, but feel free to comment back if you decide you do need more help and I'll reopen it.. In the future please submit pull requests on the develop branch.. In the future please submit pull requests to the develop branch.. FYI, captions are not yet supported, see #78.\nGlad you were able to sort it out otherwise. This should be a good stress test as we improve table handling.. GD will no longer be a required dependency with the next release (see the referenced #1621). So long as your HTML document does not include images that would result in a call to GD, Dompdf should still be able to render the document.. Which environment are you running in? As mentioned in the PR, I haven't run into this issue from the command line.. I run from the command line all the time and don't recall seeing this error. And according to http://php.net/manual/en/reserved.variables.server.php:\n\nIf a script is executed with the CLI, as a relative path, such as file.php or ../file.php, $_SERVER['SCRIPT_FILENAME'] will contain the relative path specified by the user.\n\nIn which case also not great. Could explain some of the CLI-based resource referencing issues we experience.\nI wonder if we can provide a better dummy path. Not really thinking through this but what about defaulting to __FILE__?. Probably the same issue as noted in #1482. Dompdf seems to be having an issue laying out elements (tables specifically?) with auto width plus auto margin.\n@EllanTseyeth Dompdf can be finicky about your document's syntax. So a good first crack at debugging is to run your document through an HTML validator.. This is nice. I'll try to test it out for 0.8.3 but it may push since I'm waaaay behind. Do you see any point continuing to support PDFLib 6 or should we just move ahead? I'm thinking we should just keep it simple and just bump the supported version of PDFLib.. That is absolutely what you should do. Thanks for the find.. Actually relates to #1645 but in that case intval was used. We prefer to cast to float. I was waiting for an update in that PR but haven't gotten one so if you want to submit a PR please do.. The enhancement request for this feature can be found in #675.. We don't have a fully developed solution yet. Follow #217 for updates. In the meantime you can try a solution I worked out using embedded script. Here's a sample: http://eclecticgeek.com/dompdf/debug.php?identifier=toc-v0.6.x. Regarding CONTRIBUTING ... most documentation is out of date to some degree. I haven't looked at that particular file in a while.. I've been unable to reproduce an issue relating to the width of the text frame coming back with the value \"auto\". It looks like sometime after your commit a change to the code was made that fixes the issue. Looking through the commits, though, I'm hard-pressed to see which one.\nThere are a few location where the frame width is used in a calculation without first ensuring it's numeric. I suspect in each of these cases it has already been calculated, but better to play it safe since I'm not entirely sure about this. After all, there may be a particular combination of factors that could lead to a non-numeric value being returned. So I'll review the code for logic similar to what you've highlighted.\nAll that being said, your test does expose a problem but it does not appear to be related to the use of a non-numeric width. The PDF rendered by your code is ... not what I would expect.\nAdditionally regarding your test, it doesn't provide much useful info beyond whether or not the code runs. The ideal would be to isolate a functional piece of code and ensure that its execution consistently results in a known output. That's difficult to do when, as in this case, the output being tested is a side-channel to the functionality (e.g. emitted warnings) and not consistently produced (e.g. relies on something somewhere else being done in a particular way).\nAdmittedly, testing Dompdf can be challenging, which is why so few tests have been written. I do appreciate the effort.. No input received. Closing unless further information provided.. Looks like our text-splitting logic currently splits on nbsp as well as a regular space. Should be able to fix that up for the next release.\n@bryndyment your problem is covered in the other issue you've commented in.. It sounds like what you're saying is that the border radius does not render on non-block items, such as the following:\n<div>\n  <span style=\" border-radius: 10px; border: 1px solid black;\">dompdf</span>\n</div>\nThe border on the span element surrounding the \"dompdf\" text renders without a radius. According the CSS3 spec it applies to all elements except tables with collapsed margins.\nSo, yes, we do support border radius but currently only on block elements.\nIf you have an inline element that doesn't span multiple lines you could try to work around the limitation by styling it with display: inline-block;.. This looks like what happens when dompdf encounters invalid HTML at the page break. Or maybe it's something about the styling. But without more details it would be difficult to diagnose. As mentioned by @superyetkin please provide fuller example, including the CSS.. Thanks for the fix. One note, in the future please submit PRs to the develop branch.. Is this still a problem? Last I checked (just now) Dompdf was able to parse URLs regardless of whether or not you encoded spaces in the URL.. If you decide to try Dompdf again and run into problems feel free to post back.. Dompdf does not support JavaScript at all. You'll need something like wkhtmltopdf or other browser-based library.. Are you experiencing an issue? If so can you provide more details? As noted in the requirements Dompdf requires the PHP extension for GD. You must ensure it is present before utilizing Dompdf.. So it looks like this was a compatibility issue with certain systems where GD is not provided. To accommodate these systems, and because GD is really only required if your document includes certain image types (namely PNG) we removed the requirement starting with the 0.8.3 release.. Dompdf by default uses a DPI of 72, which matches 1-to-1 with the PDF pt resolution. The width of an A4 page is 595pt, or a little more than half of your HTML page. Quickest way to get it to fit the width (without changing to landscape orientation) would be to double the DPI. Dompdf will then translate 2-to-1 anything specified in PX units.. @arimourao since you were short on time I'm sure you've already moved on. If you do need help feel free to start a new issue or post to the support forum. Briefly, though, you set the Dompdf dpi via the setting method, e.g. $dompdf->set_option('dpi', '300dpi');. It's not perfect, but can help if your styling doesn't use PT units when defining lengths.. Still having issues? Perhaps the CSS for the document isn't loading correctly?. Ideally you would perform some kind of character detection on the input to determine what font is required and set that dynamically. The only other way to reasonably do this otherwise would be to find a font that supports all potential characters that might be used.\nThe best option would be for us to implement the unicode range option of the @font-face declaration (#913).. Would help to see a full sample showing the @font-face and the application of the font to an element via font-family.. Do you have some sample code showing the issue?. @RGiordano do you have some sample HTML that causes this issue?. This isn't something Dompdf supports right now, though I think it would be useful.\nI'd probably go with your work-around (two tables), but it does require manually determining row height on the first table so that you can apply it to the second somehow.. Possibly a connectivity issue during update (ref https://stackoverflow.com/q/38635257/264628).. ref #1621 . Dompdf before v0.6.2 had some security issues that could have led to something like this but I'm not aware of any issues in the current release.\nI'm going to close the issue since there hasn't been an update but if anyone discovers otherwise please update the ticket.. That's a pretty general question. You might have better luck getting an answer on another forum, but if you want any suggestions please provide more information about what you're looking to do.. About the only performance tip I can offer is to not generate such a large table. They kill dompdf.\nOf course, if you're working with tabular data that's not such a great workaround.. I did a quick test and wasn't able to reproduce. Seems like your script isn't loading the class files. You can try requiring the file with that class directly to see if the problem persists.\nrequire_once 'dompdf/src/Frame/FrameTreeList.php';\nCould be the user running PHP doesn't have access to the files or is looking in the wrong place (though I wouldn't expect that just from a PHP update).. Could be related to #489. If you style the table with border-collapse: separate; does it render accurately?. I guess it depends on how you're loading the content of your document. Dompdf load images relative to document if you don't provide a full URI (e.g. https://example.com/pic.jpg).\nDo you have a sample of the relevant HTML and PHP?. That path looks like it should work (so long as it points to the actual files). You could try to be more specific and add the \"file://\" to the front.\nThose files are in the wp-content directory, so they should also be accessible via your web server. Have you tried that. In all cases, make sure dompdf has access to the temp directory specified in the settings. If there's an access issue there should be something in your logs (if you have logging enabled).. +1\n... and plz include usage samples.. This seems more like an encoding issue than a problem with dompdf, but to start have you looked at the Unicode How-to?. Arial Unicode MS doesn't look to be freely licensed since the MS site links out to Monotype (https://docs.microsoft.com/en-us/typography/font-list/arial-unicode-ms).\nThis post on SO nicely described the dilemma. I think ideally what needs to happen is for us to implement #913, so be sure to subscribe to updates to that issue.. Not sure what's going on. It looks like the last row of that table is sticking to the next line. Seems familiar but I wasn't able to find a relevant issue.\nWhat you can do instead of using a sequence of line breaks it provide a margin. For example, the following:\n<table>...</table>\n<br><br><br><br><br><br><br><br>\n<div style=\"border: solid black;\">...</div>\ncould be replaced by:\n<table>...</table>\n<div style=\"border: solid black; margin-top: 4em; page-break-inside: avoid;\">...</div>\nOne unrelated suggestion would be to move the footer element to the top of the page. If the page broke before dompdf encountered the footer then it wouldn't render on the first page.. Have you made sure your server has read/write access to the storage/fonts directory?. Interesting. Do you have some sample HTML?. Confirmed, looks like the that last line box isn't being positioned correctly. This sounds like something we've run into before, I'll see if I can find anything related.\nUpdate: #1040. f4 isn't among the supported paper sizes and, in fact, doesn't appear to be an official one either (w).\nStill, that doesn't mean you can use it, you just have to pass in the dimensions instead of the common name (setPaper(array(0,0,609.4488,935.433), 'portrait')).. @naitsirch do you have some sample HTML that shows the issue? I attempted to reproduce but didn't have any luck.\nI thought we had addressed some of these issues through various updates. And if so the relevant issues should be closed.. I was testing with the develop branch and wasn't able to reproduce with your sample. Switching to master I was. I'm going to set aside the PR until I have a chance to review it a bit more since we need to get the next release out.. This seems reasonable. It would certainly pose a potential performance issue to parse all characters to find the smallest.\nAnother option, I'd have to think on it more, and it still wouldn't be perfect, would be to get the bounding box for the font and use that as the minimum. This would require exposing some functionality via the canvas for retrieving this information. And though I know it's available via Cpdf I'm not sure if it is for other renderers.. heh ... no worries. I'll take whatever help comes my way.. Alas, I was going to suggest that commit may fix it. Do you have some sample HTML to show the issue? And maybe the rendering as well?. @densen45 thanks for the sample code adjustment. We'll take a look at it and see if we can use it to improve line height calculation.\nThe functionality was developed with an eye toward core/bundled fonts. As a result line height calculations are still not great. I've made some adjustments that make them more accurate but there's still work to do, particularly around line boxes that contain content of varying heights. And obviously some elements external to the line box (such as list bullets) need particular attention.\n. The issue is not in the codebase but in the documentation. The CPDF library was initially released long before Dompdf and knows nothing about HTML. The color specification it works against is the decimal representing the percentage saturation in the RGB space.\nBTW, thanks for the link to Encycolorpedia ... bookmarked.. Not much here to work with. Which version of dompdf? Do you have a sample PDF document?. The links are there, but the box defining the clickable area in the PDF appears to be wrong. It probably has something to do with the styling. Can you post a sample HTML document?. The blade, by itself, doesn't indicate an issue. Which version of Bootstrap are you using. I tried with the latest 3.x release and it rendered OK for the most part (the link box was a bit higher than it should be but otherwise fine).\nLooks like you have some CSS in css/admin/dev_2.css that we'd also need to see.. Thank you for confirming. We'll take a closer look as we have have time.\nI took a quick look at the relevant code and nothing popped out at me. I'd like to get this next release out soon, but we'll look at the issue for the following release.. You must be using an old version of dompdf because that file hasn't been used since 0.6.x. Suggest upgrading to the latest release (currently 0.8.2).. page_script is a string that is evaled to produce output on the current page. The scope of the variable is outside the scope of the script when it runs, thus why you can't access it. There are two ways to fix this.\n\n\nConcatenate it into your code string\n...\n$pdf->page_text(0, $pdf->get_height() - 44, \"' . $variable . '\", $font, 8, array(0,0,0));\n...\n\n\nReference $variable as a global instead of a local\n$GLOBALS['variable'] = 'dompdf';\n...\nif ( isset($pdf) ) {\n    $pdf->page_script('\n         if ($PAGE_COUNT > 1) {\n             $font = $fontMetrics->getFont(\"Lato\", \"regular\");\n             $pdf->page_text(290, $pdf->get_height() - 44, \"{PAGE_NUM} di {PAGE_COUNT}\", $font, 8, array(0,0,0));\n             $pdf->page_text(0, $pdf->get_height() - 44, $GLOBALS[\"variable\"], $font, 8, array(0,0,0));\n         }\n    ');\n}\n. This seems ... familiar.. We've been having some issues determining the version of Imagick installed because of inconsistencies in implementation. Ref issue #1296.. Dompdf itself doesn't require it but the php-svg-library does. If was excluded from earlier releases that was an oversight. If you do not require SVG support you can remove both the dompdf/lib/php-css-parser and dompdf/lib/php-svg-lib directories.. Yes, that's a good idea. Especially now that php-svg-lib is required for 0.8.3.. Updated the requirements and release documentation with some additional information.. There's no built-in support for this type of functionality. You'll likely want to draw a line using canvas methods.\n\n\nI don't know that we'll support this directly in the HTML render portion of dompdf but it would make sense to figure out a way to do this using back end renderer and/or canvas.. Dompdf does not support this functionality. You'd have to use it in combination with a library like FPDI to do so.. There are no limitations built into Dompdf but the resources available on your server could be a limiting factor.\nA 502 error is a server-level response. You can probably better determine why it fails by looking at the error produced by PHP.\nImage format and how you're rendering the document can affect resource usage. Have you tried using a JPG?. Which ZIP file did you download? Did you follow the instructions in the README (particularly the \"Download and install\" section)?\nThere's a quick start section in the README and a usage document in the wiki.. You shouldn't have to load the Cpdf file directly. The autoloader should load the dependencies (html4parser, php-font-lib, php-svg-lib) and the Dompdf Autoloader.php file. Cpdf is referenced in Autoloader.php.\nI downloaded a fresh copy of the 0.8.2 release and was unable to reproduce your error. The archive you downloaded may have gotten corrupted in transit or there could be a system issue.. Don't make a PR just yet but I am interested in discussing the topic more.\nThere have been some people who have worked to improve performance, but considering some of the outstanding deficiencies in basic HTML and CSS support it hasn't been a priority. Most of the performance notes you've made can be explained by how the code actually works. For example, anything that breaks a line results in additional layout calculation, and breaking within the same frame increases the line box count which requires more tracking within that frame.\n... or something like that. I'd really have to sit down and think about these things to provide a truly good, accurate explanation.\nThere are a number of circular references that likely cause heartburn for the GC. I wonder if unsetting these references in a destructor would help with GC. We do have some resource release in the dispose method that is used during page layout.\nAt one point we had made significantly more effort to clean up object references with destructors in v0.6.2, but that was in relation to a memory leak.\nFYI, I've noticed a significant performance boost moving to PHP 7.x and encourage you to try setting up a system to test. Or use a project like phpbrew, which is how I manage testing across PHP variants.. @eothein it certainly seems to be the case that this might be a good area for investigation. I don't know the release of PHP 7.3 changes your thoughts on that since it appears that GC has significantly improved. Your student could independently study pre-7.3 GC methods and analyze for efficiency in a white box environment. Or perform a comparison between the methods used in the various PHP versions as compared with other research on the topic. PHP is certainly not the only managed memory programming environment.. @PHPGangsta this is great news. I've been pretty happy with where PHP has been moving in its 7.x releases (though tbh I'm not able to keep up with the latest developments since my day-job is now in other environments).. Remember, Dompdf renders as your browser would. A line break is white space and white space is by default ignored in HTML. You can use the nl2br function or you can style your content with the appropriate CSS (<span style=\"white-space: pre-line;\">{!! e($order->note) !!}</span>).. Where do you see these? I believe these are warnings recorded by dompdf and should only show when you have enabled debug messages.. 1. Right now dompdf only supports named font weights (see #675).\n2. If you want to specify the width on the body you might want to also make the left and right margins \"auto\" otherwise if the body does not fill the page things will appear shifted left.\nbody {\n            font-family: Ubuntu, Helvetica, Arial, sans-serif;\n            width: 595px;\n            margin: 0 auto;\n            padding: 0;\n        }. get_border_properties should return the CSS property values and not necessarily a numeric value. Particularly for things like \"color\" or \"style\" which aren't defined as potentially numeric values.\nIf you're running into issues because of a missing case it's probably somewhere else in the code.. Also, if you want to submit a PR please do so against the develop branch. There may be changes there that address issues you encounter and it helps keep the master branch more \"stable\" (from a release perspective).. Does the process running Dompdf have access to localhost? What about to the temp directories?. Do you some sample HTML where this isn't working? Do you receive any PHP errors/warnings? Do you see the font listed in dompdf_font_family_cache.php and the related font in the referenced directory?. party on then. This looks like a bug but I believe I'll need to look into it more.\nWithout thinking too much on it right now the quickest way to work around the bug is to delete the dompdf_font_family_cache.php file. Dompdf will re-create it next time it runs. You might have to remove the downloaded file and UFM as well (I can't remember if you'll get errors trying to overwrite existing files). The drawback to this method is that it will slow things down a bit since Dompdf has to re-cache the files.\nAny reason you're not setting the font-face style to bold for your second run?\n. I'm fine with this change but notices really shouldn't break execution of the code. They're informational in nature and only potentially problematic. From the PHP documentation:\n\nRun-time notices. Indicate that the script encountered something that could indicate an error, but could also happen in the normal course of running a script.\n\n. Also please note that pull requests should be submitted against the develop branch.. Some frameworks are a bit more finicky by default in their handling of exceptions, warnings, and notices. I know laravel can be. That's likely the case here as well.\nThanks for the confirmation of the fix.. I've not run with PHP 7.3 yet, thanks for taking a look at these issues.. I've been using phpbrew for testing against multiple versions of PHP. It's just been acting a bit wonky lately so I haven't yet added 7.3. Plus I don't have as much time to put into this as I used to.\nI understand the reason for the changes you made. I was only making suggestions based on reading the code to understand the original intention. But if you'd rather I made those changes that's fine.. Yes, this isn't great. It was probably written this way to avoid compatibility issues early on. I believe we always pass all values internally so operationally things should work OK. And if we didn't I'd expect a world of trouble to arise.\nRegardless, the function argument definitions should be fixed. I think it'll need to wait for a post-0.8.3 release.. We use it mainly as a means of capturing file contents. And also for logging (bad form, old chap). We should be able to rewrite the lib so that OB is not required, but not for the upcoming release.. Sorry, I spoke without thinking reading thoroughly. So I'll parrot @barryvdh ... do we really need this? Though we do use OB internally I don't believe you have to explicitly enable it globally in the INI file.. This seems to be an issue. We'll need to take a closer look to see what's going on.. It's been a while since I put together that TOC sample. I'll need to find a moment to take a look and see what's going on.. Temporary work around is the disable the PCRE JIT when using Dompdf. The configuration option pcre.jit is available starting with PHP 7.. Don't necessarily need login details, but if you can share the HTML source (or link to the HTML page) we can try to debug.. So far I'm getting nothing but the red bar on the left. Which seems a bit different than the sample you posted. Also, though I can get the PDF I would really need to see the HTML. Is there a way to access the HTML dompdf loads to generate that PDF?. We can do that if you want, though I'd be better able to debug the actual issue with just the HTML in hand.\nPresumably somewhere on the page where the PDF is generated $dompdf->stream(); is called. If you just change it to echo $dompdf->output_html(); then the HTML dompdf is working with will be sent to the browser instead.. I'm always willing to try and help but I was thinking about it some more and I'd rather not access a system (particularly a production system) where I don't have a relationship with the owner. Plus I don't know the system and so I'd be blindly poking around more so than you. You'll just have to break out those trouble-shooting skills to try and find the information you need (the HTML being rendered in this case).\nIf you don't know where else to start you can try searching the php files for the text I noted earlier ($dompdf->stream();). If you're not finding anything I'd vary the search (can always start with just the \"stream\" part).. Just started looking at it. If you replace line 477 (as you noted) with echo $dompdf->output_html(); the function should return the HTML used to generate the PDF rather than the PDF itself.. I filled out the document a bit and it seems to render OK. So I will need to see what Dompdf is working with to have a better sense of what's going wrong.\n\n. If you can replace line 477 (on the staging site) as indicated I'll be able to see the the HTML.. Well, that didn't do what I expected. Maybe add the following at line 465:\necho $html;. I dunno. Nothing's coming back to the browser. I would expect to see the HTML generated by the spec_sheet_tpl function. Maybe add an exit(); after that line to ensure it's not being buffered?. OK, well, with that update I get the empty PDF. Try adding exit(); to line 467.. I dunno, I keep getting an empty HTML document when we try that. Any idea how to get the HTML out?. Probably not. There's a lot going on in that file.\nI was looking at your screen shot and you still have the line that outputs the PDF uncommented. That could be causing the problem, so comment line 478.\nIf that doesn't work then maybe what you can do is revert to how the file was to begin with, but add a line before the stream method to save the content to a file ... file_put_content(\"output.html\", $dompdf->output_html());. This sounds like a fantastic idea. The current functionality was initially developed around script embedded on the page, but more and more I'd like to get away from that since it can pose security issues on untrusted input.\nThere is an existing callback structure, but it does require more work to set up and is run as you go into and out of different levels of the document structure. Doing something like page_script using the callback functionality would require quite a bit of work.\nSo, yes, if you have time to develop that functionality please do.. I haven't done a lot of cross-platform testing lately. Is the problem with a specific font or does it happen with all fonts?\nI'd have to think about this a bit before I could provide some good guidance one where to look.. Can you share a sample HTML and the rendered PDF?. OK, thanks for the follow up. Just trying to catch up on issues that haven't gotten a response.. We'd need to see a sample of the HTML that causes the issue before we could make any suggestions.. Dompdf does support curl, though it defaults to file_get_contents if allow_url_fopen is enabled to enable compatibility with past versions since we have yet to patch in support for context setting with curl.. I believe this may have been fixed in 0.8.3 (c8a1a93). Are you able to test?. I'm unclear on what, exactly, the problem is. Can you describe the problem with a bit more detail? Is it because of the protocol-relative links (fixed in 3a3f598)? What is the problematic URL?. Would need to know the actual error produced. 500 is what the server sends back but PHP should be reporting something more specific. Check your logs.. This is probably something worth looking into to change. Note that I think we'd also have to change the object type from a URI action to something else. There may be a few ways we could do this, such as a GoToR action.\nAnother thing this highlights ... that's not a valid URI since it doesn't include a scheme. I wonder if we could use a file scheme and a relative path (e.g. file:another.pdf or something like that).. The version file was originally intended to be updated programmatically during project export, I'll need to rethink how we're doing this, but the PR is now a version behind so I'm going to close it.. This doesn't look like a pull request (I don't see any modifications from you). PDF/A support has been requested as an enhancement, see #1106.. It is a modified version of the original R&OS PDF (back when it was being developed by Wayne Munroe, not the iteration currently hosted on github). I was not involved back when it was introduced with the project so I can't make any statements about its provenance beyond that.. If the resume overlaps is it supposed to then flow to the next page?\nI'm trying to think of a way to do this besides using a fixed-position element and so far I'm coming up with nothing. You might be able to prevent overlap by adding some scripting on top, but I'm not sure.. You would do this by using a print style to hide those elements. You could, for example, add a class to those elements to indicate they should not be displayed when printing the PDF. Using the class no-print you would just add the following to your CSS.\n@media print {\n  .no-print {\n    display: none;\n  }\n}. This looks to mostly reproduce the changes made in #1825. I reviewed/merged that PR and made some additional tweaks based on what I believe the original code was intending to do.. I'm going to close this PR based on previous feedback. If you see something I missed let us know and we'll reopen so you can update the PR.. Did you upload dompdf from your local to your server or install fresh. Sometimes this can cause issues. Can you get the actual error from the server logs?. Usually issues like this are caused by structural problems in the HTML. To be sure could you post some sample HTML that causes the error?. So, dompdf can be a bit wonky with tables. The first place I'd start is by getting rid of any height declaration on the table elements. It significantly improves the rendering.\nAfter that it's probably a matter of a few tweaks here or there.. We have had some issues in the past related to InDesign (#517). This could be related. Have you tried generating your PDF with font sub-setting disabled?. This is probably the same issue then. We've done some cleaning up of the PDF structure but it sounds like we'll need to do a bit more.\nI don't have access to Acrobat Pro but it looks like you can do review the structure (https://helpx.adobe.com/acrobat/using/advanced-preflight-inspections-acrobat-pro.html). If you have the time and inclination anything you find could help. Otherwise I'll run a few PDFs through some online validators and see what comes up.. OK, thanks. I'll run it through some online validators and see what we can do.. I will be creating the packaged release, just haven't gotten around to it yet.. Packaged release is now available.. The autoloader was removed from the git repo because we don't provide all the necessary libraries in the repo. The readme does indicate what you need to do if you're cloning from git as your install method (also applies if you're downloading the source).\nI do need to add information related to the CSS parser used by php-svg-lib.\nI plan to add some of the things we removed to the utils project but haven't had a chance yet.. Added additional information to the README, with a link to the autoloader we use for packaged versions.. Did you mean to close this? On what system are you running?\nI was looking at the code and I think I see where things could be going wrong. We use DIRECTORY_SEPARATOR to delineate the path in the FontMetrics class. Really in this case it should be safe to use \"/\" for that. Additionally, since we write this information to a file to read in the future we should use addslashes to ensure we're escaping the strings prior to writing to the file. We do this for the font name but not for anything else written to the file.. Should be doable, though it'll have to wait for the next release.. Hate those, but if you need help please provide some details.. So, probably not due to how the image is referenced. What's the image type for any images not rendered? Are you applying any styling to the image that could be affecting it (namely display styling).. PNG should be OK, though the specific PNG format of the image could be causing a problem. Is it always the same image that doesn't display. Or maybe the same spot in the PDF? Have you tried swapping in a different image (say a JPG, which requires less processing).. It's likely something about the PNG itself. If you can share the image we can take a look.. Thanks, can confirm this also does not render on my system. I get the following error:\n\nWarning: imagecreatefrompng(): gd-png: fatal libpng error: Read Error: truncated data in dompdf/lib/Cpdf.php on line 4789\nWarning: imagecreatefrompng(): gd-png error: setjmp returns error condition in dompdf/lib/Cpdf.php on line 4789 Warning: imagecreatefrompng(): '...' is not a valid PNG file in dompdf/lib/Cpdf.php on line 4789 Dompdf Warnings\n\nWas this image optimized?. This is potentially a bug in one of the libraries in use (either the PHP GD extension or the GD library). Since GD can't read it there's not much we can do to fix it.\nMaybe bring it up with the maintainer of the resize functionality?\nSwitching to JPG is a good work-around since those are placed untouched in the PDF. . I haven't run into this issue yet. Do you have a sample font where that property is missing from one of the glyphs?. Text samples work better for us than screen grabs. I fixed your issue for you.\nWe'll take a look. I'm guessing this is likely similar to issue #1421.. You're using tables for layout, which I wouldn't recommend with Dompdf right now. The main limiting factor being that it does not currently support splitting a table cell between pages (#98). You're not really doing much with that external table in your sample so I'd suggest leaving out the external table completely.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=fc9b4b26bced06224df5a8e326815136\nAlso, update to 0.8.3. It has some improvements to table handling. I haven't yet done this with the debugger.. Are there no other changes to your system? And your file is being accessed via the web (i.e. not using a local file path? Any errors or anything from PHP?\nMy initial guess was that maybe dompdf is using the curl library. We added the getFileContent abstraction so that we could support curl usage when allow_url_fopen was false. Our implementation of curl does not currently support custom contexts. But the fact that you can switch to file_get_contents says that's probably not the case.. @CodeWorldUser you should open a new issue so we can discuss separately.. The options for 0.6.2 are different. You want \"enable_remote\" instead.\nYou can see the full list of options in the dompdf class file. You can easily do this via embedded script. First make sure you have embedded script enabled ($dompdf->set_option('isPhpEnabled', true);). Then add the following code inside your last-page div before any content:\n<script type=\"text/php\">\nif ($pdf && $PAGE_NUM % 2 == 1) {\n  $pdf->new_page();\n}\n</script>\n. I have questions:\n- What is the nature of the text?\n- Do you get any PHP errors?\n- How are you loading your HTML document into Dompdf?\n- How are you referencing your image from within Dompdf? \n- If the image is \"remote\" (i.e. starts with http://...), have you enabled remote resource access?. So you see the image on the page but it's in black and white? Do you have a sample of the image and the rendered PDF?. Access to remote resources is enabled via the options. Call the following after you instantiate Dompdf:\n$dompdf->set_option('isRemoteEnabled', true);. huh ... looks like either the mask is being rendered by itself or the transparency isn't being set correctly on the mask. Are you using GD, IMagick, or GMagick? And which version?. That a screenshot of the image? Can you upload the actual image so I can test?. The color image in your comment looks more like a screen shot than the actual image you're using (just based on the fuzziness and the transparency background). When I render it I get just what I see in the comment, not any kind of b/w image.\nAlso, that's a PNG, which requires some kind of image library (PHP typically provides GD by default).   You can run phpinfo().. It would be preferable to avoid this type of mark-up in lieu of adding better CSS support. We could probably accommodate this type of setup via named pages and some other CSS features.. We don't maintain any plug-ins for WordPress so I couldn't say. Have you contacted the author?. Dompdf (currently at 0.8.3 as of this post) does not support splitting table rows across pages. This is a long-standing issue with Dompdf (ref #98).\nYour particular content, if it follows the sample you provided, does not really look to need a table structure since it only has one cell per row. You could fairly well replicate the structure using simple DIV elements.\nOnly gotcha is that table header. If the sample truly reflects your output you could use a page header instead.\nSomething along the lines of the following:\n```\n<!DOCTYPE html>\n\n\n\n    @page { margin-top: 50px; }\n    #header { position: fixed; top: -50px; left: 0px; right: 0px; padding: 10px; text-align: center; font-weight: bold; }\n  \n\n\n\n    PRODCUT\n  \n\n  1-----\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n    MCHBMES1 -- MCHBMES1 -- MCHBMES1 -- MCHBMES1 --\n  \n\n\n```. Is this relevant? https://stackoverflow.com/q/54616086/264628. As mentioned by Arman, we'll need more details.\nA few notes:\n - Dompdf should be able to use custom fonts, so long as they're in TTF\n - For remote images, have you changed the configuration to allow remote resource access?\n - Does the user running Dompdf (e.g. web server process) have read/write access to the directories specified by tempDir, fontDir, and fontCache?. Typically this is caused by a structural issue with the HTML. I'd try running through a validator and see if there are any issues you can address. I also see some custom elements. I'm not sure if those would cause a problem. I did a quick and dirty clean up and it seemed to render OK.. Do you have a screen shot of the output so I can see what's going on. There is a default margin, so in addition to setting the page size did you set margins?\n<style>\n@page {\n  size: 72mm 282mm;\n  margin: 0em;\n}\n</style>. Don't necessarily need to review the code, but it would help to know what you mean by \"not working.\" Do you get any errors from PHP or your web server?. You should read up on how to use logging with your configuration. It's a pretty basic necessity when you're trying to debug problems. Google is your friend there: \nhttps://www.google.com/search?q=php+error+logging\nAt the very least you can add ini_set('display_errors', '1'); to the top of your PHP file, but that's not recommended for production systems.. That's 32MB allocated for PHP execution. Not a small amount, but the document you're rendering obviously requires more. I'd try doubling or tripling it (if you have that level of control over your system).\ninit_set('memory_limit', '96M');\nOtherwise we'd need to see the HTML you're attempting to render to see if there are any optimizations to the structure that would help.. Ah, yes. Sorry, I managed to miss the attachment.\nYour document isn't really all that large. I didn't quite reach that level of memory usage when I rendered, but that could just be because I didn't have access to some of the resources used (e.g. the logo image). Since the rendered PDF is compiled in-memory the more resources require more memory. I'd like to investigate alternatives for low memory situations (e.g. persisted to the file system) but those would come at the cost of performance. Also, it's a low priority right now.\nI noted that you use fixed table layout, so you should keep an eye on #1432.\nGlad you were able to get it working.. I'm not sure we want to make it optional. As of 0.8.3 graphics libraries are no longer required. To accommodate this we're using an SVG-based \"not found\" image.\nTo pull this requirement out we'd want to remove this SVG usage. I can think of a few ways:\n\ngenerate the \"not found\" image using PDF methods directly\nuse a pre-defined PDF object\nswitch back to a bitmap image, specifically a JPEG since it requires no processing.. ref #1849, but I appreciate the additional info why this change is being requested. We'll need to think through this a bit more.. If you don't want to set up a full template for the PDF view, I'd just prepend the stylesheet link to the front of the HTML:\n\n$html = '<link href=\"/path/to/stylesheet.css\" rel=\"stylesheet\" /> ' . $this->renderView('dashboard/user_table.html.twig', [\n  'users' => $users\n]);\nRemember that since you're loading the HTML from a variable, any file references are relative to the PHP script being executed.. Depends on what you mean. Only generate one page of the document, or generate a single-page document that auto-sizes the height? If the latter see #1524.. Thanks for the PR. This should give me enough motivation to do the work for 0.8.4.. Originally reported here: https://stackoverflow.com/q/54562338/264628\nMight need to tweak the logic added in commit f35b3077c9d9039b4e569908c9587bef3ef7c7ad (though this did partially address the issue).. Looks like we broke something with the latest release. It also looks like starting with 0.8.0 margin collapse applies to the body, affecting page margins. More investigation is in order.\nWe'll take a look and patch for the next release.. Thanks for being understanding. Hard to say as far as time frame. I'm ever too optimistic so I probably shouldn't even hazard a guess. You can see what I've slated for the next release in the 0.8.4 milestone. Nothing overly aggressive in that list, and some things may push to the following release. The few CSS-related issues there I think I'm going to tackle first since right now they look to probably quick fixes. At that point you could download a nightly (if you're using the packaged version) or require dev-develop in your Composer configuration.. FYI I only just recently fixed up the nightly download so let me know if you have any issues with it.. Well, the two bugs I found were both pretty easy to fix. The nightly download currently updates once a day so these changes should be available tomorrow.. writing-mode is a CSS3 property and, as such, not yet supported. We are slowly adding support for CSS3 properties, but it'll be a while before we have full support.\nAs for the TH not being present on the next page, is it inside a THEAD element? For example:\n<table>\n  <thead>\n    <tr>\n      <td>header that display</td>\n    </tr>\n  </thead>\n  <tbody>\n    ...\n  </tbody>\n</table>\n. I feel like there's another bug report related to this already, but couldn't find anything with a quick search. At any rate, I believe this is an issue of the positioning of the table frames not being updated to match the content when the table's is contained within an element that isn't part of the normal flow, and the table is styled border-collapse: collapse;.\nHere's a simplified example:\n<div style=\"float: right;\">\n  <table style=\"border-collapse: collapse;\">\n    <tr>\n      <td style=\"border-bottom: 1px solid black\">dompdf</td>\n    </tr>\n  </table>\n</div>\nWe'll see if we can fix this for the next release.. Originally reported in #489.. The PHP code is not helpful in this instance. Can we see the HTML?. Leftover variable?. I'm thinking we don't want to use the previously-defined paper orientation here. In the code that parses the CSS-defined page size orientation is already taken into account. Since the purpose of orientation right now is merely to switch the height/width during Canvas construction, and considering that switch has already happened in the style code, we should probably just set it to portrait.. How come you're not using the $canvas variable already populated with the current canvas?. Shouldn't we wrap the statement in parenthesis?\nif (!($node instanceof DOMElement)) {...}\n. You're right, in the operator precedence documentation instanceof comes before the negation operator. I guess not having the forced precedence makes me a bit uncomfortable. However, as you stated, not required.. What's the deal with this change? Not quite grocking what you're doing here.. Thanks, I'll go over it again and let you know if I have any feedback.. $margin_height derives from get_margin_height which should always return a numeric value. We're inconsistent in the return for the various implementations, sometimes specifying \"float\" and sometimes \"float|int\" but it should always be numeric.. I think we should maybe consider that the previous incarnation of the code was written incorrectly. If we go based on the common understanding of continue (short circuit to the next iteration of the looping structure) then dropping out of the switch may not have been the intended operation. Even though based on the PHP documentation we were indeed just breaking out of the switch statement.\nThe foreach is fairly high up in the structure, but if we break out of the parent switch I think we get the same affect. Perhaps we should go with:\nsuggestion\n                                break 2;. Original intention may have been:\nsuggestion\n                    continue 2;\n?. I think we want to keep processing in this case. Probably a better way to deal with the lack of a value is to pre-define the array since we expect a standardized format. So initialize $dtmp as array('G' => null, 'N' => null, 'U' => null, 'WX' => null) above (line 2566).\nThen, move the break to the else below (line 2605 in your repo) since the name is only required if the character index is less than zero.\nWe'll also want to set the codeToName key only if a value exists in $n, so line 2601 should be something like if ($n != null && $c != hexed($n)) {. ",
    "0b10011": "This may be caused by 0b9bc547250e4a556de66cce1fa277f82c7645cc. I didn't test it thoroughly and wasn't well-acquainted with the code--I just knew enough to be able to fix my particular issue. So it's probably a good place to start looking. (Of course, this is from someone not well-acquainted with the code, so I could be completely wrong.)\n. +1 We have allow_url_fopen disabled, but have curl enabled. We worked around this particular issue by loading the Google font manually:\nphp\n$font_src = array(\n    \"normal\" => \"https://fonts.gstatic.com/s/font/v9/normal.ttf\",\n    \"italic\" => \"https://fonts.gstatic.com/s/font/v9/italic.ttf\",\n    \"bold\" => \"https://fonts.gstatic.com/s/font/v9/bold.ttf\",\n    \"bold-italic\" => \"https://fonts.gstatic.com/s/font/v9/bold-italic.ttf\"\n);\n$font_entries = array();\nrequire_once(DIR_VENDOR.\"dompdf/dompdf/dompdf_config.inc.php\");\nforeach($font_src as $style => $url){\n    $filename = basename($url);\n    $font_entries[$style] = DOMPDF_FONT_DIR.$filename;\n    $dest = DOMPDF_FONT_DIR.\"$filename.ttf\";\n    if (file_exists($dest)) {\n        continue;\n    }\n    $content = fetch_url($url); // Custom function for calling curl\n    file_put_contents($dest, $content);\n    $font = Font::load($dest);\n    if ($font === null) {\n        throw new Exception(\"Font `$dest` could not be loaded\");\n    }\n    $font->saveAdobeFontMetrics(DOMPDF_FONT_DIR.\"$filename.ufm\");\n}\nFont_Metrics::set_font_family(\"Font\", $font_entries);\nFont_Metrics::save_font_families();\n$dompdf = new DOMPDF();\n$dompdf->load_html($string);\n$dompdf->render();\n. @PhenX You're welcome :)\nAlso, not sure if you're aware or not, but you can close (and reference) issues directly from commit messages. To close an issue (live example), simply add closes # or fixes # followed by the issue number to the commit message. To reference (live example), simply add # followed by the issue number. Here are all options for closing (taken from https://github.com/blog/831-issues-2-0-the-next-generation):\n- fixes #xxx\n- fixed #xxx\n- fix #xxx\n- closes #xxx\n- close #xxx\n- closed #xxx\n. Does assigning the width without the px solve the issue?\n. @PhenX Somewhat off-topic, but do you parse HTML according to the specification? Or is it something more general? (And, if it's something more general, would you be interested in having it parsed according to the specification?)\n. @bsweeney It's only somewhat off-topic as not using the HTML5 parser may be part of the issue behind why the table works fine in browsers but not in dompdf.\n. From the looks of it, you're not including the file correctly. Double check your require/include code to make sure you're including the correct file.\n. From the looks of it, you're not including the file correctly. Double check your require/include code to make sure you're including the correct file.\n. Wouldn't something like this be better, since submodules are being used? (And your patch pulls the HEAD, instead of the specific commit listed.)\ngit clone https://github.com/dompdf/dompdf.git\ngit submodule init\ngit submodule update\n. @bsweeney it's a lovely command. I haven't used it much though, so be sure to test. Also, it would be useful to have \"first-time pulling\" and \"updating your repository\" sections, since git clone wouldn't be used to update the repo after it was already cloned.\n. I think the instructions will be good as-is once #714 is merged, which is why I removed my comment--found the other PR afterwards. (And the instructions in this PR instructions didn't work for me.)\n. It seems strange doing the development on the non-master branch after the merge of 0.7.0. I understand feature branches, but merging those into a separate branch when they're merged hides them from the general public (I almost thought the project was abandoned until I looked through the branches).\nI'm guessing you're following the branching model described in http://nvie.com/posts/a-successful-git-branching-model/?\nYou should be able to follow the same model, with only a slight modification to make the project look more active on GitHub: rename the master branch to release-0.6.1 and rename develop to master. Or simply set develop as the main branch. I think it's pretty well-established that the master branch has new code that may or may not be production-ready, and production code should use a tagged release.\n. (This code was written for 0.6, but I believe I tested it on 0.7 as well. Apologies if I didn't!). ",
    "mrpootoo": "$dompdf->load_html($html);\n. ",
    "darkolaz": "So, to not open new issue about this very same problem i experience, just wanted to ask if anything is changed so far.\n. ",
    "akiuni": "Hello\nJust for information, on dompdf 0.8.2, tfoot is working well but must be placed at the end of the table : \n<table>\n<thead> ... </thead>\n<tbody> ... </tbody>\n<tfoot> ... </tfoot>\n</table>. ",
    "CM1990": "@akiuni\n not working for me even if tfoot placed after tbody for both php 5.6 anf 7.2. ",
    "archanavhire": "I also have same issue, my PHP version is 5.5 and getting Internal Server Error.\nI have no issue if I generated 3 pages pdf or less then 3 pages.\nTo reproduce this bug, generate pdf, from more than 3 pages html.\n. ",
    "shbmira": "I'm getting this issue years later. Did the bug corrected yet?\nThanks!\n. ",
    "sagarzend": "use this\n``` html\n\n your other table code \n\n```\n. ",
    "keithics": "@sagarzend - thanks! save my day!!\n. ",
    "blerin27": "I have been facing the same problem for days, in a huge table with rowspan and colspan, but no border-collapse:collapse\nI have resolved it by adding this to the style of my table element:\ntable\n{\n   border-collapse:unset;   \n}\nHope it helps!\n. ",
    "MarcosBL": "@blerin27 thanks ! That fixed it for me as well\n. Can confirm adding mb_internal_encoding() anywhere before to using dompdf fixes this in PHP 5.5.9-1ubuntu4.14\n. ",
    "faisalbahadur": "add    <span style=\"page-break-after:always;\"></span> after your code. ",
    "SAIF001": "I am getting the following error with dompdf_0-8-0 when I want to generate PDF\nFatal error: Call to undefined method Dompdf\\FrameDecorator\\Page::add_line() in C:\\wamp\\www\\dompdf\\src\\Positioner\\Block.php on line 40\nI have found that the error is in the following code block in Block.php:\n    if ($p) {\n            $float = $style->float;\n            if (!$float || $float === \"none\") {\n                $p->add_line(true);  }\n            $y = $p->get_current_line_box()->y;\n        }\nBut when I delete two lines ($p->add_line(true);  and  $y = $p->get_current_line_box()->y; ) from Block.php, I got PDF but lines are interrupted.\nPlease help me\n. ",
    "carchak": "Thanx PhenX but it doesn't fix the problem for me ...\n. Problem fixed : if you have tables in a big table (typically what you're doing with your html to render a newsletter), it doesn' work. You need have a succession of tables .\n. ",
    "xird": "I'm having severe problems printing tables that span several pages, so I've done some debugging. Here are my findings.\nI'm using Drupal 7 and the print module. That shouldn't make any difference, though. The HTML I've attached in each case has been debug printed from the function _print_pdf_dompdf(), so that's exactly what is passed on to the dompdf library.\nAll test cases use the master branch of dompdf downloaded on 2013-04-11. They have also been tested on the 0.6.0 beta, with identical results.\nWhen testing with the beta version, I added a bunch of debugging functions in the code to get an indented printout of the function call stack. These stack traces are linked to below. A tarball of the beta version with the debugging functions can be found here: http://ampli.fi/files/dompdf-debug/dompdf-beta-with-debug-calls.tgz . The debugging functions are from the Drupal module Devel Extended Logging (http://drupal.org/project/devel_ext_log).\nWhat's notable is that there appear to be two bugs (or at least two different outcomes): In some of the cases the library gets stuck in an infinite loop, while in other cases it crashes with a DOMPDF Exception. Note that this isn't the known infinite loop that results from a table cell that's taller than the whole page: The table cells in these test cases are quite small. Also, the table in the test cases has no row-spanning cells.\nHopefully this information will help the maintainers to locate and fix the bugs. I've spent quite a while figuring it out myself, but as I knew nothing about the internals of dompdf when I started, and not much more now, I haven't been able to fix them.\n\nCases with no border-collapse set to table:\n\nCase 2: \n- h2 margin-bottom: 215mm;\n- body margin 0.5em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case2.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case2.html\nResult: Generates a PDF with 3 empty pages followed by all the content on the next page.\n\nCase 7:\n- h2 margin-bottom: 215mm;\n- body margin 1em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case7.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case7.html\nResult: Infinite loop.\n\nCase 8:\n- h2 margin-bottom: 215mm;\n- body margin 0em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case8.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case8.html\nResult: Everything correctly on one page.\n\nCases with table border-collapse set to collapse:\n\nCase 4:\n- table border-collapse: collapse;\n- h2 margin-bottom: 220mm;\n- body margin: 0\n- Full HTML: http://ampli.fi/files/dompdf-debug/case4.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case4.html\nResult: Generates a PDF with 3 empty pages followed by all the content on the next page.\n\nCase 3:\n- table border-collapse: collapse;\n- h2 margin-bottom: 220mm;\n- body margin 1em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case3.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case3.html\nResult: Infinite loop\n\nCase 1:\n- table border-collapse: collapse;\n- h2 margin-bottom: 230mm / 240mm / 250mm;\n- body margin 0em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case1.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case1.html\nResult: DOMPDF_Exception: Frame not found in cellmap\n\nCase 6:\n- table border-collapse: collapse;\n- h2 margin-bottom: 230mm / 240mm\n- body margin 1em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case6.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case6.html\nResult: DOMPDF_Exception: Frame not found in cellmap\n\nCase 5:\n- table border-collapse: collapse;\n- h2 margin-bottom: 260mm;\n- body margin 1em;\n- Full HTML: http://ampli.fi/files/dompdf-debug/case5.html\n- Stack trace: http://ampli.fi/files/dompdf-debug/stack_trace_case5.html\nResult: Prints an empty page, then the 1st h2, then the 2nd h2 and the whole table on page 3\n\n. ",
    "denis-sokolov": "I experience the issue with the simplest input code:\n<table><tr><td>\nA line of sample text containing some words<br>\nA line of sample text containing some words<br>\nA line of sample text containing some words<br>\n...\n(repeated enough times to not fit on the page)\n</td></tr></table>\n. ",
    "mjm54": "UPDATE:  I fixed the reverse data order issue by adding tr and td elements inside the table that surrounds the divs.  That table element was actually a holdover from the original code using HTML elements and the tr and td elements were included inside the foreach statement.\nUPDATE 2:  Looks like using the div display styles still isn't a good solution.  The query that killed the HTML table version returned only 21 rows (with each database row generating multiple HTML table rows for the report).  As explained below a query that returned 6,000+ rows resulted in a blank page.  It would be rare for one of our reports to return that many rows from the database, so I tried it with a different parameter that returned 192 rows.  That resulted in the \"Unable to load the webpage because the server sent no data\" error, same as what I sometimes get with an HTML table and fewer rows.\nI've been tasked to creating client reports in PDF format for my company's new website using CakePHP and dompdf and am having different problems with dompdf depending on how I code the PHP that generates the HTML.\nIf I use HTML tables, as was done in a sample .ctp page I was provided with (I'm new to both CakePHP and dompdf), I eventually get the timeout or no data error if the SQL stored procedure returns a certain number of rows (variable, depending on the report, some of which create multiple table rows per row of data returned from the database). \nIf I replace the HTML tables with div tags including style=\"display:table;\", style=\"display:table-row;\" and style=\"display:table-cell;\", the page will display the PDF document as long as I surround all of the divs with a table element.  However, the data is displayed in reverse order to what it should be (using a simple \"foreach ($drivingData as $key=>$item)\" to loop through the records).  The exact same ctp file produces the data in correct order when rendered as HTML.  If I remove the table element I get a \"File does not begin with '%PDF-'\" error regardless.  Putting the table element back, when I changed a parameter to the stored procedure so that it would return 6,000+ rows I got a blank page that, when I select 'save page as' from the menu, is an HTML file containing just a couple of lines.  \nThis is extremely frustrating.\n. Here is the code in drivingforms.ctp:\n``` php\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n@media all {\n    .page-break { display: block; page-break-before: always; }\n}\n\nphp\n    if(!empty($drivingData))\n    {   \n        // echo '<div';         \n        echo '';   \n        echo '';\n        $count = 0;     \n        foreach ($drivingData as $key=>$item)\n        {   \n            switch ($rptTitle) {\n                case 'Driving Forms (KES Dr Cert-Ann Rev-DRA)':\n                    if($count == 0)\n                        echo ''; // start table\n                    else\n                        echo ''; // start table\n                    $count++;\n                    echo ''; // start row\n                    echo '';                    \n                    echo ''; // end row\n                    echo ''; // start row\n                    echo 'Name of Driver:';\n                    echo 'Social Security Number:';\n                    echo 'EIN:';\n                    echo 'Date of Employment:';\n                    echo ''; // end row\n                    echo ''; // start row\n                    echo '' . $item['full_name'] . '';\n                    echo '';\n                    if($item['ssn'] == '')\n                        echo '\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0\u00a0\u00a0-';\n                    else\n                        echo substr($item['ssn'], 0, 3) . '-' . substr($item['ssn'], 3, 2) . '-' . substr($item['ssn'], 5, 4);\n                    echo '';\n                    echo '' . $item['employee_no'] . '';\n                    echo '' . $item['hire_date'] . '';                    \n                    echo ''; // end row\n                    echo ''; // end table\n                    break;\n                default:\n                    break;\n            }\n        }\n        echo '';\n        echo '';\n\n}\n\n?>  \n```\nHere is pertinent code from ReportController.php:\nphp\n$this->set('rptNameFontSize', '12px');\n$this->set('dateFontSize', '8px');\n$this->set('companyFontSize', '10px');\n$this->set('detailFontSize', '8px');\n$this->set('tableWidth', '90%');\n$params = array(\n            'download' => false,\n            'name' => \"driving.pdf\",\n            'paperOrientation' => 'portrait',\n            'paperSize' => 'letter'\n);\n$this->set($params);\nThanks.\n. That's my understanding.  I didn't set up any of this.  As I said, I'm new to CakePHP and dompdf and just followed the instructions I was given to add '.pdf' at the end of the url to get the PDF version of a report rendered in HTML.  I can't even log in to the server this is running on; I have to ftp my code changes to it.  The wife of the person who set this up just had a baby late last week so I don't really want to bother him.  He provided a single ctp file for me to model my code on.\nI'm also far from a PHP expert.  My background is mostly C#, JavaScript and SQL Server.\n. Thanks very much for the assistance.  I actually have commented code that I didn't include that uses a traditional HTML table.  I only went to div elements based on a suggestion I saw in another forum. \nI think I'm just getting too old for this s***!  LOL!  My first exposure to programming was in college on an IBM 360....using punched cards for input.  Still trying to make room in the old brain for all this new stuff amongst the COBOL and JCL.\n. This is maddening.  Below is current code.  If I open the web page as HTML, it works fine no matter how many records are returned from the database, opening very quickly.\nPDF rendering is a different story.  If I use a parameter for a client location that returns 21 records it works fine with this code.  If I uncomment any of the commented code to add another table row (and this eventually will be a 3 page form for each employee in a location and I've only coded the first page, including the commented code) I get the timeout error.\nIf I use a parameter for a client location that returns 192 records the result is a blank HTML page.\n```\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n@media all {\n    .page-break { display: block; page-break-before: always; }\n}\n\nphp\n    if(!empty($drivingData))\n    {   \n        $count = 0;     \n        foreach ($drivingData as $key=$item)\n        {   \n            switch ($rptTitle) {               \n                case 'Driving Forms (KES Dr Cert-Ann Rev-DRA)':\n                    if($count == 0)\n                        echo '';\n                    else\n                        echo '';\n                    $count++;\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Name of Driver:';\n                    echo 'Social Security Number:';\n                    echo 'EIN:';\n                    echo 'Date of Employment:';\n                    echo '';\n                    echo '';\n                    echo '' . $item['full_name'] . '';\n                    echo '';\n                    if($item['ssn'] == '')\n                        echo '      -    -';\n                    else\n                        echo substr($item['ssn'], 0, 3) . '-' . substr($item['ssn'], 3, 2) . '-' . substr($item['ssn'], 5, 4);\n                    echo '';\n                    echo '' . $item['employee_no'] . '';\n                    echo '' . $item['hire_date'] . '';\n                    echo '';\n                    echo '';\n                    echo 'Home Terminal (city and state)';\n                    echo 'License Number and State:';\n                    echo 'Expiration Date:';\n                    echo '';\n                    echo '';\n                    echo '' . $item['location_address2'] . '';\n                    echo '';\n                    if($item['license_number'] == '')\n                        echo '\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0';\n                    else\n                        echo $item['license_number'] . ' / ' . $item['issuing_state'];\n                    echo '';                    \n                    echo '' . $item['license_expiration'] . '';\n                    echo '';\n                    echo '';\n                    echo 'Location:';\n                    echo 'Location Code:';\n                    echo '';\n                    echo '';\n                    echo '' . $item['location'] . '';\n                    echo '' . $item['location_code'] . '';\n                    echo '';\n                    echo '';\n                    echo 'Annual Review of Driving Record';                    \n                    echo '';\n                    echo '\u00a0';\n                    echo '';\n                    echo 'Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.';                    \n                    echo '';\n                    echo '\u00a0';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'DUI alcohol or controlled substance:';\n                    echo '';\n                    echo 'Using a vehicle to commit a felony related to';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Operate CMV with Alcohol of 0.04% or';\n                    echo '';\n                    echo 'controlled substances:';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'greater:';\n                    echo '';\n                    echo 'Improper lane change or following too ';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Refusal of alcohol test:';\n                    echo '';\n                    echo 'closely:';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Leaving the scene of an accident:';\n                    echo '';\n                    echo 'Violation resulting in fatality:';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Using a vehicle to commit a felony:';\n                    echo '';\n                    echo 'Driving a CMV without a CDL, CDL not';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo '';\n                    echo 'Operating CMV without a valid license:';\n                    echo '';\n                    echo 'in possession or improper endorsements:';\n                    echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Negligent operation of a CMV resulting';\n                    // echo '';\n                    // echo 'Railroad crossing violation:';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'in a fatality:';\n                    // echo '';\n                    // echo 'Out of Service Order violation:';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Excessive speed or reckless driving:';\n                    // echo '';\n                    // echo 'Driving a CMV while texting:';\n                    // echo '';\n                    // echo '\u00a0';\n                    // echo 'As required by the FMCSA, 49 CFR 391.25, I have reviewed the MVR, the Driver\u2019s Certification of Violations, Out of Services violations and any other documents related to the driving record for the above named driver and find that the driver:';\n                    // echo '\u00a0';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Meets minimum requirements for safe driving';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Meets minimum requirements for safe driving with Key Energy Counseling Statement attached';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Is disqualified to drive a commercial motor vehicle pursuant to 391.15 or 383.51';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo '';\n                    // echo 'Is disqualified to drive a commercial motor vehicle pursuant to Key Energy Motor Vehicle Policy;';\n                    // echo '';\n                    // echo '';\n                    // echo '';                    \n                    // echo 'Disqualification Letter attached.';\n                    // echo '';                    \n                    echo '';\n                    echo '';         \n                    break;           \n                default:\n                    break;\n            }\n        }\n    }\n\n?>  \n```\n. I'll have to get back to this later; just got an assignment for a more pressing need from the CEO.\nHaving the div around the table was how it was done in the sample code I received, so I followed suit.\n. Here is part of the HTML that relates to my code.  I couldn't include all of it because it's far too large, exceeding the 64k limit.\n```\n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHome\nActions\n\n\n\n\n\n@media all {\n    .page-break { display: block; page-break-before: always; }\n}\n\nName of Driver:Social Security Number:EIN:Date of Employment:Jones, John J.xxx-xx-xxxx1111109/28/2009Home Terminal (city and state)License Number and State:Expiration Date:111111 / TX04/24/2014Location:Location Code:LocationLocation CodeAnnual Review of Driving Record\u00a0Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.\u00a0DUI alcohol or controlled substance:Using a vehicle to commit a felony related toOperate CMV with Alcohol of 0.04% orcontrolled substances:greater:Improper lane change or following too Refusal of alcohol test:closely:Leaving the scene of an accident:Violation resulting in fatality:Using a vehicle to commit a felony:Driving a CMV without a CDL, CDL notOperating CMV without a valid license:in possession or improper endorsements:\n\nName of Driver:Social Security Number:EIN:Date of Employment:Jones, John J.xxx-xx-xxxx1111106/28/2004Home Terminal (city and state)License Number and State:Expiration Date:111111 / TX03/19/2017Location:Location Code:LocationLocation CodeAnnual Review of Driving Record\u00a0Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.\u00a0DUI alcohol or controlled substance:Using a vehicle to commit a felony related toOperate CMV with Alcohol of 0.04% orcontrolled substances:greater:Improper lane change or following too Refusal of alcohol test:closely:Leaving the scene of an accident:Violation resulting in fatality:Using a vehicle to commit a felony:Driving a CMV without a CDL, CDL notOperating CMV without a valid license:in possession or improper endorsements:\n\nName of Driver:Social Security Number:EIN:Date of Employment:Jones, John J.xxx-xx-xxxx1111101/30/2012Home Terminal (city and state)License Number and State:Expiration Date:111111 / TX05/13/2014Location:Location Code:LocationLocation CodeAnnual Review of Driving Record\u00a0Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.\u00a0DUI alcohol or controlled substance:Using a vehicle to commit a felony related toOperate CMV with Alcohol of 0.04% orcontrolled substances:greater:Improper lane change or following too Refusal of alcohol test:closely:Leaving the scene of an accident:Violation resulting in fatality:Using a vehicle to commit a felony:Driving a CMV without a CDL, CDL notOperating CMV without a valid license:in possession or improper endorsements:\n\nName of Driver:Social Security Number:EIN:Date of Employment:Jones, John J.xxx-xx-xxxx1111103/28/2006Home Terminal (city and state)License Number and State:Expiration Date:111111 / TX05/17/2015Location:Location Code:LocationLocation CodeAnnual Review of Driving Record\u00a0Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.\u00a0DUI alcohol or controlled substance:Using a vehicle to commit a felony related toOperate CMV with Alcohol of 0.04% orcontrolled substances:greater:Improper lane change or following too Refusal of alcohol test:closely:Leaving the scene of an accident:Violation resulting in fatality:Using a vehicle to commit a felony:Driving a CMV without a CDL, CDL notOperating CMV without a valid license:in possession or improper endorsements:\n\nName of Driver:Social Security Number:EIN:Date of Employment:Jones, John J.xxx-xx-xxxx1111105/29/2012Home Terminal (city and state)License Number and State:Expiration Date:111111 / TX02/16/2014Location:Location Code:LocationLocation CodeAnnual Review of Driving Record\u00a0Check if MVR or Driver\u2019s Certification indicate any Part 383 Driver Disqualifications.\u00a0 Indicate Date.\u00a0DUI alcohol or controlled substance:Using a vehicle to commit a felony related toOperate CMV with Alcohol of 0.04% orcontrolled substances:greater:Improper lane change or following too Refusal of alcohol test:closely:Leaving the scene of an accident:Violation resulting in fatality:Using a vehicle to commit a felony:Driving a CMV without a CDL, CDL notOperating CMV without a valid license:in possession or improper endorsements:\n\n\n\n               </div>\n             </div>\n\n```\n. ",
    "rspadim": "without source code and examples we can't help...\nsend at least the html code you want to convert\n2013/7/30 mjm54 notifications@github.com\n\nI've been tasked to creating client reports in PDF format for my company's\nnew website using CakePHP and dompdf and am having different problems with\ndompdf depending on how I code the PHP that generates the HTML.\nIf I use HTML tables, as was done in a sample .ctp page I was provided\nwith (I'm new to both CakePHP and dompdf), I eventually get the timeout or\nno data error if the SQL stored procedure returns a certain number of rows\n(variable, depending on the report, some of which create multiple table\nrows per row of data returned from the database).\nIf I replace the HTML tables with div tags including\nstyle=\"display:table;\", style=\"display:table-row;\" and\nstyle=\"display:table-cell;\", the page will display the PDF document as long\nas I surround all of the divs with a table element. However, the data is\ndisplayed in reverse order to what it should be (using a simple \"foreach\n($drivingData as $key=>$item)\" to loop through the records). The exact same\nctp file produces the data in correct order when rendered as HTML. If I\nremove the table element I get a \"File does not begin with '%PDF-'\" error\nregardless. Putting the table element back, when I changed a parameter to\nthe stored procedure so that it would return 6,000+ rows I got a blank page\nthat, when I select 'save page as' from the menu, is an HTML file\ncontaining just a couple of lines.\nThis is extremely frustrating.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/98#issuecomment-21809397\n.\n\n\nRoberto Spadim\nSPAEmpresarial\n. are you running dompdf over this file you sent?\n. hum...\ninstead of sending the PHP source, send the HTML that 'render nice in\nwebbrowser'\nthe PHP source may have dependencies and logics...\nthe HTML is a plain processed file with all we need to convert it using\ndompdf and understand what you is talking about\n. i didn't read the full thread, but some big projects (mariadb for example, but they use launchpad/bzr) have many many branchs one for each feature being developed, maybe if you have a security issue that you want to solve, create a new branch (based in a current branch) and solve the problem, if you didn't end the job, get back to current branch and continue others works, when you done the security feature you could merge it from that branch to the current branch\nexample:\ncreate branch security-patch and checkout it\ndo some job\ncheckout to main branch\ndo others jobs\ncheckout to security-patch branch\nend security job\ncommit\ncheckout to main branch\nmerge from branch security-patch (maybe you will have some merge conflicts that may be revised, if you don't know git command, use the git gui, it's very intuitive and safe)\nremove branch security-patch\nthat's done\n. ",
    "wakeless": "@bsweeney I've just run into this problem myself. What can I do to help out with solving this? Any specific debugging that you'd like that can help you or can you give me some hints as to how I should get started\nPerhaps picking this up as the first bug I've ever tried to fix with dompdf might be a bit crazy.\n. Again, I can reiterate my offer to assist. While I'm not that familiar with the internals of dompdf, if @bsweeney can give me a rough sketch of how he would go about fixing it, I'd get involved and start learning.\n. Changing the creator field was the first thing I did and as far as I can tell it is irrelevant, certainly didn't fix the actual issue I was having. \nAs far as I can tell the pdf is backwards compatible so just changing the version shouldnt break anything. It also resolved the issue I had, mainly with Sophos.\n. I submitted the same file to Microsoft. I got the following reply. I'm escalating it as they suggest.\n```\nThe Microsoft antimalware engine does not detect the submitted sample and has not been classified as malware by the Microsoft antimalware research team, although one or more of the partner antimalware engines available in the Forefront Server Security products do detect them currently.\nIn your case Kaspersky engine is detecting the sample as HEUR:Exploit.PDF.Generic.\nNote that with adware and spyware for example, many vendors have slightly different sets of criteria as to whether a file should be detected or not, so the decision by Microsoft and the antimalware partner may differ.\nWe would advise you to escalate the case Kaspersky Support Team and seek further assistance on this matter.\n```\n. I've just had some problems again and realised that my change of the PDF version had been reverted. I've changed it back and can confirm that it resolves this problem.\nI highly recommend that we bump the PDF version that dompdf outputs to to assist with these errors.\n. Looks like I'll have to finally try one of these nightlies/betas as a user has flagged another issue with us just now. \nThe error message was: The Microsoft Forefront Protection Software in the E-Mail system found a virus \"pdf/DLoader.ATMND\" attached to this\n. ",
    "henesnarfel": "Any movement on this issue?  Rowspan is causing this issue for me.  As I'm getting input through CKEditor from users to generate pdf's.  My first input from users contained a table spanning three pages with rowspanning.  There isn't much I can do to remedy this unless I force them to not use rowspans or set heights on td's.  I'm using dompdf-0.6.0-b3\n. ",
    "oliverhuynh": "Hi guys,\nThis issue is white long. I'm wondering if you guys have fixed it yet or not?\n. I have fixed this issue in my local. If there is anyone who needs this patch, please let me know\n. Hi guys,\nDOMPDF can use PDFlib to build the PDF. My patch is updating the code with latest PDFLIB(9), adding SVG capacibility and so, the output PDF can embed SVG.\nI can attach the patch here.\n. Hi guys including PhenX, :)\nThere is API in PDFLIB. My work is just implementing this API to DOMPDF. Not too much subliminal. Here it is. I can attach also the other patch to use with CPDF(using imagick). Btw, my editor erases blank spaces after each line so the patch is longer. Excuse me for this.\n...\n...\n...\nOops, the patch is not able to be uploaded. \nTry this link pls.http://media.jufist.org/oliver/svginpdflib.patch\n. @luksak can you attach the image here?\n. ",
    "pkbarbiedoll": "Any updates on this issue?\n. 0.6.0b3 was pulled from git yesterday.   The HTML has PHI, so I will have to de-identify it before I can share.  I'll follow-up later. \n. Please not that the same file was used in both versions (included m5d checksums above).\n. I may have tracked down the source of the delay.  The header & footer images (gif files) are both 26k.  If I remove the img tags from the HTML, 0.6.0b3 processes it just as fast as 0.5.2.   There are some other standards issues with the file, but leaving those alone and removing the images speeds things up to equal the older dompdf version.\nIs there a change in how to include images with the 0.6.0 branch?  Before I included by supplying the full document path (not just a web path). \n. I'm including a header and footer image differently.  For simplicity sake here's some highly trimmed down (and standards non-compliant) HTML: \n``` html\n\n\nPage Title\n\n\n    <div style='top: 0; left: 0; height: 75px;'><img src='/path/to/header.gif' width='300'></div>\n\n    <p>some paragraphs\n    <p>some paragraphs\n    <p>some paragraphs\n\n    <div style='text-align:center; position: fixed; bottom: 0; left: 0; height: 40px;'><img src='/path/to/footer.gif' width='300'></div>\n    <div style='page-break-after: always'></div>    \n</body>\n\n\n```\nWhy I am not using inline method is I have multiple pages in the HTML file.  Each page is separated with the page-break-after div.   You're seeing one page here, typically there are 2-3 or more. \nThis method works satisfactorily on 0.5.2.  Since I am required to have header/footers on each of the individual page inside the single HTML blob, using the inline method would require a bit of reworking on my end.    If that's my only choice, I'll have to stay on 0.5.2 for the immediate future - no time to rework HTML generation in my app due to other priorities.  \nThe same method does work in 0.6.0b3, however - it kills performance.\n. Correct on the footer image.  It appears 40px above the bottom of every page.  \nI hadn't considered graphics conversion by dompdf.  I'll give that a try in the next day or so and will post back any findings. \n. The difference in speed by using png or jpb is negligible.   Also note the difference of filesize in resulting PDFs created with 5.2 and 6.0b3.  \nI converted the header/footer images (26k and 3k, respectively) from gif to png.   Then updated the same source html as in my previous test to use the png versions.  \nIncluding checksums so you know I'm working with the same file.   If there was a way to share the file privately I'd be ok with doing that - I can't have it posted here though (PHI).   \n\nTesting with 6.0b3\nmd5sum /www/php/includes/static/dompdf_0.6.0b3/ex3.html \n73ce4e1cbb0ea61d4130cd4d8d4c7284  ex3.html\n/usr/bin/time -v php dompdf.php ex3.html\nCommand being timed: \"php dompdf.php ex3.html\"\nUser time (seconds): 4.66\nSystem time (seconds): 0.01\nPercent of CPU this job got: 99%\nElapsed (wall clock) time (h:mm:ss or m:ss): 0:04.68\nAverage shared text size (kbytes): 0\nAverage unshared data size (kbytes): 0\nAverage stack size (kbytes): 0\nAverage total size (kbytes): 0\nMaximum resident set size (kbytes): 112752\nAverage resident set size (kbytes): 0\nMajor (requiring I/O) page faults: 0\nMinor (reclaiming a frame) page faults: 7872\nVoluntary context switches: 2\nInvoluntary context switches: 7\nSwaps: 0\nFile system inputs: 0\nFile system outputs: 1528\nSocket messages sent: 0\nSocket messages received: 0\nSignals delivered: 0\nPage size (bytes): 4096\nExit status: 0\nls -l ex3.pdf\n392K Nov  7 08:36 ex3.pdf\n\nSame file with 5.2: \nmd5sum /www/php/includes/static/dompdf-0.5.2/ex3.html \n73ce4e1cbb0ea61d4130cd4d8d4c7284  ex3.html\n/usr/bin/time -v php dompdf.php ex3.html\n    Command being timed: \"php dompdf.php ex3.html\"\n    User time (seconds): 0.24\n    System time (seconds): 0.01\n    Percent of CPU this job got: 93%\n    Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.27\n    Average shared text size (kbytes): 0\n    Average unshared data size (kbytes): 0\n    Average stack size (kbytes): 0\n    Average total size (kbytes): 0\n    Maximum resident set size (kbytes): 112640\n    Average resident set size (kbytes): 0\n    Major (requiring I/O) page faults: 0\n    Minor (reclaiming a frame) page faults: 7736\n    Voluntary context switches: 323\n    Involuntary context switches: 2\n    Swaps: 0\n    File system inputs: 0\n    File system outputs: 1112\n    Socket messages sent: 0\n    Socket messages received: 0\n    Signals delivered: 0\n    Page size (bytes): 4096\n    Exit status: 0\nls -l ex3.pdf\n73K Nov  7 08:42 ex3.pdf\n. Major improvement (speed and PDF filesize) with dropping transparency from the images (ie, switching from gif/png to jpg).\n/usr/bin/time -v php dompdf.php ex4.html\n    Command being timed: \"php dompdf.php ex4.html\"\n    User time (seconds): 0.22\n    System time (seconds): 0.01\n    Percent of CPU this job got: 98%\n    Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.24\n    Average shared text size (kbytes): 0\n    Average unshared data size (kbytes): 0\n    Average stack size (kbytes): 0\n    Average total size (kbytes): 0\n    Maximum resident set size (kbytes): 95728\n    Average resident set size (kbytes): 0\n    Major (requiring I/O) page faults: 0\n    Minor (reclaiming a frame) page faults: 6529\n    Voluntary context switches: 2\n    Involuntary context switches: 4\n    Swaps: 0\n    File system inputs: 0\n    File system outputs: 272\n    Socket messages sent: 0\n    Socket messages received: 0\n    Signals delivered: 0\n    Page size (bytes): 4096\n    Exit status: 0\nll ex4.pdf\n123K Nov  7 13:32 ex4.pdf\n. ",
    "kanapes": "Is there already a solution/fix/workaround on this issue?\n+1\n. Hi Brian,\nfirst of all, thanks a lot for your fast reply.\nI have sent you an answer and a sample file to your private mail address.\nTo anyone else reading this thread - feel free to drop a note/hint/info if you think you can provide more insight into my current problem.\nAny help is appreciated.\n. @mohit-eis \nWhat do you mean?\nsomething like ...\nrequire_once(\"Dompdf/dompdf_config.inc.php\");\n$pdf = new DOMPDF();\n$pdf->load_html( file_get_contents( '/path/to/html/*.html') );\n$pdf->render();\nfile_put_contents( '/path/to/save/*.pdf', $pdf->output() );\n. no one out there with an idea?\n. Here we go ... =)\nThx for supporting me. It's been solved.\nAfter 4 days of waiting the process has finished.\n. Disregarding the original problem I would like to post my very own experiences \u2013 maybe it helps someone else as well.\nI started out with about 500 html-files, ranging in size from 5-500 kB, with a varying number of tables and images (both ranging widely in size as well).\nMy first tries I always carried out with Mozilla and an Apache (webserver).\nThis resulted in various errors:\n-   The connection was terminated\n-   The connection to the server was lost\n-   Try to allocate memory\n-   Fatal error: Maximum execution time of\u2026\nAfter setting the ini-entries to\nini_set( 'max_execution_time', 7200 );\nini_set( 'memory_limit', -1 ); \nthese errors no longer occurred.\nHowever, the error remained, that the process $dompdf->render() did not finish, so that I terminated the process after about two days.\nAfter using a variety of servers with different hardware specs, ranging from\n-   8 GB to 24 GB memory\n-   1 to 8 cores\n-   Linux/Windows OS\nI realized that the memory consumption always remained at a fix value \u2013 it used as much memory with 8GB available as with 24GB. The number of cores seems to be irrelevant as well because the process was always running on one core at 100% workload.\nWhat surprised me is that I converted all the data (500 files) in packages, ranging from 10 to 50 packages per run and this conversion was successful, producing no errors. Therefore I assumed that the routine itself was running without a problem.\nOne of Brian's posts , where he explained that he was carrying out this process with the PHP-function exec(), let me come up with the idea to run this process via the Linux server.\nSo I used the shell and entered the command [php /path/to/php/*.php &], waiting for the server to wave his white flag\u2026\nTo my surprise, the process was finished correctly after 4 days.\nSo, after a lot of trial & error and thanks for Brian, I solved my problem.\nThanks again to everyone for your support.\n. current issue and issue #1015 ->> wasting memory\n@bsweeney\nMaybe you can push this issue to the top of your list as this seems to be something that many people have problems with.\nany solutions available?\n. Hi,\njust take a look at issue #992 - maybe it helps a bit.\nLike #bsweeney said take care of your server/php configuration.\nAnd that is for sure - large tables are very tricky ...\nMaybe you try it first without any CSS declaration. Sometimes special CSS-definitions won't work within tables and dompdf. \nIt is a try and maybe you will come a bit closer to solving your problem ... =) \nAnother guess is to start the process directly on the server ... this will speed it up a little bit ... \nJust on more hint ...\n1. break it down to 500 records to see if this will work\n2. change your operation system from windows to linux (Windows still has the problem to handle the memory)\n@bsweeney \nMaybe you can push this issue to the top of your list as this seems to be something that many people have problems with.\n. ",
    "gabrielcantarin": "I need the solution =/\n. ",
    "marcelodeassis": "I couldn't bear this issue anymore, so I started to use wkhtmltopdf.\nIt's fast and works like a charm.\nhttp://wkhtmltopdf.org/\nAtenciosamente,\nMarcelo de Assis - Desenvolvedor de software\nhttp://marcelodeassis.com.br\n(21) 9677-6766\n2015-10-12 7:23 GMT-03:00 J\u00fcrgen van Dijk notifications@github.com:\n\nI'm having the same issue :(\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/98#issuecomment-147359151.\n. \n",
    "andreicalistru": "any news on this issue?\nGetting below error on a generated 3 pages table \nFatal error: Allowed memory size of 33554432 bytes exhausted (tried to allocate 55 bytes) in path_to_vendor/slik/dompdf-bundle/Slik/DompdfBundle/DomPDF/include/cellmap.cls.php on line 472\nI'm using the symfony2 bundle.\n. ",
    "kamalsamra": "My td content is large then some empty page is added on it.\n. I am still facing this issue and my font file contain entry of space\n. Yes\n. Thanks but it is working only in this structure,there is one another structure\n``` html\n<!DOCTYPE html>\n\n\n\n\n\n\n .heading {\nfont-size:3em;text-transform:uppercase;\nline-height:1em;</p>\n<p>}            </p>\n<p>.first-head{\nfloat:left;\n}     </p>\n<p>.clearfix{\ndisplay:block;\nclear:both;\ncontent:\"\";\n}  </p>\n<p>.align-right{\ntext-align:right;\n}          <br />\n \n\n\n\n\n\n\n\n\n\nKamal Samra\nSoftware Developer\nJaipur\n\n\n\n\n\n\n\n\n\n\n\nyour.name@example.com\n\n111-222-3333www.your-website.com\n\n\n\n\n\n\n\n\n```\nand you can see output here : \nhttp://eclecticgeek.com/dompdf/debug.php?identifier=55d8d8b05c977811475ed70076f7a11b\n. Hi\nFloat property is working but clear property does  not work properly as so for that we have to give height on parent element.But as we give height to parent element and text is more and some content of div move to next page then some white space added.\n. Hi,\nYou can check it here:\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=382e86d06e47679ead2e80eaac27af8c\n. ",
    "jasperpogi02": "any updates with this?\n. ",
    "niklasravnsborg": "having the same issue :sob: \n. ",
    "HyosokaPoipo": "Hay... I have the same issue... Please look my code here :\nhttp://stackoverflow.com/questions/39586988/how-to-add-new-page-in-dompdf-automatically\n. ",
    "enumag": "Any update on this infinite loop issue? Are there any known workarounds to let DomPdf skip the problematic content or throw an exception? Frankly anything else would be better than infinite loop.\n@bsweeney Well 0.7 is out, as well as 0.8. Is there anything we can do about this? I tried to debug it with xdebug but it is quite difficult. I didn't have much luck with fixing this so far.. @bsweeney Yeah, that sounds like a complicated refactoring. As a hotfix, is there any way to identify which block is being pushed to the next page? If so could we check if it is the same block as the last time and throw an exception in such case?. @bsweeney That's great to hear! Please let us know about the results. In case you don't manage to find a solution I'll use the callback workaround you mentioned.. @bsweeney :+1: Thanks, this fix works for my use case. And it is good enough for my needs - the user will see that the image is too large and will provide a smaller version. The infinite loop locked him out of the system for several minutes which was of course much much worse.. @bsweeney Tried to debug it myself for a bit.\nFirst thing I found was that Helpers::getFileContent() probably does not work with data urls. It is called by FontMetrics::registerFont(). There is a method Helpers::parse_data_uri() which could be used to fix this. But it currently never gets to this point because of the second thing below.\nThe bug is that Stylesheet::_parse_properties() does not parse data uris correctly:\ncss\n@font-face {\n    font-family: 'Roboto';\n    src: url(data:application/font-ttf;charset=utf-8;base64,ENCODEDFONTHERE) format('truetype');\n}\nSee the semicolon right after data:application/font-ttf? It seems that Stylesheet::_parse_properties() treats that as an end of the property definition. It does not matter if I put the entire data uri in quotes.. I tried the data uri and it doesn't work. Can you consider adding support for that? It would be much better than the current method.. Thanks! I'll follow that issue then.. Oh, sorry. I'll rebase it to develop tomorrow... @bsweeney Rebase done, target branch changed.. @bsweeney We have also encountered the No block-level parent found. error today. This patch helped. Any idea when a new version might be released?. ",
    "pascaldls": "May be since so many of us want to use dompdf we might all help to fix the problem with some code explanation we should be ready to go ans solved this issue that has being here for ages. \nanyone knows a way to calculate if td would need spliting \nthat is td height > page height  . hi how to pageNumber with pageTotal number/total. ",
    "Crankforfree": "Hey @bsweeney ,\nim currently on v0.8.2 trying to get cell splitting to work to work, because as you stated above, their is a way of getting it to work, but I can't get it to work... Could you specify what needs to be changed for it to work, as this seems to be the only way for me to get it to work.\nBest Regards. ",
    "jerry1970": "Haven't seen any comments on this for almost two years now...\nSupporting \u00ad would be much appreciated! The Dutch language has long (compound) words that are breaking up the layout of tables: extra wide TDs or, worse, extra long TDs (since dompdf has problems with TDs that are longer than a single page).\nHaving a table header like this:\nhtml\n<th>Gebruikers&shy;naam</th>\n<th>Voor&shy;verkoop&shy;adres</th>\nshows up in the browser like this when there is enough space:\nGebruikersnaam | Voorverkoopadres\nbut like this when there is not enough space:\n| Voor-\nGebruikers- | verkoop-\nnaam        | adres\n. ",
    "1manfactory": "No hyphenation support? Too bad, that makes dompdf useless for me.\n. ",
    "jamieburchell": "As I've found, this doesn't just happen with images. Any text content that extends to another page seems to trigger this issue where the containing element has \"page-break-inside: avoid\". It's still present in the latest master trunk.\n. As is typical, I can't put my finger on the issue at the moment. I just tried with beta3 and get lots of empty pages - tried with the trunk and it works. But I've definitely had dompdf in an infinite loop using page-break-inside: avoid in the trunk.\nI went back to beta3, because the version in the trunk seems to be ignoring page-break-after: avoid on headings and beta3 seems to be coping with page breaking better.\n. As is also typical I found how to reproduce the issue about 10 minutes after I wrote.\nI had images floated left on the page. When the page content spanned to the next, I got an infinite loop. It wasn't even the images that were spanning to the next page, it was text underneath them. This happened in the trunk version.\nIn beta3, the same document produces lots of empty pages.\n. I appreciate having spaces in file and directory names isn't recommended for those who know better. The usage of dompdf in my particular project means that images are brought in from a ckfinder library of images controlled by the user, with paths that may contain spaces.\nI'm URL encoding the paths properly (%20 for space), so really dompdf should work with them like browsers do.\n. Actually, it is working with URL encoded paths... it's paths without the URL encoding that don't work and as you say probably shouldn't be supported anyway.\n. No problem:\nhttp://jamieburchell.com/dompdf/sample.htm\nhttp://jamieburchell.com/dompdf/sample.pdf\n. Odd indeed. I've spent a good few hours today trying to fathom that one! I've actually run in to a use case where that's a problem with a large PDF.\n. Hi there\nI just wanted to check if you've had a chance to look at this or could offer a workaround?\nMany thanks,\nJamie.\n. Hi\nWe are keen to resolve this issue and I may be able to arrange a donation if it helps that to happen. Let me know if you would like to discuss further.\nMany thanks,\nJamie.\n. I notice that there is a newer version of dompdf available (0.6.1) - is this issue fixed in that version?\n. I'm pretty sure this was taken from the GitHub trunk, but to double check I downloaded it again. At first I received a warning about missing files in lib/php-font-lib. Not sure what that's about so I just used the ones I had previously. However, I get the same error reported using the sample HTML: Call to a member function split() on a non-object.\nWindows 7, PHP 5.2.17.\n. I don't think so, I probably just used a version that worked. Our environment is now PHP 5.3 so maybe it's not an issue now.\n. ",
    "tybruffy": "This is a pretty old bug, but this is still an issue.  The above fix works for me, but the code it addresses has moved.  It's now line 77 in Helpers.php.\nWithout this fix, the following WILL work in DomPDF:\n<link rel=\"stylesheet\" type=\"text/css\" href=\"app/assets/build/build.css\">\nWhile this will not work in DomPDF\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/app/assets/build/build.css\">\nNotice the leading slash in the second example.  DomPDF treats that as a fully qualified path, which it is not.  The fully qualifed path for that link shoudl be something like /var/www/site.com/app/app/assets/build/build.css\nThe example without the leading slash will work for DomPDF, but if your site uses URLS like the example.com/page-1/ the styles will not be output on the other pages.\n. ",
    "Pigossi": "Hello friend. \nI've the same problem. Did you discover how to solve this problem?!\nTks a lot\n\\o\n. ",
    "findela": "where to put this code? I am unable to find..\n. PlanMyHoliday - .pdf\nAt first thanks for your help,but it's only showing on first page.I am using dompdf 0.6 with Drupal 7 print module,@bsweeney is it possible to add header and footer template with you watermark solution on every page.\nI have attached a pdf,which I need to customize.\nYour solicited advice is needed.Please.\n. PlanMyHoliday - .pdf\nI have checked your example,in spite of I am unable to show you the exact html,coz drupal internally generates that html view which can't be identified on firebug when opening the pdf,the updated pdf is this,I have already tweak your css to work.\nNot finding the exact solution,little playing around.Thanks for the help,this library is too good than the others.\n. @bsweeney, onething can you help me,what and where to write code for header and footer template that  will print on every page.I know dompdf is responsible to render that rendering header and footer,as I hardly have an idea about dompdf pdf functionality,need to know where to put code and what code.\nYour help required.\n. @bsweeney, finally I have done it what I was required by, gracious! Thanks again for your auspicious help by pointing me. Onething after loving dompdf, I would like to help the community,may I get your email to contribute this project with a better hand! because I don't feel it'a not a good place to be talkative with you. :)\n. I have a problem again @bsweeney. On page changes, second page gap from top and content become doubled and it increases further.Any help?? \nThe problem is attached.\nPlanMyHoliday - .pdf\n. @bsweeney,I myself managed to fix the problem,but not satisfied as it doesn't meet the coding standard btw thanks for your help.\n. ",
    "DerDu": "This one still exists in 0.7.0 btw..\nThere was 1 error:\n1) MOC\\V\\TestSuite\\Tests\\Component\\Document\\BridgeTest::testDomPdfDocument\nUndefined index: \n/home/ubuntu/MOC-Framework-Mark-V/Component/Document/Vendor/DomPdf/0.7.0/lib/Cpdf.php:3547. Same here... +1\nIn my case coupled to page-break-inside: avoid !important;\nin combination with height: 29cm !important;\n19 Apr 2013 ?? - ITS TIME TO FIX THIS\n. This issue still exists if i do this in css\nsvg:not(:root) {\n    overflow: hidden;\n}\nDomPDF 0.6.1\nBootstrap 3.3.5\n. Same for me using bootstrap style\nsvg:not(:root) {\n    overflow: hidden;\n}\nDomPDF 0.6.1\nBootstrap 3.3.5\n. ",
    "cavalier79": "Hi! did you solved this issue? I really need small caps!\n. Hy guys, any solution yet? :(\n. Hi bsweeney. \nNow it uploaded the latest version from github (dompdf-master.zip) (i need border-radius)\nthis is the dompdfconfig : \ndef(\"DOMPDF_TEMP_DIR\", '/usr/local/www/etcetcetc'); // we serve a tmp path for every site.\ndef(\"DOMPDF_UNICODE_ENABLED\", true);\ndef(\"DOMPDF_ENABLE_FONTSUBSETTING\", false);\ndef(\"DOMPDF_PDF_BACKEND\", \"CPDF\");\ndef(\"DOMPDF_ENABLE_PHP\", true);\ndef(\"DOMPDF_ENABLE_JAVASCRIPT\", true);\ndef(\"DOMPDF_ENABLE_REMOTE\", true);\ndef(\"DOMPDF_ENABLE_AUTOLOAD\", true);\ndef(\"DOMPDF_AUTOLOAD_PREPEND\", true);\ndef(\"DOMPDF_ENABLE_HTML5PARSER\", true);\nphp 5.4.11 on apache\ni call dompdf from a Joomla 2.5.9 view with this command : \nfunction render($cache = false, $params = array())\n        {\n                $pdf = $this->engine;\n                $data = parent::render();\n                $this->fullPaths($data);\n                //echo $data;exit;\n                $pdf->load_html($data);\n                $pdf->render();\n                $pdf->stream($this->getName() . '.pdf');\n                return '';\n        }\nit simply ignore all my text-php script ! \n:(\nThis is my example on you debug tool : \nhttp://eclecticgeek.com/dompdf/debug.php?identifier=37ca301424e0056f1faa6095b765b160\n. Ok, now i can get border-radius, but i've still problem on creating a TOC page.\nI use a mechanism similar to this : \nhttp://eclecticgeek.com/dompdf/debug.php?identifier=41aafc153b4d3e640407bec20c77a9ec\nBEFORE HTML\n``` php\n\n    $GLOBALS['chapters'] = array();\n    $GLOBALS['chapterpage'] = 3;\n    $GLOBALS['backside'] = $pdf-&gt;open_object();\n\nTOC\n\n<?\nforeach($pages as $k => $page) { if($page!= '') { ?><? echo $page; ?>%%CH<? echo $k; ?>%%<? } }\n?>\n\n$pdf-&gt;close_object();\nbla bla bla\n\nif(isset($pdf)) {\n    foreach ($GLOBALS['chapters'] as $chapter =&gt; $page) {\n        $pdf-&gt;get_cpdf()-&gt;objects[$GLOBALS['backside']]['c'] = str_replace( '%%CH'.$chapter.'%%' , $page , $pdf-&gt;get_cpdf()-&gt;objects[$GLOBALS['backside']]['c'] );\n    }\n    $pdf-&gt;page_script('\n        if ($PAGE_NUM== $GLOBALS[\"chapterpage\"]) {\n            $pdf-&gt;add_object($GLOBALS[\"backside\"],\"add\");\n            $pdf-&gt;stop_object($GLOBALS[\"backside\"]);\n        }\n    ');\n $pdf-&gt;page_script('\n        if ($PAGE_COUNT &gt; 1 &amp;&amp; $PAGE_NUM != $PAGE_COUNT ) {\n        $font = Font_Metrics::get_font(\"verdana\");\n        $fontsize = 10;\n        $fontcolor = array(0.4,0.4,0.4);\n        $pdf-&gt;page_text($pdf-&gt;get_width()-60, $pdf-&gt;get_height()-30, \"{PAGE_NUM}\", $font, $fontsize, $fontcolor);\n        }\n   ');</p>\n<p>}\n\n```\nthe page counter now work! but it add the toc page on the right position (globals[chapterpage]) but it's blank :(\n. it works :)\n. How i can see it?\n. ",
    "digitalhuman": "The vulnerability of any particular system or application depends entirely on the setup by the system administrator, and also on the installation and configuration of the application itself.\n. ",
    "leiha": "you had do a good job for css and html (really good) but for the table of content and number page (current, total). it's really a bad way. :(\nIt's really not friendly and really boring. why you don't use a templating form ? \nLike html2pdf for exemple who is better for that but only for that.\nNow i must find an other pdf generator after 2days of dev just for that :(\n. @bsweeney\nAfter thinking and seen than the bookmarks doesn't work too, i changed to solution, i took mpdf but ty for your reply. ;)\n. ",
    "bartosz-grabski": "I have a similar issue, execution hangs on render (). The strange this is that it works well on my local Mac. When I upload the app to a hosted server, it hangs \nIs there any way I can know what was the solution (whether it was related to dompdf or not). ",
    "ramjiguru99": "I want to create a single pdf from multiple joomla articles. I have seen the 'modified code files' at http://code.google.com/p/dompdf/issues/detail?id=225  but as i'm a newbie i couldn't understand anything. So, please point me where to make changes so that I can work with it.\n. ",
    "surihasim": "I am just wondering if anyone has been able to incorporate the suggested changes with 0.6.0 Beta 3. I could use some help since I have been unable to do so\n. ",
    "vongocnhat": "remove calc(100% - 250px);. ",
    "rnealxp": "Hello, this is my first post about dompdf. I'm new and have started using it. I am having this 'space' issue using version 0.6.0 beta3. Please advise of anything that can be done to eliminate the space at the top left of the generated pdf page. I cross checked my generated html in a browser (not submitting to the pdf-generating engine) and I don't have this problem in the browser rendering. Anyone find a solution? Thanks...\n. My apologies, thanks for explaining and for the quick response. I'll continue here but please re-direct me for this thread if you wish. It's not a margin issue I think because...let me give a better illustration of the behavior:\nI have one div at the very top of the body tag, displayed as block, width=100%, height set. Below that one div I have 6 divs displayed as inline-block and equal percentages. Only the first of the six divs gets offset to the right and down by a small amount, although the 6 divs still do are in a row. Just not in a perfectly straight row. These 6 divs do share the same css styling.\n. Correction, that first of the six divs is offset downward only (not to the right).\n. How do I post a html file. Tried but the html characters get escaped out. I have a sample to provide you. In the process of trying to simplify the example I found the css declaration that makes the breakage occur.\n. Below is my sample...\n``` html\n\n\n<em> { margin: 0; padding: 0; }\n.antipagebreak{\n    /</em> before a record per RS property in code -- NO pagebreak css in here <em>/\n    text-align: right;\n    padding: 0;\n    margin: 0;\n    left: 0;\n}\n.pagefooter{\n    position: fixed;\n    bottom: 0px;\n    height: 60px;\n    padding-left: 40px;\n    padding-right: 40px;\n}\n.pagefooter .reportName{\n    display: inline-block;\n    font-size: smaller;\n    width: 70%;\n    text-align: left;\n}\n.pagefooter .dateTime{\n    display: inline-block;\n    font-size: smaller;\n    width: 20%;\n    text-align: left;\n}\n.pagefooter .pn{\n    /</em> page number tag and page number prefix string, needed. <em>/\n    display: inline-block;\n    font-size: smaller;\n    width: 10%;\n    text-align: right;\n}\n.pagefooter .pn:after{\n    /</em> causes page numbers to be incremented/rendered. */\n    content: counter(page);\n}</p>\n<h1>report{</h1>\n<pre><code>/* Contains all report group and child elements other than page header/footer */\nmargin: 40px;\n</code></pre>\n<p>}\n.rl{\n    /<em> record label </em>/\n    display: block;\n    width: 100%;\n    border-style: solid;\n    border-width: thin;\n}\n.fn{\n    /<em> field name </em>/\n    display: inline-block;\n    width: 15%;\n    border-style: solid;\n    border-width: thin;\n    font-size: 12px;\n    font-weight: bold;\n    padding: 5px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n.fd{\n    /<em> field data (value) </em>/\n    display: inline-block;\n    width: 15%;\n    border-style: solid;\n    border-width: thin;\n    font-size: 11px;\n    padding: 5px;\n}\n\n\n\nSchedule By Work Center7/3/2013 1:41pmPage AccountingStart DateDay of WeekFrom ToHrs MinEnd DateTeam Member2/1/2013Fri 1:06 pm - 5:06 pm4:002/1/2013(not assigned)2/4/2013Mon 1:06 pm - 5:06 pm4:002/4/2013(not assigned)2/6/2013Wed 1:06 pm - 5:06 pm4:002/6/2013(not assigned)\n\n\n```\n. Please share if when rendering in pdf format whether you see what I described above (with the 6 divs not lining up). After you do, you will see that if you remove this css declaration here: margin-top: 5px; from selector \".fn\" that the problem goes away. But that declaration should not have caused a problem I think.\n. Agreed. Thanks for the analysis. I've gone with option one for my solution. Best regards.\nSent from my Verizon Wireless BlackBerry\n-----Original Message-----\nFrom: Brian Sweeney notifications@github.com\nDate: Wed, 03 Jul 2013 13:30:27 \nTo: dompdf/dompdfdompdf@noreply.github.com\nReply-To: dompdf/dompdf reply@reply.github.com\nCc: rnealxprob_neal@rocketmail.com\nSubject: Re: [dompdf] Margins are ignored in inline-block elements after first\n one (#680)\nIt appears that dompdf is ignoring the margins applied to inline block elements after the first one. See the following simplified example:\n<!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n  <style>\n    div { background-color: orange; }\n    div > div { margin: 5px; display: inline-block; width: 50px; height: 50px; background-color: blue; }\n  </style>\n</head>\n<body>\n  <div style=\"background-color: orange;\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</body>\n</html>\nWe'll have to look into the issue further and will likely need to work on a patch.\nIn the meantime there are two work-arounds based on your sample code:\n1. Apply a padding to the .fns class instead of a margin to the .fn class.\n2. Since your data is tabular in nature you could use tables to achieve similar formatting.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/dompdf/dompdf/issues/680#issuecomment-20443031\n. ",
    "Grisgruis": "Just spend a few hours to fix the same (very weird only 404 on Firefox) problem, but header('HTTP/1.1 200 OK'); wouldn't work (Just on Firefox).\nThe issue is probably comming from  header(\"Content-Length\"); \nWhen i used $dompdf->output(array('compress' => 1)); the problem was fix, think it has something to do with the difference in content lengt/gzip.\n. ",
    "olivier-weka": "I'd be interested too. The easiest way to share your implementation would be for you to fork this repository and push your changes on it.\n. ",
    "juriansluiman": "@oliverhuynh what's the status of SVG support?\nI cleaned up the patch file a bit, removing all whitespace changes. It currently looks like this:\n``` diff\n20930f43c12f33e143fa306db5570742f715b9c3\n sites/all/libraries/dompdf/dompdf_config.inc.php   |   6 +-\n .../all/libraries/dompdf/include/functions.inc.php | 157 +++++++++++----------\n .../libraries/dompdf/include/image_cache.cls.php   |  45 +++---\n .../dompdf/include/pdflib_adapter.cls.php          |  78 ++++++----\n 4 files changed, 157 insertions(+), 129 deletions(-)\ndiff --git a/sites/all/libraries/dompdf/dompdf_config.inc.php b/sites/all/libraries/dompdf/dompdf_config.inc.php\nindex 0c3f8e3..70c0686 100755\n--- a/sites/all/libraries/dompdf/dompdf_config.inc.php\n+++ b/sites/all/libraries/dompdf/dompdf_config.inc.php\n@@ -4,7 +4,7 @@\n  * @link    http://www.dompdf.com/\n  * @author  Benj Carson benjcarson@digitaljunkies.ca\n  * @author  Helmut Tischer htischer@weihenstephan.org\n- * @author  Fabien M\u00ef\u00bf\u00bdnager fabien.menager@gmail.com\n+ * @author  Fabien M\u00e9nager fabien.menager@gmail.com\n  * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License\n  * @version $Id: dompdf_config.inc.php 468 2012-02-05 10:51:40Z fabien.menager $\n  /\n@@ -164,7 +164,7 @@ def(\"DOMPDF_ENABLE_FONTSUBSETTING\", false);\n  * @link http://www.ros.co.nz/pdf\n  * @link http://www.php.net/image\n  /\n-def(\"DOMPDF_PDF_BACKEND\", \"CPDF\");\n+def(\"DOMPDF_PDF_BACKEND\", \"PDFLib\");\n/\n  * PDFlib license key\n@@ -285,7 +285,7 @@ def(\"DOMPDF_ENABLE_JAVASCRIPT\", true);\n  \n  * @var bool\n  /\n-def(\"DOMPDF_ENABLE_REMOTE\", false);\n+def(\"DOMPDF_ENABLE_REMOTE\", TRUE);\n/**\n  * The debug output log\ndiff --git a/sites/all/libraries/dompdf/include/functions.inc.php b/sites/all/libraries/dompdf/include/functions.inc.php\nindex 8e0ab02..335409a 100644\n--- a/sites/all/libraries/dompdf/include/functions.inc.php\n+++ b/sites/all/libraries/dompdf/include/functions.inc.php\n@@ -12,6 +12,7 @@ if ( !defined('PHP_VERSION_ID') ) {\n   $version = explode('.', PHP_VERSION);\n   define('PHP_VERSION_ID', ($version[0] * 10000 + $version[1] * 100 + $version[2]));\n }\n+define ('IMAGETYPE_SVG', 111);\n/**\n  * Defined a constant if not already defined\n@@ -744,36 +745,44 @@ function imagecreatefrombmp($filename) {\n/\n  * getimagesize doesn't give a good size for 32bit BMP image v5\n  \n  * @param string $filename\n  * @return array The same format as getimagesize($filename)\n  /\n function dompdf_getimagesize($filename) {\n   static $cache = array();\nif ( isset($cache[$filename]) ) {\n     return $cache[$filename];\n   }\nlist($width, $height, $type) = getimagesize($filename);\nif ( $width == null || $height == null ) {\n-    $data = file_get_contents($filename, null, null, 0, 26);\n-\n-    if ( substr($data, 0, 2) === \"BM\" ) {\n+    $data = file_get_contents($filename, null, null, 0, 1024);\n+    if (strstr($data, 'http://www.w3.org/2000/svg')) {\n+      $type = IMAGETYPE_SVG;\n+      $width = explode('width=\"', $data);\n+      $width = explode('\"', $width[1]);\n+      $width = $width[0];\n+      $height = explode('height=\"', $data);\n+      $height = explode('\"', $height[1]);\n+      $height = $height[0];\n+    }\n+    elseif ( substr($data, 0, 2) === \"BM\" ) {\n       $meta = unpack('vtype/Vfilesize/Vreserved/Voffset/Vheadersize/Vwidth/Vheight', $data);\n       $width  = (int)$meta['width'];\n       $height = (int)$meta['height'];\n       $type   = IMAGETYPE_BMP;\n     }\n   }\nreturn $cache[$filename] = array($width, $height, $type);\n }\n/*\n  * Converts a CMYK color to RGB\n  \n  * @param float|float[] $c\n  * @param float         $m\n  * @param float         $y\ndiff --git a/sites/all/libraries/dompdf/include/image_cache.cls.php b/sites/all/libraries/dompdf/include/image_cache.cls.php\nindex 7d7e560..c8d7c69 100644\n--- a/sites/all/libraries/dompdf/include/image_cache.cls.php\n+++ b/sites/all/libraries/dompdf/include/image_cache.cls.php\n@@ -49,28 +49,28 @@ class Image_Cache {\n     $message = null;\n $remote = ($protocol && $protocol !== \"file://\") || ($parsed_url['protocol'] != \"\");\n\n $data_uri = strpos($parsed_url['protocol'], \"data:\") === 0;\n $full_url = null;\n $enable_remote = $dompdf->get_option(\"enable_remote\");\n\n try {\n\n   // Remote not allowed and is not DataURI\n   if ( !$enable_remote && $remote && !$data_uri ) {\n     throw new DOMPDF_Image_Exception(\"DOMPDF_ENABLE_REMOTE is set to FALSE\");\n\n\n\n}\n      }\n+\n       // Remote allowed or DataURI\n       else if ( $enable_remote && $remote || $data_uri ) {\n         // Download remote files to a temporary directory\n         $full_url = build_url($protocol, $host, $base_path, $url);\n // From cache\n if ( isset(self::$_cache[$full_url]) ) {\n   $resolved_url = self::$_cache[$full_url];\n }\n // From remote\n else {\n   $tmp_dir = $dompdf->get_option(\"temp_dir\");\n\n@@ -105,30 +105,30 @@ class Image_Cache {\n       }\n     }\n   }\n// Not remote, local image\n   else {\n     $resolved_url = build_url($protocol, $host, $base_path, $url);\n   }\n// Check if the local file is readable\n   if ( !is_readable($resolved_url) || !filesize($resolved_url) ) {\n     throw new DOMPDF_Image_Exception(\"Image not readable or empty\");\n   }\n// Check is the file is an image\n   else {\n     list($width, $height, $type) = dompdf_getimagesize($resolved_url);\n     // Known image type\n-        if ( $width && $height && in_array($type, array(IMAGETYPE_GIF, IMAGETYPE_PNG, IMAGETYPE_JPEG, IMAGETYPE_BMP)) ) {\n+        if ( $width && $height && in_array($type, array(IMAGETYPE_GIF, IMAGETYPE_PNG, IMAGETYPE_JPEG, IMAGETYPE_BMP, IMAGETYPE_SVG)) ) {\n       //Don't put replacement image into cache - otherwise it will be deleted on cache cleanup.\n       //Only execute on successful caching of remote image.\n       if ( $enable_remote && $remote || $data_uri ) {\n         self::$_cache[$full_url] = $resolved_url;\n       }\n     }\n     // Unknown image type\n     else {\n       throw new DOMPDF_Image_Exception(\"Image type unknown\");\n@@ -150,31 +150,32 @@ class Image_Cache {\n*/\n   static function clear() {\n if ( empty(self::$_cache) || DEBUGKEEPTEMP ) return;\nforeach ( self::$_cache as $file ) {\n   if (DEBUGPNG) print \"[clear unlink $file]\";\n   unlink($file);\n }\nself::$_cache = array();\n   }\n\n\nstatic function detect_type($file) {\n     list(, , $type) = dompdf_getimagesize($file);\n     return $type;\n   }\nstatic function type_to_ext($type) {\n     $image_types = array(\n       IMAGETYPE_GIF  => \"gif\",\n       IMAGETYPE_PNG  => \"png\",\n       IMAGETYPE_JPEG => \"jpeg\",\n       IMAGETYPE_BMP  => \"bmp\",\n+      IMAGETYPE_SVG => 'svg',\n     );\n return (isset($image_types[$type]) ? $image_types[$type] : null);\n\n}\nstatic function is_broken($url) {\n     return $url === self::$broken_image;\n   }\ndiff --git a/sites/all/libraries/dompdf/include/pdflib_adapter.cls.php b/sites/all/libraries/dompdf/include/pdflib_adapter.cls.php\nindex 4bfe191..bf5251e 100644\n--- a/sites/all/libraries/dompdf/include/pdflib_adapter.cls.php\n+++ b/sites/all/libraries/dompdf/include/pdflib_adapter.cls.php\n@@ -774,13 +774,24 @@ class PDFLib_Adapter implements Canvas {\n     $img_ext  = Image_Cache::type_to_ext($img_type);\n if ( !isset($this->_imgs[$img_url]) ) {\n\n\n$this->_imgs[$img_url] = $this->_pdf->load_image($img_ext, $img_url, \"\");\nif ($img_ext == 'svg') {\n$this->_imgs[$img_url] = $this->_pdf->load_graphics('auto', $img_url, \"\");\n}\nelse {\n$this->_imgs[$img_url] = $this->_pdf->load_image($img_ext, $img_url, \"\");\n\n}\n     }\n$img = $this->_imgs[$img_url];\n$y = $this->y($y) - $h;\n-    $this->_pdf->fit_image($img, $x, $y, 'boxsize={'.\"$w $h\".'} fitmethod=entire');\n+    if ($img_ext == 'svg') {\n+      $this->_pdf->fit_graphics($img, $x, $y, '');\n+      $this->_pdf->close_graphics($img);\n+    }\n+    else {\n+      $this->_pdf->fit_image($img, $x, $y, 'boxsize={'.\"$w $h\".'} fitmethod=entire');\n+    }\n   }\n\n\n//........................................................................\n@@ -788,7 +799,11 @@ class PDFLib_Adapter implements Canvas {\n   function text($x, $y, $text, $font, $size, $color = array(0,0,0), $word_spacing = 0, $char_spacing = 0, $angle = 0) {\n     $fh = $this->_load_font($font);\n\n$this->_pdf->setfont($fh, $size);\n// TODO: Raise warning\nif ($fh != 0) {\n$this->_pdf->setfont($fh, $size);\n\n}\n+\n     $this->_set_fill_color($color);\n$y = $this->y($y) - Font_Metrics::get_font_height($font, $size);\n@@ -875,6 +890,9 @@ class PDFLib_Adapter implements Canvas {\n   function get_font_height($font, $size) {\n$fh = $this->_load_font($font);\n+    if (empty($fh)) {\n+      return 0;\n+    }\n$this->_pdf->setfont($fh, $size);\n```\n\n\nI guess:\n1. The config changes could be ignored for review\n2. There is a change in the braces around a try/catch statement in image_cache.cls.php, I have no idea why it's there\nI would love to have SVG support, so can the first phase possibly with only support for pdflib and if cpdf is ready, we get the support for that too?\n. ",
    "luksak": "@juriansluiman your patch got corrupted. I am getting this error when trying to apply it with git:\nfatal: corrupt patch at line 133\nAlso the patch by @oliverhuynh doesn't apply anymore. I re-rolled it against the current master branch while removing all unnecessary whitespace changes:\n```\ndiff --git a/dompdf_config.inc.php b/dompdf_config.inc.php\nindex 51fbcb5..a195cf9 100644\n--- a/dompdf_config.inc.php\n+++ b/dompdf_config.inc.php\n@@ -160,7 +160,7 @@ def(\"DOMPDF_ENABLE_FONTSUBSETTING\", false);\n  * @link http://www.ros.co.nz/pdf\n  * @link http://www.php.net/image\n  */\n-def(\"DOMPDF_PDF_BACKEND\", \"CPDF\");\n+def(\"DOMPDF_PDF_BACKEND\", \"PDFLib\");\n/\n  * PDFlib license key\n@@ -281,7 +281,7 @@ def(\"DOMPDF_ENABLE_JAVASCRIPT\", true);\n  \n  * @var bool\n  /\n-def(\"DOMPDF_ENABLE_REMOTE\", false);\n+def(\"DOMPDF_ENABLE_REMOTE\", TRUE);\n/**\n  * The debug output log\ndiff --git a/include/functions.inc.php b/include/functions.inc.php\nindex 8e0ab02..a304235 100644\n--- a/include/functions.inc.php\n+++ b/include/functions.inc.php\n@@ -12,6 +12,7 @@ if ( !defined('PHP_VERSION_ID') ) {\n   $version = explode('.', PHP_VERSION);\n   define('PHP_VERSION_ID', ($version[0] * 10000 + $version[1] * 100 + $version[2]));\n }\n+define ('IMAGETYPE_SVG', 111);\n/**\n  * Defined a constant if not already defined\n@@ -758,9 +759,17 @@ function dompdf_getimagesize($filename) {\n   list($width, $height, $type) = getimagesize($filename);\nif ( $width == null || $height == null ) {\n-    $data = file_get_contents($filename, null, null, 0, 26);\n-  \n-    if ( substr($data, 0, 2) === \"BM\" ) {\n+    $data = file_get_contents($filename, null, null, 0, 1024);\n+    if (strstr($data, 'http://www.w3.org/2000/svg')) {\n+      $type = IMAGETYPE_SVG;\n+      $width = explode('width=\"', $data);\n+      $width = explode('\"', $width[1]);\n+      $width = $width[0];\n+      $height = explode('height=\"', $data);\n+      $height = explode('\"', $height[1]);\n+      $height = $height[0];\n+    }\n+    elseif ( substr($data, 0, 2) === \"BM\" ) {\n       $meta = unpack('vtype/Vfilesize/Vreserved/Voffset/Vheadersize/Vwidth/Vheight', $data);\n       $width  = (int)$meta['width'];\n       $height = (int)$meta['height'];\ndiff --git a/include/image_cache.cls.php b/include/image_cache.cls.php\nindex 7d7e560..dfb00b9 100644\n--- a/include/image_cache.cls.php\n+++ b/include/image_cache.cls.php\n@@ -121,7 +121,7 @@ class Image_Cache {\n         list($width, $height, $type) = dompdf_getimagesize($resolved_url);\n     // Known image type\n\n\nif ( $width && $height && in_array($type, array(IMAGETYPE_GIF, IMAGETYPE_PNG, IMAGETYPE_JPEG, IMAGETYPE_BMP)) ) {\nif ( $width && $height && in_array($type, array(IMAGETYPE_GIF, IMAGETYPE_PNG, IMAGETYPE_JPEG, IMAGETYPE_BMP, IMAGETYPE_SVG)) ) {\n           //Don't put replacement image into cache - otherwise it will be deleted on cache cleanup.\n           //Only execute on successful caching of remote image.\n           if ( $enable_remote && $remote || $data_uri ) {\n@@ -170,6 +170,7 @@ class Image_Cache {\n       IMAGETYPE_PNG  => \"png\",\n       IMAGETYPE_JPEG => \"jpeg\",\n       IMAGETYPE_BMP  => \"bmp\",\n\nIMAGETYPE_SVG => 'svg',\n     );\nreturn (isset($image_types[$type]) ? $image_types[$type] : null);\ndiff --git a/include/pdflib_adapter.cls.php b/include/pdflib_adapter.cls.php\nindex 4bfe191..4787332 100644\n--- a/include/pdflib_adapter.cls.php\n+++ b/include/pdflib_adapter.cls.php\n@@ -774,13 +774,24 @@ class PDFLib_Adapter implements Canvas {\n $img_ext  = Image_Cache::type_to_ext($img_type);\nif ( !isset($this->_imgs[$img_url]) ) {\n-      $this->_imgs[$img_url] = $this->_pdf->load_image($img_ext, $img_url, \"\");\n+      if ($img_ext == 'svg') {\n+        $this->_imgs[$img_url] = $this->_pdf->load_graphics('auto', $img_url, \"\");\n+      }\n+      else {\n+        $this->_imgs[$img_url] = $this->_pdf->load_image($img_ext, $img_url, \"\");\n+      }\n }\n$img = $this->_imgs[$img_url];\n$y = $this->y($y) - $h;\n-    $this->_pdf->fit_image($img, $x, $y, 'boxsize={'.\"$w $h\".'} fitmethod=entire');\n+    if ($img_ext == 'svg') {\n+      $this->_pdf->fit_graphics($img, $x, $y, '');\n+      $this->_pdf->close_graphics($img);\n+    }\n+    else {\n+      $this->_pdf->fit_image($img, $x, $y, 'boxsize={'.\"$w $h\".'} fitmethod=entire');\n+    }\n   }\n\n\n//........................................................................\n@@ -788,7 +799,11 @@ class PDFLib_Adapter implements Canvas {\n   function text($x, $y, $text, $font, $size, $color = array(0,0,0), $word_spacing = 0, $char_spacing = 0, $angle = 0) {\n     $fh = $this->_load_font($font);\n\n$this->_pdf->setfont($fh, $size);\n// TODO: Raise warning\nif ($fh != 0) {\n$this->_pdf->setfont($fh, $size);\n\n}\n+\n     $this->_set_fill_color($color);\n$y = $this->y($y) - Font_Metrics::get_font_height($font, $size);\n@@ -875,6 +890,9 @@ class PDFLib_Adapter implements Canvas {\n   function get_font_height($font, $size) {\n$fh = $this->_load_font($font);\n+    if (empty($fh)) {\n+      return 0;\n+    }\n$this->_pdf->setfont($fh, $size);\n\n\n```\n. When trying to embed a svg I get this error:\nImage type unknown test.svg\n. This is the source:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n     width=\"44px\" height=\"44px\" viewBox=\"0 0 44 44\" enable-background=\"new 0 0 44 44\" xml:space=\"preserve\">\n<image display=\"none\" overflow=\"visible\" opacity=\"0.2\" width=\"44\" height=\"44\" xlink:href=\"cart.png\" >\n</image>\n<rect fill=\"#66FF66\" width=\"44\" height=\"44\"/>\n<path fill=\"#FFFFFF\" d=\"M17.5,30.8c-2.4,0-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3s4.3-1.9,4.3-4.3S19.9,30.8,17.5,30.8z M30.6,30.8\n    c-2.4,0-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3s4.3-1.9,4.3-4.3S33,30.8,30.6,30.8z M37.1,9.1H13.3l-0.6-2.2c-0.4-2-1.7-2.2-2.2-2.2H6.7\n    c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2h2.2l4.3,15.6c0.4,1.3,1.4,1.7,2.2,1.7h17.4c0.9,0,1.7-0.5,2.2-1.7l3.7-11.3\n    c0.3-1.1,0.6-1.6,0.6-2.2C39.2,9.8,38,9.1,37.1,9.1z M31.2,22.1H17l-2.4-8.7h19.5L31.2,22.1z\"/>\n</svg>\n``\n. ",
    "julianxhokaxhiu": "The unknown error is because currently DOMPDF doesn't support SVG. You need to apply the patch (if possibile) to get a support only made by PDFLib.\nAnyway, it would be cool to have it integrated also with ImageMagick/GraphicsMagick to get it just a little automated :)\n. Thank you @PhenX! Hoping to see it inside DomPDF ASAP\n. Thank you @PhenX I'll try it the next days to see how far we can go.\n. Nope sorry I didn't had time but I'll do it maybe this weekend :) But I can say for sure that for me the priority is a Better SVG Support\n. Please consider this as my personal help but STOP the offtopic, if you need help you definitely not need to ask it here. This ticket is about discussing the SVG code support and not how to implement it on your application.\n\nUse composer to download the latest dev branch\ncomposer require dompdf/dompdf:0.7.x@beta\nthen include this at the beginning of your main file application ( for eg. index.php )\nphp\n// somewhere early in your project's loading, require the Composer autoloader\n// see: http://getcomposer.org/doc/00-intro.md\nrequire 'vendor/autoload.php';\nfinally\n``` php\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$dompdfOptions = new Options();\n// see https://github.com/dompdf/dompdf/blob/develop/src/Options.php\n$dompdfOptions->set( ... )\n$dompdf->setOptions( $dompdfOptions )\n// the rest of the code here\n```\n. ",
    "RobMayer": "I tried applying the patch, just to see if it would work and I'm afraid it still didn't let me put in SVG files. c'est la vie. But I'm going to add a +1 to request support of SVG files, inline or otherwise.\n. @hakimio \nWelp - I feel dumb now. Thanks for the help.\nStill hoping that domPDF will support svg files via CPDF in the future.\n. Thank you a dozen times over. I will have a look when the next time I step into the project I was working on.\n. ",
    "hakimio": "@DasUmlaut \nYou need to buy PDFLib for this to work...\n. That's really nice :)\n. @Asimov500 also make sure to update \"phenx/php-svg-lib\" to version 0.2. SVG parsing has significantly improved in the latest version compared to 0.1, but dompdf still seems to depend on version 0.1 for some reason.. Edit your dompdf composer.json like Brian did in this commit -> https://github.com/dompdf/dompdf/commit/68f40e1bd158ed1189960ba84b65d8caf19a89d0\nand then run composer update .. You can also download the latest dompdf development version from github web if you select \"Branch: develop\" and then click \"Download ZIP\". . Make sure you are including the image using \"img\" tag. Using CSS background won't work.. It is supported. Maybe, you are encoding it wrong. Did you try to render it in your browser?. It is supported. Maybe, you are encoding it wrong. Did you try to render it in your browser?. There is sth wrong with your message formatting.. There is sth wrong with your message formatting.. ```\n$dompdf->loadHtml(\"myhtml code is here\");\n$dompdf->render();\n$output = $dompdf->output();\nfile_put_contents('filename.pdf', $output);\n```\nQuestions should be asked on the user forum, not in the bug tracker.. I guess that's wordpress function:\nhttps://developer.wordpress.org/reference/functions/plugin_dir_path/\nReturn\n(string) the filesystem path of the directory that contains the plugin.. The classes use different character casing \"Cpdf\" vs \"CPdf\", so I don't think namespacing is an issue, but maybe @PhenX might know more about it.. You might have messed up with colspans in your tables. Remove them one-by-one to find out which one is causing issues.. You might have messed up with colspans in your tables. Remove them one-by-one to find out which one is causing issues.. You have to provide at least the html produced by your \"page.php\" if you want to get any help.. You have to provide at least the html produced by your \"page.php\" if you want to get any help.. Post what you have in your $html variable.. Post what you have in your $html variable.. It should be HTML code, not PHP... You have to get the output of your PHP code first.. It should be HTML code, not PHP... You have to get the output of your PHP code first.. You have to pass html string, not filename to loadHtml(), but, I guess, you already figured that out.\nNow you can close the bug report.. You have to pass html string, not filename to loadHtml(), but, I guess, you already figured that out.\nNow you can close the bug report.. Must be the same as this issue -> https://github.com/dompdf/dompdf/issues/500. Must be the same as this issue -> https://github.com/dompdf/dompdf/issues/500. Try the following:\n```\n\n.ttext td {\n        text-align: center;\n    }\n.icon {\n    width: 14px;\n    height: 14px;\n    display: inline-block;\n    background-size: 14px;\n    background-image: url(http://eclecticgeek.com/images/macro/ants.jpg);\n}\n\n\n\n\n\n\n        aasdfasd fasdf asdf asdf  adsf asdfaf \n      \n\n\n```. Maybe you are loading CSS from external location and it wasn't loaded properly.\nPosting HTML + CSS which produces this output would help.. Maybe you are loading CSS from external location and it wasn't loaded properly.\nPosting HTML + CSS which produces this output would help.. Duplicate: https://github.com/dompdf/dompdf/issues/999. I don't think dompdf supports \"col\" tag.\nYou might want to experiment with width/max-width/min-width and pixels for now instead.. The font is embedded, but maybe it's not the right one. You can try to use custom fonts to see if it helps.\nAlso, have you tried the solution which worked for duong841992: https://github.com/dompdf/dompdf/issues/938#issuecomment-269274979. @ziprain Yup, dompdf for sure has some issues embedding fonts. I would recommend to try out mikehaertl/phpwkhtmltopdf . wkhtmltopdf works really well even on a headless linux server when used with  Xvfb.. As it's clearly svg rendering bug, you should close the bug report here and open a new one under appropriate project: https://github.com/PhenX/php-svg-lib. Also, while you are at it, you should test the latest development version of \"php-svg-lib\". It seems recently there were some bug fixes, which should address the issue you are seeing here.\nhttps://github.com/PhenX/php-svg-lib/commit/b8c3bb79de4f2107c053b03d86ee4732462b265b#diff-f604e9a7580705887522f10f6acf5432. Must be a CentOS 7 issue. The sh#tty distro still uses libxml 2.9.1 which has a major bug. More info:\nhttp://stackoverflow.com/questions/39899632/same-xpath-returns-different-values-on-centos-ubuntu/39956501#39956501. We'll just say it's CentOS bug.. @T0miii Either use \"nth-of-type\" instead of \"nth-child\" or switch to another linux distro. CentOS 7.5 still uses buggy version of libxml2.. As I understand, the reason for this error is because helvetica font is missing .ttf file. How could we replace helvetica .afm font with .ttf font?. The reader is Adobe Acrobat reader as stated in the first post. Just test with a simple html with font-family set to helvetica. I am using some danish letters (\u00e6, \u00f8, \u00e5) which are rendered correctly and I don't think it makes any difference. The problem is with the way you embed the font (or don't embed it in this case).\nEDIT: I can't give you an example right now because I am on holiday and don't have access to them, but if you still need them, I can get some in a couple of weeks or so.. @bsweeney Did you manage to reproduce?. You need to set appropriate headers yourself before streaming. \"Content-type\", \"Content-length\", etc.\nNot exactly dompdf issue.. You can use $dompdf->loadHtmlFile('dummy.html') to load html files and urls.. Have you tried setting both - width and height for the image?. The only change in php-svg-lib v0.3 is the following:\nhttps://github.com/PhenX/php-svg-lib/commit/0a9869529a2a5f0bee31ba905bdc39962eba1025\nIf reverting it doesn't help, most likely php-svg-lib is not the problem.. ",
    "Mte90": "+1\n. Cool, but some example how to use your library will be very useful :-)\n. I think that is the only problem but a porting guide will be helpful for other problems that can be found.\nI want also know if this are the correct way to install, in the readme is explained to download outside to github.\nhttps://github.com/MozillaKerala/Card-Generator/blob/master/generate.php#L15\n. Ok I have ported that but the paper size is wrong.\nI want the size of a business card but I get 216 x 279 mm in the correct orientation.\nhttps://github.com/Mte90/Card-Generator/blob/dompdf-0.7/generate.php\n. Thank you very much!\nWhat is the unit size of that values?\nAlso an error about that the size don't exist will be helpful for the future :-)\n. ",
    "simplenotezy": "+1 for SVG support..\n. Wow good job! Keep it up!\n. Thanks, the wiki got met started.\n. This is my composer:\n\"dompdf/dompdf\" : \"dev-master#cf7d8a0a27270418850cc7d7ea532159e5eeb3eb\",\n\"aferrandini/phpqrcode\": \"1.0.1\"\nGD Setup:\n\n\nPDF backend option:\ndef(\"DOMPDF_PDF_BACKEND\", \"CPDF\");\nThe issue only appears on my production server - things seem to run smoothly on localhost.\n. ",
    "TomasDePomas": "+1\n. @PhenX Wicked! For my current project I have found a workaround using canvg, but that is less than optimal.\n. ",
    "douglasmiguel": "Thank you @PhenX, the dev-develop branch works on my project!\nI already have a minor issue with the SVG size, when a force the size on the img tag or in CSS class doesn't works.\nExample: \nIMAGE TAG:\n\n\n\n(Dont worry, the image is white, looks like is nothing there)\nCSS TAG:\n #logo {\n      width: 126px;\n      height: 100px;\n      display: block;\n      max-width: 100%;\n}\n. ",
    "mfeske": "Hello everybody,\ndompdf runs with me quite well. I have now only a problem if I want to integrate the SVG graphics, for example, with this line: <logo1><img src='img/logo_old.svg' alt=''></logo1> Could you help me what I need to do just to make the error Image type unknown\nimg / logo_old.svg no longer comes?\n. @bsweeney i use master branch\n. Hello bsweeney, thanks for the support. I had placed me a git version in a separate directory and have changed with git branch --set-upstream-to = origin / Develop Develop, there were then away at www all files. What should I do to in order to provide my current version with an update of the nightly without which I destroy my adjustments in the configuration, such as passwords, etc. fonts.\n. Has anyone any idea how I can perform the update without my existing settings to overwrite? I need the support SVG.\n. Hello julianxhokaxhiu  sorry for offtopic. I will try this. Where is the correct Place to ask for help?\n. Hello bsweeney, thanks for your fast response.\ntheire is the margin 0cm.\n```\n@page {\n   size: 21cm 29.7cm;\n   margin-top: 0cm;\n   margin-bottom: 0cm;\n   border: 1px solid blue;\n}\nlogo1 {\n  position:absolute; top:10mm; right:20mm;\n}\nlogo2 {\n  color: red;\n}\nsubject {\n  position:absolute; top:98.46mm; left:25mm;\n}\ncontent {\n  color: blue;\n  position:absolute; top:108.46mm; left:25mm;\n}\nfooter {\n color: red;\n position:absolute; top:270mm; left:25mm;\n}\nmarker1 {\n position:absolute; top:105mm;\n}\nmarker2 {\n position:absolute; top:148.5mm; left:-10mm;\n}\nmarker3 {\n position:absolute; top:192mm;\n}\nbox0 {\nbackground-color: silver;\n font-size: 6px;\n position: absolute;\n top: 45mm;\n left: 20mm;\n width: 85mm;\n height: 2.0mm;\n border: 1px solid black;\n}\nbox1 {\nbackground-color: silver;\n font-size: 12px;\n position: absolute;\n top: 47mm;\n left: 20mm;\n width: 85mm;\n height: 15.7mm;\n border: 1px solid black;\n}\nbox2 {\nbackground-color: silver;\n position: absolute;\n top: 62.7mm;\n left: 20mm;\n width: 85mm;\n height: 27.3mm;\n border: 1px solid black;\n}\nbox3 {\nbackground-color: silver;\n position: absolute;\n top: 50mm;\n right: 10mm;\n width: 65mm;\n height: 30mm;\n border: 1px solid black;\n -moz-border-radius: 20px;\n -webkit-border-radius: 20px;\n border-radius: 20px;\n-webkit-border-radius: 20px;\n border-radius: 20px;\n padding: 5mm;\n}\nbox3a {\nposition: absolute;\n top: 50mm;\n right: 10mm;\n width: 27.5mm;\n height: 30mm;\n padding: 5mm;\n}\nand in my php file theire is no margin to\n<?php\nrequire_once(.../dompdf/dompdf_config.inc.php);\n$kdnr =  $_POST[kdnr];\n$absender =  $_POST[absender];\n$empfaenger =  $_POST[empfaenger];\n$telefaxno =  $_POST[telefaxno];\n$betreff =  $_POST[betreff];\n$text =  $_POST[text];\n$html =\n.\n.\n.\n.\n.\n.\n$absender.\nZusatz- und Vermerkzone.\n$empfaenger.\nDatum:Seite:Kundennummer:.\n$date1 von 1$kdnr.\nBetreff $betreff.\nHier der Text $text.\nHier die Unternehmens Pflichtangaben.\n.\n.\n.\n;\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(sample.pdf);\n$pdf = $dompdf->output();\nfile_put_contents(file.pdf, $pdf);\n?>\n```\n. Hello bsweeney, Thanks for the note. Where do I know the version of the dompdf? I think I had the loaded from the Google Code, as there was with the from the git problems. So far, almost everything has indeed worked. Except for the problem with the image. Can I send you the PDF file by e-mail? How can I now work with the dev git, I put it in a separate path and thought I could now my scripts from / dompdf / on / dompdfgit / change, but that seems to not function.\nAnother problem which determines not come from dompdf is perhaps also solved with the beta version. When we send the PDF file by e-mail to the fax server breaks the signature. If we will transfer correctly you consign with Hylafax client to the server. Do you have any idea about this?\ngreeting\nMicha and Thanks for your good work!\n. Hello bsweeney, thanks for the support. I've uploaded the file. There have been used four unterscheidliche fonts. But it is just a script and still looks at the a letter of clearance in the Address and in the footer different from the others. In all four files have the same image file that looks a bit strange to me. I also have an SVG version, but do not know how I einbinde this correctly. The current version level of dompdf allows nocht probably not. As I see the dompdf version.\n. Hello bsweeney, could you at the png file notice something, why this is so blurred? Has anyone any idea how I can perform the update without my existing settings to overwrite? I need the SVG support and improve the PDF structure so that I can pass the PDF documents neatly on the fax client.\n. Hello bsweeney,\nin Attachment the Screenshot from the Problem. Problem is between Berlin and Germany and between Seite and Kundennummer.\n\n. ```\n<?\n$empfaenger = nl2br($empfaenger);\n.\n.\n.\n$html =\n\"\".\n\"\";\nif (($art ==\"option1\")||($art ==\"option2\")||($art ==\"option3\")||($art ==\"option5\")) {$html .=\n\"\";\n}\nif ($art ==\"option4\") {$html .=\n\"\";\n}\n$html .=\n\"\".\n\"\";\nif (($art ==\"option1\")||($art ==\"option2\")||($art ==\"option4\")) {$html .=\n\"\";\n}\n$html .=\n\"$absender\";\nif (($art ==\"option2\")||($art ==\"option3\")) {$html .=\n\"$zusatz\";\n}\n$html .=\n\"$empfaenger\";\nif (($art ==\"option1\")||($art ==\"option2\")||($art ==\"option3\")||($art ==\"option4\")) {$html .=\n\"Datum:Seite:Kundennummer:\".\n\"$datum1 von 1$kdnr\";\n}\nif ($art ==\"option5\") {$html .=\n\"$datum\";\n}\nin css:\nbox2 {\nfont-size: 12px;\n background-color: white;\n position: absolute;\n top: 52.7mm;\n left: 20mm;\n width: 85mm;\n height: 27.3mm;\n border: 0px solid black;\n}\nbox3 {\nfont-size: 12px;\n background-color:#F6F6F6;\n position: absolute;\n/ f\u00fcr DIN 5008 Form B\n top: 50mm;\n/\n top: 45mm;\n right: 20mm; \n width: 55mm;\n height: 15mm;\n border: 1px solid darkgrey;\n -moz-border-radius: 5px;\n -webkit-border-radius: 5px;\n border-radius: 5px;\n padding: 5mm;\n}\nbox3a {\nfont-size: 12px;\n position: absolute;\n/ f\u00fcr DIN 5008 Form B\n top: 50mm;\n/\n top: 45mm;\n right: 20mm;\n width: 27.5mm;\n height: 15mm;\n padding: 5mm;\n}\n```\n. but in f45.ttf and Lato-Regular.ttf theire is no UnderlinePosition\n. ",
    "drewBlueEarth": "@juriansluiman This worked PERFECT for my proof-of-concept test.  Thank you.  Now if PDFLib wasn't so expensive...  :-/  Would love to have the native support built into domPDF.\n. ",
    "ThomasLandauer": "What's the current status of this? I installed composer require dompdf/dompdf:0.7.x@beta and I'm getting Image type unknown, along with broken_image.png :-(\nIs this the expected behavior for now, or am I in the wrong branch?\nThanks!!\n. I'm referencing it as image: < img src=\"test.svg\" alt=\"\" width=\"300\" height=\"300\" >\nphp-svg-lilb: I don't know - how can I check that?\n. No, I have only php-font-lib there :-(\n. I've downloaded the ZIP of php-svg-lib and extracted it into vendor/phenx/php-svg-lib. But I don't know how to register it, so that autoloader can find it :-( Please help!\n. ",
    "Asimov500": "I am amazed this issue was opened in 2012 and now in 2017 using 0.7.0 I still can't load svgs into dompdf. I have tried many different kinds and all I get is either a square box or unknown type.. Thanks when I get home I will check my php-svg-lib and I will try to give you more information as to what I am doing. I am sure I did update php-svg-lib to test at one point using composer, but I am not sure if I did it correctly. To be honest I don't like composer. All this command line stuff is a pain when you are not a linux user LOL. so I will check again when I get  home, and let you know more information.. Can you tell me how I find out what version of php-svg-lib I am currently on. I looked in the Readme.md but it doesn't seem to say. I was going to post more details, but my brother is staying with me over the weekend, so I won't be able to reply for a couple of days. Then I will post exactly what my process is.. I looked in <?xml version=\"1.0\" encoding=\"UTF-8\"?> in phpunit.xml and it looks like that is version one. Anyway I went into composer and typed composer update and it said that there were no updates. I am not that good with composer so I may have done it wrong.\nPS. I am very new to github so I don't know what these branches are.. Thanks Thomas. My name is also Thomas by the way. Ok I used composer show and it gives me this\nphenx/php-font-lib           0.4     A library to read, parse, export and make subsets of different types of font files.\nphenx/php-svg-lib            0.1     A library to read, parse and export to PDF SVG files.\nphpunit/php-code-coverage    1.2.18  Library that provides collection, processing, and rendering functionality for PHP code coverage informat...\nphpunit/php-file-iterator    1.4.2   FilterIterator implementation that filters files based on a list of suffixes.\nphpunit/php-text-template    1.2.1   Simple template engine.\nphpunit/php-timer            1.0.8   Utility class for timing\nphpunit/php-token-stream     1.2.2   Wrapper around PHP's tokenizer extension.\nphpunit/phpunit              3.7.38  The PHP Unit Testing framework.\nphpunit/phpunit-mock-objects 1.2.3   Mock Object library for PHPUnit\nsymfony/yaml                 v2.8.16 Symfony Yaml Component\nSo it looks like I am using versin 0.1 then. The question is now how do I update this to the new version.\nA little more information I am using a plain old image tag to show my svg\n<img src=\"images/form_opt.svg\" alt=\"name\" width=\"230\"> \nAnd this gives me image type not found or unknown.\nI am not sure at this point showing the svg would help, because I have tried it with various svgs and they all fail.\nBy the way because I don't have a versioning system because I don't understand github much. I have to copy the dompdf folder to my C drive to update it, and then I copy it back into my project. You see I number all my versions. One day I will learn how to use github LOL. Ok I have now got svg lib to update eg\nphenx/php-svg-lib            v0.2    A library to read, parse and export to PDF SVG files.\nSo I copied my dompdf folder back into my project, but I am still having the same problem with the svg not showing.\nI can give a link to the svg if you think that would be helpful. Just let me know. I am using an image tag as I read that is the only way it will work.\n<img src=\"images/form_opt.svg\" alt=\"name\" width=\"230\"> . I ddin't understand what the problem was in that post. I am wondering if it is the way I am loading my html\nI am doing it like this\n```\n<?php\n//Include autoloader\nrequire_once \"../../../dompdf/autoload.inc.php\";\n// Reference the Dompdf namespace\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$dompdf->loadHtml(file_get_contents(\"manualtext.php\"));\n$dompdf->setPaper(\"A4\",\"portrait\");\n$dompdf->render();\n//Output the generated pdf\n$dompdf->stream('Manual');\n?>\n. Perhaps if I paste my svg it might give a clue. However I have tried different svgs and they all do the same\n\n    .st0{fill:#FFFFFF;}\n    .st1{fill:#171349;}\n    .st2{fill:#4DB748;}\n    .st3{fill-rule:evenodd;clip-rule:evenodd;fill:#171349;}\n\n``. Thanks bsweeney. I will do that as soon as I have finished this section I am working on.. I feel like an idiot for making this schoolboy error. I was using the same data for showing the page and the pdf. Unfortunaly when you load another page it changes the root folder. So basically the location was wrong for the svg image. So now I have got the svg to load, but there is still a problem, and I will make my own thread on this, but the problem is that instead of the svg being green and blue, it is totally black.. Ok it seems the svg I was using I had optimized to make smaller, and it came out black. So I loaded the optimized version back into illustrator and re-exported to svg and now it is in full colour, and the same filesize. So I have finally got it to work. I am using php_svg_lib 2.0 if anyone else is having problems.. My problems with svg are solved, but I thought I should share something with you. If you save out svgs from illustrator for dompdf you will sometimes get a black and white image. This is down to the css properties of the svg being imcompatible with dompdf. So the solution is this When saving svgs\nClick more options and change css properties to \"Presentation Attributes\". Then it doesn't matter if you svg is transparent or not, or anything. The svg will then be in full colour in dompdf. I hope this helps somebody else. I am using illustrator CC2015 and this method works. The other solution is to use an older version of illustrator.. I have made a header using the above code, but how do you stop the following pages going over the header? Say my header was a variable height. It could be 300px high or 200px.  So it shows at the top of the page, but my table which is cascading over one page to the next is going over the header. Is there any way to stop this?. Thanks. What I did was to give my body a margin-top which solved the problem. In the end I forced the image at the top to a specific height and and the margin-top and that solved my problem, and I used .header{position:fixed;top:0px;}. I have solved the problem and I believe I should post the solution here to help others.\nThe problem is this line$src = 'data: '.$fileinfo.';base64,'.$imageData;`\nAfter echoing this variable without $imageData I get this\ndata: image/png; charset=binary;base64,\nIt looks right doesn't it, and it works fine on a webpage, but take the same line into dompdf and it doesn't work. So I discover the space between image/png; and charset was stopping it working. So this is what I did.\n$imageData = base64_encode(file_get_contents($image));\n$finfo = new finfo();\n$fileinfo = $finfo->file($image, FILEINFO_MIME);\n$src = 'data: '.$fileinfo.';base64,'.$imageData;\n$src=str_replace(\" \",\"\",$src);\necho'<img src=\"'.$src.'\"/>';\nI did an str_replace to remove all spaces in the string, and now the images show.\nSo instead of getting this\n<img width='150px' src='data:image/jpeg; charset=binary;base64,\".$imageData.\"'>\nI am now getting this\n<img width='150px' src='data:image/jpeg;charset=binary;base64,\".$imageData.\"'>\nObvioiusly the space doesn't bother it when it renders on a webpage, but in dompdf even one space will stop the image loading. I hope this helps someone, and I wonder if dompdf could be slightly re-written to remove all spaces in an image tag or something.\nI haven't closed the issue because I believe if a webpage can render a base64 image with spaces, then I believe dompdf should also be able to do this. If this is in the pipeline and somebody says that this will be solved at some point, I will gladly close the issue.. ",
    "N1Prop": "I'm wondering if there are any plans to support \n<img src=\"data:image/png;base64,...\"> (png)\nor is it supported already? getting nothing in my PDF\nthanks. I'm wondering if there are any plans to support \n<img src=\"data:image/png;base64,...\"> (png)\nor is it supported already? getting nothing in my PDF\nthanks. yes browser renders it just fine. here is my image http://138.197.105.143/test\n. yes browser renders it just fine. here is my image http://138.197.105.143/test\n. Yes sorry about that. I was editing my comment and putting my image in a separate test file. URL is here http://138.197.105.143/test\nhere is my composer\n\"require\": {\n        \"php\": \">=5.6.4\",\n        \"laravel/framework\": \"5.4.*\",\n        \"laravel/tinker\": \"~1.0\",\n        \"laravelcollective/html\": \"5.4.*\",\n        \"cartalyst/sentinel\": \"2.0.*\",\n        \"cviebrock/eloquent-sluggable\": \" ^4.0.3\",\n        \"cviebrock/eloquent-taggable\": \"2.1\",\n        \"yajra/laravel-datatables-oracle\": \"^7.0\",\n        \"intervention/image\" :\"dev-master\",\n        \"doctrine/dbal\": \"~2.3\",\n        \"infyomlabs/laravel-generator\": \"1.0\",\n        \"infyomlabs/core-templates\": \"5.3.x-dev\",\n        \"infyomlabs/swagger-generator\": \"dev-master\",\n        \"jlapp/swaggervel\": \"dev-master\",\n        \"infyomlabs/generator-builder\": \"dev-master\",\n        \"barryvdh/laravel-dompdf\": \"^0.8\",\n        \"phenx/php-svg-lib\": \"0.2.*\"\n    },. ",
    "BenM5": "Any idea when this bug might get fixed? \n. ",
    "gozonjoedaimar": "Any updates about this bug?\n. Thank you very much for this info. Keep up the good work.\n. Here's the code that i used.\n```\n<?php\nob_start();\ninclude('dompdf_config.inc.php');\n$text = '\n    \n         .covers{ height:774px; width:590px; margin:0px auto; }\n         .covers img { height:774px; width:590px; }\n        body{   background-image:url(./draft.png); background-repeat:repeat;  }\n        div{\n            height:100%;\n        }\n    ';\n$chapter_no = \"1\";\n$chapter_name = \"chapter\";\n$content = \"<p>O que quero dizer com isto, &eacute; que este seu engajamento, gera a&ccedil;&otilde;es de seus f&atilde;s, a&ccedil;&otilde;es estas que pode ser</p>\";\n\n\n$text .= '<div style= page-break-after:always; margin-top:50px; margin-left:40px; margin-right:40px;\">\n                <h1 style=\"width:100%; text-align:center; margin-top:50px; margin-left:40px; margin-right:40px;\">Cap&#237;tulo '.$chapter_no.' <br /> '.$chapter_name.'</h1>\n            <div style=\"width:100%; text-align:justify; padding:20px; word-wrap: break-word; margin-top:50px; margin-left:40px; margin-right:40px;\">'.$content.'</div>\n         </div>';\n\n$dompdf = new DOMPDF();\n$dompdf->load_html($text);\n$dompdf->render();\n$dompdf->stream('book.pdf');\n```\nand i  need some solution asap. Thank you very much in advance.\n. Thank you very much and sorry for the unclear question. I think, I figured it out myself. I deleted the div 100% and add mb_internal_encoding(\"UTF-8\"); before $dompdf->load($html). maybe, its from character encoding and I figured out that i was using an old version (0.5.1) and not the new ones.\n. Yeah, i saw that on your code as i have read it and thanks to that, using your latest work serves a great help for us. Keep up the good work.\n. Hi, I also encountered this problem when I first tried to get a fresh copy. But I guess I'ved downloaded the source code and not the stable release. I get the stable copy @ https://github.com/dompdf/dompdf/releases and downloaded the zip, (not the source code) and found no error.\n. It's been a month since, I posted this. Any updates yet?\n. Thanks. Hope you can fix this in the near future.\n. How can i test this one? I already tried using this code and still displays ???? for these characters. Can you help me with it? I am using version 0.6.1.\n. Oh my, I think it's my fault. I forgot to remove utf8_decode while i was debugging. Thanks anyway.\n$dompdf->load_html(utf8_decode($text));\n. When I add this line of code. The characters are displayed as box. How can I fix this?\n```\n$text = '\u016b\u0101\u0113\u012b\u0146';\n$dompdf = new DOMPDF();\n$dompdf->load_html($text);\n$dompdf->render();\n$canvas = $dompdf->get_canvas();\n$canvas->get_cpdf()->setEncryption($pass,'password',array());  // This code\n$dompdf->stream('book.pdf');\n```\n\n. ",
    "olya-fb": "For me it happens, when I use Unicode - without the encryption the Cyrillic characters show up perfectly, when I use the style tag (in html head) with font DejaVu Sans.\nI thought it looked like Cpdf needs me to set font, too, before calling setEncryption (which I called, btw, with username and pass being empty, and with an array of permissions). If only I knew, how to set those fonts to Cpdf in a correct way. Does anyone know how to do that?\nAnd of course, if that doesn't help, I'll be waiting for this bug fix, too.\nThank you!\n. ",
    "simonberger": "This problem should be fixed in develop.. Just a small note; I started on this. But am really unhappy with the structure and readability of AbstractRenderer::_background_image that I don't want to integrate it in the current state beyond a proof of concept.. You are correct about that. Those milestone estimations on a project with those different tasks are just some rough planning. This feature couldn't be done the way I planned and needs much more work. \nI didn't work on it for a long time but still plan to go back on it.. I had the issue of unusual much memory usage as well see #1340. I debugged it a bit and found out there is a strange mechanism placing a tbody around every tr of a table IF you haven't set one in your table root like:\nGood case nothing happens:\n<table><tbody><tr><td>1</td></tr><tr><td>2</td></tr></tbody></table>\nBut:\n<table><tr><td>1</td></tr><tr><td>2</td></tr></table>\nResults in:\n<table><tbody><tr><td>1</td></tr></tbody><tbody><tr><td>2</td></tr></tbody></table>\nThis in my test the additional tbody tags in big tables cost around 20% to 30% more memory without activated HTML5 parser (it fixes the dom before that buggy mechanism starts).\nI can't have a look at the sample html anymore to ensure there is no tbody tag but if there is none I would be interested if you see any improvement on the development branch (as said the behaviour is fixed) or with activated HTML5-Parser on 0.7.0 (or you can just add this tbody tag surely).. The biggest issue on reusing the Dompdf object seems to be Stylesheet manipulations in rendering and/or output.\nI could successfully use it multiple times after resetting the css object.\nPlease have a try.\n$dompdf->setCss(new \\Dompdf\\Css\\Stylesheet($dompdf));. Can you please make sure there is no problem with your server rendering the PDF to access this file using the functions curl and file_get_contents.\nI didn't notice a general problem in the implementation. Both functions are getting the complete uri and are technically able to parse and handle the port.. Doesn't it make sense to find out why the version check fails before we try to find a more obscure workaround?\nMaybe the IMAGICK_EXTVER isn't set on his system, the version to compare to doesn't work with the RC1 addition or whatever.. And the retest with version_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1') > 0 really fails? That would be odd. If that works too the problem would be somewhere else.\nEdit:\nRemoved new comment cause of missreading version_compare description. Should be all fine before !?. I personally don't believe in those fixes that are making no sense. If that would change something it would be a bug in the PHP implementation.\n@bluefirex \nDid you check the whole process with the change to \nversion_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1', '>') === true\nand could you please verify that the condition \nversion_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1') > 0 really failed ?. Did you check to 100% that it is while generating the PDF?\nSaying do a debug print and exit before (most importantly one before all dompdf calls with an exit to make sure it reaches this point) and after every call to check that it is really one of the dompdf calls and not the autoloading of your app or something else.\nYour problem has at least  nothing to do with this issue. The problem here are really huge tables spanning over tenth and hundreds of sites.. The last row-column be calculated on a wrong offset.\nI tracked it down to these lines.\nWithout this break it renders perfectly fine.\nIn the complete flow the rows parallel to the rowspan be created with wrong heights and offsets in first run and be fixed in a second frame with just those 3 rows.\nThe first of them is taller (no break) and the second smaller resulting in a break without fixing the lasts rows y-offset.\nI don't know which cases this condition shall fix or if that's just a relict.\nIf it is needed it should be possible to never break if we are inside a rowspan.\nI have not enough insight to assess a change here.\n. Ok here you go. It's the output of the 19 page pdf mentioned above and generated from a laravel template.\nI took that output and anonymized it here and there. But tags, whitespace and so on stayed the same.\nI hope you can reproduce the different results I got.\ntestexport.zip\nOptions are:\n$options = new Options();\n$options->set('isJavascriptEnabled', false);\n$options->set('isHtml5ParserEnabled', true);\nJavascript disabling was just a test and showed no effect alone. Its still in and I didn't test HTML 5 Parser alone.\n. I started to debug this problem and found a big difference with enabling the following options \n$options->set('debugKeepTemp', true);\n$options->set('debugLayout', true);\nWith a DEACTIVATED php5 parser the debug-settings draw a red box around every Row (tr) of the table. while there was none with an activated php5 parser. I hope that helps finding the reason.\nAs a site note. With enabled CSS debugging I got a crash.\nI'll open a separated issue for that minor problem (Done #1344).\n. I started to debug this problem and found a big difference with enabling the following options \n$options->set('debugKeepTemp', true);\n$options->set('debugLayout', true);\nWith a DEACTIVATED php5 parser the debug-settings draw a red box around every Row (tr) of the table. while there was none with an activated php5 parser. I hope that helps finding the reason.\nAs a site note. With enabled CSS debugging I got a crash.\nI'll open a separated issue for that minor problem (Done #1344).\n. I got the change of the HTML5 Parser that reduces the memory usage by more than 20% in my case (80mb instead of 110mb).\nIt is just a <tbody> around the big table that also produces the different layout debugging output I wrote about in the last post.\ndebugLayout - Table without tbody\n\ndebugLayout - Table with tbody\n\nUpdate:\nOne more note to the underlying problem.\nThe php5 parser added a tbody before the first and behind the last row.\nThe table fixing method\nThe marked line here produces a tbody before every tr in the raw file without any existing tbody. But it doesn't in the DOM with one outer tbody.\nTwo questions for me:\n\nI guess that table fixing is broken and the tbody element around every row isn't intended\nIt is a bit more complicated but would the following code fix line 169 to 174?\n$firstRows = $xp->query(\"//table/tr[1]\");\nforeach ($firstRows as $firstRow) {\n    $tbody = $this->_dom->createElement(\"tbody\");\n    $tableNode = $firstRow->parentNode;\n    $childNodes = $tableNode->childNodes;\n    $length = $childNodes->length;\n    for ($i = 0; $i < $length; $i++) {\n        $childNode = $childNodes->item(0);\n        $tableNode->removeChild($childNode);\n        $tbody->appendChild($childNode);\n    }\n    $tableNode->appendChild($tbody);\n}\nWhy are those extra tbodys creating that much more memory.\n. Had a look at this.\nWhile I like the idea it can't be integrated as simple as intended.\nThere are many alias option names existing since the first appearance of this class. Most are just camelCase vs underscore_separated but others are completely different.\n\nI am surprised OptionResolver doesn't seem to handle multiple option name strategies and/or alias names to help in migration cases.\nThe current doubled If-Mess could also be improved if we move the alias check into a method which would be needed for OptionResolver integration too.. Here is a test implementation.\nAs noted in the commit it isn't 100% compatible because it throws an exception if unknown option names passed to the array set methods.\nThat could be easily changed if we filter them with the OptionResolver isDefined method before passing to resolve.\nA bigger issue is version 3 and above are requiring PHP 5.5.9. But version 2.8 just requires PHP 5.3.9 and that could be a arguable change to Dompdfs composer.json requirement isn't it?\nMost option alias names are automatically translated through camel_case. The rest is handled with an array mapping.. The OptionsResolver class isn't usable for the needs of dompdf in my opinion.\nThe test implementation works for most use cases and also the available unittest had no problem.\nBut after thinking a bit further and committing the last fix (that turned out to make things worse) I realized the OptionsResolver works differently than I expected and is limited in a way I don't understand.\n\nYou can set default options. Thats nice for dompdfs needs\nAfter this it is possible to use the resolve call overwriting some or all default options and getting a result array.\nBut any next resolve call overwrites the previous made changes and uses the default values.\n\nIt can just be used to read options in one go. That's not enough for dompdf because Options::set is a public method.. Or you just got version 0.8.0 now and had 0.7.0 before?. One side effect I noted about that fix.\nIf you have a buggy input like\n<table>\n  <td>bad placed tag 1</td>\n  <p>bad placed tag 2</p>\n  <tr>\n    <td>row 1 column 1</td>\n  </tr>\n</table>\ntbody will be placed also around the td and p tags.\nI wrote about this here\nI don't think that has any worse effect to the old behaviour (it placed the tbody just around every tr and left the td and p at the table root. Dompdf can't handle that bad input very well and maybe shouldn't anyway. But I didn't test this much.\n. You are correct. That's a case not being handled well. Also some TRs included in a tbody element following some plain rows wouldn't work.\nThese cases should be at least valid html.\nFirst I wanted to just skip those leading elements resulting in a more complex method but then got a better solution. We already start with the leading tr dom-position having those possible previous siblings.\nSo just continue from this point walking through the siblings and still append the tbody to the table at the end.. Sorry, my commits sometimes follow a learning process ;)\nThought again and realized the situation addressed in the comment before still isn't fixed if the leading tr followed by a tbody.\n<table>\n        <tr><td>1</td></tr>\n        <tbody><tr><td>2</td></tr></tbody>\n        <p>missplaced tag</p>\n        <tr><td>3</td></tr>\n</table>\nResults now in\n<table>\n        <tbody><tr><td>1</td></tr></tbody>\n        <tbody><tr><td>2</td></tr></tbody>\n        <p>missplaced tag</p>\n        <tbody><tr><td>3</td></tr></tbody>\n</table>. Ignoring the P element was just meant as a \"bonus\" of the last commit.\nThe idea was instead to support the (repeated) mix of TR and TBODY direct child elements of a table (the tbody before that missplaced p in the example) beside your correct argument a THEAD followed by TRs would produce wrong restults.\nYou are free to skip the last two commits but I think the code additions and performance losses are too tiny to not support this unlikely but valid html case.  . Ok. Regarding those deprecated marks in Dompdf class I'll try to do a hard cut and remove all methods I can't find a direct or indirect references to including the pdf property.\nWe'll then see where that leads to. :). There is a lot of wrong phpdoc type declaration around the Frame base class that should be the decorated class AbstractFrameDecorator, Block, Page or whatever instead.\nI would need some time to understand this inheritance structure good enough to try to fix this phpdoc. Surely at many places methods and properties could be many different types.\nDo you guys think that work would be worth it or is it ok right now?\nIDEs for example aren't able to resolve many methods that are in AbstractFrameDecorator while phpdoc notes (directly or indirectly through parent call) Frame right now. Or they report the wrong return type.\nEdit:\nAdditionally as far as I have seen the class Block more or less is the AbstractBlockDecorator and is never instanced directly. We could change that to abstract.. I plan to go through the rest of the classes and fix all the easy, obvious problems like I did in the other files.\nShould be finished today or the weekend. Depends on the time I can find.\nLater I maybe try fixing the more complicated problems in context of Frame inheriting and classes.\nBut that would be done in a separate branch/pull request.\nIf you have timings regarding a 0.7.1 release I would be fine if you merge that at any time and I also do the rest work mentioned at start of this post in a new pull request.. Thanks for your note Matthias !\nI did not know that tool, but from what I see on the website it doesn't deal with most sort of problems/bugs I found here - beside missing phpdoc for sure.\nI'm doing most of the semi manual stuff intentionally though. I walk through all classes and learn much of the DomPDF structure to do more complex stuff later, while one-press fixing the phpdoc of methods it's missing on.\nMost other problems I am fixing are just shown by the IDE (missing return value, phpdoc violation, unknown methods...)\nRemoving some still existing psr style violations at the other hand is a bit annoying. That has been done some time ago I think. But many still or again exist. PhpStorm has a good automatic fix for that. But I do not like the magic. On some code it just does too much and adds more line breaks you would need.. I'll definitely try it out.\nI like tools helping me to realize crappy mistakes I do. ;). I finished this task and covered all files.\nAs described in the associated issue #1359 I plan to do more complicated fixes in a new pull request later.. Well tested that a bit. The method FrameDecorator\\Table::normalise is the caller. The mentioned method lookup just be called in very special circumstances.\nI didn' t find a way in which the whole method normalise works; it generally is not much of a use and should be removed or radically simplified in my opinion.\nSome notes leading to that conclusion:\n-  the variable table_rowin line 277 has not been initialized. That part would break.\n- I got the area with lookup called in adding a <td> directly under table (on top of the tr stuff...). Additionally I had to deactivate HTML 5 parser (guess it repaired something) and my tbody addition from patch #1340 (it created a tbody also around that td). This try crashed on later code.\nlookup just worked on an empty array in that case. That could not cause problems,\n. Does it change something if you remove writing the page_text and/or doing it before the line/image call?. I am surprised that should have worked at a point\nThe base_text explicitly says it can be added after rendering.\nI am not sure that belongs to objects too. Also out of process operation view that makes no sense. \nTry to put the render call under your object bindings and there is a better chance it could work,. An interesting task to understand the dompdf functionality a bit more.\nHad a look at the problem finding out what really stops the object association working before the render call.\nResult in short was: It normally would work. But the render call overwrites all changes previously done. Reinitializing the canvas to calculate the page setup (paper size and orientation) from the given dom.\nI removed this reinitializing and after moving the object before the render call it appeared on every page of my demo without breaking its CSS or anything else.\nIn this commit  I added a compatible implementation skipping this dynamic page setup calculation by parameter (could be an option as well).\nJust because this worked in my small test surely doesn't mean it can be done that easy and the options are covering all page setup options being calculated in the CSS method. I also didn't test what happens if the CSS method calculates a different result than being set in the options before (doing this test next).\nMaybe we also \"just\" have to skip calculating the page setup in the css method?. Yeah I understand why the recreation exists. The commit doesn't break compatibility. The developer knows if he needs the CSS definition of page size. The commit opens the possibility to skip this recreation. It's needed for the least of us I bet. But still the skipping isn't per default to not break it.\nThis would be an easy change and could also be done without a parameter/option if no CSS page setup property has been found.\nAnyway maybe you are right and its smarter to just change the canvas in a bigger change. I have no idea beside the canvas changes in which way that would affect earlier canvas additions/manipulations and so on.\n. I do like it the mentioned alternative way.\nSkipping the reinitializing if there is no need to, because the page size matches the default one.\nCommitted here\nIn short it just changes\n```php\nif (is_array($basePageStyle->size)) {\n   $this->setPaper(array(0, 0, $basePageStyle->size[0], $basePageStyle->size[1]));\n}\n//TODO: We really shouldn't be doing this; properties were already set in the constructor. We should add Canvas methods to set the page size and orientation after instantiaion (see #1059).\n$this->setCanvas(CanvasFactory::get_instance($this, $this->paperSize, $this->paperOrientation));\n$this->fontMetrics->setCanvas($this->pdf);\n```\nto\n```php\nif (is_array($basePageStyle->size)) {\n   $basPageStyleSize = $basePageStyle->size;\n   $optionPaperSize = $this->getPaperSize($options->getDefaultPaperSize());\nif (($basPageStyleSize[0] !== $optionPaperSize[0] || $basPageStyleSize[1] !== $optionPaperSize[1])) {\n      $this->setPaper(array(0, 0, $basPageStyleSize[0], $basPageStyleSize[1]));\n      $this->setCanvas(CanvasFactory::get_instance($this, $this->paperSize, $this->paperOrientation));\n      $this->fontMetrics->setCanvas($this->pdf);\n   }\n}\n```\nIt seems too easy. I racked my brain why that has been left out ages ago when this has been created. But I can't find another property changing the way the canvas will be created on the second run.\nI came to the conclusion that it just has been overseen or didn't be payed much attention to at this point.\nIf this savely works it would also be a performance optimization beside the easier possible canvas manipulations.. Using global definitions has been dropped some years ago in favour of the options class you mention here.\nThe sys_get_temp_dir() call works in those shared hosting environments and just returns a path that you aren't allowed to write to, correct?\nWhile it's maybe not perfect there are two ways to handle it. You can change that option after as you might do now and it seems to be possible to change the output sys_get_temp_dir gives.\nSee here\nputenv('TMPDIR=/foo/bar') . Please have a look at the notice on top of your error/warning output. It'll give you the answer to the following error and the problem in your code.. Could you please build a testable example?\nBy hand or replacing your student output with a dummystring and provide the rendered html code.. You call PdfWord with its namespace but not for Dompdf.\nIn your example a possible import isn't available too.\n$dompdf = new \\Dompdf\\Dompdf();\nShould do the trick.. You seem to miss the point of this portal.\nIt's meant to collect problems of dompdf. Not being spammed by users searching for help to fix their code.\nFurthermore you post code snippets from a package having nothing to with dompdf expect answer a similar purpose.. Fixes #1365 in most circumstances.. Indeed. We need to internally track an option change between the instantiation and the render call. There is no arguable reason to do this but right, its possible and thats enough.. Oh wow now I see what you exactly point to.\nWe can mess with paper-setup in:\n\nThe options. That just been read at the constructor and any later change would have no effect at the moment anyway. We stay with that?\nThe above setting is overwritable in the Dompdf object (why ??)\nAnd this again is overwritable in the CSS.\n\nSo instead of compare just the option paper size to the one in the CSS we need to compare those three in different circumstances and also the option orientation to the Dompdf-orientation.\nI did this in the last commit but to this point didn't test all cases. I'll do this if I have some more time.\nIn this step I fixed two related problems.\nIn case a paper size has been found in the styles it sets orientation always to portrait through the call of setPaper.\nAlso getPaperSize would return null if I didn't miss something.. That was no intentional change. I created that feature before you merged my refactoring feature into develop and I merged develop two times into this branch. In one of these I had a conflict and did no perfect job it seems.\nRegarding orientation: I know what you mean but still don't really understand/know the functionality behind. In case of no CSS page size change the second canvas creation would always be done with landscape too (if initially chosen).\nBut if the orientation value simply doesn't matter at that point feel free to to remove both checks and also the parameter passing to setPaper.\nIt's also no problem at all if you decide to not merge this pull request directly and do a commit instead. The first commits in my branch went in another direction and just confuse while interpreting the git history.. Please describe the options you used. The width is far too wide to be rendered on a normal page in default settings.. I can confirm the behavior in v0.7.0 and master.\nYou can fix this behavior if you add a page-break-after: always to .page\nThis still adds an empty page at the end though, but the 10 coupons are correct. \n@bsweeney \nBeside that it is completely broken in develop. There described behavior shows up on page one and rendering the rest on page 2 above each other.\nThis html-code seems quiet strange but the problem and even more important the bigger problem in the last commits are worth a look.. Your html code isn't valid. Please fix it before. Your problems might come just from that.\nAnd if not we can get better help with valid html code.\nThe biggest problems I found on a quick look.\n\nYou have no html, head, body tags\nPlace your style block in the head and not inside the content\n\nhttps://validator.w3.org/check?uri=http%3A%2F%2Fwww.hotfootballteams.com%2Ftestdiv.html&charset=%28detect+automatically%29&doctype=Inline&group=0. You should update to the new dompdf 0.8.0\nBut your current HTML crashes on this (we should look into that)\nDompdf developer info:\n<!DOCTYPE html>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\">\n   <head>\n      <style>\n         canvas,img {\n            image-rendering:-webkit-optimize-contrast; /* Safari         */\n             image-rendering:optimize-contrast;         /* CSS3 Proposed  */\n             image-rendering:crisp-edges;               /* CSS4 Proposed  */\n             image-rendering:-moz-crisp-edges;          /* Firefox        */\n             image-rendering:-o-crisp-edges;            /* Opera          */\n             image-rendering:optimizeQuality;             /* Legal fallback */\n             image-rendering:auto; \n             -ms-interpolation-mode:nearest-neighbor;   /* IE8+           */\n         }\n         svg{font-kerning: normal; }\n         div {\n             margin-right: 0; \n             margin-left: 0;\n             text-align: center; \n             position: absolute; \n         }\n         div#terrain {\n             position: relative;\n             margin-left: 0px;\n             width:330px;\n             height:499px;\n         }\n         img#field{\n             width:330px;\n             height:499px;\n         }\n         img.lazy {\n             height: 30px;\n             width: 30px;\n             padding-right:12px;\n         }\n         a {\n             font-size: 12px; \n             line-height: 1; \n             color: rgb(255, 255, 255); \n             font-weight: bold;\n             text-decoration:none;\n         }\n         span{\n            background-color:#666;\n         }\n         div.note {\n             display: inline; \n             width: 18px; \n             height: 9px;\n             vertical-align: middle; \n             margin-top: 9px; \n             margin-left: -23px;\n             color: rgb(0, 0, 0) ;\n        }\n      </style>\n      <title>\n         Mon titre\n      </title>\n   </head>\n   <body>\n      <div id=\"container\">\n         <div id=\"terrain\">\n            <img id=\"field\" alt=\"\" src=\"http://www.hotfootballteams.com/image002.jpg\">\n            <div class=\"player\" style=\"top: 20px; left: 30px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/atletico%20madrid.png\">\n               <span>K.Gameiro</span>\n               <div class=\"note\">\n                  9.2\n               </div>\n               <input name=\"11002\" value=\"11002\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 20px; left: 195px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/as%20roma.png\">\n               <span>E.Dzeko</span>\n               <div class=\"note\">\n                  9\n               </div>\n               <input name=\"7754\" value=\"7754\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 135px; left: 5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/real%20madrid.png\">\n               <span>Isco</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"6101\" value=\"6101\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 195px; left: 87.5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/bayer%20leverkusen.png\" >\n               <span>C.Aranguiz</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"10480\" value=\"10480\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 195px; left: 170px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/chelsea.png\" >\n               <span>F.Fabregas</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"5893\" value=\"5893\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 135px; left: 252.5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/bayer%20leverkusen.png\" >\n               <span>K.Bellarabi</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"3659\" value=\"3659\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 325px; left: 5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/borussia%20dortmund.png\" >\n               <span>L.Piszczek</span>\n               <div class=\"note\">\n                  9\n               </div>\n               <input name=\"4831\" value=\"4831\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 376px; left: 87.5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/villarreal.png\" >\n               <span>A.Gonzalez soberon</span>\n               <div class=\"note\">\n                  8.5\n               </div>\n               <input name=\"5976\" value=\"5976\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 376px; left: 170px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/as%20roma.png\" >\n               <span>E.Palmieri</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"14951\" value=\"14951\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 325px; left: 252.5px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/schalke%2004.png\" >\n               <span>B.Howedes</span>\n               <div class=\"note\">\n                  8\n               </div>\n               <input name=\"4860\" value=\"4860\" type=\"hidden\">\n            </div>\n            <div class=\"player\" style=\"top: 435px; left: 137px;\">\n               <img alt=\"\" class=\"lazy\" src=\"http://www.hotfootballteams.com/test/logo/All/nice.png\" >\n               <span>Y.Cardinale</span>\n               <div class=\"note\">\n                  8.5\n               </div>\n               <input name=\"12842\" value=\"12842\" type=\"hidden\">\n            </div>\n         </div>\n      </div>\n   </body>\n</html>\nThe problem is div {position: absolute} resulting in something like an endless loop.\nThe last working version I tested here was including the commits from 2016-06-20. So likely a newer issue.. To solve your issue here you should still update to dompdf 0.8.0 as suggested and improve your HTML+CSS.\nAs you might have seen in the HTML above I added a class player to your div.\nYou should add this class to your absolute positioned CSS style (div -> div.player).\nThe result then is near to good. You just have to fix the positioning of your number inside this div. . I can't help with this problem directly at the moment. But some things you might want to try out in the meantime to fix it:\n\nPlacing a div with the float clearing style directly behind address. Clearing it in the parent level may be part of the problem (surely it's not wrong)\nWhat happens if you set a height for the right box? If the fields there aren't of a fixed number it's just for test case or you may be able to calculate the height before in your script.\nUse a table layout\n. No, your problem seems to have something to do with floating, while his is a general whitespace change (intended or not).\n\n@PDFCoder \nIf it's not too much work could you show a screenshot of the space change?\nBest without css changes on your side.\nAlso comparing it to chrome browser rendering is always a good indicator if its ok or should be called a problem.. You have to give us an idea of what you did and what the result was.\nIdeally provide a small example that works on the first and fails on the second. But at least show some example code of the Dompdf methods you used.\nWhats the content you get in the failure case. Is it just an incomplete pdf, complete garbage or different (please compare on your own. You might also be able to just dump the binary on teh server).. Ok so far a first approach to fix this issue. I looked at the created PDF, at the specified PDF file format and tested some references.\nRemoving the parameter /CIDToGIDMap 12 0 R in object ID 10 renders the pdf correctly in all PDF viewers that I have tested. The whole object-ID 12 can be removed out of the PDF with this change.\nI want to state that this is not a fix in this form that will be included in DOMPDF as this seems to introduce even more header errors.  But it still could help finding the problem and some to correctly render pdfs for now.. You think a bit complicated. What you want to do is not a big deal but it is not a job of dompdf.\n\nCreate a dom object on server-side (for example with DOMDocument)\nAdd your stuff to some nodes through ajax call\nAdd more stuff to the same or other nodes\nPass the dom to dompdf and render it at the point you want\nIf you want add even more stuff to your dom\n\nMaybe render again\n...\n. Floats are supported but just at a very basic level.\nWithout an demo code of what you try no one will be able to help you.\nSometimes you can easier get your result with inline blocks or with help of tables.. Those reports made my day. ;)\nDid you use a static analyzer to get those?\n\n\nThat's not correct. Indeed the code is really bad there and I wonder why it is still there, but the if starts a new block and so the \"second-line\" without a surrounding block {} is in the loop too.\n\nThere is no pecl/php cpdf package in use. In fact it uses the dompdf/lib/Cpdf class that is out of a namespace as well.. Fixed the syntax of your first report. No. This works.\nPlease check your code and/or specify your expectation. . v0.8.0 brought some big changes and unfortunately in such a complex project it's unavoidable to have some drawbacks beside improvements.\nI don't have an answer why exactly your PDF rendered bad now. But your html/css isn't really clean and unnecessary complicated which supports those rendering problems.\n\nIf you remove the margin left/right auto setting on the header class you recover the result of v0.7.0 as far as I noted. . That is the absolute correct behaviour. Please open the same HTML-file in a browser.\nWhat you might want is to change the background size with help of the background-size tag.\nHave a look here: https://github.com/dompdf/dompdf/issues/463\nI had a first test to implement some time ago and continue working on it soon hopefully.. No it isn't supported.\nWhile it shouldn't be that hard to implement I do not see much reason to do so.\nIn fact in current state most developers create templates and render those with dompdf.\nIt yet isn't capable to render complex responsive sites developed for browsers.. Good solution.\nI read about all possible configurations with srcset and sizes. To implement that completely functional it's a lot to do. A solution like you did here would be easily possible but I'm not sure if that's worth it.\nMost tags should have a src attribute for backward compatibility anyway. I'm surprised that's not like this in your case.. Change font-style to font-family and it should work as expected.. I really still can't reproduce any problem here.\nPlease maybe check this example with fonts natively available on your system/everywhere.\nAt least the headline problem that CSS overwriting (generally) doesn't work can be negated.  . I'll look at those specific information tomorrow again.\nThey have been missing before.\nI just looked at the start of the document. Because even there you set arial, sans-serif at the body and overwrite it with \"Open Sans\", arial, sans-serif at a later point in the style block.\nAnd that worked quiet well as far as I have seen.\nMaybe you can retest something with this in mind?. Look here at the bottom. The zip-package.\nhttps://github.com/dompdf/dompdf/releases/tag/v0.8.0. As far as I could reproduce this it works well on unicode fonts.\nIt just failed on encrypted documents because of a bug. This is fixed now.\nCould you please retest on the current develop branch?\nif you hadn't encryption activated you can skip this test.\nIf this still fails for you or you haven't used encryption. Some more questions or tests you could try:\n\ndo you have Chinese characters also in your pdf content?\nIf not could you test if they really render well? If they fail too you haven't included a font that can render those characters.. Pls create an example that shows this issue.\nYou might understand that we can't help with those information.\nYou could use dummy text and different images instead if you want. Having a similar structure should be the important part of the example.. That sounds strange.\nDid you try that without the heredoc syntax?\n\nActivating the HTML5 parser should fix this either.. Please have a look at this issue: https://github.com/dompdf/dompdf/issues/631\nThe problem is that there is a massive usage of float. Float yet has just a very basic support.. As far as I remember I stumbled across the same line of code in a similar issue some time ago.\nI am pretty sure we can't just remove this condition-block. But it might be true it destroys more than it repairs.\nWe need to have a closer look how this works.. It is really hard to help based on the description and image you provided.\n\nI don't know what you expect it to look like.\nWhich margin do you mean? The one from the top of the page or to the left?\n\nPlease provide a simple example in form of HTML code (no PHP).. Please use the newest version of Dompdf (0.8.0) and if this doesn't help provide some HTML so we can reproduce the behaviour.. You should be able to use every library written in native PHP on your own also in this framework.\nA short search found me this.\nhttps://github.com/hanzzame/ci3-pdf-generator-library\nhttps://github.com/dompdf/dompdf/wiki/Using-Dompdf-in-CodeIgniter-3.x\nThere might be a problem that is also still in the newest version of dompdf but we really can't support such an old version and test it on bugs that might be fixed since ages.. There are some more open issues (#1433, #938).\nIt seems there are some problems in the way DomPDF saves the pdf.\nOnly some readers can handle it.\nThis as a information that it is known.\nI am no font nor pdf file format expert. . You stumbled over this bug #340. Actually the problem is the encryption you set.\nI have no idea though why I could view it without input a password. There is some encryption information inside the PDF. Could you test on the newest develop branch if this bug has been fixed for you?. You likely didn't include a font (in the PDF) capable of displaying those characters.\nPlease have a look at:\nhttps://github.com/dompdf/dompdf/wiki/UnicodeHowTo\nThough this document is old and in the current version there aren't many steps you have to do.. Did you notice a different behavior of an unencrypted document between 0.8.0 and current develop version? Or do you just compare 0.6.0 and develop?\nIt would be good if you could add a Demo-HTML of this problem. I have no idea otherwise-\nYou can also look at the example in https://github.com/dompdf/dompdf/pull/1505 and try/compare.\nThis works for me.. Removed your comments in the other issue.\nPlease start with the installation and example that you can find on the documentation of this project.\nhttps://github.com/dompdf/dompdf/#easy-installation\nA minimum example which also shows the use/import that you have to do is 2 blocks under it.\nhttps://github.com/dompdf/dompdf/#quick-start. Thanks. Those evil forgotten early tests.\nI don't know how to handle this review or if you have to approve it.\nThe change is really just some overhead to manage to encrypt those strings.\nOn one hand I am pretty sure we can easily live without this PR for a version. It worked for many years.\nOn the other hand I don't know how to test those two (four) unencrypted features.\nThe behavior with the unencrypted unicode font blocks was really bad in the majority of the PDF readers and hold hidden for a long time too.. Hi,\nThere already is a ticket (#463) to add background-size.\nIt's not that easy but I started working on it.\nIt still may take some time.. Fixed an issue some days ago. \nhttps://github.com/dompdf/dompdf/commit/1c9d285a55d7b8bf82dc72f2f2d94fdb4d07c935\nBut that was just together with the use of encryption.\nBut while fixing that I could test the working unicode title generally.\nIf you fon't use encryption.\nAs always a html/php example would be helpful.. You do a view render and put that result into dompdf?\nI don't remember I think I just used the cpdf title function. I can have a look if I am back from vacation next week.\nCan you as a last step make sure that this is the HTML document that dompdf gets and does not get corruped before?\nIt's absolutely possible that there is a problem in dompdf if unicode titles been read from the document.. I don't understand where it works and where it doesn't work.\nIf it works and fails for you with the exactly same document on the same system, then the reason can just be a different dompdf version/code or different options for dompdf or cpdf.\nI don't know what I could do now.\nIf its your symfony installation that fails it coult surly have a different dompdf version or calls dompdf differently.. Well no problem. Dompdf is part of my spare time.\nLooking at your document you use different fonts for the body.\nSurely if it works in the document it should work in the title too. Still we should figure out the reason of the failure in one of your documents first as it's most likely the solution to the problem.. Yes it's what I expected. The used unicode characters will be stored in the pdf.\nThat right now is be done in dompdf not cpdf and before rendering.\nSo if you use characters in the title that aren't in use in the content it might break. But if you use a font that isn't in use in the content it fails for sure.\nThis really old issue is still the project state and gives some more information\nhttps://github.com/dompdf/dompdf/issues/750\nIt gives you also an idea how to manually solve it in your code.\nIll have a look how we can fix this particular problem for now and how we can start moving this to cpdf.\n. You may not name the method clone. Yes that is a good catch.\nThe solution won't be as easy and smart as one call to mb_convert_case looked like. But we fix that for the next release.. Unfortunately I couldn't find a none-buggy version of a mb_ucwords implementation and wrote an own one.\nPlease have a test if possible. It's in the develop branch. . https://www.google.de/search?q=dompdf+force+new+page. Please try to create a html example of this problem. On its place there are setOptions and getOptions. The reason and version step to break compatibility to PHP 5.3 wasn't that good. But beside the fact that PHP 5.3 is really old and unsupported since quiet a long time it is a burden to work with. One always has to remember the old array syntax for example.\nIf you are unable to update PHP 5.3 in your environment you have to either stick to an older DomPDF version or fork it and do those little changes.\nBut for the near future we have to think of refactoring the code and replace all array syntax and more. At least for new features that most likely will be done.. Duplicate of #463 . Yay correct, missed this from a previous way.. ",
    "pYr0x": "for me, unicode characters like \u00c4 \u00d6 \u00dc  doesn't work with encryption and font DejaVu Sans\nall get working with the font Helvetica. ",
    "gizmomarco": "Hi, need to use {PAGE_COUNT} value ONLY in the first page. If i use $pdf->page_text() i get the same correct value in the same position for all pages. Instead, if i use $pdf->text() i get a \"1\" only in page 1, no matter if document have 1 or 100 pages. :-( What can i do?\n. :( This is my code\nphp\n    if ( isset($pdf) ) { \n        $pdf->page_script(\\'\n            $font = Font_Metrics::get_font(\"verdana\", \"bold\"); \n            $pdf->text(450, 50, \"This number must be seen in all pages: \".$pdf->get_page_number(), $font, 8, array(0,0,0));\n            if ($pdf->get_page_number() == 1) {\n                $pdf->text(450, 60, \"This number must be seen in page 1: {PAGE_COUNT}\", $font, 8, array(0,0,0));\n            }\n        \\');\n    }\nAll i can see in all pages is \"This number must be seen in all pages: 3\" wich is out of the contition. it doesn't work for me since $pdf->get_page_number() always returns \"3\".\n. Wow! AWESOME! That's just perfect. Thanks for the support :-)\n. ",
    "yogeshkoli": "any update on the above issue? \nI am getting same error with my script while generating the pdf with html code contenting tables and lot of text.\nhere is error:\nPHP Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 65552 bytes)\n. @bsweeney  Any update on this issue? \n. @bsweeney Thanks!\n. @WillyR I was using dompdf and was struggling for the same issue, after searching other extension for more accurate result I finally moved on to the wkhtmltopdf, for me it's giving perfect result for big amount of data and using it on production server as well.\nVisit at HTML to PDF with wkhtmltopdf for more details on wkhtmltopdf setup. ",
    "sukhdeepsingh5": "Try this https://github.com/barryvdh/laravel-snappy for larger documents.. ",
    "Bargoor": "For me works if i add \\ with \"\" nothing happends. ",
    "Buildbetter": "Download?\n. ",
    "Shetza": "Add a die() at the end of the method solved the issue for me. ",
    "mnpenner": "Hi, thanks for the reply; I'm OP. \nI don't know where the page breaks will be beforehand, so this solution doesn't work very well for me. For the same reason, I can't generate each page separately and combine them afterwords as you suggest in #608.\nThe page_script solution may work, however. The sample your linked to doesn't look right though; page 1 and 2 have the same header and footer? Same with 3 and 4.\n. I was under the impression that your example was working correctly. You've just masked one header with another. Furthermore, you've buried a couple lines of body content. This can be seen by removing the background color.\nI thought the $PAGE_NUM >= 2 bit would cause the the 'remaining pages' header/footer to be added to the 2nd+ page, but I'm not sure it's having any affect at all.\nI will try to make this work, but this still isn't an adequate solution.\n. I will give this a crack again tomorrow. Thank you for your patience. Perhaps I have scripts disabled? I will double check my config.\nUpdate: This method seems to work now. The @page rule really helps with the positioning. \nTo anyone that stumbles across this:\nI also needed to add\nphp\ndefine(\"DOMPDF_ENABLE_PHP\", true);\nto my dompdf_config.custom.inc.php file.\nIt should also be noted that since the <div> containers around the remaining pages header/footer are outside of the <script> tags they do actually apply to all pages, so putting a background colour is not advised. This is of course easily worked around by adding another container inside the script tags, like the .content <div> in bsweeney's example.\n. @tsunamitsunami You need to put your source into a PHP nowdoc otherwise the quotes in the body of the HTML (or embedded PHP) will end your PHP string.\n. Thanks for the response.\nThe margin-bottom trick seems to work when there is text in the box and no height is set. If I want an empty box, however, it doesn't seem to have an affect:\n``` html\n\n  code {\n    display: inline-block;\n    width: 3mm;\n    height: 3mm;\n    border: 1px solid black;\n    font-family: arial;\n    color: black;\n    margin-bottom: -10mm;\n  }\n\nSome textcontinues afterward.\n```\n. We've encountered this issue many times over the years. Our content is user-generated so it's hard to avoid.\n. ",
    "tsunamitsunami": "@bsweeney First of all, Hello!\nWell, I am searching for month now, to find a solution like you mentioned above. Different headers on first and rest of pages. The linked example worked fine! The generated pdf has a header on first page and another one on the rest.\nBut, when I copy and paste the source code into my html-Var, I got an error.\n$html='code code... function with a <script>$GLOBALS['footer']...\nThis of course results in an error. So I changed it to\n$html='code code function with a <script>$GLOBALS[\"footer\"]...\nThan there is no error, but the generated pdf does only have a header on the first page. The rest is gone!\nAny idea? Please help\ntsunamitsunami\n. PS: The error: Parse error: syntax error, unexpected 'header' (T_STRING) in C:\\xampp\\htdocs\\dompdf\\example9.php on line 29. Line 29 on my system:\n<script type=\"text/php\">\n$GLOBALS['header'][] = array(); //=> line 29\n$GLOBALS['footer'] = NULL;\n</script>\nCould it be, that i am using it wrong? I am putting the source into a var.\n$html=\"your complete source code\";\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(\"sample.pdf\");\nIs that wrong?\nBest\ntsunamitsunami\n. Dear all,\nyes I got it.Just didn't get it, because many thing look to work beside php.;) If anybody intrested:\n``` php\n<?php\n    require_once(\"dompdf_config.inc.php\");\n             $dompdf = new DOMPDF();\n                            $html='\n\n\n@page { margin: 50px; }</p>\n<p>.first-page-header { position: absolute; left: 0px; right: 0px; top: -25px; color: #900; text-align: center; border: 1px solid #900; display:none;}\n.first-page-footer { position: absolute; left: 0px; right: 0px; bottom: -25px; color: #900; text-align: center; border: 1px solid #900;display:none; }</p>\n<p>.header { position: fixed; top: -25px; left: 0px; right: 0px; }\n.header .content { color: #009; text-align: center; border: 1px solid #009; }\n.footer { position: absolute; bottom: -25px; left: 0px; right: 0px; }\n.footer .content { color: #009; text-align: center; border: 1px solid #009; }</p>\n<p>.pagenum:before { content: counter(page); }\n\n\n\n\nMy Great Treatise\n\n\nsomething something\n\n\n$GLOBALS[\\'header\\'][] = array();\n$GLOBALS[\\'footer\\'] = NULL;\n\n\n$GLOBALS[\\'header\\'][] = $pdf->open_object();\nHurra \n$pdf->close_object();\n\n\n$GLOBALS[\\'footer\\'] = $pdf->open_object();\nCopyright \u00a9: Hello World.\n$pdf->close_object();\n\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vulputate suscipit nibh, non lacinia tortor ullamcorper et. Integer tortor sem, rhoncus fringilla porta vitae, laoreet a purus. Etiam vitae urna vel nulla blandit laoreet id vel magna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras euismod est ut mi rhoncus at porta risus aliquet. Sed in dolor risus. Aenean at libero hendrerit lectus elementum pellentesque. Vivamus malesuada, metus ac mollis tincidunt, massa libero tristique lacus, egestas elementum nibh sem id urna.\n\n\nNunc neque mi, vehicula nec tempus eu, malesuada eu dui. Donec sed diam enim. Duis fringilla, tellus non venenatis imperdiet, metus velit convallis nisl, sit amet sollicitudin justo erat ac arcu. Ut quis adipiscing ante. Phasellus purus ante, scelerisque et bibendum nec, commodo nec mi. Fusce aliquet, dolor sit amet semper vehicula, mauris dolor pellentesque tellus, a vulputate nisi libero vitae nisl. Integer suscipit, lacus at posuere consectetur, nibh felis malesuada felis, a bibendum diam velit sed libero. Proin tempus tincidunt augue sed lobortis. Vestibulum commodo lectus vitae diam iaculis ultricies. Ut lacus felis, bibendum vitae rutrum quis, convallis in quam. Aliquam nec leo metus, ut gravida quam. Nullam sed lorem erat, quis placerat lacus. Nunc tortor nisl, vehicula in aliquam ac, sollicitudin ut sapien. Pellentesque vitae neque purus.\n\n\nInteger ullamcorper iaculis diam eget facilisis. Donec at neque ante, quis tempor lorem. Mauris lobortis nulla felis, eget vestibulum elit. Nullam aliquet bibendum convallis. Etiam nec mi orci. Praesent libero nibh, laoreet non dapibus ac, ullamcorper vitae erat. Morbi semper elit ac nibh commodo posuere. Duis in risus mauris. Suspendisse aliquam, nisi non mattis consectetur, urna augue aliquam leo, ut aliquet lectus urna sed libero. Quisque eu lectus ac lacus mollis porttitor. Morbi a velit metus, eu feugiat risus. Sed vulputate diam ornare magna pulvinar dignissim laoreet nulla hendrerit. Mauris quis massa quis velit vulputate bibendum ut eget ligula. Mauris sit amet dui eu turpis blandit fermentum. Donec dapibus diam vel mi tincidunt fermentum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.\n\n\nPraesent purus arcu, condimentum ac accumsan quis, pulvinar quis orci. Ut massa arcu, eleifend vitae tincidunt id, egestas sed erat. Donec pretium porta tellus, eu tincidunt arcu sodales vitae. Cras convallis scelerisque mi, et bibendum libero feugiat eu. Nulla facilisi. Praesent in turpis eget purus tempor mattis at in ligula. Nunc nec erat a urna iaculis laoreet. Donec eu leo mauris. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;\n\n\nNullam magna lorem, volutpat vel auctor in, bibendum a nisl. Vivamus pretium mollis tempus. Nulla ligula augue, porttitor quis luctus ut, varius sit amet ante. Pellentesque id est dui, in dignissim justo. Sed placerat ornare laoreet. In ligula dui, interdum sed pellentesque sit amet, accumsan nec enim. Duis convallis diam massa, sed condimentum sem. In faucibus, ipsum vel mollis auctor, lacus lacus aliquet leo, et bibendum ante dolor vel augue. Cras varius, metus sed tempus varius, arcu sem venenatis diam, ut elementum ligula tortor eu dolor.\n\n\nAliquam facilisis molestie congue. Suspendisse vel ante sapien. Nulla posuere ultricies tincidunt. Pellentesque mauris magna, ullamcorper vel gravida vel, mattis sed mi. Phasellus condimentum lobortis elit, quis commodo augue porta volutpat. Sed rhoncus augue ut magna consequat non aliquam ligula rutrum. Nam eu nunc nisl, id ultricies justo. Vestibulum eget sem mauris, quis gravida urna. Morbi porta neque et elit suscipit at auctor massa lobortis. Duis nisl urna, rhoncus at scelerisque nec, laoreet posuere risus. Nam faucibus mattis massa, ut condimentum diam dignissim dignissim. Aliquam erat volutpat. Nullam lorem odio, fermentum sed varius quis, sollicitudin eget risus. Fusce in ante lectus, non rhoncus ipsum.\n\n\nNullam convallis convallis lobortis. Sed sit amet est a purus bibendum porta in a tortor. Phasellus sed consequat ipsum. Nulla facilisi. Sed nisi odio, auctor eget aliquam non, mattis non velit. Mauris eget nibh turpis. In vel fringilla urna. Quisque vitae magna vel nulla tristique vulputate et quis mauris. Ut pellentesque accumsan est vel tincidunt. Praesent vehicula enim eget magna euismod rutrum. Duis euismod vehicula turpis et venenatis. Vestibulum auctor magna vel nibh vestibulum id scelerisque tellus vulputate. Integer volutpat, enim et vehicula blandit, mauris nisl laoreet nisl, vel accumsan arcu arcu eu orci. Phasellus viverra risus in nulla imperdiet suscipit.\n\n\nPraesent varius rhoncus quam at congue. Vestibulum fermentum lorem non mauris gravida fermentum. Duis tempus metus tellus. Vivamus blandit elementum sem. Duis mollis, urna eget fringilla dignissim, arcu ligula auctor orci, ut vestibulum eros magna at metus. Suspendisse turpis erat, dictum non accumsan a, vestibulum eu libero. Sed mauris leo, vulputate sit amet pharetra a, vulputate in odio.\n\n\nIn et lorem non nunc malesuada auctor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec semper magna in est faucibus vestibulum. Ut condimentum, orci et gravida pulvinar, est ligula congue quam, eu iaculis est nisi eu nisi. Aenean ac eleifend nisi. Nunc tortor lectus, rutrum ac facilisis fringilla, faucibus nec lacus. Cras dictum, nisi vitae ultrices varius, elit velit accumsan metus, quis laoreet leo diam vitae erat. Vestibulum dapibus dolor justo.\n\n\nPraesent ornare, risus eget tincidunt volutpat, tellus dolor eleifend felis, in ullamcorper diam eros id sem. Integer ut nisi non nibh elementum viverra ut quis mi. Aliquam magna urna, varius at dictum in, laoreet nec nibh. Pellentesque lobortis turpis et ante ultricies lacinia. Duis eu orci ipsum, eu tincidunt massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec augue non arcu auctor ornare id ac massa. Donec vel orci a nisl eleifend pharetra. Suspendisse arcu risus, posuere et ultrices tempus, rhoncus id mauris. Proin tincidunt fringilla rhoncus. Quisque sapien arcu, sagittis ut vehicula nec, vulputate vel purus. Fusce in dolor lacus, sed tristique tortor. Morbi turpis ante, vestibulum id fringilla id, dapibus eget libero.\n\n\nSed erat erat, ultrices id commodo eu, scelerisque ut lectus. Vestibulum molestie cursus justo, id fringilla felis ullamcorper ut. Proin ornare massa et nunc placerat ac iaculis magna cursus. Aenean venenatis, augue non dignissim imperdiet, libero leo fermentum nisi, a tristique libero ipsum in orci. Sed pharetra dapibus metus ac cursus. Sed tristique dignissim nulla, sit amet auctor felis commodo vel. Nam vitae velit sapien, vitae eleifend erat. Morbi vel orci quis quam rutrum vehicula tempor vel lorem. Sed ac justo viverra lectus blandit scelerisque sit amet nec purus. Aenean sed adipiscing nibh. Fusce pulvinar fermentum diam, nec vulputate sem euismod sit amet.\n\n\nUt rutrum fermentum lectus non consequat. Duis scelerisque iaculis sem vitae suscipit. Mauris auctor suscipit elit ut dictum. Aenean posuere nisi non tortor tempor non aliquet risus auctor. Suspendisse potenti. Vestibulum ultrices, nibh aliquam tincidunt consequat, nulla nisl gravida felis, in rhoncus purus sapien ac quam. Vivamus nisi lectus, convallis nec tempus vitae, sodales in eros. In at enim et risus pellentesque imperdiet. Nunc et dolor urna. Mauris felis felis, ultricies quis eleifend vitae, dignissim ornare leo. Nunc nibh felis, pulvinar vitae facilisis quis, tempus in nisl.\n\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vulputate suscipit nibh, non lacinia tortor ullamcorper et. Integer tortor sem, rhoncus fringilla porta vitae, laoreet a purus. Etiam vitae urna vel nulla blandit laoreet id vel magna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras euismod est ut mi rhoncus at porta risus aliquet. Sed in dolor risus. Aenean at libero hendrerit lectus elementum pellentesque. Vivamus malesuada, metus ac mollis tincidunt, massa libero tristique lacus, egestas elementum nibh sem id urna.\n\n\nNunc neque mi, vehicula nec tempus eu, malesuada eu dui. Donec sed diam enim. Duis fringilla, tellus non venenatis imperdiet, metus velit convallis nisl, sit amet sollicitudin justo erat ac arcu. Ut quis adipiscing ante. Phasellus purus ante, scelerisque et bibendum nec, commodo nec mi. Fusce aliquet, dolor sit amet semper vehicula, mauris dolor pellentesque tellus, a vulputate nisi libero vitae nisl. Integer suscipit, lacus at posuere consectetur, nibh felis malesuada felis, a bibendum diam velit sed libero. Proin tempus tincidunt augue sed lobortis. Vestibulum commodo lectus vitae diam iaculis ultricies. Ut lacus felis, bibendum vitae rutrum quis, convallis in quam. Aliquam nec leo metus, ut gravida quam. Nullam sed lorem erat, quis placerat lacus. Nunc tortor nisl, vehicula in aliquam ac, sollicitudin ut sapien. Pellentesque vitae neque purus.\n\n\nInteger ullamcorper iaculis diam eget facilisis. Donec at neque ante, quis tempor lorem. Mauris lobortis nulla felis, eget vestibulum elit. Nullam aliquet bibendum convallis. Etiam nec mi orci. Praesent libero nibh, laoreet non dapibus ac, ullamcorper vitae erat. Morbi semper elit ac nibh commodo posuere. Duis in risus mauris. Suspendisse aliquam, nisi non mattis consectetur, urna augue aliquam leo, ut aliquet lectus urna sed libero. Quisque eu lectus ac lacus mollis porttitor. Morbi a velit metus, eu feugiat risus. Sed vulputate diam ornare magna pulvinar dignissim laoreet nulla hendrerit. Mauris quis massa quis velit vulputate bibendum ut eget ligula. Mauris sit amet dui eu turpis blandit fermentum. Donec dapibus diam vel mi tincidunt fermentum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.\n\n\nPraesent purus arcu, condimentum ac accumsan quis, pulvinar quis orci. Ut massa arcu, eleifend vitae tincidunt id, egestas sed erat. Donec pretium porta tellus, eu tincidunt arcu sodales vitae. Cras convallis scelerisque mi, et bibendum libero feugiat eu. Nulla facilisi. Praesent in turpis eget purus tempor mattis at in ligula. Nunc nec erat a urna iaculis laoreet. Donec eu leo mauris. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;\n\n\nNullam magna lorem, volutpat vel auctor in, bibendum a nisl. Vivamus pretium mollis tempus. Nulla ligula augue, porttitor quis luctus ut, varius sit amet ante. Pellentesque id est dui, in dignissim justo. Sed placerat ornare laoreet. In ligula dui, interdum sed pellentesque sit amet, accumsan nec enim. Duis convallis diam massa, sed condimentum sem. In faucibus, ipsum vel mollis auctor, lacus lacus aliquet leo, et bibendum ante dolor vel augue. Cras varius, metus sed tempus varius, arcu sem venenatis diam, ut elementum ligula tortor eu dolor.\n\n\nAliquam facilisis molestie congue. Suspendisse vel ante sapien. Nulla posuere ultricies tincidunt. Pellentesque mauris magna, ullamcorper vel gravida vel, mattis sed mi. Phasellus condimentum lobortis elit, quis commodo augue porta volutpat. Sed rhoncus augue ut magna consequat non aliquam ligula rutrum. Nam eu nunc nisl, id ultricies justo. Vestibulum eget sem mauris, quis gravida urna. Morbi porta neque et elit suscipit at auctor massa lobortis. Duis nisl urna, rhoncus at scelerisque nec, laoreet posuere risus. Nam faucibus mattis massa, ut condimentum diam dignissim dignissim. Aliquam erat volutpat. Nullam lorem odio, fermentum sed varius quis, sollicitudin eget risus. Fusce in ante lectus, non rhoncus ipsum.\n\n\nNullam convallis convallis lobortis. Sed sit amet est a purus bibendum porta in a tortor. Phasellus sed consequat ipsum. Nulla facilisi. Sed nisi odio, auctor eget aliquam non, mattis non velit. Mauris eget nibh turpis. In vel fringilla urna. Quisque vitae magna vel nulla tristique vulputate et quis mauris. Ut pellentesque accumsan est vel tincidunt. Praesent vehicula enim eget magna euismod rutrum. Duis euismod vehicula turpis et venenatis. Vestibulum auctor magna vel nibh vestibulum id scelerisque tellus vulputate. Integer volutpat, enim et vehicula blandit, mauris nisl laoreet nisl, vel accumsan arcu arcu eu orci. Phasellus viverra risus in nulla imperdiet suscipit.\n\n\nPraesent varius rhoncus quam at congue. Vestibulum fermentum lorem non mauris gravida fermentum. Duis tempus metus tellus. Vivamus blandit elementum sem. Duis mollis, urna eget fringilla dignissim, arcu ligula auctor orci, ut vestibulum eros magna at metus. Suspendisse turpis erat, dictum non accumsan a, vestibulum eu libero. Sed mauris leo, vulputate sit amet pharetra a, vulputate in odio.\n\n\nIn et lorem non nunc malesuada auctor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec semper magna in est faucibus vestibulum. Ut condimentum, orci et gravida pulvinar, est ligula congue quam, eu iaculis est nisi eu nisi. Aenean ac eleifend nisi. Nunc tortor lectus, rutrum ac facilisis fringilla, faucibus nec lacus. Cras dictum, nisi vitae ultrices varius, elit velit accumsan metus, quis laoreet leo diam vitae erat. Vestibulum dapibus dolor justo.\n\n\nPraesent ornare, risus eget tincidunt volutpat, tellus dolor eleifend felis, in ullamcorper diam eros id sem. Integer ut nisi non nibh elementum viverra ut quis mi. Aliquam magna urna, varius at dictum in, laoreet nec nibh. Pellentesque lobortis turpis et ante ultricies lacinia. Duis eu orci ipsum, eu tincidunt massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec augue non arcu auctor ornare id ac massa. Donec vel orci a nisl eleifend pharetra. Suspendisse arcu risus, posuere et ultrices tempus, rhoncus id mauris. Proin tincidunt fringilla rhoncus. Quisque sapien arcu, sagittis ut vehicula nec, vulputate vel purus. Fusce in dolor lacus, sed tristique tortor. Morbi turpis ante, vestibulum id fringilla id, dapibus eget libero.\n\n\nSed erat erat, ultrices id commodo eu, scelerisque ut lectus. Vestibulum molestie cursus justo, id fringilla felis ullamcorper ut. Proin ornare massa et nunc placerat ac iaculis magna cursus. Aenean venenatis, augue non dignissim imperdiet, libero leo fermentum nisi, a tristique libero ipsum in orci. Sed pharetra dapibus metus ac cursus. Sed tristique dignissim nulla, sit amet auctor felis commodo vel. Nam vitae velit sapien, vitae eleifend erat. Morbi vel orci quis quam rutrum vehicula tempor vel lorem. Sed ac justo viverra lectus blandit scelerisque sit amet nec purus. Aenean sed adipiscing nibh. Fusce pulvinar fermentum diam, nec vulputate sem euismod sit amet.\n\n\nUt rutrum fermentum lectus non consequat. Duis scelerisque iaculis sem vitae suscipit. Mauris auctor suscipit elit ut dictum. Aenean posuere nisi non tortor tempor non aliquet risus auctor. Suspendisse potenti. Vestibulum ultrices, nibh aliquam tincidunt consequat, nulla nisl gravida felis, in rhoncus purus sapien ac quam. Vivamus nisi lectus, convallis nec tempus vitae, sodales in eros. In at enim et risus pellentesque imperdiet. Nunc et dolor urna. Mauris felis felis, ultricies quis eleifend vitae, dignissim ornare leo. Nunc nibh felis, pulvinar vitae facilisis quis, tempus in nisl.\n\n\n  $pdf->page_script(\\'\n    if ($PAGE_NUM >= 2) {\n      $pdf->add_object($GLOBALS[\"header\"][$PAGE_NUM],\"add\");\n      $pdf->add_object($GLOBALS[\"footer\"],\"add\");\n    }\n  \\');\n\n\n';\n    $dompdf->load_html($html);\n    $dompdf->render();\n    $dompdf->stream(\"sample.pdf\");\n?>\n\n```\nThats it! Thank you. Next thing would be to operate with vars. e.g.:\n$today=date(\"d.m.Y\");\n$html =' text txtt text'.$today.' text text text tct...';\ntsunamitsunami\n. ",
    "Paktas": "This sorts the issue with different header/footer for page >2, however it does leave an issue having the same marging acrosss all pages (sections). I want to include rather big header/footer for page >2, but do not want to take all that margin height from the first page.\nIs there any way (workaround) to have different page margin for page >2 (another section)? Similar issue to #608 \np.s. I have no idea of how long or at what point the page will brake (depends on dynamic content).\n. ",
    "crazyosachou": "Is there a way to fire a function each time DOMpdf creates a new page, from there we can reset the header or footer content ?. ",
    "Gummibeer": "The problem isn't solved yet and it's very annoying if you create PDFs out of wysiwyg editor html where most times the trailing spaces are in the formatting tag.\nI thing it would be a good start to make this optional with a configuration value. This way there is a hint that dompdf does this and gives the ability for the user to disable this behaviour if it is unwanted.. The problem isn't solved yet and it's very annoying if you create PDFs out of wysiwyg editor html where most times the trailing spaces are in the formatting tag.\nI thing it would be a good start to make this optional with a configuration value. This way there is a hint that dompdf does this and gives the ability for the user to disable this behaviour if it is unwanted.. @bsweeney we have forked dompdf now and disabled the two lines that remove spaces and everything looks good. Specialy in case of wysiwyg content it's ok to tell the user \"you've added two spaces there are two spaces\" but it's not ok to tell him \"you've added a space but we removed it cause it is at the wrong place\"!\nAnd also in case you load a predefined template or whatever in - it's better to display what was given than trying to fix things that shouldn't be fixed cause they are right how they are. Also if I want multiple spaces there - they have to stay there.\nSo adding a configuration would be good in every case - cause as dev I know what I put in and want to get the same out. Dompdf is a html to pdf converter and not a html cleanup tool.. @bsweeney we have forked dompdf now and disabled the two lines that remove spaces and everything looks good. Specialy in case of wysiwyg content it's ok to tell the user \"you've added two spaces there are two spaces\" but it's not ok to tell him \"you've added a space but we removed it cause it is at the wrong place\"!\nAnd also in case you load a predefined template or whatever in - it's better to display what was given than trying to fix things that shouldn't be fixed cause they are right how they are. Also if I want multiple spaces there - they have to stay there.\nSo adding a configuration would be good in every case - cause as dev I know what I put in and want to get the same out. Dompdf is a html to pdf converter and not a html cleanup tool.. Ok, our problem atm is this:\n<p>lorem ipsum <strong>word </strong>word lorem</p>\nis transformed to\n<p>lorem ipsum <strong>word</strong>word lorem</p>\nso the space isn't moved but removed. the contents are generated with wysiwyg editor and the user decides where he closes the formatting tag.. Ok, our problem atm is this:\n<p>lorem ipsum <strong>word </strong>word lorem</p>\nis transformed to\n<p>lorem ipsum <strong>word</strong>word lorem</p>\nso the space isn't moved but removed. the contents are generated with wysiwyg editor and the user decides where he closes the formatting tag.. ",
    "shidhu40": "page-break-inside not resolved\n. Some border are bold. When we converting in html  it looks better\n. Check this is html  when we convert into pdf border -bottom line becomes\nbold in chrome pdf viewer\nOn Wed, Nov 19, 2014 at 8:22 PM, Brian Sweeney notifications@github.com\nwrote:\n\n[image: Boxbe] https://www.boxbe.com/overview This message is eligible\nfor Automatic Cleanup! (notifications@github.com) Add cleanup rule\nhttps://www.boxbe.com/popup?url=https%3A%2F%2Fwww.boxbe.com%2Fcleanup%3Ftoken%3Dvov6gbEBd2rzd1Ljwj86yWK8SjOT9BAKDr%252FKBY5Jj6qkB56c6t0%252ByFQvt1OwbMu8Eckc089HWPuInt%252BtB%252BNyIVGPw3E2vrXdkg3CEHnAh34CCURcP9EBblvx%252BoPYt2XWp4Yko31QSNhx1aJON4MZCw%253D%253D%26key%3DhI7Z%252FjowcOxGNa5V4HVhM%252Fz08P8PTNehRLijpLT86hw%253D&tc_serial=19381532066&tc_rand=1308799625&utm_source=stf&utm_medium=email&utm_campaign=ANNO_CLEANUP_ADD&utm_content=001\n| More info\nhttp://blog.boxbe.com/general/boxbe-automatic-cleanup?tc_serial=19381532066&tc_rand=1308799625&utm_source=stf&utm_medium=email&utm_campaign=ANNO_CLEANUP_ADD&utm_content=001\nPost a PDF created by dompdf and one created by other means as well as the\nsource HTML and we can take a look and see if there's a problem that needs\nto be addressed.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/875#issuecomment-63650954.\n. \n",
    "Jany-M": "Wondering if this ever got implemented or assigned?\nIs there any way to create bookmarks in DOMPDF?\nThank you!\n@bsweeney @BrunoDeBarros @ThomasLandauer \n. @bsweeney thank you, I have no idea how much work this would require, so Im just asking out of curiosity: \n- automatically using headings to create bookmarks in the pdf, is complex to achieve? process-wise\n- what about named destinations... or simple anchors? (some ref. Adobe Help, StackOverflow , a discussion )\n- the method you suggest isn't a \"standard\" PDF way, or is it? shouldn't it be eg. #page=2 to jump to a page?\n. Thank you for clarifying. Unfortunately in this case we can't use a TOC.\nHopefully you'll add this feature one day! :)\n. @bsweeney hello again! wondering if the recent release addressed this by any chance?. +1\nDo you have any updates? @bsweeney\nElements collapse on each other when using nested floating elements, with % width.\n. Just an idea.\nTry something like this in your page code instead, managing svg/png from the page directly, instead of messing with svg later (also better for some devices/compatibility):\n```\n\n// Replace all SVG with inline SVG\nreplaceSvg();\nfunction replaceSvg()    {\n        jQuery('img.svg').each(function(){\n            var $img = jQuery(this);\n            var imgID = $img.attr('id');\n            var imgClass = $img.attr('class');\n            var imgURL = $img.attr('src');\n        jQuery.get(imgURL, function(data) {\n            // Get the SVG tag, ignore the rest\n            var $svg = jQuery(data).find('svg');\n\n            // Add replaced image's ID to the new SVG\n            if(typeof imgID !== 'undefined') {\n                $svg = $svg.attr('id', imgID);\n            }\n            // Add replaced image's classes to the new SVG\n            if(typeof imgClass !== 'undefined') {\n                $svg = $svg.attr('class', imgClass+' replaced-svg');\n            }\n\n            // Remove any invalid XML tags as per http://validator.w3.org\n            $svg = $svg.removeAttr('xmlns:a');\n\n            // Replace image with new SVG\n            $img.replaceWith($svg);\n\n        }, 'xml');\n\n    });\n\n}\n```\n. @kabeza I had the same issue and ended up using PDFMerger.\nWhile pdf creation through DOMPDF now works fast and smooth, merging hundreds of PDFs at the end could also cause PHP to hit the max execution time, so make sure it's pretty high (in my case 15min).\n. @developer-lindner I wanted to ask if you successfuly used mPDF with that exact layout/css? did you need some special tweaking?\n. @developer-lindner interesting, thank you!\n. I have made some changes to the layout and now all links render fine, even though their structure hasn't changed. Can't honestly pinpoint what could have possibly caused this. The issue was with the latest version (and the one before), but clearly it must be have been a weird exception as all is good now.\n. ",
    "eroomekim": "When is support for vector images going to come to dompdf? Or is there an extension to dompdf that can handle vector images?\n. ",
    "louismrose": "+1\n(I'm also interested in seeing this).\n. ",
    "Orthophilos": "Hi PhenX, \nFirst, thanks for you work,\nI tried hardly make this work, but my application is giving me back a corrupted pdf - the navigator showing stuff like: %PDF-1.3 1 0 obj << /Type /Catalog /Outlines 2 0 R /Pages 3 0 R >> endobj 2 0 obj << /Type /Outlines /Count 0 >> endobj 3 0 obj << /Type /Pages /Kids [6 0 R 57 0 R ] /Count 2 /Resources << /ProcSet 4 0 R /Font << /F1 8 0 R /F2 9 0 R /F3 10 0 R /F4 11 0 R /F5 12 0 R >> >> /MediaBox [0.00 ....... -\ni tried to put the setlocale : \nspl_autoload_register('DOMPDF_autoload'); \nsetlocale(LC_NUMERIC, \"C\");\n$dompdf = new DOMPDF(); \nbut doesn t work. \nshould you help me?\n. Ok. Thanks,\n I Got it!!!!!  Let me  told you what happened:\nI'm using  cakephp, and a (very good) plugin for cakephp called\nFilterResults, this plugin generate a \"Helper\" that set \"Header\nApplication\" as HTML.  That 's conflict has been hidden in my application\n . I solutioned the trouble.\nThanks for you helper\nJeferson Tadeu\n2014-05-21 11:17 GMT-03:00 Brian Sweeney notifications@github.com:\n\n@Orthophilos https://github.com/Orthophilos are you saying that the\nbrowser is displaying \"%PDF-1.3 ...\"? If so, that is the content of the PDF\nif viewed directly rather than in a PDF viewer. It could be that something\nis sending content to the browser before dompdf or affecting the headers.\nCan you provide a link to the PDF?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/425#issuecomment-43759778\n.\n. \n",
    "rajesh0231": "Hi \nI am using dompdf library for print of my data, i am facing one issue w.r.t wrapping of text .\ni.e i am display content in div with image and followed by content , image is floated to right side the text is on left side with word-wrap:break-word property.\nthe issue is that if i have a continuous line of text without any white space ex. URL's or any string word-wrap property doesnt work for same.\nPlease suggest me the best way to handle this issue. plz ref attach pdf file\nThanks\nRajesh\ntest.pdf\n. ",
    "marrch-caat": "I still would be glad if this problem is fixed. We are now facing the same problem with transparent gif/png images that ain't processed correct with ImageMagic, though GD treats them properly, and if I re-save the image converted with GD, it will then work fine in ImageMagic as well. We can't disable ImageMagic extension in our project, so we'd be glad to have an option to prevent domPDF from using it.. @bsweeney Thank you for the reference, I'll thoroughly inspect the #98 issue and check if it could help me, then if it won't I'll try to extract a sample HTML to reproduce the problem.\n. @bsweeney Couldn't you please provide me with an email address where I could send the sample that breaks domPDF?\n. @bsweeney Done\n. @bsweeney Do you have any hints on the problem?..\n. @bsweeney We've fixed all our templates to avoid any page breaks inside TD containers, and now after a week of thorough testing I may approve that the problem is completely solved by the changes.\nThank you for your assistance!\n. I'm sorry, but since my problem is related to the described above, I'll post here. Since we cannot use table layout due to the known problem with page-breaks inside table cells, we were researching for an alternative ways to accomplish our tasks. We decided to use layout with DIV-s positioned with float:left and precise margins, but it displayes a strange difference between the results of HTML and PDF rendering. See the files attached for the sources (I had to compress them - it's not allowed to attach HTMLs, sic!) and PDF results.\nIs there any way to fix or workaround the problem?\nresume_with_clear.pdf\nresume_without_clear.pdf\nsources.zip\nP.S. We're using DomPDF 7.0 beta 3 for now, if the problem was fixed in the final release - please let me know, I had no chance to check that yet...\n. To our great pity, variant with display: inline-block is useless for us :( Depending on the issue description, I supposed the problem won't appear if we have content in the 2nd column always larger than the one in the 1st column. But it's not the case :(\nScreenshot of the result is here: http://take.ms/topU0g\nYou may see that if the content in the 2nd column wraps to the next page, it's rendered there as if it were the only one column, without any left margin.\n@bsweeney Do you see any other way to implement 2-columns design or to anyway workaround the bug?..\n. In addition to the previous message: attached are HTML and PDF genereated from it using display: inline-block and left margin for the right block. You may see that when the right block is wrapped to the next page, it's rendered there without margin. It's a bug for sure. And even if I create a HTML page with ONLY ONE div with margin-left and the div will wrap to the 2nd page, in PDF the 1st page will be with margin and the 2nd without it.\nresume-29684110 (3).pdf\nsource.html.zip\n@bsweeney Is there any way to get this problem fixed soon or to workaround it?\n. @bsweeney Couldn't you please provide some estimates when could we expect AT LEAST ANY of these bugs to be solved? I suppose that column design is quite a popular and an actual need for many users, so having at least one way to implement should be quite an important task...\nIs it probable that at least the last problem with a disappearing margin will be solved at 0.7.1?\n. Thank you! Looking forward for your analysis.\n. @bsweeney Well, I'll try to use the CSS you provided and then get back to the issue with the results.\n. Wow! That works (at least for now) on all our two-column samples! Thanks a lot, @bsweeney !!!!\n@Al3xR0 Looks like the styling provided above could help you as well. I really can't understand the magic of margin-right: -20%, but that works great in DomPDF and affects nothing on web. Fantastic!\n. Well, I tested in the major five (only the last versions, though), and it worked fine.\nBut there is another problem :( If the content in the left column is shorter, the left cells overlap:\nhttp://take.ms/JrmBG\n@bsweeney , do you have some more magic for it? Pleeeeeeeease... :)\n. Nomore magic, @bsweeney ?..\n. @bsweeney We checked that, it doesn't help :( We tried\n.BlankResumePrint_row:after { clear: both; } - that should (in theory) help, but it didn't :(\n. @bsweeney We're now using the new 8.0 release of domPDF, and many issues were resolved in it, great! But I'm not sure if this issue was anyhow addressed in it? Couldn't you please let me know if there are any new workarounds available for the issue?. @bsweeney Please consider reviewing the pull request #1466 \nWe face the problem in our production, and since it's a quite highloaded project - we had to do something to the problem, so I created the patch. It's my first pull request to a vendor library, so I ask you to be patient if I did something wrong :-. Oh, I didn't think about it. @bsweeney should I do another pull-request with tempnam? Of course using it would be much simpler.... ",
    "netfuse": "Here is the code to break all versions of Dompdf (including today's head revision).\n``` html\n\n\n\n",
    "castler": "Is there yet any plan to implement this?\n. ",
    "jsieler": "Anything new up there?!\n. ",
    "u01jmg3": "Will there be support for background-size at some point?\n. Good point - I made this suggestion before I'd really looked into package managers. Composer is obviously the one that should be used and is already included in this repo. Will close\n. :+1:\nI deleted my pull request after my last comment but it would just be a case of adding bower.json to the root of your repo with similar contents to:\njson\n{\n  \"name\": \"dompdf\",\n  \"version\": \"0.6.1\",\n  \"license\": \"LGPL-3.0\",\n  \"dependencies\": {\n    \"php-font-lib\": \"0.3.1\"\n  },\n  \"keywords\": [\n    \"pdf\",\n    \"conversion\"\n  ],\n  \"homepage\": \"https://github.com/dompdf/dompdf.git\",\n  \"_release\": \"0.6.1\",\n  \"_resolution\": {\n    \"type\": \"version\",\n    \"tag\": \"v0.6.1\",\n    \"commit\": \"c3527d98d03e61847bd25f9e5cedf86dcc46bebf\"\n  },\n  \"_source\": \"https://github.com/dompdf/dompdf.git.git\",\n  \"_target\": \"*\",\n  \"_originalSource\": \"https://github.com/dompdf/dompdf.git.git\"\n}\n. @bsweeney: sorry for jumping on an old issue but I am having a problem with dompdf v0.7.0 rendering a simple link such as <a href=\"http://www.google.co.uk\">Google</a>. The resulting PDF contains the link but it is not clickable. Switching to v0.6.2 and dompdf works fine. Am I missing something? Thanks\n. False alarm - I tried again from the beginning and it is working without issue. User error. Apologies for wasting your time.\n. This is from a while ago but I think I just reloaded my dependencies from scratch. I would suggest doing the same with the latest version of dompdf.. Do you mean to hex? What would array(40, 40, 40) need to be represented as?\n. Solution:\n``` js\n\n    if(isset($pdf)){\n        $y        = $pdf-&gt;get_height() - 34;\n        $pageText = \"{PAGE_NUM} of {PAGE_COUNT}\";\n        $font     = $fontMetrics-&gt;get_font('helvetica');\n        $size     = 8;\n        $x        = $pdf-&gt;get_width() - $fontMetrics-&gt;get_text_width('0 of 0', $font, $size) - 31;</p>\n<pre><code>    $pdf-&gt;page_text($x, $y, $pageText, $font, $size, array(.16, .16, .16)); // Grey\n}\n</code></pre>\n<p>\n```\n. ",
    "entozoon": "Did this happen in the end? I've tried using the develop branch but seems the same :(\n. ",
    "mitsest": ":(\n. ",
    "paddelboot": ":(. How can this be working? I get a very similar error message because of a missing file (...php-font-lib/classes/Font.php), but as one can see here: https://github.com/PhenX/php-font-lib, there is no /classes folder in the php-font-lib master.\nI appreciate the effort of the people who create DOMPDF, but why not a bit more developer-friendly during install?\n. Thanks a lot, seems to be working now.\n. While it works fine on localhost, on my remote test server the background image doesn't show up again. \nAny hints where I should start looking? Thanks in advance.\n. > by absolute do you mean it includes the domain?\nYes\nI do not remember having had those issues in the 0.5 release. Is it advisable to use this older version or are there any security issues or something?\nThanks.\n. Or is there, in the current version, a useful workaround for using CSS background-image, like absolute positioning and z-index?\n. I wanted to give it some more tries;\nI have moved the temp dir via options to a path within the folder of my app. Still didn't work. On my server, I had a file in this /tmp folder with 0 bytes. Maybe that tells you something?\nI tried relative paths to reference the image (../../../), didn't work either. \nThanks.\n. If I add an image tag with the same (working) URL, it doesn't show either in the rendered PDF on the server:\n\nImage not found or type unknown\n\nI also put the tmp folder to 777, and it is filling with 0 byte files, but nothing shows in the PDF.\nI'm a bit at my wits end.\n. Okay, the problem is:\n\nfile_get_contents(): http:// wrapper is disabled in the server configuration by allow_url_fopen=0\n\nThis simply means that remote images are no longer an option, because I will need to deploy this app on different servers where I cannot change the server config. Please correct me if I'm wrong.\n. This is really confusing, because to tell the truth, I never reference images with a relative path other than in my stylesheet. And there, it is always relative to where the stylesheet is located, so there is no issue.\n. OK, this seems to be still a problem.\nI finally managed to reference the image correctly using a relative path:\n/myfolder/mysubfolder/image.jpg\nThis works well with the CSS background-image property. It does not work with a HTML img tag! Before I invest several more hours, maybe you could tell me what I need to fix in my URLs.\nHere's the code:\n```\n\n\n    <!-- If the path doesnt work, export the css into a stylesheet. Then the path must always be relative to the position of the stylesheet -->\n    <style type=\"text/css\">\n        html { margin: 0 }\n        body { background-image: url(/wp-content/uploads<?php echo $bg_url; ?>); background-repeat: no-repeat; background-position: center top; }\n    </style>\n\n</head>\n\n<body>\n\n    <img src=\"/wp-content/uploads<?php echo $bg_url; ?>\" alt=\"/wp-content/uploads<?php echo $bg_url; ?>\">\n\n\n\n```\nThanks!\nPS: Sorry about the messed up code, I haven't conquered the github markup yet obviously.\n. I solved the issue by getting the current dir using getcwd(). Then, I included the image relative to this directory, i.e. (../../wp-content/uploads/). Still, this does not explain why the relative path from the top public folder (i.e. /wp-content/uploads) does not work.\n. Here you go:\n```\n\n            <div class=\"room\">\n\n                <div class=\"col_full\">\n\n                    <h4>Raum 1</h4>\n                    <p>\n                        B\u00fcro                        </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Raumausrichtung</h5>\n                    <p>\n                                                </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>L\u00e4nge des Raums</h5>\n                    <p>\n                        3,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Breite des Raums</h5>\n                    <p>\n                        2,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Anzahl der Fenster</h5>\n                    <p>\n                        1 Fenster                       </p>\n\n                </div>\n\n                <div style=\"clear:both\"></div>\n\n                                        <div class=\"col_2_4\">\n                        /media/.../assets/images/standard-w.png                         <img src=\"/media/.../assets/images/standard-w.png\" alt=\"\"><br>\n                        Kompakt-Wandger\u00e4t, wei\u00df, 1,5 kW<br>\n                        MSZ-SF15VA                      </div>\n\n                <div style=\"clear:both\"></div>\n\n            </div>\n\n\n            <div class=\"room\">\n\n                <div class=\"col_full\">\n\n                    <h4>Raum 2</h4>\n                    <p>\n                        Waschraum                       </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Raumausrichtung</h5>\n                    <p>\n                        s\u00fcdlich                     </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>L\u00e4nge des Raums</h5>\n                    <p>\n                        2,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Breite des Raums</h5>\n                    <p>\n                        4,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Anzahl der Fenster</h5>\n                    <p>\n                        3 Fenster                       </p>\n\n                </div>\n\n                <div style=\"clear:both\"></div>\n\n                                        <div class=\"col_2_4\">\n                        /media/.../assets/images/truhe-w.png                            <img src=\"/media/.../assets/images/truhe-w.png\" alt=\"\"><br>\n                        Kompakt-Truhenger\u00e4t, wei\u00df, 2,5 kW<br>\n                        MFZ-KJ25VE                      </div>\n\n                <div style=\"clear:both\"></div>\n\n            </div>\n\n\n            <div class=\"room\">\n\n                <div class=\"col_full\">\n\n                    <h4>Raum 3</h4>\n                    <p>\n                        Empfang                     </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Raumausrichtung</h5>\n                    <p>\n                        n\u00f6rdlich                        </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>L\u00e4nge des Raums</h5>\n                    <p>\n                        5,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Breite des Raums</h5>\n                    <p>\n                        6,00 m\n                    </p>\n\n                </div>\n\n                <div class=\"col_1_4\">\n\n                    <h5>Anzahl der Fenster</h5>\n                    <p>\n                        1 Fenster                       </p>\n\n                </div>\n\n                <div style=\"clear:both\"></div>\n\n                                        <div class=\"col_2_4\">\n                        /media/.../assets/images/premium-s.png                          <img src=\"/media/.../assets/images/premium-s.png\" alt=\"\"><br>\n                        Premium-Wandger\u00e4t, schwarz Lack, 4,2 kW<br>\n                        MSZ-EF42VE2-S                       </div>\n\n                <div style=\"clear:both\"></div>\n\n            </div>\n\n\n    </div>\n\n```\nThe \"col_\" classes are floating elements. Everything displays more or less the way it's supposed to be. The image URLs (obscured) that I am displaying for debugging are fine, too.. Sure, can you provide me with an email I could send an example PDF and the SASS file to? \nThanks.\n. Any help with this? It would be much appreciated.. Uploaded. Thanks for having a look.. Any news on this?. The reason for the images not displaying was this:\nimg{\n                display: block;\n            }\nNot sure how that makes any sense. Unfortunately, DOMPDF is full of these small bugs that cost a lot of time. . I rolled back to 0.7.. Now with 0.7.0, the layout of my PDFs is messed up. So I removed that too and went to 0.7.0-beta3. This one crashes with a fatal error which seems to come from a namespace issue. Is there any version ready for production? I was under the impression I was using 0.7.0 before, but apparently not.. ",
    "gravsten": "The 0.8.1 milestone has passed, now even 0.8.2 is out...\nIs anyone still working on this issue ?. ",
    "JustPassingThrough": "Here's a quick workaround for those who need to have a background element contain (the size in below example are pt sizes of an A4 document):\nphp\n```php\nlist($width, $height) = getimagesize($imagePath);\nif ($width > $height) {\n  $orientation = 'landscape';\n  $ptHeight = $height * 0.75;\n  $proportion = 841.89 / $ptHeight;\n  $correctedWidth = $proportion * ($width * 0.75);\n  $marginLeft = (595.28 - $correctedWidth) / 2;\n} else {\n  $orientation = 'portrait';\n  $ptWidth = $width * 0.75;\n  $proportion = 595.28 / $ptWidth;\n  $correctedHeight = $proportion * ($height * 0.75);\n  $marginTop = (841.89 - $correctedHeight) / 2;\n}\n```\nhtml\nhtml\n<div style=\"position: fixed; left: {{ marginLeft }}pt; top: {{ marginTop }}pt; right: 0px; bottom: 0px; text-align: center;z-index: -1000;\">\n  <img src=\"{{ imagePath }}\" style=\"{{ backgroundOrientation == 'landscape' ? 'height: 841.89pt;' : 'width: 595.28pt;' }};\">\n</div>. The first part can be used in php to calculate the required dimensions. The second is just some HTML applying these to a contained image. Let me know if you need some help. @donjajo \nThe background-size property doesn't work as expected. The code I posted above is merely a working workaround to get around this issue and should give you the expected results.. @hjchin please check my workaround posted above. Hey hjchin, \nMy code should give the same result as background: cover. The Css implementation is just not available in dompdf that's why I have to use a fixed image. Ive used a version of this code in production for over a 100 thousand documents.. Oh I get it now, my apologies.\nIn my code the values 841.89 and 595.28 refer to the document height and width in pt (A4). To scale to a smaller container just replace these with the dimensions of your element. Your element should be the div surrounding the image (as in the example).. ",
    "donjajo": "This is not fixed yet? Where do I place this code? @JustPassingThrough . Yes please, I'm seeing img tag inside the div meanwhile I want to use background-image and size it with background-size.. @hjchin  @JustPassingThrough  exactly my issue. Mine is inside a div too. Still haven't figured it out to work. The position of the div is fixed and not relative.. Well, I had to give guest write permission to dompdf/lib/fonts directory and everything worked. Both external font from Google and local fonts. Didn't know it has to download and cache the fonts. ",
    "hjchin": "It has been 6 years now, I have bumped into a situation that I really need background-size or something similar to show a image with aspect ratio. I can't think of and found any workaround for this. \nDoes anyone has trick for this? I have already spent 2 weeks on this library and it's likely that I have to work with alternatives. . @JustPassingThrough thanks, how could I missed that on the first read of this thread? I'm not quite understand what you wanted to achieve with the code, but I will try it out. What I wanted to achieve is something like this. \n.cover{\n    background-size: cover;\n    width: 300pt;\n    height: 200pt;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-image: url('http://www.abc.com/images/image.jpg')\n}\nor equivalent to object-fit: cover in css3.. @JustPassingThrough I don't think we are solving the same problem. correct me if i'm wrong. . @JustPassingThrough , thanks for the reply. I'm still don't fully understand it. As far as I understand from the code, it is stretching the image to cover up the whole page of A4. \nright: 0px; bottom: 0px;\nwhile my intention for the div.cover is only width: 300pt, height:200pt (this is not the actual width and height of the image), and div.cover doesn't take up the entire A4 page. Would you mind to explain further on how to achieve that?\n. I taking a workaround approach at PHP level. Dompdf is a great library, you just need a tweak sometimes. \nI will first crop the image with the PHP code, for example with this https://gist.github.com/jhbsk/4339969 and then just set the source, it would be a local image, to the img src attribute and you have the object-fit: cover effect. \nHope this helps anyone who facing the same trouble. :). @WoutB i dont think so, maybe you could try out my suggestion above.. @Eugene-Melbourne the load_font.php is now located at https://github.com/dompdf/utils. \nI find this post close to what is needed to support CKJ fonts. I installed the droidSansFallback.ttf from the link given by @asika32764 into dompdf. The Chinese works but english words appear as boxes. \n<html>\n        <head>\n            <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n            <style>\n                * {\n                    font-family: 'Droid',sans-serif;\n                }\n            </style>\n        </head>\n        <body>\n            <p>\u54c8\u54af</p><p>How are you?</p>\n        </body>\n</html>\n\nI checked the dompdf_font_family_cache.php and I have the following, which I think correct.\n'droid' => array(\n    'normal' => $fontDir . '/DroidSansFallback',\n    'bold' => $fontDir . '/DroidSansFallback',\n    'italic' => $fontDir . '/DroidSansFallback',\n    'bold_italic' => $fontDir . '/DroidSansFallback',\n  ),\nDid I miss anything? Any helps are appreciated. \nOne thing to note is that I'm using macOS and when i open the font with font book, \n\nThey are all question marks, however when I try to use it on say keynotes, the Chinese and English works without problem.\n. @workguy66 where did you get the font DroidSansFallbackFull.ttf? Can you share it?. ",
    "WoutB": "Is this implemented by now?. ",
    "bennkingy": "Implement this! :). ",
    "ancabr": "Did someone managed to use the \"value\" attribute of the li tag somehow in the PDF?\n. ",
    "pir123": "I can confirm the behavior you're reporting, and can also confirm that relocating the positioned content so that it appears on the first \"page\" is a successful workaround (at least in my case with a fixed position header and footer).\n. ",
    "craigfrancis": "Following on from Yakub Kristianto:\nhttps://groups.google.com/d/msg/dompdf/NvTKQkBPxVc/aEK_2NSk3LUJ\nHe did some really good work getting this to work so you could change the page size with multiple render() calls.\nUnfortunately his code had a couple of issues... if you introduced a new font on page 2 or later, or when you started using custom (ttf) fonts... also I think there is an issue with two or more images with the same dimensions.\nAnyway I've tried two different approaches... one extending Yakub's work, by re-indexing the font and image objects (and the references to them), which kind of works... but also one which is more a set of changes to cpdf, so you can call newDocument() multiple times (although this will need more work in regards to dompdf).\nIs there an easy way to post the code on an issue?\n. The patch for the CPDF version (incomplete) can be found at:\nhttps://groups.google.com/d/msg/dompdf/03akDzpb1mo/EsZQC0ain6AJ\n. Hi Bo, are you able to replicate it working when just using the dompdf library? i.e. without using my fork?\nThe only things my code does is try to combine the PDF's together:\nhttps://github.com/dompdf/dompdf/compare/master...craigfrancis:page-merge\nIf you look at the \"_combine_image_add\" method, it really doesn't do anything to the contents of the images... so I suspect the problem is elsewhere.\nThat said, my fork was using quite an old version of DOMPDF... so I've just done a pull from master, so that might fix it?\n. Sorry to hear that, unfortunately I don't really have the time to look though how all of this works at the moment... the fork I created was only a partial implementation so I could just stitch some basic files together... not sure if you have any experience in coding in PHP, but maybe you could ask around to find out how alpha transparency is handled in PDF's... it might just need some extra bits being copied over?\n. ",
    "gogromat": "+1\n. ",
    "Chocanto": "+1\n. ",
    "assieghost": "Can this still be added? Really necessary!. ",
    "jaredwalters": "Bump. Having the same problem. Did a fix for this ever happen?\n. We're working with \"DOMPDF 0.6.0 beta 3\".\n. \nI updated DOMPDF to the newest version and the problem persists. It should be noted that the problem only presents when you're using a custom font-face. If I strip out the font-face and use the default Times New Roman, it will place in InDesign. \nAnd it's not just InDesign. If, in Acrobat Pro, you merge multiple PDFs created with DOMPDF with a custom font and then try to delete a page, you'll get the error message shown in the screenshot.\n. I've tried saving it in Acrobat Pro and I got the same error in InDesign.\nI get a different error in Acrobat Pro if I open a generated PDF and try to insert a page, I get the error shown in the screenshot. The text in the PDF gets all jumbled looking and switches from my custom font to what looks like Arial or Helvetica.\n\n. We ran a preflight syntax error check with Acrobat Pro X and got the following in the screenshot:\n\n. Not to put any undue pressure on anyone, but we're very motivated to find a solution for this problem and would be happy to provide assistance. I'm available by email and phone if there's something related to InDesign or Acrobat Pro we can provide. I'm on twitter, http://twitter.com/jaredwalters, if you want to exchange contact information.\n. Using the 3-Heights online validator, this is what came out (with PDF/A-1b selected as processing option):\nValidating file \"216_fish-square.pdf\" for conformance level pdfa-1b\nThe offset in the xref table is not correct. (2)\nThe comment, classifying the file as containing 8-bit binary data, is missing.\nThe file trailer dictionary must have an id key.\nThe key Metadata is required but missing.\nThe separator before 'endstream' must be an EOL.\nThe key CapHeight is required but missing.\nA device-specific color space (DeviceRGB) without an appropriate output intent is used.\nA device-specific color space (DeviceCMYK) without an appropriate output intent is used.\nThe document does not conform to the requested standard.\nThe file format (header, trailer, objects, xref, streams) is corrupted.\nThe document doesn't conform to the PDF reference (missing required entries, wrong value types, etc.).\nThe document contains device-specific color spaces.\nThe document's meta data is either missing or inconsistent or corrupt.\nDone.\n. Here's an error the preflight/syntax check picked up on. There's not other information about what this required missing key is though, at least not on our end.\n\n. \"The required key /CapHeight is missing.\"\n\n. Any developments on this?\n. I tried turning off compression, same result. Still can't place it in InDesign, etc.\n. I tried it, same result in InDesign: \"Failed to open the PDF file.\"\n. That worked! I can place the document in InDesign now and the issues with Acrobat seem to be resolved as well. starts a slow clap\n. I'm having the same problem that @yonathanmunozbravo seems to be having. I wrapped an h5 and a p inside a div and set the div to \"page-break-inside: avoid\" and it breaks the div up over pages every time.\n. ",
    "dhelly": "I had the same problem in my application, but I removed the tag \"tbody\" by \"body\" in the table and it worked for me.. ",
    "ldaguise": "Hello,\nThis bug embarrasses me a lot. What is the pending solution ? I just can't remove margin on body because my header will be under my content. I tried to marge on html, on other div, but no change...\nThanks !\n. Hello,\nYes I'm on 0.6.0 (but not 0.6.1 yet)\nI have to clean my client data in my PDF before sending it to you, I try to install 0.6.1 too and come to you with all of that.\nThanks for your quick answer !\n. Here are my files (will expire 8 april - sorry I didn't know where to stock it)\nhttp://we.tl/PNunDqMS1L\nIn \"example.pdf\" we can see the problem in page 2. There is a blank space under the first table of the page. It height seems to be the header's height.\n\"example_without_css.pdf\" is a version with only minimum CSS and the bug can be seen in page 3 (in page 2 there is a page break too but no bug ? Weird)\nI put my CSS and html too.\nA BIG thank for your help...\nLucile\n. Any idea ? How did the other who had the problem ? \nI would be so glad if you could help me !\nThanks again\n. You're the best ! I previously tested in 0.6.1, 0.6.0 but I was in beta 3.\nI took this version : https://github.com/dompdf/dompdf/releases/tag/v0.6.0 and I'm apparently not in beta anymore (why I was in beta ? o_O). The blank spaces disappeared and my issue is resolved !\nThanks a lot too you ! :)\nLucile\n. ",
    "nathanpitman": "We seem to be having memory issues with tables also, a fairly small report (4 pages) with some relatively simple tables but we keep getting memory related fatal errors referencing style.cls.php and text_frame_reflower.cls.php. :/\n. Not to worry. We've decided to use a commercial alternative instead as we needed a really fast fix. I did get as far as working out that it appeared to be caused by table cells with larger amounts of text in them though, i.e. a couple of paragraphs. Removing these resolved the issue.\n. @stevebauman we used DocRaptor. Excellent product. :). ",
    "stevebauman": "@nathanpitman, would you be able to share which commercial solution you used :)?. ",
    "nguyendola": "I'm using dompdf lib to export html to pdf. I have HTML DIV fixed size 450x600(px), I want to set_pager\nA4 landscape or portrait 300dpi $dompdf->set_paper(array(0,0,$width,$height),'landscape')  but it not fit full A4, how can i do it? Pls help me. Thanks!\n. ",
    "vannewman": "The easiest way to control pdf file name is through \"filename\" attribute in Content-Disposition header.  But this technique forces a pdf download instead of opening it in the browser (through Acrobat).\nIn the second case (open pdf in browser --> Acrobat), there is not a way to control the file name.  Infact if you press \"Save\", Acrobat shows you a filename built using the page name and \".pdf\".for  examples, if you try to save the pdf created by CreatePdf.aspx, Acrobat choose \"createpdf.pdf\" as filename. I have found no way to change it (Content-Disposition + inline + filename does not work).\nhttps://docs.google.com/document/d/1aIW7sRMGTZc8Whar2t1e6WAMF9-ifdTO6WSw8-EClFY/preview. ",
    "thedevsaddam": "I have the same problem like this one: \u09a6\u09c1\u0987 \u09ae\u09be\u09b8\u09c7\u09b0 \u09aa\u09bf\u09a4\u09c3 \u09a4 \u09cd\u09ac\u0995\u09be\u09b2\u09c0\u09a8 \u099b\u09c1 \u099f \u09bf \u09a8\u09c7\u09ac\u09c7\u09a8 \u09ab\u09c7\u09b8\u09ac\u09c1 \u0995 \u09c7\u09b0 \u09aa\u09cd\u09b0\u09a7\u09be\u09a8 \u09a8\u09bf\u09b0\u09cd\u09ac\u09be\u09b9\u09c0 \u0995\u09b0\u09cd\u09ae\u0995\u09b0\u09cd\u09a4\u09be (\u09b8\u09bf\u0987\u0993) \u09ae\u09be\u09b0\u09cd\u0995 \u099c\u09be\u0995\u09be\u09b0\u09ac\u09be\u09b0\u09cd\u0997\n. ",
    "mimehedi166": "hello guys,\nI think i found the solution of this problem. i've tried some library (dompdf, TCPDF,FPDF,mPDF) which support PHP but not all of them are work properly. I didn't find any unicode support with dompdf, \ntcpdf worked but the fonts are broken. so i tried mPDF and it gave me my expected output. \ni'm using this library to my laravel project. To using mPDF with laravel project you need to follow the documentation of laravel-mpdf.\n link: https://github.com/niklasravnsborg/laravel-pdf\nafter installed the library successfully what you have to do this following steps for other language or bangla support.\n\nfirst download the fonts for your supported language (i.e: for bangla i've downloaded solaimanLipi.ttf) and keep it to your fonts folder inside the resources folder. if there is no fonts folder just create it.\n2.In config/pdf.php file add these codes inside of return array\n\n```\n'font_path' => base_path('resources/fonts/'),\n    'font_data' => [\n        'examplefont' => [\n            'R'  => 'ExampleFont-Regular.ttf',    // regular font\n            'B'  => 'ExampleFont-Bold.ttf',       // optional: bold font\n            'I'  => 'ExampleFont-Italic.ttf',     // optional: italic font\n            'BI' => 'ExampleFont-Bold-Italic.ttf' // optional: bold-italic font\n            'useOTL' => 0xFF,  \n            'useKashida' => 75, \n        ]\n        // ...add as many as you want.\n    ]\n```\nexamplefont is your attribute name whatever you want to use. but inside this attribute paste your font name.\nExample:\n'bangla' => [\n            'R'  => 'SolaimanLipi.ttf',    // regular font\n            'B'  => 'SolaimanLipi.ttf',       // optional: bold font\n            'I'  => 'SolaimanLipi.ttf',     // optional: italic font\n            'BI' => 'SolaimanLipi.ttf' // optional: bold-italic font\n            'useOTL' => 0xFF,   \n            'useKashida' => 75, \n        ]\nnow in your view file use this CSS Scripts:\n<style>\nbody {\n    font-family: 'examplefont', sans-serif;\n}\n</style>\nIn Your Controller:\nfunction generate_pdf() {\n    $data = [\n        'foo' => 'bar'\n    ];\n    $pdf = PDF::loadView('pdf.document', $data);\n    return $pdf->stream('document.pdf');\n}\nHints: pdf.document is your view file name.\nUse PDF at the top in your namespace\nIf you follow this step correctly ,it will work 100%.\nThis is my output\n\nN.B: This is my first post. if i did any mistakes to write review in correct format please consider it take it lightly. \nThank You, \nMahabubul Islam Mehedi\n. \nI think i found the solution of this problem. i've tried some library (dompdf, TCPDF,FPDF,mPDF) which support PHP but not all of them are work properly. I didn't find any unicode support with dompdf, tcpdf worked but the fonts are broken. so i tried mPDF and it gave me my expected output. i'm using this library to my laravel project. To using mPDF with laravel project you need to follow the documentation of laravel-mpdf. link: https://github.com/niklasravnsborg/laravel-pdf\nafter installed the library successfully what you have to do this following steps for other language or bangla support.\n1. first download the fonts for your supported language (i.e: for bangla i've downloaded solaimanLipi.ttf) and keep it to your fonts folder inside the resources folder. if there is no fonts folder just create it.\n2.In config/pdf.php file add these codes inside of return array\n'font_path' => base_path('resources/fonts/'),\n    'font_data' => [\n        'examplefont' => [\n            'R'  => 'ExampleFont-Regular.ttf',    // regular font\n            'B'  => 'ExampleFont-Bold.ttf',       // optional: bold font\n            'I'  => 'ExampleFont-Italic.ttf',     // optional: italic font\n            'BI' => 'ExampleFont-Bold-Italic.ttf' // optional: bold-italic font\n            'useOTL' => 0xFF,    \n            'useKashida' => 75, \n        ]\n        // ...add as many as you want.\n    ]\nexamplefont is your attribute name whatever you want to use. but inside this attribute paste your font name.\nExample:\n'bangla' => [\n            'R'  => 'SolaimanLipi.ttf',    // regular font\n            'B'  => 'SolaimanLipi.ttf',       // optional: bold font\n            'I'  => 'SolaimanLipi.ttf',     // optional: italic font\n            'BI' => 'SolaimanLipi.ttf' // optional: bold-italic font\n            'useOTL' => 0xFF,   \n            'useKashida' => 75, \n        ]\nnow in your view file use this CSS Scripts:\n<style>\nbody {\n    font-family: 'examplefont', sans-serif;\n}\n</style>\nIn Your Controller:\nfunction generate_pdf() {\n$data = [\n        'foo' => 'bar'\n    ];\n    $pdf = PDF::loadView('pdf.document', $data);\n    return $pdf->stream('document.pdf');\n}\nHints: pdf.document is your view file name. Use PDF at the top in your namespace\nIf you follow this step correctly ,it will work 100%. \nThis is my output\n\nN.B: This is my first post. if i did any mistakes to write review in correct format please consider it take it lightly. Thank You, Mahabubul Islam Mehedi\n. yes. if u see my comment on github then I already gave a solution on there.\nplease see that\nOn Tue, May 29, 2018, 4:01 PM Mehedi Hasan Shamim notifications@github.com\nwrote:\n\ni used dompdf version 0.8.1 but i can not include bangla font yet.\ndo you have any solution\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1349#issuecomment-392722338, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHln9UmZh2MfaeovCj6t78SlbY6_X-d2ks5t3RxhgaJpZM4LkiNA\n.\n. \n",
    "simison": "In case anyone needs to replace their nth-child CSS with something that works with dompdf:\n\nth + th = nth-child(2)\n. +1, this bug still exists with 0.7.x beta versions.\n\nI have no way of removing img { display: inline-block; } styles from the pages I'm rendering, but this helped:\ncss\nimg {\n  display: -dompdf-image !important;\n}\n. ",
    "jlocashio": "If it helps, I ran into the same issue on a table I was trying to render; lots of white space in cells that wasn't there in the HTML.\nI discovered that I had a style for strong elements that included \"line-height:inherit;\", which was throwing every cell with a strong  tag way off. I removed that style and the table rendered properly.\n. ",
    "TeckniX": "I have a similar issue, but with <p> tag - it seems that with different fonts, the actual line-height isn't respected at all and there is at 55pt difference between the lines, that shouldn't be there. (567ptx810pt doc)\nIf I throw the html on the page, it's properly spaced.\n. Yup I could see the name collision issue - I do like the ability to recognize the font names within the folder/library, instead of seeing the md5. Conflicts usually mean that you're trying to upload a font that already exists.\nI think you're right a mash-up of both would work well, since technically if you upload 2 files named the same way, you're going to have the exact same md5. \n. In the past I've gone through and adjusted the fonts manually, but it becomes tedious if you have more than 1 font to support. Thanks for taking this into consideration!\n. ",
    "bacinsky": "+1\n. Hi, I just PHAR the dompdf but after it gives me  'DOMPDF_Exception' with message 'No block-level parent found. Not good.' in .../include/inline_positioner.cls.php:68 So I added above hack and it works. Nor rendering a HTML file or reference a resource from a PHAR.\n. ",
    "jjperez89": "I had the same error but debugging my code, i was sent an empty string in \n$dompdf->loadHtml($html);\n. ",
    "shanroo": "Why need a JS compiler for this? You can grab the current state of body with document.body.innerHTML and then post to generator php with a form or some ajax. If user want to export the page, simply post back the page wich rendered on client side. It's about 20 lines of JS, but the implementation may took thousands of them. And you can save a lot of server usage because not need to generate the base html again and not need to run the implemented JS compiler to do the same thing what browser did.\n. ",
    "jbogdani": "Hello,\nI think I'm experiencing the same issue here: http://stackoverflow.com/questions/16387015/paragraph-breaks-irregularly\n. Hello, any news on this issue, or any workarourd?\n. ",
    "stoopkid1": "No it does not. I removed all \"px\" attributes. For the life of me I cannot figure out what is causing this problem. Is there a specific way to assign CSS to a table using this library?\n. \n\nHere are screenshots of the table in the browser, and then the table PDF output\n. it is, all of the information is fake.\n. thanks PhenX. most of the styling was generated by MS Word, since i used that to create the table/form, and then saved it as an HTML document. i'll make those styling changes and post my results tomorrow. thank you for your input PhenX, it's greatly appreciated!\n. does the render read the inline css, external stylesheet, or the css declared between ",
    "benfraley": "Hope that's a fake ssn\nSent from my iPhone\nOn Dec 12, 2012, at 4:45 PM, stoopkid1 notifications@github.com wrote:\n[image: screenshot_00001]https://f.cloud.github.com/assets/2205744/9495/980a501e-44ad-11e2-9376-b23fc8bdad32.jpg\n[image: screenshot_00002]https://f.cloud.github.com/assets/2205744/9496/9c645bb4-44ad-11e2-81c0-2e3b25209b17.jpg\nHere are screenshots of the table in the browser, and then the table PDF\noutput\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/dompdf/dompdf/issues/569#issuecomment-11313584.\n. ",
    "hungvt": "The problem hasn't been solved yet.\nTry to convert this html file to PDF then you will see: http://173.236.70.37/html_sample.html\nThe footer \"Thanks for your business\" only display in the second page. I want the footer is displayed in every page.\nAlso is there any way to add the page number without using php script?\nin example: \n<div class=\"page-number\">{{PAGE_NUM}}</div>\n. I tried with your suggestion. but the footer is only displayed on the first page.. Yes, it works ,thank you!\nHow is about the page number? do you know how to add the page number without using php script?\n. Thank you so much, That's exactly what i need. \ni'm wondering is there a similar way to add page count?\n. Thanks for your reply.\ni have a html document like this:\ncss\n.page {\n    page-break-after:always;\n}\n``` html\n\n...\n\n\n\n...\n\n\n\n...\n\n\n\n...\n\n\n```\nIn this example i have 4 pages and i want to have header & footer for each page.\nI can do this by using \ncss\nposition: absolute;\nBut there is a problem that if the page1 have a lot of content and it overflows to new page. So the page1 will be rendered to 2 PDF pages and the header only is displayed on first PDF page and the footer only is displayed on the second PDF page.\ni'm appreciated if you point me how to do it.\n. Each DIV page will have different header/footer. Could you please explain for me how to do it?\n. Thank you for your reply. it's exactly what i want. but i have a bug with this. Could you point me how to solve it?\nTry with this code and you will see the problem.\n``` html\n\n\n\n.header { position: absolute; top: 0px; left: 0px; right: 0px; }\n.header .content {  background-color: black; color: white; text-align: center; }\n.footer { position: absolute; bottom: 0px; left: 0px; right: 0px; }\n.footer .content { background-color: black; color: white; text-align: center; }\n.section { page-break-after: always;padding-top: 10px; position: relative;}\n.section-first {}\n\n\n\n\n  $GLOBALS['current_head_foot'] = 0;\n  $GLOBALS['headers'] = array();\n  $GLOBALS['footers'] = array();\n  $GLOBALS['increment'] = array();\n\n\n\n$GLOBALS['headers'][$GLOBALS['current_head_foot']] = $pdf->open_object();\nSection 1 headerSection 1 headerSection 1 header\n$pdf->close_object();\n\n\n$GLOBALS['footers'][$GLOBALS['current_head_foot']] = $pdf->open_object();\nSection 1 footer\n$pdf->close_object();\n\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vulputate suscipit nibh, non lacinia tortor ullamcorper et. Integer tortor sem, rhoncus fringilla porta vitae, laoreet a purus. Etiam vitae urna vel nulla blandit laoreet id vel magna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras euismod est ut mi rhoncus at porta risus aliquet. Sed in dolor risus. Aenean at libero hendrerit lectus elementum pellentesque. Vivamus malesuada, metus ac mollis tincidunt, massa libero tristique lacus, egestas elementum nibh sem id urna.\n\n\nNunc neque mi, vehicula nec tempus eu, malesuada eu dui. Donec sed diam enim. Duis fringilla, tellus non venenatis imperdiet, metus velit convallis nisl, sit amet sollicitudin justo erat ac arcu. Ut quis adipiscing ante. Phasellus purus ante, scelerisque et bibendum nec, commodo nec mi. Fusce aliquet, dolor sit amet semper vehicula, mauris dolor pellentesque tellus, a vulputate nisi libero vitae nisl. Integer suscipit, lacus at posuere consectetur, nibh felis malesuada felis, a bibendum diam velit sed libero. Proin tempus tincidunt augue sed lobortis. Vestibulum commodo lectus vitae diam iaculis ultricies. Ut lacus felis, bibendum vitae rutrum quis, convallis in quam. Aliquam nec leo metus, ut gravida quam. Nullam sed lorem erat, quis placerat lacus. Nunc tortor nisl, vehicula in aliquam ac, sollicitudin ut sapien. Pellentesque vitae neque purus.\n\n\nInteger ullamcorper iaculis diam eget facilisis. Donec at neque ante, quis tempor lorem. Mauris lobortis nulla felis, eget vestibulum elit. Nullam aliquet bibendum convallis. Etiam nec mi orci. Praesent libero nibh, laoreet non dapibus ac, ullamcorper vitae erat. Morbi semper elit ac nibh commodo posuere. Duis in risus mauris. Suspendisse aliquam, nisi non mattis consectetur, urna augue aliquam leo, ut aliquet lectus urna sed libero. Quisque eu lectus ac lacus mollis porttitor. Morbi a velit metus, eu feugiat risus. Sed vulputate diam ornare magna pulvinar dignissim laoreet nulla hendrerit. Mauris quis massa quis velit vulputate bibendum ut eget ligula. Mauris sit amet dui eu turpis blandit fermentum. Donec dapibus diam vel mi tincidunt fermentum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.\n\n\nPraesent purus arcu, condimentum ac accumsan quis, pulvinar quis orci. Ut massa arcu, eleifend vitae tincidunt id, egestas sed erat. Donec pretium porta tellus, eu tincidunt arcu sodales vitae. Cras convallis scelerisque mi, et bibendum libero feugiat eu. Nulla facilisi. Praesent in turpis eget purus tempor mattis at in ligula. Nunc nec erat a urna iaculis laoreet. Donec eu leo mauris. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;\n\n\nNullam magna lorem, volutpat vel auctor in, bibendum a nisl. Vivamus pretium mollis tempus. Nulla ligula augue, porttitor quis luctus ut, varius sit amet ante. Pellentesque id est dui, in dignissim justo. Sed placerat ornare laoreet. In ligula dui, interdum sed pellentesque sit amet, accumsan nec enim. Duis convallis diam massa, sed condimentum sem. In faucibus, ipsum vel mollis auctor, lacus lacus aliquet leo, et bibendum ante dolor vel augue. Cras varius, metus sed tempus varius, arcu sem venenatis diam, ut elementum ligula tortor eu dolor.\n\n\nAliquam facilisis molestie congue. Suspendisse vel ante sapien. Nulla posuere ultricies tincidunt. Pellentesque mauris magna, ullamcorper vel gravida vel, mattis sed mi. Phasellus condimentum lobortis elit, quis commodo augue porta volutpat. Sed rhoncus augue ut magna consequat non aliquam ligula rutrum. Nam eu nunc nisl, id ultricies justo. Vestibulum eget sem mauris, quis gravida urna. Morbi porta neque et elit suscipit at auctor massa lobortis. Duis nisl urna, rhoncus at scelerisque nec, laoreet posuere risus. Nam faucibus mattis massa, ut condimentum diam dignissim dignissim. Aliquam erat volutpat. Nullam lorem odio, fermentum sed varius quis, sollicitudin eget risus. Fusce in ante lectus, non rhoncus ipsum.\n\n\nNullam convallis convallis lobortis. Sed sit amet est a purus bibendum porta in a tortor. Phasellus sed consequat ipsum. Nulla facilisi. Sed nisi odio, auctor eget aliquam non, mattis non velit. Mauris eget nibh turpis. In vel fringilla urna. Quisque vitae magna vel nulla tristique vulputate et quis mauris. Ut pellentesque accumsan est vel tincidunt. Praesent vehicula enim eget magna euismod rutrum. Duis euismod vehicula turpis et venenatis. Vestibulum auctor magna vel nibh vestibulum id scelerisque tellus vulputate. Integer volutpat, enim et vehicula blandit, mauris nisl laoreet nisl, vel accumsan arcu arcu eu orci. Phasellus viverra risus in nulla imperdiet suscipit.\n\n\nPraesent varius rhoncus quam at congue. Vestibulum fermentum lorem non mauris gravida fermentum. Duis tempus metus tellus. Vivamus blandit elementum sem. Duis mollis, urna eget fringilla dignissim, arcu ligula auctor orci, ut vestibulum eros magna at metus. Suspendisse turpis erat, dictum non accumsan a, vestibulum eu libero. Sed mauris leo, vulputate sit amet pharetra a, vulputate in odio.\n\n\nIn et lorem non nunc malesuada auctor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec semper magna in est faucibus vestibulum. Ut condimentum, orci et gravida pulvinar, est ligula congue quam, eu iaculis est nisi eu nisi. Aenean ac eleifend nisi. Nunc tortor lectus, rutrum ac facilisis fringilla, faucibus nec lacus. Cras dictum, nisi vitae ultrices varius, elit velit accumsan metus, quis laoreet leo diam vitae erat. Vestibulum dapibus dolor justo.\n\n\nPraesent ornare, risus eget tincidunt volutpat, tellus dolor eleifend felis, in ullamcorper diam eros id sem. Integer ut nisi non nibh elementum viverra ut quis mi. Aliquam magna urna, varius at dictum in, laoreet nec nibh. Pellentesque lobortis turpis et ante ultricies lacinia. Duis eu orci ipsum, eu tincidunt massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec augue non arcu auctor ornare id ac massa. Donec vel orci a nisl eleifend pharetra. Suspendisse arcu risus, posuere et ultrices tempus, rhoncus id mauris. Proin tincidunt fringilla rhoncus. Quisque sapien arcu, sagittis ut vehicula nec, vulputate vel purus. Fusce in dolor lacus, sed tristique tortor. Morbi turpis ante, vestibulum id fringilla id, dapibus eget libero.\n\n\nSed erat erat, ultrices id commodo eu, scelerisque ut lectus. Vestibulum molestie cursus justo, id fringilla felis ullamcorper ut. Proin ornare massa et nunc placerat ac iaculis magna cursus. Aenean venenatis, augue non dignissim imperdiet, libero leo fermentum nisi, a tristique libero ipsum in orci. Sed pharetra dapibus metus ac cursus. Sed tristique dignissim nulla, sit amet auctor felis commodo vel. Nam vitae velit sapien, vitae eleifend erat. Morbi vel orci quis quam rutrum vehicula tempor vel lorem. Sed ac justo viverra lectus blandit scelerisque sit amet nec purus. Aenean sed adipiscing nibh. Fusce pulvinar fermentum diam, nec vulputate sem euismod sit amet.\n\n\nUt rutrum fermentum lectus non consequat. Duis scelerisque iaculis sem vitae suscipit. Mauris auctor suscipit elit ut dictum. Aenean posuere nisi non tortor tempor non aliquet risus auctor. Suspendisse potenti. Vestibulum ultrices, nibh aliquam tincidunt consequat, nulla nisl gravida felis, in rhoncus purus sapien ac quam. Vivamus nisi lectus, convallis nec tempus vitae, sodales in eros. In at enim et risus pellentesque imperdiet. Nunc et dolor urna. Mauris felis felis, ultricies quis eleifend vitae, dignissim ornare leo. Nunc nibh felis, pulvinar vitae facilisis quis, tempus in nisl.\n\n\n\n$GLOBALS['increment'][] = $pdf->get_page_number(); $GLOBALS['current_head_foot']++;\n\n$GLOBALS['headers'][$GLOBALS['current_head_foot']] = $pdf->open_object();\nSection 2 header\n$pdf->close_object();\n\n\n$GLOBALS['footers'][$GLOBALS['current_head_foot']] = $pdf->open_object();\nSection 2 footer\n$pdf->close_object();\n\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vulputate suscipit nibh, non lacinia tortor ullamcorper et. Integer tortor sem, rhoncus fringilla porta vitae, laoreet a purus. Etiam vitae urna vel nulla blandit laoreet id vel magna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras euismod est ut mi rhoncus at porta risus aliquet. Sed in dolor risus. Aenean at libero hendrerit lectus elementum pellentesque. Vivamus malesuada, metus ac mollis tincidunt, massa libero tristique lacus, egestas elementum nibh sem id urna.\n\n\nNunc neque mi, vehicula nec tempus eu, malesuada eu dui. Donec sed diam enim. Duis fringilla, tellus non venenatis imperdiet, metus velit convallis nisl, sit amet sollicitudin justo erat ac arcu. Ut quis adipiscing ante. Phasellus purus ante, scelerisque et bibendum nec, commodo nec mi. Fusce aliquet, dolor sit amet semper vehicula, mauris dolor pellentesque tellus, a vulputate nisi libero vitae nisl. Integer suscipit, lacus at posuere consectetur, nibh felis malesuada felis, a bibendum diam velit sed libero. Proin tempus tincidunt augue sed lobortis. Vestibulum commodo lectus vitae diam iaculis ultricies. Ut lacus felis, bibendum vitae rutrum quis, convallis in quam. Aliquam nec leo metus, ut gravida quam. Nullam sed lorem erat, quis placerat lacus. Nunc tortor nisl, vehicula in aliquam ac, sollicitudin ut sapien. Pellentesque vitae neque purus.\n\n\nInteger ullamcorper iaculis diam eget facilisis. Donec at neque ante, quis tempor lorem. Mauris lobortis nulla felis, eget vestibulum elit. Nullam aliquet bibendum convallis. Etiam nec mi orci. Praesent libero nibh, laoreet non dapibus ac, ullamcorper vitae erat. Morbi semper elit ac nibh commodo posuere. Duis in risus mauris. Suspendisse aliquam, nisi non mattis consectetur, urna augue aliquam leo, ut aliquet lectus urna sed libero. Quisque eu lectus ac lacus mollis porttitor. Morbi a velit metus, eu feugiat risus. Sed vulputate diam ornare magna pulvinar dignissim laoreet nulla hendrerit. Mauris quis massa quis velit vulputate bibendum ut eget ligula. Mauris sit amet dui eu turpis blandit fermentum. Donec dapibus diam vel mi tincidunt fermentum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.\n\n\nPraesent purus arcu, condimentum ac accumsan quis, pulvinar quis orci. Ut massa arcu, eleifend vitae tincidunt id, egestas sed erat. Donec pretium porta tellus, eu tincidunt arcu sodales vitae. Cras convallis scelerisque mi, et bibendum libero feugiat eu. Nulla facilisi. Praesent in turpis eget purus tempor mattis at in ligula. Nunc nec erat a urna iaculis laoreet. Donec eu leo mauris. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;\n\n\nNullam magna lorem, volutpat vel auctor in, bibendum a nisl. Vivamus pretium mollis tempus. Nulla ligula augue, porttitor quis luctus ut, varius sit amet ante. Pellentesque id est dui, in dignissim justo. Sed placerat ornare laoreet. In ligula dui, interdum sed pellentesque sit amet, accumsan nec enim. Duis convallis diam massa, sed condimentum sem. In faucibus, ipsum vel mollis auctor, lacus lacus aliquet leo, et bibendum ante dolor vel augue. Cras varius, metus sed tempus varius, arcu sem venenatis diam, ut elementum ligula tortor eu dolor.\n\n\nAliquam facilisis molestie congue. Suspendisse vel ante sapien. Nulla posuere ultricies tincidunt. Pellentesque mauris magna, ullamcorper vel gravida vel, mattis sed mi. Phasellus condimentum lobortis elit, quis commodo augue porta volutpat. Sed rhoncus augue ut magna consequat non aliquam ligula rutrum. Nam eu nunc nisl, id ultricies justo. Vestibulum eget sem mauris, quis gravida urna. Morbi porta neque et elit suscipit at auctor massa lobortis. Duis nisl urna, rhoncus at scelerisque nec, laoreet posuere risus. Nam faucibus mattis massa, ut condimentum diam dignissim dignissim. Aliquam erat volutpat. Nullam lorem odio, fermentum sed varius quis, sollicitudin eget risus. Fusce in ante lectus, non rhoncus ipsum.\n\n\nNullam convallis convallis lobortis. Sed sit amet est a purus bibendum porta in a tortor. Phasellus sed consequat ipsum. Nulla facilisi. Sed nisi odio, auctor eget aliquam non, mattis non velit. Mauris eget nibh turpis. In vel fringilla urna. Quisque vitae magna vel nulla tristique vulputate et quis mauris. Ut pellentesque accumsan est vel tincidunt. Praesent vehicula enim eget magna euismod rutrum. Duis euismod vehicula turpis et venenatis. Vestibulum auctor magna vel nibh vestibulum id scelerisque tellus vulputate. Integer volutpat, enim et vehicula blandit, mauris nisl laoreet nisl, vel accumsan arcu arcu eu orci. Phasellus viverra risus in nulla imperdiet suscipit.\n\n\nPraesent varius rhoncus quam at congue. Vestibulum fermentum lorem non mauris gravida fermentum. Duis tempus metus tellus. Vivamus blandit elementum sem. Duis mollis, urna eget fringilla dignissim, arcu ligula auctor orci, ut vestibulum eros magna at metus. Suspendisse turpis erat, dictum non accumsan a, vestibulum eu libero. Sed mauris leo, vulputate sit amet pharetra a, vulputate in odio.\n\n\nIn et lorem non nunc malesuada auctor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec semper magna in est faucibus vestibulum. Ut condimentum, orci et gravida pulvinar, est ligula congue quam, eu iaculis est nisi eu nisi. Aenean ac eleifend nisi. Nunc tortor lectus, rutrum ac facilisis fringilla, faucibus nec lacus. Cras dictum, nisi vitae ultrices varius, elit velit accumsan metus, quis laoreet leo diam vitae erat. Vestibulum dapibus dolor justo.\n\n\nPraesent ornare, risus eget tincidunt volutpat, tellus dolor eleifend felis, in ullamcorper diam eros id sem. Integer ut nisi non nibh elementum viverra ut quis mi. Aliquam magna urna, varius at dictum in, laoreet nec nibh. Pellentesque lobortis turpis et ante ultricies lacinia. Duis eu orci ipsum, eu tincidunt massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec augue non arcu auctor ornare id ac massa. Donec vel orci a nisl eleifend pharetra. Suspendisse arcu risus, posuere et ultrices tempus, rhoncus id mauris. Proin tincidunt fringilla rhoncus. Quisque sapien arcu, sagittis ut vehicula nec, vulputate vel purus. Fusce in dolor lacus, sed tristique tortor. Morbi turpis ante, vestibulum id fringilla id, dapibus eget libero.\n\n\nSed erat erat, ultrices id commodo eu, scelerisque ut lectus. Vestibulum molestie cursus justo, id fringilla felis ullamcorper ut. Proin ornare massa et nunc placerat ac iaculis magna cursus. Aenean venenatis, augue non dignissim imperdiet, libero leo fermentum nisi, a tristique libero ipsum in orci. Sed pharetra dapibus metus ac cursus. Sed tristique dignissim nulla, sit amet auctor felis commodo vel. Nam vitae velit sapien, vitae eleifend erat. Morbi vel orci quis quam rutrum vehicula tempor vel lorem. Sed ac justo viverra lectus blandit scelerisque sit amet nec purus. Aenean sed adipiscing nibh. Fusce pulvinar fermentum diam, nec vulputate sem euismod sit amet.\n\n\nUt rutrum fermentum lectus non consequat. Duis scelerisque iaculis sem vitae suscipit. Mauris auctor suscipit elit ut dictum. Aenean posuere nisi non tortor tempor non aliquet risus auctor. Suspendisse potenti. Vestibulum ultrices, nibh aliquam tincidunt consequat, nulla nisl gravida felis, in rhoncus purus sapien ac quam. Vivamus nisi lectus, convallis nec tempus vitae, sodales in eros. In at enim et risus pellentesque imperdiet. Nunc et dolor urna. Mauris felis felis, ultricies quis eleifend vitae, dignissim ornare leo. Nunc nibh felis, pulvinar vitae facilisis quis, tempus in nisl.\n\n\n\n    $GLOBALS[\"current_head_foot\"] = 0;\n    $pdf->page_script('\n        if (in_array($PAGE_NUM,$GLOBALS[\"increment\"])) {\n            $pdf->stop_object($GLOBALS[\"headers\"][$GLOBALS[\"current_head_foot\"]]);\n            $pdf->stop_object($GLOBALS[\"footers\"][$GLOBALS[\"current_head_foot\"]]);\n            $GLOBALS[\"current_head_foot\"]++;\n        } \n        $pdf->add_object($GLOBALS[\"headers\"][$GLOBALS[\"current_head_foot\"]],\"add\");\n        $pdf->add_object($GLOBALS[\"footers\"][$GLOBALS[\"current_head_foot\"]],\"add\");\n    ');\n\n\n\n```\nThis is the result\n\nI tried to put padding-top for .section class but it only works fine for first page.\n\nThis is what happen with the footer of first page and the header of second page:\n\ni'm waiting for your reply.\n. Do you have any samples to do this using Zend Framework?\n. Thank you.\nI found this too. it works fine with me. I'm using ZF too.\n. ",
    "hergy88": "Hi bsweeney,\nThank you so much for the advice!\nI had the problem not was printing the footer on the first page, but only in the other. It works perfectly if i put footer at the top HTML.. ",
    "dpbcharith": "thanks . ",
    "master455": "A little observation:\nIf you are using Phalcon PHP Framework (i'm using 3.2 version) and you want this behavior, in Action to generate pdf must put:\n```\n$this->view->disable(); // disable output view \n// disable all parents rendering levels\n$this->view->disableLevel(\n            array( \n                View::LEVEL_BEFORE_TEMPLATE => true,\n                View::LEVEL_LAYOUT          => true,\n                View::LEVEL_AFTER_TEMPLATE  => true,\n                View::LEVEL_MAIN_LAYOUT     => true\n            )\n        );\n```\nOn the contrary, DomPDF only generate Header and Footer in first page and it don't in all pages. \n. ",
    "vkeranov": "Hey, no problem... I am not here to argue, but all this code (as styling) is a mess. Just check lib/class.pdf.php\nIt's full of extra spaces... I will not call this \"coding style\", looks more like a \"late at night work\". Just keep in mind that if you decide to clean this (in all the files, with tabs instead spaces and removing of the extra spaces), you can save almost 20% of the whole dompdf package... And good coding, with less space is something that I prefer (:\n. Okay, closing this one, as not acceptable (:\n. @bsweeney, big thank you for this answer. Just one last question though...\nYou said I don't need php-font-lib if I want to use the core fonts, located at /lib/fonts. Does it mean I can not use another font (Arial for example) if iI just drop the font files in this folder?\nThanks again!\n. Got it!\nActually with dompdf 0.6.x I am able to use Arial by simply adding the font files in /lib/fonts. I am also adding the font in /lib/fonts/dompdf_font_family_cache.dist.php\nAnd then I am using an external css file where I am declaring Arial as my main font. Will this be the same with 0.7.0?\n. I can confirm this. Using latest develop and DejaVu Sans. The result is only some square symbols. But when I copy and paste those in a simple text file, the text shows correctly.\n. And why keeping def, bt, print_memusage, enable_mem_profile, mark_memusage since they're not used at all?\n. My personal opinion is... Keep it as clean as possible. The code has too many deprecated functions already. So, I hope some cleaning will come.\n. Ofcourse @bsweeney has the final word. But I can not understand why the devs are so careful about the upcoming 0.7.0 release. Since those functions are not used at all, keeping them is not needed. We're not braking any backwards compatibility, so +1 for removing.\n. @bsweeney, what do you think?\n. \"Creator\" field shouldn't be hardcoded. The user should be able to configure it. If not, then the default should be \"DOMPDF\".\n. +1\n. +1 for this one. Selecting the page to output is a must have.\n. is this updated with the latest develop? I mean this one:\nhttps://github.com/dompdf/dompdf/commit/62d72ad24b546e1482bf22c684857c2267046b5b\nBecause I really like this feature and I want to use it. Still don't know why this is not merged yet...\n. Well I see your point and I understand your opinion for keeping it private. But the big picture is different. We do have a lots of deprecated stuff which just makes the code size bigger and bigger. If something is deprecated then it means that all other places where it is used should be updated also. Just see functions like load_html_file, remove_text_nodes, enable_caching, parse_default_view, output_html... All those are marked as deprecated, but they are used everywhere.\nIf a developer marks some piece of the code as deprecated, he should also update the code and replace the calls where those functions are used. You're working on a new version which is full of these. It doesn't make sense...\n. I've just commented out output() and it fixed the problem:\nphp\n// $pdf = $dompdf->output();\n$dompdf->stream();\nActually what's the difference between output and stream? Even in the Wiki they seem similar.\nBut almost in every example both are used.\n. The question is why it is not working... I've compared the code between 0.7.0 beta and 0.6.1 and both methods stream() and output() are basically the same. The bug is really critical because as I said almost in every example they are both used.\n. ",
    "s3lf": "Thank you @bsweeney,\nRight - the bottom padding disappears, but it still starts rendering on the wrong page.\nFurthermore, I noticed another strange behaviour (with the current version as well as with the old one): if I set the @page bottom margin to certain values like eg 40px - just changing line 13 in the template.php file to \nmargin: 80px 60px 40px 40px !important;\n-> the generator will hang up, exceeding the execution time.\n(Fatal error: Maximum execution time of 300 seconds exceeded in I:\\web_vorlagen_\\test\\pdfgen\\dompdf-master\\include\\page_frame_decorator.cls.php on line 505)\nSo now its\n- page-break-inside:avoid not working\n- dompdf hangup using the template file with certain @page bottom margins\nThanks in advance\n. That would be great, I have a slightly disgruntled customer waiting for me to fix his pdfs ;)\nRegarding the hangup, I'm gonna investigate a bit more as soon as I can spare some time. Maybe it's a server issue, I am gonna open another report if i find something.\nAnyways kudos to the dompdf team, it's a great tool!\n. ",
    "ka6942": "guess I found the reason for the top border of DIVs beeng rendered on the previons page\nwhen there is a page break with CSS \"page-break-inside:avoid\" applied:\nJust delete the \"$prev &&\"  from Line 290 of page_frame_decorator.cls.php\nif ($prev && $parent && $parent->get_style/()->page_break_inside === avoid) ... \nthen it works (the first possible location to break must not be forgotten here - that is directly\nafter the top-border of the wrapping DIV - and there it unfortunately used to break)\ngreat work - jjust difficult to debug with all of its inheritance and overloading, multiple recursion, bells and wistles ...\nthanks a lot\n. ",
    "jtresponse": "On 12/01/13 01:41, Brian Sweeney wrote:\n\nWhich version of dompdf and what back end are you using? In my testing \nwith various versions of dompdf and the CPDF back end I haven't been \nable to reproduce this issue.\nLooks like I may have got an old version by mistake.\nI can't see a version number anywhere, but the change log has dates of \n2006 !\n\nI'll try a new version, when I get a chance.\n(In the mean time - removing the link tags around the email address is a \ngood fix as acrobat recognises them and makes them links anyway.)\nThanks\nJohnT\n. ",
    "mechjagger": "Good point, I see the solution isn't quite easy, even traversing the next element in the dom seems complicated and would add overhead.  I found this particularly difficult to locate though, might be best to let the end application deal with redundant spaces, it is far easier to solve for that then track down a trimming like this.\nI've gone back and forth with ideas to solve this, but of course I know very little of the inner workings of the code base.  I imagine to parse the next element requires quite a bit of method calls and overhead making it complicated and not feasible.  I think an easier solution would be solve for spaces before the html enters the dom object, using preg_match to test for the condition something like (\\ <[^<>]*>\\ ). \n. ",
    "beckspaced": "ok ... just figured it out by myself ;-)\nhttp://httpd.apache.org/docs/2.2/howto/auth.html\n\nAuthType Basic\nAuthName intranet\nAuthUserFile /www/passwd/users\nAuthGroupFile /www/passwd/groups\nRequire group customers\nOrder allow,deny\nAllow from internal.com\nSatisfy any\n\nthis makes it password protected and also allows from internal.com ... \nsatisfy any does the magic\nthis might probably help someone else?\ngreetings\nbecki\n. ",
    "jacquesulje": "Thank you for your swift reply. \nIt seems it happens with multiple fonts, I can only test two variants: \n- if I try the font Arial (it contains unicode chars: arabic, ivriet, cyrillic, etc.) as only fontsetting the fatal error gets generated, \n- when I use deja vu sans as only font setting a fatal error gets also generated\nSo it looks like the error is not font dependent. \nI have dompdf also installed (online) on a system with PHP Version 5.3.17, DOMPDF_ENABLE_FONTSUBSETTING=true setting is working fine with that PHP version. \nMy local Xamp system uses PHP Version 5.3.1 and the fontsubsetting=true works also fine on that PHP version. \nAs far as I can see the error occures with PHP Version 5.3.21\n. Ok, I've downloaded a fresh copy of php-font-lib at https://github.com/HNygard/php-font-lib and replaced all the files in the php-font-lib directory. \nNow when I set DOMPDF_ENABLE_FONTSUBSETTING to 'true', I don't get the fatal error message anymore but the script returns the following piece of (weird) text:\nTables : head, hhea, cmap, hmtx, maxp, glyf, loca, name, post, OS/2\n==== head ====\nBytes written = 54\n==== hhea ====\nBytes written = 36\n==== cmap ====\nBytes written = 60\n==== hmtx ====\nBytes written = 24\n==== maxp ====\nBytes written = 32\n==== glyf ====\nBytes written = 1906\n==== loca ====\nBytes written = 28\n==== name ====\nBytes written = 376\n==== post ====\nBytes written = 32\n==== OS/2 ====\nBytes written = 78\nAnd that's it (no header or footer, just these lines of text). \nThe error log however shows the following error: \n[Sat Jan 26 12:26:25 2013] [error] [client 84.81.132.34] PHP Fatal error: Call to undefined method Font_TrueType::close() in /var/www/vhosts/wpoow.nl/httpdocs/testricoh/wordpress/wp-content/themes/ricoh/dompdf-master/lib/class.pdf.php on line 2357, referer: http://www.wpoow.nl/testricoh/adgenerator/?campaign=1 \nWhen I set DOMPDF_ENABLE_FONTSUBSETTING to 'false' again, everything works correct and a PDF is created...\n. Ok, I've downloaded the official code repository from https://github.com/PhenX/php-font-lib and replaced the old stuff. But still no improvement, the only difference is the error message, my log now shows the (original) fatal error message again: \n[Mon Jan 28 19:20:00 2013] [error] [client 84.81.132.34] PHP Fatal error:  Class 'Font_Glyph_Outline' not found in /var/www/vhosts/wpoow.nl/httpdocs/testricoh/wordpress/wp-content/themes/ricoh/dompdf-master/lib/php-font-lib/classes/font_glyph_outline_simple.cls.php on line 15, referer: http://www.wpoow.nl/testricoh/adgenerator/?campaign=114\n. If you want I can give you access to a subdomain with a WordPress testsite with DomPdf installed, where PHP 5.3.21 is running. Look at http://test.wpoow.nl/\nYou can generate a PDF there with DomPDF as you can see (DOMPDF_ENABLE_FONTSUBSETTING = false at the moment).\nIf you give me something of a e-mail address (or send me a mail) I will send you the necessary info (ftp, site admin) to access the site and the subdomain, so you can test/debug as you like.\n. Yes, the issue still exists. \nOn http://test.wpoow.nl/ with PHP 5.3.21 running I've placed a fresh copy of Dompdf and a fresh copy of php-font-lib. \nYou can generate a PDF there with DomPDF as you can see (DOMPDF_ENABLE_FONTSUBSETTING = false at the moment).\nDOMPDF_ENABLE_FONTSUBSETTING = true will generate a fatal error.\nIt's a test environment, if you want I can give you access to the subdomain and site and you can test and see for yourself.\nIf you give me something of a e-mail address (or send me a mail) I will send you the necessary info (ftp, site admin) to access the site and the subdomain, so you can test/debug as you like.\n. I've downloaded the latest version of php-font-lib as you suggested, uploaded it to the php-font-lib directory online and tested again:\n- DOMPDF_ENABLE_FONTSUBSETTING false: will generate a (large) PDF \n- DOMPDF_ENABLE_FONTSUBSETTING true: unfortunately I get the same error as before: PHP Fatal error: Class 'Font_Glyph_Outline' not found in /var/www/vhosts/wpoow.nl/ ... /dompdf-master/lib/php-font-lib/classes/Font_Glyph_Outline_Simple.php on line 15, referer: http://test.wpoow.nl/ \n. ",
    "psalaciak": "I've got the same error, I think it has something to do with the autoload procedure handed by the newest version of PHP\n. ",
    "chielsen": "I'm having the same problem. The weird thing is that does work in windows. It seems there is an issue with autoloading. What i've discovered sofar that in Font_Glyph_Outline.php where class Font_Glyph_Outline is defined it first requires Font_Glyph_Outline_Simple.\nMoving the require statements to after the declaration of Font_Glyph_Outline fixes it.\nIt could also be due the fact that i'm using xcache in my linux box. I do use Zend_cache on my windows machine so should not matter so much.\n. ",
    "brants": "Hm. FWIW, disabling xcache got me around the error -- thanks @chielsen (and all).\n. ",
    "mdevendr": "Thanks that was helpful. The idea was to test if the conversion was ok since I ran into issues with online rendering. \nI downloaded the latest version again and after installation it was a success with command line. But failed over the online throwing the below errors. \n```\nFatal error: Uncaught exception 'DOMPDF_Exception' with message 'Box property calculation requires containing block width' in /home/tindyt5/public_html/common/dompdf/include/block_frame_reflower.cls.php:171 \nStack trace: \n0 /home/tindyt5/public_html/common/dompdf/include/block_frame_reflower.cls.php(673): Block_Frame_Reflower->_calculate_restricted_width()\n1 /home/tindyt5/public_html/common/dompdf/include/frame_decorator.cls.php(556): Block_Frame_Reflower->reflow(Object(Block_Frame_Decorator))\n2 /home/tindyt5/public_html/common/dompdf/include/block_frame_reflower.cls.php(722): Frame_Decorator->reflow(Object(Block_Frame_Decorator))\n3 /home/tindyt5/public_html/common/dompdf/include/frame_decorator.cls.php(556): Block_Frame_Reflower->reflow(Object(Block_Frame_Decorator))\n4 /home/tindyt5/public_html/common/dompdf/include/block_frame_reflower.cls.php(722): Frame_Decorator->reflow(Object(Block_Frame_Decorator))\n5 /home/tindyt5/public_html/common/dompdf/include/frame_decorator.cls.php(556): Block_Frame_Reflower->reflow(NULL) in /home/tindyt5/public_html/common/dompdf/include/block_frame_reflower.cls.php on line 171\n```\n. ",
    "Stoob": "Thanks for the prompt response!\nI am loading it via a PHP file using civiCRM and Drupal.  Without getting into that hornet's nest, let just give you a little code to show you how it's done.\nphp\n$txt .= \" '\" . $foo;\n$this->pdf->SetXY(0, $this->pdf->height / 2 + 30);\n$this->pdf->SetFontSize(92);\n$this->pdf->Write(0, $txt, NULL, NULL, 'C');\nand then. how the parameters are set early\nphp\n$this->pdf = new CRM_Utils_PDF_Label($this->format, 'mm');\n$this->pdfExtraFormat();\n$this->pdf->Open();\n$this->pdf->setPrintHeader(FALSE);\n$this->pdf->setPrintFooter(FALSE);\n$this->pdf->AddPage();\n$this->pdf->AddFont('Times', '', 'Times-Roman.php');\n$this->pdf->SetFont('Times');\n$this->pdf->SetGenerator($this, \"generateLabel\");\nCould it be:\n- character set?   UTF is what I'm using?   Western instead?\n- headers true?\n- something else?\nSuper helpful thanks.\n. ",
    "zarifansari": "I have upto 42 columns and the pdf is displaying only 10-12 columns.\nHow can I display other columns on next pages.Please help.\n. ",
    "arnoholzer": "Update for that ?\n. ",
    "DavidBradbury": "Being honest, you really shouldn't have spaces in your folder and file names anyways. Putting spaces in your path names is invalid, and really shouldn't be supported. I wouldn't consider this a bug.\n. ",
    "alxndrmlr": "I don't think you would want to use apply utf8_decode() to the filename here as that function will convert the text to single-byte ISO-8859-1 which has a smaller character map.\n\nISO 8859-1 encodes what it refers to as \"Latin alphabet no. 1,\" consisting of 191 characters from the Latin script. This character-encoding scheme is used throughout The Americas, Western Europe, Oceania, and much of Africa. It is also commonly used in most standard romanizations of East-Asian languages.\nhttp://en.wikipedia.org/wiki/ISO/IEC_8859-1\n\nThus we would loose characters...\n\nPlease note that utf8_decode simply converts a string encoded in UTF-8 to ISO-8859-1. A more appropriate name for it would be utf8_to_iso88591. If your text is already encoded in ISO-8859-1, you do not need this function. If you don't want to use ISO-8859-1, you do not need this function.\nNote that UTF-8 can represent many more characters than ISO-8859-1. Trying to convert a UTF-8 string that contains characters that can't be represented in ISO-8859-1 to ISO-8859-1 will garble your text and/or cause characters to go missing. Trying to convert text that is not encoded in UTF-8 using this function will most likely garble the text.\nIf you need to convert any text from any encoding to any other encoding, look at iconv() instead. \nhttp://www.php.net/manual/en/function.utf8-decode.php#104907\n\nI think the challenge here is we're assuming that... \nphp\n$filename\n...is UTF-8 encoded when we receive it. If it is then this function performs as expected, if isn't (say it was ISO-8859-1) than the\nphp\nfilename*=UTF-8''$encodedfilename\"\nMay not perform as expected.\nThat said to be truly robust we should inspect the encoding of the incoming filename and transform it to UTF-8 as required before urlencoding it.\n. Ok I think I'm on the same page as you.  Just to clarify we'd be making the following modification.\n``` php\n$fallbackfilename = mb_convert_encoding($fileName, \"ISO-8859-1\"); \n$encodedfallbackfilename = rawurlencode($fallbackfilename);\n$encodedfilename = rawurlencode($fileName);\nheader(\"Content-Disposition: $attachment; filename=\". $encodedfallbackfilename .\"; filename*=UTF-8''$encodedfilename\");\n```\nSo as to ensure the fallback only contains ISO-8859-1 characters seeing as it only supports ASCII. Whereas modern browsers will pickup the second filename definition and thus use the UTF-8 encoding.\nIs it an issue then (in the code above) that we're assuming the filename should be interpreted as UTF-8? Or should we also be transliterating to UTF-8 as we did for the fallback?\n. ",
    "instipod": "The latest zip of the master branch from GitHub.  I am using the CPDF backend.\n. Upon further testing, I have discovered that any document info tag (such as Title, Subject, Author, etc.) is also garbled.\nBefore Encryption:\n\nAfter Encryption:\n\n. Yes, thank you very much.\n. ",
    "myshko": "Thanks very much for the replies!\nAnd apologies, this is in fact an issue with the built in reader for Firefox, not domPDF as @PhenX rightly pointed out.\nWhen opened in a standalone reader the correct Helvetica type appeared, I should have checked more thouroughly.\nAnd thanks @bsweeney for adding insight.\nHowever, I did learn alot and it encouraged me to convert and add my own fonts to domPDF.\nSorry for any inconvenience and thank you again!\n. ",
    "cvele": "Could we get this merged ?\n. ",
    "willoller": "YES Please merge - I was just about to submit this.\nThis is a bug introduced in 78a437c09b1b57c8e8c195ec9d17ac50545bffa1\n. ",
    "kabeza": "how could i download the lib/php-font-lib files that are not downloaded in the dompdf-master.zip? don't want to download 1by1\n. download dompdf through Composer? Dunno what's that, but only want domPdf for integrating into CodeIgniter. Already downloaded from downloads section. Thanks\n. It is a local server.\nGave 3Gb as limit and now is \"working\"... but I'll have to consider the option to divide the entire report in pieces and later joining with the tools suggested\nThanks @bsweeney \n. ",
    "Furizaa": "+1\n. ",
    "ylynfatt": "The suggestion made by @adrianmacneil works also.\n. @bsweeney Ubuntu 12.04 LTS with PHP 5.3.10. When I viewed the setup.php page, I saw that both DOMPDF_FONT_CACHE, DOMPDF_LOG_OUTPUT_FILE and DOMPDF_TEMP_DIR directories were writable. Is there another directory that dompdf should write to?\n. @bsweeney I got the same error. Does the file Times-Roman.afm.php have to exist before or will dompdf actually try to create that file on the fly?\n. ",
    "KOMOKHEPBOB": "Sorry, forgot to write the version:  DOMPDF 0.6.0 beta 3\nAnd yes, I've tried different options:\nphp\n$dompdf = new DOMPDF();\nfor ($i = 0; $i < 3; $i++) {\n  $dompdf->load_html(\"<html><body><img src=\\\"http://cdn.arstechnica.net/wp-content/uploads/2012/10/06_Place_20773_1_Mis.jpg\\\" /></body></html>\");\n  $dompdf->render();\n  file_put_contents(\"out {$i}.pdf\", $dompdf->output());\n}\nalso\nphp\nfor ($i = 0; $i < 3; $i++) {\n  $dompdf = new DOMPDF();\n  $dompdf->load_html(\"<html><body><img src=\\\"http://cdn.arstechnica.net/wp-content/uploads/2012/10/06_Place_20773_1_Mis.jpg\\\" /></body></html>\");\n  $dompdf->render();\n  file_put_contents(\"out {$i}.pdf\", $dompdf->output());\n  unset($dompdf);\n}\nAnd yes, in the log.htm file I've found record about problems in image_cache.cls.php:156  \nphp\nunlink($file);\n. ",
    "derekdreery": "I didn't know it was a submodule, (git noob :P) so what you're suggesting sounds better :)\n. ",
    "tic2000": "The install step in the second comment misses a cd dompdf\n. Since I got no reply I tried this with a default font, in this case Courier.\nI altered the demo file so I could also see a preview which you can see in the first screenshot.\n\nIn the second screenshot you can see the pdf generated. As you can see the text is closer to the top from what it should be which results in an underline that is farther away from the text.\n\nThan I did the change described in my previous comment, and using a Courier.ttf I generated a new ufm file. The pdf result now was:\n\nStill not as it should, because if I write something with \"p\" for example the underline is bellow the text and does't cut the \"p\" as it should.\n\n\n\n. ",
    "inbaz": "Hey, I found this issue and I got nearly the same problem. I've inserted Open Sans from the google fonts into my document with this link tag:\n\nThe result I get is:\n\nIn an older version I edited the file OpenSans-Regular.ufm.php to have these values:\n'UnderlineThickness' => '50',\n'UnderlinePosition' => '-500',\nThat worked.\nHow can I change the UnderlinePosition for a font that is inserted via the html document with a font-face statement in the css part?\nI'm happy to get some information on how to solve this.\nCheers\nAndi. I encountered the same problem. There is a .ufm and a .ufm.php file in my dompdf/lib/fonts folder. I needed to change the .ufm.php file to have the changes take effect. For my OpenSans-Regular font it needed 'UnderlinePosition' => '-500' instead of -75. Maybe for somebody who finds that thread it helps to have a clue in which dimensions you need to calculate to see the effects of the changes.. I encountered the same problem. There is a .ufm and a .ufm.php file in my dompdf/lib/fonts folder. I needed to change the .ufm.php file to have the changes take effect. For my OpenSans-Regular font it needed 'UnderlinePosition' => '-500' instead of -75. Maybe for somebody who finds that thread it helps to have a clue in which dimensions you need to calculate to see the effects of the changes.. ",
    "ethaizone": "@inbaz I tried edit .ufm.php file in vendor directory and this work for me too.\nMy font is Garuda and Initial UnderlinePosition value is -32. I need change it to -1100 for make it look good in my pdf. \nThank you for point out this info.  It help me a lot. :)\nUpdate: After I use it. This solution is just temporary for underline only. It will not work with line-through.\n  . Maybe this is related issue on https://github.com/PhenX/php-font-lib/issues/7\nIn this line.\nhttps://github.com/dompdf/dompdf/blob/5113accd9ae5d466077cce5208dcf3fb871bf8f6/src/Renderer/Text.php#L107\nValue will divide by 1000 for use in lib. Maybe this is fail from php-font-lib?. https://github.com/dompdf/dompdf/blob/5113accd9ae5d466077cce5208dcf3fb871bf8f6/src/Renderer/Text.php#L135\nCurrently this line don't have proper value. I think we expect $deco_y should have baseline position but I don't know how we can get that. In php-font-lib they don't provide more infomation such as XHeight value but I don't think it will help us too. \nhttps://github.com/dompdf/dompdf/commit/763ed27ba0a036b3958bd12674ba9a352dac267d#diff-47ad25618e24e7cdae67048db5fb13cfL92\nFor this older commit. Just as you see. These code use  Ascender and Decender value to shift $base position for use adjust $deco_y later.\nFor me I like that lastest implement that make $base stay as it be but I think we need to find they way how we can get baseline and use it as $deco_y. I tried use Ascender and Decender but it don't make good result. Maybe we need to use bouning box position?\nRef: http://www.adobe.com/content/dam/acom/en/devnet/font/pdfs/5004.AFM_Spec.pdf\nhttp://www.washington.edu/perl5man/sitemodules/Font/AFM.html\nhttps://en.wikipedia.org/wiki/Baseline_(typography). IDK why but this fix for me. Need someone to test it,\nhttps://github.com/dompdf/dompdf/pull/1631. I don't except this will get accept but I want to show this code help me in underline, line-through and over line. If we have better solution will be good, I stuck on this bug two day ago. /sob. ",
    "whitecoder": "I am using version 0.5.2\n. I will give that a go and see if that fixes the issue.\n. ",
    "Harrisonbro": "Hmm, didn't see any errors in the PHP logs. I've tried it again with the most basic HTML & CSS I can think of:\n``` html\n<!doctype html>\n\n\n\n    .left {\n      float: left; \n      outline: 1px solid green; \n      width: 6cm; \n    }\n    .right {\n      float: left; \n      outline: 1px solid blue; \n      width: 6cm; \n    }\n  \n\n\nleft boxes here\nright boxes here\n\n \n```\nIt's still making this PDF with no floated elements\n. Yep, that's exactly what I just did! Very odd... I'll try again.\n. So I've just cloned the master branch from GitHub and just gone into the demo area and clicked on the HTML demo for the float example and that shows the 2 images floated, but when I click on the PDF demo of the same HTML is doens't show any floats. \nThis is the same on my local machine (Mac OS X, MAMP) and on my server (Linux). My server has it installed here: http://sandbox.ablosmedia.com/visitmyfarm/pdf-module-test/dompdf/www/examples.php#css_float.html,pdf\nDoes that show the images not floated to you?\n. Ah! That's it \u2014 working now.\nJust had to go into dompdf_config.custom.inc.php and uncomment define(\"DOMPDF_ENABLE_CSS_FLOAT\", true);\n. ",
    "mohit-eis": "I already define \ndefine(\"DOMPDF_ENABLE_CSS_FLOAT\", true);\nbut still not working.\n. can we add external HTML file???\nWhich function will use??\n. I want to add external html file in $html variable in dompdf content.  is it possible???\n. how to use load_html_file();\n???\n. @kanapes, yes sir , I want exactly like \nrequire_once(\"Dompdf/dompdf_config.inc.php\");\n$pdf = new DOMPDF();\n$pdf->load_html( file_get_contents( '/path/to/html/*.html') );\n$pdf->render();\nfile_put_contents( '/path/to/save/*.pdf', $pdf->output() );\nit will work???\n. ",
    "freecorvette": "Switching to the latest version did not fix the font problem and introduced several other artefacts (broken images, extra lines over the text, missing text in the footer) -- so at the moment it was not an option for me.\nSetting DOMPDF_ENABLE_FONTSUBSETTING to true however, which was also available in the version I'm using, did make the document a lot smaller (less than 10x smaller than without the option set, and about 4x smaller than the file produced by gs) -- therefore it fixed my original problem (having to use gs in the first place to make the document smaller). Thanks A LOT for that hint! You should post that piece of information somewhere easy to find, I spent some time searching for \"dompdf large file size\" and didn't come across it.\nThanks again!\n. Brian,\nI've made some more tests today and I got different results with different runs. I'm posting below the relevant findings:\n- the extra line was actually a font underline which at some point was showing over the actual text instead of below it. I couldn't reproduce it lately so for now let's forget about it\n- the missing text in the footer was due to not having inline PHP enabled; enabling the setting fixed it, so again, false alarm\n- the broken images is something I'm getting constantly. It's actually not the images being broken, but parts of the images looking scratched. Take a look at the attached files, scratched_images_1 through 3.pdf, on the last page. I got them upon different runs and as you can see some of them look worse than othes, but all expose some sort of \"erased areas\" effect on the images\n- finally, enabling the font subsetting did create some spacing issues, see subsetting_off.pdf and subsetting_on.pdf, on the last page, inside the red box, where \"f\u0103r\u0103 TVA\" and the following \"(pre\u0163 vechi\" overlap when subsetting is on and the spacing inside \"LiftMaster - euro\" looks different, too.\nI'm posting an archive with:\n- the scratched images problem (scratched.pdf)\n- the font spacing problem (subsetting.pdf)\n- the original HTML + PHP to generate the PDF (source.html)\n- two directories containing the image assets (images, tmp)\n- the dompdf config file (dompdf_config.inc.php)\nUnfortunately, I'm only allowed to post image files, so please take the zip file from here:\nhttp://bit.ly/10sBCa2\nThanks!\n. Changing the image from GIF to PNG did not help. Also, oddly enough, regenerating the same PDF produced different artefacts in the images. Meanwhile, the guys at Ghostscript fixed the issue with the font spacing, but I can't get gs to compile under CentOS 5.9 (needs newer libraries), so I still don't have a perfect solution to the original problem...\n. ",
    "jgpATs2w": "Could someone document this issue? I've just requested my first pull and found a fatal error at start, not a nice way to start.\n. ",
    "davidsickmiller": "This can be \"fixed\" by increasing this variable in include/line_box.cls.php's get_float_offsets():\nphp\nstatic $anti_infinite_loop = 500; // FIXME smelly hack\nNote that file is being renamed to src/LineBox.php in v0.7\n. Thanks!. ",
    "UweKeim": "What currently works on my Windows dev machine is to remove all realpath calls inside the dompdf sources.\nI.e. this:\nphp\n$dir = realpath(__DIR__ . \"/../..\");\nwill become this:\nphp\n$dir = (__DIR__ . \"/../..\");\nInside PHAR archives, realpath for paths inside a PHAR file returns false (See #52769).\n\nIn addition, one might need to put the \"dompdf/lib/fonts\" folder outside the PHAR and call\nphp\n$options->setRootDir($rootFolderPath);    // E.g. \"/my/folder/\".\n$options->setFontDir($folderPath);        // E.g. \"/my/folder/lib/fonts\".\n$options->setFontCache($folderPath);      // E.g. \"/my/folder/lib/fonts\".\non an instance of the Options class that will be passed to the Dompdf constructor.\nThis allows to fulfil the requirement that is commented in the sources, that these folders need to be writable.. Same here as @marcleimvs said:\nAfter I configured alternative directories, I get the same error:\n\nNo block-level parent found.  Not good.\n\n. @bsweeney In my case I tried to move the writable font folders outside my PHAR.\nThis was not sufficient.\nWhat currently works on my Windows dev machine is to remove all realpath calls inside the dompdf sources.\nI.e. this:\nphp\n$dir = realpath(__DIR__ . \"/../..\");\nwill become this:\nphp\n$dir = (__DIR__ . \"/../..\");\nInside PHAR archives, realpath for paths inside a PHAR file returns false (See #52769).. If the stack trace is correct, the following XPath query is the erroneous one:\n//[@href]\n\nIf I'm right, this actually is an invalid XPath syntax. \nProbably it is meant to be written as\n//*[@href]\n\nThe origin of this call seems to come from this source code line.\nA minimal example that generates the error on my platform (Windows 10, IIS Express, PHP 7.1.1) is:\n```php\n$dompdf = new Dompdf\\Dompdf();\n$dompdf->loadHtml(\"<!DOCTYPE html>\");\n$dompdf->render(); // \u2190 This line throws.\n```. The composer.json says \"0.7-dev\".\nBeing a bit of a PHP noob, I tried to upgrade but it says no new version available.\nAm I doing something completely wrong?\n(I'm using PHP Tools for Visual Studio). Awesome! I've just uninstalled and reinstalled, now I'm on 0.8.0 and the issue is gone!. ",
    "texelate": "Did you ever solve this? I'm having the same issue and I have installed the php-font-lib src. The error only happens when I add this to my CSS\u2026\ntable { page-break-before: avoid; }\n\u2026and my table spans multiple pages.\nThanks\u2014and what a great library!\n. @bsweeney Placing the footer earlier in the markup worked for me, thanks.. ",
    "supersmart-at": "@jamieburchell @texelate I just ran into same issue; as far as i could analyse\n- environment: apache/2.4.7 (Win64) _PHP/5.5.7 _\n- dompdf version: 0.6.1\n- using TABLE with TD colspan=2 reaching page 2\n- changing CSS to table { page-break-before: avoid; } invokes this issue\n. ",
    "lukrativdev": "I have use load_font.php script. It works.\nBut what is the different between the script and the web-based font prep tool? Both works.\nBut if I enable the DOMPDF_ENABLE_FONTSUBSETTING the text in the PDF is not visible.\nThe text is there, but the text has no color or is white. I use the Adobe PDF Viewer Versio X.\n. I have tested again. When I enable the DOMPDF_ENABLE_FONTSUBSETTING the pdf is small, but the text in the header is not visible. \nException:\nIs a character included in the html content with the same font (e.g. arial normal), this character is also visible in the header.\nCode example:\n``` php\n$html = '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">';\n$html .= '';\n$html .= '';\n$html .= '';\n$html .= '';\n$html .= '';\n$html .= ''; \n$html .= '';\n$html .= $content;\n$html .= ''; \n$html .= '';\n$dompdf->set_paper(\"a4\");\n$dompdf->load_html($html);\n$dompdf->render();\n$pdf = $dompdf->get_canvas();\n$pdf->page_script('\n  if ($PAGE_NUM > 0) {\n    $x = 57;\n    $y = 35;\n    $fontFamily = \"arial\";\n    $font = Font_Metrics::get_font($fontFamily);\n    $size = 10;\n    $color = array(0,0,0);\n    $pdf->text($x, $y, $text, $font, $size, $color);\n    $dompdf->render();\n  }\n');\n$pdf = $dompdf->output();\nfile_put_contents($file, $pdf);\n```\n. ",
    "Annaleria": "I am running PHP 5.2.9 and I downloaded the current zip file directly from Github.  If I disable the HTML5 parser then I  get the error \n'Fatal error: Call to undefined method domdocument::loadHTML() in C:\\wamp\\www\\dompdf\\include\\dompdf.cls.php on line 625'\nSo far I have only tried to run your samples, so there should be no issue with the HTML.\n. ",
    "cesarbsilva": "In fact the problem is kind of weird.\nThe example given is the result of a query to the database.\nThe data were inserted in UTF-8, I checked the database and there the data appear in UTF-8.\nThe same query if displayed on a page, it shows the data correctly.\nBut when I use the query to display the data in PDF few lines appear with \"?\" .\nAlready check all files in the code editor and are all in UTF-8.\nI know my answer does not help much. But I can not give much more information.\nThe strange thing is that some lines appear correctly, and other problems appear.\n. ",
    "jtraulle": "I had exactly the same problem with data fetched from database.\nI switched the field to blank and inserted previous data again and it just works.\nEncoding problems are tricky ...\n. ",
    "envision": "I'm experiencing this same issue. I'm running on Laravel framwork with this library wrapped as \"thujohn/pdf\" -package. Database config are 'charset'   => 'utf8', 'collation' => 'utf8_unicode_ci. Checked from DB itself and this is true.\nWhat collation settings should be used? Can I tweak this library's settings? I couldn't find any related settings. Except the declaration for PHP's internal encoding setting, which I suspect to be already declared as same by Laravel framework.\nHere is a list of all the collation values available as suggested by Querious MySQL management app:\n\n. Fixed this issue here by changing in php.ini the mbstring encoding translation config line as: \"mbstring.encoding_translation = On\"!\n. ",
    "taai": "I have the same problem here. \"mbstring.encoding_translation\" setting does not help.\n. @bsweeney Today I did use the latest version of dompdf (I guess it's 285fce8a8abaee9baf0218a3c139776ba2ca7c37 ). I'm using PHP 5.3.25 on Windows 7 Professional x64. I didn't specify any special fonts, just \"verdana\" and \"sans-serif\" (as in example found in wiki).\nshell\ngit submodule add git://github.com/dompdf/dompdf.git vendor/dompdf\ngit submodule update --init --recursive\nI used slightly modified HTML example that I found in https://github.com/dompdf/dompdf/wiki/UnicodeHowTo\n``` php\n$html = '\n\n\n\n\nGl\u0101\u017e\u0161\u0137\u016bnis\n\n';\nrequire_once 'vendor/dompdf/dompdf_config.inc.php';\n$dompdf = new DOMPDF();\n$dompdf->load_html($html, 'UTF-8');\n$dompdf->set_paper('A4');\n$dompdf->render();\nfile_put_contents('test.pdf', $dompdf->output());\n```\nIt generated PDF file with text Gl\u017e\u0161nis. File was only 1.09KB.\nEven mbstring.encoding_translation = On in PHP's configuration didn't change anything.\nAfter struggling I checked out mPDF - it worked.\n. ",
    "kyobul": "Concerning Thujohn/PDF and Laravel specifically I had this encoding issue only on production server side. I'v tried all above with no success. I solved it by passing all the string output in the generated pdf through the Laravel e() helper function which runs htmlentities over the given string, with UTF-8 support. Hope this helps someone.\n. ",
    "probircse": "Today I am downloading new version of Dompdf. I Used this code below\nrequire_once 'dompdf/autoload.inc.php';\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$dompdf->loadHtml('hello world');\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n$dompdf->stream();\nBut I have getting error to open generate pdf by Dompdf\n\nAnyone please help me\n. ",
    "molcik": "I had problems with UTF-8 chars and finally resolved it. Here is tutorial.. ",
    "Zeckudan": "And....it isn't working. Is there a way to correctly reduce the size of an image after creating the pdf? Or it is currently impossible to max the size of an image?\n. ",
    "mnapoli": "+1 to merge that! It would has saved me (and probably others too) some time ;)\n. @adrianmacneil +1 on that, too bad\n. OK cool then if the discussion is ongoing, I'll leave you to decide ;)\nIn my experience I have used the \"master is stable\" and have pull request to master (like I had a 2.0 branch with a PR to master during the development of 2.0) and that was very practical:\n- having a PR for a version is cool, you can discuss on it for global topics regarding the version\n- having master to the latest stable release also means that anyone coming on the github project home page sees the documentation of the latest stable release (not some completely different unstable alpha release)\nThanks for the answer anyway\n. ",
    "ashishtomar84": "WOW!! its working now...\nThanks  bsweeney. \n. ",
    "creativecag": "Brian,\nThanks for the reply. In this particular case, I'm using the grid system from Bootstrap but none of the JS or responsive code. In the end, I had to abandon Bootstrap and reformat my page to make it work but support for Bootstrap would be a nice addition for future version.\nI'm new to dompdf so I'll check out the designation and see if that helps any.\nThanks!\nThank you,\nChris Greninger\ncreativecag.com | cgreninger@gmail.com\nOn May 6, 2013, at 8:46 PM, Brian Sweeney notifications@github.com wrote:\n\nIt's possible some of the issues you're encountering could be fixed. It really depends on the nature of your document. I don't believe we have any support for media queries (though I'll have to confirm that). And JS is out. You might have to designate a dompdf style sheet to address some of the issues.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "arekpietrzyk": "The same problem here. Simple grid, no responsive, no JS, no custom CSS.\n. ",
    "FabianKoestring": "Same here! :+1: \n. ",
    "Cederman": "+1 for better support for Twitter Bootstrap :)\n. Yes, this is the most trivial attribute in getting Twitter Bootstrap to work with DOMPDF\n. ",
    "adamgoose": "+1!\n. Yes, pulling from the dev-master branch. I just ran composer update a few hours ago.\nPHP info here\nlibxml\nlibXML support => active\nlibXML Compiled Version => 2.7.8\nlibXML Loaded Version => 20708\nlibXML streams => enabled\n. @bsweeney As discussed, here is my vagrant setup information: https://gist.github.com/adamgoose/8420681\n. As our needs grew and changed, we were able to find an alternate solution. Thanks for your help!\n. ",
    "ognjenm": "+1\n. ",
    "espradley": "I think I tracked the issue down. (on my file, it's line 292-298)\n,\n:before,\n*:after {\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n}\nRemoving the :before and the :after allows my PDF to generate -- but looks shitty since it's core to bootstrap.  Please add support for :before, :after\n. Sweet.  Thanks.  When I remove it in webversion looks like crap -- so thinking it's important to bootstrap.  Will watch 758 for updates.\n. ",
    "RSully": "Have any changes been made for media query support? Bumping into this issue myself now. \n. ",
    "vincekovacs": "+1 for bootstrap support\n. ",
    "soullivaneuh": ":+1: \n. > I have found a simple solution for the grid issue. Change the \"DOMPDF_DPI\" to fit the grid\n@wimurk could you please elaborate? Maybe add some examples?. Same problem here, tried with v0.5.2 and master version, using Twitter Bootstrap 3.\nAny idea to hack this ? It's very critical for bs3 users...\n. Any news ? Is issue fixed ?\nThanks.\n. Ok, after test with 0.6.1 and master, I have the same problem with a bs3 template.\nThanks for your answer, still waiting for a fix.\n. > We'll patch this up in the next release, in the meantime just unset your dompdf variable and re-instantiate before each subsequent use.\nWell, my instance is a Symfony service:\nyaml\ndompdf:\n    class: Dompdf\\Dompdf\n    public: false\n    calls:\n        - [ 'set_host', [ '%router.request_context.host%' ] ]\n        - [ 'set_protocol', [ '%router.request_context.scheme%://' ] ]\n        - [ 'set_option', [ 'font_dir', '%kernel.cache_dir%/dompdf/fonts' ] ]\n        - [ 'set_option', [ 'log_output_file', '%kernel.logs_dir%/dompdf.html' ] ]\n        - [ 'set_option', [ 'enable_remote', true ] ]\nAny another workaround @bsweeney ?. @bsweeney Yeah I was thinking about this but I would like to avoid this kind of workaround.\nThanks for the answer, I'll try this waiting for the patch. :+1: \n. @bsweeney Do you have any clue about why this is not working? Maybe we can help to fix it.. @bsweeney Do you have any clue about why this is not working? Maybe we can help to fix it.. Ok thanks.\nFYI, I tried this very tiny code:\n```php\n/* @var Dompdf $dompdf /\n$dompdf = $this->container->get('dompdf');\nfor ($i = 1;;++$i) {\n    dump($dompdf);\n    $dompdf->loadHtml('hello world');\n    $dompdf->setPaper('A4', 'portrait');\n    $dompdf->render();\n    $dompdf->output();\n    sleep(1);\n}\n```\nThe first dompdf dump, before the first render call gave me this:\nDompdf {#829 \u25bc\n  -version: \"dompdf\"\n  -dom: null\n  -tree: null\n  -css: Stylesheet {#833 \u25b6}\n  -pdf: CPDF {#830 \u25b6}\n  -canvas: CPDF {#830 \u25b6}\n  -paperSize: \"letter\"\n  -paperOrientation: \"portrait\"\n  -callbacks: []\n  -cacheId: null\n  -baseHost: \"localhost:8000\"\n  -basePath: \"\"\n  -protocol: \"http://\"\n  -httpContext: null\n  -startTime: null\n  -systemLocale: null\n  -localeStandard: true\n  -defaultView: \"Fit\"\n  -defaultViewOptions: []\n  -quirksmode: false\n  -allowedProtocols: array:5 [\u25b6]\n  -allowedLocalFileExtensions: array:2 [\u25b6]\n  -messages: []\n  -options: Options {#828 \u25b6}\n  -fontMetrics: FontMetrics {#832 \u25b6}\n}\nThe second dump, after the first call and before the second, gave me this:\nDompdf {#829 \u25bc\n  -version: \"dompdf\"\n  -dom: DOMDocument {#74 \u25b6}\n  -tree: FrameTree {#7851 \u25b6}\n  -css: Stylesheet {#833 \u25b6}\n  -pdf: CPDF {#7867 \u25b6}\n  -canvas: CPDF {#7867 \u25b6}\n  -paperSize: \"A4\"\n  -paperOrientation: \"portrait\"\n  -callbacks: []\n  -cacheId: null\n  -baseHost: \"localhost:8000\"\n  -basePath: \"\"\n  -protocol: \"http://\"\n  -httpContext: null\n  -startTime: 1483978880.9091\n  -systemLocale: null\n  -localeStandard: true\n  -defaultView: \"Fit\"\n  -defaultViewOptions: []\n  -quirksmode: true\n  -allowedProtocols: array:5 [\u25b6]\n  -allowedLocalFileExtensions: array:2 [\u25b6]\n  -messages: []\n  -options: Options {#828 \u25b6}\n  -fontMetrics: FontMetrics {#832 \u25b6}\n}\nSo indeed we can see already set up instance for dom and tree and some properties are changed like startTime.\nMaybe we just have to reset some of these property on loadHtml or render call?. Ok thanks.\nFYI, I tried this very tiny code:\n```php\n/* @var Dompdf $dompdf /\n$dompdf = $this->container->get('dompdf');\nfor ($i = 1;;++$i) {\n    dump($dompdf);\n    $dompdf->loadHtml('hello world');\n    $dompdf->setPaper('A4', 'portrait');\n    $dompdf->render();\n    $dompdf->output();\n    sleep(1);\n}\n```\nThe first dompdf dump, before the first render call gave me this:\nDompdf {#829 \u25bc\n  -version: \"dompdf\"\n  -dom: null\n  -tree: null\n  -css: Stylesheet {#833 \u25b6}\n  -pdf: CPDF {#830 \u25b6}\n  -canvas: CPDF {#830 \u25b6}\n  -paperSize: \"letter\"\n  -paperOrientation: \"portrait\"\n  -callbacks: []\n  -cacheId: null\n  -baseHost: \"localhost:8000\"\n  -basePath: \"\"\n  -protocol: \"http://\"\n  -httpContext: null\n  -startTime: null\n  -systemLocale: null\n  -localeStandard: true\n  -defaultView: \"Fit\"\n  -defaultViewOptions: []\n  -quirksmode: false\n  -allowedProtocols: array:5 [\u25b6]\n  -allowedLocalFileExtensions: array:2 [\u25b6]\n  -messages: []\n  -options: Options {#828 \u25b6}\n  -fontMetrics: FontMetrics {#832 \u25b6}\n}\nThe second dump, after the first call and before the second, gave me this:\nDompdf {#829 \u25bc\n  -version: \"dompdf\"\n  -dom: DOMDocument {#74 \u25b6}\n  -tree: FrameTree {#7851 \u25b6}\n  -css: Stylesheet {#833 \u25b6}\n  -pdf: CPDF {#7867 \u25b6}\n  -canvas: CPDF {#7867 \u25b6}\n  -paperSize: \"A4\"\n  -paperOrientation: \"portrait\"\n  -callbacks: []\n  -cacheId: null\n  -baseHost: \"localhost:8000\"\n  -basePath: \"\"\n  -protocol: \"http://\"\n  -httpContext: null\n  -startTime: 1483978880.9091\n  -systemLocale: null\n  -localeStandard: true\n  -defaultView: \"Fit\"\n  -defaultViewOptions: []\n  -quirksmode: true\n  -allowedProtocols: array:5 [\u25b6]\n  -allowedLocalFileExtensions: array:2 [\u25b6]\n  -messages: []\n  -options: Options {#828 \u25b6}\n  -fontMetrics: FontMetrics {#832 \u25b6}\n}\nSo indeed we can see already set up instance for dom and tree and some properties are changed like startTime.\nMaybe we just have to reset some of these property on loadHtml or render call?. @greg0ire Does not seems to work:\n```php\nfinal class PdfRenderer\n{\n    /*\n     * @var TwigEngine\n     /\n    private $twig;\n/**\n * @var Dompdf\n */\nprivate $pdf;\n\n/**\n * @param TwigEngine $twig\n * @param Dompdf     $pdf\n */\npublic function __construct(TwigEngine $twig, Dompdf $pdf)\n{\n    $this->twig = $twig;\n    $this->pdf = $pdf;\n}\n\n/**\n * Generates the HTML code with Twig and pushes it to the PDF generator.\n *\n * @param string $template\n * @param array  $parameters\n *\n * @return string\n */\npublic function renderPdf(string $template, array $parameters)\n{\n    $pdf = clone $this->pdf;\n\n    $pdf->loadHtml($this->twig->render($template, $parameters));\n    $pdf->render();\n\n    return $pdf->output();\n}\n\n}\n```\nStill have the error if I call renderPdf multiple times.. @greg0ire Does not seems to work:\n```php\nfinal class PdfRenderer\n{\n    /*\n     * @var TwigEngine\n     /\n    private $twig;\n/**\n * @var Dompdf\n */\nprivate $pdf;\n\n/**\n * @param TwigEngine $twig\n * @param Dompdf     $pdf\n */\npublic function __construct(TwigEngine $twig, Dompdf $pdf)\n{\n    $this->twig = $twig;\n    $this->pdf = $pdf;\n}\n\n/**\n * Generates the HTML code with Twig and pushes it to the PDF generator.\n *\n * @param string $template\n * @param array  $parameters\n *\n * @return string\n */\npublic function renderPdf(string $template, array $parameters)\n{\n    $pdf = clone $this->pdf;\n\n    $pdf->loadHtml($this->twig->render($template, $parameters));\n    $pdf->render();\n\n    return $pdf->output();\n}\n\n}\n```\nStill have the error if I call renderPdf multiple times.. But, this thing works:\n```php\npublic function renderPdf(string $template, array $parameters)\n{\n    $pdf = new Dompdf($this->pdf->getOptions());\n$pdf->loadHtml($this->twig->render($template, $parameters));\n$pdf->render();\n\nreturn $pdf->output();\n\n}\n```\nThis is ugly and you loose the interest of the service system, but as @greg0ire said, it's a workaround. :wink: . But, this thing works:\n```php\npublic function renderPdf(string $template, array $parameters)\n{\n    $pdf = new Dompdf($this->pdf->getOptions());\n$pdf->loadHtml($this->twig->render($template, $parameters));\n$pdf->render();\n\nreturn $pdf->output();\n\n}\n```\nThis is ugly and you loose the interest of the service system, but as @greg0ire said, it's a workaround. :wink: . Well, the method in https://github.com/dompdf/dompdf/issues/1056#issuecomment-271519420 will be simpler. :wink: . Well, the method in https://github.com/dompdf/dompdf/issues/1056#issuecomment-271519420 will be simpler. :wink: . @fizdalf Are you sure you ran the composer update command after including Dompdf?\nI test the same code as you:\n```php\nrequire_once 'vendor/autoload.php';\nuse Dompdf\\Dompdf as Dompdf;\n$dompdf = new Dompdf();\n$dompdf->loadHtml('hello world');\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->render();\n$dompdf->stream();\n```\nAnd it works perfectly.. BTW, why not just use Dompdf\\Dompdf;? The result is the same AFAIK! :wink: . > I find it a little bit strange that from 0.6 to 0.7 it brakes compatibility.\n@twify93 please read: http://semver.org/#spec-item-4\n0.x allows BC breaks according to semver convention.\nBTW for PHP 7, I'm running this library one it from a while without any problem so far.. > We considered adding something that could read in the configuration file if it existed, but ultimately decided against it.\nIn this case you may consider this component: http://symfony.com/doc/current/components/config.html\nBut it will be overkill IMHO because lot of configuration can be done with framework integration like Symfony or Laravel.. ",
    "eh1160": "+1\n. ",
    "ajithfort": "+1\n. ",
    "svenboogaart": "+1\n. ",
    "mihai-craita": "+1\n. +1 Any updates about this?\n. ",
    "JoeriAben": "+1\n. ",
    "kakaeriel": "+1\n. ",
    "wjharil": "+1\n. ",
    "str": "+1\n. +1 on the error\n. ",
    "rosilva": "+1\n. ",
    "lggwettmann": "+1\n. ",
    "ruchikamayekar": "Need support for bootstrap styling.\n. ",
    "ricardobarantini": "+1\n. ",
    "iaroel": "+1\n. ",
    "0x1ad2": "+1\n. ",
    "Kamisama666": "+1\n. ",
    "jameshiggins": "+1\n. ",
    "TarKHaoS": "+1\n. ",
    "dmcgill50": "+1\n. ",
    "arnisjuraga": "+1\n. ",
    "Elite40": "+1\n. ",
    "arlina-espinoza": "+1\n. ",
    "Yppiti": "+1\n. ",
    "SimeriaIonut": "+1\n. ",
    "st-aleksandar": "+1\n. Hi,  I have the same problem with fonts. Also, <strong> and <b> do not work in pdf.\n```\n$dompdf = new \\Dompdf\\Dompdf();\n    $dompdf->setPaper(\"A4\");\n//settings\n$options = new Dompdf\\Options();\n$options->setIsRemoteEnabled(true);\n$options->setDpi(100);\n$options->setIsHtml5ParserEnabled(true);\n$options->setIsJavascriptEnabled(true);\n$options->setIsPhpEnabled(true);\n$dompdf->setBasePath(get_template_directory() . '/style.css');\n\n$options->setIsFontSubsettingEnabled(true);\n$dompdf->setOptions($options);\n\n//$dompdf->output();\n\n\n\n// load the html content\n$content = '<!DOCTYPE html><html><head>';\n$content .= '<link rel=\"stylesheet\" src=\"lib/bootstrap/css/bootstrap.css\" type=\"text/css\"/>';\n//$content .= '<link rel=\"stylesheet\" href=\"'. get_template_directory_uri() .'/style.css\" type=\"text/css\" />';\n$content .= '<link rel=\"stylesheet\" src=\"style.css\" type=\"text/css\" />';\n$content .= '<style>';\n$content .= '\n@font-face {\n    font-family: \"fontbold\";\n    font-style: normal;\n    font-weight: bold;\n    src: url(\"DejaVuSerif-Bold.ttf\") format(\"truetype\");\n}';\n$content .= '<div id=\"header\">'. $subtitle . '</div>' . $html . '</body></html>';\n\n//write to file\n\n//    $myfile = fopen(\"newfile.html\", \"w\") or die(\"Unable to open file!\");\n//    $txt = $content;\n//    fwrite($myfile, $txt);\n//    fclose($myfile);\n$dompdf->loadHtml($content);\n$dompdf->render();\n$dompdf->setBasePath(get_template_directory_uri() . '/lib/bootstrap/css/bootstrap.csss');\n$canvas = $dompdf->getCanvas();\n\n$canvas->page_text(28, 10, $title,'', 18, array(0,0,0)); #header\n//$canvas->page_text(28, 35, $solution . ' ' . $feature, '', 10, array(0,0,0)); #header\n$canvas->page_text(28, 800, \"Copyright \u00a92016 GPS Insight\", '', 8, array(0,0,0)); #copyright\n\n$canvas->page_script('\n    $pdf->image(get_stylesheet_directory().\"/helpcenterlogo.png\",487,10,80,35);#logo\n    $pdf->line(28,60,567,60,array(0,0,0),1); #header hr\n    $pdf->line(28,795,567,795,array(0,0,0),1); #footer hr\n');\n\n$canvas->page_text(500, 800, \"Page: {PAGE_NUM} of {PAGE_COUNT}\", '', 8, array(0,0,0)); #footer\n\n//$dompdf->setOptions('defaultFont', 'Courier');\n\n$dompdf->stream($title);\n\n``\n. @bsweeney Thanks for replay, this was just a sample. But I noticed that same code in my localhost bolds` attributes, but on the server strong do not work.\n. ",
    "IamSwap": "+1\n. ",
    "raoulj": "+1\n. ",
    "developer-lindner": "+1 same for Foundation Sites, please\n. @bsweeney sure, here you go:\nPHP / HTML :\n```\n<?php\n/*\n * Created by PhpStorm.\n * User: Thomas Lindner\n * Date: 06.07.16\n * Time: 10:08\n /\nrequire_once(DIR . '/vendor/autoload.php');\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\nclass Form2PDF{\nprivate $data;\n\nprivate $uploads;\n\nprivate $filename;\n\nprivate $doc;\n\nprivate $page;\n\nprivate $options;\n\npublic function __construct($data, $uploads, $filename)\n{\n    $this->data = $data;\n    $this->uploads = $uploads;\n    $this->filename = $filename;\n\n\n    $this->options = new Options();\n    $this->options->set('isHtml5ParserEnabled', 'true');\n    $this->options->set('chroot', realpath( __DIR__ ));\n    $this->options->set('enable_remote', true);\n    $this->options->set('enable_php', true);\n\n\n    $this->doc = new Dompdf($this->options);\n    $this->doc->setPaper('A4', 'portrait');\n    $this->createPages();\n}\n\nprivate function createPages()\n{\n    $this->doc->loadHtml( $this->getTemplate() );\n    $this->doc->render();\n\n    file_put_contents($this->filename, $this->doc->output());\n}\n\npublic function getTemplate()\n{\n    $css_path = realpath( __DIR__ ).'/css/build/print.css';\n\n    $html = <<<EOF\n\n\n\n\n\n\n\n\nPers\u00f6nliche Angaben\n\n\nVorname\nLorem ipsum dolor sit amet\n\n\nNachname\nLorem ipsum dolor sit amet\n\n\n\n\nGeschlecht\nLorem ipsum dolor sit amet\n\n\n\n\ngeboren am\nLorem ipsum dolor sit amet\n\n\nGeburtsort\nLorem ipsum dolor sit amet\n\n\n\n\nStaatsangeh\u00f6rigkeit\nLorem ipsum dolor sit amet\n\n\nReligionszugeh\u00f6rigkeit\nLorem ipsum dolor sit amet\n\n\n\n\nFamilienstand\nLorem ipsum dolor sit amet\n\n\nZahl der Geschwister\nLorem ipsum dolor sit amet\n\n\n\n\nBeruf des Vaters\nLorem ipsum dolor sit amet\n\n\nBeruf der Mutter\nLorem ipsum dolor sit amet\n\n\n\n\nTelefon\nLorem ipsum dolor sit amet\n\n\nMobil\nLorem ipsum dolor sit amet\n\n\n\n\nE-Mail-Adresse\nLorem ipsum dolor sit amet\n\n\n\n\nHobbys\nLorem ipsum dolor sit amet\n\n\n\n\nSonstige Angaben\nLorem ipsum dolor sit amet\n\n\n\n\nSprachen\n\n\nWelche Muttersprache sprechen Sie?\nLorem ipsum dolor sit amet\n\n\n\n\nFalls Deutsch als Fremdsprache \nLorem ipsum dolor sit amet\n\n\n\n\nWeitere Sprachen\nLorem ipsum dolor sit amet\n\n\nWeitere Angaben\n\n\nHaben Sie bereits in einem Wohnheim gewohnt?\nLorem ipsum dolor sit amet\n\n\n\n\nWenn ja, in welchen, wo und wie lange?\nLorem ipsum dolor sit amet\n\n\n\n\nErhalten Sie Leistungen nach dem Bundesausbildungsf\u00f6rderungsgesetz (BAf\u00f6G)?\nLorem ipsum dolor sit amet\n\n\n\n\nWie finanzieren Sie haupts\u00e4chlich Ihr Studium?\nLorem ipsum dolor sit amet\n\n\n\n\nBisheriges ehrenamtliches Engagement?[textarea engagement_text]\n                Lorem ipsum dolor sit amet\n\n\n\n\n\n\n\n\nUnterkunft\nLorem ipsum dolor sit amet\nEOF;\n                //foreach($this->data['asylum'] as $key => $asylum)\n                //{\n                    //$html .= \"$asylum\";\n                //}\n$html2 = <<\n\n\n\n\n\nSemester\nLorem ipsum dolor sit amet\n\n\nFalls abweichender Einzug, zu welchem Datum?\nLorem ipsum dolor sit amet\n\n\nAufenthalt in M\u00fcnster \u00fcber spezielles Bildungsprogramm?\n\n\nwelches?\nLorem ipsum dolor sit amet\n\n\nvon - bis?\n{Lorem ipsum dolor sit amet\n\n\n\n\nStudienf\u00e4cher\nLorem ipsum dolor sit amet\n\n\nStudienziel\nLorem ipsum dolor sit amet\n\n\nBisherige Semester\nLorem ipsum dolor sit amet\n\n\n\n\n\n\nF\u00fcr unsere Statistik\nWie sind Sie auf unsere Studierendenwohnheime aufmerksam geworden?\n\n\nInternet/ Homepage, welche?\nLorem ipsum dolor sit amet\n\n\n\n\nZeitung/ Magazin, welche?\nLorem ipsum dolor sit amet\n\n\n\n\nPersonen, welche?\nLorem ipsum dolor sit amet\nEOF;\n                //foreach($this->data['noticing_statistics'] as $key => $value)\n                //{\n                    //$html2 .= \"$value\";\n                //}\n$html3 = <<\n\n\n\nSonstige\nLorem ipsum dolor sit amet\n\n\n\n\n\n\nEOF;\n        return $html.$html2.$html3;\n}\n\n}\n```\nAnd the CSS:\n```\n/! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css /\nhtml {\n    font-family: sans-serif;\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%\n}\nbody {\n    margin: 0\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n    display: block\n}\naudio,\ncanvas,\nprogress,\nvideo {\n    display: inline-block;\n    vertical-align: baseline\n}\naudio:not([controls]) {\n    display: none;\n    height: 0\n}\n[hidden],\ntemplate {\n    display: none\n}\na {\n    background-color: transparent\n}\na:active,\na:hover {\n    outline: 0\n}\nabbr[title] {\n    border-bottom: 1px dotted\n}\nb,\nstrong {\n    font-weight: bold\n}\ndfn {\n    font-style: italic\n}\nh1 {\n    font-size: 2em;\n    margin: 0.67em 0\n}\nmark {\n    background: #ff0;\n    color: #000\n}\nsmall {\n    font-size: 80%\n}\nsub,\nsup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline\n}\nsup {\n    top: -0.5em\n}\nsub {\n    bottom: -0.25em\n}\nimg {\n    border: 0\n}\nsvg:not(:root) {\n    overflow: hidden\n}\nfigure {\n    margin: 1em 40px\n}\nhr {\n    box-sizing: content-box;\n    height: 0\n}\npre {\n    overflow: auto\n}\ncode,\nkbd,\npre,\nsamp {\n    font-family: monospace, monospace;\n    font-size: 1em\n}\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n    color: inherit;\n    font: inherit;\n    margin: 0\n}\nbutton {\n    overflow: visible\n}\nbutton,\nselect {\n    text-transform: none\n}\ninput {\n    line-height: normal\n}\nlegend {\n    border: 0;\n    padding: 0\n}\ntextarea {\n    overflow: auto\n}\noptgroup {\n    font-weight: bold\n}\ntable {\n    border-collapse: collapse;\n    border-spacing: 0\n}\ntd,\nth {\n    padding: 0\n}\n.foundation-mq {\n    font-family: \"small=0em&medium=40em&large=64em&xlarge=75em&xxlarge=90em\"\n}\nhtml {\n    font-size: 14px;\n    box-sizing: border-box\n}\n,\n::before,\n*::after {\n    box-sizing: inherit\n}\nbody {\n    padding: 0;\n    margin: 0;\n    font-family: \"Roboto\", sans-serif;\n    font-weight: normal;\n    line-height: 1.5;\n    color: #656565;\n    background: #fff;\n}\nimg {\n    max-width: 100%;\n    height: auto;\n    display: inline-block;\n    vertical-align: middle\n}\ntextarea {\n    height: auto;\n    min-height: 50px;\n    border-radius: 0\n}\nselect {\n    width: 100%;\n    border-radius: 0\n}\nmap_canvas img,\nmap_canvas embed,\nmap_canvas object,\n.map_canvas img,\n.map_canvas embed,\n.map_canvas object,\n.mqa-display img,\n.mqa-display embed,\n.mqa-display object {\n    max-width: none !important\n}\nbutton {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background: transparent;\n    padding: 0;\n    border: 0;\n    border-radius: 0;\n    line-height: 1\n}\n[data-whatinput='mouse'] button {\n    outline: 0\n}\n.is-visible {\n    display: block !important\n}\n.is-hidden {\n    display: none !important\n}\n.row {\n    max-width: 85.7142857143rem;\n    margin-left: auto;\n    margin-right: auto\n}\n.row::before,\n.row::after {\n    content: ' ';\n    display: table\n}\n.row::after {\n    clear: both\n}\n.row.collapse>.column,\n.row.collapse>.columns {\n    padding-left: 0;\n    padding-right: 0\n}\n.row .row {\n    max-width: none;\n    margin-left: -.7142857143rem;\n    margin-right: -.7142857143rem;\n    max-width: none\n}\n.row .row.collapse {\n    margin-left: 0;\n    margin-right: 0\n}\n.row.expanded {\n    max-width: none\n}\n.row.expanded .row {\n    margin-left: auto;\n    margin-right: auto\n}\n.column,\n.columns {\n    width: 100%;\n    float: left;\n    padding-left: .7142857143rem;\n    padding-right: .7142857143rem\n}\n.column:last-child:not(:first-child),\n.columns:last-child:not(:first-child) {\n    float: right\n}\n.column.end:last-child:last-child,\n.end.columns:last-child:last-child {\n    float: left\n}\n.column.row.row,\n.row.row.columns {\n    float: none\n}\n.row .column.row.row,\n.row .row.row.columns {\n    padding-left: 0;\n    padding-right: 0;\n    margin-left: 0;\n    margin-right: 0\n}\n.medium-1 {\n    width: 8.3333333333%\n}\n.medium-push-1 {\n    position: relative;\n    left: 8.3333333333%\n}\n.medium-pull-1 {\n    position: relative;\n    left: -8.3333333333%\n}\n.medium-offset-0 {\n    margin-left: 0%\n}\n.medium-2 {\n    width: 16.6666666667%\n}\n.medium-push-2 {\n    position: relative;\n    left: 16.6666666667%\n}\n.medium-pull-2 {\n    position: relative;\n    left: -16.6666666667%\n}\n.medium-offset-1 {\n    margin-left: 8.3333333333%\n}\n.medium-3 {\n    width: 25%\n}\n.medium-push-3 {\n    position: relative;\n    left: 25%\n}\n.medium-pull-3 {\n    position: relative;\n    left: -25%\n}\n.medium-offset-2 {\n    margin-left: 16.6666666667%\n}\n.medium-4 {\n    width: 33.3333333333%\n}\n.medium-push-4 {\n    position: relative;\n    left: 33.3333333333%\n}\n.medium-pull-4 {\n    position: relative;\n    left: -33.3333333333%\n}\n.medium-offset-3 {\n    margin-left: 25%\n}\n.medium-5 {\n    width: 41.6666666667%\n}\n.medium-push-5 {\n    position: relative;\n    left: 41.6666666667%\n}\n.medium-pull-5 {\n    position: relative;\n    left: -41.6666666667%\n}\n.medium-offset-4 {\n    margin-left: 33.3333333333%\n}\n.medium-6 {\n    width: 50%\n}\n.medium-push-6 {\n    position: relative;\n    left: 50%\n}\n.medium-pull-6 {\n    position: relative;\n    left: -50%\n}\n.medium-offset-5 {\n    margin-left: 41.6666666667%\n}\n.medium-7 {\n    width: 58.3333333333%\n}\n.medium-push-7 {\n    position: relative;\n    left: 58.3333333333%\n}\n.medium-pull-7 {\n    position: relative;\n    left: -58.3333333333%\n}\n.medium-offset-6 {\n    margin-left: 50%\n}\n.medium-8 {\n    width: 66.6666666667%\n}\n.medium-push-8 {\n    position: relative;\n    left: 66.6666666667%\n}\n.medium-pull-8 {\n    position: relative;\n    left: -66.6666666667%\n}\n.medium-offset-7 {\n    margin-left: 58.3333333333%\n}\n.medium-9 {\n    width: 75%\n}\n.medium-push-9 {\n    position: relative;\n    left: 75%\n}\n.medium-pull-9 {\n    position: relative;\n    left: -75%\n}\n.medium-offset-8 {\n    margin-left: 66.6666666667%\n}\n.medium-10 {\n    width: 83.3333333333%\n}\n.medium-push-10 {\n    position: relative;\n    left: 83.3333333333%\n}\n.medium-pull-10 {\n    position: relative;\n    left: -83.3333333333%\n}\n.medium-offset-9 {\n    margin-left: 75%\n}\n.medium-11 {\n    width: 91.6666666667%\n}\n.medium-push-11 {\n    position: relative;\n    left: 91.6666666667%\n}\n.medium-pull-11 {\n    position: relative;\n    left: -91.6666666667%\n}\n.medium-offset-10 {\n    margin-left: 83.3333333333%\n}\n.medium-12 {\n    width: 100%\n}\n.medium-offset-11 {\n    margin-left: 91.6666666667%\n}\n/# sourceMappingURL=print.css.map /\n```\n. Switched to mPDF.\n. @Jany-M It worked although i had to modify the usual markup and reduced the css to a minimum like this:\n```\nbody{\n    font-family: 'sans-serif';\n}\n.row {\n    width:100%;\n}\n.column,\n.columns {\n    width: 100%;\n    float: left;\n    margin-bottom: 10px;\n}\n.medium-1 {\n    width: 8.3333333333%;\n}\n.medium-2 {\n    width: 16.6666666667%;\n}\n.medium-3 {\n    width: 25%;\n}\n.medium-4 {\n    width: 33.3333333333%;\n}\n.medium-5 {\n    width: 41.6666666667%;\n}\n.medium-6 {\n    width: 50%;\n}\n.medium-7 {\n    width: 58.3333333333%;\n}\n.medium-8 {\n    width: 66.6666666667%;\n}\n.medium-9 {\n    width: 75%;\n}\n.medium-10 {\n    width: 83.3333333333%;\n}\n.medium-11 {\n    width: 91.6666666667%;\n}\n.medium-12 {\n    width: 100%;\n}\nspan{\n    font-weight:bold;\n}\np{\n    margin:0;\n}\n```\n. ",
    "fitoe": "+1\n. ",
    "Mondaymarket": "+1\n. ",
    "rahman541": "+1\n. ",
    "sergiodlopes": "+1\n. ",
    "andrerademacher": "+1 :). ",
    "gitmuts": "+1. +1. ",
    "jaap115": "+1\n. +1\n. ",
    "meorajrul": "+1\n. ",
    "chrBrd": "I'm having what I assume to be the same problem @Jany-M had - top level columns display okay, but any nested inside those ignore row and column stylings and start floating on top of each other. Problem's still there on the 0.7.x-dev build.. ",
    "zeraist": "+1. ",
    "pixelchutes": "I just posted a simplified example on the :before/:after issue in 0.7.0, and I was able to boil it down to a very basic example.\nThe problem is that once you've included Bootstrap's CSS, there does not seem to be a way around it until #758 is fixed first.. I've been able to reproduce this issue in v0.7.0 with something as simple as:\nhtml\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"UTF-8\">\n        <title>Psuedo Issue</title>\n        <style>\n            :before{}\n        </style>\n    </head>\n    <body>\n        <input type=\"text\" value=\"This text gets hidden\">\n    </body>\n</html>\nWITHOUT PSEUDO :before or :after:\n\nWITH PSEUDO :before or :after:\n\nEDIT:\nI tested againstdevelop branch as recent as 6f8c47ea7bb4d8ec4e458cd4ee08d0fd93a441e1, and it appears this issue has been resolved!. ",
    "ajoaespinola": "I just came here to leave my +1 :-). ",
    "mkwsra": "Same here\n+1 \ud83d\ude04 . ",
    "crushcafeteria": "+2. this issue was opened in 2015. i will try to contribute towards this. we direly need it. +2. this issue was opened in 2015. i will try to contribute towards this. we direly need it. ",
    "enzofjh": "+1.... four years later. Where should I change te DPI??\nCan you please provide an example?\nOn Fri, Jan 12, 2018 at 8:47 AM Wim Pruiksma notifications@github.com\nwrote:\n\n@Soullivaneuh https://github.com/soullivaneuh the problem with dompdf\nis that its grid is not compatible with dompdfs DPI.\ncol-md-12 will result in a div outside the pdf sheet. When you change the\nDPI the grid will fit just fine.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/631#issuecomment-357257101, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AIS8QNNbWVdVyQoNtYAt_Tl1j6mLfNLpks5tJ3CNgaJpZM4Aoewy\n.\n. thank you, I will try it\n\nOn Thu, Feb 1, 2018 at 8:57 AM, Adrien Cohen notifications@github.com\nwrote:\n\n@enzofjh https://github.com/enzofjh Setting the DPI like this will get\nyou the grid to better fit the pdf file\n$options = new \\Dompdf\\Options();$options->setDpi(150);$dompdf = new \\Dompdf($options);\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/631#issuecomment-362290577, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AIS8QKAQre8bVMwlEEco4Tt8p2qF-KBbks5tQdDBgaJpZM4Aoewy\n.\n. \n",
    "Blair2004": "+1... for real since 2015 ??????. ",
    "Velliz": "+1 for bootstrap support \ud83d\udc4d . I have same issue, then downgrading from v0.8.2 to v0.8.1 solving the problem.. ",
    "seytone": "+1 Very helpful library, but please, add bootstrap support. We need it \ud83d\udc4d . +1 Very helpful library, but please, add bootstrap support. We need it \ud83d\udc4d . ",
    "iaunn": "+1. ",
    "cjessex": "+1. ",
    "guiliredu": "+1 . ",
    "wimurk": "+1. Still no bootstrap support? shame. I have found a simple solution for the grid issue. Change the \"DOMPDF_DPI\" to fit the grid. @Soullivaneuh the problem with dompdf is that its grid is not compatible with dompdfs DPI.\ncol-md-12 will result in a div outside the pdf sheet. When you change the DPI the grid will fit just fine.\nShame there is still no support for world leading bootstrap. Anyone found a fix? Looks like chrome likes to destroy dompdf with every update. ",
    "AmandoVledder": "+1 needing this. ",
    "peterbode1989": "+1. ",
    "serter95": "+1 need bootstrap in PDF documents please!\njust the css files to use col- class. ",
    "brunocouty": "Hello everybody! I resolve this problem using:\n$pdf = new Dompdf();\n    $pdf->loadHtml($html);\n    $pdf->setBasePath(public_path()); // This line resolve\n    $pdf->render();\n    $pdf->setPaper('A4');\n    $pdf->stream('arquivo');\nIn your html, call like:\n<link href=\"vendor/bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\" media=\"all\">\nBut have a problem... In the link bellow, I read: \nThe main problem that you are having is the PDF converter is basically converting for a print screen. The max width for printing is much smaller than a browser.\nWell, this is real... I'm with a problem to format the file, because I only can use the \"col-xs-*\"...\nSome idea?. ",
    "surgiie": "+1\n. ",
    "NilLlisterri": "+1. ",
    "mtx-z": "+1. ",
    "phiter": "+1 must have. I had tried multiple times and the error was persisting. Now after 5 hours I've tried again and the error didn't happen.. ",
    "drkwolf": "+1. ",
    "servetoz32": "+1. ",
    "adriencohen": "@enzofjh Setting the DPI like this will get you the grid to better fit the pdf file\nphp\n$options = new \\Dompdf\\Options();\n$options->setDpi(150);\n$dompdf = new \\Dompdf($options);. ",
    "recopv": "+1. Thanks for response, appreciate it\nOn Wed, Feb 14, 2018 at 1:04 PM, Ahmad Syamim notifications@github.com\nwrote:\n\nthank you, grid working fine when set the dpi. Thank you a lot.\n@enzofjh https://github.com/enzofjh Setting the DPI like this will get\nyou the grid to better fit the pdf file\n$options = new \\Dompdf\\Options();\n$options->setDpi(150);\n$dompdf = new \\Dompdf($options);\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/631#issuecomment-365497204, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AI8-BBp_tservvU6_ZNWBzTWhIPU9kJLks5tUmlQgaJpZM4Aoewy\n.\n. \n",
    "ahmadsyamim": "thank you, grid working fine when set the dpi. Thank you a lot.\n\n@enzofjh Setting the DPI like this will get you the grid to better fit the pdf file\n\n$options = new \\Dompdf\\Options();\n$options->setDpi(150);\n$dompdf = new \\Dompdf($options);. ",
    "alissonalberini": "+1 for bs. ",
    "josegus": "+5. Any idea how can i set te callbacks in laravel-dompdf package? i need to get the size of the body\n. ",
    "xphere": "You're right, maybe this is not a one-size-fits-all case. I usually include composer's autoload.php from another script where I define my own custom application configuration, so it's easier for me to setup dompdf settings and more.\n. ",
    "nickmorlan": "I am running 0.6.0 beta 3.\nI would be more than willing to send my converted font files if that would help.. I cannot attach directly here but i could email them to someone.  I am not sure about the policy for posting emails addresses and could not figure out how to send a direct message via github..\n. I used your uploader and put a zip file with all the files I have for that font pre-dompdf conversion\nI didn't upload my dompdf converted font files.. Just realized you may want the dompdf font and cache files.. Appologies if you need those as well I can get them over.\n. Hate to bump a topic but cant directly contact you.  Have you looked at the fonts? Could you point me in a direction to explore?  I am not familiar with font metrics and the created font files but would like to figure this one out.\n. I think the edited ufm files worked.\nI had an issue with one printer but I can get around that.\nThanks for the help.. shoot me an email at stuff at r5kmedia dot com.. Id\nlove to send you a case of beer!\nOn Fri, May 17, 2013 at 2:09 PM, Brian Sweeney notifications@github.comwrote:\n\nThere appears to be something wrong with the font. I used the php-font-lib\nweb app to analyze the font. When looking at the glyphs tab you can see a\nglyph for the space character. But when you look at the Unicode map tab the\nspace character isn't represented.\nSo the problem isn't with dompdf. Though it's possible we should code some\nkind of fallback in php-font-lib to handle missing characters (such as the\nspace character) that are universal and necessary. @PhenXhttps://github.com/PhenXis more knowledgeable in this area so his feedback is important to the\nissue.\nIf you manually modify your .ufm files to include information for the\nspace character dompdf will be able to break the lines more appropriately.\nBased on the glyph information it looks like the space should take up the\nsame width as an exclamation. I uploaded the modified .ufm files I used\nhere:\nhttp://eclecticgeek.com/dompdf/upload/_upload/3134856054/slimbach_ufm.zip\nNote: Don't forget to delete the cached font metrics before trying out\nthe new files. They're named the same as the font metrics files but end\nwith .ufm.php\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/634#issuecomment-18077208\n.\n. \n",
    "thedavidscherer": "http://pastebin.com/YVDeraBn\n. ",
    "calvyno": "Thanks for the speedy response! I actually googled the file name and found the source code for that file and manually added it in just now, and it works great. :)\n. ",
    "paulscode": "What is the best way to handle this in a Composer project, so that the php-font-lib folder gets auto-updated along with everything else?\n. That doesn't seem to import php-font-lib though (just pulls an empty folder, resulting in missing references in dompdf_config.inc.php.  As usual, though, I solved my own problem right after asking the question :)  What I did was create a separate package for php-font-lib in my composer.json after the dompdf package.  For the \"name\" parameter I used dompdf/dompdf/lib/php-font-lib.  This pulled in the files to the correct folder.\n. ",
    "cdonovan329": "From github, use the 'encoding' branch rather than the 'master'.\nI'm using it within drupal and had been banging my head up against a wall on this for a little while.\n. ",
    "audiobreather": "I had the same issue. It seems that dompdf's composer.json already has phenx/php-font-lib included.\nSo what I did was to change the directory of php-font-lib in dompdf_config.inc.php file.\nSomething like this:\nFrom: require_once(DOMPDF_LIB_DIR . \"/php-font-lib/classes/Font.php\");\nTo: require_once(DOMPDF_DIR . \"/../../phenx/php-font-lib/classes/Font.php\");\nAnd it worked. I hope this helped others who are encountering the same problem.\n. ",
    "MatteoOreficeIT": "using composer i needed to make \nln -s ../../../phenx/php-font-lib/ in lib dir\nusing composer autoload.php everything works, but from vendor/dompdf/dompdf/www/ i receive errors \nPHP message: PHP Fatal error:  require_once(): Failed opening required /path/to/composerroot/vendor/dompdf/dompdf/lib/php-font-lib/classes/Font.php\nonly dompdf web app cannot autoload Font.php, also the command line php dompdf.php is not working, the symlink solved the problem\nthe \n. ",
    "arsendovlatyan": "Hello Guys. \nbsweeney, You advise developers to use composer to get the library. I did so, but, after composer download, I can see that php-font-lib folder is empty.It is located under vendor/phenx. Can You please update the composer.json file in the repo so, that it place it in the right place, or instead of it, update config file so that it require that lib from the correct location. (dompdf => 0.6.1, phenx => 0.2.2)\nThank You\n. Hello bsweeney.\nThank's for the quick response.\nIn my project I use composer update to get all the required libraries (including dompdf).\nFirst of all, i'm beginning working doing \"composer update\". Everything works fine, it get dompdf library, I can use it to create nice pdf's (setting \"DOMPDF_ENABLE_AUTOLOAD\" to false).\nBut what if i want to include my fonts into the library?\nAs I understand correctly I have to navigate to the dompdf folder (http://example.com/vendor/dompdf/www) and I have to see the dompdf intro page, where I can add my fonts manually. I can't do so, because I have an error saying that php-font-lib/classes/font.php is missed. Instead of all the required classes to be included in the dompdf/lib/php-font-lib folder, they are  in the vendor/phenx folder and if I open the config file, I can see that dompdf requires that classes from the vendor/dompdf/lib/php-font-lib folder and it can't work.\nSo my question is the following.\nWhy that lib classes are located in the wrong location?\n. getmanzooronline, you are write, thank you. But It works, if you manually put the lib classes in the mentioned folder. But this is not the right solution if You use composer to install the library.\n. ",
    "getmanzooronline": "This answer worked for me.\nhttp://stackoverflow.com/a/24505929/1357033\n. ",
    "samuelecarpene": "i updated to the last version but now instead of the image i see a big \"X\" and a link to the image.\nany suggestion?\n. ",
    "francoisdusautoir": "Thank's for you answer. Yes you're right about the large number of span, i'd just thought about it 1hour ago and I generated the code removing the span tag and it works fine now ! \n. ",
    "vietvh": "I am having this issue too but with p tag: with more than 10 ~ 15 p tags in my html template the CPU raised to 100%. Tried to change from p to br (use them for text line breaking) and the issue still the same, had to reduce the number of p or br in order to be able to generate PDF.\nFatal error: Maximum execution time of 30 seconds exceeded in /../../dompdf/include/style.cls.php on line 1136 \nDomPDF 0.6.1\n. ",
    "dicearr": "@bsweeney May I suppose that this feature remains unimplemented? Is there any alternative way of doing this?\nEDIT1: I'm actually trying to keep the border-bottom in a broken table. I've commented out line 705 from AbstracFrameDecorator without any success. Any suggestion?\nEDIT2: I finally did the trick adding a border to tbody and changing a little the code above.. ",
    "ynthn": "thanks\n. if I use border-radius, use the version 0.6.0 BETA 3 DOMPDF\n. thanks\n. DOMPDF 0.6.0 beta 3\nwith this structure works perfect, but if the text is too long does not work\n``` html\n\ntitle...\n\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\n\n\n```\n. 5.4 version of php with codeigniter framework\ndownloaded from github.com / dompdf / dompdf DOMPDF vercion 0.6.0 beta 3\nand the problem continues\n. hello, probe the text in a different project today and it worked perfect, I think it must have something in my project maybe the CSS\n. Hi, I solved was the footer and header\n``` css\nheader {position: relative; left: 0px; right: 0px; font-size: 10px; color: # 888}\nfooter {position: fixed; left: 0px; bottom:-180px; right: 0px; height: 150px; font-size: 12px; color: # 808080}\n```\nthem out and it works perfect. I now use a function of DOMPDF for the footer and header\nphp\n$pdf-> page_text ($ w - 60, $ h - 10, \"{page_num} - {PAGE_COUNT}\", $ font, 10, array (0.5,0.5,0.5));\nthank you very much!\n. thanks\n. ",
    "craigwillis85": "Hi\nI'm using Ubuntu 12.04 and PHP5.4.6.\nThe output from the code I'm using:\n$dompdf = new DOMPDF();\n$test = '<html><body><div style=\"position:absolute; height:300px; width: 300px; top:0; left:0\"><div style=\"position:relative; width: 100px; height:100px; border:1px solid green;\"><p>Some Text</p></div></div></body></html>';\n$dompdf->load_html($test);\n$dompdf->render();\n$output = $dompdf->output();\nfile_put_contents('/var/www/Brochure.pdf', $output);\nThis outputs the following:\nhttp://www.pdfhost.net/index.php?Action=Download&File=df0e83e677bd58e8adee07827b7c3474\n. ",
    "helgator": "Still an issue in 0.8.3. putting a div with \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;  width: 76mm;\" into a table cell cuts off the div but the cell still expands to the right as if the overflow is not hidden in the generated pdf.. BTW: word-break is also not a solution because not supported in dompdf.. Thanks for the quick response. Your approach works. I tried \nwhite-space: nowrap; overflow: hidden; text-overflow: ellipsis;\non the inner div which does not work and exapands the table cell.. Just discovered that your approach only works on the surface. In the PDF when you select the text in the container underneath it reveals the over flowing text. At the same time it seams to alter the line height which is why bigger in the generated PDF than in the HTML view: \n\n\n. ",
    "zimmski": "In the case that the locale is changed during render() even a stack-based solution with more locale switching would not fit your criteria for being safe. Why does dompdf need to change the LC_NUMERIC locale at all? Is there any documentation on this? There are some sprintf() calls with %F which is locale independent. I also saw that there is a mb_internal_encoding('UTF-8') call in the dompdf_config.inc.php. I think, that this should be up to the user as well.\nIs there any documentation on these test suite plans? Maybe I could wrap something up when I find the time. I say, even an incomplete test suite is a good one if you put every new change in it!\n. ",
    "BognarB": "Ok.\nI'll study how to do this and probably I'll be able to help you soon.\nI'm new on Github to.\nThank you answer.\n[]'s\nEm 23/05/2013, \u00e0s 17:27, Brian Sweeney notifications@github.com escreveu:\nEveryone has to start somewhere, right? Probably, for now, the best place for this information is on the wiki. I do see that we have no setup advice file, which might be useful. So a general INSTALL.md (or some similar file) would be in order. I think any OS-specific instructions should live on the wiki that way they can be easily updated and we don't clutter the dompdf directory.\n\u2014\nReply to this email directly or view it on GitHub.\n. ",
    "tempe-goreng": "Hi,\nIs there a solution for this issue? I have a similar problem when multiple pages inside page-break-inside:avoid;\nbasically my code is like the following.\n```\n<?php\nfor ($x=0; $x<=5; $x++) {\n?>\n\ntitle...\n\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\ntext...text...text...text...text...text...text...text...text...text...text...text...\naaaaaa...aaaaaa...aaaaaa...aaaaaa...\n\n\n<?php } ?>\n```\nAlso, is there a way for dompdf to not render the part that exceed the section that exceeds the page break? For example if the aaaaaa... part is suppose to show on page 2, then we do not generated pdf for that. Only for the page that is contained on page 1.\nThanks\n. ",
    "polga": "I'm seeing the same problem as tempe-goreng.\nPerhaps there is workaround to this problem, at least in my case \u2013 if I knew where the next block of text was going to be written (say a y-coordinate), I could programmatically determine if I wanted to add a page break before or not. Maybe there is a way to do this with DOMPDF? Not sure what the others' use cases are, and this should probably be fixed, but maybe this would solve the problem in the interim.\nThanks!\n. ",
    "sinothoma": "Hello All, \nI am used the following html code,I got several blank pages and content is not displaying properly in the table.\n```\n\n\nSample \"Hello, World\" Application\n\n",
    "ArvidEnbom": "I have this issue as well. Whenever I use page-break-inside:avoid on an element that is larger than one page, the entire element is squished into the top left corner, and I get all sorts of other issues.\n\nRight now I'm forced to comment out the page-break-inside:avoid and just have the element continue on the next page, since there's no way to solve it.\n. ",
    "rick31": "have you found  a solution to this problem ?. With the \"end_frame\" callback i can retrieve the frames positions list (with $frame->get_padding_box ) and then i get my last y position. Could you kindly confirm that it's the good way ? . $dompdf = new Dompdf();\n$dompdf->setCallbacks(\n  array(\n    'myCallbacks' => array(\n      'event' => 'end_frame', 'f' => function ($infos) {\n        $frame = $infos[\"frame\"];\n    $GLOBALS[\"array_coord\"][] = $frame->get_padding_box();\n      }\n    )\n  )\n);\nBy the way is there a way to search coordinates of an element even if it isn't the last one? Maybe with a dummy class added to retrieve it during callback?. Where is located this function get_margin_box ? I will have a look ...\nLast but not least, how to get the page number where my element is ? . Sorry for the delay, i haven't notice differences between get_margin_box and get_border_box but i'll will have a deeper look on it later.. Thanks for the page number tip ! \nThe solution seems to be durable so i will post it on SO \ud83d\udc4d \nThanks again ! . ",
    "JorenWillems": "Hi managed to get what I wanted by using the @page prop and a div header\nwith a background image en de the position: fixed prop.\nOp 30 mei 2013 16:44 schreef \"Brian Sweeney\" notifications@github.com het\nvolgende:\n\nIt could be that you're not rendering what you think you are. You're\nloading a PHP file and unless you have DOMPDF_ENABLE_PHP set to true the\nPHP parts of the file will not be rendered. Generally we recommend enabling\nthis setting. The other way to retrieve the rendered PHP content is via\nyour web server (e.g. $dompdf->load_html_file('\nhttp://example.com/output.php');).\nIf your image is really a background then why not set it as the background\non the body element instead. Though we don't currently support the\nbackground-size property so if the image doesn't match the page dimensions\nyou'll not get the expected results.\nIt would help to see some sample HTML showing how you're trying to set\nyour header. Also, what version of dompdf are you using?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/654#issuecomment-18684623\n.\n. \n",
    "sameer-shelavale": "Hi,\nI just tried using latest code from nightly build.\nit has same problem\n\u092c\u094d\u0930 \u0939\u094d\u0930 \u0935\u094d\u0930 \u092a\u094d\u0930 \u0915\u094d\u0930\u093f\nis rendered as \n\u092c\u094d\u200c\u0930 \u0939\u200c\u0930 \u0935\u094d\u200c\u0930 \u092a\u094d\u200c\u0930 \u0915\u094d\u200c\u0930\u200c\u093f\nis there some configuration in the font files to tweak the character offset etc?\n. hi,\nI just tried it with new download of php-font-lib  the problem persists.\nI also tried enabling and disabling the font subsettings\n. I am using 'mangal' which is by default shipped with Windows7.\nI added it to dompdf using the font utility and was trying to use it.\nI have even tried to use other fonts as well namely \"Dhruv\" and \"Vinit\"\n. ",
    "jasmeetdd": "Did anyone find a solution?\nOr do we have no choice but to shift to TCPDF.. Did anyone find a solution?\nOr do we have no choice but to shift to TCPDF.. ",
    "yonathanmunozbravo": "Each DIV has a title and a text, the idea is that the title does not stay alone at one page\n. hello, with page-break-after: avoid; unable to lock the title next to the text\nwhat I want to achieve is this:\n\n. page-break-after: avoid; works, with titles but with the tables does not work.\n. ",
    "vstefanoxx": "No news about it?\nRegards,\nStefano\n. ",
    "martinlazarov": "18.09.2015 - Have the developers had some time to fix it because it still breaks the conversion?\n. ",
    "nidhiyadav3": "You can use a custom paper size. It will solve the problem.\nExample :\n$paper_orientation = 'landscape';\n$customPaper = array(0,0,950,950);\n$dompdf->set_paper($customPaper,$paper_orientation);\n. ",
    "pbranthome": "Is there any solution with a good render for this issue ????\n. ",
    "larsjanssen6": "It still crashes: Frame not found in cellmap\n. ",
    "JontyNewman": "I also experienced this bug today. I can confirm it was due to a border-collapse on a table that extended across to another page.\n. ",
    "mdhama": "Error occurred when I use display:table-cell; css style.. ",
    "uglyeoin": "I do.  We have created a plugin for Joomla! so ignore any references as such the PDF will render fine in <div>s just not <table>s.  When I say fine it inserts a lot of page breaks which is what I was trying to avoid by using tables.\n```\n<?php\n?>\n<?php\n?>\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n\n\n",
    "claytonrcarter": "I was stuck on this Exception for a while. It ended up being poorly formatted HTML w/ a <th> being placed outside of a <tr>. After correcting the HTML structure, the Exception has not resurfaced.. ",
    "cauehqueiroz": "PDF BUG.txt\nI'm also having the same problem @bsweeney , in this case if a <tr> with rowspan attribute gets between pages it throws the same exception. \n\ud83d\ude1e \nI've added the HTML (PDF BUG,txt), hope you can solve it.\nAnyway, thanks for DOMPDF, it is great!. ",
    "AdnanBoota": "same issue here, any solution for this?\n\n. ",
    "ptlawrence": "\nEach of the rows in this table should have at least one check mark in it.  The check mark is a png, which is served from an external domain (<img src=\"http://...\">).\nYou'll notice that none of the rows on page two have the check mark rendered, even though the original html has definitely got them in it.  In fact, if I make the rendering happen on a 11x17 sized page so that the table isn't split, all the check marks show up appropriately.\n. Here's a simplified version of the table which is still breaking on page 2.  There should be check marks on those rows in page 2.  On html output, the check marks show, but after run through dompdf, they don't in the output pdf.  Here's the html:\nhttps://gist.github.com/ptlawrence/c414880e18fc9b4591a1\n. Also, I should have said that I'm rendering it on letter sized, with landscape orientation (in case you can't tell from the screenshot above).\n. ",
    "nathanntg": "Note: the subsequent pages don't look great (the spanning rows are not correctly displayed), but at least no exception is thrown.\n. Will do. I've been using this fix for a while, and it helps with some of the long tables, which were previously causing fatal errors. It's definitely not a perfect solution, but a good improvement. I will submit a new pull request against the develop branch.\n. I just saw that the develop branch already has a fix for this (commit 080887088e308400cc70555d3e2650c71a5536f0). The change in page break logic now correctly allows breaks after tables.\n(This can either be closed now or once develop is released, not sure of the preferred approach.)\nThanks!. ",
    "JonielRosales": "Hi,\n'm trying to automatically set 2 column on dynamic text and sadly column-count won't work for dompdf.  I don't like to use table to set 2 column section. Is there an alternative for \"column-count\"? \nAsking for any suggestions about this. Thank you so much.\nThis is the code that will be set on 2 columns, the code will generate 9 data from the database, the title and its description. :\n@foreach($level_2_desc[QuestionCode::AGREEABLENESS.'_headers'] as $key=>$header)\n        @if($header['desc'])\n            <div class=\"description-titles\">{{$key}}</div>\n            <p class=\"para\">\n                {{$header['desc']}}\n            </p>\n        @endif\n    @endforeach\n. Hi @bsweeney,\nThank you for your reply, however with a bunch of test I was able to find a resolution for this\nI created a class to get what I want :\n.descriptors-align {\n        width: 50%;\n        display: inline-block;\n    }\n\nThis is how I constructed it,\n@foreach($level_2_desc[QuestionCode::EXTRAVERSION.'_headers'] as $key=>$header)\n        <div class=\"descriptors-align\"> \n            @if($header['desc'])\n                    <div class=\"description-titles\">{{$key}}</div>\n                    <p class=\"para-2\">{{$header['desc']}}</p>\n                    <p class=\"question-header\">{{$header['question_header']}}</p>\n                    <p class=\"para-2\">{{$header['questions']}}</p>\n        </div>  \n            @endif\n        @endforeach\n. ",
    "MrZver": "Yes, I'm use installed/modified fonts because core not support non-unicode symbols.\n. Thank you bsweeney!\nChanging WX to a larger value for spaces resolve problem.\n. ",
    "nikhedonia": "Here is a testcase:\n```\n<?php\nini_set('display_errors', 'on');\nrequire_once('dompdf/dompdf_config.inc.php');\nfunction CreateRow($Data){ return \"$Data\"; }\n$Table2 = '';\n$Table2.= ''.CreateRow('Header2').'';\n$Table2.= '';\nfor($I=0;$I<100;++$I){ $Table2.=CreateRow(\"T2_D$I\"); }\n$Table2.= '';\n$Table2.= '';\n$Table1 = '';\n$Table1.= ''.CreateRow('Header1').'';\n$Table1.= '';\nfor($I=0;$I<50;++$I){ $Table1.= CreateRow(\"T1_D$I\"); }\n$Table1.=CreateRow($Table2);\nfor($I=50;$I<100;++$I){ $Table1.= CreateRow(\"T1_D$I\"); }\n$Table1.= '';\n$Table1.= '';\n$html=\"$Table1\";\nif(isset($_GET['html'])){ echo $html;}\nelse\n{\n    $dompdf = new DOMPDF(); \n    $dompdf->load_html($html);\n    $dompdf->render();\n    $dompdf->stream(\"buggy.pdf\");\n}\n?>\n```\n. ",
    "Daniel-Beardsmore": "Another example \u2014 start with this:\nhtml\n```\n\n\nTest PDF\n\n        table {\n            border-collapse: collapse;\n        }\n        td {\n            border: 1px solid black;\n            padding: 0.5em;\n        }\n    \n\n\nTest PDF\n\n\nTest\nTestMore testEven more testMore test stillIs there no end to tests?\n\n\nTest\n\n\nTest\n\n\nTest\n\n\nTest\nTest\n\n\n\n\nThen compare with this:\nhtml\n\n\nTest PDF\n\n        table {\n            border-collapse: collapse;\n        }\n        td {\n            border: 1px solid black;\n            padding: 0.5em;\n        }\n    \n\n\nTest PDF\n\n\nTest\nTestMore testEven more testMore test stillIs there no end to tests?Here is some more\n\n\nTest\n\n\nTest\n\n\nTest\n\n\nTest\nTest\n\n\n\n\n```\nThe only difference is that the second example has one extra line in the right-most cell. This causes all the corresponding cells in the left-hand column to grow taller, despite the fact that there is plenty of room in the rowspan cell for one more line.\nTested in DOMPDF v0.8.2.. It seems to be padding multiplication; this will cause all the extra height to vanish:\n<td rowspan=\"4\" style=\"padding: 0\">Test<br>More test \u2026\nThe cell padding calculation is being applied to each line of the cell by mistake, it seems. There's also an extra blank line being added to the bottom of the rowspan cell for some reason (not the top padding as it's a fixed amount seemingly). Using \"padding-bottom: 0\" removes a lot of the extra space though without interfering too much with the layout. Using \"padding: 0\" upsets the appearance but it does removes the stray blank line added to the cell.\nSince your example doesn't have padding, I wonder if you're just getting the blank line bug.. At a guess, the current working directory. You can use $dompdf->setBasePath($base_path) to set the base path. This is how my setup has always worked.. It's worth noting that you need to add the following before this will work in any browser:\n<table style=\"width:100%; border-collapse: collapse;\">\nWith that set, you can indeed apply borders to <tr>. And yes, DOMPDF seems not to be able to apply borders to <tr>, only to <td> and <th>. Also, you'd be better off, surely, using a <style> block and using CSS rules, as in td, th { border-top: 1px solid black; border-bottom: 1px solid black; }?\nThe bug still stands, however.. ",
    "javiercno": "indeed, I have this problem, I tried to fix it by replacing the cells in layers Three layers, type first it perfect, but the other layers, reference caught the second page and so on. Not the three layers are arranged.\nsorry for the language, I'm Spanish.\n. \nDisplays the image problem, the left is pdf, and the right is HTML\n. ",
    "IreneArgolloDelgadillo": "i try to do this  :\n```\n public function convertToPdfAction(Request $request, $id)\n    {\n        $options = new Options();\n        $options->set('defaultFont', 'Courier');\n        $dompdf = new Dompdf($options);\n        $html = file_get_contents( $this->render('http://localhost:8000/test/') );\n        $dompdf->loadHtml($html);\n    $dompdf->setPaper('A4', 'landscape');\n    $dompdf->render();\n    $dompdf->stream();\n\n}\n\n```\nit doesnt work, this is the error:\n\nUnable to find template \"http:/www.google.com\" (looked into: D:\\web\\ist\\ExamenesEnLinea\\tis\\app/Resources/views, D:\\web\\ist\\ExamenesEnLinea\\tis\\vendor\\symfony\\symfony\\src\\Symfony\\Bridge\\Twig/Resources/views/Form).\n500 Internal Server Error - InvalidArgumentException\n1 linked Exception: Twig_Error_Loader \u00bb\n\nanyone know why?, please help me\n. ",
    "garygreen": "+1 for this. Bootstrap uses it by default in scaffolding. Breaking dompdf.\n. ",
    "appcia": "+1\n. ",
    "IvoPereira": "+1\n. Any updates on this? Seemed promising.\n@bsweeney . ",
    "peterrath": "+1\n. ",
    "flowan": "+1\n. ",
    "tjons": "+1. ",
    "MichaelEugeneYuen": "+1. @denisosteo \nHope this helps\n/**\n     * Streams the PDF to the client.\n     *\n     * The file will open a download dialog by default. The options\n     * parameter controls the output. Accepted options (array keys) are:\n     *\n     * 'compress' = > 1 (=default) or 0:\n     *   Apply content stream compression\n     *\n     * 'Attachment' => 1 (=default) or 0:\n     *   Set the 'Content-Disposition:' HTTP header to 'attachment'\n     *   (thereby causing the browser to open a download dialog)\n     *\n     * @param string $filename the name of the streamed file\n     * @param array $options header options (see above)\n     */\n    public function stream($filename = \"document.pdf\", $options = array())\n```\n<?php\n// reference the Dompdf namespace\nini_set('display_errors',1); // enable php error display for easy trouble shooting\nerror_reporting(E_ALL); // set error display to all\nrequire_once \"dompdf/autoload.inc.php\";\nuse Dompdf\\Dompdf;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n// create pdf content\n// $html = 'Hello world !!!';\n$html = '';\n$html .= ''.PHP_EOL;\n$html .= ''.PHP_EOL;\n$html .= ''.PHP_EOL;\n$html .= ''.PHP_EOL;\n$html .= '\u732e\u7ed9\u6bcd\u4eb2\u7684\u7231'.PHP_EOL;\n$html .= ''.PHP_EOL;\n$html .= '';\n$dompdf->loadHtml($html);\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'portrait');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n// stream(filename [without .pdf], 1 compress, 1 force save dialog)\n$dompdf->stream('without.pdf',array('compress'=>1,'attachment'=>1));\n?>\n```\n\n. Open lib\\fonts\\dompdf_font_family_cache.php and check if your font name is properly added to file. I had same problem until I realize the name was added like '\\'droid'\\' instead of 'droid'.\n\nAnd I use this for my css:\nbody {\n        font-family: 'Droid', 'Helvetica';\n        font-size: 14px;\n    }\n. @bsweeney I used load_font.php like asika32764 did\nphp load_font.php 'Droid' DroidSansFallback.ttf\nThen the script escaped my single quotes. And according to the instruction, I shouldn't have added the single quotes.\nSo, it's not a bug but my carelessness.\nNow, everything's fine and I am able to use UTF-8 Chinese with other Languages\nhttps://github.com/dompdf/dompdf/wiki/UnicodeHowTo\n\n. @test82987 Did you get the DroidSansFallback.ttf file and put it in the correct? Did you check lib\\fonts\\dompdf_font_family_cache.php and see if you had the same problem I had?. > @workguy66 where did you get the font DroidSansFallbackFull.ttf? Can you share it?\nhttps://en.m.fontke.com/font/13057238/download/. I was trying to create an html output as close as the pdf output. So, I created a pdf.css like this:\n```\n* {\n    margin: 0;\n    box-sizing: border-box;\n}\nhtml {\n    padding-top: 10px;\n    background: #e6e6e6;\n    text-align: center;\n}\nbody {\n    display: inline-block;\n    width: 730px;\n    font-family: 'Droid', 'Helvetica';\n    font-size: 14px;\n    padding: 30px 40px;\n    text-align: left;\n    margin: 0 auto;\n    background-color: #FFF;\n}\n```\nThis way, float element will be in the white background.\n\n. Simply want to report this issue to you so that you can ignore the body styling, particularly inline-block to prevent crash.\nAs long as a wrapper with display: inline-block is working, I am cool with it.\nThat's why I need a pdf.css just for the purpose of it. Knowing what can be applied and what not.\nThanks for the great dompdf!. I am using dompdf_0-8-1. Thanks\n\n. Just did some tests, and narrow down the problem:\n<p>&nbsp;</p>\ndoesn't seem to have any effect after I applied\n* {\nmargin: 0;\n}\n. I have attached pdf. Hope that helps\ndoc.pdf\n. @AndriusCTR I use\n$content = file_get_contents('output.php');\n$dompdf->loadHtml($content);\nAnd I just have just tested output.php with\n<link href=\"pdf.php\" rel=\"stylesheet\">\nIt worked fine with proper css. My pdf.php (css)\n```\n<?php\n    header(\"Content-type: text/css; charset: UTF-8\");\n?>\n@font-face {\n  font-family: 'Droid';\n  font-style: normal;\n  font-weight: normal;\n  src: url('dompdf/lib/fonts/DroidSansFallback.ttf') format('truetype');\n}\n\n{\n    margin: 0;\n    box-sizing: border-box;\n}\n\nhtml {\n    padding-top: 10px;\n    background: #e6e6e6;\n    text-align: center;\n}\nbody {\n    width: 730px;\n    font-family: 'Droid', 'Helvetica';\n    font-size: 14px;\n    padding: 30px 40px;\n    text-align: left;\n    margin: 0 auto;\n    background-color: #FFF;\n}\n.page_break { page-break-before: always; }\nh2 {\n    margin-top: 8px;\n    margin-bottom: 15px;\n}\ntable {\n    border-collapse: collapse;\n    margin: 8px 0;\n}\ntable th, td {\n    padding: 8px 14px 8px 14px;\n    border: 1px solid #333;\n}\n.text-center {\n    text-align: center;\n}\nimg {\n    max-width: 100%;\n}\n```\nMy output.php\n```\n<!DOCTYPE html>\n\n\n\n\n\n\nTitle\n\n\n\nChineseKoreanEnglishRussian\n\n\n\n\u5929\u7a7a\ud558\ub298Sky\u041d\u0435\u0431\u043e\n\n\n\npage-break\n\nSomething here\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n\n\nWhy do we use it? External LInk\n\n\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\n\nWhere does it come from?\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n\n\nWhy do we use it?\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\n\nWhere does it come from?\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n\n\nWhy do we use it?\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\n\nWhere does it come from?\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.\n\n\n\n```\nMy index.php\n```\n<?php\nini_set('display_errors',1); // enable php error display for easy trouble shooting\nerror_reporting(E_ALL); // set error display to all\nrequire_once 'dompdf/autoload.inc.php';\n// require_once 'dompdf/lib/html5lib/Parser.php';\n// require_once 'dompdf/lib/php-font-lib/src/FontLib/Autoloader.php';\n// require_once 'dompdf/lib/php-svg-lib/src/autoload.php';\n// require_once 'dompdf/src/Autoloader.php';\n// Dompdf\\Autoloader::register();\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$content = file_get_contents('output.php');\n$dompdf->loadHtml($content);\n$dompdf->set_option('fontHeightRatio', 0.6);\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'portrait');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n// $dompdf->stream();\n$output = $dompdf->output();\nfile_put_contents('doc.pdf', $output);\n?>\n```\nI have also set \n$isPhpEnabled = true;\n$isRemoteEnabled = true;\n$isJavascriptEnabled = true;\n$isHtml5ParserEnabled = true;\nThrough Options.php\n. @AndriusCTR , spend some time to study my files. \n$content = file_get_contents('output.php');\nwhen file_get_contents() is used, output.php will be executed and pdf.php will be called.\nAnd don't forget to use proper header in pdf.php (css file)\n<?php\n    header(\"Content-type: text/css; charset: UTF-8\");\n?>\n$dompdf = new Dompdf();\n$content = file_get_contents('output.php');\n$dompdf->loadHtml($content);. @bsweeney , thanks for the update. I didn't actually tested my pdf.php with variables. My fault.\nI have updated my script with\n<link rel=\"stylesheet\" type=\"text/css\" href=\"http://localhost/dompdf/pdf.php\">\nand \n$content = file_get_contents(\"http://localhost/dompdf/output.php\");\nand works for me as well.. ",
    "jorgenhorstink": "I see, it helps a bit. Do you have any idea what causes the issue? I'd love to see this issues fixed, and if you can point me in the right direction, I'm going to spend some time at least trying to fix it. I suppose it has something to do with the way the position of line boxes is being calculated...\n. This one breaks vertical-align... See comment below\nI made some changes, but I don't know if it is going to break on other cases. It seems to fix the line-height issue.\nHTML used:\n<!DOCTYPE html>\n<html>\n  <body>\n    <h1>DOMPDF</h1>\n    <div style=\"font-size: 20px; line-height: 30px; margin-bottom: 10px; vertical-align: top; border: 1px solid red; width: 500px;\">Line<br>Line</div>\n    <div style=\"font-size: 20px; line-height: 140px; margin-bottom: 10px; vertical-align: bottom; border: 1px solid red; width: 500px;\">Line<br>Line</div>\n    <div style=\"font-size: 50px; line-height: 50px; margin-bottom: 10px; border: 1px solid red; width: 500px;\">Line</div>\n    <div style=\"font-size: 14px; line-height: 40px; margin-bottom: 10px; border: 1px solid red; width: 500px;\">Line</div>\n    <div style=\"font-size: 20px; line-height: 30px; margin-bottom: 10px; border: 1px solid red; width: 500px;\">Line</div>\n  </body>\n</html>\nAdded to style.cls.php:\nfunction has_normal_line_height() {\n  return $this->_props[\"line_height\"] === \"normal\";\n}\nAdded to block_frame_reflower.cls.php vertical_align function:\n// Prevent vertical_align if the element has line-height\nif (!$frame->get_parent()->get_style()->has_normal_line_height()) {\n    continue;\n}\nAdded a new function to block_frame_reflower.cls.php:\n```\nfunction line_height() {\n$canvas = null;\nforeach ( $this->_frame->get_line_boxes() as $line ) {\n$height = $line->h;\n\nforeach ( $line->get_frames() as $frame ) {\n  $style = $frame->get_style();\n\n  if ( $style->display !== \"inline\" ) {\n    continue;\n  }\n\n  if ( !isset($canvas) ) {\n    $canvas = $frame->get_root()->get_dompdf()->get_canvas();\n  }\n\n  $fontheight = $canvas->get_font_height($style->font_family, $style->font_size);\n\n  $lineHeight = $frame->get_parent()->get_style()->line_height;\n\n  $y_offset = ($height - $fontheight) / 2;\n\n  if ( $y_offset ) {\n    $frame->move(0, $y_offset);\n  }\n}\n\n}\n}\n```\nAdded to block_frame_reflower.cls.php within reflow function after call $this->vertical_align();:\n$this->line_height();\nResult as attached:\n\n\n. Okey, the previous comment broke the vertical-align...\nUsing 0.9 as arbitrary value gave me better results compared to Google Chrome.\n<!DOCTYPE html>\n<html>\n  <body>\n    <h1>DOMPDF</h1>\n    <div style=\"border: 1px solid red; width: 700px; margin-bottom: 10px;\">\n      <span style=\"line-height: 30px; font-size: 14px;\">lh 20px fs 10px</span>\n      <span style=\"vertical-align: middle; font-size: 14px;\">lh 40px fs 10px</span>\n      <span style=\"vertical-align: top; font-size: 14px;\">lh 40px fs 10px</span>\n      <span style=\"vertical-align: bottom; font-size: 14px;\">B lh 40px fs 10px</span>\n    </div>\n    <div style=\"border: 1px solid red; width: 700px; margin-bottom: 14px;\">\n      <span style=\"line-height: 30px; font-size: 14px\">lh 20px fs 10px</span>\n    </div>\n    <div style=\"border: 1px solid red; width: 700px; margin-bottom: 10px;\">\n      <span style=\"line-height: 60px; font-size: 30px;\">lh 20px fs 10px</span>\n      <span style=\"vertical-align: middle; font-size: 30px;\">lh 40px fs 10px</span>\n      <span style=\"vertical-align: top; font-size: 14px;\">lh 40px fs 10px</span>\n      <span style=\"vertical-align: bottom; font-size: 20px;\">lh 40px fs 10px</span>\n    </div>\n    <div style=\"border: 1px solid red; width: 700px; margin-bottom: 14px;\">\n      <span style=\"line-height: 50px; font-size: 50px\">lh 20px fs 10px</span>\n    </div>\n    <div style=\"font-size: 20px; line-height: 30px; margin-bottom: 10px; vertical-align: top; border: 1px solid red; width: 700px;\">Line<br>Line</div>\n    <div style=\"font-size: 20px; line-height: 70px; margin-bottom: 10px; vertical-align: bottom; border: 1px solid red; width: 700px;\">Line<br>Line</div>\n    <div style=\"font-size: 50px; line-height: 50px; margin-bottom: 10px; border: 1px solid red; width: 700px;\">Line</div>\n    <div style=\"font-size: 14px; line-height: 40px; margin-bottom: 10px; border: 1px solid red; width: 700px;\">Line</div>\n    <div style=\"font-size: 20px; line-height: 30px; margin-bottom: 10px; border: 1px solid red; width: 700px;\">Line</div>\n  </body>\n</html>\n...\n``` php\nclass Block_Frame_Reflower extends Frame_Reflower {\n  ...\n  function line_height() {\n$canvas = null;\n\nforeach ( $this->_frame->get_line_boxes() as $line ) {\n\n  $height = $line->h;\n\n  foreach ( $line->get_frames() as $frame ) {\n    $style = $frame->get_style();\n\n    if ( $style->display !== \"inline\" ) {\n      continue;\n    }\n\n    // skip if we don't have a line height\n    if ($frame->get_parent()->get_style()->has_normal_line_height()) {\n      continue;\n    }\n\n    if ( !isset($canvas) ) {\n      $canvas = $frame->get_root()->get_dompdf()->get_canvas();\n    }\n\n    $baseline = $canvas->get_font_baseline($style->font_family, $style->font_size);\n    $fontheight = $canvas->get_font_height($style->font_family, $style->font_size);\n\n    $lineHeight = $frame->get_parent()->get_style()->line_height;\n\n    $y_offset = ($height * 0.8 - $baseline) / 2;\n\n    if ( $y_offset ) {\n      $frame->move(0, $y_offset);\n    }\n  }\n}\n\n}\n/*\n   * Align inline children vertically.\n   * Aligns each child vertically after each line is reflowed\n   /\n  function vertical_align() {\n$canvas = null;\n\nforeach ( $this->_frame->get_line_boxes() as $line ) {\n\n  $height = $line->h;\n\n  foreach ( $line->get_frames() as $frame ) {\n    $style = $frame->get_style();\n\n    if ( $style->display !== \"inline\" ) {\n      continue;\n    }\n\n    if (!$frame->get_parent()->get_style()->has_normal_line_height()) {\n      continue;\n    }\n\n    $align = $frame->get_parent()->get_style()->vertical_align;\n\n    if ( !isset($canvas) ) {\n      $canvas = $frame->get_root()->get_dompdf()->get_canvas();\n    }\n\n    $baseline = $canvas->get_font_baseline($style->font_family, $style->font_size);\n    $fontheight = $canvas->get_font_height($style->font_family, $style->font_size);\n\n    $y_offset = 0;\n\n\n    switch ($align) {\n      case \"baseline\":\n        $y_offset = $height*0.9 - $baseline; // The 0.8 ratio is arbitrary until we find it's meaning\n        break;\n\n      case \"middle\":\n        $y_offset = ($height*0.9 - $baseline) / 2;\n        break;\n\n      case \"sub\":\n        $y_offset = 0.3 * $height;\n        break;\n\n      case \"super\":\n        $y_offset = -0.2 * $height;\n        break;\n\n      case \"text-top\":\n      case \"top\": // Not strictly accurate, but good enough for now\n        break;\n\n      case \"text-bottom\":\n      case \"bottom\":\n        $y_offset = $height* 0.9 - $baseline;\n        break;\n    }\n\n    if ( $y_offset ) {\n      $frame->move(0, $y_offset);\n    }\n  }\n}\n\n}\nfunction reflow ... {\n    ...\n    $this->_text_align();\n    $this->vertical_align();\n    $this->line_height();\n    ...\n  }\n  ...\n}\n```\n\n\n. ",
    "wowpages": "Brian - thanks so much! I don't mind handling the CSS at all - I just didn't know if it was even possible. That's awesome!!\n. ",
    "livinzlife": "I am trying to implement this fix with the google font \"Raleway\". I am using the following code in my CSS file:\n``` css\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 300;\n  src: local('Raleway Light'), local('Raleway-Light'), url(https://themes.googleusercontent.com/static/fonts/raleway/v6/-_Ctzj9b56b8RgXW8FArib3hpw3pgy2gAi-Ip7WPMi0.woff) format('woff');\n}\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: bold;\n  src: local('Raleway SemiBold'), local('Raleway-SemiBold'), url(https://themes.googleusercontent.com/static/fonts/raleway/v6/xkvoNo9fC8O2RDydKj12b73hpw3pgy2gAi-Ip7WPMi0.woff) format('woff');\n}\n```\nWhen I use Raleway with \"font-weight:300\" it works fine, but when I use Raleway with \"font-weight:bold\" the text on the pdf doesn't even appear! The pdf viewer in the browser reports the error: \"This pdf document might not be displayed correctly.\"\n. Thanks for getting back so quickly. I was using Firefox at the time of the issue. I'll give it a shot in another browser, and download and view in reader/acrobat this evening and report back if that fixes the issue.\n. ",
    "adammwood": "For anyone running into the limitation of only being able to define a 'normal' and 'bold' font weight, there is a simple workaround that essentially allows you to use any number of font weights and styles: create additional font families for the additional weights.\nFor example, we needed to use Open Sans at 300 (light), 400 (regular) and 600 (semi bold). To achieve this we just used 'Open Sans Light' at 'normal' for 300, 'Open Sans' at 'normal' for 400 and 'Open Sans' at 'bold' for 600.\nThe CSS (with local fonts) would look like this:\n```\n@font-face {\n    font-family: 'Open Sans Light';\n    src: url('/assets/fonts/opensans-light-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans Light';\n    src: url('/assets/fonts/opensans-lightitalic-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-regular-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fontsopensans-italic-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-semibold-webfont.ttf') format('truetype');\n    font-weight: bold;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-semibolditalic-webfont.ttf') format('truetype');\n    font-weight: bold;\n    font-style: italic;\n}\n```\n. @bsweeney I might have phrased that confusingly, but we are essentially using numeric weight values, just in a way that dompdf can work with...\nThere's no such font family as 'Open Sans Light', it's just the 300 version of 'Open Sans'. So in the example above we're using Open Sans at:\n300 normal & italic\n400 normal & italic\n600 normal & italic\n... the only reason we're creating the 'Open Sans Light' family is to allow us to use a third weight in addition to normal (400) and bold (600). Yes, you're not able to write CSS font-weight declarations with numeric values, but you can easily work around that by defining the correct font-family and weight (normal or bold).\nWe could easily create another family of 'Open Sans Black' using the same method if we wanted to use 700 and 800 as well.\n. An easier way of phrasing it, or as advice for anyone needing more than one font weight, is to just declare a new font family for every weight. \nSo when you want to use this, which won't work with dompdf:\n```\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-light-webfont.ttf') format('truetype');\n    font-weight: 300;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-lightitalic-webfont.ttf') format('truetype');\n    font-weight: 300;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-regular-webfont.ttf') format('truetype');\n    font-weight: 400;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fontsopensans-italic-webfont.ttf') format('truetype');\n    font-weight: 400;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-semibold-webfont.ttf') format('truetype');\n    font-weight: 600;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans';\n    src: url('/assets/fonts/opensans-semibolditalic-webfont.ttf') format('truetype');\n    font-weight: 600;\n    font-style: italic;\n}\n```\nuse this instead, which works fine as it can cache the styles for each font:\n```\n@font-face {\n    font-family: 'Open Sans Light';\n    src: url('/assets/fonts/opensans-light-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans Light';\n    src: url('/assets/fonts/opensans-lightitalic-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans Regular';\n    src: url('/assets/fonts/opensans-regular-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans Regular';\n    src: url('/assets/fontsopensans-italic-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: italic;\n}\n@font-face {\n    font-family: 'Open Sans Semi-Bold';\n    src: url('/assets/fonts/opensans-semibold-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n@font-face {\n    font-family: 'Open Sans Semi-Bold';\n    src: url('/assets/fonts/opensans-semibolditalic-webfont.ttf') format('truetype');\n    font-weight: normal;\n    font-style: italic;\n}\n```\nYou just need to make some changes to your CSS then to adapt to this. So, if you wanted your bold styling to use 'Open Sans Semi-Bold', just declare:\n```\nstrong,\nb {\n    font-family: 'Open Sans Semi-Bold', sans-serif;\n    font-weight: normal;\n}\n```\n. ",
    "honsa": "still open? \nwould make it much more comfortable to use with numeric font-weight values.. Great, just a small step, but big thanks you for your great effort \ud83d\udcaf . ",
    "lquast": "https://github.com/dompdf/dompdf/pull/1896. ",
    "12hys": "Ok, so this feature does work. All that's required for DocuSign to work is HTML spans with opacity set to 0.\nhtml\n<span style=\"opacity: 0;\">\\s2\\</span>\n<span style=\"opacity: 0;\">\\s1\\</span>\n<span style=\"opacity: 0;\">\\n2\\</span>\n<span style=\"opacity: 0;\">\\n1\\</span>\n. I've tested out the same thing in mPDF. What I've noticed they're doing is that if the content for one cell does not fit on one page, it shrinks the content by reducing the font size. Seems like a clever solution if splitting a table cell is not an option.\n. Yes I was going to post about the division-by-zero warning, but didn't get around to it. I discovered this bug but was not able to trace it back to it's origination point. I'm not sure what's passing a 0 value to $fs.\n. A quick grep shows that it can happen in a few places. Unfortunately, I'm not familiar with the DOMPDF codebase to be able to give you an answer just yet. If you can tell me what each of these lines do, I could possibly craft some HTML to reproduce?\n```\ndompdf/include/list_bullet_frame_decorator.cls.php\n43:    return $style->get_font_size() * self::BULLET_SIZE + 2 * self::BULLET_PADDING;\n54:    return $style->get_font_size() * self::BULLET_SIZE + 2 * self::BULLET_PADDING;\ndompdf/include/list_bullet_image_frame_decorator.cls.php\n83:    return $this->_frame->get_style()->get_font_size()List_Bullet_Frame_Decorator::BULLET_SIZE + \n107:    //return $this->_frame->get_style()->get_font_size()List_Bullet_Frame_Decorator::BULLET_SIZE + \ndompdf/include/list_bullet_positioner.cls.php\n41:      $line_height = $style->length_in_pt($style->line_height, $style->get_font_size());\n66:    $font_size = $style->get_font_size();\ndompdf/include/list_bullet_renderer.cls.php\n114:    $font_size = $style->get_font_size();\n```\n. @bsweeney No, I don't work for the same company anymore, sorry.\n. ",
    "memosstilvi": "No I solved the issue 2 minutes after i posted the question.\nThe problem was that i was using display:block for the image.\nI thought it wasn't worthy to post the solution. Maybe should have posted.\n. ",
    "zawilliams": "@bsweeney I need @font-face support. Any ideas which file in the includes might be reverted to fix this problem? Or any other ideas how to solve the issue?\n. Ok gotcha - thanks for the info. Just trying to see what my options are. Might need to just lose the @font-face support in order to get it to work and drop back down.\nI was looking for an earlier release and couldn't find it. Can you point me in the right direction? Sorry for my ignorance.\n. ",
    "halfer": "I just came across this issue. My fix (which I wanted anyway) is to ensure there's no break inside an unordered list item:\nli { page-break-inside: avoid; }\n. \nIn fact, the bug descriptions in my repro document are not quite accurate:\n1. span and code are treated differently - the span has the ascender part of the line coloured in even when there are no ascenders. This doesn't happen in the browser.\n2. The top and bottom are unaffected by padding, but they should be; I thought it was just the bottom margin.\nIf it is useful for me to try earlier versions, let me know, I'll happily help test.\n. For now, I am getting improved output with this workaround:\nborder-top: 2px solid #eeeeee;\nborder-bottom: 2px solid #eeeeee;\nThe way in which extra \"padding\" is added to the top isn't entirely consistent with the bottom, but this is good enough for my inline code-highlighting purposes for now.\n. Ah righto, thanks. I found I didn't need this one in the end, so feel free to close this if it dups the other ticket. Just thought I'd raise it in case it'd not already been found.\n. ",
    "incredimike": "I understand. Thank you for your response. Looking forward to the updates. Cheers!\n. ",
    "StephenOTT": "Any movement on this?\n. ",
    "b-cil": "any improvement in 2018 ?. ",
    "rk": "Okay, there's only 2 behaviors here:\n- 1 page generates correctly.\n- 2+ pages the first-page footer is omitted.\nI realized that my footer was at the bottom of the content, based on what you said, and when I moved it to the top the issue went away. What's interesting is, in spite of the footer being at the bottom of the page the footer rendered on all but the top page.\nThanks for explaining that.\n. ",
    "willemstuursma": "Hi @bsweeney. Is there any progress made on this in the last four years or anything I can do to contribute?. Would also be very interested in support for leaders.\n. This sounds great! We've noticed a big memory usage increase from 0.7 to 0.8. . ",
    "greyskymedia": "+1 on this fix. thanks!\n. ",
    "hattamuhammadan": "thank Mister @bsweeney  bsweeney \n. ",
    "UnwindFlux": "It's a long html file and the code goes here:\n``` html\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n\n\n\n\n\n\n\n\n\n\n\n            To\n            The President,\n            Sri Balaji Society,\n            S.No. 55/2-7, Tathawade,\n            Off Mumbai-Bangalore Bypass,\n            Pune - 411 033.\n        \n\n\n\n\n\n        COMMON APPLICATION FORM FOR ADMISSION TO TWO-YEAR FULL TIME POST GRADUATE DIPLOMA IN MANAGEMENT PROGRAMS 2013-15 \n        OFFERED BY THE MANAGEMENT INSTITUTES OF SRI BALAJI SOCIETY\n    \n\n        Sir,\n        I have gone through the prospectus of Sri Balaji Society and I am submitting my application for admission to the\n        Management Programs offered by the Management Institutes of Sri Balaji Society mentioned below:-\n    \n\n\nBalaji Institute of Modern Management (BIMM)\nBalaji Institute of International Business (BIIB)\n\n\nBalaji Institute of Telecom and Management (BITM)\nBalaji Institute of Management and Human Resource Development (BIMHRD)\n\n\n<font size=\"10px\">\n    Name of Applicant:<br>\n    <div style=\"width:400px;height:auto;border:1px solid;font-weight:bold;\">\n        {$applicantName} , SBSID:                 \n    </div>\n</font>\n<div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em;font-size:12px;\">GENERAL INFORMATION</div>\n<div style=\"font-size:10px;\">\n    <pre>\n1. Name of Applicant(As per Matriculation or X Std. Certificate): {$applicantName}\n2. Date of Birth(dd/mm/yyyy) : {$applicantData.date_of_birth} ,     Age (as on 1st June. 2013) : {$applicantData.age}    \n3. Gender : {$applicantData.gender}\n4. Category : {$applicantData.category}\n5. Nationality : {$applicantData.nationality}\n6. Religion : {$applicantData.religion}\n<pre>\n</div>\n<div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">FAMILY DETAILS</div><font size=\"10px;\">\n<pre>7.</pre>\n            </font>\n            <table cellspacing=\"5\" cellpadding=\"5\" align=\"center\">\n                <thead style=\"font-size: 10px;\">\n                    <tr>\n                        <th>#</th>\n                        <th>Relationship</th>\n                        <th>Name</th>\n                        <th>Occupation</th>\n                        <th>Residential Phone No.</th>\n                        <th>Office Phone No.</th>\n                        <th>Mobile</th>\n                    </tr>\n                </thead>\n                <tbody style=\"font-size: 10px;text-align:center;\">\n                    <tr>\n                        <td>1. </td>\n                        <td></td>\n                        <td>{$applicantData.father_name}</td>\n                        <td>{$applicantData.father_occupation}</td>\n                        <td>{$applicantData.phone_no}</td>\n                        <td></td>\n                        <td>{$applicantData.mobile}</td>\n                    </tr>\n                    <tr>\n                        <td>2. </td>\n                        <td></td>\n                        <td>{$applicantData.mother_name}</td>\n                        <td>{$applicantData.mother_occupation}</td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr><td>3. </td><td></td><td></td><td></td><td></td><td></td><td></td></tr> \n                    <tr><td>4. </td><td></td><td></td><td></td><td></td><td></td><td></td></tr> \n                    <tr><td>5. </td><td></td><td></td><td></td><td></td><td></td><td></td></tr> \n                </tbody>\n            </table>\n            <br><br><br>\n            <font size=\"10px;\">\n                <pre>8.</pre>\n            </font>\n            <table cellspacing=\"2\" cellpadding=\"2\" align=\"center\">\n                <thead style=\"font-size: 10px;\">\n                    <tr>\n                        <th>Permanent Address(Compulsory)</th>\n                        <th>Present Address for Correspondence</th>\n                    </tr>\n                </thead>\n                <tbody style=\"font-size: 10px;\">\n                    <tr>\n                        <td>{$applicantData.address}</td>\n                        <td>{$applicantData.address_correspondence}</td>\n                    </tr>\n                    <tr>\n                        <td>{$applicantData.city}</td>\n                        <td>{$applicantData.city_correspondence}</td>\n                    </tr>\n                    <tr>\n                        <td>{$applicantData.state}</td>\n                        <td>{$applicantData.state_correspondence}</td>\n                    </tr>\n                    <tr>\n                        <td>{$applicantData.pin_code}</td>\n                        <td>{$applicantData.pin_code_correspondence}</td>\n                    </tr>\n                    <tr><td>Contact Details:(a) Phone No.(with STD code):<br>\n                            (b) Email : {$applicantEmail}\n                        </td></tr>\n                </tbody>\n            </table>\n            <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">ACADEMIC PROFILE</div><font size=\"10px;\">\n                <pre>9.</pre>\n            </font>\n            <table cellspacing=\"5\" cellpadding=\"5\" align=\"center\">\n                <thead style=\"font-size: 10px;\">\n                    <tr>\n                        <th>#</th>\n                        <th>Academic Level</th>\n                        <th>School / College / Institution</th>\n                        <th>Board/University</th>\n                        <th>Year of Completion</th>\n                        <th>Degree</th>\n                        <th>Final Grade/ Marks in %</th>\n                    </tr>\n                </thead>\n                <tbody style=\"font-size: 10px;text-align:center;\">\n                    <tr>\n                        <td>A. </td>\n                        <td>Std. X</td>\n                        <td>{$applicantData.class_10_school_name}</td>\n                        <td>{$applicantData.class_10_board_name}</td>\n                        <td>{$applicantData.class_10_year_of_passing}</td>\n                        <td>{$applicantData.class_10_degree}</td>\n                        <td>{$applicantData.class_10_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>B. </td>\n                        <td>Std. XII</td>\n                        <td>{$applicantData.class_12_school_name}</td>\n                        <td>{$applicantData.class_12_board_name}</td>\n                        <td>{$applicantData.class_12_year_of_passing}</td>\n                        <td>{$applicantData.class_12_degree}</td>\n                        <td>{$applicantData.class_12_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>C. </td>\n                        <td>Graduation 1st Yr.</td>\n                        <td>{$applicantData.grad_1st_yr_college_name}</td>\n                        <td>{$applicantData.grad_1st_yr_university_name}</td>\n                        <td>{$applicantData.grad_1st_yr_year_of_passing}</td>\n                        <td>{$applicantData.grad_1st_yr_degree}</td>\n                        <td>{$applicantData.grad_1st_yr_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>D. </td>\n                        <td>Graduation 2nd Yr.</td>\n                        <td>{$applicantData.grad_2nd_yr_college_name}</td>\n                        <td>{$applicantData.grad_2nd_yr_university_name}</td>\n                        <td>{$applicantData.grad_2nd_yr_year_of_passing}</td>\n                        <td>{$applicantData.grad_2nd_yr_degree}</td>\n                        <td>{$applicantData.grad_2nd_yr_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>E. </td>\n                        <td>Graduation 3rd Yr.</td>\n                        <td>{$applicantData.grad_3rd_yr_college_name}</td>\n                        <td>{$applicantData.grad_3rd_yr_university_name}</td>\n                        <td>{$applicantData.grad_3rd_yr_year_of_passing}</td>\n                        <td>{$applicantData.grad_3rd_yr_degree}</td>\n                        <td>{$applicantData.grad_3rd_yr_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>F. </td>\n                        <td>Graduation 4th Yr.</td>\n                        <td>{$applicantData.grad_4th_yr_college_name}</td>\n                        <td>{$applicantData.grad_4th_yr_university_name}</td>\n                        <td>{$applicantData.grad_4th_yr_year_of_passing}</td>\n                        <td>{$applicantData.grad_4th_yr_degree}</td>\n                        <td>{$applicantData.grad_4th_yr_marks_percentage_grade}</td>\n                    </tr>\n                    <tr>\n                        <td>G. </td>\n                        <td>Post Graduation</td>\n                        <td>{$applicantData.post_grad_college_name}</td>\n                        <td>{$applicantData.post_grad_university_name}</td>\n                        <td>{$applicantData.post_grad_year_of_passing}</td>\n                        <td>{$applicantData.post_grad_degree}</td>\n                        <td>{$applicantData.post_grad_marks_percentage_grade}</td>\n                    </tr>\n                    <tr><td colspan=\"7\" style=\"text-align:center;vertical-align:middle;font-weight:bold;\">Other Examinations (Please specify)</td>\n                    </tr>\n                    <tr>\n                        <td>H.</td>\n                        <td>{$applicantData.other_course_name}</td>\n                        <td>{$applicantData.other_college_name}</td>\n                        <td>{$applicantData.other_university_name}</td>\n                        <td>{$applicantData.other_year_of_passing}</td>\n                        <td>{$applicantData.other_degree}</td>\n                        <td>{$applicantData.other_marks_percentage_grade}</td>\n                    </tr>       \n                </tbody>\n            </table>\n            <div style=\"font-size:10px;\">\n                <pre>10.</pre><ol type=\"a\">\n                    <li>Medium of Study up to 10th std.: {$applicantData.medium_study_class_10th}</li>\n                    <li>Medium of Study up to 12th std.: {$applicantData.medium_study_class_12th}</li>\n                    <li>Specialization in Graduation Degree (such as computer, mechanical and so on): {$applicantData.specialization_3yrs_degree} ,{$applicantData.specialization_4yrs_degree}</li>\n                    <li>Medium of Study up to Garduation : {$applicantData.medium_study_graduation}</li>\n                    <li>Type of qualification PG/ Other :</li>\n                    <li>Specialization in PG Degree :</li>\n                    <li>Medium of Study in PG Degree :</li>\n                </ol>\n                <p style=\"margin-left:3em;text-align:justify;font-size:12px;\"><i>\n                        NOTE : No original Degree/Diploma Certificate need to be attached at this stage. These are required to be produced at the time of GD and PI and will also be scrutinized by a committee on admission. Those students who are in the final year of Degree course should meet the eligibility criteria on the completion of the course. Those not meeting the eligibility criteria of the Institute will attract cancellation of admission.</i>\n                </p>\n                11.\n                <ol type=\"a\">\n                    <li>Are you a physically handicapped candidate ?  </li>\n                    <li> If yes, are you attaching disability certificate from competent authorities. ? </li>\n                </ol>\n                12. \n                <ol type=\"a\">\n                    <li>Are you an Industry sponsored candidate?</li>\n                    <li>If yes, are you attaching disability certificate from competent authorities.? </li>\n                </ol>\n                13.<ol type=\"a\">\n                    <li>Are you an outstanding performer in Academics (Medalist or Rank Holder) in the University?</li>\n                    <li>If yes, are you attaching supporting document signed by competent authorities? </li>\n                </ol>\n                14. Are you a candidate for Management quota? <br/>\n                15.<ol type=\"a\">\n                    <li>Have you passed your Bachelor's degree from a recognized University?</li>\n                    <li>Are you studying in the final year of Bachelor's Degree now?</li>\n                </ol>\n                16.\n                <ol type=\"a\">\n                    <li>Did you pass any course as a private/external/distance learning mode student?</li>\n                    <li>If yes, name the course(s)____________________________________________________</li>\n                </ol>\n                17. \n                <ol type=\"a\">\n                    <li>Did you have any gap in your continued education?</li>\n                    <li>If yes, state reasons for the same_____________________________________________ </li>\n                </ol>\n                <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">FULL -TIME INDUSTRY WORK EXPERIENCE IF ANY</div><font size=\"10px;\">\n                    18.\n                    <p style=\"margin-left:3em;text-align:justify;font-size:12px;\">A must for Executive Batch. Others can also fill up this part. Only those with full-time job experience undertaken in progress after graduation and through a valid appointment order of a statutory company with proper terms and conditions including salary and job profile such as sales, marketing, human resources, operations, finance and Information Technology and so on will be the qualifying work experience. All relevant documents should be produced during the interviews and the selection committee will decide whether to accept the same or not.\n                    </p>    \n                    <table cellspacing=\"5\" cellpadding=\"5\" align=\"center\" width=\"70%\">\n                        <thead style=\"font-size: 10px;\">\n                            <tr>\n                                <th>srNo.</th>\n                                <th>Designation</th>\n                                <th>Nature of Work</th>\n                                <th>Name/Address of organisation</th>\n                                <th>Worked From(dd/mm/yyyy)</th>\n                                <th>Worked To(dd/mm/yyyy)</th>\n                                <th>Total(year/month)</th>\n                                <th>Total Pay(Rs./Month)</th>\n                            </tr>\n                        </thead>\n                        <tbody style=\"font-size: 10px;text-align:center;\">\n                            <tr>\n                                <td>1. </td>\n                                <td>{$applicantData.current_previous_designation}</td>\n                                <td>{$applicantData.current_previous_nature_work}</td>\n                                <td>{$applicantData.current_previous_organization_name_address}</td>\n                                <td>{$applicantData.current_previous_worked_from}</td>\n                                <td>{$applicantData.current_previous_worked_to}</td>\n                                <td>{$applicantData.current_previous_total_duration}</td>\n                                <td>{$applicantData.current_previous_total_pay}</td>\n                            </tr>\n                            <tr>\n                                <td>2. </td>\n                                <td>{$applicantData.other_designation}</td>\n                                <td>{$applicantData.other_nature_workx}</td>\n                                <td>{$applicantData.other_organization_name_address}</td>\n                                <td>{$applicantData.other_worked_from}</td>\n                                <td>{$applicantData.other_worked_to}</td>\n                                <td>{$applicantData.other_total_duration}</td>\n                                <td>{$applicantData.other_total_pay}</td>\n                            </tr>\n                            <tr><td>3. </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>\n                            <tr><td>4. </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>\n                            <tr><td>5. </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>\n                            <tr><td>6. </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>\n                        </tbody>\n                    </table>\n                    <br>\n                    19.\n                    <table cellspacing=\"5\" cellpadding=\"5\" align=\"center\" width=\"70%\">\n                        <thead style=\"font-size: 10px;\">\n                            <tr>\n                                <th>Sr. No.</th>\n                                <th>Course Title and Institute Name</th>\n                                <th>Preference Code</th>\n                            </tr>\n                        </thead>\n                        <tbody style=\"font-size: 10px;text-align:center;\">\n                            <tr>\n                                <td>1. </td>\n                                <td>PGDM offered by BIMHRD</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>2. </td>\n                                <td>PGDM (Marketing and Finance) offered by BIMHRD</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>3. </td>\n                                <td>PGDM (PM and HRD) offered by BIMHRD</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>4. </td>\n                                <td>PGDM (International Business) offered by BIIB</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>5. </td>\n                                <td>PGDM (Marketing) offered by BIIB</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>6. </td>\n                                <td>PGDM (Finance) offered by BIIB</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>7. </td>\n                                <td>PGDM (Telecom) offered by BITM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>8. </td>\n                                <td>PGDM (Telecom and Marketing) offered by BITM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>9. </td>\n                                <td>PGDM (Marketing and Finance) offered by BITM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>10. </td>\n                                <td>PGDM offered by BIMM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>11. </td>\n                                <td>PGDM (IT and Marketing) offered by BIMM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>12. </td>\n                                <td>PGDM (PM and HRD) offered by BIMM</td>\n                                <td>_ _</td>\n                            </tr>\n                            <tr>\n                                <td>13. </td>\n                                <td>PGDM (Executive Batch) offered by BIMM</td>\n                                <td>_ _</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">ENTRANCE EXAM DETAILS</div>\n                    20.\n                    <div style=\"font-size:10px;margin:1em 2em 1em;\">\n                        <strong><u>CMAT</u></strong>\n                        <ul><li>Test Regn No. : {$applicantData.cmat_regn_no}</li>\n                            <li>Score : {$applicantData.cmat_score}</li>\n                            <li>Percentile : {$applicantData.cmat_percentile}</li></ul>\n                        <strong><u>MAT</u></strong>\n                        <ul><li>Test Center Code : {$applicantData.cat_center_code}</li>\n                            <li>Test Date : </li>\n                            <li>Test Regn No. :{$applicantData.cat_regn_no}</li>\n                            <li>Percentile : {$applicantData.cat_percentile}</li></ul>\n                        <strong><u>CAT</u></strong>\n                        <ul><li>Test Center Code : {$applicantData.cat_center_code}</li>\n                            <li>Test Date : </li>\n                            <li>Test Regn No. :{$applicantData.cat_regn_no}</li>\n                            <li>Percentile : {$applicantData.cat_percentile}</li></ul>\n                    </div>\n                    <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">CENTRES  FOR GROUP DISCUSSION &amp; PERSONAL INTERVIEW</div>\n                    21. <strong>Choice of Selection Centre:</strong>\n                    <p style=\"margin-left:3em;text-align:justify;font-size:10px;\">\n                        Preference 1: {$applicantData.gd_pi_preference_1}<br>\n                        Preference 2: {$applicantData.gd_pi_preference_2}<br>\n                        Preference 3: {$applicantData.gd_pi_preference_3}<br>\n                        <br>\n                        Note: As per prospectus     \n                    </p>\n                    <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">EXTRA-CURRICULAR ACTIVITIES</div>\n                    22.<p style=\"margin-left:3em;text-align:justify;font-size:10px;\">This is not a compulsory part. Only those claims which can be substantiated with legitimate certificates need to be\n                        mentioned here. Attach separate sheet if required. List not more than three significant achievements in extra-curricular\n                        activities.\n                    </p>\n                    <table cellspacing=\"5\" cellpadding=\"5\" align=\"center\" width=\"80%\">\n                        <thead style=\"font-size: 10px;\">\n                            <tr>\n                                <th width=\"10%\">Sl.</th>\n                                <th width=\"30%\">Achievements</th>\n                                <th width=\"10%\">Level</th>\n                                <th width=\"10%\">Year</th>\n                                <th width=\"30%\">What personal traits/qualities do you believe were instrumental in this achievement?</th>\n\n                            </tr>\n                        </thead>\n                        <tbody style=\"font-size: 10px;text-align:center;\">\n                            <tr><td>1. </td>\n                                <td>{$applicantData.achievements}</td>\n                                <td></td><td></td><td></td>\n                            </tr>\n                            <tr><td>2. </td><td></td><td></td><td></td><td></td></tr>\n                            <tr><td>3. </td><td></td><td></td><td></td><td></td></tr>\n                            </tr>\n                        </tbody>\n                    </table>\n                    23. <p style=\"margin-left:3em;text-align:justify;font-size:10px;\"><strong>Hobbies&amp;Interests</strong>: {$applicantData.hobbies_interests}</p>\n                    24. <strong> Your source of information about our Courses :</strong>\n                    <ul>\n                        <li>If Newspaper, specify the name of the Newspaper </li>\n                        <li>If Magazine, specify the name of the Magazine </li>\n                        <li>Any other source: </li>\n                    </ul>\n\n                    <div style=\"font-weight:bold;text-align:center;text-decoration: underline; margin:1em 1em 0 1em;font-size:12px;\">CERTIFICATE OF UNDERTAKING</div>\n                    <p style=\"margin-left:3em;text-align:justify;font-size:10px;\">\n                    <ol type='1'>\n                        <li>I declare that the information given by me in this application is true to the best of my knowledge.</li>\n                        <li>I hereby undertake to abide by the instructions contained in the institute website &amp; prospectus and all the disciplinary rules of the Institute and authorize the Director to initiate any suitable action, in case I infringe the rules and regulations as laid down by the institute.</li>\n                        <li>I have carefully read and understood the rules and instructions regarding the refund of fees mentioned in the institute website &amp; prospectus and I hereby undertake to abide by the same.</li>\n                        <li>Application form/ Registration Fee is not refundable.</li>\n                        <li>I hereby declare that I am medically fit in all respects and I undertake to maintain more than the expected attendance.</li>\n                        <li>I agree to abide by any government regulations regarding admissions if implemented by Sri Balaji Society.</li>\n                        <li>I undertake that I will regularly attend the classes even after the campus placements.</li>\n                        <li>Any dispute will be settled by arbitration, subject to the jurisdiction of Pune.</li>\n                    </ol>\n                    </p>    \n                    <div style=\"margin-left:3em;font-size:10px;\">\n                        <pre> Date:                                                                                                               (Signature of applicant)</pre>\n                    </div><br><br><br>\n                    <div style=\"margin-top:15em;font-size:12px;text-align:right\">Registration No._________________________</div>\n                    <img src=\"{if $jimmy eq 'TRUE' OR $mats eq 'TRUE'}{$cdn_domain}{else}/libs{/if}/img/extra/sribalaji.header.logo.jpg\" width=\"100%\" height=\"100%\">\n                    <div style=\"border:1px solid;text-align:center;font-weight:bold;font-size:12px;margin:1em auto; width:70%;\">ADMIT CARD 2013-15</div>\n                    <div style=\"margin:1em auto; width:90%\">\n                        <div style=\"font-size:12px;width:60%;position:absolute\">\n                            <strong>Name:</strong> {$applicantName}<br>\n                            <strong>SBS ID:</strong> <br>\n                            <strong>Address:</strong>{$applicantData.address}<br>\n                            <strong>City:</strong> {$applicantData.city}<br>\n                            <strong>State:</strong> {$applicantData.state}<br>\n                            <strong>Pin Code:</strong> {$applicantData.pin_code}<br>\n                            <strong>Centre applied for GD/PI:</strong> {$applicantData.gd_pi_preference_1}\n                        </div>\n                        <div style=\"text-align:right;margin-right:15px;\">\n                            <img src=\"{$uimg_domain}/{$imageName}\"  style=\"width:100px;height: 100px;\" alt=\"{$imageName}\">\n                        </div>\n                    </div>\n                    <div style=\"margin:2em auto;text-align:center;width:60%;height:auto;font-size:10px;font-weight:bold\">SIGNATURE OF APPLICANT\n                    </div>\n                    <table cellspacing=\"10\" cellpadding=\"5\" align=\"center\" width=\"60%\">\n                        <tr>\n                            <td style=\"width:50%;font-size:10px;text-align:center;\">Please sign here and send along with Application Form</td>\n                            <td style=\"width:50%;font-size:10px;text-align:center;\">To be signed at the time of Personal Interview</td>\n                        </tr>\n                    </table>        \n                    <div style=\"margin:2em auto;text-align:center;width:60%;height:auto;font-size:10px;font-weight:bold\">TO BE COMPLETED BY THE OFFICE</div>\n                    <div style=\"margin:1em auto;font-size:10px;width:90%;\">\n                        CENTER: ________________________________<br>\n                        DATE OF SELECTION PROCERDURE: _________________________ <br>\n                        REPORTING TIME: _______________________________________<br>\n                        POSTAL ADDRESS OF THE GD/PI CENTER: __________________________<br>\n                    </div>\n                    <div style=\"margin-left:3em;font-size:10px;\">\n                        <pre> Seal                                                                                                          Signature</pre>     \n                        </body>\n                        </html>\n\n```\n. ",
    "spasma": "I have experienced this same issue a while ago, haven't found a solution though.\n. ",
    "dpkavanagh": "Thanks for the fast response!\nI have got the latest version of dompdf, running php 5.4.4 and I am running cpdf instead of GD.\nI get no errors or notices from php.\nSample for the generated pdf can be found here http://we.tl/sHjmJfy7Sa\n. Thanks for the response, bsweeney!\nThe images on the second page are exact copies of the first page.\nThis is the GD-information from the phpinfo-function:\nGD Version          2.0\nFreeType Version    2.4.9\nlibJPEG Version     unknown\nlibPNG Version      1.2.49\nI've tried it on another (live)server, and I got the same result.\nAttached images and html-file (note that image-files are not linked absolute)\nhttp://we.tl/4esNv5IREH\nThanks!\n. It works :)\nbsweeney you're a boss, thanks for your time!\n. ",
    "pramock4bs": "@bsweeney thanks, For me same problem. We spend lots of time this , thought may be pdf is creating before image loading.\n. ",
    "joostdekeijzer": "Frame_Factory::decorate_frame overrides the $style->display property based on the nodeName and sets display to -dompdf-image, see https://github.com/dompdf/dompdf/blob/master/include/frame_factory.cls.php#L191 .\nIn Renderer::render the \"original\" $style->display is used, so for and image with display:block;, the image is not recognized as an image. See https://github.com/dompdf/dompdf/blob/master/include/renderer.cls.php#L67 and below.\nI don't know if either the changes from Frame_Factory should be available in Renderer or that in Renderer::render equivalent code should be inserted.\n. dompdf uses a custom display style \"-dompdf-image\" to render images. See https://github.com/dompdf/dompdf/blob/master/include/frame_factory.cls.php#L151 and https://github.com/dompdf/dompdf/blob/master/include/frame_factory.cls.php#L191 .\nI'm using the same html for browser output and pdf creation. For the browser I need to set display:block; on an image. To render it correctly in dompdf, I now use display:-dompdf-image; in the pdf stylesheet.\n. ",
    "JorenRapini": "@simison Thank you, that solution worked for me.\n. ",
    "Makreig": "been trying to solve a different issue for a while now, but i think it might be related (and possibly the same/cause of this)...\ni am able to get an error on mine:\nPHP Fatal error:  Call to undefined method Dompdf\\FrameDecorator\\Image::get_line_boxes() in /home/makreig/Projects/fad-force-generator/vendor/dompdf/dompdf/src/FrameDecorator/Page.php on line 358\nSo i think its the same issue in that it's seeing the images as display: block instead of -dompdf-image.\ni don't really have the option of not setting the images to block as i'm trying to convert a page into a pdf, so i've used the fix suggested by @simison. That has resolved the error, however the images haven't rendered into the pdf (just alt tags and empty space)...\nPHP 5.6. ",
    "neilthomas": "Thanks PhenX.\nI have taken the site over so am not to familiar with all the scripts. Where would you advise I change HTTP headers?\nMany thanks.\n. ",
    "casperbakker": "+1 Would be much easier to pin dompdf in composer on a tested release.\n. \"it's almost always safe to use the latest revision from master\", maybe in a stand alone environment. But it must be correctly configured and correctly integrated in the application you are using it in. Config options and methods can change in newer versions. So that is why we need to test our application if we update a plugin-in like dompdf.\n. @bsweeney Thanks for the 0.6.0 tag, much appreciated.\nIn the case with the 0.5.2 patch, it is fine to make a new branch based on 0.5.1 and make the patch there. Then you can tag that commit with the 0.5.2 tag.\nIt is also possible to keep a 0.5 branch, keep 0.6 in the master branch, and have a 'develop' or '0.7-wip' branch where you can work on new things.\nAt Laravel (https://github.com/laravel/laravel) they have a '3.0' branch for patches on the old version, 'master' is the current stable, and 'develop' is where the progress is being made.\n. Correct me if I am wrong, but you do not push these changes to 'origin/master'. You can push the 0.5 branch to 'origin/5.0'. There you can make the changes and tag the correct version numbers. You also push these changes (with tags) to the 'origin/0.5' branch. After that you delete the 0.5 branch, locally and on Github. The branch will disappear, but the tags will remain and always be accessible. \nIf you push these changes to origin/master, these changes will also end up in the 0.6 version, and I thought that was not necessary?\nSee also this question on StackOverflow: http://stackoverflow.com/questions/2342821/git-branch-deletion\n. @simonberger When I define the height of the address div, it does move the content lower, but only by the that amount. We sometimes use that as a hacky-fix. We cannot use a table layout because it is a multi-tenant system and we allow users to add their own CSS to change the positions of the columns.\n@bsweeney Hereby the generated PDF. PrintNode does not modify the PDF document itself, but it probably converts it into EMF to be able to print on every printer. But because the output changes so clearly when changing the floats, I suspect the core problem is with dompdf.\npicklist-PICK2017-00001006.pdf\n. I now tried placing an extra div directly behind #address as suggested by @simonberger and now I get the same result on the monitor as from the printer:\n\npicklist-PICK2017-00001007.pdf.pdf\n. I have good news: dompdf 0.8 fixed it.\nI was already working for 2 weeks on this bug, and followed #1272 intensely, but I missed the final release of 0.8.. Same here. @bsweeney Any change you could merge that PR and release a new version?. Awesome @bsweeney!. Don't stress about it, that is how open source projects go sometimes. Still one of the best PDF builders for PHP! Keep up the good work, it is much appreciated. . Why? Why do you create a PR without any explanation and without even bother looking at the tests.\nYou are helping nobody.... ",
    "philhawthorne": "@bsweeney you should be able to tag those commits and push the tags up to github, so they appear in the releases section\ngit tag -a 'v0.6.0 beta 3' e80756a -m \"Message here\"\ngit tag -a 'v0.5.1' f5e77b4 -m \"Message here\"\ngit push --tags origin master\n. ",
    "crimsonronin": "+1 @philhawthorne \nThis would give some assurances that new versions don't have any BC breaks.\n. That's definitely a good branching approach and covers most situations. Most importantly is that you keep master clean (read; working) and tag versions. That way the community can manage risk on their end by using a tag in their composer dependencies.\nAs you've outlined there is no real convention for tagging nomeclature: ZF2 uses release-1.0.0 eg https://github.com/zendframework/zf2/releases. AWS PHP-SDK uses 1.0.0 https://github.com/aws/aws-sdk-php-zf2/releases but AWS NODEJS-SDK uses v1.0.0 https://github.com/aws/aws-sdk-js/releases\nJust go with something you are comfortable with and remain consistent. I'd recommend going with either v1.0.0b or 1.0.0b. Prefixing with \"release\", or anything else, seems superfluous.\n. Thanks for doing this so quickly. Much appreciated!\n. ",
    "EJTH": "Duplicate of: issue #488\n. ",
    "samuelvogel": "Yes you are right, but PHP-CSS-Parser just looks so much cleaner. I did have a look into Stylesheet->_parse_css() and thought that it was easy to patch at first, but after having a look at the rest of the Stylesheet class I realized not so much...\n. Sure, I did so here #699. It would be great if you could have a look at it!\n. Yeah, both @font-face & @page directives work correctly now with minified CSS. Thanks!\nI guess you can also close #614.\n. I agree with your proposal. Hardcoding the paths to the fonts included with dompdf is a good idea. I did not dare to do so in my PR already, since I did not have that general overview of dompdf that you have.\nOnly storing CSS @-fonts (could call them dynamic) in the DOMPDF_FONT_CACHE dir and the rest in DOMPDF_FONT_DIR would be even better, but until that it's great to at least separate the included fonts from additional fonts (independent of how they where actually added).\nI actually created this PR for better integration into Symfony, outlined here. Point was to use the writeable /app/cache/ folder for new fonts so nothing inside the dompdf directory installed with composer has to be made writeable manually.\n. This is an illustration of the problem that happens without this change:\n\n. But only with Google Cloud Print, it works fine when printed from OS X/Windows. If saved as new file with the Mac Preview.app, it prints fine with GCP as well.\n. :+1:\n. ",
    "progga": "Hi,\nThanks for your prompt response :-)  I downloaded the latest copies of dompdf and php-font-lib as per your suggestion.  While testing these, I spotted the problem.  I am calling \"$dompdf->get_canvas()->get_cpdf()->setEncryption()\" in the PHP code which according to https://groups.google.com/forum/#!topic/dompdf/a9gDaZ4OSTM and http://code.google.com/p/dompdf/issues/detail?id=334 is supposed to cause trouble with embedded fonts :-(  Once I remoted that line of code, the PDF looks okay.  So I guess I will have to leave without setEncryption().  If there is a better way then do let me know.\nSincerely,\nAdnan\n. Thanks a lot for the tips about pdftk :-)  I will keep an eye on issue #340 \nSincerely,\nAdnan\n. ",
    "dyatlov": "Yes, i mean mapping styles to elements.. XPath seem slow to me. If I have 5000 selectors it will work very long time.\nRegarding weasyprint - may be later after I find how to correctly and fast map styles to dom elements.\n. ",
    "Blacksnipe": "Well, the markup for the printversion of the page is as found on http://pastebin.com/F7HETiSe\n. It was the 0.5.1-version indeed, it works fine now with the 0.6.beta 3-version.\nThank you so much!\n. ",
    "marclaporte": "0.6.1 is now listed\n. ",
    "inakianduaga": "+1, this makes usage of this library through composer unusable for me. Should be a trivial fix\n. ",
    "carbontwelve": "+1\n. I have which ever version composer pulls down for dev-master I just tried searching through the files for the text version and couldn't find anything pertaining to the dompdf version haha.\nOther characters such as &dagger; work fine, although &alpha; doesn't seem to exist within the fonts provided. \nPHP version is PHP 5.4.7 (cli) (built: Sep 12 2012 23:48:31)\n. Ah it was a double decoding issue - I had an aobsolete cleanText function parsing over all html before it got sent to dompdf and converting special chars such as &lt; into their normal forms.\n. Ah thanks for that, I must have skipped DejaVu as its not in my tests... as you say, it does work and the alpha char exists.\nUnfortunately I have spent a few days getting line breaks and spacing correct in Helvatica and swapping to DejaVu Sans broke it all haha. My quick fix was to wrap all instances of &alpha; with <span class=\"symbol\">a</symbol> and using the symbol font on that class.\nThank you for getting back so quickly.\n. ",
    "davidbarratt": "I'm also having this problem, really, the configuration should be moved into composer so you can customize the paths there, however, if you are installing with composer, it would be better to assume that it is in the proper composer directory.\nIf anyone needs a work-around creating a symobilc link fixes the problem:\nphp-font-lib -> ../../../phenx/php-font-lib\nHowever, you have to create the symbolic link everytime composer update or composer install is run. Perhaps someone could write an installer script to do this in the meantime? (I don't know have enough knowledge of composer to know how to do that).\nThanks!\n. A better idea would be to require using composer for installation, that way you can just rely on composer's autoload.php file to load the dependency, which is kinda the point of composer. :)\n. Hey!\nsorry I should have put the commit on another branch.\nI kept getting this error:\nPHP Fatal error:  Call to undefined method Inline_Frame_Decorator::get_current_line_box() in vendor/dompdf/dompdf/include/absolute_positioner.cls.php on line 91\nIf you'd like I can move that to a different branch. I found the method it was looking for and realized that it's not in the parent class, but it is in the child. Even if it was in the parent, I'm not sure why you wouldn't use the child. I look at every other instance of this function call and it was the only one that was proceeded by get_parent().\nAnyways, let me know if you want it on this PR, if not I can revert it and open up a new PR.\nThanks!\n. Here's some example HTML. It's on a client's site so I've replaced an identifying information.\n``` html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML+RDFa 1.0//EN\"\n  \"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd\">\n\n\n\n\n\nTester\n\n\n<!--//-->&lt;![CDATA[//&gt;<!--\nwindow.jQuery || document.write(\"<script src='/sites/all/modules/jquery_update/replace/jquery/1.7/jquery.min.js'>\\x3C/script>\")\n//-->&lt;!]]&gt;\n\n\n\n\n<!--//-->&lt;![CDATA[//&gt;<!--\njQuery.extend(Drupal.settings, {\"basePath\":\"\\/\",\"pathPrefix\":\"\",\"ajaxPageState\":{\"theme\":\"awesome\",\"theme_token\":\"R8JjK0Xfd6-vQXE67UkHJlh4OHsqL-oF4lOYys8qA1k\",\"js\":{\"https:\\/\\/ajax.googleapis.com\\/ajax\\/libs\\/jquery\\/1.7.1\\/jquery.min.js\":1,\"0\":1,\"misc\\/jquery.once.js\":1,\"misc\\/drupal.js\":1,\"sites\\/default\\/themes\\/awesome\\/js\\/awesome.js\":1}}});\n//-->&lt;!]]&gt;\n\n \n\n\n\n\n\n\nPublished on Awesome Enterprise (http://awesomeenterpriseusa.local)\n\nHome > Tester\n\n\n    <h2>\n  TESTER\n</h2>\n\n  <div class=\"meta submitted\">\n        Submitted by Someone Awesome on Wed, 09/11/2013 - 12:21    </div>\n\n\nTester [1]Reseller's First Name:\u00a0SomeoneReseller's Last Name:\u00a0AwesomeCustomer's First Name:\u00a0CoolCustomer's Last Name:\u00a0BeansReseller's E-mail:\u00a0awesome@example.com [2]Reseller's Phone:\u00a0777-777-777Customer Phone:\u00a0555 555 555Customer Email:\u00a0bcorvera@example.com [3]Project Name:\u00a0Cinema ProjectCustomer Company:\u00a0Visual InternationalProject Location:\u00a0COProject Background Details:\u00a0IT infrastructure upgrade.Products:\u00a0S1700 SeriesProject Bidding Date:\u00a0Monday, September 16, 2013Project Budget:\u00a030 000Success Rate:\u00a075Expected Purchase / Sign Date:\u00a0Friday, September 20, 2013Main Vendor Competitors + Their Advantages / Disadvantages:\u00a0This is awesome! \n\n\n\n\n\n\nSource URL: http://awesomeenterpriseusa.local/deal/tester      \nLinks[1] http://awesomeenterpriseusa.local/partner/tester\n[2] mailto:awesome@example.com\n[3] mailto:bcorvera@example.com\n\n\n<!--//-->&lt;![CDATA[//&gt;&lt;!--\n  var _bugHerdAPIKey = 'someAwesomeKey';\n  (function (d, t) {\n    var bh = d.createElement(t), s = d.getElementsByTagName(t)[0];\n    bh.type = 'text/javascript';\n    bh.src = '//www.bugherd.com/sidebarv2.js?apikey=bxvmorepybj1twe5yf70lw';\n    s.parentNode.insertBefore(bh, s);\n  })(document, 'script');</p>\n<p>//--&gt;&lt;!]]&gt;\n\n\n\n```\nThe small change fixes the problem from occurring. Not sure why it happens, but it fixes it.\nThanks!\n. ",
    "nrwiersma": "Hi,\nThe actual PHP is pretty straight forward, I am only doing this:\n``` PHP\n// Render HTML to PDF\n$dompdf = new DOMPDF();\n$dompdf->load_html($rendered);\n$dompdf->set_paper('a4');\n$dompdf->render();\n```\nThe css that makes it happen is using the trick to re-number ol li's to 1.1 1.2 etc.\n``` CSS\nhtml {\n    counter-reset: section;\n}\n.section h1 {\n    counter-increment: section;\n}\n.section h1:before {\n    content: counter(section) \". \";\n}\nol {\n    counter-reset: section;\n    margin: 0;\n    padding: 0;\n}\nli {\n    counter-increment: section;\n    display: block;\n    margin: 0 0 0 30px;\n    padding: 0 0 0 50px;\n    page-break-inside: avoid;\n    position: relative;\n}\nli:before {\n    content: counters(section, \".\") \" \";\n    display: block;\n    position: absolute;\n    left: 0;\n}\n```\nAnd the HTML looks something like\nHTML\n<div class=\"section\">\n    <h1>Test 1</h1>\n    <ol>\n        <li>Test 1</li>\n        <li>Test 2</li>\n    </ol>\n</div>\n<div class=\"section\">\n    <h1>Test 1</h1>\n    <ol>\n        <li>Test 1</li>\n        <li>Test 2</li>\n    </ol>\n</div>\nHope this helps, I would have just uploaded the files, but it wouldn't let me, and I don't have them on any public site.\nAlso as a point of interest, if there is counter-increment and content: counters in the same css class, it should technically increment the counter before displaying the content which does not happen here. I fixed it by moving the increment a section up. If I find some time I'll look into how to do that.\nThanks\n. Hi,\nTested the fix, works like a charm, much nicer fix than mine.\nThanks again for the great software.\n. I tested the increment-counter in the same class as the counter and it seems to be working in the latest version. I have found another problem though, I will create a new issue for it.\nThanks\n. I have spent a little while looking at this, and it seems the issue is caused because my class that is incrementing the counter is above the point at which the break needs to be, it is not allowed to break there so it moves up the to section and breaks at the section. When the section is moved to the new page it is reflowed there by hitting the increment class again, even though the section head and first list item already have content.\nThe solution would probably be to decrement any counters that were incremented between where the break was triggered and where the break was allowed.\nI will give this a try when I get another moment and let you know how it goes.\n. Hi,\nIf you use a paged flag, cause a page break can happen at different levels, would you now need to walk the frames up all the time to get the true paged value? I would have thought that decrementing the counters on your up would have been the easiest and best solution to the problem. \nThanks for your time. \n. ",
    "seleckis": "Sorry, It's my fault.\n. ",
    "mga242": "DOMPDF 0.6.0 beta 3... in all pdf viewers.\n. ",
    "sdkcarlos": "Using the mentioned CSS snippet doesn't work for me:\n```css\nul > li:before {\n  content: '-';\n}\nul , ul > li {\n    list-style: none;\n}\n```\nAnd with a very simple markup:\n```html\n\nText\nText\nText\n\n\nText\nText\nText\n\n```\nIn some ulelements appear normally, but in others the \"-\" is appearing twice.. As I needed to fix this quick and can't modify the DOMPdf library by myself, solved the issue by simply using an image in the list-style-image attribute on the ul element instead of the content property of the li elements:\ncss\nul {\n    list-style-image: url('../path-to-images/pdf_bullet_list.png');\n    margin: 0;\n}\nPitifully the dimensions of the image can't be modified given the list-style-image attribute, so you may need to modify your image and adjust the padding or location with transparent spaces. I used the following bullet as image:\n\nI hope it may help others that are in a hurry as well until this issue is fixed. This will prevent the bullet element from appearing twice.. ",
    "eddturtle": "I had a quick look the at the alignment issue and I've attached a image with the debug setting on. \n\nI think the line below in Renderer/ListBullet.php (L239) should divided by 2 (it then lines up vertically in the middle)\n$y += ($line_height - $font_size) / 4;\nBut it's still not right because the text isn't aligned vertically. I've tried having a look in Renderer/Text.php but can't work out why it's not aligned. I don't know if @bsweeney can offer any advice on where I might look to fix this issue?\n. I believe you were right, commented some of it out and it started to look right again. I think it was because it was ignoring block elements, when it should have been ignoring block elements and tables. Not 100% but I think it's right (thanks for the guiding commit).. I was working based on the 0.8.2 code. That W3C link's great, and you're right. I think it might be best leaving this PR (maybe closing it?) and for a future version working on getting that W3C scenario right.. As far as I understand the old regex would capture content starting with 'counters' which was wrapped in brackets (stopping at a closing bracket or new line). The new regex should capture everything until it hits the semi-colon, \\v for vertical space or closing brace, so we can pickup on additional text to concatenate.. ",
    "TravisHi": "I'm not sure if this will provide any more insight, but I was able to get my ol lists on the same level by messing with the font size and line height of my p and ol tags in my CSS. Note: the font family for the p and ol tags had to be the same.\np {\n    line-height: 16px;\n    font-size: 14px;\n }\n ol {\n    line-height: 14px;\n    font-size: 14px;\n}\nHTML for reference:\n<ol type=\"1\">\n  <li><p>content</p></li>\n  ect.\n</ol>\n. ",
    "dmitrimag": "Thanks to @TravisHi for \"p-in-li\"-idea. Modified it for my <ul> case with offset.\nHTML\n<ul>\n    <li><p>Text 1</p></li>\n    <li><p>Text 2</p></li>\n</ul>\nCSS\nul {\n    font-size: 15px;\n    line-height: 1;\n}\np {\n    margin: 0;\n    position: relative;\n    top: -5px;\n}\n. ",
    "CaporalDead": "As I was trying to explain, I'm using DOMPDF via Composer in a zf2 project to generate some PDF. I also use PHPExcel (2-dev) via Composer and it also requires DOMPDF to generate PDF from CSV/XLS etc...\nThe problem is, when I load DOMPDF module and PHPExcel module in my application, DOMPDF is loaded and PHPExcel try to load it again so I got those \"already defined\" warnings.\nTo prevent this kind of problem, I pulled this modification which will avoid to constants to be redefined, but your solution will probably does the job with less code :).\n. Sorry for the delay, it seems that it works fine at least for now :).\n. ",
    "amr87": "in Arabic the letters is tied together to form a word , its not about setting RTL or LTR because the problems in letters not words\nthe font I am using is Arial which is know for Arabic support\nbelow is the code \nattached image is how should the text look properly \n\nthis how the code look iam sorry I try to paste code but it renders as html , I do not know to paste as a code only\n\nthank you\n. I am sorry I did not know how to post html code without getting it parsed in the comment\nBTW: file encoding was UTF-8 also\n```\n<!DOCTYPE html>\n\nUntitled\n\n\n\n\u0645\u0635\u062f\u0631 \u0628\u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u062f\u0641\u0627\u0639: \u0627\u0644\u0633\u064a\u0633\u064a \u0627\u0639\u062a\u0645\u062f \u0642\u0627\u0626\u0645\u0629 \u0627\u063a\u062a\u064a\u0627\u0644\u0627\u062a \u0628\u064a\u0646 \u0635\u0641\u0648\u0641 \u0645\u0647\u0646\u062f\u0633\u064a \u0627\u0644\u0627\u0646\u0642\u0644\u0627\u0628 \u0648\u0627\u0646\u062a\u0647\u0649 \u0645\u0646 \u062e\u0637\u0629 \u0627\u0639\u0644\u0627\u0645\u064a\u0629 \u0644\u0644\u0635\u0642 \u0627\u0644\u062a\u0647\u0645 \u0628\u0627\u0644\u0625\u062e\u0648\u0627\u0646 \u0648\u0627\u0644\u062c\u0645\u0627\u0639\u0629 \u0627\u0644\u0625\u0633\u0644\u0627\u0645\u064a\u0629 \u0648\u062d\u0645\u0627\u0633 .. \u0648\u0623\u0646\u0628\u0627\u0621 \u0639\u0646 \u062e\u0644\u0627\u0641 \u0628\u064a\u0646 \u201c\u0627\u0644\u0633\u064a\u0633\u064a\u201d \u0648\u201d\u0635\u062f\u0642\u064a\u201d \u062d\u0648\u0644 \u062a\u0639\u062f\u064a\u0644 \u0645\u0633\u0627\u0631 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0639\u0646\u0641\n\n\u0623\u0643\u062f \u0645\u0635\u062f\u0631 \u0628\u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u062f\u0641\u0627\u0639 \u0644\u0623\u062d\u062f \u0627\u0644\u0645\u0641\u0643\u0631\u064a\u0646 \u0627\u0644\u0642\u0631\u064a\u0628\u064a\u0646 \u0645\u0646 \u0627\u0644\u062a\u062d\u0627\u0644\u0641 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u062f\u0639\u0645 \u0627\u0644\u0634\u0631\u0639\u064a\u0629 \u0623\u0646 \u0627\u0644\u0641\u0631\u064a\u0642 \u0639\u0628\u062f \u0627\u0644\u0641\u062a\u0627\u062d \u0627\u0644\u0633\u064a\u0633\u064a \u0627\u0639\u062a\u0645\u062f \u0628\u0634\u0643\u0644 \u0646\u0647\u0627\u0626\u064a \u0642\u0627\u0626\u0645\u0629 \u0645\u0646 \u0627\u0644\u0627\u063a\u062a\u064a\u0627\u0644\u0627\u062a \u0644\u0639\u062f\u062f \u0645\u0646 \u0631\u0645\u0648\u0632 \u0627\u0644\u0627\u062d\u0632\u0627\u0628 \u0648\u0645\u0647\u0646\u062f\u0633\u064a \u0627\u0644\u0627\u0646\u0642\u0644\u0627\u0628 \u0627\u0644\u0639\u0633\u0643\u0631\u064a \u0627\u0644\u0630\u064a\u0646 \u0644\u0645 \u064a\u0639\u062f \u0644\u0647\u0645 \u062f\u0648\u0631 \u0645\u0624\u062b\u0631 \u0641\u064a \u0627\u0644\u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0631\u0627\u0647\u0646\u0629 \u0648\u0627\u0644\u0635\u0627\u0642 \u062a\u0647\u0645 \u0627\u0644\u0627\u063a\u062a\u064a\u0627\u0644 \u0644\u062c\u0645\u0627\u0639\u0629 \u0627\u0644\u0625\u062e\u0648\u0627\u0646 \u0627\u0644\u0645\u0633\u0644\u0645\u064a\u0646.\n\u0648\u0623\u0643\u062f \u0627\u0644\u0645\u0635\u062f\u0631 \u0623\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u063a\u062a\u064a\u0627\u0644\u0627\u062a \u062a\u0636\u0645 \u0627\u0644\u0634\u064a\u062e \u0639\u0644\u064a \u062c\u0645\u0639\u0629 \u2013 \u0627\u0644\u0645\u0641\u062a\u064a \u0627\u0644\u0633\u0627\u0628\u0642 \u0644\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629 \u2013 \u0648\u0623\u062d\u062f \u062f\u0627\u0639\u0645\u0644\u064a \u0627\u0644\u0627\u0646\u0642\u0644\u0627\u0628 \u0627\u0644\u0639\u0633\u0643\u0631\u064a\u060c \u0643\u0645\u0627 \u062a\u0636\u0645 \u062b\u0644\u0627\u062b \u0634\u062e\u0635\u064a\u0627\u062a \u0645\u0646 \u062c\u0628\u0647\u0629 \u0627\u0644\u0627\u0646\u0642\u0627\u0630 \u064812 \u0642\u064a\u0627\u062f\u0629 \u0623\u0645\u0646\u064a\u0629 \u0645\u0646 \u0627\u0644\u062c\u064a\u0634 \u0648\u0627\u0644\u0634\u0631\u0637\u0629 \u0648\u0623\u062d\u062f \u0627\u0644\u0642\u0633\u0627\u0648\u0633\u0629 \u0645\u0646 \u0627\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062c\u0644\u0633 \u0627\u0644\u0645\u0644\u064a.\n\u0648\u0643\u0634\u0641 \u0627\u0644\u0645\u0635\u062f\u0631 \u0623\u0646 \u201c\u0627\u0644\u0633\u064a\u0633\u064a\u201d \u0643\u0627\u0646 \u0642\u062f \u0627\u0644\u062a\u0642\u0649 \u062b\u0644\u0627\u062b \u0625\u0639\u0644\u0627\u0645\u064a\u064a\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u064048 \u0633\u0627\u0639\u0629 \u0627\u0644\u0645\u0627\u0636\u064a\u0629 \u0644\u0644\u0627\u062a\u0641\u0627\u0642 \u0639\u0644\u0649 \u062e\u0637\u0629 \u0627\u0639\u0644\u0627\u0645\u064a\u0629 \u0641\u064a \u0627\u0644\u062f\u0627\u062e\u0644 \u0648\u0627\u0644\u062e\u0627\u0631\u062c \u0644\u062a\u0633\u0648\u064a\u0642 \u062d\u0645\u0644\u0629 \u0627\u0644\u0627\u063a\u062a\u064a\u0627\u0644\u0627\u062a \u0648\u0627\u0644\u0635\u0627\u0642\u0647\u0627 \u0628\u0627\u0644\u0627\u062e\u0648\u0627\u0646 \u0648\u0627\u0644\u0639\u0645\u0644 \u0639\u0644\u0649 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0625\u062e\u0648\u0627\u0646 \u0643\u062c\u0645\u0627\u0639\u0629 \u0625\u0631\u0647\u0627\u0628\u064a\u0629 \u0641\u064a \u0627\u0644\u062f\u0627\u062e\u0644 \u0648\u0627\u0644\u062e\u0627\u0631\u062c.\n\u0648\u0623\u0643\u062f \u0627\u0644\u0645\u0635\u062f\u0631 \u0623\u0646 \u062e\u0637\u0629 \u0627\u0644\u0633\u064a\u0633\u064a \u062a\u0639\u062a\u0645\u062f \u0639\u0644\u0649 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0627\u062a\u0647\u0627\u0645 \u0644\u0639\u062f\u062f \u0645\u0646 \u0642\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062e\u0648\u0627\u0646 \u0648\u0627\u0644\u062a\u062d\u0627\u0644\u0641 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u062f\u0639\u0645 \u0627\u0644\u0634\u0631\u0639\u064a\u0629 \u0648\u0639\u0644\u0649 \u0631\u0623\u0633\u0647\u0645 \u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0645\u062d\u0645\u062f \u0628\u062f\u064a\u0639 \u2013 \u0627\u0644\u0645\u0631\u0634\u062f \u0627\u0644\u0639\u0627\u0645 \u0644\u0644\u0625\u062e\u0648\u0627\u0646 \u2013 \u0648\u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0645\u062d\u0645\u062f \u0627\u0644\u0628\u0644\u062a\u0627\u062c\u064a \u2013 \u0627\u0644\u0642\u064a\u0627\u062f\u064a \u0628\u0627\u0644\u062c\u0645\u0627\u0639\u0629 \u0648\u0627\u0644\u0634\u064a\u062e \u0635\u0641\u0648\u062a \u062d\u062c\u0627\u0632\u064a \u2013 \u0627\u0644\u0642\u064a\u0627\u062f\u064a \u0628\u0627\u0644\u062a\u062d\u0627\u0644\u0641 \u2013 \u0648\u0627\u0644\u0645\u0647\u0646\u062f\u0633 \u0639\u0627\u0635\u0645 \u0639\u0628\u062f \u0627\u0644\u0645\u0627\u062c\u062f \u2013 \u0627\u0644\u0645\u062a\u062d\u062f\u062b \u0628\u0627\u0633\u0645 \u0627\u0644\u062c\u0645\u0627\u0639\u0629 \u0627\u0644\u0627\u0633\u0644\u0627\u0645\u064a\u0629 \u2013 \u060c \u0641\u0636\u0644\u064b\u0627 \u0639\u0646 \u0639\u062f\u062f \u0645\u0646 \u0642\u064a\u0627\u062f\u0627\u062a \u062d\u0631\u0643\u0629 \u0627\u0644\u0645\u0642\u0627\u0648\u0645\u0629 \u0627\u0644\u0627\u0633\u0644\u0627\u0645\u064a\u0629 \u062d\u0645\u0627\u0633.\n\u0648\u0641\u064a \u0633\u064a\u0627\u0642 \u0645\u062a\u0635\u0644 \u062a\u0631\u062f\u062f\u062a \u0623\u0646\u0628\u0627\u0621 \u062d\u0648\u0644 \u062e\u0644\u0627\u0641\u0627\u062a \u0628\u064a\u0646 \u0627\u0644\u0641\u0631\u064a\u0642 \u0623\u0648\u0644 \u0639\u0628\u062f \u0627\u0644\u0641\u062a\u0627\u062d \u0627\u0644\u0633\u064a\u0633\u064a \u0648\u0627\u0644\u0641\u0631\u064a\u0642 \u0635\u0628\u062d\u064a \u0635\u062f\u0642\u064a \u062d\u0648\u0644 \u0627\u0633\u062a\u0645\u0631\u0627\u0631 \u0645\u0633\u0627\u0631 \u0627\u0644\u0639\u0646\u0641 \u0641\u064a \u0627\u0644\u0634\u0627\u0627\u0631\u0639 \u0636\u062f \u0627\u0644\u0645\u062a\u0638\u0627\u0647\u0631\u064a\u0646\u060c \u0648\u0643\u0627\u0646\u062a \u0645\u0635\u0627\u062f\u0631 \u0642\u062f \u0623\u0643\u062f\u062a \u0623\u0646 \u0648\u0627\u0634\u0646\u0637\u0646 \u0648\u0627\u0644\u0627\u062a\u062d\u0627\u062f \u0627\u0644\u0627\u0648\u0631\u0648\u0628\u064a \u0643\u0627\u0646\u0648\u0627 \u0642\u062f \u0647\u062f\u062f\u0648\u0627 \u0628\u0642\u0637\u0639 \u0627\u0644\u0645\u0639\u0648\u0646\u0627\u062a \u0627\u0644\u0639\u0633\u0643\u0631\u064a\u0629 \u0642\u0628\u0644 \u0627\u0644\u0627\u0639\u0644\u0627\u0646 \u0639\u0646\u0647\u0627 \u0641\u064a \u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0644\u0636\u063a\u0637 \u0639\u0644\u0649 \u0642\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0627\u0646\u0642\u0644\u0627\u0628 \u0644\u0648\u0642\u0641 \u0627\u0644\u0645\u062c\u0627\u0632\u0631 \u0636\u062f \u0627\u0644\u0645\u062a\u0638\u0627\u0647\u0631\u064a\u0646 \u0627\u0644\u0633\u0644\u0645\u064a\u064a\u0646.\n\u0648\u0643\u0627\u0646\u062a \u062e\u0644\u0627\u0641\u0627\u062a \u0642\u062f \u0638\u0647\u0631\u062a \u0628\u064a\u0646 \u201c\u0627\u0644\u0633\u064a\u0633\u064a\u201d \u0648\u201d\u0635\u062f\u0642\u064a\u201d \u062d\u0648\u0644 \u062a\u0639\u062f\u064a\u0644 \u0645\u0633\u0627\u0631 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0639\u0646\u0641 \u0644\u062a\u0641\u0627\u062f\u064a \u0648\u0642\u0641 \u0627\u0644\u0645\u0639\u0648\u0646\u0627\u062a \u0627\u0644\u0639\u0633\u0643\u0631\u064a\u0629 \u0648\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u062e\u0637\u0637 \u0628\u062f\u064a\u0644\u0629 \u0641\u064a \u0627\u0644\u0642\u0636\u0627\u0621 \u0639\u0644\u0649 \u0645\u0644\u0641 \u0627\u0644\u0627\u0633\u0644\u0627\u0645 \u0627\u0644\u0633\u064a\u0627\u0633\u064a \u0628\u062f\u0648\u0646 \u0625\u0639\u0644\u0627\u0646 \u0631\u0639\u0627\u064a\u0629 \u0627\u0644\u062f\u0648\u0644\u0629 \u0628\u0634\u0643\u0644 \u0631\u0633\u0645\u064a \u0644\u0644\u0645\u062e\u0637\u0637.\n\n\n```\n. any feedback regarding this problem ?\n. ok , thank you \nplease keep me up to date with any solution you find :)\n. ",
    "rjbijl": "@bsweeney, is this somewhat related to this old post I found? https://groups.google.com/forum/#!msg/dompdf/qfWb24ct7Ts/5_KKgc2ufqQJ\nI played around with it a bit, and it sortof seems to work, but I guess it never made it into the master branch? Is this still something you would recommend?\n. ok, my bad, I guess I got confused by the images. I'll try and see if I can come up with something decent regarding the RTL rendering, I do think that would be a real improvement for dompdf\n. ",
    "sajjadrad": "Thanks for this amazing library.\nTCPDF Library handled this problem for persian and arabic characters.I think you can take a look about it.\n. ",
    "eyal7773": "Just small modification, hope you will enter it to the main :\nthis code has to be insered into file dompdf/include/text_renderer.cls.php, before \"$this->_canvas->text\".\nand now the Hebrew/Ara bic is in the RTL direction. \nBut if there are numbers in the string - so it will be shown in the LTR direction.\nphp\nif (strtolower($style->direction) == 'rtl' && !mb_detect_encoding($text, array(\"ASCII\"))) {\n  preg_match_all('/./us', $text, $ar);\n  $text = join('',array_reverse($ar[0]));\n  // if there are numbers in the string\n  // so the next line reverse the number back\n  // treat also numbers with dot (decimal) and email\n  $text = preg_replace_callback('/\\d+-\\d+|\\d+|\\d+\\.\\d+|\\S+@\\S+/', function (array $m) { return strrev($m[0]); }, $text);\n}\n(this is  improved  solution from http://stackoverflow.com/questions/21201257/arabic-fonts-display-in-reverse-order-in-dompdf )\nPLEASE BE AWARE that mb_detect_encoding is not working properly, maybee it good to use only the rtl condition.\n. ",
    "t3rep-com": "Hi , the best solution to support and fix arabic characters in dompdf Library you should integrate\nar-php library for khaled.alshamaa inside dompdf library ,  so\nplease follow these steps:\n1- download the  ar-php library for khaled.alshamaa from the following link\n          http://www.ar-php.org/ (its free arabic Library with LGPL license)\n2 - extract and upload I18N folder inside dompdf folder \n3- open Glyphs.php file in this path\n\\dompdf\\I18N\\Arabic\nsearch\npublic function utf8Glyphs($str, $max_chars = 50\nreplace to\npublic function utf8Glyphs($str, $max_chars = 150\n4-in text_renderer.cls.php file \n                dompdf/include/text_renderer.cls.php\nbefore this line\n$this->_canvas->text($x, $y, $text\nadd this code\n```\n if ( ! class_exists( 'I18N_Arabic' ) ){\nrequire_once( DOMPDF_DIR . \"/I18N/Arabic/Glyphs.php\" );\n$Arabic = new I18N_Arabic_Glyphs('Glyphs');\n$text = $Arabic->utf8Glyphs($text);\n}\n\n```\nalso you should use any custom arabic font in your css file \nthis will fix Arabic problem forever and will display arabic letter correctly \nexample :  \u0627\u062d\u0645\u062f\nwill appear\n\u0627\u062d\u0645\u062f\nnot\n\u062f \u0645 \u062d \u0627\nthanks\nhope add this solution to next update @bsweeney \n. @ramonleenders maybe the font you are using not good for Renderer try using this font \nhttp://www.mediafire.com/download/wggzhazjqre7a3g/DINNextLTArabic-Medium.zip\nAlso, please, attach a pic to this problem\n. hi @ramonleenders \ni wanna ask about that , Are you using html template and css file to output pdf file ? if yes\nyou should extracted DINNextLTArabic-Medium.ttf font in same style.css file found ,  add embed font by @font-face in css file \ne.x add this in your css file \n@font-face {\n    font-family: 'DINNextLTArabic-Medium';\n    src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n        font-weight: normal;\n        font-style: normal;\n}\nand add DINNextLTArabic-Medium.ttf  in same style.css path \n. @ramonleenders please attach the html and css files you are using to fix white space and extra spaces problem\n. @ramonleenders you're right It's may issue in Glyphs.php i didn't find a solution to this problem yet , so I suggest you contact khaled alshamaa the owner of php and arabic library at https://twitter.com/arphp\n. ",
    "101t": "@t3rep-com , it is support Arabic, It is work perfectly Thank you a lot !! \n\u0634\u0643\u0631\u0627 \u0644\u0643\n:100: \n. You are right, after hard word I moved my project to run with new library called mPDF, it is more stable and powerful in Arabic Language. :'( \n. ",
    "ramonleenders": "How can we make this work in version 0.7.0? I had to change 1 line to prevent an error:\n$Arabic = new \\I18N_Arabic_Glyphs('Glyphs');\nLocated in /dompdf/dompdf/src/Renderer/Text.php (instead of /dompdf/include/text_renderer.cls.php)\nUnfortunately, my DOMPDF is not outputting 1 of the characters. When I var_dump the text (var_dump($text); exit;), I DO see the characters though. So for some reason, my DOMPDF is not rendering these characters (or this font?). Anyone knows what to do here?\nI'm using @t3rep-com method BTW, but for 0.7.0 as stated, not 0.6.x\n. @t3rep-com OK, I extracted this .ttf into \n/dompdf/dompdf/lib/fonts\nI did not install any extra font. Should I have any other font related files?\nWhat should my (extra) CSS be, to render the font? I'm still getting blank output. I can attach a pic (picture), but it's empty. Normal/english characters DO render! So it's not a DOMPDF problem, it's just not rendering these characters/the font. My computer is full English and I have not installed any extra fonts, not on my computer not within DOMPDF (except the DINNextLTArabic-Medium you just provided).\n. Yeah, I'm using HTML and CSS. I used your code, added the .ttf and also added this\n@page {\n            font-family: 'DINNextLTArabic-Medium';\n        }\nStill doesn't seem to work... Perhaps someone can set up a sample project where all this IS working?\n. OK, I figured out that if a div/span/element is in BOLD (font-weight: bold), it does not render the arabic characters. Is there a way to actually use bold font weight?\nNow I got that figured out, I need to know why this I18N_Arabic_Glyphs is replacing my \"&\" into \"&;\". Really annoying of course. Anyone else having this issue too? It's doing this in all cases, so in Arabic usage and normal usage.\nAnd one more thing, for some reason when using the I18N_Arabic_Glyphs class, it adds extra spaces before the actual text starts.\nThis is without Arabic Glyphs: \n\nThis is with Arabic Glyphs: \n\n. OK, I will take care of the bold somehow. That's not my biggest issue. The other 2 seem to be disturbing, anyone knows what to do with them? As the Arabic language is all about aligning to the right, it's quite annoying if the characters have white space..\n. I hope someone can, otherwise I'm forced to stop using DOMPDF and use mPDF instead... They seem to have this working out of the box.\n. See this Pastebin: http://pastebin.com/TMZfP8h6\n. My experience wih DomPDF wasn't that good (at least, in combination with Arabic). It does everything quite well, except for Arabic (IMHO). Tried everything, asked for some extra help on the issues that came along but... Seems like too much is missing for Arabic.\nSo I've taken a look at MPDF and tried it out, and that supports it perfectly. Coding wise it's not as good (meaning you can not simply copy/paste your current project, although it's perfect HTML/CSS), but when Arabic is required and you care for your output to the users, use MPDF.\n. ",
    "prashantidealittechno": "Hello I am using the same dom PDF, in my file I have some text in English and some are with arabic.\nI try to change the font with \n```\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'DINNextLTArabic';\n  src: url('DINNextLTArabic-Medium.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n}\n```\nalso i tried\n```\nplease follow these steps:\n1- download the ar-php library for khaled.alshamaa from the following link\nhttp://www.ar-php.org/ (its free arabic Library with LGPL license)\n2 - extract and upload I18N folder inside dompdf folder\n3- open Glyphs.php file in this path\n           \\dompdf\\I18N\\Arabic\n\nsearch\n          public function utf8Glyphs($str, $max_chars = 50\n\nreplace to\n         public function utf8Glyphs($str, $max_chars = 150\n\n4-in text_renderer.cls.php file\ndompdf/include/text_renderer.cls.php\nbefore this line\n   $this->_canvas->text($x, $y, $text\n\nadd this code\nif ( ! class_exists( 'I18N_Arabic' ) ){\nrequire_once( DOMPDF_DIR . \"/I18N/Arabic/Glyphs.php\" );\n$Arabic = new I18N_Arabic_Glyphs('Glyphs');\n$text = $Arabic->utf8Glyphs($text);\n}\n\nalso you should use any custom arabic font in your css file\nthis will fix Arabic problem forever and will display arabic letter correctly\nexample : \u0627\u062d\u0645\u062f\nwill appear\n\u0627\u062d\u0645\u062f\nnot\n\u062f \u0645 \u062d \u0627\nthanks\n```\nBut it do not give me the correct words. Can anybody help me sort out this issue?\nThankyou.\n. What if we have both Arabic and English letters, How can we fix it?. ",
    "hiepnt93": "any ones have solutions? my project working perfect except support arabic. it seperated with each character. \n. ",
    "safalppj": "HI\nI did all these steps as explained but still i m getting ??? in place of text can you help what else need to do to bring Arabic strings\nThanks\nPappu Jaiswal\n. ",
    "emados": "@bsweeney I followed all the steps in the Unicode How-to. However, I'm still having the same issue (Arabic characters are reversed & separated).\n. ",
    "arphp": "@t3rep-com thanks for your referencing our work, I have one small note; there is no need to change the default $max_chars parameter in the utf8Glyphs method, all what you need to change in the DOMPDF \ntext_renderer.cls.php file is:\n$text = $Arabic->utf8Glyphs($text, 150);\ninstead of the call you suggested:\n$text = $Arabic->utf8Glyphs($text);\n@ramonleenders thanks for your efforts, I will look at the issue of replacing my \"&\" into \"&;\" as well as extra space added before the actual text, please let me know if there are any other specific issue affect well integrating ArPHP library to DOMPDF . @t3rep-com thanks for your referencing our work, I have one small note; there is no need to change the default $max_chars parameter in the utf8Glyphs method, all what you need to change in the DOMPDF \ntext_renderer.cls.php file is:\n$text = $Arabic->utf8Glyphs($text, 150);\ninstead of the call you suggested:\n$text = $Arabic->utf8Glyphs($text);\n@ramonleenders thanks for your efforts, I will look at the issue of replacing my \"&\" into \"&;\" as well as extra space added before the actual text, please let me know if there are any other specific issue affect well integrating ArPHP library to DOMPDF . @megamosa thanks, we are working on that also in the coming version of the library\n@prashantidealittechno it should works fine, ar-php library will detect language automatically. ",
    "megamosa": "@arphp Thank you MR: Khaled for the most excellent library and thank you @t3rep-com for your efforts\nMR: Khaled there is another problem\nIs that any number with a decimal point it well appears inversed and the decimal point does not appear correctly it's appears strangely\nExample of this number\n119.00\nIt appears this way\n00\u064b911. @arphp Thank you MR: Khaled for the most excellent library and thank you @t3rep-com for your efforts\nMR: Khaled there is another problem\nIs that any number with a decimal point it well appears inversed and the decimal point does not appear correctly it's appears strangely\nExample of this number\n119.00\nIt appears this way\n00\u064b911. @arphp any update ? . ",
    "Moon2333": "I'm facing the same problem. i couldn't find Glyphs.php file ? in which file i have to add code ? I am using the latest version of dompdf.. ",
    "mbdwey": "I created repo that implement ar-php fix\nhttps://github.com/mbdwey/dompdf\n@t3rep-com Thanks for sharing this font.\nNote : I finally used mpdf it's support rtl direction . ",
    "moman13": "@t3rep-com \nwhere i can find this folder pls \ndompdf/include/text_renderer.cls.php\ni am beginner in laravel . ",
    "khaledsabbah": "Run \ncomposer require kgcoder/laravel-ar-dompdf\nit's a wrapper for laravel dompdf with arabic support addition.\nSee the Readme File here https://github.com/khaledsabbah/laravel-dompdf. ",
    "TimexPeachtree": "Thanks for the help @t3rep-com, I used it on the new version v0.8.3 in the following way, its working good for right to left in arabic with joining\nIN t3rep-com' Solution\n\nHi , the best solution to support and fix arabic characters in dompdf Library you should integrate\nar-php library for khaled.alshamaa inside dompdf library ,  so\nplease follow these steps:\n1- download the  ar-php library for khaled.alshamaa from the following link\nhttp://www.ar-php.org/ (its free arabic Library with LGPL license)\n2 - extract and upload I18N folder inside dompdf folder\n3- open Glyphs.php file in this path\n               \\dompdf\\I18N\\Arabic \nsearch\n              public function utf8Glyphs($str, $max_chars = 50\nreplace to\n             public function utf8Glyphs($str, $max_chars = 150\n4-in text_renderer.cls.php file\ndompdf/include/text_renderer.cls.php\nbefore this line\n       $this->_canvas->text($x, $y, $text \nadd this code\n if ( ! class_exists( 'I18N_Arabic' ) ){\nrequire_once( DOMPDF_DIR . \"/I18N/Arabic/Glyphs.php\" );\n$Arabic = new I18N_Arabic_Glyphs('Glyphs');\n$text = $Arabic->utf8Glyphs($text);\n}\n\nalso you should use any custom arabic font in your css file\nthis will fix Arabic problem forever and will display arabic letter correctly\nexample :  \u0627\u062d\u0645\u062f\nwill appear\n\u0627\u062d\u0645\u062f\nnot\n\u062f \u0645 \u062d \u0627\nthanks\nhope add this solution to next update @bsweeney\n\nFor v0.8.3 : \nFollow steps 1-2\nSkip step 3 - as mentioned by @arphp  on Comment \nStep 4 - \nthe latest version the file to be changed (the equivalent of) dompdf/include/text_renderer.cls.php:\ndompdf/src/Renderer/Text.php\nI have changed the position of the require once statement to the top of the file just below \nthe \nuse Dompdf\\Frame; Statement as below : \n```\nnamespace Dompdf\\Renderer;\nuse Dompdf\\Adapter\\CPDF;\nuse Dompdf\\Frame;\nuse I18N_Arabic_Glyphs;\nrequire_once(DOMPDF_DIR . '/I18N/Arabic/Glyphs.php');\n```\nand before this line\n        $this->_canvas->text($x, $y, $text\nadd the following code:\nif (class_exists('I18N_Arabic_Glyphs')){\n            $Arabic = new I18N_Arabic_Glyphs('Glyphs');\n            $text = $Arabic->utf8Glyphs($text, 150, false);\n            //Incase need to use Arabic Numerals pls use\n            //$text = $Arabic->utf8Glyphs($text, 150);\n}\nPls find the complete gist for the modified dompdf/src/Renderer/Text.php - dompdf Arabic Support with Right to Left Reading Order and Joining dompdf\\src\\Renderer\\Text.php\nThanks pls comment if any updates / fixes are made. I hope this fixes this issue on new versions also.\n. ",
    "aminemrabet": "To make it work, you need to use this JS bloc inside your PDF Blade : \n<script type=\"text/javascript\">\n            try {\n                this.print();\n            } catch (e) {\n                window.onload = window.print;\n            }\n</script>\nI hope it helps !. ",
    "ChaitaliSheth": "Thank you this script was working fine. ",
    "jameswilson": "I don't have a \"concise\" snippet of html that can test this, but I can confirm that this commit https://github.com/camna/dompdf/commit/1f7b2c6d37ad95ded3116ba94e194c1b738395cf  mentioned above from @davidbarratt does fix a very real bug that I occasionally have been seeing in passing.  And his argument for the fix is sound logic,  this function simply doesn't exist in the parent class, so it makes no sense to call it.\nCall to undefined method Inline_Frame_Decorator::get_current_line_box() absolute_positioner.cls.php on line 91\n. Would it make sense to file https://github.com/camna/dompdf/commit/1f7b2c6d37ad95ded3116ba94e194c1b738395cf  as a separate bug and separate pull request, because i dont see how its related at all to composer issue #704 for which this pull request was created.\n. @bsweeney, thanks, I tried experimenting using your tester on eclecticgeek but couldn't figure out how to trigger it.  its definitely something with the absolute positioning, and has something to do with bottom positioning i believe.\n. Here is a sample code snippet, for testing purposes.\n<!DOCTYPE html>\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n</head>\n<body>\n    <img src=\"http://placehold.it/300x1200\" />\n</body>\n</html>\n. I can confirm that this fixes a layout problem I was having. Thanks very much Brian!\n. The response headers show the standard Drupal headers (I'm using print module and print_pdf with dompdf support).\nCache-Control:no-cache, must-revalidate, post-check=0, pre-check=0\nConnection:Keep-Alive\nContent-Type:text/html\nDate:Wed, 16 Oct 2013 21:37:43 GMT\nETag:\"1381959463\"\nExpires:Sun, 19 Nov 1978 05:00:00 GMT\nKeep-Alive:timeout=5, max=100\nLast-Modified:Wed, 16 Oct 2013 21:37:43 +0000\nServer:Apache\nTransfer-Encoding:chunked\nX-Generator:Drupal 7 (http://drupal.org)\nX-Powered-By:PHP/5.3.14\nThe source code shows nothing other than the error message text \"Unable to stream pdf: headers already sent.\"\nThe install of dompdf library is an up-to-date zip file of dompdf-master.zip downloaded straight from github.\n. Reading the code comments, it says plainly that setting either of these values to true will prevent streaming.\n``` php\n/\n * If true, $_dompdf_warnings is dumped on script termination when using\n * dompdf/dompdf.php or after rendering when using the DOMPDF class.\n * When using the class, setting this value to true will prevent you from\n * streaming the PDF.\n \n * @var bool\n /\nglobal $_dompdf_show_warnings;\n$_dompdf_show_warnings = false;\n/\n * If true, the entire tree is dumped to stdout in dompdf.cls.php.\n * Setting this value to true will prevent you from streaming the PDF.\n \n * @var bool\n /\nglobal $_dompdf_debug;\n$_dompdf_debug = false;\n```\nI guess the question if all the output ends up in lib/fonts/log.htm why is this a problem?\n. Ran this snippet, after setting $_dompdf_debug = true;\nphp\n  if (headers_sent()) { print \"before DOMPDF\"; die; }\n  $dompdf = new DOMPDF();\n  $dompdf->set_base_path($path);\n  $dompdf->set_host($host);\n  $dompdf->set_paper(drupal_strtolower($paper_size), $page_orientation);\n  $dompdf->set_protocol($protocol);\n  //...\n  if (headers_sent()) { print \"before DOMPDF->load_html()\"; die; }\n  $dompdf->load_html($html);\n  if (headers_sent()) { print \"after DOMPDF->load_html()\"; die; }\n  $dompdf->render();\n  if (headers_sent()) { print \"after DOMPDF->render()\"; die; }\n  return $dompdf->output();\nThe result: \nThe only one of my print statements that made it to the screen was the last one: \"after DOMDPF->render()\" . Before that appeared on the screen, though, it actually printed out the debug output from dompdf to the screen.  \nIt seems like dompdf is setting headers at some point during the render() call, but then the output is only piped at a later stage to the log file, only if it hasn't been triggered to be sent to the screen by a print command, which means the code comments are correct.\n. I'm using a snapshot of the master branch downloaded from github as a zip file a few days ago.\nhttps://github.com/dompdf/dompdf/archive/master.zip\n. If I remove the print statement after dompdf->render()  and place it after dompdf->output();  the debug output is no longer printed to screen, but the headers_sent() is still true.\n. Facepalm.  it was a long day.  But now i've added the closing </style> tag and all i get is a 404.\n\n. Same problem. \n. Nevermind!  it worked the second time.\n. Thanks Bryan for fixing this.  I can now get back to gut checking my original error dealing with font height calculations and layouts and whatnot.\n. It is probably relevant that the Helvetica font is provided as an AFM font but Dejavu Sans font is a TTF.\n. I tried converting the Dejavu Sans to AFM format using http://everythingfonts.com/ttf-to-afm but it ended up producing lots of box characters for various letters in the rendered PDF, so no go there.\n. I also tried using the AFM files for Dejavu Sans found here: http://ctan.mackichan.com/fonts/dejavu/afm/  but encountered the same problem (various letters render as empty boxes).\n. PHP warnings that may be relevant:\nNotice: Undefined index: in Cpdf->getFontHeight() (line 3150 of /var/www/sites/all/libraries/dompdf/lib/class.pdf.php).\nNotice: Undefined index: in Cpdf->getTextWidth() (line 3517 of /var/www/sites/all/libraries/dompdf/lib/class.pdf.php).\nNotice: Undefined index: in Cpdf->setCurrentFont() (line 2545 of /var/www/sites/all/libraries/dompdf/lib/class.pdf.php).\nNotice: Undefined index: /var/www/sites/all/libraries/dompdf/lib/fonts/DejaVuSans in Text_Renderer->render() (line 91 of /var/www/sites/all/libraries/dompdf/include/text_renderer.cls.php).\n. Thanks for the explanation about AFM.  I didn't realize they depend on the TTF file being present too, which I had moved out of the way during the previous tests, resulting in those errors (i presume due to missing TTF files!) \nI've realized what the rendering problem is, it boils down to the DOMPDF_FONT_HEIGHT_RATIO = 1.0 setting in dompdf_config.custom.inc.php.\nThe reason I uncommented this is because there was just way too much whitespace between lines, so uncommenting this line improved the line-height rendering in the PDF, making it look much more like what the browsers render. \nHowever, two weird things were happening when this is set,  it appears that in certain cases, blocks of text jump down to the next page and/or text runs over into the footer, both of these issues were resolved by commenting the font height ratio out.  \nI just wonder why there is such line-height discrepancy between what the browsers render versus what dompdf renders?\n. I've updated this issues title to match the root of the problem.\n. ",
    "ntarandek": "Thank you very much for your reply. Option 1 was the most feasible and I tried it - works like a charm.\n. ",
    "RWCHRISTIAANSE": "Okay, I tested it again and you are right. But maybe you can tell me what happens here... If I just use the HTML for the table DomPDF renders the table just fine. But if I use the HTML for a complete page, I have got the situation I have described.\nCorrect:\n<table border=\"1\" summary=\"\">\n  <tr><th>\u00e9</th><th>\u00e9</th></tr>\n  <tr><td>\u00e9</td><td>\u00e9</td></tr>\n</table>\nWrong:\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\">\n<head>\n<meta http-equiv=\"Content-Language\" content=\"nl\" />\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n<meta name=\"Description\" content=\"\" />\n<link rel=\"stylesheet\" href=\"./styles/rdo_docs.css\" type=\"text/css\"/>\n<title></title>\n</head>\n<body>\n<table border=\"1\" summary=\"\">\n  <tr><th>\u00e9</th><th>\u00e9</th></tr>\n  <tr><td>\u00e9</td><td>\u00e9</td></tr>\n</table>\n</body>\n</html>\n. I just found out that the utf8 part in the meta tag is causing the problems. I do not get it, because every browser renders the HTML correctly. \nI just changed \n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\ninto\n<meta http-equiv=\"Content-Type\" content=\"text/html;\" />\nWhy o why?\n. ",
    "arturslogins": "Any update ?  How fix this bug? \n. ",
    "WillyR": "Any update on this issue?. ",
    "johnywind": "My only solution so far, was to estimate how many div's fitted in a page and manually apply page breaks.\nSomething like this: \nif (($i % 15 == 0 && $i > 15 ) || $i == 12 ){\necho '<div style=\"page-break-before: always; \">';\n}. ",
    "ondra-cenek": "It can occurs when multiple tables doesn't fit to one page.\nSolution for this is easy, add <div style=\"clear: both;\"> after table.. ",
    "Carlitta87": "any result from this?\n. ",
    "Machecek": "Thanks for your reply.\nYou're right i was using 0.6.0 beta 3, but when i tried render PDF with version currently on git everything works fine.\nThanks again for your help.\n. ",
    "thenissengroup": "Hi Brian,\nHere is the information you needed:\nPHP 5.3.3\nPHP DOM Extension\nPHP register globals\nPHP Mbstring Extension\nDOM PDF 0.6.0 Beta 3\nI currently have the font ratio set to .72, due to some other conversions going on with the IMG background. But if those calculations were the culprit, then the 3rd party converter would not work either, yet it does.  So I'm sort of hung up on the fact that it's either DOMPDF or the fonts that I'm using, which are (in this case):\nBreeSerif\nHomenaje\nDynalight\nTimes New Roman\n. ",
    "yankitwizzy": "@bsweeney Thanks for the answer but that didn't fix it\n. I am using \"font-family: Arial, Helvetica, Geneva, sans-serif;\" Like I said it displays very well on localhost but online it doesn't format the html well. Could it be a missing php extension\n. I have changed the font to just Geneva and have downloaded dompdf v0.6.xagain but it is still the same. I am tired. I don't know what to do anymore. Why would it work well locally and not well online?\n. I have downloaded it, no change. I think it's a configuration on my server that is causing it but I wish I know what config it is\n. PHP Fatal error:  Call to undefined method DOMPDF::get_option() in /pathto/dompdf-master/include/style.cls.php on line 255. But there is no error when I am generating the pdf files. It is only when I want to open the examples that come with dompdf that there are errors meanwhile it opens perfectly on localhost\n. It is still the same. The formatting is done correctly. \nI have called the method and it is printing out \"serif\" for me\n. No I did not manage. Thanks for asking\n. ",
    "damithdex": "Change this option \n       define(\"DOMPDF_ENABLE_CSS_FLOAT\", true);\nto\n       define(\"DOMPDF_ENABLE_CSS_FLOAT\", false);\n. ",
    "gerbengeeraerts": "Same problem here, this bug is still relevant and present. CSS is in the head tag, no linked styling sheets.\n. \n\n. I've added the \"$dompdf->set_option('defaultFont', 'Arial');\" option, but that didn't change anything.\nI could post my html if that would be interesting. It's not that much.\nIt contains no floats and is all tables.\n. ",
    "MayconGhizzi": "I recently solve this problem, check server required extensions:\nPHP version 5.3.0 or higher\nDOM extension\nGD extension\nMBString extension\nphp-font-lib\nphp-svg-lib\nin my case MbString was missing.\n. ",
    "sj5515139": "I am using dompdf for generating pdf in Drupal 7. its working very fine on localhost. But its not working on online server. There it is not generating page also. It just reload the page again. Anybody please help me.. I am using dompdf for generating pdf in Drupal 7. its working very fine on localhost. But its not working on online server. There it is not generating page also. It just reload the page again. Anybody please help me.. ",
    "avadh22": "some dompdf file not download why?. ",
    "dev-pradeep": "Anyone figured the solution this issue ? as its same for me in locally its working like a charm but in live its all messed up. ",
    "osworx": "Okay, after investigating a bit more in this bug (cannot wait until someone answers here), the problem is in the \n\nclass.pdf.php\n\nline 1145, where it says:\n$raw = ($k === 'CreationDate' || $k === 'ModDate');\nChanging this to:\n$raw = ($k === 'CreationDate' || $k === 'ModDate' || $k === 'Title' || $k === 'Author' || $k === 'Subject' || $k === 'Producer' || $k === 'Creator' || $k === 'Keywords' );\nbrings back valid tags /except the subject tag which should be (n come now to an i)\ndescription here\n\n. Sorry, did not wanted to close this issue.\n. Hello,\nthx for the quick reply.\nI thought in downloading the latest package 0.0.6-b3 the latest code is inside.\nThat is why I did not look into the repo.\nAnd sorry in opening a new item, but could not find any other about this bug (never thought a title could be something like ... wreck ..\nSo, tried now the code from https://github.com/dompdf/dompdf/blob/master/lib/class.pdf.php and it works (better than before).\nThe value description is still a  \n\ndescriptioi \n\nwith an final i instead of having an n (as shown in the second image).\n. One final note: to get rid of this issue, adding subject, title, etc. via\n$dompdf->get_canvas()->get_cpdf()->addInfo( 'Title', $title );\nis working (of course, because the encryption was done before this call.\n. With XHTML there is a specification to write all tags in lowercase.\nWhile HTML5 does not require lowercase tags, it is recommended: http://www.w3schools.com/html/html_elements.asp\nbtw: I am doing this job since 20 years.\nNever wrote one tag in uppercase - do not know from where you have this idea??\n. @bsweeney Interesting: only 6 of them are also available in uppercase - optional and beside the lowercase - (and one of them is the >) - did not know that ..\nFor you resp. domPDF does it mean (i would suggest) to check and convert first. \nOn the other hand, between &uuml; > \u00fc and &Uuml; > \u00dc (for example) is a big difference ...\n. ",
    "teacoat": "New development;\nOpening the blurry pdf in photoshop magically sharpens the text to just as sharp as the original. Possibly acrobat compressing the jpgs?\n. ",
    "kb6673": "Thanks for the swift reply. I did try that. I'm now getting / previously got\nError: Call to a member function get_cpdf() on a non-object\nPerhaps CakePHP isn't running the autoload code?\n. ",
    "dedius": "The only working solution for me was to add <base href=\"http://example.com/HTML/file/path\"> in html head, and to set $options->set('isRemoteEnabled', TRUE);. ",
    "BenMorel": "+1 for following the PSR-0 standard, and +1 for dropping PHP 5.2 support.\nPHP 5.3 is already EOL, why bother supporting dinosaur versions?\n. Great, happy to hear that! Do you have plans to move to PSR-0?\nAlso, could I suggest two other things to make this library perfectly respect interoperability standards:\n- Custom autoloading should not be enabled by default, and therefore it should not be needed to call define('DOMPDF_ENABLE_AUTOLOAD', false); when using composer\n- Configuration should not be global and require a PHP file to be included. Instead, it should be passed as a parameter to the DOMPDF constructor, either as an array, or as a configuration object.\n. @bsweeney Excellent, thanks!\n. ",
    "ReneFroger": "Thanks for your contribution. But how does this work? \nI added the differences to page_frame_reflower.cls.php, then in the <head> between the <style> tags: \n`@page :odd { background-color: #808000 ; }`\nBut I see no change on odd pages. \n. ",
    "ruudk": "Why keep stuff open for so long? There is no value in having things on a list when it's not being worked on. That why I closed it. I don't want this in my list of issues. . ",
    "shoib-pk4": "hmmmm, thank you problem got fixed...\nOn Mon, Nov 18, 2013 at 8:56 PM, Brian Sweeney notifications@github.comwrote:\n\nDOMDocument is a core PHP extension, enabled by default. Check your PHP\nconfiguration (e.g. using phpinfo()) and look for a section called \"DOM\".\nIf you do not see it then the DOM extension has been disabled. How you\nenable it depends on your environment.\nYou can read more about this extension in the PHP documentation:\nhttp://www.php.net/dom\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/743#issuecomment-28706628\n.\n\n\nShoib Mohammed A\n9686224617\nPK4 Software Technologies Pvt Ltd\n. ",
    "nswyer": "Sure, I've made the copy generic, but the number of images/links/tags/special characters are the same. (A smaller amount of copy typically works regardless of font setting in an almost identical template markup)\nhttp://pastebin.com/5ERgFFpE\nAlso to note, I'm using inline:\n``` php\n$test_html = <<< END\n    //pastebin code here\nEND;\n$dompdf = new DOMPDF();\n$dompdf->load_html($test_html);\n$dompdf->render();\n$dompdf->stream(mypdf.pdf, array(\"Attachment\" => 0));\n```\n. ",
    "Spreeuw": "Thanks, that does the trick indeed! Actually, knowing this I wouldn't call it a quirk, since it can be quite useful (is this documented though?)\n. Thanks for the heads up on 0.6.0! Awesome job.\nThis fixes the issue for Open Sans indeed, but some other fonts still seem to have the same issue.\nDuru Sans for example, displays fine in the browser, using a range of characters:\n\u013e\u0161\u010d\u0165\u017e\u00fd\u00e1\u00ed\u00e9\nIf I load the same HTML in dompdf, only \u00fd\u00e1\u00ed\u00e9 is displayed.\nhtml\n<link href='http://fonts.googleapis.com/css?family=Duru+Sans&subset=latin,latin-ext' rel='stylesheet' type='text/css'>\ncss\nbody {\n    font-family: 'Duru Sans', sans-serif;\n    font-size: 9pt;\n}\nif I replace Duru Sans with Open Sans in the same document, all characters are displayed.\n. Thanks for the information and the follow up. Unfortunately the content is generated dynamically and I didn't save the document. Right now I am not able to reproduce the bad PDF issue.\nsetup.php doesn't show any red flags, I will look at the other options later. Installing the TTF is unfortunately not an option because the library is distributed within a WordPress plugin and any changes in the plugin would be overwritten whenever the user updates to a newer version.\nI'll dig into it a bit more and let you know when I have more detailed information. Thanks!\n. Hi Brian,\nI think I have found the root cause of all of this, being the following:\nTo use the extended character set, you actually need to request the subset from google (as opposed to what you're suggesting in 2.). In my first attempt, I didn't. What happens, is that dompdf downloads the font, stores it in the fonts folder and lists it in dompdf_font_family_cache.php. Now the second time you use the same font, dompdf will not redownload the font, but use the already downloaded font instead (!). Even when you add a subset, change whatever, it doesn't influence anything. You can now even remove the remote font source, as it will just use the already downloaded version.\nAs for the corrupted file error, that probably had to do with a copy of dompdf_font_family_cache.php I had moved into the new version lib, without actually copying the font (I'm not sure, but this seems the most likely scenario). I have tried with several different clean versions of dompdf to reproduce the error but it always rendered & opened fine.\nBottom line, I guess it would help if there's a setting to prevent reusing cached fonts and let dompdf download again / overwrite with the newer version. And knowing the things I know now, of course! For now, I'll consider this issue solved!\n. I just came across this and it took me a while to figure out what I was doing wrong, but I copied the @font-face declaration from google. It was using the 'woff' font format which was confusing dompdf and resulted in corrupted fonts.\nObviously it needs the ttf files, but Google won't give them to you unless you disguise yourself in another browser (Firefox, Chrome, Safari, all didn't work for me). I noticed that when I set my UA to Opera 10, it gave me the TTF urls. Interestingly enough, it also gave me truetype urls with \"Googlebot\" as user agent, but those were different urls...\nJust putting it here in case anyone finds it helpful. I hope this font-weight issue will be solved in a next version... converting the numeric font weight should not be too hard!\n. @maps82 I fixed this for my own integration by setting a higher version of phenx/php-svg-lib in my composer.json:\njs\n{\n  \"require\": {\n    \"php\": \">=5.3.0\",\n    \"dompdf/dompdf\": \"*\",\n    \"phenx/php-svg-lib\": \"dev-master as 0.2\"\n  }\n}. Thanks @PhenX! \ud83d\udc4d  Perhaps reopen the issue until dompdf has updated the requirement in composer.json too though?. Is there any potential downside to activating the HTML5 parser? What does this do exactly and why is it not enabled by default? Thanks!. I think enabling the HTML5 Parser is by default is the way forward\nphp\n$options->setIsHtml5ParserEnabled( true );\nAlthough that library should definitely be updated. Anything holding off from integrating https://github.com/Masterminds/html5-php/ instead of https://github.com/html5lib/html5lib-php/ (over 8 years old)?\n. @ixperiencenl afaik this issue hasn't resolved itself, although #1570 seems to be a reliable fix\n@bsweeney anything holding you off from applying #1570?. Having the same issue with a client, also on PHP 7.1 (Apache/2.4.27 (FreeBSD) mpm-itk/2.4.7-04 PHP/7.1.12). Documents come out without any text in them, only borders and backgrounds are rendered. Here's an example:\n\nin addition to the Undefined property: DOMText::$data reported above, I'm also getting:\nPHP Notice:  Undefined property: DOMAttr::$value in /dompdf/dompdf/src/Css/AttributeTranslator.php on line 233\n\n@cjwotbot I'm not sure I completely understand how you solved this, could you go into some more detail?. While I did use composer to install dompdf, these vendor libraries are just bundled with my application. I don't think that's what you are referring to with 'PHP libraries'?\n\ndompdf/dompdf : v0.8.2\nphenx/php-font-lib : 0.5.1\nphenx/php-svg-lib : v0.3\nsabberworm/php-css-parser : 8.1.0\n\nUnless the webhosts of these clients are somehow runninga global composer script, I don't think composer is run for dompdf on these systems, they just download the whole package including the vendor folder.. I can confirm this bug, it seems to be caused by \\Dompdf\\Helpers::encodeURI.\nThis:\n$uri = \"http://test.test/test?test=\".urlencode('http://test.test/test?test=test&testessen=qwe');\necho $uri.'<br>';\necho \\Dompdf\\Helpers::encodeURI($uri);\nwill output:\nhttp://test.test/test?test=http%3A%2F%2Ftest.test%2Ftest%3Ftest%3Dtest%26testessen%3Dqwe\nhttp://test.test/test?test=http://test.test/test?test=test&testessen=qwe\nThe second URL is invalid and will thus break the GET parameters.. @bsweeney is there a target/tentative release date set for 0.8.3?. ",
    "xildatin": "Thank you for your work.\nOn Dec 20, 2013 6:35 PM, \"Brian Sweeney\" notifications@github.com wrote:\n\nI'm going to further tweak the code so that at least the color is used, if\nnot the transparency. Your specific issue is resolved so I'm going to close\nthe issue. Watch issue #753 https://github.com/dompdf/dompdf/issues/753for information on the addition of transparency support.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/749#issuecomment-31054858\n.\n. \n",
    "sabat24": "There is another problem with missing fonts using inline PHP feature (for example for generating headers and footers). Function 'text' with the same font as in main document also causes the same problem.\nIt would be nice if I could use register_string_subset to regenerate font or to create font before rendering starts.\n. I tried to do it and It would be great if I could just use that function. If I call register_string_subset from inline script it will work fine itself (it will produce a correct array), but the font for PDF is already created. The very first use of 'text' function, calls the selectFont($font). Inside selectFont there is:\nif  (!isset($this->fonts[$fontName])) {\nThe block inside above statement is responsible for creating a font using subset array. That array was build during parsing the HTML document without my inline registered strings\nIf I call a\n$pdf->register_string_subset($font, $text);\nfrom inline script after all HTML is parsed, the font won't change because\n$this->fonts[$fontName]\nalready exists so it returns me the font created during parsing HTML without later changes.\nFor example that inline script:\n$pdf->register_string_subset($font, $text); // will work\n$pdf->text($x, $y, $text, $font, 10); // won't use the font with registered string from above, but the old one created during parsing HTML\n\n. I've got the same problem with inline elements and text overriding my footer. I've got main content wrapped in one div element, but it changes nothing.\n. @bsweeney I've placed footers outside the page. I generate documents with15 - 20 pages with page breaks and on some pages everything worked fine (content and footer was nicely separated) and on the others not. \nHowever since 0.6.2 setting bottom margin of the content's container higher than I actually need solves the problem. On some pages text ends earlier than he could, but I can live with that :)\n. ",
    "harry-zhang": "DOMPDF 0.5.2\n. @bsweeney thanks!\n. ",
    "jeremyBass": "oddly I thought I did.. no I didn't, but then I went to see where it was at.  It's a wordpress install.  It was doing what you were doing, checking and adding the functions of MBString that is needed.\n. sure it's /wp-includes/compat.php .. \n. side question, is there an easy way to use imagemagick over the GD?  wasn't spotting anything so I thought I'd just ask.  thank you \n. oh no I meant ImageMagick with dompdf .. more of curiosity since I noticed I had to load the GD lib on our server provisioning stack in order to get the image out in the pdf.  I only asked since our salt stack had ImageMagick loaded but not GD and a quick look around didn't have signs that you could choose which adapter to use.  it was more wonderment as WP uses ImageMagick not GD, and it seems that more  people are starting to force ImageMagick over GD.  :D just a side question sorry didn't mean to steer off.\n. Can do on the new feature request \n. I'm not convinced of what the issue is.  I can't get the numbers... it was only 0 because I was shifting the number.  remove that section and I get 1 al the time.  From what I get I'm thinking that it's that I only get the number based on where the method is called from.  In other words I get 1 because I call the $pdf->get_page_number() on the \"first page\" , but since it's run already then I never get any other number.  so when I use it in the foot it's already set, not a reference to the method so a new number is not gotten.  In short I'm setting the number on the script at the top of the HTML right after the body (IE: page 1) so I would always have the same number.  I'm still tracking things down but I think I miss reported.\n. yeah I started to get that the echo/print stdout was being pushed not to the location in which it ran when I start to realized that it was ending up in the logs.  But I was at least able to sort that I have not encountered a \"bug\" per say.  :D \n. I need a total count and also to be able start the cound from lets say the 3rd page, which would now be one.  This is what I was working on, but I found a very simple way to provide this functionality.  What I was driving at was that things would have been much simpler to have done if there was call backs to have worked with.  The table of contents are an area that I think would have been a very big beneficiary of being able to look back at what was processed out.  Or it would seem.   If your interested in how far I've gotten here is the project I'm working on now https://github.com/washingtonstateuniversity/WSUWP-concatenated-pdfs .  \nThe site that needs this plugin must output a 500 page pdf, so I've been working on ways to slip, and save current block of pdf, so this is where changing the page number to line up with the last section would be important.  But that poses a new issue for me with how I created the table of contents.  \nMy wish list of things that would have made things a bit more straight forward is the callback, but gaining access to the html of a page even though it was rendered so that I could have maybe counted things like h2 verses h3 for a better table of content.  That was just a few of the thoughts.\n. ",
    "dirkluijk": "I tried to fix it, but then I got the \"No block-level parent found. Not good.\" exception.\nI am still looking what causes this issue.\nN.B. I am using Normalize.css (included in Bootstrap).\n. ",
    "cigzigwon": "Boostrap 3 works okay for me.... the prepend_child call is tacking in extra cells to my table but I'm not sure why. When I comment out the prepend_child function altogether in the frame class my issue goes away.\nI'm not extending the code so the workaround is this:\nA table row with one cell and the cell has this inline style:style=\"border:none;background:#fff\"\nWhich I'm prepending my own child to bork the invisible first row... I also had to toss out the thead and tbody tags because the exponentiate the issue.\nHope this helps for you BS3 people! I'm not sure if BS2 even works...\nQUESTION: Why would prepend_child be called in the case of BS3 tables and even w/HTML5 enabled it doesn't seem to want to play well with the child tbody and thead tags?\n. ",
    "timboormans": "Found that the php-font-lib is another project on github, thats why it is probably not packaged inside the ZIP file. Undue that it should be simplified if you ask me, all needed source files into 1 ZIP file.\n. ",
    "benjibee": "Any chance of this being implemented? Still haven't found a workable solution!\n. Thanks for getting back, and sorry for being a bother. I would love to help out with development but sadly this is beyond my skills.\nIf you need any testing done for implementing this, please let me know!\n. It's been about four years, and I don't even work at the company where I built this app anymore, and I may never need to do this again. That being said\u2026\u00a0I'm still curious about this being implemented \ud83e\udd23. ",
    "BillTheGoat": "This can be done using an alternative css model. Tested in v0.7.0. Try:\n<ul class=\"leaders\">\n<li><span class=\"title\">title</span><span class=\"nums\">#</span></li>\n<ul>\n```\nul.leaders{list-style: none;width:100%;display:block;}\nul.leaders li { \ndisplay:block;\nclear:both;\n}\nul.leaders li span.title {\n    display: inline-block;\n        position: absolute;\n    background-color:#fff !important;\n        left: 50pt;\n    padding: 0 .4em 0 0;\n    margin: 0;\n}\nul.leaders li span.nums {\n    text-align:right;\n    overflow:hidden;\n    display: inline-block;\n        position: absolute;\n        right: 50pt;\n    background-color:#fff !important;\n    padding: 0 0 0 .4em;\n    margin: 0;\n}\nul.leaders li:after {\n    content: \"  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  \";\n    display: inline-block;\n    white-space:pre;\n    overflow: hidden;\n}\n```\nI just can't actually get white-space:pre to work. \n. Awesome. First bug I found and it was already fixed. The only major issue with domPDF so far is that it is hard to find! Maybe you should post this on HN and around the web because you are alleviating a monumental headache. Thank you very much!\n. I was trying to create a full bleed background color on a cover page, and this was quite frustrating. A very fragile workaround is to wrap everything in a div and set it with a min-height equal to your page height. You still need to use trial and error to size the child divs (I have not been able to get closer than .35 inches less than page height), but visually things work.\nHopefully that helps figure out what is going on.\n. No problems. I did this because I attempted to use the page_script in this way by creating a variable like $pn = $PAGE_NUM - 1;, but I wound up with every previous page number written one over the other on each page, even if I reset the variable to null at the end of the page_script. It was fast to just change the logic here, but honestly what I really wanted was to embed all this in the footer div using <script>, which I never got to work at all.\n. It appears that a null byte is added before every character in text fields so [(text)] becomes[(\\0t\\0e\\0x\\0t)] in the utf-8 version, as can be seen by adding in:\n$checkBackside = addslashes(print_r($pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], true));\nerror_log('backside = '.$checkBackside);\nThus, it is no problem for me to match one character, so I can replace % with $page.\n To be sloppy, I can insert some **probably** absent character and loop on it using a limited preg_replace instead of using named array keys, e.g. using \u00a5 like:\nforeach($GLOBALS['chapters'] as $chapter => $page) {\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , $page , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\nBut of course there is a major problem: if we are only replacing one character, and the page number is 10 or above, only the first digit will display because no space has been allotted for two characters.\n. Kludging it all together:\nforeach($GLOBALS['chapters'] as $chapter => $page) {\n        if(strlen($page) == 1) {\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , ' ' , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 2 );\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , $page , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        } else if(strlen($page) == 2) {\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , ' ' , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , substr($page,0,1) , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , substr($page,1,1) , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        } else if(strlen($page) == 3) {\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , substr($page,0,1) , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , substr($page,1,1) , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'] = preg_replace( '/\\xa5/i' , substr($page,2,1) , $pdf->get_cpdf()->objects[$GLOBALS['backside']]['c'], 1 );\n        }\n/hangsHeadInShame\n. I switched to use single character because the template rather than the replacement determines the space in the pdf. I need to stick with unicode so everything is in the same font, but that kludge at least can tide me over for now. Thanks for your awesome library.\n. I searched through the PDF 1.3 Spec and there is nothing there, so obviously you guys will not be touching this. \nI have a very newb question:\nI went and declared the pdf asPDF-1.7 in CPDF, and it displays fine in Acrobat Reader. If I privately integrated that change, and tried to get video working, would the sky fall, or are the specs basically the same other than additions?. The use cases vary. It was included in the spec because influential users wanted it there, as far as I know mainly in health care and to some extent finance. My use case is because people expect pdfs from me, but they also expect presentations, and I can't just send them to a web page (I certainly wish I could). Honestly, pdf has as many uses as there are users, and what it was first intended for is not what people use it for, so the spec grows organically to allow for at least some of the major desired uses. Obviously Adobe and other pdf display vendors go out of their way to ensure that things in the spec are supported cross-platform, and this has been in the spec for almost a decade. My fight is on the production side, not the display side, which I will happily let them work out.  \n@bsweeny, you skipped a word so I am not sure what you meant.... ",
    "aeromaxx": "Here is the HTML used to create the DOMPDF:- http://pastebin.com/GgYpnrzU\nOpenOffice PDF is here:- http://goo.gl/azbzk5\nDOMPDF is here:- http://goo.gl/zaD9Md\nHTML is duplicated here in case not able to get it from pastebin:- http://goo.gl/e1WXy5\n. Are there any plans at all for dompdf to support kerning in the future?\n The DOMPDF_FONT_HEIGHT_RATIO would this adjusted by using define('DOMPDF_FONT_HEIGHT_RATIO', $value); or do you have another way to adjust this constant ?\nYes you are correct I made an error in making the examples to share here in that the dompdf version was justified, but forgot to justify the openoffice one prior to export it as a PDF.\nI have updated the files and included the open office document.\nHere is the HTML used to create the DOMPDF:- http://pastebin.com/GgYpnrzU\nOpenOffice Document is here:- http://goo.gl/H4dWF8\nOpenOffice PDF is here:- http://goo.gl/azbzk5\nDOMPDF is here:- http://goo.gl/zaD9Md\nHTML is duplicated here in case not able to get it from pastebin:- http://goo.gl/e1WXy5\n. Oh I see, I've been trying to do it with body { margin: 2cm; }\nI will give that a go instead, and see how I go.\nEdit: There must be an extra margin or something as a margin of 2cm in openoffice isn't the same as a margin of 2cm in the html file, its a lot of guess work it seems to get the right value for the margin.\n. I have measured it and also compared screenshots in photoshop and the measurements are off albeit only slightly.\nusing @page { margin: 1.7cm 2cm } the first line of text is 2 pixels lower in the DOMPDF than in the OpenOffice PDF, the margin on the left is exactly the same in both PDF's, the margin on the right is 1 pixel smaller in the DOMPDF than in the OpenOffice PDF.\nAlso the size of the pages are different also, the width of the page in the OpenOffice PDF is 32.10cm, and in the DOMPDF is 32.07cm.\nI'm using A4 paper set as portrait, the above measurements and calculations have been done by opening the 2 pdfs and setting it to 100% zoom, then taking a screenshot, and importing the screenshots into photoshop for comparing and measuring.\n. ",
    "jamilmba": "Thanks for the details on this issue. I was struggling few hours to get text in custom font but failed and finally this method helps. \"font-weight: normal\" and \"&subset=latin,latin-ext\" caused to displayed custom font in PDF. \n. ",
    "fusionPT": "Hi,\nit's v0.6.0-b3. I have php 5.4 and it works fine locally, and when I uploaded it to my server (mediatemple) the input fields don't render properly, although they render locally.\nBasically I have table rows with input text fields (it's a simple invoice system) and I want to render everything into a PDF when clicking \"Download\"\nHere's the link: http://brunofelicio.com/staging/facturame/\n. Also, here's the repository: https://github.com/fusionPT/facturame\n. I'm just uploading the files from my local (mamp) server to my host (mediatemple)... It works perfectly locally...\n. It does work, because the PDF renders fine locally.\n. I tried echoing the $html variable which is the one that passes the table rows to the render engine. It does show. Take a look at http://brunofelicio.com/staging/facturame/ \nThanks for your help on this.\n. Yes, that solved. Thanks a lot!\n. ",
    "ripunjoy-sarma": "iam using html table and having inline php ..but when i am going to generate dompdf it is unable to show the php database value...i hv gone through all setting of dompdf..and file get contents and curl method also....plz help me i stucked at this position....i am using laravel framework..here is my coding\n//$htmlContent = \\View::make('Certificate-Diploma.print')->with('data',$data);\n        $htmlContent= view('Certificate-Diploma.print', compact('data','$data','message','subject','mailAttachment'));\n// pdf file params\n    $fileName = $fileName;\n    $filePath = './storage/';\n    // generate the pdf file\n    \\PDF::loadHTML($htmlContent)\n    ->setPaper('a4')\n    ->setOrientation('portrait')\n    ->save($filePath.$fileName);\n. ",
    "donatj": "Moreover, your tags aren't getting propigated to packagist, so I can't just require a stable version https://packagist.org/packages/dompdf/dompdf and there is a currently \"officially unsolvable\" bug in composer where requiring \"dev-master#commit-hash\" still gets its requirements from dev-master and not the commit-hash, see my ticket for it here https://github.com/composer/composer/issues/2514\n. I always tag with the v myself and never had trouble with Packagist.  Thanks for the quick response, we were spinning up some new servers this morning and ran into this and it took most of the day bumping around in the back of my head to realize what the issue was.\n. I'd agree with this - the change makes it usable out of the box w/ composer.\n. > There's a bit to figure out related to things like the support functions in functions.inc.php, but I don't see this being a huge issue.\nIt's actually really easy to require a function file with composer, I do it for one of my fairly popular legacy projects ala:\n\"autoload\": {\n    \"files\": [ \"src/functions.inc.php\" ]\n}\n. ",
    "phanzink": "I totally agree.\n. ",
    "linuxjuggler": "this helped me to get rid of the permission issues when you using composer and git\n. i will check and get back to you .. \n. it worked like a charm ..\nthanks for the tip ..\n. you are welcome ..\n. ",
    "kidalikevin": "Hi, I am using Laravel framework, I don't understand what this statement means.\nmoving the defination of __DOMPDF_FONT_CACHE_FILE to the config file, and check if its not defined in the Font_Metrics class, so if its not defined then we use the default definition, this will help to put the fonts cache any where we want. ",
    "jonlambert": "Would the fonts directory still need to be writable even though I'm using a CDN to load the fonts?\nAlso, I'm using Laravel, with dompdf as a library. Everything looks fine in dompdf/www/setup.php.\nInterestingly, it seems to be font specific. In fact, every font other than Source Sans Pro is working.\n\n. I've actually filtered this error down. It seems to affect certain tags - h1 being one of them. Here's an example! \n```\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n\n\n\n\n\n\n\n\n    body {\n        font-family: sans-serif;\n        font-family: 'Source Sans Pro';\n    }\n    p, h1 {\n        font-size: 2em;\n        background: #eee;\n        padding: 1em;\n        font-family: 'Source Sans Pro';\n    }</p>\n<p>\n\n\nHello, this is a h1 tag with the same styling as a paragraph one.\nHello, this is a paragraph tag with the same styling as a paragraph one.\n\n```\n\n. ",
    "jpswade": "The issue with the h1 tag also appears to affect the font-size, as in, it is not registered.\n. ",
    "perfectsenseab": "We also confirm that it works on P tags but not on H1 tags.\n. ",
    "MatKershaw": "Confirm the issue is due to the font weight - if you change font-weight of h1 to normal it renders as custom font.\n. ",
    "Hammad51": "Too late to comment on the issue, but experienced the same issue while working with dompdf. I was loading fonts from google like \n<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>\nbut domPDF was not generating the pdf instead was throwing error, so what i did to fix it, i comment out these 2 lines in dompdf.php, not sure it's the right way to fix the issue but for my case it worked just fine (using dompdf with Laravel 5)\n\"DOMPDF_FONT_DIR\" => storage_path('fonts/')\n\"DOMPDF_FONT_CACHE\" => storage_path('fonts/')\nmight be help full for someone experiencing same issue\n. @ksvendsen yes you are right, I had to create storage/fonts dir to fix the issue the solution i wrote earlier was not wise and shouldn't adopted, forget to update the thread.. Thanks for your comment :)\n. ",
    "ksvendsen": "@Hammad51 \nYou have to create the directory in laravel at storage/fonts then it works. \n. ",
    "tristanbailey": "Fonts from Google as TTF if you are not using a major browser was a good tip:\nOn the cli was one simple way to skip the browser\nwget https://fonts.googleapis.com/css?family=Open+Sans:400,700,300. ",
    "ashrafsaqib": "I found using \n<link href=\"https://fonts.googleapis.com/css?family=Tinos\" rel=\"stylesheet\">\nwill make css \nbackground image: url();\nStop working \nSo I opened the Google Font CSS file and extracted the actual @font-face property by help of chrome dev tool.\nNow using this made backgrounds work again\n@font-face {\n          font-family: 'Tinos';\n          font-style: normal;\n          font-weight: 400;\n          src: local('Tinos Regular'), local('Tinos-Regular'), url(https://fonts.gstatic.com/s/tinos/v11/buE4poGnedXvwjX7fmQ.woff2) format('woff2');\n        }\n        body {\n            font-family: 'Tinos', serif;\n        }\ninstead of \n<link href=\"https://fonts.googleapis.com/css?family=Tinos\" rel=\"stylesheet\">. ",
    "tareq-halaby": "I pulled the latest version off github, I guess this has something to do with RTL (that's why the letters are separated).\n``` html\n<!DOCTYPE html>\n\n\n\n\n     * { font-family: \"DejaVu Sans\"; }\n    \nTest PDF\n\n\n\n    \u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0627\u0644\u0639\u0627\u0644\u0645 Hello, This is a testing message\n\n\n\n```\nThis is an example that fails to output connected letters.\n\n. ",
    "Kalmuraee": "Issue \n. ",
    "truthglow": "any news please about this issue, I am suffering the same thing here?\n. wow, more than one year and no utf8 (unicode) :( \nbut it's something to be added for inter-nationality \n. ",
    "NotFoundDC": "Sorry, I was referring to the downloads on: https://github.com/dompdf/dompdf/tags\nThey are referred to as the 'stable copies' on the main page:\n'You can download stable copies of dompdf from https://github.com/dompdf/dompdf/tags'\n. ",
    "gabrielbull": "Added some more reformatting and fixed a bug with tables\n. Can we merge this in develop branch? If you want to rename the branch dev to develop and not break compatibility with projects using the dev branch in composer we could create a new branch develop that is always in sync with the dev branch and make it the official develop branch.\nProposed git structure:\n- master the stable release branch\n- develop the main development branch\n- dev legacy development branch\n. Some more reformatting I made and a bug fix that prevented my PDF from generating.\n. FYI, these optimisations made my PDF render in 8 seconds instead of 18 seconds, so major improvements there. \n. Hi @PhenX , PHPUnit is a standard in the PHP community so I think we should stick with it instead of using a non-standard library. Same with PSR-2. My belief is that the PHP community will be much better if we all have the same standard instead of using several non-standard library and coding.\nThat being said, this is your library and the choice will belong to you.\nIf you want me to help you make the develop branch, you can add me on the team. Here is my LinkedIn if you want to connect: https://www.linkedin.com/in/gabrielbull\n. Albeit not an ETA, there has been so much change on the current master that this update would need to be reworked from the ground up. I have been wanting to do it for a while without much time to do it. It appears my schedule might get cleared a bit soon and I might be able to get back into the project and make this update happen.\n. You are right, I have added your version of .travis.yml to the PR, thanks for the input.\n. Hello, I merged this in the develop branch. To make sur this work, we need to make a unit test for it. I've added the file for the unit test. Could you provide examples of code where this didn't work before and worked after the patch? If you want, you could even make the unit test yourself in the develop branch. Thanks!\n. Ok, so I moved your commit to the encoding branch, it is no longer in the develop.\n. ",
    "barryvdh": "Do you still want to maintain a legacy version? Or just security/serious bug fixes?\nWouldn't it be easier to do regular development in master, some experimental/testing (like this PR) in develop perhaps, and just keep a 0.6 branch for legacy. Then when you start working on 0.7, merge the develop to master, so you only have 2 versions. (Or instead of develop, already call it  0.7)\nMore like symfony/symfony and laravel/framework etc do this. Then you can still easily make 0.6 releases after a 0.7 release, but it would be more obvious what branch you would need to work on. dev and develop seem a little confusing to me.\nGood job on PSR-*'ing and improving the library btw :)\n. Is there an ETA for the new version?\n. Maybe also add hhvm and php5.6 to the build matrix? (And possibly allow failures for hhvm, until issues are resolved)\n. I wanted to submit a PR to your fork, but the Github webinterface doesn't do what I want. Something like this: (allow 5.6 and hhvm to fail and travis supports composer command, fast_finish to not wait for 5.6 and hhvm, prefer-source to avoid api limits)\n```\nlanguage: php\nphp:\n  - 5.3\n  - 5.4\n  - 5.5\n  - 5.6\n  - hhvm\nbefore_script:\n  - composer self-update\n  - composer install --prefer-source --no-interaction --dev\nscript: phpunit\nmatrix:\n  allow_failures:\n    - php: 5.6\n    - php: hhvm\n  fast_finish: true\n```\n. Why would you use Bower to load DomPDF?\n. No I was looking at my vendor directories to see what is consuming most diskspace, and came across the fonts dir as a relatively large one.\nI agree that 11 MB isn't large nowadays, but it's still large compared to other php packages.\nAnd I create a lot of websites and usually keep multiple versions of the entire project to rollback fast and sometimes also keep a staging domain. So 11MB for one projects becoms 50MB deployed, and that's taken in every backup etc.\nBut it's not extremely important, just wondering why this was so large and included by default. I could of course just strip it out in my deployment otherwise.\n. No\nI don't think Bower is appropriate for a PHP library. Composer is the de facto standard for PHP libraries, which supports autoloading files, php version/extension constraints etc. Bower is intended for front-end (html/css/js etc). I'm not sure why you would want to use Bower instead of Composer.\n. Also simplified instructions to use the simpler CLI interface.\n. Yeah It throws a warning, which messes up the output (probably because of output buffering) and makes the pdf corrupt.) So either accept a default value or fail completely, so it's less confusing.\n. I meant that the result is 'fixed'/static/always the same:\nif (!function_exists('mb_detect_encoding')) {\n    function mb_detect_encoding($data, $encoding_list = array('iso-8859-1'), $strict = false)\n    {\n        return 'iso-8859-1';\n    }\n}\nSo when this is loaded, other libraries/code could think mb_detect_encoding is available, but in this case, it isn't reliable.\nBut the functions.php file isn't really used, is it? You suggest to load it in the readme for manual installation, but not for the composer on. Or am I overlooking something? So can't it just be removed?\n. You shouldn't need to require any other files manually when using Composer. You can autoload some files in composer.json directly.\n. And why can't this be done for the upcoming 0.7 release? \nFor composer, require ext-mbstring. For manual, create a file 'mbstring-compat.php' or something, and let them require that. (Or suggest the extension on composer, and if needed, let them require that for or let them choose their own workaround).\nFor the rest of the functions in functions.php, I ran a check with PhpStorm\n- def(): not used\n- imagecreatefrombmp(), 1 usage in AbstractRenderer. Could be either moved to a method of AbstractRenderer or a static method.\n- date_default_timezone_get() and date_default_timezone_set(): Always available since PHP 5.1, so no need for this.\n- bt(): not used\n- print_memusage(), enable_mem_profile(), mark_memusage(): not used\n- sys_get_temp_dir(): always available since PHP 5.2.1\nSo the only method that is actually needed, is imagecreatefrombmp(). I can submit a PR to fix this if you want.\n. Oops, message got cut off to soon, updated my reply.\n. Submitted PR in #948\n. Yeah but these changes aren't really breaking are they?\n. Okay cool. Probably best to require the extension in composer also.\n. Not sure why they were there in the first place, so assuming the author has some benefit of those for testing purposes.\nBut I'm +1 for removing those. If people want to use them, they should probably define them in their own project.\n. @bsweeney you okay with removing them?\n. Yeah this is a good time to cleanup :)\n. I've removed more the functions that aren't used, see latest commit.\nAlso removed Helpers::DOMPDF_memory_usage() and just used memory_get_peak_usage(true) directly in the 1 place it's used.\n. I haven't tested it, but phpstorm triggered a warning. The TCPDF driver would probably fail when you try to use it (depending on error settings). I'm not sure how many people use it, or if it even works with the latest TCPDF anyways.\n. I've rebased and also changed the autoloader (forgot that before).\nBut please do check this is correct, in case I missed any references or changes with rebasing.\n. Sorry, I forgot :(\n. composer require \"dompdf/dompdf:0.7.x@dev\" should also get you dev-master, but with proper constraints.. Sorry, you get dev-develop, not dev-master. But that still has the fix.\nIt doesn't need a tag, it has a branch alias (0.7-dev for dev-develop); https://github.com/dompdf/dompdf/blob/875eade40b0a7fe9d85cdf7e16686deffce83f45/composer.json#L40-L42\n```\n[..]$ composer require \"dompdf/dompdf:0.7.x@dev\"\n./composer.json has been updated\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\n  - Installing sabberworm/php-css-parser (6.0.1)\n    Downloading: 100%\n\n\nInstalling phenx/php-svg-lib (v0.2)\n    Downloading: 100%\n\n\nInstalling phenx/php-font-lib (0.4)\n    Downloading: 100%\n\n\nInstalling dompdf/dompdf (dev-develop 084063d)\n    Cloning 084063d25ee09a1e6a23f41b9e71306cf0c637d3 from cache\n\n\nWriting lock file\nGenerating autoload files\n```. @bsweeney as this is a pretty critical error, perhaps we could release a hotfix?\nI think you can just checkout a tag, cherry-pick the commits and tag as 0.7.1, without having to pull in all other commits.. Why is this required?. ",
    "beporter": "Namespacing (and general PSR support), plus making dompdf fully compatible with being installed via composer and their autoloader, are critical show stoppers for my company. We are forced to exclude dompdf as an option in our projects due to these current shortcomings, so I look forward to progress in those areas! :+1: \nIs there a help-wanted section where we might be able to assist with work in those areas?\n. I should really have posted this https://github.com/dompdf/dompdf/pull/788#issuecomment-125985214 here.\n. ",
    "antuxity": "thanks, the trick works with simple page\nbut long content after .first-page would generate .first-page, [partial content then blank page]+\n<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" />\n    <title>Header and Footer example</title>\n    <style type=\"text/css\">\n      @page {\n        margin: 0;\n      }\n      .pages {\n        margin: .5in;\n      }\n      .first-page {\n        margin: 0in;\n        color: green;\n        height: 100%;\n        width: 100%;\n        position:absolute;\n      }\n      .first-page + * {\n        page-break-before: always;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"pages first-page\">TEST</div>\n    <div>Some more content.. span to multipel pages</div>\n  </body>\n</html>\n. Actually, the following seems to do the trick, but hope you can look into it further why it generates blank pages\nthanks a lot\nhtml\n<html>\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" />\n<title>Header and Footer example</title>\n<style type=\"text/css\">\n@page {\n        margin: 0;\n      }\n      .pages {\n        margin: .5in;\n      }\n      .first-page {\n        margin: 0in;\n        color: green;\n        height: 100%;\n        width: 100%;\n        position:absolute;\n        page-break-after: always;\n        background: url(\"media/bg.png\");\n      }\n</style>\n</head>\n<body>\n      <div class=\"pages first-page\">TEST</div>\n      <div>Some more content.. ... ...span to multiple pages</div>\n</body>\n</html>\n. thanks, i decided to generate each section separately then concat them afterward.\n. ",
    "losttheplot": "For what it's worth, I have been trying to produce a document template/container on screen that looks similar to its output through dompdf 0.6.2. I zeroed the body and page wrapper for print media. My document has a class of .document which I style for screen media such that it looks like a drop-shadowed A4 page. Inside .document is a div which was set to 100% height and width with a visible border, which I wanted to use to judge on screen what content will fit onto one PDF page.\nI too was getting blank PDF pages before and after my single page of content. I am using jade so I am unable to reformat my html as has been suggested as a possible solution to the problem elsewhere. After some experimentation, I have found a solution that works for me, which I will share here in case it helps others.\n@media print {\n    @page { size: A4 portrait; margin: 0; }\n    body, .wrap { padding: 0; background: none; border: none; margin: 0; }\n    .document { width: 180mm; height: 260mm; margin: 15mm; line-height: 1; }\n    .document div { width: 100%; height: 98%; border: 1px solid red; }\n}\nNote that the height of .document plus the top and bottom margins are 7mm short of the actual paper size. The inner div needs to be set to 98% height - any more and the blank PDF pages appear. Content that exceeds the page length will run onto a second PDF page but without any blanks.\n. ",
    "mrtuvn": "\nhtml and css i posted into raw link pastebin below\nhttp://pastebin.com/raw.php?i=XaTxXP3n \nI want background show all page \ncan anyone help me fix this ? thanks\n. ok thanks @bsweeney for response . i will try \nOne more thing. Content it overlapped by background, i try to use z-index: -1 for background but seem it not work ? Any recommends pls thanks\n. I am waiting for the response please\n. @bsweeney Hi. How to setup sepecific div alway bottom of last page.\nI have try to use css code like\nwholepage {position:relative}\nwholepage .footer {position:absolute; height:xxpx; bottom:0} //show on every bottom page\nBut seem it not works. If div contain table it will lost all border\ni can't upload pdf\n\n. ",
    "tortuetorche": "For more information about this pull request, you can read my conversation (barryvdh/laravel-dompdf/pull/27) with @barryvdh, who's the author of the DOMPDF Wrapper for Laravel 4.\n. @gabrielbull Can you explain me why did you close this issue, please ?\n. @bsweeney OK, FYI this issue is more a path problem to download the font and the issue #617 is more a font name collision problem.\n. ",
    "miramir": "ok\n. ",
    "jpmartin24": "Image is not showing. When i am adding image line, error is coming like that \"There was an error opening the document. The file is damaged and could not be repaired\". I updated to version dompdf 0.6 and used '$canvas->image($image, 400, 25, 100, 25);' but logo image is not showing.\n. Thanks for reply.\nI opened pdf file in text editor and got following errors:\nWarning:  file_get_contents() [function.file-get-contents]: stream does not support seeking in /usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/dompdf/dompdf/lib/class.pdf.php on line 4421\n\nWarning:  file_get_contents() [function.file-get-contents]: Failed to seek to position 24 in the stream in /usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/dompdf/dompdf/lib/class.pdf.php on line 4421\n\nWarning:  unpack() [function.unpack]: Type C: not enough input, need 1, have 0 in /usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/dompdf/dompdf/lib/class.pdf.php on line 4422\n%PDF-1.3\n. Thanks for reply,\nI saved image in same folder which this code file exist. but it is also not working. Can you please advice me how can I show header image without canvas object.?\n. I put one png image file in same folder which coding file exists  (controller) and called this image through:\n$image = \"arrow.png\";\n    $canvas->image($image,400, 25, 100, 25);\nand\n$image = include \"arrow.png\";\n    $canvas->image($image,400, 25, 100, 25);\nand error is coming like that:\nWarning:  getimagesize(arrow.png) [function.getimagesize]: failed to open stream: No such file or directory in /usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/dompdf/dompdf/include/functions.inc.php on line 672\n\nWarning:  file_get_contents(arrow.png) [function.file-get-contents]: failed to open stream: No such file or directory in /usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/dompdf/dompdf/include/functions.inc.php on line 675.\nWe are creating HTML part through php code and contains several pages. Can you please explain how can I add HTML + fixed-position content (above mentioned) as header part for every page.\n. In full local address, png image is not working. jpg format is working but coming only in last page. Not coming in all page. \n. I tried with jpg image and used '$canvas->page_script'. but it not showing any header image.\nthis my code:\n``` php\n  require_once(\"dompdf/dompdf/dompdf_config.inc.php\");\n        $dompdf = new DOMPDF();\n        // $dompdf->set_paper(\"A4\");\n        $dompdf->load_html($html);\n        $dompdf->render();\n        $canvas = $dompdf->get_canvas();\n        //For Footer\n        $footer = $canvas->open_object();\n        $font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n        $date = date(\"Y-m-d H:i:s\");\n        $canvas->page_text(250, 760, \"Page: {PAGE_NUM} of {PAGE_COUNT}\", $font, 8, array(0, 0, 0));\n        $canvas->page_text(35, 760, \"HiveDesk Screenshot Report\", $font, 8, array(0, 0, 0));\n        $canvas->page_text(500, 760, $date, $font, 8, array(0, 0, 0));\n        $canvas->close_object();\n        $canvas->add_object($footer, \"all\");\n    $canvas->page_script('\n\n$font = Font_Metrics::get_font(\"helvetica\", \"bold\");\n  $date = date(\"Y-m-d H:i:s\");\n  $page->text(35, 25, \"HiveDesk Screenshot Report\", $font, 8, array(0, 0, 0));\n  $dompdf->text(490, 25, \"hivedesk.com\", $font, 8, array(0, 0, 0));\n  $image = \"/usr/local/gtproj/hivedesk/hivedesknew/app/pages/reports/arw.jpg\";\n  $pdf->image($image,png, 400, 25, 100, 25);\n');\n      $file_name = md5(uniqid(mt_rand(), true));\n        $pdf_file_name = $file_name . '.pdf';\n          $dompdf->stream($pdf_file_name);\n```\nI missed anything? page_script() using wrong way?\n. ",
    "endaitsachin11": "@jpmartin24, did you get solution for your pdf issue, if yes then please tell me because I facing same problem and wasting lots of my time in it. Please provide me the solution for it. Thanks in advance. \n. ",
    "imvenky": "Only .png is not working .jpg works, please help me on this\n. ",
    "SantaClauss88": "I see. So I should fall back on other fonts.\nI had already given up on Dax since I saw that I had font problems...\nThanks\n. By the way if anyone gets the error, I saw that I had this too when I had two headers.\nMind me, using code igniter, I had somewhere two different calls for headers.\nThank you, everything is working but my dax so far :).\n. ",
    "gardon": "I had the same issue. However, trying to wrap on a span block would cause the PDF generator to timeout rendering (300 seconds). I was in a hurry and did not try to increase the time.\n. ",
    "kevinlangleyjr": "Was there a reason this was still saving the cache file in the DOMPDF_FONT_DIR directory when we already have DOMPDF_FONT_CACHE able to be defined?\n. The issue I'm having here is that the font dir is not writable because it is a composer dependency and we try to lock those directories down. We then used DOMPDF_FONT_CACHE to set where this cache file should live. \nIs there anyway you can provide a way to override the default location of where this file is trying to be written to? This would allow me to change it to a directory that is writable.\n. That sounds perfect, thanks!\n. ",
    "karthikeyanpwt": "@bsweeney  Thanks for your help. I'm using @font-face method, now its working good. \n. ",
    "intelligence": "I seem to be running into this bug aswell. Specified height and overflow: hidden; aswell as page-break-inside: avoid;. Overflowing content is showing on next page.\nAny work around to avoid this?. Wondering this aswell. Is it possible?. ",
    "InstanceOfMichael": "My coworker says that it's because your library is assuming itself in the global namespace, thus you are loading my coworker's model called Style. I think I already found an alternate branch/fork that supposedly fixes that, We'll be trying that shortly.\n. ",
    "netm": "I have this same problem (conflicting namespaces as I have a Style model?) How can I still use this package in my app? I've tried 0.5.* and 0.6.* in my composer.json but it can't find the package - \"*\" does work though.\nI imagine I have to set my minimum-stability differently?\n\"config\": {\n    \"preferred-install\": \"dist\"\n},\n\"minimum-stability\": \"stable\"\nAny tips appreciated...\n. Thanks for that - I'm having problems loading the develop branch I have tried \n\"barryvdh/laravel-dompdf\": \"dev\",\nIn composer.json and get the below\n- The requested package barryvdh/laravel-dompdf dev could not be found.\nWhen I try\n\"barryvdh/laravel-dompdf\": \"develop\",\nI get\n[UnexpectedValueException]                                                   \nCould not parse version constraint develop: Invalid version string \"develop\"\nAny help much appreciated, by the way I have \"minimum-stability\": \"dev\"\n. ",
    "sffetlio": "Sorry, I can't give you a complete example, the document is really big. I looked through the html and last time I forgot to mention that the <p> tags have text-align: justify;. Maybe this could help you. And it only happens if the image is long enough so there are more than 1 paragraph next to it.\n. ",
    "Guidoaix": "Hello,\nI work with WP 3.8.2 and the WPcasa theme!\nThey use the dompdf for generating pdf in the listings. It works for most but not for me.\nI tried everything but the output is nothing!\nI already wrote several mails to there support and the only thing they could tell me to check everything with the PHP version, the webspace hoster, etc.\nI did all and all is enabled. They told me at least to look at dompdf directly and so I am here.\nWhen I click the PDF button the new tab opens and thats all, everything leaves empty. not even a blank page.\nI tried in the setup with direct download and not with new tab.\nDownload starts but nothing at all. Just a small corrupted file.\nNo error messages at all.\nI can send you the php info too if you want.\nThx for help\nGuido\nAm 14.05.2014 um 16:11 schrieb Brian Sweeney notifications@github.com:\n\nHow is it not working? Do you get any errors from PHP? Do you get any output at all? What is your implementation (i.e. how are you using dompdf)?\n\u2014\nReply to this email directly or view it on GitHub.\n. Hello,\n\nOk Where i enable sending PDF erros in the browser?\nWith the corrupted file I will check too.\nGuido\nAm 14.05.2014 um 17:03 schrieb Brian Sweeney notifications@github.com:\n\nIt sounds like you're probably running into a PHP error somewhere. Try enabling sending PHP errors to the browser. Or, if you can't do that, download the corrupted PDF and open it in a text editor (Notepad, TextEdit, vi). Sometimes a corrupted PDF is an indication that some non-PDF content was captured in the PDF stream, usually PHP errors.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hello Brian,\n\nGood Morning,\nFirst i send you now the part file.\nI can\u2019t see a mistake in it, I am not a specialist!\nThx\nGuido\nAm 14.05.2014 um 18:54 schrieb Brian Sweeney notifications@github.com:\n\nSomewhere in your PHP before you instantiate and use dompdf try adding ini_set('display_errors',true);.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hello brian,\n\nI tried now different ways to paste the code in the php.\nI used the main file of the plugin but now way, it says nothing.\nAm 15.05.2014 um 09:52 schrieb Aiximmo Website website@aiximmo.de:\n\nHello Brian,\nGood Morning,\nFirst i send you now the part file.\nI can\u2019t see a mistake in it, I am not a specialist!\nThx\nGuido\n<[Test2] Test number 2.pdf.part>\nAm 14.05.2014 um 18:54 schrieb Brian Sweeney notifications@github.com:\n\nSomewhere in your PHP before you instantiate and use dompdf try adding ini_set('display_errors',true);.\n\u2014\nReply to this email directly or view it on GitHub.\n. Good morning Brian\n\n\nSo you didn't get the file I attached yesterday?\nI will post it in a mail later today so you will get it. \nThe website adress is\naiximmo.de\nIf you need admin access to have a more specific look I can arrange that. \nGuido\nVon meinem iPhone gesendet\n\nAm 15.05.2014 um 22:29 schrieb Brian Sweeney notifications@github.com:\nI believe hosting providers can disable the ability for users to modify settings. You can't upload files here, but if you post your file online (or link to your site) I'll take a look.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hello Brian,\n\nI deactivate it for the reason that I got admin reports that a few times someone tried to generate PDF.\nBut I have a complete second installation for test!\nHere it is activated and it is WP 3.9.1\nhttp://www.aiximmo.at/aix4/\nThe code I send to you was complete. It was the hole file I opened with Text Edit.\nMemory of the PHP server is 104MB, I think this is enough.\nDo you want the PDF open in a new tab or directly to download?\nIn the moment it is standard to open in new tab.\nit starts in a new tab and then the tab closed after download.\nHere the file is again only part. I paste the code under the mail.\nThx\nGuido\nAm 20.05.2014 um 16:38 schrieb Brian Sweeney notifications@github.com:\n\nBetter to post the PDF in binary form somewhere we can download. What you uploaded appeared to be incomplete, and if that was the entire PDF produced by your server then it would certainly not display correctly.\nI didn't see any link to produce a PDF on your site. When I attempted to render one of the pages I experienced an out-of-memory error. Rendering the print view of the same page was fine.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "dvorapa": "There is no exception thrown, the log file is empty. My PHP version is 5.5.12. The dompdf version is latest installed by git clone and my font lib is also latest installed by git submodule update. The html is generated just before dompdf is called for convertion (as you can see above).\n. display_errors is set to true by default and in the HTML file is just HTML and some inline CSS. I tried to set DOMPDF_CHROOT to \"/\" and it works. But I have a little bit complicated case, because I have dompdf stored in /aplikace/dompdf/ and output should be stored in /prihlaska/export/. I know, that it is not secure to set chroot to \"/\". I wish there could be two or more chroot urls set.\n. P.S.: When I read dompdf_config.inc.php file and tried to set the right settings into dompdf_config.custom.inc.php, there were three confusing lines:\nPHP\n/**\n * This is only checked on command line call by dompdf.php, but not by\n * direct class use like:\n * $dompdf = new DOMPDF();  $dompdf->load_html($htmldata); $dompdf->render(); $pdfdata = $dompdf->output();\n */\nI thought, that chroot setting has no effect on using dompdf class and that's why I didn't set it.\n. Okay, then my issue is solved. Thank you for your time and effort. And also thank you for this awesome library.\n. Should I rename the issue to something like \"Out of date comments\" and reopen?\n. Done :-)\n. P.S.: It is off-topic for this issue and I know, that it is too much work, but it would be helpful to merge all the details about API, examples, functionality, installation, usage, changelog, description, features, samples, FAQ, support and overview together into one website.\nAPI (not good): http://www.digitaljunkies.ca/dompdf/doc/\nInstallation, usage, API, FAQ, demo, overview, features and 2nd API: http://www.digitaljunkies.ca/dompdf/\n2nd overview, tests, samples and requirements: http://eclecticgeek.com/dompdf/docs_0-6-0/ (the same as docs inside www in the repo)\n3rd overview, 2nd features and 2nd requirements: http://dompdf.github.io/\nAlmost everything, but just a little bit of everything (not detailed): https://github.com/dompdf/dompdf/blob/master/README.md\nI think, that it should be one README.md with summarization of everything (just like it is now) to interest the developer and one site, where everything will be detailed (like transform all the other sources mentioned above into one website)\n. Hello again. After some testing I found out, that I could not set DOMPDF_CHROOT to anything but \"/\" to make it work. If I set it to \"/prihlaska/export/\" or DOMPDF_DIR.\"/../../prihlaska/export/\" or any other option, it just doesn't work. I tried so many options (even some $_SERVER[\"foo\"].\"/prihlaska/export/\" cases). Could you help?\n. OK, I'll try to fetch it through file_get_contents() and then we'll see, many thanks.\n. Now it works great. I am now able to leave DOMPDF_CHROOT and DOMPDF_TEMP_DIR in defaults. Thank you\n. ",
    "stzoho": "Thanks\u2026\u00a0and sorry for the delay.\nThe only console error i get is: Failed to load resource: Frame load interrupted\nStill. The download starts and is running 99.9% and then\u2026\u00a0crack.\nI am not able to configure much due to the website is a client website and is running on strato.\nFind the config sheet attached. I have to say I am not really familiar with this whole issue/thing.\n\n. Strange thing happened now\u2026\nTried it in Chrome. Used to work twice with a small file size. Then it stopped working again. Even with small file sizes\u2026\n. ",
    "nabux": "I'm having the same problem, did you manage to solve it?\n. After many hours of debugging I managed to solve the problem. I removed a few lines from addPngFromFile() method. You might consider refactoring them in some other way, but for me that works just fine :) hope that helps\n. ",
    "vicmar": "Hi! I couldn't manage to solve the blurriness problem but eventually noticed that blurriness dissapeared when you print the pdf document (I suspect this has to do with different DPI used in screen and printer). Since my users can print their pdfs correctly I stopped trying and moved on. If I can help you in any way just tell me!\n. ",
    "keescornelisse": "Thanks @grebsle for the fix! \n. ",
    "saravanac": "Hi, I slightly changed the code. If I keep load_html commented out, I get the email with no attachment and reach both echo statements at the end and get both statements printed out.If I uncomment load_html, then I get blank output, and no email is received.\nWhere else should errors be logged if there were errors, as I see no errors in the PHP error logs?\n``` php\n<?php\nrequire_once(\"/users/home/saravana/var/dompdf/dompdf_config.inc.php\");\n$pdf_body = (\"TESTING\");\n$dompdf = new DOMPDF();\n//$dompdf->load_html($pdf_body);\n//$dompdf->render();\n//$pdfstring = $dompdf->output();\n//$encr_pdfstring = chunk_split(base64_encode($pdfstring));\n$mime_boundary = \"==Multipart_Boundary_x{$semi_rand}x\";\n$headers = \"From: melb-info@chinmaya.net.au\" . \"\\n\" . \"Reply-To: melb-info@chinmaya.net.au\" . \"\\n\" . \"X-Mailer: PHP/\" . phpversion() . \"\\n\" . \"Content-Type: multipart/mixed;charset=ISO-8859-9; boundary=\\\"\". $mime_boundary . \"\\\"\\n\" . \"MIME-Version: 1.0\\n\";\n$email_body = \"--\" . $mime_boundary . \"\\n\" . \"Content-Type:text/html; charset=\\\"iso-8859-1\\\"\\n\" . \"Content-Transfer-Encoding: 7bit\\n\\n\" . \"Please keep the attached receipt for your records.\\n\\n\";\n$email_body .= \"--\" . $mime_boundary . \"\\n\" . \"Content-Type: application/pdf;\";\n$email_body .= \"name=\\\"Receipt_#9000.pdf\\\"\" . \"\\n\" . \"Content-Transfer-Encoding: base64\\n\\n\" . $encr_pdfstring . \"\\n\\n\" . \"--\" . $mime_boundary . \"\\n\";\n$email_body .= \"\\n\\n\" . \"--\" . $mime_boundary . \"\\n\";\necho \"Before mail delivery\";\nif (mail(\"saravana@ozemail.com.au\", \"TESTING\", $email_body, $headers)) {\n            echo \"Mail accepted for delivery\"; }\n?>\n```\n. Ok even simpler code. I can get \"Success\" if I use HTTP. If I use HTTPS, I can get \"Success\" only if I comment out load_html.\n``` php\n<?php\nrequire_once(\"/users/home/saravana/var/dompdf/dompdf_config.inc.php\");\n$pdf_body = (\"TESTING\");\n$dompdf = new DOMPDF();\n$dompdf->load_html($pdf_body);\necho \"Success\";\n?>\n```\n. Please ignore \u2013 this is fixed.\nI simply added \u201cAddHandler php5-fcgi .php\u201d to the Apache config for the site's SSL configuration.\nThere were no PHP errors, which made it more difficult to trace.\n. ",
    "riza86": "Hi @saravanac, I have the same problem. dompdf not running on SSL. Can you guide me how to install  \u201cAddHandler php5-fcgi .php\u201d and from where I can found it. Thanks. ",
    "inkandpapercreative": "Ok I have tried viewing my print_invoice.php of the particular invoice that I wanted to print in Firefox, Safari and Chrome. They all showed a Letter size invoice and when I went to File/Print the printer was set to A4 and it fit the Invoice letter size to A4 by shrinking it as per scale. \nHow do I get it to show in my browser initially as A4 and then I can print it as A4? There is a button in the program that im using that has a printer icon, you click on that and it opens a Letter size invoice/quote etc (whatever I want to print). Otherwise if I print the download icon it will download a pdf thats A4 size and all the content fits roughly ok.\nSo im trying to work out how to make the page opening in my browser as A4 and its showing as Letter.\nIm using the latest version of dompdf.\n. Where do I tell it to render as A4 when I have put this already\n// dompdf_config.inc.php\ndef(\"DOMPDF_DEFAULT_PAPER_SIZE\", \"a4\");\nWhat other coding do you need to see cause its saved on my own server. \n. Is there a way I can email you or private message you my login for the program that Im using? @bsweeney \n. @bsweeney I emailed you, Just wondering if you had a chance to look at it please?\n. ",
    "SergeyMiracle": "Ok, Thx.\n. ",
    "logindian": "Thanks. I am using v0.6.1 . can i have the download link please ?\n. Tried as you suggested in 3rd option but no luck.\nNow PDF contains ???? symbols\nHere is my complete code used.\n``` php\nrequire_once($unsecured_param['home_dir'].\"/APIs/dompdf-0.6.1/dompdf_config.inc.php\");\n$cart_body='<!DOCTYPE html>\n\n\n\n\n@font-face {\n  font-family: latha;\n  font-style: normal;\n  font-weight: 400;\n  src: url(http://eclecticgeek.com/dompdf/fonts/latha.ttf) format(\\'true-type\\');\n}\n\n\n\n\u0ba4\u0bae\u0bbf\u0bb4\u0bcd\n\n';\n    $dompdf = new DOMPDF();\n    $dompdf->load_html($cart_body);//body -> html content which needs to be converted as pdf..\n    $dompdf->render();\n    $output = $dompdf->output();\n    $user_bill_pdf = 'User_Bill_tamil.pdf';\n    file_put_contents($user_bill_pdf, $output);//to save pdf into a location\n    echo \"<br>PDF generated..\";\n\n```\n. do you mean /tmp folder ? yes i have.\nI have also set following in config file,\ndefine(\"DOMPDF_ENABLE_REMOTE\", true);\ndefine(\"DOMPDF_DEFAULT_PAPER_SIZE\", \"a4\");\ndefine(\"DOMPDF_UNICODE_ENABLED\", true);\n. Could you please simulate this in your directory and give the working sample code ?\n. ",
    "moeseth": "@bsweeney Hi, can you help me debug this? http://eclecticgeek.com/dompdf/debug.php?identifier=45261abdcca702deb6c11cd11dd6c2df. ",
    "Silmarillion": "Ooh, as I am working on integrating it into a module for a cms, that's very likely... thank you for the hint! Now I just have to figure out how to circumvent that... :P\n. I will give it a go, thank you!\n. ",
    "hgamiel": "I came across the same issue with the zipped up file of the dompdf master. I downloaded a zipped version of the dompdf master but no data existed in the /dompdf-master/lib/php-font-lib directory. It looked like the data from the php-font-lib git project wasn't included with the download (not sure why). I got the same exact error, and upon some investigation, discovered that the php-font-lib directory was empty.\nDownloading from the current php-font-lib master will not include the /classes directory because dompdf is pointing to version 0.2.2 of php-font-lib, NOT the current version (which is 0.3.1). The current version does not have the classes directory that dompdf is looking for. If you look at the git directory for /lib in dompdf (link to that directory here), you can see that the author for dompdf is using php-font-lib version 0.2.2 and hasn't updated the code since then. The link to that version (0.2.2) is here.\nOnce I downloaded that version (0.2.2) of php-font-lib and replaced the one in my dompdf/lib directory with it, that solved my problem. Hopefully that solves yours as well.\n. ",
    "php-prince": "Here's a link that alludes to a similar problem.\nhttps://github.com/dompdf/dompdf/issues/454\n. ",
    "Lutacon": "I have the same problem with a Google Font(Signika)\n. ",
    "soe7": "Hi, I am experiencing same issue. Where about is the font metrics file is located ?\nThanks in advance\n. ",
    "consolibyte": "Has there been any movement on this bug? This is a pretty critical bug for us.\n. Woah, I had no idea that HTML 5 says they are case sensitive. OK, consider this closed!!!  Thanks!\n. ",
    "yecine06": "Hello,\nhere is an example of the html markup \n<table>\n            <thead>\n                <tr>\n                    <td><div class=\"circle\"><img class=\"icon-dollar\" src=\"http://www.domain.com/Red/images/dollar.png\"></div></td>\n                    <td><div class=\"circle\"><img class=\"icon-calendar\" src=\"http://www.domain.com/Red/images/calendar.png\"></div></td>\n                    <td><div class=\"circle\" style=\"padding-top:20px;\"><img class=\"icon-barcode\" src=\"http://www.domain.com/Red/images/barcode.png\"></div></td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>\n                        {{ trans('fi.total') }}:<br>\n                        <strong>{{ $quote->amount->formatted_total }}</strong>\n                    </td>\n                    <td>\n                        {{ trans('fi.quote') }} {{ trans('fi.date') }}::<br>\n                        <strong>{{ trans('fi.date') }}</strong>\n                    </td>\n                    <td>\n                        {{ trans('fi.quote') }} #:<br>\n                        <strong>{{ $quote->number }}</strong>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\nFor the file error here is a screenshot\nhttps://www.evernote.com/shard/s163/sh/21597518-8e84-421a-9f4e-371c0c058cfa/a979738c427c35342e53f78cb6221e93\n. And yes i'm using the version 0.6.1 i tried to enable HTML5 in the config file but i have the same problem\n. I don't have very long table cell that could go over a page lenght\nI can provide you the full HTML file but has it is licensed i can't put it on this issue but can share i with a private message or email if you'd like to take a look at it.\n. Hello\nI've uploded the file a few days ago have you receveied it correctly ?\n. hi @bsweeney did you had some time to dig through it and see where is the problem ?\nI had done also the same thing as you by changing to the non minimized version but as i saw that there where still errors i tought it was a dead end.\nI hope that you'll be able to help me here\nThanks\n. Hi,\nIt's been a while ... i have gave up on this since, but now if someone can help i'd like to get back on it and solve the problem.\nAnybody have an idea why it's not working ?\n. ",
    "Gertiozuni": "What if i need my table cell to be larger than the page size ? Currently i see that this is failing.... ",
    "nileshlets": "Hi,\nThanks it worked for me.\nI set page height by  $dompdf->set_paper(array(0,0,1000,3000));\nThanks again for your quick reply.\n. ",
    "crafack": "I was experimenting with alternatives today, and discovered that the float:left apparently works ok. It seems to be \"just\" the float:right that has a bug.\n. I do it outside the HTML, after rendering the page. Here is a snippet of code:\n```\n//...\n// Parse the page\n$dompdf->loadHtml($page);\n// Render the HTML as PDF\n$dompdf->render();\n// Page numbering\n// Prepare font\n$font = $dompdf->getFontMetrics()->get_font(\"Verdana\", \"\");\n// Print page numbering string at pos (500,118) on page, using $font in size 10\n$dompdf->getCanvas()->page_text(500, 118, \"Page {PAGE_NUM} of {PAGE_COUNT}\", $font, 10, array(0,0,0));\n// Output the generated PDF to Browser\n$dompdf->stream($filename);\n```. Hi @Mellthas,\nYour PR fixes the pagination errors in my documents. Thanks a lot for this!. ",
    "vishwajeetv": "@bsweeney : It worked, thanks! :+1: \n. ",
    "jdsiddon": "The auto page break fixed my issue as well!\n. ",
    "MarkMaldaba": "It looks like this was fixed quite a long time ago, in commit 274c1c9bf376bb0fdac935cae19448fe6413ba17 and released in 0.7.0.\nClose?. Dropping support for old versions is fine, but it needs to be managed responsibly and deliberately - it should never happen accidentally and ideally it would result in an increment of the major version number and a prominent notice in the release notes.\nAs I say, if this is the only thing that stops PHP 5.3 from being supported then I would recommend adding the shim to the code-base and releasing a 0.8.3 version that fixes support for PHP 5.3, and then dropping support for it properly in the next release, numbered 0.9.0 (assuming that is the intention).\nOr, if this is just one of many things that already break support for PHP 5.3, then please update the release notes for previous versions so that there is a clear indication of when support was actually dropped, so that users with operational requirements for supporting PHP 5.3 are able to safely deploy the correct legacy version.. > please update the release notes for previous versions so that there is a clear indication of when support was actually dropped\nIs it safe to assume the release notes are giving the correct information: that 0.8.0 supported PHP 5.3, whilst 0.8.1 and above require PHP 5.4?\nIf so, please add a not to the list of features for 0.8.1 indicating that support for PHP 5.3 was dropped in this release so that this is more prominent, as it is currently very easy to overlook (and is not something you would expect in a point release).\nIf not, please correct the version requirements so that we can reliably know which version is safe to use if 5.3 support is required.. OK - Thanks for the update.  Might be worth adding that to the 0.8.2 release notes.\n. Also - I forgot to mention - just look at the memory usage!  Not just at the peaks (which, interestingly, don't follow the timings as <div> is more expensive than <br>) but at the amount of memory that is left unreclaimed at the end of the render.. I've added a new test to the script[1] which checks for memory leaks by ensuring we unset() the DomPDF object before doing a final memory check.  The results are not good!\nProfiling PDF generation using 'empty_span' over 1000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         1,710,640     1,712,992     -\nLoad          1,736,744     1,768,184     0.015625\nRender        5,364,592     10,751,800    0.28125\nOutput        5,367,376     10,751,800    0\nEnd           5,367,864\nAs you can see, even destroying the DomPDF object does not free up the memory, so the memory leak will persist even if the calling code tidies up nicely.\n[1] https://github.com/MarkMaldaba/dompdf/commit/5890cca48494f74a91e9a50b32c2e9cb4e644d53. Thanks for replying! :-)\nMy understanding about PHP garbage collection is that really you don't need to worry about it.  It doesn't really matter when garbage collection happens; it just happens when it needs to.  The reason get_memory_usage() triggers garbage collection is that this is the only way it can reliably report on memory usage, but that is incidental.\nPersonally, I'm sceptical that we'll get much of a performance improvement by playing with garbage collection, but  I'd be happy to be proved wrong... :-)\n\nThere is a difference between memory_get_usage() and memory_get_usage(true), maybe the second one gives more insights.\n\nActually, I think this will give less insight, as this reports how much memory PHP has requested from the operating system, which is only loosely coupled with the memory requirements of the script it is running.  For example, if your script requires 5k of memory, PHP might decide it is most efficient to request 1MB of memory from the OS, but knowing this doesn't really help to optimise your code at all, and you can't control it.\nYour point about PHP versions is good.  However, I have re-tested on PHP 5.6.18 and the profile is broadly similar.  Therefore, I think this is about inefficiencies in the DomPDF code (or its dependencies) rather than anything related to PHP internal optimisations, and therefore that is definitely where I will be focussing my efforts.\nIf you're able to test on PHP 7.2, it might be interesting to see how it compares...\n\nDomPDF definitly needs some performance improvements, see the issues labeled \"performance\":\nhttps://github.com/dompdf/dompdf/issues?q=is%3Aissue+label%3APerformance\n\nThanks for the pointer - this ticket should probably have that tag added, too.. Hmmm... I can report a similar saving (better, even -> from ~82s -> ~15s) by adding the gc_collect() lines in, when running the break_tag test.\nThe savings appear to be less good when running the empty_div test, but are still impressive.\nI stand corrected! it appears that there may be some good performance wins to be got, by playing with PHP's garbage collection!\nIs there any reason not to add the gc_enable/disable lines suggested by @PHPGangsta into the main codebase?  We probably need to do a bit more testing on real-world renderings, I suppose, but from what I can see so far, the speed improvement is substantial whilst the memory use is not much different, which makes it a clear win, in my book.\nThe reason I started this investigation is due to the fact that a relatively long, but relatively simple HTML file, with very light mark-up (no tables, images, floats, etc.) and very little tag nesting, is taking about 8 hours to render!  I will re-test with the gc_enable/disable lines in place, to see what difference it makes.  If it matches what we've seen above it will be a massive improvement, but would still be taking about 1.5 hours... in which case, this won't be the end of the optimisation story.\nIn response to @MatthiasKuehneEllerhold:\n\nAnd a small nitpick: you forgot to unset($HTML); after Line 101. ;)\n\nNo I didn't - that is deliberate.  For testing memory leaks, we want to compare Start with End, and if you unset $HTML then this will not be a fair comparison (as the variable is set before Start is called).. Update: I've re-run my problem PDF, with the gc_enable/disable lines in place, and execution time has dropped from 8 hours, to 55 minutes!  Awesome improvement - we will certainly be deploying this fix.. FYI: I've just spotted the following on the PHP.net documentation for garbage collection:\n\nOf course, by turning off the garbage collection for certain parts of your application, you do risk creating memory leaks because some possible roots might not fit into the limited root buffer. Therefore, it is probably wise to call gc_collect_cycles() just before you call gc_disable() to free up the memory that could be lost through possible roots that are already recorded in the root buffer. This then leaves an empty buffer so that there is more space for storing possible roots while the cycle collecting mechanism is turned off. \n\nTherefore, this strategy isn't wholly risk free, plus we should probably add a call to gc_collect_cycles() to the start of the render() function, too.. ",
    "quantumdot": "The main CSS styles utilized in the document i pasted here: http://pastie.org/private/uyfwz8l7xdfvzqzuwshkq\nThe other stylesheets linked by the HTML page are the standard Joomla 2.5 administrator template CSS (using bluestork template). I don't actually use any of the classes defined in these files, and the only reason the exist is because I cannot remove them prior to the document rendering.\n. Hi, I was wondering if you were able to reproduce the problem, or have any updates on this issue? Thanks.\n. ",
    "th3hamburgler": "Thanks, I have worked around the issue by only including a subset of the main css file. The error was caused by some css that was not actually required by my pdf view\n. ",
    "DmitryPogodaev": "Hi, all!\nHave the same warning. Waiting for fix\n. ",
    "vpakg": "Hey @bsweeney , I'm using this package, which is a laravel wrapper for DOMPDF. I'm not sure, but I suspect that it uses DOMPDF v0.5.0\n\nSimple Dompdf package for Laravel 4 This package uses the latest stable version (0.5)\n. \n",
    "wpovernight": "Thanks, that's really helpful! I'll give it a shot.\n. ",
    "franzholz": "I have used this page-break-after clause because I copied it from this issue example I have found by my search engine search:\nhttps://github.com/dompdf/dompdf/issues/571\nI just wanted to use a page number.\nI think that it is not an endless loop. This 2 page bill example generates hundreds of pages. Then the PDF generation hangs because of the PHP timeout after 240 seconds. \n. Unfortunately the footer does not show up.\nhttp://jambage.com/fehlersuche/Zulu-Bill-2-6.html\n@page {margin-top: 50px; margin-bottom: 50px;}\n.header {top: -50px; position: fixed;}\n.footer {bottom: -50px; position: fixed;}\n. Thanks for your hints.\nHere is the result: http://jambage.com/fehlersuche/Zulu-Bill-2-6-works.html\n@page {margin-top: 50px; margin-bottom: 100px;}\n.header {top: -50px; position: fixed;}\n.footer {bottom: 0px; position: fixed;}\nI had to increase also the margin-bottom of the page CSS from 50px to 100px. Otherwise the footer would overwrite the underlying table contents.\n. ",
    "maxipy": "this is bug in chrome. still overlapping content with footer\n\n. if i put -1in , footer prints in second page on top of the header, if i give 1in, footer again overlapping with the content, if i give zero it works fine, but the space is not enough print multiple lines in that small area.\nNOTE: AM NOT USING DOMPDF PLUGIN, I USE DEFAULT WINDOW.PRINT() FUNCTION\nalso see the last comment in this link\nhttp://thewebthought.blogspot.com/2011/10/html-css-header-and-footer-elements-for.html. ",
    "83dons": "Sorry after a bit of searching I noticed the following download link which has the full version but also other versions with not all the files included. The first link has all the files required. Not sure why the download button on the home page doesnt have the full version.\n. That's ok I think I put the link on the issues page.\nChris\n\nFrom: Brian Sweeney [mailto:notifications@github.com]\nSent: 15 October 2014 02:11\nTo: dompdf/dompdf\nCc: Lawrie Chris (NHS GRAMPIAN)\nSubject: Re: [dompdf] Help! Files missing from current version? (#868)\nGlad you found the right download. Which link did you follow?\n\nReply to this email directly or view it on GitHubhttps://github.com/dompdf/dompdf/issues/868#issuecomment-59144109.\n\nThis message may contain confidential information. If you are not the intended recipient please inform the\nsender that you have received the message in error before deleting it.\nPlease do not disclose, copy or distribute information in this e-mail or take any action in reliance on its contents:\nto do so is strictly prohibited and may be unlawful.\nThank you for your co-operation.\nNHSmail is the secure email and directory service available for all NHS staff in England and Scotland\nNHSmail is approved for exchanging patient data and other sensitive information with NHSmail and GSi recipients\nNHSmail provides an email address for your career in the NHS and can be accessed anywhere\n\n. ",
    "twistedpixel": "Sorry for the delay. I'm using the latest release version available via Composer. Yes, examples:\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\nalso\nsvg:not(:root) {\n  overflow: hidden;\n}\nBoth of the above cause the error messages (part of normalize.css). I hope you can replicate this issue with the above CSS as it's driving me nuts.\n. On my test environment: PHP 5.4.34, Mac OSX (Mavericks) running Apache via MAMP.\nOn the production server: PHP 5.4.33, Apache on CentOS 6.\nBoth experience these warnings.\nI'm wondering if it's possible that something is suppressing the warnings in your tests, as I believe is supposed to happen since the line the warning mentions uses @ and CodeIgniter's error handling is somehow picking up the errors and routing them to its logs. Does that sound possible? If so, I'm sorry for wasting your time on this and I'll need to somehow find a way to fix this within CodeIgniter!\n. The problem with this is that you really have to override CodeIgniter's exception handling to be able to suppress the errors that it picks up. I've not had time to do this so I just wrote a parser to remove them from my log files for now. It's not really ideal so maybe it's time for me to revisit this.\n. If I remember correctly, CodeIgniter's error handler/logger used debug_backtrace() or something to look for errors and so the try/catch solution didn't work.\n. ",
    "Kristi06": "I finally got this to work - the display:none wasn't working for me, but I rebuilt those in Display Suite instead of including them in my content and then formatted the print layout on Display Suite to not include that field.  That seemed to work well.\n. ",
    "sachy123": "Hi Brian\nthanks for the link, I got the following error  now\nphp include(DOMPDF_Exception.php): failed to open stream: No such file or directory\nI have the following simple code  but it seems not working for me.. :(\n``` php\n'application.vendor.dompdf.',\n        'application.vendor.dompdf.include.',\nob_start();    //            'billingstartdate'=>$billingstartdate),true);\n            $html =\n              '<html><body>'.\n              '<p>Put your html here, or generate it with your favourite '.\n              'templating system.</p>'.\n              '</body></html>';\n\n            $dompdf = new DOMPDF();\n            $dompdf->load_html($html);\n            $dompdf->render();\n            $dompdf->stream(\"sample.pdf\");\n            exit();\n\n```\n. I am using YII framework. \nthe error line is what I got DOMPDF_Exception.php ....\nand then the application.vender.dompdf.* and next line is in my configuration file.\nand my main php file has the code as below\n``` php\nob_start();  \n            $html =\n              '<html><body>'.\n              '<p>Put your html here, or generate it with your favourite '.\n              'templating system.</p>'.\n              '</body></html>';\n\n            $dompdf = new DOMPDF();\n            $dompdf->load_html($html);\n            $dompdf->render();\n            $dompdf->stream(\"sample.pdf\");\n            exit();\n\n```\nI gave a try to run the code without ob_start(); but i got the same error message\nThanks a lot!\n. Yes, \nif I write\nphp\napplication.vendor.dompdf.*',\n        'application.vendor.dompdf.include.*',\nall the php files in the directory are loaded\nand the dompdf_config.inc.php is loaded in the application too.. \n. So I initially got an error that \"DOMPDF_Exception.php \" was not found. I actually browsed through the directory myself to search if I can find it. And actually it was there. but the name is DOMPDF_Exception.cls.pdf  with \".cls\" before it.  and I had then rename or remove the .cls extension from evertyhing /// I think now I get a completely different error which is \nUse of undefined constant DOMPDF_TEMP_DIR - assumed 'DOMPDF_TEMP_DIR'\n. ",
    "jaitaiwan": "Thanks for replying Brian.\nAs I see it, utilising the io streams would be a good place to start for\nthe packaging side of things, then progressively writing the pdf to disk\nusing a stream context file descriptor. The sort of streaming I am\nconsidering is for things like streaming a pdf upload directly to Amazon s3\nfor example. If the output of the pdf is by default a stream, then what we\ndo with it from there is 10x more flexible. If that makes any sense?\nOn Thu, Nov 20, 2014 at 12:49 AM, Brian Sweeney notifications@github.com\nwrote:\n\nDo you mean that as pages are generated the content is output to the\nbrowser? It would place some restrictions on what you could do with the pdf\n(e.g. page_text would be problematic).\nIn general I think decreasing the resource requirements is a fantastic\nidea. I've considered another path (disk caching) for low-mem environments,\nbut that type of modification would come at the cost of speed (from\nread/write disk operations). I'd be curious to see what you have in mind\n(there's a lot of packaging of the PDF object during output).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/876#issuecomment-63650555.\n. Not outside of nodejs haha. That's where the streaming stuff comes from.\nAre you looking for a pseudo example?\n\nOn Thu, Nov 20, 2014 at 1:02 AM, Brian Sweeney notifications@github.com\nwrote:\n\nI like the sound of that. Do you have any examples of this in use\nelsewhere?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/876#issuecomment-63652614.\n. I'm going to have to close this one. The benefits of what I was suggesting are greatly countered by the lack of non-blocking IO.\n. \n",
    "IceReaper": "<!DOCTYPE html>\n<html style=\"margin: 0mm;\">\n    <head>\n        <title></title>\n        <meta charset=\"UTF-8\" />\n        <style>\n            @font-face {\n                font-family: 'Avenir Book';\n                src: url(AvenirLTStd-Book.otf);\n            }\n            @font-face {\n                font-family: 'Avenir Book';\n                font-style: italic;\n                src: url(AvenirLTStd-BookOblique.otf);\n            }\n            @font-face {\n                font-family: 'Avenir Book';\n                font-weight: bold;\n                src: url(AvenirLTStd-Heavy.otf);\n            }\n        </style>\n    </head>\n    <body style=\"width: 210mm; height: 297mm; font-size: 14mm; font-family: 'Avenir Book';\">\n        <div style=\"padding: 10mm 25mm 10mm 25mm; height: 277mm;\">\n            Hello World!\n        </div>\n    </body>\n</html>\nCPDF is very very very slow on large documents, while PDFLib renders them in under a second. We need to generate a lot of documents, so using CPDF is not an option for us :(\nThe only way is to completely outsource the PDF rendering into another php file doing only that, and calling it via system call (so we generate only one per php thread) - as said above: First PDF works, even if its very complex. Something simply wont get \"reset\" after the first generation.\n. I've installed PDFLib on my windows development machine - and needed to fix several small things to get it to work under windows :/ Will deliver a patch later. It is now stuck at the exact same position. I did a little research and the problem is mainly that fonts can only be loaded in document scope (not object scope). So my current suggestion is that dompdf is caching something which triggers font stuff before the document gets loaded - Will continue my research and deliver a patch when i manage to fix it.\n. ",
    "zincdesign": "We have discovered this issue happens after superscript characters too. See attached image\n\nDo you know if any adjustments have been made to rectify this problem at all?\n. Hi. Sorry, I am just checking in to see if any progress have been made with this issue?\n. ",
    "jorgesierra": "Hi,\nDOMPDF depends on php-font-lib (https://github.com/PhenX/php-font-lib). You need to install this dependency in the lib directory.\nHope this helps.\n. ",
    "esmitex": "I guess you're right, in the php file I put the line that was triggering the error as a comment so it stopped prompting me with it in the configuration panel. I will install this lib and see if it works when I put it back like before.\n. ",
    "tyxla": "Sure, I'll make sure to apply them to the develop branch.\n. ",
    "rbuelund": "Wau.. yes the position absolute did the trick - but why ?\n. Thank you for your help.\n. ",
    "AJMiller": "@dleffler Just wanted to say thank you for this patch! Spent a full day with DOMPDF spitting out this error and unable to figure out why it was getting caught up on those lines. Finally tried this patch and it rendered the PDFs perfectly. Difficult issue to debug because the DOMPDF debug tool was able to take the same HTML and render it into a PDF perfectly fine. It only failed on our development server. Thanks again!\n. ",
    "raxhet91": "if I put that code it give me an error Undefined variable: rowspan how can i solve that?\n. I've the 0.6.* but if I insert that code, it's not working!!! how can I solve that?\n\nDa: dleffler notifications@github.com\nInviato: sabato 28 maggio 2016 12.14\nA: dompdf/dompdf\nCc: raxhet91; Comment\nOggetto: Re: [dompdf/dompdf] Fix for undefined method DOMText::getAttribute() in cellmap.cls.php (#895)\nThe above fix prevents (0.6.x) the fatal error by skipping that code section if there is a DOMText node within a table (which if properly constructed shouldn't be there). In 0.7.0 the code has moved to /lib/Celmap.php and is located around lines # 558 to 569.\n\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/dompdf/dompdf/issues/895#issuecomment-222301080, or mute the threadhttps://github.com/notifications/unsubscribe/AStj3kqqOGvd0mA5DPDmPuGtSNdJg_UVks5qGBWGgaJpZM4DYdbe.\n. yes. the code is like that... when i insered that it gave me an error undefined variable rowspan\n. ",
    "dleffler": "The above fix prevents (0.6.x) the fatal error by skipping that code section if there is a DOMText node within a table (which if properly constructed shouldn't be there). In 0.7.0 the code has moved to /lib/Celmap.php and is located around lines # 558 to 569.\n. Old code looks like\n```\n// Determine where this cell is going\n$colspan = $node->getAttribute(\"colspan\");\n$rowspan = $node->getAttribute(\"rowspan\");\nif ( !$colspan ) {\n  $colspan = 1;\n  $node->setAttribute(\"colspan\",1);\n}\nif ( !$rowspan ) {\n  $rowspan = 1;\n  $node->setAttribute(\"rowspan\",1);\n}\n$key = $frame->get_id();\n```\nFixed code looks like\n```\n// Determine where this cell is going\nif (get_class($node) != 'DOMText') {\n$colspan = $node->getAttribute(\"colspan\");\n$rowspan = $node->getAttribute(\"rowspan\");\nif ( !$colspan ) {\n   $colspan = 1;\n   $node->setAttribute(\"colspan\",1);\n}\nif ( !$rowspan ) {\n   $rowspan = 1;\n   $node->setAttribute(\"rowspan\",1);\n}\n}\n$key = $frame->get_id();\n```\nSo the warning? you\u2019re getting can not be a result of this code unless you inserted something other than \u2018!=\u2019. I found my fix by using xdebug and my IDE (PHPStorm) to determine the $node was not from a table since it was a DOMText class.  You might try the same to see what class $node is when the warning occurs?\nDave Leffler\n. ",
    "wreardan": "I am still having this problem.  I was able to fix the issue by using $dompdf->set_option('isHtml5ParserEnabled', true);. Remove <thead> and <tbody> tags - I did not do this because these were needed for multi-page table headers.\nRemove space between <html><head> , </head><body> and </body></html> I did this and it worked!  Thank you so much!  I did not think this would work but for some reason it did.. I'm having a very similar issue when trying to add the Lato font family.\nInput File: https://www.dropbox.com/s/u2mm7rgzo55zz94/newreport.html?dl=1\nOutput PDF: https://www.dropbox.com/s/s8xnfgemrmqy8lw/newreport-dom.pdf?dl=1\nI can't figure this out for the life of me: any help would be appreciated.\n. I was using a nightly build.  However I just tried 0.7.0 alpha 2 and that didn't seem to work either.  I think that html actually refers to a server-side css document that I just changed to remove the font style for testing.  Can you retry it now?\nJust noticed that it looks empty except if opened in Firefox then it looks similar to tormjen's screenshot.\n. Yep that looks perfect!  I've been using the nightlies available on this page: http://eclecticgeek.com/dompdf-info/ and just tried the GitHub release 0.7 alpha 2.\nWe are using FreeBSD 8.2 and Ubuntu 12.04 and it doesn't seem to work on either configuration.\nI'm not terribly familiar with composer but definitely willing to give it a try!\nAm I calling dompdf incorrectly?\n$dompdf = new Dompdf();\n    $dompdf->loadHtml($html);\n    $dompdf->render();\n    $pdf = $dompdf->output();\n    $dompdf->stream(\"report.pdf\", array(\"Attachment\" => 0));\nAlso which renderer are you using?  CPDF or PDFLib?  We could have an old version of pdflib on the servers.\nThanks for the help: it's really appreciated!\n. Taking out the output totally fix the issue.  Thanks a lot!!\n. I couldn't figure out which backend was being used - is there an easy way to do this?  This also seemed to fix an issue where I couldn't get the footer working for me - it's now working nicely!\n. Thanks for the feedback!  I tried to get a two-column layout with divs but it seems to vertically align the right-most element to the last page in the overview section:\nhttps://www.dropbox.com/s/mr51glnn2jo09bp/novel_report_divs.html?dl=1\nhttps://www.dropbox.com/s/d2p8dj6ptaaikr4/novel_report_divs.pdf?dl=1\nIs there any way to fix that so that the div is vertically aligned to the first page?\nI haven't completely moved every table to divs - could this be causing a problem?\n. I ended up keeping the tables.  I added some conditional processing logic that would eliminate the two-column approach when there was a big_comments field (>1000 characters).  It would then split up paragraphs into rows based on newline characters with this regular expression: \nregex_replace:'!^(.*)(?:\\n|$)+!m':\"$1</p></div></td></tr><tr><td colspan='12'><div><p>\\n\"\nthis seems to be working effectively.\n. Here is the link used \nhttp://stackoverflow.com/questions/6994460/how-to-give-background-to-pdf-by-dompdf\nto come up with the following code:\n```\n    <div class=\"watermark\">DRAFT</div>\n    <div class='reset-watermark'> </div>\n\n.watermark {\n    position: fixed;\n    top: 320px;\n    left: 40px;\n    width: 200px;\n    height: 200px;\n    opacity: .2;\n    font-size: 196px;\n    font-weight: bold;\n}\n.reset-watermark {\n    position: fixed;\n    opacity: 1.0;\n}\n```\n. We have this same problem and I've had to modify our code to break up large rows (that are bigger than one page) into smaller rows in order for DomPDF to work.  There is another issue posted related to this issue.. ",
    "garrettw": "@wreardan where did you add that code to make it work?. @bsweeney oh I just realized I'm asking the wrong people. I'm using this library in the context of Drupal's print module. \ud83e\udd26\u200d\u2642\ufe0f . ",
    "Rodjaaa": "When i change backend to GD then i get error \"the image blob:http..... cannot be displayed because it contains errors\" and title is PNG image, my images in html are jpg. When it is CPDF then i get pdf document but without images.\n. Yes, PHP GD extension is installed, i dont have GMagick or IMagick but i dont use png images. In error log there in nothing, no error from dompdf. Yes tmp directory is 777 mod so yes. In place of picture there is nothing, white space. for example i have picture on http://domain.com/image1.jpg , if i put src to match it then i get white blank space instead of picture and it will be in tmp folder, i set to keep temp. If i change src to non exist image like http://domain.com/image_1.jpg than i will get gray image, image not found error but dompdf will render gray image.... I dont know what else can it be?\n. ",
    "meltz": "Thanks for the suggestion, I will try it out and get back on the result.\n. ",
    "alex-ception": "IMHO, disabling dompdf autoloader and include the configuration file is not a viable solution, it's a workaround.\nI use open sources PHP tools which are including composer autoloader by themselves (and therefore don't add the define and the include). I won't patch these tools just to make dompdf work on them.\nHave you considered finding a real solution ?\n. ",
    "Steinweber": "new install of dompdf resolved the problem \n. ",
    "VerzatileTom": "Hi, dompdf is working on my localhost but im getting this error on live server. what could be the solution for this?\n. i'm using $dompdf->loadView() \n. oh silly me! im so sorry, I thought its the same. Sorry for bothering you. flies away\n. I downloaded your latest version of dompdf via composer. Previously, I am using barryvdh/laravel-dompdf but I want to try a PDF package not dependent for laravel then I remember this package and i am trying this right now but seems there is something i miss and wanted help to resolve the error.\n. ",
    "tomvo": "I had this happen when I tried to call loadHTML() twice on the same object.\n. ",
    "themao": "I'm doubling @tomvo, I also receive this error when using loadHtml() twice on the same object. I need to generate several pdf files from a list of html templates, so there's no way to avoid using this method twice. \nIs there anything that has to be called before loading new html? It looks like it creates new DOMDocument every time, but still it might have some leftovers from the previous 'generations', am I right?\n. For googlers like me, it refers to this bug https://github.com/dompdf/dompdf/issues/1056\n. Yes, that's how I'm handling it now. I tried debugging a little bit, but couldn't yet find more that you've just said - everything seems to be set at render time.\n. @jeffersonor900 there is a workaround for this issue https://github.com/dompdf/dompdf/issues/902#issuecomment-197655763. Hi @bsweeney, I've done a bit of debugging and found out that it's not PHP's issue - base64_decode handles line breaks fine, the problem is in Helpers:165, the regex omits everything in data section after it meets any whitespace. Adding 's' modifier solves this problem - I tested it on an image with the line breaks and it got rendered successfully. I've created a PR for that also - https://github.com/dompdf/dompdf/pull/1151\n. @ThomasLandauer I would suggest using symfony's bundles for this. For example this one https://github.com/SlikNL/DompdfBundle\n. @bsweeney funny stuff, I'm observing the same exception, too. But not with symfony - I'm using Phalcon. Nevertheless, I was installing the library via Composer. I suppose there is some issue with it\n. So it appears that this was solved already a year ago https://github.com/dompdf/dompdf/issues/919, but in 0.7.x@beta it definitely does not work. Googling around a little bit said the problem is that composer does not include files without namespaces (according to PSR-4) so I had to include it manually:\n\"autoload\": {\n        \"classmap\": [\"vendor/dompdf/dompdf/lib\"]\n    }\n. @ThomasLandauer the advantage is that it's already embedded as a service there and you can just get() it from the container. And, sometimes you get a fancy symfony config, but for this bundle it/s not the case, it uses those inc files\n. @ThomasLandauer if you need the Dompdf more than once during runtime, create new instances with 'new Dompdf()' will lead to more intensive memory usage. Service in Symfony gets instantiated once and then gets reusable in any number of controllers/services/commands. \nIn general you need a bundle when you need to configure it flexibly - let's say if it's using some html views that you need to override. In this particular case with Dompdf it's comfortable enough to call 'new Dompdf()', but looking on another more complicated bundles will show you the difference.\n. @hardie7 which version did you download? It doesn't seem to have this file in 0.7.0-beta3 and it's still running properly for me\n. ",
    "aquaticpond": "I am seeing this error as well in my vagrant and my production server. I have the extensions and it throws whether or not html5 parser option is enabled. Only thing I can think is I'm using PHP7?\n// error\nNotice: Trying to get property of non-object in /var/www/lib/core/Dompdf/Dompdf.php on line 744\n```\nFatal error: Uncaught Dompdf\\Exception: No block-level parent found. Not good. in /var/www/lib/core/Dompdf/Positioner/Inline.php:48\nStack trace:\n0 /var/www/lib/core/Dompdf/FrameDecorator/AbstractFrameDecorator.php(788): Dompdf\\Positioner\\Inline->position()\n1 /var/www/lib/core/Dompdf/FrameReflower/Inline.php(46): Dompdf\\FrameDecorator\\AbstractFrameDecorator->position()\n2 /var/www/lib/core/Dompdf/FrameDecorator/AbstractFrameDecorator.php(801): Dompdf\\FrameReflower\\Inline->reflow(NULL)\n3 /var/www/lib/core/Dompdf/FrameReflower/Page.php(133): Dompdf\\FrameDecorator\\AbstractFrameDecorator->reflow()\n4 /var/www/lib/core/Dompdf/FrameDecorator/AbstractFrameDecorator.php(801): Dompdf\\FrameReflower\\Page->reflow(NULL)\n5 /var/www/lib/core/Dompdf/Dompdf.php(834): Dompdf\\FrameDecorator\\AbstractFrameDecorator->reflow()\n6 /var/www/public_html/test-pdf.php(17): Dompdf\\Dompdf->render()\n7 {main} thrown in /var/www/lib/core/Dompdf/Positioner/Inline.php on line 48\n```\n// code\n$dompdf = new Dompdf(['isHtml5ParserEnabled' => true]);\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->loadHtml(\"<strong>yer a pdf harry!</strong>\");\n$dompdf->render();\n. Checked out from master. output_html() returns the same string input to load_html(). Toggling isHtml5ParserEnabled yields no difference. Checkout from v0.7.0 yields no difference.\n. No sir, what you see is all I have. I also tried wrapping in a DIV and providing a full HTML5 document.\n. $dompdf->loadHtml(\"<div>herp</div><div>derp</div>\");\nUncommented line 800 of AbstractFrameDecorator and got:\nhtml:\nId: 0\nClass: Dompdf\\Frame\nDecorator: Dompdf\\FrameDecorator\\Page\nPosition:\nArray\n(\n    [x] => \n    [y] => \n    [0] => \n    [1] => \n)\nContaining block:\nArray\n(\n    [x] => 0\n    [y] => 0\n    [w] => 841.89\n    [h] => 595.28\n    [0] => 0\n    [1] => 0\n    [2] => 841.89\n    [3] => 595.28\n)\nMargin width:\nauto\nMargin height:\nauto\nStyle:\nArray\n(\n    [parent_font_size] => 12\n    [font_size] => 12\n    [width] => auto\n    [margin_left] => 0\n    [margin_right] => 0\n    [border_left_width] => medium\n    [border_left_style] => none\n    [border_right_width] => medium\n    [border_right_style] => none\n    [padding_left] => 0\n    [padding_right] => 0\n    [height] => auto\n    [margin_top] => 0\n    [margin_bottom] => 0\n    [border_top_width] => medium\n    [border_top_style] => none\n    [border_bottom_width] => medium\n    [border_bottom_style] => none\n    [padding_top] => 0\n    [padding_bottom] => 0\n)\nbody:\nId: 1\nClass: Dompdf\\Frame\nParent:html (0000000032258bd2000000002aa63c94) \nDecorator: Dompdf\\FrameDecorator\\Inline\nPosition:\nArray\n(\n    [x] => \n    [y] => \n    [0] => \n    [1] => \n)\nContaining block:\nArray\n(\n    [x] => 0\n    [y] => 0\n    [w] => 841.89\n    [h] => 595.28\n    [0] => 0\n    [1] => 0\n    [2] => 841.89\n    [3] => 595.28\n)\nMargin width:\nauto\nMargin height:\nauto\nStyle:\nArray\n(\n    [parent_font_size] => 12\n    [font_size] => 12\n    [float] => none\n    [position] => static\n    [display] => inline\n    [width] => auto\n    [margin_left] => 0\n    [margin_right] => 0\n    [border_left_width] => medium\n    [border_left_style] => none\n    [border_right_width] => medium\n    [border_right_style] => none\n    [padding_left] => 0\n    [padding_right] => 0\n    [height] => auto\n    [margin_top] => 0\n    [margin_bottom] => 0\n    [border_top_width] => medium\n    [border_top_style] => none\n    [border_bottom_width] => medium\n    [border_bottom_style] => none\n    [padding_top] => 0\n    [padding_bottom] => 0\n)\n. PHP7, tried on Ubuntu 14.04 and CentOS 6.7.\nDOM version: 20031129\nlibxml version: 2.9.1\nmbstring engine: libmbfl \nlibmbfl version: 1.3.2\nmbstring settings all at default\n. ",
    "marcleimvs": "I use Dompdf within Joomla projects and I've changed Dompdf directories to suite my projects needs, then I started to have such an error 'No block-level parent found. Not good'. Checking the Stylesheet class, it loads the default CSS 'html.css' in 'res' directory and I noticed that the method getDefaultStylesheet() specify a relative path which makes the css file inaccessible, thus Dompdf does not create the 'base' style to process when render() method is called. Without it, block-level parent rise such an error. After I changed the relative path in getDefaultStylesheet() method of Stylesheet class, pointing right to the resource file, everything worked fine. Hope this help!\n. When i changed the getDefaultStylesheet() in Stylesheet.php, as below, the error is gone!\npublic static function getDefaultStylesheet()\n{\n//$dir = realpath(__DIR__ . \"/../..\");\n$dir = realpath(__DIR__ . \"/..\");\nreturn $dir . self::DEFAULT_STYLESHEET;\n}\n` \nTry to debug the directory \"$dir\" to see if it points to a valid path.... I must have pressed close anywhere unoticed, i havent seen there was a fix for this, so thanks for showing...i will check it out!. I solved the problem commenting  the \"return\" in the method assign_x_positions() of Cellmap.php, to force columns stick together, but i don't know this effected any other resource, but, for now my tables renders perfect, check the picture. The second table follow the new page margin-left and the cells with it.\npublic function assign_x_positions()\n    {\n        // Pre-condition: widths must be resolved and assigned to columns and\n        // column[0][\"x\"] must be set.\n        if ($this->_columns_locked) {\n            //return; \n        }\n        $x = $this->_columns[0][\"x\"];\n        foreach (array_keys($this->_columns) as $j) {\n            $this->_columns[$j][\"x\"] = $x;\n            $x += $this->_columns[$j][\"used-width\"];\n        }\n    }\n\n. ",
    "akovalyov": "I have a very same trouble when reusing a Dompdf instance for multiple PDF documents creation. Quite confusing if using DI and Dompdf as a service. Looks like, something is not cleaned up correctly after rendering. . ",
    "iiamfawad": "Hi there, I'm facing the same issue on my server. What are the possible solutions? Can anyone help please, I'm stuck!. ",
    "sitilge": "I've read all the posts on \"No block-level parent found. Not good.\" exception and nothing worked so I decided to start from scratch. I started with a simple snippet\n````\n$html = '\n        \n\n\n\n\nSome text here\n\n\n    ';\n$dompdf = new Dompdf();\n$dompdf->loadHtml($html);\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n$dompdf->stream(\"ticket\");\n````\nObviously, the html is a mere skeleton, no css magic there but still it yields the exception. If the head tag is removed, the snippet works as it should.\nWhat am I missing here?\nDisclaimer\nRunning arch 4.11, php 7.1.7, dompdf 0.8.0. I've read the relase notes of the latest dompdf saying that php 7.1 is supported.\n. After enabling the HTML5 parser, the error was solved.\n````\n$options = new Options([\n     'isHtml5ParserEnabled' => true\n]);\n$dompdf->setOptions($options);\n````. Running arch 4.11.\nOn Aug 4, 2017 20:51, \"Brian Sweeney\" notifications@github.com wrote:\n\nThank you for the follow-ups.\n@marcleimvs https://github.com/marcleimvs which version of Dompdf are\nyou using? That should be the correct path for 0.7.0 or higher since\nDIR returns the path to Stylesheet.php. In these versions the default\nstylesheet path starts two directory levels higher up. What values do you\nget for DIR and $dir with the original code?\n@sitilge https://github.com/sitilge I'm not sure why turning on the\nHTML5 parser would fix the issue considering the simplicity of the HTML\ndocument. It might be an issue with one of the libraries, or possibly\nsystem configuration. Are you on *nix or Windows?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/902#issuecomment-320312422, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ADJ0kkrgBkEI0jikp8JT3z_vHkD8v2v7ks5sU1oggaJpZM4Dgfq_\n.\n. @bsweeney yes, please do so.. @ciromattia probably, but it does not feel right... I'm using the parser, error is solved.. So you suppose anyone is going to read this sheet? Moreover, the text is completely tangential.. \n",
    "ciromattia": "@sitilge I had the same issue, #1494 indeed was the cause even if I used the HTML5 parse, try to remove whitespaces between ,  and  blocks, like this:\n$html = '\n        <html><head>\n            <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        </head><body>\n            <p>Some text here</p>\n        </body></html>\n    ';. @Spreeuw on macOS (libxml 2.9.5, PHP 7.0.22) the issue is happening even with HTML5 Parser enabled.. ",
    "ohader": "I can confirm it's fixed with commit ad41b6dd17ba774b017407ffba09c14a66665723. Thx!. ",
    "alanducnguyen": "I got the same issue \"No block-level parent found. Not good\". \nAfter the investigation, I tried to call loadView() with simple HTML only.\nI discovered that my HTML view is not well-form. (The \"<link>\" tag located outside of \"<head>\" tag).\nI corrected the HTML validation, then the issue has been gone.\nIn hopeful, anyone had the same case with me can fix the issue.\nSometimes, The error \"No block-level parent found. Not good\" cause of some HTML is not valid. \nTry to make sure the HTML tag valid, then the issue will be gone.\nThanks.. ",
    "murph133": "I had the same problem. It was solved simply by update the software version.\nRun composer update. ",
    "nadiyaparaamit": "Remove <thead> and <tbody> tags \nand remove space between <html><head> , </head><body> and </body></html>\nIt will work fine.! . \ud83d\udc4d. Hello,\nSame issue was happened and got fixed.\nCheck this reply: https://github.com/dompdf/dompdf/issues/902#issuecomment-359449394\n. Remove <thead> and <tbody> tags \nand remove space between <html><head> , </head><body> and </body></html>\nIt will work fine.! . ",
    "rmoni3000": "@nadiyaparaamit solution's worked perfectly for me too! (Y)\nPs. I could not update my dompdf version on live server!. ",
    "jeffersonor900": "@sitilge  where? \n\"After enabling the HTML5 parser, the error was solved.\"\n$options = new Options([\n     'isHtml5ParserEnabled' => true\n]);\n$dompdf->setOptions($options);. @nadiyaparaamit  it did not work\n\"Remove  and  tags\nand remove space between  ,  and \nIt will work fine.!\". Hi there, I'm facing the same issue. What are the possible solutions? Can anyone help please, I'm stuck!. I'm work with PHP Version 7.2.1, \u00a1Help!\n(Fatal error: Uncaught DOMPDF_Exception: No block-level parent found. Not good. in C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\inline_positioner.cls.php:38 Stack trace: #0 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\frame_decorator.cls.php(546): Inline_Positioner->position() #1 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\text_frame_reflower.cls.php(331): Frame_Decorator->position() #2 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\frame_decorator.cls.php(556): Text_Frame_Reflower->reflow(NULL) #3 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\page_frame_reflower.cls.php(138): Frame_Decorator->reflow() #4 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\frame_decorator.cls.php(556): Page_Frame_Reflower->reflow(NULL) #5 C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\dompdf.cls.php(817): Frame_Decorator->reflow() #6 C:\\xampp\\htdocs\\ctacobro_6\\production\\Impresion.php(859): DOMPDF->render() #7 {main} thrown in C:\\xampp\\htdocs\\ctacobro_6\\production\\dompdf\\include\\inline_positioner.cls.php on line 38). ",
    "hanoii": "@nadiyaparaamit what is this dark magic \ud83d\ude04 ? It did work for me \ud83e\udd47 .\nThis happened on an old project (where I am using an old version of dompdf) and just moved it to a new server. It wasn't happening on the old one with the same codebase. Any ideas of this?. @liam @josephdicdican I fixed it by following https://github.com/dompdf/dompdf/issues/902#issuecomment-359449394\nMake sure ALL spaces are removed.. ",
    "jdicdican": "https://github.com/dompdf/dompdf/issues/902#issuecomment-359449394 - thanks @nadiyaparaamit, this saved my day. ",
    "LiamMcArthur": "@hanoii did you ever manage to fix this? I'm currently migrating from one server to another and having the same problem!. It turned out composer update was failing because my directory path exceeded 260 chars. Instead, I've manually copied across all of the files from the updated version and it's all working perfectly now!. I'm using Open Sans in both, but I've removed the font from each and used the standard Arial font and the file size is still the same. After some testing, the file size greatly reduces when removing the background image - so that must be the culprit. I just don't understand how a 444kb image is adding over 5MB to the file size. I've created an example for you:\n\ndompdf example\nFPDF example\n\nBoth documents are embedding Open Sans - but even when removing this font - the file size is similar. Only when removing the background image do I start to see a real reduction.\n```\n<?php\nrequire 'vendor/autoload.php';\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n$options = new Options();\n$options->setDpi(300);\n$options->set('defaultFont', 'Open Sans');\n$options->setIsFontSubsettingEnabled(true);\n$dompdf = new Dompdf($options);\n$dompdf->loadHtml(file_get_contents(\"html.html\"));\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->render();\n$dompdf->stream(\"file.pdf\", array(\"Attachment\" => false));\nexit(0);\n```\n. Sure - here's all of the code I'm using:\n```\n<?php\nrequire 'vendor/autoload.php';\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n$options = new Options();\n$options->setDpi(300);\n$options->set('defaultFont', 'Open Sans');\n$options->setIsFontSubsettingEnabled(true);\n$dompdf = new Dompdf($options);\n$dompdf->loadHtml(file_get_contents(\"html.html\"));\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->render();\n$dompdf->stream(\"file.pdf\", array(\"Attachment\" => false));\nexit(0);\n```\nHTML:\n<!DOCTYPE html>\n<html>\n<head>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n<span class=\"cover-title\">Custom<br>Document</span>\n</body>\n</html>\nCSS:\n@page {\n    margin: 0;\n}\nhtml {\n    margin: 0;\n}\nbody {\n    background: url(\"cover.jpg\") no-repeat top center;\n    background-size: 100%;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n}\n.cover-title {\n    display: block;\n    font-family: 'OpenSans';\n    font-size: 48pt;\n    line-height:0.7;\n    color: #fff;\n    font-weight: bold;\n    padding: 230px 0 230px 120px;\n}\n. Nope, it's definitely a JPG image! (see the background of the body in the CSS).. Sure - I've uploaded the file here.. That's great - the document I've managed to create using an absolute positioned image is 737KB. Thank you very much for your help with this!. I'll have a play around with it and see if I can get it working. It's not a huge problem for now though, many thanks for helping out!\nUPDATE: converting to divs like you suggested has worked magically! \ud83d\udc4d . My bad. Yeah, I'd just closed some open tickets - many thanks!. @epreston this solved my problem but I'm a little confused. I'm already on the latest version of Dompdf but that replicated code doesn't exist in my else statement.. ",
    "josephdicdican": "I am working on local, php version - PHP 5.6.36 (cli) removing spaces did not working for me. Please help\n\nexception 'DOMPDF_Exception' with message 'No block-level parent found.  Not good.' in \n\n. thanks @hanoii , I doubted it would solve the issue but it really did. My bad, I am editing the wrong pdf layout blade.. ",
    "nospoon": "This is not fixed as of 0.8.2. Removing tags and spaces is NOT a solution, it's a hack.. ",
    "egan95": "Remove tag <head> and </head> . it's worked for me.... ",
    "victor-priceputu": "Had the same issue, for me it was caused by the html tag not being detected as a block-level parent.\nHad to add the following CSS to fix it:\nhtml, body {\n            display: block;\n        }. Had the same issue, for me it was caused by the html tag not being detected as a block-level parent.\nHad to add the following CSS to fix it:\nhtml, body { display: block; }. ",
    "tuckbloor": "\nFor googlers like me, it refers to this bug #1056\n\nthank you. ",
    "digibeuk": "pull request here https://github.com/dompdf/dompdf/pull/906\n. sure made a new one here : https://github.com/dompdf/dompdf/pull/985\n. i think it is better you use my changes, I know for sure my change work because we use it in production on a high traffic platform. Making the changes on develop means i am doing it on code I can test not so easily\n. ",
    "pratt1305": "Thanks For Responding Sir, Right Now I have Completed that task using fpdf Library, But As I remember My Table Rows Was Created Dynamically From Database So When the Records in table where more then 80 or 80 It was Showing Error Which I have Pasted in topic above with Question Though i will try to recreate that page and send u more details..........\nThanks\n. ",
    "alexherbs": "Hey guys,\nsorry but this was my mistake. I've saved the pdf file to the database with a blob (64kb) type which cuts off the end of the file and occurs the damaged pdf file.\nThanks, Alex\n. ",
    "NateWr": "Thanks for the fast response @bsweeney. In my case, I won't know when a language is used to control the markup. But I appreciate that it's on your horizon. All the best.\n. ",
    "maitriya": "```\nrequire_once(sfConfig::get('sf_lib_dir') . '/dompdf/dompdf_config.inc.php');\n$dompdf = new DOMPDF();\n$font_family = 'Noto Sans, DejaVu Sans, sans-serif';\n$html = '\n  \n\n\n\n          @font-face {\n            font-family: \"Noto Sans\";\n            font-style: normal;\n            font-weight: 400;\n            src: url(http://eclecticgeek.com/dompdf/fonts/cjk/fireflysung.ttf) format(\"truetype\");\n          }\n          body { font-family: '.$font_family.'; }\n        \n\n' . $html . '\n\n';\n$dompdf->load_html($html);\n$dompdf->render();\n$output = $dompdf->output();\nfile_put_contents($file_path, $output);\n```\n. eaccelerator\n. OK\n. ",
    "DavidBruchmann": "There was recently a change with ul/ol (see mailinglist or on github).\nDid you use the most recent code-base?\nOn Tue, Mar 17, 2015 at 9:50 PM, Cipa notifications@github.com wrote:\n\nHi,\nUsing ul in ol doesn't output properly\nCode is\n\nTest\n\nTest\nTest\nTest\n\nTest\nTest\n\nShould look like\n[image: screen shot 2015-03-17 at 10 49 22 am]\nhttps://cloud.githubusercontent.com/assets/293377/6689873/5e5098c2-cc93-11e4-8f04-bb1c7a95f7ed.png\nLooks like\n[image: screen shot 2015-03-17 at 10 49 12 am]\nhttps://cloud.githubusercontent.com/assets/293377/6689872/5e50551a-cc93-11e4-8bf3-2ad8b0c96b31.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/917.\n. Sorry, don't use 5.2, so I don't know.\n\nEasy way: download xampp as zip / 7zip.\nStop your web-server and just click on apache_start.bat (in windows) or\nressembling in another system to start apache with the choosen PHP-Version.\nYour default database can still run and be used by that apache/php\ncombination.\nOn Tue, Mar 17, 2015 at 9:59 PM, Cipa notifications@github.com wrote:\n\nSo develop doesn't work for php 5.2, what would be the latest php 5.2\navailable version\nThank you\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/917#issuecomment-82394818.\n. check this:\n\nhttps://github.com/dompdf/dompdf/issues/403#issuecomment-62094435\nregrettable the message I remembered belongs to another framework.\nPerhaps the link above solves a bit more, is already a bit older and could\nbe part of the current version.\nOn Tue, Mar 17, 2015 at 10:07 PM, David Bruchmann <david.bruchmann@gmail.com\n\nwrote:\nSorry, don't use 5.2, so I don't know.\nEasy way: download xampp as zip / 7zip.\nStop your web-server and just click on apache_start.bat (in windows) or\nressembling in another system to start apache with the choosen PHP-Version.\nYour default database can still run and be used by that apache/php\ncombination.\nOn Tue, Mar 17, 2015 at 9:59 PM, Cipa notifications@github.com wrote:\n\nSo develop doesn't work for php 5.2, what would be the latest php 5.2\navailable version\nThank you\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/917#issuecomment-82394818.\n. \n\n",
    "Cipa": "I think I used the latest stable. Will upgrade to development  and try again\n. So develop doesn't work for php 5.2, what would be the latest php 5.2 available version\nThank you\n. So the problem is not fixed on master and I can't use develop, can you  show me what can be changed in master to make the lists work?\n. I am not local, this is a server I can't touch/update :(\n. Thanks\n. ",
    "frost-nzcr4": "Latest develop works.\n. ",
    "SubaruCode": "I had same issue with corrupted images (white dots and lines in image).\nDisabling Imagick fixed this issue. Thanks!\n. ",
    "jammin84": "I can also confirm, removing ImagicK resolved it for me. not sure why.\nVersion I had installed was in the ubuntu trusty repository.\nphp5-imagick                        3.1.2-1build1\nBefore + After\n\n. ",
    "accurate": "Going to post in Google Forum. My bad...\n. ",
    "md84419": "Testcase at http://pastebin.com/VPaXZ7ni\n. I am using the version cloned from git on 24th March 2015 14:05 GMT/WET.\n. I am using the version cloned from git on 24th March 2015 14:05 GMT/WET.\n. Its defined in CSS3 and HTML5:\nhttps://developer.mozilla.org/en-US/docs/Web/CSS/initial\n. ",
    "arielyih": "We have checked our server and found that we don't have border-radius in samples. But in your documentation (http://pxd.me/dompdf/www/examples.php) has.\nWe checked the setting but ours is similar to yours.\nCould you help us find out which setting we missed?\nWhat information should I apply to you?\nThank you very much!\n. Hello,\nWe have found the answer.\nOur server didn't update to the latest version, after updated it worked.\nThank you a lot!\n. ",
    "notch-1": "Yes the image works fine, even from the server itself (which is not on the localhost anymore).\nHere is the code from the image script:\n$image = imagecreatefromstring($hex_string);\nheader(\"Content-Type: image/png\");\nimagepng($image, NULL, 9, PNG_NO_FILTER);\nexit();\nThank you\n. Editing the image script to post the link here i found out that if the script skips the login check the pdf is generated correctly. Maybe something got printed in the process...\n. Ok it's the very line that checks if the user is logged in, for the image the login just fails. Suggestions?\nThanks\n. I tried but i had no luck... Somehow the cookie or session data were empty inside the context, i don't remember wich one. \nAnyway, I switched to embedded img and avoided the issue.\nThanks anyway\n. Hi, i'm still getting this.\nIn the past I have found some css properties that caused some alignament issues (like \"display: table-cell;\" on a div), but now there is nothing similar in the code anymore... \n. No problem, better late than never :)\nHere is the source html: http://paste.scsys.co.uk/500289?ln=on&hl=on&submit=Format+it!\nthe commands:\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(\"story.pdf\");\nand the new screenshot:\n\nYou can see the misaligned \"Prova\" section and the weird rendering of the borders near page breaks, and also in the middle of the page in this other one: \n\nThanks\n. ",
    "steve66nz": "Thanks for your reply.\nI had already noticed that the html template had no doctype at all so I\ntried validating it as is, then as a doctype of html 5, and currently as\n4.01 transitional. I got least errors with the latter and mostly minor ones.\nI also fixed a couple of css issues. Maybe I'll try installing 0.6.1 and\nturn on html 5 as you suggest, and do some more cleanup.\nWith regards the notices - how do I go about suppressing or disabling them?\nIs that something the hosting provider can do for me, or is it a setting in\ndompdf?\nregards,\nSteve\n. ",
    "sinayoq": "You can disable all messages , execute the instructions prone to failure and reactivate the messages to restore stability to the system.\n```\n    // Desactivamos los posibles warning para que no se envien los headers\n    error_reporting(0);\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n// Save file    \n$output = $dompdf->output();\n$dest = \"/your-directory/final_file.pdf\";        \n$result = file_put_contents($dest, $output);\n\n// Reactivamos los warning            \nerror_reporting(E_ALL ^ E_NOTICE);\n\nif( $result ) {\n    // Send file       \n    $dompdf->stream($dest);            \n}\nelse{            \n     echo \"<p> An unexpected error has occurred. Please try again later or contact support. </p>\";          \n}\n\n```\n. ",
    "csloisel": "Ok, thanks for the feedback. I figured it was something along those lines, but I couldn't find any information or issue/bug reports to confirm. Looks like i'll have to use a TTF font for now.\n. ",
    "jasperf": "Has there been progress with OTF yet? Bumped into this issue (not in readme) as I was having loading an otf font. I will switch to .ttf now, but OTF support would be nice to have as well.. I see. Thanks for the feedback on this @bsweeney .. ",
    "Sebazz": "hmm thanks, i will it try tommorow :+1: \n. ",
    "VienNguyen113": "Hi!\nI want to use my font such as: Commons in my pdf, what should i do?\n. Hi\nPerhaps, google fonts: font-weight: bold; not support in dompdf, such as: Open Sans, Lato\nI declared : \n< link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic' rel='stylesheet' type='text/css' >\n<link href='https://fonts.googleapis.com/css?family=Lato:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css >\nin my project.\nThanks!\n. Hi Brian,\nI want to use pre-loading font because in my project font-weight: bold, italic is very important. But in v0.7 beta not support pre-loading font.\nCan you give me v0.6.2 and let me know how to use it?\nPlease help me!\nThanks you so much!\nVien Nguyen.\n. Ok Brian, thanks for your help!\nI just has a problem: i has tag img: <img class=\"image-following\" id=\"image\" src=\"/web/upload/uploadImageCus/customer16671454085946.png\">, but when i render to pdf the pdf not show image.\nIf i use: src=\"data:image/jpge;base64.....\" then image show right.\nCan you tell me about this? And let me know how i can fix it?\nThanks you so much!\n. Ok, thanks! It work fine for me :+1: \n. Ok Thanks you!\n. I am using yii2.\nWhen i generate pdf i had problem: \\source\\vendor\\dompdf\\dompdf/lib/fonts/fonts\\\\0d957fa102d543d31cc8f0415c0b1506.ufm.php failed to open stream: No such file or directory.\nIf i create folder fonts in \\vendor\\dompdf\\dompdf/lib/fonts/ then it work fine.\nI modified in vendor, it's not good.\nCan you please check it and let me know?\nThanks\n. Hi,\nI had a problem.\nWhen i up load code on my server, google font not working (in localhost it works fine).\nCan you help me about this? \nThanks!\n. Excellent!\nThanks for your help!\nIt work fine for me :)) :+1: \n. ",
    "Voorsie": "Thanks for the quick response.\nFor testing purposes, I changed the whole body font family to the Dejavu Sans font;\nCSS\nbody{\n    font-family:'Dejavu Sans', Arial, Helvetica, sans-serif;\n}\nWhen displaying the pdf in the browser (setting attachment parameter to 0) in the stream function, It looks like the tekst is white. I can select it, and when I copy/paste it for example to my address bar of my browser, it shows the text.\nHowever, when I download the pdf, and open it, i get all strange rectangles instead of letters, like the font is not recognised.\nThe only thing I have changed is the following:\nOld:\n``` php\nrequire_once(\"../dompdf-master/dompdf_config.inc.php\");\n$dompdf = new DOMPDF();\n$dompdf->load_html($form);\n$dompdf->render();\n$dompdf->stream(\"filename.pdf\", array(\"Attachment\" => 0));\n$output = $dompdf->output();\n```\nNew:\n``` php\nrequire_once '../dompdf/lib/html5lib/Parser.php';\nrequire_once '../dompdf/lib/php-font-lib/src/FontLib/Autoloader.php';\nrequire_once '../dompdf/src/functions.inc.php';\nrequire_once '../dompdf/src/autoload.inc.php';\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$dompdf->loadHtml($form);\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->set_option('isHtml5ParserEnabled', true);\n$dompdf->render();\n$pdf = $dompdf->output();\n$dompdf->stream(\"filename.pdf\", array(\"Attachment\" => 0));\n```\n. I used a new folder, so both versions are seperated.\nAs you can see in the code above, the old version is using /dompdf-master/ and the new version /dompdf/.\nIt seems the phpf-font-lib folder was empty, so this I copied from the old version, but still facing the same problems..\nOk, so now I build another test case. Once again downloaded a clean version from:\nhttp://eclecticgeek.com/dompdf/nightly.php?format=zip\nCopied the whole dir to:\nhttp://www.forcemedia.nl/test/dompdf/dompdf/\nCreated a very basic sample html, located on:\nhttp://www.forcemedia.nl/test/dompdf/form.html\nContaining the following HTML:\n```\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\nTest\n</p>\n<p>@font-face {\n    src: url(\"http://www.forcemedia.nl/test/dompdf/dejavu/dejavu.ttf\") format('truetype');\n    font-family: \"dejavudiego\";\n  }\n    body{\n        font-family:\"dejavudiego\", \"Times New Roman\", Times, serif;\n        color:red;\n    }\n\n\n\n    test2 \u25fb \u25fc\n\n\n```\nAnd the php file on:\nhttp://www.forcemedia.nl/test/dompdf/index.php\nContaining the following php:\n``` php\nrequire_once 'dompdf/lib/html5lib/Parser.php';\nrequire_once 'dompdf/lib/php-font-lib/src/FontLib/Autoloader.php';\nrequire_once 'dompdf/src/functions.inc.php';\nrequire_once 'dompdf/src/autoload.inc.php';\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$form = file_get_contents('form.html');\n$dompdf->loadHtml($form);\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->set_option('isHtml5ParserEnabled', true);\n$dompdf->render();\n$pdf = $dompdf->output();\n$dompdf->stream(\"form.pdf\", array(\"Attachment\" => 0));\n```\nYou can see the output yourself at:\nhttp://www.forcemedia.nl/test/dompdf/index.php\nAs you can see, it shows an empty document. However, if you press ctrl+a (select all) it shows some selected text. You might think the font-color is just white, but it's set to red.\nUsing the exact same form.html document, in the debugger, gives me the expected results.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=e489e7f9a0021101a5a76beb06a68740\nPlease not that i'm not using composer, maybe some script is missing because of this?\nI really don't know what else it could be, since i've tried it on 2 totally different servers now..\n. Just to be sure I just uploaded this version and replaced it, but got the same results :-(\nAnd yes, the text is there. When seeing the 'empty' document, selecting all and right-click on the text, you can also copy the text and it's seems to be exactly the right text. Just not displaying hehe..\n\n. I believe font subsetting is disabled by default right? Also tried enabling it without any positive results..\nAlso enabled all the php errors including notices, but no errors found..\n. Yes, since my last message I tried turning font-subsetting on, and left it like that in the test version.\nI have downloaded both versions, with font-subsetting on and off. This makes a difference in filesize indeed. 4 kb (on) vs 804 kb (off).\nWhile the in-browser version of the pdf doesn't show anything, the pdf file on my mac shows this:\n\nAlso, when copying and pasting it somewhere else it shows the expected text like in the in-browser version.\nAbout the compression, I don't know if there is a setting for that with dompdf, but that I didn't change in my code, so that should be default..\nJust to be sure I ask it again, because you didn't mention anything about that in your previous answers; Can't it be an issue for not using composer? That seems the only difference from the standard approach. Maybe because of this it's missing some part of the script/process, or is that a stupid question and doesn't have anything to do with it, haha\n. Not sure about that, since the DejaVu is standard in the package, and doesn't have the uppercase .TTF extension?\n\n. Haha yeah too bad.. :( Thanks for checking anyway! Hope someone will find a solution one day haha, now i created a workaround by using images..\n. ",
    "duong841992": "Sorry for late, but anyone found solution for this issue ?\nMy problem is the same as vkeranov\nMy japanese characters turn in to square symbols in the result PDF file, but when i copy and paste those square symbols to sublime text or any editor, it display correctly. Please help.\n\nI can confirm this. Using latest develop and DejaVu Sans. The result is only some square symbols. But when I copy and paste those in a simple text file, the text shows correctly.\n. @bsweeney Thanks you for replying. I tried to load some japanese fonts with the PDF view using @font-face tag but it still shows the wrong result. Can you tell me what is the correct font to display CJK text correctly ?. I have downloaded and used the font that you gave me but the PDF file still display incorrectly.\nThis is my PDF view:\n```\n<!DOCTYPE html>\n\n\n\n\n        @font-face {\n            font-family: CyberCJK;\n            font-style: normal;\n            font-weight: normal;\n            src: url(fonts/Cybercjk.ttf) format(\"truetype\");\n        }\n        * {\n            font-family: CyberCJK;\n        }\n    \n\n\n\n\n\nNo.\n\u5546\u54c1\u5199\u771f\n\u82f1\u6587\u5546\u54c1\u540d\n\u30b1\u30fc\u30b9\u5165\u6570\nMOQ/Piece\n\u5546\u54c1\u4fa1\u683c\n\u30b1\u30fc\u30b9\u5f53\u305f\u308aSize \u7e26 (CM)\n\u30b1\u30fc\u30b9\u5f53\u305f\u308aSize \u6a2a (CM)\n\u30b1\u30fc\u30b9\u5f53\u305f\u308aSize \u9ad8\u3055(CM)\n\u30b1\u30fc\u30b9\u5f53\u305f\u308a\u91cd\u91cf\n\n\n\n\n    </tbody>\n</table>\n\n\n\n**And this is my domPDF code:**\n/attach price list/\n        if ($this->price_list_id_list !== NULL && count($this->price_list_id_list) > 0) {\n            foreach ($this->price_list_id_list as $price_list_id) {\n                $response->attachData($this->pdf($price_list_id), $price_list_id.'.pdf', [\n                    'mime' => 'application/pdf',\n                ]);\n            }\n        }\nprotected function pdf($price_list_id)\n    {\n        $data['price_list'] = Price_List::find($price_list_id);\n        $pdf = PDF::loadView('pdfs.pricelist', $data);\n        return $pdf->stream();\n    }\n```\nNote: In the above code, i intend to get email content from database and load into PDF view then attach PDF file to an email.\nThe result PDF file\n\n. @bsweeney \nI finally display japanese characters to PDF file correctly by following instructions HERE (please translate this page to english, it readable)\nAbout this\n\nCheck the path to your font file. You're probably using $dompdf::loadHtml() and so the path will be relative to the running script (not the view). You may need to adjust that path.\n\nThis appears to be incorrect because when i load a font using @font-face tag, the format of the text in PDF and PDF file size(depend on font file size) also change.\nI also using dompdf in a loop and it's still working fine. Do i need to change this ?\nSo it turn out that when working with CJK we have to use the load_font.php method instead of the @font-face tag method ?. ",
    "ostappa": "I have faced, exactly the same problem. I need my elements to be positioned in %, pixels work fine, but I need percentages. \nCould you please tell me when this bug will be fixed? \nThanks!\n. Seems like when you set top to for example 50% it will calculate the position relative to the sheet size, not to the relative element!\n. ",
    "flcoder": "yup... it seems to be ignoring the parent container and just making calculations based on the page size... I was almost falling in love until I ran into this.\n. ",
    "arifhussain353": "Share if any fix ? .Thanks. @bsweeney  Hi,\nI don't know if he is talking about the same problem which i am facing also. Below is little bit explanation of related: \nhtml \n<div class=\"sheet\" style=\"position:relative\">\n   <div class=\"item\"..... \n   <div class=\"item\"..... \n  <div class=\"item\"..... \n</div>\nPhp : \n```\n  public function getPDF(Request $request){\n        $html = 'col_3_block1';\n    $pdf = App::make('dompdf.wrapper');\n    $pdf->loadHTML($html)->setPaper('a4', 'portrait');\n\n    return $pdf->stream();\n}\n\n``\n[**Screenshot 1**.](https://prnt.sc/gn33a0)\nIn html css  : screenshot 1 i simply drag and drop element from left to right A4 side white box which have height and width equal to standard A4 size page amdrelativeposition.\ncss styleposition: absolute; left: 470px; top: 260px;`\nScreenshot 2\nAfter pdf generate the position of same element is little bit disturbed.\nProblem\nScreenshot 2  position in PDF  is not accurate  according to  screenshot 1 position in html css.\n. ",
    "sebastienduboc": "I don't know if it helps but i have just experienced the same problem with Kaspersky : i have disabled the compression mode on the output generation, and everything went well after that.\n. ",
    "shorrog": "Hi Folks. I have just installed the latest version of dompdf and now Kaspersky is showing HEUR:Exploit.pdf.Generic.\nI am currently running this in my development environment using Localhost. \nIs there any resolution to this? \nI see there is one comment about disabling compression mode that may fix the problem, but how do I do that (apologies I am a newbie to PHP and DOMPDF)\nInterestingly not all the files generated by DOMPDF show a problem just 7 out of 50. \n. bsweeeney, Many thanks for your rapid response. I was using output so I set the option as you suggested to disable compression. (apologies I should have read the documentation closer). This has fixed the problem. Kaspersky no longer identifies any problems in the generated file. \nOnce again many thanks.\n. ",
    "zgrimz": "Is this still a known issue? I'm still having trouble with it. \n. ",
    "Finalfantasykid": "Try this example.  For me it generated 3 pages, each with different spacing between words in the header and footer.  The first two overhang the line, while the third page shows what it should look like.\n``` html\n\n\n</p>\n<p>body {\n    text-align: justify;\n}</p>\n<p>\n\n\n\nif ( isset($pdf) ) {</p>\n<p>$margins = array('top' =&gt; 25,\n                   'right' =&gt; 30,\n                   'bottom' =&gt; 25,\n                   'left' =&gt; 30);</p>\n<p>$font = Font_Metrics::get_font(\"Times New Roman\");\n  $size = \"10\";\n  $size2 = 6;\n  $color = array(0,0,0);\n  $text_height = Font_Metrics::get_font_height($font, $size);\n  $text_height2 = Font_Metrics::get_font_height($font, $size2);</p>\n<p>$foot = $pdf-&gt;open_object();</p>\n<p>$w = $pdf-&gt;get_width();\n  $h = $pdf-&gt;get_height();</p>\n<p>// Draw a line along the bottom\n  $y = $h - $text_height2 - $margins['bottom'];\n  $pdf-&gt;line($margins['left'], \n             $margins['top'], \n             $w - $margins['right'], \n             $margins['top'], \n             $color, 0.5);\n  $pdf-&gt;line($margins['left'],\n             $h - $text_height2 - $margins['bottom'], \n             $w - $margins['right'], \n             $h - $text_height2 - $margins['bottom'], \n             $color, 0.5);\n  $pdf-&gt;close_object();\n  $pdf-&gt;add_object($foot, \"all\");\n  $text = \"Page {PAGE_NUM} of {PAGE_COUNT}\";</p>\n<p>// Center the text\n  $nameWidth = Font_Metrics::get_text_width(\"S P A C I N G\", $font, $size);\n  $width = Font_Metrics::get_text_width(\"Page 1 of 50\", $font, $size2);</p>\n<p>$pdf-&gt;page_text($w - $nameWidth - $margins['right'], $margins['top'] - $text_height - 2, \"S P A C I N G\", $font, $size, $color);\n  $pdf-&gt;page_text($w - $width - $margins['right'], $h+2 - $text_height2 - $margins['bottom'], $text, $font, $size2, $color);\n}\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse rhoncus justo vel eros hendrerit, a mollis felis sollicitudin. Maecenas commodo posuere dignissim. Curabitur ut ipsum a purus consequat cursus. Cras odio lectus, suscipit a libero et, lacinia congue metus. Aliquam ut urna turpis. Nulla vestibulum quam eget lobortis tristique. Sed malesuada egestas tincidunt. Aliquam iaculis sapien vel orci fringilla, eu finibus elit hendrerit. Aliquam nec lectus turpis. Vestibulum lobortis id magna feugiat rhoncus. Curabitur faucibus venenatis dui sed interdum. Quisque sollicitudin massa consequat nisl tempus condimentum. Suspendisse facilisis vulputate maximus. Pellentesque tempus orci at venenatis viverra. Sed in volutpat ipsum.\n\nUt eu placerat tellus, ut malesuada enim. Cras eget felis non enim pharetra iaculis. Integer at fermentum nibh, non ultricies purus. Ut blandit neque eu felis placerat, nec vehicula justo dapibus. Maecenas vel massa aliquet, pharetra nunc ut, maximus lorem. In turpis ex, aliquet eu tempus nec, maximus ac eros. Nullam a ornare est. Duis elementum arcu nibh, venenatis malesuada lectus tristique a. Vestibulum sem tortor, ornare in porttitor vitae, dictum ac justo. Nullam consequat arcu velit, ut aliquam tortor commodo sed. Duis condimentum feugiat ligula varius euismod. Ut porta enim nec erat fringilla, sed commodo est fermentum. Nulla rhoncus consectetur neque, ac interdum metus dapibus sed.\n\nInteger ut risus suscipit, cursus tellus et, posuere nunc. Nullam elementum feugiat purus, sit amet eleifend elit accumsan quis. Praesent faucibus dui lectus, sed fermentum ex auctor ut. Nam at odio eget mauris semper consectetur. Nulla facilisi. Donec vulputate ipsum ac commodo dictum. Pellentesque sodales id leo semper condimentum. Sed quis efficitur ex, mollis ultrices ante. Cras diam lacus, luctus eu augue sed, efficitur ornare ligula. Etiam consequat ligula ex, ac rutrum ipsum venenatis vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer lobortis ex augue, eu convallis magna dignissim vitae. Etiam in semper enim, in dapibus ipsum. Nulla at tempor quam. Praesent sodales tellus eu nunc dictum suscipit. Curabitur dignissim enim at nisl ullamcorper faucibus.\n\nFusce ligula sem, volutpat vel bibendum non, placerat ut erat. Donec facilisis augue id efficitur pharetra. Sed sapien ligula, venenatis ut nibh mollis, viverra interdum orci. Nam non mollis sem. Nunc neque lorem, sollicitudin sagittis mauris eu, elementum auctor ligula. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas eget dolor nibh. Pellentesque non consectetur nisi. Vestibulum molestie efficitur odio et euismod. Aenean accumsan egestas eleifend. Mauris non vestibulum sapien. Donec tempor molestie elit, ac tristique odio feugiat in. Sed quis tellus quis massa faucibus ornare ac non velit. Mauris pellentesque sem sit amet libero efficitur sollicitudin. Aliquam eu rhoncus dolor, id pharetra leo.\n\nPhasellus maximus vulputate mollis. Vestibulum varius velit a pharetra tristique. Nunc et nunc et velit malesuada iaculis ut fringilla elit. Nulla convallis ex leo, id fermentum ligula tempor sed. Vivamus egestas tincidunt arcu nec volutpat. Aliquam erat volutpat. Fusce et tincidunt justo. Aliquam eget congue metus. Nulla consequat nec dolor sed vestibulum. Etiam lectus nulla, dignissim ut sapien a, ornare bibendum lectus. Sed placerat finibus augue et elementum. Aliquam tincidunt lacus posuere, blandit tellus sed, euismod neque. Suspendisse et elementum augue. Suspendisse ornare facilisis commodo. Phasellus mattis orci sit amet laoreet aliquam. Donec fringilla sapien vel urna aliquet consequat. \n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse rhoncus justo vel eros hendrerit, a mollis felis sollicitudin. Maecenas commodo posuere dignissim. Curabitur ut ipsum a purus consequat cursus. Cras odio lectus, suscipit a libero et, lacinia congue metus. Aliquam ut urna turpis. Nulla vestibulum quam eget lobortis tristique. Sed malesuada egestas tincidunt. Aliquam iaculis sapien vel orci fringilla, eu finibus elit hendrerit. Aliquam nec lectus turpis. Vestibulum lobortis id magna feugiat rhoncus. Curabitur faucibus venenatis dui sed interdum. Quisque sollicitudin massa consequat nisl tempus condimentum. Suspendisse facilisis vulputate maximus. Pellentesque tempus orci at venenatis viverra. Sed in volutpat ipsum.\n\nUt eu placerat tellus, ut malesuada enim. Cras eget felis non enim pharetra iaculis. Integer at fermentum nibh, non ultricies purus. Ut blandit neque eu felis placerat, nec vehicula justo dapibus. Maecenas vel massa aliquet, pharetra nunc ut, maximus lorem. In turpis ex, aliquet eu tempus nec, maximus ac eros. Nullam a ornare est. Duis elementum arcu nibh, venenatis malesuada lectus tristique a. Vestibulum sem tortor, ornare in porttitor vitae, dictum ac justo. Nullam consequat arcu velit, ut aliquam tortor commodo sed. Duis condimentum feugiat ligula varius euismod. Ut porta enim nec erat fringilla, sed commodo est fermentum. Nulla rhoncus consectetur neque, ac interdum metus dapibus sed.\n\nInteger ut risus suscipit, cursus tellus et, posuere nunc. Nullam elementum feugiat purus, sit amet eleifend elit accumsan quis. Praesent faucibus dui lectus, sed fermentum ex auctor ut. Nam at odio eget mauris semper consectetur. Nulla facilisi. Donec vulputate ipsum ac commodo dictum. Pellentesque sodales id leo semper condimentum. Sed quis efficitur ex, mollis ultrices ante. Cras diam lacus, luctus eu augue sed, efficitur ornare ligula. Etiam consequat ligula ex, ac rutrum ipsum venenatis vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer lobortis ex augue, eu convallis magna dignissim vitae. Etiam in semper enim, in dapibus ipsum. Nulla at tempor quam. Praesent sodales tellus eu nunc dictum suscipit. Curabitur dignissim enim at nisl ullamcorper faucibus.\n\nFusce ligula sem, volutpat vel bibendum non, placerat ut erat. Donec facilisis augue id efficitur pharetra. Sed sapien ligula, venenatis ut nibh mollis, viverra interdum orci. Nam non mollis sem. Nunc neque lorem, sollicitudin sagittis mauris eu, elementum auctor ligula. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas eget dolor nibh. Pellentesque non consectetur nisi. Vestibulum molestie efficitur odio et euismod. Aenean accumsan egestas eleifend. Mauris non vestibulum sapien. Donec tempor molestie elit, ac tristique odio feugiat in. Sed quis tellus quis massa faucibus ornare ac non velit. Mauris pellentesque sem sit amet libero efficitur sollicitudin. Aliquam eu rhoncus dolor, id pharetra leo.\n\nPhasellus maximus vulputate mollis. Vestibulum varius velit a pharetra tristique. Nunc et nunc et velit malesuada iaculis ut fringilla elit. Nulla convallis ex leo, id fermentum ligula tempor sed. Vivamus egestas tincidunt arcu nec volutpat. Aliquam erat volutpat. Fusce et tincidunt justo. Aliquam eget congue metus. Nulla consequat nec dolor sed vestibulum. Etiam lectus nulla, dignissim ut sapien a, ornare bibendum lectus. Sed placerat finibus augue et elementum. Aliquam tincidunt lacus posuere, blandit tellus sed, euismod neque. Suspendisse et elementum augue. Suspendisse ornare facilisis commodo. Phasellus mattis orci sit amet laoreet aliquam. Donec fringilla sapien vel urna aliquet consequat.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse rhoncus justo vel eros hendrerit, a mollis felis sollicitudin. Maecenas commodo posuere dignissim. Curabitur ut ipsum a purus consequat cursus. Cras odio lectus, suscipit a libero et, lacinia congue metus. Aliquam ut urna turpis. Nulla vestibulum quam eget lobortis tristique. Sed malesuada egestas tincidunt. Aliquam iaculis sapien vel orci fringilla, eu finibus elit hendrerit. Aliquam nec lectus turpis. Vestibulum lobortis id magna feugiat rhoncus. Curabitur faucibus venenatis dui sed interdum. Quisque sollicitudin massa consequat nisl tempus condimentum. Suspendisse facilisis vulputate maximus. Pellentesque tempus orci at venenatis viverra. Sed in volutpat ipsum.\n\nUt eu placerat tellus, ut malesuada enim. Cras eget felis non enim pharetra iaculis. Integer at fermentum nibh, non ultricies purus. Ut blandit neque eu felis placerat, nec vehicula justo dapibus. Maecenas vel massa aliquet, pharetra nunc ut, maximus lorem. In turpis ex, aliquet eu tempus nec, maximus ac eros. Nullam a ornare est. Duis elementum arcu nibh, venenatis malesuada lectus tristique a. Vestibulum sem tortor, ornare in porttitor vitae, dictum ac justo. Nullam consequat arcu velit, ut aliquam tortor commodo sed. Duis condimentum feugiat ligula varius euismod. Ut porta enim nec erat fringilla, sed commodo est fermentum. Nulla rhoncus consectetur neque, ac interdum metus dapibus sed.\n\nInteger ut risus suscipit, cursus tellus et, posuere nunc. Nullam elementum feugiat purus, sit amet eleifend elit accumsan quis. Praesent faucibus dui lectus, sed fermentum ex auctor ut. Nam at odio eget mauris semper consectetur. Nulla facilisi. Donec vulputate ipsum ac commodo dictum. Pellentesque sodales id leo semper condimentum. Sed quis efficitur ex, mollis ultrices ante. Cras diam lacus, luctus eu augue sed, efficitur ornare ligula. Etiam consequat ligula ex, ac rutrum ipsum venenatis vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer lobortis ex augue, eu convallis magna dignissim vitae. Etiam in semper enim, in dapibus ipsum. Nulla at tempor quam. Praesent sodales tellus eu nunc dictum suscipit. Curabitur dignissim enim at nisl ullamcorper faucibus.\n\nFusce ligula sem, volutpat vel bibendum non, placerat ut erat. Donec facilisis augue id efficitur pharetra. Sed sapien ligula, venenatis ut nibh mollis, viverra interdum orci. Nam non mollis sem. Nunc neque lorem, sollicitudin sagittis mauris eu, elementum auctor ligula. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas eget dolor nibh. Pellentesque non consectetur nisi. Vestibulum molestie efficitur odio et euismod. Aenean accumsan egestas eleifend. Mauris non vestibulum sapien. Donec tempor molestie elit, ac tristique odio feugiat in. Sed quis tellus quis massa faucibus ornare ac non velit. Mauris pellentesque sem sit amet libero efficitur sollicitudin. Aliquam eu rhoncus dolor, id pharetra leo.\n\nPhasellus maximus vulputate mollis. Vestibulum varius velit a pharetra tristique. Nunc et nunc et velit malesuada iaculis ut fringilla elit. Nulla convallis ex leo, id fermentum ligula tempor sed. Vivamus egestas tincidunt arcu nec volutpat. Aliquam erat volutpat. Fusce et tincidunt justo. Aliquam eget congue metus. Nulla consequat nec dolor sed vestibulum. Etiam lectus nulla, dignissim ut sapien a, ornare bibendum lectus. Sed placerat finibus augue et elementum. Aliquam tincidunt lacus posuere, blandit tellus sed, euismod neque. Suspendisse et elementum augue. Suspendisse ornare facilisis commodo. Phasellus mattis orci sit amet laoreet aliquam. Donec fringilla sapien vel urna aliquet consequat. \n\n\n```\n. This is one of my use cases, and it seems to work pretty well for me if I do something like what bsweeney said.  Although I have gone one step further by clearing the image_cache\nunset($dompdf);\nImage_Cache::clear();\nWithout clearing the cache, I had run into issues where the images did not load for the pdfs other than the first.\n. Maybe try this one.  I wasn't using some of the defaults, so the bold text might not have been at the page break.\n```\n\n\n</p>\n<p>@page {\n    margin-top: 0.5cm;\n    margin-right: 0.5cm;\n    margin-bottom: 0.5cm;\n    margin-left: 0.5cm;\n}</p>\n<p>body {\n    font-size: 15pt;\n}</p>\n<p>\n\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sollicitudin dapibus neque, et rhoncus ex faucibus eget. Nam ultricies vulputate lectus, ut placerat neque mattis sed. Nunc at congue tortor. Cras convallis aliquam dui, sit amet ornare urna iaculis eget. Nullam facilisis ipsum in sodales porttitor. In arcu lectus, consectetur ultrices scelerisque et, aliquam nec arcu. Suspendisse suscipit tincidunt tristique. Aliquam vel lacus tincidunt lectus sagittis feugiat. Sed elementum quam at lectus volutpat, quis convallis sapien imperdiet.\n\nMaecenas scelerisque lectus augue, a bibendum elit sagittis eget. Sed at sapien ultricies, dignissim dui vel, gravida risus. Vivamus tempor mi vitae nunc luctus, sed consectetur ligula lacinia. Ut convallis suscipit elementum. Sed consectetur sagittis ipsum, ac laoreet mi dapibus in. In suscipit malesuada ligula, a convallis turpis euismod ac. Maecenas ultricies est nec lacus luctus, sit amet mattis sapien commodo. Etiam ante sapien, volutpat ullamcorper venenatis vitae, ornare id leo. Proin magna ipsum, pulvinar ut felis sit amet, efficitur rhoncus massa. Pellentesque finibus lobortis sollicitudin.\n\nNunc pulvinar est eget quam faucibus bibendum. Ut a imperdiet est. Morbi commodo libero sed nisi laoreet lacinia. Sed consequat, dui nec fringilla sagittis, neque sem semper mi, at pulvinar lectus nisi quis purus. Pellentesque convallis interdum lectus nec pretium. Vestibulum a venenatis quam, non tempus nisl. Nunc accumsan maximus elementum. Pellentesque ut efficitur erat. Donec pellentesque pulvinar justo, semper dignissim neque vestibulum at. Interdum et malesuada fames ac ante ipsum primis in faucibus. Duis accumsan odio id neque condimentum, id tincidunt orci euismod.\n\nMorbi vitae leo nunc. Fusce vitae turpis rutrum, accumsan enim eget, eleifend mi. Fusce magna lacus, sollicitudin quis sem vitae, aliquet volutpat turpis. Donec ac dignissim ex. Donec faucibus ipsum sit amet est congue pellentesque. Phasellus ultricies ut tellus quis euismod. Quisque metus felis, pellentesque id eleifend vel, egestas at lorem. Etiam varius hendrerit urna, consequat egestas nulla bibendum convallis. Pellentesque a finibus lorem. Phasellus non velit eu dui pretium maximus. Vestibulum accumsan nibh sit amet urna interdum, quis malesuada eros egestas.\n\nSed a arcu eget ipsum aliquam imperdiet. Nullam eget ante commodo, pulvinar metus a, pharetra diam. Integer eleifend lectus magna, ac ullamcorper odio tincidunt dictum. Aliquam quis tempus arcu, ut interdum neque. Ut rhoncus faucibus tortor, ut tincidunt justo. Pellentesque congue ante quis varius sagittis. Sed placerat semper ligula sed porta. Phasellus tincidunt, ante sit amet mollis rutrum, dui ipsum venenatis est, sed cursus diam leo id ligula. Curabitur vulputate nisl et consectetur fermentum. Donec elementum metus dolor, sit amet sodales neque rhoncus at. Ut commodo, mi in hendrerit sodales, eros eros tempus purus, a pellentesque tortor nulla eget orci. Mauris vel enim justo. Proin sit amet lectus porta nunc tempor dictum id eget felis. Sed condimentum mi efficitur, mattis eros et, finibus mauris.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sollicitudin dapibus neque, et rhoncus ex faucibus eget. Nam ultricies vulputate lectus, ut placerat neque mattis sed. Nunc at congue tortor. Cras convallis aliquam dui, sit amet ornare urna iaculis eget. Nullam facilisis ipsum in sodales porttitor. In arcu lectus, consectetur ultrices scelerisque et, aliquam nec arcu. Suspendisse suscipit tincidunt tristique. Aliquam vel lacus tincidunt lectus sagittis feugiat. Sed elementum quam at lectus volutpat, quis convallis sapien imperdiet.\n\n\n```\nLooks like:\n\nNotice how the bold text goes to the next line on the same page, while it should have gone to the next page.  The text after the bold correctly goes to the next page.\nWhat it should look like is:\n\nThis is a problem for my case because I have a line drawn at the bottom of each page with a \"Page x of y\" and if there is any bold text as the last line on the page which wraps, then it overlaps the line.\n. Do you know where the problem might be occuring?  I can probably fiddle around with the source code if I know where the problem would most likely be happening.\n. ",
    "forfin": "sorry, i pull request by mistake. just start leaning git.\n. ",
    "scotteh": "All cases appear to be arrays, but added in the additional type check just to be sure.\n. A couple more fixes for the GD adapter that builds on the initial pull request.\n- Scale font sizes down, they were noticeably larger. GD's internal DPI is 96, font sizes in dompdf are 72.\n- Fix scaling issues by switching the DPI while rendering - restoring it when we're done. This enables internal functions - primarily length_in_pt() to return expected values.\n. Using the following example - once the comment is removed 'Second Text' and 'First Text' are automatically merged into a single text node.\nCurrently 'Second Text' would be omitted from dompdf's output as 'First Text' has already been added to the frame tree and the merged node is a new object.\nhtml\n<div>\nFirst Text\n<!-- Comment -->\nSecond Text\n</div>\nThis patch uses two passes instead of the current single. First to remove nodes and the second to add them to the frame tree.\n. Not much... or at least I thought!\nDid some quick crude profiling based on your suggestions.\nAs a general rule object access does appear to be slower at somewhere around 1.7 times - at least in a for ($i = 0; $i < $object->length; $i++) { .. } vs for ($i = 0; $i < $length; $i++) { .. } scenario, though we are talking milliseconds.\nHowever... in the case of for ($i = 0; $i < $node->childNodes->length; $i++) { .. } it's significantly more. Its surprisingly somewhere in the vicinity of 1000 times slower than $length = $node->childNodes->length; for ($i = 0; $i < $length; $i++) { .. }. Probably to do with libxml more than anything else.\nAfter profiling the length I half expected saving $child->nodeName into a variable to be significantly faster, but it appears to be pretty much the same.\nBased on the nodeName test i wouldn't expect $node vs $child->parentNode to be huge, but $node is already stored so it's definitely worth changing.\nProfiling script for $obj->childNodes->length:\n``` php\n<?php\n$passes = 5;\n$results = array();\n$html = '' . str_repeat('', 10000) . '';\n$dom = new \\DOMDocument();\n$dom->loadHTML($html);\n$body = $dom->documentElement->childNodes->item(1);\nfor ($j = 0; $j < $passes; $j++) {\n    $time = microtime(true); \n// Direct property access\n\n/\n    for ($i = 0; $i < $body->childNodes->length; $i++) {\n        // Do nothing\n    }\n/\n// Read from variable\n$length = $body->childNodes->length;\n\nfor ($i = 0; $i < $length; $i++) {\n    // Do nothing\n}\n\n$exectime = microtime(true) - $time;\n\necho sprintf(\"%f\", $exectime) . \"<br>\\n\";\n$results[] = $exectime;\n\n}\necho 'total: ' . sprintf(\"%f\", array_sum($results)) . \"\\n\";\necho 'avg: ' . sprintf(\"%f\", array_sum($results) / $passes) . \"\\n\";\n```\n. Submitted a fix for a similar issue previously. In that case percentages wouldn't calculate on set correctly since all the box values weren't either set or correct. Moving it to the getter fixed it in that case.\n. Text between closing / opening tags should hopefully fix #1129.\n. Namespaces are supported in PHP >= 5.3. See the version requirements on the following page: http://php.net/manual/en/language.namespaces.rationale.php\n. ",
    "SplicePHP": "Hi,\nI have tried it with truetype and get the same result.\nI did notice however that the font gets downloaded, cached and embedded if I use the url.\nThis works perfectly for me and is better than the base64 method I tried to use.\nYou can consider the matter closed for my needs.\nI just have 2 small questions:\n1: Is there any form of documentation for the development version of dompdf yet and if so where can I find it?\n2: How do I clear the font cache in php? \n. Thanks a lot for the fast reply.\nYour help is greatly appreciated. \n. ",
    "satyajitgaikwad": "Can you please try following content in your debug hepler? May be the issue is with connected letters. They are not being rendered properly.\nPlease try - \u0928\u093f\u0930\u094d\u0923\u092f \u0915\u094d\u0937\u092e\u0924\u093e\n. ",
    "LakshmanKatragadda": "+1\n. i am using latest version from composer \nhttps://gist.github.com/laxman1223/ca3fb31d542ded325f79\n. no . \n. i am using latest version of dompdf  and  i am enabled $isRemoteEnabled = true;  then its working .\n. [Fri Nov 04 16:41:07.373350 2016] [:error] [pid 5288:tid 1680] [client ::1:51386] PHP Notice:  Array to string conversion in C:\\xampp\\htdocs\\cm\\vendor\\dompdf\\dompdf\\src\\Css\\Style.php on line 2569, \n. Check update code now...\n. ",
    "jex310": "+1\n. ",
    "pawelbujna": "+1\n. ",
    "koz1ma": "+1. ",
    "victor-ponamariov": "+1. ",
    "dareenzo": "+1. ",
    "IvanBila": "+1. ",
    "apurav2007": "+1. ",
    "double-web": "+1. ",
    "tmbdrogba": "+1. The PR works great! Bug fixed ^^. ",
    "EddyTheDove": "+1. ",
    "jesusjvc": "+1. ",
    "sgehrman": "+1. float: right; doesn't work.  Text is offscreen to the right.  I tried a bunch of combinations of things and could never get it working.. I had to add mb_internal_encoding('UTF-8');\nTo get it to  stop crashing.  Is this still the recommendation?. I have a simple div with a border-radius: 3px and it shows like this: \n\n. ",
    "mestefanell": "+1. ",
    "tfortier": "+1. ",
    "neorganic": "+1. ",
    "louisjuliendo": "+1. ",
    "FdelS": "+1. ",
    "andjelko": "+1. ",
    "Kukagres": "+1. ",
    "maximang": "+1. ",
    "mvkaran": "I came across this issue in include/font_metrics.cls.php line 343:\nphp\nfile_put_contents($local_file, file_get_contents($remote_file));\nIf the path $local_file contains a space, the path will differ from the intended path which might throw an error.\n. ",
    "bbreukelen": "Oh, apologies. I only just noticed that this is a branch in another fork.\nIt's here: https://github.com/craigfrancis/dompdf/tree/page-merge\nOn the first page I used a few images that are not transparent. One of which looks like this:\n\nThen at the last page of the PDF, I use an 20x20 png red image which is 50% transparent.\nInstead of being redish it shows like this:\n\n. Hi Craig,\nThanks for your quick response.\nI cannot reproduce the issue on the master fork.\nI actually already pulled in the latest dompdf master but that didn't help.\nIt looks like maybe a variable is not unset after each page or something.\nThanks\nBo\nOn 25 Jun 2015 18:29, \"Craig Francis\" notifications@github.com wrote:\n\nHi Bo, are you able to replicate it working when just using the dompdf\nlibrary? i.e. without using my fork?\nThe only things my code does is try to combine the PDF's together:\nmaster...craigfrancis:page-merge\nhttps://github.com/dompdf/dompdf/compare/master...craigfrancis:page-merge\nIf you look at the \"_combine_image_add\" method, it really doesn't do\nanything to the contents of the images... so I suspect the problem is\nelsewhere.\nThat said, my fork was using quite an old version of DOMPDF... so I've\njust done a pull from master, so that might fix it?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/975#issuecomment-115310697.\n. I did some debugging and found out that as soon as I use the dompdf_pages class transparent PNGs will not show up correctly, even if the PDF only has a single page.\nThe XObjects between the normal dompdf object and the page combined dompdf object are exactly the same so it looks to me like something might have been changed in other parts of the PDF to handle transparency.\n\nDoes anyone have an idea what to look for? Thanks\n. Workaround for whomever runs into this issue.\nI don't know how to solve it, but if you don't care about transparent PNGs and don't want the issue of the previous image showing as a mask through the next one, do the following:\nIn lib/class.pdf.php on below line 4628 (immediately underneath function addImagePng($file, $x, $y, $w = 0.0, $h = 0.0, &$img, $is_mask = false, $mask = null) {...}\nAdd this line:\n$is_mask = false; $mask = null;\n. ",
    "norxu": "Thanks for quick-reply. I was checking with woff2 font. I'll give it a try with truetype. \n. ",
    "chrislandeza": "Any updates on this issue?\n. ",
    "joecutter": "any progress. ",
    "sams46": "dompdf_0-6-0_beta3 is dompdf and 39.0 is the Firefox version. I have attached shots of HTML sample and PDF section:\n\n\n. It was working fine before firefox update. My font-family is Myriad Pro and I have generated through load_font.php but it still showing same garbage characters.\n. ",
    "quebec87": "thanks for reply.\nhere is the screen shot \n\nand this is the site_home controller\nclass Site_home extends CI_Controller {\n    public function index()\n    {\n        $this->load->view('welcome_message');\n    }\n    public function testD(){\n        $this->load->helper(array('dompdf','file'));\n        $html = $this->load->view('welcome_message');\n        pdf_create($html, 'mypdf');\n    }\n}\n. ",
    "pprotschka": "...same issue. any solution?. ",
    "SharkWipf": "I just tested this code, it seems to solve the mystery Imagick broken image issues (including but not limited to #432 and #920, possibly most transparency-related issues).\nProbably worth looking into merging this.\nEDIT: I'm assuming the same problem exists in the GraphicsMagick code, do note that this pull request does not tackle that. I'm assuming the same fix can be applied there though.. ",
    "reyko99": "Without this modification dompdf throws an exception error. The exception is throwed because try to load a file that not exist (.ttf) I 'm tested this using Laravel 5.01 framework. \n. ",
    "dlxko": "This doesn't help :( I trace the problem and it looks like \nframe_factory.cls.php:201\n$deco = new $decorator($frame, $dompdf);\nDecorator can't be created, but execution of script is really\nfast the blank screen appeared in a second instead of case \nwhen it rendering the right PDF file \n. The problem was with memory overload can be closed for me, thanks\n. ",
    "baconbrad": "I don't have issues with this. If I had to guess your PHP allowed memory exceeded. You need to increase this in your php.ini.\n. ",
    "pengzj": "It costs too much memory, I just try 1000 lines, about 10KB size, the memory exhausted, and gateway bad.. ",
    "lightstream": "I had a chance to play around with it some more, and the problem appears to be that if there's a comment before a <tbody>, <thead>, <tfoot> or <tr>, then that element will not appear in the output. \neg remove just the comment <!-- display the data --> which appears before <tbody> and the table content appears correctly.\nor add a comment before the <thead> or any <tr>, and that element will no longer appear in the PDF.\nNot sure if this is helpful for you!\nIf I can get the time, I will try to investigate further.\n. It does look like that could help - when I traced through the code yesterday, everything seemed to be intact up til the FrameTree gets created, which is where I lost track of it!\nI tried removing the content preceding the comment in my example (the content just being whitespace in this case) to see if it would help, but no luck.\nThe problem seems to be that the element following a comment disappears - so that two comments one after the other cancel each other out, three comments in a row have the same effect as a single one etc\nI'll wait til you merge that pull request and if the problem persists, I'll see if I can dig into it a bit more deeply.\n. I can confirm that this issue has been resolved.\nThanks Brian.\n. ",
    "mlutfy": "Thanks for the quick response. If I understand the correctly, dompdf does not enable html5lib by default (\"isHtml5ParserEnabled\" option), so seems OK to ignore this issue for now.\n. ",
    "manish-dev-28": "@mfeske do you got the solution?. sample.pdf\nsample pdf. ",
    "MikeLund": "Are you having trouble reproducing this @bsweeney, or it just not a high prio? This has impacted me for the longest time, even with older versions of dompdf.\nGD Support => enabled\nGD headers Version => 2.2.3\nGD library Version => 2.2.3\nFreeType Support => enabled\nFreeType Linkage => with freetype\nFreeType Version => 2.6.1\nGIF Read Support => enabled\nGIF Create Support => enabled\nJPEG Support => enabled\nlibJPEG Version => 8\nPNG Support => enabled\nlibPNG Version => 1.2.54\nWBMP Support => enabled\nXPM Support => enabled\nlibXpm Version => 30411\nXBM Support => enabled\nWebP Support => enabled\nHere's input image:\n\nWhen modified by dompdf, it becomes like this:\ndownload.pdf\nLooks sharp until you zoom in a bit, and then it becomes very obviously wrong:\n\n. ",
    "TeamRenegade": "Has this issue been resolved?\n. ",
    "PHPGangsta": "@IceReaper fixed all of these PHP7-related issues in #1030. Thanks Andre!\n. Thanks for your work Andre!\nThe two changes regarding uniform variable syntax I had solved the same way with the curly braces, and the rest looks good I would say.\n. I have a similar problem. I have this simple HTML:\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n    <title>Not needed</title>\n</head>\n<body style=\"margin: 50px;\">\n    <div style=\"margin-bottom: 40px; font-size: 0.7em;\">\n        <div style=\"width: 300px; display: inline-block;\">Hello here, first text...................................................</div>\n        <div style=\"width: 300px; display: inline-block; float: right;\">Hello there, second text........................................................</div>\n    </div>\n</body>\n</html>\nWith 0.6 it looks fine. With 0.8, both strings are not on the same line, the right string is 3px or 5px lower than the left string.\n\nMaybe this is the same problem.... I'm not part of the Dompdf team, just another user.\n\nthen that's a shame\n\nIt's a shame to still use PHP 5.3 :-)\nThe end-of-live of PHP 5.3 was 14 Aug 2014: http://php.net/eol.php\nYou definitely should upgrade from time to time to a supported version, PHP 7.1 or 7.2 nowadays: http://php.net/supported-versions.php\n(or at least 5.6 or 7.0, which are in \"security fixes only\"-state)\nDon't expect libraries to not break backwards compatibility for so many years. Some libraries raise the minimum version just because people should use supported PHP versions, and push people forward. Dompdf is really conservative to still maintain support for 5.4.\n7.2 is round about 3x-5x times faster than 5.3. Dompdf heavily benefits from that because it's CPU-bound.\nOf cause you can still stay at PHP 5.3, but then you cannot benefit from new Dompdf features.\nHopefully that ancient PHP version is not reachable from the Internet.\nPlease don't blame others to move forward.. Nice tests!\nI just saw that memory_get_usage() internally triggers a garbage collection, so your values should be correct. But if you don't use memory_get_usage() in a script, just unsetting a variable does not free memory directly. You habe to call gc_collect_cycles() to force a garbage collection:\nhttp://php.net/manual/en/function.gc-collect-cycles.php\nMake sure you have zend.enable_gc enabled in your php.ini, or call gc_enable() to activate the circular reference collector.\nFor DomPDF to speed up: It might make sense to disable the automatic garbage collector in some places, where nothing can be collected anyway, and the automatic garbage collector just wastes time. A nice read:\nhttps://tideways.com/profiler/blog/how-to-optimize-the-php-garbage-collector-usage-to-improve-memory-and-performance\nhttps://blog.blackfire.io/performance-impact-of-the-php-garbage-collector.html\nIn a heavy function with lots of objects, it might make sense to disable gc, and re-enable it at the end (and do one manual gc run at the end). Maybe that speeds up things a lot, like in the composer installer.\nPHP 7.3 will have some nice improvements in garbage collection:\nhttps://react-etc.net/entry/improvements-to-garbage-collection-gc-php-7-3-boosts-performance-in-benchmark\nThere is a difference between memory_get_usage() and memory_get_usage(true), maybe the second one gives more insights.\nAnd of cause: please use a recent version of PHP that is still supported, and has a better garbage collector. It has improved over the years. PHP 5.4 is 6 years old. Please use PHP 7.1 or 7.2, which are the \"fully supported\" versions today:\nhttp://php.net/supported-versions.php\nDomPDF definitly needs some performance improvements, see the issues labeled \"performance\":\nhttps://github.com/dompdf/dompdf/issues?q=is%3Aissue+label%3APerformance\nI totally support you working on performance improvements!. Hi,\nI just ran the tests on PHP 7.2.10 on an Ubuntu Server using Intel(R) Core(TM) i7-7700 CPU @ 3.60GHz\nMemory usage is roughly the same as PHP 5.4 on Windows, but speed is 3-10 times faster(!):\n$ php test_performance.php whitespace 10000\nProfiling PDF generation using 'whitespace' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,597,920     2,953,248     -\nLoad          2,622,744     2,953,248     0.0025770664215088\nRender        3,876,472     4,538,648     0.015590906143188\nOutput        3,877,512     4,538,648     4.7922134399414E-5\nEnd           3,877,968\n$ php test_performance.php empty_span 10000\nProfiling PDF generation using 'empty_span' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,618,400     2,973,728     -\nLoad          2,643,224     2,973,728     0.011754989624023\nRender        32,261,208    74,266,160    0.99475407600403\nOutput        32,262,480    74,266,160    9.7990036010742E-5\nEnd           32,262,936\n$ php test_performance.php empty_div 10000\nProfiling PDF generation using 'empty_div' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,597,920     2,953,248     -\nLoad          2,622,744     2,953,248     0.0078949928283691\nRender        51,882,128    124,739,360   2.3427541255951\nOutput        51,883,400    124,739,360   8.5830688476562E-5\nEnd           51,883,856\n$ php test_performance.php break_tag 10000\nProfiling PDF generation using 'break_tag' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,528,280     2,883,608     -\nLoad          2,553,104     2,883,608     0.0080909729003906\nRender        36,158,096    49,725,776    6.9758410453796\nOutput        36,168,776    49,725,776    0.00062298774719238\nEnd           36,169,232\nI'm not sure why sometimes my memory usage is higher than yours, PHP7 should bring some memory savings (10-20%). Maybe it's because I'm using 64bit, and you 32bit PHP/Operating-System?\n$ php -v\nPHP 7.2.10-0ubuntu0.18.04.1 (cli) (built: Sep 13 2018 13:45:02) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\n    with Zend OPcache v7.2.10-0ubuntu0.18.04.1, Copyright (c) 1999-2018, by Zend Technologies\n@MatthiasKuehneEllerhold That looks interesting! I trusted some comments on php.net, thought that memory_get_usage() triggers gc_collect_cycles() internally. But you proved that to be wrong, I should not trust others and check myself :-(\nhttp://php.net/manual/de/function.memory-get-usage.php#101104\nhttp://php.net/manual/de/function.memory-get-usage.php#94645\nI just did a very quick test: Disable GC at the start of the render() method, and enabling it at the end:\n```\n$ git diff\ndiff --git a/src/Dompdf.php b/src/Dompdf.php\nindex d031938..df37e8d 100644\n--- a/src/Dompdf.php\n+++ b/src/Dompdf.php\n@@ -701,6 +701,8 @@ class Dompdf\n      */\n     public function render()\n     {\n+        gc_disable();\n+\n         $this->saveLocale();\n         $options = $this->options;\n@@ -864,6 +866,9 @@ class Dompdf\n         }\n     $this->restoreLocale();\n\n+\n+        gc_enable();\n+        gc_collect_cycles();\n     }\n /**\n\n```\nbefore:\n$ php test_performance.php break_tag 10000\nProfiling PDF generation using 'break_tag' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,528,280     2,883,608     -\nLoad          2,553,104     2,883,608     0.0082650184631348\nRender        36,158,096    49,725,776    6.9973478317261\nOutput        36,168,776    49,725,776    0.00060415267944336\nEnd           36,169,232\nafter:\n$ php test_performance.php break_tag 10000\nProfiling PDF generation using 'break_tag' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,528,584     2,883,912     -\nLoad          2,553,408     2,883,912     0.0081119537353516\nRender        36,158,432    49,719,360    2.7755401134491\nOutput        36,169,112    49,719,360    0.00069785118103027\nEnd           36,169,568\nThe memory consumption did not increase, but the speed is 2.5 times better (2.7 seconds instead of 7 seconds)!\nThat's a very easy patch with a dramatic improvement.\n@bsweeney Maybe you can tell where it makes sense to do this (disable gc and re-enable later) in the code, it should be tested everywhere where hard work is done on lots of objects (loadHtml() maybe?).. @MatthiasKuehneEllerhold No, I did not add it somewhere else, just did a very quick test of disabling and re-enabling GC inside render(). I trust you when you say that you have to call it manually before memory_get_usage() \ud83d\ude04 \nI wrote about the Composer Installer 5 comments above, that they did exactly the same: disable_gc before some hard work on lots of objects, and re-enabling it afterwards. See my comment above, and the 2 links inside to tideways and blackfire:\nhttps://github.com/dompdf/dompdf/issues/1813#issuecomment-428888263\nI just did the same in the render() method, I did not invent that idea, just applied it \ud83d\ude04. @MarkMaldaba  Good catch!\nI just thought about something else: What happens if gc is already disabled by the user, outside of dompdf? Then we would enable it at the end of render(), which might not be what the user expects...\nI guess we have to check the status of the gc in the beginning, only disable it if it is not already disabled, and only re-enable it at the end if it was enabled at the beginning of the funktion. Like this:\n```\n$ git diff\ndiff --git a/src/Dompdf.php b/src/Dompdf.php\nindex d031938..b817cc6 100644\n--- a/src/Dompdf.php\n+++ b/src/Dompdf.php\n@@ -701,6 +701,12 @@ class Dompdf\n      */\n     public function render()\n     {\n+        $gcEnabledAtStart = gc_enabled();\n+        if ($gcEnabledAtStart) {\n+            gc_collect_cycles();\n+            gc_disable();\n+        }\n+\n         $this->saveLocale();\n         $options = $this->options;\n@@ -864,6 +870,11 @@ class Dompdf\n         }\n     $this->restoreLocale();\n\n+\n+        if ($gcEnabledAtStart) {\n+            gc_enable();\n+            gc_collect_cycles();\n+        }\n     }\n /**\n\n```\nI think we agree that we should implement it. Question is: Where in the code, in which functions? Just in render()? And maybe later in other functions?. I just ran the performance test \"break_tag\" with PHP 7.3.0 RC4 without disabling the GC:\nProfiling PDF generation using 'break_tag' over 10000 iterations.\nSTEP          MEMORY USE    PEAK MEMORY   EXECUTION TIME\nStart         2,554,656     2,890,168     -\nLoad          2,582,544     2,890,168     0.0080699920654297\nRender        36,167,440    49,747,400    2.2574598789215\nOutput        36,243,656    49,747,400    0.0005500316619873\nEnd           36,244,112\nAs you can see, PHP 7.3 fixed the GC-performance-hit, it is even faster than PHP 7.2 with disabled GC!\nSummary:\nPHP 7.2 with GC enabled (current DomPDF Code): 7s\nPHP 7.2 with GC disabled: 2,7s\nPHP 7.3 with GC enabled (current DomPDF Code): 2,3s\nIf DomPDF disables the GC in the render() function, it improves performance of PHP <= 7.2. For 7.3 it's not needed anymore to disable the GC.\n@MarkMaldaba Could you please test your big document that takes hours with PHP 7.3? It should be faster than 55 minutes with 7.3.. I didn't want to change the code flow, so I replaced the continue with break, because in that situation continue works like a break (see the link you posted).\nI don't know what the original intention was, the safest way to fix the Warnings should be break. If your changes don't break existing working code, then apply your suggested fixes. I just want to get the Warnings fixed, otherwise the error.log fills the hard drive very quickly \ud83d\ude04  (and writing Warnings/Notices to the error.log costs performance and uses extra I/O).\nIf you want to test dompdf with PHP 7.3:\n```\ncd /tmp\nwget https://downloads.php.net/~cmb/php-7.3.0RC5.tar.gz\ntar -xzvf php-7.3.0RC5.tar.gz\ncd php-7.3.0RC5/\n./configure --prefix=/usr/local/php7.3.0RC5 --with-zlib --with-config-file-path=/usr/local/php7.3.0RC5/etc --enable-mbstring --with-gd\nmake\nIf you want to run the php tests (and report all failing tests):\nmake test\n/tmp/php-7.3.0RC5/sapi/cli/php -v\ncd /tmp/dompdf\n/tmp/php-7.3.0RC5/sapi/cli/php /tmp/dompdf/vendor/phpunit/phpunit/phpunit\n```. Already fixed, see #1825 \nPlease use Dompdf 0.8.3, all of the PHP 7.3 problems should be fixed in that version.. ",
    "Tam": "I had a similar issue, and fixed it by removing all rem units.\n. ",
    "promode": "I will check #938 issue...\nHere are two screen, the first is the render when I saved the PDF on my desktop (on Mac). The second is the PDF view in Chrome. I checked into the PDF on my desktop and the font is embedded into the file.\n\n\nAfter checking #938 it's seem that there are common points for this issue but there is still no solution :/\n. ",
    "nappa85": "A \"Floating point exception\" isn't a performance reason...\n. This should be expanded for every type of float (maybe only \"right\" is missing).\nI'm not sure the solution is good for consecutive floating elements, it should be relative to parent instead of previous sibling.\n. ",
    "ricsmo": "Turns out it's suddenly working now. It was probably a CF issue.\n. I discovered more information so I'm sharing. \nI actually have two separate functions that create two different PDF files. I closed the ticket above when one was working because I knew it was something with the code and not with CloudFlare or dompdf.\nI started comparing the code and found that the one that was working had an exit(); statement shortly after the dompdf->stream() method. This was here for another reason (it was from a code sample that was serving a different purpose in the same function), but it was the only significant difference after the ->stream();. So I added an exit(); to the function that was timing out at things like 910k/851k downloaded and it works now too. It worked fine without CloudFlare, but now it works in both places.\nSo, at least in this case, and if behind CloudFlare, stopping PHP and anything WordPress wants to do with an exit(); after sending the stream is helpful.\n. I've also been working with CloudFlare support. Here was their response to using exit();\n\nThat would make sense - if you don't call exit() the server will not close the connection, so a typical HTTP proxy like CloudFlare will not know when the response is complete. Without that indicator a timeout will occur.\n. \n",
    "sQu1rr": "Yes, DejaVu Sans is Good. Possible workaround thank you. Would be nice to get the issue fixed though if its possible for generic sans-serif.\n. ",
    "J1Duran": "I export from a xls(Maatwebsite/Laravel-Excel).\nOnly it happens when my table is big, my table is approximately 1200 records\n. No man, I will try this\n. Thank you man.\n. ",
    "joanebrown": "Hi,\nI use this version. (DOMPDF 0.6.0). Is the version that uses thujohn (https://github.com/thujohn/pdf-l4/blob/master/src/Thujohn/Pdf/dompdf/readme.html)\nPlease, if you can help me with that I would be grateful\n. Hi bsweeney,\nIt's weird... May you can try my data URI in your dompdf? Pease... Maybe the error is in my data URI (I don't know) It's a localhost server :(\nMy data URI: http://jsfiddle.net/eo11L48s/\nI see the image, a smile, in the browser, but I get:\nImage type unknown\ndata:image/jpeg;base64,LzlqLzRBQVFTa1pKUmd ...etc...\nin DOMPDF...\nPlease, if you can help me I would be very grateful\n. Oh, i see...\nMay you have a little solution for that? I tried with the next preg_replace to remove all break spaces:\n<img width=\"200\" height=\"50\" src=\"<?php echo 'data:image/jpeg;base64,' . preg_replace('~\\x{00a0}~', '', base64_encode($image->mydatauri)); ?>\"/>\nBut doesn't work :S\n. Well, I tried this two solutions, but doesn't work... I'm desperate :S \nI tried other solutions, but doesn't work too...\n. Hi bsweeney and thanks, I hate to be heavy, but neither works... :(\n\nP.S.:I'm willing to pay you out for a solution. I really need this :')\n. I only have the image in my HTML:\n<!DOCTYPE html>\n<html lang=\"es-ES\">\n    <head>\n        <title>Test</title>\n        <meta charset=\"UTF-8\"/>\n    </head>\n    <body>          \n           <img width=\"200\" height=\"50\" src=\"<?php echo 'data:image/jpeg;base64,' . preg_replace('/[^\\+\\/\\=A-Za-z0-9]/', '', base64_encode($image->mydatauri)); ?>\"/> \n   </body>\n</html>\nIs weird... I will try to attach here an image or a pastebin with my code.\n. This is the pastebin:\nhttp://pastebin.com/ULknVdnV\nDue to limited pastebin I have put a \"etc\" in the data URI. I used the next data URI: http://jsfiddle.net/eo11L48s/1/\nThanks for all your attention, I hope that helps :)\nEDIT: IS MY PROBLEM now (how no), i used base64_encode twice. Thanks for all your help and for your amazing work.\n. ",
    "armorking5": "Yes 0.6.1, and inline scripting I assume is enabling PHP or there is another flag? I'm Italian so sorry for every error I make\n. For testing on this page I have no css and the table is populated with PHP so I can't set inline scripting off.\nIf I include dompdf class on another page and use only the first page's html, it can work?\nEDIT:\nI found while working that if I use the class directly it functions perfectly while if I use the get commands it will make that error.\n. Using the code you posted, It functions perfectly!!\nIt isn't \"css perfect\" but I know where the problem is\nThanks! \n. A question:\nAre CSS spreadsheets supported?\n. I use bootstrap and datatables for css\n. https://www.datatables.net/manual/styling/bootstrap-simple.html this page is exactly the same, I also put some buttons but overall is the same\n. ",
    "rastilin": "I'm getting the same error for what appears to be the same reason, but clearing $dompdf doesn't appear to fix it. It could be an old error that came back.. ",
    "tormjens": "I was not using font subsetting, so that was not the issue. I was, however, using an .otf font. I saw in some other issue that this was not popular with dompdf? I changed it to .ttf now, and will check if this solves the issue.\n. ",
    "sparkythehuman": "Just in case anyone else has this problem, just make the page size bigger. I set my page size to A2. \n. ",
    "garethellis36": "@bsweeney - thanks for the workaround, that solves the problem.\nPer php -i:  In PHP 5.6.6, libxml is v2.91. In PHP 5.6.13, libxml is v2.9.2.\n. Yes, I found that the PDFs were still generating OK, but our errors logs were getting flooded with the warnings as this action is carried out many times per day.\nStyling using classes is a fine workaround for this particular case as the HTML is so simple - it just required edits to four lines in the template. Thanks!\n. ",
    "A-Lim": "It works. Thanks a lot.\n. Here you go.\n```\n\n\n\n\n\n\n\n\n\n\nTest\n\n\nTest\n\n\nTest\n\n\n\n\nTest\n\n\nTest\n\n\nborder right\n\n\n\n\n\n\n\n```\n. Tried that and it became as what u said. Some overlapping.\n. ",
    "priya3192": "input[type=checkbox] { display: inline; }\nThis not working in dompdf.\nHow to display checkbox?. It works. Thanks a lot.. ",
    "DooRooSA": "I am getting the same problem. PDF attached, if you look at the blue row, between the two cells named \"FSTD\ndocument.pdf (35).pdf\n\"\n. Any progress on fixing this yet? My project is ready for launch and this affects me quite a bit\n. After some testing, I've found it happens as soon as I define a background color to the TH cell\n. I've also just noticed, that on my PDF's it only happens when the cell to the right has a rowspan > 1\n. ",
    "JPustkuchen": "A helpful resource: https://blog.idrsolutions.com/2011/04/understanding-the-pdf-file-format-%E2%80%93-iccbased-colorspaces/\n. Thanks a lot, yes indeed. No open source PDF library yet seems to cover that. But it's a big problem because without proper color profiles the users device decides how to output colors and we're having cases where the results are horrible!\nAs workaround for other users with the same problem, here's our workaround: We're using a base PDF which we are now manipulating with Zend_Pdf (Zend Framework). This way the colorspace of the document is being kept.\n. ",
    "titanm": "Thank you, I'll try.\n. ",
    "bryndyment": "Looks like <nobr></nobr> doesn't work, at least not in my case.  Any other possible workarounds?  white-space: nowrap also fails me.. I am having a similar problem where line breaks are occurring between a character and a tag:\n(the \u201c<span class=\"font-bold\">Effective Date</span>\u201d)\nThe line break is appearing between \u201c and <span \u2026.. ",
    "nostalgicdodo": "Thank you very much! I managed to get it to work.\n. thanks.\n. ",
    "iamraffe": "I am only referencing .ttf and the issue still persists. Any ideas?\n. ",
    "jandreasn": "Ah. I see. Sorry I missed that. A bit weird that a proper minus sign is not an ANSI character. Using DejaVu worked great though. Thanks!\n. ",
    "thulke": "problem solved. was just a font issue.\n. unfortunately its not solved yet. it is a font issue, but within dompdf. if I clear font cache I at least can use the download of the stream from the browser (but not the result  file_put_contents() from the server). after clearing the cache the file at the server does not render the characters at all ...\n. thank you very much indeed! that solved the problem, simply file_put_contents() without $dompdf->stream() (shame on me, I thought I had already tried this)\nbest regards, xoph \n. ",
    "akshayagarwal": "The build fails with 'No Rakefile found'\nMy change is a trivial text change in README.md It should really have nothing do with the rakefile.\n. ",
    "makadev": "Hi,\nI did invest another hour and am glad for it.. Short: The Problem was not in dompdf.\nAfter setting up dompdf separately via composer, I could process the samples without problems.\nSo I reverted the Changes to the bigger Project and checked wether something manipulates the html. \nSimply said, there was a preprocessing step (small template engine) that processed the html and removed the opening braces for CSS declarations and maybe something else.\nSorry for the inconvenience.\n. ",
    "sh4ka": "I'm having this exact bug using this in a console command in laravel 5.1.\n. ",
    "Pankaj-D": "Does anybody have the solution for this issue?\n. ",
    "greg0ire": "\nThis is bad, since I cannot decouple my class from Dompdf, violating the inversion of control pattern.\n\nI think you can inject it, and clone it each time before you use it. Quite ugly, but this is a workaround, not a solution.. >  This is bad, since I cannot decouple my class from Dompdf, violating the inversion of control pattern.\nI think you can inject it, and clone it each time before you use it. Quite ugly, but this is a workaround, not a solution.. Yeah sorry, I realized afterwards that clones in php are shallow, you would have to implement __clone to do deep cloning instead (see http://stackoverflow.com/questions/2144506/what-is-object-cloning-in-php#2144675). Yeah sorry, I realized afterwards that clones in php are shallow, you would have to implement __clone to do deep cloning instead (see http://stackoverflow.com/questions/2144506/what-is-object-cloning-in-php#2144675). Yeah, it's ugly too but at least it's simple :P. Yeah, it's ugly too but at least it's simple :P. ",
    "arimourao": "@bsweeney Your last comment may be related with a bizarre error I'm stepping into. I have a method from where I'm expecting to generate about ~5.000 pdfs. I have a loop and I have to create a new instance for every loop because of the bug the OP described. The first 123 pdfs are generated as expected but 124 onwards is just a mess, everything out of position and cramped on upper left corner of the file. What should I do to workaround this? How can I clear the cache? Tnx in advance! . @bsweeney Hi, I'm having an issue and your comment above could be my solution. I have a .dll that generates some HTML that I need to export to pdf. Everything is working fine but the pdf is cutting in half what the HTML shows in normal screen. I already tried to tweak with the CSS properties, but to no avail.\nWhat I needed was some kind of \"zooming out\". If I could zoom out by 20 or 30% it would fit perfect. Sorry if this is not the appropriate channel for doubts but I'm running out of time. Any help would be greatly appreciated.. I was able to solve this. Here are the steps:\n\n\nimporting Dompdf namespace into the script using the use statement (not found in the documentation)\nuse Dompdf/Dompdf\n\n\nimporting Cpdf using the use statement in the autoload.inc.php\n\n\nSteps to reproduce the issue: Download the latest release (0.8.2) and try to generate an PDF from HTML following the current documentation.\nIf someone from the project confirms this is an issue, I'll submit a pull request.. Yes, I followed all the instructions. In fact, it was just missing the import for the Cpdf library in the autoload.inc.php . I've downloaded the last version (0.8.2). Currently, after you import dompdf following all the steps in the docs, it throws an error: \"include(Cpdf.php): failed to open stream: No such file or directory\".. ",
    "marcoraddatz": "A few weeks ago, everything was fine and now I got the same exception (plus some others). I debugged a lot and found out, that following CSS elements might create errors:\n- border-collapse: collapse \u2192 ErrorException in table_frame_reflower.cls.php line 162: Division by zero\n- border-spacing: 0 \u2192 ErrorException in table_frame_reflower.cls.php line 162: Division by zero\n- box-sizing: border-box \u2192 ErrorException in cellmap.cls.php line 676: Undefined offset: 164\nSo I'd assume, that the example above might work without the border-collapse. Following code works for me (I've overwritten Bootstraps default table style here):\ntable {\n    border-collapse: separate;\n    border-spacing: 1px;\n}\nHowever, my last exception is also thrown because of Bootstrap code:\n*:before,\n*:after {\n  box-sizing: border-box;\n}\nFor this I don't have a monkey patch yet.\n(This ticket might relate to #669, #860 and #881).\n. ",
    "kl09": "https://github.com/dompdf/dompdf/pull/782\n. ",
    "martinplattnr": "Thank you very much for the very fast response! :)\nWhere is the default font size (if none is explicitly set in HTML/CSS) defined within Dompdf?\nThe default font size in most web browsers is 16px, why is it different in Dompdf?\nAccording to the HTML specs, the value provided in the \"width\" attribute should be interpreted as pixels, unless it's followed by \"%\" for percentages.\nShouldn't dompdf incorporate that and interpret the values accordingly?\n(I know it'd be better to use CSS instead of the width attribute, but it's a legacy application I'm working on.)\nRegarding your work around, point 2: If you meant meant adding \"px\" to my width attributes (eg. \"width='10px'\"), I think that'd result in invalidate HTML code? Or did you mean adding the pixel units as CSS width?\nAnother, more general question: Why is scaling ignored with pt values at all? As I understand the concept, DPI means how many points ('pt's) fit into 1\" x 1\" - so they should be scaled accordingly as well, shouldn't they?\nAgain, thanks for your support, it's very appreciated!\n. ",
    "skotos": "I've added the Pull Request for passing options via the constructor.  As far as reshuffling of when certain objects (Canvas & FontMetrics) get created, I think I better not dabble in it too greatly as I don't fully understand the workflow of dompdf nor how the wider community use it (i.e. accessing it's objects between construction and rendering.)  Not sure if you want to leave this issue open until that is resolved.\n. ",
    "garex": "+1\n. ",
    "lugaru90": "Here is one of the PDF files. The strange thing: i can open it with Chrome without Problems, when i downloaded the File from the Webserver. But it is not working over my PHP Script (which is working fine for other Documents. But maybe my code helps:\nphp\n<?php\n    if(isset($id)){\n        $filename = dirname(__FILE__).\"/../../pdf/wohnungsBestaetigung/wohnungsBestaetigung-\".$id.\".pdf\"; \n        header(\"Content-Type: application/pdf\"); \n        header(\"Content-Length: \".filesize($filename)); \n        header('Content-Transfer-Encoding: binary');\n        header('Accept-Ranges: bytes');\n        header('Content-Disposition: inline; filename=\"wohnungsBestaetigung-'.$id.'.pdf\"'); \n        readfile($filename); \n    }\n?>\nwohnungsBestaetigung-6573.pdf\n. Yes that is correct. The Reader just states Error on loading the Document.\nAlready tried to remove this statements. Doesn't change anything -.-\nThe Strange thing is, that it works with some images and some doesn't work. I create a png Barcode for Bills. If i copy over this generated png and give it the name test.png it renders fine. If i use a test image from the net or my png file / image it dosn't work. \n. Hey,\nyes it is one of the documents giving an error. I just downloaded this file from the Server over WinSCP. So the Error should stil exist.\n. ",
    "floriancoding": "Any updates on this?\nStill experiencing this bug in 0.8.3 :(\nProposed fix still works.... ",
    "seeschloss": "As far as I understand, that's because browsers don't decode CMYK images correctly. Photoshop, Gimp or other CMYK-enabled software should show the correct (less flashy) colors.\nThe PDF output is the correct one.\n. Honestly I don't really know if any browser supports CMYK correctly.\nThe most complete info on browser support I can find is http://blog.rodneyrehm.de/archives/4-CMYK-Images-And-Browsers-And-ImageMagick.html and it doesn't seem very conclusive (I think the image used was a poor choice as it doesn't have a lot of colors). It's also four years old, but I don't have the impression that a lot has changed today.\nFor information, I came up with the same solution as this post myself (I needed to have the same colors in a browser and in the PDF), I just convert all CMYK images with imagemagick before doing anything with them. But I'm not an expert and I'm not sure either how color profiles really work...\n. ",
    "asterixcapri": "Could you merge this pull request?\n. ",
    "SouravMajumdar": "Hello  bsweeney,\nI tried it in your way. removed those output, implemented your codes you have given But it results the same. Its not working, Please help me. It was working fine previously, suddenly, this is showing errors, and PDF is not openning for currupt file format. Please help me here.\nand,\n\"And really you should always disable sending errors to the browser in PHP\" - what do u mean by this?\nDo u mean i should include \"display_errors = Off\" in php.ini file?\nDownloaded PDF opened in text editor, its showing UN-understandable symbols only.  in my Linux system\n. ",
    "lopandpe": "Hi!\nI reopen this issue, because I have the same problem using DOMPDF in wordpress.\nI'm trying with the basic example\n```\n// EXAMPLE TAKEN FROM https://github.com/dompdf/dompdf\nrequire_once(GESTION_ODC_DIR . 'dompdf\\autoload.inc.php');\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$dompdf->loadHtml('hello world');\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'landscape');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n$dompdf->stream();\n```\nAnd the file created has only 18 lines. Could you help me to identify the problem?\ndocument.pdf (2).pdf\n. Hi @bsweeney thanks for answering. I've not found any wordpress plugin for doing all I need. \nI will ask in a wordpress forum, and I'll leave here the solution if Ifinally get it.\n. ",
    "JLNNN": "\ud83d\udc4d  on this :)\n. ",
    "rsm0578": "http://eclecticgeek.com/dompdf/debug.php?identifier=cb3d322897c3c272bcc3e6c974ebeb1b\nImage issue, once go through link. http://eclecticgeek.com/dompdf/debug.php?identifier=cb3d322897c3c272bcc3e6c974ebeb1b\nImage issue, once go through link. ",
    "danielecr": "so, if someone is unable to use the newer upcoming release he must live without example?\n. ",
    "Ciloe": "Hi, @bsweeney \nI'm using \njavascript\n    \"slik/dompdf-bundle\" : \"dev-master\",\n    \"sgk/barcode-bundle\": \"^2.0\"\nIn SGK barcode with can see this : \"SGKBarcodeBundle/DineshBarcode/DNS1D.php\"\nphp\npublic function getBarcodeHTML($code, $type, $w = 2, $h = 30, $color = 'black') {\n        $this->setBarcode($code, $type);\n        $html = '<div style=\"font-size:0;position:relative;\">' . \"\\n\";\n        $html = '<div style=\"font-size:0;position:relative;width:' . ($this->barcode_array['maxw'] * $w) . 'px;height:' . ($h) . 'px;\">' . \"\\n\";\n        // print bars\n        $x = 0;\n        foreach ($this->barcode_array['bcode'] as $k => $v) {\n            $bw = round(($v['w'] * $w), 3);\n            $bh = round(($v['h'] * $h / $this->barcode_array['maxh']), 3);\n            if ($v['t']) {\n                $y = round(($v['p'] * $h / $this->barcode_array['maxh']), 3);\n                // draw a vertical bar\n                $html .= '<div style=\"background-color:' . $color . ';width:' . $bw . 'px;height:' . $bh . 'px;position:absolute;left:' . $x . 'px;top:' . $y . 'px;\">&nbsp;</div>' . \"\\n\";\n            }\n            $x += $bw;\n        }\n        $html .= '</div>' . \"\\n\";\n        return $html;\n    }\nYou have the style font-size: 0.\nIn my view, I'm using barcode like this\ntwig\n    {{ barcode({code: ticket.codeBarre, type: 'c128', format: 'html', width: 1, height: 30}) }}\nIf I generate my pdf with this : \nphp\n$html = $this->render('CoreBundle:Public:print.html.twig', array(\n            'tickets' => $listeTickets\n        ))->getContent();\n        $dompdf = $this->get('slik_dompdf');\n        // Generate the pdf\n        $dompdf->getpdf($html);\n        // Either stream the pdf to the browser\n        $dompdf->stream(\"File.pdf\");\n        // Or get the output to handle it yourself\n        $pdfoutput = $dompdf->output();\n        // return $response;\n        return new Response(\n            $pdfoutput,\n            200,\n            array(\n                'Content-Type'          => 'application/pdf',\n                'Content-Disposition'   => 'attachment'\n            )\n        );\nIf I delete the font-size: 0 I haven't error. It's because your code dosen't allow the font-size 0.\nThank you :)\n. ",
    "shaunfreeman": "Sorry for the trouble. It's actually a Firefox issue as it only occurs in Firefox when display in the Firefox PDF viewer and then printed from there. It affects all PDFs not just the ones created with DOMPDF.\nSo not an issue with DOMPDF. I have added my comments to the issue at https://github.com/mozilla/pdf.js/issues/4041\n. ",
    "Harrrrry": "@bsweeney, I already using barryvdh/laravel-dompdf with my application\nBut I don\u2019t know how it is use in view page, I used this in controller.\n. How to use other language content in PDF like Burmese, I want to generate PDF which contain some some text in Burmese \n. ",
    "dhaupin": "Interesting. That is the version im working with however the relatives arent working. I tried it as a raw test string as an img src. Is there a constant/setting/option or something that i need to flag at runtime to percolate this?\n. Sure, its basically a wrapper method inside the document class in Opencart. The src replace is commented out in this example:\n```\n// Generates a pdf from input html data\npublic function pdf($pdf_data, $pdf_name, $pdf_no_dl = false) {\n    $pdf_name = $this->str_file($pdf_name, '_', 'pdf');\n    //$pdf_data = str_replace('src=\"//', 'src=\"http://', $pdf_data);\nrequire_once(DIR_SYSTEM . '../vendor/dompdf/dompdf/dompdf_config.inc.php');\n\n$pdf = new Dompdf();\n$pdf->set_option('enable_remote', true);\n$pdf->set_option('enable_html5_parser', true);\n$pdf->load_html($pdf_data);\n$pdf->render();\n\nif ($pdf_no_dl) {\n    $pdf->stream($pdf_name, array(\"Attachment\" => 0));\n} else {\n    $pdf->stream($pdf_name);\n}\n\n// this exit suppresses the headers already sent warn from DOMPDF\nexit;\n\n}\n```\nSo testing with this string should work:\n$pdf_data = '<img src=\"//shop.cjshomedecor.com/image/data/Options/Icons/usaflag.png\" />';\nVia the wrapper:\n$this->document->pdf($pdf_data, 'test_pdf', true);\nI'll try re-uploading the libs and stuff just to make sure i guess in the meantime\n. ",
    "Kristjan-Reinsberg": "I had same error when I used http.. like..\n\nImages started working like this: \n\n. ",
    "hellboy81": "@flakesnow \n\nI create dynamic footer and header, no problem.\n\nHow can you create it? Please provide sample code\n\ni need a single header on the first page and a single footer on the last page. - No problem\n\nThe same question\n. ",
    "ChadTaljaardt": "Hello, \nHere is thhe certificate svg im using. \nhttps://gist.githubusercontent.com/ChadTaljaardt/ca87407148e8fde04877/raw/3e2db3bfbbfd987ad99aba2508aff2b219e48751/Certificate.html\nHere is a screenshot of the output : http://cl.ly/1x2s1s1P3W3j\n. I forgot to say here is the code in my Controller.\n```\n<?php\nnamespace App\\Http\\Controllers\\test;\nuse Illuminate\\Http\\Request;\nuse PDF;\nuse App\\Http\\Requests;\nuse App\\Http\\Controllers\\Controller;\nclass testController extends Controller\n{\n    public function testfunction() {\n        $pdf = PDF::loadView('cert.test');\n        return $pdf->download('invoice.pdf');\n    }\n}\n```\n. ",
    "landsman": "Hello, how looking this?\nI have invoice with logo in SVG (as plain code, not used  tag) \nand its pain for printing by this package :/. Omg why is here this option? I think that should be as true by default.. ",
    "maurocasas": "Forgot to update on this.\nWhat my software currently does is generate a PDF file for each request the user does, and then merges them into one using another tool.\nThis \"another\" tool, was actually converting each page to JPEG and then merging them into a new PDF file thus the quality loss. I have replaced my merging tool and now works just fine! :monkey: \n. I was originally using https://github.com/hanneskod/libmergepdf and now I'm using https://github.com/clegginabox/pdf-merger instead.\nI don't really know why the difference, as they both use FPDI, but again, I haven't gone really deep down the code to see the actual difference in the processing as the task I'm trying to do is just merging the files for printing simplicity matters.\nEDIT: Currently using https://github.com/myokyawhtun/PDFMerger instead, my bad.\n. I'm actually using https://github.com/myokyawhtun/PDFMerger, just realized when I tried to composer update and failed haha\n. ",
    "godrar": "File was open and never closed. On unlink function php throw \"Permission denied\" error.\n. Warning: file_put_contents(C:\\Users\\PRACOW~1\\AppData\\Local\\Temp/ac7f5fff3847d015f6fec14a7c1e75f9): failed to open stream: Permission denied \n$remoteFile: C:\\xampp\\htdocs\\workspace\\project1\\web\\assets\\css/../fonts/glyphicons-halflings-regular.ttf \nFont does not exist in folder.\n. It would be cool.. File is lock and it can't be unlinked. \nWarning cause problems. Every warning stops my app :)\nThx\n. ",
    "Deepab23": "Thanks\n. ",
    "watercayman": "I no longer have the code, as I switched to wkthmltopdf... but I did do up a quick imitation of what I had, and downloaded the 0.7 beta version.  It seems to have successfully resolved the issue.  \nWell done, and thank you.\n. ",
    "bernhardhas": "thank you for your quick response ....\nyou can do it with a very simple \"hello world\" example.\nhello world\n\nI use dompdf for my browser business application.\nIt's very easy and fast. \nAlmost everything is fine.\nOnly two Problems:\n- i won't to integrate PDF-Viewing in browser with pdf.js (without plugin)\n- i need a feature \"auto-height\" for endless-format (receipt (sales slip))\n     (at this moment i have a workaround (but i cannot get the last text position (y-coordinate)))\nThank you for your help !\n. sorry, - missing html-tags....\nnext try:\n<html><head></head><body><div>hello world</div></body></html>\n. ## 1.\nI've tested it once more !\nYou are right, - sorry !\nThe PDF-file generated from dompdf is okay !!\nIt's not a Problem of dompdf.\nThe Problem occurs, if i want to show a pdf from database with pdf.js !\nWith Adobe-Reader-plugin: no Problem !\nOn Server-side i output the pdf from database with PHP:\nheader(\"Content-type: application/pdf\");\necho $pdfFile;\n2.\nThe Workaround for auto-height: That's they way I've done it !\nThank you for your quick Response !\n. pdf.js:\nIf i write the binary data from database to file on filesystem \nand use the direct link to the pdf-file, it works.\nthis link works: pdfjs/web/viewer.html?file=99.pdf\nthis link doesn't work: pdfjs/web/viewer.html?file=showFile.php?id=99\nNo idea .......\n. ",
    "webspecnick": "I just ran into this. The following html creates the problem. The *, *:before, *:after portion is commonly used for a global box sizing border box.\n```\ndoctype html\n\n\nTest Title\n\n    *, *:before, *:after {\n      color: red;\n    }\n    \n\n\n\n\n\nMisaligned\nAlso Misaligned\n\n\nFine Alignment\nFine Alignment\n\n\n\n\n\n```\n\nOptions used:\nsetIsHtml5ParserEnabled(true);\nsetDefaultMediaType('print');\nsetDefaultFont('sans-serif');\nsetDpi(72);\nsetPaper('letter', 'portrait');\n. ",
    "unfalln": "This is awesome news, thankyou so much for updating this issue and this project!\n. ",
    "danielemontesi": "+1. +1. ",
    "leonardosapiras": "Hi, any news about it?. ",
    "guerinetn": "Any chance to see this feature ?. ",
    "niky-1": "+1. ",
    "uomopalese": "+1. ",
    "iulian34": "Solved with this css line tbody:before, tbody:after { display: none; } . Thank you.\n. Hello, yes l'm using Bootstrap v.3.3.6 . But adding this line: tbody:before, tbody:after { display: none; } .   in my custom css , have solved my problem. Thank you.\n. ",
    "indreka": "This patchset offers approximately 3% speedup: 1% comes from the first patch, additional ~1.5% comes from caching the option values for usage in loops and final 0.5% from using getters directly instead of running through bigger Options->get() function that does lots of string comparisons and most commonly used debugCss comparison is 38th comparison in there.\n. Thanks for the tip, added that e-mail to my github also :)\n. Yes, you can enable font subsetting, which embeds only used characters into the file.\nYou can set the option on creation\n$dompdf = new Dompdf\\Dompdf(array('enable_font_subsetting' => true));\nor you can also set it later as\n$dompdf->getOptions()->setIsFontSubsettingEnabled(true);\nThis makes the generation a bit slower because detailed font file parsing is needed, but this should not be so bad if you use the latest version of php-font-lib which has my optimization patches that make font parsing 55% faster.\n. In lower levels, PHP itself (especially accelerators) should be able to optimize strict function calls better than running through a if-elseif flow that does the comparisons one by one and then calls the functions. It also helps to clean up cachegrind output by showing exact functions instead of generic ->get()/->get_option() invocations.\nThe set/get and get_option set_option functions themselves should remain the same for sure to avoid any BC issues.\nMy main idea was to start with lowest-complexity optimization and once they are done/accepted, move on to more complex ones.\n. Hm, jumped a gun a little bit, \"pt\" is not needed at all, length_in_pt already accepts plain numbers also, assumes them to be in pt units.\n. Not sure what may have gotten fixed exactly, probably it did not affect much. The appended pt causes the length_in_pt handle it in strpos(\"pt\") block and take the first part and cast it to float. so nonept and autopt were both handled as 0 values. Correct \"none\" handling places (_set_style_side_width_important() and in set_margin() and in set_padding()) convert it to 0px anyways before storing it for margin/padding/border-width, so passing in nonept and none shoud not change anything in end results according to code.\nThe length_in_pt() seems to have some special logic for auto, so when at least one element is auto, \"auto\" is returned regardless of other values. Which should be correct I guess? Are there some more extensive tests that could be run?\nI'm interested to get this patch accepted or rejected so I can resume sending in optimization patches, as I do not like to work on parallel branches in different states :)\n. Ah, indeed, I didn't see the \"added a commit that referenced this pull request\" notification :)\n. I think I have to close this pull request, otherwise new commits I push to my fork's develop branch keep getting added here.\n. Any feedback on this approach?\n. Any news on this so I can proceed with next optimizations?\n. ",
    "nikunjpagada": "add this code before generating PDF. it is working for me \nini_set(\"memory_limit\",\"850M\");\nset_time_limit('120');\n. ",
    "Mengxiangwo": "modify dompdf config, like this:\n\"DOMPDF_ENABLE_FONT_SUBSETTING\" => true. ",
    "bernierayxu": "@indreka your solution is perfect!\nsaved my day. ",
    "kirugan": "@bsweeney, when 0.7 stable will be released ?\n. It seems like the same bug appears in v0.7.0-beta3. So what should I do? Create new bug and close this one or commit fix with link to this issue?\n. Ok, Ive created #1125 PR against master.\n. @bsweeney, sorry for late response.\nHere is html that cause the main trouble: [cv.txt](https://github.com/dompdf/dompdf/files/154727/cv.txt).\nIf I putinin this file, the error remains the same.\n. @bsweeney I can attach Vagrantfile if you want to see this error. Do you need it?\n. Just run phpdompdf/test.php` from vagrant home directory\npdf.zip\n. ",
    "C0ZEN": "Thanks for the answers.\nThere is no official way.\n. ",
    "skipperbent": "How does this work? \nIs there any documentation for the options array?\nI'm unable to get it to display remote images using:\nphp\n$domPdf->output(['isRemoteEnabled' => true])\n. Got it working by doing this\n``` php\n// ...\n$options = new Options();\n$options->setIsRemoteEnabled(true);\n$domPdf->setOptions($options);\n$domPdf->output();\n```\nSeems like the options parameter for the output method either doesn't use the options or uses the options in some other way. A bit misleading though, but I'm glad I got it working :)\n. ",
    "skunkbad": "I'm updating Dompdf from an older version, as we were having errors with migration to PHP7, and I can't get images to display with this newer version of Dompdf. I think I've been through every setting, yet I still get this error.\n```\nfunction pdf_create( $html, $filename, $output_type = 'stream' )\n{\n    // Remove all previously created headers if streaming output\n    if( $output_type == 'stream' )\n    {\n        header_remove();\n    }\n// Load dompdf and create object\nrequire_once 'dompdf/autoload.inc.php';\n$options = new Options();\n$options->set('tempDir', __DIR__ . '/site_uploads/dompdf_temp');\n$options->set('isRemoteEnabled', TRUE);\n$options->set('debugKeepTemp', TRUE);\n$options->set('chroot', '/'); // Just for testing :)\n$options->set('isHtml5ParserEnabled', true);\n$dompdf = new Dompdf($options);\n\n// Loads an HTML string\n$dompdf->loadHtml( $html );\n\n// Create the PDF\n$dompdf->render();\n\n// If destination is the browser\nif( $output_type == 'stream' )\n{\n    $dompdf->stream(\n        $filename\n    );\n}\n\n// Return PDF as a string (useful for email attachments)\nelse if( $output_type == 'string' )\n{\n    return $dompdf->output(1);\n}\n\n// If saving to the server\nelse \n{\n    // Save the file\n    write_file( $filename, $dompdf->output() );\n}\n\n}\n```\nIf it matters, allow_url_fopen is On. This is Ubuntu 16.04. GD is enabled.\n. I ended up fixing the problem. Because I was trying to display images via HTTPS, and since the server has certificate issues, I had to use setHttpContext with stream_context_create. I was sorta lucky to figure out the problem only by digging around in the code. I don't think any documentation exists for setHttpContext, but I think it might help a bunch of people, because if you look around the internet it seems like many people just can't figure this out and resort to relative URLs. So I wrote this here blog post about it, in hopes that it helps somebody:\nDOMPDF: Image not found or type unknown\n. ",
    "titansoftime": "Can we PLEASE have isRemoteEnabled default to true. \nI just updated DOMPDF and had to manually update so many files.. FYI, when updating from PHP 7.1.7 to 7.1.12 I got this error.\nI had to revert to 7.1.7 =[\nEDIT* Nevermind, simply had to update my tragically out of date DOMPDF.. ",
    "yasirkk": "$dompdf = new Dompdf();\n$dompdf->loadHtml($aData['html']);\n$dompdf->set_option('isRemoteEnabled', TRUE);\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n$dompdf->stream();. ",
    "Shoukat-bjr": "@yasirkk Great answer thank you, now it's working. ",
    "zeshanshani": "for anyone else, if you are still facing issues with broken images or external files not loading, make sure you don't have .htaccess auth enabled. If you do, either remove it or follow this approach. \n```\n$auth = base64_encode(\"username:password\");\n$context = stream_context_create(array(\n  'ssl' => array(\n    'verify_peer' => FALSE,\n    'verify_peer_name' => FALSE,\n    // 'allow_self_signed'=> TRUE\n  ),\n  'http' => array(\n    'header' => \"Authorization: Basic $auth\"\n  )\n));\n$dompdf->setHttpContext($context);\n```\nI had to spend a lot of time to figure that out and get the PDF work on live site.. ",
    "Santoshge-Reddy": "Got The issue if there are spaces in the image name or URL's\nSo replace the image-name with %20 it will be solved\n$image = str_replace(' ', '%20', $items->image);\n. Got The issue if there are spaces in the image name or URL's\nSo replace the image-name with %20 it will be solved\n$image = str_replace(' ', '%20', $items->image);\n. ",
    "martonmiklos": "I have had the same issue on a webhosting managed by a 3rd party and after some debugging it turned to be not so obvious so sharing the story here because it might help others:\nFor some reason the hosting admins disabled the curl user agent used by the dompdf and the images were downloaded with 403 error code. \nThe quick and dirty solution was the following:\n$agent = \"Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)\";\nini_set('user_agent', $agent);. ",
    "mascreativa": "Hi .. this was my solution\n//Dompdf.php\n/*\n     * @param $str\n     * @param null $encoding\n     * @deprecated\n     /\n    public function load_html($str, $encoding = 'UTF-8')\n    {\n        libxml_use_internal_errors(true);\n        $body = new DOMDocument;\n        $body->loadHTML($str);\n        $imgs = $body->getElementsByTagName('img');\n        for($i = 0; $i < $imgs->length; $i++){\n            if($imgs->item($i)->getAttribute('src') != ''){\n                $src = $imgs->item($i)->getAttribute('src');\n                if(!strstr($src,'data:image') && (strstr($src,'http:') || strstr($src,'https:'))){\n                    $curl = curl_init();\n                    curl_setopt($curl, CURLOPT_URL, $src);\n                    curl_setopt($curl, CURLOPT_HEADER, false);\n                    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n                    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0);\n                    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 2);\n                    curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 5);\n                    curl_setopt($curl, CURLOPT_TIMEOUT, 5);\n                    $output = curl_exec($curl);\n                    if(!curl_error($curl)){\n                        curl_close($curl);\n                    $base64 = base64_encode($output);\n                    $imgs->item($i)->setAttribute('src','data:image/png;base64,'. $base64);\n                }\n            }\n        }\n    }\n\n    $str = $body->saveHTML();\n    $this->loadHtml($str, $encoding);\n}\n\n. ",
    "keithslater": "Sorry for the dumb question but where is the font cache directory normally located? \n. Awesome, thanks for the help. The cache file was pointing to the wrong place for the fonts.\n. ",
    "TobiGr": "Thank you for the quick response! It works!!\n. ",
    "bren1818": "I'm sorry to re-open this as your solution is perfectly correct - I came accross this on when Googling the same issue. I just wanted to note that the solution is the same for radio buttons too:\ninput[type=radio] { display: inline; }\ninput[type=radio]:before { font-family: DejaVu Sans; }\nThanks!. ",
    "onyema3": "How do i use this line above? Where do i add it\nI'm having same issue with mine too   \u20a6\n. Thanks\nOn Wed, Sep 7, 2016 at 2:09 AM, Brian Sweeney notifications@github.com\nwrote:\n\nAdd that code where you would normally want the symbol to appear. For \u20a6\ntry:\n\u20a6\nNote: in dompdf 0.6.0 or newer\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1123#issuecomment-245144851, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMR7zxDGboXK4ky9SZ9NQigV3PSELRIvks5qng6ugaJpZM4HgYAd\n.\n. \n",
    "dubems": "thanks for the naira. really helped me to\n. ",
    "VirendraArekar": "<span style=\"font-family: DejaVu Sans;\">&#x20B9;</span> using but note getting symbol show me ?.\nGive me solution.. Latest version\n. ",
    "murk-sy": "I will try a newer PHP version as well, shouldn't take too long.\nEdit: Can confirm it works fine on PHP 5.6.15. I recall there being some error or warning on 5.5.30 that didn't appear on 5.3.1, but I ignored it at the time since the server is running 5.3.1 - I will try to get that as well.\n. PHP 5.5.30 throws this warning on render():\nWarning:  DOMNode::cloneNode(): ID header already defined in \\dompdf\\src\\FrameDecorator\\AbstractFrameDecorator.php on line 148\nNot 100% sure it's not just my bizzaro code, but hopefully it narrows it down.\n. I can reproduce the error on PHP 5.3.1 on Windows.\nWorkaround:\nOn line 282 in \\src\\Frame\\Factory.php\n$class = '\\\\Dompdf\\\\Positioner\\\\'.$type;\nReplace with:\n$class = 'Dompdf\\\\Positioner\\\\'.$type;\nThough I can't really find the exact entry in the changelog, \\ is a namespace separator in 5.3 (but apparently not in 5.3.1).\nDo note that updating may break layouts a bit, especially if html is not particularly well formed - it does for me.\n. ",
    "ayyobro": "Thanks for that. I pulled in the dependencies via composer and got those warnings out of the way, but I'm still having issues with it not finding the Dompdf() class. \nI even referenced the class file directly in my functions.php file ( I should have mentioned I'm using Wordpress ), but it still says the class doesn't exist. I confirmed that the path was accurate to the class file. \nThoughts on that?\n. Figured it out. No worries\n. bump. ",
    "idairaaleman": "hi! this is my html;\n```\n\n\nhere i have my style\n\n\n\n\n\n\nTONOTOUR ESTANCIAS VACACIONALES,S.L\n                Tel\u00e9fono: 922xxxxxxx.\n{CLIENT_DETAILS_TEMPLATE}\n\n\n{HINVOICENO}: {ID}\n{HRAISED}: {RAISED}\n {_JOMRES_BOOKING_NUMBER}: {BOOKING_NUMBER}\n\n\n{BUSINESS_DETAILS_TEMPLATE}\n\n\n{HLI_NAME}\n{HLI_INIT_PRICE}\n{HLI_INIT_QTY}\n{HLI_INIT_DISCOUNT}\n{HLI_INIT_TOTAL}\n{HLI_TAX_RATE}\n{HLI_TAX_DESCRIPTION}\n{HLI_TAX_AMOUNT}\n{HLI_INIT_TOTAL_INCLUSIVE}\n\n\n\n{LI_NAME} {LI_DESCRIPTION}{ROOMUID}\n{LI_INIT_PRICE}\n{LI_INIT_QTY}\n{LI_INIT_DISCOUNT}\n{LI_INIT_TOTAL}\n{LI_TAX_RATE}%\n{LI_TAX_DESCRIPTION}\n{LI_TAX_AMOUNT}\n{LI_INIT_TOTAL_INCLUSIVE}\n\n\nObservaciones\n\n\nTONOTOUR, ESTANCIAS VACACIONALES,S.L.\n                Tel\u00e9fono 922 xxxxxxx.\n\n\n\nImprimir\n\n\n```\nthank you very much again. I need your help please.\n. i solve it,but it showing this error :'( ;\n\nFatal error: Uncaught exception 'Dompdf\\Exception' with message 'Min/max width is undefined for table rows' in /home/tonotour/public_html/dompdf/src/FrameReflower/TableRow.php:66 Stack trace: #0 /home/tonotour/public_html/dompdf/src/FrameDecorator/AbstractFrameDecorator.php(794): Dompdf\\FrameReflower\\TableRow->get_min_max_width() #1 /home/tonotour/public_html/dompdf/src/FrameReflower/AbstractFrameReflower.php(205): Dompdf\\FrameDecorator\\AbstractFrameDecorator->get_min_max_width() #2 /home/tonotour/public_html/dompdf/src/FrameDecorator/AbstractFrameDecorator.php(794): Dompdf\\FrameReflower\\AbstractFrameReflower->get_min_max_width() #3 /home/tonotour/public_html/dompdf/src/Cellmap.php(640): Dompdf\\FrameDecorator\\AbstractFrameDecorator->get_min_max_width() #4 /home/tonotour/public_html/dompdf/src/Cellmap.php(519): Dompdf\\Cellmap->add_frame(Object(Dompdf\\FrameDecorator\\Inline)) #5 /home/tonotour/public_html/dompdf/src/Cellmap.php(519): Dompdf\\Cellmap->add_frame(Object(Dompdf\\FrameDecorator\\TableRowGroup)) #6 /home/tonotour/pub in /home/tonotour/public_html/dompdf/src/FrameReflower/TableRow.php on line 66\n\ni use 0.7.0 beta 3 version\n. ",
    "metallurgical": "Problem fixed now. Did't find for the existing issues provided. Anyway, thanks. I'm closing this issues now\n. ",
    "Colwidth": "Oh sure sry :/\n<html>   \n <head>\n  </head>\n  <body>\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n        <col class=\"col0\">\n        <col class=\"col1\">\n        <col class=\"col2\">\n        <col class=\"col3\">\n        <col class=\"col4\">\n        <col class=\"col5\">\n        <tbody>\n          <tr class=\"row0\">\n            <td class=\"column0\" colspan=\"5\">test</td>\n            <td class=\"column5\"></td>\n          </tr>\n          <tr class=\"row1\">\n            <td></td>\n            <td colspan=\"2\"></td>\n            <td></td>\n            <td></td>\n            <td></td>\n          </tr>\n          <tr class=\"row2\">\n            <td></td>\n            <td colspan=\"2\"></td>\n            <td></td>\n            <td></td>\n            <td></td>\n          </tr>\n        </tbody>\n    </table>\n  </body>\n</html>\nIn class row0,1,2 are the line-height and height.\nIn the col tag classes are the width of each column. In this case:\ncol0 width:9% \ncol1 width:23% \ncol2 width:17% \ncol3 width:33% \ncol4 width:7% \ncol5 width:11% \nI tried already px and pt. The result is the same. :(\n. @bsweeney \nThx for your answer. I insert the property without any effect :(\nI have also added a width: 740 px; \nI can add a width of 540 px so that the table becomes narrower but the effect that the columns width change when inserted text still remains.\n. ",
    "raisen": "Strangely I'm getting the same error with CakePHP. I ran composer require dompdf/dompdf:0.7.x@beta to install dompdf. As @ThomasLandauer pointed out, it can be fixed by adding:\nrequire_once __DIR__ . '/../../../vendor/dompdf/dompdf/lib/Cpdf.php';\nI also tried the steps on https://github.com/dompdf/dompdf/issues/1132#issuecomment-201696037 but with no success.\n. ",
    "jewei": "Thanks!\n. Thanks. Sorry, I wasn't able to response earlier. 6880289975e0ae14289bd26fe97bfa0dd74c5a78 seems like a good fix. Well done!\n. ",
    "zander009": "Sorry to interrupt you. How could I possibly change the directory if the generated PDF has been downloaded? the default is on the download folder. I want to put it somewhere in my project file folder. Thank you. . It worked on me but the problem is when I tried to enter my password it says \"invalid password\". Thank you for the response. I already solved it. The code $dompdf->getCanvas()->get_cpdf()->setEncryption('frogs', '', array('print')); is above the $dompdf->output(); thats why it cant recognized the function. It worked now. Im using ^0.7.0 version.. ",
    "sektonic": "replace position:absolute to float: right. ",
    "adeghiedy": "I am using php 5.5 on the heart internet shared hosting , DOM and GD extensions are configured on the server\n. ",
    "dimitriadamou": "have you tried using absolute pathing instead of web url?\n. ",
    "twisty": "Will do, thanks.\n. ",
    "harishsalian05": "Thanks for the update Brian :-) I will check and update you. Thanks again for your inputs.\n. ",
    "isaacfennell": "@u01jmg3 What was causing the issue for you? I have the same problem\u2026. ",
    "parshavde": "@bsweeney Thanks. It works.. ",
    "preetamverma128": "its not working for me as well. same error. ",
    "sudhi112": "Hi I have download dompdf plugin but I am didn't got \"dompdf_config.inc.php\" file in dompdf folder. And now it give error in require_once, So please suggest.. ",
    "czechmilk": "@bsweeney, thank you for you suggestion.Upgrading ImageMagick is not possible. Because Imagick 3.2.0RC1 is the most recent version for Linux Debian(Jessie).  I have also tried disabling Imagick. The same result. \n. You are right. Two separate servers. I am moving the PHP project from one to another. This issue occurs on the second server with PHP 5.6. I also thought it is a GD problem but I've upgraded GD lib to 2.4.2 and no luck.\nThere are few pictures causing problems:\nImage No. 1\nImage No. 2\nImage No. 3\nI do not why, but PNG from DOMPDF examples works correctly. So there must be a difference in a way how the image is made.\n. ",
    "stemithy": "I tried http with the same result.  Dompdf 0.7-Beta3; PHP 5.4.42\n. I wish I could.  When the issue was occurring, it was on a vagrant box that has since been destroyed.  It\u2019s completely plausible that something about that box\u2019s provisioning had something to do with my issue.  I haven\u2019t since attempted to use dompdf on a URI with a port number, but I\u2019ve had absolutely no problems in production.  I\u2019m in full agreement if you want to close this one as an environment anomaly, and I sincerely appreciate all your help.\nThanks,\nStephen\n. Brian:\nI submitted this a LONG time ago.  I\u2019m not sure that it is even a problem any longer.  However at the time, I was trying to get this to work with a local dev box using domains such as http://localhost:8000 and https://localhost:8080.  I hope this helps, but as far as I\u2019m concerned you can close it.\nThanks,\nStephen\nFrom: Brian Sweeney notifications@github.com\nSent: Friday, July 20, 2018 10:11 PM\nTo: dompdf/dompdf dompdf@noreply.github.com\nCc: Stephen Dukes stephen@melloncg.com; Author author@noreply.github.com\nSubject: Re: [dompdf/dompdf] Port Number in remote image URL causes \"Image not found or type unknown\" (#1156)\nCan you share an example of the URL string you're using? I've not been able to reproduce the issue.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/dompdf/dompdf/issues/1156#issuecomment-406766545, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AKG-eLQde9AU_6GMcOgYPVQnYiRqaIy8ks5uIpvUgaJpZM4H4ONj.\n. ",
    "unmecduweb": "I got the same issue and cannot access to any image from localhost with port number 8000. \nExemple \n - http://localhost:8000/myimage.png does not work\n - http://localhost/projectfolder/myimage.png works\nThanks\n. ",
    "kgaut": "Same issue for me here too.\nUsing php 7.0, no problem when using the port 80 but got\nImage not found or type unknown when using the same website on port 8000. ",
    "KosherHotDog": "i have downloaded a fresh copy and it still gives me that error. this only started happening about 3 days ago.  it was working fine up until then.  I also just recieved a \nParse error: syntax error, unexpected ':' in /home/public_html/Agents/dompdf/lib/fonts/Times-Roman.afm.php on line 1\nthis only showed up after redownloading the item\n. ",
    "ADmad": "Sorry, I feel so stupid. \n. ",
    "a-moses": "@bsweeney\n and with  older version like 0.6.* ?\n. @bsweeney  \nI'm google CPDF but I find something strange.\nWhere is the source of CPDF and some documentation  ?\nThank you very much !\n. Wow Thank you ! @bsweeney\nAnd What about any future plan about CPDF-PHP Project ?\n. Thank you  for your patience and your answers.\nWonderful Project!\n. ",
    "shadoWalker89": "@bsweeney why the solution in https://github.com/dompdf/dompdf/issues/712 by t3rep-com was not added in the library ?\nAre you planning on fixing the detached arabic letters any time soon ?\n. ",
    "kvskkvsk": "source.html.txt\n. > This is addressed in the latest version:\nIn your example text-align is LEFT, not JUSTIFY\n. ",
    "Surt": "Thank you @bsweeney I didn's saw the #1132 \nconfirmed, requiring the problematic file the beta3 works as expected\nrequire_once __DIR__ . '/../../../vendor/dompdf/dompdf/lib/Cpdf.php';\nThank you again. And keep the wonderful work with dompdf!\n. ",
    "adshrc": "I was using the 0.6.* stable version, i just tested it with the latest version, same issue. \nI figured out, that this only happens if \"letter-spacing\" has an increased value. Tried it with several fonts, always the same problem. I found a fix by just adding a negative \"margin-right\" to the text-container.\nIt could also be fixed by adding white spaces at the beginning, which also causes this behaviour and finally the wanted result :smile: \n. ",
    "fadorator": "I encountered the same problem in Version 0.8.2:\n\nIt seems like the space after the last word of each row is visible at the end (first 4 lines in this example). This is easier to see when using a fixed width font, like in the screenshot.\nThe last row is fine. I also tried removing multiple white spaces, it does not seem related to the problem.\nThe HTML code for this example:\n<html>\n<head>\n</head>\n<body>\n<div style=\"background: #c0c0c0; font-family: Courier; font-weight: normal;\" align=\"right\">LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES LOOK AT SOME OF THESE TEST VALUES</div>\n</body>\n</html>\n\n. ",
    "jonathan-dejong": "Ah I see.. I couldn't find anything related to margins in the wiki so I figured there where none.. silly me.\n. ",
    "GiacomoK": "I use last version, 0.7.0 if i am not wrong.\nThere is not web link available, but I use domdpf inside joomla.\n. ",
    "gjones604": "I'm also having issues with Android failing to download. My file names are all called \"\" and they never go past 0%\niOS, and desktop work fine.\n$html = '.... lots of stuf here .... ';\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->set_paper(\"letter\", \"portrait\");\n$dompdf->render();\n$dompdf->stream('Stuff');\n. @bsweeney \nThose suggestions have not resolved the issue but I did discover that this problem seems to occur on my staging server, but not on my development one. Perhaps there is some kind of apache setting involved here. Any thoughts as to what it might be?\nMy staging server has a valid SSL cert and the file is served over HTTPS while on dev its using HTTP.\n. ",
    "topher00": "I've got the same problem, even when creating the sample 'Hello World!' from the quick start. \nStrangely i've also got the problem with bold font weight mentioned by mikaser a couple of days ago too.\nHe is details in the text file, I can't see any errors:\n```\n%PDF-1.3\n1 0 obj\n<< /Type /Catalog\n/Outlines 2 0 R\n/Pages 3 0 R >>\nendobj\n2 0 obj\n<< /Type /Outlines /Count 0 >>\nendobj\n3 0 obj\n<< /Type /Pages\n/Kids [6 0 R\n]\n/Count 1\n/Resources <<\n/ProcSet 4 0 R\n/Font << \n/F1 8 0 R\n\n\n/MediaBox [0.000 0.000 841.890 595.280]\nendobj\n4 0 obj\n[/PDF /Text ]\nendobj\n5 0 obj\n<<\n/Producer (dompdf <18b08fd> + CPDF)\n/CreationDate (D:20160422162614+01'00')\n/ModDate (D:20160422162614+01'00')\nendobj\n6 0 obj\n<< /Type /Page\n/MediaBox [0.000 0.000 841.890 595.280]\n/Parent 3 0 R\n/Contents 7 0 R\nendobj\n7 0 obj\n<<\n/Length 77 >>\nstream\n\n\n0.000 0.000 0.000 rg\nBT 34.016 537.859 Td /F1 12.0 Tf  [(hello world)] TJ ET\nendstream\nendobj\n8 0 obj\n<< /Type /Font\n/Subtype /Type1\n/Name /F1\n/BaseFont /dompdf/lib/fonts/Times-Roman\n/Encoding /WinAnsiEncoding\n\n\nendobj\nxref\n0 9\n0000000000 65535 f \n0000000009 00000 n \n0000000074 00000 n \n0000000120 00000 n \n0000000274 00000 n \n0000000303 00000 n \n0000000435 00000 n \n0000000538 00000 n \n0000000665 00000 n \ntrailer\n<<\n/Size 9\n/Root 1 0 R\n/Info 5 0 R\nstartxref\n791\n%%EOF\n```\n. Probably explains the issue #1179 in the process.\n\n\nI'm using  Window Web Server 2008 R2 with PHP 5.5.11. \nIt's a fresh install using the download and install method with php-font-lib & php-svg-lib.\nI have now installed version 0.6.1 which seems to be working fine.\n. No problem. All the best\n. ",
    "mikaser": "Yes, I have read and tried it with:\n @font-face {\n          font-family: 'Open Sans Bold';\n          src: url('files/Open_Sans/OpenSans-Bold.ttf') format('truetype');\n          font-weight: bold;\n          font-style: normal;\n          }\nBut it didn't work.\n. ",
    "summit-web": "I am also having this issue on a Linux server. I've tried storing it locally without success. I've had to remove all strong tags at the moment so the PDF looks okay. Oh and I'm using the latest full build (and all dependencies).\n. I tried tracking down the TTF for Open Sans bold but couldn't manage to get it - Google Fonts doesn't allow me to reach the TTF Font file. Posting the HTML wouldn't really help here as it's generated by a PHP script so half of it is PHP variables. Happy to post it with the PHP in place if you think it would help though.\nThe PHP isn't the cause of the issue as all the data it's pulling through loads fine into the PDF, it's just the odd presentation bit here or there.\n. Thanks for that link, don't know how I failed to get the TTF before. Odd. I'll give that a go first and if I'm still having issues I'll output the HTML for you. Thanks!\n. As an addendum, I have done the following:\nrequire('../dompdf-master/autoload.inc.php');\nwithout error, but I can't see how to go about the next stages, because\n$dompdf = new Dompdf();\ngives the error \nFatal error: Class 'Dompdf' not found\nThanks!\n. Thanks, I'll re-look at those. I currently can't do use Dompf\\Dompf as it doesn't recognise the use command. I'll check to see if I'm missing dependencies.\n. After I moved some code around, it seems to be generating the PDF, must have been the order I did certain commands. Thanks for your help - now I just need to get the PDF looking right, but that's my responsibility, not yours! Cheers!\n. ",
    "jessereynolds": "fyi this issue also exists when using Open Sans with redcarpet. . ",
    "avi4880": "yes DOMPDF_ENABLE_REMOTE set is true\n. ",
    "lsolesen": "I changed the pull request to reflect the actual coding standards used right now without anything being changed. \n<!-- These can be fixed automatically by phpcbf -->\nThat line in phpcs.xml indicates which rules can be fixed automatically by phpcbf-tool bundled with phpcs. However, it will be quicker to review without having all the automatic stuff done in the same commit.\n. Yes. That was the automated fixes. I will help fix the manual one also if\nyou accept the pull request.\nDen man. 2. maj 2016 02.44 skrev Brian Sweeney notifications@github.com:\n\nThanks for the update. Were the other changes you had previously committed\njust the automated fixes?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/pull/1183#issuecomment-216085018\n. Do you want me to do more with this one right now?\n\nDen man. 2. maj 2016 07.07 skrev Lars Olesen:\n\nYes. That was the automated fixes. I will help fix the manual one also if\nyou accept the pull request.\nDen man. 2. maj 2016 02.44 skrev Brian Sweeney notifications@github.com:\n\nThanks for the update. Were the other changes you had previously\ncommitted just the automated fixes?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/dompdf/dompdf/pull/1183#issuecomment-216085018\n. \n\n",
    "Helenofpern": "I have check it on your current 7.0 beta 3 and 0.6.2 -- both of which exhibit the problem - As we are using dompdf to render documents from smarty templates it is a little hard to provide just the html that will demonstrate the problem but I will see if I can put something together.\n. Ok here is a full example with php code the pdf shows the problem on page 8 clause 2.37\nExsample.zip\nhope that this helps\n. Any idea when this might get looked at?\n. Thanks\n. ",
    "tapulator": "One small correction: You want to use a positive value for the bottom attribute of the footer element otherwise you won't see it on any page.\nSo the CSS for the above example would be: footer { bottom: 60px; }\n. ",
    "sandeepguntaka": "```\nuse Dompdf\\Dompdf;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$dompdf->loadHtml('Some html content');\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4');\n// Render the HTML as PDF\n$dompdf->render();\n$font = $dompdf->getFontMetrics()->get_font(\"helvetica\", \"bold\");\n$dompdf->getCanvas()->page_text(72, 18, \"Header: {PAGE_NUM} of {PAGE_COUNT}\", $font, 10, array(0,0,0));\n$dompdf->stream(\"dompdf_out.pdf\", array(\"Attachment\" => false));\n```. ",
    "andrescossio": "footer .pagenum:before {\n      content: counter(page);\n}\n<footer>\n            <div class=\"pagenum-container\">Page <span class=\"pagenum\"></span></div>\n</footer>. ",
    "MunkelTrogg": "I've got a similiar problem.\nThere are three sections:\n<section class=\"bill\"></section>\n<p class=\"page-break\"></p>\n<section class=\"cover\"></section>\n<p class=\"page-break\"></p>\n<section class=\"content\">\n<header style=\"position:fixed\">Header</header>\nVery long text (longer than one page)\n</section>\nBecause the text is longer than one page, the header is only shown at the beginning of the section \"content\".\nHow can I get it on every page of the content? The header will require PHP, so CSS will probably not help.. Hi cojocaru3,\nas you see above I had a similiar problem. I guess the easiest way to solve this is to generate multiple PDFs (in your case first, main, last) and then merge them with another plugin. It worked well in my situation, I hope it does for yours as well.\nA working plugin to merge PDF files can be found here: https://github.com/fheider/pdfmerger\nTogether with dompdf it works like this: Save the generated files to some folder, then use\nuse PDFMerger\\PdfMerge;\n$pdf = new PdfMerge();\n$pdf->add( 'path/to/first.pdf');\n$pdf->add('path/to/main.pdf');\n$pdf->add('path/to/last.pdf');\nGood luck!. ",
    "cojocaru3": "Hello,\nIs there a way to HIDE footer from first and last page of a generated PDF ?. ",
    "lalynescobal": "\nHOW TO FIX THIS PLS HELP. ",
    "BrunoDeBarros": "They might do; I'll have to test it on a Windows machine and see if it works without my changes. I only pulled your commit after having already dealt with this, so I didn't get a chance to test it.\n. It's all good. :D That was me by the way; wrong GitHub account. :smile: Just picking up on these things little by little. I wish I could help out more, dompdf is the best thing the PHP world has for HTML-to-PDF and we all owe you a lot.. It only happens in $dompdf->render() (or ->stream(), if you use that), so if you use the silence operator @ there, you'll shut it up (and any other dompdf errors, so do be mindful of that). It's not ideal, but for the time being, it allows things to keep working until dompdf is updated.. Yeah, I have no idea how to proceed because of the auto thing. It's easy to just let it keep behaving the way it has been all this time if ($var == \"auto\") {$var = 0;}, but I think this issue just highlighted a problem with the processing of units in dompdf in general, and that's likely to be a great big task. I wish I knew more about dompdf's workings to help out with this.. Daniel,\nThat's an issue with your composer.json not being set to allow you to use unstable packages (dev-master is not a released version of dompdf), not related to dompdf and not dompdf's fault. Check out the documentation for more information https://getcomposer.org/doc/04-schema.md#minimum-stability. This Composer issue is also helpful for some more context and alternatives: https://github.com/composer/composer/issues/5211 \nAnd just in case you're not aware: You shouldn't hijack issues; your error has nothing to do with this issue and is just spamming the rest of us who are following this issue and getting notifications for it. Next time, just start a new issue \u2014 they're free! And don't forget to Google first, too. \ud83d\ude09 . There is no DisplayResults.php file in dompdf; this issue you're having is not related to dompdf.. ",
    "Al3xR0": "@bsweeney I replaced columns with tables. So now I have a table with a row and 3 columns. The problem is this: if the content of one column exceeds the height of current page, then it goes in a very long processing time or it breaks/crush. So this is not working also. Should be a fix for this by using the css tags page-break-* ?\nSo what is the option if I want to have 3 columns on a page, and a column to have the possibility to break it`s content on the next page also.\n. @marrch-caat you can use display:inline-block instead of float, that will do. But the problem is if the content of the column in the left side goes on the next page, than the content from the right side will start from the new page. I cannot see any differences between your files, all look the same...\n. @bsweeney Nope, I just replaced the font with another one and it works now.\n. ",
    "LunarDevelopment": "Bump.. . ",
    "tmolitor-stud-tu": "@wardjk yes, there is, but not with stock dompdf.\nI patched dompdf to allow this and it's working fine for several years now :)\nWith this patch you can even scale the content to fit on one single page.\nIt basically renders the pdf twice.\nIn the first step it collects the maximum draw position in the canvas class and in the second step it renders the PDF using this new values as the paper size (using $dompdf->set_paper()).\nI can provide you with the details/code, if you want :)\n. @wardjk I'll create a github project for this :)\nI think this would be the simplest solution.\nAnd maybe we even can get some of this changes upstream :)\n. @wardjk done.\nYou can get it here: https://github.com/tmolitor-stud-tu/dompdf/tree/0.6.2-scaling\nSee render_scaled_pdf.php for an example using this patched version.\nIf you have any questions: feel free to ask :)\n. @wardjk did you test my solution?\n. Well, that seems to be a php notice. In my environment notices are turned off via error_reporting().\nIf you don't want to turn off notices, you can just use this:\n$this->_yscaleflag[$this->_page_number]=max(isset($this->_yscaleflag[$this->_page_number]) ? $this->_yscaleflag[$this->_page_number] : 0, $this->y($entry));\n. @wardjk What html did you try to scale? And how did you invoke my code?\nMy changes only make it possible to have everything on one page or everything on multiple pages (always ensuring the content is not overflowing the right edge of a page).\nIf you want to do continous scaling by percent values, my approach isn't what you need (but it could be changed to allow percent scaling as well, I think).\n. ",
    "wardjk": "Great. I'm guessing that as it is now, dompdf first decides the content for each page then performs the scaling rather than the other way around in which case it's a good thing my users are not likely scale up instead which would cause the content to exceed both the page width and height.\nHow can I get your solution?\n. I just returned to this project to try your solution. Thanks for making it available.\nAfter replacing dompdf-0.6.2 with dompdf-0.6.2-scaling, I also copied dompdf/lib/php-font-lib from dompdf-0.6.2 which was trivial.\nUpon running $dompdf->render(), I encountered \nUndefined offset: 1\n...dompdf\\include\\cpdf_adapter.cls.php(279)\n276   protected function _update_yscaleflags($args=array())\n277   {\n278     foreach($args as $entry)\n279         $this->_yscaleflag[$this->_page_number]=max($this->_yscaleflag[$this->_page_number], $this->y($entry));\n280   }\nStack Trace\ncpdf_adapter.cls.php(635): \n635     $this->_update_yscaleflags(array($y));\npage_frame_reflower.cls.php(130): \n130       $this->_frame->get_renderer()->render($child);\nWhile debugging, I only got as far as discovering that the $_yscaleflag array is empty and the $args array contains one float value. I haven't investigated further.\n. I added your suggestion which eliminated the problem.\nMy scaling test using dompdf-0.6.2-scaling didn't produce the desired results. At 100% scaling, my test table requires 3 pages. At 50% scaling, 3 pages are still consumed and the number of rows per page is the same even though the page contents are scaled down. This is the same result as with dompdf-0.6.2.\n. ",
    "maximebeaudoin": "@bsweeney Thank you for the quick answer.\n. ",
    "EvanBarbour3": "html\n<html>\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />\n        <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>\n        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\">\n        <link href=\"https://checkout-dev.paybreak.com/css/agreement.css\" rel=\"stylesheet\" type=\"text/css\"/>\n    </head>\n    <body>\n        <div class=\"container\">\n            <h3 class=\"pb_blue\">Lorem ipsum dolor sit amet, \n                <br/>consectetur adipiscing elit.\n                <br/>\n            </h3>\n            <h4>Lorem ipsum dolor sit</h4>\n            <table class=\"table table-bordered table-condensed\">\n                <tr>\n                    <td class=\"table-title\">\n                        <b>Lorem ipsum</b>\n                    </td>\n                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</td>\n                </tr>\n            </table>\n            <table class=\"table table-bordered table-condensed\">\n                <tr>\n                    <td class=\"table-title\">\n                        <b>Lorem ipsum</b>\n                    </td>\n                    <td>Lorem ipsum dolor sit </td>\n                </tr>\n                <tr>\n                    <td>Address:</td>\n                    <td>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus hendrerit felis at lorem sodales dictum eget et erat.\n            </td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor sit amet, consectetur</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n            </table>\n            <table class=\"table table-bordered table-condensed\">\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n            </table>\n            <table class=\"table table-bordered table-condensed\">\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n            </table>\n            <table class=\"table table-bordered table-condensed\">\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>\n                        <b>Lorem ipsum dolor</b>\n                    </td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus hendrerit felis at lorem sodales dictum eget et erat. Quisque ornare tortor eget diam mattis iaculis.</td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor</td>\n                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus hendrerit felis at lorem sodales dictum eget et erat.\n                </tr>\n                <tr>\n                    <td>\n                        <b>Lorem ipsum dolor</b>\n                    </td>\n                    <td>Lorem ipsum dolor sit amet</td>\n                </tr>\n                <tr>\n                    <td>\n                        <b>Lorem ipsum dolor</b>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Lorem ipsum dolor sit amet</td>\n                    <td>Lorem ipsum dolor\n                </tr>\n                <tr>\n                    <td>\n                        <b>Lorem ipsum dolor</b>\n                    </td>\n                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus hendrerit felis at lorem sodales dictum eget et erat. Quisque ornare tortor eget diam mattis iaculis. Cras in mi eget turpis tempus commodo. Etiam a metus libero. Suspendisse convallis id erat commodo commodo. Quisque sit amet mauris lobortis, varius lectus a, lobortis elit. Aenean condimentum venenatis quam, sed sagittis neque congue quis. Aenean risus lacus, ultrices ut dictum a, faucibus nec justo. Vivamus erat urna, molestie ac tellus ac, aliquet tristique arcu. Sed sollicitudin rutrum ultricies. </td>\n                </tr>\n                </table>\n            </div>\n        </body>\n    </html>\nEdited as whilst replacing data with lorem I messed up the tr's. The above sample is causing the warning.\nOffset is different sometimes, but I get this before the initial warning too if its of any help.\nPHP Notice:  Undefined offset: 490 in /vagrant/xxxx/vendor/dompdf/dompdf/src/Cellmap.php on line 800\n. ",
    "johnish": "I'm getting the same error, also using bootstrap.\n. ",
    "kromalski": "Thanks for some leads, turned out to be memory_limit, when generated needed > 9543616 bytes.\nWorks well now. Issue to be closed. Thanks\n. ",
    "wpmuve": "Hi, How is the css box-shadow used in dompdf? can you give an example because it does not work for me. ",
    "vik-y": "Yes it was posted on stackoverflow. I couldn't solve it with dompdf so I changed my code and used a different library. \n. ",
    "baldiri": "Hi @bsweeney,\nafter review php error_log (at scenario B) when i generate pdf, i get quite lines like this one:\nmod_fcgid: stderr: PHP Warning:  tempnam(): open_basedir restriction in effect. File() is not within the allowed path(s): (/var/www/vhosts/domain.tld/:/tmp/) in /var/www/vhosts/domain.tld/libs/dompdf/lib/php-svg-lib/src/Svg/Surface/SurfaceCpdf.php on line 161\nMaybe is this the problem?\nThanks in advance! \n. Hi @bsweeney,\nthanks a lot. As you say from php manual, it has solved my problem (i'he put an issue to php-svg-lib project).\nThanks!\n. ",
    "Codewolf": "I Agree that the issue is not specifically a dompdf error, more that the error should be caught and an exception thrown as this allows the developer to watch out for this specific type of issue.\nAnother option is a throwing a \"notice\" or \"warning\" on trying to render a large document/lots of html as this may then discourage the end user.  Unfortunately while in my particular use case i would have to increase the memory size anyway due to the requirements of the html documents it may be worth adding in?\n. ",
    "cocomo": "It worked, I just had to replace my sample images to JPG versions and now the generated images render clear and crisp, even on the printer :) Thank you for creating this awesome piece of software!\nIt would still be great to feed other formats into dompdf for high quality output. JPG applies some tweaks to the images color model to achieve the compression \u2013 even on \"uncompressed\" JPG \u2013 that makes it a bit uneasy for high quality printing.\n. Same problem over here trying to change Helvetica to Avenir:\n1. Copied Avenir-Roman.ttf and the rest of the family to dompdf/fonts/. I used TransType to convert the original .ttc to .ttf\n2. Added \n   `,\n'Avenir' =>\n       array(\n           'bold' => $distFontDir . 'Avenir-Medium',\n           'bold_italic' => $distFontDir . 'Avenir-MediumOblique',\n           'italic' => $distFontDir . 'Avenir-BookOblique',\n           'normal' => $distFontDir . 'Avenir-Roman'\n       )to dompdf_font_family_cache.dist.php\n3. Changed css style definition for body toAvenirorAvenir-Roman`.\nFound some advice on StackOverflow, but could not get it to work:\nhttp://stackoverflow.com/questions/12581156/custom-fonts-for-dompdf\n2013 is probably outdated? Or do I still need to create the .afm files as advised on stackoverflow?\nI want to go after file privileges in temp and font cache directory but dont know where to set these. DejaVu renders fine, I'm using dompdf 0.7.0\n. @bsweeney Thank you for the clarification, i finally got Avenir showing up with help of the load_font command. Since Avenir has 6 different weights i'm wondering how to set these up f\u00fcr dompdf? Should I create 3 custom font names, each with custom b/i/bi relations, or is there a way to keep the family bundled and to target individual weights in a css style, like font-weight: 600?\n. ",
    "denissceluiko": "Just stumbled on #1056 after some freaking out what is wrong with my code :)\n. ",
    "asratnani": "I had put this code in dompdf/lib/php-font-lib/www/font_info.php\n@font-face {\n  font-family: 'Helvetica';\n  font-weight: normal;\n  font-style: normal;\n  font-variant: normal;\n  src: url('<?php echo $fontfile; ?>'); \n}\nthis is enough for ref?\n. Yes $fontfile is path of the ttf font file..\nCan you please give me full html ?\nBecause of i cant getting you..\nThanks bsweeney.\n. Thanks .. Let me try this .. i will know you..\n. i try this but now working yet..\ncan you join team viewer or skype?\nits is good or me if yes.. \n. ",
    "lippoliv": "Hey all,\ntoday I added \"GosmickSans\" via the load_font.php Script. I checked the dompdf_font_family_cache.dist.php and it was added:\nphp\n'gosmick-sans' => array(\n    'normal' => DOMPDF_FONT_DIR . 'GosmickSans',\n    'bold' => DOMPDF_FONT_DIR . 'GosmickSansBold',\n    'italic' => DOMPDF_FONT_DIR . 'GosmickSansBoldOblique',\n    'bold_italic' => DOMPDF_FONT_DIR . 'GosmickSansOblique',\n  ),\nWhile returning PDFs Content via an view as HTML, all Looks good, the Font is used. But as soon as I render PDF and open it, the font won't be used?\nIt's an Laravel-based Project if that is an usefull Information. It's dompdf 0.6.*\n. @bsweeney here's the HTML (not really pretty, I know)\n``` html\n<!doctype html>\n\n\n\n\n\nDocument\n    <style>\n        @page  {\n            margin: 0;\n            padding: 0;\n        }\n\n        td {\n            padding: 0;\n            spacing: 0;\n        }\n    </style>\n</head>\n\n<body style=\"width: 100%;\">\n\n    <table>\n        <tr>\n\n\n                <td>\n                    <div style=\"\nposition: relative;\nfloat: left;\nwidth: 259px;\nheight: 156px;\nmargin: 1px;\npadding: 0;\nfont-family: gosmick-sans;\n\n\">\n            abc\n<div style=\"\n    font-size: 11pt;\n    position: absolute;\n    top: 30px;\n    left: 15px;\n    margin: 0;\n    padding: 0;\n\">\n    xyz\n</div>\n<div style=\"\n    font-size: 6pt;\n    position: absolute;\n    right: 15px;\n    top: 30px;\n    color: #CCC;\n\">200</div>\n\n \n                                            </tr>\n    </table>\n</body>\n\n\n```\n. Here's the font if it helps you analysing (just normal font, not bold etc) GosmickSans.zip\n. OK @bsweeney you answered it years ago #782\nRegarding Laravel I only had to create folder storage/fonts and drop in all font-files and the dompdf_font_family_cache.php because of vendor/barryvdh/laravel-dompdf/config/dompdf.php rewrites the DOMPDF_FONT_DIR \n:+1: \n. ",
    "kasra-appscore": "Non of them worked for me  :-(\nDose anyone have any other solution?. ",
    "MauricioGO": "This work for me.\ntable {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-family:Arial!important;\n}\ntry to put > !important. ",
    "biancaro": "@MauricioGO, you're a lifesaver. That did the trick. Thanks!. ",
    "BoylesWhite": "I have the exact same image issue described above and will have to use background images for now. Any suggestions anyone?\n. Hello, \nThanks for replying.\nI am using:\n$dompdf->loadHtmlFile('pdf.html');\nalllow_url_fopen is set to \"on\"\nallow_url_include is set to \"off\" though?\nIn fact here is the full code:\n```\n<?php // reference the Dompdf namespace\n$_dompdf_show_warnings = true;\n$_dompdf_warnings = [];\nrequire_once 'autoload.inc.php';\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n$options = new Options();\n$options->set('defaultFont', 'Courier');\n$options->set('isRemoteEnabled', TRUE);\n$options->set('debugKeepTemp', TRUE);\n$options->set('isHtml5ParserEnabled', true);\n//$options->set('chroot', '');\n$dompdf = new Dompdf($options);\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$dompdf->loadHtmlFile('pdf.html');\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'landscape');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n$dompdf->stream();\n?>\n```\n\n. Thanks for this - it's solved the problem. Much appreciated.\n. ",
    "Mat-Moo": "Yep same issue, works brilliantly locally (Windows) but on my real server unix I get no fonts, can't work out what is wrong, or the best way to debug this :( (driving me mad!)\n. As per #1208 I've created the font using the load_font util and referenced that, all working perfect! So there looks to be a minor issue with @font-face and referencing fonts.\n. ",
    "Akyraah": "For my part, I am copying the local version directly into the live one. I will try again to delete the font cache once again. \nThis weird behaviour only happened when I changed the structure of my code and changed the place of the dompdf code. Unfortunally my attempt to go back to the older version wasn't successfull... \nI will try to start again from scratch tomorrow to see if the behaviour still occurs.\n. I found the solution to my problem!\nIt seems like there is some files other than the \"dompdf_font_family_cache.php\" one that are modified by the library on installation. Indeed, I deleted the library on the remote server and uploaded a fresh version I downloaded on github. Once I did that, everything was working as intended...\nThus, I suggest that ALL modified files such as cache one or others I don't know the existence are placed in one single folder at the root of the library so that it is easy to synchronize.\nThank your for you assistance!\n. ",
    "HomerChel": "I found the solution to that problem too:\nJust replace \"\\\" to \"/\", in dompdf/lib/fonts/dompdf_font_family_cache.php, if your local version is windows and online version is linux.\nSorry for my English)\n. ",
    "laranginha7": "hi, I had the same issue and it was turning into a headache. Worked fine on local but remote didn't and happily the solutions from @Akyraah @HomerChel worked fine. then I found another quick solution, just removed \"dompdf_font_family_cache.php\" file and that's all :). I made this because I think it came from oldest version and for some reason the dompdf is currently taking this oldest file. Something that dompdf member should take it into consideration for next version updates. \nthanks for such a great library and keep it up the good work.\n. ",
    "Cyrille37": "@laranginha7 : It does not work if I delete the file dompdf_font_family_cache.php. DomPdf would not find specifics (local) fonts.\nAnd becareful, load_font.php manage only one local font, you have to preserve previous local fonts definitions to paste then in newly created dompdf_font_family_cache.php (dompdf/utils/issues/3). I agree with\n\nalready exists using either an object or CSS\n\nBut I could not make it work ... So really easiest  with page_xxx() methods.\n. Hello @Radhe-PHPLaravelDeveloper \nDo you have some news ? Did u resolve your installation problem ?\nThanks & cheers. Hello @bogdantoporan \nIf answer is right, could u close the issue please ?\nThanks & cheers. Hello @hpntk ? Have u got some news ? Should u close the issue ? or not ?\nThanks & cheers. I need to generate pdf for many languages and I had to find many different fonts. What a pain in the ass !\nA good one is \"Deja Vu\", that works with Romanian, but missing some languages like JP and KO.\nI do not know about licence but I found the \"Arial Unicode MS\" that works with all my needed languages, and also for Romanian.\n. ",
    "JmLegacy": "Hello!\nIn my version of dompdf_font_family_cache.php I changed the \\  to / .\n```\n 'sans-serif' => array(\n    'normal' => $fontDir . '\\Helvetica',\n    'bold' => $fontDir . '\\Helvetica-Bold',\n    'italic' => $fontDir . '\\Helvetica-Oblique',\n    'bold_italic' => $fontDir . '\\Helvetica-BoldOblique',\n  ),\n```\nto\n```\n  'sans-serif' => array(\n    'normal' => $fontDir . '/Helvetica',\n    'bold' => $fontDir . '/Helvetica-Bold',\n    'italic' => $fontDir . '/Helvetica-Oblique',\n    'bold_italic' => $fontDir . '/Helvetica-BoldOblique',\n  ),\n```\nIt worked like a charm!\nThank you!!. ",
    "sajid9": "hello i am facing the same problem my code is runing fine on local but when i upload it on server its stop working\n. i waste my 2 days on this dam thing please help me . dompdf_font_family_cache.php  just go to this file and change back slash to\nforward slash\nOn Mon, Aug 27, 2018 at 6:51 PM Kong Jin Jie notifications@github.com\nwrote:\n\n@sajid9 https://github.com/sajid9 I had the same issue. Just found out\nthat the webserver require write permissions on the following folder if you\nuse composer:\nvendor/dompdf/dompdf/lib/fonts\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1210#issuecomment-416233351, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AYgpp5j5ymx2SV4yw8jOcm_Ec2RZLsXMks5uU_ligaJpZM4Iud6_\n.\n. \n",
    "NikitaKochkurov": "Hello unfortunately font replacement did not help once again attach the code of letters and images\n```\ninclude WP_PLUGIN_DIR .'/woocommerce-pdf-invoice/lib/dompdf/dompdf_config.inc.php';\n\n\n            $html = '\n            <html>\n            <head>\n                <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n            <style>\n\n\n\n            html,body {  padding:0px; margin:0; overflow:hidden}\n\n            body {\n                 padding:0px; margin:0; \n                font-family: \"Dejavu Sans\";\n            }\n\n            table  { width:100%;   vertical-align:top}\n\n                td {\n                font-family: \"Dejavu Sans\";\n                font-size:14px;\n                padding: 10px;\n                vertical-align:top}\n\n             .right-col {\n                background:#39A898;\n             }\n\n             .right-col p{\n                 color:#fff;\n                 font-size:16px;\n                 margin:5px 0;\n                 text-align:center;\n             }\n\n            .delimeter {width:70%;\n                margin:25px auto !important;\n                height:2px;\n                background:#eee;\n            }\n\n            .gift-table-right p {text-align:center}\n\n            h1,h2,h3 {\n                margin:20px 0;\n                text-align:center;\n            }\n\n            h1 { font-size:22px; color:rgb(229, 159, 34);}\n            h2 {font-size:20px; color: rgb(57, 131, 193);}\n            h3 {font-size:20px; color:rgb(102, 174, 92);}\n            .bottom {background:rgb(229, 159, 34);text-align:center; color:#fff;}\n            .contacts {text-align:left;}\n            table, td {border: 0px solid #000}\n            </style>\n            </head>\n             <body>\n             <table style=\" \" ><tbody>\n             <tr>\n                <td style=\"position:relative;   width:65%;\" rowspan=\"2\"><br />\n                <img style=\"width:500px; height:auto\"  src=\"'.wp_get_attachment_url( get_post_thumbnail_id( $product_id ) ).'\">\n                        <h1>GRATULUJEME K VAS\u030cEMU VY\u0301BE\u030cRU</h1>\n                        <h2>Tam vybranjt darek je</h2>\n                        <h3>'.get_product( $product_id )->post->post_title.'</h3>\n                        <div class=\"contacts\">\n                            <p><strong></strong><br><p>\n                            <p>'.get_field('rule_for_buyer',$product_id).'</p>\n                            </div>\n\n                <div style=\"text-align:center; bottom:0\">\n                            <p><i>Pfejeme Varn krasn3i zalitek!<br>S pozdravem tjm spolthiosti</i></p>\n                            <img style=\"\">\n                        </div>\n                </td>\n                <td class=\"  right-col\" >\n\n                        <p>KO\u0301D REZERVACE:</p>\n                        <p>'.$order->get_order_number().'</p>\n                        <p class=\"delimeter\"></p>\n\n                        <p>JME\u0301NO ZA\u0301KAZNI\u0301KA:</p>\n                        <p>'.   $userdata->first_name.'</p>\n                        <p class=\"delimeter\"></p>\n\n                        <p>PR\u030cI\u0301JMENI\u0301 ZA\u0301KAZNI\u0301KA:</p>\n                        <p>'.   $userdata->last_name.'</p>\n                        <p class=\"delimeter\"></p>\n\n                        <p>ID SLUZ\u030cBY:</p>\n                        <p>'.$product_id.'</p>\n                        <p class=\"delimeter\"></p>\n\n                        <p>C\u030cI\u0301SLO KARTY:</p>\n                        <p>'.$current_card->post_title.'</p>\n                        <p class=\"delimeter\"></p>\n\n                        <p>DATUM VYSTAVENI\u0301:</p>\n                        <p>'.date('j m F').'</p>\n                        <p class=\"delimeter\"></p>\n                    </td>\n             </tr>\n             <tr>\n                <td class=\"bottom\"><br /><p>POSKYTOVAT SLUZBY\n                        </p>\n                </td>\n            </tr>\n             </tbody></table>\n             </body>\n            </html>\n            ';\n\n            try {\n                $dompdf = new DOMPDF();\n                $dompdf->load_html($html);\n                $dompdf->set_paper(\"a4\");\n                $dompdf->render();\n                $output = $dompdf->output();\n                $name = 'client_'.$order->get_order_number().'.pdf';\n                file_put_contents($_SERVER['DOCUMENT_ROOT'].\"/tmp/\".$name, $output);\n            }\n\n```\n\n\n. The error may be in another ? Because the second file I have generated well .\n```\n include WP_PLUGIN_DIR .'/woocommerce-pdf-invoice/lib/dompdf/dompdf_config.inc.php';\n$html = '\n<html>\n<head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<style>\n\n@font-face {\n    font-family: OpenSans;\n    font-style: normal;\n    font-weight: 400;\n    src: url(http://themes.googleusercontent.com/static/fonts/opensans/v8/cJZKeOuBrn4kERxqtaUH3aCWcynf_cDxXwCLxiixG1c.ttf) format(\"truetype\");\n}\n\nhtml,body {  padding:0px; margin:0; overflow:hidden}\n\nbody {\nbackground:url('.get_bloginfo('url').'/wp-content/themes/royal/images/voucher.jpg);\n}\n\nh1 {\n      font-size: 85px;\n      font-family: OpenSans;\n      color: rgb(25, 25, 25);\n      text-transform: uppercase;\n      line-height: 1.2;\n      text-align: center;\n      margin-top:330px;\n\n    }\n\nh2 {\n  font-family: dejavu sans, OpenSans, Arial, sans-serif;\n  font-size: 35px;\n  color: rgb(195, 44, 44);\n  line-height: 1.2;\n  text-align: center;\n  margin-top:100px;\n}\n\n</style>\n</head>\n <body>\n   <h1><i>'.$newcard.'</i></h1>\n   <h2>PRO V\u00ddB\u011aR VA\u0160EHO D\u00c1RKU PROS\u00cdME UVE\u010eTE K\u00d3D NA</h2>\n </body>\n</html>\n';\n\ntry {\n    $dompdf = new DOMPDF();\n    $dompdf->load_html($html);\n    $dompdf->set_paper(array(0,0,1427,720));\n    $dompdf->render();\n    $output = $dompdf->output();\n    $name = 'voucher_'.$order_id .'.pdf';\n    file_put_contents($_SERVER['DOCUMENT_ROOT'].\"/tmp/\".$name, $output);\n}\n\n```\n\n. ",
    "Max13": "When I say \"ignored\" it's because everything on the PDF seem bigger than expected. It could be (for me at least) related to the fact that contents is shown on smaller \"view\" which could produce this \"zoomed\" effect.\nThank you for your answer, but I'm a little bit confused. Dompdf uses box-sizing: content-box, which is a rule I don't know so I don't understand what margin/padding have to be subtracted from the width?\nPlus, if you saw the HTML, I wrote the page with relative sizes as much as possible, so I don't really need to size the container (the width/height rules are only to show me, as HTML, what is would produce). I've also tried removing them (the body height/width rules), but the PDF produced is still not as expected.\nPlease explain be the subtraction needed, maybe it will be clearer for me. Thank you.\n. @bsweeney Thank you very much for your answer. What I had to learn is to ignore the HTML output, it's confusing. For those who are interested in the changes: http://eclecticgeek.com/dompdf/debug.php?identifier=e03cbe40bf65d39aa09224e37f5e63e6 or attached + \ndiff.txt\nThanks.\n. Edited previous messages\n. ",
    "nebrot": "Here are some informations: https://github.com/dompdf/dompdf/wiki\n. See #631 \n. I think there is no solution yet (comment).\nRelated issue: barryvdh/laravel-dompdf#190\n. ",
    "luigimannoni": "Yes thanks, I have already seen the Wiki, I am referring actually to the following statement:\n\nFor more complete documentation of the Canvas API, see the API documentation.\n\nThere's no link to the API nor an article on the Wiki. I am trying to understand some stuff using a debugger I have found here: http://eclecticgeek.com/dompdf/debug.php but helps into a certain extent. \nWondering if there's an online autogenerated PHPDoc documentation where I can see all the available methods for the library.\n. Hmm, is there a way to get the total number of pages using the CSS method?\n. ",
    "rovexo": "Cool, thanks for looking into it. I know how much of a pain string encoding is with all these non-utf8 aware functions :) . ",
    "ahgindia": "To get faster response on this question, I also posted same question on stackoverflow http://stackoverflow.com/questions/38138082/unable-to-use-pdflib-adapter-with-latest-dompdf-0-7-0\nBut still I am waiting for solution on this. :(\n. Hello,\nI have already tried that before.\nBut it gives following fatal error :\n\nFatal error: Call to a member function getFontFamilies() on a non-object in dompdf/src/Adapter/PDFLib.php on line 230\n\nNow I am able to understand the problem.\nIn Dompdf\\Dompdf Line 304\nphp\n$this->setCanvas(CanvasFactory::get_instance($this, $this->paperSize, $this->paperOrientation));\n$this->setFontMetrics(new FontMetrics($this->getCanvas(), $this->getOptions()));\nInside setCanvas, PDFLib constructor is called, and from that PDFLib constructor, getFontMetrics() is called which gives error, as FontMetrics is initialized after setCanvas method in Dompdf\\Dompdf.\nPlease guide me.\nThanks\nAnkit\n. ",
    "Neograph734": "I have no idea what rtimo meant with doesn't work well, but I ran into below issue today and looking at the many <br>'s above I suppose it might be the same problem.\nIf an element (in my case it was a wrapper div) has a property of page-break-inside: avoid; and the element is too big for a single page, dompdf keeps attempting to place the element on a new page (until php reaches its max execution time because it will never fit).\nPerhaps dompdf could make use of a simple check if a new page was already added, and if so, conclude that it could not be avoided and break the table anyway? Or perhaps at least throw an error that the conditions could not be met or something? It is pretty hard to debug because the HTML looked fine and I accidentally discovered this because I generated one PDF that dit work, where my element was moved several pages down, where it did (just) fit (perhaps some weird issue with rounding to pixel values or something, really strange). \nAnyway, I hope this will help you in building this system further and make it even better :)\n. @bsweeney Thanks for the fast response. It might have been something entirely different, but this answer (suggesting to increase the page size) feeds my suspicion that it has something to do with pages overflowing. \n\nI don't believe page break declarations attached to table elements work supported.\n\nI don't know, never tried. For div's they worked excellent until I broke it by adding too much content to the div...\n. Hi Simon, \nI guess that is what you get if you write issues in a hurry... My CSS is valid and works in the main website (using font-family), but as explained; DOMPDF seems to stick to whatever it finds first. It only broke after the update from 0.7 to 0.8 (I have seen more issues, but none of them are specific)\nI will clean up some of the code and provide it here for reference in a few hours.. Below is the code I am using. It is partially generated from normalize.css and the CMS, so certainly not the cleanest output. It used to work though.\nAs you can see in  http://eclecticgeek.com/dompdf/debug.php The HTML output differs from the PDF output. The font is missing, and the footer is floating to the right. Properties that are both overridden later, but do not apply.\n```\n<!DOCTYPE html>\n\n\n\n\n    body {\n  font-family: Arial, sans-serif;\n  font-size: 16px;\n  padding-top: 120px; /<em> Keep in sync with header height. </em>/\n  padding-bottom: 120px; /<em> Keep in sync with footer height. </em>/\n}</p>\n<p>/<em> Simple header definition </em>/\n.quotation-header {\n  width: 100%;\n  height: 100px;</p>\n<p>position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid black;\n}</p>\n<p>/<em> Simple footer definition </em>/\n.quotation-footer {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100px;\n  border-top: 1px solid black;\n}</p>\n<p>/<em> Attempt to avoid page-breaks inside a views row (line item) </em>/\ntd,\np {\n  page-break-inside: avoid;\n}\n@import url(\"https://fonts.googleapis.com/css?family=Montserrat:600|Open+Sans:300,400,700\");\n.clearfix:after {\n  content: \" \";\n  display: block;\n  height: 0;\n  clear: both;\n  visibility: hidden;\n  overflow: hidden; }</p>\n<p>input.form-submit,\na.button {\n  border: 1px solid #dae7c9;\n  box-sizing: border-box;\n  display: inline-block;\n  margin-top: 1em;\n  padding: .5em;\n  text-align: center;\n  width: 100%; }</p>\n<p>/<em>! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css </em>/\n/<em><em>\n * 1. Change the default font family in all browsers (opinionated).\n * 2. Correct the line height in all browsers.\n * 3. Prevent adjustments of font size after orientation changes in\n *    IE on Windows Phone and in iOS.\n </em>/\n/</em> Document\n   ========================================================================== <em>/\nhtml {\n  font-family: sans-serif;\n  /</em> 1 <em>/\n  line-height: 1.15;\n  /</em> 2 <em>/\n  -ms-text-size-adjust: 100%;\n  /</em> 3 <em>/\n  -webkit-text-size-adjust: 100%;\n  /</em> 3 */ }</p>\n<p>/<em> Sections\n   ========================================================================== </em>/\n/*<em>\n * Remove the margin in all browsers (opinionated).\n </em>/\nbody {\n  margin: 0; }</p>\n<p>/*<em>\n * Add the correct display in IE 9-.\n </em>/\narticle,\naside,\nfooter,\nheader,\nnav,\nsection {\n  display: block; }</p>\n<p>/*<em>\n * Correct the font size and margin on <code>h1</code> elements within <code>section</code> and\n * <code>article</code> contexts in Chrome, Firefox, and Safari.\n </em>/\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0; }</p>\n<p>/<em> Grouping content\n   ========================================================================== </em>/\n/<em><em>\n * Add the correct display in IE 9-.\n * 1. Add the correct display in IE.\n </em>/\nfigcaption,\nfigure,\nmain {\n  /</em> 1 */\n  display: block; }</p>\n<p>/*<em>\n * Add the correct margin in IE 8.\n </em>/\nfigure {\n  margin: 1em 40px; }</p>\n<p>/<em><em>\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n </em>/\nhr {\n  box-sizing: content-box;\n  /</em> 1 <em>/\n  height: 0;\n  /</em> 1 <em>/\n  overflow: visible;\n  /</em> 2 */ }</p>\n<p>/<em><em>\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd <code>em</code> font sizing in all browsers.\n </em>/\npre {\n  font-family: monospace, monospace;\n  /</em> 1 <em>/\n  font-size: 1em;\n  /</em> 2 */ }</p>\n<p>/<em> Text-level semantics\n   ========================================================================== </em>/\n/<em><em>\n * 1. Remove the gray background on active links in IE 10.\n * 2. Remove gaps in links underline in iOS 8+ and Safari 8+.\n </em>/\na {\n  background-color: transparent;\n  /</em> 1 <em>/\n  -webkit-text-decoration-skip: objects;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Remove the outline on focused links when they are also active or hovered\n * in all browsers (opinionated).\n </em>/\na:active,\na:hover {\n  outline-width: 0; }</p>\n<p>/<em><em>\n * 1. Remove the bottom border in Firefox 39-.\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n </em>/\nabbr[title] {\n  border-bottom: none;\n  /</em> 1 <em>/\n  text-decoration: underline;\n  /</em> 2 <em>/\n  text-decoration: underline dotted;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Prevent the duplicate application of <code>bolder</code> by the next rule in Safari 6.\n </em>/\nb,\nstrong {\n  font-weight: inherit; }</p>\n<p>/*<em>\n * Add the correct font weight in Chrome, Edge, and Safari.\n </em>/\nb,\nstrong {\n  font-weight: bolder; }</p>\n<p>/<em><em>\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd <code>em</code> font sizing in all browsers.\n </em>/\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace;\n  /</em> 1 <em>/\n  font-size: 1em;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Add the correct font style in Android 4.3-.\n </em>/\ndfn {\n  font-style: italic; }</p>\n<p>/*<em>\n * Add the correct background and color in IE 9-.\n </em>/\nmark {\n  background-color: #ff0;\n  color: #000; }</p>\n<p>/*<em>\n * Add the correct font size in all browsers.\n </em>/\nsmall {\n  font-size: 80%; }</p>\n<p>/*<em>\n * Prevent <code>sub</code> and <code>sup</code> elements from affecting the line height in\n * all browsers.\n </em>/\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline; }</p>\n<p>sub {\n  bottom: -0.25em; }</p>\n<p>sup {\n  top: -0.5em; }</p>\n<p>/<em> Embedded content\n   ========================================================================== </em>/\n/*<em>\n * Add the correct display in IE 9-.\n </em>/\naudio,\nvideo {\n  display: inline-block; }</p>\n<p>/*<em>\n * Add the correct display in iOS 4-7.\n </em>/\naudio:not([controls]) {\n  display: none;\n  height: 0; }</p>\n<p>/*<em>\n * Remove the border on images inside links in IE 10-.\n </em>/\nimg {\n  border-style: none; }</p>\n<p>/*<em>\n * Hide the overflow in IE.\n </em>/\nsvg:not(:root) {\n  overflow: hidden; }</p>\n<p>/<em> Forms\n   ========================================================================== </em>/\n/<em><em>\n * 1. Change the font styles in all browsers (opinionated).\n * 2. Remove the margin in Firefox and Safari.\n </em>/\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: sans-serif;\n  /</em> 1 <em>/\n  font-size: 100%;\n  /</em> 1 <em>/\n  line-height: 1.15;\n  /</em> 1 <em>/\n  margin: 0;\n  /</em> 2 */ }</p>\n<p>/<em><em>\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n </em>/\nbutton,\ninput {\n  /</em> 1 */\n  overflow: visible; }</p>\n<p>/<em><em>\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n </em>/\nbutton,\nselect {\n  /</em> 1 */\n  text-transform: none; }</p>\n<p>/<em><em>\n * 1. Prevent a WebKit bug where (2) destroys native <code>audio</code> and <code>video</code>\n *    controls in Android 4.\n * 2. Correct the inability to style clickable types in iOS and Safari.\n </em>/\nbutton,\nhtml <a href=\"-moz-focusring,\">type=\"button\"</a>,\n<a href=\"-moz-focusring,\">type=\"reset\"</a>,\n[type=\"submit\"] {\n  -webkit-appearance: button;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Remove the inner border and padding in Firefox.\n </em>/\nbutton::-moz-focus-inner,</p>\n<p>[type=\"submit\"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0; }</p>\n<p>/*<em>\n * Restore the focus styles unset by the previous rule.\n </em>/\nbutton:-moz-focusring,</p>\n<p>[type=\"submit\"]:-moz-focusring {\n  outline: 1px dotted ButtonText; }</p>\n<p>/*<em>\n * Change the border, margin, and padding in all browsers (opinionated).\n </em>/\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em; }</p>\n<p>/<em><em>\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from <code>fieldset</code> elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    <code>fieldset</code> elements in all browsers.\n </em>/\nlegend {\n  box-sizing: border-box;\n  /</em> 1 <em>/\n  color: inherit;\n  /</em> 2 <em>/\n  display: table;\n  /</em> 1 <em>/\n  max-width: 100%;\n  /</em> 1 <em>/\n  padding: 0;\n  /</em> 3 <em>/\n  white-space: normal;\n  /</em> 1 */ }</p>\n<p>/<em><em>\n * 1. Add the correct display in IE 9-.\n * 2. Add the correct vertical alignment in Chrome, Firefox, and Opera.\n </em>/\nprogress {\n  display: inline-block;\n  /</em> 1 <em>/\n  vertical-align: baseline;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Remove the default vertical scrollbar in IE.\n </em>/\ntextarea {\n  overflow: auto; }</p>\n<p>/<em><em>\n * 1. Add the correct box sizing in IE 10-.\n * 2. Remove the padding in IE 10-.\n </em>/\n[type=\"checkbox\"],\n[type=\"radio\"] {\n  box-sizing: border-box;\n  /</em> 1 <em>/\n  padding: 0;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Correct the cursor style of increment and decrement buttons in Chrome.\n </em>/</p>\n<p><a href=\":-webkit-inner-spin-button,\">type=\"number\"</a>::-webkit-outer-spin-button {\n  height: auto; }</p>\n<p>/<em><em>\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n </em>/\n<a href=\":-webkit-search-cancel-button,\">type=\"search\"</a> {\n  -webkit-appearance: textfield;\n  /</em> 1 <em>/\n  outline-offset: -2px;\n  /</em> 2 */ }</p>\n<p>/*<em>\n * Remove the inner padding and cancel buttons in Chrome and Safari on macOS.\n </em>/</p>\n<p><a href=\":-webkit-search-cancel-button,\">type=\"search\"</a>::-webkit-search-decoration {\n  -webkit-appearance: none; }</p>\n<p>/<em><em>\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to <code>inherit</code> in Safari.\n </em>/\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  /</em> 1 <em>/\n  font: inherit;\n  /</em> 2 */ }</p>\n<p>/<em> Interactive\n   ========================================================================== </em>/\n/<em>\n * Add the correct display in IE 9-.\n * 1. Add the correct display in Edge, IE, and Firefox.\n </em>/\ndetails,\nmenu {\n  display: block; }</p>\n<p>/<em>\n * Add the correct display in all browsers.\n </em>/\nsummary {\n  display: list-item; }</p>\n<p>/<em> Scripting\n   ========================================================================== </em>/\n/*<em>\n * Add the correct display in IE 9-.\n </em>/\ncanvas {\n  display: inline-block; }</p>\n<p>/*<em>\n * Add the correct display in IE.\n </em>/\ntemplate {\n  display: none; }</p>\n<p>/<em> Hidden\n   ========================================================================== </em>/\n/*<em>\n * Add the correct display in IE 10-.\n </em>/\n[hidden] {\n  display: none; }</p>\n<p>body {\n  background: #fefefe;\n  color: #3b3b3b;\n  font-family: \"Open Sans\", Arial, sans-serif;\n  line-height: 1.25em; }\n  @media screen and (max-width: 480px) {\n    body {\n      line-height: 1.45em; } }</p>\n<p>h1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: \"Montserrat\", Arial, sans-serif; }</p>\n<p>h1, h2, h3 {\n  line-height: 1em; }</p>\n<p>a {\n  color: #467bc7;\n  text-decoration: none; }\n  a:hover {\n    text-decoration: underline; }\n  a.back {\n    display: none; }</p>\n<p>table {\n  width: 100%;\n  border-collapse: collapse; }</p>\n<p>tr.odd {\n  background: #fefefe; }</p>\n<p>tr.even {\n  background: #dae7c9; }</p>\n<p>td,\nth {\n  vertical-align: top;\n  padding: .25em;\n  border: 1px solid #dae7c9; }</p>\n<p>img,\nvideo {\n  height: auto !important;\n  max-width: 100%; }</p>\n<p>input {\n  max-width: 100%; }</p>\n<p>/<em>\n</em> {\n  float: none;\n}\n*/\nhtml {\n  padding: 0;\n  margin: 0; }</p>\n<p>body {\n  padding: 220px 0 220px;\n  margin: 0; }</p>\n<h1>header,</h1>\n<h1>main-wrapper,</h1>\n<h1>footer {</h1>\n<p>width: 100%;\n  padding-top: 2em;\n  padding-bottom: 2em; }</p>\n<p>section {\n  width: 100%;\n  position: relative; }</p>\n<h1>header {</h1>\n<p>background-image: url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgd2lkdGg9JzE1NDBweCcgaGVpZ2h0PSc3NXB4JyB2aWV3Qm94PScwIDAgMTU0MCA3NScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMTU0MCA3NScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSc+PHBvbHlnb24gZmlsbD0nIzlhYmU2ZCcgcG9pbnRzPScwLDc1IDksNjcgMTgsMTUgMTU0MCwxNSAxNTQwLDAgMCwwIDAsNzUnLz48L3N2Zz4iKSwgdXJsKCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB3aWR0aD0nMTMxMHB4JyBoZWlnaHQ9JzY5cHgnIHZpZXdCb3g9JzAgMCAxMzEwIDY5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAxMzEwIDY5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJz48cG9seWdvbiBmaWxsPScjZTljNjM4JyBwb2ludHM9JzAsNjkgMTMxMCw2OSAxMzEwLDAgMTI5OCw5IDEyOTIsNTUgNyw1NScvPjwvc3ZnPg==\");\n  background-position: left top, right bottom;\n  background-repeat: no-repeat; }\n  #header::before {\n    content: ' ';\n    display: inline-block;\n    vertical-align: middle;\n    width: 0;\n    height: 100%; }</p>\n<h1>branding,</h1>\n<h1>logo,</h1>\n<h1>name-and-slogan,</h1>\n<h1>navigation {</h1>\n<p>display: inline-block;\n  vertical-align: middle; }</p>\n<h1>logo {</h1>\n<p>margin-right: .5em; }</p>\n<h1>site-name {</h1>\n<p>font-size: 2em; }</p>\n<h1>navigation {</h1>\n<p>line-height: 0; }</p>\n<p>nav {\n  position: absolute;\n  right: 0; }\n  @media screen and (max-width: 400px) {\n    @-ms-viewport {\n      nav ul.inline {\n        width: device-width; } } }\n  nav ul.inline #gridle-settings {\n    content: '{ \"version\" : \"2.0.48\", \"states\" : { \"default\":{ \"name\" : \"default\", \"min-width\" : null, \"max-width\" : null, \"query\" : null, \"classes\" : true, \"context\" : \"15\", \"column-width\" : null, \"gutter-width\" : \"20px\", \"gutter-height\" : \"20px\", \"gutter-top\" : \"10px\", \"gutter-right\" : \"10px\", \"gutter-bottom\" : \"10px\", \"gutter-left\" : \"10px\", \"direction\" : \"ltr\", \"dir-attribute\" : false, \"name-multiplicator\" : \"1\", \"states-classes\" : false, \"classes-prefix\" : null, \"<em>\" : true }, \"mobile\":{ \"name\" : \"mobile\", \"min-width\" : null, \"max-width\" : \"480px\", \"query\" : \"screen and (max-width: 480px)\", \"classes\" : true, \"context\" : \"15\", \"column-width\" : null, \"gutter-width\" : \"20px\", \"gutter-height\" : \"20px\", \"gutter-top\" : \"10px\", \"gutter-right\" : \"10px\", \"gutter-bottom\" : \"10px\", \"gutter-left\" : \"10px\", \"direction\" : \"ltr\", \"dir-attribute\" : false, \"name-multiplicator\" : \"1\", \"states-classes\" : false, \"classes-prefix\" : null, \"</em>\" : true }, \"tablet\":{ \"name\" : \"tablet\", \"min-width\" : \"481px\", \"max-width\" : \"1024px\", \"query\" : \"screen and (min-width: 481px) and (max-width: 1024px)\", \"classes\" : true, \"context\" : \"15\", \"column-width\" : null, \"gutter-width\" : \"20px\", \"gutter-height\" : \"20px\", \"gutter-top\" : \"10px\", \"gutter-right\" : \"10px\", \"gutter-bottom\" : \"10px\", \"gutter-left\" : \"10px\", \"direction\" : \"ltr\", \"dir-attribute\" : false, \"name-multiplicator\" : \"1\", \"states-classes\" : false, \"classes-prefix\" : null, \"_\" : true }} }'; }\n  nav ul.inline .hide {\n    display: none; }\n  nav ul.inline .show {\n    display: block; }\n  nav ul.inline body {\n    direction: ltr; }\n  @media screen and (max-width: 480px) {\n    nav ul.inline .hide\\@mobile {\n      display: none; }\n    nav ul.inline .show\\@mobile {\n      display: block; }\n    nav ul.inline body {\n      direction: ltr; } }\n  @media screen and (min-width: 481px) and (max-width: 1024px) {\n    nav ul.inline .hide\\@tablet {\n      display: none; }\n    nav ul.inline .show\\@tablet {\n      display: block; }\n    nav ul.inline body {\n      direction: ltr; } }\n  nav ul.inline &gt; li {\n    padding: 0 .15em; }\n    nav ul.inline &gt; li &gt; a {\n      border: 1px solid #3b3b3b;\n      color: #3b3b3b;\n      display: inline;\n      padding: .5em 1.25em;\n      text-transform: uppercase; }\n      nav ul.inline &gt; li &gt; a.active, nav ul.inline &gt; li &gt; a:hover {\n        background: #9abe6d;\n        border-color: #9abe6d;\n        color: #fefefe;\n        text-decoration: none; }</p>\n<h1>footer {</h1>\n<p>background: #dae7c9;\n  color: #3b3b3b; }\n  #footer a {\n    color: #3b3b3b; }\n    .menu #footer a {\n      text-transform: uppercase; }\n  #footer ul {\n    padding: 0; }\n  #footer li.leaf {\n    display: inline;\n    list-style: none; }\n    @media screen and (max-width: 480px) {\n      #footer li.leaf {\n        display: list-item;\n        margin: 0; } }\n  #footer br {\n    display: none; }\n    @media screen and (max-width: 480px) {\n      #footer br {\n        display: inline-block;\n        width: 2em; } }\n  #footer .fa {\n    margin-left: 2em;\n    margin-right: .5em; }\n    @media screen and (max-width: 480px) {\n      #footer .fa {\n        margin-left: 0; } }</p>\n<p>.region-footer-thirdcolumn {\n  float: left; }\n  @media screen and (max-width: 480px) {\n    .region-footer-thirdcolumn {\n      float: none; } }</p>\n<p>.region-footer-fourthcolumn {\n  float: right; }\n  @media screen and (max-width: 480px) {\n    .region-footer-fourthcolumn {\n      float: none; } }</p>\n<p>.quotation-header,\n.quotation-footer {\n  border: none; }</p>\n<p>.quotation-header,\nheader,\n.quotation-footer,\nfooter {\n  height: 150px; }</p>\n<p>.region-footer-fourthcolumn {\n  float: none;\n  margin-left: 50%;\n  width: 40%; }</p>\n<p>header &gt; section {\n  display: inline-block;\n  padding: 1em 2em; }</p>\n<p>.quotation {\n  margin: 0 48px; }</p>\n<p>.contextual-links-wrapper {\n  display: none; }</p>\n<p>.node-product {\n  position: relative; }</p>\n<p>table {\n  width: 100%;\n  page-break-inside: avoid; }</p>\n<p>table .field-label-inline .field-label,\ntable .field-label-inline .field-items,\ntable .field-label,\ntable .field-items {\n  float: none;\n  width: 49%;\n  display: inline-block; }\ntable .field-name-body .field-items {\n  display: block;\n  width: 100%; }</p>\n<p>td,\nth {\n  vertical-align: top;\n  text-align: left;\n  page-break-after: avoid; }\n  td img,\n  th img {\n    width: 220px !important;\n    height: 220px;\n    max-width: none;\n    margin: 0;\n    padding: 0;\n    border: 0; }</p>\n<p>p {\n  margin: 0;\n  margin-bottom: 1em;\n  padding: 0; }\nbody,\nbody.overlay {\n  color: #3b3b3b;\n  background-color: #fefefe; }</p>\n<p>a {\n  color: #467bc7; }</p>\n<p>tr.odd {\n  background-color: #fefefe; }</p>\n<p>tr.even {\n  background-color: #dae7c9; }</p>\n<p>.sidebar .block {\n  border-color: #dae7c9; }\n  .sidebar .block h2 {\n    background-color: #dae7c9; }</p>\n<h1>header {</h1>\n<p>background-image: url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgd2lkdGg9JzE1NDBweCcgaGVpZ2h0PSc3NXB4JyB2aWV3Qm94PScwIDAgMTU0MCA3NScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMTU0MCA3NScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSc+PHBvbHlnb24gZmlsbD0nIzlhYmU2ZCcgcG9pbnRzPScwLDc1IDksNjcgMTgsMTUgMTU0MCwxNSAxNTQwLDAgMCwwIDAsNzUnLz48L3N2Zz4iKSwgdXJsKCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB3aWR0aD0nMTMxMHB4JyBoZWlnaHQ9JzY5cHgnIHZpZXdCb3g9JzAgMCAxMzEwIDY5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAxMzEwIDY5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJz48cG9seWdvbiBmaWxsPScjZTljNjM4JyBwb2ludHM9JzAsNjkgMTMxMCw2OSAxMzEwLDAgMTI5OCw5IDEyOTIsNTUgNyw1NScvPjwvc3ZnPg==\"); }</p>\n<h1>footer {</h1>\n<p>background-color: #dae7c9;\n  color: #3b3b3b; }\n  #footer a {\n    color: #3b3b3b; }</p>\n<p>.front-list-items &gt; .field-items &gt; .field-item {\n  border-color: #e9c638; }</p>\n<p>.action-button {\n  background-color: #e9c638;\n  color: #3b3b3b; }</p>\n<p>nav a {\n  border-color: #3b3b3b;\n  color: #3b3b3b; }\n  nav a.active, nav a:hover {\n    background-color: #9abe6d;\n    border-color: #9abe6d;\n    color: #fefefe; }</p>\n<p>.item-list ul.pager li {\n  border-color: #dae7c9; }</p>\n<h1>news-block .pane-title {</h1>\n<p>background-color: #3b3b3b;\n  color: #fefefe; }</p>\n<h1>news-block .pane-content {</h1>\n<p>background-color: #dae7c9; }</p>\n<p>.product &gt; div {\n  border-color: #dae7c9; }</p>\n<p>.node-teaser .product_price,\n.node-teaser .product_msrp {\n  background-color: #dae7c9;\n  color: #3b3b3b; }\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNameStreet 1231234 CityCountry1234657891        \n  /#footer-columns \n\n\n  /.section, /#footer \n\n\nDear sir, madam, We provide you the following options:\n\n\n\n\n\n\n\n\n\nOption 1 \n\n\n\n \n\n\nTitle\nField:\u00a0value\n \n\n\n\nUnit price:\u20ac1,00Qunatity:1Total:\u20ac1,00 \n\n\n\n\n\n\n\nOption 2 \n\n\n\n \n\n\nTitle\nField:\u00a0value\n \n\n\n\nUnit price:\u20ac2,00Quantity:1Total:\u20ac2,00 \n\n\n\n\n\n\n\nWe are available for questions.\n\n\n\n```\n. Thanks for getting back to me Simon, I believe to have already excluded my own system by using bsweeney's http://eclecticgeek.com/dompdf/debug.php tool.\nBy using that tool, the following PDF screenshots have been obtained from the above HTML.\n0.7 renders like this (page2):\n\nWhereas 0.8 (git_master) renders this:\n\nThe big differences I see are the fonts and the footer (Different images due to lorempixel.com).\nFor the font, removing these lines solved it (which may indeed be another issue):\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  /* 1 */\n  font: inherit;\n  /* 2 */ }\nFor the footer block, it floats to the right, despite being overridden:\n```\n.region-footer-fourthcolumn {        <-- Float.\n  float: right; }\n  @media screen and (max-width: 480px) {\n    .region-footer-fourthcolumn {\n      float: none; } }\n...\n.region-footer-fourthcolumn {          <-- Do not float, move to halfway the page.\n  float: none;\n  margin-left: 50%;\n  width: 40%; }\n```\nSince for the footer case, the issue is 'resolved' if I remove the first definition, I still believe that earlier definitions are not overridden. If you feel this needs another name, please tell me what it is. . @simonberger I have tried to narrow these issues down as good as possible. It appears to have something to do with media queries and font always taking precedence over font-* even if those are defined later.\nFloat issue:\n```\n<!DOCTYPE html>\n\n\n\n\n    .region-footer-fourthcolumn {\n      float: right; }</p>\n<pre><code>  @media screen and (max-width: 480px) {\n    .region-footer-fourthcolumn {\n      float: none; } }\n\n.region-footer-fourthcolumn {\n  float: none;\n}\n</code></pre>\n\n\n\nI should not float.\n\n\n```\nIf I remove the media query it works as expected, but it did work in 0.7.\nAs for the font issue, you'll need this to replicate:\n```\n<!DOCTYPE html>\n\n\n\n</p>\n<pre><code>@import url(\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,700\");\n\nbody {\n  font: inherit; }\n\nbody {\n  background: #fefefe;\n  color: #3b3b3b;\n  font-family: \"Open Sans\", Arial, sans-serif;\n  line-height: 1.25em; }\n</code></pre>\n\n\n\n  Some text.\n\n\n```\nSomehow the font definition overrides the font-family definition that is introduced later. (This issue also existed in version 0.7).\nHowever somehow between 0.7 and 0.8 the following block from normalize.css apparently is being treated as a definition for a root element like html or body?\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  /* 1 */\n  font: inherit;\n  /* 2 */ }\nFull example\n```\n<!DOCTYPE html>\n\n\n\n</p>\n<pre><code>@import url(\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,700\");\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  /* 1 */\n  font: inherit;\n  /* 2 */ }\n\nbody {\n  background: #fefefe;\n  color: #3b3b3b;\n  font-family: \"Open Sans\", Arial, sans-serif;\n  line-height: 1.25em; }\n</code></pre>\n\n\n\n  Some text.\n\n\n```\nHope this helps :). Thanks for confirming I am not getting insane :) \nI'll have a look at that commit. If you need any help testing, drop me a message.. ",
    "gbonnema": "Apparantly we use  ImageMagick version 6.8.9-6 Q16 x86_64. Do you have a link to the most relevant issue? Is there a resolution?\n. ",
    "halfpastfouram": "I don't think this is related to #432. I see how this issue and issue #920 are probably related but #432 doesn't seem to have artefacts. Anyway, will this problem be tackled in the upcoming release?\n. ",
    "core23": "Thanks for merging it \ud83d\udc4d . ",
    "VR51": "Thank you. That's good to know. Will keep my eyes open for it.\n. ",
    "Renanh": "I am writing in an excel file information returned from the bank. when exporting the model informed in PDF, are breaking.\n. ",
    "Pravinslk": "head is spinning when i read that link can you tell me what is solution ? @nebrot \n. if no solution then no need go for that next step ryt ... :) @barryvdh what is the solution for this please don't give any link just give an idea or solution if you can :(\n. @bsweeney im using \"barryvdh/laravel-dompdf\": \"^0.6.1\" but what is the error ? what i want do ?\n. ",
    "theronystark": "Hi bsweeney,\nThank you for the response.\nIt seems to work, however the Open Sans Google font in my PDF disappears if I use this. The text is still there (can be selected, copied and pasted), but there is no visual of the letters.\nIs there any workaround to set the PDF to be readonly while keeping the custom font intact?\nPlease advise\nThank you\n. That is unfortunate.\nThank you for informing me about this, bsweeney\n. ",
    "Morfik": "Hello, @bsweeney \nThis problem is solved?. ",
    "inilabsn": "bsweeney Can you post here how it is solved..?\n. ",
    "ZerooCool": "The same problem when i'm using mediawiki and i don't know how i can fix that.\nhttps://github.com/dompdf/dompdf/issues/1766. The same problem with mediawiki image.\nhttps://github.com/dompdf/dompdf/issues/1766. I have the same problem.\nHow i can make that when i use mediawiki ?\nhttps://github.com/dompdf/dompdf/issues/1766. Work. But : Image not found or type unknown\n```\n<?php\nrequire_once 'extensions/dompdf/autoload.inc.php';\nrequire_once 'extensions/dompdf/lib/html5lib/Parser.php';\nrequire_once 'extensions/dompdf/lib/php-font-lib/src/FontLib/Autoloader.php';\nrequire_once 'extensions/dompdf/lib/php-svg-lib/src/autoload.php';\nrequire_once 'extensions/dompdf/src/Autoloader.php';\nDompdf\\Autoloader::register();\necho ($_SERVER[\"HTTP_REFERER\"]);\n$page = file_get_contents($_SERVER[\"HTTP_REFERER\"]);\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$dompdf->loadHtml($page);\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'landscape');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n$dompdf->stream();\n?>\n```. I don't know. Now i use TCPDF :\nhttps://wiki.visionduweb.fr/index.php?title=Accueil\nThen i can transform the menu mediawiki to a pdf file.\nBut, i don't know how i can transforme only the content of a mediawiki page.. If you have time, for test a code for encode this page to pdf file : \nhttps://wiki.visionduweb.fr/index.php?title=Installer_Apache2_sur_Debian. ",
    "jgmuchiri": "Solved the issue by using the absolute (full) path to the image if you are on Linux box\n<img src=\"/home/vagrant/projects/www/my-app/assets/images/logo.png\">\nIf you are using a framework such as CodeIgniter, you can achieve this by using \n<img src=\"<?php echo APPPATH.'path-to-your-image.png'; ?>\">. ",
    "insightfuls": "I should have said that I wasn't just poking around the codebase looking for trouble. I investigated as I encountered a problem rendering some HTML, so tracked down the cause, fixed it, and then when rebasing onto the developer branch, found that it was already partially fixed, but still thought it worthwhile to submit the rest of the fix here. Anyway, you know where to find me if you have any questions or need any more work for this. \ud83d\ude04\n. I must admit, I neglected to consult existing issues in this case.\nIt seems to me the reason #1212 addresses such a specific situation is that it doesn't address the nesting issue I identified. If the nesting issue is addressed, it should generalise well to inline blocks, I think. Some aspects of it may be able to be generalised sooner, too.\nShould I perhaps rebase this work on top of #1212, which affects the same part of the codebase, as a first step? Then at least these two fixes can land together, and if I find time to do some further work, the way is open.\n. ",
    "tarunnh": "Hey bsweeney, thanks for responding. I actually tried that as well, and then i quickly realized that if i did that, the table headers I've got setup then don't line up with the columns. and if i make the table headers part of the table, they don't show up in the next page in the case of overflow :( \nany other hacks you could think of?\n. i see, i'll try that out and see if it works. Hopefully it works :) but thank you very much for your help bsweeney. Hopefully there will be an update to the dompdf soon to allow for something like this :)\n. ",
    "CrashyBang": "Hey @bsweeney I like the idea of a post install message, and I agree temp directories feels hacky at best.\nCould we potentially offer some sort of post install set up script similar to laravel's artisan that will ask the user to specify fonts directories (among other things) and potentially offer a fall back if unspecified?\nThis does however add another layer of complexity to the install process and I am not sure how much you would like to streamline this process.\n. I can't think of any reason as to why this would not work, my PHP knowledge is somewhat lacking is there any drawbacks to modifying the class file directly? And I am correct in understanding if a setting was missing we would use the temp directory as a fallback? I think that is reasonable.\n. Awesome sounds good to me, is there anything I can do to help???\n. ",
    "Joshuavoosten": "Currently the code setup is as following;\n```\n$html = file_get_contents(DIR . '/../../../vendor/dompdf/pdf_mail.html');\n$dompdf = new Dompdf();\n$dompdf->setBasePath('/../');\n$dompdf->loadHtmlFile($html);\n$dompdf->setPaper('a4', 'portrait');\n$dompdf->render();\n```\n. ",
    "agamemnus": "I thought this rule was supposed to be for css2 compliance somehow?\n. So to clarify, the CSS3 is actually \"break\" and not \"page-break\"?\n(I was having trouble with Chrome because I have been using \"page-break\", which changed to \"break\" in the innerHTML as of the last few versions, which then broke the PDF generation.)\n. ",
    "cjwotbot": "@bsweeney Is this now possible?. My teammate fixed the issue. The cause was not because of dompdf, but was caused by conflicts in our server. We currently use nginx but we migrated from apache. If by typing php --ini, warning messages like the ones mentioned here https://github.com/Homebrew/homebrew-php/issues/3896 appears, I suggest clearing up those messages, by either reinstalling a fresh php or properly handling those messages.\nThanks for the response @bsweeney, it lead us to our fix.. ",
    "bjmrey": "That would be an awesome feature!. ",
    "garnold": "@bsweeney I saw another issue that indicated Dompdf 0.8 supports form fields but then I ran across this thread. Can you help me understand?. Heads-up, Google just upgraded the Google App Engine Standard Environment PHP 5.5 build (Build Date | Sep 28 2017 10:04:45) to libxml 2.9.5 and this issue immediately bit us. Setting isHtml5ParserEnabled = true fixed the issue.\nUPDATE:\nThe HTML5 parser caused other formatting issues, so we reverted and instead went with removing whitespace as a workaround.\n. @bsweeney Is this fixed? Or should we just stick with the remove whitespace workaround?. ",
    "hassanazimi": "I want to print receipts and I want page break to be set right after the text is finished meaning 80mm width with height adjusts to the text size, also if margins could be modified it would be perfect.\n. ",
    "zagreusinoz": "I'm just getting into dompdf myself, but i know you can set page sizes with: \n$dompdf->setPaper('A4', 'portrait');\nstring|array $size: 'letter', 'legal', 'A4', etc. See Dompdf\\Adapter\\CPDF::$PAPER_SIZES\nstring $orientation: 'portrait' or 'landscape'\nNot sure about the margins though.\n. ",
    "HKandulla": "Hi @hassanazimi, can you give me an idea how much work it would take to implement such a feature (auto-height) in dompdf. In mPdf and iText (Java) you can implement auto-height by getting the y-position after loading the html into an instance and than creating another instance with the y-position as height. So getting the y-position afther loading in some content (html) is probably the key. Could you outline whether and how this could be implemented in dompdf? \nI would really like to switch to dompdf but I need auto-height. Maybe I can try to implement this feature. Thanks, Hannes\n. Hi @bsweeney thanks for your detailed answer! And sorry for my late response. \nThat's sounds like a good solution. I will give it a try and post my findings here. \nThanks for all the good work, Hannes. ",
    "doiftrue": "```\n\n",
    "Conver": "If I fill the table up with data, then I'm able to set it to landscape, but then normal fail, and if I limit the content then landscape fails.\n. The newest version.\nhttp://pastebin.com/XuhEiauS\n. I'm not getting any error from PHP nor web-server.\nIt seems that if the page ain't filled, it won't use landscape, if there is enough data for landscape, then it won't use portrait.\n. Just tried using test without tables, and that's going all fine, so might be related to #98 \n. ",
    "FernandoManoelAlmeida": "\"dompdf/dompdf\": \"0.7.x-dev\"\nc662c42\n. Thanks man. I'll wait for it\n. The last update ( 74a9b6a ) makes all works fine, thanks\n. ",
    "ikorgik": "Have the same issue.\n. ",
    "samgkea": "I'm a little late to the party here, but I was having the same exact issue. To fix this, I put in an empty div before my left + right inline-block div's and added a clear: left style declaration. Seems to be the magic elixir. \nSee below:\n<div class=\"tableRow\" style=\"display: block; font-size: 9px; overflow: hidden; padding: 0 0 .5em; margin: 0; -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid;\"><div style=\"clear:left\"></div><div class=\"leftColumn\" style=\"display:inline-block; margin: 0; padding: 0; width: 35%\"><span class=\"productTypeTitle\" style=\"text-decoration: underline;\">{ OUTPUT HERE }</span></div><div class=\"rightColumn\" style=\"display: inline-block; margin: 0; padding: 0; width: 65%;\">{ OUTPUT HERE }</div>. ",
    "mowchan": "More simply, based on the answer from @samgkea above, you can put the clear:left declaration on the first inline-block element.\n<div class=\"row\">\n  <div class=\"col\" style=\"clear:left\"></div>\n  <div class=\"col\"></div>\n</div>. ",
    "McGreeb": "Nope issue still persists, but I realised I posted this on the wrong github. Have reposted it here: https://github.com/barryvdh/laravel-dompdf/issues/256\n. Anything you need me to test let me know.\n. So after doing some investigation it seems to be down to the use of the DIRECTORY_SEPARATOR constant which comes out to \"/\" on my windows platform but \"\\\" on my debian one.\nThere is no need to use the DIRECTORY_SEPARATOR constant as windows will handle both \"\\\" and \"/\" and debian will handle \"/\" so we can just replace all instances of DIRECTORY_SEPARATOR with \"/\" \nI am trying to test this atm but having issues with pushing my vendor folder to my git reposirty in netbeans\n. So I replaced all instances of DIRECTORY_SEPARATOR with \"/\" and uploaded it to my Debian server and I'm still getting the same error\n. Yeah I figured It would be a good quick test to give us some more information. \nThis is the entry in my laravel composer.json: \"barryvdh/laravel-dompdf\": \"0.7.x@dev\"\n. I deleted my vendor folder in laravel and did a composer update essentially re-downloading and reinstalling all my plugins including dompdf, still have the same issue.\n. XD what change do you want me to try?\n. I have already tried replacing all instances of \"DIRECTORY_SEPARATOR\" with \"/\" in that file and had no luck. there are no raw \"\\\" in it.\n. Could you pastebin your file for me?\n. I feel like im missing something, I only have one file \\vendor\\dompdf\\dompdf\\lib\\fonts\\dompdf_font_family_cache.dist.php that looks like this http://pastebin.com/9whLUZ4q is this the file your talking about?\n. Any idea when we might get an update with a fix for this? starting to kinda need the functionality in my project\n. don't upload local copy, do a composer-update to pull from source everytime\n. included in package I beleve\n. I will try that when I get a chance\n. Yeah i have that folder, still have the issue.\n```\nusername@server:/var/www/application/dev/storage$ ls -l\ntotal 16\ndrwxrwx--- 3 www-data www-data 4096 Oct  7 17:42 app\ndrwxrwx--- 2 www-data www-data 4096 Oct  7 17:42 fonts\ndrwxrwx--- 5 www-data www-data 4096 Oct  7 17:42 framework\ndrwxr-xr-x 2 www-data www-data 4096 Oct  7 17:44 logs\n```\n. OK I fixed it, found the file /var/www/application/dev/storage/fonts/dompdf_font_family_cache.php\nChanged all the \"\\\" to \"/\" works fine.\n. Yeah, I was looking in the wrong place for the file that's why. when you posted I was looking in the vendor folder for it not the storage folder.\n. a couple of external style sheets. I am doing this from within Laravel, If I bypass dompdf and load the view directly in HTML it looks fine.\n```\n   if($producepdf == true){\n        $filepath = app_path().'/TestFiles/';\n        $tempfilename = hash('sha1', Auth::user()->email).\"-\".hash('sha1', date(DATE_RFC2822)).'.pdf';\n\n        $file = $filepath . $tempfilename;\n\n        $pdf = PDF::loadView('pdf.Reports.ProfitLoss', compact('enddate', 'companyinfo', 'companyaddress', 'incometotal', 'profitloss' , 'sales', 'expences' , 'expencestotal'))->setPaper('A4', 'portrait')->save($file);\n\n        return response()->file($file)->deleteFileAfterSend(true);\n\n    }else{\n\n        return View::make('pdf.Reports.ProfitLoss')\n            ->with('enddate', $enddate)    \n            ->with('companyinfo', $companyinfo)\n            ->with('companyaddress', $companyaddress)\n            ->with('incometotal', $incometotal)\n            ->with('profitloss', $profitloss)\n            ->with('sales', $sales)\n            ->with('expences', $expences)\n            ->with('expencestotal', $expencestotal);\n\n    }\n\n```\nwhen i set $producepdf to false I get perfect looking html out.\nstyling is included as bellow\n<link rel=\"stylesheet\" href=\"{{ url('/includes/bootstrap/css/bootstrap.min.css') }}\">\n    <link rel=\"stylesheet\" href=\"{{ url('/includes/pdf.css') }}\">\n. ",
    "dylboy": "I had this issue moving from PC to MAC\ni had to change page from backslash \\ to forward slash /\nin /myapp/storage/fonts/dompdf_font_family_cache.php\n. Um pretty sure i said this 17 days ago?\nOr is this something different?\n. @McGreeb :) Glad you got it sorted out.\nHopefully plain sailing now.\n. ",
    "GregKeaney": "Anyone solve this?  I am getting the same issue.  Pushing from a PC to a Forge server.\n. I'll try the first suggestion now...\n. Yep.  Did nothing for me either.\n. how about emptying storage/fonts on the production machine?\n. you're getting above my pay grade...I do have command line access.  How would I render the page there?\n. right I did try that.  Let me see if that actually got pushed.\n. Do I need to replace all instances of '\\' in dompdf_font_famliy_cache with '/' ?\n. Yep.  Changing all the separators in the file worked.  Thanks!\n. ",
    "vincentkedison": "Is this issue resolved?. ",
    "harsh1412": "Change backslash \\ to forward slash / \nin fonts/dompdf_font_family_cache.php. ",
    "Eltyer": "Additionally:\nIn storage/fonts/dompdf_font_family_cache.php\nchange all \"/\" to \"\\\"\nYou can do this with the \"replace all\" function of your text editor. ",
    "ammarnaqvi": "Deleting everything inside app/storage/fonts, solved this for me. ",
    "sodikabdullaev": "Just deleting /storage/fonts folder is enough. ",
    "satyajeetporadia": "Is there anything I can do to have this functionality?\n. I tried to embed external fonts by using font-family,\n@font-family: 'Pacifico';\n  font-style: normal;\n  font-weight: normal;\n  src: url('path to ttf file') format('truetype');\n  }\nBut that also seems to be not working.\n. Yes the fonts are not loading. Even if I have font-family: Pacifico, the fonts are coming Times new Roman\n. I have uploaded font.ttf on my server and I am giving that file path in url(\"...\").\n. Sorry, But I don't know how to enable debugging in dompdf.\n. ",
    "sonispark": "```\n  \n\n\nRef.\nDescription\nDept.\nQty\nUnit\nPrice\nAmount/DHS.\n\n\n\n';\n  for ($i=0;$i<=100;$i++) {\n\n    $html.= '<tr style=\"height:auto; \">\n    <td>1</td>\n    <td style=\"text-align:left;\"> <div style=\"padding-bottom:5px;\">  Test Description</div></td>\n    <td>claim</td>\n    <td  style=\"text-align:center;\">1</td>\n    <td>1</td>\n    <td style=\"text-align:right;\">100</td>\n    <td style=\"text-align:right;\">100</td>\n  </tr>';\n\n  }\n\n$html .= '\nTotal \n300\n\n\n\n\n\n\nRemarks \n testets \n\n\n\n```\n\n. ",
    "antoniogarcia78": "Now in 0.7 work\nThe script in html is \nif (isset($pdf))\n            {\n            $font = $fontMetrics->getFont(\"Arial\", \"bold\");\n            $pdf->page_text(10, 580, \"Informe Resumen\", $font, 10, array(0, 0, 0));\n            $pdf->page_text(770, 580, \"Pagina {PAGE_NUM} de {PAGE_COUNT}\", $font, 10, array(0, 0, 0));\n            $pdf->line(10, 575, 830, 575, array(0,0,0), 1);\n            }\nNow the problem is the rowspan and pagebreak. But this is other history\n. Great and thank you. \nI closed accidentally\n. ",
    "uc-bkr": "I have a template processor. I am printing via template engine which is smarty. \nSo there are some template strings, which is resolved by smarty. \nAnd I have referenced stylesheet in following manner / : \n<link type=\"text/css\" rel=\"stylesheet\" href=\"style.css\" />\nIt is rendering content correctly but css is not applying on given content\n. ",
    "Gnurps": "I don't understand \"only with the packaged version of dompdf...\" I downloaded the full, current package from github. Not using Composer because on shared hosting. So what's a guy to do without Composer?. I clicked the green Clone or Download button on the main dompdf github page.  What button goes to that releases page?. ",
    "costafrancesco94": "It's supposed to work anyway... just add, in the top of the file in wich you are using 'new Dompdf();'\nuse Dompdf\\Dompdf;\nDon't forget to download (or install with composer) the other two libs that are required to load the entire framework\n. ",
    "pittikolbenhirse": "I've found a solution by myself but faild to open a pull request :)\nhttps://github.com/PhenX/php-svg-lib/issues/9\n2016-09-21 22:44 GMT+02:00 Brian Sweeney notifications@github.com:\n\nI'm sure you could, but I don't know php-svg-lib\nhttps://github.com/PhenX/php-svg-lib well enough to direct you. Head\nover to the project and put in an enhancement request. If @PhenX\nhttps://github.com/PhenX is able to give you enough direction to make\nthe change make sure you submit a pull request.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1269#issuecomment-248737131, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AVUNeghQ-WC8l6SqjE_pZGc9E1ED7FJQks5qsZcngaJpZM4KDCtG\n.\n. \n",
    "rob281": "Thanks for the reply! Are you aware of any alternative method to create my desired result or would you recommend I use a different plugin? I am taking a crash course in web dev right now and am trying to make dompdf work for my uses. Thanks! \n. ",
    "SakaSerbia": "Thank you. But where do put *{ font-family: DejaVu Sans, sans-serif; }?\nI use dompdf in entity_print module in drupal 8.  Does I need to instal https://github.com/phenx/php-font-lib/\nI write this code composer require dompdf/dompdf onluy. :)\n. Its work. \nhttp://prntscr.com/d04jcl\nThank you a lot. \n. This is my code:\n<header>header on each page</header>\n<div class=\"page node-print-style\">\n    {{ content }}\n</div>\n<footer>footer on each page</footer>\nIn CSS i write this:\n```\n@page { margin-top: 1.9cm; margin-left:1.9cm; margin-right: 1.32cm; margin-bottom: 3.67cm; }\n@page :first { margin-top: 2.54cm; margin-left:1.9cm; margin-right: 1.32cm; margin-bottom: 3.67cm;   }\nheader { position: fixed; top: -1.9cm; height: 50px; }\nfooter { position: fixed; bottom: -3.67cm; height: 50px; }\n```\nNew I try header:first, header:first-of-type But in all this case I have header on front page.\nI dont know how, but there is no footer on front page.\nHow to make that header is hide on front page?. I solve the problem.. Thank you a lot... ",
    "griffins": "Just noticed there are a lot of places that are affected.  Is there away we can surpress the error globally?. @bsweeney It seems to affect all places units are used. Any plans you have? i can push in some help since i use this library a lot!. How does one go about doing that? The splitting and combining?. ",
    "elpiel": "I also encountered this issue in: \\Dompdf\\Css\\Style::get_computed_border_radius() for if statement if ($rTL + $rTR + $rBL + $rBR == 0) when these values are empty strings.\nAnd also for: $ret += (mb_substr($l, 0, $i) * 72) / $dpi;. I presume it's because these lines: \nCss/Style.php:513 and Css/Style.php:517. I am giving you a little bit of insight:\n\nStylesheet.php:869\nUsing 0.7.0 version with PHP 7.1.0 + Xdebug 2.5.0 + Zend Engine 3.1.0\nDumping the $query where it brakes, I get this array:\n[ 'query' => '//[@href]', 'pseudo_elements' => [] ]\nDumping the selector: :link\nThe code is as follow:\nphp\n$dompdf = new Dompdf();\n$dompdf->loadHtml('<!DOCTYPE html><html><head><body></body></html>');\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4');\n// Render the HTML as PDF\n$dompdf->render();\n // Output the generated PDF to Browser\n$dompdf->stream('filename.pdf', ['Attachment' => 0]);\nPS: Sorry for the delay - holiday :P . Yes with both 5.6 and 7.0 we don't have issues, but with 7.1 we have.. Yes this is strange... This happens only in our VM. I will check the config and put it here.. I will check today when I boot the vagrant machine.. Case closed. :stuck_out_tongue: It is working correctly now.. Are you aiming for PHP 5 and 7/7.1 compatibility or you want to migrate to 7/7.1 and not keep backward compatibility for 5.6?. I find it a little bit strange that from 0.6 to 0.7 it brakes compatibility. Because upgrading to 0.7 forces some changes to the code itself, like using the Namespace and also using the config file when it doesn't exists anymore. I am just curious why you didn't release it as new version as a whole, like 1.0?. \n",
    "bbashy": "One reason not to use 7.1 at the moment :(. Yeah, thanks for the overview of solutions but I only used 7.1 locally. I'm running 7.0 for this now.. @manogi See #1331 . Is this still not fixed?. @Jono20201 Appears it is now. Originating package wasn't updated. Running 0.8.0 now, thanks.\n$ ver dompdf/dompdf\nversions : * v0.8.0. ",
    "manogi": "I changed 6 files in my local dompdf to fix this (at least for my situation). Are you far into this yourself already or should I make a pull request with my files?. Ah OK thanks. . Thank you for looking into this. I tested this using the 0.7.x-dev branch right now.\nThe errors have disappeared in my PDFs, but I encountered new (smaller) problems.\nI know it is not very helpful, but right now I only have the time to say that it seems that text-align: right in the CSS does not have an effect anymore. Also in one PDF it added two blank pages before the content started (even less helpful comment, since this only happened in one of my many PDFs, which are all the same kind of invoice). \nI'm sorry I can't look deeper into this! I will when I get more time, maybe over the weekend.. Thank you for looking into this. I tested this using the 0.7.x-dev branch right now.\nThe errors have disappeared in my PDFs, but I encountered new (smaller) problems.\nI know it is not very helpful, but right now I only have the time to say that it seems that text-align: right in the CSS does not have an effect anymore. Also in one PDF it added two blank pages before the content started (even less helpful comment, since this only happened in one of my many PDFs, which are all the same kind of invoice). \nI'm sorry I can't look deeper into this! I will when I get more time, maybe over the weekend.. ",
    "danielfnz": "A have some error \"A non-numeric value encountered\"\n\"at HandleExceptions->handleError('2', 'A non-numeric value encountered', '/app/vendor/dompdf/dompdf/src/FrameDecorator/Page.php', '494', array('frame' => object(Inline), 'p' => null, 'margin_height' => 'auto')) in Page.php line 494\". A have some error \"A non-numeric value encountered\"\n\"at HandleExceptions->handleError('2', 'A non-numeric value encountered', '/app/vendor/dompdf/dompdf/src/FrameDecorator/Page.php', '494', array('frame' => object(Inline), 'p' => null, 'margin_height' => 'auto')) in Page.php line 494\". @bsweeney  i change the dompdf version to dev-master and show a new error in a composer.\ndanielfnz/laravel-dompdf dev-master requires dompdf/dompdf dev-master -> satisfiable by dompdf/dompdf[dev-master] but these conflict with your requirements or minimum-stability.\ndo you know what is it?\n. ",
    "steffenweber": "The PHP 7.1 compatibility issue I reported is solved in the develop branch. Thank you!. The PHP 7.1 compatibility issue I reported is solved in the develop branch. Thank you!. In the method Style::length_in_pt, there are more (float) casts required. For some reason, its code for handling the units pt, %, rem, em, in and pc uses a (float) cast but the code for the units px, cm, mm and ex does not (example).\nAdding the (float) casts fixes for example the following error:\nA non well formed numeric value encountered in vendor/dompdf/dompdf/src/Css/Style.php:515\nIn my case the root cause for this error was the HTML code <img src=\"...\" width=\"177\" height=\"84\" alt=\"...\"> whose height attribute for some reason arrived in Style::length_in_pt as 84 px (notice the whitespace between the number and the unit).. Yeah, removing the whitespace before px in line 36 and in line 39 of AttributeSelector.php solves this issue. (It seems odd that it exists in the first place but I'm not sure whether removing it could maybe break something else.). I can confirm that this issue can be solved by downgrading libxml2 from version 2.9.5 to version 2.9.4 or by applying the workaround posted by @helmutschneider (thank you!).\n(Using PHP 7.1.9 on Linux.). Upgrading from libxml2 2.9.5 to 2.9.6 does not change anything here: works only with the workaround.. ",
    "graddus-corp": "A have some error \"A non-numeric value encountered\" in Block.php line 51:\nat HandleExceptions->handleError('2', 'A non-numeric value encountered', '/app/vendor/dompdf/dompdf/src/Positioner/Block.php', '51', array('frame' => object(Block), 'style' => object(Style), 'cb' => array('x' => '34.015748031496', 'y' => '34.015748031496', 'w' => '543.96850393701', 'h' => '723.96850393701', '34.015748031496', '34.015748031496', '543.96850393701', '723.96850393701'), 'p' => null, 'y' => '34.015748031496', 'x' => '34.015748031496', 'top' => 'auto', 'left' => 'auto')) in Block.php line 51. @bsweeney The issue is solved with  the develop branch. But, in Absolute.php, line 96, I needed to put the code (casting variables to float):\n$y += (float)$h - $height - (float)$bottom;\n. ",
    "psybaron": "The issue is solved with 0.7.x-dev. Waiting for push to master.\nThank you.. ",
    "sisve": "I'm still having issues at Block.php mentioned in https://github.com/dompdf/dompdf/pull/1339#issuecomment-269950705. Huzzah! All my [dompdf-related] issues are resolved! Rejoice! \ud83c\udf89. @mpixelz try composer require dompdf/dompdf@dev-master --update-with-dependencies.. @essteffan Do you have a stack trace?. This PR solves many of my issues, except some arithmetics in Block.php\nhttps://github.com/tomlankhorst/dompdf/blob/2eaf8fe0f1c95ab76e7a428a39a54dd240e2b2ec/src/Renderer/Block.php#L139-L167\n```A non-numeric value encountered\n~/vendor/dompdf/dompdf/src/Renderer/Block.php:148\n~/vendor/dompdf/dompdf/src/Renderer/Block.php:68\n~/vendor/dompdf/dompdf/src/Renderer.php:293\n~/vendor/dompdf/dompdf/src/Renderer.php:101\n~/vendor/dompdf/dompdf/src/Renderer.php:194\n~/vendor/dompdf/dompdf/src/FrameReflower/Page.php:140\n~/vendor/dompdf/dompdf/src/FrameDecorator/AbstractFrameDecorator.php:828\n~/vendor/dompdf/dompdf/src/Dompdf.php:835\n```\n$border_box:\narray (\n  0 => 34.01574803149606,\n  1 => 34.01574803149606,\n  2 => 543.9685039370079,\n  3 => 'auto',\n). I have yet to pin down all the issues I have with non-bmp characters. First; neither of the two example characters I used had glyphs in DejaVuSans.ttf. I switched over to \ud835\udd38 (U+1D538 mathematical double-struck capital a) which exists in DejaVuSans.\nI patched utf8toUtf16BE, and the correct byte sequence for \ud835\udd38 is now generated.\n\nChrome shows it as two whitespaces (with font subsetting). I can copy/paste both these into a text editor and get the original character.\nChrome shows it as two boxes (without font subsetting). I can still copy/paste these.\nMac's Preview shows two boxes. I cannot copy/paste from Preview.\nAdobe Acrobat Reader DC shows two boxes. I can copy/paste those two and get the original character.\n\nIt seems that DejaVuSans.ufm only contains the glyphs for the bmp. This one is generated using php-font-lib 0.5.0, where only format 4 of the cmap was supported. Upgrading to 0.5.1 adds support for format 12.\nDejaVuSans.ttf's cmap has 5 subtables:\n| format | length | platformId | encodingId | Meaning-ish                                     |\n|--------|--------|------------|------------|-------------------------------------------------|\n| 4      | 1960   | 0          | 3          | Unicode 2.0 or later semantics (BMP only)       |\n| 12     | 3388   | 0          | 10         | (Unknown)                                       |\n| 6      | 622    | 1          | 0          | Backward compatibity with something Mac-related |\n| 4      | 1960   | 3          | 1          | Unicode BMP (UCS-2)                             |\n| 12     | 3388   | 3          | 10         | Unicode UCS-4                                   |\nAdding support for format 12 opens up the number of glyphs from the 1960 in the BMP, to 3388 in total. The ufm file needs to be regenerated, and then you run into a loop in php-font-lib's TrueType/File.php that needs to be patched to use the subtable platformId=3 encodingId=10. \nWith this done you get an ufm file containing U 120120 ; WX 741 ; N u1D538 ; G 5495, the line for the \ud835\udd38 ... but still no glyphs visible.\nThe mentioned loop also exists in Cpdf.php, but here there are no other subtables available. They are lost when the font is written to disk a few lines above the loop.\nThis is where I give up ... for now.\nTo summarize;\n1. Upgrade php-font-lib to 0.5.1\n2. Patch File.php to prioritize the 3/10 cmap.\n3. Regenerate the ufm file.\n4. Feel the despair when the glyph is still missing.\n. Some further debugging shows that the generated font for the subsetting has an odd CIDToGIDMap  where the CID is 54584=0xD538. Your favorite calculator will show that 120120-0xFFFF=54584, which means that the generated of the cid-to-gid map is wrong-ish.\nI tracked it down to https://github.com/dompdf/dompdf/blob/master/lib/Cpdf.php#L2863-L2866 which follows the specification. From \"Table 117 - Entries in a CIDFont dictionary\":\n\n(Optional; Type 2 CIDFonts only) A specification of the mapping from CIDs to glyph indices. If the value is a stream, the bytes in the stream shall contain the mapping from CIDs to glyph indices: the glyph index for a particular CID value c shall be a 2-byte value stored in bytes 2 \u00d7 c and 2 \u00d7 c + 1, where the first byte shall be the high-order byte. If the value of CIDToGIDMap is a name, it shall be Identity, indicating that the mapping between CIDs and glyph indices is the identity mapping. Default value: Identity.\n\nThe obvious issue is that two bytes aren't enough to represent the character id 120120=0x1D538. If I disable the generation of the CIDToGIDMap entirely none of my glyphs show up, which is a reasonable outcome. This indicates, I believe, that the correct bytes are there (since I patched utf8toUtf16BE), but that the map is wrong. I tried uploading my minimal font to http://torinak.com/font/lsfont.html and tells me in a red friendly color; \"Decoding error\". My rendered input was \"CHAR='\ud835\udd38'\" and the glyphs for the ascii characters are there, but the \ud835\udd38 seems to have been broken down to into two glyphs at D538 and FFFF. That looks like an parsing error somewhere.\nI'm stopping my debugging at this point; I'm way in over my head in the pdf standard and how non-bmp characters should be handled. It could be that the entire font generation needs to change. It could be that I didn't chant enough while debugging. I'm afraid that, by keep alt-tabbing back and forth between byte arrays and php code, I will awake the unicode-consuming pdf-monster that resides in the dark areas of the specification. It haunts me. I can hear it breathing, hiding, waiting...\nSo, to summarize everything so far; the original issue is about fixing utf8toUtf16BE. Doing that is enough to have correct byte codes in the pdf, so that you can copy/paste from it and have the correct characters. The actual visibility of the glyphs is another matter which I leave for more experienced pdf gurus.. ",
    "johnkwoods": "I've also been getting this error, downloaded the master branch this morning, and it's still occurring. The full backtrace is too long for this conversation, so I'm only including the first line...\nWarning in ./libraries/DisplayResults.php#871\nA non-numeric value encountered\nBacktrace\n./libraries/DisplayResults.php#4943: PMA\\libraries\\DisplayResults->_getTableNavigation(.... ",
    "klopal": "@bsweeney do you have plans for releasing this update anytime soon?. ",
    "andrewmclagan": "thank you! When will this be version tagged on packagist?\n@bsweeney . Great ! ;). Although i'd be more inclined to circumvent this issue by silencing the warnings @ rather then having a master branch as a dependancy. IMO.\n@sisve @mpixelz . You my friend, are amazing.. ",
    "mpixelz": "Hi,\nsorry for being a noob..but i just tried composer update and it says nothing to update.\ni also tried composer require dompdf/dompdf 0.7.x@dev to get all the tags\nas i really need to get this on php 7.1 (dont know how to downgrade mac to 7.0) \nam i missing anything?\nmay be you can release mid 0.7.1 like 0.7.0.5 or something?\nedit:\ncomposer require dompdf/dompdf dev-master\nresult:\n```\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - Can only install one of: phenx/php-svg-lib[v0.2, 0.1].\n    - Can only install one of: phenx/php-svg-lib[v0.2, 0.1].\n    - Can only install one of: phenx/php-svg-lib[v0.2, 0.1].\n    - dompdf/dompdf dev-master requires phenx/php-svg-lib 0.2.* -> satisfiable by phenx/php-svg-lib[v0.2].\n    - Installation request for dompdf/dompdf dev-master -> satisfiable by dompdf/dompdf[dev-master].\n    - Installation request for phenx/php-svg-lib (locked at 0.1) -> satisfiable by phenx/php-svg-lib[0.1].\nInstallation failed, reverting ./composer.json to its original content.\n```. ",
    "garas": "There is no '0.7.1-beta1' or similar tag, so this '0.7.x@dev' would just get latest 0.7 tag with any stability ('0.7.0').\n'dev-master' would get latest commit from 'master' branch.. It looks like you are using Piwigo gallery\nThere is closed issue https://github.com/Piwigo/Piwigo/issues/596, try to report there.\nDompdf is not related to your error.. ",
    "MatthiasKuehneEllerhold": "You could use \"dev-develop as 0.7.1\" in the meantime.. With PHP 7.0 you'd just get rid of the error log entries. The underlying problem (the automatic casting) would still be in DomPDF. PHP 7.1 is just more verbose in logging than 7.0.... My best guess would be to help @bsweeney by creating PRs that fix these problems. \nI'm not sure if all occurrences are already found, I recently found an unfixed one here: #1407 . Not sure if someone looked at / fixed CPDF.php (as mentioned by @IvanRibakov above).\nAnd ask him to release a fixed version soon. ;-). You could use the PHP-CBF to automate fixing a lot of coding style errors.. What I like to do with CBF is I'll let it fix everything and then review everything its done. There are some special cases where it misbehaves and you can easily revert them (via git) but it takes away a lot of pain.\nIt was just a suggestion to further your cause, not intended as a replacement ;). composer should have warned you because \"ext-gd\" is required in the composer.json!. I've managed to use our PDF templates to create a small test case, which triggers the error:\n```\n<!DOCTYPE html>\n\n\n",
    "antonioribeiro": "Dev-develop works fine but it would be really great to have it in a less volatile state... Thanks for fixing this, guys!. ",
    "nickurt": "What is the ETA for 0.7.1 tag?. ",
    "juuuuuu": "Need it too. Thank you for your work!. ",
    "Jono20201": "@bsweeney Eagerly awaiting a PHP7.1 compatible tagged release. Thank you for your work.. @bbashy Are you using the new release?. ",
    "bkuhl": "Agreed, thank you!!\nOn Thu, Feb 16, 2017, 9:03 AM Jonathan Martin notifications@github.com\nwrote:\n\n@bsweeney https://github.com/bsweeney Eagerly awaiting a PHP7.1\ncompatible tagged release. Thank you for your work.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1272#issuecomment-280338218, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgChe6-U5AniwDKbzNl-mnZG8q2G7vmks5rdFdLgaJpZM4KHVo6\n.\n-- \nBen Kuhl\n. I ran into the same problem on https://github.com/dompdf/dompdf/blob/master/src/FrameDecorator/Page.php#L494 because $margin_height is \"auto\". \n",
    "essteffan": "I also got updated from 0.6 to 0.8 but same problem. I'm using homeastead with PHP 7.1.2-1+deb.sury.org~xenial+1 (cli) (built: Feb 17 2017 12:46:05) ( NTS ). ",
    "felixbvf": "This error is generate by \"barryvdh/laravel-dompdf\": \"^0.7.0\" and PHP 7.1 for resolv this error we must change \"barryvdh/laravel-dompdf\": \"^0.7.0\"  to \"barryvdh/laravel-dompdf\": \"^0.8.0\" and then composer update.. This error is generate by \"barryvdh/laravel-dompdf\": \"^0.7.0\" and PHP 7.1 for resolv this error we must change \"barryvdh/laravel-dompdf\": \"^0.7.0\"  to \"barryvdh/laravel-dompdf\": \"^0.8.0\" and then composer update.. ",
    "Bulmer": "Any movement on this problem? Should I revert back to php7.0? Would that resolve it?. Thanks @MatthiasKuehneEllerhold . Anything I can try, to help? I use this package in all my apps.. ",
    "KamillaPup": "I'm encountering this error myself. Yes it appears four times. I am using 2.9.1 with PHP 7.1\n```\nWarning: A non-numeric value encountered in /home/sangie/public_html/gallery/include/template.class.php on line 1791\nWarning: A non-numeric value encountered in /home/sangie/public_html/gallery/include/template.class.php on line 1791\nWarning: A non-numeric value encountered in /home/sangie/public_html/gallery/include/template.class.php on line 1791\nWarning: A non-numeric value encountered in /home/sangie/public_html/gallery/include/template.class.php on line 1791\n```\nIs there a way to fix?. ",
    "hrkut": "CSS:\n.detaily {\n    position: absolute;\n    top: 12mm;\n    left: 94mm;\n    width: 74mm;\n    padding-left: 2mm;\n    font-size: 11px;\n}\n.popiska2 {\n    display: inline-block;\n    width: 40mm;\n}\n.hodnota2 {\n    display: inline-block;\n    width: 50mm;\n}\nHTML:\n<div class=\"detaily\">\n    <div class=\"popiska2\">xxx</div><div class=\"hodnota2\"><br></div>\n    <div class=\"popiska2\">xxx</div><div class=\"hodnota2\"><br></div>\n    <div class=\"popiska2\">xxx</div><div class=\"hodnota2\"></div>\n</div>\nError:\nA non-numeric value encountered\nin Block.php (line 594)\n$imageHeightDiff = ($height * 0.8 - $frameBox['h']); // Reason: $frameBox['h'] = 'auto'\nThank you. Simply convert to float:\n```\n$imageHeightDiff = $height * 0.8 - (float) $frameBox['h'];\n````\nor wait for a new version.... ",
    "codeagencybe": "Any update on this issue please? Has this bug been fix under PHP 7.1 now? \nI'm still getting the error from \"not a number\" and this bug is pulling long time now. \nThanks. . ",
    "octaaugusto": "After hours, we up php 'memory_limit' flag and error gone away.\nFrom 10 to 100MB.\nSuccess!. ",
    "serdud": "Same issue \"A non well formed numeric value encountered\" with v0.8.2 and php 7.1 in FrameReflower\\Table.php in line 450\n@bsweeney, how can I fix it? Thanks.. ",
    "skerbis": "Thank you for dompdf. I love to use it in Redaxo cms. \n. same problem here after update to 0.8.1 don't know why: https://github.com/FriendsOfREDAXO/pdfout/issues/17 . it seems not to be a php version problem because on my testing systems it works nice under 7.0.x and 7.1x . I think I found the problem and solution: https://github.com/dompdf/dompdf/issues/1559. ",
    "abruzzi": "Seems it's still a bug now in 2019, wondering if there are any progress?. ",
    "racztiborzoltan": "Sorry! I was a bit hot-headed!\nThe original sample code can not be executed. I thought the error in the original sample code. But I was wrong! I apologize! \nHave a nice day!\n. ",
    "crtlib": "Please, update the ETA for this improvement, if possible. Thanks \ud83d\ude4f . ",
    "youradds": "haha typical... as soon as I post this! The problem seems to be with the following in my CSS file:\n*\n{\n    border: 0;\n    box-sizing: content-box;\n    color: inherit;\n    font-family: inherit;\n    font-size: inherit;\n    font-style: inherit;\n    font-weight: inherit;\n    line-height: inherit;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    text-decoration: none;\n    vertical-align: top;\n}\nI removed that, and its all good now. \n. Thanks for the quick reply :)\nWhile I'm making progress, I've hit a bit of a road block. Please see the outputted file:\nfoo.pdf\nThe scripts:\ntest.php.txt\ntest.html.txt\nThe HTML itself renders fine, but for some reason it doesn't work in the PDF?\nThanks!\n. Thanks. I wonder why it works with the \"tr\" in there. Maybe it doesn't like missing out the structure? Whereas \"normal\" pages are quite happy (and sometimes even encourage it)\nI ended up getting around it by just adding a .col1, .col2, etc to them - and then setting the classes on them.\nBTW - do you have a way for someone to submit a template as an example for others? I'd be happy for others to make use of my design (and hopefully save some people a bit of time ;))\n. Ah ok. Well for me, I just got around it with the .col1 .col2 etc. Good to know that for the future though.\nI've attached the template I created, so that you can use it as an example for people. Would be quite nice to have a repo of different designs, so people can understand how they work (or even take a completed one, and just plop their info in.\nBTW - thanks for such a cool tool! The amount of time I spent trying to find a decent PDF generator is insane! (most of them require tons of server tools, emulators, and stuff like node running in the background)\ninvoice-template.txt\n. ",
    "gorahkarr": "Thanks for answering, bsweeney. I've tried loading ttf files from a Windows system. Chars are in HTML code. I've tried disabling font subsetting, and the result is that renders a blank character instead the square of an unknown char. \nI don't know what more I can try. If it's not possible to render these chars, I will just set DejaVu that it works right. Thanks!\n. The ttf files come from a Windows 10 machine. I've cheked the font's char map in Windows and both characters (up and down arrows) are present.\nI've downloaded and used the 'load_font.php' script for installing the font.\n. ",
    "SVilbrandt": "Change your \"nth-child\" to \"nth-of-type\". nth-child work a bit confusing. It\u00b4s better to use \"tr :nth-child\" if you want to select a child element on a certain position. If you want to get a special element, you should use \"tr td:nth-of-type\". nth-child ignore the element before \":\", it looks only for the index.\n. ",
    "denisosteo": "I'll be glad to try but how to set disable font subsetting ? Is it a dompdf option ?\nI tried with DejaVu Sans and got same file with empty square as this font isn't designed for Chinese.\n$html .= '<p style=\"font-family: DejaVu Sans;\">\u732e\u7ed9\u6bcd\u4eb2\u7684\u7231</p>'.PHP_EOL;\ndocument.pdf.pdf\nI also tried:\n$html .= '<p style=\"font-family: DFBiaoKaiShu1B;\">\u732e\u7ed9\u6bcd\u4eb2\u7684\u7231</p>'.PHP_EOL;\nwith same result as before:\ndocument.pdf(1).pdf\n. I found how to ENABLE/DISABLE font subsetting and both ENABLE/DISABLE produces same result;\nI also notice in Apcahe log file the following errors:\n\n[Sat Oct 15 11:19:48.735519 2016] [:error] [pid 6780:tid 1680] [client ::1:50539] PHP Warning:  Invalid argument supplied for foreach() in C:\\xampp\\htdocs\\MyForms\\dompdf\\lib\\Cpdf.php on line 2469, referer: http://localhost/MyForms/\n[Sat Oct 15 11:19:48.765519 2016] [:error] [pid 6780:tid 1680] [client ::1:50539] PHP Warning:  Invalid argument supplied for foreach() in C:\\xampp\\htdocs\\MyForms\\dompdf\\lib\\php-font-lib\\src\\FontLib\\Table\\Type\\cmap.php on line 129, referer: http://localhost/MyForms/\n[Sat Oct 15 11:19:48.775519 2016] [:error] [pid 6780:tid 1680] [client ::1:50539] PHP Warning:  max(): Array must contain at least one element in C:\\xampp\\htdocs\\MyForms\\dompdf\\lib\\Cpdf.php on line 2593, referer: http://localhost/MyForms/\n[Sat Oct 15 11:19:48.775519 2016] [:error] [pid 6780:tid 1680] [client ::1:50539] PHP Warning:  Cannot use a scalar value as an array in C:\\xampp\\htdocs\\MyForms\\dompdf\\src\\Adapter\\CPDF.php on line 926, referer: http://localhost/MyForms/\n. \n",
    "Stone-Ynn": "I have the same question. I had see the https://github.com/dompdf/dompdf/wiki/UnicodeHowTo, install the firefly.ttf, but it can't be work.. @simonberger \nOK , this is a case:\n```\nif( isset($request['format']) && $request['format'] == 'pdf'){\n            //unicode \n            setlocale(LC_ALL, 'zh_CN.GBK'); \n        // instantiate and use the dompdf class\n        $options = new Options();\n        $options->set('enable_font_subsetting', true);\n        $dompdf = new Dompdf($options);\n        $dompdf->loadHtml($html);\n\n        // (Optional) Setup the paper size and orientation\n        $dompdf->setPaper('A4', 'landscape');\n\n        // Render the HTML as PDF\n        $dompdf->render();\n\n        // Output the generated PDF to Browser or download\n        $file_name = (isset($request['file_name'])?$request['file_name']:'\u5408\u540c').'.pdf';\n        $show_way = [\n            'Accept-Ranges'=>(isset($request['output']) && $request['output']=='download')?1:0,\n            'Attachment'=>(isset($request['output']) && $request['output']=='download')?1:0,\n        ];\n        $dompdf->stream($file_name,$show_way);\n\n}\n```\nthe first and fails on the second used the save code.  The fails one can't show  text , Just can disply picture.\nI wonder if the apache conf caused the problem.\n. @bsweeney After I removing that line, The same question happend.\nThen i open the error pdf source file and the right one. I find the error one missing some lines.\nThe following is header of two files.\nright one:\n%PDF-1.3\n1 0 obj\n<< /Type /Catalog\n/Outlines 2 0 R\n/Pages 3 0 R >>\nendobj\n2 0 obj\n<< /Type /Outlines /Count 0 >>\nendobj\n3 0 obj\n<< /Type /Pages\n/Kids [6 0 R\n15 0 R\n17 0 R\n19 0 R\n21 0 R\n23 0 R\n25 0 R\n27 0 R\n31 0 R\n33 0 R\n35 0 R\n37 0 R\n]\n/Count 12\n/Resources <<\n/ProcSet 4 0 R\n/Font << \n/F1 8 0 R\n...\nthe error \n```\n%PDF-1.3\n1 0 obj\n<< /Type /Catalog\n/Outlines 2 0 R\n/Pages 3 0 R >>\nendobj\n2 0 obj\n<< /Type /Outlines /Count 0 >>\nendobj\n3 0 obj\n<< /Type /Pages\n/Kids [6 0 R\n]\n/Count 1\n/Resources <<\n/ProcSet 4 0 R\n/Font << \n/F1 8 0 R\n\n\n```\n. @bsweeney \nServer Env: \nError one : PHP5.6.13 Apache 2.2.29(Unix) , PHP load method: php model\nRight one: PHP5.6.29 Apache2.4(Unix) , PHP load method: php-fpm. I saw the apache error log . while apache starting, have notice caused.  The mean is that your php config have some error. But don't  impact use. \n\n\npdf content-length missing some bit may caused by apache2.2 version and php 5.6.19, may be the apache is too old.\n. I have opned all error report, PHP and Apache ,while i run the pdf create ,no error caused!. I have opned all error report, PHP and Apache ,while i run the pdf create ,no error caused!. I have soved the problem. while i upgrade the apache to 2.4 and php to 5.6.29 . Everything is OK. I have soved the problem. while i upgrade the apache to 2.4 and php to 5.6.29 . Everything is OK. ",
    "jeck5895": "<style>\n                        tr.borderOK{\n                            border-bottom: 2px solid black;\n                            font-size:11px;\n                            font-weight:800;\n                        }\n                    </style>\n                                        <tr class=\"borderOK\">\n                                <td ><strong>NET PAY:</strong></td>\n                                <td></td>\n                                <td></td>\n                                <td align=\"right\"><strong>5,699.11</strong></td>\n                            </tr>\n. that is my sample html that I'm converting to pdf but the border is not showing while the other css are working\n. Thank you for your response !. TCPDF does have the same bug XD\n. ",
    "duprasf": "I my god, you are so right! I had to add the namespace of that class (called it namespace DompdfLib;) to have it autoloaded. I used Dompdf to create a PdfViewModel in Zend Framework 2. This basically use all the same view model process as other (setting variable and options) but instead of a web page it returns a PDF.\nI checked your commit and it would not fix all the problem if you (or someone else) decide to give this class a namespace since you have other reference to the Imagick class that are not preceded by the backslash. Everywhere that you use a constant from that class would also need the backslash, that's why I used the use Imagick; instead. \nThanks for the quick response and sorry I reported a bug that I created myself...\n. ",
    "nibblebits": "Do you not have a guide I could follow?\nThanks\n. ",
    "pcfreak30": "No, latest dompdf. And last i checked main was a html5 tag.\n. My bad, updated gist\n. Thanks. Changing to a div worked without side effects but HTML5 does need actual support :).\n. ",
    "pwaring": "Is there anything else I can do to help with this? I'm happy to test patches if it is a bug.\n. No, my code and HTML is exactly as above. I haven't specified a font so dompdf seems to default to Times New Roman (12pt by the looks of it).\n. It's even less consistent if I use develop: \nsample.pdf\nIf the heading is at the top of the page, the amount of padding following the heading is greater than if the heading is mid-page.\n. Is there anything else I can do to help fix this?. Thanks, sticking an empty block (e.g. <br>) seems to have done the trick and provided I do it on every heading (since I don't know which ones will be at the top of each page) it seems to result in consistent heading spacings.. ",
    "AnarchyChampion": "I see, you have a wiki. It's enough to generate a simple pdf, but if you wanted to generate a complex file, then that documentation is not enough to start.\nE.g.: how to insert header/footer, page number, how to use float css, how to use page-breaks, etc.\nI spent lot of work to figure it out (ofc I had to google too a lot), but if there was a detailed documentation, I wouldn't had to.\n. ",
    "EngEryx": "It was just a simplification of what I am trying to do. \n\nI am trying to create a small invoice template. So I wanted to know how the page breaks will occur just incase the number of entries in the invoice go beyond those that can fit on a single page. \nTrying to create 20 rows on my template using foreach but I get the above error\n```\n<!DOCTYPE html>\n\n\n\nTenacle\n\n\n\n\n\n\n\n\nCompany Name\n455 Foggy Heights, AZ 85004, US\n(602) 519-0450\ncompany@example.com\n\n\n\n\n\nINVOICE TO:\nJohn Doe\n796 Silver Harbour, TX 79273, US\njohn@example.com\n\n\nINVOICE 3-2-1\nDate of Invoice: 01/06/2014\nDue Date: 30/06/2014\n\n\n\n\n\n#\nDESCRIPTION\nUNIT PRICE\nQUANTITY\nTOTAL\n\n\n\n            @for($i =0; $i < 10; $i++)\n                \nSEO\nOptimize the site for search engines (SEO)\n$40.00\n20\n$800.00\n\n\n             @endfor\n        \n\n\n\nSUBTOTAL\n$5,200.00\n\n\n\nTAX 25%\n$1,300.00\n\n\n\nGRAND TOTAL\n$6,500.00\n\n\n\nThank you!\n\nNOTICE:\nA finance charge of 1.5% will be made on unpaid balances after 30 days.\n\n\n\n    Invoice was created on a computer and is valid without the signature and seal.\n\n\n\n```\nThat's the invoice template  without the css file,,,\nWhen I reduce the number of rows to 6, It works fine..\n\nbut in the real field,i might have an invoice that has 25 entries....\n. It worked after rewriting the html properly.... ",
    "gemox94": "Hi there. I had the same problem and as @bsweeney  said, in the second advaice, I had to remove the <main> tag so it worked for me.\nThanks a lot.\nP.S I'm also using Laravel. ",
    "MattRogowski": "Hi @bsweeney, do you have a planned fix for this? Even if it's something I can manually apply and trial. I need to decide whether to look into external PDF generators for the project I'm working on to let our client know, or if I can keep using this, so just seeing if a full fix is a way off before I decide what to do. Thanks.. Can confirm too, thanks @bsweeney!. Same issue I have in #1295\n. ",
    "afief": "thanks @bsweeney, it works!. ",
    "davidsneal": "I'm having this issue @bsweeney but unfortunately making the change ^^ doesn't resolve it. The undefined offset is a different number now, but still no joy.. @bsweeney Here's the full table that was causing the issue. I ended up switching to headings and paragraphs instead of <th> <td>'s as it was 'urgent'...\n<table class=\"table\">\n        <tr>\n            <th>Your job title:</th>\n            <td>{{ $answers['job_title'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Job type:</th>\n            <td>{{ $answers['job_permanence'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Start date</th>\n            <td>{{ $start_date or '' }}</td>\n        </tr>\n            @if(isset($answers['end_date']) && $answers['end_date'] != '')\n            <tr>\n                <th>End of employment date:</th>\n                <td>{{ $answers['end_date'] }}</td>\n            </tr>\n        @endif\n        <tr>\n            <th>Normal place of work:</th>\n            <td>{{ $answers['location_address'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Line manager:</th>\n            <td>{{ $answers['manager'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Basic salary:</th>\n            <td>\u00a3{{ $answers['salary'] or '' }} per {{ $answers['salary_frequency'] or '' }}</td>\n        </tr>\n        @if($bonus)\n            <tr>\n                <th>Discretionary bonus:</th>\n                <td>{{ $bonus_text or '' }}</td>\n            </tr>\n        @endif\n        @if(isset($answers['overtime']) && $answers['overtime'] != '')\n            <tr>\n                <th>Overtime rate:</th>\n                <td>\u00a3{{ $answers['overtime'] }} per hour</td>\n            </tr>\n        @endif\n        <tr>\n            <th>When you will be paid:</th>\n            <td>At the end of every {{ $answers['pay_frequency'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Hours of work:</th>\n            <td>Your normal working hours will be {{ $answers['day_start'] or '' }} to {{ $answers['day_end'] or '' }}</td>\n        </tr>\n        <tr>\n            <th>Days of work:</th>\n            <td>{{ $workdays or '' }}</td>\n        </tr>\n        <tr>\n            <th>Number of holiday days:</th>\n            <td>You will have {{ $answers['holidays'] or '' }} holiday days per holiday year @if(isset($answers['bank_holidays']) &&  $answers['bank_holidays'] == 'counts') including bank holidays @endif</td>\n        </tr>\n        <tr>\n            <th>Beginning of holiday year:</th>\n            <td>The holiday year starts on {{ $answers['holidays_start'] or '' }}.</td>\n        </tr>\n        <tr>\n            <th>Number of days holiday that can be carried over from the previous year:</th>\n            <td>\n                @if(isset($answers['holidays_carry']) && $answers['holidays_carry'] != '0')\n                    You may carry over a maximum of {{ $answers['holidays_carry'] }} holiday days into the next year.\n                @else\n                    You may not carry over holiday days into the next year.\n                @endif\n            </td>\n        </tr>\n        <tr>\n            <th>Notice period:</th>\n            <td>{{ $notice_text or '' }}</td>\n        </tr>\n        <tr>\n            <th>Pension:</th>\n            <td>{{ $pension_text }}</td>\n        </tr>\n        @if(isset($answers['benefits']) && is_array($answers['benefits']))\n            <tr>\n                <th>Additional benefits:</th>\n                <td>\n                    <ol type=\"a\">\n                        @if(in_array('life_assurance', $answers['benefits']))\n                            <li>life assurance of up to {{ $answers['life_assurance_multiple'] or '' }} times your annual salary to your chosen dependents</li>\n                        @endif\n                        @if(in_array('medical_insurance', $answers['benefits']))\n                            <li>private medical insurance for you{{ $medical_insurance_extra or '' }}</li>\n                        @endif\n                        @if(in_array('income_protection_insurance', $answers['benefits']))\n                            <li>income protection insurance providing for certain payments during qualifying sickness absence.</li>\n                        @endif\n                        @if(in_array('company_car', $answers['benefits']))\n                            <li>employee is entitled to the use of a company car.</li>\n                        @endif\n                        @if(isset($answers['benefits_other']) && $answers['benefits_other'] != '')\n                            <li>{{ $answers['benefits_other'] }}</li>\n                        @endif\n                    </ol>\n                </td>\n            </tr>\n        @endif\n    </table>. ",
    "kerrin": "That works for me too. Any news on when this will be pushed to the release?. ",
    "pun-ky": "yes, phpversion('imagick') is returning incorrect value due to invalid build of that library distributed on some operating systems. ",
    "bluefirex": "Using the bleeding edge version of DomPDF (master-branch) I still get Imagick::clone method is deprecated and it's use should be avoided.\nPHP 7.0.15\nUsing Imagick (Extension) on macOS (imagick module version => 3.4.3)\nFrom the stacktrace:\n/htdocs/adepto/lib/vendor/dompdf/dompdf/lib/Cpdf.php(4800): Imagick->clone(). @bsweeney That doesn't work. The clone method does exist (it couldn't throw an error otherwise).. I have an idea: Why not check whether the __clone method exists and then use the keyword instead of the method, if it does?. Okay, apparently Imagick doesn't declare __clone. Neither method_exists() nor ReflectionClass::getMethods can find it.. Imagick::IMAGICK_EXTVER is 3.4.3. version_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1', '>') === true for me. version_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1') > 0 === true for me so same result as the other condition :/ I didn't change it in the domPDF code, just ran it in a separate file.. Okay, this is interesting. I'm generating PDFs using domPDF with a PHP script that runs in fpm. In CLI the condition works perfectly fine but in fpm it failed. I just now restarted php-fpm and suddenly it works\u2026\nI might add: I'm running this setup for years now.. This issue was bugging me today, too. Using the fix @helmutschneider posted (removing whitespaces) helped.. ",
    "samir-plusb": "Hello,\nI am facing the same problem and just wanted to leave this issue here:\nhttps://github.com/mkoppanen/imagick/issues/194\nIn my case Imagick::IMAGICK_EXTVER is always returning the string @PACKAGE_VERSION@  which is why the following expression will always be false, even if the (compiled) version of Imagick I am using should be correct:\nversion_compare(Imagick::IMAGICK_EXTVER, '3.0.1rc1') > 0;\nSo basically this problem depends on how the Imagick extension was installed...\n. ",
    "adam1010": "I'm having the same issue using the official Windows 7.2 dll from pecl. The module version is not set and is causing other libraries to fail when they try to check the version.\nWhen I run phpinfo(); I see:\nimagick module version | @PACKAGE_VERSION@\nImagick compiled with ImageMagick version | ImageMagick 7.0.7-11 Q16 x64 2017-11-23\nhttp://windows.php.net/downloads/pecl/snaps/imagick/3.4.3/php_imagick-3.4.3-7.2-ts-vc15-x64.zip\nhttps://mlocati.github.io/articles/php-windows-imagick.html\nIs there a way to force the module to report \"3.4.3\" or do I have to try and compile this extension myself?. ",
    "reichwebconsulting": "I've been bashing my head against this problem all night, which seems to be caused by the fact that the precompiled windows binaries don't correctly set Imagick::IMAGICK_EXTVER but instead have the placeholder @PACKAGE_VERSION@.\nI got my code to work by replacing line 4860 in Cpdf.php with:\n$imagickClonable = (new ReflectionClass(Imagick::class))->isCloneable();\nI hate dropping in reflection because it can be an expensive solution, but it works (at least for me). ",
    "tylerjnorin": "My php file runs fine through developer tools completely but a pdf is not produced. No errors are thrown. \n. ",
    "kilgaloon": "This is very weird. I had same bug when i do $dompdf->stream(date('Y') . 'pdf'); i get Invalid response in every browser but when i wrap die($dompdf->stream(date('Y') . 'pdf')); it start download. dafaq.\nedit: Forget about this, old version of lib was used.. ",
    "tristanius": "Yes, thats all HTML/CSS. Anyone had this problem before? I find an similar issue but doesnt seem my case.\n. ",
    "rpmconsulting": "I'm on PHP Version 7.1.14 and having this issue... Warning: A non-numeric value encountered in .../path/...../includes/includes.php on line 94.\nThis is line 94 in the file:  $mainContentWidth = 12 - ($asideLeftWidth + $asideRightWidth);\nWas this ever resolved?. ",
    "Julianoe": "+1\n. Has this been resolved ? I seem to have the same kind of problem. Yes it is an issue. I'm building for many months now a plugin working with domPDF among other things and i never never never managed to set a working background image. I'd love to help to improve the domPDF on this but how could I?\nFor now i just tried the current release 0.8.3 with php 7.2 and it does not work. I also tried the current nightly version and it did not work either. I tried with both relative and absolute paths.\nI also tried with a base64 encoding function and then it worked. It also worked with a simple url, if isRemoteEnabled on true of course (which i can't use). Still can't use background with a path... YES! YES! YES! Amazing! Of course! Thanks a lot for taking the time to help me solve my problem. You are all kinds of awesome :) :1st_place_medal: . ",
    "zindigo": "Thanks for your reply, bsweeney! I'm using version 0.7.0 and I don't have any tables.\nAfter messing with it a bit more, I removed some of the span tags I had in the paragraphs and now the bottom margins will stop at 1 inch. I still have two pages that break before the bottom margin and the next paragraph will start on the following page.\nI'm not ready to share my code publicly, but can I send it to you in a private message? Sorry, I'm new to github and I'm not sure how it works here.\n. Thanks! I uploaded a .zip with a php file and the PDF document that it is producing. \nPages 5 & 8 of the PDF are the ones that stop short of the margin.. ",
    "fake-fur": "@BillTheGoat just curious but isn't the point of PDF cross-platform viewing, and, mostly, print? I'm struggling to see what place video has in PDF files\nI know you can put them there with enough effort and time but why?. ",
    "fhp": "This seems to be a duplicate of #1227, so I close it.. ",
    "maninnovation": "thank you very much . ",
    "wbswbs": "You can work with page Script in HTML use something like this:\n```\n",
    "Frasaccordi": "Whoops, looks like something went wrong.\n1/1\nErrorException in Cellmap.php line 800:\nUndefined offset: 240\n````\nin Cellmap.php line 800\nat HandleExceptions->handleError('8', 'Undefined offset: 240', 'D:\\Mission\\Projek\\Holomoc\\Playtext\\Lemhannas\\LEMHANNAS_MONEV\\vendor\\dompdf\\dompdf\\src\\Cellmap.php', '800', array('group' => object(TableRowGroup), 'last_row' => object(Text), 'g_key' => '52', 'r_key' => '240')) in Cellmap.php line 800\nat Cellmap->update_row_group(object(TableRowGroup), object(Text)) in TableRowGroup.php line 67\nat TableRowGroup->split(object(TableRow), true) in AbstractFrameDecorator.php line 637\nat AbstractFrameDecorator->split(null, true) in Page.php line 537\nat Page->check_page_break(object(Text)) in Block.php line 741\nat Block->reflow(object(TableCell)) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow(object(TableCell)) in TableCell.php line 91\nat TableCell->reflow(null) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow() in TableRow.php line 46\nat TableRow->reflow(null) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow() in TableRowGroup.php line 43\nat TableRowGroup->reflow(null) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow() in Table.php line 488\nat Table->reflow(object(Block)) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow(object(Block)) in Block.php line 738\nat Block->reflow(null) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow() in Page.php line 133\nat Page->reflow(null) in AbstractFrameDecorator.php line 801\nat AbstractFrameDecorator->reflow() in Dompdf.php line 834\nat Dompdf->render() in PDF.php line 187\nat PDF->render() in PDF.php line 133\nat PDF->output() in PDF.php line 170\nat PDF->stream() in ActivityController.php line 155\nat ActivityController->printActivity('3')\nat call_user_func_array(array(object(ActivityController), 'printActivity'), array('id' => '3')) in Controller.php line 80\nat Controller->callAction('printActivity', array('id' => '3')) in ControllerDispatcher.php line 146\nat ControllerDispatcher->call(object(ActivityController), object(Route), 'printActivity') in ControllerDispatcher.php line 94\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Authenticate.php line 28\nat Authenticate->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Authenticate), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in ControllerDispatcher.php line 96\nat ControllerDispatcher->callWithinStack(object(ActivityController), object(Route), object(Request), 'printActivity') in ControllerDispatcher.php line 54\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\ActivityController', 'printActivity') in Route.php line 174\nat Route->runController(object(Request)) in Route.php line 140\nat Route->run(object(Request)) in Router.php line 724\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in VerifyCsrfToken.php line 64\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in ShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in StartSession.php line 64\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in Router.php line 726\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 699\nat Router->dispatchToRoute(object(Request)) in Router.php line 675\nat Router->dispatch(object(Request)) in Kernel.php line 246\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in CheckForMaintenanceMode.php line 44\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in Kernel.php line 132\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 99\nat Kernel->handle(object(Request)) in index.php line 54\nat require_once('D:\\Mission\\Projek\\Holomoc\\Playtext\\Lemhannas\\LEMHANNAS_MONEV\\public\\index.php') in server.php line 21\n`````. which part that not valid per the HTML spec? would you mark or recomment, please? thankyou. Works Perfectly! thankyou Buddy!\ni use small hidden is for have a variable that i use for numbering and show some of array. so i try use $i which is increment from for looping to do that.\nso DompPdf cannot cannot have Hidden element?. ",
    "Ezyweb-uk": "Also having issues with 'white-space: pre-line' and 'pre-wrap' when specified for a div inside a table cell that contains content originally from a textarea. I have an example table with two columns and several rows, each row in the second column contains the same 2 paragraph content, the paragraphs are separated by newline characters (\\n). When output to Pdf the 2nd paragraph starts on the next line, the space between the paragraphs is removed (I assume only the 1st newline character is preserved and the 2nd new line character is removed), and the 2nd paragraph is truncated to one line - because it looks like it is not wrapping.\nThis behaviour continues in the 2nd row, in rows 3-5 content is not truncated, then content in the last row (number 6) is again truncated. The extra line space between paragraphs is removed in all rows.\nMy solution was to set white-space:  normal and replace all new line characters inside the div with <br> tags.. Experiencing the same issue.\nI notice that without styling there's a simple duplication, but when styling is included then on page 2 the position of the radio(s) is offset up and to the right. \n\nThen on page 3 there's no offset.\n. Experiencing the same issue.\nI notice that without styling there's a simple duplication, but when styling is included then on page 2 the position of the radio(s) is offset up and to the right. \n\nThen on page 3 there's no offset.\n. I've updated src/Frame.php and that removes the previous duplicate radio thank you, however the position of the first radio in the 2nd page is still offset. Also tried the latest download and updated Frame.php.\n\nUPDATE: From my tests I've found that the offset occurs when one table follows another, either with nothing between table-tags or with p-tag or one br-tag between; although 2x br-tags between tables fixes it.. I believe I've located the offset issue to a font-family declaration in my particular theme css which is:\nfont-family: 'Open Sans', sans-serif;\nand it's the sans-serif which seems to be the cause. Do you still want a new issue raising?. I've pared down the html to the minimum code that is required to reproduce and it's in the txt attachment; Seems to be perhaps a unique set of circumstances involving font-family: sans-serif;, two tables, cells with specific lengths of text and including two br-tags, table border styling, etc. Removing sans-serif removes offset.\nradio-offset.txt\n. ",
    "tuananhcwrs": "I've got the same issue as @ThomasLandauer .\nWould someone please share any tip?. ",
    "lmontenegro": "I have the same problem. \nYou solved this?. I doing with base64, but not work :(... Here is my code:\n```\n$html =<<<XYZ\n\n\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<meta name=\"description\" content=\"\">\n\n<link href=\"../css/bootstrap.min.css\" rel=\"stylesheet\">\n\n<!-- MetisMenu CSS -->\n<link href=\"../bower_components/metisMenu/dist/metisMenu.min.css\" rel=\"stylesheet\">\n\n<!-- Timeline CSS -->\n<link href=\"../dist/css/timeline.css\" rel=\"stylesheet\">\n\n<link href=\"../css/jquery.datetimepicker.css\" rel=\"stylesheet\">\n\n<!-- Custom CSS -->\n<link href=\"../dist/css/sb-admin-2.css\" rel=\"stylesheet\">\n\n<!-- Morris Charts CSS -->\n<link href=\"../bower_components/morrisjs/morris.css\" rel=\"stylesheet\">\n\n\n\n<!-- Custom Fonts -->\n<link rel=\"stylesheet\" href=\"../fonts/Font-Awesome/css/font-awesome.min.css\">\n\n<link href=\"../css/style.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"../css/bootstrap-select.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"../css/bootstrap-select.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"../css/jquery.dataTables.min.css\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"../css/jquery-ui/jquery-ui.min.css\" rel=\"stylesheet\" type=\"text/css\">\n<!-- jQuery -->\n<script src=\"../bower_components/tinymce/tinymce.min.js\"></script>\n<script src=\"../bower_components/jquery/dist/jquery.min.js\"></script>\n\n\n<script src=\"../js/jquery.js\"></script>\n\n<script src=\"../js/jquery.datetimepicker.js\"></script>\n<script src=\"../js/bootstrap-select.js\"></script>\n<script src=\"../js/jquery.progresstimer.js\"></script>\n\n<!-- Bootstrap Core JavaScript -->\n<script src=\"../bower_components/bootstrap/dist/js/bootstrap.min.js\"></script>\n\n<!-- Metis Menu Plugin JavaScript -->\n<script src=\"../bower_components/metisMenu/dist/metisMenu.min.js\"></script>\n\n<!-- Morris Charts JavaScript -->\n<script src=\"../dist/js/sb-admin-2.js\"></script>\n<script src=\"../bower_components/flot/excanvas.min.js\"></script>\n<script src=\"../bower_components/flot/jquery.flot.js\"></script>\n<script src=\"../bower_components/flot/jquery.flot.pie.js\"></script>\n<script src=\"../bower_components/flot/jquery.flot.resize.js\"></script>\n<script src=\"../bower_components/flot/jquery.flot.time.js\"></script>\n<script src=\"../bower_components/flot.tooltip/js/jquery.flot.tooltip.min.js\"></script>\n<script src=\"../js/jquery.datetimepicker.js\"></script>    \n<script src=\"../css/jquery-ui/jquery-ui.js\"></script>\n\n\n<script src=\"../js/funciones.js\"></script>\n<script src=\"../js/norms.js\"></script>\n\n<!-- Custom Theme JavaScript -->\n<link href=\"../flag-icon/css/flag-icon.css\" rel=\"stylesheet\">\n\n<script src=\"../amcharts/amcharts.js\" type=\"text/javascript\"></script>\n<script src=\"../amcharts/serial.js\" type=\"text/javascript\"></script>\n<script src=\"../amcharts/pie.js\" type=\"text/javascript\"></script>\n<script src=\"../amcharts/themes/light.js\" type=\"text/javascript\"></script>\n\n\n\n\n\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n\n\n    google.charts.load(\"current\", {packages:['corechart']});\n    google.charts.setOnLoadCallback(drawChart);</p>\n<pre><code>function drawChart() {\n\n  var data = google.visualization.arrayToDataTable([\n    ['Element', 'Density', { role: 'style' }],\n    ['Copper', 8.94, '#b87333', ],\n    ['Silver', 10.49, 'silver'],\n    ['Gold', 19.30, 'gold'],\n    ['Platinum', 21.45, 'color: #e5e4e2' ]\n  ]);\n\n  var options = {\n    title: \"Density of Precious Metals, in g/cm^3\",\n    bar: {groupWidth: '95%'},\n    legend: 'none',\n  };\n\n  var chart_div = document.getElementById('chart_div');\n  var chart = new google.visualization.ColumnChart(chart_div);\n\n  // Wait for the chart to finish drawing before calling the getImageURI() method.\n  google.visualization.events.addListener(chart, 'ready', function () {\n    chart_div.innerHTML = '&lt;img src=\"' + chart.getImageURI() + '\"&gt;';\n    console.log(chart_div.innerHTML);\n  });\n\n  chart.draw(data, options);\n</code></pre>\n<p>}\n  \n\n\n\n \u00a0 $titulo $scanNombre\n\n\n<div class=\"container contenedor\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <div class=\"graph-reports\">\n                        <div id=\"chart_div\" style=\"width: 1000px; height: 500px;\"></div>\n                        <h3>$m_144</h3>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\nXYZ;\nrequire_once(\"dompdf/autoload.inc.php\");\nuse Dompdf\\Options;\nuse Dompdf\\Dompdf;\n$options = new Options();\n$options->set('defaultFont', 'Courier');\n$options->set('isRemoteEnabled', true);\n$options->set('debugPng', true);\n$dompdf = new Dompdf($options);\n$context = stream_context_create(array(\n          'ssl' => array(\n          'verify_peer' => FALSE, \n          'verify_peer_name' => FALSE,\n          'allow_self_signed'=> TRUE,\n          'dpi' => 300,\n            'fontHeightRatio' => 1.2,\n            'isPhpEnabled' => true,\n            'isRemoteEnabled' => TRUE,\n            'isJavascriptEnabled' => true,\n            'isHtml5ParserEnabled' => true,\n            'isFontSubsettingEnabled' => true,\n          )\n      ));\n$dompdf->setHttpContext($context);\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream(\"mi_archivo.pdf\");\n```\nThe first image work fine, but no google chart png image.\n. @bsweeney thank you for your answer... I have converted the dinamic google chart to png with base64, but it still not working.  . ",
    "jor3l": "@lmontenegro sort of, found two ways to do this, one is to get the URL content and put the image as data: with base64, or save the image in a temp folder and then delete those images. With the later I'm able to cache that by setting the filename as the md5 of the content.. @lmontenegro tienes que de alguna forma generar el chart y guardarlo en disco para luego al generar el PDF lo vea desde ah\u00ed. No puedes ejecutar JS al momento de generar esto y veo que cargas un mont\u00f3n de librer\u00edas lo que probablemente te cause problemas. Trata de mantener todo lo mas simple y limpio posible. @bsweeney suddenly my code stopped working and got a 500 internal server error. Is there a way to show errors or save a log so I can debug whats going on?. ",
    "cjrosero": "Thank you for response found some other solution. Thank you!. ",
    "Sajgoniarz": "I use php 5.6 with apache on Windows 10 x64.  downloaded library from composer, and use it just in demo. . #pdf->dom was output from Xdebug. your debugging variable was empty. I download dompdf via widows composer cmd tool, and it was initiated then.. ",
    "cruskai": "Made this post on the wrong git hub disregard. ",
    "SubodhDahal": "I tried adding the condition $PAGE_NUM > 1 inside the page_script function at first but it didn't seem to have any effect. So I had to make changes to the page_script.. It was somewhere along the lines of following, inside the file from where I get the html content:\n<script type=\"text/php\">\n    if ( isset($pdf) ) {\n        $pdf->page_script('if ($PAGE_NUM > 1) {\n                $font = $fontMetrics->get_font(\"Arial, Helvetica, sans-serif\", \"normal\");\n                $size = 12;\n\n                $page_text = \"Page \" . $PAGE_NUM . \" of \" . $PAGE_COUNT;\n                $pdf->text(470, 15, $page_text, $font, $size);\n            }\n        ');\n    }\n</script>. Well that worked now. Don't know what was wrong or missing the first time. I guess this pull request is not needed after all.\n\nThanks for the information regarding the font.. ",
    "BackuPs": "The issue also arrises on shortcodes in wordpress or when you initiate variable like this\n'paddingtopbottom' =>'5',\n    'paddingleftright' =>'15',\nIf you then try to do something like this\n$height=10;\n$height=$height+(2*$paddingtopbottom);\nYou get the same warning. Now all has to be changed to\n$height=$height+(2*intval($paddingtopbottom));\nBut shortcodes are build like this [shortcodename paddingtopbottom=\"10\"] so it will be string all the time.\nThis is a huge impact on all plugins developers and theme developer.. ",
    "Lam784": "I tried to use @font-face, but it is not working. Can you spot anything wrong on my css?\n@font-face {\n  font-family: 'Impact';\n  font-style: normal;\n  font-weight: 400;\n  src: url('/fonts/impact.ttf') format('truetype');\n}\nh1{\n  font-family: 'Impact', Verdana, serif;\n}\n. I tried to use @font-face, but it is not working. Can you spot anything wrong on my css?\n@font-face {\n  font-family: 'Impact';\n  font-style: normal;\n  font-weight: 400;\n  src: url('/fonts/impact.ttf') format('truetype');\n}\nh1{\n  font-family: 'Impact', Verdana, serif;\n}\n. Same here!\nAnd this is what I have in my css:\n@font-face {\n  font-family: 'Impact';\n  font-style: normal;\n  font-weight: 400;\n  src: url('/fonts/impact.ttf') format('truetype');\n}. Got mine to work, \nTurns out I was trying to display the custom font in bold,\nSo I need to include the bold version of the font-face as well;\n@font-face {\nfont-family: 'Impact';\nfont-weight: bold;\nsrc: url('/fonts/impact.ttf') format('truetype');\n}. ",
    "luqeckr": "i wonder if this has been fixed, i need about 500 to 1300 table row.\nthe html render fine... ",
    "argoitz": "Hi @bsweeney ,\nI use dompdf with PHP 7.1 and I get a timeout error when I render the pdf. \nI have a vagrant box with Ubuntu 14.04 in my computer and it works fine, but when I upload to the server (other Ubuntu 14.04), an try there, it takes a long time rendering the html.\nThe html to render is one page with two tables. \nAnyone know how to speed up this rendering process?\nThank you. Hi @simonberger ,\nI debug the code and when I do \"$dompdf->render();\",  the code stop doing this function and takes long time. If I quit this line, takes 1 second finishing.. ",
    "SteenSchutt": "We just had this issue, and as per your second suggestion, @bsweeney, we tried putting an exit() call efter calling the render method, which fixed the issue.\nIt was a bit weird, because we only had this problem on one of our servers. Our development server and on localhost, didn't have any problems (and the development server is more or less identical to the live server, where the problem occurred). The only difference between the servers seem to be that the problematic server is running PHP 7.1 and the others are running 7.0. That could be a hint to what's wrong, maybe?. ",
    "IB-Dev-09": "It's worth noting that dompdf->render() takes a very long time to look for linked css files with broken urls.. ",
    "ptarrant": "I also have this issue.\nI have 2 boxes running 7.2, both take forever to render some tables on 1 page.\nI have a slightly complex table structure in them, but it shouldn't take that long.\nAs a point of contrast, it takes 1.5 - 2 seconds to render in HTML.\nit takes 65 seconds to render using dom.\n. ",
    "eothein": "I have the same issue: I render the html first \n$htmlText = $this->renderPartial('offerte', [\n                    'reservatie' => $reservatie,\n                    'volledigegebouwen' => $volledigeGebouwen,\n                    'vakantiesoort' => $vakantiesoort,\n                    'afbeelding' => $afbeelding,\n                    'klant'=>$klant,\n                    'vertrek'=>$vertrek,\n                    'aankomst'=>$aankomst,\n                    'aanmaakDatum'=>$aanmaakDatum,\n                    'gebouwenString'=> $gebouwenString]);\n                $dompdf->loadHtml($htmlText);\n                // (Optional) Setup the paper size and orientation\n                $dompdf->setPaper('A4', 'portrait');\n                $dompdf->render();\n                return $dompdf->stream();\nWhen I debug it stucks at render - which sometimes takes more than 30s to render which in turn renders a time out. Any solutions to this problem?\nKind regards. Is this something which a Bachelor student at our college could investigate for his Bachelor thesis?\nKind regards\nJens Buysse. ",
    "laurocj": "Hello sorry for the translator.\nI also face the problem of rendering html delayed.\nI was able to solve the problem by commenting on line 1148 of src / Adapter / CPDF.php https://github.com/dompdf/dompdf/blob/master/src/Adapter/CPDF.php#L1148 removing the \"Content-Length:\" header of sending the requisition;\nVary: Accept-Encoding\nContent-Encoding: gzip\nCache-Control: private\nfilename: Recibo.pdf\nContent-Disposition: inline; filename=\"Recibo.pdf\"\nConnection: keep-alive\nAccess-Control-Allow-Origin: *\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nX-Powered-By: PHP/7.0.31\nContent-Length: 568427\nPragma: no-cache\nDate: Fri, 27 Jul 2018 12:03:57 GMT\nContent-Type: application/pdf\nServer: nginx\nVary: Accept-Encoding\nContent-Encoding: gzip\nCache-Control: private\nfilename: Recibo.pdf\nContent-Disposition: inline; filename=\"Recibo.pdf\"\nConnection: keep-alive\nAccess-Control-Allow-Origin: *\nTransfer-Encoding: chunked\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nX-Powered-By: PHP/7.0.31\nSet-Cookie: ci_session=b3a15rgri0qfs0rsn8o5sojbpkcueg5f; expires=Fri, 27-Jul-2018 14:10:54 GMT; Max-Age=7200; path=/; HttpOnly\nPragma: no-cache\nDate: Fri, 27 Jul 2018 12:10:55 GMT\nContent-Type: application/pdf\nServer: nginx\n. ",
    "raoulsigne": "Hi to everyone\nPlease this issue has been fixed? I'm facing the same now and it's very urgent. Also I\u2019m facing the same issue . ",
    "mohitpanjwani": "Any idea when this will be fixed? \nReally looking forward to use this on php 7.1 . ",
    "tontonsb": "Thanks about the JPEG tip! Yes, I already have imagick (and it is also documented already).\nSo one tip could be to prepare and save the images in JPEG format if they are to be used repeatedly. Should I also resize them or they are included in the actual size and resized by the PDF viewer when viewing??\nSome other topics I was thinking about:\n\noptimal configuration? like - should disabling html5pareser improve performance?\nwould inline styles be faster than <style>?. \n",
    "rshaffaf": "Wow switching to JPG images made a HUGE difference to our platform.   Thanks for this thread.  \nIf anyone was using PNGs - make sure you switch to JPGs and watch the server laugh at the requests. . ",
    "necenzurat": "any updates on the merge, i am stuck without this.. oh well, it's time to spend 2 hours downgrading vagrant homestead to 5.6.x. #fml . Laravel's vagrant box (homestead) comes with 7.1, and I just want to code\nredo the vm\n\u200b config\u200b. Will try, can't promise anything, i am in hell week. ",
    "Brian-Jutrzonka": "Brilliant! I was able to get the fonts up and running by taking out the cache file and letting it generate again.  Thanks.\nAs for the background-image property,  I have done all of the following background-image calls without any results... \nIn my css stylesheet\nbackground-image:url(http://example.com/apps/sell-sheets/images/image.jpg);\nbackground-image:url(/apps/sell-sheets/images/image.jpg);\nbackground-image:url(apps/sell-sheets/images/image.jpg);\nbackground-image:url(/images/image.jpg);\nbackground-image:url(images/image.jpg);\nIn my php file\n$curdir = getcwd();\nbackground-image:url('.$curdir.'/images/image.jpg);\n. Brilliant! I was able to get the fonts up and running by taking out the cache file and letting it generate again.  Thanks.\nAs for the background-image property,  I have done all of the following background-image calls without any results... \nIn my css stylesheet\nbackground-image:url(http://example.com/apps/sell-sheets/images/image.jpg);\nbackground-image:url(/apps/sell-sheets/images/image.jpg);\nbackground-image:url(apps/sell-sheets/images/image.jpg);\nbackground-image:url(/images/image.jpg);\nbackground-image:url(images/image.jpg);\nIn my php file\n$curdir = getcwd();\nbackground-image:url('.$curdir.'/images/image.jpg);\n. Its weird though, I am able to reference images with the HTML  tag within the loadHTML() method by truncating the urls to \nimages/example.jpg\n but not with the background images even when I place the background-image property as a style within the loadHTML() method on my div and I use the same path...\nWould this have to do with that temp directory read/write access?  If so, do you know of any resources I can read to learn how to allow that?. Sorry, I meant the html <img src=\"images/example.jpg\"> tag. Alright, so I decided to resort to using position absolute and a z-index of -1 to place the image within the background because I could not figure out why the background image property was acting the way that it was.  Works the exact same and I dont have anymore headaches.  Thank you so much for your help.  You were incredibly helpful!. ",
    "sanjib-dev": "I have followed the unicode wiki.\nPlease have a look in my htmls\nI have a background image which has a copy-write issue so can't paste it here,Only pasting the html\nDocument_bengla.txt\nDocument_hindi.txt\nAs html files are not supported, uploaded this with txt\nPlease have a look.\nWhen in html, it prints good in browser.\n. Thanks for the reply.\nAs documented, the Dojo font will work(not working in my case)?\nMy problem is I have multiple languages to support.\nCan you suggest something for this?\nI have tried to load external fonts but the pdf generated is not the same as the data stored in DB(I use mysql and fields are unicoded).. Thanks again for reply. I did loaded the Dojo font in @font-face declaration.Its not working for me at least. I may have missing something. But is that font really supports regional languages like bengali or hindi?\n@font-face{\nDojo sans srif;\n}\nthat is my code.\nPlease help me on this.\n. sorry for my late reply and thanks again for great help.\njust one question: Dojo font is included in the default package(as in doc and i could see the font file in dompdf folder) ? do I have to include it separately like you mentioned? . Thanks for the reply and guided me to right direction.\nI will try this for sure and let you know. ",
    "ridislam": "bsweeney i am using dompdf 0.7 , you say everyone to follow Unicode How-To link but is that technique works with dompdf 0.7? can you just set some example for hindi, bangla language..? cause its really not working.. . already used @font-face in the view page header section but still not working, Can you provide a better documentation and example site for this huge used package..? lot of users using this package but their is no updated site for this package. where we can find proper solution for our need... ",
    "schtanislau": "Issue still remains :warning:\nI need to use cyrillic chars in my PDF file, but instead I have white color chars (not even question marks).\nI use Roboto font true type format (which definitely supports UTF8) file like this:\n@font-face {\n    font-family: \"Roboto\";\n    font-style: normal;\n    font-weight: normal;\n    src: url(http://example.com/roboto.ttf) format('truetype');\n}\n* {\n    font-family: \"Robot\";\n}\nEnd result:\n\n\u0422\u0430\u0442\u044c\u044f\u043d\u0430 word is selected in the browser inspector. On a PDF page it's actually painted white.\nWhen I use the code block above on a simple HTML page - everything shows correctly.\nUPD: Issue got resolved by reinstalling the dompdf plugin. \ud83d\ude4c\nIt seems that dompdf creates temp files for included fonts and my temp files were broken because of incorrect includes.. @simonberger Nope, it was 0.8.0 from the very beginning. It seems that if cache files (dompdf/lib/fonts/*.*) were generated incorrectly then font won't work even if the configuration (font CSS styles) got fixed.. ",
    "mehedi221": "i used dompdf version 0.8.1 on codeigniter version 3 but i can not include bangla font yet.\n do you have any solution. ",
    "NadimLU": "@mimehedi166 How implement this code in codeigniter dompdf library ?\n 'font_path' => base_path('resources/fonts/'),\n    'font_data' => [\n        'examplefont' => [\n            'R'  => 'ExampleFont-Regular.ttf',    // regular font\n            'B'  => 'ExampleFont-Bold.ttf',       // optional: bold font\n            'I'  => 'ExampleFont-Italic.ttf',     // optional: italic font\n            'BI' => 'ExampleFont-Bold-Italic.ttf' // optional: bold-italic font\n            'useOTL' => 0xFF,  \n            'useKashida' => 75, \n        ]\n        // ...add as many as you want.\n    ]. ",
    "edolix": "Hello,\nAny update on this?. Sorry, i read the commit history and found it  39cf8906c39a01b0e54ed140d970332580350cd6\n. ",
    "Kogurex": "Keeps rendering into 5 pages with PHP Line:\n<?php setlocale(LC_ALL, array('es_CL.UTF-8', 'es_CL', 'Spanish')); ?>\nDOMPDF version 0.8.2. ",
    "trevorclarke": "Hi,Not sure if it helps the discussion, at present I regularly use domPDF to process html tables that use thead and tbody. I've not ever used the tfooter tag.tablethead\u00a0 \u00a0 tr\u00a0 \u00a0 \u00a0 \u00a0 th/th\u00a0 \u00a0 /tr/theadtbody\u00a0 \u00a0 tr\u00a0 \u00a0 \u00a0\u00a0\u00a0\u00a0td/td\u00a0 \u00a0 /tr/tbody/tableThese can and do sometimes have associated css with them.Regards,Trevor Clarke BSc (hons), MCMI\u00a0Director0780 90 623 68Chittak Ltd Office: 01202 611 711\u00a0 Skype: chittakwebdevelopment\u00a0\u00a0Website: www.chittak.co.ukRaR Recommended\n-------- Original Message --------\nSubject: Re:[dompdf/dompdf]#1340_|Fixing_the_fix_table\n_method_creating_unnecessary_tbody_elemen\u2026(#1357)\nFrom: Brian Sweeney notifications@github.com\nDate: Sat, February 04, 2017 1:15 pm\nTo: dompdf/dompdf dompdf@noreply.github.com\nCc: Subscribed subscribed@noreply.github.com\nDo you think that instead of selecting all children we should select all direct descendent TR elements? It seems unlikely, but what if somebody tries to render a document that contains a table similar to the following: \n\n    ...\n  \n...\n    ..\n\n It seems unlikely, except that we see all kinds of wacky HTML. \u2014You are receiving this because you are subscribed to this thread.Reply to this email directly, view it on GitHub, or mute the thread.. ",
    "bideshpuja": "Actually I want to generate a certificate in Hindi language  but it is not printing properly .   I have also tried  using  DejaVu font, still not working.\n Please provide me a demo code where I can  generate a pdf in Hindi.. ",
    "BramG": "Same result, if the pdf is only one page high it works perfectly\nI simplified the example.\nI also tested by removing the custom css, that makes it print on 3 pages.\nIn that case the logo is only printed on page 3.\nSo the problem is not that it isn't printed on the first page, the problem is that it is only printed on the last page.\n```\n$pdf = new \\Dompdf\\Dompdf();\n$options =$pdf->getOptions();\n$options->set('isRemoteEnabled', TRUE);\n  $options->setIsPhpEnabled(TRUE);\n  $contxt = stream_context_create([\n    'ssl' => [\n      'verify_peer' => FALSE,\n      'verify_peer_name' => FALSE,\n      'allow_self_signed'=> TRUE\n    ]\n  ]);\n  $pdf->setHttpContext($contxt);\n$pdf->set_base_path(realpath(path_to_theme() . '/'));\n  $pdf->load_html($html);\n$pdf->render();\n$canvas = $pdf->getCanvas();\n// Header\n  $path = drupal_get_path('theme', 'spock');\n  $image = file_create_url($path . '/img/logo-pdf.png');\n$header = $canvas->open_object();\n  $canvas->image($image, 472, 35, 85, 25);\n  $canvas->close_object();\n  $canvas->add_object($header, 'all');\n```. That's even worse, cause the objects don't get rendered when we do that.\nThe docs even state the canvas manipulations should happen after rendering.\nIs there an alternative to achieve the same goal? Print an image and a line on each page?\nIt needs to be pixel perfect.. With the help of http://stackoverflow.com/questions/17143149/dompdf-draw-line-on-every-page\nI found this solution:\n// Dirty fix for images and lines\n  $canvas->page_script('\n    $path = drupal_get_path(\\'theme\\', \\'spock\\');\n    $image = file_create_url($path . \\'/img/logo-pdf.png\\');\n    // $pdf is the variable containing a reference to the canvas object provided by dompdf\n    $pdf->image($image, 472, 35, 85, 25);\n    $pdf->line(0, 71, 458, 71, array(0, 0, 0), 5);\n  ');\nSeems dirty, but it works.... Thnx for the clear explanation! Really appreciated.. ",
    "kieronsutton00": "@kimheenim You must define $html before attempting to use it.\nTry this:\n<?php\n    // include autoloader\n    require_once 'dompdf/autoload.inc.php';\n    use Dompdf\\Dompdf;\n    $dompdf = new Dompdf();\n        $html= file_get_contents(\"sampol.html\");\n    $dompdf->loadHtml($html);\n    $dompdf->setPaper('Letter', 'portrait');\n    $dompdf->render();\n    $dompdf->stream();\n?>. ",
    "Unniks-here": "```\n",
    "NoVizin": "So where can i find portal answering me on these kind of questions?. ",
    "kskrlin": "In config/dompdf.php (v0.7.0):\nDOMPDF_DEFAULT_PAPER_SIZE is set to A4, but whatever value I use (letter, legal, a4, a3, ...), the output is the same, like this value is ignored upon rendering, also orientation is set to landscape, and switching to portrait I still get the same document output. So the default paper size value is getting ignored.\nBut when I change values of DOMPDF_DPI or DOMPDF_FONT_HEIGHT_RATIO the changes are shown in the document. Strange.\nThe paper size works when I use $pdf->setPaper('A4'); upon creating a document.. ",
    "LKaemmerling": "In Normal i use the size c3 in landscape Modus.. Sorry for the long reply time. I've added a gist with the original source code:\nhttps://gist.github.com/LKDevelopment/0ed07cc1bde4bffbbec6f20b13cbb8d4\n@bsweeney . ",
    "boufle": "Yes there it is \n```\n \n        {% for i in 0..data.Chantier|length -1  %}\n    <div style=\"width: 100%; height: 18px; clear: both;\">\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\">{{data.Chantier[loop.index0].Code}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" class=\"\">{{data.Chantier[loop.index0].Libelle|e('html')|lower[:5]}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MO_MontantPrevu\" class=\" col-MO\">{{data.Devis[loop.index0].TotalDebMO|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MO_MontantRealise\" class=\"MOreel col-MO\">{{data.Facture[loop.index0].DebMO|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MO_Autre\" class=\" col-MO\"></div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MOT_HPrevu\" class=\" col-MOT\">{{data.Devis[loop.index0].TotalTempsMO|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MOT_HRealise\" class=\" col-MOT\">{{data.Facture[loop.index0].TempsMO|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"FOUR_MontantPrevu\" class=\" col-Four\">{{data.Devis[loop.index0].TotalDebF|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"FOUR_MontantRealise\" class=\" col-Four\">{{data.Facture[loop.index0].DebF|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MDF_MontantPrevu\" class=\" col-MDF\">{{data.Devis[loop.index0].TotalDebMat|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MDF_MontantRealise\" class=\" col-MDF\">{{data.Facture[loop.index0].DebMat|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"SSTR_MontantPrevu\" class=\" col-ST\">{{data.Devis[loop.index0].TotalDebSst|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"SSTR_MontantRealise\" class=\" col-ST\">{{data.Facture[loop.index0].DebSst|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"DT_TotalDevis\" class=\" col-DT\">{{data.Devis[loop.index0].TotalDeb|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"DT_TotalFacture\" class=\" col-DT\">{{data.Facture[loop.index0].TotalDeb|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"VF_TotalDevis\" class=\"col-VF\">{{data.Devis[loop.index0].TotalHTNetFin|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"VF_TotalFacture\" class=\" col-VF\">{{data.Facture[loop.index0].HTNetFin|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"RAF\" class=\" col-RF\">{{(data.Devis[loop.index0].TotalHTNetFin - data.Facture[loop.index0].HTNetFin)|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MD_MontantPrevu\" class=\" col-MD\">{{(data.Devis[loop.index0].TotalHTNetFin - data.Devis[loop.index0].TotalDeb)|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"MD_MontantRealise\" class=\" col-MD\">{{(data.Facture[loop.index0].HTNetFin - data.Facture[loop.index0].TotalDeb)|number_format(0, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"COEF_Prevu\" class=\" col-COEFD\">{{((data.Facture[loop.index0].TotalDeb == 0)? 0 : ((data.Devis[loop.index0].TotalDeb) / data.Facture[loop.index0].TotalDeb))|number_format(2, '.', ' ')}}</div>\n                <div style=\"width: 4.545454%; height: 18px; float: left; font-size: 10px;\" type=\"COEF_Realise\" class=\" col-COEFD\">{{((data.Devis[loop.index0].TotalHTNetFin - data.Devis[loop.index0].TotalDeb)==0)? 0 :((data.Facture[loop.index0].HTNetFin - data.Facture[loop.index0].TotalDeb)/(data.Devis[loop.index0].TotalHTNetFin - data.Devis[loop.index0].TotalDeb))|number_format(2, '.', ' ')}}</div>\n    </div>\n        {% endfor %}\n\n```\n. ",
    "YachtingsBest": "Thank you very much for the comment bsweeney, HUGELY appreciated! I'm a little stumped to be honest. I've attached the code underneath, if you had a second, are you able to let us know where we've gone wrong? We just need page formatting that is spaced like a word document (top, side, bottom white space) so it looks normal and is printable.  Thank you again in advance... if you have the time!\n```\n@extends('reports.layout')\n@section('main')\n todo: I guess we should clean it up a little. =) \n\n\n.header-image {\n  text-align: right!important;\n}\n\nh1 {\n  color: white;\n  font-weight: bold;\n  font-size: 2em;\n  margin: -10px;\n}\n\nh2, h3, h4 {\n  color: #002a39;\n}\n\nh1, h2, h3, h4, .request-dates {\n  font-family: helvetica;\n  font-weight: normal;\n  text-transform: uppercase;\n}\nbody, p {\n  font-family: Times New Roman;\n  margin: 50px;\n}\n\nh3 {\n  border-bottom: 1px solid #ccc;\n  font-weight: bold;\n}\n\n.sectionheading {\n  padding-bottom: 5px;\n}\n\nbody {\n  line-height: 1.5;\n}\n\n.spot-request-slip {\n  padding: 50px;\n}\n\n.spot-request-slip .uppercase {\n}\n.spot-request-slip .amenity.icon {\n}\n.spot-request-slip .cancel, .thank-you .cancel {\n}\n.spot-request-slip .cancel a, .thank-you .cancel a {\n}\n.spot-request-slip .container {\n}\n.spot-request-slip .center-text {\n}\n.spot-request-slip .rounded-border {\n}\n.spot-request-slip .header div {\n}\n\n.header {\n  background-color: #002a39;\n  width: 100%!important;\n  padding: 40px 0 40px!important;\n  text-align: center;\n  margin: 0px!important;\n}\n.spot-request-slip .header h2 {\n  color: #eee;\n  font-size: 24px;\n  font-weight: bold;\n  margin: 0;\n}\n\n.spot-request-slip .header h3 {\n  color: #fff;\n  font-size: 45px;\n  margin: 0;\n  font-weight: bold;\n  Text-transform: uppercase;\n}\n\n.spot-request-slip form .text-small {\n  font-size: 12px;\n}\n.text-center {\n}\n.request-dates {\n  font-family: helvetica;\n  text-align: center;\n  font-size: 1.2em;\n  font-weight: bold;\n  padding: 20px;\n}\n.blue {\n  color: #002a39;\n}\n.grey {\n  color: #555;\n}\n.spot-request-slip .table {\n  text-transform: capitalize;\n  font-weight: 400;\n}\n.spot-request-slip .table td {\n  vertical-align: middle;\n}\n.spot-request-slip .table .edit {\n  text-align: center;\n}\n.spot-request-slip .table .form-control {\n  display: inline !important;\n  width: auto !important;\n  text-transform: uppercase;\n}\n.spot-request-slip .table .form-control.feet {\n}\n.spot-request-slip .add-boat {\n}\n.spot-request-slip .add-boat .icon {\n}\n.spot-request-slip .request-dates-container {\n  color: #fff;\n}\n.spot-request-slip .request-dates {\n  margin-left: auto;\n  margin-right: auto;\n}\n.spot-request-slip .request-dates .datepicker-container {\n  border: #ccc 1px solid;\n  border-radius: 50px;\n  padding: 10px 20px!important;\n  text-align: center;\n}\n.blue td {\n}\n\n\n\n\n\n\n\n{{ $data['spot']->title }}\n\n\n\n@if(!is_null($data['spot']['layout']))\n\n\n\n@endif\n\nphp\n$infoHasValue = [];\nforeach ($data['spot']['information'] as $key = $information) {\n    foreach ($information as $info) {\n        if ($info['value'] != '' && !is_null($info['value'])) {\n            $infoHasValue[$key]['has_value'] = true;\n        }\n    }\n}\n?>\n\n\n\n\n\nCheck In: \nCheck Out: \n\n\n\n\n\n\n{{ date(\"M jS, Y\", strtotime($data['spot']['slips']->check_in_date)) }}\n\n\n\n\n\n\n\n\n{{ date(\"M jS, Y\", strtotime($data['spot']['slips']->check_in_date)) }}\n\n\n\n\n\n\n\n@foreach($data['spot']['information'] as $key => $information)\n@if(isset($infoHasValue[$key]))\n\n\n\n@foreach($information as $info)\n\n@if($info['value'] != '' && !is_null($info['value']))\n{{ $info['name'] }}:\n{{ nl2br($info['value']) }}\n@endif\n\n@endforeach\n\n\n@endif\n@endforeach\n\n@if(!is_null($data['spot']['contact']))\n@if(is_array($data['spot']['contact']))\n\nContact Info And Address\n@if(!is_null($data['spot']['contact'][0]->phone))\n\nPhone\n\n{{ $data['spot']['contact'][0]->phone }}\n\n@endif\n\n@if(!is_null($data['spot']['contact'][0]->emergency_phone))\nEmergency Phone\n\n{{ $data['spot']['contact'][0]->emergency_phone }}\n\n@endif\n\n@if(!is_null($data['spot']['contact'][0]->address))\nAddress\n\n{{ $data['spot']['contact'][0]->address }}\n\n@endif\n\n@if(!is_null($data['spot']['contact'][0]->region))\nRegion\n\n{{ $data['spot']['contact'][0]->region }}\n\n@endif\n\n@if(!is_null($data['spot']['contact'][0]->country))\nCountry\n\n{{ $data['spot']['contact'][0]->country }}\n\n@endif\n\n\n@endif\n@endif\n\n\nHours\n\n@foreach($data['spot']['operatingHours'] as $operatingHours)\n{{ ucfirst($operatingHours->day_name) }}\n\n@if($operatingHours->fromHours->format_12 != 'closed')\n{{ $operatingHours->fromHours->format_12 }} - {{ $operatingHours->toHours->format_12 }}\n@else\n{{ \"Closed\" }}\n@endif\n\n@endforeach\n\nAdditional Info:\n\n{{ $data['spot']->additional_info }}\n\n\n\n\n@stop\n```. Hi Brian, thanks so much for the time you've offered here. Here is a link to the HTML http://pastebin.com/AJFqnm52.\n\nI don't believe we have a layout page that includes additional CSS, but I'll look at that too.  Thanks so much Brian, obviously a steep learning curve for me here and I appreciate the help!. Thanks Brian, HUGELY appreciated, we're digging into it!. Hi Brian, we're still wanting to pretty up our DOM PDF and I wondered if you could recommend someone we could contract to do it? Thanks again for all the help and time you have offered here!. Hi Brian, we're still wanting to pretty up our DOM PDF and I wondered if you could recommend someone we could contract to do it? Thanks again for all the help and time you have offered here!.",
    "oytuntez": "Oh great, thanks. Will be following this to update our package version right away.. ",
    "Shinseiki86": "Right! I have encountered some similar issues, but no solution.\nhttps://sourceforge.net/p/dompdf/bugs/39/\nhttps://github.com/dompdf/dompdf/issues/812\nhttps://github.com/dompdf/dompdf/pull/961/commits/ed6b8077e9faf13718321690dc57ec425d726168\n. ",
    "prtk418": "is this still unsolved? i am facing same issue. ",
    "amayer-glei": "\nis this still unsolved? i am facing same issue\n\nyes still broken... switched to wkhtlmpdf now.. ",
    "fmajet": "Thank you for your answer. I will have a look indeed.. Hello\nI cleaned the html with the following page and i put 95% of the style in the head tag :\nhttp://www.hotfootballteams.com/test/notes/dompdf/testdiv.php\nhttps://validator.w3.org/nu/?doc=http%3A%2F%2Fwww.hotfootballteams.com%2Ftest%2Fnotes%2Fdompdf%2Ftestdiv.php\nResult is still there\nhttp://www.hotfootballteams.com/test/notes/dompdf/temp.pdf\nUnfortunately i still face the offsetting issue\nThanks for your help\n. Thank you very much \nThis is what i did (except changing dompdf version) and the result is pretty good now.(same links)\nI kept absolute/relative positioning.\n I still have to improve image quality as now html code seems to be correctly rendered but i fell i have lost resolution in the pdf. Hello\nYour tool is very useful as capable to render a snapshot picture from server-side (other tools i saw were on client side) . I donated to the project and encourage people to do so. Thanks again.. ",
    "alexhackney": "https://validator.w3.org/check?uri=http%3A%2F%2Fwww.hotfootballteams.com%2Ftestdiv.html&charset=%28detect+automatically%29&doctype=Inline&group=0. ",
    "digitoken": "The problem occurs when I tried to convert from html files generated by MS Word (when I save my doc as web page) to PDF.\nI guessed the following parts which cause the failure:\n<a href=\"http://mylink1.com/\"><span style=\"mso-bookmark:_Toc400163314\"><span style=\"font-size:12.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\nmso-bidi-font-family:&quot;Times New Roman&quot;;mso-no-proof:yes\" lang=\"EN-US\">survey</span></span><span style=\"mso-bookmark:_Toc400163314\"></span></a>\nI have tested to convert from simpler <a href...> format and it's working fine. Maybe the script doesn;t support complexed html tags\n. ",
    "firetheweb": "I am sorry I don't speak English, I am Chinese, and I can speak Japnanese\n2017-03-09 14:47 GMT+08:00 devacctgmailcom notifications@github.com:\n\nHello Everyone\nI am using Dompdf 0.8.0 to create my PDF. In one page there are multiple\nfonts are used. i.e. 2 font types are used for signatures and one is\nregular font.\nBut when we reach to signature fonts it change complete page fonts to\nsignature fonts.\nPlease see attached image and underlined text. These marked text are\nsignatures, other than of these are normal text. Here note the behavior of\nchanging fonts. Each signature have different font family. And after text\nchanged to respective font family.\nI tried these ways already:\n\nUsed classes for signatures.\nUsed fonts family in line in tag.\nUsed fonts in dompdf options: $dompdf->set_option('defaultFont',\n   'dejavu sans');\nAlso tried with options:\n   $options = new Options();\n   $options->set('defaultFont', 'dejavu sans');\n\nCan you please help me to resolve this problem? Please have a look at\nattachment.\n[image: download]\nhttps://cloud.githubusercontent.com/assets/26294737/23738930/cc7b7a02-04c1-11e7-9778-159ed801392a.png\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1397, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFixzQzikON7IZ3K82ro2I-PEEREkwmIks5rj6B-gaJpZM4MXtTe\n.\n. \n",
    "devacctgmailcom": "Is there anybody to help me please?. HTML have same structure as a HTML page have. There are 6 pages in PDF. First 5 pages are rendering fine, but in 6th page signature fonts changes and this happened.\n```\n    \n Page Start \n\n\n\nMain Listing Contact\nFull Name:Test Phone Number:234567 Email:testemail \nAcknowledgement Signatures\nI / we acknowledge that I/we have read and understand the above information and agree to the terms by signing below:\n\n\nTest name\n <hr class=\"hr-underline\"> \nBroker Print Name\n\n\nFirst signature font\n <hr class=\"hr-underline\"> \nBroker Signature\n\n\n\n <hr class=\"hr-underline\"> \nDate\n\n\n\n                                <div class=\"row\">\n                                    <div class=\"col-sm-4\">\n                                        <!-- <hr class=\"hr-underline\"> -->\n                                        <div class=\"hr-bottom min-height-35 highlight wizard_page_seller_name_0\" id=\"wizard_page_seller_name_0\"></div>\n                                        <p>Seller #1 Type Name</p>\n                                    </div>\n                                    <div class=\"col-sm-4\">\n                                        <!-- <hr class=\"hr-underline\"> -->\n                                        <div class=\"hr-bottom min-height-35 highlight signature_font wizard_page_seller_signature_0\" id=\"wizard_page_seller_signature_0\">Second Signature font</div>\n                                        <p>Seller #1 Signature</p>\n                                    </div>\n                                    <div class=\"col-sm-4\">\n                                        <!-- <hr class=\"hr-underline\"> -->\n                                        <div class=\"hr-bottom highlight \"></div>\n                                        <p>Date</p>\n                                    </div>\n                                </div>\n\n                </div>\n                <p><b><u>Payment</u></b></p>\n                <p>We accept <u>Visa</u>, <u>MasterCard</u>, <u>Discover</u> and <u>American Express</u>. You can either pay by filling out the payment form below or online. We remove all payment info on this form once processed. We are very serious about privacy and security. All information is kept confidential. <b>If paying online please keep this page attached to the agreement.</b></p>\n                <p><b>Would you like us to send you a customizable for sale sign? <span class=\"hr-bottom highlight wizard_page_sale_sign text-capitalize\">NO</span> Price: <u>$40.00</u></b></p>\n\n            </div>\n        </div>\n\n    </div>\n    <!-- Page End -->\n</div>\n\n```. This html is used for last page. First line of code got disappeared.\n<div class=\"wizard-page\">\nThe main thing is that, everything is working fine on localhost but not working on server. Its neither showing any error nor working fine.. ",
    "vhngroup": "Thanks @bsweeney I will check it.. ",
    "levaifelasticad": "generate_bills.zip\nI upload the sample code.. Problem resolved.:)\nI forgot to add GD extension on the server.. ",
    "PacmanOnCrack": "From the first attempt I tried both options, I am able to use the fonts already specified in the cache, like \"DejaVu Sans\". In the html-String I feed to loadHtml(..) I have something like this:\n<html>\n    <head>\n    <style>\n        @page { margin: 10mm 0mm 10mm 0mm; }\n        @font-face {\n            font-family: Ayita;\n            src: url(' . plugin_dir_path( __FILE__ ) . 'fonts/Ayita/AyitaPro-Thin.ttf)\n                        format(\"truetype\");\n                }\n                body, div {\n                    font-family: Ayita, sans-serif;\n                        font-size: 1em;\n                }\n        </style>\n        </head>\n        <body>\n            <div class=\"pdf_export\" style=\"background-color:rgba(255, 0, 0, 0.05); width:100%; height:100%;\">\n            text\n        </div> ..\nI also checked the directories, I have read & write access to all of them. I referenced the same .ttf file in an @font-face rule in the stylesheet for the UI, and I can use the font in my markup of the UI. It just won\u00b4t export to the PDF. . Hello bsweeney, sorry for the long reply time, I had to take a break from this project. \nYesterday I started again and could manage to print a PDF with a custom font. I\u00b4m very glad, but it bothers me, that I don\u00b4t really know what caused the issue in the first place. \nI\u00b4ll keep you updated if something changes. Thank you for your support.. Hello bsweeney, what did the trick in the end was to use this ttf2ufm-converter and upload the .afm, .ufm and .ttf file to dompdf/lib/fonts. I tried some other software, which apparently produced corrupted .ufm-files or something related. After registering the font in the font-family cache, it worked perfectly. \nThis ist the only way I could use custom fonts, maybe somebody encounters the same problem. . ",
    "michaellwatson": "This worked for me but using https://everythingfonts.com/ttf-to-ufm instead to create the .afm and .ufm. I also copied a afm.php and renamed it to my font, then added my font to the end of dompdf_font_family_cache.dist.php. Also make sure the dompdf/lib/fonts dir is writeable. ",
    "PDFCoder": "Sorry for my delay. We switched to pdflib backend and had many things to fix.\nBy the way, the space problem exists with cpdf and pdflib! Here is a screenshot that shows the padding problem with a simple th (same problem with td), padding top and bottom are 3px:\n\n. After some deeper testing it seems that I've found the solution to the problem: \nFor my tests I used the option 'fontHeightRatio' and set it to '1.1', because line heights like '1.2em' were more narrow than before (with dompdf 0.6). If I set this value to 1.0 the output of the th/td paddings look ok! Sorry for the confusion \u2026 It seems that I have to adjust all em line heights in the css styles.. ",
    "dweingart": "This might be related to issue #1434 where the same problem happens with CSS counters (which are also generated content).. ",
    "cperrot": "well I can't help you with minimal but I've attached the application to install.\nhere is the link to download the zip file www.smartopensoft.net/bambooinvoice.zip\nto install there is an sql in the root to get the database going then edit\napplication\\config\\config.php\napplication\\config\\database.php\nto match your environment.\nIn system\\helpers\\to_pdf_helper.php\nyou can switch the dompdf version from 0.7.0 to 0.8.0.\nLogin into the application with following credentials\nuser:   admin@admin.com\npwd:    password\nthen create a client\nthen an invoice\ngenerate invoice pdf and you'll see the difference.\nRegards\nCedric\n. Hi\nhere is the sample html\ntest.zip\nthe same problem is in 0.8.1\nRegards\nCedric\n. ",
    "Keval17": "A fresh install did the trick. Thank You.. ",
    "moschel26": "@bsweeney, I need you help. Look at this : https://github.com/dompdf/dompdf/issues/1450. @cabeza-melon, Ok thanks. I will reinstall it. Btw, Whether display: flex also already exists in \"barryvdh/laravel-dompdf\": \"^0.8.0\"?. @cabeza-melon, Okay. I had change to \"barryvdh/laravel-dompdf\": \"^0.8.0\", in composer.json. Then I do : composer update. But the float still not work.  Look at here : https://postimg.org/image/y3fl0e4wn/. Whether it successfully reinstall laravel-dompdf?. @cabeza-melon, minimum-stability not exist in my composer.json. I change \"laravelcollective/html\": \"dev-master\" to \"laravelcollective/html\": \"^5.3.0\", it works. Thanks a lot. @cabeza-melon, Is overflow:auto; also can not work in \"barryvdh/laravel-dompdf\": \"^0.8.0\"? I had try it. But it does not work. @cabeza-melon, I'm sorry to have to spend your time. ",
    "m4tthumphrey": "How would you expect to get any sort of page count with rendering the content first?. ",
    "0vordhosbn00": "@m4tthumphrey Maybe by calculate the \"final\" content just before transform in pdf, and get the page count of the final document faster. Do you think it's just impossible ?. ",
    "samhibberd": "Thanks for such a prompt response @bsweeney, it really helped me track down the issue, it appears your are right in that it looks to be an issue with external resources, inline styles were file. None of the external images were loading correctly, i finally work this is oddly caused by my local env (running valet) but only when SSL is enabled. \nThis helped uncover the actual issue, which was fonts, there was a handful of fonts being included via font face, which started to get generated again when the SSL issue was identified (so when running on non SSL) once tracked down I was stuck again, but tried running the font through TransType 4, re exported, re tested and it works!\nTested on our staging site and works running on SSL & NON SSL, so will be something unique to Valet.\nGot there in the end, only advice i can offer for anyone else who runs into similar issues is:\n\nTest with and without SSL enabled\nWorked for me with a full path (not relative in my @font-face\nIsolate any problem fonts (for me 2/10 caused the unpack error) and validate resave (i used TrueType 4)\n\nThanks.. ",
    "Zeeshan99": "Thanks #bsweeney for your response.\nYes, that's my question, there you can see the complete code and details about what's going there.\nPlease help me. if you can . . ",
    "semul": "DOMpdf doesn't support TABLE-CELL. DOMpdf doesn't support TABLE-CELL. ",
    "guiachcar": "Check if you've opened and properly closed the table tags. ",
    "Gregorio19": "the problem in my case is that i am using  display: flex in the css style and that make the error . ",
    "matiaswsr": "The page.php generate a simple page, his name is 'buscar.php' and generate a html page from a query to mysql .\nhow to happen the page .php to dompdf?\nThe code page is (code ti generate pdf, this code generate a blank page):\nphp\n    ob_start();\n    require_once(\"dompdf/dompdf_config.inc.php\");\n\n<pre$html ='buscar.php';\n\n$dompdf = new DOMPDF();\n$dompdf -> load_html($html);\n$dompdf -> render();\n\n$pdf = $dompdf -> output();\n$filename = \"ficha\".time().'.pdf';\nfile_put_contents($filename, $pdf);\n$dompdf -> stream($filename);\n\n?>. The page.php generate a simple page, his name is 'buscar.php' and generate a html page from a query to mysql .\nhow to happen the page .php to dompdf?\nThe code page is (code ti generate pdf, this code generate a blank page):\nphp\n    ob_start();\n    require_once(\"dompdf/dompdf_config.inc.php\");\n\n<pre$html ='buscar.php';\n\n$dompdf = new DOMPDF();\n$dompdf -> load_html($html);\n$dompdf -> render();\n\n$pdf = $dompdf -> output();\n$filename = \"ficha\".time().'.pdf';\nfile_put_contents($filename, $pdf);\n$dompdf -> stream($filename);\n\n?>. In $html variable I try to pass the page 'buscar.php'\nThe code of \"buscar.php\" is:\n`\nhtml\n\n\n\n\n\n\n\n\n\nphp\n        include(\"conexion.php\");\n\n<pre    //Obtengo la cedula a buscar\n    $cedula = $_POST[\"cedula\"];\n\n    //Consulta para obtener todos los registros de la tabla datos\n    $sql = \"SELECT * FROM datos WHERE cedula=$cedula\";\n\n    $resultado = mysqli_query($conexion, $sql);\n\n    if($row = @mysqli_fetch_array($resultado, MYSQL_ASSOC)){\n        do{\n            echo \"<div class='container espacio-arriba'>\";\n            echo \"<div class='row'> <div class='col-md-2'></div>\";  \n            echo \"<div class='col-md-8'>\";\n            echo \"<form class='fondo' >\";\n            echo \"<legend><strong>Maestra: Ver&oacute;nica Bueno. A&ntilde;o 2017</strong></legend>\";\n            echo \"<div class='form-group' id='centrar'>\";\n            echo \"<label>Nombre:</label> $row[nombre]<br>\";\n            echo \"<label>Apellido:</label> $row[apellido]<br>\";\n            echo \"<label>Edad:</label> $row[edad]<br>\";\n            echo \"<label>C&eacute;dula:</label> $row[cedula]<br>\";\n            echo \"<label>Nacionalidad:</label> $row[nacionalidad]<br>\";\n            echo \"<label>Domicilio:</label> $row[domicilio]<br>\";\n            echo \"<label>T&eacute;lefono:</label> $row[telefono]<br>\";\n            echo \"<label>Cobertura M&eacute;dica:</label> $row[coberturaMedica]<br>\";\n            echo \"<label>Emergencia:</label> $row[emergencia]<br>\";\n            echo \"<label>Enfermedades:</label> $row[enfermedades]<br>\";\n            echo \"<label>Alteraciones:</label> $row[alteraciones]<br>\";\n            echo \"<label>Usa lentes:</label> $row[lentes]<br>\";\n            echo \"<label>Vive con:</label> $row[viveCon]<br>\";\n            echo \"<label>Cantidad de hermanos/as:</label> $row[cantHmnos]<br>\";\n            echo \"<label>Edades de sus hermanos:</label> $row[edadesHmnos]<br>\";\n            echo \"<label>Madre/Padre/Tutor:</label> $row[madrePadreTutor]<br>\";\n            echo \"<label>Ocupaci&oacute;n:</label> $row[ocupacion]<br>\";\n            echo \"<label>Nivel educativo:</label> $row[nivelEducativo]<br>\";\n            echo \"<label>Beneficios Sociales:</label> $row[beneficios]<br>\";\n            echo \"<label>Concurre a la escuela en:</label> $row[concurreEn]<br>\";\n            echo \"<label>Recorre:</label> $row[recorre] (cuadras)<br>\";\n            echo \"<label>Otras actividades:</label> $row[otrasActividades]<br>\";\n            echo \"<label>Se duerme a las:</label> $row[seDuerme]<br>\";\n            echo \"<label>Mira los programas de TV:</label> $row[programasTV]<br>\";\n            echo \"<label>Le gusta jugar a:</label> $row[juega]<br>\";\n            echo \"<label>Tiempo que dedica a estudiar:</label> $row[tiempoEstudio]<br><br>\";                \n        }while($row = mysqli_fetch_array($resultado, MYSQL_ASSOC));\n            echo \"<div class='espacio-arriba'><button type='button' name='volver' class='btn btn-primary btn-lg btn-block' id='pdf' value='volver' onClick='window.location.href=\\\"index.html\\\"''>Volver Atr&aacute;s</button></div>\";              \n            echo \"<div class='espacio-arriba'><button type='button' name='pdf' class='btn btn-primary btn-lg btn-block' id='exportar' value='generar' onClick='window.location.href=\\\"pdf.php\\\"''>Generar pdf</button></div>\";\n            echo \"</div>\";      \n            echo \"</form></div><div class='col-md-2'></div></div>\";\n            echo \"<div class='espacio-arriba2'><footer><p>Ver&oacute;nica Bueno &copy</p></footer></div>\";\n    }else{\n        echo \"<div class='container espacio-arriba'>\";      \n        echo \"<div class='row'> <div class='col-md-4'></div>\";  \n        echo \"<div class='col-md-4'>\";\n        echo \"<form class='fondo' >\";\n        echo \"<legend><strong>A\u00f1o 2017</strong></legend>\";\n        echo \"<div class='form-group'>\";\n        echo \"<div class='form-group' id='centrar'>\";\n        echo \"<br><strong>\u00a1No existen registros!</strong><br><br>\";             \n        echo \"<button type='button' name='volver' class='btn btn-primary' value='volver' onClick='window.location.href=\\\"index.html\\\"''>Volver Atr&aacute;s</button>\";\n        echo \"<button type='button' name='pdf' class='btn btn-primary' value='pdf' onClick='window.location.href=\\\"pdf.php\\\"''>Descargar PDF</button>\";\n        echo \"</div></div></div>\";\n        echo \"</form></div></div>\";\n\n    }       \n?>\n\n\n\n`. In $html variable I try to pass the page 'buscar.php'\nThe code of \"buscar.php\" is:\n`\nhtml\n\n\n\n\n\n\n\n\n\nphp\n        include(\"conexion.php\");\n\n<pre    //Obtengo la cedula a buscar\n    $cedula = $_POST[\"cedula\"];\n\n    //Consulta para obtener todos los registros de la tabla datos\n    $sql = \"SELECT * FROM datos WHERE cedula=$cedula\";\n\n    $resultado = mysqli_query($conexion, $sql);\n\n    if($row = @mysqli_fetch_array($resultado, MYSQL_ASSOC)){\n        do{\n            echo \"<div class='container espacio-arriba'>\";\n            echo \"<div class='row'> <div class='col-md-2'></div>\";  \n            echo \"<div class='col-md-8'>\";\n            echo \"<form class='fondo' >\";\n            echo \"<legend><strong>Maestra: Ver&oacute;nica Bueno. A&ntilde;o 2017</strong></legend>\";\n            echo \"<div class='form-group' id='centrar'>\";\n            echo \"<label>Nombre:</label> $row[nombre]<br>\";\n            echo \"<label>Apellido:</label> $row[apellido]<br>\";\n            echo \"<label>Edad:</label> $row[edad]<br>\";\n            echo \"<label>C&eacute;dula:</label> $row[cedula]<br>\";\n            echo \"<label>Nacionalidad:</label> $row[nacionalidad]<br>\";\n            echo \"<label>Domicilio:</label> $row[domicilio]<br>\";\n            echo \"<label>T&eacute;lefono:</label> $row[telefono]<br>\";\n            echo \"<label>Cobertura M&eacute;dica:</label> $row[coberturaMedica]<br>\";\n            echo \"<label>Emergencia:</label> $row[emergencia]<br>\";\n            echo \"<label>Enfermedades:</label> $row[enfermedades]<br>\";\n            echo \"<label>Alteraciones:</label> $row[alteraciones]<br>\";\n            echo \"<label>Usa lentes:</label> $row[lentes]<br>\";\n            echo \"<label>Vive con:</label> $row[viveCon]<br>\";\n            echo \"<label>Cantidad de hermanos/as:</label> $row[cantHmnos]<br>\";\n            echo \"<label>Edades de sus hermanos:</label> $row[edadesHmnos]<br>\";\n            echo \"<label>Madre/Padre/Tutor:</label> $row[madrePadreTutor]<br>\";\n            echo \"<label>Ocupaci&oacute;n:</label> $row[ocupacion]<br>\";\n            echo \"<label>Nivel educativo:</label> $row[nivelEducativo]<br>\";\n            echo \"<label>Beneficios Sociales:</label> $row[beneficios]<br>\";\n            echo \"<label>Concurre a la escuela en:</label> $row[concurreEn]<br>\";\n            echo \"<label>Recorre:</label> $row[recorre] (cuadras)<br>\";\n            echo \"<label>Otras actividades:</label> $row[otrasActividades]<br>\";\n            echo \"<label>Se duerme a las:</label> $row[seDuerme]<br>\";\n            echo \"<label>Mira los programas de TV:</label> $row[programasTV]<br>\";\n            echo \"<label>Le gusta jugar a:</label> $row[juega]<br>\";\n            echo \"<label>Tiempo que dedica a estudiar:</label> $row[tiempoEstudio]<br><br>\";                \n        }while($row = mysqli_fetch_array($resultado, MYSQL_ASSOC));\n            echo \"<div class='espacio-arriba'><button type='button' name='volver' class='btn btn-primary btn-lg btn-block' id='pdf' value='volver' onClick='window.location.href=\\\"index.html\\\"''>Volver Atr&aacute;s</button></div>\";              \n            echo \"<div class='espacio-arriba'><button type='button' name='pdf' class='btn btn-primary btn-lg btn-block' id='exportar' value='generar' onClick='window.location.href=\\\"pdf.php\\\"''>Generar pdf</button></div>\";\n            echo \"</div>\";      \n            echo \"</form></div><div class='col-md-2'></div></div>\";\n            echo \"<div class='espacio-arriba2'><footer><p>Ver&oacute;nica Bueno &copy</p></footer></div>\";\n    }else{\n        echo \"<div class='container espacio-arriba'>\";      \n        echo \"<div class='row'> <div class='col-md-4'></div>\";  \n        echo \"<div class='col-md-4'>\";\n        echo \"<form class='fondo' >\";\n        echo \"<legend><strong>A\u00f1o 2017</strong></legend>\";\n        echo \"<div class='form-group'>\";\n        echo \"<div class='form-group' id='centrar'>\";\n        echo \"<br><strong>\u00a1No existen registros!</strong><br><br>\";             \n        echo \"<button type='button' name='volver' class='btn btn-primary' value='volver' onClick='window.location.href=\\\"index.html\\\"''>Volver Atr&aacute;s</button>\";\n        echo \"<button type='button' name='pdf' class='btn btn-primary' value='pdf' onClick='window.location.href=\\\"pdf.php\\\"''>Descargar PDF</button>\";\n        echo \"</div></div></div>\";\n        echo \"</form></div></div>\";\n\n    }       \n?>\n\n\n\n`. $html = 'buscar.php';. $html = 'buscar.php';. Yes I understand.\nFirst the page is formed and then I pass the page already formedbut with extension .php but the page is already loaded (extension .php).\nthat does not work?. Yes I understand.\nFirst the page is formed and then I pass the page already formedbut with extension .php but the page is already loaded (extension .php).\nthat does not work?. Thank you very much for your help!!!\nBest regards!. Thank you very much for your help!!!\nBest regards!. Yes, thank you.. Yes, thank you.. ",
    "himalayasingh": "Using border-radius:50px on a div of width and height 100px gives me a circle in dompdf version 0.8.0\nUse the border-radius = [ Half the value of width of div ]px. ( Gives a circle, this is a trick in css ) . ",
    "technoknol": "This works for circle, but not for ellipse. . ",
    "SStembridge": "How would I find the ending y position of a table that spans multiple pages? I can get the position for ones that fit on a single page because the border box height is an actual number, but for ones that take up multiple pages the height keeps returning as 'auto'.. ",
    "caliburn82": "I get problems as well but mainly when using CSS variables on margin or padding.\n```css\n:root {\n    --spacing: 20px;\n    --size: 300px;\n    --grey: #888888;\n}\n.container {\n    background: var(--grey-d);\n    font-size: var(--spacing);\n    margin: var(--spacing) 0; / Errors: A non-numeric value encountered /\n    padding: var(--spacing); / Error: Box property calculation requires containing block width /\n    width: var(--size);\n}\n```\n. ",
    "Lapotor": "No sorry nothing works does someone else have a solution ?\n. sure:\n<table style=\"table-layout: fixed;border-collapse: collapse;width: 100%; margin-top: 34pt;\">\n<tr>\n                <th class=\"pos\" style=\"width: 2cm\">Position</th>\n                <th class=\"bez\" style=\"width: 4cm\">Bezeichnung</th>\n                <th class=\"mwst\" style=\"width: 3.25cm\">MwSt.</th>\n                <th class=\"ein\" style=\"width: 4cm\">Einzelpreis</th>\n                <th class=\"ges\" style=\"width: 3.94cm\">Gesamtpreis</th>\n</tr>\n</table>\nThis does not work.\n<table style=\"table-layout: fixed;border-collapse: collapse;width: 100%; margin-top: 34pt;\">\n    <colgroup>\n        <col width=\"5%\"/>\n        <col width=\"30%\"/>\n        <col width=\"20%\"/>\n        <col width=\"40%\"/>\n        <col width=\"5%\"/>\n    </colgroup>\n<tr>\n                <th class=\"pos\" style=\"width: 2cm\">Position</th>\n                <th class=\"bez\" style=\"width: 4cm\">Bezeichnung</th>\n                <th class=\"mwst\" style=\"width: 3.25cm\">MwSt.</th>\n                <th class=\"ein\" style=\"width: 4cm\">Einzelpreis</th>\n                <th class=\"ges\" style=\"width: 3.94cm\">Gesamtpreis</th>\n</tr>\n</table>\nDidn't work at all. sure:\n<table style=\"table-layout: fixed;border-collapse: collapse;width: 100%; margin-top: 34pt;\">\n<tr>\n                <th class=\"pos\" style=\"width: 2cm\">Position</th>\n                <th class=\"bez\" style=\"width: 4cm\">Bezeichnung</th>\n                <th class=\"mwst\" style=\"width: 3.25cm\">MwSt.</th>\n                <th class=\"ein\" style=\"width: 4cm\">Einzelpreis</th>\n                <th class=\"ges\" style=\"width: 3.94cm\">Gesamtpreis</th>\n</tr>\n</table>\nThis does not work.\n<table style=\"table-layout: fixed;border-collapse: collapse;width: 100%; margin-top: 34pt;\">\n    <colgroup>\n        <col width=\"5%\"/>\n        <col width=\"30%\"/>\n        <col width=\"20%\"/>\n        <col width=\"40%\"/>\n        <col width=\"5%\"/>\n    </colgroup>\n<tr>\n                <th class=\"pos\" style=\"width: 2cm\">Position</th>\n                <th class=\"bez\" style=\"width: 4cm\">Bezeichnung</th>\n                <th class=\"mwst\" style=\"width: 3.25cm\">MwSt.</th>\n                <th class=\"ein\" style=\"width: 4cm\">Einzelpreis</th>\n                <th class=\"ges\" style=\"width: 3.94cm\">Gesamtpreis</th>\n</tr>\n</table>\nDidn't work at all. ",
    "LiamMartens": "Encountered same issue, no fix on the horizon yet?. ",
    "CASNetlink": "I was able to get the correct column widths by setting width=\"n\" and style=\"width:n\" for both the column headers and the rows.\ne.g.\n```\n\nNo.\nDescription \n\n\n123\nSome description here\n\n```\n. ",
    "JettTeixeira": "@CASNetlink  Didn't work for me. I added color to the header:\n\n. ",
    "ziprain": "@bsweeney After trying the solutions offered in #938 XODO Docs and Adobe PDF Viewer were still unable to read the font correctly. We reverted all changes concerning the DejaVu font. Right now the relevent styling for the font-family is \nbody{font-family: Helvetica, Arial, sans-serif; font-size: 11pt; margin: 0;}.\nChrome managed to handle this styling we used, but the above mentioned failed.\nbody{font-family: DejaVu, Arial, sans-serif; font-size: 11pt; margin: 0;}.\nEdit: Eventhough Chrome will display the letters correctly, some of them won't get displayed right away, like for example the upper half of the letter is missing. They will however appear after marking them with Ctrl+A.\n . @hakimio Thank you for your suggestion, but switching is not yet an option. We'd like for now stay with dompdf.\n@bsweeney Is there any information I could provide, which would help you troubleshoot the problem?. I think we used \"DejaVu Sans\", would have to look it up the other day to confirm.\nNo, we used to use the ZendPDF module, but it got really messy and we were looking for another one. Everything concerning the PDF generation was coded complete from scratch, as ZendPDF does things differently.\nI will try and see whether or not DomPDF can find the File or not.\nAgain thank you for your suggestions, I will report as soon as I have time to mess with it.. ",
    "jR0driguez": "Yes, the problem was Bootstrap. Thanks. \nI removed it and added custom css and tables and now works fine. I thought that the problem was in the php loop or something like that.\nI'll create other ticket for asking something about composer install. \n. Yes, the problem was Bootstrap. Thanks. \nI removed it and added custom css and tables and now works fine. I thought that the problem was in the php loop or something like that.\nI'll create other ticket for asking something about composer install. \n. ",
    "andreiPetatec": "Hi!\nI resolved it by adding:\n$dompdf->set_option('enable_remote', TRUE);\nDon't know exactly how, but this fixed the problem. It started to output the correct string. First it was used as an image src, which lead to a message saying that the image was missing, or something like that, and than I just printed the entire link and saw that part missing. Setting the \"enable remote\" to true fixed both cases.. First it was used as an image src, which lead to a message saying that the image was missing, or something like that, and than I just printed the entire link and saw that part missing. Setting the \"enable remote\" to true fixed both cases.. ",
    "Mellthas": "I can confirm this bug is fixed for us with the current develop branch.. The same code is used in three places, so it might make sense to factor setting the Content-Disposition header out. Would it make sense to put a method into the Helpers class?. Fair point. As it is only for the fallback filename, which people might never actually see (with missing characters), I think it doesn\u2019t really matter. I have changed iconv back to mb_convert_encoding.\nThe second commit adds a helper method for building the Content-Disposition header. The Cpdf class (in lib) now uses the helper method from the Dompdf namespace. Is that any problem (dompdf depends on CPDF, CPDF depends on dompdf)?. This sounds like a good idea. I\u2019ll give it a shot in the following days, if I find some time.. Here we go. Cpdf::stream is now basically a copy of CPDF::stream, minus the use of the helper method. I also went through all the other Adapter stream and output methods to make them more consistent and more readable (also regarding documentation).\nNotes:\n Changed the use of 1 and 0 for the options to true resp. false in the code; I think this is clearer.\n Fixed two bugs on the way: Compression not being used by default in the CPDF::stream method and broken JPEG output/streaming.\n Removed the Accept-Ranges option from Cpdf::stream (see commit message).\n Factored out the code duplication in the GD adapter.\n* Activated the Content-Length header in the PDFLib adapter, as the size is always known.\nI have not tested the changes to the PDFLib adapter, as I dont\u2019t have access to PDFLib.. You\u2019re welcome!. Interestingly, if you apply display: inline to the #test div, the text moves to the left and the background stays within the table instead. There is no difference between the two versions. See Output inline.pdf.\n. Had a shot at the bug, see #1616. Would be great if anyone could check how their real-life documents render with the changes, in particular if the changes break anything else.. This might actually be addressed by #1356.. ",
    "hiteshambaliya": "i think i am using 0.7 version bcoz i found below code in dompdf folder\n\"extra\": {\n        \"branch-alias\": {\n            \"dev-develop\": \"0.7-dev\"\n        }\n    }\n\nWe have created below css in our html to generate pdf\n.tablePadding td input:[type=\"checkbox\"], td input:[type=\"checkbox\"]{\n                border:1px solid #000;\n                height:15px;\n                width:15px;\n            }\nand just simply we put html code as below\n<td>\n    <input type=\"checkbox\" checked=\"checked\" onclick=\"return false;\"/><span>yes</span>\n</td>\n\nhttp://stackoverflow.com/q/43714419/264628\nYes i have posted this question on stack overflow\nThank you :). i think i am using 0.7 version bcoz i found below code in dompdf folder\n\"extra\": {\n        \"branch-alias\": {\n            \"dev-develop\": \"0.7-dev\"\n        }\n    }\n\nWe have created below css in our html to generate pdf\n.tablePadding td input:[type=\"checkbox\"], td input:[type=\"checkbox\"]{\n                border:1px solid #000;\n                height:15px;\n                width:15px;\n            }\nand just simply we put html code as below\n<td>\n    <input type=\"checkbox\" checked=\"checked\" onclick=\"return false;\"/><span>yes</span>\n</td>\n\nhttp://stackoverflow.com/q/43714419/264628\nYes i have posted this question on stack overflow\nThank you :). Hello any one can reply what is the solution for this issue?. Hello any one can reply what is the solution for this issue?. By the way we was Solved that issue by putting image for Checked and Unchecked and now I don't have any track of that project so I am not able to post and sample.\nThank you for your kind reply @bsweeney . ",
    "Sadzeih": "I'm having the same problem. The font works in HTML but the rendered PDF does not show the right font.. ",
    "alapaco": "I have the same problem too!\nThe font works good in html but not at dompdf.\n@font-face {\n    font-family:'NeoSansBoldImport';\n    font-style:normal;\n    font-weight:bold;\n    src:url('/fonts/neo_sans/NeoSanBold.ttf') format('truetype');\n}\n. In my case, if I use a normal font this font looks good, the problem occurs when I use a font in bold.\nIt's strange.. In my case the mistake was mine, had the source of the body on write to the source of the divs with the \"important!\" label.\nSorry.\nThanks for such a useful tool!\nbody {font-family:NeoSansImport !important; text-align:left;}. ",
    "frostedcheerio": "I updated my original comment to note that I've tried with both absolute and relative paths to the font files and still no success.. Turns out the issue in my case was an extra space before the URL string.  Once that was removed the fonts rendered correctly in the pdf. . Turns out the issue in my case was an extra space before the URL string.  Once that was removed the fonts rendered correctly in the pdf. . ",
    "aashishsoni": "is it possible to add this Brady Bunch  font in dompdf as mine is not working, please help.. ",
    "mt15199": "After couple of hours of searching, I found out the caused on the issue that I'm facing with using google font and hosted custom font.\nIt was cause by using $dompdf->ouput and $dompdf->stream function on the same script.\nJust call 1 function at a time.. I thought my issue has been resolved but when I moved the library into online hosting (free). The font is not working anymore.\nHere's the link - https://marlz151990.000webhostapp.com/dompdf/makePDF.php\nAttached is the file generated via localhost which font is working. I couldn't see any error on the developer area\nMay I know what's the issue on that? \nfile.PDF\n. I found the answer on this report - https://github.com/dompdf/dompdf/issues/1210\nI just changed the backslash to forwardslash (\"/\") character  in dompdf/lib/fonts/dompdf_font_family_cache.php. ",
    "marieve": "I was trying to put the font Calibri, but when I looked at the page dompdf/lib/fonts/dompdf_font_family_cache.php, I've seen that the name for PDF is calibrii !! So, instead of \"font-family: Calibri;\", I've put \"font-family: calibrii;\" and it now works !. ",
    "clebersleite": "@Lam784 Nice obs man; in bold the personal font work fine '-'. ",
    "edum18": "I have the same problem, works well on HTML output but not on the generated PDF...\n    @font-face {\n        font-family: 'RobotoThin';\n        font-weight: 100;\n        src: url('/assets/fonts/roboto/fonts/Thin/Roboto-Thin.woff') format('woff');\n    }\n\n    span.cls_003{font-family: 'RobotoThin', \"Times New Roman\", sans-serif; font-weight: 100; font-size: 30px;}\n    div.cls_003{font-family: 'RobotoThin', \"Times New Roman\", sans-serif; font-weight: 100; font-size: 30px;}\n\nI tried using the hosted method too:\n    @font-face {\n        font-family: 'RobotoThinn';\n        font-style: normal;\n        font-weight: 100;\n        src: local('Roboto Thin'), local('Roboto-Thin'), url(https://fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1MmgVxIIzI.woff2) format('woff2');\n        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n    }\n\n    span.cls_003{font-family: 'RobotoThinn', \"Times New Roman\", sans-serif; font-weight: 100; font-size: 30px;}\n    div.cls_003{font-family: 'RobotoThinn', \"Times New Roman\", sans-serif; font-weight: 100; font-size: 30px;}\n\nThe problem remains.... > @edum18 - Try changing the font weight to normal rather than 100\n\nfont-weight: normal;\n\n@wezwest nop, still the same \ud83e\udd14. ",
    "wezwest": "@edum18  - Try changing the font weight to normal rather than 100\nfont-weight: normal;. ",
    "T0miii": "is there a wokaround for this?. @hakimio nth-of-type helped, thx a lot. We are planing to switch to ubuntu early next year. . ",
    "x00x70": "I'm not able to get any font-awesome working, using the method posted above? Any idea when this will be fixed in 0.8 ?. ",
    "lexthor": "any fix for this, yet? \n. ",
    "rodrigoalvesnet": "I did it this way and it worked:\n$this->response->type('application/pdf');\nThanks!. ",
    "thewunder": "/cc @samuraiseoul. Any chance we could get this in the next release?  I may be able to help if you point me in the right direction here. . ",
    "Vincent--": "Fix bugs introduced in this commit: https://github.com/dompdf/dompdf/commit/2cba67e0a9f49462a2d794fff6686c2b797ddd20. Hey \ud83d\ude01 \nCould we have an update on that, please? Any ETA?\n. Hey \ud83d\ude01 \nCould we have an update on that, please? Any ETA?\n. ",
    "OnkelTem": "Confirm this. Images are displayed as small as micro-icons.\n\nCan't find a way to fix it. \nWhy don't you print on your main page the text:\nDOMPDF DOESN'T SUPPORT IMAGES INSIDE TABLES ?\nP.S. Does anybody know an alternative to dompdf?. Confirm this. . ",
    "dorozhkin": "I have the same problem. Still can't display normal image in table.\nI can suggest not to use image with table in such cases, but use div with display:inline-block style if you nedd to display two columns.. ",
    "agoradesign": "I can also confirm this issue. They are micro-sized inside tables and normal outside. I tried various things to bypass this problem. One approach was to set a style attribute on the img element, specifiying width and height in pt units. Interestingly, the height was accepted, but the width was still tiny, resulting in a completely blurred image.\nAfter finding this issue and not having luck with my workarounds, I changed the markup into a tableless one.. However it still may get funny for me, because later in the document I will have to render some order items, which won't be easy to accomplish without tables.... Really? Thought you can reproduce it on dev, but not on released versions? (Which sound weird because I wouldn't expect any troubles with the last commits since the release). It happened to me on 0.8.0 and I still had it with the current dev. If PHP version matters, it happened on 7.1.4. I'll do my best to provide you with better details. I have actually found a way, how to reproduce it :)))\nFirst of all, I have to mention that the original issue happened inside a Drupal 8 site using the entity_print module. I didn't seem at first sight, that the Drupal module is adding something harmful, as it is mainly configuring the DomPdf instance and let it render the HTML produced by Drupal. It is adding by default only a few lines of CSS (which can be skipped completely, if desired).\nIn order to be able to give you a better starting point, I then set up a custom PHP file loading Dompdf on the same server, but without any Drupal context. I configured it the same way (paper size A4 and orientation portrait, enabling the HTML5 support).\nI started adding an image and a table with an image (having one row with two columns, the image in the first column and a short text in the second column) and rendered that markup. No problem occurred! Next, I have added the same wrapper elements in my HTML markup and copied the HTML head part (first, without CSS linked). Still no problem.\nNext, I added the same CSS file that I was using on my Drupal page, when the problem suddenly arised!\nNow it was rather clear to me, where the problem would live. And a few experiments later, I was sure that it was that:\nBy default, the entity_print Drupal module is adding this styles:\n.page img {\n  max-width: 100%;\n  height: auto;\n}\nAs soon as you remove the max-width part, the images inside tables are rendered correctly!\nI was further playing around, re-added that line and tried to override it for tables with:\n.page td img {\n  max-width: auto;\n}\nWhat happens then, is also very interesting: the image size is ok, but it's parent table cell is somehow collapsing, so that it is overlapping the second cell.\nHope, this information helps you. At least, it should help everyone getting the same problem to find a workaround :)\nPS: I'll open up an issue in the Drupal module too, linking to this issue here. @bsweeney \nthanks for the quick response and especially for the last sentence. I was mixing up the default of max-width. Good to know that we can reset it for tables specifically (and shame on me :D )\nThe rest of the explanation makes sense too, since width calculations are always different for tables. However, what I did have (and it didn't work), was setting 100% width on the table and 50% width on td (I had two cols). Also, during debugging I added a div element in the same cell (with a declared height and coloured background). This one was correctly sized, so the table cell should theoretically have it's size set even without image and at calculation time.\nI'm happy to now know enough about the problem to be able to avoid it :). just for the records, here is the corresponding drupal.org issue: https://www.drupal.org/node/2906839#comment-12247566. ",
    "mtsalcova": "I have same problem @Aphyxia! :(\nBut, @agoradesign thanks!! It works for me.\nI added this line:\n.page td img { max-width: none; width: 100% }\nThanks!! \n. ",
    "trollkotze": "You are using v0.7. This has only been fixed in v0.8.\nChange\n\"barryvdh/laravel-dompdf\": \"^0.7.0\",\nto\n\"barryvdh/laravel-dompdf\": \"^0.8.0\",\nand hopefully it should work.. This is still open, so: no.\nAs you can see here it is listed for the v0.8.1 milestone, so is scheduled for the next version, whenever that may be.. Looks like for some reason it could not install v0.8, because of some composer \"minimum stability\" settings. I thought v0.8 should be stable, but it looks like v0.8 stability is marked as dev.\nIt might help to change\n\"minimum-stability\": \"stable\"\nto\n\"minimum-stability\": \"dev\"\nin your composer.json.\n(or add it if the line does not exist.)\nI am not really sure, as I have never had anything to do directly with composer packages.\n(I got this info from here through googling.)\nAnyway, as this is an issue with the usage of composer and not really with DomPDF itself anymore, it seems better to pursue follow-up questions on a place like stackoverflow.. I am not a maintainer or developer of this package. I just came here by coincidence and tried to answer your first question which seemed obvious to me.\nI don't know anything else and cannot help you. Sorry.. No problem, I just wanted to explain.. ",
    "ionesculiviucristian": "I've tried that but the image doesn't appear. The HTML / paths are valid as I can see them rendered correctly.. ",
    "jonathanpmartins": "this way does not work here too. Only base64 images. Same problem here.. than you very much @SergioReis97! This solve my problem! Base64 it is.... ",
    "viveksudalai": "Please see above Cakephp function and ctp file. ",
    "florianbrinkmann": "Cool, thank you! :) I will try to check out how the CSS feature support works and if I can create a PR.. ",
    "gadget00": "You may need to to use Composer so it can help you getting the extra libraries needed and the \"autoload.php\" that you need to set to 'require_once' in your code.\nIn my case, the \"autoload.inc.php\" file that was included was not working for me and I had to use this Composer command to have it re-generated instead.\nHope this helps. Yes, that's exactly what I want to do, try to put in PDF the html I have in the browser instead of re-rendering it again in another script and then pass it to the dompdf render. ",
    "EVDW": "@Singwai I think I found the sources, if it's what you looking for: https://github.com/dompdf/dompdf/tree/tagged-pdf/www/test. ",
    "Singwai": "Thank!!!. $options = new Options();\n        $options->set('isRemoteEnabled', true);\n        $domPdf = new Dompdf($options);\nIf your img is not in  your machine locally, you will need this option. ",
    "dlanz": "Ah okay.  Yep, I don't know why but I was looking at the \"install via Git\" instructions.  Sure enough when I scroll up to the \"Composer\" instructions it explains that.  Knew I was missing something :).. ",
    "kaytotes": "I have this same issue. Prior to 0.8.0 I was using DomPDF to generate labels. 2 to a page using float:right; \nThis no longer works so the labels are splitting up 1 to a page.. ",
    "gagan-coditas": "Thanks for your replies. Have used a different approach to get what I needed.. ",
    "jutho-agentur": "@bsweeney Sorry for late answer. I'm using PHP 5.3.1 - so yes... it's really old ;). ",
    "abram456": "Any update on this issue?. ",
    "perdugames": "I get the same error using php 5.6.33.\n. ",
    "Shwetha031": "I have the same issue. The image is not displayed in pdf.\nI have enabled the isRemoteEnabled to true. . ",
    "MaartenW": "image (on Amazon S3) is found and included after setting this option.. ",
    "maps82": "Dompdf is essentially not working on PHP7 and the problem is easy to fix. It would be very appreciated to release a new version of the svg lib and update dompdf.. Thanks for sharing that quick fix!. ",
    "tucson-tom": "I just pulled fresh (today) from Composer in a new project and this issue still seems to be relevant.  Two fatal errors in the version of Sabberworm that Composer decided to pull down:\n```\nFatal error: Cannot use Sabberworm\\CSS\\Value\\String as String because 'String' is a special class name in C:\\php-decomposer-master\\projects\\dompdf\\staging\\vendor\\sabberworm\\php-css-parser\\lib\\Sabberworm\\CSS\\Parser.php on line 20\nFatal error: Cannot use 'String' as class name as it is reserved in C:\\php-decomposer-master\\projects\\dompdf\\staging\\vendor\\sabberworm\\php-css-parser\\lib\\Sabberworm\\CSS\\Value\\String.php on line 5\n```\nThese lint issues were discovered while decomposing dompdf.. Word HTML is one of the most difficult types of HTML to parse correctly.  Most parsers out there fail on Word HTML content.  Given that OpenOffice works fine for you, what happens if you pre-filter the HTML through TagFilter:\nhttps://github.com/cubiclesoft/ultimate-web-scraper\n```php\nrequire_once \"tag_filter.php\";\n$html = TagFilter::Run($html, TagFilter::GetHTMLOptions());\n```\nThen run the cleaned up HTML through dompdf.. ",
    "shanmuganathang": "Hi, I managed to resolve this issue using a fix that's available here!\nHope this helps someone. Thanks!. ",
    "MrSpider": "This sample shows the length_in_pt method being called with 262.5pt and 112.5pt as $ref_size.\nphp sample https://gist.github.com/MrSpider/3a6b196192cea7ec8ab52dcc3b239788\nhtml only https://gist.github.com/MrSpider/b4cede60aa22d03f8660a0ad86113dfc. ",
    "ged15": "This fixes the numeric problem indeed. Any way to get this merged and tagged?. If it helps, I have been using this patch in production for 3 weeks now and it works as expected :) Used to issue non-numeric value errors before.. ",
    "jbnv": "Going to v.0.8 resolved the issue.. ",
    "hatsumatsu": "Okay I see. The use case I stumbled across this is about using the library in a CMS environment (namely Wordpress) where srcset-based images are saved in a monolithic content block.\nOne workaround would be converting the srcset attributes to src like\n````\n// get all images with srcset, take the last source in srcset and set it as src attribute\n$dom = new DOMDocument();\n$dom->loadHTML( $content );\n$images = $dom->getElementsByTagName( 'img' );\nforeach( $images as $image ) {\n    if( $srcset = $image->getAttribute( 'srcset' ) ) {\n        $sources = explode( ',', $srcset );\n        $source = trim( $sources[ count( $sources ) - 1 ] );\n        $source = explode( ' ', $source );\n        $src = trim( $source[0] );\n    $image->setAttribute( 'src', $src );\n}\n\n}\n$content = $dom->saveHTML();\n`````\n. ",
    "tragx": "I'm reading this is because I need to have installed this via composer.\nIs there an option for those who don't have composer, or the ability to install it in their hosting environment?. Thank you! =)\nI was using the \"Clone or Download\" link. ",
    "DavidAnderson684": "Segmentation faults in PHP are often caused by infinite recursion. Try running with xdebug, which will catch this and report a stacktrace. (Vanilla PHP has no protection against infinite recursion - it just segfaults, except when it reports an out-of-memory condition first).. Does the issue exist with libxml 2.9.6 (the latest)? There's a changelog entry (https://git.gnome.org/browse/libxml2/log/), \"Fix structured validation errors\".. ",
    "TobiasKappe": "On a PHP 7.0 installation, this problem does not occur (for me).. Hi Simon,\nUsing quotes instead of heredoc makes no difference (and I'm not sure why it would).\nActivating the HTML5 parser indeed prevents the problem. I would, however, argue that this behavior is still a bug. For instance, the problem still occurs when the HTML5 parser is not enabled, but the following (valid XHTML 1.0 strict) is passed:\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<title>Test</title>\n</head>\n<body>\n<p>Hello world</p>\n</body>\n</html>. Hi Brian,\n\nFrom what I remember in my debugging attempts, what is happening is that the XML-tree that Dompdf is working with contains an additional \"Text\" element (which contains the whitespace) as a child of <html> and a predecessor to <head>. The layout engine is trying to style this element, and is unable to find a block-level parent for this tag, hence the exception.\nIf you have any questions about my system I'd be happy to answer. For instance, does Dompdf use a particular parsing-library that I could try to switch/downgrade/tweak to see if the issue persists? If you have any other experiments that could help you in fixing this problem, please let me know.. For what it's worth, I've been able to suppress the error with the following patch, which avoids reflowing Text children of the Page:\n```diff\ndiff --git a/src/FrameReflower/Page.php b/src/FrameReflower/Page.php\nindex dc87705..a826ac8 100644\n--- a/src/FrameReflower/Page.php\n+++ b/src/FrameReflower/Page.php\n@@ -11,6 +11,7 @@ namespace Dompdf\\FrameReflower;\n use Dompdf\\Frame;\n use Dompdf\\FrameDecorator\\Block as BlockFrameDecorator;\n use Dompdf\\FrameDecorator\\Page as PageFrameDecorator;\n+use Dompdf\\FrameDecorator\\Text as TextFrameDecorator;\n/**\n  * Reflows pages\n@@ -138,7 +139,10 @@ class Page extends AbstractFrameReflower\n                 }\n             }\n\n$child->reflow();\nif (!($child instanceof TextFrameDecorator)) {\n$child->reflow();\n}\n+\n             $next_child = $child->get_next_sibling();     // Check for begin render callback\n\n```\nThe PDF generated from the code above has some superfluous empty pages though, so it is not a fix - merely a confirmation of my suspicion.\n\n\nThe version of libxml2 on my system is 2.9.4+96+gfb56f80e-1, which corresponds to this commit. As of DomPDF 0.8.1, this issue occurs even when the HTML5 parser is enabled.\nSo, to summarise:\n- DomPDF 0.8.0, HTML5 parser disabled: error\n- DomPDF 0.8.0, HTML5 parser enabled: works\n- DomPDF 0.8.1, HTML5 parser disabled: error\n- DomPDF 0.8.1, HTML5 parser enabled: error\nThis is on PHP 7.1.9 and libxml 2.9.5.. ",
    "nakiom": "I have the same problem since I've upgrade to PHP 7.1.7 (\"No block-level parent found. Not good.\"). Now I'm using PHP7.1.8 and DOMPDF v0.8.0 and still not working the render. \nI did what @TobiasKappe said on Page.php\nSo now the render is working, but my PDF now has two white and blank pages before and another empty page after \"my document\"\n--blank page\n--blank page\n--my pdf render\n--blank page. ",
    "burlap": "For me, this issue is caused by libxml2 version 2.9.5.\nMy results (PHP 5.6.31):\n\nlibxml2 2.9.5, enable_html5_parser => false, test.html  -> \"Not good\"\nlibxml2 2.9.5, enable_html5_parser => true, test.html -> ok\nlibxml2 2.9.5, enable_html5_parser => false, test_single_line.html -> ok\nlibxml2 2.9.5, enable_html5_parser => true, test_single_line.html -> ok\nlibxml2 2.9.4 - ok, for both test.html and test_single_line.html, regardless of the enable_html5_parser setting\n\ntest.html\nhtml\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Foo</title>\n</head>\n<body>\n    <p>hello world</p>\n</body>\n</html>\ntest_single_line.html\nhtml\n<!DOCTYPE html><html><head><title>Foo</title></head><body><p>hello world</p></body></html>\nTesting with:\n```php\n<?php\nrequire 'vendor/autoload.php';\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n$options = new Options();\n$options->set('enable_html5_parser', true);\n$options->set('chroot', 'path-to-test-html-files');\n$dompdf = new Dompdf($options);\n// test.html or test_single_line.html\n$dompdf->loadHtmlFile('test.html');\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n$dompdf->stream();\n?>\n. 1. 2.9.5, enable_html5_parser => false, test.htmlhtml\n<!DOCTYPE html>\n\n\nFoo\n\n\nhello world\n\n\n```\n\n\n2.9.4, enable_html5_parser => false, test.html\nhtml\n<!DOCTYPE html>\n<html><head><meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\"><title>Foo</title></head><body>\n    <p>hello world</p>\n</body></html>\n\n\n2.9.5 and 2.9.4, enable_html5_parser => true, test.html\n```html\n\nFoo\n\nhello world\n\n\n\n```\nThere are no differences for test_single_line (as expected, it did work in all configs).. ",
    "windaishi": "I can confirm the problem with PHP 7.0.23 and libxml2 v2.9.5, dompdf 0.7.0\nThis is working:\n<html><head><meta http-equiv=\"content-type\" content=\"text/html; utf-8\" /><title>s</title></head><body><p>Hey</p></body></html>\nThis does fail with the error 'No block-level parent found.  Not good.'\n<html>\n<head><meta http-equiv=\"content-type\" content=\"text/html; utf-8\" /><title>s</title></head><body><p>Hey</p></body></html>\nWhen i set the option $options['enable_html5_parser'] = true; then it works again with no error.. In a previous post I wrote that the problem happens with version 2.7.6 of libxml2. This is WRONG. I found out that it actually was 2.9.5. But the PHP-Version was compiled against 2.7.6 and therefore was showing this version in PHP-Info and also in the LIBXML_VERSION constant. But PHP was actually loading libxml 2.9.5. Thats why the error occured even PHP showed that it had libxml2 in version 2.7.6.\nSo i can confirm that it is a 2.9.5 bug.\nAlso, the workaround posted in this thread worked for me.. ",
    "helmutschneider": "Experiencing this on OSX with 7.1.8 & libxml 2.9.4. I managed to get by with this ugly regex to remove whitespace between tags:\nphp\n$html = preg_replace('/>\\s+</', '><', $html);. ",
    "koseduhemak": "I can confirm that this issue is also present on Mac OSX PHP 7.1.8 with libxml >= 2.9.5 (installed via brew). Downgrading to libxml 2.9.4 worked as @steffenweber already stated. Workaround by @helmutschneider for libxml >= 2.9.5 solves the problem somehow, but is quite hackish. Any better solution is appreciated.. ",
    "ixperiencenl": "Is this issue now resolved or are we still experiencing exporting problems atm?. For now I fixed it with removing the package (and the cache fonts!) and re-installing it. And it's important to filter the output you want to let the PDF parse. Example: $content = preg_replace('/>\\s+</', '><', $content);. ",
    "MuzaffarMahmood": "It was working fine with php5.5.12 but on changing php version to 7.0.25 it stopped working and throwing this error.\nAn uncaught Exception was encountered\nType: DOMPDF_Exception\nMessage: No block-level parent found. Not good.\nFilename: D:\\wamp\\www\\ci316\\application\\libraries\\dompdf\\include\\inline_positioner.cls.php\nLine Number: 37\nHow to resolve this????. ",
    "xxRockOnxx": "@ixperiencenl's solution is a lucky 2-in-1 fix!\nOn local, everything is fine, but on the server, it has some inconsistency in layout; overlapping elements, line-height issues, etc.\nA colleague added that line to fix the bug that solution is intended for but it also fixed one of the weird issue we have! It was on a separate branch that time.\nSpent hours debugging and looking for answers (that nobody seems to have), but after many hours, I tried adding that line temporarily on production and it worked.\nAfter merging the branch, 2 of potential problem went away.. ",
    "alexmiller00": "\nExperiencing this on OSX with 7.1.8 & libxml 2.9.4. I managed to get by with this ugly regex to remove whitespace between tags:\n$html = preg_replace('/>\\s+</', '><', $html);\n\nThis was all it took after a little tinkering ( also I am running libxml2-2.9.1-6.e17_2_3.x86_64, and i have the 'isHtml5ParserEnabled' = true)\ncode.....\n`use Dompdf\\Options;\n$dompdf = new Dompdf();\n// instantiate and use the dompdf class\n$options = new Options();\n$options->set('enable_html5_parser', true);\n$dompdf->set_option('isHtml5ParserEnabled', true);\n$contents = $html = preg_replace('/>\\s+', '<', $contents);\n$dompdf->loadHtml($contents);`. ",
    "exdelierium": "Hi,\nthe display type was only changed as a test, as I read this in another post somewhere...\nThe temp-folder does contain files like \"ca_dompdf_img_CVcKDQ\", so the right shouldnt be the issue.\nThe Code:\n```\nrequire_once($dirThis.\"plugins/domPDF/autoload.inc.php\");\n// reference the Dompdf namespace\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n// instantiate and use the dompdf class\n$dompdf = new Dompdf();\n$html = \"\n\n\nHello Dompdf\n\n\n\n\";\n$dompdf->loadHtml($html);\n//*/\n// (Optional) Setup the paper size and orientation\n$dompdf->setPaper('A4', 'portrait');\n// Render the HTML as PDF\n$dompdf->render();\n// Output the generated PDF to Browser\n$dompdf->stream();\n```\nThe file:\ndocument.pdf\nThanks. Update:\nI now checked the exact same setup (same domPDF version, same own code to generate pdf) on another server, and it worked perfectly well. Definitely has to do something with the server... However, I also asked the provider to check whether the requirements are met, and the response was, that all php extensions are activated. :-/\nWhat is left to check?\n- the extensions seem to work\n- the tmp folder used by dompdf contains files with dompdf names, so must be writable by dompdf\n- the images are NOT remote (even though the remote option is enabled)\n- I tried several images in different formats, sizes and from different sources\nHow can this be? Anything I could write to my provider for him to know what to check again?\nThanks. There are no new files in the temp folder since 24 hours ago, how is that possible? I did not (knowingly) change anything with the permissions nor with the php code.\nAlso, I can open the temp folder in my ftp client to see the files, but when I try to download / open a file I get a \"permission denied\" :-/ might this be the problem?? if so, how is it possible ther are files iin that folder named \"ca_dompdf_img_CVcKDQ\"?\nas for the phpinfo:\n\n\n\n\n\n. I changed the tmp-folder to a folder I can control in the options.php of dompdf:\n$this->setTempDir('/usr/local/www/....../tmp/'); //sys_get_temp_dir()\nwhere I gave chmod 777.\nAfter creating a pdf with a png and a jpg inside, there is only a log.htm file in the tmp folder, which contains just one line:\n53 2048.00 KB 108.39 ms ON\nWhen I use a remote image instead (like the google logo from the google server), it does save the temp image file in the new temp folder. However, I still get \"permission denied\" from my ftp client when trying to open or download it. I guess it has something to do with the missing file-extension... The image remains to be white but in correct size in the pdf file, though.... I found the source of the error :-)\nWhen saving the pdf to the server and then downloading it, the images show up as they should! \n$output = $dompdf->output();\nfile_put_contents()\nOnly when I stream the output with $dompdf->stream(); and then try to show the file, the error occurs. As the request to create the pdf is done via an ajax request, the stream is the response of the ajax call, and I tried to show that with:\nvar blob=new Blob([data]);\nwindow.open(URL.createObjectURL(blob));\nwhere data holds the full response of the ajax call.\nSo, this doesnt seem to be the correct way to show the generated pdf file adhoc, i.e. without saving it to the server first.\nAny ideas with this newly found information?\nMany thanks for sticking with me :-). ",
    "youngcrv": "Just to let you know, I'm having the same issue (DomPDF 0.8), the image in the src is not appearing (not white ... transparent as doesn't show against a colored background).  A border and background show where the image should be.  Saving to a file doesn't seem to work for me.\nWeirdly, in some PDFs, earlier images show and then later ones do not.  Works fine when I just output as HTML to a browser window.. Found the solution to my issue by researching things that others have noted ... basically, in my case the css for img had been set as inline-block.  You don't want to do this with dompdf (\"It appears that if your CSS specifies your images as display:block, DOMPDF won't show them sometimes. Have changed my code so that it uses a pdf-specific CSS file without that it.\").  So, if you're experiencing the weird behavior in my prior post, check the css your on img.  . ",
    "khrisnagunanasurya": "Hi, simonberger. The problem i got is why the first picture for every page is like it's styled with margin-left, what i want its to be like the rest. They are aligned in 1 coulmn position, not like on the top of the page, its like its aligned to middle. This is my html files.\nFYI: I'm using Dompdf for Codeigniter, and what i can found that can be used for codeigniter is 0.6.2\n```\n\n    body { font-family: Calibri; }\n    .wrapper { width: 605px; margin: 0 auto; }\n    .row { width: 100%; display: block; margin-bottom: 10px; }\n    .row:last-child { margin-bottom: 0; }\n    .number { width: 5%; display: inline-block; text-align: center; vertical-align: top; }\n    .photo { width: 20%; display: inline-block; padding: 10px; border: 1px solid #000; }\n    .photo img { width: 100%; }\n    .description { width: 370px; display: inline-block; vertical-align: top; border: 1px solid #000; font-size: 14px; padding: 10px; }\n    .list { width: 100%; display: block; margin: 0; padding: 0; }\n    .column-left { width: 30%; display: inline-block; }\n    .column-right:before { content: ': '; }\n    .column-right { width: 65%; display: inline-block; }\n\n<center>PROFIL ANAK LKSA WIDHYA ASIH</center>\n<center><?= date('Y') ?></center>\n<center>LKSA Widhya Asih : Singaraja</center>\n<br /><br />\n\n<div class=\"wrapper\">\n    <?php $i = 1; foreach($list_anak AS $anak) { ?>\n        <div class=\"row\">\n            <div class=\"number\"><?= $i ?></div>\n            <div class=\"photo\"><img src=\"<?= base_url('assets/uploads/anak/' . $anak['foto']) ?>\"></div>\n            <div class=\"description\">\n                <div class=\"list\">\n                    <div class=\"column-left\">Nama</div>\n                    <div class=\"column-right\"><?= ucfirst($anak['nama']) ?></div>\n                </div>\n                <div class=\"list\">\n                    <div class=\"column-left\">Tempat Tgl lahir</div>\n                    <div class=\"column-right\"><?= ucfirst($anak['tempat_lahir']) ?>, <?= date('d F Y', strtotime($anak['tanggal_lahir'])) ?></div>\n                </div>\n                <div class=\"list\">\n                    <div class=\"column-left\">Pendidikan</div>\n                    <div class=\"column-right\"><?= ucfirst(explode('|', $anak['pendidikan_saat_ini'])[1]) ?></div>\n                </div>\n                <div class=\"list\">\n                    <div class=\"column-left\">Minat & Bakat</div>\n                    <div class=\"column-right\"><?= $anak['minat_bakat'] ?></div>\n                </div>\n                <div class=\"list\">\n                    <div class=\"column-left\">Pretasi</div>\n                    <div class=\"column-right\"><?= !empty($anak['prestasi_untuk_sponsor']) ? ucfirst(explode('|', $anak['prestasi_untuk_sponsor'])[1]) : 'Belum ada prestasi.' ?></div>\n                </div>\n            </div>\n        </div>\n    <?php $i++; } ?>\n</div>\n\n```. @simonberger if i update the DOMPDF, what should i do? just replace the DOMPDF files to new the newer one?\n@bsweeney actually that's the actual HTML that will be rendered by DOMPDF, why there is a PHP code is because there are a lot of data. and the data can be selected which one will be printed.. @bsweeney Sorry, my mistake. Here is the generated HTML.\n\nIt will be like that every time a new page created, only the top one of every page.. @bsweeney sorry, but what is this 'actual code' do you mean? i don't understand it, if you mean the inspect element then sorry, it's PDF file, i can't look the code with inspect element. Or is it something else? \nif it's the code from controller, here it is\n```\npublic function daftar_sponsor_anak()\n       {\n        $this->load->model('cetak_model', 'cetak');\n        $data['list_anak'] = $this->cetak->daftar_sponsor_anak();\n    $this->load->library('pdf');\n\n    $this->pdf->load_view('pages/cetak_data_sponsor_anak', $data);\n    $this->pdf->render();\n\n    $this->pdf->stream('daftar_sponsor_'. date('F Y') .'.pdf'); \n}\n\n```. @bsweeney I already put it on the comment before, it's here\nThat's all, only those codes nothing more, nothing less.\nI fetch the database to show all the images, therefore it shouldn't be any problem right? but why i got those misaligned image on top of every page.. Ahh now I understand what do you mean with that HTML things.\nYes, it's working perfectly fine now, thank you for your support, hope this issues helping the others as well . ",
    "adrienco88": "The newest develop branch still have this issue, happening with multiple languages. I also tried with different fonts but there are the same results, question marks instead of characters, even if I don't use encryption.. Hi @simonberger \nI read the Unicode How To already.\nI suppose that the font is capable (Arial Unicode) since it's working fine with dompdf 0.6 without encryption. \nWith encryption, in Chrome browser I can't see the chars, but if I select and copy them, when I paste them I see the right chars, and in Adobe PDF Viewer I see just squares.\nWith the latest develop branch, I got question marks instead of the the chars in both browser and PDF viewer. I tried with DejaVu Sans and also with Courier and Arial/Arial Unicode.\nI will try more, but if you have any idea it would be appreciated.\nThanks. I was comparing 0.6 with the latest develop.\nIt seems to work ok now, but I had to re-load the fonts under a different font-name (using the same font files) using the load_font script. If I load them with the old font name: ArialUnicode for example it didn't worked for some reason even if I saw that the font_family_cache was updated. Now when I re-load them under ArialUnicodeNew name it seems to work as expected. \nThanks for everything and Best Regards,. ",
    "rudiedirkx": "Yes, that is somewhat clunky, but with a little bit of love, that could be perfect. Maybe with support for pre- and post-processing.\nThis does exactly what I want though. I just have to be careful with the variable names and content. If one is much longer than the other, it's rendered completely wrong, but that's to be expected. Works perfectly for short replacements (and probably fixed/absolute positions).\nIf I think of something useful pre-/post-processor-wise, I'll create a PR. Or is that a thing already?. Actually it's less perfect than previous reports... =)\nFor an object only on page 1, it works perfectly, because the placeholders (%N% and %M% in my case) are only replaced once.\nFor objects on every other page, replacement only works once, so every next page will have page 2 of 5, because this replacement happened on page 2 first... Changing the object more than once, changes it for every page, because it's the same object. I can't seem to reuse the object... Any ideas?. Yes, the #1512 document is the one.\nI'll try the counter(page) method, but I still like the replacement, also inside a fixed element. Is there a way to clone these objects? Can I just copy the array to a new object number?. This works for multiple pages:\n<script type=\"text/php\">\n    $pdf->page_script('\n        if ($PAGE_NUM == 1 ) {\n            $pdf->get_cpdf()->objects[ $GLOBALS[\"pager_1\"] ][\"c\"] = strtr($pdf->get_cpdf()->objects[ $GLOBALS[\"pager_1\"] ][\"c\"], [\n                \"%n%\" => $PAGE_NUM,\n                \"%m%\" => $PAGE_COUNT,\n            ]);\n            $pdf->add_object($GLOBALS[\"pager_1\"]);\n        }\n        else {\n            $nobj = $pdf->open_object(); $pdf->close_object();\n            $pdf->get_cpdf()->objects[$nobj] = $pdf->get_cpdf()->objects[ $GLOBALS[\"pager_n\"] ];\n            $pdf->get_cpdf()->objects[$nobj][\"c\"] = strtr($pdf->get_cpdf()->objects[$nobj][\"c\"], [\n                \"%n%\" => $PAGE_NUM,\n                \"%m%\" => $PAGE_COUNT,\n            ]);\n            $pdf->add_object($nobj);\n        }\n    ');\n</script>\n\nbut it's not very elegant. Could be more elegant if objects were more OO.\nMaybe create a $pdf->clone_object() method? Makes cleaner code.... Is there a rewrite/refactor issue to follow? It's still up to you, but I'd like to follow progress =). This does work:\ntr.afdruk-aan + tr.afdruk-aan span {\n\ninstead of\n.afdruk-aan + .afdruk-aan span {\n\nwhich is totally acceptable for me. But it's still a kinda bug maybe? Or is this part of the compat issues?. The absolute footer issue is not so important. It's a hack that doesn't work, which might be good.\nThe paragraph breaking is importanter, and stranger. I've created ~6 PDF templates the last weeks, and all work perfectly. All have fixed, some footers, some headers. Only this test case (almost the same) doesn't work.. These are the very easiest reproductions I could find:\nmargin-3.5cm.pdf\nmargin-4cm.pdf\nSource HTML:\n```\n\n\n",
    "shaiby": "Can some one help me whats I am doing wrong while generating TOC. Page number are not replacing.\nhttp://eclecticgeek.com/dompdf/debug.php?identifier=cd82468c0a99e995139bf3235162bfc4\nI think it will require use of CPDF but I am not sure how to use it. To repeat footer, on every page, I used a div that have position fixed and at very bottom of page....This way that div is use to repeat on every page as footer. . Please help in this issue...I need to finish a job. I really appreciate response regarding this. . Thanks a lot for response...\n@dandinuro Yes I have database table in mysql. Issue is there are several entries those need to be used to create a PDF and each entry have number of content sections those need to be the part of COD. So simple mysql entry won't give me the correct idea for COD.\n@noone-silent I need to show PDF page number where that title (content section) is to be displayed. So simply using anchor will not give me the real page number.\nAny suggestion? . There is a solution that I passed few days ago using script within content and then after rendering PDF but before generating output I can have each section's page number. I need that solution. Quick reference of this will help me a lot.\nPlease suggest me in this regard...I really appreciate as I am getting out of my project deadline.. @bsweeney \nBy seeing your example I have created a debug.....http://eclecticgeek.com/dompdf/debug.php?identifier=cd82468c0a99e995139bf3235162bfc4\nEverything I hope is fine in there but still page number are not replacing. Please any help???\nMy PDF generation code is like this where $html is same as given in debug\n\n$options = new Options();\n                    $options->set('defaultFont', 'helvetica');\n                    $options->set('isRemoteEnabled', TRUE);\n                    $dompdf = new Dompdf($options);\n                    //$pdf=new Cpdf();\n                    //$dompdf = new Dompdf(array(0,0,0,0));\n                    $dompdf->load_html($html);\n                    $dompdf->set_paper('A4', 'portrait');\n                    $dompdf->render();\n                    $canvas = $dompdf->get_canvas();\n                    //$font = Font_Metrics::get_font('helvetica', 'normal');\n                    $canvas->page_text(270, 828, \"(Page: {PAGE_NUM})\", '', 7, array(0,0,0));\n$dompdf->stream($filename,array(\"Attachment\"=>0));\n\n. Hi please help in this regard....I even used same html generated in debug...its not working. what's wrong I am doing. . ",
    "stargraphicdesign": "thank you! \nsorry i did do a search for it before i posted.\n*i figured this might be a bit messy, really appreciate the work!. ",
    "asika32764": "DroidSansFallback is default font of Android OS, I think it should not miss latin characters. At least it should support normal English and numbers.\n\nIn this case, DOMPDF can still display English, but not in all part. And it is wired that special charaters like slash (/) also cannot display.\n\nIn TCPDF, Droidsansfallback works well for both language and special charaters:\n\nSo I guess it is not caused by the font.\n. After test, some droidsansfallback.ttf file lacks many characters.\nThis version should have all necessary characters: https://github.com/aosp-mirror/platform_frameworks_base/blob/master/data/fonts/DroidSansFallback.ttf. And I solved my problem by following @MichaelEugeneYuen 's solution.  . Try this version: https://github.com/aosp-mirror/platform_frameworks_base/blob/de0fe2daafb769cc37ca922ffef6dbafb8c6cae2/data/fonts/DroidSansFallback.ttf\nThe lastest DroidSansFallback removed some characters, we should try older version.\nSee also: https://blog.tiger-workshop.com/android-tcpdf-missing-chinese-english-fonts/. ",
    "Eugene-Melbourne": "load_font.php is not a part of the package on the  https://packagist.org/packages/dompdf/dompdf\nI don't know it is a new feature but the instruction https://github.com/dompdf/dompdf/wiki/UnicodeHowTo\nis outdated and there is no new one. This conversation is also outdated and there was no solution any way. It is upsetting. :( . I post my solution on stackoverflow\n. ",
    "workguy66": "Here is the solution that I'm using for CJK (Chinese/Japanese) fonts.\n~~~\n$body = 'test \u7b80\u5316\u5b57 \u5f5d\u8a9e/\u5f5d\u8bed \u30a2\u30e1\u30ea\u30ab test \u010d\u00edslo \u20ac \u010dern\u00fd \u010ce\u0161k\u00fd test';\n$cjk_scripts = 'Bopomofo|Han|Hiragana|Katakana';\n$cjk_scripts = preg_replace('/[a-zA-Z_]+/', '\\p{$0}', $cjk_scripts);\n// wrap the CJK characters into a span with it's own font\n$body = preg_replace(\"/($cjk_scripts)+/isu\", '$0', $body);\n// a font that supports CJK characters\n$cjk_font_path = APP_PATH.'/fonts/DroidSansFallbackFull.ttf';\n$html = <<\n\n\n\n\n@font-face {\n    font-family: 'DroidSansFallbackFull';\n    font-style: normal;\n    font-weight: 400;\n    src: url('$cjk_font_path') format('truetype');\n}\nbody {\n    font-family: DejaVu Sans, sans-serif;;\n}\n.cjk {\n    font-family: DroidSansFallbackFull, sans-serif;\n}\n\n\n$body\n\nHTML;\n$dompdf = new \\DOMPDF();\n$dompdf->set_paper('A4');\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream('test.pdf', ['Attachment'=>0]);\n~~~\nHere you can see the full test case:\n~~~\n$font_path = APP_PATH.'/fonts/DroidSansFallbackFull.ttf';\n// https://www.regular-expressions.info/unicode.html\n$body = '';\n$body .= 'Latin: a-zA-Z 0-1 test';\n$body .= 'Armenian: \u056b\u057d\u057f\u0578\u0576\u0567\u0578\u0582\u0569\u0565\u0561\u0576 \u057d\u056f\u056b\u0566\u0562\u0568';\n$body .= 'Bengali: \u09ac\u09be\u0982\u09b2\u09be \u099f\u09be\u0987\u09aa \u0995\u09b0\u09c1\u09a8';\n$body .= 'Bopomofo: \u3105\u3106\u3107\u3108';\n$body .= 'Braille: \u28ff';\n//$body .= 'Buhid: \u174a\u1753\u1751\u1752\u1747';\n$body .= 'Canadian_Aboriginal: \u1410\u1415\u1418';\n$body .= 'Cherokee: \u13e3\u13b3\u13a9';\n$body .= 'Cyrillic: \u0411\u043e\u0440\u0438\u0441 \u042b\u0468, \u046c';\n$body .= 'Devanagari: \u0926\u0947\u0935\u0928\u093e\u0917\u0930\u0940 \u0932\u093f\u092a\u093f';\n$body .= 'Ethiopic: \u12a0\u1261\u130a\u12f3';\n$body .= 'Georgian: \u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8 \u10d4\u10dc\u10d0';\n$body .= 'Greek: \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac';\n$body .= 'Gujarati: v\u0101\u1e47i\u0101\u015b\u0101i';\n//$body .= 'Gurmukhi: ???';\n$body .= 'Han: \u7b80\u5316\u5b57 \u5f5d\u8a9e/\u5f5d\u8bed';\n$body .= 'Hangul: \ud55c\uae00: Seoul: \uc11c\uc6b8';\n$body .= 'Hanunoo: \u1731\u1728\u1733\u1728\u1733\u1722';\n$body .= 'Hebrew: \u05e2\u05d1\u05e8\u05d9\u05ea';\n$body .= 'Hiragana: \u305f\u3079\u3082\u306e';\n// $body .= 'Inherited: ???';\n$body .= 'Kannada: paur\u1e47im\u0101 \u0ca8\u0ca1\u0cc1\u0c97\u0ca8\u0ccd\u0ca8\u0ca1';\n$body .= 'Katakana: \u30a2\u30e1\u30ea\u30ab';\n$body .= 'Khmer: \u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a';\n$body .= 'Lao: \u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7';\n//$body .= 'Limbu:  \u1915\u1920\u1930\u190c\u1922\u1931 \u1910\u1920\u1934';\n$body .= 'Malayalam: \u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02';\n$body .= 'Myanmar: \u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c';\n$body .= 'Ogham: [\u02c8\u0254\u0263am\u02e0]';\n$body .= 'Oriya: \u0b13\u0b21\u0b3c\u0b3f\u0b06';\n$body .= 'Runic: \u00deat kann ek it tolfta, ok m\u00e6lir vi\u00f0 mik';\n$body .= 'Sinhala: \u0dc3\u0dd2\u0d82\u0dc4\u0dbd;';\n$body .= 'Syriac: \u0720\u072b\u0722\u0710 \u0723\u0718\u072a\u071d\u071d\u0710';\n//$body .= 'Tagalog: ';\n//$body .= 'Tagbanwa: ';\n//$body .= 'TaiLe: ';\n$body .= 'Tamil: \u0ba4\u0bae\u0bbf\u0bb4\u0bcd';\n$body .= 'Telugu: \u0c24\u0c46\u0c32\u0c41\u0c17\u0c41';\n//$body .= 'Thaana: ';\n$body .= 'Thai: \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22';\n$body .= 'Tibetan: \u0f42\u0f72\u0f66\u0f53\u0f66\u0f62\u0f74\u0f0b\u0f51\u0f44 \u0f56\u0f7c\u0f51\u0f0b\u0f66\u0f90\u0f51\u0f0b';\n//$body .= 'Yi: \ua188\ua320\ua259';\n// these scripts are normally supported by browsers\n//$unicode_scripts = 'Armenian|Bengali|Bopomofo|Canadian_Aboriginal|Cherokee|Cyrillic|Devanagari|Ethiopic|Georgian|Greek|Gujarati|Han|Hangul|Hanunoo|Hebrew|Hiragana|Kannada|Katakana|Khmer|Lao|Malayalam|Myanmar|Ogham|Oriya|Runic|Sinhala|Syriac|Tamil|Telugu|Thai|Tibetan';\n$cjk_scripts = 'Bopomofo|Han|Hiragana|Katakana';\n$cjk_scripts = preg_replace('/[a-zA-Z_]+/', '\\p{$0}', $cjk_scripts);\n// wrap the CJK characters into a span with it's own font\n$body = preg_replace(\"/($cjk_scripts)+/isu\", '$0', $body);\n$html = <<\n\n\n\n\n@font-face {\n    font-family: 'DroidSansFallbackFull';\n    font-style: normal;\n    font-weight: 400;\n    src: url('$font_path') format('truetype');\n}\nbody {\n    font-family: DejaVu Sans, sans-serif;;\n}\n.cjk {\n    font-family: DroidSansFallbackFull, sans-serif;\n}\n\n\n$body\n\nHTML;\n$dompdf = new \\DOMPDF();\n$dompdf->set_paper('A4');\n$dompdf->load_html($html);\n$dompdf->render();\n$dompdf->stream('test.pdf', ['Attachment'=>0]);\n~~~. > @workguy66 where did you get the font DroidSansFallbackFull.ttf? Can you share it?\nThis is the one that I used in the code above:\nDroidSansFallbackFull.ttf.zip\nIt is 4.0MB in size and seems to include chinese and no latin.\nThis is the one provided by MichaelEugeneYuen\nDroidSansFallbackFull.zip\nIt is 5.4MB in size and seems to include chinese and latin.\nI suggest you try Michaels file first.\n. ",
    "SmartWeb25": "I hadn't removed bootstrap css and other page's main css file in the pdf template. \nAfter I removed it, blank pages disappeared. I think it's now working as supposed. . ",
    "gonssal": "I just confirmed that this works: https://stackoverflow.com/a/21038884/4617707. ",
    "PirunSeng": "Please somebody show me a full sample code you can render unicode to pdf and it is displayed the unicode characters properly.\nI get blank boxes of my unicode characters.\nThe following is what I have tried so far.\nI've already had my mbstring extension enabled. (I don't need GD extension cuz my pdf does not have any images)\nextension=php_mbstring.dll\n\nPHP Version 5.6.30\nDompdf 0.8.0. ```\n<?php\n  require_once 'dompdf/autoload.inc.php';\n$content = '<!DOCTYPE html>\n    \n\n\n\n          body { font-family: DejaVu Sans; }\n        \n\n\nHello \u179f\u17bd\u179f\u17d2\u178a\u17b8 World!\nMy Khmer unicode is in the middle of above heading.\n\n';\n  use Dompdf\\Dompdf;\n  use Dompdf\\Options;\n$options = new Options();\n  $options->set('defaultFont', 'DejaVu Sans');\n  $dompdf = new Dompdf($options);\n  $dompdf->loadHtml($content);\n  $dompdf->render();\n  file_put_contents('file.pdf', $dompdf->output());\n?>\n```. ",
    "Kitcat711": "Thank you (sorry for the delay, was on vacation far far away from coding).\nWorkaround works fine. ",
    "guglielmobossi": "My mistake.... Thank you very much Brian! The problem is solved!. ",
    "francois-m": "The 'ucwords()' would be a more compliant approach, but ucwords() does not capitalize first letters if accentuated.... Yes, everything seems ok now. Thank you.\nNote that the develop version is 25% slower than the master, but I can easily suppose that the develop branch is not fully achieved yet.. I run again some tests, and I was wrong: the PDF generation process takes the same time. Sorry for this undue alert.. ",
    "VeeK727": "Thanks for the hint. If someone's looking for the same thing, here's how you do it\nCSS .page_break { page-break-before: always; }\nHTML <div class=\"page_break\"></div>\nfrom Stackoverflow. ",
    "banrubby": "it looks like, that smb had edited source of this lib...never mind, sorry. ",
    "jitheshkt": "@bsweeney \nI am not trying anything complex right now. Just basic stuff and even this is not displaying the image. Just white screen.\n```\n<?php\nerror_reporting(E_ALL);\nini_set('display_errors', 1);\nini_set('allow_url_fopen', 1);\nrequire_once 'dompdf/autoload.inc.php';\n$html   = '';\nuse Dompdf\\Dompdf;\n$dompdf     = new Dompdf(array('enable_remote' => true));\n$dompdf->loadHtml($html);\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->render();\n$dompdf->stream('my.pdf',array('Attachment'=>0));\n?>\n```\n'test.jpg' is there in my current directory and it is reachable (mydomain.com/test.jpg).. There is nothing in error log. Rendered PDF is just white.. ",
    "mithunrockey": "@bsweeney ignore. I solved the issue. It was with the cache directory. Sadly the shared host disabled all errors and warnings to figure this out. I guessed it and tried the fix...boom it worked. Here is the solved version of the code I am currently using. Might be helpful for someone in future :\n```\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\nrequire_once 'dompdf/autoload.inc.php';\n$options = new Options();\n$options->set('isRemoteEnabled', TRUE);\n$options->set('tempDir', '/home2/directory/public_html/directory/pdf-export/tmp');\n$dompdf = new Dompdf($options);\n```\nHowever in the above method the below code doesn't work :\n$html  = '<img width=\"220\" height=\"220\" src=\"test.jpg\">';\nBut this will work and display Hello World and Image.\n$html  = '<h1>Hello World</h1><img width=\"220\" height=\"220\" src=\"test.jpg\">';\nWeird, but OK :) I am not going to just print only an image anyway. . ",
    "wergh": "@bsweeney i tried to use your method but i have a problem with it. \nWhen i try to use your method the output of $padding_box = auto, so when the function do \n$GLOBALS['bodyHeight'] += $padding_box['h'];\nAlways fails.\nI place my code here:\n```\n$plantilla = 'ERP::logged/pdf/tpv_ticket';\n        $GLOBALS['bodyHeight'] = 0;\n        $pdf = PDF::loadView($plantilla, [\n                \"ticket\" => $ticket,\n                \"centro\" => $ticket->centro\n        ]);\n        $dom_pdf = $pdf->getDomPDF();\n        $dom_pdf->setCallbacks(\n            array(\n              'myCallbacks' => array(\n                'event' => 'end_frame', 'f' => function ($infos) {\n                  $frame = $infos[\"frame\"];\n                  if (strtolower($frame->get_node()->nodeName) === \"body\") {\n                      $padding_box = $frame->get_padding_box();\n                      dd($padding_box); // To see the output of the padding_box \n                      $GLOBALS['bodyHeight'] += $padding_box['h'];\n                  }\n                }\n              )\n            )\n          );\n        $pdf->setPaper(array(0,0,226.77,841.89), 'portrait');\n    $pdf->output();\n\n```\nAnd the output:\narray:8 [\u25bc\n  0 => 24.0\n  \"x\" => 24.0\n  1 => 255.0\n  \"y\" => 255.0\n  2 => 178.77\n  \"w\" => 178.77\n  3 => \"auto\"\n  \"h\" => \"auto\"\n]\nhow can i fix it, please. ",
    "roberto-aguilar": "@bsweeney my apologies, i have found that i didn't remove my stylesheet from the canvas HTML where i rendered those examples. When i did, the lists are rendered correctly.\nP.S. I was writing this when you posted your message, you were right, it was my CSS, i'm sorry for make you waste time \ud83d\ude13 \nAnd thank you too for the hint about the correct HTML syntax!. @JParkinson1991 in the meantime, i'm doing this in my composer.json\njson\n{\n  \"autoload\": {\n    \"files\": [\n      \"vendor/dompdf/dompdf/lib/html5lib/Tokenizer.php\",\n    ]\n  }\n}\nThis autoloads the class and ensures that the statement evaluates to true, therefore, really enabling the HTML5 parser when the option is provided.\nHope this helps more developers in this situation \ud83d\udc4d \n/cc @bsweeney . ",
    "kfelahiju": "Here is the sample code with php. Please let me know if i am doing it right way. I think it could be css problem. Thank you.\n```\n$html = <<<DEMO\nhtml\n\n\n\n    @page {\n        margin: 2cm;\n    }\n\n<pre><code>body {\n    margin: 334px 0px 0px 0px;\n    text-align: justify;\n}\ntable{\n    border:1px solid #000;\n    padding:0px;\n    font-size:10px;\n    table-collapse:collapse !important;\n\n}\ntable td{\n    text-align:center;\n    border:1px solid #000;\n}\ntd.col_yellow{\n    background-color:#F90;\n    color:#000;\n}\ntd.col_grey{\n    background-color:#666;\n}\ntd.col_red{\n    background-color:#C00;\n}\ntd.col_white{\n    background-color:#fff;\n}\ntd.col_category_name{\n    text-align:left;\n    padding-left: 10px;\n    background-color:#3C3962;\n    color:#fff;\n}\ntd.asset_id{\n    width:10%;\n}\ntd.asset_description{\n    width:18%;\n}\ntd.eql_width{\n    width:6%;\n    text-align:center;\n}\n#header{\n    position: fixed;\n    left: 0;\n    right: 0;\n    color: #aaa;\n    font-size: 0.9em;\n    top: 20px;\n    border-bottom: 0.1pt solid #aaa;\n}\n#header table{\n    width: 100%;\n    border-collapse: collapse;\n    border: none;\n}\n#header td{\n  padding: 0;\n  width: 50%;\n}\ndiv.fixed-section{\n    position: fixed;\n    left: 0px;\n    bottom: -180px;\n    right: 0px;\n    height: 150px;\n    padding-bottom:5px;\n}\nspan.region{\n    display:block;\n    float:left;\n    width:500px;\n}\n.page-number{\n    display:block;\n    width:100px;\n    float: right;\n}\n.footer .page-number:after { content: counter(page); }\n</code></pre>\n<p>\n\n\n\n\n\nCol \nCol \nCol \nCol \nCol\nCol\nCol\nCol\nCol\nCol\nCol\nCol\n\n\n\n\n\nTest:  Test  Test:  data  Test:  data\nPage  \n\n\n\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n111111111111\n\n\n\nDEMO;\n$dompdf = new Dompdf();\n$dompdf->set_paper(\"A4\", \"landscape\");\n$dompdf->set_option(\"isPhpEnabled\", true);\n$dompdf->load_html($html);\n$dompdf->render();\n\n$output = $dompdf->output();\nfile_put_contents('test.pdf', $output);\n\n```\n. ",
    "raminsherwani": "thank you, problem fixed. how i can fix the same problem\n\n. ",
    "evseevnn-zz": "@raminsherwani good but how?. ",
    "fantasticmachine": "Could you explain how this was fixed so that others might be able to solve the same problem?. ",
    "sanishan": "I have same problem, Its because PHP error also included in PDF, open your Download PDF in notepad and you will there will be some errors.\nThanks,. > I have same problem, Its because PHP error also included in PDF, open your Download PDF in notepad and you will there will be some errors.\n\nThanks,\n\n@SorenV I have already answered!. ",
    "gdelacc": "Same problem here!. ",
    "tubbytoey": "I have same problem, Anyone found solution to fixed it?. ",
    "jannis24": "I have used dompdf in combination with wordpress and there occured the exact same problem. My solution was to stream the pdf before wordpress fires its hooking system. I have done this with including $dom->stream(\"dompdf_out.pdf\", array(\"Attachment\" => 0)); in my plugin construct instead of my 'wp' hook.\nI guess Wordpress sets already some header parameters before that. \nI guess it does not matter where you use dompdf: If you still face the issue, try to fire the stream as early as possible. \n(I have also set an exit() after the stream). ",
    "karthick4in": "add top of  your code.\ndate_default_timezone_set('Asia/Kolkata');. ",
    "SorenV": "Late to the game but this worked for me.  \nPer this answer: https://stackoverflow.com/a/5982518.  Opening my pdf in a text editor the html was indeed included.\nReferencing the documentation: https://github.com/dompdf/dompdf/wiki/Usage#php-example-with-ob_start\nI was doing it wrong by using \"ob_get_contents();\" instead of \"ob_get_clean();\", which does not clear the output buffer thus including it in the pdf and causing chrome to consider it corrupted.\n. ",
    "MaximeDetaille": "I use the lastest version of dompdf so the 0.8.0\nAnd the result of my pdf looks like this :\n(https://github.com/dompdf/dompdf/files/1305557/document.1.pdf)\n. I try with and without subsetting enable but it still the same.\nAnd the font is this one https://wildtype.design/product/entra-free-font/. Got something like that in my code, but i fixed it like that :\n{{ app.request.getSchemeAndHttpHost() ~ asset('logo.svg') }}\nI dont know if its what you want but this thing works fine for me.. Btw im using 0.8.0 version of dompdf, PHP 7.0.18 and Symfony 3.3.10. ",
    "Denitz": "Had the same issue on NameCheap hosting, support fixed it and said that multiple dom libraries were included for PHP 7.x (5.6 was fine).\nMore details here: https://bugs.php.net/bug.php?id=76417 (but note that it's not a PHP bug but a problem of how PHP is configured on your server).. ",
    "suresh-kumara-gist": "If our HTML contains multiple order list. We get this issue.\nExample:\n<ol><li>test 1</li><li>test 2</li></ol> \n<ol><li>test 3</li><li>test 4</li></ol>. Issue is resolved to me. Thank you bsweeney . \nWe had float: left style in our style sheet which was rendering in dom pdf.  We commented all the css from style sheet to debug. Only Html rendered in pdf without exception.  So it confirmed us that because of css we are getting error. Again uncommented in style sheet and line by line debugging in style sheet gave us root cause that float: left   and only when ol tag rendered more than once will throw exception. \nfixed by  removing float : left  style.\n. Please close the issue.. ",
    "WeeHong": "@bsweeney \nI managed to compile my HTML + CSS into CSS by removing the hyperlink of bootstrap.\n```\n\n\n\n\n```\nBut I believe this is not the main issue since I managed to convert my HTML to PDF a few days ago.. @usmanbarefoot \nDid my solution help you rectify your issue?\nRemove all the external links from <link> and <script>. @bsweeney I try to remove other data attributes from <link> but it still getting an error. Could it be the URL issue?\n@usmanbarefoot Which means the CSS from other party is fine but only Bootstrap got the issue?. @bsweeney I resolved it. Thank you for following up.. @dhmusnan\nYou try to remove your head tag and try. . @dhmusman \nThis is the command I used to run when I setup for a new VM.\nsudo apt-get install -y php7.1-xml php7.1-xsl php7.1-mbstring php7.1-readline php7.1-zip php7.1-mysql php7.1-phpdbg php7.1-interbase php7.1-sybase php7.1 php7.1-sqlite3 php7.1-tidy php7.1-opcache php7.1-pspell php7.1-json php7.1-xmlrpc php7.1-curl php7.1-ldap php7.1-bz2 php7.1-cgi php7.1-imap php7.1-cli php7.1-dba php7.1-dev php7.1-intl php7.1-fpm php7.1-recode php7.1-odbc php7.1-gmp php7.1-common php7.1-pgsql php7.1-bcmath php7.1-snmp php7.1-soap php7.1-mcrypt php7.1-gd php7.1-enchant libapache2-mod-php7.1 libphp7.1-embed\nAfter that, you can try to generate the PDF again.\nIf the error occurred, try to remove everything in your file and just generate a simple Hello World PDF.. @dhmusman \nWould you mind to show me your HTML file which is ready to convert to PDF?. ",
    "dhmusman": "Hi, How you have resolve can you let me know?. @WeeHong Thanks for reply, can you give me commend which i have need to run?. @WeeHong \nThanks for reply, but it is not work in my case.\nFatal error: Uncaught Error: Class 'DOMDocument' not found in /\n*I am using nginx server. @WeeHong \nHi, Thanks for reply, I am running virtualmin server on CLI php7.2 is running and on CGI php7.0, I am not able to change CGI version and not able to install php7.0-xml it say already installed but now working with php 7.0\n . ",
    "MichalJakubeczy": "If your app is offline you can still save the font on local server and access it via http://localhost/{path to your font} URL.. ",
    "JParkinson1991": "Thanks for merge!\nWhen do we see dompdf-next becoming a release?. To be honest i dont think anyone would complain at lots of minor releases that fix issues as they're found, thats not for me to dictate though.. ",
    "hultberg": "@bsweeney I'm having the same problem. After digging deeper into whats going on, I noticed that the URL gets a BOM character after (in CPDF) Cpdf::filterText is called with $bom=true, that then calls Cpdf::utf8toUtf16BE() https://github.com/dompdf/dompdf/blob/v0.8.1/lib/Cpdf.php#L4017\nIs an acceptable fix just setting $bom=false here: https://github.com/dompdf/dompdf/blob/v0.8.1/lib/Cpdf.php#L1480 ?. Both @gemal and I have now opened a PR @bsweeney, closing mine as I was too late. \ud83d\ude47\u200d. Closing in favour of #1586 . ",
    "gemal": "what is missing here? if a pull request is made will it be accepted and merged?. it was against master. I openede a new one aganst devleop. Or is that wrong?. ",
    "ray-kay": "@bsweeney so this will be fixed in the next version (0.8.2)? Any idea when this release will be available?. ",
    "dynasource": "+1\n0.8.0 seems to work fine. ",
    "luukScheur": "Anyone else still having this issue? I tested it in 0.8.0, 0.8.1 and 0.8.2, all of them are not working. It seems that I can click (a little) below the link and it works fine, but clicking on the text itself does not work. PHP 7.0 encoding UTF-8. ",
    "epreston": "I found the issue and the fix for this.  The default DOM processor does not remove #text child nodes in nodes that should not have them.\nWhen the HTML 5 processor is loaded, it does have this logic.  See below:\nhttps://github.com/dompdf/dompdf/blob/ac40be1a7a5efbb4a905167eb4a0fcc89687c2e9/src/Dompdf.php#L473\nReplicating this logic, for the default DOM processor appears to fix the issues.  I placed it after this line.\nhttps://github.com/dompdf/dompdf/blob/ac40be1a7a5efbb4a905167eb4a0fcc89687c2e9/src/Dompdf.php#L491\nTook most of the day to tack down.  Hope this helps @bsweeney \n. Resolution is above.  Some versions of libxml2 are treating \"newline\" characters between elements as \"text\" elements and adding it to the DOM.  Other versions are not.  When it adds the \"text\" elements to places its not allowed, like in \"head\" elements, it creates this problem.\nTheir are two code paths, one which has this correction and one that does not.  If you use the the HTML5 parser, it will strip them out after parsing but before generating the nodes for display.  The code submitted above adds this correction to both code paths.  I think it's a good compromise because we can't always inline the HTML before it is parsed but we can remove invalid and empty elements that may break the node render tree.\nI don't have an immidiate requirement for a specific version of libxml2 but, I'd like to not worry about it for my project.. Are you on 8+ ?  The links above will take you to a version where it was not introduced.\nI see it in master at line 493 in https://github.com/dompdf/dompdf/blob/master/src/Dompdf.php. This directly addresses #1494 , explains some of the behavoir discussed in #902 .. Looks like the Scrutinizer setup needs to be looked at.  It failed building the machine before it could review the code.. ",
    "neoteknic": "Same problem, libxml2 related.\nhave to use libxml2-2.9-.4 crash on 2.9.5 and 2.9.6\nGentoo , php-fpm 7.1.10, Laravel 5.5.18\nemerge =dev-libs/libxml2-2.9.4-r3\nto fix on gentoo then restart php-fpm\nAdd >=dev-libs/libxml2-2.9.5 in /etc/portage/package.mask to block updates until resolved\n. Same problem on PHP7.3, update asap. PHP 7.3 is released in final version.. ",
    "bkilshaw": "It appears to be an issue with all whitespace between elements not just newlines.. ",
    "UCIS": "For us, adding the LIBXML_NOBLANKS option to the DomDocument::loadHTML call fixed the issue. It's not entirely clear to me if this has any other side effects, one document explained it as removing only insignificant whitespace.\nAnother fix that worked for us was to remove any whitespace between the  and ,  and ,  and .\nIs the LIBXML_NOBLANKS option safe to use? This seems like the simplest and most universal fix.. Did you check the PHP and webserver error logs? Often a connection reset is caused by a fatal crash in PHP (segfault). I've seen this happen a lot with a function recursively calling itself.. ",
    "Riyazshk": "Problem has been solved i just remove my  and  tag and meta tag .. and i got my output !. ",
    "AndriusCTR": "Ok, that's interesting....\nCan you show me the content of your test code? what is inside pdf.php and the full code that you run? any settings / options?\nI use:\n$dompdf = new Dompdf();\n    $dompdf->loadHtml($page);\n    $dompdf->render();\n    $output = $dompdf->output();\n    file_put_contents('Invoice.pdf', $output);\nand it's not working for me..... @bsweeney but MichaelEugeneYuen says it's working for him.... ? (dynamic css link inside html). OK so I just had to add full absolute path to dynamic css and everything works.\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://myserver.com/pdf.php\">\n\ncase closed.\n. ",
    "RazaGR": "fixed by removing in bootstrap.css\n.custom-file-control:lang(en)::before {\n  content: \"Browse\";\n}. ",
    "xploregopi": "HI,\nI am using $dompdf->loadHtml($code);. Hi Bsweeney,\nFinally i using google fonts. It's working fine. Thanks for you support.. ",
    "defcasts": "I agree can this fix please go into an updated version? I've added it locally, but would like the current version to support this. Great job on the fix as well.. ",
    "Juventino96": "I have the same thing.. ",
    "javfres": "It's not working for me either. I'm using version 0.8.1. I'm including a small test code and the resulting pdf.\n```php\n<?php\nrequire \"vendor/autoload.php\";\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf();\n$dompdf->loadHtml(\"\n\n\nLink not working :(\nLink 1\nLink 2\n\n\n\");\n$dompdf->render();\n$output = $dompdf->output();\nfile_put_contents('test.pdf', $output);\n```\ntest.pdf\n. ",
    "XaphanBael": "So, i'm having the same issue running 8.0.2, any eta on this as it's a pain in the rectum.\nP.s. on my development machine (Windows 10, Wamp 3.0.6, PHP 7.0.10) it's working correctly, on the actual server (Linux, PHP 7.0.x) it's bugging.. ",
    "Inamacio": "I am facing the same problem. Follow the listed files\nI can generate a pdf with up to 10 columns, however, with more this cuts the content. I've tried using 100% width, but when the content is too much, the view is impaired\npdf.zip\n. I'm using laravel with blade files. Same here!. ",
    "PheRum": "@bsweeney update version please. @SJDComputerslimited fix this https://github.com/dompdf/dompdf/commit/ad41b6dd17ba774b017407ffba09c14a66665723. ",
    "SJDComputerslimited": "using the latest version 8.01, I have noticed should I drop php to 5.6.3 from 7.01 it works fine, just doesnt like php 7 ive figured out\ncode were using for creating pdfs is,\n\n        require_once '../tools/dompdf/autoload.inc.php';\n\n<pre    // reference the Dompdf namespace\n    use Dompdf\\Dompdf;\n    use Dompdf\\Options;\n\n    function html2pdf($html)\n    {                 \n            $options = new Options();\n            $options -> set('isRemoteEnabled', true);\n            $options -> set('dpi', '128');\n\n            $dompdf = new Dompdf($options);\n\n            $dompdf->loadHtml($html);\n\n            // (Optional) Setup the paper size and orientation\n            $dompdf->setPaper('A4', 'landscape');\n\n            // Render the HTML as PDF\n            $dompdf->render();\n\n            $result = $dompdf->output();\n\n            return $result;\n    }\n\n?>. ",
    "Bored0ne": "@bsweeney would love for this fix to get released! Also thanks for all the hard work!. ",
    "denisdulici": "Fine \ud83d\ude09  This PR also closes https://github.com/dompdf/dompdf/issues/1551. Not really, as far as I know. It works fine for me and @akaunting users.. ",
    "MatheusMartins21": "I solved =D\nTo display the entire contents of the array, you need to concatenate as follows:\n`<?php\nrequire_once 'dompdf/lib/html5lib/Parser.php';\nrequire_once 'dompdf/lib/php-font-lib/src/FontLib/Autoloader.php';\nrequire_once 'dompdf/lib/php-svg-lib/src/autoload.php';\nrequire_once 'dompdf/src/Autoloader.php';\nDompdf\\Autoloader::register();\nuse Dompdf\\Dompdf;\n$teste = array(\"1\", \"2\", \"3\", \"4\", \"5\");\n$html = \"\";\n$html .= \"\";\n$html .= \"Teste\";\n$html .= \"\";\n$html .= \"\";\n$html .= \"\";\n$html .= \"Lista de N\u00fameros:\"; // Space because the github read this =p\nfor ($i=0; $i < count($teste); $i++) {\n$html .= \"$teste[$i]\"; // Space because the github read this =p\n}\n$html .= \"\";\n$html .= \"\";\n$dompdf = new Dompdf();\n$dompdf->loadHtml($html);\n$dompdf->setPaper('A4', 'portrait');\n$dompdf->render();\n$dompdf->stream(\n    \"relatorio\",\n    array(\n        \"Attachment\" => false\n    )\n);\n\n?>`. ",
    "sashabeep": "As i remember you should first parse all the data to html string and then pass it to dompdf\nSomething like\n$document.='<div><h3>Marital Status:</h3><span>'.htmlentities($res->marital_status).'</span></div>';\n$document.=etc...\n$dompdf = new Dompdf();\n$dompdf->loadHtml($document);\n$dompdf->setPaper('A4', 'landscape');\n$dompdf->render();\n// Output the generated PDF to Browser\n$dompdf->stream();. ",
    "nicoHersant": "The fix is in the dompdf:0.7.x@dev version, for it to work properly i used: \n1 > remove the require : dompf line from your composer.json file\n2 > do \"composer update\" \n3 > do \"composer require dompdf/dompdf:0.7.x@dev --update-with-dependencies\" \nnow i can call \"$pdf = new \\Dompdf\\Dompdf();\"\nthanks to @barryvdh . ",
    "marcovdb": "Thanks. I can confirm the issue is fixed in 0.8.2!. ",
    "rmpel": "I report issue NOT fixed in 0.8.2.\nDompdf 0.8.2\nphp-svg-lib 0.3\nphp-font-lib 0.5.1\nI will attempt with \"packaged version\" instead of separate git clones.. Solution is simple: do not use git clone method; the documentation here lacks the part for the CSS parser, also, you will be missing the autoload.inc.php that loads all the stuff, so don't do what I did, but use the packaged version! That one works perfectly :). ",
    "BrightCodeStudio": "Fatal error: Class 'Sabberworm\\CSS\\Parser' not found in G:\\www\\html2pdf\\dompdf\\dompdf\\lib\\php-svg-lib\\src\\Svg\\Tag\\StyleTag.php on line 19\nNow I am using the libraries\nDompdf 0.8.2\nphp-svg-lib 0.3\nphp-font-lib 0.5.1\nBut I got this errors.. ",
    "npoa-cm": "Any update here? Can't get DomPDF to work on PHP 7.1..... ",
    "SeanFacer": "Also struggling with this. ",
    "dragermrb": "Same here!. Hi @Mellthas \nYour PR is working correctly with my documents. Thanks!. ",
    "Kemallyson": "I have no sample HTML/CSS, its auto generated, I have implemented the code as below\n```\n$query_builder = Member::select(['member_no', 'full_name', 'identification_no', 'telephone_no', 'mobile_no', 'email_address'])\n            ->orderBy($order_by);\n    $columns = [\n        'Member Number' => 'member_no',\n        'Full Name' => 'full_name',\n        'ID/Passport #' => 'identification_no',\n        'Cell #' => 'mobile_no',\n        'Tel. #' => 'telephone_no',\n        'Email Address'\n    ];\n\n    return PdfReport::of($title, $meta, $query_builder, $columns)\n        ->setPaper('a4')\n        ->download('member_report.pdf');\n\n```\nas is in the documentation. The error I get is as below\n\n. Yes, its with the recent release. \nYour method rendered the html perfectly. Thank you a lot. \nLet me work on how to download the pdf output. . The html is as below \n<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <style>\n            body {\n                font-family: Arial, Helvetica, sans-serif;\n            }\n            .wrapper {\n                margin: 0 -20px 0;\n                padding: 0 15px;\n            }\n            .middle {\n                text-align: center;\n            }\n            .title {\n                font-size: 35px;\n            }\n            .pb-10 {\n                padding-bottom: 10px;\n            }\n            .pb-5 {\n                padding-bottom: 5px;\n            }\n            .head-content{\n                padding-bottom: 4px;\n                border-style: none none ridge none;\n                font-size: 18px;\n            }\n            table.table {\n                font-size: 13px;\n                border-collapse: collapse;\n            }\n            .page-break {\n                page-break-after: always;\n                page-break-inside: avoid;\n            }\n            tr.even {\n                background-color: #eff0f1;\n            }\n            table .left {\n                text-align: left;\n            }\n            table .right {\n                text-align: right;\n            }\n            table .bold {\n                font-weight: 600;\n            }\n            .bg-black {\n                background-color: #000;\n            }\n            .f-white {\n                color: #fff;\n            }\n                    </style>\n    </head>\n    <body>\n        <div class=\"wrapper\">\n            <div class=\"pb-5\">\n                <div class=\"middle pb-10 title\">\n                    Registered Members Report\n                </div>\n                <div class=\"head-content\">\n                    <table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">\n                        <tr>\n                            <td>\n                                <span style=\"color:#808080;\">Registered on</span>: 2017-05-21 To 2017-11-01\n                            </td>\n                            <td>\n                                <span style=\"color:#808080;\">Sort By</span>: Member Number\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <div class=\"content\">\n                <table width=\"100%\" class=\"table\">\n                    <thead>\n                        <tr>\n                            <th class=\"left\">No</th>\n                            <th class=\"left\">Member Number</th>\n                            <th class=\"left\">Full Name</th>\n                            <th class=\"left\">ID/Passport #</th>\n                            <th class=\"left\">Cell #</th>\n                            <th class=\"left\">Tel. #</th>\n                            <th class=\"left\">Email Address</th>\n                        </tr>\n                    </thead>\n                    <tr align=\"center\" class=\"odd\">\n                        <td class=\"left\">1</td>\n                        <td class=\"left\">000003</td>\n                        <td class=\"left\">Allan Kemboi Kiplagat</td>\n                        <td class=\"left\">2890906635</td>\n                        <td class=\"left\">+25472736073</td>\n                        <td class=\"left\">3983290</td>\n                        <td class=\"left\">allankemboi51@gmail.com</td>\n                    </tr>\n                    <tr align=\"center\" class=\"even\">\n                        <td class=\"left\">2</td>\n                        <td class=\"left\">000007</td>\n                        <td class=\"left\">Misheck Nyaga Ireri</td>\n                        <td class=\"left\">23657633</td>\n                        <td class=\"left\">+25473243633</td>\n                        <td class=\"left\">2392900</td>\n                        <td class=\"left\">m.ireri@gmail.com </td>\n                    </tr>\n                    <tr align=\"center\" class=\"odd\">\n                        <td class=\"left\">3</td>\n                        <td class=\"left\">000008</td>\n                        <td class=\"left\">Prestone Abuna Simbovo</td>\n                        <td class=\"left\">12345698</td>\n                        <td class=\"left\">25472365666</td>\n                        <td class=\"left\">33333333</td>\n                        <td class=\"left\">psim@gmail.com</td>\n                    </tr>\n                       </table>\n            </div>\n        </div>\n        <script type=\"text/php\">\n                        if ( isset($pdf) ) {\n                $pdf->page_text(30, ($pdf->get_height() - 26.89), \"Date Printed: \" . date('d M Y H:i:s'), null, 10);\n                $pdf->page_text(($pdf->get_width() - 84), ($pdf->get_height() - 26.89), \"Page {PAGE_NUM} of {PAGE_COUNT}\", null, 10);\n            }\n        </script>\n    </body>\n</html>. That is okay. Will be waiting.\nThank you. @yowmen2208 I haven't figured a way out but I used @barryvdh  laravel package to generate pdf n it worked well. But on  jimmyjs/laravel-report-generator, it throws the above error. . @yowmen2208 You need to have html views that will be converted to pdf. I have implemented it as below\n```\n $transaction = DB::table('trans')\n            ->where('id', $id)\n            ->first();\n//load the view and pass the data you want displayed in the view\n        $pdf = \\PDF::loadView('reports.receipts.purchase_of_units', compact('company', 'transaction'));\n        return $pdf->stream($transaction->member_no . 'purchase_receipt.pdf');\n```\nThe on your view, access the data as shown\n```\n\n    <tr>\n        <td align=\"left\">Receipt No :{{ $transaction->id }}</td>\n\n        <td align=\"right\">Member No :{{$transaction->member_no}} </td>\n    </tr>\n    <tr>\n        <td align=\"right\"></td>\n        <td align=\"left\">Value Date: {{$transaction->trans_date}}</td>\n    </tr>\n</table>\n\n```\n. Thanks @agvstin let me get working now. ",
    "yowmen2208": "thank you @bsweeney! i am facing the same problem too.\n@Kemallyson may i ask if you are already done with the downloading the pdf?. @Kemallyson I see, Thank you so much for your reply.. @Kemallyson can you give me an example on how you used @barryvdh laravel package to generate pdf? sorry im kinda newbie in laravel.. Im getting this result.\n\neven I use ->stream() or ->download('report'). ",
    "agvstin": "@yowmen2208 @Kemallyson \nGot it working!\nIt looks like an issue with the border styles of the .head_content declared by jimmyjs/laravel-report-generator:\ncss\nborder-style: none none ridge none;\nI managed to avoid the issue by adding a border-width rule, using custom CSS:\nphp\nPdfReport::of($title, $meta, $qb, $columns)\n   ->setCss([\n          '.head-content' => 'border-width: 1px',\n   ])->download('report');\nApparently dompdf needs a border-width whenever aborder-style is defined.\nPerhaps a 1px border width can be used as default when only border-style is present?. ",
    "aimalamiri": "I'm getting the same error \nHer is my code\nreturn PdfReport::of($title, $meta, $queryBuilder, $columns)\n            ->setCss([\n                '.head-content' => 'border-width: 1px',\n            ])\n            ->setPaper('a6')\n            ->setOrientation('landscape')\n            ->withoutManipulation()\n            ->download('HICDP - All Projects Report');. ",
    "WOEXX": "i'm having same issue, im using ubuntu and apache . ",
    "jejedu67": "Thank you, it works with use Dompdf\\Dompdf;\n. ",
    "Tactical-Gears": "Hello there, i am new to github, hope i can participate here.. I also upgraded to the latest version. I also added the dompdf folder via Ftp and replaced my older version with no problems, i did do a backup.... In my site when i try to download PDF invoice, it downloads a pdf with \"hello world\" from one of the require codes. (I think i need to call the right filename or something instead of hello world). I  found a seperate function on my functions.php file which needs updating perhaps (see below).. If any of you can make a little time to help me i really appreciate it as i know alot of you people are really busy.. Thanks in advance..\nWhere it gets the \"hello world\".\n\nWhere i download PDF invoice.\n\nThe function on functions.php file:\n\nThe PDF download \"hellow world\":\ndocument-6.pdf\n. ",
    "rakeshkumar125": "I also face the same issue. Div 2nd start from page 2.. ",
    "nicdnepr": "here is html\n```\n<!DOCTYPE html>\n\n\n\nTitle\n\n        @page {\n            size: 100px; 100px;\n            margin: 0px;\n            padding: 0px;\n        }\n        body {\n            margin: 0px;\n        }\n    \n\n\n\n    text\n\n\n\n\n\n\n```\nphp\n```\n$dompdf = new \\Dompdf\\Dompdf([\n    'enable_remote' => true,\n]);\n$html = file_get_contents('11.html');\n$dompdf->loadHtml($html);\n$dompdf->render();\nfile_put_contents('xxx.pdf', $dompdf->output());\n. I try this code but not help\n\n\n    text\n\n\n\n\n\n```\nalso I try this size size: 200px; 50px; and it render single page, but why it show white line in bottom?\n\n. thanks I fixed size\nBut still not clear about white bottom line\nfor example size: 200px 169px; I get this pdf\n\nsize: 200px 170px; I get this pdf\n\nIn both bottom white line\nWhy it not fill whole pdf by image?\n. What about situation when only image without text?\n<div style=\"position: absolute; bottom: 0px; left: 0px; right: 0px;\">\n    <img src=\"http://informat.in.ua/images/Paint.Paint_9B19/4_fraktal3608ab310dc594c738706a02f4962899f.jpg\" style='max-width: 100%;'>\n</div>\nnow I get empty line on top\n\nIf I remove styles then I get empty line bottom. Yes, pdf is generated. but only chinese fonts are broken. Here is info of result pdf\ncentos6 https://imgur.com/a/7Sy1i\ncentos7 https://imgur.com/a/QcpYg\n. the problem was in meta charset\nneed use <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/> instead of this code <meta charset=\"utf-8\">. ",
    "shawe": "@it-can do you have problems with PHP 7.2? I'm not sure if I having problems for that reason.. Thanks, seems that I have a strange problem.. ",
    "it-can": "No just a nice to have. ",
    "usb248": "Via include autoload file : autoload.inc.php\nand output browser through $dompdf->stream('my-file',['Attachment' => false]);\n$dompdf = new DOMPDF();\n$dompdf->set_option('defaultFont', 'Helvetica');\n$dompdf->set_option('enable_php', true);\n$dompdf->set_option('enable_remote', true);\n$dompdf->setPaper('A4');\n$dompdf->set_protocol(my_root_directory);\n$dompdf->load_html(my_html_content);\n$dompdf->render();\necho $dompdf->stream('output file name',['Attachment' => false]);\nYes, download link : https://ufile.io/6gq82\nwaiting for a return from you. Not yet, but before, just with the width it worked... So, there is no reason for it not to work now.. Still broken (even with width and height for the image)...any fix...  So, i will use other lib to generate pdf file :( \ud83d\udc4e . Hello,\nVery strange.\nPlease post an example of your code if you want a precise answer.. ",
    "sforsberg": "I encountered a similar rendering issue with an svg that had a style tag in a defs tag. I confirmed v0.8.0 worked still, however starting at v0.8.1 the svg rendering broke. The image was there, but the styles defined weren't applied to the final image. Maybe the parent document styles aren't inherited into the SVG rendering? And/or currentColor is no longer handled properly?\nExample SVG:\n<svg xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" data-name=\"Layer 1\" viewBox=\"0 0 167.27 167.17\">\n    <defs>\n        <style>path{fill: currentColor;}</style>\n    </defs>\n    <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path>\n</svg>\nThe only way to get the latest version to render the svg was to specify a fill color and move the style tag a a root-level node: \n<defs>\n        <style>path{fill: currentColor;}</style>\n</defs>\nChanged to:\n<style>path{fill: black;}</style>\nBut this limits the fill to a static color so it isn't ideal, but will likely be what we end up doing to move forward.\nThe html that was parsed by dompdf looked like this:\n...\n<img src=\"/local/absolute/path/to/image.svg\" />\n...\nHopefully this helps in some way.... ",
    "michaelarnauts": "Sweet. Works fine! Any reason why this PR is still open?. ",
    "rocketlaunchr-cto": "Were you using Linux alpine?:\nhttps://github.com/dompdf/dompdf/issues/1730. ",
    "fabwu": "@bsweeney Any chance to get this merged?\n. Another possibility is to add ext-gd and ext-imagick in the composer suggest section (see here).\nIf a user runs composer install he'll get notified that he must install one of these extensions if he want to use images in his PDFs.. @bsweeney I moved the image extensions to the suggest-part of composer.json and added a check for GD in the CanvasFactory. If GD is not present it falls back to CPDF and text rendering works without any issue.\nAs soon as I wanted to render an image CPDF throws this exception:\n\nI think this message is sufficient so the users shouldn't get confused.. You can try ignoring the PHP requirements with this command:\ncomposer install --ignore-platform-reqs\nMaybe you can use dompdf anyways or check this issue for installing gd in your docker image.. ",
    "phpguru": "The PHP function create_function was deprecated in PHP 7.2. \nIf you're using this library directly, upgrade to a newer version of dompdf.\nIf you're using a library with a downline dependency to dompdf, inform the package maintainer with the outdated dependency (in my case, \"yajra/laravel-datatables-oracle\": \"^6.0\" has this issue). The short-term workaround is roll back your PHP to 7.1.x.\n. ",
    "meztor": "change this line\narray_walk($words, create_function('&$val,$str',\n                                         '$val = Font_Metrics::get_text_width($str, \"'.addslashes($font).'\", '.$size.', '.$word_spacing.', '.$char_spacing.');'));\nfor this line\narray_walk($words, function(&$val,$str) use($font, $size, $word_spacing, $char_spacing){\n        $val = Font_Metrics::get_text_width($val, $font, $size, $word_spacing, $char_spacing);\n      });\n. ",
    "netzgestaltung": "did you inspect if there are other CSS rules applied to .wrapper or h1 ?. ",
    "drcll": "is there any opinion how to check if  css rules are applioed in PDF?\nbut yes, other rules are working. ",
    "bhupinderkumarbl": "You can try this\n<div id=\"pageCounter\">\n  <span></span>\n  <span></span>\n  <span></span>\n  <span></span>\n</div>\n<div id=\"pageNumbers\">\n  <div class=\"page-number\"></div>\n  <div class=\"page-number\"></div>\n  <div class=\"page-number\"></div>\n  <div class=\"page-number\"></div>\n</div>\n`#pageCounter {\n  counter-reset: pageTotal;\n}\npageCounter span {\ncounter-increment: pageTotal; \n}\npageNumbers {\ncounter-reset: currentPage;\n}\npageNumbers div:before {\ncounter-increment: currentPage; \n  content: \"Page \" counter(currentPage) \" of \"; \n}\npageNumbers div:after {\ncontent: counter(pageTotal); \n}`. https://codepen.io/Bhupinderkumar/pen/gKzKGw here is pen you can see the total page number at the bottom of the page . ",
    "omaximus": "The same will work for links, when trying to pass any urlencoded characters. Example:\n<a href=\"http://test.test/test?test=<?= urlencode('http://test.test/test?test=test&testessen=qwe') ?>\">test</a>\nwill result with 2 GET parameters test and testessen, while it's expected to be url http://test.test/test?test=test&testessen=qwe in test parameter.. ",
    "Kunilt": "Deleting cached font files helped here.. ",
    "JanSlabon": "This is a bug in the CPDF class/version, which is used by DomPDF. The encrypted strings are not escaped correctly:\n/Producer (\u0152a6Sq\u00a9\u00e5\u00f0\u00c79\u00c5\u2014\u00d9\u00d2\u00b0\u00c7l\u00a1\u00ff\u00dd\u00f8V\u00f3V\u00d1\u00aa!\u00d5\u00f1\u00b67(\u00de\u00fd\u00e4\u00a1)`\nThere's an open bracket near the end of the string, which is not escaped nor balanced.\nThe logic in these lines is faulty. The strings are escaped prior encryption which is simply wrong.\nAdditional Info: It has NOTHING todo with any use of a base64 encoded string but could happen to any string in any metadata key when encryption is enabled. So the title of this issue is very missleading.. I don't know the internals of CPDF nor the filterText() method. It looks like a method which can do more than simply escaping. Anyhow the order is simply wrong and also the kind of unicode handling is faulty (IMHO)... Also encrypting an escaped string is faulty. So there is this issue but I'm unsure if this isn't spread through the whole code. This is sadly out of my scope, sorry.. ",
    "remosek": "Thanks JanSlabon for your replay, \nDo you know any solution that could solve my issue? I have been trying to figure it out on my own but didn't got further. . I had attempts base_64 encoding the pdf meta data and i Figured it out Creator / Subject meta data is breaking the whole thing. \nThanks Jan For your help.. ",
    "maktibab": "same trouble here!. ",
    "BastianNotter": "I am having this exact same issue currently. I'd appreciate it if you told me how you fixed it if you figure it out.. ",
    "naitsirch": "You just included the HTML content, but not the PHP code.. I have detected a special case where my former patch failed to detect an empty frame. It failed if there are empty text nodes between the item bullet and the node that is splitted.\nWith the latest commit (#8709a44) this case is handled correctly.. Sorry, I have blown up this PR. I'll close it in favor of #1799.. Yes, it is a bit tricky. It only happens if there are child items within the list item, that is wrapped to the next page.\nHere's the code to reproduce:\n```php\n<?php\nrequire 'vendor/autoload.php';\nuse Dompdf\\Dompdf;\n$html = <<\n\n\n\n            li { font-size: 15pt; font-family: Helvetica, sans-serif; }\n            p { margin: 0; padding: 0; }\n            #last { color: red; line-height: 1.35; }\n        \n\n\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit.\n\n\n\nHTML;\n$dompdf = new Dompdf();\n$dompdf->loadHtml($html);\n$dompdf->setPaper('A5', 'landscape');\n$dompdf->render();\n$dompdf->stream();\n```\nAnd this is a screenshot that shows the problem:\n\nI hope this helps.\nI am using Dompdf v0.8.2.. I have tested it with master branch now, too. The issue still exists.. I think I cannot help you with this idea. My font and PDF knowledge is to small for that :-). ",
    "tjmeneses": "I'll put the entire repro file below. Let me know if you need anything else.\n```php\n<?php\nrequire DIR . '/vendor/autoload.php'; // enable Composer autoloading\n$imgUrl = 'img/';\n$immigUrl = $imgUrl.'immigration-template/';\n$ghpResUrl = $imgUrl.'ghp-resume-template/';\n// generate HTML of PDF\nob_start();\n?><!DOCTYPE html>\n\n\nPrototype PDF\n<style type=\"text/css\">\n    html {\n        font-size: 16px;\n    }\n    body {\n        margin: 200px;\n        padding: 0;\n        font-family: Helvetica, Calibri;\n        font-size: 1.75rem;\n        background-color: red;\n    }\n    @page {\n        /*margin: 0;\n        padding: 0;\n        font-family: Helvetica, Calibri;*/\n    }\n    ul {\n        padding-left: 15%;\n        margin: 0;\n        page-break-inside: auto;\n    }\n</style>\n\n\n\n\nhi\n\n            <?php for ($li=1; $li < (isset($_GET['bug'])?46:45); $li++): ?>\n                <?=$li?>\n            <?php endfor ?>\n        \n\u00a0\n\n\n<?php\n$html = ob_get_clean();\n/echo '';\nvar_dump($_GET, $html);\necho '';\ndie();/\nif (!isset($_GET['pdf'])) {\n    echo $html;\n    return;\n}\n//generate some PDFs!\nuse Dompdf\\Dompdf;\n$dompdf = new Dompdf(['dpi' => '200']);\n$dompdf->setPaper('letter', 'portrait');\n$dompdf->loadHtml($html);\n$dompdf->render();\n$dompdf->stream(\"sample\".(isset($_GET['bug'])?\" (with bug)\":\"\").\".pdf\", array(\"Attachment\"=>0));\n```. ",
    "lxg": "Sorry, this seemed to merge more than I wanted ... :( I'll start a new PR.. @bogdantoporan Your issue is related to https://github.com/barryvdh/laravel-dompdf, not https://github.com/dompdf/dompdf. Also, this looks more like some problem with your setup than a bug of the library.. ",
    "iBobik": "Same issue with Czech diacritics (non-ascii) characters (e.g. \u011b\u0161\u010d\u0159\u017e\u00fd\u00e1\u00ed\u00e9).\nOn localhost with Lando it works, but in production in Docker not working.. ",
    "krolovolk": "Check real files encoding (template,html and yourdompdf.php)\nCheck server's encoding\nMake some tests with cyrilic text\nTry to use iconv('windows-1251', 'UTF-8', $text) for achieving the desired result. ",
    "ivan-cc": "$dompdf = new Dompdf([\n    'defaultFont' => 'DejaVu Serif'\n]);. ",
    "turboenator": "Same w Vietnamese :(. ",
    "leeyuentuen": "should be the same issue like\nhttps://github.com/dompdf/dompdf/issues/1649\nhttps://github.com/dompdf/dompdf/issues/1632\nhttps://github.com/dompdf/dompdf/issues/1618. ",
    "peter-gribanov": "I have a similar problem. ",
    "GauravPunani": "you first need to render the HTML as PDF using:-\n$domPdf->render();. ",
    "hiboutik": "composer remove rospdf/pdf-php should help. ",
    "gozeller": "Same problem here. I have to upgrade a zendframework version 1 (zf1) application to version 3 (zf3). The application uses both dompdf and rospdf, which worked with zf1 (it didn't use composer nor autoloaders). \nThe problem is that dompdf uses an old(?) or modified(?) version of rospdf with class Cpdf (/lib/Cpdf.php) without a namespace. But the autoloader loads the Cpdf version of rospdf - these classes are not compatible.\nWouldn't it be nice to add a namespace to Cpdf? \\Dompdf\\Adapter\\RosPdf\\Cpdf maybe or just \\RosPdf\\Cpdf or something? I think it wouldn't affect lot of people because Cpdf is instantiated internal as an adapter.. ",
    "jeremielodi": "Hi Ginso, try to remove the header before sending a new one.\n  php \n   header_remove();\n  // header('location:Login.php');   send your new header after\n.  you can specify the path you need like this\nphp\n......\n$pdfoutput = $dompdf->output();\n$filepath =  __DIR__.\"/file.pdf\";\n$fp = fopen($filepath, \"w\");\nfwrite($fp, $pdfoutput);\nfclose($fp);\nI just create  a file in the server and put pdf content in it\nOr you can do this\n```php\n<?php\n$dompdf = new DOMPDF();\n$dompdf->load_html($html);\n$dompdf->render();\n$output = $dompdf->output();\nfile_put_contents(\"/path/to/file.pdf\", $output);\n```. ",
    "Ginso": "doesnt work:\nWarning: Cannot modify header information - headers already sent by (output started at C:\\xampp\\htdocs\\wordpress\\wp-includes\\class.wp-styles.php:225) in ....\nand anyway that isn't my real question. My goal is not to display or let the user dowlnload the file, i want it to automaticaly sent by mail. So, where is it located?. ",
    "kevinours": "\ntexts are superimposed whereas I took this code in the demo. ",
    "ashinzekene": "Version 0.8.2 \nDownloaded it from the releases page yesterday. Found out I had 0.6 in composer\ud83d\udc4d\ud83d\udc4d\ud83d\udc4d. ",
    "alagesanbe08": "Hi, image path need to set from root e.g: /var/www/joomla/images/logo.png\nit fixed my issue. ",
    "mahi13c": "I have the same problem with slight difference,\nImage is not loading on localhost but loading perfectly fine on live server. I have used full path also.. Image is not loading on localhost but loading perfectly fine on live server.\n. ",
    "SergioReis97": "@jonathanpmartins As a work around I can confirm you that passing the image as base64 does indeed work.. ",
    "doanhuuthiet": "You say: \"There is another issue posted related to this issue.\"\nCan you give me link ?. ",
    "ricvillagrana": "The last part of URL is not \"document.pdf\" and the header seems not work.. ",
    "Nightbr": "Hey, no choice, I think you must replace emoji by the corresponding image manually when you build your HTML... I run into the same issue and it seems to be the only choice. It could be great if there is an emoji parser built in dompdf and replace automatically emojis.. ",
    "redfoxius": "try next:\n$phpWord = new \\PhpOffice\\PhpWord\\PhpWord();\n$phpWord->setDefaultFontName('DejaVu Sans');. ",
    "mrblc": "Are you send this as html or plain text? For html, it's correct output because \\n is whitespace character in html. You should use nl2br(); function to convert \\n to <br>.\nAlso, float left is buggy and not really applicable to this. Did you mean text-align: left?. ",
    "Devleaf-IT": "Thanks for your reply bsweeney. Yeah the notice shouldn't be anything to worry about, it was more so the fatal error.\nCurrently running v0.8.2 of dompdf with the following requirement versions:\nsabberworm/php-css-parser: 8.1.0\nphenx/php-svg-lib: v0.3\nphnnx/php-font-lib: 0.5.1\nand as stated previously php v7.2.1. Tried doing a bit of digging around but can't seem to notice any issues with conflict. \nThanks in advance for your help.. ",
    "dimmitri": "I've been thinking about closing this issue. But later I changed my mind.\nI tried to write code adapted for this library. The result is a strange code that does not work in any browser :). But for some reason the output is similar to what I wanted. I wanted it to look like a table. Later, I changed this code to table layout. This does not negate the fact that there must be bug.. ",
    "kierate": "@bsweeney do you have any rough ETA for when 0.8.3 will be tagged/released?. Cool. I'll keep an eye out for it.. ",
    "lbassin": "Same problem here.. \nNo error, nothing :disappointed: . ",
    "Flyers2": "I ended up hosting the application on a Ubuntu 16 server instead of the amazon version. It works over there.. ",
    "noone-silent": "I use phalcon 3 myself and can use this lib without any problems. Do you have any error messages?. closing because there is more to do.. Absolutely. The oldest version I ever came across was PDFLib 7 and that was about 8-9 years ago. . I think there is no automatic way, but you can create a TOC like you would do in HTML. Get your data, build the TOC with anchors to the headings.\nIn pseudo code:\n```\n// Your TOC\nforeach row in db\n    row.title\n// Your Content\nforeach row in db\n    row.title\n    row.text\n```. Try require not require_once if you call this function multiple times. Maybe mixing th and td in a tr? It's just a guess.. If this code takes longer than the default 30 seconds and you are using mysql as database, the connection will be resetted from mysql too and the script dies.\nAlso you should put the set_time_limit and ini_set once at the beginning of the php file.\nIn your code I see many performance killers like this:\nphp\nfor ($n = 0; $n < count($numeros); $n++) {\n// Better\n// for ($n = 0, $nc = count($numeros); $n < $nc; $n++) {\nfor ($a = 0; $a < count($acertados); $a++) {\n// for ($a = 0, $ac = count($acertados); $a < $ac; $a++) {\nDo not use count in for loops in this way. I think you can use foreach here too.\nTry to optimize your code a little bit, it should never take up to 30 seconds and more.. ",
    "sergiota": "Well, I've added the following to my blade template in ",
    "sandervanhooft": "I narrowed the problem down to this line:\nCSS\n    .invoice-box table {\n        width: 100%;\n        line-height: inherit; /* REMOVE THIS LINE */\n        text-align: left;\n    }\nThat fixes it.. ",
    "peter279k": "Hi @bsweeney, thank you for your reply. I will submit upcoming PR to the develop branch.\nI appreciate your notification and thank you for your concern.. ",
    "kristjankoppel": "+1 Had same problem today and had also make my box top padding smaller to get best result. Some weird way font is aligned to bottom it seems in line-height.. ",
    "andreshg112": "@BrunoDeBarros @luissquall @shadowhand @PhenX @bcremer\nSorry for tagging all of you, could you please help me or suggest me something?. I solved it this way:\n\nRemoving any caption tag.\nRemoving any table inside a table. Now I have a table inside a divTableCell.\nBy using this structure: .divTable > .divTableBody > .divTableRow > .divTableCell, as you can see below. This hierarchy is mandatory because you'll get an error like \"Min/max width is undefined for table rows\" or maybe another one.\n\nBlade:\n\nCSS:\n```css\n/ DivTable.com /\n.divTable {\n    display: table;\n    width: 100%;\n}\n.divTableRow {\n    display: table-row;\n}\n.divTableHeading {\n    background-color: #eee;\n    display: table-header-group;\n}\n.divTableCell,\n.divTableHead {\n    border: 1px solid #999999;\n    display: table-cell;\n    padding: 3px 10px;\n}\n.divTableHeading {\n    background-color: #eee;\n    display: table-header-group;\n    font-weight: bold;\n}\n.divTableFoot {\n    background-color: #eee;\n    display: table-footer-group;\n    font-weight: bold;\n}\n.divTableBody {\n    display: table-row-group;\n}\n```\nNow my PDF looks as expected:\n\n. @teseo24, this is a portion of my code. The CSS is shown in my comment above: https://github.com/dompdf/dompdf/issues/1727#issuecomment-406491835 \n```blade\n DivTable.com \n\n\n\n            <div class=\"divTableCell\">\n                <table class=\"bordered width-100pc\">\n                    <tr>\n                        <th colspan=\"2\">FECHA Y HORA DE EVIDENCIA</th>\n                    </tr>\n                    <tr>\n                        <td class=\"text-center\" width=\"50%\">\n                            D\u00cdA - MES - A\u00d1O\n                        </td>\n                        <td class=\"text-center\" width=\"50%\">\n                            HORA: MINUTOS\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"text-center\">\n                            {{ $comparendo->fecha->format('d/m/Y') }}\n                        </td>\n                        <td class=\"text-center\">\n                            {{ $comparendo->fecha->format('H:i:s') }}\n                        </td>\n                    </tr>\n                </table>\n            </div>\n\n            <div class=\"divTableCell\">\n                <table class=\"bordered width-100pc\">\n                    <tr>\n                        <th>\n                            LUGAR DE LA INFRACCI\u00d3N (V\u00cdA, KIL\u00d3METRO O SITIO, DIRECCI\u00d3N)\n                        </th>\n                    </tr>\n                    <tr>\n                        <td class=\"text-center\" rowspan=\"2\">\n                            {{ $comparendo->lugar }}\n                        </td>\n                    </tr>\n                    {{-- Se necesita por el rowspan=\"2\" --}}\n                    <tr></tr>\n                </table>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n```\nThis is another portion of CSS:\n```css\n* {\n    font-size: x-small;\n}\nth {\n    background-color: #f7f7f7;\n    border-color: #959594;\n    border-style: solid;\n    border-width: 1px;\n    text-align: center;\n}\n.bordered td {\n    border-color: #959594;\n    border-style: solid;\n    border-width: 1px;\n}\ntable {\n    border-collapse: collapse;\n}\n/ Para sobrescribir lo que est\u00e1 en div-table.css /\n.divTableCell,\n.divTableHead {\n    padding: 0px !important;\n    border: 0px !important;\n}\n```\nThis looks like this:\n\n. ",
    "teseo24": "Hi\nI want to replicate a file  like this pdf https://ufile.io/csff8\nIs it posible with dompdf\nCan you share your code as example? please\nBest regards. ",
    "larsluijendijk": "you grab some scissors and make it 79mm\ndone. ",
    "haruhinoshana": "i have done it and thank you for your \"brilliant\" suggestion . ",
    "agentmarine": "I believe this was running on OSX Via Valet (PHP 7.2), I haven't ran it recently but i am sure that it corrected my issue at the time.. ",
    "MajorasJack": "Update:\nChanged all references of DOMPDF_FONT_CACHE to font_cache which appears to have fixed the issue, but don't think it's ideal.. ",
    "kirame09": "+1 for this.. @gnumoksha , Here is the link https://github.com/dompdf/dompdf/tree/tagged-pdf/www/test. ",
    "SanderWind": "You should specify the unit too. So 140px instead of 140.. ",
    "EllanTseyeth": "EDIT\nI tried to pass my generated HTML to the W3C Validator and I corrected all the warnings and errors and I ended up fixing my issue, so maybe it's because there is validation issue that it craps the rendering !\nLike you don't have a  on either tables\n I don't know how well does dompdf take it.\n\nI have this issue too, here is a version of a generated PDF file to give more meat to this issue in the hopes it gets fixed! \ud83e\udd1e.\n20180000017_35a95a506b16f5_6AFAF740-B865-41A3-8208-44ED677425B5.pdf\nHere is my call:\n```\n                // instantiate and use the dompdf class\n        $dompdf = new Dompdf();\n        $dompdf->set_option('isHtml5ParserEnabled', true);\n        $dompdf->loadHtml($html);\n    // (Optional) Setup the paper size and orientation\n    $dompdf->setPaper('Legal', 'landscape');\n\n    // Render the HTML as PDF\n    $dompdf->render();\n    //$dompdf->set_base_path('localhost/exampls/style.css');\n    // Output the generated PDF to file\n    file_put_contents($filename, $dompdf->output());\n\n```\nI'm using Smarty template engine inside Koseven framework with bootstrap 3.\nI nested my nested tables inside divs in the hope to fix this, but it didn't do the trick.\n```\n Invoice template \n\n\n\n\n\n{Kohana_lang string=payment_checkout_title2}\n\n\n\n\n\n\n\n\n\n\n\n{if isset($a_business) && !empty($a_business)}\n\n{$a_business.address}\n{$a_business.city}, {$a_business.province}, {$a_business.country}\n{$a_business.zip_code}\n{$a_business.phone}\n\n{else}\n{Kohana_lang string=payment_checkout_unavailable}\n{/if}\n\n\n\n{if $paid}\n{assign var=\"invoice\" value=\"<!--{Kohana_lang string=payment_checkout_invoice}\"}--> \n                        {else}\n{assign var=\"invoice\" value=\"<!--{Kohana_lang string=payment_checkout_estimate}\"}--> \n                        {/if}\n{$invoice}{$a_cart.idempotency}\n{if $paid}\n{Kohana_lang string=payment_checkout_sequence}{$a_cart.sequencial}\n{/if}\n\n{Kohana_lang string=payment_checkout_date_initiated}{$a_cart.creation_date}\n{Kohana_lang string=payment_checkout_date_closed}{$a_cart.modification_date}\n{Kohana_lang string=payment_checkout_date_due}{$a_cart.modification_date}\n\n\n\n\n\n\n\n\n\n\n\n{Kohana_lang string=payment_checkout_invoiced_to}\n{if isset($a_cart.contact.element_name) && !empty($a_cart.contact.element_name)}\n{assign var=\"elem_name\" value=$a_cart.contact.element_name}\n{assign var=\"address\" value=$a_cart.contact.address}\n{else}\n{assign var=\"elem_name\" value=\"\"}\n{assign var=\"address\" value=\"\"}\n{/if}\n\n\n{$a_cart.contact.first_name} {$a_cart.contact.last_name}\n\n{$elem_name}\n{$a_cart.contact.address}\n{$a_cart.contact.email}\n\n\n{Kohana_lang string=\"payment_checkout_payment_detail\"}\n\n\n{Kohana_lang string=\"payment_checkout_total3\"}{$a_cart.total}$\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{Kohana_lang string=payment_checkout_description}\n{Kohana_lang string=payment_checkout_recurrence}\n{Kohana_lang string=payment_checkout_price}\n{Kohana_lang string=payment_checkout_quantity}\n{Kohana_lang string=payment_checkout_total}\n{if !$paid && (!isset($item_read_only) || (isset($item_read_only) && !$item_read_only))}\n\n{/if}\n\n\n\n{if isset($a_data)}\n{foreach from=$a_data key=key item=value}\n{if isset($a_cart.a_item.$key) && !is_null($a_cart.a_item.$key)}\n\n{if $key === 'subscription'}\n{assign var=the_id value=\"id='header_<!--{$key}' \"}--> \n                {else}\n{assign var=the_id value=\"\"}\n{/if}\nclass=\"no-margin\">{$value.title}\n{$value.description1}{$value.description2}\n\n{assign var=recurrence value=$value.recurrence}\n{$recurrence}\n{$value.price}\n{$value.qty}\n{$value.total_line} $\n\n{if isset($value.coupon) && !is_null($value.coupon)}\n\n{Kohana_lang string=payment_checkout_rebate_title}\n{Kohana_lang string=payment_checkout_rebate_text}{$value.coupon.code}\n{$value.coupon.recurrence}\n$value.coupon.value\n\n({$value.coupon.total})$\n\n{/if}\n{/if}\n{/foreach}\n{/if}\n\n\n\n\n\n\n\n\n\n\n\n\n{Kohana_lang string=payment_checkout_authorized_person}\n{if isset($a_business) && !empty($a_business)}\n  \n\n{$a_business.name}\n{$a_business.address}\n{$a_business.city}, {$a_business.province}, {$a_business.country}\n{$a_business.zip_code}\n\n{else}\n{Kohana_lang string=payment_checkout_unavailable}\n{/if}\n\n\n\n\n\n\n\n{Kohana_lang string=\"payment_checkout_total_due\"}\n\n\n\n\n\n{Kohana_lang string=\"payment_checkout_subtotal\"}\n{$a_cart.subtotal}$\n\n\n{Kohana_lang string=\"payment_checkout_taxes\"}({$a_cart.tax_rate}%)\n{$a_cart.tax_amount}$\n\n\n{Kohana_lang string=\"payment_checkout_discount\"}\n{$a_cart.rebate_total}$\n\n\n{Kohana_lang string=\"payment_checkout_credit\"}\n{$a_cart.applied_credit}$\n\n\n{Kohana_lang string=\"payment_checkout_total2\"}\n{$a_cart.total}$\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{Kohana_lang string=payment_checkout_subtitle}\n{Kohana_lang string=payment_checkout_other_information}\n{Kohana_lang string=payment_checkout_other_disclaimer}\n\n\n\n\n\n /invoice template \n```. Hello!\nI also have these warnings when running our test plateform using the same PHP version!\n```\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/src/Dompdf.php on line 610\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/src/Dompdf.php on line 631\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/lib/Cpdf.php on line 467\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/lib/Cpdf.php on line 474\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/lib/Cpdf.php on line 481\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/lib/Cpdf.php on line 488\nWarning: \"continue\" targeting switch is equivalent to \"break\". Did you mean to use \"continue 2\"? in application/vendor/dompdf/dompdf/src/Css/Stylesheet.php on line 1360\n```. ",
    "Sattevelt": "I ran into this error too and have been able to determine what goes wrong.\nGoogle fonts outputs font css weights as a number (multiple of 100. for example: 400 is normal, 700 is bold. There are other values too)\nWhen parsing this css to register it in dompdf_font_family_cache.php, the font weight gets combined with the style to create a key to register it in said file. The regex used in DomPDF\\FontMetrics:getType is preg_match(\"/bold/i\", $type) to register it as a 'bold' or 'bold_italic' style. Since the weight is numeric, the regex fails and gets the style gets defaulted to 'normal'.\nIf you use two font of the same family, one normal and the other bold, only one of them will work (depending on which one you registered first) because they will both be marked as 'normal'.\nThe fix that works for me is to change this regex to preg_match(\"/(bold:700|800|900)/i\", $type). It will match the numeric values for bold weights and will be registered correctly as either 'bold' or 'bold_italic'.\nI would make a PR, but i'm not sure if this fix is the desired one. \nIn Dompdf\\Css\\Style::get_font_family() there is also logic to assume any numeric value equal to or bigger than 600 as 'bold'. I'm not sure if you want this logic to exist in two places.\nEdit: I just noticed the PR by @lquast : https://github.com/dompdf/dompdf/pull/1896/ which it a way better solution than my suggestion. Guess you can add this bug to the milestone \ud83d\udc4d . \ud83d\udc4d  Well done. I just wrote a lengthy comment to a related bugreport to help pinpoint where the problem is. And it instantly became redundant once i saw your PR \ud83d\ude04. I haven't tested the PR but, the logic in there seems ok and it nicely solves the problem of what numeric weights to concider as 'bold'.. ",
    "dandinuro": "Hello Shaiby,\nYou have a tabel in mysql and you want to print everything from it on pdf using dompdf? Did I understand correctly?\nServus, \nDan . Same here :(. ",
    "ssimo3lsuhsc": "Apparently, wikis are not forked when the repository is forked. I'm really not sure I should be editing the wiki. Different projects have different wiki editing policies. Anyway, can you please edit https://github.com/dompdf/dompdf/wiki/Usage#output? Change \"Returns the PDF as a string\" to \"Returns the PDF as a base64-encoded string\" or \"Returns the PDF as an ANSI-encoded string.\". ",
    "superyetkin": "\nPlease make sure you are using valid HTML input.\nCould you please provide a sample code portion to reproduce the issue?. A div with syule \"border: 2px solid red; border-radius: 25px;\" seems to work fine.. Could you please post the HTML code you pass to the loadHtml method?. \n",
    "NormanEdance": "Opps sorry. ",
    "KarlMacz": "I'm also using version 0.8.2. Tried aligning an inline-block child element to either center or right and it doesn't seem work.\nHTML\nhtml\n<div class=\"main-title\">\n  <div class=\"content\">Reservation Report</div>\n</div>\nCSS\n```css\n.main-title {\n  display: block;\n  text-align: right; / text-align: center; doesn't work also. /\n}\n.main-title > .content {\n  display: inline-block;\n}\n```\nI also noticed that using text-align on the parent element only affects the text inside the child element and not the position of its child element. You can check this by giving the child element a width (Example: width: 50%;). ",
    "hennythehen": "Did you ever find a solution to this? I am having a similar issue.. ",
    "lotarbo": "I have the same problem. I can see new fonts in the folder and in dompdf_font_family_cache.php but pdf cant render Cyrillic text. ",
    "Ahmedadil507": "I have same problem also. ",
    "lukeholder": "This is occuring for us only on php 7.2.x when using remote images.\nNo error on PHP 7.0.x. Maybe relevant: https://github.com/Glavin001/atom-beautify/issues/1108#issuecomment-272012827. ",
    "ikhsan017": "it seems the problem is in your server that maybe infected by some malware, the source code in the repo doesn't seems to contain injected code. ",
    "roullie666": "If anyone is having a same problem as i have. I end up using a page_script.\nSince i know the first 2 pages are static and the last page is static, I accessed the $PAGE_NUM and place a condition like this\n```\n$pdf->page_script('\n        if( $PAGE_NUM != 1 ){ // 1st page has no header\n            $text = \"\";\n            if( $PAGE_NUM == 2 ){\n                $text = \"This is 2nd page\";\n            }else if( $PAGE_NUM > 2 && $PAGE_NUM < $PAGE_COUNT ){\n                $text = \"This is the page 3 until before the last page\";\n            }else if( $PAGE_NUM == $PAGE_COUNT ){\n                $text = \"This is last page\";\n            }\n\n            // setup postioning, color, size etc for design\n\n            // use $text as header text                 \n            $pdf->text( $posX, $posY, $text, $font, $size, $color);\n        }\n\n');\n\n```\nAnd removed all <div class=\"content-header\">...</div> in the HTML markup. ",
    "AugustoMarcelo": "I checked the logs and saw nothing. Unfortunately, I needed to change my library to solve my client's problem, but DOMPDF is more robust in terms of CSS.. I added the set_option ('isHtml5ParserEnabled', true) method; and solved the problem, however, for a large amount of records, DOMPDF is taking a long time. a PDF with 1000 records took 11 minutes. And I'll need to generate one with 8,000! Thanks for your performance tip.. ",
    "BenartDesign": "This is how I'm loading images: \n<div class=\"pdfimages\">\n  <img src=\"/home/storage/2/ea/99/inter3/public_html/TRH/talentoincluir.com.br/new/wp-content/uploads/2018/07/logoV1_principalHorizontal-1.png\">\n  <img src=\"/home/storage/2/ea/99/inter3/public_html/TRH/talentoincluir.com.br/new/wp-content/uploads/2018/07/Logo_StaCausa_Curvas-01757.png\">\n</div>\nI was loading them by attachment_id, but still had the same problem, so I tried like this. And this is my functions.php where it's generating pdf:\n```\n$html = $_POST['pdf'];\n$dompdf = new Dompdf();\n$dompdf->loadHtml($html);\n$dompdf->render();\n$output = $dompdf->output();\n// Use the WordPress API to upload the file\n$upload = wp_upload_bits('relatorio_formulario.pdf', null, $output);\n```. ",
    "PtmDex": "\nNot sure what's going on. It looks like the last row of that table is sticking to the next line. Seems familiar but I wasn't able to find a relevant issue.\nWhat you can do instead of using a sequence of line breaks it provide a margin. For example, the following:\n<table>...</table>\n<br><br><br><br><br><br><br><br>\n<div style=\"border: solid black;\">...</div>\ncould be replaced by:\n<table>...</table>\n<div style=\"border: solid black; margin-top: 4em; page-break-inside: avoid;\">...</div>\nOne unrelated suggestion would be to move the footer element to the top of the page. If the page broke before dompdf encountered the footer then it wouldn't render on the first page.\n\nI see, I haven't tried this yet. Thank you, I hope it will work.. ",
    "mxx-lxg": "Update: Setting the line-height and font-size for the element in pt instead of px seems to fix the issue.. I managed to get around it myself: The way i rendered the PDF was suboptimal. I essentially opened the php file in a browser and downloaded the PDF, that started to fail once the PDF got too large.\nOnce i ran the php file in the CLI and streamed it's output to a PDF file it worked.\nphp -f render.php > file.pdf. ",
    "alekseykuleshov": "@bsweeney Got this issue as well, fixed by using px instead of %.\nCode:\n```\n<?php\n    require 'dompdf/vendor/autoload.php';\nuse Dompdf\\Dompdf;\nuse Dompdf\\Options;\n\n$options = new Options(['isHtml5ParserEnabled' => true]);\n\n$options->setIsRemoteEnabled(true);\n$options->setIsPhpEnabled(true);\n$dompdf = new Dompdf($options);\n$dompdf->setPaper('A4');\n\n$html = '\n<html>\n <body>\n    <p style=\"font-size:20px;line-height:80%;margin:0;\">\n        Aenean laoreet quis dolor non scelerisque. In eros elit, posuere at sagittis sed, rutrum et est. Praesent vel arcu enim. Morbi rhoncus libero ex, ut efficitur quam finibus eget. Duis in turpis feugiat, tempor nisl id, consequat mauris. Integer sit amet velit velit. Curabitur varius nisl sapien, sit amet porttitor metus cursus at. In nec posuere velit. Sed sit amet nulla eu mi iaculis euismod at vitae nisi. Nullam urna mauris, vestibulum non elementum ac, porta non eros. Aliquam mollis, erat eu vehicula consequat, lacus lacus gravida leo, eu accumsan augue mi nec mauris. Aenean magna mi, consectetur a neque quis, placerat porta leo. Vivamus eget lorem convallis, commodo lorem nec, malesuada tortor. Mauris ut elit risus. Cras maximus nisi ac erat consectetur, a molestie lorem laoreet. Donec gravida, purus a auctor vulputate, tortor risus fermentum urna, sit amet blandit nisl urna eget metus.\n    </p>\n </body>\n</html>';\n\n$dompdf->load_html($html);\n$dompdf->render();\n\n$dompdf->stream(\"some.pdf\");\n\n```\nResult: some.pdf\n. Since there were no answer here, I had to get to the bottom of the problem myself. The RBG color code is not appropriate here. So, instead of $color = array(144, 144, 144); it should be $color = array(0.565, 0.565, 0.565); The values can be taken here: https://encycolorpedia.com/909090 , Color Space Conversions section, RYB row. \nHope this saves somebody's time.\nConcerning the codebase, https://github.com/dompdf/dompdf/blob/master/src/Adapter/CPDF.php#L1035 should be definitely fixed, it's misleading. . ",
    "larsactionhero": "Same issue here. \nBut: seems that not the last line is \"squeezed together\", looks more like that the line-height definition takes effect only on the last row (if more than 1 row of text). \nUpdate: \nIf line-height value is set to something > 1, the lines are positioned correctly.\nIf set to < 1, it only takes effect on the last line.\nBtw, none of the fixes mentioned above do work for me.\nAny solution in sight? Can't work with this in our production sites.\nExample: line-height: 1.5 vs. line-height: 0\n. Maybe interesting to know: I've figured out that the 'line-height' definition works on span elements (here: line-height: 0.6). \non p, div, section elements: definition takes effect only on last line of text.\n\n. ",
    "tdsmoore": "Hi @bsweeney. Here is the HTML code, PDF output and font files so you can debug.\n<!doctype html>\n<html lang=\"en-US\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Test</title>\n   <link rel=\"stylesheet\" href=\"fonts.css\" type=\"text/css\" media=\"all\">\n    <style type=\"text/css\" media=\"all\">\n       @page { margin: 15mm; }\n       body { font-size: 12px; font-family: \"Open Sans\" !important; line-height: 1; }\n       a { text-decoration: underline; }\n       h1 { font-size: 18px; }\n       h2 { font-size: 14px; }\n       h3 { font-size: inherit; }\n       h4 { font-size: inherit; }\n    </style>\n  </head>\n  <body>\n    <h1>Test</h1>\n    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <a href=\"#\">Praesent libero ex, ornare eu venenatis nec, dictum eu purus.</a> Morbi ut nunc eros. Duis vestibulum feugiat ligula vitae rhoncus. Nam sit amet cursus sem. Nam scelerisque massa ac lacus consectetur, eget viverra nisl auctor.</p>\n    <ul>\n      <li>Phasellus eget metus in nisi luctus venenatis molestie egestas lacus.</li>\n      <li>Lorem ipsum dolor sit <a href=\"#\">amet, consectetur</a> adipiscing elit.</li>\n      <li>Cras vitae diam odio. Aliquam vulputate turpis at suscipit condimentum.\u00a0Donec et metus tristique, dapibus erat et, porttitor tellus. Suspendisse potenti. Proin mi turpis, rutrum vel purus id, viverra venenatis mauris. In lacinia vehicula purus, eu efficitur dui semper ac. Quisque mollis eleifend nisi vitae scelerisque.</li>\n      <li>Vivamus a augue interdum, tincidunt lorem et, mattis massa.</li>\n    </ul>\n    <p>Nullam cursus, velit in semper sagittis, velit sem malesuada nulla, sit amet euismod sem eros sit amet justo. Ut quis aliquet elit. Donec quis nulla id purus commodo feugiat eu quis metus. Nullam ut pellentesque mi. In non enim lectus. Maecenas pulvinar lacus a lorem ultricies pulvinar. Morbi nunc orci, sodales ac egestas vel, lobortis vel nisl. Vivamus commodo mollis mattis. Praesent at interdum erat. Vestibulum lobortis tortor id posuere sagittis. Phasellus aliquam iaculis tincidunt.</p>\n    <p>Aliquam et viverra ex.</p>\n    <ol>\n      <li>Nullam gravida, magna vitae pharetra placerat, nunc mauris pharetra nulla, vel pellentesque ante ipsum ac mauris. Vivamus condimentum enim vitae elit varius dictum. Quisque venenatis, diam non maximus blandit, ex lacus cursus velit, vitae rhoncus augue felis vitae nibh. Morbi mi neque, convallis ut convallis nec, pretium nec justo.</li>\n      <li>Nam ac auctor tellus, vitae ornare dui. Aliquam a justo vel velit condimentum consectetur.</li>\n      <li>Sed non velit id arcu ornare suscipit. Sed sed augue orci. Vivamus sit amet finibus augue.</li>\n    </ol>\n    <p>Aenean odio dui, congue non finibus sit amet, fermentum sed lorem. Vivamus ultrices massa quis hendrerit gravida. Nullam quis placerat ante. Nullam eu nulla rutrum, lacinia justo vehicula, rhoncus libero.</p>\n  </body>\n</html>\nThere are 2 PDFs - the first uses the code above (underline position wrong and slight variation in bullet/number placement). The second PDF is the same but uses body { line-height: 2; } to show the impact of line-height on the bullets.\nOriginal fonts and css: fonts.zip\nGenerated font files: fonts_generated.zip\nPDF Output (line-height = 1): test_1.pdf\nPDF Output (line-height = 2): test_2.pdf\nThanks so much for looking into this!\nTom. I came up with this hack for my specific need...\nul > li:before { content: ''; display: block; float: left; line-height: 2.5em; }\nol > li:before { content: ''; display: block; float: left; margin-top: -0.25em; }\nStrangely, I couldn't find any combination of line-height or margin for both ordered and unordered lists that would work which makes me think <ul> and  <ol> may be calculated quite differently.\nPlease reply to the thread if this is explored further and/or fixed as I would rather not include this hack in my final project.. ",
    "densen45": "@tdsmoore \nThank you very much for sharing your hack! It works great. However, in my case the best line-height value for ul is 1.2em. Additionally, I experienced an issue when a page break occurs inside the ul. The bullet point of the first element of the following page was rendered on the previous page. I was able to prevent this by setting display: inline-block. \nSo I ended up with this:\ncss\nul > li:before {\n    content: '';\n    display: inline-block;\n    float: left;\n    line-height: 1.2em;\n}\nI don't know if it's worth sharing the following.\nAnother approach of mine was to improve the bullet point alignment rendering itself, but I gave up. I've got the best results with this in Dompdf\\Positioner\\ListBullet:\n```php\nfunction position(AbstractFrameDecorator $frame)\n{\n    // Bullets & friends are positioned an absolute distance to the left of\n    // the content edge of their parent element\n    $cb = $frame->get_containing_block();\n// Note: this differs from most frames in that we must position\n// ourselves after determining our width\n$x = $cb[\"x\"] - $frame->get_width();\n\n$p = $frame->find_block_parent();\n\n$y = $p->get_current_line_box()->y;\n\n/* start of modification */\n$style = $p->get_style();\n$line_height = $style->get_line_height();\n$y += ($line_height * (1 - ListBulletFrameDecorator::BULLET_DESCENT * 2/3))/ 2;\n/* end of modification */\n\n//Position is x-end y-top of character position of the bullet.\n$frame->set_position($x, $y);\n\n}\n```. ",
    "korimarik": "Sorry, here is more info:\n\"barryvdh/laravel-dompdf\": \"^0.8.2\", - this is from my composer.json file.\nAnd PDF example below\nexample.pdf\n. Please\nsample.pdf\nsample.blade.txt\n. Hi, @bsweeney!\nDo you have updates for me?. yes!\nI have found that links area is higher than it needs to be. This is the problem\n```\n.main-content, .header-info {\n    margin-bottom: 20px;\n    width: 100%;\n}\n.main-content td {\n    border: 1px dashed #ccc;\n}\n.pdf-left {\n    /font-size: 50%;/\n}\n.pdf-right {\n    font-size: 60%;\n}\n.pdf-logo {\n    max-width: 160px;\n    /width: 1400%;/\n    /width: 90%;/\n}\n.pdf-mtop {\n    margin-top: 30px;\n}\n.pdf-right-content .pdf-social img {\n    width: 20px;\n}\n.pdf-right-content {\n    text-align: right;\n}\n.pdf-social-block {\n    margin-top: 4px;\n}\n.pdf-menu-block {\n    text-align: center;\n    color: #428bca;\n}\n.pdf-menu {\n    font-size: 70%;\n    /border-right: solid #428bca 1px;/\n    margin-right: 3px;\n}\n.pdf-separator td {\n    padding-bottom: 20px;\n    border-bottom: 2px dashed #f0f;\n}\n.pdf-content-header {\n    width: 25%;\n    font-weight: bold;\n}\n.pdf-content-body {\n    width: 75%;\n}\n.pdf-content-body textarea {\n    height: 100px;\n    width: 90%;\n    resize: none;\n}\n.pdf-generate-button {\n    text-align: center;\n}\n.pdf-generate-button a {\n    text-transform: uppercase;\n}\nfooter {\n    text-align: center;\n    margin-bottom: 20px;\n    margin-top: 20px;\n}\n.pdf-info-error {\n    color: #f00;\n}\n``.Bootstrap v3.0.3`. ",
    "camargovitor": "`private function exportPdf($template)\n    {\n        $template = str_replace(\"\u03bf\", \"o\", $template);\n    $dompdf = new DOMPDF();\n\n    $dompdf->set_option('enable_html5_parser', TRUE);\n\n    $dompdf->load_html($template,null);\n\n    // (Optional) Setup the paper size and orientation\n    $dompdf->set_paper('A4', 'portrait');\n\n    // Render the HTML as PDF\n    $dompdf->render();\n\n    // Output the generated PDF to Browser\n    return $dompdf->stream(\"document.pdf\");\n\n    //return PDF::loadHTML($template, 'UTF-8')->download();\n}`.\n",
    "Julekot": "This is the solution:\n{!! nl2br(e($order->note)) !!}. ",
    "geeksilva97": "Yes, all access granted.. It showed no error. PDF executed without the desired font.\nUnfortunately I no longer have the HTML file because I found the mPDF that served me well.. ",
    "gringlas": "\nAny reason you're not setting the font-face style to bold for your second run?\n\nYou talking about, why I didn't include a bold font-weight font? I didn't need that in my use case.  :) . ",
    "AnghellicKarma": "Thanks so much!\nIf you take a look at\nhttps://www.hollman.com/products/georgia-tech-football/ and Add to Design\nBoard, then View Design Board, then Print Design Board, you'll see the\ncrazy formatting.\n. > So far I'm getting nothing but the red bar on the left. Which seems a bit different than the sample you posted. Also, though I can get the PDF I would really need to see the HTML. Is there a way to access the HTML dompdf loads to generate that PDF?\nI tried to replicate that first screenshot just now but was unable... it's been so long since my original post, I'm not sure how I did it back then... I'm also not  sure how to show you what generates that output... I can give you access to the site and/or FTP if that would help, though. If so let me know and we can proceed.. I'm not really sure how to do that, as I didn't build it myself, so I'm not sure where that is called. There's a page with a URL of /spec-sheet/ that is where you land when you add things to the Design Board and it looks like that page in the backend just has a WooCommerce WishList plugin shortcode for it...  \nSo it might just be better if you're able to get in and explore, if that's doable. Just let me know how/where you'd like credentials sent if so.. Understood. Give me a few and I will see what I can do for you and report back. Hi there! I'm back. I did a GREP search for the stream and found it in the attached file (Line 477). I then tossed it on a Staging version of the site (https://hollmanstage.wpengine.com) and it still generated an actual PDF that only had the red line on it and no content. That said, the file I've attached also has a lot of other stuff, including CSS within it. So I thought maybe that can help?\nEither way, if you do poke around on the site, it's not a Production site, either. But let me know if what I've provided helps, or if there are any further instructions from you regarding resolving this issue.\nfunctions-shop.zip\n. Okay, is there something I can do to help move that along? If so just let me know.... Okay, got it. I replaced\necho $dompdf->stream($title.'.pdf');\nwith \n//echo $dompdf->stream($title.'.pdf');\necho $dompdf->output_html();\nin Line 477 of functions-shop.php on the staging site. Let me know if that helps.. Okay, done!. Can you give it another try? I had commented out the spec_sheet_tpl line but I uncommented it. Same with the previous instructions. Here's a screenshot\n\n. Added..  I'm not really sure... To be honest, I have no idea how the plugin even works. It was set up by my predecessor, and this issue only brought to my attention to try to resolve...  \nWould removing it altogether and following some installation guide or something help?. Hi, Brian,\nThe client has decided to seek support with another company other than ours, so this issue is now moot. I mean, it still exists, in theory, but the support has been super-slow (over three months, no resolution, long time between replies), and the client is going elsewhere, so I don't care enough to get it resolved anymore.\nThanks for your efforts.. ",
    "dva-re": "https://www.avast.ru/false-positive-file-form.php\nI have sent a false positive report. Send and you, perhaps this will somehow speed up the review process.. @davidecesarano \nDo you still have a problem? I checked before on virustotal and it showed me that the virus is there, but now it does not.. ",
    "davidecesarano": "@dva-re \nproblem solved.\nThanks.. ",
    "MGParisi": "Its weird, the whole page is white.  No images, no nothing.  Just the very top two images!. Im sorry, THIS issue has been resolved.  There is a chrome issue that has not.  The PDF wont open in chrome.  I believe it actually a but Im not sure.  I think this was an issue with malformed HTML, but it has been so long ago Im not sure.. ",
    "elbsurfer": "I figured it out - I needed to use 96dpi instead of 300.. ",
    "riliwanrabo": "Any luck on this?. ",
    "Ludoviccharruau": "Thanks for the advice. I didn't have time to test it, but I plan to do it anyway. To solve the problem temporarily, I used a width and a max-width for each cell.. ",
    "Seb33300": "Did you followed this guide?\nhttps://github.com/dompdf/dompdf/wiki/UnicodeHowTo. ",
    "taniaivanova": "I have sub-setting by default:\ndef(\"DOMPDF_ENABLE_FONTSUBSETTING\", false);\nAnd just to check - I change it to true - and the result is the same, but with smaller PDF.. Thank you for the help.\nNeither I have Adobe PRO - I had to install 7-day evaluation copy just to see the problem :-)\nBut with this file the preflight tool dosn\u00b4t work. Almost all tools inside Adobe PRO don't work. It looks like the file is corrupted.. ",
    "robdigital": "copying autoloader from 0.8.2 doesn't work, gives a further error, \"dompdf/lib/php-font-lib/src/FontLib/Autoloader.php\". Ok so I copied the autoloader from 0.8.2. as well as the following 3 folders in dompdf/lib/ \n1)php-css-parser\n2)php-font-lib\n3)php-svg-lib\nAnd now it is working fine.. ",
    "5280pixel": "@robdigital - Thank you! This was driving me crazy!. ",
    "DigitalSolo": "Yes, sorry I noticed the update AFTER I submitted the issue.\nFrom: Michael Kliewe notifications@github.com \nSent: Tuesday, December 25, 2018 1:09 PM\nTo: dompdf/dompdf dompdf@noreply.github.com\nCc: Matt maasmith71@gmail.com; Author author@noreply.github.com\nSubject: Re: [dompdf/dompdf] PHP 7.3 (#1865)\nAlready fixed, see #1825 https://github.com/dompdf/dompdf/pull/1825 \nPlease use Dompdf 0.8.3, all of the PHP 7.3 problems should be fixed in that version.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/dompdf/dompdf/issues/1865#issuecomment-449868686 , or mute the thread https://github.com/notifications/unsubscribe-auth/AFYca62JP-9egR4a1w5qwIpdZ6iuakFtks5u8nfFgaJpZM4ZhL-R .\n. ",
    "xeroblast": "its png.. do you think that is the cause coz some png images are rendering... its the same png file.. no matter where i put.. anyway, JPG works.. so im using JPG..\nany reason why the some PNG doesnt work?. here's the image..\n\n. it was created in codeigniter image resizing using gd... oww.. and thanks... ",
    "christian987": "Okay i found a quick soultion:\nsrc/Image/Cache.php Line 97\nreplace\nlist($image, $http_response_header) = Helpers::getFileContent($full_url, $dompdf->getHttpContext());\nwith\nset_error_handler(array(\"\\\\Dompdf\\\\Helpers\", \"record_warnings\"));\n$image = file_get_contents($full_url, null, $dompdf->getHttpContext());\nrestore_error_handler();. ",
    "CodeWorldUser": "\nOkay i found a quick soultion:\nsrc/Image/Cache.php Line 97\nreplace\nlist($image, $http_response_header) = Helpers::getFileContent($full_url, $dompdf->getHttpContext());\nwith\nset_error_handler(array(\"\\\\Dompdf\\\\Helpers\", \"record_warnings\"));\n$image = file_get_contents($full_url, null, $dompdf->getHttpContext());\nrestore_error_handler();\nFor me image is rendering but color scheme is changed to black and white.\nnot worked me. Suggest some other way.. I have already opened a my own issue as fresh , Please check this :-> \nhttps://github.com/dompdf/dompdf/issues/1877. Hey Brian,\n1) I am using normal html, which starts from <html> tag and end on\n</html>\n2) I didn't get any PHP error , it is successful but after rendering when I\nopen pdf, then it has black and white image instead of colourful\n3) I tried both methods as via relative path of image and also with remote\nsource, also I enabled remote resource access , But it will be helpful if\nyou let me know How may I enable remote resource access within DOMPDF code\n\nThanks\nOn Mon, Jan 21, 2019 at 8:37 PM Brian Sweeney notifications@github.com\nwrote:\n\nI have questions:\n\nWhat is the nature of the text?\nDo you get any PHP errors?\nHow are you loading your HTML document into Dompdf?\nHow are you referencing your image from within Dompdf?\nIf the image is \"remote\" (i.e. starts with http://...), have you\n   enabled remote resource access?\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/dompdf/dompdf/issues/1877#issuecomment-456104952, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AsXtaQukhj0zbD67XlKWO5NZ1u0yV8cHks5vFdfJgaJpZM4Z3WZG\n.\n. \nIts paypal icon original as  : \n\n. I uploaded both the images original as well as its rendered output in comment https://github.com/dompdf/dompdf/issues/1877#issuecomment-464590877 \n\nPlease have a look , The coloured image is original image and the b/w image is rendered output I get , instead this I want the rendered images same as original coloured image. \nAlso I am not using any of IMagick, GMagick or GD version.\nThanks\nCodeworld. ",
    "fahn": "did you read this howto?\nhttps://github.com/dompdf/dompdf/wiki/UnicodeHowTo. ",
    "faheemhameed": "I have tried the following css for the page breaks:\n`            table {\n                page-break-inside: always;\n            }\n        table tr {\n            page-break-inside: always;\n        }\n\n        table tr td {\n            page-break-inside: always;\n        }`\n\nBut they never helped me to split a row between 2 pages.\nCan anyone please confirm that, with the current version, it's achievable or not.\nIf I can't then I will have to find other plugins. \nPlease help!!\n. I realized there's no such css value called \"always\" for the page-break-always\n\npage-break-inside: always;\n\ninstead it should be\n\npage-break-inside: auto;\n\nThis would be the default. So I changed the css as below:\n\ntable tr {\n    page-break-inside: auto;\n}\ntable tr td {\n    page-break-inside: auto;\n}\n\nThis should make sure the last fat row in the page should be split across the next pages if it does not fit in the first page instead of moving the whole row to the next page leaving a big gap in the first page..\nThanks for your help!!\n. Dear there,\nAny help with this? I would be happy to make a small donation if this will become helpful to me.\nMany thanks,\nHameed\n. @bsweeney Thanks for your reply and for your suggestion.\nActually I wanted to use muti-column table and gave you my html as an example. I am aware about the div which can split across pages.\nFinally I have used TCPDF to achieve this.\nThanks.\n. ",
    "armansheikh": "Hi @khokandc,\nCould you please post your code that you are using?. ",
    "djs84": "v0.8.2:\n$font = $fontMetrics->getFont(\"helvetica\", \"bold\");. ",
    "dennisdc": "we are on version 0.8.3 btw. ",
    "ScripTech": "I fixed by creating new taskhelper.php file that only redirect queryTask to generate html to be converted to PDF...\n```\n<?php\n/\n @author: Edilson H Mucanze\n @email: edilsonhmberto@gmai.com\n @contacto: 848213574\n @pro: Helper para gerar Reports pdf dinamicos\n * /\nif(isset($_GET['ano'], $_GET['curso']) && $_GET['task'] = 'getEstudantes'){\n\n    $ano = $_GET['ano'];\n    $curso = $_GET['curso'];\n\n    $reportHelper->DomBuilder_e($ano, $curso);\n}\n\nif(isset($_GET['anoLetivo'], $_GET['semestre'], $_GET['disciplina']) && $_GET['task'] = 'getEstudantesExame'){\n\n    $anoLetivo = $_GET['anoLetivo'];\n    $disciplina = $_GET['disciplina'];\n    $semestre = $_GET['semestre'];\n\n    $reportHelper->DomBuilder_ex($anoLetivo, $disciplina, $semestre);\n\n}\n\nif(isset($_GET['id_estudante'], $_GET['task']) && $_GET['task'] == 'extrato'){\n\n    $id = $_GET['id_estudante'];\n    $curso = $_GET['curso'];\n    $nome = $_GET['nome'];\n    $reportHelper->DomBuilder_extrato($id, $nome, $curso);\n}\n\n```. ",
    "polereczkitamas": "The render line is not loading, the browser goes to error. How can I record the php errors?. Here is the error:\nFatal error: Allowed memory size of 33554432 bytes exhausted (tried to allocate 3072 bytes) in .../dompdf/include/text_frame_reflower.cls.php(376) : runtime-created function on line 1\nany suggestion?. It's working, thanks. My html attached to my first post if you want to see.. ",
    "fitztrev": "Hi @bsweeney - Thanks for letting me know. I wasn't aware there was a broken image placeholder. I took the 3rd option and switched it back to a JPEG.. The phenx/php-svg-lib package required by Dompdf requires an outdated version of sabberworm/php-css-parser. There have been a couple releases to php-css-parser that fix a number of issues. I've had an open pull request to update that since November (see PhenX/php-svg-lib#45). As it currently stands, if someone wants to use both Dompdf + the latest php-css-parser, they can't.. ",
    "PowerKiKi": "JPEG instead of SVG file in a PDF sounds like a regression to me. Shouldn't we keep things as much scalable as possible ?\nWhy remove the dependency in the first place if it has a use in core anyway ? I'd leave it as required.. ",
    "gavin310": "Thanks for the quick response. Do you have a rough estimation on when the next release might be? I know you maintain this package in your free time, so I really appreciate the work you put into it. Thank you!. Totally understandable. I'll keep an eye out for any updates and switch over to the nightly build. Thanks!. Awesome! Thanks!. ",
    "riksnelders": "Yes it is. Without the rotation it works perfectly finw. With or without write mode. The 2nd th's are not renderd..\nCurrently rendering txt to image them rotate then display as th tho fix this. ",
    "ossantr": "Here is the html and css files, the part which I show on the picture is around the line 130.\nThanks a lot for your help for your help! :)\nDesktop.zip. ",
    "Gzim": "is anyone here who had the same problem? is this a known issue. I didn't find anything similar in all open and closed issues.... :/. ",
    "0888": "thank you for this. "
}