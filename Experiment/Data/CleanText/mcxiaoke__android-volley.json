{
    "mcxiaoke": "pom.xml is added.\n. I will get it done in some days.\n. done, see readme\n. this is just a mirror for volley\n. It is already merged by google:\nhttps://github.com/mcxiaoke/android-volley/commit/e8f5353b17aea6659dc3aa13223317b484d01483\n. close\n. 1. We have been using it in our projects for a long time, and the source code have been changed few for last three months, so we can think the volley code and api is stable enough now. \n2. I will increment the version and publish the artifacts to the maven central on each merging with the official upstream repo, current version is 1.0.1.\n3. All source code are cloned and merged from the official repo, are the same as the official repo, there are nothing difference except the build.gradle and pom.xml file for artifacts deployment configurations. \nIf you still have concerns, you can also clone the official repo code and use as a maven or gradle project module, or build a jar yourself for your project.\n. close\n. 1. it is no a good idea, maybe you should use POST and add header \"X-HTTP-Method-Override : PATCH\" in your app.\n2. this is a mirror of volley without any modifications, you can open a pull request on official site.\n. done, update version to 1.0.3, already pushed to maven central.\n. close\n. not clear.\n. should check this in your app.\n. close\n. you can use cancelAll(this) in your base class\n. as normal ImageView\n. this exception is by using, should not catch in volley\n. you can create custom Request subclass\n. Thankds. done.\n. Thanks. done.\n. mark delivered means the response has normally delivered, when error occurs, it's not..\n. you can create your own subclass\n. it's caused by your using.\n. Http Header is default ISO_8859_1 , json data is http body \n. you can open an issue at https://code.google.com/p/android/issues/list\n. close\n. close this.\n. done at 81b2ea1ac9b8cbe64f7097c70b2f034f8683be1e in v1.0.15\n. fixed in https://github.com/mcxiaoke/android-volley/pull/38\n. @ValleZ not yet, I will publish a new version in this week.\n. @moradgholi released today\n. thank you, I just deployed a new version to maven central.\n. fixed in 0aa7873db1048c41b279e4f216e4cf2ee35d0802\n. @puresprout you add the gson to the dependencies, it affects others who don't use gson.\n. close\n. fixed at 06335260f0fac87890d1fcd9f5cbfc53daaf2d39 and release at 1.0.14\n. fixed by cd543ea8971138bc94f744ef1679370f39117927 ,released at 1.0.15\n. @eatalien try to add this header to your  \"Connection\": \"close\"\n. @eatalien maybe fixed in v1.0.16, now default max retry is 0, see this commit: cee2e78731f6c74cac13de5070e2609f61db848c\n. fixed.\n. JsonRequest means using a 'json string ' as request body, it use custom request body, and ignore result of getParams() \nthis is the source from JsonRequest:\n@Override\n    public byte[] getBody() {\n        try {\n            return mRequestBody == null ? null : mRequestBody.getBytes(PROTOCOL_CHARSET);\n        } catch (UnsupportedEncodingException uee) {\n            VolleyLog.wtf(\"Unsupported Encoding while trying to get the bytes of %s using %s\",\n                    mRequestBody, PROTOCOL_CHARSET);\n            return null;\n        }\n    }\nif you just want a JsonObject response, below is two example\n1. modify your code\n```\nRequest jsonObjectRequest = new Request(\n                Request.Method.POST,\n                mUrl,\n                new Response.Listener() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        parseResponse(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Log.d(TAG, \"onErrorResponse: \" + error.getMessage());\n                        if (mProgressDialog != null)\n                            mProgressDialog.dismiss();\n                    }\n                }) {\n            @Override\n            protected Map getParams() throws AuthFailureError {\n                HashMap params = new HashMap<>();\n                params.put(\"param1\", \"param1\");\n                params.put(\"param2\", \"param2\");\n            return params;\n        }\n\n        @Override\n        public Map<String, String> getHeaders() throws AuthFailureError {\n            HashMap<String, String> headers = new HashMap<>();\n            headers.put(\"header1\", \"header1\");\n            headers.put(\"header2\", \"header2\");\n\n            return headers;\n        }\n    };\n    VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(jsonObjectRequest, Constants.VOLLEY_ADD_MESSAGE);\n\n```\n1.  create custom request subclass\n```\n/\n * Copyright (C) 2011 The Android Open Source Project\n \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n \n *      http://www.apache.org/licenses/LICENSE-2.0\n \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.android.volley.toolbox;\nimport com.android.volley.NetworkResponse;\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.Response.ErrorListener;\nimport com.android.volley.Response.Listener;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.io.UnsupportedEncodingException;\n/*\n * A canned request for retrieving the response body at a given URL as a String.\n /\npublic class JsonResponseRequest extends Request {\n    private final Listener mListener;\n/**\n * Creates a new request with the given method.\n *\n * @param method        the request {@link com.android.volley.Request.Method} to use\n * @param url           URL to fetch the string at\n * @param listener      Listener to receive the String response\n * @param errorListener Error listener, or null to ignore errors\n */\npublic JsonResponseRequest(int method, String url, Listener<JSONObject> listener,\n                           ErrorListener errorListener) {\n    super(method, url, errorListener);\n    mListener = listener;\n}\n\n/**\n * Creates a new GET request.\n *\n * @param url           URL to fetch the string at\n * @param listener      Listener to receive the String response\n * @param errorListener Error listener, or null to ignore errors\n */\npublic JsonResponseRequest(String url, Listener<JSONObject> listener, ErrorListener errorListener) {\n    this(Method.GET, url, listener, errorListener);\n}\n\n@Override\nprotected void deliverResponse(JSONObject response) {\n    mListener.onResponse(response);\n}\n\n@Override\nprotected Response<JSONObject> parseNetworkResponse(NetworkResponse response) {\n    String parsed;\n    try {\n        parsed = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\n    } catch (UnsupportedEncodingException e) {\n        parsed = new String(response.data);\n    }\n    JSONObject jsonObject;\n    try {\n        jsonObject = new JSONObject(parsed);\n    } catch (JSONException e) {\n        jsonObject = null;\n    }\n    return Response.success(jsonObject, HttpHeaderParser.parseCacheHeaders(response));\n}\n\n}\n```\n. @AlexPari I wrote a little demo ,and it did work, and I check the source code, there is no problem at  getParams and getHeaders, the default parameters encoding is UTF-8, I really don't think it's a volley bug.\n. close\n. @espiegel mResponse is returned by your own Request instance, you should check parseNetworkResponse method and ensure return a non-null response in the request.\n. it's not related with volley.\n. no details.\n. fixed in 4012176f203cf33cd2b8ee8305a3eac4afd6c393\n. @grushy Finsky is the alias of Play Store app, the log is from volley in Android system using by Play Store, not from this volley library.\n. close this.\n. close this.\n. close\n. maybe not, you should use okhttp\n. maybe you should check memory leaks.\n. fixed\n. check Activity.isFinishing() or Fragment.isAdded()\n. released at v1.0.17 \n. @voltan https://repo1.maven.org/maven2/com/mcxiaoke/volley/library/1.0.16/library-1.0.16.jar\n. @acampayo you should cancel all requests and stop queue in onDestroy method, and using latest version 1.0.17 may has some help.\n. @double-y as the error messages said: \"Duplicate files copied in APK LICENSE.txt \"\nadd these to your build.gradle to fix it:\npackagingOptions {\n    exclude 'META-INF/DEPENDENCIES.txt'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/notice.txt'\n    exclude 'META-INF/license.txt'\n    exclude 'META-INF/dependencies.txt'\n    exclude 'META-INF/LGPL2.1'\n}\nto android {}\n. @double-y you should add this to build.gradle in your project, because someone may need including these license files.\n. close #69 \n. thanks , I'm working on it.\n. volley does not support multipart by default, you can check other libraries.\n. @faeldix you can create custom Request subclass, override getHeaders() to send custom headers\n. not related with volley\n. @mathieubugaud  it's impossible for now, you can add parameters to url queries or request headers instead.\n. close\n. duplicate of issue #46 \n. @gitanuj not exactly, with some minor bugfix (some pr merged) , see here:  https://github.com/mcxiaoke/android-volley#changelog, and I have updated readme.\n. @gitanuj I have updated readme , see here\n. fixed in 0aa7873db1048c41b279e4f216e4cf2ee35d0802\n. done, see commit 706afecbca928f1050d95bdaed68ee408a55ce2e\n. @ben-j69 volley store whole http response contents as byte[] in memory and then convert to String or Json or other type, so it can not handle huge response, you should use okhttp instead.\njava\n// in BasicNetwork line 129\nresponseContents = entityToBytes(httpResponse.getEntity());\n. not supported\n. @chenghaojun JsonRequest is for using JSONObject as request body and response body, it ignores the params and uses body from mRequestBody you pass in the constructor, so you should extends Request and create custom Request subclass. see here: JsonRequest.java\n. @chenghaojun  Content-Type is not normal header,  it is provided by Request. getBodyContentType () , JsonRequest has its own default Content-Type, if you want to use \"application/x-www-form-urlencoded\", you should use StringRequest or extends Request class and create your own subclass, JsonRequest not for this purpose,  and getHeaders() is not the right place.\n. @chenghaojun you can just use StringRequest and wrap response string as JSONObject, \nor use some custom class like this:\n``` java\n/*\n * A canned request for retrieving the response body at a given URL as a JSONObject.\n /\npublic class JsonResponseRequest extends Request {\n    private final Listener mListener;\n/**\n * Creates a new request with the given method.\n *\n * @param method        the request {@link Method} to use\n * @param url           URL to fetch the string at\n * @param listener      Listener to receive the String response\n * @param errorListener Error listener, or null to ignore errors\n */\npublic JsonResponseRequest(int method, String url, Listener<JSONObject> listener,\n                           ErrorListener errorListener) {\n    super(method, url, errorListener);\n    mListener = listener;\n}\n\n/**\n * Creates a new GET request.\n *\n * @param url           URL to fetch the string at\n * @param listener      Listener to receive the String response\n * @param errorListener Error listener, or null to ignore errors\n */\npublic JsonResponseRequest(String url, Listener<JSONObject> listener, ErrorListener errorListener) {\n    this(Method.GET, url, listener, errorListener);\n}\n\n@Override\nprotected void deliverResponse(JSONObject response) {\n    mListener.onResponse(response);\n}\n\n@Override\nprotected Response<JSONObject> parseNetworkResponse(NetworkResponse response) {\n    try {\n        String jsonString = new String(response.data,\n                HttpHeaderParser.parseCharset(response.headers));\n        return Response.success(new JSONObject(jsonString),\n                HttpHeaderParser.parseCacheHeaders(response));\n    } catch (UnsupportedEncodingException e) {\n        return Response.error(new ParseError(e));\n    } catch (JSONException je) {\n        return Response.error(new ParseError(je));\n    }\n}\n\n}\n``\n. @uuku I just test it, no errors, and you can see artifacts are in here [volley](http://search.maven.org/#artifactdetails%7Ccom.mcxiaoke.volley%7Clibrary%7C1.0.18%7Cjar). use./gradlew clean build --refresh-dependencies` try again?\n. fixed in other ways in 1.0.19\n. fixed in other ways in 1.0.19\n. fixed in 1.0.19\n. yes.\n. may fixed in 1.0.19\n. it may be caused by your server, not related with volley.\n.  google 'volley' , you can find so many examples.\n. @WasimMemon cacheKey = method+\":\"+url\n```\npublic String getCacheKey() {\n        return mMethod + \":\" + mUrl;\n    }\npublic interface Method {\n        int DEPRECATED_GET_OR_POST = -1;\n        int GET = 0;\n        int POST = 1;\n        int PUT = 2;\n        int DELETE = 3;\n        int HEAD = 4;\n        int OPTIONS = 5;\n        int TRACE = 6;\n        int PATCH = 7;\n    }\n```\n. done\n. ",
    "christopherperry": "It's not on central\n. ",
    "KurtPreston": "Any idea?  It looks like the only Volley project listed is one under the title sledsoft, but I'm not sure if it's related.\n. Sweet! Thanks!\n. ",
    "lnanek": "Aha, thanks.\n. ",
    "AlexBlokh": "Damn, I managed to do this by upgrading an ImageRequest class and HttpHeaderParser.\nMy appologize.\nin HttpHeaderParser i'v added a static method \npublic static Cache.Entry parseCacheHeaders(NetworkResponse response,\n            long expirePeriod) {\n        Cache.Entry entry = parseCacheHeaders(response);\n        final long now = System.currentTimeMillis();\n        if (entry == null) {\n            entry = new Cache.Entry();\n            entry.data = response.data;\n            entry.etag = response.headers.get(\"ETag\");\n            entry.softTtl = now + expirePeriod;\n            entry.ttl = entry.softTtl;\n            entry.serverDate = now;\n            entry.responseHeaders = response.headers;\n        } else if (entry.isExpired()) {\n            entry.softTtl = now + expirePeriod;\n            entry.ttl = entry.softTtl;\n        }\n        return entry;\n    }\nand in imageRequest, whe i parse the answer I use this method\nthis is for those who'll come across this answer.\nThank you\n. ",
    "zackb": "+1\n. ",
    "nolith": "Hello @samkirton, was this patch reported upstream ? Did they deneid the merge?\n. ",
    "samkirton": "Handling 403 can be achieved by using a custom RetryPolicy\n. ",
    "martyglaubitz": "opened issue in offical repo\n. ",
    "dzsonni": "It's not about what I can use. It's about what you say can be used. Last I checked a string is an object and therefore it should work.\n. ",
    "milaptank": "Hi i have do like this \nits working perfectly  After adding  volley\nvHolder.iv_module_logo_id.setBackgroundResource(R.drawable.ic_actionbar_video);\nbefore adding  volley i am using like this and working nice\nvHolder.iv_module_logo_id.setImageResource(R.drawable.ic_actionbar_video);\nbut \nAfter adding  volley its not showing image as you say normal ImageView but not working \n. ",
    "lsycxyj": "Is there any Request examples? NetworkResponse only provides a data field which holds a whole byte array.\n. ",
    "khuevu": "I will close this as it is already fixed \n. ",
    "Xebozone": "This now contains a 'conflict', as the location of the file has moved after the move from Gradle to Maven... but the changes to the NetworkImageView.java file remain unconflicted\n. Will update my method so that there are no conflicts. This shall be closed.\n. ",
    "mstrengis": "Here is another stacktrace propably related \njava.lang.NegativeArraySizeException: -554\n    at com.android.volley.toolbox.DiskBasedCache.streamToBytes(DiskBasedCache.java:322)\n    at com.android.volley.toolbox.DiskBasedCache.get(DiskBasedCache.java:118)\n    at com.android.volley.CacheDispatcher.run(CacheDispatcher.java:100)\n. thanks @espiegel \n. ",
    "espiegel": "@mstrengis The second error was fixed and merged here: https://github.com/mcxiaoke/android-volley/issues/37\n. The power of the open source community :)\n. ",
    "ValleZ": "is this in 1.0.15?\n. ",
    "moradgholi": "@mcxiaoke haven't you release an update on this ?\n. ",
    "binqiangsun": "Is this only github updated. I found these codes are not in the android / platform/frameworks/volley / android-5.1.1_r4  of google code? \n. ",
    "joebowbeer": "I think this is another symptom of #61 (OutOfMemoryError) and both of these are caused by problems reading the header.\n. This should now be fixed in the 1.1.1-SNAPSHOT build of https://github.com/google/volley\n. I think this issue still exists, and is caused by a problem reading the header. The same problem can result in a NegativeArraySizeException, which is currently being caught.\n. Hi @katie1006 , looking again at the code I see that NegativeArraySizeException (NASE) is not being caught in readHeader, as it would need to be in order to prevent its occurrence in this call sequence.\nstreamToBytes can throw NASE or OutOfMemoryError (OOME) but NASE is only caught in the get method and not in the readHeader method.\nThere's more information about this bug in an issue I filed against the official version:\nhttps://github.com/google/volley/issues/12\nIn the official version, as well, NASE is only being caught in get and not readHeader where it is more likely to occur.. A fix for this was released in v1.0.16:\nhttps://github.com/mcxiaoke/android-volley/pull/38\n. The failed allocation is 500MB. Is this due to a logic error or header corruption?\n. Same stack trace as #61 and I think both are related to #37 \nNote that the problem occurs during initialize and no cleanup is triggered when this occurs, so the same exception is likely to occur the next time initialize is called.\n. Note that the official Volley repo is now on GitHub at https://github.com/google/volley\nI submitted a PR to address this problem: https://github.com/google/volley/pull/13. This issue (https://github.com/google/volley/issues/12) has been fixed in the official Volley repo.. ",
    "agozie": "I got this today.\nException java.lang.NegativeArraySizeException: -824\ncom.android.volley.toolbox.DiskBasedCache.streamToBytes (DiskBasedCache.java:323)\ncom.android.volley.toolbox.DiskBasedCache.get (DiskBasedCache.java:119)\ncom.android.volley.CacheDispatcher.run (CacheDispatcher.java:100). ",
    "abhaymaniyar": "I got this few days ago:\nFatal Exception: java.lang.NegativeArraySizeException: -1362\n       at com.android.volley.toolbox.DiskBasedCache.streamToBytes(DiskBasedCache.java:323)\n       at com.android.volley.toolbox.DiskBasedCache.get(DiskBasedCache.java:119)\n       at com.android.volley.CacheDispatcher.run(CacheDispatcher.java:100). ",
    "legalimpurity": "Hello,\nWhat you commited was \npublic JsonArrayRequest(int method, String url, JSONArray jsonRequest, \n            Listener listener, ErrorListener errorListener) {\n        super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\n                errorListener);\n    }\ncan you please also add  \npublic JsonArrayRequest(int method, String url, JSONObject jsonRequest, \n            Listener listener, ErrorListener errorListener) {\n        super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\n                errorListener);\n    }\nWhat I pass to JSONObject not array\nThank You\n. ",
    "panxw": "There are some kind of exception would  always retry.\n. request.getHeaders().put(key, value);\n. @LittlePanpc\nI build a branch which no Apache http need, you could try~\nhttps://github.com/panxw/android-volley-manager\n. @thevirus20 yes, I'm trying to use gradle.\n. @jiancao \nMaybe like http://blog.csdn.net/jdsjlzx/article/details/8463428\n. ",
    "RohanBarve": "I am using v1.0.18 and still experiencing duplicate post requests on slow network despite retry policy is being set to retry count 0.\n. ",
    "balavishnu": "I am also experiencing multiple requests on slow network using v1.0.18 despite setting retry count to 0. \n. ",
    "AlexPari": "Thank you @panxw but it not worked with your suggestion.\nHere is my code:\n```\nJsonObjectRequest jsonObjectRequest = new JsonObjectRequest(\n                Request.Method.POST,\n                mUrl,\n                new Response.Listener() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        parseResponse(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Log.d(TAG, \"onErrorResponse: \" + error.getMessage());\n                        if (mProgressDialog != null)\n                            mProgressDialog.dismiss();\n                    }\n                }) {\n            @Override\n            protected Map getParams() throws AuthFailureError {\n                HashMap params = new HashMap<>();\n                params.put(\"param1\", \"param1\");\n                params.put(\"param2\", \"param2\");\n            return params;\n        }\n\n        @Override\n        public Map<String, String> getHeaders() throws AuthFailureError {\n            HashMap<String, String> headers = new HashMap<>();\n            headers.put(\"header1\", \"header1\");\n            headers.put(\"header2\", \"header2\");\n\n            return headers;\n        }\n    };\n    VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(jsonObjectRequest, Constants.VOLLEY_ADD_MESSAGE);\n\n```\nHeaders are set but params not...\n. Thank you for your response @mcxiaoke but it still does not work...\nI try this solution but same result (not worked): http://stackoverflow.com/a/19945676/2627827\nI do not understand why because getParams and getHeaders are called... and if I copy/paste params and headers in Postman, it works!!\nDo you think it can be an encoding problem for params (or headers)?\n. ",
    "AliOmari": "same problem here and i can't find a solution\n. ",
    "ghost": "This seems to work for me  \n```\n     Map params = new HashMap<>();\n     params.put(\"username\",username);\n     params.put(\"password\",password);\n     params.put(\"name\",name);\n     params.put(\"facebook\",facebook);\n     JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST,url,new JSONObject(params), new Response.Listener(){\n         @Override\n         public void onResponse(JSONObject response) {\n             Log.d(TAG,\"User creation completed successfully\");\n             // Go to next activity\n         }\n     },new Response.ErrorListener(){\n     @Override\n     public void onErrorResponse(VolleyError error) {\n         error.printStackTrace();\n     }\n }) {\n     @Override\n     public Map<String,String> getHeaders(){\n         HashMap<String, String> headers = new HashMap<String, String>();\n\n```\n// Using the below header is important\nheaders.put(\"Content-Type\", \"application/json; charset=utf-8\");\n             headers.put(\"Authorization\",ApplicationConstants.BASIC_AUTH);\n             headers.put(\"User-agent\", \"My useragent\");\n             return headers;\n         }\n     };\n. @mcxiaoke Would it be possible to merge the PR with the fix?\n. ",
    "flamesoft": "Thanks @ghost. Your example works well even for GET request.. ",
    "francis-mwakidoshi": "create CustomRequest class first.\nPaste the code below\npublic class CustomRequest extends Request {\n    private Response.Listener listener;\n    private Map params;\npublic CustomRequest(String url, Map<String, String> params, Response.Listener<JSONObject> responseListener, Response.ErrorListener errorListener) {\n    super(Method.GET, url, errorListener);\n    this.listener = responseListener;\n    this.params = params;\n}\n\npublic CustomRequest(int method, String url, Map<String, String> params, Response.Listener<JSONObject> reponseListener, Response.ErrorListener errorListener) {\n    super(method, url, errorListener);\n    this.listener = reponseListener;\n    this.params = params;\n}\n\n@Override\nprotected Map<String, String> getParams() throws com.android.volley.AuthFailureError {\n    return params;\n};\n\n@Override\nprotected Response<JSONObject> parseNetworkResponse(NetworkResponse response) {\n    try {\n        String jsonString = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\n\n        return Response.success(new JSONObject(jsonString), HttpHeaderParser.parseCacheHeaders(response));\n    } catch (UnsupportedEncodingException e) {\n        return Response.error(new ParseError(e));\n    } catch (JSONException je) {\n        return Response.error(new ParseError(je));\n    }\n}\n\n@Override\nprotected void deliverResponse(JSONObject response) {\n    listener.onResponse(response);\n}\n\n}\nThen limmi modify your code as below\nHashMap params = new LinkedHashMap<>();\n        params.put(\"user_id\", String.valueOf(userid));\n        params.put(\"account_number\", String.valueOf(account_number));\nCustomRequest  jsonObjectRequest = new  CustomRequest(\n                Request.Method.POST,\n                mUrl,params,\n                new Response.Listener() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        parseResponse(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Log.d(TAG, \"onErrorResponse: \" + error.getMessage());\n                        if (mProgressDialog != null)\n                            mProgressDialog.dismiss();\n                    }\n                }) ;\n    VolleySingleton.getInstance(getApplicationContext()).addToRequestQueue(jsonObjectRequest, Constants.VOLLEY_ADD_MESSAGE);.\n",
    "leoganda": "I got the same issue. +1\n. ",
    "yishai-glide": "this is Volley code, you are returning null in your parseNetworkResponse method\n. ",
    "ash-edmodo": "Closing - this only fixes this issue in newer versions of Android. \n. ",
    "grushy": "thanks\n. ",
    "Cmdmac": "hello,the newest version volley JsonObjectRequest use getBody as post request body and the content-type is application/json,if you want to post key=value& in the body,use can pass key=value string in the constructor and the content-type use application/x-www-form-urlencoded ; )\n@Override\npublic String getBodyContentType() {\n    if (getMethod() == Method.POST) {\n        return \"application/x-www-form-urlencoded\";\n    }\n    return super.getBodyContentType();\n}\n. ",
    "w4lle": "you can check your reqeustQueue is Singleton, I has solved the problem that is OOM caused by context leak with every context init a requestQueue.\n. ",
    "Freedom000": "Good answer~\n. ",
    "katie1006": "Hi @joebowbeer , you mentioned the NegativeArraySizeException caused by this problem has been caught. I'm assuming the fix is not included in the current release version (1.0.0) because I'm still seeing it. Do you know if it will be included in the next release?. ",
    "waqary705": "Its okie but i don't want to close activity or fragment instead i want to get  Header's text status code from server\n. ",
    "qluan": "lgtm\n. ",
    "fantasyRqg": "great!\nI have the same problem, and it take me long time to find out whats going on. \nI use weak reference everywhere ... it is a hard and foolish work ...\n. ",
    "BraveAction": "http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.mcxiaoke.volley%22\n. @MrThiago !\nI use this do my job:\nByteArrayOutputStream out = new ByteArrayOutputStream(1000);\n  boolean flags = newBitmap.compress(Bitmap.CompressFormat.JPEG, 50, out);\n  byte[] bytes= Base64.encode(out.toByteArray(), Base64.NO_WRAP);\n  String imageString = new String(bytes, \"GBK\");\nthat you can post this string(imageString) to your server;\nsorry for my bad English!\n. ",
    "voltan": "Thank you very much\n@BraveAction @mcxiaoke \n. ",
    "falkorichter": "I did some more research on this:\nhttps://tools.ietf.org/html/rfc7234#page-6:\n \"The primary cache key consists of the request method and target URI.\n   However, since HTTP caches in common use today are typically limited\n   to caching responses to GET, many caches simply decline other methods\n   and use only the URI as the primary cache key.\"\nCaching should only be turned on for GET requests, or we need to modify the default getCacheKey return value to include the HTTP method.\n. ",
    "Sairaj4522": "Hey, may be this problem you have is because Volley was never implemented to collect big data\n. Check out this link http://stackoverflow.com/questions/31356972/android-volley-java-lang-outofmemoryerror\n. ",
    "double-y": "Is there any reason why you don't add the packageOptions?\nIf you don't have, I'll make a pull request contains them.\n. ",
    "faeldix": "yes, nice.. thanks!\n. ",
    "sewar": "I'm facing this issue too, timeout counter should stop when the response is received from server/cache.\n. ",
    "davidjorgensen": "actually volley is not meant to be used for large data, and it will perform horribly (or not work properly) when trying.. You are better off using something else when loading huge content.\n. ",
    "Spring-Xu": "I agree with @davidjorgensen ,Volley is meant many small requests.\n. This is not a smart method to load the image , the image download is in thread and the image view will be used when the image downloaded. And you recycle the bitmap after you used, It will reload at the list view scrolled. So\u2026..\n\u5728 2015\u5e748\u670813\u65e5\uff0c\u4e0b\u53484:52\uff0cBakytzhanAkzhol notifications@github.com<mailto:notifications@github.com> \u5199\u9053\uff1a\nHello, everyone.\nI use Android 5.1, IDE Android Studio.\nVolley version: 1.0.18.\nI have custom listview with one picture.\nWhen download from url new image and show it, after them Volley must be remove bitmap from memory, but not removed. Memory use increment every calls listview.\n```\n@Override\n public View getView(int position, View convertView, ViewGroup parent) {\n    final ViewHolder viewHolder;\n    final Lists model = models[position];\n    if (convertView == null) {\n        convertView = inflater.inflate(R.layout.adapter_lists_item, null, false);\n        viewHolder = new ViewHolder();\n        viewHolder.imgPreview = (ImageView) convertView.findViewById(R.id.imgPreview);\n        viewHolder.openBtn = (ImageButton) convertView.findViewById(R.id.openImgBtn);\n        viewHolder.headerText = (TextView) convertView.findViewById(R.id.tx_header_text);\n    convertView.setTag(viewHolder);\n} else {\n    viewHolder = (ViewHolder) convertView.getTag();\n}\nviewHolder.headerText.setText(model.getOrg_name());\n\n\n\nImageRequest imgRequest = new ImageRequest(model.getPreview(),\n        new Response.Listener<Bitmap>() {\n            @Override\n            public void onResponse(Bitmap response) {\n                viewHolder.imgPreview.setImageBitmap(response);\n\n```\n//                        response.recycle();\n                    }\n                }, 0, 0, ImageView.ScaleType.FIT_XY, Bitmap.Config.ARGB_8888, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                viewHolder.imgPreview.setBackgroundColor(Color.parseColor(\"#ff0000\"));\n                error.printStackTrace();\n            }\n        });\n```\n    Volley.newRequestQueue(getContext()).add(imgRequest);\nreturn convertView;\n\n}\n```\n[2015-08-13 13 45 59]https://cloud.githubusercontent.com/assets/10961423/9245986/e4083936-41c1-11e5-8307-5baf5645f713.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/mcxiaoke/android-volley/issues/90.\n. volley stores like this - 1:http://abcd/index.php?option=com_ijoomeradv\nmy original url -               http://abcd/index.php?option=com_ijoomeradv\nThey are the same url, have any problem?\n. ",
    "fancysherry": "why not add this feature to volley?i need to modify some code everytime i want to execute the delete request with params.\nwhen i modify some code,it work well,but i worry my code may have other problem.\n. ",
    "chenghaojun": "Thanks.\nI passed my params in the constructor, and the request posted to server as expected. but the request Content-Typs is application/json, my server can't resolve json data.\nI override the getHeaders() method, change the Content-Type from application/json to application/x-www-form-urlencoded, the server correctly handle my request.\n\ncode:\n\n. @mcxiaoke Thanks,  My server will response data as JSON format, so I was confused what should I do. to extends JsonObjectRequest and override getBodyContentType  method to return application/x-www-form-urlencoded header or just use StringRequest?\n. ",
    "sarkar000": "Thank you\n. ",
    "Almaral-Engineering": "Then there is no way of doing this by extending JsonObjectRequest? I\u00b4ve tried a lot and cannot find it. ",
    "ch-muhammad-adil": "hey I am facing same issue even i have change the volley to 1.0.17 .. but no luck \n. Error:A problem occurred configuring project ':app'.\n\nCould not resolve all dependencies for configuration ':app:_repositoriesCompile'.\nCould not resolve com.mcxiaoke.volley:library:1.0.18.\n     Required by:\n         Orient-TV-Guide:app:unspecified\n      > Could not HEAD 'https://jcenter.bintray.com/com/mcxiaoke/volley/library/1.0.18/library-1.0.18.pom'.\n         > Connection to http://127.0.0.1:8555 refused\n      > Could not HEAD 'https://repo1.maven.org/maven2/com/mcxiaoke/volley/library/1.0.18/library-1.0.18.pom'.\n         > Connection to http://127.0.0.1:8555 refused\n. Kindly help me regarding this issue. I have tried everything but all in vein. it has wasted a lot of my time. \n. \n",
    "Senior-JAM": "I add volley library to my project using Android Studio(Android Studio version: 1.5.1), but the gradle complains that Failed to resolve: com.mcxiaoke.volley:library:1.0.18.\n. ",
    "kennethshackleton": "There's this:\n\nIf the current thread: ... has its interrupted status set on entry to this method; ... then InterruptedException is thrown and the current thread's interrupted status is cleared.\n\nwhich may or may not be relevant here.\n. ",
    "chris-feist": "The would be better than the take() method as far as waiting indefinitely, however, the loop is waiting to take a request from the blocking queue for processing, so not sure how you await() could be substituted.\n. Still never a good idea to have an infinite wait and generic exception catcher that can take you back to the infinite wait.\n. This is how you add the legacy jar. Make sure you are using the latest gradle too.\n```\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.0\"\nuseLibrary 'org.apache.http.legacy'\n...\n\n}\n```\n. ",
    "chaozaiai": "\nI have this leaked, how avoid these leak??? I need your help.\n. \nhow fix this? I try to solve this problem about three weeks,but i don't know what i can do.\n. how to fix this?\n. ",
    "jcady": "+1. Much desired feature, the only thing I've been lacking in Volley.  I have to roll my own instead of using this in maven just because of this.\n. ",
    "abberesina": "+1\n. ",
    "Zhaoyy": "Volley is just a manager.Network is performed by the HttpStack. Add another HttpStack that support multiple cookies is better.\n. \u5b98\u65b9\u5730\u5740https://android.googlesource.com/platform/frameworks/volley\n\u5177\u4f53\u76ee\u524d\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u4f60\u53ef\u4ee5\u4ecemavencenter\u81ea\u5df1\u641c\u7d22\u67e5\u770b\u4e00\u4e0b\uff0c\u6216\u8005\u662f\u5728\u5f15\u5165\u7684\u65f6\u5019\u5982\u679c\u4f7f\u7528gradle\u53ef\u4ee5\u4f7f\u7528\u201c+\u201d\u6765\u66ff\u6362\u7248\u672c\u53f7\uff0c\u5c31\u662f\u9ed8\u8ba4\u4f7f\u7528\u6700\u65b0\u7684\u7248\u672c\u3002\n. ",
    "agois": "Even with this fix, it still leaking last request in CacheDispatcher. Needs more investigation.\n. The same leak found here is well explained by this post: https://corner.squareup.com/2015/08/a-small-leak.html\n. ",
    "BakytzhanAkzhol": "Yes, I rewrite code and use Volley singleton request)\n. ",
    "NetRally": "Maybe it helps:\nadd to build.gradle\n\u00a0\u00a0\u00a0\u00a0compile 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n. ",
    "bytebeats": "It was said that a org.apache.http.legacy.jar in Android/sdk/platforms/android-23/optional, then how could I add this jar into my Android Studio? Put it into libs and then add as a library? \n. ",
    "stateofzhao": "as @LittlePanpc  answer ,i get org.apache.http.legacy.jar in Android/sdk/platforms/android-23/optional,and Put it into libs and then add as a library.\n. ",
    "shic": "@f3ist added useLibrary, but got: can not solve the symbol \"useLibrary\" error\n. ",
    "eirnym": "@shic You should use newer grade and android grade build tools to use useLibrary\n. ",
    "thevirus20": "@panxw \nDid u change the repo?Is this the one you have build?\nhttps://github.com/panxw/android-volley-manager\n. So both(this one and yours) are same in terms of usage or you have renamed/removed/introduced some method while porting to Google recommended URLConnection?\n. Try this.\nhttps://github.com/panxw/android-volley-manager\n. ",
    "arpit009": "If above solution is not work then try my solution \nI experienced this problem recently, and it is caused by the path length restriction I think it\u00b4s 256 characters maximum.\nRelocate your Project and the build will succeed.\n. ",
    "RobertoAlvarezCeballos": "I've seen the same issue on my code. So far the latest version of Volley still doesn't fix it for me. I'll try to clean the listeners on the cancel method.\n. Thanks @leo524891010 that's what I've done and it's working fine. Just for the record I've found another potential leak due to the VolleyLog class and the method finalize() \n. ",
    "leo524891010": "@RobertoIDL  Here is solution for this. Design a subclass which inherits from Request, and define your own errorListener there instead of using the one in Base Class. Then whenever your request finishes, you have full control to clear the errorListener you defined.\n. ",
    "HywTony": "and how to use.\n. ",
    "wv1124": "Encountered in the course of a problem version 1.0.17\n09-08 03:08:29.329  24385-24402/com.qianmi.qmpos D/dalvikvm\ufe55 WAIT_FOR_CONCURRENT_GC blocked 0ms\n09-08 03:08:29.341  24385-24402/com.qianmi.qmpos D/dalvikvm\ufe55 GC_EXPLICIT freed 306K, 10% free 14532K/16135K, paused 1ms+1ms, total 12ms\n09-08 03:08:29.545  24385-24402/com.qianmi.qmpos I/dalvikvm\ufe55 hprof: dumping heap strings to \"/data/data/com.qianmi.qmpos/files/suspected_leak_heapdump.hprof\".\n09-08 03:08:29.573  24385-24402/com.qianmi.qmpos I/dalvikvm\ufe55 hprof: heap dump completed (15215KB)\n09-08 03:08:35.825  24385-24666/com.qianmi.qmpos D/LeakCanary\ufe55 In com.qmpos:1.1:1.\n    * com.qmpos.activity.LoginActivity has leaked:\n    * GC ROOT thread com.android.volley.CacheDispatcher. (named 'Thread-206')\n    * references com.network.GsonRequest.mListener\n    * references com.activity.LoginActivity$1.this$0 (anonymous class implements com.android.volley.Response$Listener)\n    * leaks comactivity.LoginActivity instance\n    * Reference Key: de381c14-b0f9-40eb-a8c6-e7da793874c5\n    * Device: Genymotion generic Motorola Xoom - 4.1.1 - API 16 - 1280x800 vbox86tp\n    * Android Version: 4.1.1 API: 16\n    * Durations: watch=5019ms, gc=113ms, heap dump=136ms, analysis=6189ms\n09-08 03:08:35.825  24385-24666/com.qmpos E/LeakCanary\ufe55 Leak result dropped because we already store 7 leak traces.\nI think the same issue.\n. ",
    "imliujun": "Encountered in the course of a problem version 1.0.19\nD/LeakCanary: In\n                                                            * GC ROOT thread com.android.volley.CacheDispatcher. (named 'Thread-20126')\n                                                            * references java.util.concurrent.PriorityBlockingQueue.queue\n                                                            * references array java.lang.Object[].[0]\nDevice\uff1aSM-G7106\nAndroid Version\uff1a4.3\nProblems appeared in version 1.0.19\n. ",
    "ashishsakarkar2020": "This is the connection time out log...\n09-30 12:03:45.909: W/System.err(11229): org.apache.http.conn.ConnectTimeoutException: Connect to /66.96.149.1:80 timed out\n09-30 12:03:45.910: W/System.err(11229):    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\n09-30 12:03:45.911: W/System.err(11229):    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\n09-30 12:03:45.911: W/System.err(11229):    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\n09-30 12:03:45.912: W/System.err(11229):    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\n09-30 12:03:45.912: W/System.err(11229):    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:365)\n09-30 12:03:45.913: W/System.err(11229):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n09-30 12:03:45.913: W/System.err(11229):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n09-30 12:03:45.913: W/System.err(11229):    at com.loopj.android.http.AsyncHttpRequest.makeRequest(AsyncHttpRequest.java:146)\n09-30 12:03:45.914: W/System.err(11229):    at com.loopj.android.http.AsyncHttpRequest.makeRequestWithRetries(AsyncHttpRequest.java:177)\n09-30 12:03:45.914: W/System.err(11229):    at com.loopj.android.http.AsyncHttpRequest.run(AsyncHttpRequest.java:106)\n09-30 12:03:45.915: W/System.err(11229):    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:390)\n09-30 12:03:45.924: W/System.err(11229):    at java.util.concurrent.FutureTask.run(FutureTask.java:234)\n09-30 12:03:45.924: W/System.err(11229):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n09-30 12:03:45.927: W/System.err(11229):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n09-30 12:03:45.927: I/SurfaceTextureClient(11229): STC::queueBuffer fps:43.60, dur:1009.18, max:49.95, min:6.85\n09-30 12:03:45.929: W/System.err(11229):    at java.lang.Thread.run(Thread.java:838)\n. ",
    "mradzinski": "Why would a REST endpoint (assuming you are using one) accept repeated parameters? I mean, my guess is that the REST should be better implemented to support something like: \nhttp://your-rest.com/whatever?like=music,art,culture,blah,blah,blah\nDo you mind providing some more insight on what you are trying to accomplish by duplicating request parameters?\n. ",
    "yunair": "Because  REST endpoint accept them as array, \nSend request like below.\nhttp://stackoverflow.com/questions/3061273/send-an-array-with-an-http-get \n. ",
    "ttkk0000": "when all the requests has the same cacheKey, the Cache is unvailable, and the delay time is enough long, a request is after the foregoing request have successfule response to be send out, when the request's response is returned , the new mBatchedResponses cachekey will cover the old. as a result, only one imageview is setted, others are default images.\n. \n\n. the above pictures(the first is the issue, the second one is the normal situation) show that: the last request's returned batchresponse covered the old cachekey and result to the first picture's situation.\n. ",
    "mmanishh": "volley doesn't support patch method you can use extend Okhttp by making custom request  to support patch or instead use Put\n. ",
    "ayltai": "In your case you have to implement your custom Request because it is not possible for Volley to provide endless combinations of different Request/Response pair.\n. ",
    "MahdiPishguy": "Thanks sir, but i can resolve this problem\n```\npublic class RetreiveData {\npublic static final String TAG = RetreiveData.class.getSimpleName();\n\npublic static void POST(String localhost, final HashMap<String, String> params, final Listeners.ServerResponseListener listener) {\n    StringRequest post = new StringRequest(Request.Method.POST, localhost, new Response.Listener<String>() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                if (listener != null)\n                    listener.onResponse(response.toString());\n                else\n                    Log.e(TAG, \"Error: SetServerResponse interface not set\");\n            } catch (Exception e) {\n                e.printStackTrace();\n                Log.d(\"Error: \", e.getMessage());\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Log.d(\"Error: \", error.toString());\n        }\n    }) {\n        @Override\n        protected Map<String, String> getParams() throws AuthFailureError {\n            Map<String, String> map = params;\n            return map;\n        }\n\n        @Override\n        public RetryPolicy getRetryPolicy() {\n            setRetryPolicy(new DefaultRetryPolicy(\n                    5000, DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            return super.getRetryPolicy();\n        }\n    };\n    ApplicationController.getInstance().addToRequestQueue(post);\n}\n\n}\n```\n. ",
    "yigityuksel": "Is your token on the header of post  ? \n. ",
    "rangamramesh": "Thank you Sir\nI am Getting error at Listeners.ServerResponseListener and tell me what i need to pass here\n. ",
    "alexwang3322": "there has a constant named DEFAULT_POOL_SIZE in BasicNetwork, I think you should try to find a way to change its' value, make it more so you can handle in that request.\n. ",
    "bearprada": "yap, but it will get the same error when using more memory, right?\n. ",
    "bacy": "Log.e(\"TIMING\", \"onResponse took: \"+(System.currentTimeMillis()-now2)+\"ms\" );\nhow long does it take?\n. try to use JsonArrayRequest\n2016-01-20 21:54 GMT+08:00 Marcelo Vitor F. Menezes \nnotifications@github.com:\n\nHi, I'm trying to post a JSON object to my backend (rails) but the array\nparam of my object is sending as String and not as a JSON array:\n{\n\"is_delivered\": true,\n\"group_id\": \"569e6d287d0d6d343000000e\",\n\"orders_list\": \"[{\\\"name\\\":\\\"Mark\\\",\\\"active\\\":true},\n{\\\"name\\\":\\\"Joana\\\",\\\"active\\\":true}]\"\n}\nNotice that my array are sending in quotes \"[...]\" and not as a JSON array\n[...], so my backend doesn't understand it as an array but as a String and\nit doesn't work as expected.\nOn the backend API side, I don't wanna ask them to change their api to\nsupport it as String and not Json, once it will drive us to a poorly api\ndesign.\nIs there a way to send it as a real JSON Array? Is it a problem only with\nVolley lib?\nps.: I'm new in the android dev\nps2.: I've googled it but didn't found any answer that addresses this\nissue.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/mcxiaoke/android-volley/issues/135.\n. \n",
    "WasimMemon": "@CJstar\nYes,\nIt appends numbers with url so when i want to retrieve data it always return null because i try to get it without prefix.\nAt run time i don't know what prefix it will append so ?\nI know about this because i have checked cache file using root explorer.\n. ",
    "mikylucky": "Had same problem as @WasimMemon, @mcxiaoke is correct!\n. ",
    "bdaykid": "Sorry, found the answer in the ImageRequest.java. tq.\n. ",
    "Nivl": "See #92\n. ",
    "fairytale2016": "```\n/* The default socket timeout in milliseconds /\npublic static final int DEFAULT_TIMEOUT_MS = 2500;\n/* The default number of retries /\npublic static final int DEFAULT_MAX_RETRIES = 1;\n/* The default backoff multiplier /\npublic static final float DEFAULT_BACKOFF_MULT = 1f;\n```\ntry it like this below\uff1a\n request.setRetryPolicy(new DefaultRetryPolicy(60000, DefaultRetryPolicy.DEFAULT_MAX_RETRIES, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n. I  set retryPolicy before add(request) \uff0cand findits useful for my Android application \uff0cIm really want to help u more but I dont know Volley well\uff0cbut I find something at a blog in my country that maybe useful for your problem\uff1a\nTimeout - Specifies Socket Timeout in millis per every retry attempt. \nNumber Of Retries - Number of times retry is attempted. \nBack Off Multiplier - A multiplier which is used to determine exponential time set to socket for every retry attempt. \nFor ex. If RetryPolicy is created with these values\nTimeout - 3000 secs, Num of Attempt - 2, Back Off Multiplier - 2 \nAttempt 1:\ntime = time + (time * Back Off Multiplier ); \ntime = 3000 + 6000 = 9000 \nSocket Timeout = time; \nRequest dispatched with Socket Timeout of 9 Secs \nAttempt 2:\ntime = time + (time * Back Off Multiplier ); \ntime = 9000 + 18000 = 27000 \nSocket Timeout = time; \nRequest dispatched with Socket Timeout of 27 Secs \nPS\uff1aI am not good at En\uff0cHope \u4f60\u80fd\u89e3\u51b3\u4f60\u7684\u7591\u95ee(\u5b9e\u5728\u4e0d\u4f1a\u4e86 :))\n. no 3Q :)\n. request.setRetryPolicy(new DefaultRetryPolicy(30000,1,1f));\n. request.setRetryPolicy(new DefaultRetryPolicy(30000,1,1f));\nrequestQueue.add(request);\nWhen a timeout error  occurs, the retrypolicy will execute\uff0cIn addition, you need to do what you want to do manually \n. ",
    "mamatagelanee07": "Hello,\nPlease read below question on stackoverflow carefully : \nhttp://goo.gl/F8d049\nI have already tried solution you suggested. And again issue is if i set timeout to 120 seconds, then why volley throwing timeout before 120 seconds ?\nThanks for Reply.\n. Hi fairytale2016,\nIssue not solved but thanks for your help.\n. ",
    "itsrts": "This can be fixed by making some minor changes in the Volley library.\nWe have done this in many of our projects by making some enhancements in the Request, HurlStack (as our projects target > API 9) and BasicNetwork java files. We would love to contribute it back but not sure how to proceed. BTW you may contact me at rextechnosolutions@gmail.com (Better if I can get a way to make it available publicly)\n. ",
    "matteinn": "@fairytale2016 Hi! You mean that I should set the retrypolicy right before adding the request to the queue for the (let's say) second time?\n. ",
    "hoseinit": "I also want to completely disable LOGs in release mode, I can't achieve it by using \nVolleyLog.DEBUG = false; \nplease Help me.\n. ",
    "INRIX-Owais-Ali": "I posted a bug in the Android issue tracker: https://code.google.com/p/android/issues/detail?id=196664\nAlso put up a patch to fix the issue but it hasn't gotten looked at yet.\n. ",
    "jiancao": "@chaozaiai \nuse the latest version\n. ",
    "awhgwqpeogh": "@jiancao  1.0.19 is the latest version? how to fix this?\n. ",
    "3pehrbehroozi": "knock knock\nno one's here :|\n. Hey there\nYes I've fixed that in a clone of this repository\nHere is the address :https://github.com/3pehrbehroozi/android-volley\n. Hi.\nI don't think that's an issue, cause we should handle URL parameters ourselves but it would be nice to put such capability\n. Hi\nyou can use this:\nyourRequest.setRetryPolicy(new DefaultRetryPolicy());\nthis will set timeout to 2500ms, maxRetries to 0 and backoffMultiplier to 1.0f.\nyou can customize retry policy with the other constructor\nyourRequest.setRetryPolicy(new DefaultRetryPolicy(initialTimeoutMs, maxNumRetries, backoffMultiplier));\n. ",
    "Achill-M": "Hi, man. Did you fix that?\n. Thx, man. I saw it)\n. ",
    "brook19": "Ok!\n. ",
    "scottlahay": "Cool, thanks Joe\n. ",
    "super-hu": "+1  Solve it\uff1f\n. ",
    "Boehrsi": "Also encountered this leak.\nVolley Version: 1.0.19\nDevice: Nexus 5\nAndroid Version: 6.0.1\n. ",
    "basmasrour": "No answers!!\n@r0boto did you find answer? please help\n. ",
    "ghtijam": "i have same issue too.... plz help us\n. ",
    "ajaykarthikr": "Did you get an answer?. ",
    "S-Masoud-Emamian": "I solved this problem by this way:\n    RequestQueue queue = Volley.newRequestQueue(context);\n    queue.getCache().clear();\n    StringRequest myReq = new StringRequest(Request.Method.POST,\n            VolleyConnector.url,\n            createMyReqSuccessListener(),\n            createMyReqErrorListener()) {\n\n        protected Map<String, String> getParams() throws com.android.volley.AuthFailureError {\n            Map<String, String> params = new HashMap<String, String>();\n            params.put(\"Cn\",\"1\");\n            params.put(\"Yr\",\"1396\");\n            params.put(\"MaxInPage\",\"10\");\n            params.put(\"Method\",\"Control_Vaziat_View\");\n            params.put(\"Pg\",\"1\");\n            return params;\n        };\n    };\n    myReq.setShouldCache(false);\n    queue.add(myReq);.\n",
    "ashiqmuhammed": "hope this code will help you, but am not sure\nRequestQueue queue = new RequestQueue(new NoCache(), new BasicNetwork(new HurlStack()));\n  . ",
    "ibu2710": "yes facing the same issue. did you find the answer. anyone found the solution. VitaliPekelis where to add this...\ndoes it solve the issue originally\nI implemented this... Will it help me ... please suggest me i am in a hurry\nI will be more thankful. ",
    "VitaliPekelis": "i have the same  issue. This is work for me.\n`public class MyRetryPolicyWithoutRetry implements RetryPolicy\n{\n    @Override\n    public int getCurrentTimeout()\n    {\n        return CONNECTION_TIME_OUT; /200000/\n    }\n@Override\npublic int getCurrentRetryCount()\n{\n    return 0;\n}\n\n@Override\npublic void retry(VolleyError error) throws VolleyError\n{\n    throw(error);\n}\n\n}`\nrequest.setRetryPolicy(new MyRetryPolicyWithoutRetry());\n. ibrahim-appgodz, \nfor me it solve the issue... setRetryPolicy to your request ... \ncom.android.volley.Request.setRetryPolicy(new MyRetryPolicyWithoutRetry());\n. ",
    "jikun2008": "3q  for it   i  already use retrofit2   . ",
    "MASARY": "update the branch\n. ",
    "aipok": "Already fixed\n. Already fixed. \n. ",
    "crossle": "same problem\n. ",
    "ben-j69": "Still occur a lot...\n. ",
    "ultrabuckner": "could you guys share the way of implementing the volley\n. ",
    "phinatic": "This has become a huge issue for our application. We are only initializing a single volley queue and are seeing this during some app startups. The error is unrecoverable and results in the user having to clear data or uninstall the app. Nowhere do we request or a GB of allocation. I am convinced it is another manifestation of a bug reading the header. Any guidance would be greatly appreciated.\nException java.lang.OutOfMemoryError: Failed to allocate a 1701651079 byte allocation with 4632116 free bytes and 249MB until OOM\ncom.android.volley.toolbox.DiskBasedCache.streamToBytes (DiskBasedCache.java:323)\ncom.android.volley.toolbox.DiskBasedCache.readString (DiskBasedCache.java:541)\ncom.android.volley.toolbox.DiskBasedCache.readStringStringMap (DiskBasedCache.java:563)\ncom.android.volley.toolbox.DiskBasedCache$CacheHeader.readHeader (DiskBasedCache.java:404)\ncom.android.volley.toolbox.DiskBasedCache.initialize (DiskBasedCache.java:157)\ncom.android.volley.CacheDispatcher.run (CacheDispatcher.java:84). ",
    "hrsalehi": "Accidently I found out that If I clear the volley cache getParams() method called. But what If I want to call a paged service like above and I want to send page numbers by post request?\n. ",
    "chineizo": "I'm experiencing the same issue. Do you think clearing the getParam() map is the solution to this situation? I tried to use JsonArrayRequest that has JSONArray for the post parameters but my webservice is not able to extract the parameters. So I want to go back to using StringRequest instead and clear the getParams cache like you hinted\n. ",
    "JChudasama": "Same kind of issue facing on a simple StringRequest. Weird Problem. \n. @jfernandojr  can you test by setting HEADERS in the following way\n@Override\n            public Map<String, String> getHeaders() throws AuthFailureError {\n                Map<String, String> params = new HashMap<>();\n                params.put(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                return  params;\n            }\nor you need to Override the \"getBodyContentType()\" as you're using JSON request\n. You need to authorise the request you're sending. Put your login credentials in Header Params. \nYou can also check on REST client 1st too.\n. Try something like this way\n@Override\n      public Map<String, String> getHeaders() throws AuthFailureError {\n        Map<String,String> headers = Constants.getHeaders(context);\n        // add headers <key,value>\n        String credentials = USERNAME+\":\"+PASSWORD;\n        String auth = \"Basic \"\n                + Base64.encodeToString(credentials.getBytes(),\n                Base64.NO_WRAP);\n        headers.put(\"Authorization\", auth);\n        return headers;\n      }\n. ",
    "jfernandojr": "@JChudasama I messed up on DevicesUserRequest () method.\nThe correct code is as follows:\npublic class DevicesUserRequest extends JsonArrayRequest {\n```\nprivate static final String Protocol = \"http://\";\nprivate static final String Host = \"192.241.251.229\";\nprivate static final String Port = \"8080\";\nprivate static final String FullHost = Protocol + Host + \":\" + Port;\n//    private static final String sUrl = \"http://gogps.com.br/gogps-rest/api/device/getDeviceUser\";\nprivate static final String sUrl = FullHost + \"/Webservice/api/device/getLastInfDevice\";\npublic DevicesUserRequest(JSONObject object, Response.Listener listener,\n                           Response.ErrorListener errorListener) {\n     super(sUrl, object, listener, errorListener);\n  }\n@Override\n  public Map getHeaders() throws AuthFailureError {\n      Map headers = new HashMap();\n      headers.put(\"Content-Type\", \"application/json\");\n      return headers;\n  }\n }\n```\nNotice that the only change was in the last url.\nNow I got the following error:\nBasicNetwork.performRequest: Unexpected response code 401 for http://192.241.251.229:8080/Webservice/api/device/getLastInfDevice\n02-15 20:35:18.754 11064-11064/? E/br.com.viprastreamento.rastreamento.ListaVeiculos: Look mistake here!\n                                                                                      com.android.volley.AuthFailureError\n                                                                                          at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:171)\n                                                                                          at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:114)\n. I left my head as follows:\n@Override\npublic Map<String, String> getHeaders() throws AuthFailureError {\n    Map<String, String> headers = new HashMap<String, String>();\n    headers.put(\"Content-Type\", \"application/json\");\n    headers.put(\"imei\", \"459710040904196\");\n    headers.put(\"acao\", \"pos\");\n    return headers;\n}\nBut the problem still remains.\n. thus does not satisfy me.\nI have a method that makes login and password to the server.\nThis method returns me a key that was called IMEI.\nSo nessse process I want to do, I have to connect through the imai and the command as a parameter, being as follows:\n.put(\"imei\", \"459710040904196\");\n   .put(\"acao\", \"pos\");\nI managed to implement a class in eclipse using the same parameters and functioned normally.\nBut in Android Studio, I'm having trouble.\n. ",
    "samtstern": "@mcxiaoke thank you!\nI know that over the years you have taken in patches to Volley through this repository.  If you'd like to discuss putting some of them into AOSP let me know.  Your maintenance of this repo over the years is very much appreciated and we'd value your input.\n. ",
    "peshkira": "I can only agree. I don't believe this lib should be deprecated. The \"official\" seems to be rather old. The ImageLoader for example does not include the makeImageRequest method, which was introduced in 2014 if I am not mistaken: https://android.googlesource.com/platform/frameworks/volley/+/6c8ba96246e9c1f0056341d9f1d16208489ba555%5E%21/\nPlease reconsider maintaining the lib.\n. ",
    "picachugame001": "OK, I've  fix it, Sory\n. ",
    "ShanZha": "Yes, how to use the https?. ",
    "643435675": "sorry, we should uses the okhttp  or other netrequest to pass the web.. \u4f60\u5e94\u8be5\u5347\u7ea7\u5230\u6700\u65b0\u3002\n. you should improve the ssl \uff0c\u8bf4\u767d\u4e86\uff0c \u4f60\u5347\u7ea7\u4e00\u4e0b\u5230\u6700\u65b0\u7684\u7248\u672c\u3002. ",
    "ciamine": "same problem. ",
    "rayanmestiri": "Volley doesn't support parameters with DELETE.\nI don't know why exactly, it seems to be a design decision.\n. ",
    "abdymm": "Delete is worked, but the body must empty and paramater place in url\n thankyou @rayanmestiri  . ",
    "habeebrahmanpt": "i getting same issue \nError:Execution failed for task ':app:transformClassesWithJarMergingForDebug'.\n\ncom.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: com/android/volley/Request$Priority.class.  headers.put(\"Content-Type\", \"application/json; charset=utf-8\");. \n",
    "heartandsoul": "can you please check my gardle file? i have the same problem\n What went wrong:\nExecution failed for task ':app:transformClassesWithJarMergingForRelease'.\n\ncom.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: com/android/volley/Request$Priority.class\n\nMy gardle file:\napply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion '25.0.0'\ndefaultConfig {\n    applicationId \"com.heartandsoulcafe.heartandsoul\"\n    minSdkVersion 19\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n    multiDexEnabled true\n}\nconfigurations {\n    all*.exclude group: 'com.android.volley', module: 'volley:volley'\n    all*.exclude group: 'com.mcxiaoke.volley', module: 'volley:library-aar'\n}\n\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\nsourceSets { main { assets.srcDirs = ['src/main/assets', 'src/main/assets/2'] } }\n\n}\ndependencies {\n    compile project(':picasso-2.5.2')\n    compile project(':GenAsync')\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.4.0'\n    compile 'com.android.volley:volley:1.0.0'\n    compile 'com.mcxiaoke.volley:library-aar:1.0.1'\n    compile 'com.android.support:design:23.4.0'\n    compile 'com.android.support:support-v4:23.4.0'\n    compile 'com.google.android.gms:play-services-appindexing:9.6.1'\n    compile 'com.google.android.gms:play-services:9.6.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-alpha9'\n    compile 'com.android.support:multidex:1.0.1'\ntestCompile 'junit:junit:4.12'\n\n}\n. ",
    "ThathaPavanNagaraju": "This issue occurs basically if there are duplicate libraries in two or more dependencies,\ncompile project(':picasso-2.5.2'){\ntransitive = true;\n} \ncompile project(':GenAsync'){\ntransitive = true;\n}\nif this doesn't work see which of these above two dependencies uses volley and try to exclude that volley library during building gradle. . ",
    "adityagoel19": "Hi,\nWere you able to find any solution for this?. ",
    "ejChathuranga": "The Same error appears on me too. My build.gradle dependencies are \ncompile 'com.parse:parse-android:1.11.0'\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    androidTestCompile 'com.mcxiaoke.volley:library:1.0.18'\n    compile project(\":volley\")\n    compile 'com.mcxiaoke.volley:library:1.0.18'\nWhen we remove compile 'com.mcxiaoke.volley:library:1.0.18 it compiles and runs without any error. But we can't get the output as we want. What would be the issue?. ",
    "Dave-Algorism": "Not working for me. My issue is, where did u get params in (params != null) ? new JSONObject(params) : null from? I have followed your code to solve this exact problem. Also, what about \n@Override\n            protected Map getParams() throws AuthFailureError {\n                // Posting parameters to login url\n                Map params = new HashMap<>();\n                params.put(\"email\", mEmail);\n                params.put(\"password\", mPassword);\n              return params;\n        }\n\nfor example?. ",
    "israilbony": "Thank you great code boss. ",
    "emreturgut": "```\n@Override\n            protected Map getParams() throws AuthFailureError {\n                HashMap params = new HashMap<>();\n                params.put(\"validator\", \"afe13Rg78#*Agy\");\n                params.put(\"userId\", String.valueOf(GlobalFunction.getCurrentUserId()));\n                params.put(\"token\", GlobalFunction.getCurrentToken());\n            return params;\n        }\n\n```\nyou can write like this. ",
    "4sskick": "great! thank you for your solution, it works to me. ",
    "xesam": "perhaps you should use volley source directly from  https://android.googlesource.com/platform/frameworks/volley. ",
    "kiwionly": "Too bad I found that this fork is far updated and more bugs fixed then\nofficial Google version.\nI had post a question to official volley from Google to notice the bugs and\nit fixed, some how no one reply since then.\nOn Mar 23, 2017 6:34 PM, \"xesam\" notifications@github.com wrote:\n\nperhaps you should use volley source directly from\nhttps://android.googlesource.com/platform/frameworks/volley\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/mcxiaoke/android-volley/issues/174#issuecomment-288678615,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAKqGRvsQ9XobiLZwBALGAf5JyXhqTH1ks5rokq0gaJpZM4MTqdG\n.\n. \n",
    "hljwang3874149": "\u8fd9\u4e2a\u8fd8\u662fissue\u5417\uff1f \u4f60\u81ea\u5df1\u5148\u770b\u4e0bvolley\u4ee3\u7801\uff0c\u9ed8\u8ba4\u8bbe\u7f6e\u7f13\u5b58maxsize\u4e3a-1 \uff0c\u4ee3\u8868\u4e0d\u4f7f\u7528\u7f13\u5b58\u3002\u5982\u679c\u6253\u7b97\u4f7f\u7528\u7f13\u5b58\u4f7f\u7528\u4f7f\u7528newRequestQueue(Context context, int maxDiskCacheBytes)\u3002. ",
    "black-lotus": "Solved, in https mode\ni just have to remove \"/\" from the last character. "
}