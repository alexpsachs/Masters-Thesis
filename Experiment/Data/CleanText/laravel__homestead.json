{
    "jspekken": "You have to run the vagrant halt command from the folder where homestead is installed.\n. Nginx can find the directory and the Laravel installation because the Laravel logo is shown. But if I create a new route like this: \nRoute::get('/test', function () {\n    return 'this is the test route';\n});\nand I browse to that route /test I get that error.\n. That did not do the trick :)\n. Ok, I fixed it.\nThe problem was that the Laravel instance was somewhere placed inside the directory where the sites folder is mapped to instead of just the root directory.\nMy bad\n. ",
    "mdurao": "The above shows information about all known Vagrant environments\non this machine. This data is cached and may not be completely\nup-to-date. To interact with any of the machines, you can go to\nthat directory and run Vagrant, or you can use the ID directly\nwith Vagrant commands from any directory. For example:\n\"vagrant destroy 1a2b3c4d\"\n. Yes, Taylor, apparently doesn't work with global commands.\nNot a deal breaker, but sometimes annoying.\n. Attempt fix in #14 \n. ",
    "taylorotwell": "Apparently doesn't work with the new global commands?\n. You shouldn't really use a domain like that in Homestead I don't think.\n. We're fixing this :)\n. What configs etc are you trying?\u2014\nSent from Mailbox\nOn Fri, May 16, 2014 at 8:41 PM, Shealan Forshaw notifications@github.com\nwrote:\n\nI'm still having trouble. Just installed and setup Homestead but can't get my app to connect to mySQL using either root or homestead usernames. Both work fine when I am SSH'd into the box.\nReply to this email directly or view it on GitHub:\nhttps://github.com/laravel/homestead/issues/5#issuecomment-43392584\n. Merged another pull that included this as a feature.\n. Done by another PR.\n. See github.com/laravel/settler\n. Could be cool indeed.\n. Pull request open for this so closing.\n. Does Ruby provide us any facilities to inspect the number of CPU cores available and auto set it?\n. I know. What I\u2019m saying is does Ruby let us introspect the current hardware and determine the max number of processors so we can just set it automatically?\n\nOn May 19, 2014 at 7:42:28 PM, Antonio Carlos Ribeiro (notifications@github.com) wrote:\nThis is not for Ruby configuration, it's VirtualBox's Homestead VM. You can tell it how much processors and memory Homestead can use from the concrete host, usually I use 4 processors, which makes the machine fly.\n\u2014\nReply to this email directly or view it on GitHub.\n. Done by another pull.\n. Fine with me if it works. :)\n. I am going to convert the laravel installer into a global composer install like Envoy and then I will do this.\n. Probably will keep it bash since everyone is used to that.\n. Closing as there is a PR for similar functionality.\n. I don't really like the \"type\" syntax. Would have a \"mysql\" and \"pgsql\" top level keys.\n. Sure, can be added at laravel/settler repository. That script builds the homestead box.\n. Sure.\n--\u00a0\nTaylor Otwell\nSent with Airmail\nOn May 19, 2014 at 6:47:14 PM, Jason P. Scharf (notifications@github.com) wrote:\nDo you want me to create a pull request?\n\nJason P. Scharf\nSent from my iPhone\n\nOn May 19, 2014, at 7:29 PM, Taylor Otwell notifications@github.com wrote:\nSure, can be added at laravel/settler repository. That script builds the homestead box.\n\u2014\nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHub.\n. Fine with adding to docs as needed.\n. Added it to settler so it ships in the next Homestead update.\n. Yes, I'm fine with this. PR can be made to laravel/settler\n. See Virtualization BIOs tweak mentioned above.\n. Sure, feel free to add this to your file as needed.\n. You can make a PR at laravel/settler\n. You can include it by making a PR to laravel/settler\n. You should be running serve on a project that already exists.\n. If you have a fix to prevent this please PR.\n. I'm not sure what to do. If you have a fix please make a PR. :)\n. Yeah probably should be done in the YAML file.\n. As far as I know this isn't necessary anymore since the YAML file lives outside of the Homestead directory.\n. No plans to add support for this.\n. Closing in favor of #76 \n. Is this the recommended way? docs?\n. Let's just have these options configured more sensibly default instead of having options here.\n. IMO would be better to just configure these options to something more sensible by default.\n. Not sure running crons locally is that common... would recommend using new after.sh script to echo something into /etc/crontab\n. Honestly I don't recommend using Git from inside the Homestead box. Use Git on your host machine.\n. See above. Can use new after.sh script to add this if you want.\n. How do you create Postgres databases?\n. I might do something like:\n\ndatabases:\n     mysql:\n          - foo\n          - bar\n     postgres:\n          - foo\n          - bar\n. Let's rename the script to after.sh... sounds less technical.\n. NFS has the problem of files delaying to update on the guest, which is equally annoying as the slowness honestly.\n. Fixed this for you. This is Symfony commands not Laravel. :)\n. homestead up --provision\n. The code that is present is correct.\n. Fixed by another PR.\n. See recently added provision command.\n. Homestead is designed for Ubuntu.\n. Sorry misunderstood original PR\n. What is the client ID and token?\n. \u200bThe word \"client\" appears once on that page and has nothing to do with\nclient IDs or tokens.\u200b\nOn Fri, Jan 23, 2015 at 1:48 PM, Graham Campbell notifications@github.com\nwrote:\n\nhttps://blackfire.io/doc/configuration\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/144#issuecomment-71253699.\n. Honestly I found homestead share to be a pain in the rear especially when hosting multiple sites on one box. www.meetfinch.com works much better for Homestead's use case.\n. Designed to work with bash.\n. Designed for virtualbox.\n. Yeah, don't like the hard-coded CSR stuff and all that. Also seems like you could just redirect to the 443 server instead of duplicating blocks.\n. Don't want to complicate things.\n. I'm curious why the variable is put in $_ENV but then referenced out of $_SERVER?\n. This breaks running \"vagrant box update\" from the cloned Homestead repository if you are not using the PHP \"homestead\" helper.\n. @joshfng thoughts on this?\n. Wait, so you don't even actually use workstation? Then why are we adding this? :)\n. Ah. Well we'll let someone who has workstation do this when the time comes since we can't test it.\n. I think things are OK as is.\n. Why no stable?\n. Ah I guess that's the default :)\n. Why do you need to put the client ID and token here?\n. I don't like sid and cid. Can we just name them server-id and client-id\n. Where is this in the Blackfire documentation? I can't find it.\n. Actually let's just leave the server IDs as id and token otherwise it will be a breaking change, then use client-id and client-token.\n. Done by another PR.\n. I hate to say it but this is just so much to maintain I would rather avoid it.\n. These can be added to your own aliases file.\n. So in usage it would look like ssl: true in your site declaration?\n. When I test this I'm getting the following Nginx error:\n\n```\n400 Bad Request\nThe plain HTTP request was sent to HTTPS port\n```\n. Nevermind. Helps if you put HTTPS in your browser address bar. :smile: :heart:\n. My main question here is should we just allow \"ports\" in general to be configured, and not lock people down to these specific ports. So, basically, allow a ports \"to\" and \"from\" setting.\n. I was thinking basically like the example @dbpolito provides. But, yes, I'm not sure how to do that without a breaking change. I'm going to close this for now as I think the PR would take a fairly different direction. But, it's something I'm interested in if we can figure out a way to do it without breaking backwards compatibility. Perhaps if no ports option is provided at all we can setup the default existing Homestead ports?\n. Needs re-basing.\n. Don't want to really have an opinion on how people share boxes.\n. Current PR breaks if \"ports\" is not defined in Homestead.yaml.\nhttp://d.pr/i/aATu/5XojvxDM\n. Fixed it for you.\n. Put this in your after.sh script for now. Thanks\n. I haven't seen this error?\n. Maybe you need to upgrade Vagrant? What version are you on?\n. Would rather not change this when I know it's working.\n. No input file specified just means the root web directory isn't setup correctly.\n. Gonna hold off on this for now.\n. Not at this time. Thanks\n. you don't need anything on the laravel command.\n. if you have laravel/homestead as a dependency of a laravel/laravel project, you will be able to access the bin via php vendor/bin/homestead... allowing you to use an install command to copy over some files.\n. This doesn't seem correct. We shouldn't be using $this->defaultName as a folder mapping because it's not always going to be an actual folder, especially if invalid characters were converted to dashes.\nYou should still be using $this->projectName there, but still wrapping it in quotes like you are doing.\n. Ah yeah that's true heh. I'll merge when I get home\nOn Friday, June 19, 2015, Svpernova09 notifications@github.com wrote:\n\nThe only path that has to be real on the host system is the Folder: Map:\npath. That still uses $this->basePath and for the mapping of that path to\ninside the vagrant, we use $this->defaultName\nExample:\n[image: image]\nhttps://cloud.githubusercontent.com/assets/967362/8264412/66628fae-16ab-11e5-9899-234a35c2af91.png\nYields:\n[image: image]\nhttps://cloud.githubusercontent.com/assets/967362/8264426/83f1a096-16ab-11e5-80e1-40e56b2b9deb.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/213#issuecomment-113664287.\n. I renamed this command to local.\n\nphp vendor/bin/homestead local.\n. I would be open to letting there be a \"after\" ruby hook.\n. Honestly the more I think about this people should just modify their Vagrantfile directly. There isn't any need for an extra file.\n. This is a preference thing. You can change it to whatever you wish in your own config file.\n. Just destroy the server and recreate it.\n. Going to hold off on this for now.\n. @joshfng does this right to you?\n. Closing this for lack of other reported issues here.\n. If things get more complicated we will consider this but since it is working now going to hold off.\n. OK I'll have to pull it down and test it.\n. Also it needs to be rebased apparently.\n. I definitely think \"make\" should probably just exit with a message if the\nfile exists so that it can't be run twice until the user deletes the\ncurrent file.\nOn Sun, Jul 5, 2015 at 11:53 AM, Svpernova09 notifications@github.com\nwrote:\n\nThe issue about duplicating names and hostnames on multiple make runs\nstems from the fact that we check if the yaml file exists before we copy\nit, when maybe we should overwrite it or we'd have to do some possibly\ngross things to update the variables.\nI'm fine with this if it covers the issues described & code style aligns\nwith the rest of the package.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/223#issuecomment-118638102.\n. I fixed this.\n. Better to be opinionated on these things. Less overhead to maintain.\n. I would suggest doing this in your own Vagrantfile.\n. We keep a separate file in case they diverge more.\n. I think you could just do *.domain.com.\n. Going to hold off on this.\n. There are a lot of CS problems I don't really have time to fix at the moment. I will try to list the ones I see off hand:\n- DocBlocks don't match rest of framework.\n- You have spacing in between concatenation operators.\n- Imports are organized by length.\n. You've tested this I assume?\n. Do we generate SSL certificates for non-SSL sites?\n. Re-opening so I can think about this more.\n. To me I would rather have a \"type\": \"symfony2\" or something like that so we can have \"type\": \"wordpress\", etc.\n. It actually does already allow symfony or symfony2.\n. I'm honestly not a big fan of this. It adds more noise to the configuration file for something that doesn't come up very often in the history of Homestead (this being the first time).\n. We would normally build the entire box file from the settler repo. That's the point since we don't want to run the whole provision script every time we boot up the box. However, I still prefer to keep it limited to VirtualBox and VMWare since those are the two I have access to.\n. This seems like a kind of heavy handed change for something pretty simple. Should the serve blocks just always allow wildcards?\n. I really don't want to clutter things with so many options.\n. Going to hold off on this and prefer to just have a default way to change the generated Nginx file used by Homestead.\n. Personally I think it would be better to just have a standard way to change the default generated nginx file by Homestead rather than bake-in this specific use case.\n. The basic idea of how I picture it working is having something like a ~/.homestead/nginx/server, ~/.homestead/nginx/symfony-server, etc... We would check for the existence of those files, and if they exist use their contents in the serve scripts.\n. Prefer to stick to the conventions we have.\n. I'm sorry I really don't want to get into supporting a lot of providers that I have no way of testing. :/\n. Going to hold off on this for now.\n. Sorry meant to comment but got distracted looking at something related and\nnow I'm not at home. Will come back to it\n\nOn Saturday, September 26, 2015, Yannik notifications@github.com wrote:\n\n@taylorotwell https://github.com/taylorotwell Close without a comment?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/264#issuecomment-143502403.\n. Latest Homestead has it.\n\nOn Thu, Oct 1, 2015 at 4:14 AM, Yannik notifications@github.com wrote:\n\n@taylorotwell Did you check this out?\nReply to this email directly or view it on GitHub:\nhttps://github.com/laravel/homestead/pull/264#issuecomment-144665645\n. Thanks <3\n. Sure.\n\nOn Thu, Oct 1, 2015 at 2:37 PM, David Rushton notifications@github.com\nwrote:\n\n:thumbsup: No problem! Do you want me to submit a PR on the laravel/docs?\nReply to this email directly or view it on GitHub:\nhttps://github.com/laravel/homestead/pull/265#issuecomment-144825314\n. Won't be included in the next version of Homestead. We prefer and document the basic vagrant commands instead of using PHP helpers.\n. Check out the Laravel installer in the docs. :)\n. Do agree this is probably more of a laravel/settler thing.\n. Hmm, I think it's OK.\n. I agree that this is helpful but just don't want to open the door to a lot more alias PRs. :smile:\n. We're sort of shying away from these Homestead commands overall because they are a little more magical and it's not clear to many people how they are actually working.\n. Going to hold off on this.\n. That might not be exactly correct depending on what port they are using.\n. We're deprecating all these commands. I don't want to rebuild the Vagrant CLI in PHP.\n. Wouldn't this be a breaking change? Did we just have it wrong to begin with?\n. Deprecating soon.\n. It seems to affect me and I don't have the plugin: http://d.pr/i/17l5R/1057RV2e\n. Going to hold off on this as it will create many more support requests.\n. Indeed can be set in the YAML file.\n. The php-7 branch will soon be merged into master branch.\n. Going to hold off on this for a bit.\n. Going to hold off on this.\n. Going to hold off on this. I prefer to keep Homestead fairly opinionated. Sorry :/\n. It will be installed on the next settler release. I will build it today.\n. Going to hold off on this for now.\n. What do you use this for on Homestead?\n. So if you set one up for redis-commander what does that then allow you to do? Sorry just trying to understand the use case.\n. Heh, that's kinda neat.\n. Nothing seems to be broken at the moment.\n. So is this different than just removing the ports from the configuration?\n. Personally I think this should maybe be called port_forwarding: false / true instead of default_ports: false\n. I do worry this will break quite a few people's migrations which use a default string length of 255 and if I recall correctly the maximum length for a utf8mb4 string index is in the 190s. This can probably be done when the default string size of Laravel string migration columns changes.\n. These should be two separate commits / PRs. \n. This can be changed in your own aliases file I believe.\n. Sure feel free to update it here.\n. Why not just use a wildcard subdomain which should already be be supported?\n. It causes errors if the plugin isn't installed. \n. I specifically didn't want to get into modifying the VagrantFile. Would rather just have two files.\n. Holding off on this.\n. Thanks!\n. Interesting. Didn't know you could do this. Thanks!\n. I would just make it the default. No need to introduce a new configuration option.\n. Going to hold off on setting up supervisor in dev. Typically would just run queue workers in console window.\n. Done.\n. You can use the existing mount_options variable for this I believe.\n. Can we figure out what HHVM is uninstalled when MySQL is and somehow just prevent that from happening in the first place?\n. I don't want to \"re-install HHVM\", I want to not remove it in the first place.\n. Holding off on supporting this in Homestead for now.\n. Ping me when updated :). Couldn't we just have like symfony and symfony_dev blocks be separate site types?. I would be more interested in moving that direction rather than this approach.. Hmm, I'm not sure it's totally typical to use Git inside of the virtual machine. Thanks though!. Will cause problems until Laravel 5.4 is released I believe since the default string length is 255.. This removes unrelated code.. I'm not sure we should even be supporting Apache. I know nothing about it and it's not supported on Forge or Valet.. AFAIK nothing is broken in this area.. We don't accept PRs without full descriptions. Please resubmit with a full description and example of the feature.. I don't want Homestead to be touching the hosts file.. I basically agree with @svpernova09. Every time we have tried to manage the hosts file within Homestead it has had to be reverted and I find it simpler to just use Gasmask or even edit the host file manually.. I found 4 more readable.. No plans on adding all of this.. Apparently we need this.. Is this ready or not?. Shouldn't have a trait just called \"Slug\".. it should be something like GeneratesSlugs, etc.. Would like to see support for this for sure. Will play with it as well.. Is there a spacing issue here?\n. No need to wrap this in parens.\n. These should probably stay $_SERVER since that is what they were before.\n. If it ain't broke don't fix it.\n. Why would we use ~/.composer here? Wouldn't we just use the project's composer/vendor/ directory?\n. It seems like this would still require Homestead to be installed globally.\n. But it seems like just by changing that line to use /vendor/laravel/homestead you could eliminate the need to have Homestead globally installed.\n. I think we're kinda thinking about this in two different ways. I'm saying for the local version you should have \"laravel/homestead\" as a composer dependency of your main laravel app.\n. Indentation is off here.\n. Why this change? Default homestead is already on PHP 7.\n. Hmm, ok :)\n. I believe there is a way in Bash to just expand out all arguments instead of limiting it to the first 2.\n. \n",
    "hakanersu": "I had same errors , did you create full path in your /home/vagrant/Code directory ? If nginx cant find directory that error occurs.\n. Can you check /etc/nginx/sites-available/yourhost.dev and change \nserver_name yourhost.dev;\nto \nserver_name yourhost.dev *.yourhost.dev;\n. Can you try ;\n'username' => 'root',\n'password' => 'secret'\n. Alternatively you can add  homestead@localhost\nJust login mysql with root/secret\nmysql -u root -p\nCREATE USER 'homestead'@'localhost' IDENTIFIED BY 'secret';\nGRANT ALL PRIVILEGES ON * . * TO 'homestead'@'localhost';\nFLUSH PRIVILEGES;\n. :+1: \n. ",
    "kwolniak": "The same issue here.\nWindows 8 x64\nVirtualBox 4.3.10\nVagrant 1.6.2\n. Thanks @AnthonyPorthouse \nChange to \"LF - Unix and OS X (\\n)\" line separator helped.\n. :+1: \n. ",
    "AnthonyPorthouse": "I received the same issue last night, try ensuring all files are saved with Unix line endings.\n. :+1:\n. ",
    "ingro": "Yup that did the trick! Thanks @AnthonyPorthouse \n. ",
    "stidges": "You can also do this from the command line on Windows by running dos2unix scripts/serve.sh\n. ",
    "LimeBlast": ":+1: \n. :+1: \n. Thank you @enrichit - I don't specifically need it myself, I just think it would be a useful feature (and would mimic various hosts, such as Fortrabbit) :)\n. :+1: \n. ",
    "johannesfosseus": "Yes, that works fine, did not find that in the docs. Thank you!\n. ",
    "shealan": "I'm still having trouble. Just installed and setup Homestead but can't get my app to connect to mySQL using either root or homestead usernames. Both work fine when I am SSH'd into the box.\n. SQLSTATE[HY000] [2003] Can't connect to MySQL server on '127.0.0.1' (111)\nUsing config:\n'mysql' => array(\n        'driver'    => 'mysql',\n        'host'      => '127.0.0.1',\n        'database'  => 'beatnode',\n        'username'  => 'homestead',\n        'password'  => 'secret',\n        'charset'   => 'utf8',\n        'collation' => 'utf8_unicode_ci',\n        'prefix'    => '',\n    ),\nObviously trying to connect to my db here but can't connect to homestead db either. Both work fine when SSH'd or connecting via mapped port in SequelPro.\n. Aha. Just tried changing 127.0.0.1 to localhost and it works. Is that a bug or did I read the docs wrong?\n. ",
    "simondavies": "Yeah i'm getting the same issue when running the serve command. This is the actual issue i get:\ndos2unix: converting file /vagrant/scripts/serve.sh to Unix format ...\n    ln: failed to create symbolic link '/etc/nginx/sites-enabled/$1': File exists\n    * Restarting nginx nginx                                                [ OK ]\n   php5-fpm stop/waiting\n   php5-fpm start/running, process 5760\n. For the time being you can also configure this by going to the following file:\nHomestead/scripts/homestead.rb and alter the private network ip address there. ?\n. Thanks for the reply Taylor, but a bit confused probably cause my descriptions was not good.\nFirst of i create the folder projects.dev within my sites folder like the two yaml created ones, then add a simple php info or simple index.php page within this folder, then i add this to my hosts file.\nI then go to my homestead folder and then ssh into the vagrant server, then i run the code\nserve projects.dev /home/vagrant/Code/projects.dev\nBut then when i run projects.dev:8000, all I get is:\nNo input file specified\nThen when i ssh into the vargant server again to check and within:\n/home/vagrant/Code/\nThere is no folder called projects.dev, but both nginx server blocks are there.\nIts seems that even though the server blocks are being created as the serve script does, the guest vm is not picking up my new folder so when executing the block goes nowhere as the folder does not exists within the actual vm?\nThis is the issue is that folder sync etc does not seem to have found my created project and this cannot link the server block.\nI hope this reads better?\n. doh! yeah will remove, soz\n. ",
    "davidhemphill": "This is related to #13 \n. @tolu360 just 'vim ~/.bash_aliases' on the vm, edit it, then 'source ~/.bash_aliases'.\n. ",
    "dhrrgn": "Yes.\n. ",
    "richardvanbergen": "@LimeBlast If you need this functionality it's pretty easy to add.\nHere's my attempt: 81d8d89d738654c8376999c0615bad28bb91b009\n. I want to make a quick change to make the server only restart once. What the the best way to handle that? Just close this pull request and open a new one?\n. :thumbsup: +1\n. Does this work cross-platform? If not you will need to keep the hosts note for Windows users.\n. @splenetic +1 This would be awesome but it needs to work everywhere as an optional extra.\n. If you're desperate to get it running just copy the files in this repo over to %APPDATA%\\Roaming\\Composer\\vendor\\laravel\\homestead.\n. ",
    "jmshal": "This would be great, and I like the format @enrichit has come up with! Plain and simple.\n. ",
    "antonioribeiro": "This is not for Ruby configuration, it's VirtualBox's Homestead VM. You can tell it how much processors and memory Homestead can use from the concrete host, usually I use 4 processors, which makes the machine fly.\n\n. Oh! In pure Ruby, not sure, I'm not a Ruby dev, but Ansible get that via Facter:\ngem install facter\nThen you'll have access to the processor counts (physical & cores):\nsudo ruby -S facter --trace | grep processorcount\nBut, still, this is something people may like to set themselves. My processor has 8 cores and I usually give half of this to my main VM...\n. ",
    "jpscharf": "Instead of setting the cores, you can set the utilization percentage #27\nAdded VM customization to Homestead.yaml.\n. I added CPU Utilization, RAM and IP to Homstead.yaml and updated the homestead.rb to load the values. #27\n. Do you want me to create a pull request?\n\nJason P. Scharf\nSent from my iPhone\n\nOn May 19, 2014, at 7:29 PM, Taylor Otwell notifications@github.com wrote:\nSure, can be added at laravel/settler repository. That script builds the homestead box.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "shendrick": "Edit the scripts bash aliases file and remove the / from in front of the $1 and $2. Of you've already built the vm, ssh into it and remove it from your ~/.bash-aliases file. \n. ",
    "jwalton512": "Just adding because I was trying to fix this yesterday and realized ~/.bash-aliases was where the issue needed to be addressed.  I kept making the same change above, but couldn't figure out why it was working.  Be sure to source ~/.bash-aliases as well.\n. ",
    "pprins": "After you've modified the bash-aliases you could run bash again as well.\nTo delete the $1 symlink do the following (got this question a few times):\nsudo rm /etc/nginx/sites-enabled/\\$1\n. ",
    "tolu360": "Please @shendrick , how do I get to ~/.bash-aliases on the vm?\n. Thank you @davidhemphill \n. ",
    "Amegatron": "It would be nice to have laravel.phar in the box by default, since homestead is laravel-related box =)\n. Sorry, it seems that it is my fault. Ignore this PR :/\n. I had the same problem, but as @TheShiftExchange said, the problem was in disabled Virtualization technology in BIOS of my notebook. Now everything is working.\n. Funny, pulled an alternative solution 3 minutes before you:\nhttps://github.com/laravel/homestead/pull/43\n. @Amfy I've created an issue for that (https://github.com/laravel/homestead/issues/39), but Taylor just asked to make a PR with a working solution.\n. There are ALREADY to pull requests for this:\nhttps://github.com/laravel/homestead/pull/43\nhttps://github.com/laravel/homestead/pull/44\n. I don't much understand the role of the keys, but in any case you manually generate them using command\nssh-keygen -t rsa -C \"your@email.com\"\nIt generates two keys, which you specify in Homestead.yaml\n. > +mysql -u root -p$4 -e \"CREATE USER '$2'@'localhost' IDENTIFIED BY '$3'\"\nWhat if the user already exists (e.g. If I want to create DB for default homestead user)? But maybe thats not a problem, MySQL will just output an error I think - not sure.\n\n+mysql -u root -p$4 -e \"GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, INDEX, ALTER, DROP, CREATE TEMPORARY TABLES, LOCK TABLES ON $1.* TO '$2'@'localhost'\"\n\nWhat if I connect to my Homestead DB from my native system? It won't be localhost, so I will have no access rights to the created DB ?\n. First, you can already specify shared folder type using type parameter.\nSecond, NFS is not supported by windows versions of Vagrant, so setting NFS as a default would not be nice.\n. ",
    "hettiger": "Why don't you install it on your machine, create the project and link it to the vm?\n. :+1: \n. ",
    "mikeerickson": "I too would love this... Seeing as Taylor has said nope (not surprised) I guess it is going to have to be part of my post vagrant up script.   Kind of a bummer, but oh well \nMaybe add it as a \"feature\" to the homestead.yaml file   \nThis way, we dont have to do it ourself each time we perform a vagrant us\n. If need be, I can surely go through the process manually, just figured I would ask before going down that road :-). @svpernova09 Thx Joe, I will have a look. @svpernova09 Is this done as to not affect things like composer which runs much slower when xDebug is active?  Because that would surely be a logical reason to have it off by default\n. I gotcha :-)\n. @svpernova09 I have used phpstorm w/ laravel and homestead in the past.  I use it locally as well.  But I will review this webinar for edification :-)  thx for taking the time to respond.. ",
    "absolutelogan": "could just chain it onto your own provision script, I agree thats a little too opinionated. (although I do love zsh)\nThanks,\nLogan Henson\nOn May 25, 2014, at 1:45 PM, \"Mike Erickson\" notifications@github.com<mailto:notifications@github.com> wrote:\nI too would love this... Seeing as Taylor has said nope (not surprised) I guess it is going to have to be part of my post vagrant up script. Kind of a bummer, but oh well\nMaybe add it as a \"feature\" to the homestead.yaml file\nThis way, we dont have to do it ourself each time we perform a vagrant us\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/laravel/homestead/issues/16#issuecomment-44142264.\n. ",
    "andheiberg": "yeah that would be awesome\n. @dangreaves do you have experience with postgres?\nThe issue I ran into while researching a postgres command for this is that createdb doesn't allow you to pass a password.\n. @dangreaves great trick there :)\nNot sure if using homestead will mess up the mysql permissions for the table? but I'm a little to tired to check it out.\n. ",
    "dbpolito": "Just sent a PR for this: https://github.com/laravel/settler/pull/3\n. If this gets merged, i will open other PR adding this to the default alias:\nalias cps='composer'\nalias hcps='hhvm /usr/local/bin/composer'\n. +1 for this..\n. Following the naming pattern from previous params (https://github.com/laravel/homestead/blob/master/src/stubs/Homestead.yaml#L12), i would suggest:\nyml\nports:\n    - map: 80\n      to: 8080\n    - map: 3360\n      to: 33600\n. Also, i would like to see an extra config, something like, default_ports: true, default to true, instead of checking if you have the port config to add these 4 ports, check this config... if it's true, you would add new ports, not overwrite, if false, you would overwrite...\nI think the more usual case is adding new ports, not overwrite, this way we have both possibilities...\nLet me know your thoughts...\n. Yes because if you just remove the ports from config file the default_ports are going to be added anyway...\nMy initial idea was just, if there is a port config and it's a empty array, don't add default ports at all... Just add default ports if the port config is commented out, which is the default.\n. In my opinion default_ports makes more sense because if you add ports to your config, and set default_ports: false, your custom ports are still going to be added...\nport_forwarding: false makes me think no ports will be added at all... But i'm totally ok with that change...\n. no need to if this at each iteration, just do an if, if true, loop the array\n. here you're using host and guest, but at the example you're using send and to... pick one.\nAlso, make protocol optional, not sure if this way it is...\n. I just added the same logic from virtual box provider:\nhttps://github.com/laravel/homestead/blob/master/scripts/homestead.rb#L32\n. ",
    "svpernova09": "Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Closing this issue as old and we've just reenabled issues on the Homestead Repo. \nIf you're still having issues please open a new issue and link to this issue. Thanks!. Same solution is pending in PR #61 \n. Warning: This is largely IMHO\nThe vagrant box shouldn't be concerned with creating users. You should use vagrant/vagrant as much as possible to streamline credentials. (in this case it would be homestead/secret) What are you gaining by creating users? IMO nothing. Just use environment detection to use the existing account configured for you.\nWhat is your use case where you care about the mysql user? \n. @fitztrev You can fire up this without an internet connection, naturally composer will fail to update but the machine will still boot. But this is also only going to run on provision, not every time you boot the vagrant unless you're destroying instead of halting when you're done working.\n. @JeffreyVdb You can see how the Homestead base box was built by looking at the laravel/settler project\n. This is a documented feature and I wouldn't want hhvm to be the default option (yet, until more widespread adoption)\n. Is the use case for this mapping  your-app.dev to the homestead's IP so you can use http://your-app.dev instead of http://localhost:8000?\nIf yes:\nIMHO this is out of scope for Homestead. Homestead already handles this in a simple way by using port forwarding. If you don't want to use http://localhost:8000 you can simply add 192.168.10.10    your-app.dev to your host file.\nI certainly can appreciate automating this but it seems like a bad practice to make Homestead dependent on external plug ins.\n. Even disabled it's still too much IMHO. I think adding something like this to Homestead (for everyone) would be a bit overreaching in terms of what Homestead should be doing. If it's working for you more power to you. I would categorize such a feature as something that should be an extension or personalization of Homestead.\n. After doing this and committing and pushing to your repo the user it would be User and not you. You would also have to add an SSH key to your git provider or use HTTPS (which would be a pain)\nIMHO it's just easier to commit outside of the vagrant than have to deal with these issues.\n. IMHO I'm against these changes for Homestead. What you're doing goes against a lot of principles of vagrant and Homestead. If this setup is working for you: more power to you but I think this wouldn't be a good fit for Homestead to work this way.\n. Thanks for sharing your stuff. It's always good to see how people use tools.\n. I always like this kind of customization but I think it's largely developer preference. If anything, I'd be more in favor of artisan over art, but as someone who may not tab complete as much as I do, art may make more sense.\n. IMHO This should be handled as an override, not as a feature. I have not run into a use case where I would need to change these ports, but I have run into the need to add ports. I don't think the general audience of Homestead would ever need to change the default ports.\nIf you do have this need I'd recommend extending this for your use case. That being said if there is a big demographic of people out there always changing these ports, that is when we should look at changing it for everyone.\n. I like this idea and it's certainly something I feel Homestead is missing. However I'd like to see you remove lines 18 & 19 from Homstead.yaml since it's not a needed default. \nI'm also not sure if we should add an empty database. You could change this to be the homestead database since it will already exist every time and it's trivial to have your create script drop and recreate it.\nI would also suggest removing your changes to the readme and post that in a similar way to the homestead documentation is written  in a comment instead of trying to add docs to readme.\n. Good call. I always forget about postgres since I'm always using MySQL. If Homestead implements one we should implement the other as well.\n. IMHO anything you do within your vagrant should be reproducible from your provisioning scripts. You shouldn't have to save anything you've done within the vagrant manually. \nStanding up and tearing down environments is a fundamental function of vagrant and shouldn't be up to Homestead to ensure your manual changes aren't overridden. \nI'm a big fan of using a customize.sh script to do these kinds of changes for me. \n. The issues you're seeing aren't anything breaking and it's actually dangerous to enable pty \n\nThis setting is an advanced feature that should not be enabled unless absolutely necessary. It breaks some other features of Vagrant, and is really only exposed for cases where it is absolutely necessary. If you can find a way to not use a pty, that is recommended instead.\n. IMHO This seems like a very complicated way to not use the mapped ports. For simplicity's sake I would either edit my hosts file manually or use a vagrant plugin which would accomplish the same thing.\n. While OS X and Linux will typically have rsync by default, Windows will not, and would even need it to be installed via Cygwin or MinGW for vagrant to easily detect it. \n\nI've never used rsync with vagrant because I've never had performance issues with the virtualbox folder sharing or NFS. \nIs there a significant use case where this benefit would be worth the extra complication for Windows users? Are you using something over than Virtualbox as a provider that may be causing performance issues?\n. If you do any sort of \"provision\" based command you should not expect ANYTHING to be retained. Nothing should be in your database that isn't in a seed, migration, or other such source file.\n. If the default was set to virtualbox, and we have people testing the other providers to ensure that Homestead works as intended on those providers, I wouldn't see the issue. The case may be supporting those unknown providers may not make sense unless there is reliable feedback.\n. I see your point, but I'm with @andrewhood125, this would just as easily be an import via mysql or other database frontend tool instead of going into the project.\n. I think I see what you're trying to do, but you're not using this anywhere. I would include a backwards compatible use case so the end user could see the intended use.\n. I'm with  @zoontek, this should go into Settler and Homestead will pick it up on the next box version update.\n. IMHO There should be a default and these charset settings should be optional. Just cleans up the config a bit if the user doesn't care. \nLooks like there has been an update thus causing a conflict, you should resolve this in your branch so it would be easier to merge.\n. IMHO it's bad form to make Homestead depend on vagrant plugins. It also would be concerning to me that Homestead would be touching my hosts file. If I wanted this functionality I'd do it outside of Homestead.\n. :+1: \nJust curious: why wouldn't your mobile app use port 80?\n. I think this PR is a bit cleaner than #112. I'd like to see the CSR variables be extracted so they could easily be set or fully generalized.\n:+1: this is a decent option to enable SSL\n. IMHO You shouldn't use dots in database names, _yes you can but you _shouldn't. You should use underscores instead, it's much less confusing. \nIf you're just dead set on using periods in database names, use the after.sh script to create them.\n. No, I was able to have homestead create a database named test_database without having to escape.\n. Right, dashes and periods must be escaped, and like I said if you're dead set on using those, have those databases created in after.sh. I'd rather have the default behavior not escape to prevent people from doing things that would likely confuse them down the road but still give experienced people the ability to do them if desired.\n. @GrahamCampbell That was what I started using, then copied this version from the Docs repo. So it seems the docs repo needs to be updated as well.\n. :+1: Ran into this a few times as well\n. Use Case: Method to install Homestead into a Laravel project to provide isolated Vagrant.\nThis PR implements this in the Homestead command, assumes it's globally installed and reuses as much as it can from that path.\nAn alternative implementation would be to put this functionality into the laravel command and have homestead as a dependency to the laravel framework. Then we could copy the minimal amount of files from /vendor/laravel/homestead to the project root. (this is what I'm doing with my HomesteadSkeleton package) This implementation would allow laravel framework to ship with isolated vagrant configs if desired\n. @andrewhood125 Despite c651b59, It's still broken without these commits. Need to wrap strings with spaces in yaml\n. The only path that has to be real on the host system is the Folder: Map: path. That still uses $this->basePath and for the mapping of that path to inside the vagrant, we use $this->defaultName\nExample:\n\nYields:\n\n. IMHO we shouldn't be dependent on any Vagrant plugins. With this PR we still aren't, but it's a point where we decide to start accepting any PRs that may conditionally check for plugins or continue to not support plugins.\nMy 2 cents: I'm fine with this sort of plugin support as long as it's kept within reason. I wouldn't want to bloat homestead.rb to where the file becomes cumbersome.\n@taylorotwell Do you think it would be worthwhile to break out into another ruby file to hold this sort of things for the users and delegate this sort of functionality? I'm thinking something similar to what was done for after.sh. It would keep things neat and tidy and give users a designated place to put this stuff.\n. :+1: Wasn't excited with how this came out. \nWe should add some documentation in regards to \"where to put vagrant plugin stuff\" that may help people understand where / how to add that stuff VS submitting PRs to add it to the core Vagrantfile\n. :+1: \n. If we don't merge this we should add some functionality to not duplicate the name or hostname and update those values instead.\nI noticed in the commits many of the concats have the spaces removed and some extra spaces around parens have also been removed. This is fine if it's fitting with the code style of the rest of the project, otherwise it should be fixed to match the rest of the project. (I don't know if this stuff is covered via PSR-2)\n. The issue about duplicating names and hostnames on multiple make runs stems from the fact that we check if the yaml file exists before we copy it, when maybe we should overwrite it or we'd have to do some possibly gross things to update the variables. \nI'm fine with this if it covers the issues described & code style aligns with the rest of the package.\n. :+1: on just exiting, force the user to delete it if they really want regenerate it.\nIn that case we can leave this closed and do that in another PR\n. Would it be possible to use a command to convert the YAML file to JSON and then have a flag that is used to tell homestead to read from YAML or JSON?\n. :+1: I think this is a decent compromise of #229 \n. :+1:  This is one of the things that bugs me since I'm also always bouncing between multiple Homestead boxes.\nIs there any way to suggest/specify what the ports are corrected to?\n. :+1: Looks good\nIs this to make it easy for Putty? Curious about the workflow\n. Gotcha, that's definitely something that would make it easier on the Windows users.\n. This has been brought up before: #218 It's a preference thing. Easy to change for each individual user as they desire.\nI personally use .dev (another TLD colision) but I'm also overwriting my own hosts file so until someone registers \"MyAwesomeLaravel.dev\" i'm not worried.\n. What are you doing in after.sh that's taking that long, or is it slow internet connection waiting on something to download?\nNot sure if this is something that should be added for everyone, or as needed\n. IMHO this shouldn't be something Homestead does. There are vagrant plugins that handle this for you automatically. My preference would be to avoid having homestead every do anything that would require sudo. \n. I like the idea of disabling specific port forwards.\nIs this related to Homestead & Sculpin port conflicts? \n244 was tagged in 2.1.6 and should automatically resolve port conflicts.\n. Release v2.1.6 includes commit 2b450997247be1bac6c216a23115cf5fc7aaec8f which should auto correct port collisions. I've not yet tried it and I believe vagrant just randomizes the port when it finds a conflict, the docs aren't very clear there. I would assume that would also solve the conflict, but if you're running into issues, we may need to look into it more.\nI'm :+1: for this, I also never use the port forwards unless I'm showing Homestead to someone new.\n. Yep, Makes sense. \nAny of the changes to Ports, Folder Shares, CPU, Ram would require a halt and up to take effect. That's a Vagrant limitation as far as I know.\n. I don't think suspend will pick up the changes because I believe that's just resuming the suspended image and not going through any of the VM boot process.\n. Not sure if encouraging users to create new Laravel apps from within Vagrant is a good idea or not. They could easily create something and lose it. IMHO it's better to create new instances of Laravel on the host machine and then map to that new folder via Homestead.yml file.\nAlso agree with @andrewhood125 this is probably a better fit for laravel/settler\n. @jonnywilliamson \nYeah, that's the tradeoff of using Windows. It's not a terrible process to install enough things into Windows to get composer working. \nIf you don't want to install the tools in Windows, you should just download the zip file from here: http://cabinet.laravel.com/latest.zip which is the same place the installer downloads from: https://github.com/laravel/installer/blob/master/src/NewCommand.php#L97\nThat way you can extract that outside of Vagrant and then add that path to your homestead config.\n. @martinbean \nfwiw, if you're using homestead per project you can easily add all the aliases you want by using the aliases flag via the make command.\n. @jonnywilliamson \nHave a look at the docs about per project install When you run php vendor/bin/homestead add --aliases and it will create an aliases file in the folder you can add all the aliases you want there.\n. This looks solid.\nI believe the plan is to depreciate these commands since they're just wrappers around vagrant commands.\n. We've had similar PRs come up like this, and the best option seems to leave this up to the individual user to do what they prefer for hostname management and not make Homestead rely on any outside plugins.\n. What is the use case for specifying the IP? Are you using the\u00a0Homestead.yaml.example file like you would the .env.example? - a placeholder for options?\n--\u00a0\n- Joe Ferguson\n  JoeFerguson.me\n  MemphisPHP.org\nOn Thu, Dec 10, 2015 at 3:34 AM, Aden Fraser notifications@github.com\nwrote:\n\nLet me know your thoughts. My only consideration at the moment is that perhaps the execute method is now a little bloated.\nReply to this email directly or view it on GitHub:\nhttps://github.com/laravel/homestead/pull/296#issuecomment-163549695\n. @AdenFraser \n\n:+1: That's exactly what I was hoping for. I've had this same issue before regarding tweaking ports, even hosts going to the VM. \n. You shouldn't ignore some of these files, if you add Homestead to your project others will need these files to match your environment.\n.vagrant should be ignored globally on you system or in your project. The Homestead.yaml file will be ignored by Laravel (if it's not in .gitignore you're on an older version of 5.x)\n. @drecken \n./vendor/bin/homestead make is designed to be run without overwriting existing after.sh or aliases files. If you are seeing behavior otherwise please let me know and I'll fix it. (Or feel free to submit a PR to fix it)\nYour coworkers should easily be able to run the make command and get the exact same environment as you without having to create their own files. The Homestead.yaml file will always be recreated and thus shouldn't be committed because it's unique per user per path of the project folder where the make command is run.\nAlso +1 to less ignores @andrewhood125 especially when adding ignored versions of files you do actually need will only create confusion.\n. @drecken Thanks for the PR. Hopefully my comments help clarify a better / alternative workflow regarding sharing your per project config.\n. :+1:  looks good\n. @josecybertill \nYes sites type: apache should be what you want.\n@browner12 \nWe break out site types to support multiple vhost types via https://github.com/laravel/homestead/blob/master/scripts/homestead.rb#L178 Apache support was fixed in #420 \nHomestead users should be ready for Apache support to end soon\u2122 To continue using a feature Homestead removes just lock your Homestead version to the previous release.. @browner12 You don't need to install apache, it's sneakily hidden in the serve script: https://github.com/laravel/homestead/blob/master/scripts/serve-apache.sh#L3 \nThe only reason it's still there is because someone shared a PR to add SSL support to apache #419 and in the process of testing that I realized the functionality was completely broken, which resulted in #420 \nMy primary goal for Homestead is to support Laravel users the best way we can in a vagrant environment. Thousands (likely more) of PHP developers rely on Homestead to solve a lot of problems they'd otherwise have to solve themselves. I'm not against supporting stuff Laravel doesn't natively if the overhead for me to do so isn't too great. Obviously that's subject to change at any given time for the greater good of the Laravel user.\nCase in point: Laravel no longer supports HHVM. Homestead still supports HHVM because I believe that should warrant a major version number change but also HHVM isn't a pain point for me to build Homestead at the moment so it's just hanging around for a bit. Any day now I or @taylorotwell could get a wild hair and go nuts gutting stuff we don't need anymore and likely HHVM and Apache would be at the top of the chopping block. I'm confident that our versioning strategy with Homestead and now also Settler will make it relatively painless for users to lock themselves (or a project) at a specific version of Homestead to retain any features we may remove in the future.\nAlso, the sites type: feature isn't documented (like a few other things aren't) because these features usually start out as a PR from someone and it's sometimes a bit of a hack job, but it works, and it doesn't break anything so it gets merged. Usually these are edge case changes that go undocumented. For sites type:, maybe it's time to document that.\n(Sorry for the wall of text). What is the use case for running shell commands from the homestead.yaml that seems very odd. If you need to run shell scripts add them to after.sh, if you need them to run every time you boot vagrant than they should be added to the base box instead of Homestead. (this may mean creating your own box it's a one off thing that doesn't fit Homestead)\n. @Utkarsh-vishnoi If you are running a shell script every time you do vagrant up I'm saying that's not common in the typical vagrant workflow. The better option (Better than changing how Homestead works for everyone) would be to use after.sh to add a cron job to run on every boot (You'd want @reboot I believe for this) that runs your script from your project folder.\n. Thanks for the PR. Will you please squash your 3 commits into 1. Once done looks good from here\n\ud83d\udc4d . Thanks! Tested here and it's ready to go.. Good thing to point out. Shouldn't be an issue since it's isolated to the Virtualbox and VMWare providers.. Hey thanks for the PR.\nThere are way too many commits and changes in one PR to accept this. Please update your source branch and apply your changes so it's easier to read and to ensure you have all of the current upstream changes.\nthanks. Try running vagrant destroy -f to destroy your VM and then delete the .vagrant folder where you have Homestead installed. . Where you using Virtualbox 5.0.x in both machines? I've had to update all of my systems to 5.1.x since Vagrant 1.8 started giving me troubles.\nThis thread seems to also suggest upgrading Virtualbox may help: https://github.com/chef/bento/issues/682. Note: You can't upgrade from 5.0.x -> 5.1.x from the app, you'll want to download the 5.1.x installer, install it, then also upgrade the extensions. It should prompt you to install the new extension on launch.. \n. I'm not seeing this issue, can you open an issue and fill out the template: https://github.com/laravel/homestead/issues/new\nThanks!. Thanks for the issue, I replied there. Closing this PR since it's not an issue if you're keeping versions of Homestead and the box up to date.\nThanks for the PR.. You're using really far out of date versions. \nYour Virtualbox version is way out of date. Please upgrade to 5.1.x and also make sure you update Homestead to 3.1.\nIf you have to use an old version for a project that's understandable, but you should try to upgrade to stay up to date. \nA solution to your problem is putting the commands to reset the mysql password in your after.sh shell script. That should fix the issue every time you provision that version of the environment.. IMHO we should support Homestead (as best we can) to support the same versions of PHP that the framework itself requires. Which would mean to support Laravel 5.1 we'd have to support PHP >= 5.5.9. Where you have Homestead installed open scripts/homestead.rb and look for a line that is similar to config.vm.box = settings[\"box\"] ||= \"laravel/homestead\" and change that line to config.vm.box = settings[\"box\"] ||= \"Svpernova09/homestead-legacy\"\nIf there is a line similar to config.vm.box_version = settings[\"version\"] ||= \">= X.X.X\" where X.X.X is a version, comment that line out by putting a # in front of it.\nRun vagrant up and the box will download. Let me know if that solves your problem. If that does work please let me know what version of Homestead you're using.. @w0rd-driven See my previous comment and let me know if that solves your problem.. Nice catch! Will update. Thanks!\n-\nJoe Ferguson\n\nOn Dec 3, 2016, at 08:33, Mario Bittencourt notifications@github.com wrote:\n@bicatu commented on this pull request.\nIn scripts/homestead.rb:\n\n@@ -76,8 +76,8 @@ def Homestead.configure(config, settings)\n     default_ports = {\n       80   => 8000,\n       443  => 44300,\n-      3306 => 33060,\n-      5432 => 54320\n+      # 3306 => 33060,\nwhy did you comment the port?\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @taylorotwell This should be ready to go now. I've set the requirement of the box to be >= 1.0.0. This version hasn't been released yet. I'm still waiting for the VMWare box to upload to Atlas.\n\nI'll tag a new Homestead release (3.2.0) once the box is finished uploading and released on Atlas.. I'll look into this some. If it does come down to a provider issue then it's obviously out of our hands, but I'll get the docs updated to mention it.\nThanks!. From what I've read this sounds like it's primarily and issue with the VMWare network virtualization. It's treating every new VM it boots as a different computer on the network (Which sure, why wouldn't it?). \nTry adding this to Homestead.yaml:\nnetworks:\n    - type: \"private_network\"\n      ip: \"192.168.10.11\"\nAdjust the IP to something suitable so long as it's not the same IP you have at the top of the config file.\nvagrant destroy && vagrant up and see if the VM comes up with a secondary interface using 192.168.10.11. If so great, that's the workaround. I'm not super confident that will solve the issue.\nAnother response I read about mentioned specifying a MAC to the interface so that you can assign a static IP in the VMWare network settings.\nLet me know if either of these options helped.. Awesome!. Thanks, I'll take this for a spin and if it's not too heavy I'll get it added.. Implemented in Settler https://github.com/laravel/settler/pull/88/files. I just had to release a fix today for the box, so I'd like to see at minimum a week of stable usage before we push out a new box download. Once this is merged I expect ~2 weeks before the next release (unless some urgent bug is discovered). Once it's merged I'll PR the docs.. Vagrant isn't able to update the Homestead software itself. You'll need to update Homestead as well as the base box.\n. If you upgrade Homestead and still have issues, please post logs and comment here and I'll reopen/investigate.. Where you have Homestead installed open scripts/homestead.rb and look for a line that is similar to config.vm.box = settings[\"box\"] ||= \"laravel/homestead\" and change that line to config.vm.box = settings[\"box\"] ||= \"Svpernova09/homestead-legacy\"\nIf there is a line similar to config.vm.box_version = settings[\"version\"] ||= \">= X.X.X\" where X.X.X is a version, comment that line out by putting a # in front of it.\nRun vagrant up and the box will download. Let me know if that solves your problem. If that does work please let me know what version of Homestead you're using.. The 2.0 branch is old and should point to older versions. Possible we could just nuke this branch since I don't think any 5.x version of Laravel would run on 2.x version of homestead.\nThanks for the PR.. @nietzcheson Do these 2 blocks not do what you're wanting?\nhttps://github.com/nietzcheson/homestead/blob/99eb3539e6ab7c446f1ea788f62066cf22edd48e/scripts/serve-symfony2.sh#L44-L66. @taylorotwell THat's what I was hoping for, I just haven't had time to test it. (Or a modern demo Symfony app). Thanks for the PR, can you please fill out a new issue so I can verify the bug: https://github.com/laravel/homestead/issues/new. Closing pending any further logs showing current version of Homestead and Virtualbox is still causing the error #383 . @ralf57 I'm sorry you're stuck on Virtualbox 5.0, but it just isn't feasible for us to continue to support that version due to too many issues with 5.0 and Vagrant 1.8.x+ and several base boxes (not only the ones we use and create). Please ensure each system is running Virtualbox 5.1.x. Also make sure you're using a recent version of Homestead (3.1 or newer).\nIf you upgrade Virtualbox and Homestead and still have issues, please post logs and please comment here and I'll reopen/investigate.. @sebastiaanluca You have to manually download Virtualbox 5.1, you can't upgrade from 5.0.x -> 5.1.x from inside the Virtualbox App.. @pvledoux Upgrade to Virtualbox 5.1 By downloading the installer fresh from their website.. Will have to revisit after Laravel 5.4 since this would default people into having issues since the default string length is 255. https://github.com/laravel/homestead/pull/391. Add a mention that Virtualbox 5.1 is the current version. Seeing LOTS of people who have 5.0 and do the About -> Check for Updates and it reports there are none, yet they're still having vagrant issues cause they're on the 5.0\ntl;dr You have to download 5.1 to update 5.0 -> 5.1. Squash commits and we're good. You can also squash and merge from GitHub interface TIL . Is this more of an application level decision than a server level? . Laravel v4.2.20 was released to bring PHP 7.0 compatibility to the 4.2.x version. Homestead 4.x will be the version that supports PHP 7.1. To continue using Homestead with PHP 7.0 please use version   3.1 of Homestead.\nIf you want to continue using PHP 7.1 you'll have to adjust your code base to catch or suppress deprecated warnings.. The framework didn't depreciate mcrypt, the PHP Language did. \nAt this time you should use Homestead 3.1, which supports PHP 7.0. That's not us, Atlas forces us to use that name.. vmware_desktop and vmware_fusion are essentially aliases forvmware_workstation.. Since Homestead supports multiple projects it's not something we'd add, but if you want give this a spin:\nhttp://serverfault.com/a/482968\n\n. If you're using Vagrant per project, where you'll only ever have 1 project in vagrant, you could add the 1 liner to after.sh and it would accomplish what you're wanting.. Ah, I see: https://laracasts.com/discuss/channels/general-discussion/migrations-configure-a-default-string-length-utf8mb4 \nIf we accept this now, we'll need big warning signs when people create tables. Not sure that's worth it atm. Will close a revisit after 5.4. You need to update your homestead repo to version 4.0 (or master)\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 9, 2016, 07:40 -0600, makz27 notifications@github.com, wrote:\n\nHello\nSince the 1.0.0 image, when i provision the vm the script try to start php-fpm7.0 but it doesn't exist because now it's php-fpm7.1\n==> homstead: Failed to restart php7.0-fpm.service: Unit php7.0-fpm.service not found.\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nvagrant@homstead:$ sudo su -\nroot@homstead:# /etc/init.d/php7.1-fpm start\n[ ok ] Starting php7.1-fpm (via systemctl): php7.1-fpm.service.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/392), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7Cwnuh7eFIOhHyffP3BW7kYegX7cyRks5rGVpfgaJpZM4LI8ri).\n\n. If you're using Homestead per project or have homestead in a global composer.json You'll want to make sure you have it set to \"^4.0\". Hi @mtpultz \nYou'll need to lock the version of the box down to a previous version by adding\nversion: 0.6.0\nTo your Homestead.yaml This will use the older .box file.\nFor example:\n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nhostname: homestead\nname: homestead\nprovider: virtualbox\nversion: 0.6.0\n~snip~\n```. Box 1.0.0 & 1.0.1 are both PHP 7.1. 0.6.0 Was the last version with PHP 7.0.. @dPhantum \nDon't edit those files. Either your repo is newer than your base box, or vice versa. Update both, destroy the box, and the problems will go away.. You should not install Homestead on a digital ocean droplet since vagrant is inherently insecure and should be me put out onto the public Internet.\nWhile you can use vagrant to control boxes out on the public Internet that is outside the scope of the Homestead project.. If you would like an easy to use Test server you should use Laravel Forge. This way you can have a similar environment to the local Homestead.. The oldest supported version of the Laravel Framework is the LTS version 5.1 That version supports PHP 5.5.x. So IMHO it's not too much to expect users to be running that version for Homestead. \nIf your host OS is running 5.3 you may be several versions behind.\nUsing Homestead per project requires composer, which requires PHP. Even if you do nothing else with PHP on your host OS it's still needed to run composer.\nIf you're on Windows, a good alternative may be the BASH system so you can install and run PHP there without having to install it in Windows.. Thanks for the report, I'll have a look at this later today.. @elasticsteve \nInstead of vagrant share --http 80 please try vagrant share --http 8000. I'm not certain, I've not used this feature in a long time. It could have been a fix / update in Virtualbox but I'd expect it was most likely a change made in Vagrant (unless you had this working in 1.9.x with pre 1.0.1 box). RE: Working previously on port 80\nNo idea why it would have broken in the new boxes. Nothing around nginx or it's config changed.\nMultiple projects/folders:\nI believe it would default to the first nginx host that is in the config. There is an old thread https://laracasts.com/discuss/channels/general-discussion/vagrant-share?page=1 that has some possible workarounds, one of the first links is dead though.. If going back to 1.8.5 fixed it, there's nothing I can think of on our end to fix it. You may want to open a bug report on the vagrant repo: https://github.com/mitchellh/vagrant. If you look at your Vagrantfile you should see this section:\nif File.exist? aliasesPath then\n        config.vm.provision \"file\", source: aliasesPath, destination: \"~/.bash_aliases\"\n    end\nThis is where the aliases file is copied from your project root to ~/.bash_aliases in Homestead.\nIf you've edited this file on Windows with an editor that does not respect Linux end of line characters you may need to change the characters back.\nCommand line (inside Homestead: \nawk '{ sub(\"\\r$\", \"\"); print }' /vagrant/aliases > /home/vagrant/.bash_aliases\nI've confirmed this is an issue after editing the file. Thanks for the report.. TODO\nWe should potentially change\nif File.exist? aliasesPath then\n        config.vm.provision \"file\", source: aliasesPath, destination: \"~/.bash_aliases\"\n    end\nto\nif File.exist? aliasesPath then\n        config.vm.provision \"shell\" do |s|\n          s.name = \"Install ~/.bash_aliases\"\n          s.inline = \"awk '{ sub(\"\\r$\", \"\"); print }' /vagrant/aliases > /home/vagrant/.bash_aliases\"\n        end\n    end\nThis would always install the file in the correct location with the proper formatting even if the user edits the file in an application that doesn't respect existing line endings.. It's not the solution I'd prefer. I'm open to other ideas that aren't \"Just tell users to only edit files in editors that respect line endings\".\nI believe aliases is the only file we'd have to do this with since it's the only file that a user should be editing that we copy from the host to the guest and then executed on the guest side (causing line endings issue)\nThis is certainly a bug in Windows because it's something that works fine in MacOS and Linux, yet fails on Windows.\nIt's an inelegant solution to make it easier on Windows users. Otherwise they'd have to manually add conversion scripts into their after.sh.. Please open a new issue filling out the issue template so we can see what versions of the different software you're using.. Thanks for the PR!. Thanks @jonnywilliamson \nI can see the frustration if you're having to download a new box over a slow connection. Especially since we've pushed 3-4 new boxes pretty close together. Trying to slow that down a bit. Next box version release is likely mid-January unless someone finds a bug that requires a quicker fix.. @andrewhood125 Those with enough initiative can go figure it out, certainly. I don't want to support them building Settler. They shouldn't have to. I've taken steps to ensure they don't need to (by going back to 5.5.x and getting a working base box and branch of settler). \nHonestly, I just need to sit down, double check my versions and blog about it.. Thanks for the report. For those unaware this a bug @lioannou has been chasing since we released box version 0.6.x. We've both spent a ton of time debugging this and I'm unable to reproduce the error locally (Since I'm not using VMware Desktop, only Fusion).\nI've had another person successfully reproduce the issue however the only way to reliably reproduce the issue was to use vagrant suspend. So my advice previously was \"Use vagrant halt instead of vagrant suspend\" since this walks and talks like a Provider (VMWare) bug. \nThe only VMware related change Homestead has made since the noted previous working box version (0.4.x) was that the package open-vm-tools no longer contained the proper executable (vmware-config-tools.pl)to install the VMware tools. We stopped using open-vm-tools and started manually installing the VMware tools: https://github.com/laravel/settler/commit/1fed2ae37dac9fb890c75299b98a0827100eee68 We also jumped from Ubuntu 14.04 to Ubuntu 16.04 (if that matters to VMware). Nothing else has changed (on Homestead's end).\nI'm glad you found a solution by using the Samba share type. This is probably less performant than the VMware default sharing. I wouldn't want to make this the default for Windows because you're (so far) the only user reporting this issue. This is also why I would not call using smb a requirement for Windows users.\nSide note: Using Git primarily from within Homestead is possible, however I don't reccomend it for normal day to day workflow.\nIf we see a number of Windows users reporting this issue I'd be happy to work out a way to default the share type to smb, however right now it just doesn't seem like this is a major problem. Windows Users: please speak up. I would like to do what I can to make Homestead as easy to use on Windows as it is on MacOS and Linux.\nThanks.. > Would this reenforce the idea that this is strictly a vmware related bug?\nYeah. AFAIK it's only with VMware on Windows.\n\nI'm strictly a windows user with homestead. If I can help let me know.\n\nThanks!. Hi @JuanDMeGon I'll give this a spin. . @JuanDMeGon Actually, instead of Settler, lets keep this here, but instead of adding the line cp ~/.my.cnf /home/vagrant/.my.cnf lets instead change https://github.com/laravel/homestead/pull/404/files#diff-098793c438d3da71b20f99ccc5c29c91L3 to be cat > /home/vagrant/.my.cnf << EOF.\nIf you want to make this change go for it.. Merged. Thanks for the PR!. No worries at all, I always forget I can do it when I merge the PR. :D. Sounds good. Thanks for catching this.. Please make sure you're using Homestead version 4.0.0 or higher. Sounds like you need to run git pull origin master wherever you cloned the Homestead repository.. Not sure, I don't use homestead_improved-master. Thanks for the PR. . \ud83d\udc4d Sounds good. Thanks, sorry for the run around. Ok, lets do that, but lets use full paths so we're explicit where files are: cp /root/.my.cnf /home/vagrant/.my.cnf. Thanks @JuanDMeGon !. @oredigger8806 Thanks for the very detailed report.\nCan you do me a favor and update to Homestead 4.0.1 (or master) and confirm the behavior (My guess is it's the same). From: https://www.virtualbox.org/manual/ch08.html\n--natdnshostresolver<1-N> on|off: This option makes the NAT engine use the host's resolver mechanisms to handle DNS requests (please see Section 9.11.5, \u201cEnabling DNS proxy in NAT mode\u201d for details).\nI don't believe this is something we want to disable since it's likely keeping us from having to manually apply host names from the Homestead.yaml file into the virtual machine's /etc/hosts file.\nWe're not setting up any interfaces in Homestead for IPv6.  Probably likely because according to https://www.vagrantup.com/docs/networking/private_network.html\n```\nYou can specify a static IP via IPv6. DHCP for IPv6 is not supported. To use IPv6, just specify an IPv6 address as the IP:\nVagrant.configure(\"2\") do |config|\n  config.vm.network \"private_network\", ip: \"fde4:8dba:82e1::c4\"\nend\n``\nIf we can't get an IP from DHCP we just skip it and leave that up to the user.. @oredigger8806 I can confirm what you're seeing withnatdnshostresolver` on and off. In a short amount of testing I'm not seeing anything wrong with having this off.\nI believe how I'd like to handle this is to create a setting that a user (such as yourself) could use to override this being enabled. The existing behavior should be the default, if the user specifies a setting in their Homestead.yaml then we'll turn it off (May be easier just to not even run that line). If you want to work up a PR to this effect, have at it. Otherwise I'll have a look at it later.. Make sure your fork/branch is up to date with Master. you're missing a commit that adds the database names to the output on creation.. You should be able to remove the APP_ENV variable (or the entire variables section) from your Homestead.yaml without any issues. Your Homestead.yaml must be from before fcf797b5506aa6549a4bde88c8084e5caf9425fd (Dec 2015). \nThis should solve your problem. Let us know if the problem persists.. No worries! Glad you were able to sort it out.. Thanks for the PR!. Please open a new issue following the issue template so we know what versions of software and the other important data is so we can properly debug.. Please fill out the complete issue template. Show us your entire Homestead.yaml file and link to a gist containing the entire output of a fresh vagrant up. We can't help you if you don't provide the info we need to see if anything out of the ordinary is happening.\nSome things to check:\n\nMake sure Homestead source repo is up to date: cd path/to/homestead && git pull origin master\nMake sure Homestead vagrant box is up to date: vagrant box update. Please post a gist of the entire output of a vagrant destroy -f && vagrant up. Until you do we can't help you. I'll reopen the issue when you have posted what we're needing to help you.. Please post the entire contents of after.sh\n\nI've never seen this issue, have a look at http://stackoverflow.com/questions/32953537/vagrant-ssh-prompts-no-kex-alg-and-im-unable-to-connect-to-the-virtual-machin and see if that helps.. Past the above linked issue, I'm not able to reproduce this on Windows 10. I don't have a Windows 8.1 system to test on. I'd have to have similar bug reports from someone else on Windows 8.1 to determine if this is a Homestead issue, or a Windows 8 problem.. Not familiar with what you're referring to as push, describe your use case?. @giolf You can easily add this to your Vagrantfile. Not sure it's something Homestead needs since I wouldn't want to show people how to expose plaintext passwords for this.. Thanks for the PR @cwandling Can you open an issue with the problem so I can verify the bug: https://github.com/laravel/homestead/issues/new\nThanks!. @cwandling \nWe can't accept as is. The reason that line exists is to hide the red messages you see here:\n\nWe need to either find another way to hide those messages before this could be accepted.. Essentially yes.  We don't want to expose all those messages and have to field a ton of error reports when the scripts are running fine.. Closing as related to #416 . Thanks for the PR @TheBnl \ud83d\udc4d . @umutkirgoz Thanks for the PR! I also realized that Apache was totally broken and I'm surprised it was working at all for you. Apache is fixed and working again. This will probably be the last update we'll see on Apache since Forge doesn't support it, (as Taylor mentioned). Homestead will likely stop supporting it sometime in the future.. Thanks for the PR!. Tested on Windows 10 & MacOS\nThanks for the PR!. You're using master, not 4.0.3. Please make sure you're reporting the right versions.\nThanks for the report, this has been fixed via #427 . This is probably a duplicate of #382 \nPlease make sure you're using Virtualbox 5.1.x. If you are, please fill out a new issue report: https://github.com/laravel/homestead/issues/new. This is a bit outside my expertise (I've never needed to do anything but enable NFS). Mapping MySQL data folders into the VM but very much outside the scope/use case of Vagrant, and Homestead. \nYou may consider not running Composer or Yarn from inside vagrant; run them on your host OS. That will likely resolve the need to fight with permissions there. . set -e\nset -x\nThis isn't something I'd want to do every run. I prefer to have as little red text scrolling past the user as possible. This could be something that's run behind a debug check. You'd have to check a debug flag in the Homestead.yaml and I'm not even sure how useful that would be for end users. (We haven't needed such extensive debugging so far, but doesn't mean we would never need it). Going to close this, but open to another PR that implements \nTouch after install completes, otherwise it might fail, and on next run vagrant up --provision it thinks that mariadb was installed. But having script to continue if one of it's commands fails is useless\nWhen I tested your branch, the script exited as you'd expect, but vagrant reported it as a long string (hashed I believe from running it from /vagrant) which was also a useless error to see. I'd rather see the error in the console from vagrant which will clue me into what actually failed. I've personally had times when installing mariadb fails, and then i need to destroy and try again. without set -e moving touch is useless, because it would be executed even if above commands fail.\nI understand, but there's only so many factors Homestead can account for. maybe move the touch to the last thing that happens?. Will have a look. Not sure if this is something we should delegate to Homestead, or ensure the user performs this themselves.. No reason to fork. But I would like to move init.bat to init.ps1 And clean up the code. <3 PowerShell. @axelitus Thanks for the PR. Going to hold off on this because I'd rather not have the Windows version acting differently than the Linux version (if at all possible). I'm also not sure this is something Homestead should be responsible for.\nThanks.. @axelitus Feel free to write something up and submit a PR to docs.. @brendanfalkowski Sure, but if we add a Statamic server script you would just add an option to your site to specify statamic and it would use the right server script to create your host. You would define your Statamic sites with a type key:\nsites:\n    - map: statamic.app\n      to: \"/home/vagrant/statamic/public\"\n      type: \"statamic\". Resolved by #436 . Resolves #435 . Thanks for the PR.\nI'm not wild about the filenames generated (Concatenation of  all the server names). It also fails if you add too many domain names (Probably due to length).\nI think the implementation of this would be better as adding an array of names to the site config. Something along the lines of:\nsites:\n   - map: example.org\n     to: /vagrant/Code/example-site/public\n      names:\n        - www.example.org\n        - example.com\n        - www.example.com. Shouldn't cause collisions unless the user puts the site in twice, which is possible, but with explicit config syntax, should be an obvious way to spot the issue.. I was going to suggest that, glad you got it working. Are you running Yarn from inside the vagrant machine? If so run it from your host machine. Your host machine (likely) has far more RAM than Homestead.. You shouldn't run these type of commands inside Vagrant, you're host machine will always have more RAM and CPU. Even if you gave Homestead 4 cores and 8 GB RAM and you'll still be better off running these tools on the host.. IMHO You should be running anything that doesn't need database or service access outside of vagrant since your host OS will always have more resources.. Stop being a heathen and use Xdebug.\nIn all seriousness: I've never heard of PsySH, What is it giving you that xdebug isn't?. Xdebug will give you a full console at any point in the debugging process as well. Going to close for now, but I'll tweet and see if we can drive some traffic to this.. @ezimuel Thanks for taking the time for the PR.\nIMHO It's not vagrant's responsibility to set host names, and since doing so would require sudo access on *nix like systems, Homestead doesn't want to assume the risk that comes along with that. We also would have to rely on sudo-esque admin privileges in Powershell to accomplish the same thing on Windows. It's just MUCH easier and LESS risk for Homestead to not be responsible for that.\nThere are Vagrant plugins out there that will manage this for you. We've had a number of attempts to merge this functionality into Homestead and it's something we've always adamantly avoided.\nI'd love to see a PR with a test for make command in a separate PR though.. @ezimuel \nThis looks good, my only request is you make the changes that StyleCI is suggesting: https://styleci.io/analyses/87LPeZ\nGood to go after that.. @ezimuel This is my first time disobeying Style CI, Let's see what happens!. @ezimuel Thanks for the PR! And thanks @mwop for the feedback :D. @antimech Homestead 5.x should require box version >=2.0.0. Certainly a pattern. https://github.com/jakeasmith/commit\n. Please fill out the entire issue template so we don't have to ask you what versions of everything you're using to properly help you. https://github.com/laravel/homestead/issues/new. Yep, the issue is in settler. Here https://github.com/laravel/settler/blob/master/scripts/provision.sh#L186-L189 we are setting debconf-set-selections for the mysql-community-server package but then we install the mysql-server package. So MySQL thinks we're not setting a password, so sets the auth to a socket plugin.\nThis will require a box update to fix, but in the meantime you can add this line to your Homestead after.sh script to fix the issue:\nmysql --user=\"homestead\" --password=\"secret\" -e \"ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'secret';\". Also worth mentioning the homestead mysql user should be able to do most things that root can. since we're doing:\nmysql --user=\"root\" --password=\"secret\" -e \"GRANT ALL ON *.* TO 'homestead'@'0.0.0.0' IDENTIFIED BY 'secret' WITH GRANT OPTION;\"\nmysql --user=\"root\" --password=\"secret\" -e \"GRANT ALL ON *.* TO 'homestead'@'%' IDENTIFIED BY 'secret' WITH GRANT OPTION;\". no worries, the one liner https://github.com/laravel/homestead/issues/453#issuecomment-278694703 in that comment should get you fixed up.. You have to run it as the homestead user\nmysql --user=\"homestead\" --password=\"secret\" -e \"ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'secret';\". Where is your sqlite database? The problem is likely due to where you're storing it. Try putting it in the database folder and use database_path() helper to point to it. \nRemember that the user needs write permissions on the folder that contains the sqlite database as well as the sqlite file itself for it to work.. Remove the apache stuff from your after.sh and add a key to your sites called type and then use the type apache. Then destroy and up your vagrant.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 10, 2017, 12:00 -0600, Martijn Imhoff notifications@github.com, wrote:\n\nVersions\nVagrant 1.9.1\nProvider: Virtualbox 5.1.2 r108956\nHomestead: laravel/homestead 1.1.0\nHost operating system\nWindows 10\nHomestead.yaml\n--- ip: \"192.168.10.10\" memory: 2048 cpus: 1 provider: virtualbox authorize: ~/.ssh/id_rsa.pub keys: - ~/.ssh/id_rsa folders: - map: \"D:/devprojects/valemus-starter\" to: \"/home/vagrant/valemus-starter\" sites: - map: valemus-starter.nodots to: \"/home/vagrant/valemus-starter\" databases: - valemus-starter\nafter.sh content\n!/bin/sh # If you would like to do some extra provisioning you may # add any commands you wish to this file and they will # be run after the Homestead machine is provisioned. sudo npm install -g n sudo n stable sudo service nginx stop sudo apt-get remove nginx sudo sh /vagrant/scripts/serve-apache.sh\nVagrant up output\nhttps://gist.github.com/martijnimhoff/b46abc3c468515c1ebd05394a1d657a2\nExpected behavior\nI expected this script install and configure apache acording to Homestead.yaml. (I don't know if it is actually meant to this, if not how can i do this?) Can this script be used to config the sites specified in Homestead.yaml?\nActual behavior\nApache did install but no config was made in /etc/apache2/sites-available\nSteps to reproduce\nUse Homestead.yaml and after.sh as mentioned above\nvagrant up\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/455), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwjbK_VuIbAuB46fWV1Y0EK0Jkdphks5rbKWogaJpZM4L9rH5).\n\n. What version of Laravel are you using? Mcrypt hasn't been required since 5.1 I believe.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 11, 2017, 03:28 -0600, reatang notifications@github.com, wrote:\n\nMcrypt PHP extension not install\nVersions\nVagrant: 1.9.1\nProvider: Virtualbox\nHomestead: 1.1.0\nPHP VERSION: 7.1\nall config is default\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/456), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7Cwsv2tmMviZamFvvd5Xkp2SUD-ioKks5rbX9NgaJpZM4L-IS2).\n\n. FYI: http://php.net/manual/en/migration71.deprecated.php. Don't use homestead up We removed all but the make command. Use native vagrant commands instead. (this doesn't have anything to do with your issue)\nThe problem is VMware fusion thinks you don't have any available ports to be used. I've seen this happen when you have Virtualbox AND VMware installed on the same machine. I recommend you use one or the other, not both.. You may need to reinstall fusion as well. I ended up keeping Virtualbox on my main machine and removing fusion. and installing fusion onto a separate OS. Thanks for the PR.\nIs StyleCI supposed to auto fix this stuff for us? I wasn't sure so I merged the changes anyway, apparently it didn't. RE: https://github.com/laravel/homestead/pull/445#issuecomment-278384793. Thanks Graham.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 12, 2017, 07:17 -0600, Graham Campbell notifications@github.com, wrote:\n\nOk, turned on now.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/pull/458#issuecomment-279217988), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwpuG16LcMWpiiQ3spEneOhZavVDXks5rbwaBgaJpZM4L-OjV).\n\n. Since you are failing so early in the process and Vi a Ruby error, my guess would be to reinstall the newest version of vagrant. If the error persists then reinstall virtualbox.\nIf the error persists after both of those steps post a gist of the output of $ vagrant up --debug &> vagrant.log\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 12, 2017, 07:03 -0600, Milosh notifications@github.com, wrote:\n\nVersions\nVagrant: 1.9.0\nProvider: Virtualbox 5.1.14\nHomestead: 1.1.0\nHost operating system\nmacOS Sierra 10.12.3\nHomestead.yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n- ~/.ssh/id_rsa\nfolders:\n- map: ~/www\nto: /home/vagrant/Code\nsites:\n- map: homestead.app\nto: /home/vagrant/Code/Laravel/public\ndatabases:\n- homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nVagrant up output https://gist.github.com/miloshdiklich/2f1c9180266086dca165785fc9c51fe0\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/459), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwvVUG4f_6FHcmrezP6VIhseWcrr8ks5rbwMYgaJpZM4L-exX).\n\n. https://laravel-news.com/using-older-versions-of-homestead\nFollow the section \"How to Use PHP 5.5 With Laravel Homestead\". Old versions of PHP require completely different base boxes so this isn't feasible. I'd rather not get into a situation where we have multiple versions of PHP installed.. So this is in the case that the folder on the host being mapped doesn't exist? That would indeed cause a hard Vagrant error.\nThe else of this if should be an error message and an exit saying something to the effect of \"Mapped folder {$folder} not found on the host, please check your Homestead.yaml folders\". @bassauer-storms-media I'm agreeing with you that a hard crash isn't what we want. But I also don't want a silent fail since that would be confusing to the normal user who may have just mistyped something in their config.. Yeah, I can see where exiting on that could cause issues with VM state, so probably better we continue with the process.\nAdd that else and I'll get it tested and merged.. No worries, come back to it when you can.. vagrant share seems to work fine. However it's only going to work for the first site in your Homestead.yaml since it's not name based hosting.. Thanks, I'll get this added to https://github.com/laravel/settler. Looks like default Ubuntu ntp conf should be fine for what we need?\n```\nUse servers from the NTP Pool Project. Approved by Ubuntu Technical Board\non 2011-02-08 (LP: #104525). See http://www.pool.ntp.org/join.html for\nmore information.\npool 0.ubuntu.pool.ntp.org iburst\npool 1.ubuntu.pool.ntp.org iburst\npool 2.ubuntu.pool.ntp.org iburst\npool 3.ubuntu.pool.ntp.org iburst\nUse Ubuntu's ntp server as a fallback.\npool ntp.ubuntu.com\n```. Change your else to this:\nconfig.vm.provision \"shell\" do |s|\n            s.inline = \">&2 echo \\\"Unable to mount one of your folders. Please check your folders in Homestead.yaml\\\"\"\n          end\nThat way it will show up in red in the console.. If it's the same folder we'd have to shuffle some files around. Which isn't an issue.. @liamvictor You shouldn't be running master from Homestead. git checkout v4.0.5 will fix the issue.. Currently in order to use the master branch of Homestead you need a new base box that I have not yet publicly released as laravel/homestead. Running git checkout v4.0.5 will check out the latest stable release of Homestead and continue to work with ~/.homestead.. @Fuxy22 I'm open to suggestions for a deprecation system to routinely warn the user about things, but outside of a Vagrant plugin I'm just not aware of any way to implement such a thing.\nWe use Semantic Versioning so that when you see a major version change you should expect things to break and review any documentation changes before upgrading. \nWe had the official docs https://laravel.com/docs/5.4/homestead updated nearly 48 hours before releasing 5.0 and the morning we released 5.0 I had Eric publish Homestead V5.0.0 Is Released https://laravel-news.com/homestead-v5 which is the most detailed description of changes that I've seen for any Homestead release. The very first change listed is in fact instructing you on where these files are and that if you are upgrading, you'll want to copy changes to the new location.:\n```\nWhat\u2019s New in Homestead 5.0.1\nNew Stuff\nThere\u2019s no more .homestead folder! The days of hunting for your dot folder are over. Your particular Homestead configuration files will now be copied to the same folder as Homestead. To upgrade, just run the init script again, then copy any changes to Homestead.yaml, aliases, and after.sh to the newly created files.\n```\nI can empathize with you, it was a bit of a jarring change. we refactored nearly all of the make command in this release, we moved a bunch of files around. This was a major version jump, this was the time to break backwards compatibility.\n. You need to run the init.sh (or init.bat on windows) make sure you follow the docs.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Apr 4, 2017, 01:47 -0500, PUSKAS6 notifications@github.com, wrote:\n\nWhat do I do if I my Homestead.yaml and aliases are in the resources file?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/465#issuecomment-291409241), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwuR6SExxEKK0N8holtTeTmb7mzUYks5rseeKgaJpZM4MDYra).\n\n. Hi Peter, we removed the .homestead folder in a previous version. Now all the files are stored in the Homestead folder once you run the init.sh or init.bat\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 13, 2017, 14:36 -0400, Peter Ayello Wright notifications@github.com, wrote:\n\nHi,\nI have a question, I have tried to install Homestead but was having problems with it so removed it along with Vagrant. Now when I reinstalled it there was not a ~/.homestead. Is this something that has now been removed or is it an issue caused by uninstalling badly then reinstalling?\nI am quite new to coding and very new to Laravel\nI would appreciate any assistance that you can give\nThanks\nPeter\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/465#issuecomment-301266546), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwnNc0uDOUXv_TnyM4oO10mUxxQOBks5r5fg-gaJpZM4MDYra).\n\n. Ah yes, I remember now. We wanted this on by default because we want Homestead to use the host's DNS by default (so you can easily map the fake domains via Host's hosts file).. @runciters \nPrimarily this: https://twitter.com/grahamjcampbell/status/760485090212315136\nI'd rather drop HHVM support in a known working / known good state than wait until it's broken and someone has to find out the hard way it's broken / not working. We can safely say the last version of Homestead to support HHVM will be version 4.x. This allows those HHVM users to update their systems/projects to lock in at Homestead 4.x so they don't lose any features once Homestead 5.x is released.. @howdoicomputer This is somewhat tricky because if you use an older version of Homestead, HHVM will work. So it's hard to say where the line is in terms of where we should document (or remove documentation in this case) these sort of changes.. HHVM isn't listed in the 5.4 docs because Laravel 5.4 doesn't support HHVM.. Thanks for taking the time to submit a PR.\nIt's not Ruby convention to have 4 space tabs, they should be 2 space tabs in Ruby files. Any *.rb files and Vagrant files should conform to Ruby syntax/style.\nI love EditorConfig, but I don't want to add it unless the other Laravel projects are also adding it (to insure compliance/compatibility)\nI'm fine with shell scripts having 4 space indentations. Can't say I really care about trailing newlines outside of PHP files.. @DojoGeekRA \nYeah, if you want to format the Ruby & Shell scripts to use the right indention that'd be fine.\nAs for the scripts missing shebang lines, I think these are all being called from other shell scripts, and I have no real opinion about them having shebang lines added.. I would rather sacrifice DRY for readability\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 19, 2017, 21:33 -0600, Andrew Hood notifications@github.com, wrote:\n\n@andrewhood125 commented on this pull request.\nIn scripts/blackfire.sh (https://github.com/laravel/homestead/pull/473#discussion_r101943610):\n\n-echo \"$agent\" > \"/etc/blackfire/agent\" -echo \"$client\" > \"/home/vagrant/.blackfire.ini\" - -service php7.1-fpm restart -service blackfire-agent restart +echo \"php7.1-fpm blackfire-agent\" | \\ +xargs -n1 bash -c 'service ${0} restart; sleep 0.1'\n\nThis is taking DRY to the super extreme. Fascinating approach but would strongly advise against it.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/pull/473#pullrequestreview-22683912), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwgxL1aLvbaNGUy1YruraS0NrP5Rzks5reQmAgaJpZM4MFtwU).\n\n. Thanks for taking the time to PR. Going to hold off at the moment.. Thanks for the PR. Thanks for the PR. is libvert a supported provider? Can you provide some links/docs on creating libvirt vagrant boxes? I've never used it, but happy to investigate if we can easily support it.. I think we should hold off until there is more demand, or the provider matures a good bit. The QA matrix is a little troubling. (even though Ubuntu 16.04 is currently passing the release). Currently holding off until the provider matures. The QA matrix shows everything failing for Vagrant 1.9.1, and there hasn't been a commit in a little over a month.. I would rather leave existing behavior as is, and suggest users that need to enable xdebug on the command line to toggle it as needed: sudo phpenmod -s cli xdebug\nIf you want to enable xdebug on the CLI forever, just add that line to your after.sh script.. Oh! haha awesome!\nThanks for taking the time to bring up the issue.. @dbonner1987 You should PR those into https://github.com/laravel/homestead/blob/master/src/stubs/aliases. Thanks for the PR!. You should be able to easily do this via after.sh. Is there something you're doing that wouldn't work there?. Testing a laravel project this seems to make no difference.  The output of the serve-laravel.sh script looks good, but Chrome, Safari, and Firefox throw SEC_ERROR_UNKNOWN_ISSUER errors.\nroot@homestead:/etc/nginx/ssl# ll\ntotal 40\ndrwxr-xr-x 2 root root 4096 Feb 23 01:25 ./\ndrwxr-xr-x 9 root root 4096 Feb 23 01:25 ../\n-rw-r--r-- 1 root root 2238 Feb 23 01:25 quickstart.app-bundle.crt\n-rw-r--r-- 1 root root 1058 Feb 23 01:25 quickstart.app.crt\n-rw-r--r-- 1 root root  940 Feb 23 01:25 quickstart.app.csr\n-rw-r--r-- 1 root root 1679 Feb 23 01:25 quickstart.app.key\n-rw-r--r-- 1 root root 2230 Feb 23 01:25 rfid.app-bundle.crt\n-rw-r--r-- 1 root root 1050 Feb 23 01:25 rfid.app.crt\n-rw-r--r-- 1 root root  932 Feb 23 01:25 rfid.app.csr\n-rw-r--r-- 1 root root 1679 Feb 23 01:25 rfid.app.key\nContents of /etc/nginx/sites-available/rfid.app\nserver {\n    listen 80;\n    listen 443 ssl http2;\n    server_name rfid.app;\n    root \"/home/vagrant/rfid/public\";\n    index index.html index.htm index.php;\n    charset utf-8;\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location = /robots.txt  { access_log off; log_not_found off; }\n    access_log off;\n    error_log  /var/log/nginx/rfid.app-error.log error;\n    sendfile off;\n    client_max_body_size 100m;\n    location ~ \\.php$ {\n        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;\n        fastcgi_index index.php;\n        include fastcgi_params;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_intercept_errors off;\n        fastcgi_buffer_size 16k;\n        fastcgi_buffers 4 16k;\n        fastcgi_connect_timeout 300;\n        fastcgi_send_timeout 300;\n        fastcgi_read_timeout 300;\n    }\n    location ~ /\\.ht {\n        deny all;\n    }\n    ssl_certificate     /etc/nginx/ssl/rfid.app-bundle.crt;\n    ssl_certificate_key /etc/nginx/ssl/rfid.app.key;\n}. If the idea is that we would trust this CA in our browsers I would not want to encourage Homestead users to trust any CA that they create themselves. . My other concern would be that every time you add a new site you would have to check for existing cert, use it with the vhost. You'd also have to re-trust the cert every time you destroy and up. (I fully admit I'm likely an edge case as someone who destroys very often)\nI've pinged a few security people that I respect and will see what they have to say about the idea.. Going to hold off on this for now. Thanks for the idea. While I'm still torn on the issue you should be able to easily accomplish this by adding it to your after.sh file.. Thanks for the PR!. Since we're going to be doing this from PHP and from BASH / Batch I think it'd be easier to stick with stubs.. The make command is going to take some refactoring to support a JSON flag, mainly because we hardcoded the .yaml everywhere. (because who would ever use JSON \u00a0\ud83d\ude07 )\nTime to saddle up and pay down some tech debt on that I imagine.. Sounds good.\nSide note: Unless you find something broken that I haven't with the box I shared with you, I'm planning to release Homestead 5 and Settler 2 no earlier than March 1st.. Resolved via #489 . Tagging @DojoGeekRA, this is the PR I mentioned in the email. Thanks! Good catch. I totally forgot about LocalizedVagrantfile. Apparently PHP + Yaml is borked on Travis and 12+ builds later I still can't figure out what sorcery Travis CI wants to acknowledge that Yaml is a valid thing.\nI assure you tests pass\u2122\n```\nPHPUnit 6.0.6 by Sebastian Bergmann and contributors.\n...                                                                 3 / 3 (100%)\nTime: 76 ms, Memory: 4.00MB\nOK (3 tests, 15 assertions)\n``. Do you get the same errors when you runnpm run dev` from your host OS?. Your Host OS is the OS that you're running on your computer. Windows, MacOS, Linux?\nThe same window you ran vagrant ssh in, run exit and then npm run dev and see if you get the same errors. Also try the old tried and true Node debugging method of rm -rf node_modules && npm install && npm run dev. Just like you would in any other version of Linux. http://askubuntu.com/questions/594656/how-to-install-the-latest-versions-of-nodejs-and-npm-for-ubuntu-14-04-lts. Looks good, resolve the conflicts and we're good to go. Thanks for the work getting this done. Much better than my hack :D. Thanks!. In the folder that you cloned Homestead to, then run git checkout v4.0.5. Then run sh init.sh again. Your config files will be in ~/.homestead. Wow. I must have not checked out a clean copy when I was testing this because mine worked fine. Thanks for catching this.. Thanks for the PR, will have a look at this later today.. Docs should be supplemented here https://laravel.com/docs/5.4/homestead#sharing-your-environment. Thanks for taking the time for the PR. Going to pass on this for now because I'd rather not support more than 1 version of PHP in a specific version.\nMy recommendation is to create a box for each version you need, (5.5 that you can upgrade to 5.6, 7.0, and 7.1). You can follow the instructions here: https://laravel-news.com/using-older-versions-of-homestead to match versions of the Homestead repo to use with versions of the box. (For 5.5/5.6 you'll have to use a different box). Thanks for the PR!. Thanks for the PR!. You can skip adding it to the docs since the docs don't mention Apache.. Installing Apache will start the service, so this should always be a reload. Also there is no reason to do a reload after starting Apache since it wasn't running, it parsed all the config files at start.. Please see the instructions here for using PHP 5.x with Homestead: https://laravel-news.com/using-older-versions-of-homestead. @kevinsmith \nLaravel 5.1 supporting 5.5 was exactly why I created the new version of that box. That way you could still have an easily supported Homestead environment from the official source without having to hack it yourself.\nBecause of how Atlas handles box versioning I can't go back and release a new version of and old version number and since Homestead officially doesn't support it, it's under my name on Atlas rather than the Laravel name.\nIf you have any issues I'll do my best to help.. Are you using SSH to connect to vagrant or connecting via localhost on port 33060? I'd try localhost first.. Check some of the replies here: http://stackoverflow.com/questions/5755819/lost-connection-to-mysql-server-at-reading-initial-communication-packet-syste\nIf it's still an issue I can look into it later tonight. Branch and PR to https://github.com/laravel/settler/tree/3.0 Thanks!. Thanks for the report. Can you also post your Homestead.yaml.example file for us.\n/cc @DojoGeekRA . Hi @tomcoonen thanks for the report. I'll give this a spin later tonight and see if I can reproduce.. I downloaded the latest sample data from here: https://launchpad.net/test-db/+download\nBooted up a clean version of latest Homestead with mariadb: true\n```\nvagrant@homestead:~$ mysql -u homestead -p\nEnter password:\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 9\nServer version: 10.2.4-MariaDB-10.2.4+maria~xenial-log mariadb.org binary distribution\nCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\nMariaDB [(none)]> quit\nBye\n```\nI imported the sample data as instructed in the README:\nvagrant@homestead:/vagrant/employees_db$ mysql -t < employees.sql\n+-----------------------------+\n| INFO                        |\n+-----------------------------+\n| CREATING DATABASE STRUCTURE |\n+-----------------------------+\n+------------------------+\n| INFO                   |\n+------------------------+\n| storage engine: InnoDB |\n+------------------------+\n+---------------------+\n| INFO                |\n+---------------------+\n| LOADING departments |\n+---------------------+\n+-------------------+\n| INFO              |\n+-------------------+\n| LOADING employees |\n+-------------------+\n+------------------+\n| INFO             |\n+------------------+\n| LOADING dept_emp |\n+------------------+\n+----------------------+\n| INFO                 |\n+----------------------+\n| LOADING dept_manager |\n+----------------------+\n+----------------+\n| INFO           |\n+----------------+\n| LOADING titles |\n+----------------+\n+------------------+\n| INFO             |\n+------------------+\n| LOADING salaries |\n+------------------+\nI used mysqldump to export the database to a sql file:\nvagrant@homestead:/vagrant/employees_db$ mysqldump -u homestead -psecret employees > /vagrant/mariadb.sql\nThe mariadb.sql file is 161M:\n```\nvagrant@homestead:/vagrant$ ls -alh\ntotal 161M\n-rw-r--r--  1 vagrant vagrant 161M Mar  9 23:19 mariadb.sql\n```\nThen imported the mariadb.sql into a freshly created database:\nvagrant@homestead:/vagrant$ mysql -u homestead -psecret importtest < mariadb.sql\nvagrant@homestead:/vagrant$\nAs you can see I had no issues. My fear is it's likely something in the data set. No idea why it would work in a old version, we haven't changed anything w/ Maria since pre version 4 (as far as I'm aware)\nUnless you (or someone else) can provide a data set that replicates the issue there isn't much I can do.. @barryvanveen \nI can confirm the behavior. I did a fresh install of Homestead & Virtualbox & Vagrant on Windows 10 and saw the same error.\nI've just updated Virtualbox to the newest version (5.1.16 r113841) + Updated the extension. I'm about to build a new Virtualbox and I'll update here when it's ready for you to test.. I've confirmed it's not to do with the newest version of Virtualbox, I get the same error on a fresh built box.. @barryvanveen \nLooks like Virtualbox 5.1.16 is the culprit. Try downgrading to 5.1.14 (You can find the downloads here: https://www.virtualbox.org/wiki/Download_Old_Builds_5_1) and make sure you get that version of the extensions as well.\nTested on Windows 10 and that seems to be the issue.. The only other thing I can suggest is try changing your paths from C:/Users/barry/Documents/projects to \"C:\\Users\\barry\\Documents\\projects\"\nAlso map individual projects VS mapping an entire projects folder. so if you want to work on a project called \"app\" then map it's folder like this: \"C:\\Users\\barry\\Documents\\projects\\app\". Glad you got it working.. @dlynch29 \nMake sure the first line in your Homestead.yaml is:\nip: \"192.168.10.10\"\nYour paste has it on 2 lines, this won't be valid YAML. (likely not your issue)\nThis may be because you're trying to map a folder with a space in it. I've seen a lot of issues with it and I don't have a solution for it atm. Seems to be more of a Vagrant & Windows issue.\n. Try posting a new issue with all the requested info and such, I'll see if I can reproduce.. You should always run vagrant commands from the Homeastead root folder or project folder if you're using per project.. Thanks for the PR, Thanks @DojoGeekRA for the feedback & review. Duplicate of #510 Nothing we can do unfortunately.. See #416 #417 . Thanks for taking the time to report the issue. it's a known issue and a trade off we do to keep the vagrant up log from being cluttered with tons of red text so the user isn't confused about error messages VS real error messages.. @DojoGeekRA Thanks for the PR, ping me when you're ready for this to be merged.. Thanks!. I'm all for it, just haven't had time to get around to doing it. I'd like to add it to settler and then have an alias in Homestead to run the Xvfb :0 -screen 0 1280x960x24 &, If you're not using Dusk I wouldn't want that process running, so I think manually starting it is a better way to go.. @driesvints I'm going to get this added to Settler soon\u2122 with a next box version due mid April. (trying not to push those out more than once a month if I can help it). @driesvints I ran into some weird things when I ran dusk in (and out of) vagrant it kept telling me to install dependencies and linking me to gegtcomposer.org Didn't get much further than that. Outside of vagrant following the normal guide everything worked. Any ideas?. I'll have to reconfigure everything, I also reverted a ton of it.\nMy biggest let down (just being spoiled by browser-kit testing) was Dusk had no way of rolling back database changes. I have a project where I have to import a data set then run migrations, so I end up just keeping a sql file of the data in a known good state and then import it every time I run tests (and run them against a test DB). Resolved via #532 #528 \nThanks to @syntacticNaCl for the PR that ultimately ended up getting merged into Settler\nYou can test this by adding:\nbox: svpernova09/nothomestead\nTo your Homestead.yaml file. Then destroy & up vagrant. Please report any issues related to dusk.. @bgarrison25 Can you post a new issue and fill out all the info? \"this issue seems to be coming back up\" isn't helpful unless I can see all the things in the issue template to help debug.. I think we may want to move stubs to the root, and then rename stubs -> resources considering these are non-php template style files. @pmjones recently did a ton of research about project structure (https://github.com/php-pds/skeleton) and I've pinged him on twitter (and now here) for a second opinion.. @DojoGeekRA I think /resources is a fine option for now, if we get into more complex stubs later we can break it down further.\nThanks for the PR! . After you vagrant box update you always want to vagrant box destroy. No idea why you were seeing Homestead settings file not found in /Users/doncadavona/Homestead\nWould have to know what branch / version of this repo you were using. There is no v3.0.2 version of the repo.. Thanks for the PR!. @DojoGeekRA No worries at all. I intentionally haven't tagged another release until I can sit down and test these changes.\nI've been rolling around the idea of some kind of test suite like that but I just dunno.. I think we should try something like this: https://github.com/laravel/homestead/blob/master/tests/Settings/YamlSettingsTest.php#L18-L20\nCreate a test folder and run the actual commands and inspect file output. Might be worth looking into.. Resolved via #520 Thanks for taking the time!. Resolved via #520 Thanks for taking the time for the this. GenerateSlug  would be a good name for it.\nThanks @DojoGeekRA I'll have a look at this later this afternoon.. Thanks for the PR!. I'd rather not add multiple domains to the cert since I'd rather avoid such practices (even in dev) .\nWill look into this a bit. I'm out of town until Thursday if someone wants to take a crack at this.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 21, 2017, 23:08 -0400, Tyler Brownell notifications@github.com, wrote:\n\nThe latest beta version of Chrome (and apparently Firefox) make a change to how self-signed certificates are validated:\nhttps://www.chromestatus.com/feature/4981025180483584\nOpen any of your Homestead projects in the beta version of Chrome (58.0.3029.19) right now and (even with the SSL certificate imported into the system keychain and explicitly allowed) you will receive a net::ERR_CERT_COMMON_NAME_INVALID certificate error page.\nMore information about why that error is shown here:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=308330\nIn short, it's no longer good enough to only use the commonName (CN) field for the domain(s) when generating a certificate. The subjectAltName must be used to list domains that the certificate validates. This would typically involve modifying the OpenSSL configuration file for each domain/certificate that you want to generate.\nHow to do that properly is written about here:\nhttp://stackoverflow.com/questions/21488845/how-can-i-generate-a-self-signed-certificate-with-subjectaltname-using-openssl\nSince multiple domains can be easily added to the subjectAltName section of the configuration file, perhaps it's best to generate a single certificate for all of the domains Homestead will be serving?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/526), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7Cwpc1vl_PWUorP1-A5PQRQmcus_bpks5roJC9gaJpZM4Mkq-y).\n\n. @ryancwalsh  Please do not spam every possible issue. From your SO post, you're not running the latest version of Homestead. The first suggestion I have is to update Homestead to the latest versions of the repo and the base box and then visit one of your sites and add an SSL exception and trust the certificate it provides. If you have any further issues please open a new issue and fill out the template completely.. I'm traveling tomorrow but will have a look during my layover\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 22, 2017, 23:24 -0400, Tyler Brownell notifications@github.com, wrote:\n\nShould have noted the new results...\nAfter copying the certificate to your local machine and adding it to your system (or login) keychain:\nsudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain example.app.cer\nChrome v58.0.3029.33 beta starts giving you that wonderful green feeling.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/pull/527#issuecomment-288606853), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwhCq5AfF-Uxpa2-paCoaSjFu97kMks5roeXogaJpZM4MmHII).\n\n. Thanks for taking the time to share this PR!. Thanks for this. We should do the heavy lifting of installing and configuring on settler: GitHub.com/laravel/settler\nI'll have a look at this later today.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 25, 2017, 01:10 -0500, Garrett Rappaport notifications@github.com, wrote:\n\nI stumbled upon #516 (https://github.com/laravel/homestead/issues/516) when I was trying to get Dusk to work with Homestead and decided to take a whack at it. This pull request adds a headless Selenium setup for Homestead using Chrome and Xvfb. One of the issues brought up was that we don't want the framebuffer process running if the user is not using Dusk. So, I have added a Selenium config to the Homestead.yaml file which allows the user to enable or disable the process on startup.\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/laravel/homestead/pull/528\nCommit Summary\nadd headless selenium setup for homestead\nFile Changes\nM resources/Homestead.yaml (https://github.com/laravel/homestead/pull/528/files#diff-0) (3)\nM scripts/homestead.rb (https://github.com/laravel/homestead/pull/528/files#diff-1) (19)\nA scripts/selenium.sh (https://github.com/laravel/homestead/pull/528/files#diff-2) (13)\nA scripts/start-xvfb.sh (https://github.com/laravel/homestead/pull/528/files#diff-3) (5)\nPatch Links:\nhttps://github.com/laravel/homestead/pull/528.patch\nhttps://github.com/laravel/homestead/pull/528.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/pull/528), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwrzROKTxWN66sxMlrzHqmYJ6ftnJks5rpK-6gaJpZM4Mo-wV).\n\n. Going to decline this for now, since we'll likely be splitting up this implementation across settler & Homestead.\nThanks for taking the time to share this.\n@taylorotwell Have at this one, I'm still recovering from back to back trips so I may not get back to this until the weekend.. @taylorotwell my thought is we should be using stable versions of things. But not sure about having to patch my.cnf. Thoughts?. I think it's always a fine line between stable VS beta. I'm totally fine supporting RC versions because I don't think it's out of the ordinary to use RC's in production (let alone dev). Maybe I'm a bit more fast and loose than others?\nUltimately the primary focus should be supporting what Laravel requires since it's the first class citizen here. Then anything else we can do to facilitate an amazing developer experience with Vagrant.. I'm fine with supporting multiple versions but at the first sign of trouble I'm going to drop support for anything that gives me trouble in the normal Settler -> Homestead -> Release Cycle. I'll always decide to remove (or just not support) something from Homestead (in this case a version of MariaDB) instead of risking shipping the end users something that is broken.\nI also don't want to have to keep up with what's stable or not. If there is an official repo that is giving us always stable versions I'd much prefer to use that. Like @andrewhood125 mentioned using different versions of stuff is exactly what after.sh was intended. While this use case is a little odd because we don't install maria until we notice the user requiring it. But if the user installs it via after.sh the script won't overwrite the install with the specific version from the install-maria.sh\nTL;DR\nIMHO If a repo isn't years behind on stable releases we should only support stable releases and let users override this via after.sh. Resolved via #531 . Xdebug is installed and working, however it has been deactivated on the CLI which is why you don't see it in php -v. See these commands for toggling xdebug on the command line: https://github.com/laravel/homestead/blob/master/resources/aliases#L12-L13. Correct. Although you should still be running composer on your host OS since it would be even faster than in Homestead.. Thanks for taking the time to submit an issue.\nIf you need help configuring xdebug and you happen to use PhpStorm, Jetbrains has a great webinar recording: https://blog.jetbrains.com/phpstorm/2016/10/webinar-recording-step-into-debugging-with-phpstorm/. Resolves #529 Changes from #441. Thanks for fixing this.. I don't think this is a Homestead issue, this is an issue that your Host Operating System is missing networking packages.. So it looks like there's some issues on the Vagrant repo that may provide some light into the issue.\n\nhttps://github.com/mitchellh/vagrant/issues/8626\nhttps://github.com/mitchellh/vagrant/issues/8686\n\nSeem to be a similar issue but solved with \"just install net-tools\". \n\nhttps://github.com/mitchellh/vagrant/pull/7460\n\nIs a similar issue (I believe), but they're only aware of it on Cent/RH.\n\nhttps://github.com/mitchellh/vagrant/issues/8730\n\nReferences the Cent/RH issue but point out Debian is having the same issues as Cent/RH.\nIt sounds like Vagrant needs to completely deprecate the need for net-tools and switch to whatever the replacement is.  It also sounds like this may be underway.\nTaking all of this into account, there is nothing we can do here at the Homestead level. We can only support the operating systems that Vagrant (and our other dependencies such as Virtualbox, etc) requires. \"Just install net-tools\" isn't an answer I'm happy about, but it seems to be the answer Vagrant is content with at the moment. \nNow if you're using an operating system that has completely removed support for net-tools and you're trying to use an application that depends on it, you're not using a supported operating system and therefore will likely run into issues. The resolution here is \"use a supported operating system\".. Thanks for the PR.\nIs the leading \\ before ${APACHE_LOG_DIR} required? If not lets remove.. Thanks!. thanks for the PR. Thanks for the PR, I'm not sure we want to do this for everyone since it's only affecting Windows Users on Vagrant 1.9.3 and it's already fixed in Vagrant (pending release)\nFor now my advice would be to have Homestead users affected by this manually change the file as described. \nIf this continues to be a problem we can revisit.. Can you share your Homestead.yaml please.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Apr 10, 2017, 05:14 -0500, Lasse Lehtinen notifications@github.com, wrote:\n\nVersions\nVagrant: 1.9.3\nProvider: Virtualbox\nHomestead: 5.1.0\nHost operating system\nUbuntu 16.04.2 LTS\nExpected behavior\nI was restoring a database from production to Homestead using DBeaver and noticed it being extremely slow even though the dump is relatively small, 255 megabytes. I am getting speeds around 50KiB/s where as on directly on the guest I can get relatively normal speeds. Then I measured this on the command line and having the same results. I used to do the same thing on Windows 10 host and did not have this issue, so it might be something to do with the Ubuntu host.\nvagrant@homestead:~/Code$ pv dump-digital-distribution-201704101055.sql | mysql -uhomestead -psecret digital-distribution mysql: [Warning] Using a password on the command line interface can be insecure. 18.5MiB 0:00:03 [6.12MiB/s] [=======================================================================================================>] 100%\nActual behavior\nlasleh@CPB2189:~/Desktop$ pv dump-digital-distribution-201704101055.sql | mysql -uhomestead -psecret -h127.0.0.1 --port=33060 digital-distribution mysql: [Warning] Using a password on the command line interface can be insecure. 18,5MiB 0:06:22 [49,6KiB/s] [======================================================================================================>] 100%\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/539), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7Cwt1E_g-ZGPIbwScC2aOYt-l6Xo74ks5rugEYgaJpZM4M4lOo).\n\n. My guess is that you're mapping too many files, and your Homestead.yaml may confirm it.\nfolders:\n    - map: ~/Code\nHow many folders/projects are in ~/Code? If it's a lot this may be the source. You're mapping ALL of them into Homestead via Virtualbox's shared folders. This is probably the culprit of the slowdown. Why don't you see it in Windows? Not entirely sure.\nMy suggestion: Only map the folders you need into Homestead, not your entire projects folder.\nAlternative: Try using NFS, this may solve your speed problem but does come with file IO latency trade offs.. Not sure what the cause could be then. Is it still slow when you don't use pv? I'd assume it is, doubt that's the issue.\nDoesn't sound like it's a Homestead issue. If you figure out what's causing it please report back and let us know.. Thanks for the PR!. Thanks for the PR!\n(If you want), open a PR to https://github.com/laravel/settler that adds pv so Homestead will have it by default.. Glad you got it sorted out!. Curious what others think, I don't have a preference. Is this solving the problem where people just aren't aware of the existing aliases to toggle xdebug on the command line? If so we just make mention in the docs to raise awareness rather than adding another alias.. Lets the change the name of the alias to something more descriptive of what's happening. Maybe enable_xdebug_cli or something?. +1 for xphp. Thanks for the PR!. Duplicate of https://github.com/laravel/homestead/pull/538. Thanks for taking the time to submit a PR, the short term I'd recommend doing this for your own install, and then upgrade as soon as vagrant has solved the problem. Alternatively downgrade to Vagrant 1.9.2.. Are you specifying the ports In Homestead.yaml? You should be able to override the default ports unless something on your system is doing it to vagrant or if you have changed something in the .rb file in Homestead.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Apr 19, 2017, 09:50 -0500, Dante Lopez notifications@github.com, wrote:\n\nPlease note that the Homestead issue tracker is reserved for bug reports and enhancements. We are not always able to debug Vagrant, Provider or Operating System issues but will do our best to help. Thank you!\nVersions\nVagrant: Vagrant 1.9.3\nProvider: Virtualbox\nHomestead: v5.2.1\nHost operating system\nLubuntu 16.04 32-bit\nHomestead.yaml\n--- ip: \"192.168.10.10\" memory: 512 cpus: 1 provider: virtualbox authorize: ~/.ssh/id_rsa.pub keys: - ~/.ssh/id_rsa folders: - map: ~/Web to: /var/www/html type: \"nfs\" sites: - map: base.local to: /var/www/html/base\nVagrant up output\nhomestead-7: Forwarding ports... homestead-7: 80 (guest) => 8000 (host) (adapter 1)\nExpected behavior\nAccess site http://base.local:8000/ on my host browser\nActual behavior\nCannot access it with the forwarded port, instead I can access it directly on port 80 http://base.local/. My question is, shouldn't the port forwarding works the other way around?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/547), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwiZ8NbYcBuUE3lMj1OumqPkyMTnDks5rxh87gaJpZM4NBy8R).\n\n. Run vagrant destroy && vagrant up and show me the entire output. I'm thinking this may be a Lubuntu bug, I'm at a conference at the moment and don't have a way to test this atm.. Also: What version of Virtualbox are you using?. Will reopen once more info is supplied. From the aliases file:\nfunction serve-proxy() {\n    if [[ \"$1\" && \"$2\" ]]\n    then\n        sudo dos2unix /vagrant/scripts/serve-proxy.sh\n        sudo bash /vagrant/scripts/serve-proxy.sh \"$1\" \"$2\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  serve-proxy domain port\"\n    fi\n}\nYou should be using serve-proxy domain port, where the port is the ${2} value.\nIf you are using Homestead per project, you may be missing your aliases file. If so just runphp vendor/bin/homestead make --aliases.\nYou can verify your aliases are working by vagrant ssh and inspecting the .bash_aliases file in /home/vagrant. We pass the value here: https://github.com/laravel/homestead/blob/master/scripts/homestead.rb#L188-L189 You need to ensure you're specifying a port on your site:\nsites:\n    - map: test.local\n      to: /var/www/html/test\n      type: proxy\n      port: <Port>\nIf you don't specify a port, we're passing the default value 80 to that script.. Resolved via #551 . Closing, duplicate of #551 . Test this for me:\n\nAdd schedule: true\nvagrant provision\nverify the cron is in /etc/cron.d\nRemove schedule: true\nvagrant provision\nverify the cron MISSING from /etc/cron.d\nvagrant provision\nVerify no console errors. Thanks for the PR!. Thanks. Will make sure next release goes back to the v prefix.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Apr 23, 2017, 05:18 -0500, Milo\u0161 Gavrilovi\u0107 notifications@github.com, wrote:\n\nI just noticed that last two releases were names without v as a prefix, while every other release had it. Check it out:\nhttps://github.com/laravel/homestead/releases\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/554), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7Cwo-_-_zcwi8OuP2pQsKUg9V8iaKZks5ryyVagaJpZM4NFXUJ).\n\n. This appears to be intended behavior. Homestead defaults to nginx when there is no site type by creating an nginx virtual host, not proxy to apache. They should both be served by apache when you uncomment the type from phpinfo.app\nYou will likely run into issues if you're trying to run apache AND nginx hosts on the same Homestead. I would recommend you use the per project install method OR use 1 Homestead for all of your apache projects, and one for all of your nginx projects.. We probably should have something in the types docs that mentions no type == nginx. The use case for Apache in Homestead is to use it as  the primary server VS behind nginx. Because we're defaulting both vhosts to 80 mixing and matching is what would likely create conflicts.. This needs to be PR/Fixed in https://github.com/laravel/settler. Resolved via https://github.com/laravel/settler/pull/109. No, it's just a generic self signed cert. Because there is no trusted root verifying the cert there is no intermediate.. I'm not entirely sure. This may be relevant: http://stackoverflow.com/questions/26759550/how-to-create-own-self-signed-root-certificate-and-intermediate-ca-to-be-importe\nI don't think this is something we'd want for Homestead but I'm happy to be proven wrong if we can find an unobtrusive implementation.. We should probably think about making after.sh always copy over as well.. @ConnorVG What regression? If you have an existing aliases file in the project root, the make command would not overwrite it. If the make command is overwriting any files (except in some cases Homestead.yaml) that's probably a bug.. This change will only affect users who are using the per project installation method. The implementation should not overwrite existing files so the is no way to break a user's current working version on upgrade or subsequent runs of the make command.\nI don't understand what part will \"piss\" you off, can you help me understand?. So you have a problem that every new install would have these files that the previous versions wouldn't. I can see that being annoying.\nThe way around that would be to composer update laravel/homestead on each of those projects and re-run the make command to generate the missing files (if desired). Alternatively you could just delete the files after the make command ran if you didn't want them.\nProbably a better scenario would be to reverse the current flags: --aliases --after to --no-aliases --no-after where the default behavior would be to create the files, but give the user an easy override to not even generate them.\nThanks for the feedback.. Updated OP with new requirements.. Resolved via #564. This has now been tagged https://github.com/laravel/homestead/releases/tag/v5.3.0\nNote the default behavior is the after.sh and aliases will be copied over via the make command.\nTo prevent this behavior use the no-after and/or no-aliases flags.. Please show us the contents of Homestead.yaml, Also vagrant ssh and sudo ifconfig. Does sudo service mailhog restart do anything?\n. Thanks for the PR. Sorry for the delay but I'll have a look at this later this evening (US time). Thanks for the report.\nUse git checkout to check out a release version.\nMaster may not always be in a workable state.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 9, 2017, 08:08 -0500, M. Vugteveen notifications@github.com, wrote:\n\nI am getting this error after this PR\nThere are errors in the configuration of this machine. Please fix the following errors and try again: shell provisioner: * Shell provisioner args must be a string or array\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/pull/563#issuecomment-300155701), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwvH_BofOhSRY5HsDDVy9Gl0fwQU3ks5r4GQjgaJpZM4NTTCt).\n\n. Thanks!\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 9, 2017, 8:17 AM -0500, Afriat Yaniv notifications@github.com, wrote:\n\n@it-can and @svpernova09 i'll correct it tonight (France time)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for the PR! I was just about to start on this \ud83d\udc4d . Thanks!. Use full path mappings instead of relative paths, then do vagrant destroy && vagrant up to see if the issue remains.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 9, 2017, 10:17 AM -0500, Gerard Reches notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 1.9.4\n\u2022 Provider: Virtualbox 5.1.22\n\u2022 Homestead: Vagrant 1.9.4\nHost operating system\nWindows 10\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: ~/Repositories/phpMyAdmin\n     to: /home/vagrant/phpMyAdmin\n\n\nmap: ~/Repositories/Laravel\n     to: /home/vagrant/Laravel\n\n\nmap: ~/Repositories/Vue\n     to: /home/vagrant/Vue\n\n\nmap: ~/Repositories/Wordpress\n     to: /home/vagrant/Wordpress\n\n\nsites:\n   - map: phpmyadmin.dev\n     to: /home/vagrant/phpMyAdmin\n- map: laravel-example.dev\nto: /home/vagrant/Laravel/example/public\n\n- map: vue-example.dev\nto: /home/vagrant/Vue/example/public\n\n- map: wordpress-example.dev\nto: /home/vagrant/Wordpress/example\n\n\nmap: notaria.dev\n     to: /home/vagrant/Laravel/notaria/public\n\n\nmap: 5thessence.dev\n     to: /home/vagrant/Wordpress/5thessence\n\n\ndatabases:\n   - notaria_db\n   - 5thessence_db\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nVagrant up output\nGist\nExpected behavior\nAfter vagrant up, I should run vagrant ssh to access homestead and it works correctly.\nActual behavior\nThe home path is C:/Users/Carlos Piana, and when I run vagrant ssh I get a warning and can't access to homestead console:\n$ vagrant ssh\nWarning: Identity file C:/Users/Carlos not accessible: No such file or directory.\nbash: Piana/Homestead/.vagrant/machines/homestead-7/virtualbox/private_key: No such file or directory\nSteps to reproduce\n\nYour user home path is like C:/Users/John Doe\nhomestead up\nhomestead ssh\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. To make sure your paths are being converted properly try removing the single quotes (since you don\u2019t have any characters to escape) and use \\ instead of /.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 9, 2017, 10:40 AM -0500, Gerard Reches notifications@github.com, wrote:\n\nIssue remains with the next homestead.yaml configuration and after vagrant destroy && vagrant up:\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: 'C:/Users/Carlos Piana/.ssh/id_rsa.pub'\nkeys:\n   - 'C:/Users/Carlos Piana/.ssh/id_rsa'\nfolders:\n   - map: 'C:/Users/Carlos Piana/Repositories/phpMyAdmin'\n     to: /home/vagrant/phpMyAdmin\n   - map: 'C:/Users/Carlos Piana/Repositories/Laravel'\n     to: /home/vagrant/Laravel\n   - map: 'C:/Users/Carlos Piana/Repositories/Vue'\n     to: /home/vagrant/Vue\n   - map: 'C:/Users/Carlos Piana/Repositories/Wordpress'\n     to: /home/vagrant/Wordpress\nsites:\n   - map: phpmyadmin.dev\n     to: /home/vagrant/phpMyAdmin\n   - map: notaria.dev\n     to: /home/vagrant/Laravel/notaria/public\n   - map: 5thessence.dev\n     to: /home/vagrant/Wordpress/5thessence\ndatabases:\n   - notaria_db\n   - 5thessence_db\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Your username has spaces, you have to escape those, change those back:\n\nauthorize: 'C:/Users/Carlos Piana/.ssh/id_rsa.pub'\nkeys:\n    - 'C:/Users/Carlos Piana/.ssh/id_rsa'. Also make sure you're using 5.2.4 of Homestead. and not the master branch.. Are you still getting \n$ vagrant ssh\nWarning: Identity file C:/Users/Carlos not accessible: No such file or directory.\nbash: Piana/Homestead/.vagrant/machines/homestead-7/virtualbox/private_key: No such file or directory\nTry \nauthorize: \"C:\\Users\\Carlos Piana\\.ssh\\id_rsa.pub\"\nkeys:\n    - \"C:\\Users\\Carlos Piana\\.ssh\\id_rsa\". Open up scripts/homestead.rb and look for this section:\n# Copy The SSH Private Keys To The Box\n        if settings.include? 'keys'\n            settings[\"keys\"].each do |key|\n                config.vm.provision \"shell\" do |s|\n                    s.privileged = false\n                    s.inline = \"echo \\\"$1\\\" > /home/vagrant/.ssh/$2 && chmod 600 /home/vagrant/.ssh/$2\"\n                    s.args = [File.read(File.expand_path(key)), key.split('/').last]\n                end\n            end\n        end\nChange the s.inline = line to:\ns.inline = \"echo \\\"$1\\\" > /home/vagrant/.ssh/\\\"$2\\\" && chmod 600 /home/vagrant/.ssh/\\\"$2\\\"\". Show me the Homestead.yaml you're using when you get that error. I'm running out of options / solutions to try. Something in the setup isn't getting the space escaped properly.. AFAIK symlinks aren't going to solve the issue. Since the error is still breaking on the space.. Sorry, I'm not sure where to go from here. The only solution I can offer would be to move your folders out of your user folder and into a path without spaces.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 12, 2017, 03:30 -0500, Gerard Reches notifications@github.com, wrote:\n\n@svpernova09 (https://github.com/svpernova09) Why closed? The issue is still there, I was trying all you have said.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub (https://github.com/laravel/homestead/issues/566#issuecomment-301017159), or mute the thread (https://github.com/notifications/unsubscribe-auth/AA7CwtAwPPcSvBbCuMQspas9JWhRAgGpks5r5BiogaJpZM4NVeBR).\n\n. Will tag a new release once https://github.com/laravel/docs/pull/3307 has been merged & deployed. I haven't forgotten about this :D\nI believe this is not a specific bug to VMware but a homestead bug. I'm slammed this week but will get to this next week for sure.. This has been fixed, please make sure to check the upgrade notes in the https://github.com/laravel/homestead/releases/tag/v5.3.1 release. I believe this is a Windows and VirtualBox bug. Will double check in the\nmorning.\nOn May 15, 2017 22:28, \"Clayton Stone\" notifications@github.com wrote:\n\nFresh installs for homestead have been plagued for weeks now with this\nerror. I found a fix online\nfor it that involved tweaking line #90\nhttps://github.com/laravel/homestead/pull/90 of scripts/homestead.rb.\nReplacing the first line:\nconfig.vm.network \"forwarded_port\", guest: guest, host: host,\nauto_correct: true\nwith this line:\nconfig.vm.network \"forwarded_port\", guest: guest, host: host, host_ip:\n\"127.0.0.1\", auto_correct: true\nThe fix works perfectly. Are there unintended side affects? Things that\nneed to be taken into consideration?\nAgain, with that fix in place, everything seems to work like is should. It\nis just a pain to have to change that one line everything I run composer\nupdate and homestead updates.\nAny info would be much appreciated.\nVagrant: 1.9.3\nProvider: Virtualbox 5.1.18 r114002 (Qt5.6.2)\nHomestead: Current Version\nHost operating system\nWindows 8,1\nHomestead.yaml\nip: 192.168.10.10\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    -\n        map: 'C:\\code*&&&'\n        to: /home/vagrant/Code/&&&\nsites:\n    -\n        map: &&&&.app\n        to: /home/vagrant/Code/&&&&/public\ndatabases:\n    - &&&&\nname: &&&&\nhostname: &&&&(Sorry remove my project name)\nVagrant up output\nChecking if box 'laravel/homestead' is up to date...\nC:/HashiCorp/Vagrant/embedded/gems/gems/vagrant-1.9.3/lib/vagrant/util/is_port_open.rb:21:in `initialize': The requested address is not valid in its context. - connect(2) for \"0.0.0.0\" port 8000 (Errno::EADDRNOTAVAIL)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/issues/571, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA7Cwrb56b4wYCLugLQJkZTc4lUAImNcks5r6RfMgaJpZM4Nb84r\n.\n. This was a bug in Vagrant, and according to https://github.com/mitchellh/vagrant/issues/8395#issuecomment-289248377 it's been fixed in 1.9.4, so I would upgrade to the current release: 1.9.5 and see if the issue remains.\n\nIf the issue still happens come back and we'll revisit.. This was a bug in Vagrant, and according to https://github.com/mitchellh/vagrant/issues/8395#issuecomment-289248377 it's been fixed in 1.9.4, so I would upgrade to the current release: 1.9.5 and see if the issue remains.\nIf the issue still happens come back and we'll revisit.. Glad you got it sorted out!. /cc @thecrypticace. No rush at all.\nOne thing I want to avoid over-engineering a solution for this. If it's cleaner to keep separate files that's great. If we can implement changes in the make command that we can test and verify, without increasing overall complexity, that's even better.. Please post your Vagrantfile and after.sh files. You shouldn't need to install PHP 7.1, The latest Homestead box already has it installed.. What version of Vagrant are you using? There was a few issues around Windows (Networking and folder sharing IIRC) that were solved by 1.9.4/5. Cool. Hopefully that solves it because I can't offer any alternatives :/\nI think I'm going to drop support for hyper-v and remove the published boxes. The developer experience people have become accustomed to from Homestead can't be maintained at this time via hyper-v. So instead of doing hyper-v badly, I'll wait until we can do it well.. 5.3.2 Should fix this. Let me know if it doesn't. (Works on my machine\u2122) :D. @jonnywilliamson please open a new issue and include all the requested files, also include your after.sh file. Unable to reproduce this with the following versions:\nHomestead: v5.3.2\nVirtualbox: Version 5.1.18 r114002 (Qt5.6.2)\nVagrant: 1.9.5\nPlease open a new issue with the and fill out the template including versions and replication instructions.. Please remove any vagrant plugins that are doing things with your host computer's /etc/hosts file and then run vagrant destroy && vagrant up and post the results please.. I think that check on the folder works fine for this use case. I'll have a look at this later tonight. Thanks!. Just tested this out, looks good. Thanks for the PR!. Thanks @DojoGeekRA You're awesome.. Thanks for the PR!. I think you are trying to initialize homestead?Run the script 'init.sh'\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 31, 2017, 03:56 -0500, Show notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: Vagrant 1.9.5.\n\u2022 Provider: Virtualbox \u7248\u672c 5.1.22 r115126 (Qt5.6.2).\n\u2022 Homestead: Laravel Homestead 5.3.2.\nnot us homestead init\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. From inside the Vagrant machine please post the contents of the file /home/vagrant/.bash_aliases as well as the aliases file from your Homestead folder or Project root.. Sounds like you need to run the sh init.sh script, or php vendor/bin/homestead make depending on how you're using Homestead.. Try running vagrant box update to make sure you are getting the most up to date version of the base box.. ngrok is baked into the base box. You should see it:\n\nvagrant@homestead:~$ whereis ngrok\nngrok: /usr/local/bin/ngrok\nIf you see it there, and you still get errors using share, something has altered your aliases file and I would need to see the contents to debug any further. The /usr/local/bin should be in the user's path so running ngrok should return the default output.\nPlease paste the entire output of the following commands: ngrok and the share command you are using.. Do a vagrant destroy. Not just a provision. Also do rm .vagrant in the folder you run vagrant commands from. This will force vagrant to copy a new copy of the base box to the project folder.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jun 5, 2017, 07:40 -0500, Neamtu Andrei notifications@github.com, wrote:\n\nHey,\nwhereis just says\nngrok:\nRunning ngrok says\n-bash: ngrok: command not found\nIt just seems that it isn't installed. As i said before this message, after I ran init.sh and reprovisioned the machine the share command was there but couldn't find ngrok.\nvagrant@homestead:~$ share ruvix2.app\n-bash: ngrok: command not found\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @zmorris Your aliases file is missing the share alias. Delete it and then run the init script (or homestead make command depending on your install method).. Please show your Homestead.yaml. Will reopen when you show homestead file.. What is your host OS?\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 22, 2017, 03:44 -0500, mffap notifications@github.com, wrote:\n\nMaybe there is something that I have missed, but unfortunately I experience the same problem with a fresh install of Homestead, that is:\n\u2022 vm boots up without errors\n\u2022 timeout on http://homestead.app or http://homestead.app:8000\n\u2022 ~/Code/Laravel/public/index.html (test site) is accessible over http://localhost:8000 (but not over http://localhost)\n\u2022 ping on homestead.app / homestead.app:8000 time out\nSteps taken in troubleshooting (still same result)\n\u2022 vagrant destroy followed by vagrant up --provision\n\u2022 vagrant reload --provision and vagrant provision\n\u2022 system reboot\n\u2022 upgrade system to ensure packages are up-to-date\n\u2022 tested different browser (firefox, chrome)\n\u2022 ngix logs are empty on vm\n\u2022 fresh install of homestead in different folder\n\u2022 checkout older version (v5.3.2)\nThe same setup worked before on the same machine.\nPlease find below the contents of relevant files.\nThanks for the help\nHomestead.yaml\nonly changed ssh files\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.mffap.pub\nkeys:\n   - ~/.ssh/id_rsa.mffap\nfolders:\n   - map: ~/Code\n     to: /home/vagrant/Code\nsites:\n   - map: homestead.app\n     to: /home/vagrant/Code/Laravel/public\ndatabases:\n   - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n/etc/hosts\n127.0.0.1    localhost\nThe following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nHomestead\n192.168.10.10 homestead.app\n/etc/nginx/sites-available/homestead.app\non vagrant via vagrant ssh\nserver {\n   listen 80;\n   listen 443 ssl http2;\n   server_name homestead.app;\n   root \"/home/vagrant/Code/Laravel/public\";\nindex index.html index.htm index.php;\ncharset utf-8;\n...\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Install the net-tools package and you should be all set\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 22, 2017, 10:19 -0500, mffap notifications@github.com, wrote:\n\nUbuntu 16.04.2 LTS\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Open up a new ticket and fill out all the fields and copy the file outputs you have above into that new ticket. Make sure vagrant and virtual box are up to date as well. Thanks.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 22, 2017, 10:24 -0500, mffap notifications@github.com, wrote:\n\nyes, also tried this one already on the host:\nnet-tools is already the newest version (1.60-26ubuntu1)\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. If it's implemented in the same way as mongo I'm open to a PR\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jun 8, 2017, 00:01 -0400, Julio Castro notifications@github.com, wrote:\n\nAny plan to include couchdb database similar to mongodb scripts?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Resolves #590. I was able to reproduce the issue, however to ensure I was hitting the same errors you were please look at /var/log/apache2/mysite.dev-error.log and paste here the results of 1 page refresh. \n\nI ran into a few issues: Missing vendor folder (Autoloader couldn't be found, run composer install), Couldn't open storage/laravel.log needed to set write permissions on my host os on that folder (and also bootstrap folder needed to be writable. After all of these my application ran fine.\nWon't be able to help until we can see what errors are getting logged about the 500 from Apache.. Glad you got it sorted! Happy to help.. No way of debugging this with such little info. Try seedling less data per seeder and run them multiple times? Might be running out of memory (but I'd expect a memory error).\nMay have to go inspect the core dump to see what happened.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jun 14, 2017, 02:28 -0500, jericopulvera notifications@github.com, wrote:\n\nI updated my homestead to the latest release. and when I seed a large amount of data I started getting this error\n\nsegmentation fault (core dumped)\nit's working before\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Check out: https://ma.ttias.be/generate-php-core-dumps-segfaults-php-fpm/. Hi, \n\n\nThanks for asking.\nI don't think there's any performance gain here since we by default map the entire Laravel folder into a shared folder.\nTraditionally the \"improve vagrant performance\" solutions are\n\nUse VMware (Fastest folder syncing)\nUse NFS (Faster than Virtualbox syncing sometimes)\n\nWe also try not to make Homestead dependent on any vagrant plugins if we can help it. Give it a spin though and see if it helps.. Does this change break symfony 2 projects?\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jun 21, 2017, 22:38 -0500, Michael Smith notifications@github.com, wrote:\n\nSymfony 4 and Symfony 3.3 use a single front controller script index.php instead of the app.php and app_dev.php. This PR alters the Symfony 2 configuration for use with Symfony 4. A single location block is needed as the .env file controls the environment dev versus prod.\nhttp://flexrecipes.org/recipes/symfony/framework-bundle\nhttps://github.com/symfony/recipes/tree/master/symfony/framework-bundle/3.3/web\nYou can view, comment on, or merge this pull request online at:\n\u00a0\u00a0https://github.com/laravel/homestead/pull/600\nCommit Summary\n\u2022 add Symfony4 nginx configuration\nFile Changes\n\u2022 A scripts/serve-symfony4.sh (49)\nPatch Links:\n\u2022 https://github.com/laravel/homestead/pull/600.patch\n\u2022 https://github.com/laravel/homestead/pull/600.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @browner12 For me it's an annoyance to cd past another folder to reach my code base. It's a small thing, and hopefully more of a quality of life improvement. This has been brought up a few times, and ultimately what it comes down to is this becomes a big configuration nightmare on our end.\n\nMy suggestion is to use different boxes for each version of PHP you need to support. Check out https://laravel.com/docs/5.4/homestead#old-versions if you want to use PHP 7.0. If you need to use 5.x have a look here: https://laravel-news.com/using-older-versions-of-homestead. Multiple PHP versions is coming in Homestead 6.0, Settler 3.0\nSoon\u2122. https://laravel.com/docs/5.7/homestead#multiple-php-versions. Must be a hiccup, it's working fine for me:\n```\nC:\\Users\\halo\n\u03bb vagrant box add laravel/homestead\n==> box: Loading metadata for box 'laravel/homestead'\n    box: URL: https://atlas.hashicorp.com/laravel/homestead\nThis box can work with multiple providers! The providers that it\ncan work with are listed below. Please review the list and choose\nthe provider you will be working with.\n1) parallels\n2) virtualbox\n3) vmware_desktop\nEnter your choice:\n```. This is definitely something on your end or else we'd be flooded with others having the same issue. Make sure you're running the most up to date version of vagrant.. If this is still an issue please let us know here.. You should map individual projects, not entire folders with many projects in it.\n==> homestead-7: Unable to mount one of your folders. Please check your folders in Homestead.yaml\nThis means Homestead couldn't map  ~/Projects/Laravel for some reason\n. Try:\n```\nfolders:\n    - map: ~/Projects/Laravel/sandbox\n      to: /home/vagrant/Code\nsites:\n    - map: sandbox.app\n      to: /home/vagrant/Code/sandbox/public\n``. Ah, you're missing a leading/`\nfolders:\n    - map: ~/Projects/Laravel/sandbox\n      to: home/vagrant/Code\nNeeds to be\nfolders:\n    - map: ~/Projects/Laravel/sandbox\n      to: /home/vagrant/Code. Thanks will check it out. I don't think a modern application should be routing to an individual file like this. Seems like it should be avoided.\nIf you're trying to mix and match Laravel with a legacy application, I think you're still doing something wrong by matching a filename to a route.. That sounds more like an application architecture / process decision that is outside the scope of Homestead. My recommendation would be to utilize after.sh to adjust your virtual host file to change this on a per project or site basis.. Thanks for taking the time to create a pull request.\nNot planning on merging this as is because it shouldn't be set for everyone just to fix an npm problem on Windows. Can you open a new https://github.com/laravel/homestead/issues and describe the problem?. @jonnywilliamson I'm still waiting on a bug report to show me how to reproduce the issue: https://github.com/laravel/homestead/pull/609#issuecomment-314289712. I would love to see a https://github.com/laravel/homestead/issues filled out with steps to reproduce, etc. \nIf it's a matter of launching your terminal with administrator privilege, that's not a Homestead issue. That's an issue of running Vagrant on Windows and we won't be able to do anything about that.. Thanks, Will look into it.. This will be in the next base box release: https://github.com/laravel/settler/releases/tag/v2.2.0. @elramus No, we're not supporting the sqlsrv driver any longer: https://github.com/laravel/homestead/issues/719#issuecomment-344470607. Thanks for taking the time to write this up. As I expected this is caused by not running the console application as administrator (therefore running vagrant as Administrator). There isn't anything we can do to fix this for windows users (and not make a change that would affect all platforms as the previous PR showed).\nSounds like the best advice is to run Vagrant as an administrator on Windows, or use the Linux subsystem to create your projects instead of doing it in Homestead.. Thanks for the bug report.\nDo you have anything in after.sh? If so can you share it here.. Ah! I see it.\nThe key to this is you're running vagrant up --provision and the output is telling you Maria has already been installed: https://gist.github.com/keithdoyle9/43f847088dabef1bc8f185389b9a779f#file-gistfile1-txt-L61\nMy advice is to vagrant destroy && vagrant up to reset the entire box. If you don't want to destroy you can try running rm -rf /home/vagrant/.maria and then vagrant up --provision again. (Not 100% that will fix it, but worth a shot, if not, destroy & up will get it fixed). Can you post a gist of the output of:\nvagrant destroy -f && vagrant up\nI haven't been able to recreate the issue.. Also run vagrant box outdated and make sure you're running the newest version of the base box.. That gist output looks good. don't see any errors. Nothing has changed regarding Maria in releases lately.\nGlad you got it working. If you find a repeatable scenario that causes the bug please let us know.. Are you suspending or sleeping your machine?. I have no idea, check the logs to see what's happening?. Thanks for the PR!. Hi, This is the right place to bring up such an issue.\nif there's enough demand I'm all for it. Anyone who would like to see this can feel free to chime in. \nAt the moment this can be done via the after.sh script (Which is executed after your apache host is setup and configured). Sure, drop it in the scripts folder and name it serve-elgg.sh and then you'll be able to use the site type elgg. Yep, it needs to be in the scripts folder to work as a site type. Thanks for the PR!. I'll tag a new release in a few days, I want to test out a mariadb issue so if you want to use this now just checkout the master branch.. Going to close this out as it's not a Homestead issue, but labelled it with Vagrant and Virtualbox labels. Thanks for debugging!. Not seeing a clear install path, is this just a binary we'll add to the global path, or something else? Hard to tell if this is something you should bind to your application, or to your dev environment. Gotcha. I'll have a look at those links. Thanks.. Will be in the next release of the Base box (likely later this month or early September). This has been released in the new base box: https://github.com/laravel/settler/releases/tag/v3.1.0. Odd, the only thing I did earlier this morning was add a new test branch. I've just removed it, we'll give it a few minutes to see what happened on packagist fixes itself.. Wow, that's odd. So sorry about that!. Thanks for the bug report. There are definitely issues here.\nHowever \nfolders:\n    -\n        map: /Users/stationhead/Sites/my-company/api\nIn per project we'll always generate this based on the assumption you're running the make command from your project root and we'll always generate a full path since it's the only reliable way to do that without knowing where your project folder exists.. This should be resolved in https://github.com/laravel/homestead/releases/tag/v6.0.2. No rush to merge, when you have time. No worries.. Make sure you've completely destroyed/removed the previous box. When you upgrade you have to do a clean destroy or you won't get an upgraded version of the base box.\nRun this and see if you get the error, if you do give me the entire output in a gist please:\nvagrant destroy && rm -rf .vagrant && vagrant up. @mortscode Show me a gist of all the of output from that command so I can see whats happening (And show me the journalctl -xe output)\nI'm unable to recreate this on my end.. Run this command:\nvagrant destroy && rm -rf .vagrant && vagrant up\n and show me a gist of ALL of the output\nYes, journalctl -xe from inside vagrant (will be A LOT of info, you're looking for the php56 service. @mortscode \nCan you vagrant ssh and then run cp /etc/php/5.6/fpm/php-fpm.conf /vagrant/php-fpm-56.conf then paste a gist of php-fpm-56.conf (it will be in the root of your Homestead folder). Ah ha! I found it.\nTL;DR Remove the section\nvariables:\n    - key: APP_ENV\n      value: local\nThen destroy and vagrant up again.\n@mossadal Check and see if you also have this section.\nI'll investigate a fix asap.\n. I have no valid explanation why this works on 7.0 and 7.1, but errors on 5.6. For now my advice would be to move these variables into your sites' params:  https://laravel.com/docs/5.4/homestead#site-parameters. Glad we got it sorted out. thanks for sticking with me there!. Thanks @DojoGeekRA !. Try downgrading Virtualbox to the previous version. I've seen a lot of weirdness lately about Virtualbox not playing nice with connections.. I'm willing to bet it's a Fedora issue. I'll see if I can get 26 running on a local machine to reproduce the issue.\nIn the meantime please check this issue https://github.com/laravel/homestead/issues/534 and see if this is possibly related.. I'm unable to reproduce this.\n\nFedora 26\nVirtualbox 5.1.26 r117224\nVagrant 1.9.7\n\nVagrant up:\n```\n[halo@localhost homestead]$ vagrant destroy -f && vagrant up\n==> homestead-7: Forcing shutdown of VM...\n==> homestead-7: Destroying VM and associated drives...\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Importing base box 'laravel/homestead'...\n==> homestead-7: Matching MAC address for NAT networking...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 8000 (host) (adapter 1)\n    homestead-7: 443 (guest) => 44300 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 33060 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 54320 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 8025 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 27017 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /home/halo/homestead\n    homestead-7: /home/vagrant/qs => /home/halo/quickstart-basic-5.3\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7:\n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyPaigrObYNgiVNZPTH0GCQYpIOsUI5EOf+Ve1iK7rz32qy74eCojqwGmKMIU/Hdd6UxnTI/OzgOMBQaxS5UjBSZUKYzMz1dLRZe2Orqig5Ygm0fTGEEFWoFuQzHpSKGi6GeKI11d+JcRXiD7fBtROpu15xK49r3JTt2sEY/2srFpmzQbf3qchgh9qEOht5FLI9YBg8IIsSXsygnG8mJ/AEfP3NoHCKX8EBY61QQPB6jhPxYOFgr/sYyqcHGdZgtK7oPMkPn+aCDkAXLNR2Vdikfxg3czHxygLZB6qrpt5NL+VF+1O+g4TcfAcuShiIsBZXkwvx5Na4uBXQMQyf2WR halo@localhost.localdomain\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /tmp/vagrant-shell20170804-24568-kwoxwh.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: homestead.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: homestead.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: homestead2.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: homestead2.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: You are already using composer version 1.4.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /tmp/vagrant-shell20170804-24568-1toz1fb.sh\n[halo@localhost homestead]$ vagrant ssh\nWelcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-81-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n3 packages can be updated.\n0 updates are security updates.\n```\nTry doing a vagrant destroy && vagrant up and posting the entire output (the output in the original report is without any provisioning)\nUnfortunately unless we can find a way to reproduce this there isn't anything we can do.. I did a fresh install of Fedora 26. The only thing out of the ordinary was I had to use dnf to install the kernel devel packages but other than that everything was fine.. Thanks for the report. I saw something about this in relation to another issue but never got around to tracking it down.\nI'm hesitant to say \"lets just disable apparmor cause it's a dev environment\" but I think we should see if this is going to be a long lasting MariaDB issue. If so maybe we remove apparmor before we install maria, that way only those users would be affected.. Closing for now, if this bug sticks around we'll implement ^. Resolved via https://github.com/laravel/homestead/releases/tag/v6.0.3. unfortunately this is going to be an apache limitation since PHP version is a server configuration VS nginx a site configuration option.\nWe should get something added to the Docs that mentions this. (Probably). Sorry for the issues!. @narration-sd I totally get it, and I'm sorry for the frustration, but at the moment it's not an easily feasible option. Compiling PHP versions is just another step outside of what's going to be easy maintainable for me for Homestead. Sticking to PPAs is what makes this entire project a lot easier to handle.\nMy best recommendation would be installing Homestead per project per each version of PHP you need and run each of those on their own version of PHP.. The primary thing I want to avoid is compiling PHP for Homestead. It's so much easier to debug knowing that PHP is coming from a PPA and Ond\u0159ej is the gold standard. Atm we're actually supporting old versions of PHP in 2 ways, old versions of PHP where I maintain a personal box for 5.x and official Homestead box versions for 7.0. \nI'm just at my limit it what I can support with the best user experience for Homestead.. Thanks for the kind words, it certainly makes it worth it :D \nI hate to say no to stuff, especially knowing it'll help people, but we have to balance that with what keeps it easy to maintain across 3 OS's and 3 providers.\nCheers.. > We did it already in our production environment. So, please fix it in homestead, too.\nPull requests are always welcome.. Thanks for the PR, i'll have a look at this over the weekend.. Thanks for the PR!. There is no way of knowing or even beginning to guess without you filling out the entire issue report. Please open a new issue and fill out all of the fields.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Aug 3, 2017, 17:04 -0500, Cesar Aguilera notifications@github.com, wrote:\n\nHi\nI have homestead updated v5.3.2 and I have a lumen application, when the job queue receives a job after 1 minute I receive the error: segmentation fault (core dumped) only happens in homestead, in a productive environment with the same version of php 7.1 works well.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for taking the time to share a PR.\n\nThis is something that should be overridden via after.sh since setting server times to UTC/GMT seems to be an industry standard.. Thanks for the PR!. Thanks for the PR, however this is not how we'd add another provider to Homestead.\nI've tried multiple times now to support Hyper-V and I just can't get it to the point where it is as stable on Windows as the other providers due to Microsoft not opening up all of the APIs on Win10 professional and due to Vagrant having a tendency to randomly break things in Vagrant from Windows.. Homestead by definition is \"official, pre-packaged Vagrant box\". There are no official Laravel docker container setups although https://github.com/laradock/laradock is the closest thing to that. You're not really solving anything by putting Homestead into a container or creating a group of containers to mimic Homestead because the principle of containers are to only bring what you need, where Homestead is \"everything you need and then some\". There's just not a practical application where docker makes sense for Homestead.. Does this happen every time?\nE: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/xenial-updates/main/binary-i386/by-hash/SHA256/7eb25684079054ab896a3e29b0a5d9982dd1b554a322e3a838e4ab1298f53977  Hash Sum mismatch \nSounds like this is an apt / repo issue.. is this still an issue? Please check my previous comment: https://github.com/laravel/homestead/issues/637#issuecomment-320454843. Haven't been able to replicate this.\nHaven't been able to replicate this.\nHomestead.yaml\n```\nip: \"192.168.30.10\"\nmemory: 2048\ncpus: 1\nprovider: parallels\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    -\n        map: ~/PhpstormProjects/quickstart-5.4\n        to: /home/vagrant/qs\nsites:\n    -\n        map: qs.app\n        to: /home/vagrant/qs/public\ndatabases:\n    - homestead\nvariables:\n- key: APP_ENV\nvalue: \"local\"\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n```\nVagrant up output:\n```\nvagrant up\nBringing machine 'homestead-7' up with 'parallels' provider...\n==> homestead-7: Registering VM image from the base box 'laravel/homestead'...\n==> homestead-7: Cloning new virtual machine...\n==> homestead-7: Unregistering the box VM image...\n==> homestead-7: Setting the default configuration for VM...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 0: shared\n    homestead-7: Adapter 1: hostonly\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 => 8000\n    homestead-7: 443 => 44300\n    homestead-7: 3306 => 33060\n    homestead-7: 5432 => 54320\n    homestead-7: 8025 => 8025\n    homestead-7: 27017 => 27017\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 10.211.55.18:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7: Warning: Connection refused. Retrying...\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for Parallels Tools installed on the VM...\n==> homestead-7: Parallels Tools installed on this VM are outdated! In most cases\n==> homestead-7: this is fine but in rare cases it can cause things such as shared\n==> homestead-7: folders to not work properly. If you see shared folder errors,\n==> homestead-7: please update Parallels Tools within the virtual machine and\n==> homestead-7: reload your VM.\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /Users/halo/PhpstormProjects/homestead\n    homestead-7: /home/vagrant/qs => /Users/halo/PhpstormProjects/quickstart-5.4\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7:\n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170808-19376-op2nit.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: Updating to version 1.5.0 (stable channel).\n==> homestead-7:\n==> homestead-7: Downloading (connecting...)\n==> homestead-7:\n==> homestead-7: Downloading (100%)\n==> homestead-7:\n==> homestead-7:\n==> homestead-7: Use composer self-update --rollback to return to version 1.4.2\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170808-19376-1bpxw5i.sh\nvagrant up: 00:55\n```\nTesting an Application:\n```\nvagrant ssh\nWelcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-81-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n3 packages can be updated.\n0 updates are security updates.\nvagrant@homestead:~$ ll\ntotal 52\ndrwxr-xr-x 6 vagrant vagrant 4096 Aug  8 22:15 ./\ndrwxr-xr-x 3 root    root    4096 Jun 26 12:11 ../\n-rw-r--r-- 1 root    root    5426 Aug  8 22:15 .bash_aliases\n-rw-r--r-- 1 vagrant vagrant  220 Jun 26 12:11 .bash_logout\n-rw-r--r-- 1 vagrant vagrant 3771 Jun 26 12:11 .bashrc\ndrwx------ 2 vagrant vagrant 4096 Jun 26 12:12 .cache/\ndrwxrwxr-x 4 vagrant vagrant 4096 Aug  8 22:15 .composer/\n-rw-r--r-- 1 root    root      61 Aug  8 22:15 .my.cnf\n-rw-r--r-- 1 vagrant vagrant    6 Jun 26 12:12 .prlctl_version\n-rw-r--r-- 1 vagrant vagrant  704 Aug  8 22:15 .profile\ndrwxr-xr-x 1 vagrant vagrant 1190 Jul 29 15:12 qs/\ndrwx------ 2 vagrant root    4096 Aug  8 22:15 .ssh/\n-rw-r--r-- 1 vagrant vagrant    0 Jun 26 12:12 .sudo_as_admin_successful\n-rw-r--r-- 1 root    root     182 Jun 26 12:20 .wget-hsts\nvagrant@homestead:~$ cd qs/\nvagrant@homestead:~/qs$ artisan migrate\nMigration table created successfully.\nMigrating: 2014_10_12_000000_create_users_table\nMigrated:  2014_10_12_000000_create_users_table\nMigrating: 2014_10_12_100000_create_password_resets_table\nMigrated:  2014_10_12_100000_create_password_resets_table\nMigrating: 2016_10_15_170839_create_widgets_table\nMigrated:  2016_10_15_170839_create_widgets_table\nMigrating: 2016_10_15_204431_create_tasks_table\nMigrated:  2016_10_15_204431_create_tasks_table\nMigrating: 2016_11_08_214050_create_marketing_emails_table\nMigrated:  2016_11_08_214050_create_marketing_emails_table\nvagrant@homestead:~/qs$ artisan db:seed\npSeeding: WidgetSeeder\nhvagrant@homestead:~/qs$ phpunit\nPHPUnit 5.7.21 by Sebastian Bergmann and contributors.\n..........................                                        26 / 26 (100%)\nTime: 2.43 seconds, Memory: 20.00MB\nOK (26 tests, 113 assertions)\nvagrant@homestead:~/qs$\n``. Will reopen if we can replicate this.. PHP is just a version of PHP to run the project in requirement, not a dependency that must be updated in the/vendor` folder like your packages.\nThe PHP version is managed in Homestead. Following the basic docs and you'll end up with your application running on PHP 7.1 by default.\n. composer update php is never going to do what you think it does. The PHP version in your composer.json file is there JUST to limit what versions can run your project. If you want to change this, update the php setting in composer.json to ^7.1 and run composer update (without the php) and composer.lock should be updated accordingly.. Show me a complete output of vagrant destroy && vagrant up, also post your composer.json.\nAlso from INSIDE vagrant, run ls -alh /usr/bin/php and show the output.. Good catch! Thanks for the PR. @jonnywilliamson no, this adds xdebug configuration to the Homestead.yaml. #545 is a toggle to allow xdebug on the CLI in general.\nThanks for the PR, but going to hold off on this for now, I think it's simpler to have people adjust xdebug values via after.sh if they need to.. Please open a new issue with the requested information.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Aug 10, 2017, 19:59 -0500, katopenzz notifications@github.com, wrote:\n\nPlease note that the Homestead issue tracker is reserved for bug reports and enhancements. We are not always able to debug Vagrant, Provider or Operating System issues but will do our best to help. Thank you!\nVersions\n\u2022 Vagrant: Run vagrant -v to show the version.\n\u2022 Provider: Virtualbox, VMWare or Parallels and it's version.\n\u2022 Homestead: Run homestead --version to show the version\nA lot of issues can be resolved by simply updating vagrant, provider or homestead.\n\nNote: Virtualbox users, please upgrade to ~5.1. You will show as up-to-date from the ~5.0 branch when you About -> Check for Updates. You'll need to download a newer version of Virtualbox.\nHost operating system\nThis is the operating system that you run locally.\nHomestead.yaml\n\nCopy-paste your Homestead.yaml here\nVagrant up output\nProvide a link to a GitHub Gist containing the complete output.\nDo NOT paste the debug output in the issue, just paste the link to the Gist.\nExpected behavior\nWhat should have happened?\nActual behavior\nWhat actually happened?\nSteps to reproduce\n\n\n\n3.\nReferences\nAre there any other GitHub issues (open or closed) that should be linked here?\nFor example:\n\n\n\n\u2022 GH-1234\n\u2022 ...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @katopenzz If you're having issues at the SSH key, make sure you have created a SSH key pair and the paths to them in your Homestead.yaml file are correct / working. After that, we can't be much help until you fill out all the info in the issue.. Not sure about mirrors, but I'll look into getting a torrent up.. Mentioned adding a torrent to Taylor, not sure if this is something we'll do or not. Thanks for the suggestion.. If someone could point me to a non shady tracker where we could do this I'll investigate further. ATM I don't want to rub my own tracker for 1 torrent and I don't want to use this as the primary download method.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Aug 27, 2017, 09:58 -0500, Jim Merioles notifications@github.com, wrote:\n\nIt would really be a great help if somebody would make their copy of latest homestead box available for torrent, it's so slow using the cmd and even downloading it directly through the direct download link gives me 100kb/s.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. You need to run vagrant box add laravel/homestead boxname.box --box-version VALUE where boxname.box is the filename of the .box file and VALUE is the version of the box.. Updating a box creates a new version and downloads a new .box file. It doesn't alter any existing versions of .box files you've already added.. it will create a new version of the laravel/homestead box. But you'll need to specify the version of that box. Thanks for taking the time to share a PR. I think this is something people should enable themselves for testing instead of it being on by default.. > The root path should be \"/home/vagrant/Code/public\";\n\nNo, the root path should be /home/vagrant/Code/Laravel/public because this is what you have your site to: path set to, which is what shows in your cat /etc/nginx/sites-available/homestead.app as expected.\nYou should be mapping 1 project to 1 site in Vagrant, not a folder that has multiple projects under it.\n. The folder to path is 100% up to you, but should always be somewhere in /home/vagrant. \nTry this:\nfolders:\n    -\n        map: 'C:\\Users\\Marcelo\\Proyectos\\blog'\n        to: /home/vagrant/blog\nsites:\n    -\n        map: blog.app\n        to: /home/vagrant/blog/public. Yep. I see what you're saying.\n. @mjnciceri I have a fix for this, but I need to test some other things before I create a new release. Will do it first thing in the morning.. Fix has been merged and is included in this release: https://github.com/laravel/homestead/releases/tag/v6.1.0. Thanks for the PR!. thanks!. Thanks for the PR!. As @ricardoseriani mentioned, Settler is the tools we use to build the base box that you download as laravel/homestead for Vagrant to use. We match Settler versions with versions of the boxes we release: The version numbers on the boxes https://app.vagrantup.com/laravel/boxes/homestead match up with https://github.com/laravel/settler/releases. Normally the average user does not need to care about Settler. Just know that when vagrant tells you that there is a newer base box, you should upgrade it (and Homestead).. Unfortunately not since the different versions of mysql use the same paths. It works with PHP because all the binaries and configuration paths are per version.. Ah! Windows subsystem may be the culprit here!\nMy advice would be to install vagrant for Windows, and avoid using the Linux subsystem completely.. Yeah, sorry about that. I think the Vagrant team has had some rough issues with Windows lately. They've been breaking it left and right. Supposedly the Fall Update for windows 10 should bring native NAT to Hyper-V, which means I might be able to start supporting hyper-v again. That's still the fastest I've ever seen Homestead run.. Tagging @maddcatter to review the grammar changes.. Thanks for the PR! and the Grammar review :D. Thanks for the PR!. This is similar to other reports we have seen when running Homestead from a path that contains a space. I still believe this is a vagrant on windows issue.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Aug 28, 2017, 05:59 -0500, Souhail Merroun notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 1.9.8\n\u2022 Provider: Virtualbox\nHost operating system\nWindows 10\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: ~/www\n     to: /home/vagrant/www\nsites:\n   - map: hello.app\n     to: /home/vagrant/www/hello\ndatabases:\n   - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nVagrant up output\nExpected behavior\nIt's should have allowed me to access to virtual machine\nActual behavior\nIt's does not allow me to access to virtual machine\nSteps to reproduce\n\nvagrant ssh on command line\n\nBug & Solution Idea\nI found that the problem was in my user folder on Windows, It's was \"Souhail M\", the space was the error, after I switched the session to something like this \"souhail\", it's works well.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks, I'll have a look at this later tonight. Thanks for the PR!. Run this command and post a gist of the full output:\n\nvagrant destroy && vagrant up. What console application are you using? Is this in regular cmd.exe?. What's the output of vagrant ssh? According to the gist the VM looks like it's booted without any errors. \nMaybe try http://tech.osteel.me/posts/2015/01/25/how-to-use-vagrant-on-windows.html#enter-putty and using that to connect to vagrant?. @tracyaichele Please let us know if you need further help.. There is no way of telling what's going on with this little information. my guess is you're doing something to overpower MySQL and you should either back off how much your chunking at MySQL at a time, or you should give the VM more resources.. We don't document these because you shouldn't need to run these serve commands yourself. Homestead will do it for you based on your Homestead.yaml settings.\nIf you do want to run these yourself then yes, you should be able to parse what's needed by looking at homestead.rb and seeing where they are called. You must pass a PHP version.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Sep 1, 2017, 06:44 -0500, 19 Peaches notifications@github.com, wrote:\n\nI just recently botched my local Homestead version so I had to start from scratch.\nI updated everything, Homestead to version 6.1, Box version to 3, Vagrant and Virtualbox, so I'm running all the lastest versions.\nThe normal install went fine, but in Homestead I now see there many different serve command scripts, with zero documentation that I can find for using all these cool scripts.\nFor instance, using the normal serve-laravel script via the alias serve, the nginx block for PHP is incorrect since the script itself is looking for a param to be passed for the PHP version ... there is no documentation for this on how to pass it in manually, or where it should be set globally so it doesn't need to be passed.\nAt the very least there should be a full list of all possible variables for the Homestead.yaml file, and all the different serve scripts, and how to execute them.\nI've had to manually change the serve-laravel script so it correctly uses PHP 7.1, and sadly that has to be redone every time Homestead has a version bump.\nIf there is documentation can someone please point me to it?\nThanks\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. https://github.com/laravel/homestead/blob/master/scripts/homestead.rb. Thanks for the suggestion, will look into it on the next round of Settler updates.. Fantastic work. Thanks for the PR!. This is a neat problem!\n\nCan you checkout v6.1.0 and then destroy & up and see if it happens here too? there actually is a bit of changes on master that hasn't been tagged yet. (I've been a bit of a slacker). RE: logs Check this out: https://blogs.oracle.com/scoter/virtualbox-log-files-v2\n. Yes, that's normal.. Will reopen if you find issues. There's still no smoking gun that anyone is reporting. I'd try doing clean installs of Vagrant, and Virtualbox.. @browner12 Try this https://github.com/laravel/homestead/issues/663#issuecomment-327821119 Anything viable in there?\nAre you suspending the machine? The vagrant box? That's the only thing I can think of.. Try adding:\ngui: true\nTo Homestead.yaml. If the box closes on you, does the Gui window disappear? Any errors in it?. I just tested Homestead with Vagrant 2.0 on MacOS with no issues. If anyone comes up with issues please open a new issue.. For Homestead to support Docker as a provider we'd have to build a base box from https://github.com/laravel/settler for Docker. I don't have any immediate plans to. I've not looked into it yet either so that could change. .  Since Vagrant 2.0.0 uses boot2docker on Windows and Mac, I don't think we'll be supporting docker as a provider. It seems odd that Vagrant went boot2docker method instead of the newer native methods on those operating systems.. Trusting insecure Certificates is not a practice I want to see Homestead facilitate by default. This is something I'm happy for users to do but I don't want to make it easy. I want them to understand the risks associated with what they're doing.\nThanks for taking the time to put together this pull request.. Thanks for the PR!. I thought I did too, but today I realized the current release still uses it (when the make command runs to generate a per project Homestead.yaml). Thanks for the PR!\nI'll have to revisit getting rid of this folder again :D. We could also change the default to .localhost. Leaning towards going to .localhost as the default. I get it, which is why I mentioned .test originally. But you can always change it. This is just the default that Homestead will start out with when you generate your Homestead.yaml file.. We're going to be defaulting to .localhost. FYI Homestead defaults to .test since https://github.com/laravel/homestead/pull/697. Map each folder to a site, not one folder with multiple projects.\nRun vagrant destroy -f && vagrant up and post a gist of the entire output. (the vagrant up you posted doesn't provision). I'm betting this is a Ubuntu 17.04 issue. Try installing the nettools package (if it's even in 17.04). I'm betting there's reports of Vagrant not playing nice with 17.04.\nI'm away from home this week so I don't have an empty box to throw 17.04 on and test. So it will be sometime this weekend before I'm able to verify.. I would always install from downloads from the respective sites VS using what would be found in Apt. Thanks for testing, glad you got it sorted out.. Thanks for confirmation!. Based on https://github.com/hashicorp/vagrant/issues/351#issuecomment-1339640 it's a Virtualbox bug that's being ignored by that team. Probably a big game of \"No our problem\". \nAfter reading a bit up on sendfile in nginx, (https://t37.net/nginx-optimization-understanding-sendfile-tcp_nodelay-and-tcp_nopush.html) I don't see any harm in defaulting it to off. \nAssuming it works the same way in apache we can default it off there as well.. We're already default to sendfile off: https://github.com/laravel/homestead/blob/master/scripts/serve-laravel.sh. Not sure what the problem is here? That is Homestead updating the composer binary itself, not running composer update on your application.. Make sure /var/www/html/Homestead/public is where your index.php file is.. Thanks for the PR!. @antimech it broke paths in the per project installation method during the make command.. Does the issue occur on https://github.com/laravel/homestead/releases/tag/v6.2.2 ?\nUnable to replicate on MacOS, Virtualbox 5.1.28, and vagrant 2.0.0. Oh!\nThe problem is your folder mounts:\nfolders:\n    - map: ~/Sites\n      to: /home/vagrant\nYour mounting your entire Sites folder to /home/vagrant. Which doesn't have a .ssh folder. \nDon't map entire folders. map project folders to subfolders in /home/vagrant. Yeah, this is why we don't recommend you use master and use tagged versions instead. I'm poking at a few different things today.. Reverting this for now. it's currently overriding the default home folder of /home/vagrant. @DojoGeekRA \nNo worries at all. I didn't catch it either, and it explains why there is a code directory to begin with. i think we may leave it as is for now. But make sure the per project (make command) doesn't use it. Since we don't know what a user may be doing on a global install we want that code folder to protect them from this kind of bug. With the make command, we know exactly the path they're using so the code folder is only adding another level to traverse and we can easily skip it.. Updated my VMware drive to High Sierra.\nVMware Fusion 8.5.8 looks good.\n```\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead-svpernova09-fork)(master ??:1 UU:1 S:2 diverged)(en0:192.168.1.3/24 utun2:192.168.109.1/24 utun2:192.168.100.1/24 utun2:172.16.74.1/24)\u2500\u2510\n\u2514\u2500(08:45:47)\u2500 vagrant -v                                                                                                                                                                      \u2500(09/26/17)\u2500\u2518\nVagrant 2.0.0\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead-svpernova09-fork)(master ??:1 UU:1 S:2 diverged)(en0:192.168.1.3/24 utun2:192.168.109.1/24 utun2:192.168.100.1/24 utun2:172.16.74.1/24)\u2500\u2510\n\u2514\u2500(08:45:50)\u2500 vagrant up                                                                                                                                                                      \u2500(09/26/17)\u2500\u2518\nBringing machine 'homestead-7' up with 'vmware_fusion' provider...\n==> homestead-7: Cloning VMware VM: 'teststead'. This can take some time...\n==> homestead-7: Verifying vmnet devices are healthy...\n==> homestead-7: Preparing network adapters...\nWARNING: The VMX file for this box contains a setting that is automatically overwritten by Vagrant\nWARNING: when started. Vagrant will stop overwriting this setting in an upcoming release which may\nWARNING: prevent proper networking setup. Below is the detected VMX setting:\nWARNING:\nWARNING:   ethernet0.pcislotnumber = \"32\"\nWARNING:\nWARNING: If networking fails to properly configure, it may require this VMX setting. It can be manually\nWARNING: applied via the Vagrantfile:\nWARNING:\nWARNING:   Vagrant.configure(2) do |config|\nWARNING:     config.vm.provider :vmare_fusion do |vmware|\nWARNING:       vmware.vmx[\"ethernet0.pcislotnumber\"] = \"32\"\nWARNING:     end\nWARNING:   end\nWARNING:\nWARNING: For more information: https://www.vagrantup.com/docs/vmware/boxes.html#vmx-whitelisting\n==> homestead-7: Starting the VMware VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 172.16.74.129:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Forwarding ports...\n    homestead-7: -- 80 => 8000\n    homestead-7: -- 443 => 44300\n    homestead-7: -- 3306 => 33060\n    homestead-7: -- 5432 => 54320\n    homestead-7: -- 8025 => 8025\n    homestead-7: -- 27017 => 27017\n    homestead-7: -- 22 => 2222\n    homestead-7: SSH address: 172.16.74.129:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring network adapters within the VM...\n==> homestead-7: Waiting for HGFS to become available...\n==> homestead-7: Enabling and configuring shared folders...\n    homestead-7: -- /Users/halo/PhpstormProjects/homestead-svpernova09-fork: /vagrant\n    homestead-7: -- /Users/halo/PhpstormProjects/quickstart-basic-5.3: /home/vagrant/qs\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7:\n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/97/4sl2fkks1032nq958jch3ymc0000gn/T/vagrant-shell20170926-7506-14vis30.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: You are already using composer version 1.5.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/97/4sl2fkks1032nq958jch3ymc0000gn/T/vagrant-shell20170926-7506-u2gv7b.sh\nvagrant up: 02:41\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead-svpernova09-fork)(master ??:1 UU:1 S:2 diverged)(en0:192.168.1.3/24 utun2:192.168.109.1/24 utun2:192.168.100.1/24 utun2:172.16.74.1/24)\u2500\u2510\n\u2514\u2500(08:48:33)\u2500 vagrant ssh                                                                                                                                                                     \u2500(09/26/17)\u2500\u2518\nWelcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-92-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n3 packages can be updated.\n0 updates are security updates.\nvagrant@homestead:~$ cd qs/\nvagrant@homestead:~/qs$ artisan migrate\nMigration table created successfully.\nMigrated: 2014_10_12_000000_create_users_table\nMigrated: 2014_10_12_100000_create_password_resets_table\nMigrated: 2016_10_15_170839_create_widgets_table\nMigrated: 2016_10_15_204431_create_tasks_table\nMigrated: 2016_11_08_214050_create_marketing_emails_table\nvagrant@homestead:~/qs$ artisan db:seed\nSeeded: WidgetSeeder\nSeeded: TaskSeeder\nvagrant@homestead:~/qs$ phpunit\nPHPUnit 5.7.3 by Sebastian Bergmann and contributors.\n................................                                  32 / 32 (100%)\nTime: 3.25 seconds, Memory: 20.00MB\nOK (32 tests, 149 assertions)\nvagrant@homestead:~/qs$\n```. Virtualbox on High Sierra looks good from here\n```\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead)(master)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500(en0:192.168.1.3/24)\u2500\u2510\n\u2514\u2500(10:51:10)\u2500 vagrant up                                                                                       \u2500(09/26/17)\u2500\u2518\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Importing base box 'laravel/homestead'...\n==> homestead-7: Matching MAC address for NAT networking...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 8000 (host) (adapter 1)\n    homestead-7: 443 (guest) => 44300 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 33060 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 54320 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 8025 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 27017 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /Users/halo/PhpstormProjects/homestead\n    homestead-7: /home/vagrant/qs => /Users/halo/PhpstormProjects/quickstart-5.4\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7:\n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170926-53966-6in3dp.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: You are already using composer version 1.5.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170926-53966-geclwn.sh\nvagrant up: 01:02\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead)(master)(en0:192.168.1.3/24 vboxnet2:192.168.30.1/24)\u2500\u2510\n\u2514\u2500(10:52:12)\u2500 vagrant ssh                                                                                      \u2500(09/26/17)\u2500\u2518\nWelcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-92-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n3 packages can be updated.\n0 updates are security updates.\nvagrant@homestead:~$ ll\ntotal 52\ndrwxr-xr-x 6 vagrant vagrant 4096 Sep 26 15:52 ./\ndrwxr-xr-x 3 root    root    4096 Aug 23 01:52 ../\n-rw-r--r-- 1 root    root    5426 Sep 26 15:52 .bash_aliases\n-rw-r--r-- 1 vagrant vagrant  220 Aug 23 01:52 .bash_logout\n-rw-r--r-- 1 vagrant vagrant 3771 Aug 23 01:52 .bashrc\ndrwx------ 2 vagrant vagrant 4096 Aug 23 01:53 .cache/\ndrwxrwxr-x 4 vagrant vagrant 4096 Sep 22 17:48 .composer/\n-rw-r--r-- 1 root    root      61 Sep 26 15:52 .my.cnf\n-rw-r--r-- 1 vagrant vagrant  704 Sep 26 15:52 .profile\ndrwxr-xr-x 1 vagrant vagrant 1088 Sep  3 21:24 qs/\ndrwx------ 2 vagrant root    4096 Sep 26 15:52 .ssh/\n-rw-r--r-- 1 vagrant vagrant    0 Aug 23 01:53 .sudo_as_admin_successful\n-rw-r--r-- 1 vagrant vagrant    6 Aug 23 01:53 .vbox_version\n-rw-r--r-- 1 root    root     182 Aug 23 01:56 .wget-hsts\nvagrant@homestead:~$ cd qs\nvagrant@homestead:~/qs$ artisan migrate\nMigration table created successfully.\nMigrating: 2014_10_12_000000_create_users_table\nMigrated:  2014_10_12_000000_create_users_table\nMigrating: 2014_10_12_100000_create_password_resets_table\nMigrated:  2014_10_12_100000_create_password_resets_table\nMigrating: 2016_10_15_170839_create_widgets_table\nMigrated:  2016_10_15_170839_create_widgets_table\nMigrating: 2016_10_15_204431_create_tasks_table\nMigrated:  2016_10_15_204431_create_tasks_table\nMigrating: 2016_11_08_214050_create_marketing_emails_table\nMigrated:  2016_11_08_214050_create_marketing_emails_table\nvagrant@homestead:~/qs$ artisan db:seed\nSeeding: WidgetSeeder\nvagrant@homestead:~/qs$ phpunit\nPHPUnit 5.7.21 by Sebastian Bergmann and contributors.\n..........................                                        26 / 26 (100%)\nTime: 3.59 seconds, Memory: 20.00MB\nOK (26 tests, 113 assertions)\nvagrant@homestead:~/qs$\n```. \u2705 Parallels + High Sierra\n```\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead)(master)(en0:192.168.1.3/24 vboxnet2:192.168.30.1/24 vnic0:10.211.55.2/24 vnic1:10.37.129.2/24)\u2500\u2510\n\u2514\u2500(11:06:35)\u2500 vagrant up                                                                                       \u2500(09/26/17)\u2500\u2518\nBringing machine 'homestead-7' up with 'parallels' provider...\n==> homestead-7: Registering VM image from the base box 'laravel/homestead'...\n==> homestead-7: Cloning new virtual machine...\n==> homestead-7: Unregistering the box VM image...\n==> homestead-7: Setting the default configuration for VM...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 0: shared\n    homestead-7: Adapter 1: hostonly\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 => 8000\n    homestead-7: 443 => 44300\n    homestead-7: 3306 => 33060\n    homestead-7: 5432 => 54320\n    homestead-7: 8025 => 8025\n    homestead-7: 27017 => 27017\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 10.211.55.26:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7: Warning: Connection refused. Retrying...\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for Parallels Tools installed on the VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /Users/halo/PhpstormProjects/homestead\n    homestead-7: /home/vagrant/qs => /Users/halo/PhpstormProjects/quickstart-5.4\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7:\n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170926-64336-1wjks4g.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: You are already using composer version 1.5.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/dv/jhkxknyj3nscz4hlghs_45280000gn/T/vagrant-shell20170926-64336-kkepu5.sh\nvagrant up: 01:12\n\u250c\u2500(halo@Joes-MacBook-Pro.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead)(master)(en0:192.168.1.3/24 vboxnet2:192.168.30.1/24 vnic0:10.211.55.2/24 vnic1:10.37.129.2/24 vnic2:192.168.20.1/24)\u2500\u2510\n\u2514\u2500(11:07:49)\u2500 vagrant ssh                                                                                      \u2500(09/26/17)\u2500\u2518\nWelcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-92-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n3 packages can be updated.\n0 updates are security updates.\nvagrant@homestead:~$ cd qs\nvagrant@homestead:~/qs$ artisan migrate\naMigration table created successfully.\nrMigrating: 2014_10_12_000000_create_users_table\nMigrated:  2014_10_12_000000_create_users_table\nMigrating: 2014_10_12_100000_create_password_resets_table\nMigrated:  2014_10_12_100000_create_password_resets_table\nMigrating: 2016_10_15_170839_create_widgets_table\nMigrated:  2016_10_15_170839_create_widgets_table\nMigrating: 2016_10_15_204431_create_tasks_table\nMigrated:  2016_10_15_204431_create_tasks_table\nMigrating: 2016_11_08_214050_create_marketing_emails_table\nMigrated:  2016_11_08_214050_create_marketing_emails_table\nvagrant@homestead:~/qs$ artisan db:seed\npSeeding: WidgetSeeder\nhvagrant@homestead:~/qs$ phpunit\nPHPUnit 5.7.21 by Sebastian Bergmann and contributors.\n..........................                                        26 / 26 (100%)\nTime: 2.46 seconds, Memory: 20.00MB\nOK (26 tests, 113 assertions)\nvagrant@homestead:~/qs$\n```. Unless you're using NFS, High Sierra should be a fine upgrade. \nPlease consider upgrading carefully and do not take this thread as a \"All clear it works!\". This thread is purely a \"It works on my Machine(s)\u2122\". I assume the upstream change was in a box upgrade. Feel free to PR a fix to settler. This will be resolved in the next base box update. Geez, I guess we can turn it on. :D \nThanks for the PR!. Thanks for taking the time to open an issue.\nThis is not a bug, rather working as intended. If you really want to set up and use git from inside Vagrant after.sh is where you should set those commands.. We probably should be using update-alternatives. I used symlinks previously because I didn't want to poke at the system too hard. But we should likely be doing this the proper ubuntu way.. We want to be able to switch versions on the command line because composer can install different versions of dependencies based on running composer from 5.6 or 7.x\nWe want to ensure a user with a 5.6 site and a 7.1 site has the ability to swap to the CLI sapi version to run composer with.. @jonnywilliamson they were removed in that commit because they were redundant for the functions here: https://github.com/laravel/homestead/blob/21166d58a436d37f28295296d89b0732ff7ba64a/resources/localized/aliases#L29-L42. IMHO it's up to the developer to know that they should be running composer on a specific version of PHP if they're using PHP versions per site. If symlinking isn't breaking anything I'm fine with it. If there's a proper \"Ubuntu Way\" lets investigate. What version of PHP are you using? I'm unable to reproduce this on a clean folder:\n```\n\u250c\u2500(joeferguson@halonine)(~)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500(en0:192.168.1.94/24 vboxnet0:192.168.10.1/24)\u2500\u2510\n\u2514\u2500(08:03:49)\u2500 mkdir test                                                                                               \u2500(10/03/17)\u2500\u2518\n\u250c\u2500(joeferguson@halonine)(~)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500(en0:192.168.1.94/24 vboxnet0:192.168.10.1/24)\u2500\u2510\n\u2514\u2500(08:03:52)\u2500 cd test                                                                                                  \u2500(10/03/17)\u2500\u2518\n\u250c\u2500(joeferguson@halonine)(~/test)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500(en0:192.168.1.94/24 vboxnet0:192.168.10.1/24)\u2500\u2510\n\u2514\u2500(08:03:53)\u2500 composer require laravel/homestead                                                                       \u2500(10/03/17)\u2500\u2518\nUsing version ^6.2 for laravel/homestead\n./composer.json has been created\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 7 installs, 0 updates, 0 removals\n  - Installing symfony/yaml (v3.3.9): Loading from cache\n  - Installing symfony/process (v3.3.9): Loading from cache\n  - Installing psr/log (1.0.2): Loading from cache\n  - Installing symfony/debug (v3.3.9): Loading from cache\n  - Installing symfony/polyfill-mbstring (v1.5.0): Loading from cache\n  - Installing symfony/console (v3.3.9): Loading from cache\n  - Installing laravel/homestead (v6.2.2): Loading from cache\nsymfony/console suggests installing symfony/event-dispatcher ()\nsymfony/console suggests installing symfony/filesystem ()\nWriting lock file\nGenerating autoload files\n\u250c\u2500(joeferguson@halonine)(~/test)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500(en0:192.168.1.94/24 vboxnet0:192.168.10.1/24)\u2500\u2510\n\u2514\u2500(08:04:05)(127)\u2500 ./vendor/bin/homestead make                                                                         \u2500(10/03/17)\u2500\u2518\nHomestead Installed!\n```. Resolved via #682 . Thanks for fixing this!. Thanks for the PR!. I probably won't tag this until sometime next week when I get a chance to get some more testing done.. Thanks! Works well. Thanks!. Thanks for the PR, going to hold off on this. I'm not sure start and end scripts is the best implementation.. Will test in the morning. Thanks!\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Oct 10, 2017, 21:38 -0500, David Furnes notifications@github.com, wrote:\n\n@svpernova09 Oh woah, wait a sec \u2013 I just re-provisioned my box with that line removed & it built without errors. It looks like this issue may actually have been fixed upstream in Vagrant. I pushed up another pull request if you don't mind re-testing. \ud83d\ude47\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Awesome! Thanks! I didn't even realize they finally fixed this. Cheers.. This would likely be implemented in https://github.com/laravel/settler/blob/master/scripts/provision.sh#L139-L194. Resolved via https://github.com/laravel/settler/pull/126 and will be in the next base box upgrade.. awesome, thanks!. Thanks for the PR! Be careful exposing Vagrant to to the public network :D. @bbsnly You must vagrant destroy && vagrant up everytime you download a base box update.\n\n@sumityadav I have no idea, it's definitely released: https://app.vagrantup.com/laravel/boxes/homestead/versions/4.0.0 I've upgraded all of my machines without issue.. @marcelogarbin your code repo is newer than you box version. make sure you run vagrant box update && vagrant destroy && vagrant up. @marcelogarbin you should never have anything IN the VM you can't reinsert easily\u2122.\nThat being said. You should be able to run dbexport from inside Homestead and you should see the database exports appear in the folder you're running vagrant from. Double check these exports before you destroy.\n\nWhenever you update the base box you must destroy & up to get the new base box image in your virtual machine. Thanks for the PR!. \ud83d\udc4d nice thanks!. Thanks!. Thanks for the PR!. @Shkeats \n\nNice catch. I bet the logic doesn't account for subdomains and just assumes you're only using 1 domain string. Thanks!. Can you verify #704 resolved this and close the issue if so? Thanks!. Thanks!. Please fill out the entire issue template including the full output of \u2018vagrant destroy && vagrant up\u2019\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Oct 20, 2017, 02:22 -0500, akimcsm notifications@github.com, wrote:\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Yesterday morning (US Central time) the webupd8team Java repo was / is completely broken since Oracle released a new version and removed the old downloads. So it wouldn't surprise me if this was totally broken until the webupd8team team updates their repo.. Here's a workaround you can use in the meantime if you need it:\n\nEither put the jdk-8u151-linux-x64.tar.gz on a http url somewhere or in your local repo:\n```\nManually install JAVA since it's currently broken in ppa:webupd8team/java\necho \"Downloading and installing Java manually\"\nwget -q https://some/url/to/jdk-8u151-linux-x64.tar.gz\nsudo mkdir -p /usr/lib/jvm\nsudo tar -zxf jdk-8u151-linux-x64.tar.gz\nsudo mv jdk1.8* /usr/lib/jvm/java-8-oracle\nsudo rm -rf jdk-8u151-linux-x64.tar.gz\nsudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-8-oracle/jre/bin/java 1091\nsudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/java-8-oracle/bin/javac 1091\necho \"export J2SDKDIR=/usr/lib/jvm/java-8-oracle\" | sudo tee --append /etc/profile\necho \"export J2REDIR=/usr/lib/jvm/java-8-oracle/jre\" | sudo tee --append /etc/profile\necho \"export PATH=$PATH:/usr/lib/jvm/java-8-oracle/bin:/usr/lib/jvm/java-8-oracle/db/bin:/usr/lib/jvm/java-8-oracle/bin\" | sudo tee --append /etc/profile\necho \"export JAVA_HOME=/usr/lib/jvm/java-8-oracle\" | sudo tee --append /etc/profile\necho \"export DERBY_HOME=/usr/lib/jvm/java-8-oracle/db\" | sudo tee --append /etc/profile\n```. @jamesgraham this was closed because it was an old issue. Oracle has decided once again to break this URL, nothing Homestead can do but wait for a new URL or adjust the script. I just tested both versions of elasticsearch and they both installed with no issue. Considering this resolved unless someone can produce a new issue with repeatable steps to demonstrate failure.. Thanks for the PR!. You should only have one or the other plugin installed, not both\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Oct 21, 2017, 09:10 -0500, ryankilf notifications@github.com, wrote:\n\nI think this and the autonetwork thing running together means we'll have entries added to the hosts file by both plugins. There may be reasons to use one or the other, but should there be the ability to not use vagrant-hostmanager if you want to use vagrant autonetwork?\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for taking the time for this, but I'd prefer to see a bug report showing the recent changes with update-alternatives causing issues with the existing aliases before implementing any changes.. This is a known issue we came across. Check this for a solution: https://github.com/laravel/homestead/issues/625#issuecomment-319239219. Certainly willing to take a look a PR.. Thanks for the PR!. @popstheman I need more info to be of any help. Did you vagrant destroy && vagrant up after making the change to use .test?. There is some underlying issues around sqlsrv driver. According to https://github.com/Microsoft/msphpsql they're supporting 7.0, 7.1. I threw support in via settler for 7.2 just to see if it'd even work. Amusing that it does, but I'm unsure of why it's breaking with 7.1. I've been building test boxes of settler lately and this driver is being a huge pain. \n\nShow a full output of vagrant destroy && vagrant up and maybe we'll see an indicator there. at the moment I don't have a solution for this as I'm still debugging it in the upstream Settler box.. Closing as related to #719 \n\nI've spent all day trying to get a solution for this an am currently unable to get a working resolution. I'm declaring MSSQL drivers unsupported until the documentation is updated to provide a working solution or until someone is able to PR a working solution. Sorry for the issues.\n\nhttps://github.com/laravel/settler/pull/125\n. What's the error your getting?\nWhat's the output of vagrant global-status\nWhat does unchanged Vagrantfile except for the paths. mean? You shouldn't have to edit Vagrantfile at all.. I'm not sure why this is happening other than vagrant just being odd about relative paths in our configs (which we use ruby to combine into full paths).\nAside from the error message (which seems rather innocuous to me) what are you being prevented from doing? Cleaning up all the vagrant boxes laying around the filesystem? You can always just open up Virtual box and delete the VMs there (make sure to select delete all files) to accomplish similar.. Yeah I totally get it. Closing this for now, will investigate but unsure of what a Homestead code change to fix this may be.. Open virtual box stop any vagrant boxes. Delete any you want to, remove all files.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 28, 2018, 19:32 -0400, Sebastiaan Luca notifications@github.com, wrote:\n\nHey guys, any update on this? Can't remove any boxes through vagrant now either. Same error.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Show me the full output of vagrant global-status. > \n```\n$ vagrant box remove laravel/homestead --box-version=2.1.0\n\nHomestead settings file not found in /Users/Sebastiaan/Workspace/Projects/redacted/vendor/laravel/homestead\n```\nRun this:\n```\ncd /Users/Sebastiaan/Workspace/Projects/redacted\nrm -rf .vagrant. If the issue is still there after you do ^ \nThe next step is to find all vagrant machines everywhere on your system show the entire output of sudo find / -iname .vagrant. > Uhm, every time I run that remove command it's a different project. Usually the last VM that got booted. Not going to delete active VM's \ud83d\ude05\nhttps://github.com/laravel/homestead/issues/909#issuecomment-407208620\n* Let this be the last time you put something IN a VM you don't have a backup of\n\nSo not sure what your goal is trying to find all machines on my system?\n\nThe idea would be to go delete ALL those .vagrant folders of any paths NOT found in the output of vagrant global-status. https://gist.github.com/svpernova09/653271fbfaa3053da63eaecf84c1462d\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Nov 3, 2017, 06:43 -0400, timo75 notifications@github.com, wrote:\n\nWould be nice to run Homestead on hyperv provider. Since Hyper-V is required for Docker on Windows one has to disable Hyper-V & reboot and cannot run Homestead and Docker based projects in parallel.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I haven't tested 2.0.1 yet, but looks like Vagrant might have broken something on Windows. Try downgrading to 2.0. Tested this on my Windows 10 Machine and worked fine:\n\n```\nC:\\Users\\halo\n\u03bb vagrant -v\nVagrant 2.0.1\nC:\\Users\\halo\n\u03bb vagrant box add laravel/homestead --provider=virtualbox\nVagrant failed to initialize at a very early stage:\nThe plugins failed to initialize correctly. This may be due to manual\nmodifications made within the Vagrant home directory. Vagrant can\nattempt to automatically correct this issue by running:\nvagrant plugin repair\nIf Vagrant was recently updated, this error may be due to incompatible\nversions of dependencies. To fix this problem please remove and re-install\nall plugins. Vagrant can attempt to do this automatically by running:\nvagrant plugin expunge --reinstall\nOr you may want to try updating the installed plugins to their latest\nversions:\nvagrant plugin update\nError message given during initialization: Unable to resolve dependency: user requested 'vagrant-reload (> 0)'\nC:\\Users\\halo\n\u03bb vagrant plugin update\nUpdating installed plugins...\nFetching: vagrant-reload-0.0.1.gem (100%)\nFetching: vagrant-share-1.1.9.gem (100%)\nUpdated 'vagrant-share' to version '1.1.9'!\nC:\\Users\\halo\n\u03bb vagrant box add laravel/homestead --provider=virtualbox\n==> box: Loading metadata for box 'laravel/homestead'\n    box: URL: https://vagrantcloud.com/laravel/homestead\n==> box: Adding box 'laravel/homestead' (v4.0.0) for provider: virtualbox\n    box: Downloading: https://vagrantcloud.com/laravel/boxes/homestead/versions/4.0.0/providers/virtualbox.box\n    box: Progress: 100% (Rate: 5654k/s, Estimated time remaining: --:--:--)\n==> box: Successfully added box 'laravel/homestead' (v4.0.0) for 'virtualbox'!\nC:\\Users\\halo\n\u03bb\n```. This is a known issue. Thanks for reporting. Will have to dig into why this is working some times and not consistently.. I've spent all day trying to get a solution for this an am currently unable to get a working resolution. I'm declaring MSSQL drivers unsupported until the documentation is updated to provide a working solution or until someone is able to PR a working solution. Sorry for the issues.\nhttps://github.com/laravel/settler/pull/125. @narration-sd Yep. I'm waiting for PHP 7.2 to be released before pushing out a new base box update.. Nice catch. Thanks!. To override default SSH port for vagrant add default_ssh_port: 64444 to your Homestead.yaml file.. Not sure if this will make it into the official docs, but if you're using master, the functionality will work. Will tag a new release in a few days / possibly this weekend.. Thanks for the recommendations. I'll pass it along. Some of the things we like to leave up to the user themselves (usually plugins and folder mounting types).\nThanks for the feedback.. Wasn't trying to come off dismissive. Sorry if I did. But thanks again!. Does Provider: 5.2.0 Mean Virtualbox 5.2? We're not currently compatible with 5.2. This will require a base box update. \nUntil we release a 5.2 compatible version you should stick with Virtualbox 5.1. You'll want to ensure you've completely purged Virtualbox 5.2 and all the files that may have been left behind. Reboot, and do another install of the latest version of 5.1. @E-zh If you do not want to downgrade to Virtualbox 5.1 try these instructions: https://gist.github.com/svpernova09/8ffda2889c4cd957defc765dcfaaeec1. @chunkaiww \nAre you still having this problem? If so could you post the contents of C:\\Users\\Kai\\VirtualBox VMs\\homestead-7\\Logs\\VBoxHardening.log from your reply?. I've seen this myself (without realizing what it was at the time) last week at my php[world] training day. I assume it was Virtualbox 5.1 but it could have well been 5.2. I didn't try to debug very far.\nWhat is troubling is it's happening on VMware's provider as well. I'm not sure anything in Homestead is actually causing this. I'm wondering if this is a bug somewhere in Vagrant 2.x. Thanks to @jordanramstad doing a ton of debugging for us on this issue.\nIt looks like this is an issue with MINGW32 and or Vagrant v 2.0.1 on Windows. He was able to confirm the behavior on Virtualbox 5.1 and VMware providers. \nOur recommendation is to downgrade to Vagrant 2.0.0 or try another shell application (I had him test CMDr and it worked). Resolves #721 . thanks for the PR!. Thanks for the PR!. Thanks for taking the time to open the issue.\nWhile I completely understand the desire for supporting old versions I think that it's something much easier said than done. If we did go back and support older versions we wouldn't compile from source. We'd just use older versions from the available repos. I don't ever want Homestead to have to compile PHP from source if we can ever avoid it.\nAnother concern in doing this is if you are running on 5.3 or 5.4 you're likely not running MySQL 5.7 (or the current Postgres version) that we install by default. Once you get to the point where you're having to downgrade and support multiple versions of more and more applications it just becomes an exponentially increasing configuration problem. Since Homestead has always been a simple tool (Using shell scripts VS Chef / Puppet / Ansible) I don't want to have to get into the business of building all those various combinations and then having to support them.\nHomestead supports back to 5.6 because that's what we can easily do via Ond\u0159ej's repo. If older versions than 5.6 were there I'd happily add them. I believe he's dropped support there because they're EOL (or close). As soon as Ond\u0159ej stops supporting 5.6 there, we will likely stop supporting it as well.\nTL;DR - no plans for this because I don't want my brain to explode :D. I truly welcome any and all PRs. But won't guarantee they'll be merged. But I will be happy to provide feedback.\nMy main concern here is not adding the feature. It's the ongoing support I'd have to do for it. \nThat being said: If you're so inclined feel free to open a PR and we can see what it looks like.. Always fun to find the people brave enough to use master\nResolved via #730 . Thanks for the PR, resolved via #730 . @DojoGeekRA \nAs always, thanks for the PR.\nYes. I believe cron should be restarted every provision, no matter what. . thanks!. Already supported: https://github.com/laravel/homestead/blob/master/Vagrantfile#L41. Homestead should be plugin agnostic. It shouldn't require any 3rd party plugins (outside of provider specific ones for VMware, Parallels). . Thanks!. Few things going on that may be causing issues:\n\nYou're using Virtualbox 5.2 with a box built on 5.1. We'll be releasing a Virtualbox 5.2 box once PHP 7.2 is officially released\nNone of your sites have php: \"5.6\" so they'll all be defaulting to php 7.1, none will be configured to use 5.6.\nI'm not sure what the php5.6-fpm.sock  error is referring to, post the results of systemctl status php5.6-fpm.service to see what's going wrong.. I don't think there was an issue with the v6.5.0 release. Without seeing a full vagrant destroy -f && vagrant up or the output from the service it's hard to say.. Thanks for the PR!. You don't need multiple sites settings. And you should map each project folder individually.\n\nfolders:\n    - map: ~/Projects/code/starting\n      to: /home/vagrant/starting\n    - map: ~/Projects/code/alterBIT\n      to: /home/vagrant/alterBIT\nsites:\n    - map: starting.dev\n      to: /home/vagrant/starting/public\n    - map: alterBIT.dev\n      to: /home/vagrant/alterBIT/public. Make the changes above, then run vagrant destroy && vagrant up and show me the full output. Thanks for the report and PR!. Edit:\nDerp. We should probably SET php-config and phpize to 7.1 via the same update-alternatives.. This is going to be resolved via an upstream change in https://github.com/laravel/settler Will fix this tomorrow when I update that repo. Thanks for the report!. @bryandatanerds sounds like your Repo isn't at the latest version (but the box is). The site creation happens from the Homestead repo scripts. The update-alternatives is set in the base box.. @bryandatanerds no worries. Glad it was a simple fix.. Thanks for the update!. Please upgrade to Virtualbox 5.2, Update the base box to version 5.0.1, and run vagrant destroy && vagrant up and post the contents.\nSounds like you're seeing a Virtualbox issue (Since you're seeing ports having to be corrected). Sounds good.. Hi,\nThe problem is you're sharing the files from a filesystem that is not case sensitive so the files in the share will be treated in the same manner.\nIf you are on MacOS you can create a sparse image that is formatted to be case sensitive and map your folders from there. They should be case sensitive in the virtual machine as you'd expect.. If a user goes through the trouble of installing elasticsearch we should probably ensure it's going to auto start. Resolved via #748 . Does the error happen when running NPM from your mac?\nCan you post the contents of /home/vagrant/.npm/_logs/2017-12-04T20_55_21_208Z-debug.log and your package.json. Not sure how much help I'm going to be. Google shows it could be symlinking issues (but you're not on windows) and some mounting issues (But your shared bits of logs don't mention it).\nTry rm -rf node_modules && npm install. If the error persists you can check if it's possibly an NPM issue by trying rm -rf node_modules && yarn install.. Thanks for the PR!. FYI Homestead defaults to .test since #697 due to issues with MacOS not liking .localhost. Try changing your sites to use .test instead of .app. This sounds like #754 . make sure you have changed your Homestead.yaml files to use .test then vagrant destroy && vagrant up. If it does not work then, please open a new issue and fill out all the information.. Not at this time.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 8, 2017, 19:31 -0600, Steve Heinsch notifications@github.com, wrote:\n\nI know you can set the php version on a per site basis, but is there a way to set the default php version for all sites to use so it doesn't use whatever is the most current version as default if you don't specify a version per site?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. v5.0.1 Does have a hyperv provider. Please check out https://www.vagrantup.com/docs/hyperv/limitations.html and report any bugs you run into.. You want to change the provider value in your Homestead.yaml and then vagrant destroy, vagrant up.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 11, 2017, 17:23 -0600, Martin Pultz notifications@github.com, wrote:\n\nThanks @svpernova09. This is probably a stupid question. I've pulled in the homestead box v5.0.1 after choosing the Hyper-V provider, but I'll need to update our Laravel project's composer package. Does the box version correspond directly to the package version? There are two major versions above v5.0.1 available so I'm just verifying since the versions are so different I wasn't sure if they are one-to-one box-to-package or not, and whether there are other differences between versions, or if support of the Hyper-V provider box isn't maintained opposed to the other providers?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. The box version is independent of the Homestead repo version.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 11, 2017, 17:23 -0600, Martin Pultz notifications@github.com, wrote:\n\nThanks @svpernova09. This is probably a stupid question. I've pulled in the homestead box v5.0.1 after choosing the Hyper-V provider, but I'll need to update our Laravel project's composer package. Does the box version correspond directly to the package version? There are two major versions above v5.0.1 available so I'm just verifying since the versions are so different I wasn't sure if they are one-to-one box-to-package or not, and whether there are other differences between versions, or if support of the Hyper-V provider box isn't maintained opposed to the other providers?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Try creating a new virtual switch. I don\u2019t think Vagrant will be able to use the same one Docker does.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 12, 2017, 01:04 -0600, Martin Pultz notifications@github.com, wrote:\n\nHi @svpernova09 I've been trying to get the application to work using v5.0.1 of the homestead box, but after choosing virtual switch DockerNAT I get this output with the error at the end, which at least seems to start up the VM.\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n   cfna: Please choose a switch to attach to your Hyper-V instance.\n   cfna: If none of these are appropriate, please open the Hyper-V manager\n   cfna: to create a new virtual switch.\n   cfna:\n   cfna: 1) Default Switch\n   cfna: 2) DockerNAT\n   cfna:\n   cfna: What switch would you like to use? 1\n   cfna: Cloning virtual hard drive...\n   cfna: Creating and registering the VM...\n   cfna: Setting VM Integration Services\n   cfna: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n   cfna: Timeout: 120 seconds\n   cfna: IP: 172.19.114.238\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n   cfna: SSH address: 172.19.114.238:22\n   cfna: SSH username: vagrant\n   cfna: SSH auth method: private key\n   cfna:\n   cfna: Vagrant insecure key detected. Vagrant will automatically replace\n   cfna: this with a newly generated keypair for better security.\n   cfna:\n   cfna: Inserting generated public key within guest...\n   cfna: Removing insecure key from the guest if it's present...\n   cfna: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> cfna: Machine booted and ready!\n==> cfna: Setting hostname...\nNo host IP was given to the Vagrant core NFS helper. This is\nan internal error that should be reported as a bug.\nOr using virtual switch Default Switch I get this output and error at the end, but doesn't appear to start the VM.\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n   cfna: Please choose a switch to attach to your Hyper-V instance.\n   cfna: If none of these are appropriate, please open the Hyper-V manager\n   cfna: to create a new virtual switch.\n   cfna:\n   cfna: 1) Default Switch\n   cfna: 2) DockerNAT\n   cfna:\n   cfna: What switch would you like to use? 2\n   cfna: Cloning virtual hard drive...\n   cfna: Creating and registering the VM...\n   cfna: Setting VM Integration Services\n   cfna: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n   cfna: Timeout: 120 seconds\n   cfna: IP: fe80::215:5dff:fe38:103\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n   cfna: SSH address: fe80::215:5dff:fe38:103:22\n   cfna: SSH username: vagrant\n   cfna: SSH auth method: private key\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.vm.boot_timeout\" value) time period.\nIf you look above, you should be able to see the error(s) that\nVagrant had when attempting to connect to the machine. These errors\nare usually good hints as to what may be wrong.\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.vm.boot_timeout\") value.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Networking is the pain point of vagrant and hyper v. Try creating a new virtual switch. Vagrant doesn\u2019t need anything special at all.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 12, 2017, 21:03 -0600, Martin Pultz notifications@github.com, wrote:\n\nThanks @svpernova09 I did try using the default switch as well but it doesn't boot all the way, and from what I read today I'm not much farther figuring this out. It appears as if you can use DockerNAT as a virtual switch based on some examples I've found, but I don't really understand much about Vagrant. We deploy to Laravel Forge so using Homestead is perfect, but with our update to Windows 10 Pro so we could drop DockerToolbox and pick up Docker for Windows in the office this issue with Hyper-V has become a nightmare.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Check out Tip 1 here: https://blogs.technet.microsoft.com/virtualization/2017/07/06/vagrant-and-hyper-v-tips-and-tricks/\n\nThis looks like it's not getting an IP correctly from the Host OS via the switch.. Vagrant up looks good. Have you tried typing in http://mobis4.test into the browser instead of just mobis4.test, usually for local domains you have to type the full path.. Do the other sites work? Are you using any Vagrant plugins for managing your hosts file?. I appreciate the initiative and the time for the PR, but I'd much rather keep the simplicity and instruct users to vagrant destroy && vagrant up to ensure there is nothing leftover instead of when a user simply vagrant reload --provision which will not clean up after itself.\nVirtual Machines (and containers) are cattle, they should not be treated like pets. Don't be afraid to nuke them from orbit (it's the only way to be sure). Feel free to hop into #homestead-dev on larachat slack to discuss Homestead feature ideas. I'm always eager to hear what people want. If slack isn't your thing I also have #homestead-dev on Freenode.. I appreciate what you're accomplishing here. But IMHO Homestead shouldn't have to worry about any remnants due to the ease of creating a new VM is ~60 seconds away (depending on your after.sh). \nI don't want to introduce complexity into Homestead that solves a problem that Vagrant itself can already solve by a destroy and up.\n. thanks for the PR!. Thanks for the update!. This is a Vagrant environment configuration variable, Homestead should respect it (since it doesn't do anything to override this).\nAdd export VAGRANT_VMWARE_CLONE_DIRECTORY=\"/path/you/want\" to your environment configuration and then all of the Vagrant boxes will be stored in /path/you/want/*. You'll probably have to destroy & up to have an existing vm moved to the new location.. Definitely looks like a bug in https://github.com/laravel/settler/blob/master/scripts/provision.sh#L100\nI can confirm the behavior with the current v5.0.1 box.. @amosmos This will require a new release of the base box which I'm planning to do Soon\u2122. For now you should be able to put this in your after.sh file: \nprintf \"\\nPATH=\\\"$(sudo su - vagrant -c 'composer config -g home 2>/dev/null')/vendor/bin:\\$PATH\\\"\\n\" | tee -a /home/vagrant/.profile. The repo requires a specific base box version (currently >= 4.0.0). We update that so when you run vagrant up if you have an older box version it will force you to upgrade.. It is not documented anywhere but you can find it here: https://github.com/laravel/homestead/blob/master/scripts/homestead.rb#L15 You can also override this setting by adding a version key to your Homestead.yaml (also an undocumented feature).\nThere are going to be instances where the base box version isn't compatible with the repo version. I try to update that version requirement anytime there is a known issue but it can still happen. \nThe best advice is to always run the latest released versions of the base box and the Homestead repo. If you're brave and willing to live on the edge you can use master of the Homestead repo but that can quite often randomly break things.. @VetDev As stated earlier this will require a base box update to fully resolve. I'm waiting for xdebug 2.6 to go stable before I release a new box update. For now see https://github.com/laravel/homestead/issues/764#issuecomment-354764072 for a solution.. Latest box update should have fixed this, are you able to reproduce on master?\n. Reopening for now. I'm going to be tied up all weekend, if you can verify the fix isn't in the settler provision script, throw a PR.. Please see #758, #755, or #754 . Should we drop support for 5?. Thanks for the PR!. Are you on an old version? it's near impossible to debug when you don't fill out the requested info in the issue template.. Thanks for the PR \u00a0\ud83c\udf89\u00a0\ud83c\udf89\ud83d\udc18\ud83d\ude38\ud83d\udc4a. edit: Hrm, apparently my master wasn't up to date. Checking. Thanks for the PR, I'd like to know more about this package, but we wouldn't implement it here, we'd implement upstream in Settler.. @andrey-helldar Thanks!\n@Artistan Master should be considered unstable and used at your own peril.. Thanks! good stuff.. You don't need to install xdebug or run the xon command. Xdebug is already installed and configured. The CLI xdebug is off by default, and the CLI config in PhpStorm has no effect on http debugging. \nYou also do not need a deployment server, since you should be opening F:\\PhpstormProjects\\TheRSM in PhpStorm directly on your Windows system.\nHomestead.yaml looks fine.\nIs thersm.test a Laravel app? is F:\\PhpstormProjects\\TheRSM the actual server root or are you missing public on your folder mapping? You want the site: to: to point to wherever you have index.php (and also update this in your PHP server path mappings in PhpStorm.. This is always a huge pita on Windows. Have you tried running Phpstorm, your console application both \"As Administrator\"?\nAlso click the option in the Run Menu \"Break at first line in PHP scripts\" and see if that breaks as expected.\nPast that I may not be much help.. > What does you mean by: Xdebug is already installed and configured?\nFrom Homestead's view, there is nothing you have to do INSIDE the VM to use Xdebug for HTTP debugging.. Going to need a lot more info to make any sense of this. Please open a new issue and fill out the template.. Thanks!. Do you get the same error when mapping one project folder instead of the larger folder?\nSounds like this may be NFS on your host. Does non-nfs folder sharing work?\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Dec 27, 2017, 06:16 -0600, Cysioland notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 2.0.1\n\u2022 Provider: Virtualbox 5.2.4 r119758\n\u2022 Homestead: 7.0.1\nHost operating system\nAntergos\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: ~/PhpstormProjects\n     to: /home/vagrant/proj\n     type: nfs\nsites:\n   - map: app.dev\n     to: /home/vagrant/proj/app/public\ndatabases:\n   - app\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nVagrant destroy & up output\nhttps://gist.github.com/Cysioland/c1a012c11175aab3c5984c826b540ce7\nExpected behavior\nMachine gets brought up with no issues\nActual behavior\nNFS folders can't be mounted, message in title\nSteps to reproduce\n\nUse fully updated Antergos or Arch\nvagrant up your Homestead machine with NFS shared folders\nError happens\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. This is likely a Vagrant issue. Homestead has nothing to do with import_vm_vmcx.ps1. Unfortunately the only advice I can offer is to downgrade to a lower version of Vagrant. I know 2.0.1 has been troublesome for many Windows users.. Thanks for the suggestion. Drush will be installed by default in the upcoming January box update.. Thanks for the PR, however we won't be merging this fix. You can see #609 and #611\n\nI don't know if running as admin is still a viable fix, but would be something to test.. @JamShady Fair enough. I've opened a PR on the docs repo ^ to add a note about Windows + Virtualbox symlinks.. @JamShady Docs PR was merged and is live on the docs site. If you feel like there needs to be more wording feel free to open a PR against the 5.5 branch of the docs repo. Thanks for the feedback!. Thanks for taking the time. I feel like this may be outside of scope for Homestead. Homestead expects you to have http servers. If you're wanting to use multi machine vagrant configurations you should use specific base boxes for those (Redis, elastic, etc). \nAt the moment Homestead doesn't support multi machine vagrant and I'm not sure it should.. While you can do this with Homestead it's not something I want to support at the project level. IE if a change ever comes through that breaks this functionality it wouldn't be a priority to fix.. SSL is already on by default. The browser will the an error because the certificate is self signed.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jan 4, 2018, 01:51 -0600, Seaony notifications@github.com, wrote:\n\nHow can I add https for my homestead website?\nIt always jumps to https when I use Chrome for development.\nI tried to set ssl connection using ssl: true, but it returned to me this error:\nCan you help me? thank you very much\uff01\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. FWIW I don't think Xdebug has been released for PHP 7.2 yet (I haven't checked in several days) and at the very least, the current Homestead box will NOT have xdebug for php 7.2, but all other versions will work fine out of the box.\n\nAn often overlooked issue is to ensure your virtual mappings are correct for the PHP Remote Debug Server in PhpStorm.. @jonagoldman There is nothing unique about the Homestead xdebug setup at all. That's why it's referred to as generic.\nRE Using multiple versions of PHP: https://laravel.com/docs/5.5/homestead#multiple-php-versions\nYou don't have to change boxes (assuming you're using the latest release of the box and repo). You're configuring a remote CLI debugger there. not a remote HTTP debugger.\nPhpStorm -> Run -> Edit Configurations -> Plus Sign -> PHP Remote Debug\nHere is a screenshot of the config I use for all my projects:\n\n. What is your host OS?\nPost your  Homestead.yaml. Thanks for the PR!. Thanks!. The root certificates are what people are pulling out of the vagrant box and importing into their browsers?\nif so we should make it 1000% absolutely clear it's a HOMESTEAD generated certificate. So I'm not against naming this the host name of the machine, but I'd want to also append _HOMESTEAD.. Thanks for the PR!. The value for type must be a string. And you need to ensure your Homestead.yaml conforms to proper YAML syntax\nsites:\n    - map: laravel.test\n      to: /home/vagrant/code/employ.ahs-se/public\n      type: laravel\n    - map: magento.test\n      to: /home/vagrant/code/supertrapp/public\n      type: \"apache\"\nAlso: You cannot mix type Apache with any other type since Apache purges Nginx. You should either use Homestead per project for your Apache project or the inverse for your Nginx project. Alternatively you could just run 2 global Homestead boxes, 1 for Apache projects, 1 for Nginx.. @browner12 Nice catch. I was wrong, we don't purge nginx, we just stop it: https://github.com/laravel/homestead/blob/master/scripts/serve-apache.sh#L14\nI guess you could run both on the same VM by starting and stopping the services. but that's a bit more than I'd want to actually support.. Thanks for the PR!. Downgrade vagrant to version 2.0.0 or use a different console app. Git bash and Cygwin have this issue on windows with vagrant 2.0.1\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jan 12, 2018, 06:38 -0600, Richol55486 notifications@github.com, wrote:\n\nfirst: clear command not working.\nplease check image\nhttp://prntscr.com/hzfx97\nplease help me\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. You should start the chrome driver as needed. Due to the overhead it\u2019s not automatically started.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jan 14, 2018, 15:30 -0600, Janne Kurkinen notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 2.0.1\n\u2022 Provider: Virtualbox 5.2.4\n\u2022 Homestead: 7.0.1\n\u2022 Homestead box: 5.0.1\n\u2022 Laravel: 5.5.28\n\u2022 Laravel Dusk: 2.0.8\n\u2022 ChromeDriver: 2.33.506092\nHost operating system\nmacOS 10.13.\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 2\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: ~/code/app/\n     to: /home/vagrant/app\nsites:\n   - map: thisproject.dev\n     to: /home/vagrant/app/thisproject/public\ndatabases:\n   - thisproject\nVagrant destroy & up output\nhttps://gist.github.com/envision/b8dbef15d7d3cd2f036e50cf07a8201f\nCustom Dusk Browser Class\nhttps://gist.github.com/envision/6c72a87d03311d282bd4010c9df90b3e\nExpected behavior\nExpected Dusk ChromeDriver to work out of the box in Homestead.\nActual behavior\nGetting an error:\nFacebook\\WebDriver\\Exception\\WebDriverCurlException with message 'Curl error thrown for http POST to /session with params: {\"desiredCapabilities\":{\"browserName\":\"chrome\",\"platform\":\"ANY\",\"chromeOptions\":{\"binary\":\"\",\"args\":[\"--disable-gpu\",\"--headless\",\"--no-sandbox\",\"--no-first-run\",\"--window-size=1600,1280\"]}}}\nFailed to connect to localhost port 9515: Connection refused\nSteps to reproduce\n\nSave Gist 'Custom Dusk Browser Class' as a file named Browser.php under app/\nhomestead up && homestead ssh && cd app/thisproject\nRun: php artisan tinker\nRun: (new Browser)->browse(function ($b) { $b->visit('https://laracasts.com'); });\nShould get an error\nOpen a new terminal window and execute chromedriver: homestead ssh && cd app/thisproject && vendor/laravel/dusk/bin/chromedriver-linux\nShould get output:\n\nStarting ChromeDriver 2.33.506092 (733a02544d189eeb751fe0d7ddca79a0ee28cce4) on port 9515\nOnly local connections are allowed.\n\nRun again in the previous tinker terminal: (new Browser)->browse(function ($b) { $b->visit('https://laracasts.com'); });\nShould get null now and not an error\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @envision I'm not sure if that issue is from Dusk or from Tinker, but I won't be able to help much since it's not being caused by Homestead.. This isn't a Homestead issue, this is an issue that composer was run against a different version of PHP than you expected. \n\nWe have existing aliases to easily swap PHP versions for the CLI: php56, php70, php71, php72. You should use these to change versions as needed.. If you want to add that alias, you can easily add it to your aliases file and then run vagrant provision. . Thanks for taking the time, going to hold off as the normal workflow would be to use the existing php aliases to swap CLI versions as needed described https://github.com/laravel/homestead/issues/795#issuecomment-358302056. Sounds like a yaml formatting problem in your Homestead.yaml file\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jan 17, 2018, 20:55 -0600, Theme Yellow notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 2.0.0\n\u2022 Provider: Virtualbox - 5.2.6\n\u2022 Homestead: 7\nHost operating system\nWindows 10\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: E:\\Projects\n     to: /home/vagrant/Projects\nsites:\n   - map: phpmyadmin.test\n     to: /home/vagrant/Projects/phpMyAdmin\n\n\nmap: evaluationplus.test\n     to: /home/vagrant/Projects/laravel-evaluationplus/public\n\n\nmap: govt-university.test\n     to: /home/vagrant/Projects/govt-university/public\n\n\nmap: laravel-university.test\n     to: /home/vagrant/Projects/laravel-university/public\n\n\nmap: pixel.test\n     to: /home/vagrant/Projects/pixel/public\n\n\nmap: acl.test\n     to: /home/vagrant/Projects/acl/public\n\n\nmap: voyager.test\n     to: /home/vagrant/Projects/voyager/public\n\n\nmap: test-project.test\n     to: /home/vagrant/Projects/test-project/public\n\n\nmap: lazada.test\n     to: /home/vagrant/Projects/lazada/public\n\n\nmap: joongwon.test\n     to: /home/vagrant/Projects/joongwon/public\n\n\nmap: bookmanager.test\n     to: /home/vagrant/Projects/bookmanager/public\n\n\nmap: kusom-api.test\n     to: /home/vagrant/Projects/kusom-api/public\n\n\nmap: theme-yellow.test\n     to: /home/vagrant/Projects/yellow-php-user-management-system\n\n\nmap: sximo.test\n     to: /home/vagrant/Projects/sximo/public\n\n\nmap: awesomemail.test\n     to: /home/vagrant/Projects/awesomemail\n\n\nmap: packages.test\n     to: /home/vagrant/Projects/packages/skype/public\n\n\nmap: routing.test\n     to: /home/vagrant/Projects/routing\n\n\nmap: routes-test.test\n     to: /home/vagrant/Projects/routes-test\n\n\nmap: mvc.test\n     to: /home/vagrant/Projects/yellow-mvc-framework\n\n\nmap: multiuser-site.test\n     to: /home/vagrant/Projects/multiuser-site\n\n\ndatabases:\n   - evaluationx\n   - acl\n   - govt-university\n   - laravel-university\n   - pixel\n   - test_project\n   - voyager\n   - lazada\n   - joongwon\n   - bookmanager\n   - kusom_api\n   - theme_yellow\n   - sximo\n   - awesomemail\n   - packages\n   - yellow_mvc_structure\n   - multiuser_site\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\n  to: 5000\n- send: 7777\n  to: 777\n  protocol: udp\n\nVagrant destroy & up output\nhttps://gist.github.com/themeyellow/4a18f0d10ff94daa8cabbe1dbab8db2d\nExpected behavior\nI'm updating Homestead following laravel homestead doc (https://laravel.com/docs/5.5/homestead#updating-homestead). After running (vagrant box update) it's updated vagrant box and i was run (1. git pull origin master & 2. composer update) this two command after by after. It's work fine when my pc running those updating time. After restart my pc when i'm running vagrant up then showing me gist error. And homestead version command not working, i'm see homestead 7 in virtualbox.\nThanks,\nArafat\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. You can't fix this in any configuration option. What is happening is your computer is going to sleep and Virtualbox will pause the VMs (Stopping time for them), when you resume Virtualbox will un pause the machines (Starting time where they left off). The only known fix I'm aware of is to vagrant halt all your VMs before letting your computer sleep.. timesync-set-threshold AFAIK won't fix the issue. It would be dependent on how long your machine sleeps for.. Just added ntpdate to settler. The next base box update will have it installed automatically.\n\nhttps://github.com/laravel/settler/pull/148. @browner12 Yeah, the fix I implemented was the quickest and wasn't intended to be a long term fix since 18.04 is on the horizon and as of yesterday is released. All Homestead efforts should now be focusing on upgrading to 18.04 for the base box.. xDebug won't currently work for PHP 7.2, but is included and working on all the other included PHP versions.. We're waiting on the PHP repository we use to build Xdebug 2.6. > Any update on when Homestead will be updated to include XDebug 2.6?\nHomestead has included Xdebug 2.6 since shortly after 2.6 hit the repo.. > Is there any official documentation about this?\nNothing official. We ship Xdebug on for the FPM sapis but off by default for all CLI sapis.. From that same folder run rm -rf /.vagrant and then try to vagrant up. @Roemerb Glad you got it sorted out! When this kind of thing happens you can open up Virtualbox, right click the VMs and power them off, then also click the \"Delete all files\" option. That will remove the contents of the .vagrant folder for that project.. It could be the Microsoft account, but I honestly don't know. I would try creating a new user and testing it with a non Microsoft account to verify.. Closing for inactivity / unable to confirm resolved. To anyone experiencing this issue I would review this comment for suggestions: https://github.com/laravel/homestead/issues/802#issuecomment-360251150. Per https://github.com/laravel/homestead/issues/719#issuecomment-344470607 We're not actively supporting this any longer.. I'm still waiting on a reproducible bug report that shows this is a Homestead issue: #382 \nI've encountered issues with host systems using this change that frequently change between Wifi and Ethernet so I would rather not add this change and cause more issues.. Thanks for opening an issue.\nThis is working as intended for the moment. Z-Ray is a new feature that I can see users wanting to turn off and on and requiring the string makes it easy to say 'true' or 'false' without having to completely remove the line from Homestead.yaml. Here's a quick up and running doc on Z-Ray until we can get something into the official docs: https://www.joeferguson.me/homestead-welcomes-z-ray-by-zend/. This is nothing to worry about. This is the result of an upstream change to ensure .composer is owned by the vagrant user.. @browner12 is this what you\u2019re seeing?\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 7, 2018, 04:20 -0600, Santosh Achari notifications@github.com, wrote:\n\nHi,\nFor past few days, Homestead is throwing this message every time I try to start it. I am on latest Vagrant, Virtual box. How can I fix it?\n\ud83e\udd18?~ homestead up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: There was a problem while downloading the metadata for your box\n==> homestead-7: to check for updates. This is not an error, since it is usually due\n==> homestead-7: to temporary network problems. This is just a warning. The problem\n==> homestead-7: encountered was:\n==> homestead-7:\n==> homestead-7: The requested URL returned error: 404 Not Found\n==> homestead-7:\n==> homestead-7: If you want to check for box updates, verify your network connection\n==> homestead-7: is valid and try again.\nVersions\n\u2022 Vagrant: 2.0.2\n\u2022 Provider: Virtualbox 5.2\n\u2022 Homestead: Run homestead --version to show the version, return''s vagrant's version? I've pulled the latest from master from git repo.\nHost operating system\nMacOS High Sierra 10.13.2\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. This is a known bug, thanks for the report. I'm working on a fix atm.\n\nIf you don't wish to use Z-Ray you can add the following lines to your after.sh:\nrm -rf /usr/lib/php/20170718/zray.so\nrm -rf /etc/php/7.2/fpm/conf.d/zray.ini\nI'm trying to get a workable fix resolved now, but I'm in an airport on limited battery power so a better solution is in progress with no current ETA except for \"later today\". https://github.com/laravel/homestead/releases/tag/v7.1.1 should resolve this. @belisarh \nPlease post the full output of vagrant destroy && vagrant up and describe the behavior your seeing. (preferably as a new Homestead issue). @chilio \n\n@svpernova09 on latest homestead I needed to ssh to the box to apply your workaround, cause adding to after.sh and provisioning vm and/or reloading did't change anything.\n\nAs https://github.com/laravel/homestead/issues/808#issuecomment-363824853 says we've released a fix to resolve this but you will need to upgrade to get the fix.\n\nConcluding further... homestead was meant strictly for Laravel right?\n\nI don't think it was ever \"strictly\" for Laravel. While it should serve Laravel developers we have been able to expand the offering and become a very well suited general PHP development environment.\n\nThere is a great working package laravel-debugbar form barryvdh, which is optional and anybody can use it if they need or want to...\n\nYep, I'm a fan.\n\nFrom z-ray documentation I have not seen any breakthrough advantages of z-ray over laravel-debugbar, but probably I could be missing something here.\n\nThey're two different products offering similar things. It's up to the developer to pick one. The decision to include Z-Ray was me approaching Zend to ask about including it. Several people inside Zend helped contribute to getting Z-Ray into Homestead.\nThe issues we had where Z-Ray was forced on everyone was limited and was fixed in a timely manner (IMHO). No one should still be having these issues. You should always run the newest / latest base box and Homestead versions.\n\nAnd final thoughtful thought, my homestead environment is slowing down with this release, which should be opposite when upgrading from php 5.6 to 7.2 for example.\nTherefore I've started to think of applying other approach for my dev environment and moving away from homestead :-(\n\nThere are so many things that can contribute to slowdowns in Vagrant. We also did find and fix a nasty bug where Z-Ray ini was being added to PHP 7.2 CLI SAPI and causing tons of CLI issues.  Just because your application should see a performance boost upgrading versions of PHP doesn't mean your development environment will. \nHomestead is fairly large. We're pushing ~1.5GB for the base box which is quite large. Considering how many things we pack in, I feel like it's an acceptable trade off.\n\nPlease don't get me wrong, I've used homestead for a long time and I'm still finding it really great, but when I hit 5 seconds page load time, comparing to 130 ms in production, my developing nerves are on the edge.\nWould be great, if you can explain enforcing z-ray in homestead a little bit more....\nI believe homestead users will appreciate and benefit from that....\n\nIf you're seeing 5s page loads from Homestead something is certainly wrong. You may be mounting too many files and folders or you may not be giving Homestead enough CPU/RAM for what you're trying to do. There are just too many variables at play to be able to offer any certainty.. @chilio \n\nIn my case it could mean, that I'm mounting too many files/domains, although I would rather not be concerned about these limitations...\n\nThen you should not use Virtualbox, you should move to VMware.\n\nSo at least, it will be good to have some info about that, in the docs - what limits do we have?\n\nThere is no definitive way of knowing what the limits are because some people seem to run into the issue constantly, while others never do. The known facts are it's a problem isolated to Virtualbox's default folder share types and can sometimes be resolved by using NFS, however NFS has it's own latency issues with file changes.\n\nMy homestead box has 2 vCPUs and 4 GB of RAM, no hidden processing, do you think it is not enough?\nThe other thing is that I'm using laravel project with a lot of composer and npm dependencies.\nFor sure this will slow things down...\n\nComposer and NPM dependencies will not slow down your project's execution time in any substantial way. Running these binaries inside Homestead will certainly run much slower than if you run them on your host OS.\nFWIW, I run Homestead most often with the default settings (2GB RAM & 1 CPU)\n\nBut again my question is, what are advantages of z-ray over laravel-debugbar.\nIf there are any please elaborate or post links....\n\nI don't have enough experience either to answer this. Most of my practical usage of both tools is limited to ensuring my query count per page load is as lean as it can be.. This doesn't solve the entire issue. Thanks for the PR, I'm working on a fix atm.. @santoshachari \nI added Laravel debug bar to my test application and it worked just fine without Z-Ray. With Z-Ray it might cause some issues. If you're still having problems try upgrading the homestead repo (now @ version 7.1.2) and destroy & up.. https://github.com/laravel/homestead/issues/806#issuecomment-363502769. Thanks for reporting the issue, see the comment link above ^. Sounds like an issue with your code and not Homestead.. Thanks for the PR but we'd need to run this at a minimum of PHP 7.0. \nWhat was the purpose of updating?. You only need to composer update if you're using Homestead per project.. Please post your Homestead.yaml (as the issue template mentions).\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 9, 2018, 05:54 -0500, Marijn Hurkens notifications@github.com, wrote:\n\nWhen using zray: 'true' I get an error when using vagrant up (after destroying the environment):\nfailed to create symbolic link '/home/vagrant/code/public/ZendServer'\nProtocol error\nRunning Vagrant 2.0.1 on Windows on VirtualBox 5.2.6 r120293 and Homestead 7.1.21.\nThis seems to be a permission error?\nHomestead.yaml\nsites:\n   -\n       map: homestead.test\n       to: /home/vagrant/code/public\n       php: \"7.1\"\n       zray: 'true'\nExpected behavior\nThe symlink should be created.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Z-Ray will only work for PHP 7.2, that is why the symlink is not being created.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 9, 2018, 06:00 -0500, Marijn Hurkens notifications@github.com, wrote:\n\nHomestead.yaml\nip: 192.168.10.10\nmemory: 8096\ncpus: 6\nprovider: virtualbox\nauthorize: C:\\Users\\username.ssh\\rsa.pub\nkeys:\n   - C:\\Users\\username.ssh\\rsa.ppk\nfolders:\n   -\n       map: 'D:\\Development\\campaign-manager'\n       to: /home/vagrant/code\nsites:\n   -\n       map: homestead.test\n       to: /home/vagrant/code/public\n       php: \"7.1\"\n       zray: 'true'\ndatabases:\n   - homestead\nname: campaign-manager\nhostname: campaign-manager\nssl: true\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Please show the full output of vagrant destroy && vagrant up after you changed your config.. Please run vagrant ssh to SSH into the VM and then run sudo ln -sf /opt/zray/gui/public /home/vagrant/code/public/ZendServer and post the output.\n\nThis is a red flag: https://gist.github.com/marijnhurkens/328005b85fb654b237943f84f5e1fc3f#file-output-txt-L62-L83 I'm not entirely sure which provision that is, guessing it's not liking your SSH keys. This might be affecting it, but I'm not sure. Just a red flag because I've never seen it before.. Ok, so it's not a Vagrant issue. I'm unsure of what to do next. I would possibly try regenerating your SSH keys. I'm not familiar enough with SSH keys on Windows to help much here.. Make sure you are running your terminal application \"As Administrator\"\nhttps://stackoverflow.com/questions/17895256/creating-symbolic-link-protocol-error Seems to point to it may be a host file/folder permission issue.. Cheers, glad you got it working.. Please post an entire log of vagrant destroy && vagrant up. Destroy does not cause you to have to redownload the image.. We need to install & configure sendmail (in https://github.com/laravel/settler) to send mail via SMTP on port 1025 by default.. Please see https://github.com/laravel/homestead/issues/807#issuecomment-363751920. The problem was the URL changed, the solution is to change the download URL in the file or to remove and re-add the box.. This will require a base box update\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 20, 2018, 11:55 -0600, Alex Aguilar notifications@github.com, wrote:\n\nMy Forge server provisioned with PostgreSQL 10.1 but Homestead is running PostgreSQL 9.5.10\nI'm running Homestead v7.1.2 with Vagrant 2.0.0\nIs there a way to specify database version for PostgreSQL?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. It is installed and configured by default. However it is not enabled out of the box for the CLI.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Feb 24, 2018, 21:32 -0600, Ari Mourao notifications@github.com, wrote:\n\nSorry if this is not the appropriate place to suggest, but why isn't xdebug available by default? I always have the hassle to install and proper configure it when I'm setting up a homestead environment.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Not sure what this was for, closing for now.. You shouldn't copy the files, rather you should install Homestead on the second machine like you did the first, then copy / adjust the Homestead.yaml settings accordingly, and then vagrant up.\n\nAlternatively you may want to explore the Per Project Installation method. Homestead doesn't support MSSQL, there was a brief period where we did, but after dumping a lot of time into following their docs and guides and unable to get a working version we had no choice but to remove it. If you have it working I would be interested in seeing how you managed it so I could implement it. At the moment it's not worth the time for me to spend more time with it without a proof of concept or at least a partial PR.. What I would try doing in your case would be on your machine (where everything is working) run vagrant package --base your-homestead-machine-name, that should output a *.box file that they can run vagrant box add my-box my-box.box and then in their Homestead.yamladdbox: my-box. Thenvagrant up`. If it works, I'd run with it, my guess would be there is something different about the SSH keys on the 2nd machine.\nGlad you got it working.. @tom-sinclair sure. Please post the full output of \u2018vagrant destroy && vagrant up\u2019\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 11, 2018, 12:29 -0500, Ilario Engler notifications@github.com, wrote:\n\nVersions\n\u2022 Vagrant: 2.0.2\n\u2022 Provider: HyperV\n\u2022 Homestead: 7.2.0\nHost operating system\nWindows 10\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 4096\ncpus: 4\nprovider: hyperv\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: ~/Projects/filecloud\n     to: /home/vagrant/code/filecloud\n     type: nfs\nsites:\n   - map: filecloud.test\n     to: /home/vagrant/code/filecloud/public\ndatabases:\n   - homestead\nVagrant destroy & up output\n\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\nmount -t cifs -o sec=ntlmssp,credentials=/etc/smb_creds_vgt-50afedca901d3799e8ef23913e1eda0b-0b6bccc471df9bbb04fe66355c376193,uid=1000,gid=1000,actimeo=1,nolock //172.19.167.145/vgt-50afedca901d3799e8ef23913e1eda0b-0b6bccc471df9bbb04fe66355c376193 /home/vagrant/code/filecloud\nThe error output from the last command was:\nmount error(112): Host is down\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs)\nExpected behavior\nFolder should be mounted.\nActual behavior\nError as pasted above in \"Vagrant destroy & up output\" section.\nSteps to reproduce\n\n\nvagrant box add laravel/homestead\ngit clone https://github.com/laravel/homestead.git ~/Homestead\ncd ~/Homestead\ngit checkout v7.2.0\ninit.bat\nvagrant up\n\nReferences\nNo.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I can verify this happens. I also have the same issue without using type: nfs. Haven't found a fix so far.. Ah ha, I always forget Vagrant + NFS on Windows won't work and Vagrant just ignores if you specify type NFS: \n\nhttps://www.vagrantup.com/docs/synced-folders/nfs.html\nWindows users: NFS folders do not work on Windows hosts. Vagrant will ignore your request for NFS synced folders on Windows.. Using \nfolders:\n    - map: ~/Projects/filecloud\n      to: /home/vagrant/code/filecloud\n      type: \"smb\"\n    - map: .\n      to: /vagrant\n      type: \"smb\"\nShould resolve this for you. . There should have been more output from vagrant destroy && vagrant up Won't be much help till we can see the entire output.. Can you run vagrant destroy && vagrant up again and show the full output? we're still missing either a final hard error somewhere, or the part of the output that generates sites, DBs, etc. Closing until OP can provide further info.. Because we install Postgres upstream, this feature would have to remove the current version before doing anything. The implementation should be along the lines of how we allow specific versions of Elasticsearch: https://github.com/laravel/homestead/blob/master/scripts/homestead.rb#L334-L341 and https://github.com/laravel/homestead/blob/master/scripts/install-elasticsearch.sh#L18-L22  . Closing this issue for now. Happy to reopen to discuss PR implementation.. Check https://github.com/mongodb/mongo-php-driver/issues/757 Try upgrading the mongodb extension?. Closing due to inactivity. If you are running into this issue please speak up here.\n@fpilee no idea what you're talking about. Your question doesn't seem relevant to this issue. . In your mapped folder change ~/code to C:\\Users\\Gabriel\\code\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 19, 2018, 16:38 -0500, Direclaw notifications@github.com, wrote:\n\n\u2022 Vagrant: 2.0.3\n\u2022 Provider: Virtualbox 5.2.8 r121009 (Qt5.6.2)\n\u2022 Homestead: 7.3.0 (master)\n\u2022 Windows 10\n\u2022 homestead.yalm is unaltered\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n- ~/.ssh/id_rsa\nfolders:\n- map: ~/code\nto: /home/vagrant/code\nsites:\n- map: homestead.test\nto: /home/vagrant/code/public\ndatabases:\n- homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nhttps://gist.github.com/Direclaw/034cb7e033b2f59e9a22dd84e277c879\nCode folder should show up\nInstead the folder does not show up but everything else works normally\nTo reproduce\n\nInstall vagrant\nAdd laravel/homestead box\nClone the homestead repository\nRun init.sh\nVagrant up\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. The path is the issue if you look at the up log it only mounts /vagrant. Should see that and all\nFolder map\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 19, 2018, 17:01 -0500, Direclaw notifications@github.com, wrote:\n\nI tried that before and the result is the same. I'm a few days struggling with this.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. That means C:\\Users\\Gabriel\\code isn\u2019t a folder or valid path\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 19, 2018, 17:19 -0500, Direclaw notifications@github.com, wrote:\n\nTried again using this homestead.yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n- ~/.ssh/id_rsa\nfolders:\n- map: C:\\Users\\Gabriel\\code\nto: /home/vagrant/code\nsites:\n- map: homestead.test\nto: /home/vagrant/code/public\ndatabases:\n- homestead\nhere is the result\nhttps://gist.github.com/Direclaw/b1978d487e30232c4b346296f6530325\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Yes that is normal behavior. The folder being mapped from Host OS to Homestead must exist before it can be mapped.. 100% fluke this ever worked. It's not something we'd be able to easily support.. If you're having to use shell_exec you should really consider refactoring the shell script into a job.. Homestead does not install or configure any FTP server. If possible you should use SFTP.. Is the destination server on the same homestead box? What is the storage config settings?\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Mar 26, 2018, 22:13 -0500, outlaws notifications@github.com, wrote:\n\nNo, I mean I can't access other ftp services in homestead. My PHP website needs to get files via FTP.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @lybc Sorry I'm not much help here. It's something breaking internall in Flysystem. I don't know enough about the package to debug. I would try opening an issue there. If it comes down to we need something in Homestead to make Flysystem work, I'm happy to investigate.. When you get these errors there should be an option to add an exception to trust the site. You need to do that in order for the cert to work. You may not see a green icon, but SSL will work once this is done.. Homestead's goal is to be a robust development environment, but within the limitations we're able to easily maintain and support as much as we can. The only way to get around this AFAIK would be to buy an actual certificate from a CA, or possibly use Let's Encrypt. . Thanks for the PR!. From your vagrant up gist:\n\nhomestead-7: /tmp/vagrant-shell: line 1: /home/vagrant/.ssh/$2: ambiguous redirect\nThis means there is a problem locating your SSH keys, and from your Homstead.yaml you have spaces in the path, which does not get translated properly.\nTry this:\n```\nip: \"192.168.10.10\"\nmemory: 1024\ncpus: 1\nprovider: virtualbox\nmariadb: true\nauthorize: \"C:\\Users\\Muhammed Kaplan.ssh\\id_rsa.pub\"\nkeys:\n    - \"C:\\Users\\Muhammed Kaplan.ssh\\id_rsa\"\nfolders:\n    - map: C:\\Users\\Muhammed Kaplan\\Documents\\src\\Laravel\n      to: /home/vagrant/projects\nsites:\n    - map: homestead.app\n      to: /home/vagrant/projects/homestead/public\ndatabases:\n    - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n```. Sounds like you need to set the non interactive flag in after.sh before apt get. Post your entire after.sh\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Apr 6, 2018, 06:29 -0500, pascal08 notifications@github.com, wrote:\n\nPlease note that the Homestead issue tracker is reserved for bug reports and enhancements. We are not always able to debug Vagrant, Provider or Operating System issues, but will do our best to help. Thank you!\nVersions\n\u2022 Vagrant: 2.0.3\n\u2022 Provider: Virtualbox 5.2.8\n\u2022 Homestead: 7.3.0\nHost operating system\nWindows 10\nHomestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   - map: c:/dev/projects/website\n     to: /home/vagrant/website\nsites:\n   - map: website.localhost\n     to: /home/vagrant/website/public\ndatabases:\n   - homestead\nVagrant destroy & up output\nOutput\nExpected behavior\nHomestead should start without error code (1)\nActual behavior\nError code (1) returned while processing php7.0-fpm\nSteps to reproduce\nOn Windows 10\n\nInstall VirtualBox 5.2.8\nInstall Vagrant 2.0.3\nInstall Homestead 7.3.0\nRun vagrant up from the Homestead directory\n\nWorkaround\n\nRemove apt-get update -y from after.sh\nRun vagrant up from Homestead directory\nRun apt-get update -y manually inside Homestead VM\n\nReferences\n\u2022 #577\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Yes, when you use DEBIAN_FRONTEND=noninteractive apt-get -y update the package defaults will be chosen instead of prompting you for input. Normally if you get prompted during after.sh the command will just hang. This should have resolved you issue.. V7.9.0 of the homestead repo.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Nov 11, 2018, 03:03 -0600, stephendee notifications@github.com, wrote:\n\n\nthis issue with v7.8.0, try upgrading to v7.9.0 \"\nWould it be acceptable for me to ask: V7.9.0 of what?\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Not currently, no. But may be possible by adding a config flag and checking for it.. Sorry, to clarify. It would be a new feature that would default to Dynamically allocated, but if a flag was set in a config we would set it to a fixed size that was specified (or a sensible default).\n\n\nPRs for this would be welcome.. @stojankukrika \nFirst: Amazing avatar.\nSecond: \nIn your Homestead.yaml specify all the databases you want in the databases section. We don't care about types here. Then specify mariadb: true and mongodb: true and Homestead will install both and create databases in each system. Use whichever you want from there.. Thanks!. Sounds like an old version of Homestead. Make sure  you're running 7.3.0.. You can't map a folder to /home/vagrant because we expect files to be there and by mounting a folder there you remove those files.\nYou should also map 1 project folder at a time:\nfolders:\n    - map: E:/Homestead/UniverAPI\n      to: /home/vagrant/UniverAPI\nThis likely won't solve your npm problems, but #611 might have some suggestions.. The make command which is the workhorse of the per project installation does quite a few different things which is why we wrote it in PHP instead of Bash.. Are you running your console application as admin?. There is definitely something screwy with your host OS if it isn't mapping ports properly. Are you missing Virtualbox extensions?. It would have been a second download. You want this: https://download.virtualbox.org/virtualbox/5.2.10/Oracle_VM_VirtualBox_Extension_Pack-5.2.10.vbox-extpack\nOnce it's downloaded open it with Virtualbox and it will walk you through. Once it's complete run vagrant destroy, then undo any changes to homestead.rb then vagrant up. Not much we can do unless someone else can replicate the issue. I was not able to replicate.. Thanks!. > I feel like these should be left up to the user's discretion, and added to the aliases file as needed.\nThe beautiful thing about aliases is we copy them by default but don't version control them. So the user is free to nuke / add whatever they want so adding to the list isn't much of a consequence so long as we're making sure nothing we're adding will collide with other app names, etc.\n. Thanks for the PR. The composer and guest addition messages you are seeing are benign.\nThe Folders section\nfolders:\n    - map: ~/code/site1\n      to: /home/user/VBShared/public_html/site1\nThis says to share ~/code/site1 on your Ubuntu Host OS to /home/user/VBShared/public_html/site1 INSIDE the vagrant machine. Sounds like you may have this reversed.\n\n==> homestead-7: Unable to mount one of your folders. Please check your folders in Homestead.yaml\n\nThis is the most important issue, one (or more) of your folder map paths do not exist on your host OS.. Glad you got it sorted out. For local email: Set all of your sites to use localhost SMTP on port 1025 and then you can view http://localhost:8025 from your host computer to see the mail.. 9000 is a pretty common dev port, can we change it to something that's less likely to collide? Maybe 9600 or something.. Thanks for the PR!. I don't know what Vagrant VMware Utility 1.0.1 is. It could be changing the network settings thus causing the IP to change. I've also seen fusion on MacOS completely disregard network settings. I'll see if I can reproduce this on my VMware drive shortly.. Upgrade to the current version of Vagrant.. @lperry65 No idea. We can't debug without seeing all the things from the issue template for your issue. Please open a new issue if you're still having problems.. This is correct. You don't see a version on Settler because I haven't merged those changes there since this is an alpha release.\nIf you're brave and want to test the alpha release follow the instructions here: https://www.joeferguson.me/testing-homestead-ubuntu-18-04/ (including what to do if things break) Otherwise hold of on updating until there is a stable box version to upgrade to.. @al3x-edge 6.0.0-alpha1 is tagged as an Alpha and should be treated as such. If you're brave we have 2 people reporting no major issues with it. I'm switching one of my own day job boxes to alpha later tonight and if it goes well I'll ship version 6.0.0 later this week.. You can't map a Host OS folder to /home/vagrant since that's the home of the vagrant system user in the VM.\nUpdate your config to:\nfolders:\n    -\n        map: /Storage/www/laravel/api\n        to: /home/vagrant/api\nsites:\n    -\n        map: laravel-api.test\n        to: /home/vagrant/api/public. Ah! it's because we need to update the PPA for 18.04.. https://gist.github.com/AlMod90/d0b1e517de7a333ff369c5d42ecba8de#file-destroy-up-L63-L84\nLooks like it doesn't like your SSH keys.\nOn WIndows you want to use full drive letter + path in your Homestead.yaml so ~/code becomes:\nfolders:\n    - map: \"C:\\Users\\User\\code\"\n      to: /home/vagrant/code\nAlso you'll want to map individual projects, not large code storage directories.\nExample:\n```\nfolders:\n    - map: \"C:\\Users\\User\\code\\project1\"\n      to: /home/vagrant/project1\n    - map: \"C:\\Users\\User\\code\\project2\"\n      to: /home/vagrant/project2\nsites:\n    - map: project1.test\n      to: /home/vagrant/project1/public\n    - map: project2.test\n      to: /home/vagrant/project2/public\n```. What are the hardware specs on your host machine? Honestly 5 minutes doesn't sound terrible on a Windows 7 machine, but it is longer than usual. It should be under 2 minutes on modern systems. \nYour config looks good. Can you tell where the vagrant up process spends most of it's time?\nIf you want to throw money at the problem you could try VMware instead of Virtualbox but I'm not 100% it would solve anything. (VMware also introduces some other fun Vagrant issues here and there). I don't think you need double \\\\ in your paths.. Try disabling Postgres & blackfire (unless you're using them) and then do a vagrant reload to see if that improves the time from halt -> running.. Ah, ok. \nGlad you got it sorted out.\n. Thanks!. Thanks for the PR!. Thanks!. Are you certain about your Vagrant version? https://gist.github.com/jamesbeamingwhite/f088805374ec5d6bd1476bffdfd6735f#file-gistfile1-txt-L43-L68 is exactly what I saw before upgrading to 2.1.x. Might want to reinstall.. No worries!. Thanks. Unfortunately this is out of our hands. The issue lies somewhere with Vagrant on Windows, which the Vagrant team seems to consistently keep breaking random things.\nGood to know downgrading Vagrant is an option, but I'm willing to bet Vagrant pre 2.1.x won't work with the 18.04 series box (v6.0.0 and up) due to the Linux kernel changes.. awesome. thanks for testing all those versions!. @cbj4074 Thanks for the update! Unfortunately the past several Vagrant releases have broken really weird things on Windows. This is seems to be the new normal >.< If I was a much better Windows Dev & had the free time I'd try to pitch in on the Vagrant project, but not in the cards for me.. Thanks for the PR! Great to see more ZF support :D. Nothing we can do at the Homestead level about NPM bugs (except wait for them to be fixed upstream).. This is not a Homestead issue, but a Vagrant issue with 18.04 Ubuntu. Since you're on Windows you should stick to Vagrant version 2.0.3\nRelated https://github.com/laravel/homestead/issues/859#issuecomment-388486942\n. Have you tried without using the flip command?\nvagrant destroy\nvagrant up\nWait for the VM to boot, check if your site is working. (If you specify a site type of Apache you don't need to run the flip command since the script to install and configure Apache will also stop the nginx service.. > I\u2019m not really willing to destroy my environment again seeing as I had to rebuild it when I upgraded to 6.0.0. And given that this is a fresh install of that box I\u2019m not sure destroying and rebuilding would help anyway.\nYou should never have to worry about destroying the vagrant box. The VM is not your pet, it's cattle. At most you should have to dump your DBs, destroy, up, and then import your dbs (or run your migrations) and you should be back up and running. If this isn't the case you need to revisit how tightly coupled your application is to the development environment.. > That awfully prescriptive of how I \u201cshould\u201d be using something.\nYou're getting awfully defensive which means I struck a nerve. I apologize if I came across that way.  You're completely free to use the tool however you want but don't get upset when someone points out that you're not using the tool to it's fullest potential.\n\nAre you saying that my use case is invalid and therefore this isn\u2019t a bug?\n\nNot at all, I'm saying if you can run destroy and up and maybe a DB import command, you're not using the Homestead tooling to it's fullest advantage and creating more work for yourself.\nI would prefer to keep this thread on the topic of Apache behavior. If you'd like to chat more you can find me on Freenode as joepferguson or in #homestead-dev on Larachat Slack.. @adamdehaven \nThanks, I'll try to investigate later today / this weekend.\nWhat's odd is I use Homestead + Apache for the day job and haven't seen this, but I'm also on MacOS, and I know Windows has had some vagrant issues, but it isn't Apache related. @adamdehaven (and anyone else experiencing this issue) please run apache2ctl configtest from inside the VM and paste the results here for me.. @breams Can you share your Homestead.yaml please. @breams, @adamdehaven \nI believe I have sorted this out, can you run echo 'Mutex posixsem' | sudo tee -a /etc/apache2/apache2.conf from inside the VM, then exit, then halt and vagrant up and see if Apache is running?. @breams thanks! @adamdehaven no worries!\nI'll get a release out with the fix in a few. @adamdehaven \nApparently Apache was failing to start on boot because there was no Mutex setting enabled. I found this issue by checking the apache error log.\nRE: Upgrading Homestead\nYou should always use the latest base box and latest repo release (since that's all technically I'll ever officially support). The version numbers have been climbing rather quickly but I credit that to the somewhat strict semantic versioning we've been following. If I'm ever unsure whether to bump the minor or patch, I always bump the number to the left. So as in the fix here is v7.6.1, which is compatible with v7.6.x and should be mostly compatible with v7.x.x. \nIf you're using per project, you can safely lock Homestead at the major version (I use ^7 currently) and you should never worry that anything will break that a destroy & up won't fix. (If something does break that's a BC break that should be limited as much as possible). Not to say that a breaking change won't ever happen, but I try my best.\nHomestead users should be confident a feature in v7.1.x will always be in v7.x, the behavior may change, but it will be there. When we remove or upgrade major features it should always be a major version bump to indicate a big change.. This issue is now resolved in https://github.com/laravel/homestead/releases/tag/v7.6.1 It will require a destroy or provision to fully implement. Alternatively you can run echo 'Mutex posixsem' | sudo tee -a /etc/apache2/apache2.conf to implement the fix without destroying but you will need to upgrade before you run up again after a destroy. Looks like it choked on your homestead yaml config file\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn May 30, 2018, 17:30 -0400, Adam DeHaven notifications@github.com, wrote:\n\n@svpernova09 I upgraded Homestead on my machine today and the Apache fix is working. However, now, when I run homestead halt I receive the following output (and Vagrant does not actually halt the VM)\n$ homestead halt\nC:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:377:in parse': (<unknown>): did not find expected key while parsing a block mapping at line 2 column 1 (Psych::SyntaxError)\n       from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:377:inparse_stream'\n       from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:325:in parse'\n       from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:252:inload'\n       from C:/Users/adehaven/Homestead/Vagrantfile:28:in block in <top (required)>'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/v2/loader.rb:37:inload'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:126:in block (2 levels) in load'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:119:ineach'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:119:in block in load'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:116:ineach'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:116:in load'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/vagrantfile.rb:28:ininitialize'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:777:in new'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:777:invagrantfile'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:523:in host'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:191:inblock in action_runner'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/action/runner.rb:33:in run'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:510:inhook'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:759:in unload'\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/bin/vagrant:159:inensure in '\n       from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/bin/vagrant:159:in `'\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks!. Can you downgrade to Vagrant 2.0.3 and see if that version works? There's several known issues with Vagrant on Windows that we (Homestead) can't do anything about.. Thanks for trying the downgrade.\n\nTry this (update the paths to your keys)\n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: C:/Users/username/.ssh/id_rsa.pub\nkeys:\n- C:/Users/username/.ssh/id_rsa\nfolders:\n- map: C:/Workspaces\nto: /home/vagrant/code\nsites:\n- map: homestead.test\nto: /home/vagrant/code/public\ndatabases:\n- homestead\n```. > I did vagrant reload --provision after updating YAML file. I am seeing the same result.\n@KerryRitterWaa always destroy and up. provision can produce unreliable outcomes.. @sfenelon & @KerryRitterWaa \nTry using Powershell or the basic terminal instead of using git bash.. I see the connect errors (which isn't a Homestead problem, that's Vagrant's territory) but I'm unable to replicate the up command timing out\nhttps://gist.github.com/svpernova09/2ae1ca446fb1d328ed292c80bc409857\nUnless we can reliably reproduce I don't know what else we can do to help.. Homestead does not contain Symfony Flex by default so you would need to install it before usage. I'll see about adding it to https://github.com/laravel/settler. According to https://symfony.com/doc/current/setup/flex.html you should add flex as a dependency in your application's composer.json so I don't believe there's anything to do for Homestead here.. Thanks!. We wouldn't be able to try to debug this without seeing code, and while this doesn't seem be to a bug report on something in Homestead it sounds like you're better off searching for extra debug levels while in development to ensure everything you expect to find in the log files actually gets logged.\nhttp://php.net/manual/en/function.error-reporting.php. I've thought about this a few times but never really came to a solution that I was happy with. The easiest solution I envision would be specify a DB Server / Provider for each database. I'm not thrilled because this would add a bit of complexity to scripts/Homestead.rb or each of the DB's bash scripts (potentially both).\nI could see the use case and I would welcome any PRs taking a shot at this. However I will mention our current philosophy of \"create a database on all installed DB systems\" is somewhat of a canary in the coal mine for my personal testing of Homestead features. If we add the feature it would have to default to the \"do not create db if system is mysql\" option so that we still create on every provider so we can smoke test that default install is working with and without addon database servers.. Thanks for the PR!. Thanks!. https://gist.github.com/mstnorris/0917940a2164083833629de738a09ae1#file-vagrant_destroy_vagrant_up-sh-L12\n==> example.com: Checking if box 'laravel/homestead' is up to date...\n==> example.com: A newer version of the box 'laravel/homestead' for provider 'virtualbox' is\n==> example.com: available! You currently have version '6.0.0'. The latest is version\n==> example.com: '6.1.0'. Run `vagrant box update` to update.\nYour base box is out of date.. Thanks for the PR!. Thanks for the PR!. The best way would be to disable any daemons you don't want running in your after.sh script.. To turn off Postgres and FPM services add this to after.sh:\nsudo service postgresql stop\nsudo service php5.6-fpm stop\nsudo service php7.0-fpm stop\nsudo service php7.2-fpm stop. I like the idea. Couple of comments:\nBacking up should be an all or nothing thing, I shouldn't have to specify database system or database. The Homestead.yaml knows about all the databases that exist so we should use that as a template for what DBs to backup.\nPaths shouldn't matter, by default we use save the backups to /vagrant/* which will be the Homestead (or project) root folder. From here we could build out a folder structure of /$databaseType/$databaseName-$timestamp.ext but I think just dropping files into /vagrant/* would suffice.\nThese two things should allow us to simply specify a top level DB backup in Homestead.yaml . Fantastic. Thanks!. > I don't think we'd want them on halt or provision. Seems like unnecessary overhead, and neither of those commands will delete DBs.\nAgreed\n\nIf we were to do anything, I would say we extract the feature into a bash script the user can choose to execute at their leisure.\n\nThat's essentially what the export alias is for.. Thanks for the PR!. Please post a gist of the complete output of vagrant destroy && vagrant up\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jun 23, 2018, 06:03 -0500, \u041c\u0430\u043a\u0441\u0438\u043c notifications@github.com, wrote:\n\nWhen I run 'vagrant up' the system installation starts. Installed mongodb, and with it in the file vendor/laravel/homestead/scripts/install-mongo.sh a set php. Then 'vagrant' tries to continue installing applications. But why is it trying to install php again and this falls with the question of how to proceed. then not responding to any of Kaak action.\nVersions\n\u2022 Vagrant 2.1.1\n\u2022 Provider: Virtualbox\n\u2022 Homestead: 7.8\nHost operating system\nMint 16\nHomestead.yaml\nip: 192.168.10.10\nmemory: 1024\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nmariadb: true\nbackup: true\nmongodb: true\nkeys:\n   - ~/.ssh/id_rsa\nfolders:\n   -\n       map: /var/www/nextrun.gitlab.io\n       to: /home/vagrant/code\nsites:\n   -\n       map: nextrun.loc\n       to: /home/vagrant/code/public\n       schedule: true\n       php: '7.2'\ndatabases:\n   - homestead\nname: nextrun-gitlab-io\nhostname: nextrun-gitlab-io\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I see the errors in the logs thanks. Will try to duplicate this later today.. I can confirm it's caused by mongodb: true.  I don't have a fix at the moment. An obvious issue with install-mongo.sh is sudo DEBIAN_FRONTEND=noninteractive should be export DEBIAN_FRONTEND=noninteractive but this doesn't resolve the issue.\n\nStill working on a fix.. Should be resolved via https://github.com/laravel/homestead/releases/tag/v7.9.0. Resolves #886 . Thanks!. RE: apache + multiple PHP versions\nThis shouldn't be too hard. It's just finding the time to implement.\nRE: Changing default PHP version\nYou should be able to run php + version number from the CLI to set the default PHP version for the CLI.\nFrom the aliases file:\n```\nfunction php56() {\n    sudo update-alternatives --set php /usr/bin/php5.6\n}\nfunction php70() {\n    sudo update-alternatives --set php /usr/bin/php7.0\n}\nfunction php71() {\n    sudo update-alternatives --set php /usr/bin/php7.1\n}\nfunction php72() {\n    sudo update-alternatives --set php /usr/bin/php7.2\n}\n```. Resolved via https://github.com/laravel/homestead/releases/tag/v7.11.0. Added to settler. Thanks!. @vpratfr \nYou always want to run the most up to date base box (via vagrant box update) but this particular change hasn't made it into a released base box yet. You can see the base box versions here: https://github.com/laravel/settler/releases. yep it will be installed in the next base box update.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 19, 2018, 18:32 -0400, Vincent Prat notifications@github.com, wrote:\n\nHi,\nI am a little new to settler, sorry.\nAs a basic Homestead user, does that mean that once I vagrant box update I will get the graphviz package already installed in the new VM?\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Duplicate of #890 \n\nThanks for the example vhosts. I'll see about getting this implemented.. I just tagged https://github.com/laravel/homestead/releases/tag/v7.10.0 that will solve this issue. May take a few minutes for packagist to pick up the new version.. Unable to help you without all the information in the issue template, and even then, we'd have to see your app's mail settings.. Homestead uses self signed certificates, this is a typical error when you're doing local development. If you review https://laravel.com/docs/5.6/homestead#configuring-mailhog you can see how to configure your app to have Mailhog catch local mail.. Update your Homestead.yaml to with these changes and test again to see if you still see the same results:\n```\nfolders:\n    - map: ~/Code\n      to: /home/vagrant/Code/Laravel\nsites:\n    - map: homestead.test\n      to: /home/vagrant/Laravel/public\n``. FYI You shouldn't override theconfig.vm.box_version` that's the only way we have to keep you from using the wrong box. You should always use the current tagged version of the repo and the base box since those are the only versions we'll support here.\nI wouldn't be able to debug this any farther without seeing your application's source.. What are the specs of your host machine and what operating system and what version?. Are any of the projects publicly available so we can test?. I can't speak to the hackintosh, but it wouldn't surprise me to see the Macbook Pro take a little longer. (still odd that it shot up to 17.x seconds)\nHere is the repo that I use to test Homestead: https://github.com/svpernova09/quickstart-5.5 (Checkout brand exercise-9, it's not heavy on migrations however).\nUnless we can get someone to reproduce, there's not much we can do to help here.\n. Wow, interesting.thanks for sharing. https://github.com/laravel/homestead/releases/tag/v7.12.0 Adds the disable_cfq option. \nUsage in Homestead.yaml:\ndisable_cfq: true. @sebastiaanluca sounds like we need to update the commands on the disable_cfq: true?\n\nNo luck with the general NFS read/write slowness of the VM though (#901). Takes half a minute to load a simple page :(\n\nNFS....it's a beast with virtualization :/. Can you share the ansible playbook and / or the Vagrantfile + configuration so I can compare w/ Homestead?. Closed due to inactivity\n. Try adding natdnshostresolver: off to Homestead.yaml and destroy & up to see if the performance is still slow. @driesvints \nFrom the app that is slow can you run find DIR_NAME -type f | wc -l to see how many files are there, and compare with apps that are not slow? I'm wondering if you're hitting this mysterious \"too many files for Virtualbox sharing to handle without slowing down\" that Drupal users seem to run into sometimes. \nI'm also wondering if there's something else in 18.04 similar to what caused #896 . Yeah, not enough difference.\nNext thing to try is to map the \"good\" app and the \"slow\" app into the same VM (preferably use the slow app's VM) and see if the \"good\" app is still good in the \"slow\" apps VM.\nSorry this has been such a pain, thanks for doing all this debugging.. > @svpernova09 so the \"good\" app performs the same in the \"bad\" app's Homestead box as it does on its own Vagrant box.\nSo this tells me that it's not Homestead, yet something in the project. Which is reassuring to me, but doesn't help you.\n\nBut I kid you not. I rebuild the Vagrant box for the \"slow\" app now again after the weekend and after I tried out the \"good\" app on it, I noticed the \"slow\" app was performing a bit better than before. Why, I have no clue. It's still very slow, especially API requests but it's a tad better than before.\n\n\nI'm glad valet got the project working. I guess it's just something in the project causing issues. Does the \"bad\" application have symlinks anywhere in the code base?\nAt this point I'd have to have the app itself to replicate and debug any further to see what Homestead could do, but it sounds like this project has triggered the \"too many files which is slowing down VirtualBox file sharing\". Doesn't surprise me that NFS didn't solve anything (IME it rarely does).\n. > Yeah, I agree with you. Unfortunately sharing isn't an option since it's closed source. I think this is where it stops unfortunately and I'll have to look for other options.\nThe next step would be to try the \"bad\" application on VMware. That would definitively tell me it's a number of files / file IO issue. But please don't go buy licenses if you don't already have them. (VMware + the Vagrant plugin are both paid products). > Yeah, no license so no dice I'm afraid. I'm just going to leave it at this.\nI would be happy to review / sign an NDA if you think the company would allow me to in order to test this in my VMware setup. Understandable if not. Just throwing options out there.. > I tried using the 5.2.0 box with Ubuntu 16.04 but it's also performing slow there.\nWell that relaxes my anxiety about there being a latent bug in 18.04.\nStill odd.. > Now I feel so dumb.. \nDon't! We intentionally leave some of the lesser used settings undocumented in an attempt to keep the docs more straightforward. If you open up scripts/homestead.rb and search for settings you'll find all of the undocumented things you can override from the Homestead.yaml. If you remove the bridge does Vagrant ask you which device to use during vagrant up? That would be my first check. Otherwise the format of the bridge string may not match how vagrant is matching up the available devices.. If 10.8.220.224 is the IP your Windows machine has, you can't use that same IP for the network bridge, it needs to be another addressable address on that network IE: 10.8.220.225. > oh ,no , it's diff about ip! I'm not fool! And my problem has not been solved!!!\nI'm not sure what else to tell you. Homestead follows the vagrant docs when it comes to networking.. Thanks for letting us know.\nUnless this becomes a larger issue I'm content with the resolution of this issue to instruct users to remove the lines from their virtual hosts manually, or script removal via after.sh. Thanks for the PR, but I'm not ready to make this change for everyone just to resolve the issue for users using subdomains at this time.. Holy Thread Necro.\nvagrant box update updates the base box on your system. It does not update the base box the current existing vm (that's impossible). To apply the change you'll need to destroy & up.. Best I can tell you is it's either a temporary networking issue with your network / ISP, or it's something in your linux machine. Not anything we can do on the Homestead side.. Unable to help you when you ignore the issue template. Seems like this is likely an issue with your application and not Homestead.. I like it. I don't think we'll want to add commented out section in the sites key, just because any change we've historically made there is quite confusing. But we'll make sure to get the docs updated to cover what the new section is. Is there a URL where they can register that we can put a comment above? That way they can go pre-register before they start using it?. > I imagined that you'd be unlikely to accept the comments part as I indeed noticed there weren't any comments anywhere else but gave it a shot anyway :)\n:D\n\nCurrently there's no independent URL where you can register/preregister, you can only do that from within Z-Ray under Homestead. Do you think it's important to have one?\n\nIf they can do it from the Z-Ray screen I think that would be fine. . Thanks for the PR!. Looks like something has changed the mysql password for homestead user.\nIf you care about backing up your databases:\n\nLet this be the last time you put something IN a VM you don't have a backup of\nrun vagrant up\nfollow normal \"resetting mysql root password\" procedures\nDump your databases\nContinue with the next section to manually destroy the VM and recreate\n\nIf you don't care about your DBs:\n\nOpen virtual box\nStop homestead VM\nremove Homestead VM (Select \"delete all files\")\ncd to where you run vagrant commands from\nrm -rf .vagrant\nvagrant up. Have you tried putting quotes around 8080?\n\nMake sure ports is uncommented, you have a # in front of it.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 24, 2018, 05:53 -0500, stevegriffiths notifications@github.com, wrote:\n\nPlease note that the Homestead issue tracker is reserved for bug reports and enhancements. We are not always able to debug Vagrant, Provider or Operating System issues, but will do our best to help. Thank you!\nVersions\n\u2022 Vagrant: 2.1.1\n\u2022 Provider: Virtualbox 5.2.16\n\u2022 Homestead: 7.8.0\nHost operating system\nWindows 10\nHomestead.yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n- ~/.ssh/id_rsa\nfolders:\n- map: C:\\Users\\xx\\Documents\\Websites\nto: /home/vagrant/code\nsites:\n- map: homestead.phpmyadmin\nto: /home/vagrant/code/phpmyadmin\n- map: homestead.app1\nto: /home/vagrant/code/app1/public\n- map: homestead.nodejs1\nto: 8080\ntype: proxy\ndatabases:\n- homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n\n\nsend: 8081\nto: 8080\nprotocol: udp\nVagrant destroy & up output\nProvide a link to a GitHub Gist containing the complete output of vagrant destroy && vagrant up.\nDo NOT paste the debug output in the issue, just paste the link to the Gist.\nExpected behavior\nExpect vagrant up to run without error, and for one of the sites in the resulting VM to act as a proxy to port 8080 (running a Node.js app) within the machine.\nActual behavior\nVagrant up fails with the following error:\nhomestead.rb:233:in '+': no implicit conversion of Integer into String (TypeError).\nI have narrowed this error down to being the result of this line in the Homestead.yaml file, despite various sources suggesting that this is the correct format for defining a proxy type site in homestead:\nto: 8080\nSteps to reproduce\n\n\nCreate Homestead.yaml file as displayed above.\n\nRun vagrant up\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. > I did try with quotation marks around the 8080, this started directing traffic into the folder where the node.js app is located but did not actually forward requests to the running node.js process.\n\nSounds like the proxy site is working. Do you have an index.js or similar set up to handle the incoming traffic in the node app? That's about as much help as I'm going to be with regards to node.. This may require we ship a new box built with a newer version of VMware fusion.\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 24, 2018, 09:58 -0500, Keith Doyle notifications@github.com, wrote:\n\nPlease note that the Homestead issue tracker is reserved for bug reports and enhancements. We are not always able to debug Vagrant, Provider or Operating System issues, but will do our best to help. Thank you!\nVersions\n\u2022 Vagrant: 2.1.2\n\u2022 Provider: VMWare Workstation\n\u2022 Homestead: v7.4.2\nHost operating system\nWindows 7 - 64-bit\nHomestead.yaml\n\nip: \"192.168.10.11\"\nmemory: 4096\ncpus: 4\nprovider: vmware_desktop\nauthorize: C:/Users/kdoyle/.ssh/id_rsa.pub\nkeys:\n   - C:/Users/kdoyle/.ssh/id_rsa\nfolders:\n   - map: C:/Users/kdoyle/code\n     to: /home/vagrant/code\nsites:\n   - map: abc.local\n     to: /home/vagrant/code/abc-com\n     php: \"7.2\"\n     type: apache\n   - map: sub.abc.local\n     to: /home/vagrant/code/sub-abc-com\n     php: \"7.2\"\n     type: apache\ndatabases:\n   - homestead\n   - dev_example_com\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nVagrant destroy & up output\nhttps://gist.github.com/keithdoyle9/202304603bbfd42af276dc6196a13395\nExpected behavior\nMachine should've booted up as normal. This worked previously on VMWare Workstation Pro 12.\nActual behavior\nProvisioning sequence timed out at SSH auth method: private key\nSteps to reproduce\n\nInstall VMWare Workstation Pro 14\nInstall VMWare Vagrant Utility\nInstall Vagrant version 2.1.2\nClone Homestead repo and checkout tag v7.4.2\nRun init.bat in Homestead folder\nRun vagrant up in homestead repo\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I\u2019ll have to check the version of fusion I\u2019m on. Will do that when I\u2019m back at the house later this afternoon.\n\n--\n- Joe Ferguson\nJoeFerguson.me\nMemphisPHP.org\nOn Jul 24, 2018, 12:44 -0500, Keith Doyle notifications@github.com, wrote:\n\nI'm more than willing to do some testing if that helps.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Sorry, I'm out of town without my VMware drive so I can't check, will check when I'm back home / Monday.. I just got home and unpacked. No promises but I'll see about getting my VMware drive running today.\n\n@thecrypticace what version of VMware?. Update: I'm waiting for the VMware box to download so I can verify current Homestead release works with the current VMware box.\nThe current VMware box was built on MacOS using VMware Fusion 8.5.10 (7527438).\nIf I can recreate the issue I'll upgrade to VMware Fusion 10.x (current version) and built the current version of Settler. This should bring VMware box version to the same as the other providers. (VM ware has skipped a few releases). I can confirm the current box and the current release of Homestead work on VMware Fusion 8.5.10 (7527438). I'm going to upgrade to the current version and retest.. Looks like I'm not able to reproduce this. I'm about to apply a MacOS update and will retry then to confirm.\nVagrant version: 2.1.2\nVMware Fusion 10.1.2 (8502123)\nHomestead: master branch / latest release\nvagrant box list\nlaravel/homestead (vmware_desktop, 6.1.0)\nvagrant up:\nBringing machine 'homestead-7' up with 'vmware_fusion' provider...\n==> homestead-7: Cloning VMware VM: 'laravel/homestead'. This can take some time...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Verifying vmnet devices are healthy...\n==> homestead-7: Preparing network adapters...\n==> homestead-7: Fixed port collision for 80 => 8000. Now on port 2200.\n==> homestead-7: Fixed port collision for 443 => 44300. Now on port 2201.\n==> homestead-7: Fixed port collision for 3306 => 33060. Now on port 2202.\n==> homestead-7: Fixed port collision for 4040 => 4040. Now on port 2203.\n==> homestead-7: Fixed port collision for 5432 => 54320. Now on port 2204.\n==> homestead-7: Fixed port collision for 8025 => 8025. Now on port 2205.\n==> homestead-7: Fixed port collision for 27017 => 27017. Now on port 2206.\n==> homestead-7: Fixed port collision for 22 => 2222. Now on port 2207.\n==> homestead-7: Starting the VMware VM...\n==> homestead-7: Waiting for the VM to receive an address...\n==> homestead-7: Forwarding ports...\n    homestead-7: -- 80 => 2200\n    homestead-7: -- 443 => 2201\n    homestead-7: -- 3306 => 2202\n    homestead-7: -- 4040 => 2203\n    homestead-7: -- 5432 => 2204\n    homestead-7: -- 8025 => 2205\n    homestead-7: -- 27017 => 2206\n    homestead-7: -- 22 => 2207\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2207\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring network adapters within the VM...\n==> homestead-7: Waiting for HGFS to become available...\n==> homestead-7: Enabling and configuring shared folders...\n    homestead-7: -- /Users/halo/PhpStormProjects/homestead: /vagrant\n    homestead-7: -- /Users/halo/PhpStormProjects/quickstart-5.4: /home/vagrant/qs\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n    homestead-7:\n    homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/qn/_9grndp96d56xqcxs0sb2rt80000gn/T/vagrant-shell20180729-8295-18obqgf.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.localhost\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Cron\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n    homestead-7: You are running composer as \"root\", while \"/home/vagrant/.composer\" is owned by \"vagrant\"\n    homestead-7: You are already using composer version 1.6.5 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/qn/_9grndp96d56xqcxs0sb2rt80000gn/T/vagrant-shell20180729-8295-3v2a3f.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/qn/_9grndp96d56xqcxs0sb2rt80000gn/T/vagrant-shell20180729-8295-97pxos.sh\nvagrant up: 01:09. No, I didn't event halt it, I just hit the restart button on the pending update.. That one good run may have been a fluke. After rebooting from the MacOS update I saw lots of complaining about the box overriding a network setting that vagrant immediately overrides. I'm currently building a new VMware base box. My ISP is pretty miserable atm so it may take a while to get this built and released.. Having ton's of issues trying to get a new box built. Not sure if it's fusion, or me. Will give it a shot later. So I spent the entire night yak shaving VMware. I can't get Fusion to take networking settings that allow it to access the internet AND fetch the preseed file it needs from packer. It's not looking good. Next steps are to purge Fusion and reinstall to see if that gets my networking settings working again in Fusion.. Anyone experiencing this issue please update to base box version 6.2.0 (It's only available for VMware atm).\nThis box was built on Fusion 10.x and \"is working fine on my machine\u2122\".  Please test to see if this fixes the issues encountered.. @jordanramstad has confirmed this is working. Closing the issue, if you're still having problems with the 6.2.0 box please open a new issue. Thanks to everyone for all the debugging.. 2.0 is long dead and will not be merged into master.. Thanks for the PR but we're going to hold off on this for now. I'd prefer to keep the Homestead default aliases tailored to shortcuts around around tooling we provide and while this does add a git alias I don't want to encourage a PR war adding specific aliases.\nYou're free to add this to your own aliases file and commit it since Homestead will never overwrite this file if it exists unless your run init.sh or init.bat again.. fastcgi should always be available since it's included in the base box. How are you running into an issue where it's not?. I see, thanks for the PR!. This is 100% unintentional and likely a result of refactoring via #913 Will investigate and tag a fix shortly.. Resolved via https://github.com/laravel/homestead/releases/tag/v7.14.1. Will tag shortly. Tagged https://github.com/laravel/homestead/releases/tag/v7.14.2. Thanks for the PR!. https://github.com/laravel/homestead/issues/895#issuecomment-410014471. Sounds like you're hardcoding your application URL http://blog.test into your .env or somewhere else? If so, try changing it to http://00000000.ngrok.io which matches your ngrok URL.\nDoesn't sound like this is a Homestead issue.. So I have confirmed the share behavior is working as intended. I have a project mapped to Homestead. I run vagrant destroy -f && vagrant up to ensure I'm getting a clean VM. Once running I vagrant ssh into the machine, then cd qs, artisan migrate, artisan db:seed, and then share qs.test. The entire point of passing the URL to the share command is to tell ngrok you want whatever domain they give you to masquerade as qs.test which means your application should report blog.test for you, in my case it shows qs.test.\nHere are some screenshots showing the 3 main URLs working: /, /tasks, and /widgets\n\n\n\n\nWhat do you think? Should I create that issue in the laravel framework?\n\nWithout seeing your code I'm unable to recommend any next steps.. @antimech \nPlease open a new issue describing the problem you're having with Homestead, if you're having URL issues in your application that would be a application issue, not a Homestead issue (most likely)..  Thanks!. Not sure how much help we're going to be on this.\nPlease paste your Vagrantfile\nPlease paste the full output of running these commands from /home/vagrant/code:\ncd /home/vagrant/code\nrm -rf node_modules\nnpm install. Did you remove the node_modules folder before running npm install?\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Aug 11, 2018, 08:28 -0500, G. notifications@github.com, wrote:\n\nHello, thank you very much for spending time on this issue.\nvagrant@dev-local:~/code$ npm install\nnpm WARN rollback Rolling back abbrev@1.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/abbrev/package.json.3533218038'\nnpm WARN rollback Rolling back acorn-dynamic-import@2.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/acorn-dynamic-import/package.json.1733404457'\nnpm WARN rollback Rolling back acorn@4.0.13 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/acorn-dynamic-import/node_modules/acorn/package.json.3534752001'\nnpm WARN rollback Rolling back ajv-keywords@3.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ajv-keywords/package.json.4048504180'\nnpm WARN rollback Rolling back camelcase@1.2.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/adjust-sourcemap-loader/node_modules/camelcase/package.json.4125958182'\nnpm WARN rollback Rolling back amdefine@1.0.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/amdefine/package.json.3495638571'\nnpm WARN rollback Rolling back ansi-regex@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-regex/package.json.4286723812'\nnpm WARN rollback Rolling back ansi-html@0.0.7 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-html/package.json.1606666357'\nnpm WARN rollback Rolling back alphanum-sort@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/alphanum-sort/package.json.2478757196'\nnpm WARN rollback Rolling back ansi-wrap@0.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-wrap/package.json.2595492549'\nnpm WARN rollback Rolling back aproba@1.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aproba/package.json.4170576557'\nnpm WARN rollback Rolling back ansi-gray@0.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-gray/package.json.3423865556'\nnpm WARN rollback Rolling back archive-type@3.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/archive-type/package.json.2243657005'\nnpm WARN rollback Rolling back file-type@3.9.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/archive-type/node_modules/file-type/package.json.3641111460'\nnpm WARN rollback Rolling back arr-flatten@1.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-flatten/package.json.3458930831'\nnpm WARN rollback Rolling back arr-diff@4.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-diff/package.json.2536690881'\nnpm WARN rollback Rolling back arr-union@3.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-union/package.json.2980387820'\nnpm WARN rollback Rolling back array-differ@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-differ/package.json.3923987795'\nnpm WARN rollback Rolling back array-find-index@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-find-index/package.json.2653698088'\nnpm WARN rollback Rolling back array-flatten@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-flatten/package.json.225453374'\nnpm WARN rollback Rolling back array-uniq@1.0.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-uniq/package.json.1358823576'\nnpm WARN rollback Rolling back array-union@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-union/package.json.3110248508'\nnpm WARN rollback Rolling back array-unique@0.3.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-unique/package.json.857394355'\nnpm WARN rollback Rolling back asap@2.0.6 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/asap/package.json.1844131700'\nnpm WARN rollback Rolling back assign-symbols@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/assign-symbols/package.json.320233826'\nnpm WARN rollback Rolling back ast-types@0.9.6 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ast-types/package.json.2563780366'\nnpm WARN rollback Rolling back assert-plus@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/assert-plus/package.json.1547195921'\nnpm WARN rollback Rolling back async-each@1.0.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-each/package.json.353144535'\nnpm WARN rollback Rolling back async-each-series@1.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-each-series/package.json.288915879'\nnpm WARN rollback Rolling back asynckit@0.4.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/asynckit/package.json.213461718'\nnpm WARN rollback Rolling back async-foreach@0.1.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-foreach/package.json.1555186804'\nnpm WARN rollback Rolling back aws-sign2@0.7.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aws-sign2/package.json.621248267'\nnpm WARN rollback Rolling back babel-plugin-syntax-async-functions@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-async-functions/package.json.3781083655'\nnpm WARN rollback Rolling back ansi-styles@2.2.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/ansi-styles/package.json.3101013630'\nnpm WARN rollback Rolling back atob@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/atob/package.json.2630077391'\nnpm WARN rollback Rolling back supports-color@2.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/supports-color/package.json.1297393194'\nnpm WARN rollback Rolling back babel-plugin-syntax-exponentiation-operator@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-exponentiation-operator/package.json.2001068536'\nnpm WARN rollback Rolling back aws4@1.8.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aws4/package.json.1683651057'\nnpm WARN rollback Rolling back babel-plugin-syntax-flow@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-flow/package.json.4286610413'\nnpm WARN rollback Rolling back babel-plugin-syntax-object-rest-spread@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-object-rest-spread/package.json.3269638813'\nnpm WARN rollback Rolling back babel-plugin-syntax-jsx@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-jsx/package.json.1915752970'\nnpm WARN rollback Rolling back babel-plugin-syntax-trailing-function-commas@6.22.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-trailing-function-commas/package.json.3589691704'\nnpm WARN rollback Rolling back babylon@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babylon/package.json.615632171'\nnpm WARN rollback Rolling back balanced-match@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/balanced-match/package.json.3838495647'\nnpm WARN rollback Rolling back batch@0.6.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/batch/package.json.3571334323'\nnpm WARN rollback Rolling back base64-js@0.0.8 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/base64-js/package.json.1460887819'\nnpm WARN rollback Rolling back beeper@1.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/beeper/package.json.3883539289'\nnpm WARN rollback Rolling back babel-code-frame@6.26.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/supports-color/package.json.1297393194'\nnpm WARN rollback Rolling back babel-core@6.26.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-core/node_modules/source-map/package.json.2284816037'\nnpm WARN rollback Rolling back adjust-sourcemap-loader@1.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/adjust-sourcemap-loader/node_modules/camelcase/package.json.4125958182'\nnpm ERR! path /home/vagrant/code/node_modules/ansi-gray/package.json.3423865556\nnpm ERR! code ETXTBSY\nnpm ERR! errno -26\nnpm ERR! syscall rename\nnpm ERR! ETXTBSY: text file is busy, rename '/home/vagrant/code/node_modules/ansi-gray/package.json.3423865556' -> '/home/vagrant/code/node_modules/ansi-gray/package.json'\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/vagrant/.npm/_logs/2018-08-11T13_23_26_420Z-debug.log\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. So the good news is I've been able to confirm what you're seeing on my Windows 10 + Virtualbox machine.\n\nThe bad news is I don't think it's anything Homestead can fix. It seems to be an issue between NPM & Virtualbox.\nOne alternative I saw people try was using Yarn, this seemed to work for me:\nvagrant@homestead:~/qs$ yarn install --no-bin-links\nyarn install v1.7.0\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.1.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.1.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nwarning Your current version of Yarn is out of date. The latest version is \"1.9.4\", while you're on \"1.7.0\".\ninfo To upgrade, run the following command:\n$ curl --compressed -o- -L https://yarnpkg.com/install.sh | bash\nDone in 275.46s.\nIf you don't want to use yarn, my best workaround suggestion would be to install NPM on your windows machine and run NPM commands from your host OS.. thanks for the PR!. The 6.3.0 version has not yet been released. Extensive conference travel + some personal stresses have delayed the release. My plan is to get it released this weekend.. > Interesting. Before I wrote the article, I checked the page and clearly saw the version 6.3.0 on it (though the inscription currently released version was in version 6.2.0, as it is now).\nNevertheless, on my computer is 6.1.0 for the virtual box.\nSince I'm not entirely sure when I'm going to release 6.3.0 I've removed it so it won't show up during vagrant commands.\n\nOn another computer with virtualbox installed, the image downloaded for vmware works. This is normal?\n\nThe current version of Virtualbox is box v6.1.0 The current version of VMware is box v6.2.0. \nNormally we keep all providers at the same version however with 6.2.0 the only change was specific to the VMware provider so we only built that provider for the release.. Thanks!. Sorry for the troubles. New base box is coming soon\u2122. According to http://manpages.ubuntu.com/manpages/trusty/man5/sources.list.5.html\n\narch=arch1,arch2,...  can be used to specify for which architectures information\n           should be downloaded. If this option is not set all architectures defined by the\n           APT::Architectures option will be downloaded.\n\nSince Homestead is built to run on 64 bit we should never need any architectures outside of amd64. If anything we should remove the other two options so we don't download information from the repositories we'll never need.. The base box you currently have doesn't have 7.3 installed like the new base box does. Whenever we update a base box you need to destroy and up again to get the new base box.\nI'd be interested to see your DB2 install and config setup so I can possibly build that into the Homestead base box for you.. > Offer up a Laravel and/or Homestead alternative, perhaps hosted at motd.laravel.com, with news more relevant to Laravel developers and/or Homestead users. We could then change the \"URLS\" setting in /etc/default/motd-news to pull more relevant news.\nI like this. I'll talk to Taylor about the subdomain.. ta-da!\n```\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Cron\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n    homestead-7: You are running composer as \"root\", while \"/home/vagrant/.composer\" is owned by \"vagrant\"\n    homestead-7: You are already using composer version 1.7.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20180904-28528-1by1p7g.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20180904-28528-d9gtjj.sh\nvagrant destroy -f && vagrant up: 01:44\n\u250c\u2500(joeferguson@macrage.hsd1.tn.comcast.net)(~/PhpstormProjects/homestead)(master S:5)\u2500\u2500\u2500(en0:192.168.1.36/24 vnic0:10.211.55.2/24 vnic1:10.37.129.2/24 vboxnet0:192.168.10.1/24)\u2500\u2510\n\u2514\u2500(15:55:12)\u2500 vagrant ssh                                                                                                                                            \u2500(09/04/18)\u2500\u2518\nWelcome to Ubuntu 18.04.1 LTS (GNU/Linux 4.15.0-32-generic x86_64)\n_                               _                 \n| |                             | |               | |\n| |   _ _   | |  _ _  | |\n| ' \\ / _ \\| ' _ \\ / _ \\/ __| __/ _ \\/ _ |/ ` |\n| | | | () | | | | | |  /_ \\ ||  / (| | (| |\n|| ||_/|| || ||___||/__|_,|_,_|\n0 packages can be updated.\n0 updates are security updates.\nvagrant@homestead:~$\n``. This will be available in the next base box release sometime late September or early October 2018.. If you would like this feature now, you can the following code to yourafter.sh`:\nsudo sed -i \"s/motd.ubuntu.com/homestead.joeferguson.me/g\" /etc/default/motd-news\nsudo rm -rf /etc/update-motd.d/10-help-text\nsudo rm -rf /etc/update-motd.d/50-landscape-sysinfo\nsudo service motd-news restart. Please fill out the entire issue template so someone has a chance of helping you.. Great! I\u2019m still on coder cruise until Monday afternoon so it may. It be until then I have enough bandwidth to test and merge.\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Sep 1, 2018, 20:12 -0400, Steve Grunwell notifications@github.com, wrote:\n\nPhew, I wasn't particularly attached to after.local.sh, but was having trouble coming up with a better name; user-customizations.sh gives it a much clearer meaning \ud83d\udc4d\nPR has been updated to use the new name and address the missed copy/paste error in resources/localized/Vagrantfile.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for the PR and changes. Looking forward to implementing this in my own projects.. Thanks!. Thanks, this should be resolved in https://github.com/laravel/homestead/releases/tag/v7.16.0. There should be no difference in packages contained in 7.16.1 from 7.15.0 (Which was the first release of the new base box version). Thanks for the PR!. Thanks!. You don't need to add the 2 PPAs you're adding, they're already in the box. You also don't need to install php7.2-fpm since it's already installed.\n\nPlease follow the issue template instructions:\n\nProvide a link to a GitHub Gist containing the complete output of vagrant destroy && vagrant up.\n\nvagrant provision does not reset the current box state. There's no way we can debug from your current state, we have to work from a known working box state which is always going to be a clean vagrant up.. Edit your after.sh to this:\n```\n!/bin/sh\nexport DEBIAN_FRONTEND=noninteractive\nIf you would like to do some extra provisioning you may\nadd any commands you wish to this file and they will\nbe run after the Homestead machine is provisioned.\nload any extensions you like here\nsudo apt-get -y -o Dpkg::Options::=\"--force-confdef\" -o Dpkg::Options::=\"--force-confold\" install libmagickwand-dev \\\nimagemagick php-imagick php7.2-gmp\n```. You're either using an old base box or an old version of the repo. You should always use the most recent versions of both, we don't support anything but the current versions.. Thanks for the PR!. Thanks for the update!. Unless you've changed other settings (or there is a problem with your application) this setting shouldn't need to be changed.\nhttp://php.net/manual/en/ini.core.php#ini.cgi.fix-pathinfo. You should use mod_rewrite rules to get /index.php/ out of your URL. (if that's a problem you're trying to solve). What I've read about cgi.fix_pathinfo that may be what's causing your issues. Not entirely sure.\nI use Apache + Homestead everyday in the day job (as do most of my team) and we haven't run into any blank screens.. While you shouldn't have others connecting to your vagrant instance....\nUse the domain name and have the other developers modify their hosts file with your IP.. Going to hold off on this because the already existing solution of copying your Homestead.yaml to Homestead.yaml.example is how this should be accomplished. The make command parses Homestead.yaml.example and uses all values found there except folder mapping. Folder mapping is unique to the individual user's machine since the make command figures out where it's being run from so that it can place a full local path to the current project.\nIf I recall from our chat in Discord you're mapping . which is not recommended by Vagrant because when you map . Vagrant assumes you know what you're doing and doesn't map . to /vagrant which is how the initial provisioning tooling is executed in the VM (From /vagrant path).\nThe better solution is to add documentation around Homestead.yaml.example and the make command and encourage users to not map . and to not version control Homestead.yaml, but instead version control Homestead.yaml.example.\nThanks for the discussion and taking the time to build the PR.. Thanks!. server-*.sh scripts are for generating virtualhosts based on different site types. There shouldn't be a site type for ngrox since the share command uses ngrok. What are you trying to solve here?\nFrom #548 it sounds like you're saying there's something wrong with the proxy script?. Thanks for the PR.. I'm not sure how I feel disabling this to default off. It's not like I've ever had the need to play audio from my Homestead box, but feels odd. Going to play with the audio settings a bit.\nThanks for sharing.. Going to hold off on this for now. Thanks for taking the time. We may revisit this later.. On MacOS, the best domain to use would be .test. You also don''t need to map ports for 3306 -> 33060 since Homestead will do that manually for you.\nTry this Homestead.yaml:\n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n- ~/.ssh/id_rsa\nfolders:\n- map: /WEB-ID/www/\n  to: /home/vagrant/code\nsites:\n- map: sapiendo-groupama.test\nto: /home/vagrant/code/sapiendo-groupama\ntype: \"apache\"\nphp: \"7.1\"\n\nmap: sapiendo-test.test\n  to: /home/vagrant/code/sapiendo-USE-THIS-ONE\n  type: \"apache\"\n  php: \"7.1\"\n\n- map: workshop.test\nto: /home/vagrant/code/_LARACON/workshop/public\ntype: \"apache\"\nphp: \"7.1\"\n\nmap: petitdej.test\n  to: /home/vagrant/code/breakfast-id/public\n  type: \"apache\"\n  php: \"7.2\"\nmap: admin.hotel-star.test\n  to: /home/vagrant/code/hotel-star/public\n  type: \"apache\"\n  php: \"7.3\"\nmap: global.hotel-star.test\n  to: /home/vagrant/code/hotel-star-global/public\n  type: \"apache\"\n  php: \"7.3\"\n\n- map: wil.fire.shopping-time.test\nto: /home/vagrant/code/stn/fire/\ntype: \"apache\"\nphp: \"7.1\"\ndatabases:\n- sapiendo\n- les_horaires_prod\nports:\n- send: 33060\nto: 3306\n```\nAnd add these lines to /etc/hosts\n192.168.10.10 sapiendo-groupama.test\n192.168.10.10 sapiendo-test.test\n192.168.10.10 workshop.test\n192.168.10.10 petitdej.test\n192.168.10.10 admin.hotel-star.test\n192.168.10.10 global.hotel-star.test\n192.168.10.10 wil.fire.shopping-time.test\nThen run vagrant destroy && vagrant up. You should be able to visit the domains now.. Thanks! Going to merge and poke around.. Thanks!. You can add the command to after.sh and it will run on every vagrant up --provision or if you destroy the box, it will run the next time you run vagrant up. From Homestead's perspective this is working as intended. We don't enable ports for options that are installed post vagrant up. It might be nice to add ports based on configuration values but currently not a feature that exists.\nI would welcome a docs PR that would address this / make it clearer.. Thanks for taking the time to write this up and submit it.. 2.4.6 isn't a valid ES version. You have to use a value there that matches a version or you'll see this error. If you want the latest version, change 2.4.6 to true. Homestead is only able to support what's in that specific repository. You'd have to install any other version manually.. You shouldn't need --insecure. Depending on how Vagrant has their S3 buckets configured it may not support http. Nothing we can do at the Homestead level for this.. > @svpernova09 I've tried without --insecure, same result happens. :|\nSounds like an S3 issue. Try wget https://vagrantcloud.com/laravel/boxes/homestead/versions/6.3.0/providers/virtualbox.box?. Hi @parsidev,\nTake a look at the install-couch.sh and create-couch.sh files and their usages in homestead.rb for a guide on how to implement.. Thanks for taking the time.\nInstead of just disabling this for everyone, it should be a configurable setting. See the backup usage in scripts/homestead.rb for implementation information. It should default to ON, if set it should change to use this setting.. Thanks!. From your gist: https://gist.github.com/iAxel/eca8660362603ce9e0061268efdc99cc#file-vagrant-up-L230-L271 seems problematic.\nI'm unable to reproduce the issue:\n$ vagrant up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Importing base box 'laravel/homestead'...\n==> homestead-7: Matching MAC address for NAT networking...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Fixed port collision for 80 => 8000. Now on port 2200.\n==> homestead-7: Fixed port collision for 443 => 44300. Now on port 2201.\n==> homestead-7: Fixed port collision for 3306 => 33060. Now on port 2202.\n==> homestead-7: Fixed port collision for 4040 => 4040. Now on port 2203.\n==> homestead-7: Fixed port collision for 5432 => 54320. Now on port 2204.\n==> homestead-7: Fixed port collision for 8025 => 8025. Now on port 2205.\n==> homestead-7: Fixed port collision for 27017 => 27017. Now on port 2206.\n==> homestead-7: Fixed port collision for 22 => 2222. Now on port 2207.\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 2200 (host) (adapter 1)\n    homestead-7: 443 (guest) => 2201 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 2202 (host) (adapter 1)\n    homestead-7: 4040 (guest) => 2203 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 2204 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 2205 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 2206 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2207 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2207\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /Users/joeferguson/PhpstormProjects/homestead\n    homestead-7: /home/vagrant/qs => /Users/joeferguson/PhpstormProjects/quickstart-5.5\n    homestead-7: /home/vagrant/snipeit => /Users/joeferguson/PhpstormProjects/snipe-it\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n    homestead-7:\n    homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBeub1sTnpX7Tp7f0ukLAz7dMn7CS9w6eHmc1wtJNp/iXHzyBRKZ+ov8z+voCVJOrSDyTsG0IKcby8+UxwpzR2nyqiBPw+oaSD1elIHFS48h7Wd5f41S6QeHUlhac20fa5EHTnNw9jphtxDuYPa+xiaNdbdvJKC1jZuipsqc4qlcDC1LISOtIsAzMF1fnByWEe3JBvRxvCmegruu424chIGG23elIoBHsOvY/6BI+5G2BNSBvqzHxfQ2mK6j4tEj2K2s+4M3r4FrgZIYgHxxZtADdNGwditFu5ipfaQSc1n5YFQiI87iTO5OZCBdffMY3qQWaE3ne+hAVDSdJLWFDn halo@mobile-rage-work\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20181025-71903-kf2tg4.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.test\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.test\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: snipeit.test\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: snipeit.test\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Cron\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20181025-71903-2z5wd5.sh\n    homestead-7:  * Unloading AppArmor profiles\n    homestead-7:    ...done.\n    homestead-7: Reading package lists...\n    homestead-7: Building dependency tree...\n    homestead-7: Reading state information...\n    homestead-7: Package 'mysql-client' is not installed, so not removed\n    homestead-7: The following packages were automatically installed and are no longer required:\n    homestead-7:   libaio1 libcgi-fast-perl libcgi-pm-perl libfcgi-perl libhtml-template-perl\n    homestead-7:   mysql-client-core-5.7 mysql-server-core-5.7\n    homestead-7: Use 'sudo apt autoremove' to remove them.\n    homestead-7: The following packages will be REMOVED:\n    homestead-7:   mysql-client-5.7* mysql-common* mysql-server* mysql-server-5.7*\n    homestead-7: 0 upgraded, 0 newly installed, 4 to remove and 0 not upgraded.\n    homestead-7: After this operation, 82.0 MB disk space will be freed.\n    homestead-7: (Reading database ...\n(Reading database ... 55% database ... 5%\n    homestead-7: (Reading database ... 60%\n    homestead-7: (Reading database ... 65%\n    homestead-7: (Reading database ... 70%\n    homestead-7: (Reading database ... 75%\n    homestead-7: (Reading database ... 80%\n    homestead-7: (Reading database ... 85%\n    homestead-7: (Reading database ... 90%\n    homestead-7: (Reading database ... 95%\n    homestead-7: (Reading database ... 100%\n    homestead-7: (Reading database ...\n    homestead-7: 163834 files and directories currently installed.)\n    homestead-7: Removing mysql-server (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: Removing mysql-server-5.7 (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode\n    homestead-7: Removing mysql-client-5.7 (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: Removing mysql-common (5.8+1.0.4) ...\n    homestead-7: Processing triggers for man-db (2.8.3-2) ...\n    homestead-7: (Reading database ...\n(Reading database ... 25% database ... 5%\n    homestead-7: (Reading database ... 30%\n(Reading database ... 50% database ... 35%\n    homestead-7: (Reading database ... 55%\n    homestead-7: (Reading database ... 60%\n    homestead-7: (Reading database ... 65%\n    homestead-7: (Reading database ... 70%\n    homestead-7: (Reading database ... 75%\n    homestead-7: (Reading database ... 80%\n    homestead-7: (Reading database ... 85%\n    homestead-7: (Reading database ... 90%\n    homestead-7: (Reading database ... 95%\n(Reading database ... 163714 files and directories currently installed.)\n    homestead-7: Purging configuration files for mysql-common (5.8+1.0.4) ...\n    homestead-7: Purging configuration files for mysql-server-5.7 (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: dpkg: warning: while removing mysql-server-5.7, directory '/etc/mysql' not empty so not removed\n    homestead-7: Processing triggers for ureadahead (0.100.0-20) ...\n    homestead-7: Processing triggers for systemd (237-3ubuntu10.3) ...\n    homestead-7: Reading package lists...\n    homestead-7: Building dependency tree...\n    homestead-7:\n    homestead-7: Reading state information...\n    homestead-7: The following packages will be REMOVED:\n    homestead-7:   libaio1 libcgi-fast-perl libcgi-pm-perl libfcgi-perl libhtml-template-perl\n    homestead-7:   mysql-client-core-5.7 mysql-server-core-5.7\n    homestead-7: 0 upgraded, 0 newly installed, 7 to remove and 0 not upgraded.\n    homestead-7: After this operation, 78.6 MB disk space will be freed.\n    homestead-7: (Reading database ...\n(Reading database ... 55% database ... 5%\n    homestead-7: (Reading database ... 60%\n    homestead-7: (Reading database ... 65%\n    homestead-7: (Reading database ... 70%\n    homestead-7: (Reading database ... 75%\n    homestead-7: (Reading database ... 80%\n    homestead-7: (Reading database ... 85%\n    homestead-7: (Reading database ... 90%\n    homestead-7: (Reading database ... 95%\n(Reading database ... 163695 files and directories currently installed.)\n    homestead-7: Removing mysql-server-core-5.7 (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: Removing mysql-client-core-5.7 (5.7.23-0ubuntu0.18.04.1) ...\n    homestead-7: Removing libaio1:amd64 (0.3.110-5) ...\n    homestead-7: Removing libcgi-fast-perl (1:2.13-1) ...\n    homestead-7: Removing libhtml-template-perl (2.97-1) ...\n    homestead-7: Removing libcgi-pm-perl (4.38-1) ...\n    homestead-7: Removing libfcgi-perl (0.78-2build1) ...\n    homestead-7: Processing triggers for libc-bin (2.27-3ubuntu1) ...\n    homestead-7: Processing triggers for man-db (2.8.3-2) ...\n    homestead-7: Reading package lists...\n    homestead-7: Building dependency tree...\n    homestead-7:\n    homestead-7: Reading state information...\n    homestead-7: Warning: apt-key output should not be parsed (stdout is not a terminal)\n    homestead-7: Executing: /tmp/apt-key-gpghome.VabiQlPIzn/gpg.1.sh --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8\n    homestead-7: gpg: key F1656F24C74CD1D8: 5 signatures not checked due to missing keys\n    homestead-7: gpg: key F1656F24C74CD1D8: public key \"MariaDB Signing Key <signing-key@mariadb.org>\" imported\n    homestead-7: gpg: Total number processed: 1\n    homestead-7: gpg:               imported: 1\n    homestead-7: Get:1 https://cli-assets.heroku.com/apt ./ InRelease [2,533 B]\n    homestead-7: Get:2 https://cli-assets.heroku.com/apt ./ Packages [616 B]\n    homestead-7: Get:3 https://deb.nodesource.com/node_8.x bionic InRelease [4,622 B]\n    homestead-7: Get:4 http://security.ubuntu.com/ubuntu bionic-security InRelease [83.2 kB]\n    homestead-7: Hit:5 http://archive.ubuntu.com/ubuntu bionic InRelease\n    homestead-7: Get:6 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic InRelease [3,887 B]\n    homestead-7: Get:7 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\n    homestead-7: Get:8 https://dist.crystal-lang.org/apt crystal InRelease [2,478 B]\n    homestead-7: Get:9 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease [15.4 kB]\n    homestead-7: Get:10 https://deb.nodesource.com/node_8.x bionic/main i386 Packages [767 B]\n    homestead-7: Get:11 https://deb.nodesource.com/node_8.x bionic/main amd64 Packages [767 B]\n    homestead-7: Get:12 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]\n    homestead-7: Get:13 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 Packages [7,999 B]\n    homestead-7: Get:14 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main ppc64el Packages [7,784 B]\n    homestead-7: Get:15 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [186 kB]\n    homestead-7: Get:16 https://dist.crystal-lang.org/apt crystal/main i386 Packages [447 B]\n    homestead-7: Get:17 http://archive.ubuntu.com/ubuntu bionic-updates/main i386 Packages [371 kB]\n    homestead-7: Get:18 https://dist.crystal-lang.org/apt crystal/main amd64 Packages [440 B]\n    homestead-7: Get:19 http://security.ubuntu.com/ubuntu bionic-security/main i386 Packages [147 kB]\n    homestead-7: Get:20 http://security.ubuntu.com/ubuntu bionic-security/main Translation-en [72.1 kB]\n    homestead-7: Get:21 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [414 kB]\n    homestead-7: Get:22 http://security.ubuntu.com/ubuntu bionic-security/universe i386 Packages [89.7 kB]\n    homestead-7: Get:23 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [89.8 kB]\n    homestead-7: Get:24 http://security.ubuntu.com/ubuntu bionic-security/universe Translation-en [48.7 kB]\n    homestead-7: Get:25 http://security.ubuntu.com/ubuntu bionic-security/multiverse i386 Packages [1,608 B]\n    homestead-7: Get:26 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [1,440 B]\n    homestead-7: Get:27 http://packages.blackfire.io/debian any InRelease [23.2 kB]\n    homestead-7: Get:28 http://archive.ubuntu.com/ubuntu bionic-updates/main Translation-en [154 kB]\n    homestead-7: Get:29 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [7,028 B]\n    homestead-7: Get:30 http://archive.ubuntu.com/ubuntu bionic-updates/restricted i386 Packages [6,976 B]\n    homestead-7: Get:31 http://archive.ubuntu.com/ubuntu bionic-updates/restricted Translation-en [3,076 B]\n    homestead-7: Get:32 http://archive.ubuntu.com/ubuntu bionic-updates/universe i386 Packages [564 kB]\n    homestead-7: Get:33 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease [20.8 kB]\n    homestead-7: Get:34 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [569 kB]\n    homestead-7: Get:35 http://archive.ubuntu.com/ubuntu bionic-updates/universe Translation-en [150 kB]\n    homestead-7: Get:36 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [5,708 B]\n    homestead-7: Get:37 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse i386 Packages [5,864 B]\n    homestead-7: Get:38 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse Translation-en [3,176 B]\n    homestead-7: Get:39 http://archive.ubuntu.com/ubuntu bionic-backports/universe i386 Packages [2,848 B]\n    homestead-7: Get:40 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [2,852 B]\n    homestead-7: Get:41 http://archive.ubuntu.com/ubuntu bionic-backports/universe Translation-en [1,200 B]\n    homestead-7: Get:42 http://ppa.launchpad.net/nginx/development/ubuntu bionic/main i386 Packages [4,260 B]\n    homestead-7: Get:43 http://ppa.launchpad.net/nginx/development/ubuntu bionic/main amd64 Packages [4,276 B]\n    homestead-7: Get:44 http://ppa.launchpad.net/ondrej/php/ubuntu bionic/main i386 Packages [43.2 kB]\n    homestead-7: Get:45 http://ppa.launchpad.net/ondrej/php/ubuntu bionic/main amd64 Packages [43.2 kB]\n    homestead-7: Get:46 http://packages.blackfire.io/debian any/main amd64 Packages [1,208 B]\n    homestead-7: Get:47 http://ppa.launchpad.net/ondrej/php/ubuntu bionic/main Translation-en [21.3 kB]\n    homestead-7: Get:48 http://packages.blackfire.io/debian any/main i386 Packages [1,217 B]\n    homestead-7: Fetched 3,355 kB in 4s (786 kB/s)\n    homestead-7: Reading package lists...\n    homestead-7: Hit:1 https://deb.nodesource.com/node_8.x bionic InRelease\n    homestead-7: Hit:3 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic InRelease\n    homestead-7: Hit:2 https://cli-assets.heroku.com/apt ./ InRelease\n    homestead-7: Hit:4 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease\n    homestead-7: Hit:5 http://security.ubuntu.com/ubuntu bionic-security InRelease\n    homestead-7: Hit:6 https://dist.crystal-lang.org/apt crystal InRelease\n    homestead-7: Hit:7 http://archive.ubuntu.com/ubuntu bionic InRelease\n    homestead-7: Hit:8 http://archive.ubuntu.com/ubuntu bionic-updates InRelease\n    homestead-7: Hit:9 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease\n    homestead-7: Hit:10 http://archive.ubuntu.com/ubuntu bionic-backports InRelease\n    homestead-7: Hit:11 http://packages.blackfire.io/debian any InRelease\n    homestead-7: Reading package lists...\n    homestead-7: Reading package lists...\n    homestead-7: Building dependency tree...\n    homestead-7:\n    homestead-7: Reading state information...\n    homestead-7: The following additional packages will be installed:\n    homestead-7:   galera-3 libaio1 libcgi-fast-perl libcgi-pm-perl libdbd-mysql-perl\n    homestead-7:   libdbi-perl libfcgi-perl libhtml-template-perl libmysqlclient20\n    homestead-7:   libterm-readkey-perl mariadb-client-10.3 mariadb-client-core-10.3\n    homestead-7:   mariadb-common mariadb-server-core-10.3 mysql-common socat\n    homestead-7: Suggested packages:\n    homestead-7:   libclone-perl libmldbm-perl libnet-daemon-perl libsql-statement-perl\n    homestead-7:   libipc-sharedcache-perl mailx mariadb-test tinyca\n    homestead-7: The following NEW packages will be installed:\n    homestead-7:   galera-3 libaio1 libcgi-fast-perl libcgi-pm-perl libdbd-mysql-perl\n    homestead-7:   libdbi-perl libfcgi-perl libhtml-template-perl libmysqlclient20\n    homestead-7:   libterm-readkey-perl mariadb-client-10.3 mariadb-client-core-10.3\n    homestead-7:   mariadb-common mariadb-server-10.3 mariadb-server-core-10.3 mysql-common\n    homestead-7:   socat\n    homestead-7: 0 upgraded, 17 newly installed, 0 to remove and 263 not upgraded.\n    homestead-7: Need to get 22.5 MB of archives.\n    homestead-7: After this operation, 187 MB of additional disk space will be used.\n    homestead-7: Get:1 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mysql-common all 1:10.3.10+maria~bionic [5,568 B]\n    homestead-7: Get:2 http://archive.ubuntu.com/ubuntu bionic/main amd64 libdbi-perl amd64 1.640-1 [724 kB]\n    homestead-7: Get:3 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mariadb-common all 1:10.3.10+maria~bionic [3,492 B]\n    homestead-7: Get:4 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 galera-3 amd64 25.3.24-bionic [8,208 kB]\n    homestead-7: Get:5 http://archive.ubuntu.com/ubuntu bionic/main amd64 libaio1 amd64 0.3.110-5 [6,448 B]\n    homestead-7: Get:6 http://archive.ubuntu.com/ubuntu bionic/main amd64 socat amd64 1.7.3.2-2ubuntu2 [342 kB]\n    homestead-7: Get:7 http://archive.ubuntu.com/ubuntu bionic/main amd64 libcgi-pm-perl all 4.38-1 [185 kB]\n    homestead-7: Get:8 http://archive.ubuntu.com/ubuntu bionic/main amd64 libfcgi-perl amd64 0.78-2build1 [32.8 kB]\n    homestead-7: Get:9 http://archive.ubuntu.com/ubuntu bionic/main amd64 libcgi-fast-perl all 1:2.13-1 [9,940 B]\n    homestead-7: Get:10 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libmysqlclient20 amd64 5.7.24-0ubuntu0.18.04.1 [817 kB]\n    homestead-7: Get:11 http://archive.ubuntu.com/ubuntu bionic/universe amd64 libdbd-mysql-perl amd64 4.046-1 [82.0 kB]\n    homestead-7: Get:12 http://archive.ubuntu.com/ubuntu bionic/main amd64 libhtml-template-perl all 2.97-1 [59.0 kB]\n    homestead-7: Get:13 http://archive.ubuntu.com/ubuntu bionic/universe amd64 libterm-readkey-perl amd64 2.37-1build1 [24.4 kB]\n    homestead-7: Get:14 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mariadb-client-core-10.3 amd64 1:10.3.10+maria~bionic [757 kB]\n    homestead-7: Get:15 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mariadb-client-10.3 amd64 1:10.3.10+maria~bionic [1,136 kB]\n    homestead-7: Get:16 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mariadb-server-core-10.3 amd64 1:10.3.10+maria~bionic [5,767 kB]\n    homestead-7: Get:17 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic/main amd64 mariadb-server-10.3 amd64 1:10.3.10+maria~bionic [4,307 kB]\n    homestead-7: Preconfiguring packages ...\n    homestead-7: Fetched 22.5 MB in 8s (2,852 kB/s)\n    homestead-7: Selecting previously unselected package mysql-common.\n    homestead-7: (Reading database ...\n(Reading database ... 55% database ... 5%\n    homestead-7: (Reading database ... 60%\n    homestead-7: (Reading database ... 65%\n    homestead-7: (Reading database ... 70%\n    homestead-7: (Reading database ... 75%\n    homestead-7: (Reading database ... 80%\n    homestead-7: (Reading database ... 85%\n    homestead-7: (Reading database ... 90%\n    homestead-7: (Reading database ... 95%\n(Reading database ... 163520 files and directories currently installed.)\n    homestead-7: Preparing to unpack .../0-mysql-common_1%3a10.3.10+maria~bionic_all.deb ...\n    homestead-7: Unpacking mysql-common (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package mariadb-common.\n    homestead-7: Preparing to unpack .../1-mariadb-common_1%3a10.3.10+maria~bionic_all.deb ...\n    homestead-7: Unpacking mariadb-common (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package galera-3.\n    homestead-7: Preparing to unpack .../2-galera-3_25.3.24-bionic_amd64.deb ...\n    homestead-7: Unpacking galera-3 (25.3.24-bionic) ...\n    homestead-7: Selecting previously unselected package libdbi-perl.\n    homestead-7: Preparing to unpack .../3-libdbi-perl_1.640-1_amd64.deb ...\n    homestead-7: Unpacking libdbi-perl (1.640-1) ...\n    homestead-7: Selecting previously unselected package mariadb-client-core-10.3.\n    homestead-7: Preparing to unpack .../4-mariadb-client-core-10.3_1%3a10.3.10+maria~bionic_amd64.deb ...\n    homestead-7: Unpacking mariadb-client-core-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package mariadb-client-10.3.\n    homestead-7: Preparing to unpack .../5-mariadb-client-10.3_1%3a10.3.10+maria~bionic_amd64.deb ...\n    homestead-7: Unpacking mariadb-client-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package libaio1:amd64.\n    homestead-7: Preparing to unpack .../6-libaio1_0.3.110-5_amd64.deb ...\n    homestead-7: Unpacking libaio1:amd64 (0.3.110-5) ...\n    homestead-7: Selecting previously unselected package mariadb-server-core-10.3.\n    homestead-7: Preparing to unpack .../7-mariadb-server-core-10.3_1%3a10.3.10+maria~bionic_amd64.deb ...\n    homestead-7: Unpacking mariadb-server-core-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package socat.\n    homestead-7: Preparing to unpack .../8-socat_1.7.3.2-2ubuntu2_amd64.deb ...\n    homestead-7: Unpacking socat (1.7.3.2-2ubuntu2) ...\n    homestead-7: Setting up mysql-common (1:10.3.10+maria~bionic) ...\n    homestead-7: Setting up mariadb-common (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package mariadb-server-10.3.\n    homestead-7: (Reading database ...\n(Reading database ... 55% database ... 5%\n    homestead-7: (Reading database ... 60%\n    homestead-7: (Reading database ... 65%\n    homestead-7: (Reading database ... 70%\n    homestead-7: (Reading database ... 75%\n    homestead-7: (Reading database ... 80%\n    homestead-7: (Reading database ... 85%\n    homestead-7: (Reading database ... 90%\n    homestead-7: (Reading database ... 95%\n(Reading database ... 163870 files and directories currently installed.)\n    homestead-7: Preparing to unpack .../0-mariadb-server-10.3_1%3a10.3.10+maria~bionic_amd64.deb ...\n    homestead-7: Unpacking mariadb-server-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Selecting previously unselected package libcgi-pm-perl.\n    homestead-7: Preparing to unpack .../1-libcgi-pm-perl_4.38-1_all.deb ...\n    homestead-7: Unpacking libcgi-pm-perl (4.38-1) ...\n    homestead-7: Selecting previously unselected package libfcgi-perl.\n    homestead-7: Preparing to unpack .../2-libfcgi-perl_0.78-2build1_amd64.deb ...\n    homestead-7: Unpacking libfcgi-perl (0.78-2build1) ...\n    homestead-7: Selecting previously unselected package libcgi-fast-perl.\n    homestead-7: Preparing to unpack .../3-libcgi-fast-perl_1%3a2.13-1_all.deb ...\n    homestead-7: Unpacking libcgi-fast-perl (1:2.13-1) ...\n    homestead-7: Selecting previously unselected package libmysqlclient20:amd64.\n    homestead-7: Preparing to unpack .../4-libmysqlclient20_5.7.24-0ubuntu0.18.04.1_amd64.deb ...\n    homestead-7: Unpacking libmysqlclient20:amd64 (5.7.24-0ubuntu0.18.04.1) ...\n    homestead-7: Selecting previously unselected package libdbd-mysql-perl.\n    homestead-7: Preparing to unpack .../5-libdbd-mysql-perl_4.046-1_amd64.deb ...\n    homestead-7: Unpacking libdbd-mysql-perl (4.046-1) ...\n    homestead-7: Selecting previously unselected package libhtml-template-perl.\n    homestead-7: Preparing to unpack .../6-libhtml-template-perl_2.97-1_all.deb ...\n    homestead-7: Unpacking libhtml-template-perl (2.97-1) ...\n    homestead-7: Selecting previously unselected package libterm-readkey-perl.\n    homestead-7: Preparing to unpack .../7-libterm-readkey-perl_2.37-1build1_amd64.deb ...\n    homestead-7: Unpacking libterm-readkey-perl (2.37-1build1) ...\n    homestead-7: Processing triggers for ureadahead (0.100.0-20) ...\n    homestead-7: Setting up socat (1.7.3.2-2ubuntu2) ...\n    homestead-7: Setting up libterm-readkey-perl (2.37-1build1) ...\n    homestead-7: Processing triggers for libc-bin (2.27-3ubuntu1) ...\n    homestead-7: Setting up libaio1:amd64 (0.3.110-5) ...\n    homestead-7: Setting up galera-3 (25.3.24-bionic) ...\n    homestead-7: Setting up mariadb-client-core-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Setting up mariadb-client-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Processing triggers for systemd (237-3ubuntu10.3) ...\n    homestead-7: Setting up libcgi-pm-perl (4.38-1) ...\n    homestead-7: Processing triggers for man-db (2.8.3-2) ...\n    homestead-7: Setting up libmysqlclient20:amd64 (5.7.24-0ubuntu0.18.04.1) ...\n    homestead-7: Setting up libfcgi-perl (0.78-2build1) ...\n    homestead-7: Setting up libdbi-perl (1.640-1) ...\n    homestead-7: Setting up libhtml-template-perl (2.97-1) ...\n    homestead-7: Setting up libcgi-fast-perl (1:2.13-1) ...\n    homestead-7: Setting up mariadb-server-core-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: Setting up libdbd-mysql-perl (4.046-1) ...\n    homestead-7: Setting up mariadb-server-10.3 (1:10.3.10+maria~bionic) ...\n    homestead-7: 2018-10-25 18:31:29 0 [Note] /usr/sbin/mysqld (mysqld 10.3.10-MariaDB-1:10.3.10+maria~bionic) starting as process 7618 ...\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Using Linux native AIO\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n    homestead-7:\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Uses event mutexes\n    homestead-7:\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Compressed tables use zlib 1.2.11\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Number of pools: 1\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Using SSE2 crc32 instructions\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Initializing buffer pool, total size = 256M, instances = 1, chunk size = 128M\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Completed initialization of buffer pool\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: 128 out of 128 rollback segments are active.\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Creating shared tablespace for temporary tables\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Waiting for purge to start\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: 10.3.10 started; log sequence number 1630815; transaction id 21\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\n    homestead-7: 2018-10-25 18:31:29 0 [Note] Plugin 'FEEDBACK' is disabled.\n    homestead-7: 2018-10-25 18:31:29 0 [Note] InnoDB: Buffer pool(s) load completed at 181025 18:31:29\n    homestead-7: Created symlink /etc/systemd/system/mysql.service \u2192 /lib/systemd/system/mariadb.service.\n    homestead-7: Created symlink /etc/systemd/system/mysqld.service \u2192 /lib/systemd/system/mariadb.service.\n    homestead-7: Created symlink /etc/systemd/system/multi-user.target.wants/mariadb.service \u2192 /lib/systemd/system/mariadb.service.\n    homestead-7: Processing triggers for libc-bin (2.27-3ubuntu1) ...\n    homestead-7: Processing triggers for ureadahead (0.100.0-20) ...\n    homestead-7: Processing triggers for systemd (237-3ubuntu10.3) ...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n    homestead-7: You are running composer as \"root\", while \"/home/vagrant/.composer\" is owned by \"vagrant\"\n    homestead-7: You are already using composer version 1.7.2 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20181025-71903-1uw9qh1.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /var/folders/7s/nblvjylx1l1ch16cg6cgsh7r0000gp/T/vagrant-shell20181025-71903-1a074el.sh\nvagrant up: 03:22. Not sure there's a big enough use case for this. Would be curious about implementations, but not clear on the why.. Thanks for the report, I've resolved this by updating the verbiage in the error: https://github.com/laravel/homestead/releases/tag/v7.19.1. > Expected behavior\n\nWhen homestead per project installation is installed any user cloning the repo shouldn't need to download PHP and composer before vagrant up to get the project up since homestead is supposed to include this in the vagrant box.\n\nThis is an invalid expectation. To use Homestead per project the user must at a minimum have PHP 5.6+ & Composer installed on their system.. I don't think it's unreasonable for someone who has to maintain a PHP 5.x app to have that version installed on their host machine. The alternative would be to not use per-project installation and use one Homestead environment for all of their projects.. Thanks for the report.\nI'm currently building fresh Virtualbox & Parallels boxes. I don't have my VMware drive and of course I'm out of town. I'll be able to start Hyper-V from here but won't be able to build a new VMware box until I get home Saturday afternoon.. hotel wifi is not conducive to building vagrant boxes. :(. I've attempted to build the box 5 times since yesterday and I'm giving up until I get home >.<. Virtualbox tested fine. Uploading Virtualbox and will release. Then will upload parallels. will kick off the Vmware and Hyper-V builds as well.\nhttps://github.com/laravel/settler/releases/tag/v6.4.0. All providers have been released, closing this as it should be resolved now. Thanks for reporting and patience while I tried to build boxes a gazillion times.. @cwilby Thanks for the update!. Without being able to see https://gist.github.com/sulfo/1047dccc1d0f41d5d5d4aa6bf9cfc989#file-log-txt-L78-L81 I can't say for sure.\nBut I'm near 90% sure it's not the cause (unless that script does anything with your network settings in the VM).\nI'm somewhat comfortable saying it sounds like this is a MacOS probblem, but without others reporting it, it may be something limited to your mac. Until we get more people reporting this you can add the following to your after.sh to set the nameserver every time you provision the box:\nsudo sed -i \"s/nameserver 127.0.0.53/nameserver 10.0.2.3/\" /etc/resolve.conf\nsudo service networking restart. Thanks for the update!. I'm not able to reproduce this:\n\nVagrant 2.2.1\nWindows 10 Pro 1809 OS Build 17763.134\n\nOutput of PS C:\\Users\\halo\\PhpStormProjects\\homestead> Get-VMHostSupportedVersion -Default\n```\nPS C:\\Users\\halo\\PhpStormProjects\\homestead> Get-VMHostSupportedVersion -Default\nName                                                 Version IsDefault\n----                                                 ------- ---------\nMicrosoft Windows 10 October 2018 Update/Server 2019 9.0     True\n```\nHere's my vagrant up log:\n```\nPS C:\\Users\\halo\\PhpStormProjects\\homestead> vagrant up\nBringing machine 'homestead-7' up with 'hyperv' provider...\n==> homestead-7: Verifying Hyper-V is enabled...\n==> homestead-7: Verifying Hyper-V is accessible...\n==> homestead-7: Importing a Hyper-V instance\n    homestead-7: Creating and registering the VM...\n    homestead-7: Successfully imported VM\n    homestead-7: Please choose a switch to attach to your Hyper-V instance.\n    homestead-7: If none of these are appropriate, please open the Hyper-V manager\n    homestead-7: to create a new virtual switch.\n    homestead-7:\n    homestead-7: 1) packer-hyperv-iso\n    homestead-7: 2) New Virtual Switch\n    homestead-7: 3) Default Switch\n    homestead-7:\n    homestead-7: What switch would you like to use? 3\n    homestead-7: Configuring the VM...\n==> homestead-7: Starting the machine...\n==> homestead-7: Waiting for the machine to report its IP address...\n    homestead-7: Timeout: 120 seconds\n    homestead-7: IP: 172.17.253.117\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 172.17.253.117:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\nVagrant requires administrator access for pruning SMB shares and\nmay request access to complete removal of stale shares.\n==> homestead-7: Preparing SMB shared folders...\n    homestead-7: You will be asked for the username and password to use for the SMB\n    homestead-7: folders shortly. Please use the proper username/password of your\n    homestead-7: account.\n    homestead-7:\n    homestead-7: Username: halo\n    homestead-7: Password (will be hidden):\nVagrant requires administrator access to create SMB shares and\nmay request access to complete setup of configured shares.\n==> homestead-7: Setting hostname...\n==> homestead-7: Mounting SMB shared folders...\n    homestead-7: C:/Users/halo/PhpStormProjects/quickstart-basic-5.3 => /home/vagrant/qs\n    homestead-7: C:/Users/halo/PhpStormProjects/homestead => /vagrant\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n    homestead-7:\n    homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCntVURf8++zZjGO/JvWbo/TZgMjEqN44bFNh33Ykdf5M3ahNsFvGlw+aSWaJOLX0+3nB0lCVeV6mdXIv1ixDfiarL5leu/BN0N8LmHWhGtXi8pBGS3FiTWWGBkA2iS303Gdj3e3N8N9FdqHUtWifas8B9HvfY00P/9H2Q35AXLDvhXbUbSQMcYxYVDATd7tcoDuwdhaGdPrvmuVPps5yfPfzE9hpU2rVUnHlZ5EgwK9avS91fF0R1NAsasOzU5N3bt/T3khG5XObcHGU2Uiyi/4QbfFhVmvY+TORUoKAelFYtPrbbZfjNVYh8P04b0iudJHZ7mBRiYodj7cgJUYKFb halo@Rage\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: C:/Users/halo/AppData/Local/Temp/vagrant-shell20181118-11516-7v4w77.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: qs.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Cron\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n    homestead-7: You are running composer as \"root\", while \"/home/vagrant/.composer\" is owned by \"vagrant\"\n    homestead-7: You are already using composer version 1.7.3 (stable channel).\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: C:/Users/halo/AppData/Local/Temp/vagrant-shell20181118-11516-19i1sgw.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: C:/Users/halo/AppData/Local/Temp/vagrant-shell20181118-11516-k8nfh2.sh\n```\nVagrant box version v6.4.0\nPS C:\\Users\\halo\\PhpStormProjects\\homestead> vagrant box update --provider=hyperv\n==> homestead-7: Checking for updates to 'laravel/homestead'\n    homestead-7: Latest installed version: 6.3.0\n    homestead-7: Version constraints:\n    homestead-7: Provider: hyperv\n==> homestead-7: Updating 'laravel/homestead' with provider 'hyperv' from version\n==> homestead-7: '6.3.0' to '6.4.0'...\n==> homestead-7: Loading metadata for box 'https://vagrantcloud.com/laravel/homestead?access_token=pPxaV3VGRDshjA.atlasv1.8sQMWGwfMOqh8zeyF6TI9gH88SDXzC9LliShzHyK6GNCIxxvyEcNVClfySCLMqNd6V0'\n==> homestead-7: Adding box 'laravel/homestead' (v6.4.0) for provider: hyperv\n    homestead-7: Downloading: https://vagrantcloud.com/laravel/boxes/homestead/versions/6.4.0/providers/hyperv.box\n==> homestead-7: Box download is resuming from prior download progress\n    homestead-7: Download redirected to host: vagrantcloud-files-production.s3.amazonaws.com\n    homestead-7:\n==> homestead-7: Successfully added box 'laravel/homestead' (v6.4.0) for 'hyperv'!. > I'm pretty sure that only adds the box to your host; it doesn't \"upgrade\" the existing VM that you provisioned with box 6.3.0. You would have to vagrant destroy && vagrant up after upgrading the box.\nThis is correct. There is no way to upgrade an existing VM to a new base box. Is that what you're original question was? if so I missed it, Sorry!. > Sorry, I should have been more clear in the original issue that the problem seems to be with provisioning a new box on 6.4.0, specifically.\n\nAre you able to do this successfully?\n\nSo steps to reproduce would be:\n\nvagrant up a clean box\nAdd a site or other Homestead.yaml adjustment\nvagrant provision should be successful?\n\nNot all of the scripts in Homestead are designed with idem-potency in mind so vagrant provision is always somewhat of a dice roll depending on several factors. This is why I always want a destroy before an up. I'll give this a shot later today.. Ah ok, well I was able to vagrant up a new 6.4.0 box on Hyper-V but I did not try to halt it and up again. will test that.. > I notice that you have a slightly newer version of Windows 10, which appears to use Hyper-V configuration version 9, whereas mine is 8.3. I'm not sure that this matters, but it's worth noting, especially if that box was \"baked\" using configuration version 9.0.\nI bet that's exactly the issue. I'm on retail Windows 10 Pro no insider builds or early access to anything. Do you have any pending Windows updates?\nIf you're feeling brave I could walk you through trying to build your own box for your 8.3 system. (would be available after 5pm CST today at the earliest). I try to only support the latest version of things. It's just easier on me but it doesn't always work (We currently don't support latest VMware for example) which is why I use a retail version of 10 and keep it up to date.\nAFAIK there is nothing specific about Hyper-V versions and Homestead. My best advice would be to install https://packer.io and give http://github.com/laravel/settler/ a spin to build your own box. The output should be a box file you can use and specify in your Homestead.yaml as box: myvagrantbox to use that box instead of the real Homestead base box. The trouble here is now you're Homestead compatible so long as we don't change anything in the repo that would need a base box. Ultimately you'd need to build a fresh box everytime we release one to stay up to date. It's not a hard process, but can be daunting. \nLike I said I'm happy to walk you through the process if needed.. Gotcha, let me know if you run into issues w/ Packer.. Looks like Settler is out of date / I forgot to push changes.\nPull the latest version of master from settler, then run ./bin/copy-to-bento.sh again and give packer another spin.. >@svpernova09 Sorry to \"bump\" my question to you in my previous comment, but have you encountered this pesky systemd failure?\nThe specific error there I think was due to me being dumb in regards to ruby.\nThis is still happening for you on the latest master of settler? I recently built a custom box based on settler 6.4 and didn't have any any issues building it for Virtualbox or VMware. I'll kick off a hyper-v build here in a minute and see if anything happens.\n\nI'm not suggesting in any way that it's Homestead-specific -- quite the opposite -- I'm just wondering if this happens to you, too, and if so, if you're aware of any existing Issue/ticket that documents the behavior. I'd like to open one if it doesn't exist, but I'm not sure whether it's a Packer issue, an Ubuntu issue, or something else entirely.\n\nFeel free to open a new issue, happy to keep it open until we can see if I can duplicate in Hyper-V on my end.. @cbj4074 \nSo looks like the Hyper-V build I kicked off earlier completed fine. No errors to speak of.. The error you are seeing relates to the version of Hyper-V windows has. This varies by patch and can even get odd when you have group policies from a windows admin that may also hold back updates or flat out disable things. I believe you need to upgrade windows or let updates install. The only hyper-v version I\u2019m able to support is whatever the retail windows has at the time I build the box.\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Mar 17, 2019, 13:54 -0400, Spencer Williams notifications@github.com, wrote:\n\nI'm sad to say that I'm suffering this problem, unable to get Homestead running in a Windows environment with Hyper-V.\nI got further along setting version: 6.3.0 in my Homestead.yaml, but it ran into an error in the provisioning when it said Unable to locate package mariadb-server-10.3 and then could not start the mysql service.\nDoes that version pertain to the vagrant box version, 7.1.0 at the time of writing this? If so, I'd love to know how to get the current version to not error out with Error Code: 32784 Cause: VM version is unsupported.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for the PR!. This will require me to upgrade my VMware set up (Which is fine) and release a new base box. The current solution should be to downgrade back to a compatible version of VMware. I realize this isn't the best option but I'm not able to affect change here until I return home Friday afternoon.. Thanks for the update.. @Gavrisimo,\n\nNo update yet. I've been working on features for the new  base box version which will also ship at the same time as a major version bump for Homestead. Both Settler & Homestead releases will be major version bumps since we'll be changing the default PHP version.\nThe next base box version will be v7.0.0 and will be built with the latest version of Fusion at the time.. Upgrade to master branch of this repo and destroy and vagrant up again, that should resolve this issue.. Thanks for opening an issue!\nWhile Ruby syntax does specify 2 spaces instead of 4 I have no interest in changing this. (I'm not a fan at all of 2 spaces).. Thanks!. Thanks!. Try using the normal cmd.exe or powershell consoles to run the make command.. As commented, a PR to solve the issue of #910 would be welcome, but it looks like we don't need any changes to .editorconfig. No, there is currently no way to edit the Vagrantfile in this manner. We actively avoid relying on Vagrant plugins because they can often lead to different, unintended behavior. Most often they are not harmful however Homestead needs to always work as intended without any plugins. . Thanks!. Thanks!. With Homestead already exposing local ports for use with MySQL Workbench style tools going to hold off for now.. Thanks. Agreed with @browner12, better suited for your aliases. Thanks for taking the time to open a PR.. Thanks for sharing, but going to pass on these. You can easily add them to your own aliases file.. Thanks for taking the time, going to pass on single character aliases. You can easily add it to your own aliases file.. This means something is preventing access to/Users/frederickwells/Documents/Work/laravel/code/graph-test. It's a permissions issue between the OS and Vagrant/Virtualbox.. Couple of things to check:\n\nMake sure VMware is giving the guest the IP your expecting. From inside the VM run ipconfig and you should see 192.168.10.10 there.\nHave you added your .local domains to your hosts file?\nHave you tried using .test instead of .local?. >ipconfig inside the VM doesn't work (that's a Windows command, isn't it?)\nRunning it on the host does not show 192.168.10.10 anywhere (not sure it should).\n\nI meant ifconfig sorry.. >Also keep in my mind that accessing http://li.local:8000 works fine. So something is working (the hosts file and nginx).\nExactly. The port forwarding and the services are working. But I'm not sure why port 80 isn't working. Are you running VMware from an elevated console?. ok, networking looks good. The only thing I can think of is you're not using an elevated prompt and it's not letting traffic through via port 80.\nWhat happens when you try to visit http://192.168.10.10 ?. Then it would have to be something Windows related. Everything I can see from here tells me VMware is fine. Jump into Larachat slack, #homestead channel and ping Jordan R. He's another VMware on Windows users. See if he has any insights.. We had much discussion and debugging in Slack. Closing this as OP has found workarounds to solve the problems described.. Thanks for sharing this change!. Thanks for the update!. Without more info it sounds like a problem with your composer.json. Doesn't sound like anything is wrong with Homestead.. Can confirm this started w/ vagrant v2.2.2 and Virtualbox 5.2.22.\nThere is nothing Homestead can do here. We shouldn't start poking at NIC types IMHO. That just sounds like pure chaos and anarchy waiting to happen. We should let this ride until Virtualbox pushes an update.\nThe warning is asking you to ensure the guest (Homestead) is trusted. That's up to you to trust that I'm not doing anything malicious with Homestead. (Spoiler Alert: I'm not). First, the fact that you have a hard coded top level domain in your code is a code smell. I would abstract this out to your .env file so it can be changed based on the current environment. The you would want to make sure your c:\\windows\\system32\\drivers\\etc\\hosts file contains these lines:\n192.168.10.10 admin.bcs.test\n192.168.10.10 bcs.test. > I know this step, do I need to manipulate nginx to bind my admin.bcs.test?\nNo, nginx is configured based on the sites: key.. > FYI, adding the web socket domain create a breaking change\nYep! the next version will be a major version bump.. I think it's brew services where you can manually start/stop the services that valet is using. I would give that a try.. Closing until we get more / better info for debugging.. We're not able to support downloading from a random DropBox URL. This is something you should have in your own aliases file. The default after.sh scripts should not do anything since they are specifically for Homestead users (as opposed to Homestead providing it itself).\nWe can potentially add this to the base box, but would need to ensure the source download is coming from a verified source.. We can't merge this as is due to the fact we would always be polluting /etc/hosts if a user runs vagrant provision which based on many of the issues we see is something our users really like to do.\nWe need some way to also remove these same entries possibly when we clear the sites such as in https://github.com/laravel/homestead/blob/master/scripts/clear-nginx.sh. Merged this and have it disabled until we can get a mechanism to reset the file in place. Thanks!. Edit your Homestead.yaml to this:\n```\nfolders:\n    - map: ~/Projects/myproject\n      to: /home/vagrant/myproject\nsites:\n    - map: myproject.test\n      to: /home/vagrant/myproject/public\n```\nThen vagrant destroy && vagrant up. > I don't have an issue with getting my sites working, the actual issue is that when I make a change to a php file something is happening when the file is sync'd to homestead.\nYou're using the default parallels provider's folder sharing. You're telling the Homestead virtual machine to virtualize every file in ~/Projects/* recursively. You should map only folders you need so that the virtual machine doesn't have to handle all of the I/O of all the files it's not even using. You're slowing down the file sharing and thus file updates.. > Thanks for the advice and recommendation on this better practice but it hasn't fixed the issue.\nShow me a gist of the full output of vagrant destroy && vagrant up. That's interesting. Glad you sorted it out, everything from your gist looked fine.. Run this from inside the VM: sudo apt update and answer y to the question:\nroot@homestead:/home/vagrant# sudo apt update\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [83.2 kB]\nHit:2 https://packages.microsoft.com/ubuntu/18.04/prod bionic InRelease\nHit:4 https://deb.nodesource.com/node_8.x bionic InRelease\nHit:3 https://cli-assets.heroku.com/apt ./ InRelease\nHit:5 http://archive.ubuntu.com/ubuntu bionic InRelease\nHit:6 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease\nHit:7 http://archive.ubuntu.com/ubuntu bionic-updates InRelease\nHit:8 https://dist.crystal-lang.org/apt crystal InRelease\nHit:9 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease\nHit:10 http://archive.ubuntu.com/ubuntu bionic-backports InRelease\nGet:11 http://packages.blackfire.io/debian any InRelease [23.2 kB]\nE: Repository 'http://packages.blackfire.io/debian any InRelease' changed its 'Origin' value from 'packagecloud.io/sensiolabs/sensiolabs' to 'packagecloud.io/blackfire-io/stable'\nE: Repository 'http://packages.blackfire.io/debian any InRelease' changed its 'Label' value from 'sensiolabs' to 'stable'\nN: This must be accepted explicitly before updates for this repository can be applied. See apt-secure(8) manpage for details.\nDo you want to accept these changes and continue updating from this repository? [y/N] y\nGet:12 http://packages.blackfire.io/debian any/main amd64 Packages [1,218 B]\nGet:13 http://packages.blackfire.io/debian any/main i386 Packages [1,198 B]\nFetched 109 kB in 9s (12.4 kB/s)\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done. > Thanks, the issue was easy to solve but I reported it for it to be fixed in the box. Will there be a new release with the \"fix\" ?\nYep!. > Is there any ETA for the next box release? Thanks!\nSoon\u2122. > I was on v7.19.2 and tried master when the error occured. Should we do bash init.sh again when we change branch ?\nNo.. Please open a new issue and fill out the issue template as requested. There is no way to help you until you help us help you. Sounds like 2 separate issues right? The blackfire issue can be solved via apt update and selecting yes to update the repo. I believe the No input file specified issue is a different issue. It's most often caused by misconfigured folder and or sites in Homestead.yaml \nLooking at your sites, are you sure these paths are the web root for the projects? If td is a laravel project you should have /home/vagrant/Code/td/public in the to: section.\n. If you're wanting access to env variables in the Homestead VM itself you should set (and make sure they're persisted) via your shell of choice utilizing after.sh. Thanks!. So the TL;DR I believe to be: You're requiring nginx to pull a file from a mapped folder before folders have been mapped. When the VM boots the services all fire normally and if nginx starts up before the folders are finished being mapped (Almost a 100% chance this will always happen) the file won't exist yet, throwing the error. \nLonger answer:\nDon't rely on folder shares for provisioning. You should rely on /vagrant path being mapped to current directory you're running vagrant commands from. (I don't remember if this is mapped first, but it is a special mapped folder that will always be mapped unless you specifically map ., which you should probably never do)\nWP Multisite: What makes your serve script great? Would it make sense to incorporate into Homestead? Lets have that discussion in another thread.\nDon't Map standard ports in Homestead.yaml We already map most of those ports to localhost for you albeit to alternate ports but mapping the standard ports to localhost is asking for networking confusion.\nDon't map directories to projects, map a project\nInstead of:\nfolders:\n    - map: C:/Vagrant/dev\n      to: /home/vagrant/dev\n      type: \"nfs\"\nDo this:\n```\nfolders:\n  - map: C:/Vagrant/dev/code/album\n    to: /home/vagrant/album\n    type: \"nfs\"\n  - map: C:/Vagrant/dev/code/tmp/wordpress\n    to: /home/vagrant/wordpress\n    type: \"nfs\"\n  - map: C:/Vagrant/dev/code/tmp/tina\n    to: /home/vagrant/tina\n    type: \"nfs\"\n  - map: C:/Vagrant/dev/roles\n    to: /home/vagrant/roles\n    type: \"nfs\"\nsites:\n  - map: album.localhost\n    to: /home/vagrant/album\n  - map: wpbrowser.localhost\n    to: /home/vagrant/wordpress\n  - map: tina.localhost\n    to: /home/vagrant/tina\n  - map: roles.localhost\n    to: /home/vagrant/roles\n    type: wordpress-multisite\n```\nI'm afraid to run vagrant destroy\nI bet! This is also a huge red flag that you're fighting against the tools instead of using them. Anything that should be in the VM before you start working on it should be set up and configured in after.sh. I don't know if that's how I'd handle the WP multi site or not.. > Don't Map standard ports\nI code PHP and my host operating system is Windows. However, my Windows doesn't even have PHP installed. I run all the code in homestead vagrant. In such scenario, I don't need port 80 on my host O.S, that's why I mapped all standard ports. Knowing this, do you still advice against it? If so, why?\nI prefer clear separation of what's on my host and guest operating systems. For me if I see port 80 I expect that to be native to my host OS, not my VM. I use nonstandard ports to connect to standard ports IE 80 -> 8000, etc. I use name based virtual hosts so I rarely need to use :80/ anyway. Largely personal preference to keep things simple and easy to understand. If it makes sense to you, go for it, but it may confuse others if you ever start sharing your environments.\n\nDon't map directories to projects, map a project\nI don't understand clearly the problem with this approach, can you please enlighten me?\n\nWhen you map a top level folder the VM has to virtualize ALL the information (and the content) of EVERYTHING in the folder. If you share C:/Vagrant/dev EVERYTHING under the dev folder is virtualized and kept track of IN the VM. This creates a lot of file IO work for the VM to do when you may not be using all those files. If you have X projects in C:/Vagrant/dev and you're mapping all X to Homestead, you may never run into this issue. If you have hundreds of projects in C:/Vagrant/dev and only a few mapped in Homestead, you may at some point see a slowdown. Only mapping what you need to use is a practice to keep the overhead of running a VM low.. With such limited info, I'm not going to be much help. We use sudo DEBIAN_FRONTEND=noninteractive apt-get -y -o Dpkg::Options::=\"--force-confnew\" in places to get around the config file changes.\nYou always (I'm yet to run into a case where you wouldn't) want to keep the existing config changes.. This is a known issue on Windows. The only real solution is to run npm on your project via windows or thrblinux subsystem.\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Dec 30, 2018, 11:00 -0600, Simoneu01 notifications@github.com, wrote:\n\nUpdate\nI have change file_mode in Homestead.yaml:\nbefore:\nfolders:\n   - map: E:/Progetto/code\n     to: /home/vagrant/code\n     type: \"smb\"\n     mount_options: [\"mfsymlinks,dir_mode=0775,file_mode=0664\"]\nafter:\nfolders:\n   - map: E:/Progetto/code\n     to: /home/vagrant/code\n     type: \"smb\"\n     mount_options: [\"mfsymlinks,dir_mode=0775,file_mode=0755\"]\nAnd now I can run npm run dev but i have another error.\nDebug LOG:\ndebug.log\nCLI LOG:\ndebug.log\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for the PR, but as @roberto-aguilar mentioned it's currently the correct operator.. Thanks for taking the time to submit the PR. The current value is a default safe shebang for unattended non interactive work. We don't want to change the environment we run after.sh in. This is something the user can do on their end as the after.sh that the user would be editing is not in our version control.. Thanks for the PR.\n\nTo accept it, we'll have to make the same changes to all of the other serve- scripts that are using nginx.. Thanks for the PRs! Much appreciated.. Please follow the instructions in the issue template. We need all of that info to help you. My guess is your folder paths are incorrect.\n--\n- Joe Ferguson\nJoeFerguson.me\nosmihelp.org\nOn Jan 8, 2019, 05:08 -0500, heba222 notifications@github.com, wrote:\n\ni'm trying to setup laravel /Homestead\ni'm new to laravel trying to learn it but during the last three days I could not pass the setup process\nI tried to setup laravel/homestead globally based on Edwin tutorial\nhttps://www.udemy.com/laravel-homestead/learn/v4/content\nand did try to set it up per project based on this tutorial\nhttps://www.youtube.com/watch?v=rs2Hzx4qBm8\nI did every step they did got the same result as they did exactly but still cant open my project\nin both cases the only error happen when i try to reach code file through\nvagrant@testperproject:~$ cd Code/\ni get this :\n-bash: cd: Code/: No such file or directory\nwhat should i do ? I really want to pass this to move on to work whay is so hard ?!\nI've win 10\nVersions\n\u2022 Vagrant: Vagrant 2.2.2\n\u2022 Provider: VirtualBox-6.0.0-\n\u2022 Homestead: laravel/homestead (virtualbox, 6.4.0)\nI hope someone can help me\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Change your Homestead.yaml to this:\n\n```\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    -\n        map: 'H:\\laravel-apps\\testperproject'\n        to: /home/vagrant/testperproject\nsites:\n    -\n        map: homestead.test\n        to: /home/vagrant/testperproject/public\ndatabases:\n    - homestead\nname: testperproject\nhostname: testperproject\n```. Cheers!. Thanks!. The 2.0 branch is outdated and not needed in master.. Thanks for the PRs!. Thanks!. You really shouldn't be creating new Laravel sites from inside Homestead. One of the principles of Vagrant, one of the tools behind Homestead is that you shouldn't put anything in the vm via. manual process. Meaning you never create things in the VM that you care about. The reason for this principle is so that you never lose work by destroying your virtual machine.\nIf you must create your projects inside Homestead here is the best way to ensure you don't lose any of your work:\n\nInstall Homestead and run vagrant up (Skip adding any sites for now)\nvagrant ssh\nlaravel new PROJECT-NAME\nmv PROJECT-NAME /vagrant/.\n\nOn your HOST machine: Open the folder you ran vagrant up in and move the PROJECT-NAME to wherever you keep your projects (Mine is /~Code).\n\nUpdate your Homestead.yaml and add a folder path to where you moved PROJECT-NAME and add a site for the folder to the configuration as well.\nvagrant destroy && vagrant up \n\nYour PROJECT-NAME will be mapped from it's location on your host OS to the Homestead VM.. @Artistan you need Dpkg::Options::=\"--force-confnew\": https://github.com/laravel/homestead/blob/master/scripts/install-mongo.sh#L19. Were you using 7.3 on the previous box? My guess is it's a 7.3 bug: https://bugs.php.net/search.php?limit=30&order_by=id&direction=DESC&cmd=display&status=Open&bug_type=All&phpver=7.3. > @svpernova09 Maybe it's an idea to revert the default version back to 7.2 until this is fixed?\nYou can specify PHP 7.2 in your sites config.\nHomestead major versions denote either a change in the underlying Ubuntu base, or us specifying a different default PHP version. If we went back to 7.2 as the default (Which goes against our principle of supporting what php.net supports in terms of versions) then we would have to bump another major version, then again when we went back to 7.3 as the default. Since there is nothing Homestead can do to fix the 7.3 bugs it doesn't make sense for us to ping pong defaults, especially when it's a 1 line change such as specifying a PHP version in Homestead.yaml\n. > Mine was a fresh box on windows 10 so I was not using PHP 7.2 on the box beforehand\nI (sometimes painstakingly) stick to semantic versioning with Homestead. That means if you have a box working on version 7.x and you install 8.x you should expect major things to be different. (In this case it was the default PHP version). There's not much more I can do to warn people. I publish a commit summary on every release. At some point the documentation has to be enough, even for longtime users that may be comfortable with the platform.\n\nIf there's any way to implement some kind of warning that the php version isn't compatible when running vagrant up then that would save a lot of pain.\n\nVagrant has no knowledge of what's inside the virtual machine.\n. >@svpernova09 Cheers. I may start doing that myself. Appreciate all your effort.\nI probably should update the motd to announce the new versions. That way you'd at least see it in your face when you vagrant ssh. @adriandmitroca By not specifying a PHP you are going to default to 7.3.. Thanks!. haha looks like I uploaded the wrong box. Uploading the correct one now.. \n. The correct box is now uploaded for the parallels provider.. This will require a homestead repo update. Will dig into it later.. Ah, you're wanting to use the backup: true but you don't have any Databases in your Homestead.yaml, we use that to know what databases to back up.\nadd this to Homestead.yaml\ndatabases:\n    - homestead. https://gist.github.com/dbatten5/2ff7c4fbe79dd94aef4326dd05afc3bc#file-gistfile1-txt-L169-L191\nhomestead-7: Downloading Oracle Java 8...\n    homestead-7: --2019-01-16 14:45:01--  http://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz\n    homestead-7: Resolving download.oracle.com (download.oracle.com)...\n    homestead-7: 92.122.200.140\n    homestead-7: Connecting to download.oracle.com (download.oracle.com)|92.122.200.140|:80...\n    homestead-7: connected.\n    homestead-7: HTTP request sent, awaiting response...\n    homestead-7: 302 Moved Temporarily\n    homestead-7: Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz [following]\n    homestead-7: --2019-01-16 14:45:01--  https://edelivery.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz\n    homestead-7: Resolving edelivery.oracle.com (edelivery.oracle.com)...\n    homestead-7: 23.43.64.234\n    homestead-7: Connecting to edelivery.oracle.com (edelivery.oracle.com)|23.43.64.234|:443...\n    homestead-7: connected.\n    homestead-7: HTTP request sent, awaiting response...\n    homestead-7: 302 Moved Temporarily\n    homestead-7: Location: http://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz?AuthParam=1547650021_96df6b56d39f24a306626b4a6879523d [following]\n    homestead-7: --2019-01-16 14:45:01--  http://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz?AuthParam=1547650021_96df6b56d39f24a306626b4a6879523d\n    homestead-7: Connecting to download.oracle.com (download.oracle.com)|92.122.200.140|:80...\n    homestead-7: connected.\n    homestead-7: HTTP request sent, awaiting response...\n    homestead-7: 301 Moved Permanently\nhomestead-7: Location: https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz?AuthParam=1547650021_96df6b56d39f24a306626b4a6879523d [following]\nLooks like the download from the repo is 404ing, nothing Homestead can do about this. The upstream repo has to have the updated change propagate before this will work.\nAs a workaround you can manually install Java in the VM, then exit and run vagrant provision. The Java download will still 404, but ES should install since JAVA_HOME will be set by your manual Java install.. With such vague information I don't really know what to tell you. There's nothing about Homestead that's any more or less resource intensive than other vagrant boxes (outside of the number of services running anyway). You may be better off opening an issue on the Vagrant repo to see if anyone else has noticed.\nMy personal macbook pro runs pretty warm with Vagrant, always has. maybe I'm just used to it.. > Yes but, with npm run watch is a serius problem\nYou should run npm on your Mac, not in the VM. Otherwise you should give your VM a couple more CPU cores.. Thanks!. Working as intended. If you need PHP 5.6 you'll need to use Homestead Repo 7.x and Base box 6.4.0. Unfortunately I can't help you. When you start messing with your host OS networks all bets are off for how Vagrant (or your provider) will respond. My best advice is to use your local hosts file to override any of your Homestead domains.. Thanks!. Thanks!. Going to pass on this. The reason of self updating composer is is to have one last php smoke test run that would otherwise blow up if something went sideways for some reason. If you're keeping your base box up to date you shouldn't run into this issue.. Resolved via https://github.com/laravel/homestead/releases/tag/v8.0.1. I didn't want to re-tag the release so we didn't confuse anyone. Since we already had some pending changes I just tagged v8.0.1. from inside the VM run sudo phpdismod xdebug. if the issue continues then it's likely still issues upstream with PHP 7.3 You can override and go back to 7.2 by adding php: '7.2' to your Homestead.yaml. This is pretty common for VMware users. Not much you can do other than reboot and try it again. I've tried to dig into this error but usually what ends up working is a reboot or changing the IP in Homestead.yaml to something like ip: 192.168.40.40. When i run into this issue with VMware the only thing that solves if if you've already changed the IP is to reboot your host computer (not just the VM).. Comment out all but one of your sites, does the issue happen with 1 site instead of all of them?\nAlso you forgot a part:\nVagrant destroy & up output\nProvide a link to a GitHub Gist containing the complete output of vagrant destroy && vagrant up.\nDo NOT paste the debug output in the issue, just paste the link to the Gist.\n. I need to dig into this more. I bet it's socket-wrench not being handled properly by the apache script.. I'm 99% sure the problem is the newly added built in socket-wrench server is what's causing the issue. I currently don't have a good solution (but still working through one). Should be resolved by v8.1.0. Thanks for taking the time to submit this PR but we're not going to implement it at this time.\nI'm not seeing how the HOST_PATH you're referring to brings any value to the user when this path is completely arbitrary and optional? You can accomplish the same goal by sticking to a known folder structure and utilizing it in your customization scripts.\nThe other thing I'm not a fan of is the idea that there has to be some top level \"root\" folder of all your code in the VM. Maybe I'm just lazy (I know I am) but I refuse to map any folder past the /home/vagrant path because I don't want to have to cd ~/code every single time I vagrant ssh\nI really do not like the fact a user would have to open the Vagrantfile to adjust this setting. \nI see what you're trying to accomplish but I don't feel like the complexity trade off is worthwhile when you can already accomplish the same tasks via after.sh. You could even accomplish this by setting the value of your HOST_PATH at the top of your after.sh.. @Perf, I'll get a reply to you later today. Don't want you to think I'm ignoring your reply :D. Please fill out the issue template entirely so there is a chance that someone can help you.. Correct.. Verified this is an issue. I'm not sure why it's not happening on the other providers. Will require a base box update to fix it.\nUntil then you can resolve this my running sudo chown -R vagrant:vagrant /usr/local/bin && sudo composer self-update\nEven those this looks like a hard error the environment is mostly find. Anything in after.sh hasn't been run.. Resolved via #1052  and in release v8.0.2. It sounds like a Virtualbox issue. NFS is always a pita w/ Virtualbox. Looks like you haven't upgraded Virtualbox to version 6.x yet. I would try that first, then go back to the default folder sharing (not nfs) and see if your speeds are any better. If not try NFS and it should work as the guest additions should then match major versions.. @timo002 Glad you got it working albeit slow. I'm not even close to an NFS expert so I'm not much more help :/. @timo002 There's nothing I can do to help you here, there's nothing I'm aware of that Homestead can do for you because this is a nuance between Vagrant and NFS. It's out of my hands.. If you can show me a working configuration (Vagrantfile and anything else related) I can compare to Homestead and see what the differences are.. Ah!\nhttps://www.vagrantup.com/docs/virtualbox/common-issues.html\n\nDNS Not Working\nIf DNS is not working within your VM, then you may need to enable a DNS proxy (built-in to VirtualBox). Please see the StackOverflow answers here for a guide on how to do that.\n\nApparently it's a Virtualbox thing. I wasn't able to find anything that would look like a fix :(. Does it complete without errors if you remove the bindfs plugin?. Run this command from inside the VM: sudo apt-get --allow-releaseinfo-change update\nThen exit and run vagrant --provision. Good, we had the same issue on another repository not long ago.. > If users cannot run apt-get update without any errors straight away in a fresh VM, wouldn't that be considered a bug?\nYep, we'll need to release a Homestead update or base box update to resolve it.. @philbates35 Yep! thanks for reporting back :D. Should resolve #1047. Thanks!. Z-Ray will only work with PHP 7.2.\nChange\nsites:\n    - map: upload.test\n      to: /home/vagrant/code/<redacted>/public/\n      zray: \"true\"\nto \nsites:\n    - map: upload.test\n      to: /home/vagrant/code/<redacted>/public/\n      php: \"7.2\"\n      zray: \"true\". >I modified the GuestProperty in \"~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/6.4.0/virtualbox/box.ovf\" to update the guest addition version but that doesn't change anything.\nBecause you haven't recreated the box yet. You've only provisioned it. (I do not recommend you edit ANY files in ~/vagrant.d just like you should never edit files in .vagrant\nWhat's the underlying issue? What isn't working for you because the guest additions don't match up? This is not a fatal error by any means and is quite common depending on how fast we're rolling out base box updates and how fast Virtualbox is updating versions.. > So I just need to do a vagrant destroy / vagrant up to make the message disappear ?\nNo, but you seem confused when you edited what you thought was the base box (and it was, just not the version you were currently using) When you run vagrant up for the first time it copies the box from ~/.vagrant.d to path/to/your/project/.vagrant. In that .vagrant folder is THE RUNNING box files. (Still don't go changing those files).\nIf you're not using NFS you shouldn't need to worry about the guest addition version difference. Even if you ARE using NFS it's not always an issue.. The only thing I can reasonably guess is it's the version of Windows 10 you're using.\nYou can try to build a hyper-v box with Packer & Settler on that version of Windows but I'm not sure that will solve your problems and it might just send you down a rabbit hole.\nOur Hyper-V boxes are built on Windows 10 Pro Version 1809 OS Build 17763.316 (Or whatever is current from Windows Update right before I build the boxes. The OS is not on any insider program and as far as I can tell, is the closest to retail Win 10 Pro as you can get. There's no way Homestead can be expected to support every version of Windows 10 so we stick to what's current to what most of our developer audience would be using.\nI'm far from a Windows expert and I've certainly learned a ton by supporting Hyper-V. I'm open to suggestions and pull requests on how we can make Homestead on Hyper-V better but most of the suggestions I hear are around issues that Homestead has no control over. Homestead can only affect it's box. A lot of the Hyper-V issues are between Microsoft & Vagrant.. Yes, for the per project installation method you will have to have everything your composer.json requires installed and configured for PHP.. Glad you got around it. \nPer project was never meant to be about portability, it was meant to be a way to easily ship your environment with your code to your contributors.. I don't see anything alarming in your logs. I would try to remove your public network interface and ip on the sites and run vagrant destroy && vagrant up again to see if the issue remains.. Thanks!. You can add ports via info in the docs: https://laravel.com/docs/homestead#ports. You have too many spaces between ports: and the next line - send: 4040\nTry this:\nports:\n  - send: 4040\n    to: 4040\nor\nports:\n    -\n        send: 4040\n        to: 4040. Thanks!. I'm far from a rails expert. We don't install ruby 2.5.1 anymore, we install 2.6.1. I poked a bit and wasn't able to sort out anything. PRs from anyone who can resolve this is welcome.. This should be resolved in v8.2.0: https://github.com/laravel/homestead/releases/tag/v8.2.0\nYou'll want to upgrade the homestead repo and then vagrant destroy -f && vagrant up and you should see:\nmysvagrant@homestead:~$ mysqld --version\n/usr/sbin/mysqld  Ver 8.0.15 for Linux on x86_64 (MySQL Community Server - GPL)\nNote: in your original post you showed mysql -V It's important to note this is the mysql-client package, not the mysql-server. To see the server version run mysqld --version as I did above.. We dropped support for Symfony 3.x when we dropped PHP 5.x support. I don't think we want to allow those versions to be used anymore?. Sounds good. Thanks for the PR!. I'm \ud83d\udc4d on all these but somewhat concerned about modifying the volumes. I don't want to change the build process for Homestead https://github.com/laravel/settler in regards to running 1 packer command to build a base box to verify.\nAs long as we can maintain the simple build process we have today I'm \ud83d\udc4d \nFeel free to submit PRs to Settler but since we don't enable issues there any discussion needed can be hashed out in an issue here.. Go for it. Let's see what a PR looks like. Bonus points if it's something we can easily toggle on or off on a per site basis.. Thanks!. The Laravel Homestead project will only ever support current versions of PHP supported by php.net.\nWhat you're looking for sounds like a side project I just launched: https://www.joeferguson.me/homestead-fifty-six/. There could have been. Sometimes phpstorm does odd things when I bounce between files that have 4 space tabs VS 2 space\n. This PR assumes the user has homestead installed globally and wants to install into $this project folder they are in. \nIf we want to build the same / similar thing into the Laravel command,  think that's viable but different scenario. We talked about going either way with it.\n. @GrahamCampbell I used .php_cs from laravel/framework and it's still removed all the @return void lines. Ideas?\n. Not sure, I copied .php_cs from framework to my homestead folder and\nran php-cs-fixer fix src\nOn Sun, Jul 5, 2015 at 2:19 PM, Graham Campbell notifications@github.com\nwrote:\n\nIn src/DestroyCommand.php\nhttps://github.com/laravel/homestead/pull/226#discussion_r33897973:\n\n@@ -21,9 +21,8 @@ protected function configure()\n     /*\n      * Execute the command.\n      \n-     * @param  \\Symfony\\Component\\Console\\Input\\InputInterface  $input\n-     * @param  \\Symfony\\Component\\Console\\Output\\OutputInterface  $output\n-     * @return void\n\nYou probably ran it with the symfony level by mistake.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/226/files#r33897973.\n\n\n\nJoe Ferguson\n  MemphisTechnology.org\n  MemphisPHP.org\n  HACKMemphis.com\n. Running it from package root yields no changes, which seems inconsistent\ndue to the MakeCommand.php having namespace on a different line than other\ncommands, but it must be something in the .php_cs allowing it so I digress.\n\nOn Sun, Jul 5, 2015 at 2:22 PM, Graham Campbell notifications@github.com\nwrote:\n\nIn src/DestroyCommand.php\nhttps://github.com/laravel/homestead/pull/226#discussion_r33898003:\n\n@@ -21,9 +21,8 @@ protected function configure()\n     /*\n      * Execute the command.\n      \n-     * @param  \\Symfony\\Component\\Console\\Input\\InputInterface  $input\n-     * @param  \\Symfony\\Component\\Console\\Output\\OutputInterface  $output\n-     * @return void\n\nPassing any parameters to php-cs-fixer makes it avoid using the config\nfile. Don't pass src.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/226/files#r33898003.\n\n\n\nJoe Ferguson\n  MemphisTechnology.org\n  MemphisPHP.org\n  HACKMemphis.com\n. Ensure your use statements are shortest to longest top to bottom. (like they were before you added InputOption\n. +1 Should be $this->setName('edit') then line break\n. Hrm, I would defer to @GrahamCampbell or @taylorotwell input then.\n. It's not part of PSR-2, it's part of Laravel's code style (which is a modified PSR-2 afaik) Other Laravel repos (like framework) have a .php_cs file that will tell phpcs how to style code.\n. This isn't a terrible idea, but we have root access when we're running these, lets drop this somewhere outside of /home/vagrant. This would be useful as it's own PR outside of the set -e as well.. IMHO the filename should be the primary server name. Especially not all of them since that would allow a user to list to many domains and cause the filename to be too long and fail.\n\nAny other server names shouldn't be appended, they should be explicitly declared via config syntax (see previous comment).. I don't care what the argument is. Essential if any argument exists, use JSON. This should be in a user's global gitignore file. Projects shouldn't be responsible for ignoring files generated outside of the project.. We need to tell apt to use noninteractive mode before we run any apt commands.. I don't like the idea of having the \"install apache\" code now in 2 places. That's not necessarily a blocker for getting this PR merged, just something I want to think about a better solution for. This should be a restart: sudo service nginx restart. You can remove the nginx stop at the top of the script. since we're not using apache we can assume nginx is running and will want to restart it at the end.. Instead of settings[\"backup\"].each we should do settings[\"databases\"].each. We don't want users to have to configure which databases to backup. it should back up all specified in settings, and any possible type (Although I'm find limiting to MySQL, MariaDB, and Postgres for the scope of this PR. Backup type should be irrelevant because we created mysql/maria/postgres DBs for everything in settings[\"databases\"]. Big +1 for breaking these out into methods. we should probably do more of this.. Do we need to rm chronograf_1.5.0.1_amd64.deb? We wouldn't want the script to leave the artifact.. We should be using bionic instead of xenial.. This should be path: afterLocalScriptPath. I think this is what we want: if they specify the values, use the supplied values. (We'll want to add docs what the correct values are here) but if they don't specify we don't do anything.\nsuggestion\n        # Configure Verify Host Key\n    if settings.has_key?('verify_host_key')\n      config.ssh.verify_host_key = settings['verify_host_key']\n    end. ",
    "dangreaves": "+1 for this. Would be really useful for running multiple projects on one homestead instance.\n. The PR on your fork above should do it. The host has to be defined as 127.0.0.1 or the md5 authentication wont work and you have to add the password as an environment variable (as there's no option to include it in the command).\nI also changed the MySQL username you used from root to homestead to match the other places that it's used in.\n. Looks like \"homestead\" has all the global privileges so should be fine.\n. The latest homestead box uses 192.168.33.10 as the private networking IP.\nRun vagrant box update to make sure you have the latest box before destroying your current instance and running vagrant up again.\nThe IP address that the box uses is defined at scripts/homestead.rb on line 8 if you really need to change it.\nThere are a few PR's in place (like https://github.com/laravel/homestead/pull/22) that aim to make this configurable from the YAML file.\n. Ah, missed a vital part of your problem there (the eth0 part).\nHomestead on VirtualBox will use the NAT network interface type for eth0. So the eth0 address for the first machine will be 10.0.2.15, the second 10.0.3.15 and so on.\nAny traffic from these addresses will be passed on to the VirtualBox NAT engine which is essentially a virtual router that sits in between each NAT enabled VM and your external network.\nI just checked on my install and my eth0 IP address is 10.0.2.15 for my Homestead box so I don't think that your problem is directly related to Homestead. Nor does the Homestead configuration have any influence on the address assigned by VirtualBox NAT (this is managed by VirtualBox).\nI would hazard a guess that this is something to do with your VirtualBox setup. You could try reinstalling VirtualBox and giving Homestead another go.\nYou can also manually update the NAT address for a VM by running VBoxManage modifyvm \"VM name\" --natnet1 \"10.0.2.0/24\" where VM name is the name of your machine and the NAT address corresponds with the number of machines you have (10.0.2.0/24, 10.0.3.0/24, 10.0.4.0/24 etc) but ideally this should all be working automatically!\n. I'm not too sure on what you have going on there.\nYou will probably do best asking in #vagrant on IRC or something as they will have a better understanding of how the networking works.\n. ",
    "lildwitte": "I'm getting the second results.  Haven't taken the time to figure out why it isn't working, mainly because I already have a fully-ready dev environment without vagrant.  I'll wait until there's an easy answer to try Homestead again with 4.2\n. Oh, I didn't know it was a simple BIOS setting.  I thought it was some linux related setting I didn't know of.  My misunderstanding.\n. ",
    "Weeblewonder": "Boot into BIOS and make sure your CPU virtualization is turned on. As I said in the OP its the most common trip up when starting with Vagrant.\n. Yeah it definately needs to be part of 'troubleshooting' in docs.\nI still think its an issue that needs fixed in the script too though as continuous timeouts on ssh connection doesnt immediately lead to the box didnt boot.\n. ",
    "laurencei": "Issue is discussed here for a solution to be added to the docs: https://github.com/laravel/docs/pull/765\n. Maybe we can add it to the docs. Its would be related to this PR on the Laravel/Docs - where we add a common 'troubleshooting' section: https://github.com/laravel/docs/pull/765\n. This has nothing to do with your OS - it is because you have no enabled 64 bit virtualisation on your CPU. See this forum thread for more info - it talks about Windows - but I've spoken to other people who confirm the same issue applies to Linux + Macs\nhttp://laravel.io/forum/05-18-2014-trouble-getting-homestead-to-start-in-windows\nand also mentioned here:\nhttps://github.com/laravel/docs/pull/765\n. It says it cant find the \"/Users/uvu/.ssh/id_rsa.pub\" file. So the directory you have listed is incorrect.\n. Personally I think the best TLD is actually .vm. That is what I now use.\nThe reason is there will never be a .vm unless there is a new country made (because 2 letter TLDs are reserved for countries).\nAll other TLDs you've listed could theoretically become a valid TLD at some point.\n. @svpernova09 - thanks.\nI've been using it for over 2 years now and it's been bulletproof for me.\nLet me know if you notice any issues.. Awesome work. I just installed a new fresh 7.1 homestead and then manually ran the commands above - and it looks like it is working perfectly.\nThanks so much.\nWe should probably do a PR for this for the docs + features section?. @taylorotwell - @svpernova09 mentioned something similar to me as well.\nBut on a Windows box it makes perfect sense. I dont have Git installed on Windows. I simply install Homestead, and then do everything inside the virtual machine. Otherwise you run into other issues with Windows when you dont do it inside.\nOtherwise, if we should not be using Git inside the virtual machine, then why have Git as part of Homestead?. I think I just realised - what does vmware_fusion use? The same box?\n. @matthebs - you dont need PHP or Git on your local machine at all.\nJust download homestead from Github.com. Extract it to your own folder. You need to manually copy the \"stubs\" into a .homestead folder in your Users folder.\nAfter that - just run vagrant up in the homestead folder. It works perfectly, although you wont be able to auto-update Homestead - you have to do it manually.. @daryn-k  - I think you need to read this: https://laravel.com/docs/5.3/homestead#old-versions\n@svpernova09 - since people can pick their box version - does it really matter if you push lots of updates?. Thanks @jonnywilliamson \nIt is only for VMWare. It works fine for me in Virtualbox using 1.0.1.\nWhich is partly why I think the issue is not widespread - I dont think there are as many VMWare users.... Have you tried switching to the SMB file type for your sync'd folders? I had some IO issues with the new Homestead, VMWare and Windows 10 which were resolved by switch to smb. The performance is roughly the same.\nfolders:\n    - map: c:/www\n      to: /home/vagrant/www\n      type: smb. Oh - this looks like a duplicate of: https://github.com/laravel/homestead/issues/577\nThat's fixed my problem.. So awesome.... ",
    "scottwakefield": "Thanks for the reply @dangreaves \nI definitely have the latest box, the default 192.168.33.10 IP is assigned to eth1 and I can access the server by hitting that IP in the browser. However, it's the eth0 inet addr that I think is causing the issue.\n. Cheers for the extra info @dangreaves.\nI've just done a fresh VirtualBox, Vagrant and Homestead install on a brand new Mac and the problem still occurs. The eth0 value is actually 10.0.2.15 on this installation :+1: so I guess that wasn't the problem. \nvagrant ssh will just hang until I disconnect from the wifi and/or unplug the ethernet cable (essentially disconnect from my router). Really puzzling issue as I've never encountered this with any other Vagrant boxes. Do you think it could be something to do with the Settler base box?\n. I've asked in there a couple of times and was told it sounds like an issue with the Homestead box. \nI'll leave this issue open for a little while I do some more asking around/digging just incase anyone else experiences the same thing.\n. Glad I'm not the only one having this issue! I did a bit more debugging today and noticed that if I run tcpdump via the VirtualBox GUI and then SSH into the box and play around, as soon as it starts being unresponsive and 'laggy' the output changes to this:\n\n. I tried on a MacBook Air and a fresh iMac today and both suffer the same problem when connected to the network. Removing the network cable or disconnecting the WiFi solved the problem instantly... so it must be some kind of Network/DNS problem. \nIf I ...\nssh vagrant@192.168.33.10\ninstead of\nvagrant ssh\nor\nssh vagrant@127.0.0.1 -p 2222\nit doesn't appear to suffer from the lag. \n. So, I've done some more trial and error debugging and managed to everything working. I took a look at some other Vagrant files from other projects (Vaprobash & Puphpet) that I had managed to get working and tried adjusting homestead.rb match.\nIt seems that adding the following to config.vm.synced_folder fixes the issue:\n, :nfs => true, :mount_options => ['nolock,vers=3,udp,noatime']\nso the whole block becomes:\n```\nRegister All Of The Configured Shared Folders\nsettings[\"folders\"].each do |folder|\n  config.vm.synced_folder folder[\"map\"], folder[\"to\"], :nfs => true, :mount_options => ['nolock,vers=3,udp,noatime']\nend\n\n```\nNow, i'm not nearly qualified enough to explain why this works or if it's a suitable fix. If someone can confirm that this is acceptable solution and won't cause any other issues I'll open a pull request.\n@yuters Can you try this and let me know if it works for you too, as you're the only other person that appears to have this problem. \n. Turns out it was just a fluke or something as what I previous thought fixed it did not. I've had to do a similar thing to @yuters in order to get things working. \n. ",
    "yuters": "I experience the same issue and can't even install it at work. But when I disconnect from Wi-Fi everything works perfectly. \nI'm on a laptop and when I bring it home, no problem either even though I'm connected to the Internet, the problem seems to be caused by the local network here.\n. Here's the end of the VBox.log file \n00:00:00.147032 Guest Log: BIOS: VirtualBox 4.3.12\n00:00:00.147159 PIT: mode=2 count=0x10000 (65536) - 18.20 Hz (ch=0)\n00:00:00.163402 AHCI#0: Reset the HBA\n00:00:00.163462 AHCI#0: Port 0 reset\n00:00:00.163852 Guest Log: BIOS: AHCI 0-P#0: PCHS=16383/16/63 LCHS=1024/255/63 83886080 sectors\n00:00:00.163889 PIT: mode=2 count=0x48d3 (18643) - 64.00 Hz (ch=0)\n00:00:00.168062 Display::handleDisplayResize(): uScreenId = 0, pvVRAM=000000010b4b1000 w=640 h=480 bpp=32 cbLine=0xA00, flags=0x1\n00:00:00.454463 NAT: old socket rcv size: 207KB\n00:00:00.454475 NAT: old socket snd size: 79KB\n00:00:02.641506 PIT: mode=2 count=0x10000 (65536) - 18.20 Hz (ch=0)\n00:00:02.641751 Guest Log: BIOS: Boot : bseqnr=1, bootseq=0002\n00:00:02.642117 Guest Log: BIOS: Booting from Hard Disk...\n00:00:02.648226 Display::handleDisplayResize(): uScreenId = 0, pvVRAM=0000000000000000 w=720 h=400 bpp=0 cbLine=0x0, flags=0x1\n00:00:03.107589 PIT: mode=2 count=0x12a5 (4773) - 249.98 Hz (ch=0)\n00:00:03.360831 PIT: mode=0 count=0x10000 (65536) - 18.20 Hz (ch=0)\n00:00:04.042511 AHCI#0: Reset the HBA\n00:00:04.046275 AHCI#0: Port 0 reset\n00:00:06.392374 Guest Additions information report: Version 4.3.6 r91406 '4.3.6_Ubuntu'\n00:00:06.392409 Guest Additions information report: Interface = 0x00010004 osType = 0x00053100\n00:00:06.392450 Guest Additions capability report: (0x0 -> 0x0) seamless: no, hostWindowMapping: no, graphics: no\n00:00:06.392495 Guest reported fixed hypervisor window at 00000c00000 (size = 0xc00000, rc = VINF_SUCCESS)\n00:00:06.396991 Guest Log: vboxguest: major 0, IRQ 20, I/O port d020, MMIO at 00000000f0400000 (size 0x400000)\n00:00:06.445920 NAT: IPv6 not supported\n00:00:06.480182 NAT: DHCP offered IP address 10.0.2.15\n00:00:06.480387 NAT: DHCP offered IP address 10.0.2.15\n00:00:09.039524 NAT: link up\n00:01:31.212235 NAT: DNS servers changed, triggering reconnect\nI've tried other computers on the same network (A Mac Pro and Windows machine) and got no problem getting Homestead to run.\nThis is only happening on my macbook pro, and it only happens on this network. Ugh\n. I just tried it and it's not changing anything on my end. \nTo make it work, I had to link the basebox to ubuntu/trusty64 instead of laravel/homestead. included the provision.sh in Settler and remove the natdns stuff.\n``` ruby\n    ...\n# Configure The Box\nconfig.vm.box = \"ubuntu/trusty64\"\nconfig.vm.hostname = \"homestead\"\n\n# Configure A Private Network IP\nconfig.vm.network :private_network, ip: \"192.168.33.10\"\n\n# Configure A Few VirtualBox Settings\nconfig.vm.provider \"virtualbox\" do |vb|\n  vb.customize [\"modifyvm\", :id, \"--memory\", \"2048\"]\n  # vb.customize [\"modifyvm\", :id, \"--natdnsproxy1\", \"on\"]\n  # vb.customize [\"modifyvm\", :id, \"--natdnshostresolver1\", \"on\"]\nend\n\n# Run The Base Provisioning Script\nconfig.vm.provision \"shell\" do |s|\n  s.path = \"./scripts/provision.sh\"\nend\n\n...\n```\n. I have the same result but it has another cause than cpu virtualization, can you check if it works if you disconnect your Wi-Fi or Ethernet cable? see #24 \n. ",
    "skovmand": "This is a really annoying bug in Homestead. I'm switching my WiFi on and off constantly to make it connect. There must be a solution to it, since the connection works perfectly on other boxes...\n. Networking works for me with the precise64 and ubuntu/trusty64 box, but not when using the laravel/homestead box - even with the exact same Vagrantfile and homestead.rb script.\n. As a temporary solution I'm using the ubuntu/trusty64 provisioned with the Homestead provision.sh file found here https://raw.githubusercontent.com/laravel/settler/master/scripts/provision.sh ..\nMy Vagrantfile is:\n```\n-- mode: ruby --\nvi: set ft=ruby :\nVagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.box = \"ubuntu/trusty64\"\n  config.vm.network :private_network, ip: \"192.168.100.100\"\n  config.vm.provision :shell, :path => \"provision.sh\"\n  config.vm.synced_folder \"/Users/skovmand/Code\", \"/home/vagrant/Code\"\nend\n```\nYou have to copy the keys and the serve.sh-file manually and run it with sudo. Besides that the server must be pretty similar to the Homestead-server.\n. ",
    "simnom": "+1 for adding to troubleshooting docs but personally I feel this is not a Homestead or Vagrant issue as it crops up in all sorts of scenarios when adapting Windows to a more \"Linuxy\" environment.\n. ",
    "brunowego": "+1\n. Hope this help anybody.\n. +1\n. +1\n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. :+1: \n. +1\n. Change site[...] to settings[...] :+1: \n. :+1: \n. ",
    "bagwaa": "+2\n. ",
    "hugoleodev": "+1\n. ",
    "mcryan": "+1\n. ",
    "bhargavjoshi": "+1\n. ",
    "silentworks": "Open separate PR for that I think. I so want environment variables added in.\n. Well preferable a setup hook so that you can run any bash script at vagrant provisioning time.\n. ",
    "grrnikos": "I totally agree.\n. ",
    "driesvints": "Yes, this would be a better default.\n. Yer, I'm going to close this. You're right about it being a developer preference.\n. Just a quick note: this won't work if people are using port forwarding. So it's best if people set up their vhosts to use the vagrant ip address instead of their local one.\n. Gonna close this because there seems to be a problem with query parameters. Need to check this when I have time.\n. I managed to get it to work with these install commands:\nwget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -\nsudo sh -c 'echo \"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main\" >> /etc/apt/sources.list.d/google-chrome.list'\nsudo apt-get update && sudo apt-get install -y google-chrome-stable\nsudo apt-get install -y xvfb\nMore info here: https://github.com/laravel/dusk/issues/50#issuecomment-275155974. This is really important: (from the comment above) you need to run Xvfb :0 -screen 0 1280x960x24 & before attempting to run Laravel dusk or it will timeout. Perhaps it could be nice if we could run it when the machine starts up so the process is always running?\nWhen you're on your local machine you don't need to do this because Chrome probably is already running. But on Homestead you'll need to explicitly tell the chrome driver to start.. Yeah, agree. Just wish it wasn't so cumbersome. Currently trying to find a way to combine it in one command but no luck so far.. Made this command real quick:\n```bash\n!/bin/sh\npids=$(pidof /usr/bin/Xvfb)\nif [ ! -n \"$pids\" ]; then\n    Xvfb :0 -screen 0 1280x960x24 &\nfi\nphp artisan dusk\n```\n./dusk.sh. @svpernova09 ok great! Definitely not urgent.. Not sure. Didn't have that. What is the exact CLI output?\nI actually managed to get Dusk fully running in the end but reverted everything and just used the browser-kit package. I didn't get some of the assertions to work in Dusk and I had to port all of my tests to the new Dusk way of doing things. In the end it wasn't worth the hassle so I decided to go for the browser-kit package which tests run much faster anyway.. @browner12 I doubt it's anything app-related because the app is performing well on the other box and on production so I don't think a tool like Blackfire will help here.\nI'll try to check the logs later.. When I use the Laravel debugbar package I see that each query is performing greater than on the older box so I don't think it's one single thing that's running slower. Every page on the app is running slower. That's why I suspect it's a general issue/setting which is wrong.\nxDebug is disabled by default. When I run php7.1 -v I don't see it enabled.. @browner12 thanks. Unfortunately this was one of the things I already tried.... @scoutman57 how do I change the Ubuntu version in the Homestead.yaml?\n@svpernova09 unfortunately this didn't change much \ud83d\ude14. @svpernova09 \nFor the failing app: 67693\nFor another app that works: 46721\nSo not that much of a difference.. @svpernova09 so the \"good\" app performs the same in the \"bad\" app's Homestead box as it does on its own Vagrant box. \nBut I kid you not. I rebuild the Vagrant box for the \"slow\" app now again after the weekend and after I tried out the \"good\" app on it, I noticed the \"slow\" app was performing a bit better than before. Why, I have no clue. It's still very slow, especially API requests but it's a tad better than before.\nMy machine specs are (also updated this on the issue description):\nProcessor: 2.9 GHz Intel Core i5\nMemory: 16 GB 1867 MHz DDR3\nGraphics: Intel Iris Graphics 6100 1536 MB\nI'm going to try out the new setup on a colleague's machine which has a newer laptop to see if there are any differences.. Tried it on a colleague's Macbook which has a bit better specs but no dice. Requests were a tad faster but still slow.\nHis specs are:\nmacOS Sierra 10.12.6\nProcessor: 3,1 GHz Intel Core i5\nMemory: 16 GB 2133 MHz LPDDR3\nGraphics: Intel Iris Plus Graphics 650 1536 MB\nSo I'm really out of ideas at the moment... I tried using Vessel but the app also performs really slow on that. Tried Valet and app performs really well on it.. > So this tells me that it's not Homestead, yet something in the project. Which is reassuring to me, but doesn't help you.\nJust want to note that the \"good\" box Vagrant box is Homestead. So not sure if the \"good\" app would perform even better if we fixed the performance issues for the \"slow\" app.\n\nI'm glad valet got the project working. I guess it's just something in the project causing issues. Does the \"bad\" application have symlinks anywhere in the code base?\n\nNo symlinks.\n\nAt this point I'd have to have the app itself to replicate and debug any further to see what Homestead could do, but it sounds like this project has triggered the \"too many files which is slowing down VirtualBox file sharing\". Doesn't surprise me that NFS didn't solve anything (IME it rarely does).\n\nYeah, I agree with you. Unfortunately sharing isn't an option since it's closed source. I think this is where it stops unfortunately and I'll have to look for other options.\nThank you for your time to help to debug this Joe & @browner12. Too bad we couldn't find a solution \ud83d\ude14. Yeah, no license so no dice I'm afraid. I'm just going to leave it at this. . @svpernova09 hey Joe, thanks that's ok. We're going to continue with Valet for now. But thanks for offering, appreciating it! :). @scoutman57 just realized you can simple set the \"version\" setting in your Homestead.yaml so no need to overwrite homestead.rb. I tried using the 5.2.0 box with Ubuntu 16.04 but it's also performing slow there.\nI still don't think this is a Virtualbox issue since we also use Virtualbox with the other older Vagrantbox.. @scoutman57 if you check the Vagrantfile you can see that it passes the settings from the Homestead.yaml to the rb file: https://github.com/laravel/homestead/blob/master/Vagrantfile#L27-L35. Don't feel dumb! Glad to help :)\nOn 27 Jul 2018, 17:43 +0200, Shannon Warren notifications@github.com, wrote:\n\n@driesvints I knew it pulled in settings, I just overlooked that was used in the RB file for the version. I see some other stuff set there, which is nice too. Like changing the Homestead box name. Now I feel so dumb.. But thank you for making me look again. I think the \"official\" documentation really needs to include all the optional YAML overrides.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @sebastiaanluca unfortunately I've moved on in the meantime and can't remember too much from the time I debugged this.. Added || true to the xdebug removal line to prevent removing it when it's not installed in the first place. This is also consistent with the other Laravel libraries.. \n",
    "duellsy": "To anybody wondering, the PR has been made, just waiting to be merged:\nhttps://github.com/laravel/settler/pull/6\n. ",
    "dariodiaz": "+1 I have the same problem. I'm using ubuntu 14.04 host\n. In my case the problem still occurs disconnecting wifi - eth\n. ",
    "dijux": "I am having the same issue as @tlongren\nI am running linux ubuntu based distro. with vagrant installed and laravel/homestead so fresh.\nVagrant -v 1.6.2\nVirtual Machine V 4.3.10\n. ",
    "adamgoose": "@tlongren I know you're no longer needing this solution at the moment, but we might need you online by the end of the year. Can you please either look into this further or re-open this issue if the virtualization BIOS tweak doesn't work? I know you've said that your virtualization is turned on and it's still not working. So do me a favor, and keep this issue going until it's resolved, if you're able to. Thanks.\n. My bad... lol thanks for catching it.\n. ",
    "marron28": "Virtualization in my bios is enabled. but homestead still displaying that time out message. im on windows 7 32 bit. \n. ",
    "tlongren": "It appears that this problem happens when running a 32 bit version of your OS on 64 bit hardware. I can't confirm this for a day or two, however.\nCan someone else test to confirm if you have a chance?\n. I expected that was the issue. Thank you for confirming @psampaz!\nYou see that, @adamgoose?\nEdit: I can also confirm that was the issue.\n. ",
    "psampaz": "I can confirm this. I had no luck with Debian 7 32bit on 64 bit hardware. I tried all possible solutions that I found around the web but I always got \"Warning: Connection timeout. Retrying...\"\nI uninstalled it and installed Debian 7 64 bit and everything just works fine...\nThanks @tlongren...\n. ",
    "bryannielsen": "+1\n. ",
    "setkyar": "But I already like ssh-keygen -t rsa -C \"your@email.com\" ?\nWhen I run it again it's say do you want to replace.But I haven't see in my home directory.\nHow I can check that files was exists or not in ubuntu. It's hidden? \n. Thanks @LespiletteMaxime now I can vagrant up with the following setting but \n``` sh\nauthorize: /home/uvu/.ssh/id_rsa.public\nkeys:\n    - /home/uvu/.ssh/id_rsa\nfolders:\n    - map: /home/uvu/code/example\n      to: /home/uvu/code/homestead\nsites:\n    - map: example.app\n      to: /home/uvu/code/example/public\n```\nbut when I call my host http://example.app/ I just got Apache2 Ubuntu Default Page . Not Laravel app what I still wrong?\n. I don't understand folders and sites in Homestead.yaml. I think I was wrong with those\n``` sh\nfolders:\n    - map: /home/uvu/code/example\n      to: /home/uvu/code/homestead\nsites:\n    - map: example.app\n      to: /home/uvu/code/example/public\n```\nCan someone explain me? I had also try documentation but I haven't see any explanation about those folders and sites so.\n. Thanks Everybody.  I got it now. Bc I was wrong in \nHomestead.yaml\n``` sh\nfolders:\n- map: /home/uvu/code/example\nto: /home/vagrant/code/exemple\nsites:\n- map: example.app\nto: /home/vagrant/code/exemple/public\n```\nAbove code was fix me :)\n. ",
    "LespiletteMaxime": "I you are in Ubuntu you should change : \n/Users/uvu/\nto \n/home/uvu/\n. You did it wrong you should have\nfolders:\n    - map: /home/uvu/code/example\n      to: /home/vagrant/code/exemple\nsites:\n    - map: example.app\n      to: /home/vagrant/code/exemple/public\n. @tzookb, simply add in file scripts/homestead.rb\nvb.customize [\"modifyvm\", :id, \"--ostype\", \"Ubuntu_64\"] \njust after \nvb.customize [\"modifyvm\", :id, \"--natdnshostresolver1\", \"on\"]\n. ",
    "jeremyvaught": "So if you need to add a new site you can't serve? You have to destroy that one and build a new box?\n. I followed this post for DNSMasq. http://passingcuriosity.com/2013/dnsmasq-dev-osx\nHomestead is vanilla. \nSo now in my browser I go to mydomain.dev:8000 tld1.mydomain.dev:8000 tld2.mydomain.dev:8000 etc. And it's all handled perfectly.\n. ",
    "karev": "i fix it this way \nvagrant ssh and then \napt-get install postgresql-contrib-9.3 :)\n. ",
    "thinksaydo": "Looks like the VM MySQL install is done in laravel/settler, so I'll look into making a pull request on that repo in the next few weeks.\n. ",
    "xtrasmal": "```\nChanges in MySQL 5.6.5 (2012-04-10, Milestone 8)\nPreviously, at most one TIMESTAMP column per table could be automatically initialized \nor updated to the current date and time. This restriction has been lifted. \nAny TIMESTAMP column definition can have any combination \nof DEFAULT CURRENT_TIMESTAMP and ON UPDATE CURRENT_TIMESTAMP \nclauses. In addition, these clauses now can be used with DATETIME column definitions. \nFor more information, see Automatic Initialization and Updating for TIMESTAMP and DATETIME.\n```\nI'd like that too. Cause the MySQl version currently allows for one column with CURRENT_TIMESTAMP as a default or onUpdate. \n. ",
    "Amfy": "Actually this is more important than most probably think. If you just run serve, your nginx installation is broken and you manually have to remove a symlink...annoying.\n. ",
    "JesusLeon": "And excuse me if this is not the right place to post/create such a discussion (where would it be)? Thanks again.\n. I agree, is an optional setting. In my case is a combination of both: slow connection and large database imports, (not to mention the installation of some additional Node packages).\n. ",
    "lukearmstrong": "I also get this error using Sequel Pro and MySQL Workbench, seems it isn't possible to \"tunnel in\".\nBut when I connect normally, using port 33060, neither the root or homestead users have the \"GRANT\" privilege, so I can't create other users using those accounts.\nFrustrating.\n. SSH into the VM\nsh\nssh vagrant@127.0.0.1 -p 2222\nLogin to MySQL, the password is secret\nsh\nmysql -u root -p\nSetup the root user to have GRANT privileges from anywhere.\nmysql\nGRANT GRANT OPTION ON *.* TO root@'%' IDENTIFIED BY 'secret';\nGRANT ALL ON *.* TO root@'%' IDENTIFIED BY 'secret';\nGRANT SUPER ON *.* TO root@'%' IDENTIFIED BY 'secret';\nRemove the alternative root users.\nmysql\nDROP USER 'root'@'10.0.2.2';\nDROP USER 'root'@'homestead';\nDROP USER 'root'@'localhost';\nDROP USER 'root'@'127.0.0.1';\nDROP USER 'root'@'::1';\nSetup the homestead user to have GRANT privileges from anywhere.\nmysql\nGRANT GRANT OPTION ON *.* TO homestead@'%' IDENTIFIED BY 'secret';\nGRANT ALL ON *.* TO homestead@'%' IDENTIFIED BY 'secret';\nGRANT SUPER ON *.* TO homestead@'%' IDENTIFIED BY 'secret';\nRemove the alternative homestead users.\nmysql\nDROP USER 'homestead'@'10.0.2.2';\nNow flush the privileges.\nmysql\nFLUSH PRIVILEGES;\n. ",
    "danmatthews": ":+1: on this, makes for superior reproducibility.\nShould be fairly easy to do using bash (i would think / hope).\nwget <phpunit-url>;\nchmod +x phpunit.phar;\nsudo mv phpunit.phar /usr/local/bin/phpunit;\n. ",
    "codeguy": "Also, maybe let me specify a path to a SQL file (on my local machine) that will be loaded automatically during database creation.\n. It is my (potentially incorrect) understanding that the Homestead.yaml key paths establish communication between my local computer and the Homestead VM. I want Homestead to have its own set of keys so I can communicate from Homestead to other remote servers.\n. And I can of course generate these easily enough myself. But having this automated is what I would like to see.\n. ",
    "Jeroen-G": "+1\n. ",
    "tzookb": "How do I force that?\n. ",
    "apkoponen": "+1\n. ",
    "hensansi": "+1\nI am working on a macbook white(x3100) and I gave up before, but then I reformatted my macbook and tried to find a solution. For me this does it. If I try to \"vb.gui = true\" the virtualbox won't display anything without this fix.\nSnow Leopard 10.6.8\nVirtualBox 4.3.18\nVagrant 1.6.5\n. ",
    "seandowney": "Good point. I will update it with a setting for the host.\nOn the user, it hasn't been an issue for me when I'm using it.\n. Yeah that's true too.\nI'll remove the user part, it solves the host bit too!\nThanks for the feedback\n. @fitztrev that is a much cleaner and flexible solution.\nI don't think there is a need for my pull request anymore.\nAnyone?\n. ",
    "ericlbarnes": "I like this idea. However, if we go this route I don't think it should be limited to just mysql. Maybe just an array of types and names like folders and sites?\n```\ndatabases:\n- type: mysql\n  name: db1\n- type: postgres\n  name: db1\n\n```\n. ",
    "andyfleming": "@seandowney \u2014 I agree this feature is definitely useful. Here are the tweaks I made to get things working on my local build.\nRelevant Homstead.yaml snippet:\nyaml\ndatabases:\n    - db: example_mysql_db_1\n    - db: example_mysql_db_2\nRelevant homestead.rb snippet:\n``` ruby\nCreate the databases and grant access\nif settings.has_key?(\"databases\")\n    settings[\"databases\"].each do |db|\n        config.vm.provision \"shell\" do |s|\n            s.inline = \"mysql -u root --password=secret -e \\\"CREATE DATABASE $1\\\"\"\n            s.args = db[\"db\"]\n        end\n        config.vm.provision \"shell\" do |s|\n            s.inline = \"mysql -u root --password=secret -e \\\"grant all privileges on $1.* to 'homestead'@'%'\\\"\"\n            s.args = db[\"db\"]\n        end\n    end\n    config.vm.provision \"shell\" do |s|\n        s.inline = \"mysql -u root --password=secret -e \\\"flush privileges\\\"\"\n    end\nend\n``\n. Good call, @kostaspt\n. I tried dropping in that change into myhomestead.rb` snippet and it didn't work. Not sure what the issue is.\n. @kostaspt I didn't really spend any time looking into it, but I'm assuming @staal's version should work. Thanks!\n. I'm not sure yet. I think that if we are going to have a config option for mysql databases in the first place, let's give it the option to create multiple.\nThe seperate commands tool is great and I think should be added either way, but the multiple databases feature is going to be more usable for some developers who are just getting started or less familiar with configuring environments. And to be fair, that is probably a good percentage of the Homestead users (and future users).\n. I like the idea of falling back to a default config without a conflicting name. What if instead of Homestead.sample.yaml, we made it Homestead.default.yaml and loaded it automatically if no custom Homestead.yaml was found.\n``` ruby\nVagrantfile\nVAGRANTFILE_API_VERSION = \"2\"\npath = \"#{File.dirname(FILE)}\"\nrequire 'yaml'\nrequire path + '/scripts/homestead.rb'\nif (File.file?(path + '/Homestead.yaml'))\n  Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    Homestead.configure(config, YAML::load(File.read(path + '/Homestead.yaml')))\n  end\nelse\n  Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    Homestead.configure(config, YAML::load(File.read(path + '/Homestead.default.yaml')))\n  end\nend\n```\nIn order to make the Homstead.default.yaml file more useful, we should change it to have some more intelligent default values like I mention in #75. Basically using ~/Code instead of /Users/me/Code since it would have a chance to work out of the box if someone follows that naming convention.\n. +1\nI added this to my own homestead.rb files.\n@fitztrev \u2014 I see your point, but I don't know if it is practically an issue. Composer is updated significantly more often than the settler box is (AFAIK).\n. To clarify this change automatically runs composer self-update, NOT composer update. It isn't updating your codebase dependencies. It is just updating composer itself to the latest version.\n. I also made this change. It seemed to help with performance. I understand it doesn't work on windows, but maybe we could add an option to the Homestead.yaml file to turn NFS on. We could add a warning in a comment next to it saying that it doesn't work on windows and default the option to off.\nI used the following snippet that differs slightly from @anam-hossain's version.\n``` ruby\nRegister All of The Configured Shared Folders (updated)\nsettings[\"folders\"].each do |folder|\n    config.vm.synced_folder folder[\"map\"], folder[\"to\"],\n        id: folder[\"map\"],\n        :nfs => true,\n        :mount_options => ['nolock,vers=3,udp,noatime']\nend\n```\nI used this discussion for reference: https://laracasts.com/forum/?p=1757-slow-responses-on-homestead/0\n. I think this is a good solution.\nDo you think it is important to have an option for each command of what path it runs in or what user executes it?\n. ",
    "kostaspt": "@andyfleming Nice! Maybe also changing this line:\ns.inline = \"mysql -u root --password=secret -e \\\"CREATE DATABASE $1\\\"\"\nto this:\ns.inline = \"mysqlshow -u root --password=secret \\\"$1\\\" > /dev/null 2>&1 || mysql -u root --password=secret -e \\\"CREATE DATABASE $1\\\"\"\nso it doesn't run when running provision again.\n. @staal Yeap that's even better!\n. @andyfleming weird.. it worked for me. You can try @staal's suggestion.\n. Yeap, I also think that's better. Now we have to merge after each update.\n. ",
    "staal": "Perhaps just change it into\nruby\ns.inline = \"mysql -u root --password=secret -e \\\"CREATE DATABASE IF NOT EXISTS $1\\\"\"\nThen it doesn't matter if its provisioned a second time.\n. I would also really like to see this change. Perhaps with a default fallback to the sample file if nothing else exists, to avoid problems for new users. (Or a failure with a message about copying the sample file).\nOn this line, also having the Vagrantfile run a custom script if it exists in eg scripts/custom/ folder, would allow for extension instead of modification.\n. ",
    "assembledadam": "@seandowney You want to change line 78 to drop the database if it already exists, otherwise re-provisioning a box will error out with \"database already exists\". So change to:\ns.inline = \"mysql -u root -p$1 -e \\\"DROP DATABASE IF EXISTS $2; CREATE DATABASE $2\\\"\"\n. ",
    "fitztrev": "See #76 which would allow this but with additional flexibility for more options. You would be able to basically run any custom provisioning command on your Homestead box, beyond just configuring MySQL.\nIt would allow you to add this to your Homestead.yaml:\nruby\ncommands:\n    - mysql -u root -ppassword -e \"create database laravel\"\n. Respectfully, -1.\nI think if a team is working on a project using Homestead, they should all be guaranteed the same versions of all installed software, regardless of when they may have run vagrant up and provisioned their box.\nIf it gets too out-of-date, laravel/settler can be used to create a new Vagrant box with updated packages.\n. Another point is that, right now, I am able to fire up a new Homestead instance without an internet connection. That's nice when working from places with shaky wifi.\nAn alternative solution might be if Homestead.yaml supported a scripts section where you could add your own commands to be run after bootup, whether it be composer self-update or something else that might be unique to your application.\n. I'm not very strong on my position. If Taylor wants to merge it, that's fine with me.\nIt does kind of go against the idea of Vagrant, though.\n\nOther members of your team create their development environments from the same configuration, so whether you're working on Linux, Mac OS X, or Windows, all your team members are running code in the same environment, against the same dependencies, all configured the same way. Say goodbye to \"works on my machine\" bugs. -- \"Why Vagrant?\"\n\nI still think the best way to do it would be to have a scripts section inside the Homestead.yaml. Any command in there could be fired on bootup. It might look something like this. Then people could customize it if they wanted.\n. @andyfleming Yep.\n@unisys12 I think you might be referring to composer update?\n. @andyfleming I don't think it's necessary to make that part of the config. With this implementation, both of those could be accomplished with the following:\nruby\ncommands:\n    - composer self-update\n    - su - vagrant -c 'whoami' ## run a command as `vagrant` user\n    - cd /tmp/ && touch newfile.txt ## run a command in another directory\n. @huglester Yes, this is just for during provisioning. If your machine is halted and you bring it back up, it will not run. The commands are only fired during vagrant up for new machines, or during vagrant provision for existing ones.\nYour implementation is correct, though. I just tested it on my setup and memcached does restart.\n\n. @huglester Vagrant doesn't really offer a way to do that, no. But you could do this instead:\nbash\nalias vagrantup=\"vagrant up && vagrant ssh -c 'sudo service memcached restart'\"\nJust create a bash alias vagrantup (or whatever) that brings the machine up and then automatically runs a command on it.\n. I agree with @svpernova09. The pull requests on this repo are getting too opinionated. There are too many people's personal development preferences trying to make their way in.\n. I'm good with either this or #76 as they both accomplish the same thing.\n. ",
    "dwightwatson": "I'd like to see port forwarding added as an option within Homestead.yaml. It would allow users to configure port forwarding as they like without setting too many more defaults on top of what we already have. For example, I'd also like to port forward Livereload but I doubt that will be the same for the majority of users.\n. ",
    "qw3rtman": "I'd like to see that as well. This was just a quick and easy fix. Thought it might prompt the repository contributors to implement something more elegant.\n. ",
    "sambchaffee": "+1. Wish I had checked the open PRs before forking and essentially making the same change :)\n. ",
    "khromov": ":+1:  +1\n. :+1:  +1\n. @anam-hossain You may be interested in the Rsync shared folder for faster speeds. More info here:\nhttps://www.vagrantup.com/blog/feature-preview-vagrant-1-5-rsync.html\n. +1\n. :+1: Would be great.\n. ",
    "AndersSchmidtHansen": ":+1: Would love that. And love the idea of using ~/Code instead of /Users/me/Code as @andyfleming proposes.\n. ",
    "willishq": ":thumbsup:\n. ",
    "jasonmccallister": "@andyfleming raises an excellent point. Hope to see some of these pull requests merged.\n. I have been \"bit\" by this as well. I ran a provision to add new virtual hosts and wiped a few databases that I had been working on. \nThis should be something that is taken into consideration.\n. Yeah, I think I also changed the RAM and CPU so I needed to run a provision.\n. ",
    "unisys12": "+1 on this!\n@fitztrev I will have to disagree with your first point on not being able to maintain package versions across team members. That is what your composer.json file is there for. Because your project set-up has dependencies using *'s, you might think this would be an issue. Even if you are using ~'s. But not as much as you might think. \nBased on semantic versioning best practices, version 4.1.2 should not have any breaking changes when compared to version 4.1.1 or 4.1.3 for that matter. The same \"should\" hold true for version 4.2.1 when compared to 4.1.1. Any changes in 4.2.1 should be backwards compatible with the older version, 4.1.1.\nAnd remember that if the package that you are using is properly tagged, you do not have to use tildes, wildcards or whatever when configuring your composer.json. The following is valid:\njson\n{\n    \"require\": {\n        \"laravel/envoy\": \"~1.0\",\n        \"phpunit/phpunit\": \"4.1.3\"\n    }\n}\nWhich is the global composer.json for Homestead. Notice that phpunit is being held to a strict version? Pretty good idea, no? I personally think so. But, a tilde is used in the version of envoy, which is used for the ssh portion of this program, so that any releases from the envoy project will be installed/updated upon running composer update. But, using the tilde will also limit those updates to everything below version 2. This keeps breaking changes from entering our project and guaranties us backwards compatibility with those updates to our projects dependencies, related to what we have already coded. \nIf the packages/libraries you are using within your projects are not holding themselves accountable to these best practices, then you/me/the community should help them out or at the very least submit an issue to their repo. \nAt the end of the day, I say this pull request should be merged. Even though this is a simple convenience sorta thing, that's what Vagrant is all about. Plus, it's just good practice to keep Composer up-to-date so that it can give us the power to control the packages we need.\n. @fitztrev Your right. Totally my fault.  Sorry for the distraction. \n. ",
    "andreoav": "There is an option in Homestead.rb file to set the folder type.\nIt was added with the PR #54 \nJust add type: nfs to your folder mapping in your Homestead.yml file\nIf the type parameter is not specified or you set a type that is not supported in your OS, vagrant will use the default virtual box shared folders.\n. ",
    "devoidfury": "I don't think this is a vm issue.\nBy default, node doesn't run on any ports, it requires an explicit definition of what to run as it's not a server \"out-of-the-box\", you have to call the Node core library and instantiate a server. A Node process can also run an arbitrary amount of servers on whatever ports the developer wanted, so whatever Node apps that you need to run should have a simple configuration to change the port.\n. Gulp should be easy to configure to use a different port --\ngulp-connect example:\njs\ngulp.task('connectDev', function () {\n  connect.server({\n    root: ['app', 'tmp'],\n    port: 8001,\n    livereload: true\n  });\n});\nThough homestead crashing is an issue.\n. ",
    "nicekiwi": "Well whenever I run GulpJS in Homestead I get this maddening error that I cant debug:\nevents.js:72\n        throw er; // Unhandled 'error' event\n              ^\nError: socket hang up\n    at createHangUpError (http.js:1472:15)\n    at CleartextStream.socketCloseListener (http.js:1522:23)\n    at CleartextStream.emit (events.js:117:20)\n    at tls.js:691:10\n    at process._tickCallback (node.js:419:13)\nAnd it only happens in homestead. \nHmm seems it also crashed the whole VM too. :( Homestead crashes randomly and without traceable errors. :(\n. I shouldn't have to configure another port though. Gulp works fine as is on Mac and Windows and linux native. But not in Homestead. \nAnd theres no where to get support for Homestead :(. \nI upgraded to 0.1.7 and now I cant connect to any sites on the Homestead VM without rebooting my entire computer each time, destroying the VM and starting again makes no difference. \n. ",
    "ConnorVG": ":+1: \n. The regression from this would probably piss me off, honestly.. The regression is changed behaviour that alters the environment of the VM. What do you mean \"What regression?\" \u2013 we're literally asking here to implement a change to behaviour that mutates the vm environment.\nRegression is integral to this 'issue'.. Per-project installation is very common (especially in the work places I have been in).\nThis is a regression issue as every new installation from this change on-wards would add a new aliases set to my box \u2013 which will add / change functionality based on what I'm used to.\n\nThis change will only affect users \n\nSee: \"Regression\".. ",
    "jasonagnew": "+1\n. ",
    "jrmd": "+1\n. ",
    "markgoodyear": "+1\n. ",
    "mrkfn": "+1\n. ",
    "drewhammond": "+1 \n. @taylorotwell Any plans to show this issue some love? It'd be so awesome to get this resolved\n. Weren't there issues with virtualbox + nfs on windows?\n. Duplicate of #125? \n. Ah gotcha. In that case you might want to open another PR for just the reload command\n. Oops I feel bad because I didn't see this before but this is a duplicate of #127 \n. @taylorotwell Please take another look at this.\nI just spent way too much time trying to figure out why this was happening...\nsh\n[19:40:33] drewhammond:~ $ homestead --version\nLaravel Homestead version 2.0.9\nsh\n[19:40:46] drewhammond:~ $ homestead update -vvv\n==> default: Box 'laravel/homestead' not installed, can't check for updates.\nsh\n[19:43:44] drewhammond:~ $ vagrant box list\nchef/centos-6.5-i386                                                              (vmware_desktop, 1.0.0)\nchef/ubuntu-14.04                                                                 (vmware_desktop, 1.0.0)\nhashicorp/precise32                                                               (virtualbox, 1.0.0)\nlaravel/homestead                                                                 (virtualbox, 0.2.1)\nlaravel/homestead                                                                 (virtualbox, 0.2.2)\nTurns out it was because my vagrant default provider was set to vmware_desktop. I must have hardcoded a fix for this before because I never had an issue until I updated homestead today and all the files were overwritten.\nEven if we could just hardcode --provider=virtualbox and forget about making it configurable, it would prevent this from happening in the future.\n. ",
    "joshfng": "Bump\n. Rebased with upstream.\n. This should work, and the vmware_fusion box should work just fine with it also. LGTM\n. Give me a few and I can test it on a windows box.\n. Workstation requires a different plugin/license than fusion. @zoontek any chance you could let me debug using your license for workstation? joshfng@gmail.com if so.\n. Feel free to commit a fix :)\n. Awesome. I don't really have a way to test this, and I'm not dropping another $80 for a workstation vagrant plugin. I use fusion :)\n. It should work. I'd just really like to test it first.\n. @vmadev @zoontek the current memory and cpu settings block for fusion does indeed carry over to the vm:\nvagrant@homestead:~$ free -m\n             total       used       free     shared    buffers     cached\nMem:          3952        780       3172         17         22        179\n-/+ buffers/cache:        577       3374\nSwap:          767          0        767\nI'll try the combined block. If it works, I don't see why we couldn't merge this in. @vmadev you have workstation w/ vagrant plugin and can assist in testing?\n. Confirmed that\n[\"vmware_fusion\", \"vmware_workstation\"].each do |vmware|\n      config.vm.provider vmware do |v|\n        v.vmx[\"displayName\"] = \"homestead\"\n        v.vmx[\"memsize\"] = settings[\"memory\"] ||= 2048\n        v.vmx[\"numvcpus\"] = settings[\"cpus\"] ||= 1\n        v.vmx[\"guestOS\"] = \"ubuntu-64\"\n      end\n    end\nfunctions as expected (for fusion at least). @zoontek could you please add that block to your PR and remove the standalone fusion block?\n. @zoontek I believe you can still update your repo and branch, and those changes will be reflected in this pr regardless of being closed or not.\n. Ah gotcha. Well then go ahead and create a new PR. Be sure to mention it here so all involved can move to the new one. I'm sure @taylorotwell will consider it now that it's been fully tested :+1: \n. LGTM :+1: \n. @taylorotwell I've never experienced any issues with the standard nfs setup, but I'm not an expert on the subject.\n. ",
    "mrlucmorin": "I'd like to see this happen too !\n. Disappointing.\n. @svpernova09 I have tried to create my own from this, but I gave up for lack of time. Trying to grasp all those different concepts/tools is unfortunately out of my reach at the moment. That's why I wanted to see this come true.\n. ",
    "JeffreyVdb": "+1\n. Taylor, I respect your decision to not support it. But what is the reasoning? There are tools like packer that enable you to maintain multiple providers, keeping software that's installed perfectly in sync simply by adding to a script.\nWould you be willing to give more insight on how you crafted homestead, did you do it manually, did you use packer? Would you be willing to use this if requested by someone? \n. ",
    "jfmercer": "+1\n. Taylor,\nIf someone submitted a pull request that adds full support for VMware\nFusion, would you then consider merging it?\n--jm\nOn Fri, Jan 23, 2015 at 2:50 PM, Luc Morin notifications@github.com wrote:\n\nDisappointing.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/73#issuecomment-71254068.\n. I rolled back to 2.0.7, and it worked. However, this bug really should be fixed. \n. \n",
    "mledu": "+1\n. ",
    "Youbility": "Too bad you don't want to add support for this. Is there any chance we could change your mind?\n. ",
    "huglester": "@fitztrev how would the syntax look like? should I put i in: Homestead.yml like so? http://pic.webas.lt/webas.lt-gAhWIZEO5r.png\ntried also with - sudo /etc.... - same result :(\nBecause it is not working for me. the problem I am having, the memcached daemon is not run on startup :)\nMaybe I should provision the box?\n. hello @fitztrev thanks, works :) composre updates, memcached restarts :)\nbut is there a way to run some commands on every startup? (vagrant up)\n. @taylorotwell you don't like this possibility?\n@fitztrev thanks, works a charm everything :) \n. @franzliedke this one is amazing. I was fighting those --no-bin-links stuff while running gulp etc, did not think that I should have alias this!\nthanks a million, really saves windows developers\n. ",
    "eblanshey": "I would like to have this as well.\n. ",
    "fabiomaia": "This would be great for extending Homestead beyond PHP and Laravel by running a couple of shell scripts to install more stuff.\n:+1: \n. ",
    "blazeworx": "+1 also.\n. ",
    "tougher": "Sorry, screwed this up.\n. I'm a git noob. I've fixed the author issue, but I guess I've screwed up the pull request.\n. ",
    "mmeyer2k": ":thumbsup:\n. Closing in favor of #112 \n. It would probably be better to implement this in laravel/settler because it only needs to happen once.\n. I think this would be really useful! One problem though, I was unable to get this to work until I moved the following call\nHomestead.install_cron_tabs(config, settings)\nafter the definitions block.\nOther than that, bravo! :thumbsup: \n. It may also be useful to wrap the block starting with...\nsettings[\"crontabs\"].each do |crontab|\nwith a conditional to test that crontabs have actually been set in the config. Otherwise, if no crontabs are defined, the user will get an error on startup.\n. Just tested this in Windows 7 and it works perfectly.\n. @svpernova09 What if the option was disabled by default?\n. Thanks for this! :+1: \n. I like the idea that provisioning wipes the slate clean and re-imports any databases you will need. You could specify in the yaml file databases which you wanted to skip, but that seems pretty tedious.\n. Kind of an aside, but new vhosts can be added while the VM is in operation with the following bash command: \nserve domain.app /home/vagrant/Code/path/to/public/directory\n. In that case, you would just need to run \nvagrant reload\nto reload your base configuration (or whatever the homestead reload wrapper command is).\n. PR #91 did exactly the same thing but was recently closed.\n. I submitted a similar PR (#112) recently which was closed.\n. I had to move this line to line 97, otherwise I would get undefined method exceptions.\n. ",
    "GrahamCampbell": "@tougher you seem to have either misconfigured git with an incorrect email address, or you've not let github know that's the email address used to author the commit belongs to you. If you don't fix this, you won't appear in the contributions graph, and the commit will not be linked to your github account.\n. Ping @taylorotwell.\n. This might be most readable with a switch case statement.\n. https://blackfire.io/doc/configuration\n. :+1:, or any other character, like a dash.\n. > IMHO You shouldn't use dots in database names, yes you can but you shouldn't. You should use underscores instead, it's much less confusing. \nUnderscores still need escaping don't they?\n. But you need to escape test-database for example.\n. > Ah I guess that's the default\nYep. :)\n. Please don't comment on closed pull requests with issues.\n. Not formatted correctly. Needs to been the same as the one in the framework repo.\n. :+1:\n. @svpernova09 We actually have our own ruleset for php-cs-fixer. Check out our framework repo.\n. :+1:\n. Code style.\n\nI'll make another commit if you're fine with this idea.\n\nNot up to me.\n. Only Taylor can decide if he likes this.\n. I assume because we're only interest in hosting laravel apps.\n. :-1:\n. It's very common for people to ONLY have global phpunit installs.\n. Not sure. I think it should though. Ping @taylorotwell.\n. All symfony projects for example don't include phpunit in require-dev for this reason.\n. :( HyperV comes as standard on windows 8 pro and windows 10 pro.\n. :+1:\n. ?\n. Please send two separate PRs with exactly one commit in each.\n. Auto Fixing probably just isn't turned on for this repo. It's off by default. I can turn it on if we want.. Ok, turned on now.. Update: PHP 7.3.2RC1 + xdebug 2.7.0RC1 should work properly with laravel.. Why the extra spaces?\n. elseif?\n. New line before return please.\n. And here.\n. Braces on nextline please.\n. Braces on nextline please.\n. Please remove trailing whitespace.\n. And here.\n. please remove that\n. ide ignoring should be done at the system level\n. Please put an empty line before this return statement.\n. missing newline\n. these shouldn't be aligned\n. no trailing whitespace please\n. Please use short array syntax for all new code.\n. too much indentation\n. same\n. These changes are NOT PSR-2.\n. These changes are NOT PSR-2.\n. You MUST keep all the return void phpdoc.\n. You probably ran it with the symfony level by mistake.\n. Passing any parameters to php-cs-fixer makes it avoid using the config file. Don't pass src.\n. cs\n. bool\n. bool\n. must be protected unless you make the class final\n. must be protected unless you make the class final\n. cs\n. cs\n. You need a fullstop.\n. cs\n. don't include todo comments please in the code\n. again\n. cs\n. just return;, also, you need a newline before this statement\n. no\n. order these by length\n. Please revert all changes to the lock file.\n. ?\n. I don't think this change is right?\n. ",
    "danwall": "It would be great to see this merged into master\n. ",
    "mikebronner": "@mmeyer2k absolutely right ... i'll make the change.\n. Hehe, glad to help! :) Thanks for the quick fix :). ",
    "artisaninweb": "+1\n. ",
    "cnxh": "@taylorotwell the opcache is enabled by default,  should it be disabled in homestead since homestead is a develop enviroment?\n. ",
    "appleboy": "@svpernova09 agree.\n. ",
    "ghost": "You can add a check like this: if Vagrant.has_plugin?(\"vagrant-hostsupdater\") so that Homestead can still be used without this plugin.\n. This is a well-needed change.\n. Thanks.\nI got it working by moving stuff around, getting new files and updating with composer on the VB. I have exactly the same issue :(. Unfortunately I don't know what versions I had before I did update Vagrant and VirtualBox ,@svenluijten.\nI downgraded VirtualBox to 5.1.14 as @josh-taylor recommended and that nasty issue gone !!!. @oltreseba Do you mean 5.1.25? I do not see 5.1.15.\nEdit: I am going to go ahead and try 5.1.25, and post results here. . All is working in 5.1.25, let's hope they put out the patch soon. Might as well leave this open until it is out so other users can find it easily?. I've downgraded Vagrant to 2.0.3. Same results, Remote connection disconnect. Retrying... over and over. . I did vagrant reload --provision after updating YAML file. I am seeing the same result.\nOne interesting note is that it says, \"Guest communication could not be established! This is usually SSH is not running...\", when restarting.\nOther steps I have taken were to open port 2222 on my Windows Firewall. I also tried updating the Vagrant file to use usename/password.\n. No luck on gitbash :(\nhomestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7: Warning: Connection reset. Retrying...\n    homestead-7: Warning: Connection aborted. Retrying...\n    homestead-7: Warning: Connection reset. Retrying...\n    homestead-7: Warning: Remote connection disconnect. Retrying...\n    homestead-7: Warning: Connection reset. Retrying...\n    homestead-7: Warning: Connection aborted. Retrying...\n    homestead-7: Warning: Remote connection disconnect. Retrying...\n    homestead-7: Warning: Remote connection disconnect. Retrying.... I have tried Powershell, cmd, and git-bash but no luck on any. I have been doing vagrant destroy and vagrant up to test.. I get this for Windows 10.. ",
    "LeShadow": "@enrichit \nYou mean that it would need to be an option in the homestead.yaml file?\n@splenetic this check has been added now.\n. Also this plugin supports:\nWindows, Linux, Mac OS X afaik.\n. I added the option to the settings file as requested.\nNow people can choose if they want to add the hostnames to the hosts file.\n. @taylorotwell any chance that this gets implemented?\n. @svpernova09 Well, I understand that you can manually add the domain mapping for yourapp.dev yourIP to your hosts file. But this little piece of code does that automatically.\nI do agree that being dependent on external plugins isn't always a good practice, in this case it's a small plugin that can be used for much more projects besides Homestead if the user were to experiment with Vagrant themselves.\nYou can categorize this as a personalization, and disable it on default per your own personal liking. \n@fitztrev \nThis isn't a piece of code written out of my own experience, it's something I thought would be usable for people who couldn't be bothered with editing their hosts file every single time you boot up your Homestead or Vagrant.\n. Done.\nActually did that 24 hours ago already but forgot to push to github :)\n. ",
    "virgafox": "This is beautiful \n. so this works out of the box without need to edit /etc/hosts or to install DNSmasq on the host machine??? It is beautiful!\n. ",
    "Edgpaez": ":+1: awesome\n. ",
    "montogeek": "+1\n. +1\n. ",
    "imranismail": "Thanks for this, makes my life much easier.\n. ",
    "pariz": "Why wasn't this accepted?\n. ",
    "franzliedke": "Here are some links:\n- https://www.npmjs.org/doc/cli/npm-install.html\n- http://stackoverflow.com/questions/21648068/error-installing-bower-via-npm-on-vagrant-under-windows\n- http://askubuntu.com/questions/269727/npm-errors-when-installing-packages-on-windows-share\n- http://kb.imakewebsites.ca/2013/08/27/npm-vagrant-linux-on-windows-no-bin-links/\n- http://blog.igeek.info/2013/of-stupid-npm-symlinks-on-guest-os-in-virtualbox/\nThis is not a customization that I do just because I like it, it's a real fix for Windows developers. See above.\nWill you reconsider, @taylorotwell ?\n. P.S.: Maybe @fideloper can explain whether the other options used in Vaprobash are also useful to add here?\n. ",
    "miagg": "You are right. Not everyone will find useful those changes. That along with the fact that it only works on OSX is why I'm going to close it and keep it only as a personal fork.\n. ",
    "dmyers": "@taylorotwell Please reconsider this. It is really useful when you have custom services like ElasticSearch running or if you want to use port 80 instead of 8000 for the web server.\n@svpernova09 Really? The general audience... is developers. You realize we like to customize and change default settings right? Just because you can't think of something does not mean it's not a) a good idea, or b) someone else won't. Just look at #80 and you will see someone thought of something Taylor and you did not.\n. ",
    "rap2hpoutre": "It would be great !\n. ",
    "Einkoro": "I did something very similar a few weeks ago with MySQL and Postgres and checking if they exist before creation:\n# Create Databases\n    settings[\"databases\"].each do |database|\n      config.vm.provision \"shell\" do |s|\n        s.privileged = false\n        if (database[\"type\"] == \"mysql\")\n          s.inline = \"mysql --user=\\\"root\\\" --password=\\\"secret\\\" -e \\\"CREATE DATABASE IF NOT EXISTS $1;\\\"\"\n        elsif (database[\"type\"] == \"postgresql\")\n          s.inline = \"if ! sudo -u postgres psql -lqt | cut -d \\\\| -f 1 | grep -w $1; then sudo -u postgres /usr/bin/createdb --echo --owner=homestead $1; fi\"\n        end\n        s.args = [database[\"name\"]]\n      end\n    end\nConfig:\ndatabases:\n    - name: homestead\n      type: mysql\n    - name: homestead\n      type: postgresql\nhttps://github.com/BitPiston/homestead/commit/bcba0c3912540569ea9ffa25eec068055bdcdb52\nhttps://github.com/BitPiston/homestead/commit/7c148187a5dac965a3169efbe98d8ea21e6c1083\n. ",
    "nickroberts": "Yes. Having a type makes sense. @Einkoro I like the way you implemented it.\nI guess I need to spend some time cleaning this up and adding correct documentation!\nNow to just find the time...\nI'm up for more suggestions! Good discussion!\n. That keeps everything separated. Nice idea.\nI just like to use the same Homestead box for several different applications our teams work on, and there wasn\u2019t a good way to create new databases.\nI keep having an issue with reconnecting (timing out) after a vagrant halt. So that\u2019s one main reason why I wanted to do something like this.\n\nOn Nov 14, 2014, at 5:08 PM, Taylor Otwell notifications@github.com wrote:\nI might do something like:\ndatabases:\n     mysql:\n          - foo\n          - bar\n     postgres:\n          - foo\n          - bar\n\u2014\nReply to this email directly or view it on GitHub https://github.com/laravel/homestead/pull/99#issuecomment-63136994.\n. Awesome! I see we just create a Postgres and MySQL dub for each listing.\n\nWorks great!\nThanks!\nSide note: excited for L5!\n. ",
    "martinssipenko": "You can achieve same result by setting your browser proxy to your Homestead webserver. Chrome has an extension called SwitchySharp that can set proxies depending on hostname you use.\nAnother option would be to serve a pac file, bat that would require something to add hosts to it on serve command.\n. There is another issue with Homestad 2.0 on Windows - if I don't have PHP runtime on my box I'm unable to start homestead vm, because homestad init is required to copy *.yml files\n. IMHO, homestead essentially is a Vagrant \"image\" that allows you to run your PHP in production like environment, so I don't see a reason why should I have php on both windows and unix.\n. +1\n. Ok, will do.\nHowever, I agree with set -x, that it would dump a lot of output.\nBut having script to continue if one of it's commands fails is useless. I've personally had times when installing mariadb fails, and then i need to destroy and try again. without set -e moving touch is useless, because it would be executed even if above commands fail.. Ok, I'll try it out.. @svpernova09 I tested the install-maria.sh script from this pull request with inserting /bin/false right before installing mariadb (around line 25), and the output of running vagrant up was..\n...\n==> homestead-7: Reading package lists...\n==> homestead-7: Building dependency tree...\n==> homestead-7: Reading state information...\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nCan you give an example to hashes you were mentioning above?\nOtherwise, I think that the pull request in the current state would attempt to install maria/mongo if it failed.. Possibly, I find it helpful when I can see which command exactly failed, if something fails. But happy to remove it if others think it's too verbose.. ",
    "coltrane": "@taylorotwell This is actually a fairly simple addition, with limited changes to the existing code.  The port maps are still there, so folks who prefer that approach could still use it.  \nThe benefit of this patch is that it allows users to add a site, and then immediately access that site directly from the host machine using a real domain name, without requiring any changes on the host machine itself.  It's especially useful in multi-developer setups, because a new developer can simply run vagrant up, and start working against the same setup other developers are using.  All the other solutions involve making changes on the host machine -- editing /etc/hosts, changing proxy settings, or installing plugins.  For developers who work on multiple projects using various technologies, and who may also have multiple different vagrant boxes, having to change things on the host machine quickly becomes difficult to manage.  This solves all that.\n. ",
    "mendrinos": ":thumbsup:\n. :thumbsup:\n. ",
    "IsraelOrtuno": ":thumbsup:\n. This is already included, however not documented anywhere, found it when ran homestead help up\nhomestead up --provision\n. ",
    "davecarlson": "Confirmed this vastly improves responsiveness! \n. ",
    "tyler43636": "I've been testing this and it now works to add new sites and databases from Homestead.yaml when running 'homestead provision\"\n. ",
    "jeroennoten": "+1\nRight now the docs are very unclear on how to provision. It says run vagrant provision, but nowhere is stated that this must be run form the ~/.composer/vendor/laravel/homestead. This PR solves this problem (but the docs should also be updated).\nAlso thanks for the bugfix about the PostgreSQL database provisioning. (However, it may be better if this was a seperate pull request.)\n. Oh well.. I now see that 5 hours ago a --provision option is added to the homestead up command: https://github.com/laravel/homestead/pull/108\nThat will also solves issues about provisioning, however the docs still need an update.\nAnd the database provision bug also still exists, but there exists already a separate pull request: https://github.com/laravel/homestead/pull/106\n. ",
    "ChuckHeintzelman": "Should have checked existing pull requests before creating this, removing.\n. ",
    "mul14": "Homestead written in PHP. Of course you need PHP runtime.\n. Duplicate #113 #111 \n. That's just \"deprecated warning\". You can turn it off.. ",
    "etelford": "I think the ReloadCommand class should have:\nuse Symfony\\Component\\Console\\Input\\InputOption;\n. Although I see that the up command now supports an undocumented --provision option.\n. ",
    "hailwood": "I vote for this to be merged as well since currently homestead edit fails to run as open is not a valid command on Ubuntu derivatives.\n. The issue with xdg-open is that by default it's going to open gedit,\nalthough I just noticed that this pull request doesn't work - it throws a sigterm\n. Probably an ubuntu derivative bug - But yeah you can set it to whatever editor you want, but I don't yaml files I open with say the default file browser to open up a terminal, likewise if I am in a terminal then I don't expect it to open a gui app\n. Could always double check - if open isn't available check if $EDITOR is set, if that's not set then use xdg-open.\n. ",
    "PatrickRose": "I like #122 as well - it's possibly preferable to this one since this involves more work from the user. \n. Seemed to be working for me on ArchLinux.\nDelegating to xdg-open is probably best though - you can set the default to whichever editor you want to (I think?)\n. The decision ultimately falls to @taylorotwell but since homestead is meant to be low barrier to entry I think defaulting to the \"equivalent\" of open is sufficient. Requiring an $EDITOR variable is potentially a large barrier.\n. :+1: \n. ",
    "thattomperson": "also an override would be cool e.g.\nhomestead edit [-e|--editor subl] etc\n. this just adds support for having all configuration inside of the project to help people who work in teams\nthere seem to be people who want this and there are forks of homestead to achieve this\njust though some people would beneficent if some of these changes were made upstream\nif you consider a feature like this I would work on cs to get it a lot cleaner\n. ",
    "dakira": "@hailwood xdg-open will open a text file with the editor that is associated with text files. In my case that's sublime text.\n. I came here to submit pretty much the same pull request, wondering why this one hasn't been accepted.\n. That works, thanks! It's still a bug, though, so no reason to close the issue. I do have a pull request if you want it. ;). I totally understand. Ondrej's repos are being used a lot on production servers which is why he stopped \"supporting\" EOL PHP versions.\nIn development envrionments it's something completely different IMO. You sometimes need EOL PHP - if only for a minute - to upgrade something to support never PHP versions.\nI think the route with the script wouldn't be as intrusive as adding a manially compiled PHP to the container. If people really want PHP 5.2 in their box they can run enable_eol_php.sh 5.2, wait 10 minutes and use it as they would with 5.6 or 7.0. We could probably even get the build scripts from Ondrej to get the same setup as with the offically supported versions.. @svpernova09 oh.. and I forgot.. I would do the work, of course. ;-) I was just testing the water if a PR would be accepted.. >  It's the ongoing support I'd have to do for it.\nHonestly.. as those PHP versions are EOL.. there is no support. ;) Of course a script would have to be changed in case Ondrej changes up his PHP PPA forcing all PHP stuff in Homestead to change. Anyhow.. I'll go the script route and see what I can whip up.. ",
    "Sequoia": ":+1: c'mon maintainers...\u00a0throw linux users a bone here ;)\n. with @andrewhood125's PR, this prefers $EDITOR & supports linux without it as well.\n. ay i'll try to fix up these merge conflicts gimme a min...\n. @PatrickRose played around with this fixing up your PR for merge, but there are problems with Vim...\nVim: Warning: Output is not to a terminal\nVim: Warning: Input is not from a terminal\n[terminal mayhem]\nsee fix here: http://stackoverflow.com/a/1690319\nBut I'm not sure how to make it work with EDITOR=vim and with EDITOR=something_else, inside symfony/Process, and adding a special case for vim seems like A Bad Idea. For me (ubuntu user) I reckon xdg is \"Good Enough.\"  Also fwiw gvim works fine.\n. :+1: came to write just this.\n. confirming does not work in ubuntu:\n\n. oops! you already merged. :smile: Thanks!! :+1: :+1: \n. ",
    "andrewhood125": "For OSX users who don't have a file type association with yml using open throws an error. If you are running this command you are already in a terminal. I'd like to see this responsibility removed from Homestead and just use $EDITOR. See #121 \n. Well the component that is actually accessing $_ENV['HOME'] is in Symfony\\Component\\Process\\Process and you pass in an array of ENV Vars which right now is just $_ENV.\n. @kentliau This fix worked for you, or you are not encountering the problem with homestead?\n. No problem @alextyrey thanks for checking in. What OS are you running?\n. Yeah I saw that @jasonlfunk. I hope that is not the solution we go with however. We're forcing users to edit their default php.ini to get Homestead running. Yuck. \n. :+1: Good stuff. \n. I think this would be covered by #73 \n. Hey @andre-sa, you might want to do a git reset --soft back to \nwhen you added the ProvisionCommand. Then you can remove .idea from the .gitignore and redo your original commit so the contents of your .idea directory are not included in Homesteads history. Don't forget to system wide ignore .idea!\n. Hmm. Is there something you're trying to do that can't be done with migrations or seeders?\n. According to man cp you can use the no clobber option to not overwrite an existing file. It might be a slightly cleaner solution. \ncp --no-clobber src/stubs/Homestead.yaml ~/.homestead/Homestead.yaml\nWhile we're at it, how about after.sh  or aliases?\nEdit: Update link to man that actually has no clobber.\n. @martinlindhe :+1: \n. @martinlindhe when would these files be overwritten through normal usage? Just checked this out to test it and noticed https://github.com/laravel/homestead/blob/master/src/InitCommand.php#L32 which checks if you have done a php homestead init already. \nMaybe it would be a good idea to allow the user to proceed but warn them that it's been initialized if new stubs are upstream. What do you think?\n. @zgosalvez could be wrong but I think @karanits might be talking about bash /vagrant/scripts/serve.sh not ./artisan serve\n. #142 :8ball: \n. @deringer no worries. I think the consensus is you should assume everything will be returned to the starting point when you provision. However we all get in situations from time to time where we have manually entered that sucks to lose. \nI think having --preserve-databases flag would be a good compromise, that would retain the default behavior but I'll defer to others thoughts. \n. I think this is more appropriate for https://github.com/laravel/settler\n. :100: \n. I personally just use ./artisan.\n Different people are going to have different ways of aliasing. This is easily done in after.sh \nafter.sh\nbash\necho 'alias art=\"php artisan\"' >> ~/.bashrc\necho 'alias migrate=\"php artisan migrate\"' >> ~/.bashrc\n. You could do...\nbash\nlisten ${3:-80};\nShould simplify things a bit. \nhttp://tldp.org/LDP/abs/html/parameter-substitution.html\n. YAML\nports:\n  mysql: \n    from: 3600\n    to: 36000\n  nginx:\n    from: 8000\n    to: 80\n...\nMaybe?\n. Then you could check if mysql exists and if not then use the default? \n. Wait nvm, I didn't read very carefully. \nIf we are going to do port forward in general and not tie it to particular services. We could just check to see if any of them map to the known default listening port for homestead. If there is mapping provided use if not use the default. \nExample:\nYAML\nports:\n  from: 3600\n    - 35999\nThen we see they are overriding the default for mysql and we use the provided 35999, but they don't override nginx and so you'd roll with the default.\nThoughts?\n. @taylorotwell @GrahamCampbell I know you're busy but any Homestead love <3?\n. I disagree with adding default_ports. I feel like it's an unnecessary complication. You're still going to be adding complexity to the code checking to see if default_ports: true or false. Yet the configuration is less intuitive. \nUse case: A user wants to change just MySQL port forwarding from 3306 => 33060 to 3306 => 3307. \nWith default_ports your Homestead.yaml would look like this: \nYAML\ndefault_ports: false\nports:\n  - map: 3306\n    to: 3307\n  - map: 80\n    to: 8000\n  - map: 5432\n    to: 54320\n  - map: 443\n    to: 4430\nWith this PR it would be:\nYAML\nports:\n  - map: 3306\n    to: 3307\nIf you want custom ports and just to change just MySQL, then you would need to manually add all the default port forwarding. \n. Good catch. Thanks.\n. Perhaps you're looking for this? https://help.github.com/articles/syncing-a-fork/\n. :+1: \n. Partially addressed already: c651b5980a8a4db406fda2c2a14eac9429e1269a\n. D'oh, split diff made it hard to see. I was worried that preg_replace was getting repeated. Nothing to see here. Carry on.\n. :+1: for extensibility. Having the equivalent of after.sh would be great. \n. Well I think all Homestead has to do is accept and read from a JSON file. By converting YAML to JSON you don't have to maintain two stubs. It would be minimal overhead. We could even make it look for a Homestead.yaml file first and fallback to a JSON if that's not found and that would be a very minimal change. \n. #230 is an example.\n. @taylorotwell Updated to use tabs. \n. Either way, but the talk has been about reducing overhead. \n. The Vagrant docs are ELI5 and not much help either: http://docs.vagrantup.com/v2/networking/forwarded_ports.html\n. Thanks @GrahamCampbell. Updated. \n. If this is something you'd like to see, I can clean it up. What say you?\n. @taylorotwell ^\n. This feature is hot of the press.  I imagine these things and other recent additions will be documented in due time. \n. yaml\nports: \n  - send: 80\n    to: null\nWould keep the config nice and clean, if not the most intuitive in the world.\nThen when setting the default ports we could verify the to is an integer. Which would be good to have anyways, if it's not then skip.\nYou could use null, disabled, inf whatever floats your boat.\n. Yeah I hear you @simensen. \nyaml\nports:\n  - disabled: 80\nWould be another alternative.\nCould cycle through ports any disabled, check if port exists in default_ports then pop them both.\nOr remove the default ports from homestead.rb and have the Homestead.yaml populated with the default ports then you could just remove them. Backwards compatibility is a bitch.\n. :+1: \n. @ShaunaGordon I imagine they don't have cli access on this machine.\n@piotr-cz All issues for homestead should be filed on the laravel/framework. Use this as an example: https://github.com/laravel/framework/issues/14815\n. Seems a better fit for settler. \n. https://github.com/laravel/homestead/pull/91\n. I generally try to avoid the situation where you have an after.sh.example commited and need to copy to after.sh on checkout. If you have bc incompatible changes it can become a mess, are people overwriting after.sh every time there is a change?\nAlso I would err on the side of less ignores and letting people handle untracked files rather than hiding something they potentially meant to commit. \n. :+1: but this is going to be a backwards incompatible change. \n. So after.sh gets run only on vagrant provision or initial vagrant up and this would get run aftervagrant up only? I'd rather rename after.sh => provision.sh and then add a up.sh. \n. @marabesi when did you first notice this issue? I have a hunch it's based off of when the vm was built https://github.com/laravel/settler that is. If that' the case and you wanted to stick with the 0.3.x series of settler. It would require at the very minimum of a new release of that series. Which is very unlikely to happen since the latest is 0.6.1. Settler would be the right place to set a password that doesn't expire. Are you unable to upgrade to the lastest? I'll try and recreate this. I wonder if the bug still exists with the most up-to-date vm boxes they just haven't hit the default password expiry. I've read that it's 6 months somewhere but I've seen conflicting information.\n\nhttps://atlas.hashicorp.com/laravel/boxes/homestead\nhttps://github.com/laravel/settler\nhttps://dev.mysql.com/doc/refman/5.7/en/password-expiration-policy.html. @w0rd-driven thanks for the research here. MySQL 5.7.10 relaxed the default_password_lifetime setting back to 0 from 360.\n\nSo it sounds like we need an answer here if Homestead is going to support PHP 5.6 and for how long we will do that. @taylorotwell, @svpernova09  ?. So if someone took 0.3.3 and: \n\"default_password_lifetime = 0\" >> /etc/mysql/my.cnf\nmysql --connect-expired-password -e \"SET PASSWORD = PASSWORD('secret');\";\nor something close to that. \nRepackaged it as 0.3.4 it would fix the problem right?\n@svpernova09 seems totally fair. So that would put this in the \"needs to be fixed\" bucket. Can we reopen?. Does this do something different than after.sh?\nhttps://github.com/laravel/homestead/blob/master/Vagrantfile#L32-L34. Yep, I'm with you. One sec. . I also ### -> ## You get the hr which I think helps keep it organized. Squashed. (You can also squash and merge from GitHub interface). . Homestead just like any other piece of software ( stop relating it to virtual machines for a moment ) has certain dependencies to run. \n  - Sass requires ruby >=1.8.7 https://rubygems.org/gems/sass. \n  - Deluge Client requires any of these versions of Python 2.6, 2.7, 3.3, 3.4 https://pypi.python.org/pypi/deluge-client/1.0.2. \nIt's not a problem specific to php, or packagist. Such is the nature of software that isn't prepackaged in an installer.exe\nHomestead just happens to be a tool to build virtual machines for various php projects. It's a piece of software and requires \"php\": \">=5.5.9\" https://github.com/laravel/homestead/blob/master/composer.json#L5 Why does it require that version? Idk. A good place to start looking would be the backwards incompatible changes between 5.5.9 and 5.3. \nI would suggest installing the required version of php. If you tell us a little bit about your setup, we might be able to help. I don't understand the latter part of your question, but I can say it does sound like yak shaving. \n. Very much against this. It's not the responsibility of homestead to handle \\r\\n => \\n conversion. What if they edit after.sh or any other file that we have or may have in the future. We'll have to do a awk '{ sub(\\\"\\r$\\\", \\\"\\\"); print }' for each one. \nPossible alternatives:\n  - What if the edit the file from the vm? Add a warning to the top of both files. # Don't edit on your windows box. \n\n\nGit can detect windows line endings and convert. \n\n\nCheck all homestead files once somewhere in our code and look for \\r\\n grep? Warn the user to handle it. \n\n\n. If that's really an issue maybe we can add some documentation surrounding building your own box from settler. All you really need at that point is the base box.\nEdit: spelling.\n. .bat \ud83e\udd22 . Maybe it's time we fork homestead into homestead-win... PsySh is like dropping in binding.pry into your rails app. It gives you a full repl. TBH I haven't given a Xdebug a lot of use. I'll explore that. \nStill would be curious how anyone is using PsySh in Homestead if they are. . Opinionated comment, but awesome work. I'm just glad we may have some coverage. . I'm totally in favor of the heredocs, WDYT about propagating this change to the other big \"\" blocks too? \n. WDYT about dropping the json stub and running Homestead.yaml through yaml2json and using that? I'm happy to take this. . https://github.com/laravel/homestead/issues/486. Can we add something in the usage for this feature?. I had to look up ${@:2}. I was thinking something along the lines of:\nfunction share() {\n    if [[ \"$1\" ]]\n    then\n        ngrok http ${@:2} -host-header=\"$1\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  share domain \"\n        echo \"Invocation with extra params passed directly to ngrok\" \n        echo \"  share domain -region=eu -subdomain=test1234\"\n    fi\n}\nIs that how it would be used @vblinden?. That would be my 2 cents. Because it wasn't immediately obvious to me what the ${@:2} did but I'll defer to others. . What version box are you using? I remember some PRs about this vaguely. I think it was fixed in laravel/settler. searches Specifically here: https://github.com/laravel/settler/pull/60 \nUpdating your box and re-provisioning should fix the issue. I think there was some discussion about adding what your PR does but was decided against because it was an edge case. . I actually lean towards dealing with this at the application level. I think it's reasonable to have Homestead be the latest stable version with a relatively standard configuration. \nhttps://laravel-news.com/laravel-5-4-key-too-long-error. Of course after.sh is always an option for folks. . @joaoeduardo do you mind opening a new ticket and adding what you've tried in detail? Your sublime/netbeans xdebug setup? Browser extension? Expected behavior vs actual behavior. That'll help us help you. . @katopenzz ha! Close, but no cigar. Please go back to one of your issues (https://github.com/laravel/homestead/issues/642, or this one) and follow the instructions provided inside. Without this information it will be impossible for us to help you diagnose and identify any potential issues in Homestead. Thanks!. D\u00e9j\u00e0 vu https://github.com/laravel/homestead/pull/613. Those are probably going to be the best future proof options. I really liked using .dev :( and I probably still will until something forces me to change. Whatever we do I'd like to see us be flexible. A configuration option may be a good thing here. . I'd like to stick to just one but I'm not the maintainer. I've attempted to standardize homestead.rb to just host and guest. \nSee Homestead docs. \n. I'm not sure I understand. Can you elaborate? \n. One sec. \n. Like this Set vagrant dotfile path?\n. Ah gotcha. Updated.\n. https://github.com/laravel/docs\n. This should happen in https://github.com/laravel/settler/\n. I'm curious what the file permissions for this is after creating it this way. \ud83e\udd14 Any issues with mysql reading it?. Would love if these were documented. I think all but the most hardcore scripters remember all the flags. . I'm in favor of leaving off -x. \n. Yeah it's great for debugging, but to the precedent set in other places in homestead is not to output unless there's a failure. . If we're naming this can we use the opportunity to give it a more descriptive name?. It might be worth while to make a TestCase class, for every command we can count on having \n```\n$tester = new CommandTester(...);\n$tester->execute([], []);\n$this->assertEquals(0, $tester->getStatusCode());\n```. It's totally subjective but I'd prefer using annotations, especially in the case where we are mixing tests with non test functions. \n```\npublic function setup()\npublic function teardown()\n/* @test /\npublic function make_command_is_instantiated_correctly\n/* @test /\npublic function make_command_executes_successfully\n``. Ah yeah you're right. I forget they all got removed. . This is taking DRY to the super extreme. Fascinating approach but would strongly advise against it. . How bout[ \"$1\" == \"--json\" ]?. As someone not familiar with this whole conversation inspecting the code though, its easier to get context. Oh I pass in--json` and get a json stub. It's minor, but anything we can do to make the code easier to understand. . ",
    "lagseeing": "Just adding the command is not enough, you have to edit the main Homestead file and add it there too or it wont be recognized \n. I use the re-provision command a lot when switching from vanilla php to HHVM, because halting and running the VM again doesnt do it\n. ",
    "martinbean": "@lagseeing So it does. Sorry about that; it\u2019s been added now.\n. @IsraelOrtuno That doesn\u2019t work if the VM is already running though, which is why Vagrant has a separate, explicit command I guess.\nA use case is: if I add a site or a new database name to my Homestead.yaml manifest, I need to re-provision the VM for the host/database to be created.\n. @taylorotwell Fair enough. Understandable! :smile: \n@svpernova09 Already aware, thanks. I just find myself adding the same aliases for each project, so thought I\u2019d try and get them merged.\n. ",
    "felixkiss": ":+1: for merge\n. ",
    "williamcolbert": ":+1:  !!! Just ran into this issue and something told me to check the pull requests.\n. ",
    "maddhatter": "Reloading without the --provision parameter just reboots the machine, which there isn't really a way of doing other than homestead halt && homestead up\n. ",
    "clementblanco": "@taylorotwell not interesting? It might be based on v1.x or v2.0 though.\n. ",
    "lucasvscn": "I really needed that.. Hope @taylorotwell accept this soon ;)\n. ",
    "jasonlfunk": "+1\n. This solved it for me.\nhttp://stackoverflow.com/a/27359426/1128407\n. Fair point @andrewhood125. Just thought I'd mention it. I stumbled across this pull request shortly after fixing it with the other method.\n. ",
    "xfyuan": "I also need this feature. +1\n. ",
    "sitesense": "Sorry, this is untested. Unfamiliar with git and thought this was a request to my own fork doh :)\nLogic being '~/.homestead/.vagrant' isn't going to cut it on windows from standard command line (cmd), but you already have a function to find the windows home path right here in the same file - homestead_path()\nEdit: read comments here for further info:\nhttps://github.com/laravel/homestead/commit/167135bbac3966be7ac05446c7da0d8bee50c34e#commitcomment-8837616\n. I can't see why that line in the script seems to fail, it works if you paste it into the terminal.\nprintf \"\\nPATH=\\\"$(sudo su - vagrant -c 'composer config -g home 2>/dev/null')/vendor/bin:\\$PATH\\\"\\n\" | tee -a /home/vagrant/.profile\nThe path does get appended to .profile but is missing the part of the path that the script tries to dynamically create - /home/vagrant/.composer.\nOf course we should find out why that is failing, but I don't see why we can't just hard code that path anyway. It's hard-coded elsewhere in homestead.rb for example, so dynamically creating it serves no purpose.. ",
    "isimmons": "Tested on Windows 7 pro 32bit and all commands are working for me with these changes.\n. ",
    "Fed03": "up @taylorotwell :sunglasses: \n. ",
    "radum": "I'm on Win7 x64 and this works perfectly. So ping @taylorotwell :grinning: \n. ",
    "matteoantoci": "+1\n. +1\n. Nice!\n. +1\n. ",
    "techdaddies-kevin": "Great! I'm running Ubuntu and open is an alias to openvt by default in Ubuntu. This is the case across many linux distros. Not sure why this wouldn't be merged as it fixes the issue without negatively impacting any other use cases.\n. ",
    "Craytor": "drewhammond Kind of, but there is more... I added another one.\n. Hahah... Darnit! It's okay... It's fairly simple to do anyways.\n. ",
    "hackel": "Just ran into this issue myself.  Wouldn't a better fix be to just change all references to $_ENV['HOME'] to getenv('HOME')?  By default, Ubuntu sets variables_order = \"GPCS\" in php.ini, as is the recommended configuration for production sites, so I would suspect this might come up frequently.\n. ",
    "kentliau": "this fix work for me.\nI am on OS X 10.10.1 and 10.9.5\n. @andrewhood125 sorry for not clarify, I mean your fix work for me on OS X 10.9.5 and 10.10.1. \nI was getting the same error you mentioned when upgraded to homestead 2.0.8\n. ",
    "a7y": ":+1: I was experiencing the same issue but this patch fixed it. Thank you @andrewhood125!\n. Arch Linux.\n. ",
    "Jono20201": "Does anyone know why this has not yet been pushed? Seems insane to leave this issue for so long.\n. ",
    "devqin": "@jasonlfunk is right.\nfix it by http://stackoverflow.com/a/27359426/1128407\nvariables_order the default value is EGPCS but in my php.ini is GPCS it's Weird.\n\n. ",
    "jasonlewis": "Yeah I ran into this when trying to show custom 404 pages as well. Was scratching my head for a while. Can confirm that removing this allows custom 404 pages to show.\n:+1:\n. ",
    "mabasic": "+1\n. ",
    "gil0mendes": "This problem hides the true exception and developers lose their heads with stupid things like MethodNotAllowedHttpException :D\n. ",
    "metalmatze": "Ran into this aswell. Hopefully this gets fixed as soon as possible.\n. ",
    "lstables": "+1\n. ",
    "furey-imagination": "Ran into this problem today. Thanks for the fix. Hope @taylorotwell accepts it.\n. :metal:\n. ",
    "michellaurent": "Thanks Taylor !\n. ",
    "lancedikson": "fixed\n. knock knock :)\n. ",
    "haampie": "The client is a CLI tool for triggering the profiler and is useful for API apps in which you cannot use the Chrome extension to profile certain requests. See https://blackfire.io/doc/web-services for reference.\nHowever, I agree it should not be added to Vagrant after all, since you should use it on the client side ;)\n. ",
    "vicdelfant": "Thanks for the feedback. meetfinch.com looks nice but isn't our preferred solution since it requires a separate subscription (for static hostnames at least).\nI've submitted a second PR (#182) with a far better integration, if you'd like to reconsider. Adding additional sites for sharing is no longer required and homestead share now also works with dynamic hostnames generated by Atlas.\n. No prob, decision is up to you of course.\n. Before the then you mean? Added it in 0dedb02\n. ",
    "mvpasarel": "This will work with bash as well. \n. ",
    "bbashy": "Either way Taylor, it's best to make the code run properly on more shells.\n. Yes but why keep it like that? It's not an error that explains what's wrong.\nI see a lot of questions regarding this and with this change it will allow them to realise the path is wrong?\n. #199 is exactly the same issue. Shouldn't be ignored.\n. Forge is even prone to this exploit, fun!\n. ",
    "andre-sa": "I believe i've done it now. Thank you for your help @GrahamCampbell and @andrewhood125.\n. ",
    "milesj": "You misspelled provision, provisiom.\n. ",
    "jpwiersma": "Understood that it's just for Virtualbox, but if you have VMWare Fusion provider installed with Vagrant, that becomes the default and Homestead doesn't work anymore. This commit makes sure that the Virtualbox provider is chosen by default.\n. ",
    "huntwj": "The issue here, however, is that if I have another provider installed alongside virtual box, I cannot use homestead without hacking the homestead source code to specify virtual box as my provider. If you only want to support virtual box, fine, but don't make it impossible to pass other vagrant options to the command line. homestead up should pass along any extra parameters to the vagrant up command.\nJust my $0.02.\n. ",
    "ammonkc": "I realize that migrations and seeders are fine for most cases. But occasionally I'll need to debug an existing database in a dev vm. it may not be a common enough use case to merge it into the project. Thought I would throw it out there just in case.\n. Yeah, you're right. It is very much an edge case to need this anyway.\n. ",
    "martinlindhe": "@andrewhood125 i don't mind using that instead. but how portable is it. i learned more than once that the system tools differ (gnu vs bsd ones) in command line switches. the If uses bash logic and should work across all OS:es which support bash (as required by line 1 in the script)\nfor example; on OSX:\ncp --no-clobber src dst\ncp: illegal option -- -\nI'll update the patch to not overwrite the others as well.\n. PS, it seems the \"cp -i\" could work?\nBSD cp:\n-i    Cause cp to write a prompt to the standard error output before copying\n       a file that would overwrite an existing file.  If the response from\n       the standard input begins with the character `y' or `Y', the file copy\n       is attempted.  (The -i option overrides any previous -n option.)\nGNU cp:\n-i, --interactive\n          prompt before overwrite (overrides a previous -n option)\n. I went ahead and cleaned that up, now it runs like;\n```\n\nbash init.sh\noverwrite /Users/ml/.homestead/Homestead.yaml? (y/n [n]) n\nnot overwritten\noverwrite /Users/ml/.homestead/after.sh? (y/n [n]) n\nnot overwritten\noverwrite /Users/ml/.homestead/aliases? (y/n [n]) n\nnot overwritten\nHomestead initialized!\n```\n\nI'm happy! You happy?\n/m\n. For me, i quickly skimmed the http://laravel.com/docs/master/homestead\nunder \"Manually Via Git (No Local PHP)\" (after realizing the homestead php util dont mix well with 'vagrant share'), and ran the suggested \"bash init.sh\", thus managing to nuke my already configured Homestead.yaml\n. ",
    "thelfensdrfer": "+1. Pull request fixes the error that the vm is not created because of the unknown location.\n. ",
    "spaceemotion": "+1 this fixes the homestead provision error for me as well.\n. ",
    "paulrose": "+1\nWas just about to create a PR for this :)\n. ",
    "tiran133": "Duplicate PR Sorry for that. 4292a79bfb6293c563675671b9398872d9359aa7\n. ",
    "zoontek": "Why not fixing it during the settler script execution?\n. I made this quick PR at work, and now as I try at home, just figure out that the guest parameter is not for the provider configuration.\nThe following settings shouldn't exist: guest\n. Done! Everything should work fine now :)\n. I use Fusion too, because Workstation isn't available on OSX.\nBut the Vagrant doc refers at the same configuration: https://docs.vagrantup.com/v2/vmware/configuration.html\n. For the people who will :)\nAs Vagrant use the same configuration for Fusion and Workstation, maybe people will expect support for both.\n. Actually, I'm always thinking this could be a better way to do it (because you can set the OS type:\n@vmadev & @joshfng, could you test this in Fusion / Workstation please?\nruby\n[\"vmware_fusion\", \"vmware_workstation\"].each do |vmware|\n  config.vm.provider vmware do |v|\n    v.vmx[\"displayName\"] = \"homestead\"\n    v.vmx[\"memsize\"] = settings[\"memory\"] ||= 2048\n    v.vmx[\"numvcpus\"] = settings[\"cpus\"] ||= 1\n    v.vmx[\"guestOS\"] = \"ubuntu-64\"\n  end\nend\n. As this PR is closed I have to create another one, so I prefer waiting for the @vmadev confirmation.\n. Thanks guys :+1:\nIf @taylorotwell is OK with that, I can create a new PR to add Workstation support, so.\n. @joshfng After the PR closing, I delete the fork repo because it was located on my organisation account (I already have a fork of homestead on my personnal account) :/\n. I ask the Github team to convert my fork to a \"standard\" repo, so I don't have to use my organisation account.\nThe new PR is here: https://github.com/laravel/homestead/pull/174\n. ",
    "ivandokov": "@zoontek It looks much better place to be fixed indeed, I just forgot about settler :)\nAlso it will require Homestead box update.\n. +1\n. ",
    "MikeElghali": ":+1: \n. ",
    "b3nl": "+1\n. ",
    "erikbelusic": "would love this as well!\nvvv (wordpress dev vagrant) has this feature and it is awesome to never have to open up the hosts file. makes starting new projects so much quicker.\n. ",
    "richdynamix": "Rather than relying on homestead to modify the host machine it would make more sense to use something like DNSmasq (http://www.thekelleys.org.uk/dnsmasq/doc.html) to automatically route your host to the guest. \n192.168.10.10 *.dev\nThis can be achieved by setting the configuration to something like\naddress=/dev/192.168.10.10\n. ",
    "zgosalvez": "@svpernova09 It would, by default. But it wouldn't always work, especially with multiple sites on the same VM, since sites are mapped using hosts file on the local machine only. Using ports to map websites is also an alternative to configuring vhosts, as some people have problems with it.\n@taylorotwell thanks!\n. @karanits Why the need to do php artisan serve on Homestead?\n. @karanits I don't particularly use this command, so I really can't address this right now. It also appears that this has already been patched https://github.com/laravel/homestead/commit/6e110aef9fb84a670151f776de1ccc0a79545bbe.\n. ",
    "karanits": "Just a heads up. We also have to update the serve command in the vagrant box( when directly using serve on it). Serve script was not working and zeroed in on this update as the reason. \n. Sorry for late reply. the serve function defined in ~/.bash_aliases of the VM also needs to be updated\n```\nfunction serve() {\n    if [[ \"$1\" && \"$2\" && \"$3\" ]]\n    then\n            sudo dos2unix /vagrant/scripts/serve.sh\n            sudo bash /vagrant/scripts/serve.sh \"$1\" \"$2\" \"$3\"\n    else\n            echo \"Error: missing required parameters.\"\n            echo \"Usage: \"\n            echo \"  serve domain path port\"\n    fi\n\n}\n```\n. ",
    "juliolustosa": "I understand , thank you\n. ",
    "katsuren": "@taylorotwell  May I ask you why this pr has been closed please?\n. ",
    "nickknissen": "I more or less just search and replaced. But it properly would be best to use $_ENV since it's out of request context. I will fix this\n. I removed then parens\n. But wouldn't $_ENV be better since it's a non-server script?\n. Sure thing :+1: \n. ",
    "82rules": ":+1: \n. ",
    "ThomasBS": ":+1: \n. ",
    "vmadev": "This works correctly. In fact, now cpu and memory is carried over to the vm whereas without it it was not.\nPlease note that windows users should \nremove Winnfsd if installed.\n$vagrant plugin uninstall vagrant-winnfsd \nWith Winnfsd installed performing a homestead halt will subsequently break the nfs connection and will require a reboot of the OS in order to reconnect. Removing it resolves the issue altogether. \n. The combined block also works for VMware Workstation on Windows. \n. ",
    "kevinsimard": "I used \"blackfire config\" command to set my client ID & token on the server as they said in their doc, but whenever I run \"homestead provision\" the  \"/home/vagrant/.blackfire.ini\" file get overwritten and set empty values. The server ID & token are the only parameters that are passed to the \"blackfire.sh\" script from the \"homestead.rb\" file. Adding the client ID & token to the \"Homestead.yaml\" would add those values to the \".blackfire.ini\" file.\nphp\nif settings.has_key?(\"blackfire\")\n  config.vm.provision \"shell\" do |s|\n    s.path = \"./scripts/blackfire.sh\"\n    s.args = [settings[\"blackfire\"][0][\"id\"], settings[\"blackfire\"][0][\"token\"]]\n  end\nend\nto\nphp\nif settings.has_key?(\"blackfire\")\n  config.vm.provision \"shell\" do |s|\n    s.path = \"./scripts/blackfire.sh\"\n    s.args = [\n      settings[\"blackfire\"][0][\"sid\"],\n      settings[\"blackfire\"][0][\"stoken\"],\n      settings[\"blackfire\"][0][\"cid\"],\n      settings[\"blackfire\"][0][\"ctoken\"]\n    ]\n  end\nend\nLet me know if you have any additional questions\n. That makes sense, ill change the variable names to server-id & client-id.\n\nIt's in their getting started documentation.\n``` sh\nInstall the blackfire-agent package:\nsudo apt-get install blackfire-agent\nRun the config command to initialize the client\nThis command will ask for your Blackfire client credentials\nblackfire config\n```\n. Done\n. ",
    "michaeldyrynda": "Just proposing this change, not sure if there was a specific reason why an existing database would be dropped if it already exists.\nGiven that the docs suggest being able to run homestead provision to add an additional site, but don't mention that all existing databases will be removed, it's a bit annoying when you do that only to find you've lost any data you already had when all you wanted to do was add a new site.\nRelevant documentation:\n\nOnce your Homestead environment is provisioned and running, you may want to add additional Nginx sites for your Laravel applications. You can run as many Laravel installations as you wish on a single Homestead environment. There are two ways to do this: First, you may simply add the sites to your Homestead.yaml file and then run homestead provision or vagrant provision.\n. Alright cool - thanks for that (should have searched first!)\n\nSo in that case, should there be a switch to optionally run this or\nshould the docs be updated?\nOn Fri, 20 Mar 2015 at 13:05 Andrew Hood notifications@github.com wrote:\n\n142 https://github.com/laravel/homestead/pull/142 [image: :8ball:]\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/177#issuecomment-83860091.\n. \n",
    "vml-pthurmond": "It find that consensus immensely frustrating. That is not something you would assume in any server environment. I feel like this really harms the flexibility and usability of homestead as a dev environment for multiple projects at a time. That said, the \"--preserve-databases\" flag looks like an excellent idea as a compromise. Though I would think that it would make much more sense to preserve as the default behavior and have a flag to recreate all databases.\nI guess it is all personal preference based on how we each work. I will look to see if that flag has been offered up. If not then I will try to figure out how to add it myself and create a pull request.\n. ",
    "yuloh": "sorry, I thought it defaulted to my local fork!\n. ",
    "markvaneijk": "Ah, I did not knew the existence of settler. Now I've also made a pull request on that package, so Taylor can choose where it should be done :)\n. ",
    "Stichoza": "Of course, I know. But I thought it would be nice if Homestead provided that convenience out of the box. What about art alias only? (with no migrate alias)\nOr maybe rename art to artisan?\n^_^\n. ",
    "sandrodz": ":+1:  I think php in front of artisan command is redundant. Why do we waste 4 keystrokes for nothing?\n. ",
    "gpspake": "@GrahamCampbell sorry. Issues seem to be disabled on this repo :/\n. ",
    "JamShady": "I'd say yes. The current implementation:\n- locks everyone down with inconfigurable port-forwarding (unless you're brave enough to edit the .rb file)\n- locks everyone to use the same ports (i.e. 8000 for http)\nI don't see any reason to not open it up, especially if the defaults are set so it won't break anything anyway if someone didn't set them.\nA list of to/from would be more flexible than my implementation above. I guess the question is how do you ensure a default for the main ports?\n. I'm inclined toward the position of ignoring named ports, and just process what the user provides. Leave it to the user to dictate the port mapping in their conf.\nOf course, that would be a breaking change...\n. Cheers gents, both issues are resolved\n. Running as admin alone is not the full fix, it needs this as well - annoying, yes. But unfortunately that is the case.\nAnd, to a certain extent I agree with the principle of not including fixes that only deal with 'edge' cases (I don't think using Windows qualifies as an edge case, but anyways...) it would at least be helpful to include this in a commented out fashion, as opposed to ignoring it completely? At least if it were commented out and properly commented, other users experiencing the same problem would at least have access to an easy fix, instead of having to perform the same searches and experiments all over again every time.\nAt the end of the day, the point of using Homestead is to make it easier for the end developer... if we're omitting fixes for common scenarios (yes, I'd argue using Windows is a common scenario), then ultimately what is the point of this project?. ",
    "Cysioland": "@taylorotwell And yet Homestead now supports ngrok. How times have changed\u2026. Mapping a smaller folder with NFS still fails.\nNon-NFS map works fine. Okay, issue was entirely host-wise, leaving this for other people: had to reboot to the newest kernel, then run depmod as root, then reboot again.. Another reason may be, that NFS over UDP is disabled on the host-side. @domagoj03 @Jesuqq Make sure that NFS over UDP is turned on, some updates like to turn that off. Also, make sure that NFS kernel modules are in, if they ain't, then reboot and run depmod as root, and reboot again.. ",
    "arbrix": "vagrant -v\nVagrant 1.6.5\nI looked for the reason of error and this due to ruby YAML parser. On my local machine ruby is to old (, sorry.\nruby -v\nruby 2.0.0p481 (2014-05-08 revision 45883) [universal.x86_64-darwin14]\n. ",
    "Stanzilla": "Uh that's both super old, latest vagrant is 1.7.2.\n. ",
    "mwolfindale": "Maybe this shouldn't be in core...but here we go anyhow.\n. ",
    "jasecara": "Thanks, I figured out I screwed up not long after I submitted the pull request ^_^.\nJase Cara\nJase Cara | President\nMobile | 407.455.0654tel:407.455.0654\n[Email Signature Logo]\nOn Jun 8, 2015, at 2:18 PM, Andrew Hood notifications@github.com<mailto:notifications@github.com> wrote:\nPerhaps you're looking for this? https://help.github.com/articles/syncing-a-fork/\n\nReply to this email directly or view it on GitHubhttps://github.com/laravel/homestead/pull/207#issuecomment-110096408.\n. ",
    "ikari7789": "My original intention was never to bloat the file down with plugins, and the concept of a hook isn't actually such a bad idea, but I don't think supplying the user with an empty \"after\" ruby hook is very useful neither. Homestead is a vagrant built to help speed up development, and for some of those users, they may not be familiar yet with PHP let alone Ruby.\nPerhaps something like a \"plugins\" folder with ruby scripts that would be executed would be better than a single \"after\" ruby hook file. You could separate out the logic for each particular plugin separately, you could enable configuration via the Homestead.yaml file, and you could even include some pre-designed plugin hooks (disabled by default).\n. ",
    "OlivierParent": "Personally I'm in favor of .local since it's ignored by the system's default proxy server settings\n. It's the same as in src/MakeCommand.php and src/UpCommand.php.\n. @svpernova09 Is there a reference to this rule? Couldn't find it in PSR-2. I thought it would make sense to order them alphabetically.\n. ",
    "kj2shin": "sure\n. ",
    "pedrofornaza": "If its not a common problem, we can put on Homestead.yaml.\n. @pawlobanano Thanks for reporting. We can now set the mount options on Homestead.yml using: mount_opts: ['actimeo=1,vers=3']\n. ",
    "pawlobanano": "@pedrofornaza In my case adding \",vers=3\" just after \"actimeo=1\" helps too.\nWithout it NFS couldn't mount shared folders.\nTested on linux Fedora 22.\n. ",
    "timmillwood": "@GrahamCampbell Thanks for the review, updates in latest commit.\n. The main issue that initiated this is a bit of a edge case, when homestead make is run twice it create two \"hostname\" and \"name\" elements in the yaml file. Parsing the file as yaml and updating an array will resolve this.\nAlso it just seems odd that Yaml is used but not parsed as yaml. Ruby is parsing it as yaml for Vagrant, but PHP is not parsing it as Yaml for symfony/console. I'd fear this would introduce yet another markup issue.\nI strongly feel this is a good improvement for the stability of the project especially when more people start doing Per Project Installation.\n. ",
    "jimmerioles": ":+1: \n. Reinstalling vagrant solved my issue.. It would really be a great help if somebody would make their copy of latest homestead box available for torrent, it's so slow using the cmd and even downloading it directly through the direct download link gives me 100kb/s.. @lucasctd thanks man!. ",
    "scoutman57": "I like this idea just because.. \n. Sometimes overhead is not always a bad thing. As noted there is sometimes\nissues with yaml on windows. I don't  think anyone disputes that.\nOn Jul 22, 2015 12:32 PM, \"Svpernova09\" notifications@github.com wrote:\n\nWould it be possible to use a command to convert the YAML file to JSON and\nthen have a flag that is used to tell homestead to read from YAML or JSON?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/229#issuecomment-123801429.\n. The alias would be great :+1: \n. I think Taylor's solution would be the right way to implement this as well.\nThis structure could lead to over riding several other files that might\ncome up.\n\nOn Wed, Aug 26, 2015 at 9:09 AM, Taylor Otwell notifications@github.com\nwrote:\n\nThe basic idea of how I picture it working is having something like a\n~/.homestead/nginx/server, ~/.homestead/nginx/symfony-server, etc... We\nwould check for the existence of those files, and if they exist use their\ncontents in the serve scripts.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/256#issuecomment-135034563.\n. I vote for this. We use this feature on lots of Virtual boxes.\n\nOn Thu, Dec 3, 2015 at 10:30 AM, Evan Mattson notifications@github.com\nwrote:\n\nI stand corrected! Thanks for taking a look Taylor. I'm using Virtualbox\nbut apparently VM Ware didn't like it.\nI was able to make a simple change that should address your concerns.\n- Requires hostsupdater: true in the root of the Homestead.yaml file.\n  This ensures that the current behavior is preserved and usage is opt-in.\n- Checks for the presence of the vagrant-hostsupdater plugin to\n  prevent the possibility of breaking things like with vm ware or any other\n  provider. If the plugin is not installed, there is no change, even if the\n  setting above is enabled.\nmaster...aaemnnosttv:pr/auto-add-sites-to-hosts\nhttps://github.com/laravel/homestead/compare/master...aaemnnosttv:pr/auto-add-sites-to-hosts\nIf you're open to it I could open a new PR?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/laravel/homestead/pull/291#issuecomment-161706392.\n. The times are dramatically different in 7.7.0 as well. Since this is the first time Unbutu 18.04 was introduced, I am not testing v7.8.0. \n\nAlso, I tested MySQL and the times are still dramatically different still so this issue does not seem to be an issue related to specifically MariaDB or MySQL. MySQL on v7.6.2 ran migrations at 4.629s and on v7.10.0 the migrations ran at 28.178s. @svpernova09 I have actually already tried that and it makes zero difference. I was thinking there was a \"too many files\" issue but that's not the case as this is the only code base in the mapped folders. I actually tried all this before going into full depth testing. The times don't change. \n. @browner12 Yes, the Homestead.yaml did not change. That is the only way to make a valid comparison. The only thing that changed was the homestead git branches, hence the base box. To get 7.6.2 to use the older vagrant box you have to change the config.vm.box_version in homestead.rb from\nconfig.vm.box_version = settings[\"version\"] ||= \">= 5.2.0\" \nto\nconfig.vm.box_version = settings[\"version\"] ||= \"5.2.0\"\nor else even v7.6.2 will try to download the latest vagrant box which is 6.0.0. I already know we should NOT override the config.vm.box_version but that is the only way to make vagrant pull the older version of the homestead box for test. I know why it's done the way it's done. \nI am not sure my application's source is the problem as I have now tested this on 3 different Laravel projects. All of them is vastly different and all of them running migration and phpunit slower on the 18.04 box than on the 16.04 box with the exact same Homestead.yaml setting for both vagrant boxes and homestead mapped to the exact same project directories for consistency.. getting specs. but I believe the unit test is slow because of the \"use RefreshDatabase;\" in all the unit test files. So to take them out of the equation I moved to just test migrations on both boxes using \"time php artisan migrate:fresh\". I am going to download a public laravel project and test with that. . My specs for hackintosh:\nmacOS High Sierra\nProcessor: 4.2 GHz Intel Core i7\nMemory: 64GB 2133 MHz DDR4\nHHD: NVMe M.2 960 EVO\nMacBook Pro\nmacOS High Sierra\nProcessor: 2.3 GHz Intel Core i7\nMemory: 16 GB 1600 MHz DDR3\nHHD: SSD (Whatever the late 2013 model has) \n. I know the Macbook would be slower but it should not be significantly slower depending on the version of homestead. I downloaded a fresh copy of laravel and benched it in both and they were consistently slower in 18.06 by 2s (does not seem like a big difference, but that is just two migrations. After lots more research and troubleshooting/testing with another developer, we came across this issue in docker.\nhttps://github.com/docker/for-linux/issues/247\nWe changed these setting from \"8\" to \"0\" in both locations\necho 0 >/sys/block/sda/queue/iosched/slice_idle\necho 0 >/sys/block/sda/queue/iosched/group_idle\nThis change dramatically sped up the migrations in 18.04. I went back after the change and tested my previous projects. These projects now run consistently around the same amount of time as 16.04.\nThese settings are for older legacy spinning drives and not SSD drives but it still utilizes the settings. SEE SPEC\nhttps://www.kernel.org/doc/Documentation/block/cfq-iosched.txt\nI have changed the settings from 8 to 0 and back several times and the migration times are consistent with 16.04 when set to \"0\" and greatly slower when set to \"8\"\n. Just for some ideas of my IO disk speeds on the Hackintosh SSD. https://lh3.googleusercontent.com/M88Yk3Qok8y6xPNFksFUV9-0CZ1TRUQLJ1UMfWtTIPhn5WtNpAB-IIqiyRunDZ_3fX6xV4KmYE_a1mKhWsaHQv7aeenD74-qquZxRk2LNzSugExSP7H4TAX-cJjOVg2AZcv9HikTsXY=w530-h278-p-rw. No problem, it was a pain in the %!@#%SDf to debug. We tested everything from UUID create to different speeds in unique vs index, speeds without indexes ... fyi unique is a little slower than index. Changing the values took my times dramatically lower in my application. \nHere is a good test for getting some average times to execute 10 iterations of your migrations:\ntime seq 10 | xargs -Iz php artisan migrate:fresh --quiet\n18.04 went from 2m44.637 to 0m34.887  after changing the values to \"0\".\nI hope that maybe this is something you can build into the vagrant box, or a setting we can define in the Homestead.yaml.  Something like SSD: true and then vagrant code can change those settings to \"0\" through the magic of ruby!. I have opened a pull request that should resolve the value not being set\nproperly\nOn Fri, Feb 8, 2019 at 11:06 AM Sebastiaan Luca notifications@github.com\nwrote:\n\nUpdate the commands and unless Homestead.rb runs on every boot, they'd\nhave to run in a boot script so they're not applied just for the current\nsession.\nNFS....it's a beast with virtualization :/\nTrue, but haven't found the real cause yet. A default Ubuntu box\nprovisioned with Ansible and using NFS for synced folders runs fine and\nfast. Homestead by default takes 22+ seconds to load a single page and 3\nminutes to run our migrations. With this fix applied, I can cut that down\nto 8 seconds and 1.5 minutes, but it's still quite unusable. So this leads\nme to think it's a setting somewhere that needs tweaking, but who knows \u2026\nCurrently thinking of provisioning a box with Ansible and using Homestead\nto create sites and sync folders. Maybe that'll work better \u00af(\u30c4)/\u00af\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/issues/896#issuecomment-461873857,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1UkBrr0mJqxYCrF6qaclvrcq3Adtks5vLa6ogaJpZM4VOV7X\n.\n. Joe, I was about to ask the same things. I am wondering if it's puppet\nrelated. I was thinking of trying to do the same thing with SALT or Chef\n\nOn Fri, Feb 8, 2019 at 11:17 AM Joe Ferguson notifications@github.com\nwrote:\n\nCan you share the ansible playbook and / or the Vagrantfile +\nconfiguration so I can compare w/ Homestead?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/issues/896#issuecomment-461877462,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1YuGGS3PYLClJMIQN5OGM48__O1Aks5vLbEugaJpZM4VOV7X\n.\n. Not puppet lol\n\nOn Fri, Feb 8, 2019 at 11:20 AM Shannon Warren scoutman57@gmail.com wrote:\n\nJoe, I was about to ask the same things. I am wondering if it's puppet\nrelated. I was thinking of trying to do the same thing with SALT or Chef\nOn Fri, Feb 8, 2019 at 11:17 AM Joe Ferguson notifications@github.com\nwrote:\n\nCan you share the ansible playbook and / or the Vagrantfile +\nconfiguration so I can compare w/ Homestead?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/issues/896#issuecomment-461877462,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2C1YuGGS3PYLClJMIQN5OGM48__O1Aks5vLbEugaJpZM4VOV7X\n.\n\n\n. can you try testing on Ubuntu 16.04?  and are you sure the changes to \"0\" took effect? can you narrow down what portions of the request are taking so long? Do you have DB calls in these request? \n. @driesvints you don't change it in homestead.yaml, you have to change it in the actual homestead.rb (ruby file) its under scripts/ . i have uploaded one that works for Unbutu 16.04 rename homestead.txt to homestead.rb\nhomestead.txt\n\n. @driesvints I did not know you could set the version number in the Homestead.yaml. Where is that documented or how do I set it there? I don't see the rb file reading that from the yaml. \n. @driesvints I knew it pulled in settings, I just overlooked that was used in the RB file for the version. I see some other stuff set there, which is nice too. Like changing the Homestead box name. Now I feel so dumb.. But thank you for making me look again. I think the \"official\" documentation really needs to include all the optional YAML overrides. . i don't $this should be on a line by itself. \n. ",
    "leonhh": "@taylorotwell the reason of this PR is that the YAML parser on windows doesn't work as it does on OSX & linux. See also this http://laravel.io/forum/06-13-2014-ruby-errors-after-vagrant-up\nI spend hours adjusting my homestead.yaml file before I started writing this and using the JSON parser it worked like a charm. It is more a bug than a something i am opinionated about.\n. It is indeed a decent solution :+1: \n. ",
    "LasseRafn": "@taylorotwell \nI (the question asker) wanted to map multiple different domains to same site, which for some reason did not work without this neat alias parameter :-)\n. ",
    "vinkla": "@LasseRafn don't know if you're using OS X but have you seen Setup Wildcard DNS on Mac OS X? Works great with Homestead. \n. @EspadaV8 have you seen Setup Wildcard DNS on Mac OS X? Works great with Homestead.\n. :+1: \n. ",
    "nicklasmoeller": "@taylorotwell I actually see a real use case for this. If I were to have several projects on my homestead box, and had a single project, that operates with different names, wildcard subdomains just doesn't do\ne.g.\n```\nsites:\n  - map: block.app\n    alias: square.app\n    to: /home/vagrant/Code/Figures\n\nmap: banana.app\n    to: /home/vagrant/Code/Banana\n```\n\nUpdate:\nOne could as well use multiple aliases, by separating them by a space in the property,\ne.g.\nsites:\n  - map: block.app\n    alias: square.app circle.app triangle.app\n    to: /home/vagrant/Code/Figures\n. ",
    "cmgmyr": "Having an alias option would be very helpful. I have a few projects that fit into this use case\n. ",
    "ddelnano": "I believe homestead allows you to override them (Not 100% sure but I saw something about overriding when I made this change).  I'm not sure if you can tell vagrant to auto correct and specify some defaults to try before randomly picking one.\n. ",
    "simensen": "@svpernova09 Yep! Putty (Windows) or iterm2 (Mac) or whatever. homestead ssh is easy enough if I'm on iterm2 terminal already, but sometimes it would be nice to just be able to jump straight to the ssh in from clicking a button instead.\nThe big use case is that the other two members on my team are on Windows and right now they are having to use whatever Windows monstrosity passes for a terminal (probably either gitbash or cmd or powershell or something). I'd like to get them using something like putty and so I went looking for the config information (that I knew I have gotten from vagrant in the past). Saw it would be easy to create this passthrough command so I just did that real fast. :)\n. Thanks for the merge, @taylorotwell!\n. I had to force push this branch as I had failed to include one of my changes. :) All should be good now, though.\n. @svpernova09 Yes this was for conflicts with Sculpin. Which issue had that? I think you typed the wrong tag. :)\nI'm not sure how automatically resolving port conflicts works. Maybe that would be sufficient. I know as-was (I actually had a rebase conflict w/ that auto correct stuff so I wasn't seeing that yet) it didn't work very well.\nI don't ever do anything with the port forwarding. I'd just as soon turn it off as hope something magically resolves it (somehow) or manually pick another port that I'm not going to use and hope it won't conflict with another service down the line.\n. Yeah, if that is how auto correction works it would be less useful for me. Sculpin, for example, comes up on an as-needed basis instead of always running by default. Homestead, on the other hand, is always running for me. So the chances that I have Sculpin running at the time that Homestead starts up are pretty small. And as I discovered today working through this, simply reprovisioning won't change the ports, I'd actually have to halt and up Homestead in order for the auto correction stuff to kick in.\n. @svpernova09 Yep, it was obvious after the fact. Do you know if suspend would work or just halt? I found halt worked and had wasted enough time that I didn't bother trying things with suspend too. :)\nMight be worth updating the docs around these to say that changes to these particular things require a halt / up vs just a provision. The stuff in Homestead.yml contains configuration that is split between stuff that will rebuild on provision and stuff that wont'.\n. @taylorotwell What about an option to disable default ports entirely? It would be slightly less noisy, perhaps? Or finding some way to provide a way for advanced users to override this stuff some other way?\nI'd just as soon not maintain a fork of Homestead that simply comments out the 80 and 443 lines, which is what I had done before. I did that on my first install of Homestead and had to figure out how to disable it again when I upgraded my host operating system and installed Homestead again from scratch. I figure if I hack something a second time I might as well try and find a long-term solution. :)\nSo if you have any suggestions for what I could do that you might like better, let me know. If you're not interested in me looking for a long-term solution for this at all, let me know. Thanks!\n. @andrewhood125 This is actually the first approach I took except that the whole \"to: null\" or \"to: disabled\" looked kinda backwards to me. If @taylorotwell liked this approach better and would consider merging it I'd happily rewrite this code to do that instead.\n. ",
    "SAMDevelopment": "@simensen for your Windows colleagues. I finally stuck with Cmder ( http://gooseberrycreative.com/cmder/ ) with a Git bash profile. Might be worth checking out.\n. ",
    "hisman": "Oh, Okay I'll close this request then. Thanks.\n. ",
    "KennedyTedesco": "Sure! :)\n. Side note: http://nginx.org/en/docs/http/configuring_https_servers.html#single_http_https_server\n. Yes, we do. By default. It's a good thing, I guess.\n. ",
    "amahrt": "Execute as the following:\nsudo ./homestead hosts 192.168.10.10 homestead.dev\nFirst argument is the IP address to map and second argument is the hostname.\n. Hey Graham, what do you mean with \"cs\"?\nI'll make another commit if you're fine with this idea.\n. Allright. Thanks! :-)\n. Updated.\n. The statements look good, I've copied this from the EditCommand.\nOr do you mean the OR in the new line?\n. ",
    "vincenttouzet": "Why this PR cannot be accepted ?\n. ",
    "yellowmamba": "It would be great to have this new feature documented somewhere. I just got my Symfony2 app working on the newest version of Homestead, but with a bit of effort in updating to 2.1.6 and figuring out how to provision with serve-symfony2.sh script. Can you guys consider having a CHANGELOG.md for each release?\n. ",
    "weaverryan": "Per documentation on the Symfony side, we're chatting about this over at symfony/symfony-docs#4676\nThanks for the added feature!\n. ",
    "wouterj": "Can we rename symfony2 to symfony, given that Symfony 3 is going to be released quite soon and is 100% compatible with Symfony 2?\n. Ah, great. I missed the fact that you changed it to type:. :+1: \n. @DonPrus there already is Symfony 2/3 support in homestead. See the (not yet merged) documentation here: http://pr-5655-6qmocelev2lwe.eu.platform.sh/cookbook/workflow/homestead.html\n. please use symfony instead of symfony2\n. you should change this to symfony2, to keep backwards compatibility with people using symfony2 as type\n. ",
    "ShaunaGordon": "Then why doesn't Homestead ship with a global PHPUnit install by default?\n. This PR was for Homestead, which isn't for production, to my understanding. Perhaps that's changed over the past year? Or perhaps Taylor uses the same config stuff for Forge, etc? I'm not sure. However, it would probably be best to open a separate issue and provide details of your implementation/setup to allow for proper troubleshooting.\n. Why are you deploying the /vendor folder, instead of running composer install on your production server with the Composer lock file (as is intended)? Using the composer install method will install the production-necessary dependencies, without the development ones (assuming you have things like PHPUnit under the require-dev heading).\n. ",
    "piotr-cz": "This broke usage of global installation of phpunit:\nsh\n$ phpunit\n-bash: vendor/bin/phpunit: No such file or directory\nI don't install phpunit as local dependency, because there's no need to deploy it on production environment.\n. Unfortunately Issues are disabled for Homestead repo.\nTo better describe my problem:\nI'm not adding phpunit to composer.json, but running phpunit globally.\nThis alias overwrote path to global installation by path local installation which is not available.\nThe reason behind is that I'm deploying to production environment whole /vendor folder and but I don't see a point of deploying dev tools (PHPUnit, PHPSpec) there.\n. Same for me, nothing but downgrade of VirtualBox from v5.1.16 to v5.1.14 resolved issue. If anyone is interested in more information, see\n- Vagrant Issue\n- VirtualBox topic\n- VirtualBox ticket. Is the compiling step really required?\n@narration-sd check my https://github.com/laravel/homestead/issues/756#issuecomment-350548939 to see how to switch default php version. I'd find it very handy, as setting site-specific PHP version doesn't work for apache type (#630).\nThat way I could at least choose global version.\nworkaround, assuming you want switch to php 7.0:\n1) add required php version to one of the sites and run provision which will install it: vagrant reload --provision\n2) to change default CLI, run sudo update-alternatives --config php\n3) switch apache modules\nsh\nsudo a2dismod php7.2\nsudo a2enmod php7.0\nsudo service apache2 restart. This has been resolved by https://github.com/laravel/homestead/issues/892, but still on have to run vagrant reload --provision to recreate sites.. I'm updating homestead versions using GIT so that's why this file shows up. ",
    "EspadaV8": "The server block does allow wildcard domains (server_name *.espadav8.dev;) but without this the rest of the script creates *.espadav8.dev files, e.g.\n/etc/nginx/sites-enabled/*.espadav8.dev\n/var/log/nginx/*.espadav8.dev-error.log\n/etc/nginx/ssl/*.espadav8.dev.crt\n/etc/nginx/ssl/*.espadav8.dev.key\nWith the SSL crt containing a * nginx won't start\n2015/08/19 01:54:49 [emerg] 2048#0: BIO_new_file(\"/etc/nginx/ssl/*.espadav8.dev.crt\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/nginx/ssl/*.espadav8.dev.crt','r') error:2006D080:BIO routines:BIO_new_file:no such file)\n. It would be easier to just replace the * with a predefined string (e.g. laravel_wildcard.espadav8.dev) instead of calculating the md5 of the domain, but I thought that could possibly (although unlikely) have a collision with a domain someone actually wanted to use.\nIt would then become FILENAME=\"${1/\\*/laravel_wildcard}\" and result in filenames like /var/log/nginx/laravel_wildcard.espadav8.dev-error.log.\n. @vinkla yeah, this isn't about resolving the DNS but about setting up the nginx server so that it responds to requests for the wildcard domain.\n. ",
    "cooperaj": "Could not find any reports of this issue in the wild at all and the lack of vagrant manager is killing me at this point. I'm glad someone was able to find what the cause was. Thanks :)\nHaving just implemented this fix on my site though I'm finding it's still blowing up when trying to include the homestead.yaml file. I've had to add the DIR command in front of that too?\n. I had to do this https://gist.github.com/cooperaj/790c2fd77fa33342e968 in the end. Vagrant manager now works at least though.\nRunning 2.1.4 of Homestead\n. ",
    "nedmas": "@cooperaj glad that someone else found this useful :) I'm interested to find out why you needed to add the dir command. Would you be able to post the contents of your Vagrantfile and the version of homestead please?\n. @cooperaj I've had a play with version 2.1.4 and the bigger issue is that Homestead.configure(config, YAML::load(File.read(homesteadYamlPath))) isn't wrapped in an if statement to check it exists. This was introduced in v2.1.6. This PR is targeted at v2.1.6 but there's no reason I can see that prevents you from updating your Vagrantfile and still using v2.1.4 if you need.\n. ",
    "collegeman": "I would be happy to implement that so it's available in a standard way. Can you give me some basic requirements? I don't want to waste my time building something that is dramatically misaligned with your vision for the product.\n. Breaking from my original proposal, I still think that keeping the config file that is custom to my project versioned with my project is the solution that makes the most sense from the standpoint of easing collaboration, i.e., if I'm going to collaborate on a project, I fork the project codebase, and I make Homestead aware of my new project, from which configuration for the site, database, etc. are optionally pulled from my project's codebase instead of from a central config file. \nThis would be patterned on the way the VVV project provides for auto site setup. Their approach to adding new projects to a virtual server is a conventions-based system whereby files in the project cue the vagrant provisioning process. \nHomestead configuration, in comparison, is currently centralized: I am to use homestead edit to edit the YAML config file in ~/.homestead, but then these steps must also be performed by anyone who might want to collaborate with me on my project, and so must exist in documentation instead of riding along with the project\u2014onboarding new collaborators would be made easier by the following. \nI propose taking this modular approach we have been discussing a step further with this convention: a .homestead/Homestead.yaml optionally included in each project, combined with a new projects convention/section in the centralized configuration file, thereby allowing me to \"plug in\" other projects to an existing Homestead machine as simple as adding something like this to the centralized config:\nprojects:\n  - map: ./path/to/my/project\nThen on provisioning, the primary provisioning script homestead.rb would walk something like the following:\nif settings.include? 'projects'\n  settings[\"projects\"].each do |project|\n    # {project[map]}/.homestead/Homestead.yaml is primary config\n    # load custom instructions and/or follow these conventions:\n    # {project[map]}/.homestead/nginx/site.conf is the nginx site config\n    # {project[map]}/.homestead/database/backups/mysql.sql is a database snapshot to load\n    # ...\n  end\nend\nThe potential collision with other files in a project is an edge case worth considering, but given the addition of a .homestead namespace, it's probably highly unlikely that these collisions would occur, especially in Laravel projects.\n. ",
    "mikemand": "I just tested the Postgress stuff (I think...) and it did not work.\ncreate: command not found\ngrant: command not found\nFrom trying a vagrant up --provision\n. Would you mind my asking to which conventions you are referring? This repository has absolutely no information regarding contributions.\n. ",
    "than": "Just did the same thing, wanting to avoid db noise in my local homestead environment. \n. ",
    "johnpbloch": "@taylorotwell no worries. I completely understand. Like I said, I'd intended to keep the fork anyway, so no merge is more of a \"oh well. :)\" situation. Thanks for all the work you do!\n@GrahamCampbell my fork is still around (and will be for the foreseeable future) if you want to use it. :)\n. ",
    "Yannik": "@taylorotwell Close without a comment?\n. @taylorotwell Did you check this out?\n. ",
    "davidrushton": ":thumbsup: No problem! Do you want me to submit a PR on the laravel/docs?\n. @taylorotwell That's a shame - I think this would be useful, particularly on project-specific homestead boxes, and it would be completely optional.\nThanks anyway.\n. ",
    "lesstif": "@slavensaka last week, i was created new vagrant box with this command.\nsh\nvagrant box add laravel/homestead\nthen, i was pulled laravel/homestead and running serve command on my vagrant machine,i got this error.\nsh\ndos2unix: /vagrant/scripts/serve.sh: No such file or directory\nbash: /vagrant/scripts/serve.sh: No such file or directory\ni was found problem cause, this is because PS 263(https://github.com/impleri/homestead/commit/f07a8ed01126b94a08f0693d0fa0d2ea3ea905ff) is renamed scripts/serve.sh to scripts/serve-laravel.sh.\nso i was fixed this problem. if you have still encounter problem just run vagrant provision command.\n. @jonnywilliamson  i was created new PR on https://github.com/laravel/settler/pull/54. thanks :)\n. ",
    "pavelrogala": "I use the laravel installer on my host machine but it's not included in Homestead and even if I add it it wouldn't persist through a homestead destroy. Either way, was worth a try :). And @taylorotwell Laravel is AWESOME!\n. ",
    "ZackWard": "On second thought, it seems like a bad idea to stick your windows password in a config file just so that you don't have to be prompted for it in a Windows command prompt.\n. ",
    "jonnywilliamson": "@svpernova09 - fair point but:\nTake me for example. I use windows to develop but I HATE having any development software installed on my windows machine. \nThis is what makes Homestead so attractive, a virtual environment that has PHP/mysql/etc all set up so I can just SSH in and get going.\nHowever, how do I get a new Laravel app installed on my main machine so that Homestead can use it in the shared folder?\nLets look at the Laravel install docs (http://laravel.com/docs/5.0/installation)...on the very first line:\n\nLaravel utilizes Composer to manage its dependencies. So, before using Laravel, you will need to make sure you have Composer installed on your machine.\nInstall Laravel\nVia Laravel Installer\nFirst, download the Laravel installer using Composer.\ncomposer global require \"laravel/installer=~1.1\"\n\nOh ok, so I need composer to install Laravel.\nLet's take a look at the install requirements for composer (https://getcomposer.org/doc/00-intro.md#system-requirements)\n\nComposer requires PHP 5.3.2+ to run. A few sensitive php settings and compile flags are also required, but when using the installer you will be warned about any incompatibilities.\n\nMmm.\nSo now, on my clean windows machine, that has a fully running virtual machine with everything working perfectly, I now have to:\n- Install PHP on my windows machine.\n- Then install composer on my windows machine. \n- Then install the laravel package globally to composer. \n- Then create a new laravel app in the vagrant share folder.\n- Finish.\nIt seems excessive. It seems messy, running windows versions of PHP etc never seem to be as clean as the unix/mac alternatives. \nWither its in homestead or settler, I think this is a useful addition.\n. > Yeah, that's the tradeoff of using Windows. It's not a terrible process to install enough things into Windows to get composer working.\nThe thing is, it's not just Windows. You have to have a local version of php and composer on a mac too if you want to install laravel. The difference is that it's just much slicker installing those in a mac environment.\nThe main point still remains:\nWhy do we need to install dev tools on our main machine, when Homestead, created especially to deal with development stuff, would allow us to easily bypass this requirement.\nThe bottom line I suppose is, this is just a convenience PR. I already do my laravel installs inside my Homestead machine (not via my main windows machine) for the reasons I outline above.\nThe only person who's opinions matters is of course Taylor's. But I think it only proper to explain why I believe this is a reasonable idea.\nThe zip file is also a reasonable idea, but typing laravel new projectname  has a \"Laravel Feel\" to it. Lets face it - it could be the VERY first interaction/command with Laravel a new user actually makes. It would be nice to start off on the right foot!\n. @lesstif - Perhaps doing a PR on the https://github.com/laravel/settler repo will be more successful! \n:)\n. @svpernova09 Could you explain that a little more please? I don't quiet follow what you mean.\nThank you.\n. @svpernova09 Ah ok!\nI haven't had to do per project installs, so I hadn't noticed that option. Thank you.\n. What about me on a windows development machine? Why would you only add a plugin that helps MacOs/unix systems?\n. I would tend not to agree.\nhttps://github.com/cogitatio/vagrant-hostsupdater/issues/40\n. Hehe. I enjoyed that @QWp6t \nSo basically what you've said is, it works on windows. IF\n1) You give a relatively random plugin administrator rights on your computer OR\n2) You disable the security layer of the computer OR\n3) You have to manually edit an application manifest resource.\nSounds brilliant. Wait no, the other thing...it sounds like a very un-Laravel like support nightmare.\nI think Taylor has the right idea here.\n. Just out of interest - as I don't know the answer myself, but would this have any interference if someone was trying to use a PHP-7 Box.\nIn the instructions it says:\n\nSo wondering if having it hard coded would stop someone doing that?\n. @baseten \nYes it's installed\nhttps://github.com/laravel/settler/blob/e153e338936db471b5e06d943ab5028e909e730b/scripts/provision.sh#L55\nAnd options were added to config files\nhttps://github.com/laravel/settler/commit/e153e338936db471b5e06d943ab5028e909e730b\nBut it is deactivated for the COMMAND LINE only as it slows composer massively.\nhttps://github.com/laravel/settler/commit/001653413046660f96451d4a73f59a313eaea49f\n. You can also enable it easily like this when running tests from phpstorm/intellij\n\n. Just for info\nPrefixing any command with sudo -H -u vagrant would have run the command as user vagrant\n. @justinmoh Strange, as this is working for me (prior to this PR)\n``` sh\n    #!/usr/bin/env bash\n    # content of after.sh\n#This script runs as ROOT. For most commands we need to run as vagrant\n#Prepending each command with this sudo command does this for us.\n#Maybe there is an easier way.\nUSER=\"sudo -H -u vagrant\"\n\n<...snip...>\n# Make some MC ini settings.\n$USER touch /home/vagrant/.ssh/known_hosts   //File is created by user vagrant\n\n```\n. I think this was related to https://github.com/laravel/homestead/pull/159\n. One of the biggest issues was this:\nhttps://github.com/mitchellh/vagrant/pull/6493\nBasically, trying to run gulp and npm in the homestead VM, (whilst running on windows host), caused a lot of issues because the filepaths created during NPM installation where too long.\nIt causes lots of errors, but finally the guys at Vagrant found a fix to that solution.\nIt might have arrived in vagrant 1.8.2 or similar, but there was a further bug that was squashed by version 1.8.4.\nIt now works reliably and as such, I think requiring a minimum of vagrant 1.8.4 is a good idea,\n. I'm sure that comment was made in jest.\nI for one am very thankful for the speedy work you do with homestead. Great job Joe.. @lioannou Sorry for the trouble as well, but it's definitely not a bug that affects all windows users.\nI've been using virtualbox and homestead on a windows 10 machine last year or so (and before that windows 7) and I've never needed to add smb to the options for a shared folder.\nIronically I did put them in my yaml file in case I ever had problems and I knew I would forget what the flag was, but to this day I haven't needed them.\nWould this reenforce the idea that this is strictly a vmware related bug?\n\n. FYI @svpernova09 I'm strictly a windows user with homestead. If I can help let me know.. Perhaps this long thread might help @cwandling \nhttps://github.com/mitchellh/vagrant/issues/1673#issuecomment-168205206. Yeah I've been adding these lines manually up to now. Works well.. Yes, totally agree with @svpernova09 \nI actually submitted the current behaviour PR for this a while ago, due to xdebug causing massive slow down when using composer.\nhttps://github.com/laravel/settler/pull/78. But php5.6 isn't installed in the latest settler scripts. So this could be very confusing if a user added the flag to his config yaml file but php5.6 isn't there!\nhttps://github.com/laravel/settler/blob/master/scripts/provision.sh#L52-L57. Just wanted to add another confirmation that downgrading to Virtual box 5.1.14 from 5.1.16 fixes this issue, when using windows 10 as the host. The exact version I'm running now without issues is: \nVersion 5.1.14 r112924 (Qt5.6.2)\nQuick link to \"older versions\" of virtual box:\nhttps://www.virtualbox.org/wiki/Download_Old_Builds_5_1 \nDoes anyone have a link etc to a bug report for virtual box before I try and create one?. https://github.com/laravel/homestead/issues/510#issuecomment-285949876. I'm a bit slow...but I'm still trying to work out what this helps with!\nHowever on a side note, this code: xdebug.remote_autostart=1 \nDoes this run the risk that if a user turns this on, does some debugging and forgets to turn this off, that all their future commands will still try to make a connection back to a debug server?. Ah ok. I've never needed to do any debugging of command line stuff, so this was under my radar.. I'm still getting this.\nJust after checking out tag v5.3.2 \nVagrant destroy\nVagrant up\n\nAnything else I should be doing?. Currently running version 5.3.2 on box 2.1.0\n\n. Just discovered its due to a \napt-get update -y in the first line of my after.sh file. Thanks for the hint. I'll have to remove that and do it manually once the machine is ready.. Must look into this as I get that annoying bin-link issue all the time with npm. @svpernova09 Joe are you looking to see a failure of npm (due to it trying to make bin-links) inside homestead when run on a windows machine? \nIf so, I can definitively do that with a screen cast later this evening.\nEDIT\nI'm fairly sure its just because vagrant hasn't been run with admin permissions in windows and therefore symlinks are not allowed to be created.. I'll put it on my todo list this evening. https://github.com/laravel/homestead/pull/545\nIs this not similar?. Have to say I'd much prefer .test\nIt just takes so loooong for .localhost  so many typos....but maybe that's just me.\ud83d\ude22 . Saw this earlier today, interesting article too. Written in 2015 with the warning not to use .dev back then too. Talks about .test etc as well.\nhttps://iyware.com/dont-use-dev-for-development/. Those aliases seem seem to have been removed in his commit:\nhttps://github.com/laravel/homestead/commit/21166d58a436d37f28295296d89b0732ff7ba64a. @svpernova09 sorry Joe, yes I had seen and understood that already.\nMy message was for @browner12.\nIf I get a chance/its something you think is useful, I can make a PR over the next few days. It's only a small change.. I could not get this to work at all. My machine was showing it was 5 days out of sync.\nHowever this did work first time: sudo ntpdate ie.pool.ntp.org\nObviously you can change the ntp server to whatever you need it to be. I've set mine up as an alias.. I thought this was already done? One of the ports already configured?\nhttps://github.com/laravel/homestead/pull/685/files. ",
    "anteriovieira": "I made a mess here, It has something that can be taken advantage of?\n. ",
    "scottpnelson": "Oops! Turns out I was trying to add the serve function using the zsh shell, not bash! All good now. Closed this PR.\n. ",
    "QWp6t": "@taylorotwell This would be a fantastic addition to Homestead. I hope you'll reconsider it.\n. The plugin works on Windows...\n. Well, you're wrong. It works on Windows. I develop on Windows. I use the plugin, literally every day, on Windows. It works fine. \nHere are a few options that you have...\n- Set vagrant.exe to open as administrator. \n- Turn off UAC. \n- Add trustInfo element to vagrant.exe application manifest resource. It looks like this...\nxml\n<trustInfo xmlns=\"urn:schemas-microsoft-com:asm.v3\"><security>\n<requestedPrivileges><requestedExecutionLevel level=\"requireAdministrator\" uiAccess=\"false\"></requestedExecutionLevel></requestedPrivileges>\n</security></trustInfo>\nAny of these methods will work, and there are other more advanced methods that will work as well.\nBut this isn't a technical support ticket for little old Johnny Williamson. This is a PR for Homestead. And if the Vagrant plugin in question didn't work on Windows (which it does), I still don't see why a lack of Windows support for an optional plugin would preclude it from being added. Your objection is quite frankly absurd.\n. ",
    "rndstr": ":+1: this is also how the nginx recipe does it (for sf2)\n. ",
    "aaemnnosttv": "I kinda thought the hostsupdater plugin was more/less ubiquitous among most vagrant users, but for anyone without it this should have no effect. It's not introducing a dependency.\nI think it's a pretty valuable feature for only 2 lines of code.\n. I stand corrected!  Thanks for taking a look Taylor. I'm using Virtualbox but apparently VM Ware didn't like it.\nI was able to make a simple change that should address your concerns.\n- Requires hostsupdater: true in the root of the Homestead.yaml file.  This ensures that the current behavior is preserved and usage is opt-in. \n- Checks for the presence of the vagrant-hostsupdater plugin to prevent the possibility of breaking things like with vm ware or any other provider.  If the plugin is not installed, there is no change, even if the setting above is enabled.\nhttps://github.com/laravel/homestead/compare/master...aaemnnosttv:pr/auto-add-sites-to-hosts\nIf you're open to it I could open a new PR?\n. @taylorotwell - thoughts on the additional proposed changes linked above?\n. ",
    "AdenFraser": "Let me know your thoughts. My only consideration at the moment is that perhaps the execute method is now a little bloated.\n. If you use Homestead in a collaborative environment on a per project basis, you probably define a different IP address for each different project and box. \nWith this addition you can commit the Homestead.yaml.example to the your repository / version control with the defined project values (Hostname, name, ip address) and subsequent developers who php vendor/bin/homestead make will receive an identical environment to all other developers on the project.\nThanks to the way this is setup, it means you could configure custom ports, configure blackfire and define extra memory and cpu in your Homestead.yaml.example and all developers you provision later will receive the same setup and allocation.\n. ",
    "peterpan666": "Nice thanks! When do you think this feature will be added to the new version?\n. ",
    "matthewlilley": "Ah, I didn't notice the box option as it was in the upgrading to php 7 part of the documentation.\nWould you agree that a default box should be set? Using bash when I vagrant up, it defaults to laravel/homestead, but zsh needs the box to be set.\nMaybe the default box should be set in the copied yaml file, to laravel/homestead. And then in the upgrade guide, instead of adding the box option, simply change it to laravel/homestead-7 instead.\n. ",
    "weeq": "```\nprotected function configurePaths()\n    {\n        $yaml = str_replace(\n            '- map: ~/Code', '- map: \"'.str_replace('\\', '/', $this->basePath).'\"', $this->getHomesteadFile()\n        );\n    // Change homestead.app domain from $this->defaultName\n    $yaml = str_replace(\n        '- map: homestead.app', '- map: '.$this->defaultName . '.app', $yaml\n    );\n\n    $yaml = str_replace(\n        'to: /home/vagrant/Code', 'to: \"/home/vagrant/'.$this->defaultName.'\"', $yaml\n    );\n\n    // Fix path to the public folder (sites: to:)\n    $yaml = str_replace(\n        $this->defaultName.'\"/Laravel/public', $this->defaultName.'/public\"', $yaml\n    );\n\n    file_put_contents($this->basePath.'/Homestead.yaml', $yaml);\n}\n\n```\n. ",
    "pYr0x": "@taylorotwell what is wrong with this PR? \n. ",
    "tiagocardosoweb": "This fix the required box in Laravel Homestead 2.0, because if you have Laravel Homestead 3.^ you need 0.4.0 box or higher.\n. ",
    "dgoosens": "btw created a new pull request, without the instructions in readme.md:\nhttps://github.com/laravel/homestead/pull/314\nand added the documentation as requested:\nhttps://github.com/laravel/docs/pull/2066\n. documentation update pull request:\nhttps://github.com/laravel/docs/pull/2066\n. hi @taylorotwell \nWhat do you mean with \"optionated\" ?\nWould not mind to implement this in another way.\ndgoosens\n. I don't have access to the official documentation...\nHow should I provide instructions?\n. thanks\nwill edit and submit a new pull request\n. that would mean Apache gets installed by default in the vbox\nthat's exactly what I wanted to avoid\nthis adds packages to the vbox that quite some users will not be using\nthe purpose of my pull request is to make it easier for those who want to work with Apache to use it just by changing one line in the configuration...\n. ",
    "tumetk": "seen\n. ",
    "DonPrus": "We really need Symfony 2 & 3 support at some projects.\nEvery time I just create a copy of app_dev.php and name it as index.php :)\n. ",
    "baseten": "Has XDebug been reintroduced to homestead? Doesn't appear to be in the latest release, even though PHP 7 support seems solid now?\n. Ah OK, I guess IntelliJ reports that XDebug is not installed because it's looking via CLI. Once I'd updated the XDebug config everything works as expected. Thanks.\n. ",
    "CodyBohn": "I manually wrote configs for self-serving software (e.g. node) like redis-commander. The process was very similar to the existing serve scripts so I just adapted it.\n. I completely understand. It might be uncommon but it's convenient for me so I thought I would share.\nIn essence it allows you to treat services that expose themselves directly on a port (e.g. 8080) as another project accessible at http://redis.app rather than 192.168.10.10:8080 or homestead.app:8080.\nI reference it in my after.sh for serving redis-commander. I also use it for front end projects that serve themselves and do hot reloading during development. The proxy portion is native to nginx.\nI hope that does a better job of explaining it.\n. ",
    "Fuxy22": "Yep. I wanted this for a long time and finally got time to implement it :grinning: \nIt's my first stab at coding ruby hope I didn't mess anything up\n. This sudden move of the files is not a very user friendly way of doing things.\nWe have deprecation for a reason.\nEither copy the files from the old folder when they exist or continue working with a depration waring and give everyone time to sort it out.. It's a bit confusing / counter intuitive. Might need to be pointed out in the docs then.. ",
    "drecken": "I was ignoring the Homestead.yaml.example file, which probably should not be ignored (kinda like .env and .env.example). \nThe reason for ignoring the other files is because I use vagrant per project, while most of my coworkers have one machine. This option allows for quick vendor\\\\bin\\\\homestead make --ignore and after.sh and aliases could be committed as after.sh.example and aliases.example if needed.\nI usually have to add those files to my .gitignore on each project and figured this would also be the case for others.\n. It doesn't change the default behavior of the command, just adds an option to remove an extra step I find myself repeating on each new project. Thought others might find it useful. Thanks for having a look.\n. ",
    "nelsonking": "hi\ni get a question on branch master ,when i use vagrant up ,it's hit me can't find laravel/homestead,but i checkout 2.0 it's ok and the most is php-fpm7 i want use it ,but default whitch site-aviable php-fpm5 \nwhat i can do ~\n. ",
    "justinmoh": "@andrewhood125 Ah, indeed. I'm new to open source collaborations, thanks for pointing out!\n. It could be improved someday in the future, or just have both simultaneously, checks for:\n- after.sh for root and,\n- user.sh for vagrant.\nA workaround for starters.\n. @jonnywilliamson \nThanks for the information, I've seen some of these examples in the previous day.\nBut I'm not really good in using unix system, so I had some hard time with these...\n``` bash\n!/usr/bin/env bash\ncontent of after.sh\nsudo -H -u vagrant echo $HOME;    # /root\nsudo -H -u vagrant npm config set prefix ~/.npm-global;\nsudo -H -u vagrant npm config get prefix;    # /root/.npm-global\nexit 0;\n```\nI couldn't target myself in vagrant's shell provisioner, perhaps it matters with how the provision script was run.\n. ",
    "jjsee": "@taylorotwell There is currently an alias for php artisan that does not work with arguments (on line 6). This is basically to fix that so that it would accept arguments. \nOr if the direction is to keep this in our own aliases file, then perhaps that line should be removed? \nEither way I will be happy to submit a new PR to either update the artisan alias as per your feedback or to remove it entirely. \n. @taylorotwell Done. The artisan() function will now include all arguments instead of just the first two. \n. ",
    "Ingramz": "@alnutile some suggestions, because I'd like this to end up in homestead.\nSurround your code with this, so that it's not required to have it installed\nrb\nif Vagrant.has_plugin?(\"vagrant-hostsupdater\")\n  # plugin specific code here\nend\nand instead of duplicating aliases in config, capture them from sites -> map values (usage), unless there is a reason why one should define them separately.\n. I already see a way to improve the make command. Instead of copying and then patching, we could just read the file, modify it and then save it to the new location. I'll keep it as it is for now.\n. @taylorotwell sorry to hear that. It seems a little odd, because rest of the configuration files already get modified programmatically and the differences between localized and regular vagrantfile can be reduced to two simple lines.\nWould you like me to do the same PR sans the modification part, so there'd be feature parity?\n. ",
    "alnutile": "Odd thing seems this is already in Laravel Homestead just not documented?\nhttps://github.com/laravel/homestead/blob/master/Vagrantfile#L34-L36\n@taylorotwell would it be helpful for me to do a PR and update the docs?\n. @jonnywilliamson thanks for the link\n. ",
    "djohnston08": "Closing, seems I was still on trusty repo and hadn't pulled in new change.\n. ",
    "TheNodi": "That sounds awesome.\nI'm gonna close this PR. Let me know if you want me to send another PR with http2 as default.\n. ",
    "josecybertill": "@browner12 how can I use this feature? I tried adding 'type: apache' to my Homestead.yaml 'sites' configuration, is that right?. Hi @svpernova09, here are the details, just so you know, it may be 'settler' related, same problem with box version 1.1.0 and 1.0.1\nI have tested with 0.2.7 and it works just fine, haven't tested any other box versions.\nVersions\n\nVagrant 1.9.1\nProvider: Virtualbox\nHomestead: I installed manually, don't have the homestead command, but am in the latest commit '5570bcb', I believe tagged as 4.0.5\n\nHost operating system\nWindows 10\nHomestead.yaml\n```yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n  - ~/.ssh/id_rsa\nfolders:\n  - map: ~/projects\n    to: /home/vagrant/projects\nsites:\n  - map: cybertill.app\n    to: /home/vagrant/projects/info\n```. Thanks @svpernova09 will try it out tomorrow, I understand the benefits of using the homestead user, however, I am tied to an app that requires root access.. Thanks @svpernova09, however, I am getting this error with the 'one liner'\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1698 (28000): Access denied for user 'root'@'localhost'\n. thanks @svpernova09, works really well. ",
    "browner12": "I don't believe there is a 'type' option for the sites.\ni'm not sure if the Virtualhosts are created automatically on provisioning or not. If not, you will need to log into your Homestead machine (homestead ssh) and then type\nsh\nserve-apache(domain.app, /home/vagrant/code/domain_public_directory)\nYou will also need to install Apache, because Homestead does not do that automatically.\nAdd this to your after.sh\n```sh\ninstall apache\nsudo apt-get update\nsudo apt-get install -y apache2\ninstall apache php module\nsudo apt-get install libapache2-mod-php7.0\nenable apache rewrite module\nsudo a2enmod rewrite\n```\nYou can then cycle between using Apache and Nginx by using\nsh\nsudo service nginx stop\nsudo service apache2 start\nand\nsh\nsudo service apache2 stop\nsudo service nginx start \nHope this helps.. oh cool! didn't know there was a type option. didn't see it in the documentation anywhere.\n@svpernova09 what does ending support entail? I feel like we don't really support it now other than the serve-apache helper function.  I still have to install and configure Apache on my own. \nAs I've said before, I'm not a fan of using Apache, but sometimes I have to.  Are there other Apache features that I'm unaware of that will be removed?. thanks for the info. \nI agree, if it becomes a pain point to maintain, maybe we get rid of it.  I've just been installing it manually so far, anyway.. i came across this issue because the native PHP functions checkdnsrr() and getmxrr where not working on my homestead box. they just kept returning false.\ni updated my /etc/resolv.conf file to use a nameserver of 8.8.8.8 and that caused those functions to work, although as you said that is not a permanent solution.  this is a little outside my current knowledge, so could you explain a little more what this does, and if there are any drawbacks to using the new option?. as much as I wish I could do everything on nginx, I work on some projects that require apache (more specifically require their htaccess file) to work.  While I am pushing towards refactoring these sites to be web server agnostic, it is a slow process.\nit is really nice to have Apache available on Homestead, so I can switch over quickly for the projects that require it.  I would vote to not remove it as long as it's not hurting anything.\nI try and be an advocate for Laravel and all its great tools whenever I can, and having support for things like apache, in addition to the preferred and suggested software, helps smooth the transition for people reluctant to change.\nmy 2c. thanks.. glad to help. Thanks for all the work you do on this project as well @svpernova09 !\nI'd like to add a note to the docs on this. Any thoughts on a good place to put it?. sounds good. thanks!. gotcha, makes sense.\nthe first time an Apache site is installed, this works fine, because Apache is installed and loaded. However, for future provisions this fails because Apache does not need to be installed, and isn't active when the reload command is called.\nI will update the PR to simply skip the reload if Apache isn't active.  Then when the user decides to turn Apache on, the reload will essentially take effect, as you mentioned.\nthanks,. I think this should address your points from the last PR.  if nginx is loaded, we will simply skip the apache reload.  then, when the user decides to activate apache, the files will be loaded.. we now generate a root certificate when the machine is built.  you can find it in /etc/nginx/ssl.  Simply copy it onto your host machine, and then make it a trusted certificate.  You can find instructions for your specific OS online.. i'm confused. why would you get a 404 on a local SPA? since we're on local wouldn't a 404 just signal to you as the develop you coded something wrong, and you need to fix it?. @zela not sure if you are aware of the flip command that was added a month or two ago.  You cannot run Apache and Nginx at the same time, so flip will turn off whichever one is active, and activate the other.  I successfully run both Apache and Nginx sites on the same Homestead machine all the time, just have to remember to activate the appropriate web server for whichever site you are currently working on.. can you show output of \nsh\nsudo service mailhog status. my guess is you need to rebuild the box.  if you're okay with it, just destroy the whole machine, and bring it up again.. mailhog doesn't automatically handle all email on the server. things still need to be configured to use it.  my guess is Wordpress by default uses the built in PHP mail function.  \nyou probably need to install a plugin that uses SMTP email, and then provide the correct credentials.. this seems kind of unnecessary. is there an issue with leaving it as is, or are we gaining some kind benefit from it?. sounds good, thanks. if you're okay breaking out of the Laravel ecosystem, Local by Flywheel is pretty good.  It is built with Wordpress as its primary target, but works good for most things. You may just miss out on some of the things Homestead installs by default, or your custom aliases.\nhttps://local.getflywheel.com/. can you post the output of vagrant -v. Everything I've come across says this is a problem with an older version of Vagrant.. yah, great job Joe!\neven though I'm trying to upgrade everything to >7.0, this will be nice for those stragglers.. thanks Joe, I'll give these a shot . is it normal to see (HEAD detached at v6.1.0) when I checkout v6.1.0?. it's only happening on my work computer, not my laptop.\nissue was still happening after I checked out 6.1.0.\nthe logs didn't seem to be showing anything relevant, but i can post them if you'd like\ni'll try 6.2.0 next week when i'm back in the office.. @andresnijder you see anything in your logs? i didn't notice anything that looked odd in mine. upgraded to Vagrant 2.0.0 and Homestead 6.2.0 today. so far working good.\nsorry to send you this super non-specific issue.  I really just have no clue where to look for ideas on what it could be.\nlet's hope it was just some weird bug caused by a very specific mix of Vagrant, Virtualbox, and Homestead, and we can just tell people to upgrade eventually.. damn, closed on me again, just now. let me know if there's any logs you'd like to see.. for those experiencing this issue, completely wipe your machine and the ~/Homestead folder, and reinstall from scratch.  I did this and haven't experienced any issues in 3 days.\nthanks for the help Joe. BTW, I thought you got rid of the code directory completely in a recent release?. I would vote for .localhost as the default. With our default files we should definitely choose one of the 4 reserved TLDs. I think .localhost makes the most semantic sense, as I see .test as your testing environment, not your dev environment.\nAnd since this is only a suggestion, people can continue to do whatever they want in their Homestead.yaml file. Personally, I'll probably stick with .app until it stops working.. yah, i'm sure you're right. MacOS is writing them for your gui users. I'm going to assume a lot of us are on the command line most of the time.. @svpernova09 have you added a fix for this to the settler box yet, for the next release? otherwise, I can give it a shot.\nor do we know what the upstream change was that caused this?. https://github.com/laravel/settler/pull/118. I'm a little confused. We can specify PHP versions on a per-site basis.  Why do we need to \"switch\" versions on the command line?\ncouldn't we just have the aliases link to the specific php versions, and let php just always link to the most recent?\nbash\nalias php56=\"/usr/bin/php5.6\"\nalias php70=\"/usr/bin/php7.0\"\nalias php71=\"/usr/bin/php7.1\"\nThis way most users can go on normally just using php file-to-run.php, and people who need a specific version can just say php56 file-to-run.php.. @jonnywilliamson well, we can do them as functions or aliases. doesn't matter either way to me.\n@svpernova09 ahhhh, i see. that kinda sucks. from what I just read it seems like running php56 composer update works okay, but then possibly fails later on because it is running php again. could someone with a PHP 5.6 project test out the following command for me? i have nothing to test it on unfortunately.\ncd into your project and run:\nbash\n/usr/bin/php5.6 /usr/local/bin/composer install\nThis should run the composer phar with the PHP 5.6 interpreter.\nMake sure PHP 7.0 or 7.1 is currently linked to php. ok. lots of digging today. hopefully moving towards a solution. confirmed with @seldaek that composer will use the version of PHP that it was called with.  you can see this with the command \nbash\ncomposer show -p\nThe shebang in composer.phar is #!/usr/bin/env php, which is our default PHP installation (currently 7.1).  We can override that by specifying our interpreter.\nbash\n/usr/bin/php5.6 /usr/local/bin/composer show -p\nThis makes me think we can just go back to using the aliases, and avoid the deleting and recreating of the symlinks.\nsh\nalias php56=\"/usr/bin/php5.6\"\nalias php70=\"/usr/bin/php7.0\"\nalias php71=\"/usr/bin/php7.1\"\nThe only thing that kinda sucks is because we are no longer using composer as the interpreter, we need to pass the actual file path.\nsh\nphp56 /usr/local/bin/composer\nphp70 /usr/local/bin/composer\nphp71 /usr/local/bin/composer\nJust thinking out loud here, we could maybe solve this by leaving them as functions instead of aliases, and saying if the first parameter you pass is \"composer\", we will automatically resolve it to this format.\nsh\nfunction php56() { \n    if $1 == 'composer'\n    then\n        /usr/bin/php5.6 /usr/local/bin/composer $@\n    else\n        /usr/bin/php5.6 $@\n    fi\n}\nThis is back-of-the-napkin. I know it's not quite right.. woot woot! now i can stop maintaining this script myself.\ni'll get a docs PR going sometime this week. thanks for merging. no worries. i'm lazy and just pull in master anyway. @ryankilf  can you ELI5 what this allows us to do? looks interesting, I just don't understand what it's for.\nthanks. how do you keep your /etc/hosts file up to date then?. yah, i noticed this when I built a box yesterday. something on their end, that we'll just have to wait a little for them to resolve I think.. i'm swamped at work right now, so my OSS work is going to take a hit.  If anyone wants to tackle this, go right ahead.. are you proposing something, or is this just informational?\nafter I created the Elasticsearch install script, I went back and debated if I needed to add some kind of supervisor to keep it up.  I felt that was overkill on a dev-machine, so I just left it out for people to restart if they needed.\nsudo service elasticsearch start. @natsu90 you cannot. Chrome forces something called HSTS on these specific TLDs.  Switch to an approved TLD (.test is the suggestion) to avoid this issue.\n@dorin-niscu http://homestead.test will work because Chrome does not force HSTS for it.  https://homestead.test should work, we automatically configure HTTPS with Homestead sites. However, since the self signed certificate is not automatically trusted by the browser you will either need to add it to your computer's trusted certs, or just click the proceed with caution button in chrome.. can you explain this a little more?. someone else recently had this issue on the Slack channel. i'll dig a little in the repo.\nmay be an upstream change on the box, too. relevant line: https://github.com/laravel/settler/blob/master/scripts/provision.sh#L100\nBTW, it looks like Laravel Envoy and Installer should be installed automatically for you, too.. very strange. if you bring up homestead, log in, and then run that line, it will output correctly.\nbut if you destroy & up, it is not getting it right.\nso it seems like someone the composer global 'home' option is not defined correctly at that point in the script, although I don't see how. could there be some type of race condition here, or should all this stuff be executing sequentially?. possibly relevant line in composer.\nhttps://github.com/composer/composer/blob/master/src/Composer/Config.php#L266\nalso, if I composer config -g -l in Homestead, it returns with the 'home' key correctly set. yah, i was trying to dig into where composer would set that config, but I can't find anywhere else it would be doing that other than the initial install.\nJoe might have some more insight this week.. vagrant up does not create Laravel files. You need to create that yourself or using the laravel new command.\nFYI, Joe is building a new base box today. . ping @svpernova09 \njust realized we never fixed this. any thoughts on how to get the Composer bin in our $PATH?. just did it a couple minutes ago on an up to date repo, most recent box, and newest vagrant and virtualbox.\nhad to run the PATH export manually.\nI'll check again next time I do a destroy.. sounds good.  i'm running a destroy and up again right now to confirm.. huh... worked this time.   computers \u00af_(\u30c4)_/\u00af. interesting note: version 6 has defaulted to allocating 1GB of RAM to the heap.. i would prefer to keep it. not everyone upgrades their ES right away.\nbut we don't need to go crazy and keep every version from here on out, maybe we could do a rolling version where we always keep the last 2 versions.. glad to help. i'll try and get to the docs this evening.. https://github.com/laravel/docs/pull/3923. please follow the docs: https://laravel.com/docs/5.6/homestead#installing-elasticsearch\nyou'll have to figure the port forwarding out on your own.  shouldn't need it by default.. what is the ELI5 of this package? no where does it mention what it does.. @kevindierkx  this is awesome! thanks!\nanother nice thing is now I can keep my .app TLDs.\ncould you PR to laravel/docs explaining this change, and adding instructions to add the root cert to your hosts trusted keys?. been updating all my homestead machines with this change today, loving it.\n1 question that has come up, and I'll preface this by saying my understanding of how the certificates work is definitely not advanced, will each installation have a different root certificate? That is to say, Joe's Homestead CA cert will be different than mine, correct?. also a note here, every time you destroy Homestead, you'll need to re-trust the root certificate.. There is no one way to \"debug in Homestead\". \"debugging\" is too generic of a topic to include in the Homestead docs. \nHomestead is a pretty generic Ubuntu box, so there's lots of documentation out there.\nI would also suggest opening a Stack Overflow question for your specific issue with as many details as possible.. is this because you have multiple Homestead installs on one machine?. good idea.. @svpernova09 I don't think that's accurate that \"Apache purges Nginx\". I've used both on the same box before, unless something's changed since I added Apache support.\nI also added that flip command that allows you to alternate between Apache and Nginx on the box.\nAm I wrong on this?. I am just getting into this issue, but @svpernova09 I don't think your solution is the direction we want to go.  from the documentation here https://help.ubuntu.com/lts/serverguide/NTP.html#timedate-info\n\nntpdate is considered deprecated in favour of timedatectl and thereby no more installed by default.\n\nfrom what I'm reading, I think we'll actually want to revert that commit, and then also remove 'ntp' from our list of installed software.\nEspecially if our next base box is going to be Ubuntu 18.04 I don't think we want to use the deprecated stuff.. sounds good. thanks. @raphaelbeckmann here's a custom function I use that's been working for me, I think someone in this thread came up with it.\nsh\nfunction datesync() {\n    sudo service ntp stop && sudo ntpd -gq && sudo service ntp start\n}\nit's probably just a bandaid until we can find a permanent solution.. Joe will be releasing a new box (his goal was by the end of the month) to address Xdebug compatibility issues.  I would suggest waiting for that.. it is mostly dependent on a Xdebug shipping v2.6. yah, this was the error I was seeing.  I did a vagrant box add laravel/homestead which must have updated this file, and fixed it.. yah, we're going to need a lot more information to help with this issue.\nPlease post your entire Homestead.yaml file, which provider you are using, your host OS, and any modifications you have made to your Nginx configuration.\nAlso I would look in /var/log/nginx/error.log and /var/log/nginx/name-of-domain.log, and post any relevant info.. your output does not look like a destroy and up.  It's way too short for you to have done a destroy first.\nplease run a vagrant destroy && vagrant up first. damn, you beat me to it Joe.. This is due to Hashicorp changing up their URLs a little.\nThe easiest way I found to get around this is remove all of your Vagrant boxes, and then re-add the Laravel Homestead box.\nIf you feel comfortable messing around, you can try this suggestion from another issue as well.\n\nI believe that this is due https://atlas.hashicorp.com/ being decomissioned (as you can see when you access https://atlas.hashicorp.com/laravel/boxes/homestead/ ) , please run\nsed -i -- 's/atlas.hashicorp/vagrantcloud/g' ~/.vagrant.d/boxes/*/metadata_url\nand check if this solves the problem\nIf you aren't on linux, open the file ~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/metadata_url using a text editor and change it's content to https://vagrantcloud.com/laravel/homestead\n\n. LGTM.\nthanks for the update!. thanks for the report @micc83 . we actually discovered this issue a couple days ago in the Slack channel. It seems to only affect php7.2 on the CLI.\nI have personally run into the issue running database seeds. The solution for now is to use php 7.1\nsh\nphp7.1 artisan db:seed\nWe are planning a fix and a new box release in the next couple weeks.\nHere is the relevant settler PR.   https://github.com/laravel/settler/pull/145/files. was this actually documented as a feature? I imagine it was just dumb luck that it worked.. the Homestead command does not exist by default, it is simply an alias to to vagrant.  For example, in Mac we map Homestead to:\ncd ~/Homestead && vagrant $1\nI can see in your Gist that there was an error when running vagrant up, so provisioning did not finish successfully on the machine.\nGithub issues are reserved for bug reports and enhancements. Please close this issue, and move it to a forum like StackOverflow.\nThanks!. I feel like these should be left up to the user's discretion, and added to the aliases file as needed.. I'm not as familiar with Symfony Flex, but from what I've read, don't you need to be in a project directory that has symfony/flex installed in the composer dependencies for this to work?\nI don't believe this is a global feature, but rather a project specific feature.. I don't think we'd want them on halt or provision. Seems like unnecessary overhead, and neither of those commands will delete DBs.\nIf we were to do anything, I would say we extract the feature into a bash script the user can choose to execute at their leisure.. Send a pull request, and we will be happy to look at it.. Have you used the same Homestead.yaml throughout all tests? so the amount of memory and number of CPUs has been consistent?. Vagrant can behave oddly when it find unexpected tab characters.\nBased on your Homestead.yaml, it looks like you have some extra characters in there.  Please place exactly 4 spaces prior to the - map: and exactly 6 spaces prior to the to: and try again.. please remove the changes to composer.json from this PR. Anything out of the ordinary in your Nginx or PHP logs?\nCan you run Blackfire on one of the slow pages, and share the results? Would be interesting to compare the wall time vs what you're actually experiencing.. yah, this is a tough thing to debug.  If you ran Blackfire on the Homestead Box and on production, and we saw a function or something performing much worse on HS, would that help us narrow the problem?\nAnother random thought, you don't have anything like Xdebug turned on?. we recently had a user noticing slow migrations and test, and it turned out to be due to the type of hard drive he was using.\ntake a read through this one (https://github.com/laravel/homestead/issues/896) and maybe it helps. sorry we couldn't figure anything out. keep us posted if any new info comes up. . hey @karmon what debugger are you talking about? A system debugger? or something in the app?. install Vagrant 2.1.0\nhttps://www.vagrantup.com/. the Vagrant version is different than the version of the box you are installing.\nvagrant box update updates this box, which is not what you're looking for in this case.. hah, nice work @svpernova09 . What is \"thinkphp\"? It's a little hard to tell from the website. A framework, a CMS, other?. I'm not following, why will NPM not work on 6.4.0?\nYou can run this yourself if you'd like, but we will not (can't) update the defaults until a new box is released.\nOr you could add this to your after.sh script so it runs when you provision.. he's saying use that as a jumping off point for you to code your own installation of whichever specific DB you'd like.. yah, i think we just need to wait for the next box, and then this line will take care of it.\nhttps://github.com/laravel/settler/blob/ad24fcbe0baacb9b570fdc980e960b8859e6beef/scripts/provision.sh#L106\notherwise users are free to manually install if they really need the new version for now.. just checked my /etc/resolv.conf and I also have 127.0.0.53. I'm also on MacOS.\nThis seems new, as I'm pretty sure my old box had 10.0.2.3.\nI've been having possibly a different issue where I can't access the sites on Homestead after the machine has gone to sleep, unless I destroy && up the box.. I think these are better served in your personal aliases file.. I think these are better served in your personal aliases file.. they only happen to be the same at this moment. when we make changes they will get merged into the master branch, and at this point master and the latest release will not be the same, until a new release is made.\nthe recommended best practice is to checkout a specific version (not master).  the master branch is not guaranteed to be stable, so use it at your own risk.\n. can you submit a PR?. Is this on a per-project install, or the global install?. For me this was related to Xdebug, which doesn't seem to yet be compatible with PHP 7.3.\nTo continue using 7.3, you can turn Xdebug off with\n```\nsudo phpdismod xdebug\nsudo service php7.3-fpm reload\n```. There's nothing to be adjusted. We're waiting for an upstream fix from Xdebug.  For now either disable xdebug or set your sites to use 7.2. open up your \"Activity Monitor\" and check the Energy Consumption of Terminal.\nI was having a high energy use when I closed the clamshell on my laptop, because Virtualbox was not shutting down correctly. \nTry halting you machine and then bringing it back up, and then see if the high power use continues.. when sitting idle Terminal should be under 20 energy consumption. at peak usage it can be 100-150.\nyah, just restart the machine, and this usually goes away.. yup, that's expected to have high resource usage with processes like that.. nope, don't get hung up on that unless it's always running hot, even when idle.. Unless NPM has squared this stuff up, I'd actually advise against running in the host.  I've had issues in the past where the installed dependencies were different depending on if I ran in the host or the guest.\nHopefully that's not an issue anymore, and you can do it either place.. can you manually start apache either with\nsudo service apache2 start\nor\nflip. yah, always a little bit of a race condition you can run into here with both Apache and Nginx installed. thanks for looking into this Joe. good to know is nothing screwed up on our config.. spelling\nsuggestion\n    # Configure Verify Host Key. can we simplify this to use our default in the else conditional? also, we need to use input from the settings.  not sure about the naming though....\nsuggestion\n    # Configure Verify Host Key\n    if settings.has_key?('verify_host_key')\n      config.ssh.verify_host_key = settings['verify_host_key']\n    else\n      config.ssh.verify_host_key = true\n    end. 4 spaces\nsuggestion\n    # Configure Verify Host Key. ",
    "Utkarsh-vishnoi": "How exactly I am gonna run a command for each and every-time I do vagrant up. I wanna do this Because setting up homestead is easy then entirely configuring another base box.\nIf you got any other method that is not odd. I would love to hear it. :+1:\n. OK\n. Yeah i had the same problem too, but when i installed gulp on both in homestead and my host OS(windows). It worked. \n. ",
    "morloderex": "I believe that the issues with vagrant versions piror to vagrant 1.8.4 is still present when running homestead. \n. ",
    "taliptako": "Many offical repositories of Linux distributions have older version from 1.8.4 so i also have and i'm manually removing this line always ...\n. ",
    "crynobone": "@taylorotwell could we have v2.2.2 release soon, here the only different:\nhttps://github.com/laravel/homestead/compare/v2.2.1...2.0\n. Thanks \u2764\ufe0f \n. ",
    "blaise-zaga": "Hi Taylor,\nThis section of code \napt-get remove -y --purge mysql-server mysql-client mysql-common\napt-get autoremove -y\napt-get autoclean\nin homestead/scripts/install-maria.sh is responsible for removing HHVM.\n. ",
    "Djuuu": "To avoid this kind of problem in the future, I think we could try and use only one Vagrantfile.\nThat's what I tried in 0692418, but I'm not sure it's elegant enough.\n. ",
    "Vercoutere": "I don't know if this could be useful in any way for an Apache setup, feel free to comment on that.\n. @taylorotwell alright!\nMay I ask what your reservations are around implementing this at this time?\nI am currently running this as my main development environment, so if there's any possible issues with my approach I'm not aware of, I'd like to know.\nLet me know if you want me to make another pull request in the future.\n. ",
    "Swanty": "Probably another solution is to just simply add the missing keys.dev.pub and keys.tags.pub to the homestead vagrant box itself\nEdit: Or maybe not, because once a new composer update comes out we will have the exact same problem.\n. ",
    "jordanramstad": "Thank you, I have done the adjustment.. Just a note this does not add the option to parallels since its mac only and I do not have access to a mac nor am I familiar with parallels.. The network solution seems to work! I have not tried the second one but it does seem far more involved then adding an additional network.\nI reloaded and destroyed and remade just to be sure and it seems to persist without a problem.\nThanks You.. I just found out about it (I don't know how I missed it before I worked on this). This is more extensible but most of it is covered by after.sh. \nI feel this is a better solution but there is nothing wrong with after.sh in terms of usability.. I have never really run into a problem using git on windows. I guess it depends on your workflow though. Most GUI's make Git Bash easily accessible and Sourcetree for instance lets you open Git Bash right in the repo directory. I find although using the git commands works, its quicker and more beneficial to my workflow to use a GUI and I always have the ability to do it manually if need be.\nAnyway the point being that although git may be handy to use through the virtual machine its much easier to use it in the host (windows). I have actually never run into any issues with git specific to windows.\nAnyway just my 2 cents on it as a fellow windows user.. Forge also can do auto deploy, so when you commit to the right branch it can auto deploy to forge, making it fairly seamless.\nHomestead/Vagrant is built with a mindset to \"forget security\" (since it assumes its only accessible on your LAN) It basically just does the bare minimum just so you can get your local test environment going without hitting any walls.\nThere is ways to temporarily make your local \"live\" even using https https://ngrok.com/ There is a number of services like this that can make a tunnel to your local if you need to do things like webhook testing.\nAlthough I don't use it Docker is another solution, homestead cannot run on it but setup correctly you can use the same containers for live and local.. I think the problem stems from them being different OS's. Mac is a closet linux box so it uses a similar kernel, and that kernel is the same as homesteads (probably oversimplifying this point though). So its not a bug in Windows, just a result of different operating systems.\nAnyway I am a windows user, and with the right IDE/editor this never really becomes a problem. I understand some people need to use certain editors that might not have this feature so I would have to +1 this idea, it brings the functionality that \"recommended\" editors have, making Homestead more accessible and \"magical\" \ud83d\udc4d \nThink in the mind of someone just starting out with laravel and uses windows. If they get locked up in this problem and find that the solution is to change the programs they use / manually fix it they are likely to not get far before giving up. I originally had some problems when first starting out as well and DID give up, it was when my job decided to use it I took another look and am thankful I did.\nThe entire point of using VM's is to run the application is a dedicated container, the host should not matter. If there is a solution that removes a barrier on a specific host I think its a good idea to go for it.. I would say since laravel does not use mongo in the core it might be best to keep this out of default homestead.\nThat being said the ability to support it I feel would be good, just that it might be best to somehow do it though add-ons rather then in the main package.\nThe reason I think this if its supported in the core it needs to be maintained in the core, and its one more application that will need to be tested/checked in every version on every OS/Provider.\nJust my thoughts on it anyway.. Yea I figured this was something that removing app armor by force was not the best idea, but at least it has a solution to get around it if it plagues anyone for now.\nSeems to be a bug in ubuntu based on the issue report I listed, but its one of those discussions that never end and never reach a resolution kind of issues since it seems specific to certain use cases....\nAnother solution might be implementing proper rules for apparmor, mariadb has a default that is just a comment saying that mariadb avoids apparmor unless you add anything to that file, clearly something can prevent that from working.. This is also happening on vmware workstation 12 as a provider.\nGoing to try to debug myself but it seems this is not specific to Virtualbox 5.2\nEdit: \nAfter playing around a bit I noticed that it only happens when using vagrant ssh if you use ssh vagrant@IP_OF_HOMESTEAD it seems to work just fine.\nI don't know enough of the internals of vagrant to know what it does during login to cause it, but it might be more of a vagrant issue if it can be confirmed on 2 providers, at least if other vagrant boxes also have this issue.. I have done some more testing and managed to recreated it on both Virtualbox 5.1 and Vmware Workstation 12, both on windows. \nI have tried it in powershell and got it to work on both, It seems it might be related to MINGW32, the default(only, other then command prompt) shell of sourcetree. Changing the shell seems to work, but given that many applications, not just sourcetree bundle it as a shell, hopefully there is a way to bypass it because I doubt even if MINGW32 makes an update, the applications bundling it will update quickly as well.......\nEDIT: found a related issue now that the cause was tracked down\nhttps://github.com/hashicorp/vagrant/issues/9143\nSeems to be a number of \"workarounds\" but no fixes yet.\nAfter testing vagrant 1.9.8 and 2.0.0 it works in both, its only 2.0.1 that this seems to have been introduced.. Another thought is that adjusting headers usually might have a specific purpose and it is local (so security stuff is less important, focusing on ease of development)\nSo might be able to simplify to this\nsites:\n    -\n        map: image.homestead.test\n        to: /home/vagrant/code/public/storage\n        cors: true\nThis would effectively just ensure cors headers are added to requests, since I cannot think of other things that might be needed to adjust headers for from the nginx/apache level. This option would just lower flexibility but make it easier to configure.. ",
    "jaden": "I did that. I also went one step further to take homestead out of the equation. I created a new folder, ran vagrant init then pointed at the latest homestead box. Both attempts resulted in the same behavior.. In order to rule out an issue with my configuration, I reproduced this on another Windows 7 x64 machine on a different network and got the same result.. Yes, 5.0.x on both. I thought 5.0.18 was the latest version. Thanks for the pointer to 5.1. I'll upgrade and report back.. 5.1 fixed the issue. I can use homestead 0.6.0 now. Thanks for the help!. ",
    "marabesi": "@svpernova09  https://github.com/laravel/homestead/issues/373\n: ). Hello @svpernova09 ok no problem thanks for your time.\nJust a quick correction in your solution, is not possible to add the mysql command into after.sh. This is because homestead executes previous sql statements that rises the error.\nAlso I know that this issue is not caused by virtualbox version, this issue is in the MySQL.\nAnyway, thanks !. Hello @andrewhood125 I just noticed this issue because I was trying to create a shell script to automate the homestead + vagrant setup.\nThe issue is really simple, when I use the 0.3.3 box I can't execute any mysql commands till I update the password.. ",
    "w0rd-driven": "The later boxes don't have this problem because MySQL 5.7.10 relaxed the default_password_lifetime setting back to 0 from 360. The date of the passwords for homestead and root were set on 11/13/2015, 360 days after that, or 11/7/2016, both of those passwords expired. The key to noticing this is in the note section of https://dev.mysql.com/doc/refman/5.7/en/password-expiration-policy.html, specifically From MySQL 5.7.4 to 5.7.10, the default default_password_lifetime value is 360\nThe fix of setting the password is only a bandaid as 360 days from provisioning the password will expire again.\nWhile Homestead v3+ allows you to set the version like this, the provisioning scripts run service php7-fpm restart which won't work on this box as it's PHP 5.6. If your intention is to support 5.6 it's better to use Homestead v2 and as such, apply the more permanent fix there.\nIt would look something like the following:\n```\n!/usr/bin/env bash\ncat > ~/.my.cnf << EOF\n[client]\nuser = homestead\npassword = secret\nhost = localhost\nEOF\nDB=$1;\nblock=\"[mysqld]\ndefault_password_lifetime = 0\"\necho \"$block\" > \"/etc/mysql/conf.d/password_expiration.cnf\"\nservice mysql restart\nmysql -e \"CREATE DATABASE IF NOT EXISTS `$DB` DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci\";\n``\nNote: This will not work for any other version the box because the mysql config directory changed in higher versions of MySQL 5.7 as well. It should no longer be needed honestly, or at least until the MySQL gods wish to inflict this scourge upon us again.. I don't think I mentioned it, but the later versions of settler and subsequently boxes >0.3.3have thedefault_password_lifetimeexplicitly set to0` as covered by laravel/settler#60. http://mysqlserverteam.com/an-update-on-default_password_lifetime/ talks about the option possibly being revisited in the future so it's good that it's already handled.\nFortunately, it seems this issue is only specific to 0.3.3.\nI submitted this PR to settler and the work involved was extensive to say the least, just to try to upgrade MySQL beyond v5.7.10. The box I created from this patch is primarily functional but I don't have projects that would put Postgres, HHVM, Redis, or any of the other services through their paces. The easier fix is to just patch Homestead as I couldn't guarantee the changes in ppas or system packages didn't radically destabilize the system.. You wouldn't need to call mysql --connect-expired-password -e \"SET PASSWORD = PASSWORD('secret');\"; at all, unless you wanted to reset the password time.\nSetting default_password_lifetime is enough to solve the problem the next time MySQL is started.. This is a dupe of #373. 0.3.3 refers to the box version being used. Upgrading to the latest homestead and vagrant box is a non-starter for those of us that prefer to support PHP 5.6.x as 0.3.3 is the last box before the push to PHP 7.x.. ",
    "nietzscheson": "@svpernova09 Yes. I know it looks ugly. Ugly. But, for now is the only way that works for me and I think it could serve.\nIn Symfony the dev environment skips many validations. If you rely on developing locally, everything in dev, and then launches to production there could be many problems ...\nIf there is a better way, please share it.. @svpernova09 in the second commit I modify the script so that by default nginx over write /app.php and if the dev environment is required the developer type /app_dev.php. This avoids commenting on lines of text. ",
    "JulienTant": "Sure. This is not per say an homestead issue, but as you can see in the PR a single line will fix the problem.. ",
    "ralf57": "@svpernova09 I had the same issue and, for several reasons, I can't update to VirtualBox 5.1.\nI think this little PR should be merged since it benefits those who cannot be on the latest VBox. ",
    "wesleyhf": "I had the same problem. I solved by updating Virtualbox and vagrant to latest version.\n\n. ",
    "sebastiaanluca": "This still proves to be an issue using Homestead 4.0.1, laravel/homestead 1.0.1 box, VirtualBox 5.0.30 (the latest as of today, 5.1.x is not out yet?), and vagrant 1.9.1 (also just updated). Times out while setting up network interfaces. New box and Homestead setup as of today.\nI enabled \"cable connected\" in VirtualBox settings (while it was running) and it continued to boot after setting up the network interfaces. Is a vagrant of Homestead fix still pending to be released or is this an unsolved bug? Let me know how I can provide additional details.\nAlso see https://github.com/chef/bento/issues/682#issuecomment-251865276.\n\u2014 I'm on a Mac btw. Also applied fix https://github.com/laravel/homestead/pull/382/commits/44a588fc254ad7c71a7254e5a42bf5d4e1a18e27 and boots fine now.. @svpernova09 I downloaded the latest version from their site (today) and installed it, yet it shows 5.0.30 while the site now displays 5.1? Very weird. Will try again.. ### Error\nIt's identical to https://github.com/laravel/homestead/pull/252#issue-102096039, so what happens:\nvagrant global-status --prune (executed from anywhere):\nHomestead settings file not found in /Users/Sebastiaan/[directoryofrandomprojectusinghomestead]/vendor/laravel/homestead\nvagrant box prune inside a folder with Vagrant set up:\n```\nThe following boxes will be kept...\ngeerlingguy/ubuntu1604 (virtualbox, 1.1.6)\nlaravel/homestead      (virtualbox, 4.0.0)\nubuntu/trusty64        (virtualbox, 20171030.0.1)\nubuntu/xenial64        (virtualbox, 20171028.0.0)\nChecking for older boxes...\nHomestead settings file not found in /Users/Sebastiaan/[currentprojectdirectory]/vendor/laravel/homestead\n```\nvagrant box prune inside a folder with no Vagrantfile or .vagrant directory: deletes all old boxes as expected (no errors).\nGlobal status\nvagrant global-status shows me all the virtual machines without errors.\n```\nid       name                provider   state    directory\n\n4a84e20  [redacted] virtualbox poweroff /Users/Sebastiaan/[redacted]\nc9a5b98  [redacted]          virtualbox poweroff /Users/Sebastiaan/Workspace/[redacted]\n73995ca  homestead           virtualbox poweroff /Users/Sebastiaan/Homestead\n34497ff  [redacted]                virtualbox poweroff /Users/Sebastiaan/[redacted]\n22a2492  laravel-skeleton    virtualbox poweroff /Users/Sebastiaan/[redacted]\n601d595  default             virtualbox poweroff /Users/Sebastiaan/[redacted]\nff27d5a  [redacted]                 virtualbox running  /Users/Sebastiaan/[redacted]\n```\nVagrantfile\n\nWhat does unchanged Vagrantfile except for the paths. mean?\n\nI always change the before and after script paths so it uses my own scripts to provision the virtual machine. Nothing else in the file is changed and it uses the referenced fix, so it shouldn't throw an error when trying to prune/list the box/VM.. Yeah, it somehow stumbles on the relativity of the paths. Vagrantfile seems to look for the Homestead config in its own composer vendor directory instead of 3 levels up (project root). Thought the PR fixed that, but must be something else still in there that uses relative paths.\nManually deleting machines would be a hassle though. Both prune commands are very easy in that they check which machine or box is still in use and warns me about that before deleting it \u2014which is why I want to use those commands. This bug prevents me from cleaning up boxes/machines and thus valuable disk space :p There's also a Vagrant \"bug\" where a 'default' machine is listed, but doesn't exist anymore. Only pruning all machines seems to solve that.. Hey, any update on this? Can't remove any boxes through vagrant now either. Same error. Don't want to delete individual VMs, just (outdated) base boxes.. That's a somewhat fine workaround for deleting active virtual machines, but I want to delete outdated vagrant boxes. The only way to know which ones are outdated \u00e1nd aren't used by any virtual machine is by running the prune and/or outdated command, but that doesn't work because it halts on Homestead settings file not found in \u2026. So basically those (and perhaps other) vagrant commands are broken if you have at least one Homestead VM.\nI'd be happy to debug and maybe even fix this myself, but I have no idea where to look or what the issue is.. Just a list of all my current and previous virtual machines, including those that don't exist anymore.\n```\n$ vagrant global-status\nid       name                  provider   state    directory\nf3e064d  default               virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\nc9a5b98  redacted              virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\n73995ca  homestead             virtualbox poweroff /Users/Sebastiaan/Homestead\n22a2492  redacted              virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\n601d595  default               virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\nb1070ae  homestead-7           virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\n9ae2371  default               virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\n3d5c50b  redacted              virtualbox poweroff /Users/Sebastiaan/Workspace/Projects/redacted\n6becafe  redacted              virtualbox running  /Users/Sebastiaan/Workspace/Projects/redacted\n8ad6c1a  redacted              virtualbox running  /Users/Sebastiaan/Workspace/Projects/redacted\nThe above shows information about all known Vagrant environments\non this machine. This data is cached and may not be completely\nup-to-date (use \"vagrant global-status --prune\" to prune invalid\nentries). To interact with any of the machines, you can go to that\ndirectory and run Vagrant, or you can use the ID directly with\nVagrant commands from any directory. For example:\n\"vagrant destroy 1a2b3c4d\"\n```\n```\n$ vagrant box list\ndebian/stretch64       (virtualbox, 9.4.0)\ngeerlingguy/ubuntu1604 (virtualbox, 1.1.6)\nlaravel/homestead      (virtualbox, 2.1.0)\nlaravel/homestead      (virtualbox, 5.2.0)\nlaravel/homestead      (virtualbox, 6.1.0)\nubuntu/trusty64        (virtualbox, 20171030.0.1)\nubuntu/xenial64        (virtualbox, 20171028.0.0)\n```\n```\n$ vagrant box prune\nThe following boxes will be kept...\ndebian/stretch64       (virtualbox, 9.4.0)\ngeerlingguy/ubuntu1604 (virtualbox, 1.1.6)\nlaravel/homestead      (virtualbox, 6.1.0)\nubuntu/trusty64        (virtualbox, 20171030.0.1)\nubuntu/xenial64        (virtualbox, 20171028.0.0)\nChecking for older boxes...\nHomestead settings file not found in /Users/Sebastiaan/Workspace/Projects/sebastiaanluca.com-vm/vendor/laravel/homestead\n```\n```\n$ vagrant box remove laravel/homestead --box-version=2.1.0\nHomestead settings file not found in /Users/Sebastiaan/Workspace/Projects/redacted/vendor/laravel/homestead\n```. Uhm, every time I run that remove command it's a different project. Usually the last VM that got booted. Not going to delete active VM's \ud83d\ude05 \u2014 Just trying to say here that I can remove every .vagrant dir and VM from my system, but it'll just pop up again when I set up a Homestead VM.\nSo IMO it just reads the Vagrantfile of every vagrant VM and fails because of those relative paths or something similar. So not sure what your goal is trying to find all machines on my system?. I only have test data in my VMs ;) Just had an older Homestead installation that I don't have the test data for anymore, but I managed to make a backup of the existing data.\nI ended up purging everything related to Vagrant and Homestead from my system to start anew. No boxes, no VMs, no .vagrant directories left anywhere. Since I only have one box and 2 identical VMs now, the commands seem to work again without errors. Will test again when I have some more from other projects.\nThanks for the help!. FYI, you can disable SSL certificate checking on localhost (and even globally or for some sites).\n\nchrome://flags/#allow-insecure-localhost\nhttps://superuser.com/questions/772762/how-can-i-disable-security-checks-for-localhost. For reference: clearing the (machine) NFS entries in /etc/exports fixed this issue for me after upgrading to macOS Mojave and/or vagrant 2.1.5.. This seems to cut my migrations' run time in half (from 3 minutes to 1.5), but the provisioning command to set those values doesn't seem to work? New Homestead VM and values stay at 8 after boot and provision.\n\nDoesn't work (https://github.com/laravel/homestead/pull/898/files):\nsudo echo 0 >/sys/block/sda/queue/iosched/slice_idle\nsudo echo 0 >/sys/block/sda/queue/iosched/slice_idle\nWorks:\nsudo sh -c \"echo '0' >> /sys/block/sda/queue/iosched/slice_idle\"\nsudo sh -c \"echo '0' >> /sys/block/sda/queue/iosched/group_idle\"\nEdit: this change is also temporary, so it currently resets to 8 on reboot. We'd have to set up some script to apply changes on boot. For reference: https://github.com/fossology/fossology/wiki/Improving-IO-performance.\nNo luck with the general NFS read/write slowness of the VM though (https://github.com/laravel/homestead/issues/901). Takes half a minute to load a simple page :(. Update the commands and unless Homestead.rb runs on every boot, they'd have to run in a boot script so they're not applied just for the current session.\n\nNFS....it's a beast with virtualization :/\n\nTrue, but haven't found the real cause yet. A default Ubuntu box provisioned with Ansible and using NFS for synced folders runs fine and fast. Homestead by default takes 22+ seconds to load a single page and 3 minutes to run our migrations. With this fix applied, I can cut that down to 8 seconds and 1.5 minutes, but it's still quite unusable. So this leads me to think it's a setting somewhere that needs tweaking, but who knows \u2026\nCurrently thinking of provisioning a box with Ansible and using Homestead to create sites and sync folders. Maybe that'll work better \u00af_(\u30c4)_/\u00af. > Can you share the ansible playbook and / or the Vagrantfile + configuration so I can compare w/ Homestead?\nDon't have anything ready to share right now. Will have to set up an example project first to illustrate the speed difference which can be tested by a few. Maybe it depends on which machine it runs on (even with the same amount of CPUs and memory).\nBut in short: basically just the most default Vagrantfile using the ubuntu/bionic64 box, 8GB of memory, and 4 CPUs (same variables as with Homestead) provisioned with PHP, nginx, and MySQL using geerlingguy's packages. I have a ton more stuff added like Redis, etc but the basics should suffice. If it works fast with those extras, it should work fast(er) without.. Ah, finally found a relatable issue :) If I read everything correctly, the problem wasn't resolved?\nTried a lot of options and settings already, but no dice. As you can see below, it takes about 20 seconds to load a simple login page when synced via NFS:\n\nThe project previously loaded in less than 2 seconds, so some update of macOS, Vagrant, VirtualBox, Homestead, or whatever seriously slowed this down. I can confidently say it's a disk I/O issue as running composer install or rm -rf vendor/ is terribly slow. Weird thing is, vanilla Vagrant boxes provisioned using e.g. Ansible (or not at all) perform fast as expected. Maybe a combination of the bug mentioned below and the project or files?\nAnother weird quirk: getting 502 Bad Gateway errors when xdebug is enabled in the latest Homestead. No issue a few versions back. Checked the logs, but couldn't pinpoint a single cause so tried it the old-fashioned way of enabling/disabling things.\nReferences\n\nRelated High Sierra Vagrant issue: https://github.com/hashicorp/vagrant/issues/9267.\nMy Homestead.rb\n\n\nEdit \u2014 Thinking this might be an issue where a service is clogging the disk I/O. @driesvints Did you have Supervisor set up on your Homestead VM? Specifically with a Horizon and/or other jobs running. If I disable the Supervisor service, my page load decreases from 20s to about 6 seconds.\nOdd thing here is I don't have this issue on other non-Homestead VMs. Are there any services installed by default that are heavy on disk usage/load?. Can't really deduct it from the file changes; does this support SSL/HTTPS?\nIf not, maybe we can add it? For example, we're currently manually setting up Minio:\n```bash\n\u2026\nmkdir -p /home/vagrant/Downloads\nwget -O /home/vagrant/Downloads/generate_cert.go https://golang.org/src/crypto/tls/generate_cert.go?m=text\ncd /home/vagrant/Downloads\ngo run /home/vagrant/Downloads/generate_cert.go -ca --host \"192.168.116.20\"\nmv /home/vagrant/Downloads/cert.pem /home/vagrant/.minio/certs/public.crt\nmv /home/vagrant/Downloads/key.pem /home/vagrant/.minio/certs/private.key\nRestart Supervisor job, etc\n```. ",
    "pvledoux": "Same problem here since I upgraded to homestead 4.0.2. I upgraded to VirtualBox 5.0.1 but with no effect, still have this message when I boot the box:\n\nThen Vagrant timeout.. I saw the explanation here a bit late. Just checking the Connect Cable setting in VirtualBox do the trick.. ",
    "thecrypticace": "It should probably be changed at the database config level (during provision in settler); not just for the create database statement. If you do not change it in the configs new databases could still default to latin1 or utf8 instead of utf8mb4.. Will do.. Sure thing. No rush. Thanks for checking in.. \ud83c\udf89 . This functionality partially exists already (enabling and disabling per environment) via the phpenmod and phpdismod commands. It works for any PHP module.\nYou can optionally specify a given PHP version with -v and the SAPI/environment like FPM or CLI via -s. Both of these default to ALL\nSo, for the enabling / disabling at least, you don't need to edit the ini files.\nSome sxamples:\n1. Disable for PHP 5.6 on the CLI: sudo phpdismod -v 5.6 -s cli xdebug\n2. Disable for all versions on fpm: sudo phpdismod -s fpm xdebug\n3. Disable everywhere: sudo phpdismod xdebug\n. Something else you can do to execute composer with a given PHP version in a one off manner without needing to deal with the full paths:\nphp7.1 `which composer` update\nI do this rather often for projects that don't yet support PHP 7.2.. I've seen this many times. It only applies to /. If the url has any path at all it works fine.\nMethods affected:\n- PUT\n- PATCH\n- DELETE\n- TRACE\n- OPTIONS\nI'm guessing it's some nginx config thing or some odd default behavior.. I don't even think it's a Homestead configuration issue. I think it's an Nginx issue.. Heh. I guess I never thought to add it to the ignore. Good idea! \ud83d\udc4d\ud83d\udc4d . I was having some major VMWare issues with homestead recently on a new Mac (so its definitely not just limited to Windows installs). I ended up having to install VirtualBox as a workaround. I spent several hours trying to fix stuff. I believe the issues are somewhat related to the vagrant vmware utility service. I kept having port conflicts and when I tried to fix them stuff was breaking because of the utility service daemon. Once I got passed all of that I got the machine to provision once but then would be stuck at waiting for SSH whenever I tried to re-up the box.. Whatever the latest Fusion is. 10.1.2 I think.. Interesting. Were you able to halt and re-up the box?. Okay, I got the box to provision once or twice but any further operation wouldn't work on the box for some reason.. I wasn't sure of the best way to handle this. I underscored these helpers because they're only meant to be used by the import/export functions. I wish Bash had classes and access control.. ",
    "tuanalumi": "Hhhmmm. I think it's better for general use when it can handle more cases.. ",
    "djekl": "Mcrypt deprication is here - https://github.com/laravel/framework/issues/16329. I am using Laravel Framework version 4.2.22\nThis latest box doesn't have Mcrypt, this is one limiting factor, and the other is that deprication WITHIN the laravel framework itself. Its not something I have control over!. ",
    "DragosMocrii": "Hi Joe,\nSure Homestead supports multiple projects on a single machine, but when you vagrant up from a project's folder, doesn't vagrant use the Homestead.yaml config file to set up the VM? This config file has the folders->to settings which could be used to provision the VM, I guess.\nI still think this could be useful :). ",
    "makz27": "Ok, i tough it was updated because i ran a composer update, homestead was upgraded to 3.1.0, when i tried to up my vagrant box it failed because \"a newer version of the box is available\" -> box update and it finished with this error.\nI forced the homestead update to 4.0.0 it worked, thank you.. ",
    "mtpultz": "@svpernova09 apparently if we aren't quite ready to adopt PHP 7.1 we can use v3.1.0 of laravel/homestead, but this seems to cause the same kind of error:\napp: Running: script: Restarting Nginx\n==> app: Failed to restart php7.0-fpm.service: Unit php7.0-fpm.service not found.\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nDo you have any suggestions?  I've followed that post's instructions for a per project installation.. Thanks @svpernova09, not sure I understand bumping down to 0.6.0 since I've been running homestead box 1.0.0 with laravel/homestead v3.0.0 since v1.0.0 was released.  Does that mean I didn't do something after running vagrant update box, and I've really been running 0.6.0 since the release and download of 1.0.0?. Accessing the vm each time afterwards produces a list of command not found messages for the exact number of aliases in the file so maybe it is being read, but due to some hidden characters it isn't being read properly.  I've attempted to copy-paste and remove through bash any carriage returns (\\r), which seems to be the issue, but I can't seem to get passed this point.  Would this be an issue related to using Windows versus Linux that could be resolved by running something over the alias file? . Thanks @svpernova09 I applied that update to our Vagrantfile and it works great.. Thanks @svpernova09.  This is probably a stupid question.  I've pulled in the homestead box v5.0.1 after choosing the Hyper-V provider, but I'll need to update our Laravel project's composer package.  Does the box version correspond directly to the package version?  There are two major versions above v5.0.1 available on packagist so I'm just verifying since the versions are so different and I wasn't sure if they are one-to-one box-to-package or not, whether there are other differences between versions, or if support of the Hyper-V provider box isn't maintained opposed to the other providers?. Hi @svpernova09 I've been trying to get the application to work using v5.0.1 of the homestead box, but after choosing virtual switch DockerNAT I get this output with the error at the end, which at least seems to start up the VM, but you can't hit any endpoints using Postman:\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n    cfna: Please choose a switch to attach to your Hyper-V instance.\n    cfna: If none of these are appropriate, please open the Hyper-V manager\n    cfna: to create a new virtual switch.\n    cfna:\n    cfna: 1) Default Switch\n    cfna: 2) DockerNAT\n    cfna:\n    cfna: What switch would you like to use? 1\n    cfna: Cloning virtual hard drive...\n    cfna: Creating and registering the VM...\n    cfna: Setting VM Integration Services\n    cfna: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n    cfna: Timeout: 120 seconds\n    cfna: IP: 172.19.114.238\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n    cfna: SSH address: 172.19.114.238:22\n    cfna: SSH username: vagrant\n    cfna: SSH auth method: private key\n    cfna:\n    cfna: Vagrant insecure key detected. Vagrant will automatically replace\n    cfna: this with a newly generated keypair for better security.\n    cfna:\n    cfna: Inserting generated public key within guest...\n    cfna: Removing insecure key from the guest if it's present...\n    cfna: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> cfna: Machine booted and ready!\n==> cfna: Setting hostname...\nNo host IP was given to the Vagrant core NFS helper. This is\nan internal error that should be reported as a bug.\nOr using virtual switch Default Switch I get this output and error at the end, but doesn't appear to start the VM.\n```\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n    cfna: Please choose a switch to attach to your Hyper-V instance.\n    cfna: If none of these are appropriate, please open the Hyper-V manager\n    cfna: to create a new virtual switch.\n    cfna:\n    cfna: 1) Default Switch\n    cfna: 2) DockerNAT\n    cfna:\n    cfna: What switch would you like to use? 2\n    cfna: Cloning virtual hard drive...\n    cfna: Creating and registering the VM...\n    cfna: Setting VM Integration Services\n    cfna: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n    cfna: Timeout: 120 seconds\n    cfna: IP: fe80::215:5dff:fe38:103\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n    cfna: SSH address: fe80::215:5dff:fe38:103:22\n    cfna: SSH username: vagrant\n    cfna: SSH auth method: private key\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.vm.boot_timeout\" value) time period.\nIf you look above, you should be able to see the error(s) that\nVagrant had when attempting to connect to the machine. These errors\nare usually good hints as to what may be wrong.\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.vm.boot_timeout\") value.\n``. Thanks @svpernova09 I did try using the default switch as well but it doesn't boot all the way, and from what I read today I'm not much farther figuring this out.  It appears as if you can useDockerNATas a virtual switch based on some [examples](https://github.com/hashicorp/vagrant/issues/7915#issuecomment-296311230) I've found, but I don't really understand much about Vagrant.  We deploy to Laravel Forge so using Homestead is perfect otherwise I found Docker much easier to learn and use.  With our update to Windows 10 Pro so we could dropDockerToolboxand pick upDocker for Windows` in the office this issue with Hyper-V has become a nightmare.. @svpernova09 I've created a new internal virtual switch using the Hyper-V Manager, and it stalls out as it attempts to boot the machine, then a couple minutes later eventually times out with an error:\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n    cfna: Please choose a switch to attach to your Hyper-V instance.\n    cfna: If none of these are appropriate, please open the Hyper-V manager\n    cfna: to create a new virtual switch.\n    cfna:\n    cfna: 1) DockerNAT\n    cfna: 2) Default Switch\n    cfna: 3) NewInternalVirtualSwitch\n    cfna:\n    cfna: What switch would you like to use? 3\n    cfna: Cloning virtual hard drive...\n    cfna: Creating and registering the VM...\n    cfna: Setting VM Integration Services\n    cfna: Successfully imported a VM with name: ubuntu-16.04-amd64_1\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n    cfna: Timeout: 120 seconds\n    cfna: IP: fe80::215:5dff:fe38:107\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n    cfna: SSH address: fe80::215:5dff:fe38:107:22\n    cfna: SSH username: vagrant\n    cfna: SSH auth method: private key <--- Stalls out for a couple minutes\nError\n```\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.vm.boot_timeout\" value) time period.\nIf you look above, you should be able to see the error(s) that\nVagrant had when attempting to connect to the machine. These errors\nare usually good hints as to what may be wrong.\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.vm.boot_timeout\") value.\n```\n. @svpernova09 that makes it past the previous sticking point and seems to complete the boot, but right at the end when it is trying to set the hostname it throws this error:\nNo host IP was given to the Vagrant core NFS helper. This is\nan internal error that should be reported as a bug.\nBringing machine 'cfna' up with 'hyperv' provider...\n==> cfna: Verifying Hyper-V is enabled...\n==> cfna: Importing a Hyper-V instance\n    cfna: Please choose a switch to attach to your Hyper-V instance.\n    cfna: If none of these are appropriate, please open the Hyper-V manager\n    cfna: to create a new virtual switch.\n    cfna:\n    cfna: 1) DockerNAT\n    cfna: 2) Default Switch\n    cfna: 3) Development\n    cfna:\n    cfna: What switch would you like to use? 3\n    cfna: Cloning virtual hard drive...\n    cfna: Creating and registering the VM...\n    cfna: Setting VM Integration Services\n    cfna: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> cfna: Starting the machine...\n==> cfna: Waiting for the machine to report its IP address...\n    cfna: Timeout: 120 seconds\n    cfna: IP: fe80::215:5dff:fe38:102\n==> cfna: Waiting for machine to boot. This may take a few minutes...\n    cfna: SSH address: 192.168.0.18:22\n    cfna: SSH username: vagrant\n    cfna: SSH auth method: private key\n    cfna:\n    cfna: Vagrant insecure key detected. Vagrant will automatically replace\n    cfna: this with a newly generated keypair for better security.\n    cfna:\n    cfna: Inserting generated public key within guest...\n    cfna: Removing insecure key from the guest if it's present...\n    cfna: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> cfna: Machine booted and ready!\n==> cfna: Setting hostname...\nNo host IP was given to the Vagrant core NFS helper. This is\nan internal error that should be reported as a bug.. ",
    "giovannipds": "Man, I must have lost almost 5 hours to get this running again... this post was the last one which helped me... thank god, it's finally working. Bullshit, I've updated every single fucking thing! Homestead, box, VirtualBox, composer, composer dependencies, Vagrantfile, Homestead.yaml. Seriously, I hate this all!! Perdon! I'm just fucking angry with all this. But thanks, it got worked now. Thank you guys.... ",
    "dPhantum": "I tried above and nothing worked and was getting error:\nhomestead-7: Failed to restart php7.2-fpm.service: Unit php7.2-fpm.service not found.\nAfter a little digging..\nThere is an issue in the [homestead-install]/scripts/homestead.rb script that does not validate if the script exists prior to adding it to the execution stack. It blindly adds it. \nIf you edit that file and remove for the version of php that does not exist for you.\nVerfiy in linux if not installed by:\nls /usr/bin/php*\nand you don't see that version installed it is complaining about (i.e. php7.2-fpm)\nThen if you edit the file scripts/homestead.rb and remove the references, it will proceed and complete the data creation scripts, which is where it fails before running them.\nYou see the blind assignment for example ~line 231:\ns.inline = \"sudo service nginx restart; sudo service php5.6-fpm restart; sudo service php7.0-fpm restart; sudo service php7.1-fpm restart; sudo service php7.2-fpm restart;\"\nIn my case it is 7.2, so I removed it to look like:\ns.inline = \"sudo service nginx restart; sudo service php5.6-fpm restart; sudo service php7.0-fpm restart; sudo service php7.1-fpm restart\"\nand again at ~line 330:\ns.inline = \"service php5.6-fpm restart; service php7.0-fpm restart; service php7.1-fpm restart;service php7.2-fpm restart;\"\nto look like:\ns.inline = \"service php5.6-fpm restart; service php7.0-fpm restart; service php7.1-fpm restart;\"\nIt will not die for the false reference and you should be able to continue your work, without wasting hours/days trying to look for a solution, when perhaps in a work panic. \n. Yeah, I know the deal...\nThe real deal is, that one should never make blind inclusions like that without verifying the files exists.\nThe source needs to be fixed.. ",
    "Modelizer": "I want to use SSL certificate which should be publicly available and also I need my dev environment to be replicated to digital ocean droplet which is a test server. In this case to save some time it's easy you'll get everything you need in homestead will be available quickly.. @jordanramstad nice solution! Thanks \ud83d\udc4d \n@svpernova09 Forge is too expensive man :). ",
    "elasticsteve": "Yes, that works.\nAny explanation why and why it worked with 80 before?. What would really help is if I could somehow make the default \"vagrant share\" work again. (It's built into PHPstorm and I don't have to ssh into the user directory first). I just can't figure it out.\nAlso, if you have a few folders (projects) in your Homestead.yaml (I deleted them for now), how does Vagrant know which folder to share? I couldn't find any info on this.. @svpernova09 Yes, I had it working with 1.9.x pre 1.0.1. Also, please read what I said in the post before about more than one project/server.. Yeah, I saw that, but it's more about assigning different ports to different projects. Strange that one can't find official info on such an important thing. I looked at the Vagrant doc and nothing.\nGuess I have to give it a try and see if the first one in the config is used or not.\nThanks anyway!. @svpernova09 Just as a follow up... Went back to 1.8.6 and vagrant share --http 80 worked again.\nThen I went back to 1.8.5 and I could even use plain vagrant share (which is built into PHPstorm and my preferred way).\nThe rest of my setup is VirtualBox 5.1 on Win 10.\nI don't know if this is something that can be fixed on your end or not, but I thought I let you know.... Thanks. That did work.. ",
    "gandesc": "I can confirm it's not working for me either, with the following configuration:\nwindows 8.1\nvmware workstation 12.5.5\nhomestead 5.1.0\nvagrant 1.9.3\nOn a different computer with the same setup but virtualbox instead of vmware, git clone works.. ",
    "JuanDMeGon": "Yeah, I agree with that. I just used copy, if someone wanted to keep that for root user too. I'll change that so.. Ok, already modified the path. Should work correctly :). Thanks for merging. Sorry for the delay, I just squashed my commits, but too late, my bad.. Hello @svpernova09. I just realized that if we do not keep the .my.cnf for the root user, the Homestead virtual machine deployment fails with mariadb enabled.\nMariadb installation, try to establish the connection without credentials, wich result in an \"Access denied for user 'root'@'localhost'\"\nIt seems like we can keep the .my.cnf file for both vagrant and root, but it seems a little inconsistent with the install-maria.sh file, because it uses the credentials directly in the mysql command.\nThe good way to go (in my opinion) is to use the credentials in the create-mysql.sh for the mysql command as usual.\nI'll make  PR with this proposal to solve the problem.. Got it. I will be back to the original idea. Create and then copy the .my.cnf file from root to vagrant.\nI'll check if the mariadb credentials can be removed from the .sh file.. Ok. Playing a little with Mariadb enabled and disabled it seems like when mariadb is enabled there is not any warning about the usage of credentials in the command prompt. However when mariadb is disabled, it means MySQL is used, the warning comes out.\nSo it seems like the warning can be removed, only using the original proposal. Cat the /root/.my.cnf and then copy to /home/vagrant/.my.cnf.. Just sent the PR to solve the warning while using MySQL: #408.\nIn the way. Remove the credentials from the install-maria.sh is not trivial.\nThe .my.cnf file is created after the mariadb installation, so if the credential are removed, the authentication will fail.\nA possible solution is to create this file in the install-maria.sh at the beginning and then in the create-mysql.sh create the same file if does not exists, with the respective copy for the vagrant user.. All these commands are executed as root. MySQL and MariaDB shouldn't have any problem reading this. I don't know if permissions are an issue here, it is for development environment.. ",
    "j-jmdk": "My mistake.\nThen I assume using homestead_improved-master is causing this.\nPlease correct me.\nI saw a similar inquiry to mine earlier.. I assume that's it.\nThere is no bug then.\nDismissed.. ",
    "lucasmichot": "See https://github.com/laravel/framework/issues/16904#issuecomment-268824236. @svpernova09 - You've just made my day !. ",
    "orediggerco": "Ok, I've updated to homestead 4.0.2 and verified the behavior is the same. I also took a look into what you pointed out and tested it, and you are right, it does change the way that the site names resolve within the VM. However, it does still resolve.\nTests from inside VM\nWith natdnshostresolver1 set to on :\n```\nvagrant@test:~$ dig test.app\n; <<>> DiG 9.10.3-P4-Ubuntu <<>> test.app\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57963\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0\n;; QUESTION SECTION:\n;test.app.                   IN      A\n;; ANSWER SECTION:\ntest.app.            3600    IN      A       127.0.0.1\n;; Query time: 0 msec\n;; SERVER: 10.0.2.3#53(10.0.2.3)\n;; WHEN: Sat Dec 24 21:16:52 UTC 2016\n;; MSG SIZE  rcvd: 45\n```\nWith natdnshostresolver1 off:\n```\nvagrant@test:~$ dig test.app\n; <<>> DiG 9.10.3-P4-Ubuntu <<>> test.app\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 22950\n;; flags: qr rd ra ad; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 512\n;; QUESTION SECTION:\n;test.app.                   IN      A\n;; ANSWER SECTION:\ntest.app.            300     IN      A       127.0.53.53\n;; Query time: 49 msec\n;; SERVER: 10.0.2.3#53(10.0.2.3)\n;; WHEN: Sat Dec 24 21:19:09 UTC 2016\n;; MSG SIZE  rcvd: 56\n```\nNext I checked if it actually returns my index page correctly with wget, and it did.\n```\nvagrant@test:~$ wget test.app\n--2016-12-24 21:19:23--  http://test.app/\nResolving test.app (test.app)... 127.0.53.53\nConnecting to test.app (test.app)|127.0.53.53|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: unspecified [text/html]\nSaving to: \u2018index.html\u2019\nindex.html                            [ <=>                                                         ]   2.08K  --.-KB/s    in 0s\n2016-12-24 21:19:26 (184 MB/s) - \u2018index.html\u2019 saved [2134]\nvagrant@test:~$ head index.html\n<!DOCTYPE html>\n\n\n Meta Information \n\n\n\n<title>Test</title>\n\n```\nThat's the top of the welcome.blade.php page from a spark install.\nI've tried now changing a bunch of other settings/options in the vagrant and virtualbox config directly, on the ubuntu vm, etc. but am unfortunately getting a little out of my element at this point. Reading through the Vagrant doc you linked, it looked like I should have been able to just specify an IPv6 address in the private network configuration section, but when I did that I got an error that ipv6 can't be used for hostonly networks in VirtualBox.. I'll take a crack at it!\nThanks @svpernova09!. It's a little outside of my expertise as well, but from what I think I understand after reading about the VirtualBox settings here (specifically section 9.11.6), I believe this is what happens with the natdnshostresolver1 option:\nWhen off (the VirtualBox default, but not the Homestead default), DNS requests from the vm are sent directly to the DNS servers that are configured on the host system, or is affected by the proxy option in 9.11.5. \nHowever, when natdnshostresolver1 is on, instead of actually sending a DNS request, the NAT engine that intercepts the request from the VM actually uses the host's DNS API to resolve the query. So I'm guessing this means that the NAT engine doesn't actually send a DNS request, it calls something like gethostbyname provided by the host OS. That in turn would of course result in the host issuing the DNS query, but somehow in here, IPv6 queries are failing.. ",
    "barryvanveen": "You're right @svpernova09, sorry for overlooking that! . Thanks @svpernova09 for the quick replies! Unfortunately this doesn't solve my problems.\nWhat I did:\n\nuninstall Virtualbox 5.1.16\ninstall Virtualbox 5.1.14\nvagrant destroy && vagrant up\n\nWhat's the problem:\nFirst problem is that the paths of the shared folders are still messed op. Virtualbox shows the as \"\\\\?\\C:\\Users\\barry\\Documents\\Homestead\". I manually fixed this in Virtualbox but the settings are off when you destroy and recreate the VM. \nAfter fixing these paths I run \"vagrant up --provision\" again but the folders are not mounted. There is a directory /home/vagrant/Code in the VM but it is mounted with errors. First it had no properties (ls -la listed all properties as ???). After changing the folder-type to \"nfs\" that is fixed but the folder is empty, which shouldn't be the case.\nAlso, there is no sign of the Homestead-folder that should also be shared to /home/vagrant. Looks like that shared folder is \"empty\" as well but because it is mounted on /home/vagrant it exists nevertheless.\nQuestions\n\nAny idea why the Shared folders paths are messed up and do you think this is related to the folders not being mounted?\nIs there a way to get more debugging information about the mount errors? Since there is no clear error I find it hard to think of ways to solve this problem...\n\nThanks for any help!. Thanks for your time @svpernova09!\nI've got it working by downgrading to Virtualbox 5.1.10 and laravel/homestead 4.0.1. If it helps anyoneI can test some stuff out but otherwise I'm happy that I'm up and running again and can get to work.. ",
    "merodiro": "vagrant up works fine and I can access homestead using putty but vagrant ssh doesn't work. I just downloaded it early today so it's up to date, and I had that problem with previous versions also. the problem still the same, and I added a gist for the output . ",
    "JKooll": "You might try to use Git Bash desktop app.. ",
    "giolf": "Vagrant - push. ",
    "cwandling": "You bet\u2026\n\nOn Dec 30, 2016, at 1:35 PM, Joe Ferguson notifications@github.com wrote:\nThanks for the PR @cwandling https://github.com/cwandling Can you open an issue with the problem so I can verify the bug: https://github.com/laravel/homestead/issues/new https://github.com/laravel/homestead/issues/new\nThanks!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laravel/homestead/pull/416#issuecomment-269812920, or mute the thread https://github.com/notifications/unsubscribe-auth/AXfEO_Ca928P4MJ1uzZmAUHIaPWcAdecks5rNV0PgaJpZM4LYWlC.\n\n\n. Done.  Thanks!\n\nOn Dec 30, 2016, at 1:35 PM, Joe Ferguson notifications@github.com wrote:\nThanks for the PR @cwandling https://github.com/cwandling Can you open an issue with the problem so I can verify the bug: https://github.com/laravel/homestead/issues/new https://github.com/laravel/homestead/issues/new\nThanks!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laravel/homestead/pull/416#issuecomment-269812920, or mute the thread https://github.com/notifications/unsubscribe-auth/AXfEO_Ca928P4MJ1uzZmAUHIaPWcAdecks5rNV0PgaJpZM4LYWlC.\n\n\n. Thanks.\nTried to get it to work but failed\u2026. :-(\n\nOn Dec 31, 2016, at 2:17 PM, Jonathan notifications@github.com wrote:\nPerhaps this long thread might help @cwandling https://github.com/cwandling\nmitchellh/vagrant#1673 (comment) https://github.com/mitchellh/vagrant/issues/1673#issuecomment-168205206\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laravel/homestead/pull/416#issuecomment-269880443, or mute the thread https://github.com/notifications/unsubscribe-auth/AXfEO0-PRCU9lQA67dISZJymfEZRMxMBks5rNrhygaJpZM4LYWlC.\n\n\n. Sorry about that.\nAm I correct that the messages are a red herring?\nCory\n\nOn Dec 30, 2016, at 3:07 PM, Joe Ferguson notifications@github.com wrote:\n@cwandling https://github.com/cwandling\nWe can't accept as is. The reason that line exists is to hide the red messages you see here:\nhttps://cloud.githubusercontent.com/assets/967362/21572690/8f1c948a-cea1-11e6-8a17-57c18f0904a8.png\nWe need to either find another way to hide those messages before this could be accepted.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laravel/homestead/pull/416#issuecomment-269822060, or mute the thread https://github.com/notifications/unsubscribe-auth/AXfEO4pFZZ8D_5R6j9xV2-StPTLAP3Nqks5rNXKngaJpZM4LYWlC.\n\n\n. Understandable, just wanted to make sure that if I hack my local copy I am not screwing things up.\n\nOn Jan 3, 2017, at 9:33 AM, Joe Ferguson notifications@github.com wrote:\nEssentially yes. We don't want to expose all those messages and have to field a ton of error reports when the scripts are running fine.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/laravel/homestead/pull/416#issuecomment-270141123, or mute the thread https://github.com/notifications/unsubscribe-auth/AXfEO01ysKWa6GitPExOEPt0VxELh82fks5rOmpigaJpZM4LYWlC.\n\n\n. ",
    "TheBnl": "Awesome! Thanks @svpernova09 . ",
    "umutkirgoz": "We are using Laravel and its homestead dev environment when building the future of Mynet (Biggest portal of Turkey with ~1 billion pageviews per month)\nI plan to build a homestead fork with multiple web server support (or maybe default nginx, and optional apache) \nThis was the first step of fixing the provisioning problem of Apache virtual hosts. Vagrant box needs to be customized...\ntHanks for interest...\nRegards.. :) sorry for that. ",
    "vigneshgurusamy": "@taylorotwell Sorry my bad. I have not explained about this PR.\nIn settler, fastcgi_params file is updated because of missing fastcgi parameter\nsh\nfastcgi_param SCRIPT_FILENAME $request_filename\nBut it has been added in fastcgi.conf which is included in this snippet.\nIf we are using this snippet, we don't need to update fastcgi_params file in settler.\nAll homestead Nginx host files are using similar fastcgi configurations which are already present in this snippet. So I thought using this snippet will make it clean & consistent.\n. @taylorotwell ping.... ",
    "nWidart": "Closing, duplicate of #383\nFix was to manually update virtualbox to 5.1.. Hm ok thank you for the heads up. It's strange because it's not even using mssql, but mariad db.. ",
    "sensorario": "\ud83d\udc4d +1. ",
    "srrobinson": "Issue resolution confirmed, thank you. . ",
    "vesper8": "I just noticed that someone replied my thread with a suggestion\nhttp://laravel.io/forum/06-07-2014-homestead-ideas-on-persisting-databases-upon-vagrant-destroy\nbindfs --force-user='mysql' --force-group='mysql' /home/vagrant/mysqldata /home/vagrant/mysqldata\nHaven't tried this yet. But I think he's on to something.\nWould still love some help understanding why using vagrant-bindfs hasn't helped my problem with yarn and composer. And why it's causing the problem with mysql and apparmor. the above bindfs command used to force the user:group to be mysql fixed my problem as far as mysql goes.\nAnd you make a good point when you suggest I should just run composer/yarn from the main filesystem.. ",
    "axelitus": "Ok, I agree that it should work likewise in both platforms.\nI think a win-specific version of the Accessing Homestead Globally doc page is missing though as it could be understood that in windows there is no way to access homestead globally, which is not the case.. Will do ;). ",
    "brendanfalkowski": "Note: that might break some other frameworks/code but I really only use Laravel and Statamic on Homestead so it's ok for me.. @svpernova09 Hmm, I guess that'd be cool. I honestly didn't look too deeply at what the scripts do, but now it makes sense. Would you specify that in Homestead.yaml? I hadn't seen an example like that (way back when).. Ah ok, I thought that was just for folder mapping, but if that works it'll be nice not to have to maintain the Statamic mods across Homestead updates.. ",
    "willgopublic": "I thought about just using the first domain name as particle for the names of generated files.\nThat might however cause collisions.\nHow would you feel about about a domain names check beforehand and then using the first domain name as leading particle for the filename?. Would filename_safe_1 be a more descriptive name?. ",
    "sbramlett": "I deleted my Vagrantfile and all boxes to start over.  It seems to have worked without any issues after I did that. Not sure what went wrong during the first try. I'm running my laravel/homestead box now. Thanks!. ",
    "MaxiBoether": "The Homestead machine has 4gb of RAM assigned to it.. ",
    "andrey-helldar": "Being inside the Vagrant run command \"npm run dev\" and get the following error:\nhttps://gist.github.com/andrey-helldar/66f89df8fa324a9f38f2f53186fea600\nOS Windows 10 x64, 16Gb RAM\nHomestead 4.0.5\nVagrant Box 1.1.0\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\n\nAccording to the logs, error on the outdated version nodejs:\n\nMake sure you have the latest version of node.js and npm installed.\n\nOn windows 10 installed nodejs:\n\nnode 7.5.0\nnpm 4.1.2\n\nUnder windows 10 there are no problems when using the command.\nUncomfortable run the command \"composer update\" in the Vagrant, and the \"npm run dev\" in the local console.. For something as added resources nodejs in the Vagrant. Yes, and \"art\" only works in the Vagrant and write completely \"artisan\" has laziness.\n(translated by Google Translate )) ). I solved the problem. Now the team \"npm run dev\" runs without errors.\nI've updated the package nodejs to the latest version:\n\nsudo apt-get update\ncd ~\ncurl -sL https://deb.nodesource.com/setup_7.x -o nodesource_setup.sh\nsudo bash nodesource_setup.sh\nsudo apt-get install nodejs\nsudo apt-get install build-essential\n\nThen, manually delete the folder \"node_modules\" in the console of the Vagrant entered the commands:\n\nnpm install\nnpm rebuild node-sass\n\nProfit!\nnpm run dev, npm run watch & npm run production worked!). Yes, it was my mistake. Fixed it in the PR #771.. You can also add an alias to aliases file in Homestead dir:\nbash\nfunction composer56() {\n    /usr/bin/php5.6 /usr/local/bin/composer $@ --working-dir=\"$(pwd)\"\n}\nAnd run vagrant reload --provision\nThen you can use in projects alias composer56.\nExample:\nbash\ncomposer56 update\ncomposer56 require foo/bar. Why change the PHP version in the system?\nAnd if I use at least two versions of PHP?\nExample, I's my home configuration of Homestead:\n```yaml\n\nip: \"192.168.10.10\"\nmemory: 4096\ncpus: 2\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa.ppk\nfolders:\n    - map: f:/OpenServer/domains\n      to: /home/vagrant/code\nsites:\n    - map: ai-rus.loc\n      to: /home/vagrant/code/ai-rus.loc/public\n      schedule: true\n- map: laravel-doc.loc\n  to: /home/vagrant/code/laravel-doc.loc/public\n\n- map: work.loc\n  to: /home/vagrant/code/work.loc/public\n  subdomain: promo.work.loc\n  php: \"5.6\"\n\n- map: sales.work.loc\n  to: /home/vagrant/code/sales.work.loc/public\n  php: \"5.6\"\n\ndatabases:\n    - ai_rus\n    - docs\n    - work\n```\nAt the same time, I can simultaneously work with at least two projects.\nAs you can see, you do not need to change the PHP version via helper in this case.\n(translated by Google Translate). That's exactly what I did. Also thought that it can be useful to other people, therefore also created PR, adding function in a aliases file.. I added myself an alias composer56 and use it. Personally, it seems to me more convenient to use.. @svpernova09 When updating homestead, the documentation says to execute the commands:\nvagrant box update\ngit pull origin master\ncomposer update\nI use a desktop application Git Extensions to work with repositories.\nWhen executing the composer update command, the script recreates the composer.lock file and does not add it to the local repository. Therefore, when I load new changes, I need to manually confirm the replacement of the composer.lock file with the one loaded from the repository. It is not comfortable.\nAnother situation:\nFor example, I want to establish 100% working dependencies, tested by the developers of the package. To do this, run the command composer install. If the file is old, it will install the old dependencies. This can be considered an error.\nTherefore, in my opinion, the best version of the update will be the execution of the command composer install.\nPS: I have several versions of PHP installed on my computer. I can send a PR with dependencies for the version of PHP 7.0. Send it?. I did not know. I'm using globally installed a Homestead for few projects. Thanks!. I deleted the settings manually from the virtual hosts, but after executing the command vagrant reload --provision they reappeared.\nThe web developer must manage the application routes himself. Why should this be shifted to the settings of the virtual machine server? This is a great inconvenience for development and I consider the presence of these strings as a wild crutch, as well as the option of adding some scripts to file after.sh to remove strings from nginx settings.. I'm using subdomains now and this setting adds a lot of problems.. Interesting. Before I wrote the article, I checked the page and clearly saw the version 6.3.0 on it (though the inscription currently released version was in version 6.2.0, as it is now).\nNevertheless, on my computer is 6.1.0 for the virtual box.\nOn another computer with virtualbox installed, the image downloaded for vmware works. This is normal?. > The current version of Virtualbox is box v6.1.0 The current version of VMware is box v6.2.0.\n\nNormally we keep all providers at the same version however with 6.2.0 the only change was specific to the VMware provider so we only built that provider for the release.\n\nInterestingly, I tried to install the box for virtualbox, but it was installed for vmware.\nThe configuration looks like this:\n```yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\n...other settings...\n```\nand everything works without problems.\nInstalled via command vagrant box add laravel/homestead after setting Homestead.yaml file.. Helped me #943 on home PC and on work PC:\n(before backup your databases)\n\nvagrant box remove laravel/homestead\nvagrant destroy\nvagrant box add laravel/homestead\nvagrant up --provision\nProfit!. ## Solution:\n\n1. Downgrade homestead to 7.14.2 version:\ngit checkout v7.14.2\n2. Run vagrant up --provision command.\n(The computer already downloaded boxes versions 6.1.0 and 6.3.0.)\n3. Poweroff vagrant:\nvagrant halt\n4. Upgrade homestead to actual version:\ngit checkout v7.17.0\n5. Run vagrant box:\nvagrant up\n6. Remove old box version:\nvagrant box remove laravel/homestead --box-version=6.1.0\n7. Profit!. It so happened that I have not been updated for a long time. At first I created the Issue with the problem, and afterwards found its solution and also wrote here for those who might encounter it in the future.. Clean install after vagrant destroy homestead-7 && vagrant up:\n\nAlso recorded the video as when processing only 5 images the file size increased by 1Gb:\nvideo-of-processing-images.zip\nThe problem is that when processing images they are saved somewhere, but I can not find which folder. Now I have processed only 63 images of 8 megabytes each, and the size of the image file has increased from 12.6 GB to 20.7 GB.. It was possible to solve part of the problem:\nAs it turned out, the configs were cached, so changing the driver to another did not show a difference.\nThat is, the memory leak problem is observed in imagick version 6.9.7.\nAnd the question about where the data is stored in case of a memory leak is clearly not related to this package.\nTherefore, the issue is closed.. I tried the following configurations, but the result is one:\n1\njson\n{\n    \"networks\": [\n        { \"type\": \"public_network\" }\n    ],\n}\n2\njson\n{\n    \"networks\": [\n        {\n            \"type\": \"public_network\",\n            \"bridge\": \"Realtek PCIe GBE Family Controller\"\n        }\n    ],\n}\n3\njson\n{\n    \"networks\": [\n        {\n            \"type\": \"public_network\",\n            \"ip\": \"192.168.1.15\",\n            \"bridge\": \"Realtek PCIe GBE Family Controller\"\n        }\n    ],\n}\n4\njson\n{\n    \"ip\": \"autonetwork\",\n    \"networks\": [\n        {\n            \"type\": \"public_network\",\n            \"bridge\": \"Realtek PCIe GBE Family Controller\"\n        }\n    ],\n}\n5\njson\n{\n    \"ip\": \"autonetwork\",\n    \"networks\": [\n        { \"type\": \"public_network\" }\n    ],\n}\nBefore applying each configuration, I ran the commands vagrant halt && vagrant destroy --force. ### I solved the problem!\nSteps:\n\nlaunch console as administrator\nrun vagrant destroy --force\nset settings:\njson\n{\n    \"ip\": \"192.168.10.10\"\n}\nafter loading run vagrant halt\nset settings (and remove ip key):\njson\n{\n    \"networks\": [\n        {\n            \"type\": \"public_network\"\n        }\n    ]\n}\nrun vagrant up\nprofit!\n\nNow the image is available at the addresses: 192.168.10.10 and and automatically obtained from DHCP.\nTo view sites from the local network, you need to register in the file hosts your OS:\n<dynamic_ip> example1.com\n<dynamic_ip> example2.com\n. ",
    "ezimuel": "@taylorotwell why? You don't think people can benefit from this feature?. @ptondereau actually is mandatory. The Homestead project works out of the box using the host name homestead.app. You must add it in your host file to use it (with default IP address 192.168.10.10). This is also documented in the documentation here as requirement. I only provided an automatic way to add the hostname in the host file, if not present.\nThat said, it's perfectly fine to reject this PR, but I would like to know why from @taylorotwell. I don't see technical cons about that.\n. @taylorotwell and @svpernova09 thanks for you reply. Now, I can see your point but still I think that editing a text file is not a big risk. Maybe, the vagrant-hostmanager it's a better alternative.\nAnyway, I will create a new PR to separate the unit test for the make command, included in this PR. . @svpernova09 this is the PR containing only the unit tests from #443.. @svpernova09 I was assuming this from the contribution guide of Laravel. This is why I didn't fix. Should I do then?. @andrewhood125 actually we have only the make command to test here. So the class MakeCommandTest is testing already a single command. I will rename the testExecuteMake function in testExecute to clarify this point.. @andrewhood125 updated with @test annotation. I read the contribution guide of Laravel but I didn't find any notes about unit testing.. Changed.. Changed.. ",
    "ptondereau": "@ezimuel I think it's the responsability of end developer to add a helper to its project. Homestead's project should concern only required configuration to run. It's not mandatory to add hosts entries to run it.. ",
    "antimech": "https://github.com/laravel/homestead/releases/tag/v5.0.0\n:arrow_up: :snowflake: Require box version >=2.2.0 and vagrant >= 1.9.0 #451 (@svpernova09)\n2.2.0 or 1.1.0 ?\n. @svpernova09 Why you reverted 03d8192? It is like before now.. @svpernova09 Oh, thanks!. Guys? Some news about this bug? This \"URL\" problem is still actual for me.. @jn-jairo did you open an issue in Laravel repo?. @jn-jairo Could you please upload it? I don't care about tests in this situation. :dancer: . @jn-jairo thank you!. @jn-jairo thank you very much!. ",
    "roberto-aguilar": "Great, thanks @svpernova09 !. @svpernova09 thanks for the feedback!\nI didn't knew about the Ruby indentation convention and it's great, today i learned something new \ud83e\udd18 . I made that change because the Vagrant files already have 4 spaces so that was my reference.\nI agree with you about the .editorconfig, i knew it was something risky to propose but i wanted to take the shoot.\nAbout the shell scripts i did that because some of them already have 4 spaces, it's great to know that something like that is acceptable.\nAnd finally the newline characters was because in the recent PRs that character has been added and deleted constantly, i though that one convention could help to keep the diffs clean.\nP.S. What were your thoughts about the shebang in the shell scripts?\nAnyways, again, thanks for the feedback and if you're interested i can send another PR with:\n\nRuby and Vagrant files with only 2 spaces as indentation\nShell scripts with 4 spaces as indentation. @taylorotwell i actually sent a PR before with 4 spaces but was rejected and asked to use 2 spaces in #472, but in any case, these file have both (4 and 2 spaces in the same file), will be great to have just 1 kind of indentation. Should i leave the files as they are or should i send again a PR with 4 spaces?. @svpernova09 i agree with you. I'm drafting a little bit on how we can tackle this in an elegant way and if no one comes with an idea before me i will push something very soon.. @svpernova09 great to know, thank you very much! I will keep you updated.. @svpernova09 by the way, given that TravisCI is not working right now, this are the test right now \ud83d\ude04 \n\n\n. @svpernova09 fixed!\nIt also has a new test fot the checkForDuplicateConfigs that you created.\n. @svpernova09 this fixes the TravisCI builds.. @svpernova09 and @mcallan83 i wll take a look at this a little later.. @mcallan83 just to make sure that we got all the information, are you passing any arguments to the make command?. @mcallan83 thanks!, i will tackle this a little later.. @pluxain you're right, let me write some tests for it and i will take a look a little latter.. @pluxain good catch!, i will extract those sluggify steps into methods for readability.. @pluxain about the HomesteadSettingsTrait, it was indeed duplication between the JsonSettings and the YamlSettings but a better approach will be to pull up those methods in a parent class (making the HomesteadSettings an abstract class instead of an interface) allowing the child classes to add their own behavior. The problem with the trait is that there isn't another class that can or will use the HomesteadSettingsTrait rather than a Settings kind class.. It is ready @svpernova09 . @doncadavona the Homestead settings file not found in /Users/doncadavona/Homestead error message is thrown by the Vagrantfile and that is surely because you still have your Homestead.yaml in your ~/.homestead directory. In Homestead v5, the Homestead.yaml file must be in your homestead repository directory (in this case /Users/doncadavona/Homestead).\n/cc @svpernova09 . @svpernova09  I'm sorry for missing that ones, seems that we need tests for the shell scripts \ud83d\ude05\nThanks @Pancrisp!. @svpernova09 great to know, thanks for that!\nAnd yup, neither do i know how to test those, buts seems like fun to figure it out.. @svpernova09 looks good, let's give it a shoot. I will tackle this tonight.. @taylorotwell you're right, that name makes more sense. It's fixed now.\nAnd thanks @svpernova09 , let me know if you need anything else.. @svpernova09 i'm kind of busy right now, but if no one takes the shoot, i will happily implement this on the weekend.. Done @svpernova09, sorry for the delay.. Guys, some time ago, there was a couple of PRs that fixed the inconsistency of indentation (there was a mix of tabs and spaces and sometimes a different amount of spaces): in https://github.com/laravel/homestead/pull/476 and https://github.com/laravel/homestead/pull/475\nI see that in https://github.com/laravel/homestead/pull/563 and in here, there is a regression of that problem (spaces and tabs). Can we just keep the consistency that we have achieved?. @svpernova09 it looks good to me, thanks! \ud83d\ude03  \ud83d\udc4d . The file duplication definitely will be a pain to maintain and we have already forgot to update the LocalizedVagrantfile a couple of times, that's something that could happen to the LocalizedAliases and to LocalizedXFiles.\nI agree that the make command should prepare the files to per-project installations and if it is done correctly, we can get rid of the LocalizedVagrantfile.\n. @svpernova09 if no one takes the shot or comes with a better idea, i can work on this over the weekend.. Yeah, you're right, let's keep it simple then and use separate files. Let's modify the make command to use those when appropriate.. @matthewsuan do you have a Laravel directory with a Laravel project inside of your /Users/jervenmatthew/Code directory?\nGiven the configuration in your Homeatead.yml, homestead is looking for it. Is that the behavior that you want?. @matthewsuan please, can you share the output after the plugins removal?. @svpernova09 please don't merge this, is still work in progress but i wanted to push some progress.. @svpernova09 the make command is updated and it will now copy the files under resources/localized if homestead has been installed per project.\nIt determines if is a per project installation based on this question, what do you think about it?\nI have also added a test for it, unfortunately i can't emulate a per project installation so i have marked it as skipped. When we achieve that, the assertions are the right ones.\nAnd finally, this PR allow edit from maintainer so if you can help me to verify the aliases file have the right paths will be great.\nThanks and let me know if you have any questions \ud83d\ude03 . Thanks @svpernova09!\nI haven't dropped the task yet, i will look for a way to emulate the per project installation and make those tests pass :). Awesome @svpernova09!\n. @svpernova09 looks good to me \ud83d\udc4d . @svpernova09 sure, i will take a look at it tonight.. Sorry @svpernova09 i have been a little busy, please, give me an extra day. The code looks good if there is a hurry to merge it, but i have a couple of questions that i would like to share with you (nothing serious, just to make sure that i understand correctly).\nThanks :smile: . @svpernova09 this was updated based on your comment in #667. Seems like this was the last occurrence.\n@browner12 i think that the uppercased ~/Code directory is because in Mac OS, every directory inside ~ has the first letter uppercased:\n\nMaybe that's why @taylorotwell  left that default as he uses Mac OS, but it is just a guess \ud83d\ude05. \ud83d\ude13 i'm so sorry for this, the failure makes sense.\n@svpernova09 should we preserve then the code directory in this cases or do you have another approach in mind?. @svpernova09 understood, i agree with you and will work on that, thanks! \ud83d\ude03. @pmartelletti i installed the symfony/console in its 3.4.x-dev version and i was able to reproduce the error:\n\nWith the changes of this PR, everything worked fine:\n\n/cc @svpernova09 this will ensure that we will be ready for that release.. @matoscas you can find great documentation about it here \ud83d\ude03 . @sumityadav and @bbsnly probably that is because you haven't pulled the latest changes from the Homestead repository. In the v6.4.0 tag, this file updated the vagrant box required version from >=3.0.0 to >=4.0.0.. @ryankilf it does that without being aware of the Nginx sites?, because we need to have something like in our /etc/hosts\nfoo.test  192.168.10.10 # Or whatever IP address gives you autonetwork\nbar.test  192.168.10.10 # Or whatever IP address gives you autonetwork\nbaz.test  129.168.10.9  # Or whatever IP address gives you autonetwork\n. @brino i have refactored this in #730 \nAn script file for just one line was too much to begin with.. It fixes #728 too. @svpernova09 and @brino this applies your feedback in #730, thanks for it \ud83d\ude04 . @viezel neither is going to happen, someone already tried it in https://github.com/laravel/docs/pull/2357 and was rejected by Taylor.. @kylehyperlink and @Roron0a this issue was fixed in https://github.com/laravel/homestead/pull/682 and released in v6.3.0\nJust make sure that you're running the latest version of Homestead.. There is no bug to fix, the code is looking for both settings files and warn the user if that is the case.\nThe && is the right operator to use, @shafan. Can you please share the output of your vagrant destroy && vagrant up?\nI have tried this in a fresh installation with the latest box and i can run laravel new ... without it requiring sudo.. Wow, the fastest merge that i have ever experienced \ud83d\ude05it was just created seconds ago.\nThanks, @svpernova09!. @pluxain missing space between string and $projectName, they must be two of them.. @pluxain unnecessary line. @pluxain unnecessary line. @pluxain unnecessary line. Do nothing when the port is not a string doesn't feel right, what if instead you always cast it to a string even if it already is a string?\nI have tried this with 8080 and \"8080\" and not only fixes the error, but allows to use integers as ports:\nruby\nconfig.vm.provision 'shell' do |s|\n  s.inline = 'rm -rf ' + site['to'].to_s + '/ZendServer'\nend. The indent_style = space is already defined by [*] so there is no need to declare it again.\nBut given that this was previously rejected, why don't you keep this PR more scoped by just fixing #910 and sending this in an independent PR to help with the discussion?. ",
    "Geczy": "Finding more about this, seems to be a virtualization iissue\nSame issue here\nhttps://www.virtualbox.org/ticket/16432\nhttp://forums.rootsmagic.com/index.php?/topic/8594-sqlite-error-10-disk-io-error/\nhttp://sqlite.1065341.n5.nabble.com/sqlite3-OperationalError-disk-I-O-error-td18568.html\nhttp://superuser.com/questions/793131/svn-1-8-9-with-vmware-shared-folders. My database is in the storage/app/* folder. I have chmod 777 on it and the file. I'm using storage_path()\nI tried moving it to database and using the database_path() helper but the error is the same.\nI think any folder inside the shared sync folder is not going to work because it's syncing from a windows host. I'd have to move it outside the share like in /tmp/ or something for it to work. . That worked! Thank you. I tried rsync type but not smb. ",
    "reatang": "Thank you for reminding, I will read php71 features\u3002:-). ",
    "ultimateBusiness": "I have made homestead as an alias, so my \"homestead up\" was a native \"vagrant up\" within the Homestead-directory.\nI have deinstalled my Virtualbox-installation with the own uninstaller - restarted the system and still get the same error ;-(\n```\n$ vagrant up\nBringing machine 'homestead-7' up with 'vmware_fusion' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Verifying vmnet devices are healthy...\n==> homestead-7: Preparing network adapters...\nVagrant found a port collision for the specified port and virtual machine.\nWhile this port was marked to be auto-corrected, the ports in the\nauto-correction range are all also used.\nVM: homestead-7\nForwarded port: 80 => 8000\n```. my VMware Fusion version is: Professional Version 8.5.3 (4696910). ",
    "miloshdiklich": "I fixed it by completely removing both vagrant and virtualbox (not upgrading from current versions), but complete uninstall and then clean install the newest versions (Vagrant: 1.9.1 and VirtualBox: 5.1.14). \nThings to remove before installing the newest versions:\n\n\nrm -rf /opt/vagrant\n\n\nrm -f /usr/local/bin/vagrant\n\n\nrm -rf ~/.vagrant.d\n\n\nUninstall VirtuaBox\n\n\nRemove VirtualBox VM's folder\n\n\nThanks @svpernova09 \n. ",
    "EvodiaAut": "Thx!\nA small idea is to add optional a php version.\non site\nyaml\nsites:\n    - map: homestead.app\n      to: /home/vagrant/Code/Laravel/public\n      php: 5.6\nor global\nyaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nphp: 5.6. OK, I thought.\nthx for support. ",
    "inonbaguio": "I believe this is now supported in ~6.0 laravel homestead repo - https://github.com/laravel/homestead/issues/604 \ud83c\udf89 . ",
    "bassauer-storms-media": "well the reason I don't want homestead to crash if the folder does not exist is that we got windows and mac computers here in our company that use one and the same homestead.yaml file (so that not every single person and also designers and managers etc have to fiddle with vhost configs), loaded from a network drive. A mac cannot mount X:... and a windows OS cannout mount a NFS like /Volumes/...\nSo we thought about putting both folders to the yaml and homestead just skips them if the dir does not exist. If you think this is nothing generic useful, we will just modify out own homestead.rb and you can deny that pull request. A error message would be finde but not some sort of kernel panic. a big yelling error notice would be fine as long as it won't interrupt/cancel the vm's start up process. Feel free to add such a message in the else branch :) . Okay, but this has to wait a few hours; I don't know how to abandon/cancel a pull request and I dont know how to print error messages within the ruby script. I have to check that first. Thanks for your time :) . ",
    "alexdover": "Awesome!. ",
    "ryancwalsh": "https://stackoverflow.com/a/48059114/470749 and https://askubuntu.com/a/256004/48214 were helpful for me. . @svpernova09 and @refringe I wonder if you know how to solve this Laravel Homestead local dev HTTPS issue: https://stackoverflow.com/q/48969083/470749 Thanks so much for your help!. @browner12 Thanks but I already tried that. (I read about it here: https://stackoverflow.com/a/47755133/470749). @svpernova09 , @refringe , @browner12 I've spent so many hours over so many weeks on this Homestead SSL issue and haven't made any progress. I'd love any suggestions.  Both Windows 10 Chrome Version 65.0.3325.181 (Official Build) (64-bit) and Firefox Quantum 59.0.2 (64-bit) are saying that my Homestead HTTPS connection is not secure. I've tried using a .rcw TLD, the .test domain (as suggested here), and the http://xip.io/ service.\nThe error in Chrome says:\n\nThis page is not secure (broken HTTPS).\nCertificate - missing\nThis site is missing a valid, trusted certificate (net::ERR_CERT_AUTHORITY_INVALID).\n\nI've tried copying the root certificate from Homestead as suggested by @browner12 and here.\nIf you could suggest anything I should look into at this point, I'd appreciate it. Thanks!. @svpernova09 Thanks, Joe. I'd meant to update in my SO post that I'd already updated the versions. If I understand correctly, everything already is up to date. I've created a new issue (linked above a minute ago). Thanks so much for your help.. @ompmega , @Shkeats , @svpernova09 I have a bounty here since I'm still having trouble getting any Laravel Homestead certificates to work: https://stackoverflow.com/q/48969083/470749  Thanks for any help.. @ompmega Thanks. I've tried those steps so many times, and even though the certificate exports and imports successfully, I still have the error in Chrome (after restarting): \nCertificate - missing\nThis site is missing a valid, trusted certificate (net::ERR_CERT_AUTHORITY_INVALID).\nI've opened a new Homestead issue (linked above).. @kimtree I'm wondering if you could please help me with Homestead certificate not working. I've spent so many hours over so many weeks on this Homestead SSL issue and haven't made any progress. I'd love any suggestions, and I've created a bounty here: https://stackoverflow.com/q/48969083/470749\nThanks so much.. @luisbits Thanks, Luis. I've tried those steps so many times, and even though the certificate exports and imports successfully, I still have the error in Chrome (after restarting): \nCertificate - missing\nThis site is missing a valid, trusted certificate (net::ERR_CERT_AUTHORITY_INVALID).\nI've opened a new issue (linked above).. @arturcesarmelo I think https://stackoverflow.com/a/49612084/470749 was how I eventually got it working. Good luck.. @kevindierkx I'm wondering if you could please help me with Homestead certificate not working. I've spent so many hours over so many weeks on this Homestead SSL issue and haven't made any progress. I'd love any suggestions.\nSee https://stackoverflow.com/questions/48969083/how-to-get-https-certificate-working-on-local-laravel-homestead-site\nAnd https://github.com/laravel/homestead/issues/526#issuecomment-377660393\nThanks so much.. @kevindierkx Thanks. I finally got the address bar to have a green lock and \"Secure https\" in the address bar even for my local site (even using the xip.io service). I'll update StackOverflow.. This problem still frustrates me every single day, even though I've had my ~/.bashrc set up to run a datesync function similar to @browner12 's here (which automatically runs whenever I SSH into my Homestead box but is only a temporary fix). I don't want to need to SSH into Homestead every time there is time slippage (which is multiple times per day).\nThese 3 posts look promising, but I'm not experienced enough with Vagrant or VirtualBox to understand.\n\nhttps://superuser.com/questions/463106/virtualbox-how-to-sync-host-and-guest-time\nhttps://superuser.com/questions/688127/how-to-correctly-sync-time-in-linux-running-as-virtual-guest-after-host-resumes\nhttps://stackoverflow.com/questions/19490652/how-to-sync-time-on-host-wake-up-within-virtualbox\n\nIf any of you figure out how to keep Homestead in sync with its Windows host's clock, I'd love to hear how. That will be awesome. :-). @svpernova09 Thanks. I've already tried adding the domain as a security exception, and even though that enables me to load the page (using https, even though it says \"Not secure\" in red), certain browser functions seem blocked. \nFor example, this code will not work:\nconst supportedPaymentMethods = [\n  {\n    supportedMethods: 'basic-card',\n  }\n];\nconst paymentDetails = {\n  total: {\n    label: 'Total',\n    amount:{\n      currency: 'USD',\n      value: 0\n    }\n  }\n};\nconst options = {};\nconst request = new PaymentRequest(\n  supportedPaymentMethods,\n  paymentDetails,\n  options\n);\nrequest.show();\nSee https://stackoverflow.com/a/49602079/470749\nApparently Chrome (and probably other browsers) disable certain browser functionality (such as the PaymentRequest API) when the connection isn't fully secure.\nI had assumed that browsers would honor Homestead's certificates as totally legit and \"green\" and support real https / SSL.\nBut it sounds like in your experience, you just click through the warnings and add an exception and browse your local site where the address bar says in red \"Not secure\" (and \"https\" is crossed out)?\nHomestead doesn't aim to show the certificate as green and valid?\nJust curious. I'm new to all of this. Thanks.. @svpernova09 Ohhhh... I misunderstood. I could have sworn that I read somewhere that Homestead used Let's Encrypt and completely handled the certificates so that they'd be \"green\" and valid for local development. Because of my incorrect memory / assumption, I was stubbornly repeatedly uninstalling and reinstalling Homestead trying to get it all to work. \nOk. I'll look into Let's Encrypt and see if I can get full green https. \nI'll look at:\n\nhttps://www.jeffmould.com/2016/05/14/install-lets-encrypt-ssl-certificate-laravel/\nhttps://letsencrypt.org/docs/certificates-for-localhost/\nhttps://github.com/laravel/homestead/issues/558#issuecomment-297761443\n\nThanks.. @lidoma Thanks. I've already tried that. In your Chrome, is the \"https:\" in green? Mine has the errors in red shown above (even after I've added the URL as a security exception).. @ebonit How can I get Homestead to work at https://mysite.dev instead of https://mysite.dev:44300? This would be useful for testing https://dashboard.stripe.com/account/apple_pay, which requires that I register my domain (even local test domains) and doesn't support specifying a port. Thanks.. @ebonit Ok, thanks. I'm still just using a free Ngrok account for my Stripe testing since I couldn't figure out how to remove the port. It's inconvenient but works.. ",
    "set0x": "I thinks that so is more clear, why two folders?. ",
    "jguice": "Late to the party, but to answer \"why two folders?\" it's because user configuration is generally separated from application files (in this case, the Homestead checkout from github).\nhttp://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html#requirements4a\n\nUser specific configuration files for applications are stored in the user's home directory in a file that starts with the '.' character (a \"dot file\"). If an application needs to create more than one dot file then they should be placed in a subdirectory with a name starting with a '.' character, (a \"dot directory\").\n\nPersonally, I preferred ~/.homestead/ as the location for the user-specific Homestead.yaml and other files on mac/unix-like systems.\nWith this change my custom configuration is now commingled with the \"vendor\" files (e.g. the github checkout).  I'll have to remember not to rm -rf the Homestead checkout without saving a copy of my config files whereas before it was very clearly separated and in a location I expect other config to live (which I backup regularly, migrate to new systems, etc.)\n</opinion>  (still \u2764\ufe0f \ud83c\udfe0-stead anyway \ud83d\ude09 ). @svpernova09 seems like either development should be moved out of master or the docs updated to have users pull a tag (e.g. stable or a specific version).\nRight now anyone following https://laravel.com/docs/5.4/homestead is going to get the master branch by default via the git clone https://github.com/laravel/homestead.git Homestead command in the instructions.\nFrom your comment it sounds like this would result in a broken setup for them until the new laravel/homestead box is also released.\nAlso FWIW (to no one in particular) I ended up just creating symlinks so I could keep ~/.homestead intact which I version in github along with several other configurations in my home dir.. ",
    "liamvictor": "This broke Homestead for me after a vagrant box update and git pull origin master\nI had to edit the Vagrant file back to ~/.homestead to get things running again.\nShould I now be moving the ~/.homestead dir to within the Homestead folder?. Thanks for your help Joe.\n\nYou shouldn't be running master from Homestead. \n\nI'm sorry I don't know what you mean there. I had run the update commands as per the docs. \nDo you mean I should switch a new branch to make edits? \n\ngit checkout v4.0.5 will fix the issue.\n\nThank you.\nTo stay current with the development though, would moving the ~/.homestead folder into ~/Homestead be preferred? \n. Oh I see! Thank you again. . ",
    "PUSKAS6": "What do I do if I my Homestead.yaml and aliases are in the resources file?. Thank you Joe, I'll try that.\nCheers Jeff.\n. ",
    "payello": "Hi,\nI have a question, I have tried to install Homestead but was having problems with it so removed it along with Vagrant. Now when I reinstalled it there was not a ~/.homestead. Is this something that has now been removed or is it an issue caused by uninstalling badly then reinstalling?\nI am quite new to coding and very new to Laravel\nI would appreciate any assistance that you can give\nThanks\nPeter . ",
    "runciters": "Why did you remove support for HHVM?. @svpernova09 Thanks, this actually makes sense!. ",
    "howdoicomputer": "Can the Homestead documentation be updated to not list HHVM as an option? https://laravel.com/docs/5.2/homestead. @svpernova09 Oh, wait, my apologies! I linked the 5.2 docs. The 5.4 docs are listed in the main documentation page and they don't list HHVM as an option - I was looking at old docs. My fault. Smaller suggestion: maybe a warning flag for older doc pages? Something like this: https://guides.emberjs.com/v2.11.0/. ",
    "mathieu-aubin": "I'm glad it got you guys talking hehe... ",
    "benlipp": "@svpernova09 Cursory Google search shows this to be promising. You'll need a linux machine to build them.\nThis might be useful.. ",
    "j3j5": "I would love a libvirt edition as well, just to add my support for it! \ud83d\ude1b . Thank you very much @benddailey , I am now using libvirt as well!!. ",
    "mserralta": "Same here! We would like libvirt for laravel/homestead!!. ",
    "benddailey": "I would love to see this added as well. In the interim I was able to use vagrant-mutate to accomplish this. This assumes you have a hypervisor (probably kvm), libvirt and vagrant-libvirt installed already.\n~$ vagrant box add --provider virtualbox laravel/homestead\n~$ vagrant plugin install vagrant-mutate\n~$ vagrant mutate laravel/homestead libvirt\nAdd the following section to the scripts/homestead.rb file:\n# Configure libvirt settings\n    config.vm.provider \"libvirt\" do |kvm|\n        kvm.memory = settings[\"memory\"] ||= \"2048\"\n        kvm.cpus = settings[\"cpus\"] ||= \"1\"\n    end\nThen just set the provider to libvirt in your Homestead.yaml file then continue with the homestead instructions.\n. ",
    "jonasjuni": "thanks I'm using libvirt now!. ",
    "davidianbonner": "@svpernova09 @jonnywilliamson makes sense \u2013 completely agree with not having it enabled by default, especially when it comes to using composer. I had actually resorted to appending a couple of aliases to my after.sh to make things a bit more fluent.\nI'll leave them here should anyone else need them.\necho \"alias xon='sudo phpenmod -s cli xdebug'\" >> /home/vagrant/.profile\necho \"alias xoff='sudo phpdismod -s cli xdebug'\" >> /home/vagrant/.profile. @svpernova09 done. Cheers.. ",
    "ruistrecht-alt": "You are absolutely right, I didn't notice that after.sh was excluded from git.\nThank you very much for the fast response and help :D. ",
    "etenzy": "In my opinion it doesn't makes a difference which error clicked away when the CA is not trusted.\nTrusting that CA is save, as long users won't re-distribute their CA to others.\nYou \"never\" have to re-trust the CA, because the CA is stored in /vagrant (synced to your host-folder). When you refresh your Box the \"old\" CAcert will be used every time as long you don't delete it.\n. ",
    "mirbatworks": "After vagrant ssh I navigate to my project folder and run npm run dev. It's fresh copy of Laravel 5.4. I'm not sure that I understand you from where I need to run command when you said host OS. In my old Laravel 5.3 project everything works fine with gulp command.. mirbatworks@mirbatworks-desktop:~/Homestead$ npm run dev\nThe program 'npm' is currently not installed. You can install it by typing:\nsudo apt install npm\nmirbatworks@mirbatworks-desktop:~/Homestead$\nJeffrey said that I need to update my installed  version of Node. How to do that in Homestead?. ",
    "vblinden": "Sure, I could add a note in the usage. Should I include every ngrok command or just a note that you can add ngrok commands after the first command?\nAnd also a section in the documentation?. @andrewhood125 That is exactly how this would be used. Shall I add this to the pull request?. ",
    "kevinsmith": "Using box 0.3.3 since this project cannot yet move to PHP 7.. Thanks for the tip, @svpernova09!\nI'd humbly suggest these instructions should be in a more prominent place, perhaps even the 5.1 documentation. And the legacy Homestead should be officially maintained alongside the LTS version of Laravel that it pairs with. The project that I'm working with here specifically chose Laravel 5.1 because of the long-term support, but that's increasingly less valuable if the surrounding Laravel ecosystem rushes down the road without it.\n/cc @taylorotwell . Appreciate the help here, Joe! Hoping perhaps @taylorotwell sees fit to spin up an official laravel/homestead-legacy box on Atlas. That would go a long way in signaling a commitment to LTS support.. @svpernova09 One issue I'm running into on the legacy box: When I try to connect to the DB from outside the box (using SequelPro in this case), I get this error\n\nMySQL said: Lost connection to MySQL server at 'reading initial communication packet', system error: 0\n\nDidn't have a problem connecting to the DB when using the 0.3.3 version of the official box. What's changed between that and your legacy box?. Using localhost on port 33060.. I think I see why. It's picking up it's MySQL config from /etc/mysql/mysql.conf.d/mysqld.cnf which has bind-address   = 127.0.0.1. Looks like the provisioning script isn't properly setting up remote MySQL access.\nI'm happy to do a pull request to fix it, just not sure which repo and branch you're using to build the legacy box.. ",
    "mcallan83": "Just added it to my original comment.. @DojoGeekRA No args. Just vendor/bin/homestead make. . @DojoGeekRA Great! Thanks for you help. Let me know if there is anything else I can provide.. ",
    "tomcoonen": "@svpernova09 \ud83d\udc4d  If you need any extra details let me know.. ",
    "pluxain": "In fact the tests exist but the preconfigured sites folders tests miss the sluggify step.\n```php\n// tests/MakeCommandTest.php file\n/* @test /\npublic function a_homestead_yaml_settings_has_preconfigured_shared_folders()\n{\n    // ...\n   $projectDirectory = basename(getcwd());\n   $projectName = strtolower(trim(preg_replace('/[^A-Za-z0-9-]+/', '-', $projectDirectory))); // Sluggify\n    // ...\n}\n/* @test /\npublic function a_homestead_yaml_settings_has_preconfigured_sites()\n{\n    // ...\n    $projectName = basename(getcwd());\n    // Here the sluggify step is missing\n    // ...\n}\n```\nThis is also true for the json versions of these tests\n. ",
    "nestormata": "I can confirm I had the same problem when upgrading to VirtualBox-5.1.16-113841-Win and worked just fine when I downgraded back to  VirtualBox-5.1.14-112924-Win.\nNestor. ",
    "Sbaughan": "I upgrade to VirtualBox 5.1.16 and the Homestead Environ stopped working. The file sharing via VirtualBox guest editions is failing in some way. \nI resolved this by downgrading to 5.1.14. Just install over the top of 5.1.16. :). ",
    "amieiro": "This is a problem with the VirtualBox 5.1.16. I have updated the Virtual box to the latest release (5.1.18) and it mounts the shared folders. \nIn my work machine (Windows 10 Professional) I have uninstalled VirtualBox, Vagrant and I have removed the Homestead folder (with a previous backup of the Homestead.yaml file) and the virtual machine files (available at C:\\Users\\my_user\\VirtualBox VMs).\nI have reboot the machine.\nThen I have installed the latest versions (VirtualBox 5.1.18, Vagrant 1.9.2), I have downloaded the box and I have cloned the latest Homestead repository (https://laravel.com/docs/5.4/homestead#first-steps). Then I have replaced the Homestead.yaml with the backup.\nWhen I have executed \"vagrant up\", Vagrant have mounted the shared folders.. Do you have the latest version of Virtualbox and Vagrant? Try disabling the firewall and other security suites . This is a problem with the VirtualBox 5.1.16. I have updated the Virtual box to the latest release (5.1.18) and it mounts the shared folders.\nIn my work machine (Windows 10 Professional) I have uninstalled VirtualBox, Vagrant and I have removed the Homestead folder (with a previous backup of the Homestead.yaml file) and the virtual machine files (available at C:\\Users\\my_user\\VirtualBox VMs).\nI have reboot the machine.\nThen I have installed the latest versions (VirtualBox 5.1.18, Vagrant 1.9.2), I have downloaded the box and I have cloned the latest Homestead repository (https://laravel.com/docs/5.4/homestead#first-steps). Then I have replaced the Homestead.yaml with the backup.\nWhen I have executed \"vagrant up\", Vagrant have mounted the shared folders.. ",
    "BigSoftgr": "I was getting this \"unable to mount\" problem with the vagrant Homestead script (with newer VirtualBox version 5.1.22, Vagrant 1.9.5 but on Ubuntu 14.04). What I ended up doing and finally fixed was I opened up VirtualBox and defined the Shared Folders directly on there (right click on machine -> Shared Folders ->  make permanent). Then restarted the machine normally by vagrant up and everything mounted fine this time. . ",
    "dlynch29": "I've got this issue on Windows 10 using WSL vagrant version 1.9.7 and Windows virtualbox 5.1.26\n```\nip:\n\"192.168.10.10\"\nmemory: 4096\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: c:\\Users\\Daniel Lynch\\Documents\\Code\n      to: /home/vagrant/Code\nsites:\n    - map: homestead.app\n      to: /home/vagrant/wiki/public\ndatabases:\n    - homestead\n```\nIn virtualbox this is the only shared folder listed:\n\\\\?\\c:\\Users\\Daniel Lynch\\Homestead\nAm I experiencing this same issue?\nEdit: Changing it to something like ~/Code does nothing, changing from \\ to / does nothing, and adding quotes around my name does nothing. :(\n. Yeah sorry, I think I might have messed up the pasted in content when trying to format the markdown. My first line is correct. \nI tried mapping it to c:/Code and c:\\Code and I get the same result.. Vagrant for windows does work, I wanted to be able to use the WSL though :(\nThis is a suitable workaround but not a fix! I want my money back! /s\nThanks for the help man.. Don't be sorry. I don't blame Vagrant either, the whole WSL thing is pretty convoluted with many caveats. The fact that we've got things working as well in WSL as we do is pretty great. . ",
    "sx0rp": "I think its Windows Defender. Try disabling it. Or use a firewall program that monitors more precisely like little snitch for mac does.. ",
    "jbreencp": "Encounter the same error every time I created a new project, but just resolved it. VM couldn't mount the new folders when I was running 'vagrant up --provision' from inside a shared folder.\nRan from homestead root and everything worked fine.. ",
    "bgarrison25": "I am running vagrant commands from the Homestead root folder and am still having this same issue. Tried all the above EXCEPT for downgrading.. I am using version 5.2.12 btw\n. This issue seems to be coming back up again with 5.2.12. ",
    "ozanmuyes": "Hi everyone,\nI'm on Windows 7 and double quoting the map path and putting double backslashes instead of one solved the issue for me without downgrading. Here are the versions installed on my system;\n\nVagrant 2.2.3\nHomestead 7.1.0\nVirtualBox 5.2.26\n\nand here is my (shared) folder entry in Homestead.yaml;\n```yml\nip: \"192.168.10.10\"\nprovider: virtualbox\nnothing important so far - just to emphasize beginning of a regular Homestead.yaml file\nsnip\nfolders:\n    - map: \"D:\\Code\"\n      to: /home/vagrant/Code\nsites, databases etc.\n```\nHope this helps to anyone has a problem.\nPS: My firewall and other security suites (DEP etc.) is intact, I don't have any antivirus application installed.. ",
    "andersfloor": "I've got the exact same problem after updating everything (Vagrant, homestead, VirtualBox) to the latest version yesterday. I've been scouring the web for hours but no solution worked for me either.\nI'm not good at this server-stuff but I believe something is going wrong with the mapping. When I open the shared folders settings in VirtualBox , I see this:\n\nIf I vagrant ssh and then run the command sudo mount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant, I get the \"No such file or directory\" error. However, if I click the edit button in VirtualBox and select the vagrant-path manually, it changes to this:\n\n.. that's a different notation. Now when I run the same mount-command again, it works fine and the Homestead-folder is correctly mapped to /vagrant on the virtual machine. So in my anything-but-expert-view I'd guess something is wrong with the path notation.\nWindows 10 64-bit\nVagrant 1.9.2 with vagrant-share (1.1.7, system), vagrant-vbguest (0.13.0)\nLaravel Homestead 3.0.1\nVirtualBox 5.1.16 r113841 (Qt5.6.2)\nGuest Additions seem to be installed correctly:\nvagrant@homestead:~$ modinfo vboxsf\nfilename:       /lib/modules/4.4.0-51-generic/misc/vboxsf.ko\nversion:        5.1.16 r113841\nalias:          fs-vboxsf\nlicense:        GPL\nauthor:         Oracle Corporation\ndescription:    Oracle VM VirtualBox VFS Module for Host File System Access\nsrcversion:     1FD27370CDF975F7B13526A\ndepends:        vboxguest\nvermagic:       4.4.0-51-generic SMP mod_unload modversions\nparm:           follow_symlinks:Let host resolve symlinks rather than showing them (int)\n. Okneloper, I noticed this closed issue from yesterday, it's regarded as a VirtualBox bug and downgrade to 5.1.14 is advised - #510 . ",
    "okneloper": "Just discovered the above in the meantime as well.\nFolder path is \\\\?\\C:\\Users\\user\\Code in the VBox machine settings.\nIf I remove the \\\\?\\ bit and mount the folder manually from command line it works fine. But after reloading the machine the shared folder setting get reset to those erroneous. . Thanks @andersfloor that's really helpful. Just noticed after reading the other issue that provision process could not be finished and it's not just shared folders that's not working.\nDowngrading VirtualBox to 5.1.14 helped.\nCan we keep one of these issues open so that people looking for solution can find it more easily?. ",
    "syntacticNaCl": "Thanks @svpernova09. I pulled it down and everything worked great.. @KevinLeht can you vagrant ssh into the homestead box and run ps aux | grep Xvfb and see if Xvfb is running? You should see this as an output: Xvfb :0 -screen 0 1280x960x24. @KevinLeht apologies for not getting back to you, this fell off my radar. @ipalaus @KevinLeht Have you tried switching to the newest homestead box since it now has this functionality added? If you have and it is still not working, please post the full output of the error you are receiving. \nOne fix other people have found success with is try setting the permissions on chromedriver-linux chmod a+x ./vendor/laravel/dusk/bin/chromedriver-linux from within your project root and then kill Xvfb and run dusk again.. Sounds good @svpernova09. Should we move the package installation to settler and keep the config in the Homestead.yaml file and start-xvfb.sh in homestead so that the user can disable it if they want to run the framebuffer manually?. Sounds good. Thanks for reviewing @svpernova09 @taylorotwell . ",
    "KevinLeht": "Hmm, tried svpernova09 homestead box but still same problem\nFailed to connect to localhost port 9515: Connection refused\nI'm using Ubuntu 16.04, don't know is it something to do with app conf or my host machine.\nAny help?.\n@syntacticNaCl \n   ps aux | grep Xvfb \ngives me output:\nvagrant   2634  0.0  1.7 178568 35356 ?        S    06:21   0:00 Xvfb :0 -screen 0 1280x960x24\nvagrant   5694  0.0  0.0  14232   936 pts/2    S+   09:09   0:00 grep --color=auto Xvfb\n\n. ",
    "ipalaus": "@syntacticNaCl  Same here, I'm getting the same output as Kevin:\nbash\n$ ps aux | grep Xvfb\nvagrant   2588  0.0  1.7 178568 35428 pts/0    S    02:53   0:00 Xvfb :0 -screen 0 1280x960x24\nvagrant   2681  0.0  0.0  14232  1012 pts/0    S+   02:55   0:00 grep --color=auto Xvfb. ",
    "svenluijten": "Did you recently update your Vagrant / VirtualBox, @flamx? Do you remember what versions you had previously?. Thanks for the pointer @josh-taylor! I downgraded to 5.1.10 and the issues doesn't appear to happen anymore! \ud83d\ude04 . Cool, thanks @amieiro. Good to know it works with the latest version \ud83d\ude42 . ",
    "josh-taylor": "Checkout #510.\nRecommended to downgrade to VirtualBox 5.1.14. Worked for me.. ",
    "pmjones": "From the pds/skeleton research, resources/ seems a perfectly reasonable location. (You might want resources/stubs/ instead, so you can keep them separate from other kinds of resources later.). ",
    "doncadavona": "Anyways, got my Homestead back via git checkout v3.0.1 coming from v3.0.2. But still want to know why the Homestead settings file is not in v3.0.2.. Thanks guys! Good to know, the Homestead.yaml is now in the ~/Homestead directory instead of ~/.homestead.. ",
    "throttlehead": "I think they might of made it easier to run multiple versions of Homestead by looking for it in the repo directory instead. I simply copied my Homestead.yaml from my windows user directory right into where I cloned a new copy of laravel/homestead repo and viola!. ",
    "Sarahphp1": "Hi\nI went through a huge mess after I updated my VirtualBox two days ago. \nI got the error: \n\"default: Failed to restart php7.0-fpm.service: Unit php7.0-fpm.service not found.\" when I ran the command: vagrant up.\nAnd all my websites stopped working and first got: bad gateway and then 500 errors.\nSo here is what I did:\n1- I made a back-up of Homestead.yaml\n2- I removed homestead globally using the command: \n\"composer global remove laravel/homestead\"\nI also realized there was a bad quotation mark in my 'composer.json' in the \".composer\" directory, so I fixed it.\n3- I removed laravel/homestead box and then re-installed it.\n4- installed homestead again through composer global command.\n5- I cloned the recent version of homestead from this repository into a directory I called \"Homestead.\"\n6- Since I made a back-up of homestead.yaml, I copied it back in the ~/Homestead directory.\nNow, everything works like it used to before the VirtualBox update. \nThanks to everybody in this thread.\nHope this would help anyone who went through this massive headache. :(\n. ",
    "mpathy": "Now I have an:\n\n.......  in os_friendly_id': undefined methodgsub' for nil:NilClass (NoMethodError)\n\nbecause it told me to remove the virtualbox machine in order to creat it new.. :(. Could you provide an information on startup or somewhere else?\nThe official documentation always recommended .app, so it would be useful to check on startup if an official TLD is used and therefore getting blocked by current browsers.. ",
    "Beaudinn": "@mpathy  same here. ",
    "andyscraven": "@Sarahphp1 Thank you.  I was just at the point where I thought \"f**k it\" and starting from scratch then I saw your post.  So I did exactly the same.  Removed everything and started again with Homestead.  All fine now.. Had the same issue with PHP 7.2 and PHPStorm.  Added the extra config as stated by @jonagoldman then ran:\nsudo service php7.2-fpm restart\nand not the 7.1 version given in the post he mentioned and \nBOOM! :-). ",
    "refringe": "Understood. I've modified the initial issue and removed the suggestion. Practices aside, it would make detecting previously generated certificates (for regeneration purposes) a pain. More simple to keep them separate. \ud83d\udc4d . I'll see if I can take a swing at it tonight.. Should have noted the new results...\nAfter copying the certificate to your local machine and adding it to your system (or login) keychain:\nsudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain example.app.cer\n\nChrome v58.0.3029.33 beta starts giving you that wonderful green feeling.\n\n. Happy to help!. ",
    "sisve": "Consider that people are building applications on homestead running mariadb, but they can then not find a compatible host because they require functionality that in the stable release of mariadb yet. No production environment is running the release candidate.\nIf we still want to provide support for 10.2, couldn't we extend the mariadb configuration?\nmariadb: [ false | true | stable | 10.1 | 10.2 | 10.3 ] where true==stable. It would allow people to specifically say \"I want Mariadb 10.2\", while those that with old files stay on the stable version (which will be 10.2 once it is stable).\nPerhaps a bit overkill, but it would allow both types of users, default to stable but allow opt-in to the current release candidate (10.2) or the current development version (10.3).. I would like to counter some of your points. I have the urge to correct them whenever I see someone make them, as some kind of information for others finding this issue and reading the comments. This, however, doesn't at all invalidate the idea to upgrade to mariadb 10.2, but that should probably be a separate issue.\n\nDealing with this at the application level is not an elegant solution due to the fact that it requires hard-coding a maximum length in a service provider, which will in time become obsolete and require future database migration to reconcile.\nFurther, the default ROW_FORMAT, which is a per-table directive, cannot be set in versions of MariaDB < 10.2.2, which means that there is no elegant solution to this (short of hard-coding the value in the service provider) until MariaDB is upgraded to >= 10.2.2.\n\nUsing the service provider and a defaultStringLength is really ugly, but lucky only one of the two documented solutions. It just happens that it's the first solution mentioned in the docs, so people stop reading, and start their copy/paste routine. In fact, you can configure your mariadb 10.1 (and older mysql versions) to support these new features; innodb_file_format=Barracuda and innodb_large_prefix=1. I believe that the proper thing would be to tell developers what they need to configure for things to work. \nYou get around the missing innodb_default_row_format variable by setting 'engine' => 'innodb row_format=dynamic' in your config/database.php.\nYour linked issue is a 404; I presume it's a private repository.. Couldn't we just use the openjdk-8-jre-headless package? . How should we provide the steps? Is there a special Homestead.yaml template that shall be used? Specific versions?. It works for me now too. I guess we cannot trust it since the download urls seems finicky. Wouldn't it be easier to use the openjdk-8-jre-headless package and the existing apt-get mirrors, instead of a ppa that downloads from external urls?. ",
    "TopFuel": "@svpernova09 Seems like the 10.2 is now released.. Hi, I think I ran into this issue some time ago, it has to do with AppArmor and MariaDB.\nIf I remember correctly I found the fix here: https://askubuntu.com/q/750604\nOn the approved answer the person explains what's happening and gives fix, but it didn't work for me so I tried the fix on the answer by plutocrat and it worked, so I added this to the after.sh:\nif [ -f /home/vagrant/.maria ]\nthen\n  sudo ln -s /etc/apparmor.d/usr.sbin.mysqld /etc/apparmor.d/disable/\n  sudo /etc/init.d/apparmor reload\n  sudo service mysql restart\nfi\nAnd it's working with no problem for some time now, I was going to post this here on github but I forgot.\nI don't remember having this issue with the normal MySQL, so it seems like it's only happening when using MariaDB.\nI don't know if it's the same issue, but it seems so.. ",
    "HSPDev": "I vote to go back to 10.2... It has window functions, why on earth wouldn't we be doing that? :O . ",
    "mmic-bjohnson": "Now that Maria DB 10.2 is stable, it seems prudent to include it in Homestead when mariadb: true in Homestead.yaml.\nAnybody who installs the latest version of Homestead (as of this writing) with mariadb: true and Laravel 5.4 is likely to encounter this limitation, which is considerable.\nDealing with this at the application level is not an elegant solution due to the fact that it requires hard-coding a maximum length in a service provider, which will in time become obsolete and require future database migration to reconcile.\nFurther, the default ROW_FORMAT, which is a per-table directive, cannot be set in versions of MariaDB < 10.2.2, which means that there is no elegant solution to this (short of hard-coding the value in the service provider) until MariaDB is upgraded to >= 10.2.2.\nFor a more detailed explanation, please see: https://github.com/cartalyst/platform/issues/325. Thanks for fleshing-out the details. And indeed you are correct; the linked issue is a private repository. My post makes a lot less sense in light of the fact (it does discuss setting innodb_file_format=Barracuda and innodb_large_prefix=1). Sorry about that.\n\nYou get around the missing innodb_default_row_format variable by setting 'engine' => 'innodb row_format=dynamic' in your config/database.php.\n\nGood to know. This seems most valuable for new installations.\n\nI believe that the proper thing would be to tell developers what they need to configure for things to work.\n\nI couldn't agree more. Why none of this information is in the docs is a mystery. I suppose it is in the interest of keeping them terse (at the expense of much frustration, of course).\nAnd yes indeed, none of this makes a case for keeping MariaDB at 10.1 in Homestead. I don't see an existing Issue for upgrading to 10.2, and I'm happy to open one.. ",
    "joaoeduardo": "Hi.\nI can't debug with latest homestead version. I tried with sublime and netbeans. I didn't modify Homestead.yaml. Am I doing something wrong?. ",
    "david-polak": "It depends on net-tools which was deprecated and is unmaintained for 7 years now. I don't know how much longer will distributions continue supplying it in the repositories. At least it would be good to mention the dependency in docs.\nOr should I post this somewhere else? Vagrant perhaps? Not really sure about where to put this.... ",
    "raulpegan": "Arch Linux has the option to install net-tools. But as David said, relying on deprecated software is a bad idea, regardless of what the host operating system is.. ",
    "techno808": "I think this should be re-opened, this one had me at a standstill for a couple of days when I was getting Homestead setup on a Ubuntu 17 install.. ",
    "padalec": "Yes its, because without \\ when this setting was saved to apache config file this variable does not exists is replaced by empty string  . You welcome :). Hi thanks for you replay.\nVMware is payed software, NFS isn't very high speed because files permission is always check over and over again so this takes a long of time. \nAlways when I install or update (via composer) on guest machine project based on symfony when symfony or other library with a lot of files begin to instal,l installation hangs up and sometime the error about NFS can't delete some file are displayed.\n` Failed to download sylius/sylius from dist: Could not delete /home/vagrant/sites/ch.earlybird/vendor/sylius/sylius: \n    Now trying to download from source\n  - Installing sylius/sylius (v1.0.0-beta.2): Cloning 02ccef7f80 from cache\n  [RuntimeException]                                                        \n  Could not delete /home/vagrant/sites/ch.earlybird/vendor/sylius/sylius:  `\nSo I had to run composer install/update on host machine and after done back to guest and finish the installation (yarn, gulp etc.). But this is not everything, sometimes project can load from 1000 to 3000 ms. So this is very slow.\n\nWe also try not to make Homestead dependent on any vagrant plugins if we can help it\n\nbut this can be done by dependending because you can check if vagrant cache plugin is installed and in Homestead.yml cache_dir is configured then roun with cache plugin other wais not\nif Vagrant.has_plugin?(\"vagrant-cachier\")\nI have something like `this: if Vagrant.has_plugin?(\"vagrant-cachier\") in Vagrantfile\n        config.cache.scope = :machine\n    config.cache.synced_folder_opts = {\n      type: :nfs,\n      mount_options: ['rw', 'vers=3', 'tcp', 'nolock']\n    }\n\n    config.cache.enable :generic, {\n      \"cache.tt\"  => { cache_dir: \"/home/vagrant/sites/example.pl/var/cache\" },\n      \"logs.tt\"   => { cache_dir: \"/home/vagrant/sites/example.pl/var/logs\" },\n      \"vendor.tt\" => { cache_dir: \"/home/vagrant/sites/example.pl/vendor\" },\n    }\nend\n\n`\nBest regards\n. ",
    "iWader": "Deep linking on SPAs requires you to reroute all requests to your main html file \ud83d\udc4d . ",
    "lasselehtinen": "I have nothing special in the Homestead config so I thought it is irrelevant to post it. \n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/Code\n      to: /home/vagrant/Code\nsites:\n    - map: digital-distribution.development\n      to: /home/vagrant/Code/digital-distribution/public\ndatabases:\n    - homestead\n    - digital-distribution\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 7777\nto: 777\nprotocol: udp\nafter.sh\nInstall SOAP and intl extension plus Java\nsudo apt-get -y -qq install php-soap > /dev/null 2>&1\nsudo apt-get -y -qq install php-intl > /dev/null 2>&1\nsudo apt-get -y -qq install default-jre > /dev/null 2>&1\n```. There are six Laravel projects and one Ansible under ~/Code. Actually the Windows machine I have has lots more and it does not have this issue. Also the dump was placed on a local folder on the host, so the awful read performance on VirtualBox shared folders are not the case.\nSomehow I feels it related to the host operating system, but I've tried disabling firewall and all the basic tricks. Also the query times through the tunnel are perfectly fine as long as the output is not huge.. ",
    "iviam": "This is solved. I had assumed the problem had to do with versions of the software used, and not the guide (since other posts I found all complained that different versions of the software involved was the culprit).\nI decided to stop following the guide exactly to see if I could resolve the issue on my own.\nWhen I started trying to solve the problem myself it turned out to be very simple -- the guide does not tell you to create the Code directory on your host machine. I had assumed that meant it would be created for you if the Vagrant command was working properly.\nI recommend adding a step to the guide so it's clear that Vagrant isn't going to make the host director for you.\nAlso, another thing that would be worth adding is that if you are using Windows, and not using cygwin, you need to use Windows file paths in the Homestead.yaml.\nAll the best\nWill. ",
    "tomcastleman": "Followed up with #545. Or we could name it xphp perhaps. . This alias does not leave anything 'turned on'. It simply does the following:\n1) if xdebug is not enabled for php-cli, it enables it using the existing xon alias.\n2) php is executed with the 2 extra xdebug settings to ensure xdebug automatically connects to the vm host, passing through the script and any arguments given to the alias. These extra settings are only valid for this execution of php.\n3) if xdebug was not enabled before the alias was run, it is turned off using the existing xoff alias.\n. With an easy alias like this maybe now you can start \ud83d\ude09 . As it's invoking php with xdebug enabled php_with_xdebug would be more appropriate if a little long. I think xphp sits nicely with the existing xon and xoff aliases.\nFor example xphp artisan route:list. ",
    "dqlopez": "No, I didn't specify anything on the yaml file and even changing something on rb files.. I am not using Homestead per project. Where is the value of ${2} being fetched?. ",
    "zorji": "I am also having the same issue. This also means I can't access HTTPS via 44300 port.\nBelow is my Homestead.yml\nHomestead.yaml\n```yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nssl: true\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/workspaces/saml-idp\n      to: /home/vagrant/saml-idp\n      type: \"nfs\"\nsites:\n    - map: samlidp.app\n      to: /home/vagrant/saml-idp/public\ndatabases:\n    - homestead\n```. @svpernova09 Sorry I only have the log in the work machine. I'll provide them after the weekend. I was using Virtualbox 5.18 because somehow Homestead doesn't work with the latest 5.20.. ",
    "taai": "Hey, @dqlopez , this is correct way how to configure proxy:\nyaml\nsites:\n    - map: test.local\n      to: <Port>\n      type: proxy\nYeah, I know \u2013 there is no documentation about it! \ud83d\ude06 . ",
    "cwilby": "I've yet to experiment, but in that case, we should be able to set domain on sites where type: proxy.\nThe proxy site type forwards requests to the port specified in to on 127.0.0.1.\nThis means sites served using the Laravel Nginx config won't respond to forwarded requests from serve-proxy as they use the map value as server_name.. For anyone that is running into this issue with v7.8.0, try upgrading to v7.9.0 - fixed the issue for me, ymmv.. The proxy script works as intended (forwards ngrok requests using proxy_pass=127.0.0.1:${2}), I was looking for ways to replace proxy_pass=127.0.0.1 with the URL used under the sites section in Homestead.yaml.\nHowever, the share command solves the issue. Closing the PR.. The composer version in the latest box predates composer/composer#7649, which fixes this bug.  For an individual, the fix is to manually reinstall, as it could no longer update itself.\nA new version of the laravel/homestead box could fix the issue by installing the latest version of composer.. @svpernova09 Just cloned and ran the box (over LTE and everything!) and everything works, thank you thank you! :+1:. ",
    "zela": "Ok. So probably fix should be in documentation, to declare this incompatibility explicitly.\nI was surprised by described behaviour since in some cases it's pretty viable solution to hide apache behind nginx, and supposed that it's supported in Homestead.\nThank you for blazing-fast answer!. @browner12, thank you for the tip!\nNote for future users:\nI've found also that variables defined in Homestead.yaml don't work with Apache websites.\nhomestead.rb script adds them to ~/.profile and to /etc/php/7.1/fpm/php-fpm.conf.\nPHP-FPM isn't enabled by default in Apache. Enabling it doesn't add environment variables. Looks like in this case it doesn't use config file mentioned above.. Also, websites aren't accessible via https under Apache. Because mod_ssl isn't loaded.\nI'd suggest to enable this stuff by default:\nsudo a2enmod proxy_fcgi setenvif\nsudo a2enconf php7.1-fpm\nsudo a2enmod ssl\nsudo a2enmod proxy\nsudo a2enmod rewrite\nThe most basic Homestead.yaml that works for testing:\nip: \"192.168.50.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys: [ ~/.ssh/id_rsa ]\nfolders:\n    - map: ~/Projects/Playground/phpinfo\n      to: /home/vagrant/phpinfo\nsites:\n    - map: phpinfo-nginx.app\n      to: /home/vagrant/phpinfo/\n    - map: phpinfo-apache.app\n      to: /home/vagrant/phpinfo/\n      type: apache\nvariables:\n    - key: APP_ENV\n      value: dev. ",
    "pablopaul": "@svpernova09 can you give me a quick heads how you would get a cert with intermediate into a Homestead box? \nIs that for interest for the whole project (as I pointed out, very nasty mobile Safari security feature) and something you would integrate or not?. ",
    "sergeyklay": "Yeah, good catch. We did this already https://github.com/phalcon/box/blob/master/src/aliases.rb. ",
    "ClearMarble": "Sure, thanks for the super quick response!\nContents of Homestead.yaml:\n```yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 2\nprovider: virtualbox\nmariadb: true\nauthorize: c:/Users/Jesse/.ssh/id_rsa.pub\nkeys:\n    - c:/Users/Jesse/.ssh/id_rsa\nfolders:\n    - map: c:/localdev/homestead/sites\n      to: /home/vagrant/Sites\n      type: \"nfs\"\nsites:\n    - map: homestead.app\n      to: /home/vagrant/Sites/Laravel/public\n    - map: uibahome.app\n      to: /home/vagrant/Sites/uiba.co/public\n    - map: clearmarble.app\n      to: /home/vagrant/Sites/clearmarble.net/public\n    - map: energycontractbrokers.app\n      to: /home/vagrant/Sites/energycontractbrokers.com/public\n    - map: keystonetest.app\n      to: /home/vagrant/Sites/keystonetest/public\n    - map: jssandbox.app\n      to: /home/vagrant/Sites/jssandbox/public\n    - map: uibajobs.app\n      to: /home/vagrant/Sites/uibajobs/public\n    - map: bordergab.app\n      to: /home/vagrant/Sites/bordergab/public\n    - map: uiba-mongo.app\n      to: /home/vagrant/Sites/uiba-mongo/public\ndatabases:\n    - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n```\nOutput of vagrant ssh > sudo ifconfig:\n```bash\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:c3:0a:85\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fec3:a85/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:15158 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5061 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:14299679 (14.2 MB)  TX bytes:1483938 (1.4 MB)\nenp0s8    Link encap:Ethernet  HWaddr 08:00:27:a1:ef:2f\n          inet addr:192.168.10.10  Bcast:192.168.10.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea1:ef2f/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:187283 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:215317 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:49352365 (49.3 MB)  TX bytes:105263303 (105.2 MB)\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:1048 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1048 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1\n          RX bytes:377764 (377.7 KB)  TX bytes:377764 (377.7 KB)\n``. **supernova09**\nNope, just producesFailed to restart mailhog.service: Unit mailhog.service not found.`\nbrowner12\nThe output is:\nbash\n\u25cf mailhog.service\n   Loaded: not-found (Reason: No such file or directory)\n   Active: inactive (dead)\nSeems like its just not installed at all, but I'm not sure how that could be. I did recently upgrade from base box 1.1.0 and a previous release of the repo...I'm not sure exactly what version I was on before but it was old enough that my Homestead.yaml was located in .homestead my profile folder rather than in the Homestead folder itself. \nIs it possible something went wrong during my upgrade? As I said so far everything else seems to be working fine.. Yeah, that seems to have fixed it. Guess I should've tried that first. Thanks guys, much appreciated!. Actually, while I've got this issue going...I can get to MailHog now but I'm working with a Wordpress site in Homestead and when I'm doing things to trigger emails (GravityFroms notifications), nothing is showing up in Mailhog. Is there anything special I need to do to actually connect it?\nI've tried with a couple of different Wordpress dev sites just now, none of them with any kind of SMTP or other mailing plugin set up and Mailhog doesn't seem to be catching from any of them.\nI've not used Mailhog before now.. Ah, got it. For some reason I thought Mailhog automatically just took over php mailing functionality. I set up SMTP to localhost on port 1025 with no authentication and now it's catching everything just fine.\nVery useful, thanks again for your assistance!. ",
    "it-can": "@WaReZzZz I am getting this error after this PR\n```\nThere are errors in the configuration of this machine. Please fix\nthe following errors and try again:\nshell provisioner:\n* Shell provisioner args must be a string or array\n```\nI have no variables declared in the Homestead.yaml file.... Ok, version 5.2.4 works correct, but this change only works when adding variables to every site in your Homestead.yaml file.... I added a cronjob thats syncs the clock every 5 minutes...\nadded a cron.sh file in the Homestead folder...\necho \"*/5 * * * * vagrant sudo service ntp stop;sudo ntpd -gq;sudo service ntp start >> /dev/null 2>&1\" > \"/etc/cron.d/timefix\". mmm I found this thread, https://askubuntu.com/questions/1033279/ubuntu-upgrade-17-10-to-18-04-moved-my-mariadb-database-to-folder-var-lib-mysql\nSeems you can install it like this:\nsudo apt install mariadb-server-10.2. thanks!. @svpernova09 ok changed it. Ok wil change asap. ",
    "WaReZzZz": "@it-can and @svpernova09  i'll correct it tonight (France time). Thanks to you\nI've corrected it earlier this should be solved by the pull #565 . ",
    "gerardreches": "Issue remains with the next homestead.yaml configuration and after vagrant destroy && vagrant up:\n```\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: 'C:/Users/Carlos Piana/.ssh/id_rsa.pub'\nkeys:\n    - 'C:/Users/Carlos Piana/.ssh/id_rsa'\nfolders:\n    - map: 'C:/Users/Carlos Piana/Repositories/phpMyAdmin'\n      to: /home/vagrant/phpMyAdmin\n    - map: 'C:/Users/Carlos Piana/Repositories/Laravel'\n      to: /home/vagrant/Laravel\n    - map: 'C:/Users/Carlos Piana/Repositories/Vue'\n      to: /home/vagrant/Vue\n    - map: 'C:/Users/Carlos Piana/Repositories/Wordpress'\n      to: /home/vagrant/Wordpress\nsites:\n    - map: phpmyadmin.dev\n      to: /home/vagrant/phpMyAdmin  \n    - map: notaria.dev\n      to: /home/vagrant/Laravel/notaria/public\n    - map: 5thessence.dev\n      to: /home/vagrant/Wordpress/5thessence\ndatabases:\n    - notaria_db\n    - 5thessence_db\n``. Nowvagrant up` gives me an error (full log)\n==> homestead-7: /tmp/vagrant-shell: line 1: /home/vagrant/.ssh/$2: ambiguous redirect\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: C:\\Users\\Carlos Piana.ssh\\id_rsa.pub\nkeys:\n    - C:\\Users\\Carlos Piana.ssh\\id_rsa\nfolders:\n    - map: C:\\Users\\Carlos Piana\\Repositories\\phpMyAdmin\n      to: /home/vagrant/phpMyAdmin\n    - map: C:\\Users\\Carlos Piana\\Repositories\\Laravel\n      to: /home/vagrant/Laravel\n    - map: C:\\Users\\Carlos Piana\\Repositories\\Vue\n      to: /home/vagrant/Vue\n    - map: C:\\Users\\Carlos Piana\\Repositories\\Wordpress\n      to: /home/vagrant/Wordpress\nsites:\n    - map: phpmyadmin.dev\n      to: /home/vagrant/phpMyAdmin  \n    - map: notaria.dev\n      to: /home/vagrant/Laravel/notaria/public\n    - map: 5thessence.dev\n      to: /home/vagrant/Wordpress/5thessence\ndatabases:\n    - notaria_db\n    - 5thessence_db\n``. After changing those back, thevagrant uperror disappears, but thevagrant ssh` issue persists.\nAnd yes, Homestead is using 5.2.4 branch, not master branch.. authorize: \"C:\\Users\\Carlos Piana\\.ssh\\id_rsa.pub\"\nkeys:\n    - \"C:\\Users\\Carlos Piana\\.ssh\\id_rsa\"\nDouble quotes gives an error (Gist).\nSame with single quotes gives ambiguous redirect:\nauthorize: 'C:\\Users\\Carlos Piana\\.ssh\\id_rsa.pub'\nkeys:\n    - 'C:\\Users\\Carlos Piana\\.ssh\\id_rsa'\n$ homestead up --provision\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: /tmp/vagrant-shell: line 1: /home/vagrant/.ssh/$2: ambiguous redirect\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.. I still get\n$ vagrant ssh\nWarning: Identity file C:/Users/Carlos not accessible: No such file or directory.\nbash: Piana/Homestead/.vagrant/machines/homestead-7/virtualbox/private_key: No such file or directory. scripts/homestead.rb is changed in the way you said, and this is the current homestead.yaml using a symlink in a try to avoid the whitespace (mklink /D \"C:\\CarlosPiana\" \"C:\\Users\\Carlos Piana\"):\n```\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: C:/CarlosPiana/.ssh/id_rsa.pub\nkeys:\n    - C:/CarlosPiana/.ssh/id_rsa\nfolders:\n    - map: C:/CarlosPiana/Repositories\\phpMyAdmin\n      to: /home/vagrant/phpMyAdmin\n    - map: C:/CarlosPiana/Repositories\\Laravel\n      to: /home/vagrant/Laravel\n    - map: C:/CarlosPiana/Repositories\\Vue\n      to: /home/vagrant/Vue\n    - map: C:/CarlosPiana/Repositories\\Wordpress\n      to: /home/vagrant/Wordpress\nsites:\n    - map: phpmyadmin.dev\n      to: /home/vagrant/phpMyAdmin\n    - map: notaria.dev\n      to: /home/vagrant/Laravel/notaria/public\n    - map: 5thessence.dev\n      to: /home/vagrant/Wordpress/5thessence\ndatabases:\n    - notaria_db\n    - 5thessence_db\n```\nvagrant up works fine in this case, but I still get the same message on vagrant ssh:\nWarning: Identity file C:/Users/Carlos not accessible: No such file or directory.\nbash: Piana/Homestead/.vagrant/machines/homestead-7/virtualbox/private_key: No such file or directory\nso the symlink does nothing as a workaround.. @svpernova09 Why closed? The issue is still there, I was trying all you have said.. ",
    "IgorGudelj": "I have the same problem with Vagrant 1.9.4+\nOn Vagrant 1.9.3 everything works normally.. @pdbreen When I do this workaround, 'homestead ssh' works but on 'homestead up' I get the following error:\nSSH:\n* private_key_path file must exist: C:/home/.ssh/id_rsa\nAny ideas?. ",
    "pdbreen": "I just hit this as well after upgrade from vagrant 1.9.3 to 1.9.5.  I also upgraded homestead from v5.2.1 to v5.4.0 at the same time, but I don't think homestead is involved in this.  Anyway, here's what I did to work around the issue.\n\nIn Administrator level Command prompt, used \"mklink\" to create symbolic link to my home directory.  For me, this was done from root directory on C: drive - mklink home \"C:\\Users\\Patrick Breen\"\nIn Vagrantfile, added this as the first line in the Vagrant.configure section config.ssh.private_key_path=\"C:/home/.ssh/id_rsa\"\n\nKind of hate having to modify the Vagrantfile to fix, but really need to be able to get into the machine!. @IgorGudelj not sure.   Do you mean vagrant up?  I'm not familiar with homestead up or homestead ssh.  Anyway, here's what I see when I vagrant up.\n$ vagrant up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Clearing any previously set forwarded ports...\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 8000 (host) (adapter 1)\n    homestead-7: 443 (guest) => 44300 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 33060 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 54320 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 8025 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 27017 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => C:/Users/Patrick Breen/Homestead\n    homestead-7: /home/vagrant/src => D:/src\n==> homestead-7: Machine already provisioned. Run `vagrant provision` or use the `--provision`\n==> homestead-7: flag to force provisioning. Provisioners marked to run always will still run.\nAnd, here's my diff vs the 5.4.0 branch which is what I have checked out - just the one addition:\n```\nPatrick Breen@6700k MINGW64 ~/Homestead ((v5.4.0))\n$ git diff\ndiff --git a/Vagrantfile b/Vagrantfile\nindex 12b8f52..9b424f2 100644\n--- a/Vagrantfile\n+++ b/Vagrantfile\n@@ -17,6 +17,8 @@ require File.expand_path(File.dirname(FILE) + '/scripts/homestead.rb')\n Vagrant.require_version '>= 1.9.0'\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n+    config.ssh.private_key_path=\"C:/home/.ssh/id_rsa\"\n+\n     if File.exist? aliasesPath then\n         config.vm.provision \"file\", source: aliasesPath, destination: \"/tmp/bash_aliases\"\n         config.vm.provision \"shell\" do |s|\n```\nHope either of those offer some help.... ",
    "Darkyn": "Same issue here. Thanks Patrick! Your workaround worked for me but I agree 100% on the need for a more elegant solution.. Quick note...I was running into an issue after executing vagrant destroy but during the process of troubleshooting I upgraded from Vagrant 1.9.5 to 1.9.7. After that, I was able to remove the windows home symlink and the config.ssh.private_key override in Vagrantfile. I'm now only using the original ~/.ssh/id_rsa in Homestead.yaml so I suppose they fixed the issue with spaces in the username. Cheers :). ",
    "hjchin": "Thanks Patrick too! It works!. ",
    "devcircus": "Many thanks good sir. Didn't even realize that my vagrant had fallen out-of-date. A quick update solved the problem.. ",
    "dwhoban": "PHP7.1 mcrypt was the cause - closing. Vagrant-bindfs plugin is causing this to fail - weird. ",
    "DrowningElysium": "I am using 1.9.4, I did some fixes needed but will try 1.9.5 . ",
    "idflood": "Thanks @svpernova09 this is working fine now \ud83d\udc4d. Thanks a lot for the quick feedback. The error about dpkg: error processing package php7.1-fpm doesn't seem too problematic I guess. This morning I was wondering how to access the error logs in vagrant, thanks for the tip : ) The error I have is this:\n[Tue Jun 13 12:24:00.801426 2017] [core:alert] [pid 1611] [client 192.168.10.1:58525] /home/vagrant/Code/mysite/wp/.htaccess: Invalid command 'Header', perhaps misspelled or defined by a module not included in the server configuration\n\nIf I disable the Header rule it works as expected. So, sorry for this false alarm and thanks again for the incredible support \ud83d\udc4d . ",
    "dimitriadisg": "Awesome !\nI can't believe this fix came just 11 days ago, I'm lucky, thank you !\nConfirming that fix is working for Windows 10.. ",
    "matthewsuan": "ifconfig\n```\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:32:ed:09\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe32:ed09/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2256 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1601 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:249118 (249.1 KB)  TX bytes:201490 (201.4 KB)\nenp0s8    Link encap:Ethernet  HWaddr 08:00:27:be:58:7b\n          inet addr:192.168.10.10  Bcast:192.168.10.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:febe:587b/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:15 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:1226 (1.2 KB)\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:297 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:297 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1 \n          RX bytes:116025 (116.0 KB)  TX bytes:116025 (116.0 KB)\n```. @DojoGeekRA yes, I do have the directory. \nBesides, something like 'invalid input file' should be seen as error if nginx cant find the correct directory.. Removed all plugins except system plugins and host computer's hosts file is now clear after vagrant destroy && vagrant up.\nBut still cant connect to it. \nPing 192.168.10.10 request timed out.\nHttp request to the domain installed timed out.\nHowever, I can connect via ssh and can access the domains when doing curl.\nAlready restarted my Mac.. @DojoGeekRA I reinstalled vagrant and restarted mac. All seems to work fine now. thanks for all your help.\nAlso for future reference, I removed vagrant system plugin (vagrant-share). Idk if that helps fixed the issue.. ",
    "onlyshow": "yes.Thank you very much!. ",
    "neamtua": "There is no .bash_aliases file in any of the locations mentioned by you.. Did that and reprovisioned the machine. Now it says it can't find ngrok when I run the share command.. It was already at the latest version.\nBox 'laravel/homestead' (v2.1.0) is running the latest version.. Hey,\nwhereis just says\nngrok:\nRunning ngrok says\n-bash: ngrok: command not found\nIt just seems that it isn't installed. As i said before this message, after I ran init.sh and reprovisioned the machine the share command was there but couldn't find ngrok.\nvagrant@homestead:~$ share ruvix2.app\n-bash: ngrok: command not found. Did that, removed all the homestead boxes I had and set it up again. Share now works.\nThank you.. ",
    "zmorris": "This didn't work for me.  Followed all the steps, I'm on the latest 2.1.0 version (even removed ~/Homestead/.vagrant) and still no share command:\n```\nvagrant ssh\nWelcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-66-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n158 packages can be updated.\n58 updates are security updates.\nLast login: Tue Jun 20 02:55:20 2017 from 10.0.2.2\nvagrant@homestead:~$ cat /home/vagrant/.bash_aliases\nalias ..=\"cd ..\"\nalias ...=\"cd ../..\"\nalias h='cd ~'\nalias c='clear'\nalias art=artisan\nalias phpspec='vendor/bin/phpspec'\nalias phpunit='vendor/bin/phpunit'\nalias serve=serve-laravel\nfunction serve-laravel() {\n    if [[ \"$1\" && \"$2\" ]]\n    then\n        sudo dos2unix /vagrant/scripts/serve-laravel.sh\n        sudo bash /vagrant/scripts/serve-laravel.sh \"$1\" \"$2\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  serve domain path\"\n    fi\n}\nfunction serve-hhvm() {\n    if [[ \"$1\" && \"$2\" ]]\n    then\n        sudo dos2unix /vagrant/scripts/serve-hhvm.sh\n        sudo bash /vagrant/scripts/serve-hhvm.sh \"$1\" \"$2\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  serve-hhvm domain path\"\n    fi\n}\nfunction serve-proxy() {\n    if [[ \"$1\" && \"$2\" ]]\n    then\n        sudo dos2unix /vagrant/scripts/serve-proxy.sh\n        sudo bash /vagrant/scripts/serve-proxy.sh \"$1\" \"$2\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  serve-proxy domain port\"\n    fi\n}\nfunction serve-apache() {\n    if [[ \"$1\" && \"$2\" ]]\n    then\n        sudo dos2unix /vagrant/scripts/serve-apache.sh\n        sudo bash /vagrant/scripts/serve-apache.sh \"$1\" \"$2\" 80\n    else\n        echo \"Error: missing required parameters.\"\n        echo \"Usage: \"\n        echo \"  serve-apache domain path\"\n    fi\n}\nfunction artisan() {\n    php artisan \"$@\"\n}\n```\nngrok is installed though:\n$ whereis ngrok\nngrok: /usr/local/bin/ngrok\nIs there a place I can download a new /home/vagrant/.bash_aliases or use ngrok directly?\nThanks!. Thank you, after posting this I reread everything and noticed that aliases was stale because I'm trying to upgrade to the newest Homestead.  For anyone who is upgrading and finds this, read this Laravel Homestead upgrade process from:\nhttps://davejustdave.com/2016/03/08/how-to-upgrade-laravel-homestead-vagrant-box/\nExcept pull the newest Homestead master before you start (assuming you originally installed with git clone https://github.com/laravel/homestead.git Homestead):\n```\ncd ~/Homestead\ngit pull\nrun init.sh but DO NOT OVERWRITE YOUR Homestead.yaml\nsh init.sh\nvagrant up --provision\n...\n```\nThis worked for me, and now I'm seeing this output and the site works:\n```\n$ share mysite.app\nngrok by @inconshreveable                                                                                                                                                                                                                                     (Ctrl+C to quit)\nSession Status                online                                                                                                                                                                                                                                        \nUpdate                        update available (version 2.2.4, Ctrl-U to update)                                                                                                                                                                                            \nVersion                       2.2.3                                                                                                                                                                                                                                         \nRegion                        United States (us)                                                                                                                                                                                                                            \nWeb Interface                 http://127.0.0.1:4040                                                                                                                                                                                                                         \nForwarding                    http://XXXXXXXX.ngrok.io -> localhost:80                                                                                                                                                                                                      \nForwarding                    https://XXXXXXXX.ngrok.io -> localhost:80                                                                                                                                                                                                       \nConnections                   ttl     opn     rt1     rt5     p50     p90                                                                                                                                                                                                   \n                              1       0       0.00    0.00    65.92   65.92                                                                                                                                                                                                   \nHTTP Requests\nGET /favicon.ico               404 Not Found                                                                                                                                                                                                                                \nGET /                          401 Unauthorized\n```\nHope this helps someone, and thanks again.. ",
    "mffap": "Maybe there is something that I have missed, but unfortunately I experience the same problem with a fresh install of Homestead, that is:\n\nvm boots up without errors\ntimeout on http://homestead.app or http://homestead.app:8000\n~/Code/Laravel/public/index.html (test site) is accessible over http://localhost:8000 (but not over http://localhost)\nping on homestead.app / homestead.app:8000 time out\n\nSteps taken in troubleshooting (still same result)\n- vagrant destroy followed by vagrant up --provision \n- vagrant reload --provision and vagrant provision\n- system reboot\n- upgrade system to ensure packages are up-to-date\n- tested different browser (firefox, chrome)\n- ngix logs are empty on vm\n- fresh install of homestead in different folder\n- checkout older version (v5.3.2)\nThe same setup worked before on the same machine.\nPlease find below the contents of relevant files. \nThanks for the help\nHomestead.yaml\nonly changed ssh files\n```\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.mffap.pub\nkeys:\n    - ~/.ssh/id_rsa.mffap\nfolders:\n    - map: ~/Code\n      to: /home/vagrant/Code\nsites:\n    - map: homestead.app\n      to: /home/vagrant/Code/Laravel/public\ndatabases:\n    - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n```\n/etc/hosts\n```\n127.0.0.1   localhost\nThe following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nHomestead\n192.168.10.10 homestead.app\n```\n/etc/nginx/sites-available/homestead.app\non vagrant via vagrant ssh\n```\nserver {\n    listen 80;\n    listen 443 ssl http2;\n    server_name homestead.app;\n    root \"/home/vagrant/Code/Laravel/public\";\nindex index.html index.htm index.php;\n\ncharset utf-8;\n\n...\n```\n. Ubuntu 16.04.2 LTS. yes, also tried this one already on the host:\nnet-tools is already the newest version (1.60-26ubuntu1). ok - did a complete reinstall of both virtualbox and vagrant, now it works like a charm. thanks anyways!. ",
    "JulioECastro": "Ok, I will send you my code.. ",
    "nicolaiskogheim": "Excellent! Thank you @svpernova09 \u2728. ",
    "jericopulvera": "it work's when seeding less data. \nhow do I see that core dump you're talking about?. @blacktrue turns out its a problem with vagrant latest version. I downgraded vagrant then it started working properly. @svpernova09 does not solve my issue. I am fresh installing homestead.\n807 (comment) did not work.\nMy vagrant version is 1.9.2. @svpernova09 I see thanks.\nSince I can't find the file which I should change the download link.\n\"vagrant box add laravel/homestead https://vagrantcloud.com/laravel/homestead\" did this and it works now.. ",
    "blacktrue": "@jericopulvera \nDid you solve it?. ",
    "michaelesmith": "No it does not break Symfony 2 projects. It adds a new type of symfony4.. ",
    "lk77": "it would be really cool to have such a functionality,\nactually i'm using a script to install ondrej/php and php5.6/7.0/7.1 modules on the homestead vagrant box, it's working well, and i can switch versions easily, but it's not out-of-the-box, and need to be re-executed when creating new homestead instances.. ",
    "clarknelson": "Checking in, this is more useful now that Craft 2.6 uses php7.1 and Craft 3+ uses php7.2 . ",
    "ivan006": "that all good and well but when i make those changes jack squate changes thanks alot. ",
    "lukaisailovic": "It worked fine earlier in the day, but I had to reinstall my OS and for some reason after that its not working anymore... What do you suggest I should do ? Already tried reinstalling vagrant. ",
    "w-villena13": "i am having the same issue when try to run vagrant box add laravel/homestead. kindly give me some instruction on how to fix this. i am sure i'm running the newest version of vagrant and i have also tried reinstalling vagrant.\n$ vagrant box add laravel/homestead\nThe box 'laravel/homestead' could not be found or\ncould not be accessed in the remote catalog. If this is a private\nbox on HashiCorp's Vagrant Cloud, please verify you're logged in via\nvagrant login. Also, please double-check the name. The expanded\nURL and error message are shown below:\nURL: [\"https://vagrantcloud.com/laravel/homestead\"]\nError: SSL certificate problem: unable to get local issuer certificate\nMore details here: https://curl.haxx.se/docs/sslcerts.html\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\n. ",
    "chukkynze": "I had the same problem. I ran vagrant up and it could not find the homestead box:\nThe box 'laravel/homestead' could not be found or\ncould not be accessed in the remote catalog. If this is a private\nbox on HashiCorp's Atlas, please verify you're logged in viavagrant login`. Also, please double-check the name. The expanded\nURL and error message are shown below:\nURL: [\"https://atlas.hashicorp.com/laravel/homestead\"]\nError: The requested URL returned error: 404 Not Found\n`\nI solved it by updating my ubuntu 16.04 box and upgrading vagrant to version 2 and updating virtualbox to virtualbox-5.2. Vagrant downloaded the box successfully but not from the location stated above. I would infer that the location of the box was changed for the new version and the solution is just to upgrade everything\n. ",
    "cschoeni": "Thanks for your answer svpernova09. I try my code bellow \n```yaml\nfolders:\n    - map: ~/Projects/Laravel/sandbox\n      to: ~/Code\n...\nfolders:\n    - map: home/cschoeni/Projects/Laravel/sandbox\n      to: ~/Code\nfolders:\n    - map: ~/Projects/Laravel/sandbox\n      to: home/vagrant/Code\n``\nIts the same error aftervagrant reload --provision.\nThe error is in folders byto:` but a dont now what a can try.\nBest\nChris. ",
    "ericdowell": "The exact use case for this is moving/rewriting/refactoring legacy logic into a Laravel application and keeping the same paths and file references. So there wouldn't actually be any php files placed in the public folder of the application.. ",
    "jcricaro": "I'll be replicating this later.. ",
    "leandroruel": "OK. thank you. ",
    "elramus": "Just created a new Homestead environment today. Should I be able to use the sqlsrv driver now? So far it's still giving me the \"could not find driver\" error. Is there something I need to do first with my Vagrant box...? Using PHP 7.2. Thanks. . Oh ok, thanks. . ",
    "wcadena": "encontre esto y funciono php7.2:\npara instalar mssql\n#los drivers necesarios\n#https://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-2017\n#para los drivers puntuales\n#https://github.com/Microsoft/msphpsql/issues/81\n    #pecl search sqlsrv\n    #sudo pecl install sqlsrv-4.1.6.1\n    #sudo pecl install pdo_sqlsrv-4.1.6.1\n\n    #y para copiar de uno a otro\n\n# cp 7.2/cli/conf.d/20-sqlsrv.ini 7.0/apache2/conf.d/20-sqlsrv.ini  \n# cp 7.2/cli/conf.d/20-pdo_sqlsrv.ini 7.0/apache2/conf.d/20-pdo_sqlsrv.ini          \n# cp /etc/php/7.2/cli/conf.d/20-sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-sqlsrv.ini    \n# cp /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\n\nverifica que se registren los drivers en el php.ini, sugiero usar phpinfo() para ver este tema, ademas usar el locate para buscar donde se crearon los drivers. aun no se como ponerlo en las versiones viejitas de php, pero con paciencia lo logras instalar en el php7.2.\nsuerte\n. intenta esto, lo he usado en el Homestead\n```shell\nvagrant box add laravel/homestead --box-version 6.4.0\nsudo su \ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\nUbuntu 18.04\ncurl https://packages.microsoft.com/config/ubuntu/18.04/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql17\noptional: for bcp and sqlcmd\nsudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc\noptional: for unixODBC development headers\nsudo apt-get install unixodbc-dev\npecl search sqlsrv\nsudo apt-get install php7-dev\nsudo pecl install sqlsrv-5.5.0preview\nsudo pecl install pdo_sqlsrv-5.5.0preview\nhasat aca el sqlsrv y pdo_sqlsrv estan instalados\npara ver donde se debe escribir /usr/bin/php7.2 --ini\nahora, donde debemos escribir el archivo de configuracion??\ndepende donde el phpinfo del sitio indique.\npor lo general puede ser con el comando  /usr/bin/php7.2 --ini\nsudo su\necho extension=sqlsrv.so >/etc/php/7.2/cli/conf.d/20-sqlsrv.ini\necho extension=pdo_sqlsrv.so >/etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini\napache2\necho extension=sqlsrv.so >/etc/php/7.2/apache2/conf.d/20-sqlsrv.ini\necho extension=pdo_sqlsrv.so >/etc/php/7.2/apache2/conf.d/20-pdo_sqlsrv.ini\npara el nginx 7.2\necho extension=sqlsrv.so >/etc/php/7.2/fpm/conf.d/20-sqlsrv.ini\necho extension=pdo_sqlsrv.so >/etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\n/usr/bin/php7.2 -m\nreiniciar servidor\n```. para ver el PHP info:\nshell\nsudo -s\necho '<?php phpinfo();' > /opt/lampp/htdocs/info.php\ncomo indica aca,\nhttp://alexpereap.com/es/blog/como-instalar-xampp-en-ubuntu-1604\n la idea es saber donde debe escribirse el archivo de configuracion del driver\nshell\necho extension=sqlsrv.so >/etc/php/7.2/apache2/conf.d/20-sqlsrv.ini\ndebes tener en cuenta que el driver no es como en windows un dll portable, en linux el comando de instalacion\nshell\nsudo pecl install sqlsrv-5.5.0preview\nsudo pecl install pdo_sqlsrv-5.5.0preview\ncopila para linux el driver cada vez.\nsegun indica en este post \nhttps://github.com/Microsoft/msphpsql/issues/736\nsugiere que desinstales y vuelvas a instalar.\n. What would be the option that we would have to connect \"sql server\"?\nWhat is the suggestion to connect laravel with sql server?\n\n\u00bfCual seria la opcion que tendriamos para conectar \"servidor sql\"? \n\u00bfcual es la sugerencia para conectar laravel con sql server? \n. encontre esta opcio:\nencontre esto y funciono php7.2:\npara instalar mssql\n#los drivers necesarios\n#https://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-2017\n#para los drivers puntuales\n#https://github.com/Microsoft/msphpsql/issues/81\n    #pecl search sqlsrv\n    #sudo pecl install sqlsrv-4.1.6.1\n    #sudo pecl install pdo_sqlsrv-4.1.6.1\n\n    #y para copiar de uno a otro\n\n# cp 7.2/cli/conf.d/20-sqlsrv.ini 7.0/apache2/conf.d/20-sqlsrv.ini  \n# cp 7.2/cli/conf.d/20-pdo_sqlsrv.ini 7.0/apache2/conf.d/20-pdo_sqlsrv.ini          \n# cp /etc/php/7.2/cli/conf.d/20-sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-sqlsrv.ini    \n# cp /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\n\nverifica que se registren los drivers en el php.ini, sugiero usar phpinfo() para ver este tema, ademas usar el locate para buscar donde se crearon los drivers. aun no se como ponerlo en las versiones viejitas de php, pero con paciencia lo logras instalar en el php7.2.\nsuerte\nsi da un error revisar:\nsudo apt-get install libc6 libstdc++6 libkrb5-3 libcurl3 openssl debconf unixodbc unixodbc-dev #install dependencies\n    #sudo dpkg -i msodbcsql_13.1.X.X-X_amd64.deb #install the Driver\n\npara ver donde se debe escribir /usr/bin/php7.2 --ini\n#echo extension=sqlsrv.so >/etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini\n        #echo extension=pdo_sqlsrv.so >/etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini\n        #/usr/bin/php7.2 -m\n        # para ver donde se debe crear el archivo ini\n    #cp /etc/php/7.2/cli/conf.d/20-sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-sqlsrv.ini\n    #cp /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\n\n    #reiniciar\n\npara la validacion usar phpinfo(). ",
    "richvida": "Here's what worked for me:\nafter.sh\n```\n!/bin/sh\nPHP_MSSQL_DRIVERS=Ubuntu18-7.2\nDownload and extract phpmysql drivers\nsudo wget \"https://github.com/Microsoft/msphpsql/releases/download/v5.3.0/${PHP_MSSQL_DRIVERS}.tar\" -O - | tar -x\nChange Directory\ncd $PHP_MSSQL_DRIVERS\nChange owner/group\nsudo chown root:root php_pdo_sqlsrv_72_nts.so\nsudo chown root:root php_sqlsrv_72_nts.so\nModify permissions\nsudo chmod 644 php_pdo_sqlsrv_72_nts.so\nsudo chmod 644 php_sqlsrv_72_nts.so\nMove files\nsudo mv php_pdo_sqlsrv_72_nts.so /usr/lib/php/20170718\nsudo mv php_sqlsrv_72_nts.so /usr/lib/php/20170718\nCleanup\ncd .. && sudo rm -rf $PHP_MSSQL_DRIVERS\nCreate new .ini file\nsudo touch /etc/php/7.2/mods-available/pdo_sqlsrv.ini\necho \"extension=php_pdo_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/mods-available/pdo_sqlsrv.ini > /dev/null\nCreate Symlinks\nsudo ln -sfn /etc/php/7.2/mods-available/pdo_sqlsrv.ini /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini\nsudo ln -sfn /etc/php/7.2/mods-available/pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\nEnable PHP extension\necho \"extension=php_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/cli/php.ini > /dev/null\necho \"extension=php_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/fpm/php.ini > /dev/null\nInstall Microsoft ODBC Driver 17 for SQL Server requirements\ncurl https://packages.microsoft.com/keys/microsoft.asc | sudo apt-key add -\nsudo sh -c 'curl https://packages.microsoft.com/config/ubuntu/18.04/prod.list > /etc/apt/sources.list.d/mssql-release.list'\nUpdate package lists\nsudo apt-get update\nInstall Microsoft ODBC Driver\nyes Y | sudo ACCEPT_EULA=Y apt-get install msodbcsql17\nRestart services\nsudo service php7.2-fpm restart\nsudo service nginx restart\n```. ",
    "DaniloMV": "richvida Thanks \nIt's work for me.\nI'm using laravel 5.7 with homestead and sql server azure database\n. > Here's what worked for me:\n\nafter.sh\n```\n!/bin/sh\nPHP_MSSQL_DRIVERS=Ubuntu18-7.2\nDownload and extract phpmysql drivers\nsudo wget \"https://github.com/Microsoft/msphpsql/releases/download/v5.3.0/${PHP_MSSQL_DRIVERS}.tar\" -O - | tar -x\nChange Directory\ncd $PHP_MSSQL_DRIVERS\nChange owner/group\nsudo chown root:root php_pdo_sqlsrv_72_nts.so\nsudo chown root:root php_sqlsrv_72_nts.so\nModify permissions\nsudo chmod 644 php_pdo_sqlsrv_72_nts.so\nsudo chmod 644 php_sqlsrv_72_nts.so\nMove files\nsudo mv php_pdo_sqlsrv_72_nts.so /usr/lib/php/20170718\nsudo mv php_sqlsrv_72_nts.so /usr/lib/php/20170718\nCleanup\ncd .. && sudo rm -rf $PHP_MSSQL_DRIVERS\nCreate new .ini file\nsudo touch /etc/php/7.2/mods-available/pdo_sqlsrv.ini\necho \"extension=php_pdo_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/mods-available/pdo_sqlsrv.ini > /dev/null\nCreate Symlinks\nsudo ln -sfn /etc/php/7.2/mods-available/pdo_sqlsrv.ini /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini\nsudo ln -sfn /etc/php/7.2/mods-available/pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\nEnable PHP extension\necho \"extension=php_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/cli/php.ini > /dev/null\necho \"extension=php_sqlsrv_72_nts.so\" | sudo tee -a /etc/php/7.2/fpm/php.ini > /dev/null\nInstall Microsoft ODBC Driver 17 for SQL Server requirements\ncurl https://packages.microsoft.com/keys/microsoft.asc | sudo apt-key add -\nsudo sh -c 'curl https://packages.microsoft.com/config/ubuntu/18.04/prod.list > /etc/apt/sources.list.d/mssql-release.list'\nUpdate package lists\nsudo apt-get update\nInstall Microsoft ODBC Driver\nyes Y | sudo ACCEPT_EULA=Y apt-get install msodbcsql17\nRestart services\nsudo service php7.2-fpm restart\nsudo service nginx restart\n```\n\nrichvida Thanks\nIt's work for me.\nI'm using laravel 5.7 with homestead and sql server azure database. ",
    "LearningTools": "\nencontre esto y funciono php7.2:\npara instalar mssql\nlos drivers necesarios\nhttps://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-2017\npara los drivers puntuales\nMicrosoft/msphpsql#81\npecl search sqlsrv\nsudo pecl install sqlsrv-4.1.6.1\nsudo pecl install pdo_sqlsrv-4.1.6.1\n```\n    #y para copiar de uno a otro\ncp 7.2/cli/conf.d/20-sqlsrv.ini 7.0/apache2/conf.d/20-sqlsrv.ini\ncp 7.2/cli/conf.d/20-pdo_sqlsrv.ini 7.0/apache2/conf.d/20-pdo_sqlsrv.ini\ncp /etc/php/7.2/cli/conf.d/20-sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-sqlsrv.ini\ncp /etc/php/7.2/cli/conf.d/20-pdo_sqlsrv.ini /etc/php/7.2/fpm/conf.d/20-pdo_sqlsrv.ini\n```\nverifica que se registren los drivers en el php.ini, sugiero usar phpinfo() para ver este tema, ademas usar el locate para buscar donde se crearon los drivers. aun no se como ponerlo en las versiones viejitas de php, pero con paciencia lo logras instalar en el php7.2.\nsuerte\n\nHola estoy tratando de hacer esto mismo pero con xampp en mi ubuntu y no logro conseguirlo, ya instale con la herramienta de pecl los 2 drivers, que tengo en la version\npdo_sqlsrv 5.6.0   stable\nsqlsrv     5.6.0   stable\ny en mi archivo php.ini e habilitado las lineas para que las extensiones se usen, asi:\nextension=sqlsrv.so\nextension=pdo_sqlsrv.so\npero en el phpinfo no me sale ese driver instalado, y tambien cada vez que hago un comando de php me sale estos errores\nWarning: PHP Startup: Unable to load dynamic library 'sqlsrv.so' (tried: /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/sqlsrv.so (/opt/lampp/lib/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/sqlsrv.so)), /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/sqlsrv.so.so (/opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/sqlsrv.so.so: cannot open shared object file: No such file or directory)) in Unknown on line 0\nWarning: PHP Startup: Unable to load dynamic library 'pdo_sqlsrv.so' (tried: /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/pdo_sqlsrv.so (/opt/lampp/lib/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/pdo_sqlsrv.so)), /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/pdo_sqlsrv.so.so (/opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/pdo_sqlsrv.so.so: cannot open shared object file: No such file or directory)) in Unknown on line 0\nno comprendo lo que pasa o que debo hacer de mas, saludos\n. > para ver el PHP info:\n\nshell\nsudo -s\necho '<?php phpinfo();' > /opt/lampp/htdocs/info.php\ncomo indica aca,\nhttp://alexpereap.com/es/blog/como-instalar-xampp-en-ubuntu-1604\nla idea es saber donde debe escribirse el archivo de configuracion del driver\nshell\necho extension=sqlsrv.so >/etc/php/7.2/apache2/conf.d/20-sqlsrv.ini\ndebes tener en cuenta que el driver no es como en windows un dll portable, en linux el comando de instalacion\nshell\nsudo pecl install sqlsrv-5.5.0preview\nsudo pecl install pdo_sqlsrv-5.5.0preview\ncopila para linux el driver cada vez.\nsegun indica en este post\nhttps://github.com/Microsoft/msphpsql/issues/736\nsugiere que desinstales y vuelvas a instalar.\n\nYa pude instalarlo en mi ubuntu xampp, ac\u00e1 tengo la gu\u00eda de como hice para que me funcionara\nhttps://es.stackoverflow.com/a/240792/2770. ",
    "greenbuks": "On Windows use Babun. ",
    "keithdoyle9": "It happens even after destroying and bringing up a brand new VM. Same issues as my colleague. We just recently upgraded to v5.4.0. It's v.2.2.0, we upgraded the same time we upgraded to v5.4.0\nGist of destroy & up\nhttps://gist.github.com/keithdoyle9/81c0a1126fb106569ea73e3ca7e88a89\n. It works for now. But this is what happens each time. Can't find a root cause on what would cause it to stop.. Haven't done anything, left VM running. Exited out and ssh'd back in to find that mysql doesn't work again.\nvagrant@homestead ~ $ mysql\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2 \"No such file or directory\")\nvagrant@homestead ~ $. Nope, all I did was exit out and ssh back in.. I removed mariadb:true from the Homestead.yaml file and it seems to be working.\nThis was laravel/homestead box v2.2.0 and Homestead v5.4.0. I'm more than willing to do some testing if that helps.. I added a host IP address to the Default port forwarding and that seems to have resolved the issue. Line 97 in scripts/homestead.rb.\nruby\nconfig.vm.network \"forwarded_port\", guest: guest, host: host, host_ip: \"127.0.0.1\", auto_correct: true. Still unable to access sites even with proper host file entries though.. ",
    "iaK": "+1. ",
    "CaddyDz": "+1. ",
    "hypeJunction": "That's what I am doing. Do you want it as part of homestead repo? It's for https://github.com/elgg/elgg. My pleasure. Makes my life a lot easier as well :). No stress. Thanks. ",
    "oltreseba": "I'm having a similar problem, it seems like it's unable to connect to the machine using the host only network.\nCan you try to reach the ip of the machine? (in your case should be 192.168.10.10) for me it's inaccessible via ssh, ping, http or whatever.\nVagrant 1.9.1\nLaravel Homestead 5.4.0\nVirtualbox 5.1.24 r117012 (Qt5.5.1)\nUbuntu 16.04.2 LTS\nifconfig does not return vboxnet0 even though it exists and it's created. ifconfig -a returns it.\n. Found this: https://www.virtualbox.org/ticket/16911\nApparently this is a regression in Virtualbox 5.1.24. I've tried the 5.1.25 (from here: https://www.virtualbox.org/wiki/Testbuilds) and it seems to be working.. Yes, sorry, the 5.1.25.. ",
    "davispeixoto": "@svpernova09 , this is the same thing as ask if composer should be installed per project or globally. You can do it both ways. My suggestion is to install it globally (the cli version, without jre once homestead already comes with it).\nThus, on any project we would be able to:\n1. Add a flyway.conf file on project root\n2. Add directory migrations on project root\n3. Add migration files (plain sql) inside it\nA couple of links to help out:\nhttps://flywaydb.org/documentation/commandline/\nhttps://stackoverflow.com/questions/27916695/how-to-install-the-flyway-cli-globally-not-a-java-project. Another insteresting point is to already add the JDBC drivers to the database you provide with homestead.. Thank you very much @svpernova09 . Keep up with the great work guys!\n. ",
    "artemsky": "nice, 5+ branch again there. thx.. ",
    "mossadal": "Same thing here with a clean install and just one site with or without setting the php version, even to 7.0 or 7.1. When booting, the vm still tries to start php5-fpm instead of php7-fpm.\nIn other words,\nvagrant destroy && rm -rf .vagrant && vagrant up\ndidn't help. After vagrant destroy and rm -rf .vagrant, running vagrant upgave me a red error(?) message\n==> homestead-7: You are already using composer version 1.4.2 (stable channel).\n. I tried checking out the last commit before \"Add support for multiple versions of PHP (#621)\", i.e.\ngit checkout c79f5319eb80ddb9586480b54491d0a59540f18a\nand with that version everything looks ok.. Looks good here as well! . ",
    "mortscode": "Didn't work for me either. \nRan vagrant destroy && rm -rf .vagrant && vagrant up in my /Homestead directory. Still getting this:\nJob for php5.6-fpm.service failed because the control process exited with error code. \nSee \"systemctl status php5.6-fpm.service\" and \"journalctl -xe\" for details.\n@mossadal I don't think that composer error is actually an error. It's saying that your version is up-to-date and stable. It confused me too.. from the destroy command? Also, do I run that journalctl -xe command inside of the vagrant ssh?. Here's the vagrant destroy && rm -rf .vagrant && vagrant up command output:\nhttps://gist.github.com/mortscode/c4bb79e659ccc1818368e2a4c5c4db77\nHere's the journalctl -xe output:\nhttps://gist.github.com/mortscode/b8d38928017a026261a4cc2ce97012b1. works like a dream @svpernova09. Thanks homie.. ",
    "thomthom": "@svpernova09 - thank you! I was migrating an older Homestead to 6.2.2 on my new machine and I couldn't get it working. I would never have guessed those lines would cause problems.. ",
    "AdrianKuriata": "@svpernova09 Hi, i did it but still not working. I destroyed machine, reinstalled, i think i will need reinstall system and install it with fresh fedora...\n//Edit: I forgot to say problems shown with previous version.... Any ideas?. @svpernova09 \nI forgot to say, problems started on Fedora 24. I will show you logs from running vagrant in the Monday when i will be in work. But from what you show, my logs look exacly the same like yours after destroy machine.\nWith net-tools, i installed it but this not helped me. I mean you ran homestead on Fedora 26 and everything working?. So i will try on the Monday probably install fresh Fedora 26... I will give\nyou response.\n05.08.2017 6:58 PM \"Joe Ferguson\" notifications@github.com napisa\u0142(a):\n\nI did a fresh install of Fedora 26. The only thing out of the ordinary was\nI had to use dnf to install the kernel devel packages but other than that\neverything was fine.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/issues/628#issuecomment-320454700,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APJ9cSDJ8P0I7vPwUwRaCtE4-6qEpVZuks5sVJ8pgaJpZM4Oq3Tm\n.\n. @svpernova09 Awesome, after reinstall Fedora everything working really good! Thank you for your help!. \n",
    "kmark": "I've just run into this issue with box version 3 and Homestead 6.0.2. Never before. All is well until I do an apt update, apt upgrade, and a vagrant reload. Then *poof*, I have to disable ApprArmor to get MariaDB back.\nUpdate: I just tried it again. Didn't happen this time. Oh dear.\nUpdate 2: Tried again. No dice to replicate. I'll post again if I have the issue arise again.\nUpdate 3: Issue seems to be replicable with enough vagrant reload --provision (..sometimes). Thanks for the patch. I'm curious as to the underlying issue.. Thanks @svpernova09. @CydeWeys My pleasure!. ",
    "khalwat": "FWIW, this is definitely an issue, I've seen multiple people run into this when attempting to use MariaDB on Homestead.. ",
    "ademers": "I have repeatedly had this issue after homestead reload.. ",
    "narration-sd": "@svpernova09  Understood, as things stand, but here are several notes on people actually doing this, mostly around fastcgi.\nIt would certainly be great that Homestead supported this, hope you would agree, as people need to use it to try out deployment situations, many of which don't move from Apache,  however advantageous Nginx.\nI'll put the phpfarm one first; not sure if it isn't a simplifying layer for fastcgi:\n\nhttps://gist.github.com/ntopulos/3a492b3279f575d8ad4ddbea57e7d1bd\nhttps://oanhnn.github.io/2015-09-22/running-multiple-php-versions-on-single-apache-instance.html\nhttp://blog.servergrove.com/2011/08/22/how-to-setup-multiple-php-versions-on-apache/\nhttps://askubuntu.com/questions/50344/how-to-have-two-versions-of-php-installed-and-switch-easily-between-them. @svpernova09  Ok, Joe, and do appreciate the profusion issue. \n\nWhat about just doing php5.6 plus whatever the latest php7 is?  That one is still quite important in view of legacy hosting sites, which move very slowly as you will know?\nThat Sury guy has a 5.6 ppa, and has been very good about keeping it up, even with sort of edge things as the php5.6-sybase (which is dblib to access mssql databases) that I need..... Ok, thanks for listening, Joe, and very much appreciated to use Homestead, especially in its recent form. \nNot having a central vm has made matters much smoother, faster, and generally enjoyable -- thanks.. Yeah, I know :)  \nYou take care, Joe -- Clive. just to let you know, this same error and calming after several tries shows up on vagrant box 4.0.0 (not 3) , vagrant 1.9.6, homestead 2.2.0 also.. @svpernova09  ok and thanks much for letting us know.\nIt was a little confusing whether the issue was disappeared, since it's been closed.. ",
    "alpham8": "That's not true. You could run multiple php verisons inside different apache sites using php-fpm.\nWe did it already in our production environment. So, please fix it in homestead, too.. ",
    "maff": "That's what I was doing in the past but thought of being a standard problem which could be handled by a configuration entry. Thanks for reviewing though :). Thanks for the review - I updated the type to pimcore.. I see your point - maybe make the apache installation an extra script which can be required from types building on apache?. ",
    "jm-mwi": "Well, that's unfortunate. As an alternate option has there been any thought of moving to Docker and homestead being a container utility instead of a VM utility?. ",
    "philbates35": "@svpernova09 Yep that's right, the application does indeed run in PHP7.1 in the browser perfectly fine. \nBut as I want to use PHP7.1 language features, I want to be able to require php=7.1.* in my composer.json file so that other developers get an error when they try to install the application on a system with PHP7.0, or PHP5.6 or lower installed. That's what I'm trying to do, I'm definitely not trying to install PHP7.1 in my vendor folder \ud83d\ude06 \nThe problem I have is, is that even though the application uses PHP7.1 fine in the browser, and running php --version shows that PHP7.1 is running via the CLI, changing the php requirement in composer.json and running composer update php (to update composer.lock) throws an exception because it says I'm running PHP5.6, when I've already verified that I'm not.\nDoes that make sense? I still think there is a bug here.. @svpernova09 afraid its still an issue. I just changed \"php\": \">=5.6.4\" to \"php\": \"7.1.*\" in my composer.json, then:\n```\n$ composer update\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - This package requires php 7.1.* but your PHP version (5.6.4) does not satisfy that requirement.\nSo its still an issue when running `composer update` (as well as `composer update php`).. And additionally:\n$ php --version\nPHP 7.1.7-1+ubuntu16.04.1+deb.sury.org+1 (cli) (built: Jul  7 2017 09:41:45) ( NTS )\nCopyright (c) 1997-2017 The PHP Group\nZend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies\n    with Zend OPcache v7.1.7-1+ubuntu16.04.1+deb.sury.org+1, Copyright (c) 1999-2017, by Zend Technologies\n    with blackfire v1.17.3~linux-x64-non_zts71, https://blackfire.io, by SensioLabs\n. @svpernova09 as requested:\n[pbates@localhost Homestead]$ vagrant destroy\n    homestead-7: Are you sure you want to destroy the 'homestead-7' VM? [y/N] y\n==> homestead-7: Forcing shutdown of VM...\n==> homestead-7: Destroying VM and associated drives...\n==> homestead-7: Pruning invalid NFS exports. Administrator privileges will be required...\n[sudo] password for pbates: \n[pbates@localhost Homestead]$ vagrant up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Importing base box 'laravel/homestead'...\n==> homestead-7: Matching MAC address for NAT networking...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Setting the name of the VM: homestead-7\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 8000 (host) (adapter 1)\n    homestead-7: 443 (guest) => 44300 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 33060 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 54320 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 8025 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 27017 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7: \n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7: \n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => /home/pbates/Homestead\n    homestead-7: /home/vagrant/Code => /home/pbates/Code\n==> homestead-7: Bindfs seems to not be installed on the virtual machine, installing now\n==> homestead-7: Creating bind mounts for selected devices\n==> homestead-7: Creating bind mount from /home/vagrant/Code to /home/vagrant/Code\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: \n==> homestead-7: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCeqVUmcTCqJn8oajZGop/dQYad4zHOum5HvhXVRVD3T4a6M5wdQWD4Nny5qn7P0b+6KbvFVKTD0d8YJA1Tg9D6I/BDKHUh7xYmg+I79znFXtOV/rhpDD+5pafkceAh1cuE4NUwknfuwSNhnrtKAaArr+sw0ohvSsKoKs2wExyIBmiQv6H164dgFyyEC7riMNtT8CqCfNdmdJtK73FH4S6jM6hAWGSDWItDeeFIbp/Y4SfSZKoQu3pZsLatxRXCdbubOYzO1EjiGfZDA9/9ZZyaJl6ufYSsELpXTFrBLGKeGlcogTWKvjCZWXWQp12nbWPSjrOHO5EldAnlMNnQKPA9 philbates35@gmail.com\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /tmp/vagrant-shell20170808-12285-16kitqs.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Certificate: laravel.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Site: laravel.app\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Checking for old Schedule\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Restarting Nginx\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating MySQL Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Creating Postgres Database: homestead\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Clear Variables\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: script: Update Composer\n==> homestead-7: Updating to version 1.5.0 (stable channel).\n==> homestead-7:  \n==> homestead-7: Downloading (connecting...)\n==> homestead-7: \n==> homestead-7: Downloading (100%)\n==> homestead-7:        \n==> homestead-7: \n==> homestead-7: Use composer self-update --rollback to return to version 1.4.2\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /tmp/vagrant-shell20170808-12285-14wqev0.sh\n[pbates@localhost Homestead]$ vagrant ssh\nWelcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-81-generic x86_64)\n\nDocumentation:  https://help.ubuntu.com\nManagement:     https://landscape.canonical.com\nSupport:        https://ubuntu.com/advantage\n\n130 packages can be updated.\n10 updates are security updates.\nvagrant@homestead:~$ php --version\nPHP 7.1.7-1+ubuntu16.04.1+deb.sury.org+1 (cli) (built: Jul  7 2017 09:41:45) ( NTS )\nCopyright (c) 1997-2017 The PHP Group\nZend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies\n    with Zend OPcache v7.1.7-1+ubuntu16.04.1+deb.sury.org+1, Copyright (c) 1999-2017, by Zend Technologies\n    with blackfire v1.17.3~linux-x64-non_zts71, https://blackfire.io, by SensioLabs\nvagrant@homestead:~$ ls -alh /usr/bin/php\nlrwxrwxrwx 1 root root 21 Jul 24 00:44 /usr/bin/php -> /etc/alternatives/php\nvagrant@homestead:~$ cd Code/laravel\nvagrant@homestead:~/Code/laravel$ composer update\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - This package requires php 7.1. but your PHP version (5.6.4) does not satisfy that requirement.\n`composer.json` is from a fresh Laravel 5.4 application using `laravel new {project}` except that I changed `\"php\": \">=5.6.4\"` to `\"php\": \"7.1.*\"`, everything else is the same.json\n{\n    \"name\": \"laravel/laravel\",\n    \"description\": \"The Laravel Framework.\",\n    \"keywords\": [\"framework\", \"laravel\"],\n    \"license\": \"MIT\",\n    \"type\": \"project\",\n    \"require\": {\n        \"php\": \"7.1.\",\n        \"laravel/framework\": \"5.4.\",\n        \"laravel/tinker\": \"~1.0\"\n    },\n    \"require-dev\": {\n        \"fzaninotto/faker\": \"~1.4\",\n        \"mockery/mockery\": \"0.9.\",\n        \"phpunit/phpunit\": \"~5.7\"\n    },\n    \"autoload\": {\n        \"classmap\": [\n            \"database/seeds\",\n            \"database/factories\"\n        ],\n        \"psr-4\": {\n            \"App\\\": \"app/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Tests\\\": \"tests/\"\n        }\n    },\n    \"scripts\": {\n        \"post-root-package-install\": [\n            \"php -r \\\"file_exists('.env') || copy('.env.example', '.env');\\\"\"\n        ],\n        \"post-create-project-cmd\": [\n            \"php artisan key:generate\"\n        ],\n        \"post-install-cmd\": [\n            \"Illuminate\\Foundation\\ComposerScripts::postInstall\",\n            \"php artisan optimize\"\n        ],\n        \"post-update-cmd\": [\n            \"Illuminate\\Foundation\\ComposerScripts::postUpdate\",\n            \"php artisan optimize\"\n        ]\n    },\n    \"config\": {\n        \"preferred-install\": \"dist\",\n        \"sort-packages\": true,\n        \"optimize-autoloader\": true,\n        \"platform\": {\n            \"php\": \"5.6.4\"\n        }\n    }\n}\n```. Ahhh crap I see it now, its the\n\"platform\": {\n    \"php\": \"5.6.4\"\n}\nbit at the bottom. Sorry for wasting your time!. Yeah it works without the plugin installed. But once the box is up and running and I SSH in and immediately run sudo apt-get update it fails with the same error. So there's definitely an issue with the nginx apt repository config or something, nothing to do with the bindfs plugin.\nBasically to reproduce the error you can do:\n$ vagrant destroy\n$ vagrant up\n$ vagrant ssh\nvagrant@homestead:~$ sudo apt-get update\nReading package lists... Done\nE: Repository 'http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease' changed its 'Label' value from 'NGINX Mainline' to 'NGINX Mainline (1.15.x)'\nN: This must be accepted explicitly before updates for this repository can be applied. See apt-secure(8) manpage for details.\nYou can see the full output here:\nhttps://gist.github.com/philbates35/fd1cd865263886a1c0c3de42f9bcc403\n. Seems like that fixed it. Relevant output here:\n$ vagrant up\n$ vagrant ssh\nvagrant@homestead:~$ sudo apt-get update // Just to prove it fails\nGet:1 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease [15.4 kB]\nGet:2 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]                                                                                                                                       \nGet:3 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease [20.8 kB]                                                                                                                                       \nGet:4 https://deb.nodesource.com/node_8.x bionic InRelease [4,622 B]                                                                                                                                              \nHit:5 http://archive.ubuntu.com/ubuntu bionic InRelease                                                                                                                                                           \nGet:6 https://packages.microsoft.com/ubuntu/18.04/prod bionic InRelease [3,226 B]                                                                                                     \nGet:8 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]                                                                                           \nHit:7 https://cli-assets.heroku.com/apt ./ InRelease                                                      \nGet:9 http://ppa.launchpad.net/ondrej/php/ubuntu bionic/main i386 Packages [43.9 kB]                                                  \nGet:10 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]                             \nGet:11 http://ppa.launchpad.net/ondrej/php/ubuntu bionic/main amd64 Packages [43.9 kB]                                     \nGet:12 https://packages.microsoft.com/ubuntu/18.04/prod bionic/main amd64 Packages [35.7 kB]\nGet:13 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [255 kB]\nGet:14 http://security.ubuntu.com/ubuntu bionic-security/main i386 Packages [197 kB]             \nGet:15 http://security.ubuntu.com/ubuntu bionic-security/main Translation-en [96.8 kB]                                  \nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/main i386 Packages [446 kB]                                                       \nGet:17 http://security.ubuntu.com/ubuntu bionic-security/universe i386 Packages [114 kB]                                                            \nGet:18 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [116 kB]                          \nGet:19 http://security.ubuntu.com/ubuntu bionic-security/universe Translation-en [66.2 kB]                        \nGet:20 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [3,332 B]                            \nGet:21 http://security.ubuntu.com/ubuntu bionic-security/multiverse i386 Packages [3,500 B]                             \nGet:22 http://security.ubuntu.com/ubuntu bionic-security/multiverse Translation-en [1,848 B]                       \nGet:23 http://packages.blackfire.io/debian any InRelease [23.2 kB]                                                       \nGet:24 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [512 kB]\nGet:25 http://archive.ubuntu.com/ubuntu bionic-updates/main Translation-en [193 kB]          \nGet:26 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [724 kB]\nGet:27 http://archive.ubuntu.com/ubuntu bionic-updates/universe i386 Packages [716 kB]\nGet:28 http://archive.ubuntu.com/ubuntu bionic-updates/universe Translation-en [183 kB]\nGet:29 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse i386 Packages [6,540 B]\nGet:30 http://packages.blackfire.io/debian any/main i386 Packages [1,194 B]        \nGet:31 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [6,388 B]\nGet:32 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse Translation-en [3,452 B]\nGet:33 http://archive.ubuntu.com/ubuntu bionic-backports/universe i386 Packages [3,472 B]\nGet:34 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [3,472 B]\nGet:35 http://packages.blackfire.io/debian any/main amd64 Packages [1,208 B] \nReading package lists... Done        \nE: Repository 'http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease' changed its 'Label' value from 'NGINX Mainline' to 'NGINX Mainline (1.15.x)'\nN: This must be accepted explicitly before updates for this repository can be applied. See apt-secure(8) manpage for details.\nvagrant@homestead:~$ sudo apt-get --allow-releaseinfo-change update\nHit:2 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease                                                                                                                                                 \nHit:3 http://archive.ubuntu.com/ubuntu bionic InRelease                                                                                                                                                           \nHit:4 http://security.ubuntu.com/ubuntu bionic-security InRelease                                                                                                                                                 \nHit:5 http://archive.ubuntu.com/ubuntu bionic-updates InRelease                                                                                                                                                   \nHit:6 http://archive.ubuntu.com/ubuntu bionic-backports InRelease                                                                                                                                                 \nGet:7 https://deb.nodesource.com/node_8.x bionic InRelease [4,622 B]                                                                                                                                              \nHit:9 https://packages.microsoft.com/ubuntu/18.04/prod bionic InRelease                                                                                                      \nHit:8 https://cli-assets.heroku.com/apt ./ InRelease                                                                                            \nGet:1 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease [15.4 kB]                  \nGet:10 http://ppa.launchpad.net/nginx/development/ubuntu bionic/main amd64 Packages [4,264 B]\nGet:11 http://ppa.launchpad.net/nginx/development/ubuntu bionic/main i386 Packages [4,260 B]     \nHit:12 http://packages.blackfire.io/debian any InRelease                 \nFetched 28.5 kB in 2s (16.3 kB/s)\nReading package lists... Done\nN: Repository 'http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease' changed its 'Label' value from 'NGINX Mainline' to 'NGINX Mainline (1.15.x)'\nvagrant@homestead:~$ exit\n$ vagrant provision\n$ vagrant ssh\nvagrant@homestead:~$ sudo apt-get update // Now completes with no errors\nHit:1 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease                                                                                                                                          \nHit:2 http://security.ubuntu.com/ubuntu bionic-security InRelease                                                                                                                                                 \nHit:3 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease                                                                                                                                                 \nHit:4 http://archive.ubuntu.com/ubuntu bionic InRelease                                                                                                                                                           \nHit:5 http://archive.ubuntu.com/ubuntu bionic-updates InRelease                                                                                                                                                   \nGet:6 https://deb.nodesource.com/node_8.x bionic InRelease [4,622 B]                                                                                                                                              \nHit:8 http://archive.ubuntu.com/ubuntu bionic-backports InRelease                                                                                                                \nHit:7 https://cli-assets.heroku.com/apt ./ InRelease                                                                          \nHit:9 https://packages.microsoft.com/ubuntu/18.04/prod bionic InRelease                                                       \nHit:10 http://packages.blackfire.io/debian any InRelease                 \nFetched 4,622 B in 2s (1,948 B/s)\nReading package lists... Done\nFull output here: https://gist.github.com/philbates35/cf615bd9e09a0b0c16b68ac87be2bdbf. @svpernova09 That's great, but I'm not sure if the issue should be closed though - every time someone runs vagrant up for the first time they won't be able to run apt-get update inside the VM successfully until they've run sudo apt-get --allow-releaseinfo-change update inside the VM and vagrant provision.\nIf users cannot run apt-get update without any errors straight away in a fresh VM, wouldn't that be considered a bug?. For reference, this issue seems to be fixed in version 7.1.0 of the homestead box (laravel/settler).. ",
    "koopjesboom": "Practical ( and maybe useful ) advise:\ntry ./composer  instead of only composer and you will see.\n(Thanks to my hosting company Skyberate). @fatemasagar \nIf you are using Cpanel or any other Panel to manage your server you should change your PHP version to 7.1 (or 7.2 with magento version 2.3)\nBest regards\n\n. @fatemasagar \nIt is don server side, if you don't know how to manage it ask your hosting provider.\nYou can use my image to explain.\nBest regards. ",
    "fatemasagar": "I am unable to use this same solution in my standalone project. It gives me the same issue, even after I updated php in the config.platform :\nProblem 1\n    - This package requires php 7.1.* but your PHP version (5.6.4) does not satisfy that requirement.. Isn't updating the PHP version done internally from the project ?? @koopjesboom . ",
    "lucasctd": "@Angelo8828 You can download it manually thorugh this link\nIt's actually better than using terminal (cmd).\nYou should add your laravel box as below:\nvagrant box add laravel/homestead (path to downloaded file)\nYou can find more information about how to download homestead manually here.\nHope it helps you. :D. @jimmerioles I will upload it on my OneDrive account. Its download speed may be faster than 100kbps.\nDoes it help you?. @jimmerioles Here it's \nhttps://1drv.ms/f/s!AuGGKC4Y6efKj4VRY0Eod4J6_QzXHg\nBtw, I got more than 100kbps (see below) downloading through hashcorp's website.\n\n. @jimmerioles yw. :D. ",
    "Angelo8828": "Thanks guys for the reply! \n@lucasctd, will try to that method. Thanks.. ",
    "raniesantos": "@lucasctd after downloading this (v3.0.0 for virtualbox) where do I put it?\nNOTE: I want to update an existing homestead 2.1.0 box, not add it for the first time.\nI found this folder ~/VirtualBox VMs/homestead-7 that contains\n\nbox-disk001.vmdk\nhomestead-7.vbox ... and\nhomestead-7.vbox-prev\n\nNone of them seem to match the .box extension, what now?. @svpernova09 I already have an existing 2.1.0 Homestead, I want to update the existing one, not add a new one.. @svpernova09 so by executing that command it would actually \"update\" my current homestead box and it won't create a second one?. ",
    "fide1": "They changed there servers to https://app.vagrantup.com/\nManually dowload here.\nhttps://app.vagrantup.com/laravel/boxes/homestead/versions/5.2.0/providers/virtualbox.box. ",
    "huenisys": "anything new for version 6?. ",
    "mjnciceri": "In that case, the map folder should't be this ?\nfolders:\n    -\n        map: 'C:\\Users\\Marcelo\\Proyectos\\blog'\n        to: /home/vagrant/Code/Laravel\nRight now is this is generated\nfolders:\n    -\n        map: 'C:\\Users\\Marcelo\\Proyectos\\blog'\n        to: /home/vagrant/Code. and maybe this line https://github.com/laravel/homestead/blob/b038a817d30f905065e0b345d5970ccbace9e9af/src/Settings/HomesteadSettings.php#L151 should be 'to' => \"/home/vagrant/{$projectDirectory}/Laravel\",. I know is 100% up to me, but before this change, I executed the make command and vagrant up and without doing any change everything started up correctly without changing everythins. Is not that the way that the make command should work?. If I change the folders path by hand to \nfolders:\n    -\n        map: 'C:\\Users\\Marcelo\\Proyectos\\blog'\n        to: /home/vagrant/Code/Laravel\nEverything works, but I thougth that the make command should set up everything by itself. Correct me if that assumption is wrong. Thanks in advance @svpernova09 . Thanks again @svpernova09 specially for taking the time to respond at this hour.. ",
    "pascal08": "Check.. after.sh\n```bash\n!/bin/sh\nIf you would like to do some extra provisioning you may\nadd any commands you wish to this file and they will\nbe run after the Homestead machine is provisioned.\nUpdate () {   \n    echo \"Updating packages.\"     \n# Update repository\nsudo apt-get update -y\n\n} \nUpdate\nif [ ! -f /usr/local/extra_homestead_software_installed ]; then\n    echo \"Performing some extra provisioning.\"\n# Install mcrypt\nsudo apt-get -y install mcrypt php7.0-mcrypt\n\n# Restart Nginx\nsudo service nginx restart > /dev/null\n\n# Remember that extra provision is done\nsudo touch /usr/local/extra_homestead_software_installed > /dev/null\n\nelse\n    echo \"Extra priovisioning performed already. Skipping...\"\nfi\n```\nDo you mean this?\nDEBIAN_FRONTEND=noninteractive apt-get -y update\nAdding this solves the appearance of error code (1), but I can't tell if this actually solves this issue.\nIs this how it works? (Please correct me if I'm wrong)\n1. Homestead provisions the VM settings (eg. setting some env variables: https://github.com/laravel/homestead/blob/v7.3.0/scripts/clear-variables.sh) and thus modifying www.conf\n2. Homestead updates the repository. It notices the www.conf file was modified and asks to keep/overwrite/cancel.\nIf I run sudo apt-get update -y manually (removing it from after.sh) telling the update command to keep all my currently-installed versions it just passes like everything is fine. Therefore I guess the default option is not automatically chosen when no answer was given (given the non-interactive mode was not enabled)\nhomestead-7:  The default action is to keep your current version.\n    homestead-7: *** www.conf (Y/I/N/O/D/Z) [default=N] ? dpkg: error processing package php7.0-fpm (--configure):\nI'm still wondering why this was never an issue for me using Homestead on Windows 10...\n. Actually it is not the sudo apt-get -y update command triggering that question but sudo apt-get -y install mcrypt php7.0-mcrypt in my after.sh.. ",
    "ricardoseriani": "I agree with you that laravel/settler needs a better README.md, but only to inform you, the laravel/settler its used to make the homestead box for vagrant.\nBest Regards. I believe that this is due https://atlas.hashicorp.com/ being decomissioned (as you can see when you access https://atlas.hashicorp.com/laravel/boxes/homestead/ ) , please run\nsed -i -- 's/atlas.hashicorp/vagrantcloud/g' ~/.vagrant.d/boxes/*/metadata_url\nand check if this solves the problem\nIf you aren't on linux, open the file ~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/metadata_url using a text editor and change it's content to https://vagrantcloud.com/laravel/homestead. The file is usually in ~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/metadata_url. ",
    "elistone": "Yeh I thought that might be the problem, thanks for getting back so fast though.. ",
    "maddcatter": "Reviewed grammatical changes, looks fine.. ",
    "souhailmerroun": "Okay, Thank you @svpernova09 . ",
    "tracyaichele": "Thank you - \nhttps://gist.github.com/tracyaichele/a867e608248da0a41ab61c78bc70583f. Used advice at: \n http://tech.osteel.me/posts/2015/01/25/how-to-use-vagrant-on-windows.html#enter-putty\nhttps://stackoverflow.com/questions/9885108/ssh-to-vagrant-box-in-windows\nusing putty gui to ssh rather than \"vagrant ssh\".\nThank you for your help.\n. ",
    "19peaches": "Where would I find the homestead.rb file on a Mac install? I don't see it in the Homestead directory.. ",
    "cbj4074": "Any time! Thank you for your kind words and for acting on it so quickly! :+1: . Nice! Thank you for fixing those oversights on my part! :+1:\nHopefully, we're green across-the-board at this point!. This should fix the issue:\nhttps://github.com/laravel/homestead/pull/704. Roger that, @svpernova09 . Thanks for taking a look.\nUpon further testing, I can confirm that the same problem exists when using Vagrant >= 2.0.4, even with Homestead box version 5.2.0. So, as you suggested, the problem does appear to be with Vagrant (and possibly only on Windows).\nUnfortunately, the problem also exists in all Vagrant versions >= 2.0.4 (yes, I took the time to try them all: 2.0.4, 2.1.0, and 2.1.1).\nThe final takeaway: Windows users shouldn't upgrade Vagrant past 2.0.3 until this issue, whatever it may be, is resolved on the Vagrant side, or Homestead will cease to provision properly.. Sure thing!\nInterestingly, Homestead box 6.0.0 does work on Vagrant 2.0.3.\nThe only snag I've encountered is that PHP's OCI8 extension doesn't work (no errors, but it's not loaded), but that's another matter entirely. I need to perform further testing to determine the issue, but it's probably a bug on the PHP side.\nUPDATE: The OCI8 issue is unrelated, and the solution explained at https://github.com/oerdnj/deb.sury.org/issues/865 .. To follow-up, it seems that the problem is fixed in Vagrant 2.1.2.\nI just provisioned a fresh Homestead instance (box version v6.1.0), and it works fine on Vagrant 2.1.2.\nAlso, I tried with Virtualbox 5.2.12 and 5.2.16 (and the latest Guest Additions from each) and it works correctly on both.\nSo, it appears that Windows users can simply upgrade everything to the latest versions to be back in business.. Upon further analysis, this looks to be some kind of regression introduced with Homestead box version 6.4.0, because version 6.3.0 works just fine with Hyper-V on the same host machine.. Thanks for taking a look.\nI'm pretty sure that only adds the box to your host; it doesn't \"upgrade\" the existing VM that you provisioned with box 6.3.0. You would have to vagrant destroy && vagrant up after upgrading the box.\nTo be thorough, what happens if you completely destroy the VM, and hard-code the box version at the top of your Homestead.yaml file, e.g.:\nversion: 6.4.0\nand then vagrant up?\nAlso, what happens if you go into Hyper-V Manager, click Import Virtual Machine (in the right-hand pane) and browse to the box directory, which should be C:\\Users\\halo\\.vagrant.d\\boxes\\laravel-VAGRANTSLASH-homestead\\6.4.0\\hyperv on your machine?\nWhen I do this, I see No virtual machine files found. But if I go up a level and try the same thing with the directory for version 6.3.0, Hyper-V Manager \"sees\" the box.\nSo, there is some fundamental difference between these box versions that is causing Hyper-V not to recognize 6.4.0.. Thanks again for the reply @svpernova09 .\nNo; all I'm trying to do is provision a new VM with box 6.4.0. I was referring to the output that you showed in your previous post when I said that it didn't demonstrate a working VM on 6.4.0.\nSorry, I should have been more clear in the original issue that the problem seems to be with provisioning a new box on 6.4.0, specifically.\nAre you able to do this successfully?. Even simpler; steps to reproduce are merely:\n\nvagrant up a clean 6.4.0 box with Hyper-V provider\n\nI'm not trying to re-provision an existing box. I should have used more appropriate terminology... maybe it would be better to use the term \"Import\", i.e., Import fails with Hyper-V provider on box 6.4.0?\nThanks for your willingness to try it on your machine!. Hmm, okay, I can't even get that far. For me, it fails upon the initial vagrant up:\n```\nPS C:\\Users\\bjohnson\\Work\\Web\\homestead-fresh> vagrant up\nBringing machine 'homestead-7' up with 'hyperv' provider...\n==> homestead-7: Verifying Hyper-V is enabled...\n==> homestead-7: Verifying Hyper-V is accessible...\n==> homestead-7: Box 'laravel/homestead' could not be found. Attempting to find and install...\n    homestead-7: Box Provider: hyperv\n    homestead-7: Box Version: 6.4.0\n==> homestead-7: Loading metadata for box 'laravel/homestead'\n    homestead-7: URL: https://vagrantcloud.com/laravel/homestead\n==> homestead-7: Adding box 'laravel/homestead' (v6.4.0) for provider: hyperv\n    homestead-7: Downloading: https://vagrantcloud.com/laravel/boxes/homestead/versions/6.4.0/providers/hyperv.box\n    homestead-7: Download redirected to host: vagrantcloud-files-production.s3.amazonaws.com\n    homestead-7:\n==> homestead-7: Successfully added box 'laravel/homestead' (v6.4.0) for 'hyperv'!\n==> homestead-7: Importing a Hyper-V instance\n    homestead-7: Creating and registering the VM...\nAn error occurred while executing a PowerShell script. This error\nis shown below. Please read the error message and see if this is\na configuration error with your system. If it is not, then please\nreport a bug.\nScript: import_vm.ps1\nError:\nFailed to import a virtual machine.\nError Code: 32784\nCause: VM version is unsupported\n```\nInitially, there was no error code or message, but Vagrant 2.2.1 fixed that, so at least now we know the reason code, which is 32784. This code comes directly out of WMI (it's not a Vagrant error, per se). I've done some digging and and have yet to find anything useful that describes what, exactly, that code means. There's more info in the linked issue.\nI notice that you have a slightly newer version of Windows 10, which appears to use Hyper-V configuration version 9, whereas mine is 8.3. I'm not sure that this matters, but it's worth noting, especially if that box was \"baked\" using configuration version 9.0.. The machine is in question is in a corporate setting (Windows 10 Enterprise) and updates are controlled via policy (WSUS, I believe), so while Windows reports that no updates are available, it seems likely that the \"October 2018 Update\" (version 1809) is being withheld for whatever reason.\nWhat's the downside of creating the official box with a lower Hyper-V Configuration version, such as 8.0? Is there any feature of 9.0 that Homestead requires, specifically?\nAs I understand it, Hyper-V can import VMs with any lower Configuration version, so it seems like the official Homestead box should use the lowest version that is actually required for it to function as intended.\nWhile I haven't tried building a box for Hyper-V, it looks like the Configuration version is specified via simple switch.\nIf for whatever reason that isn't an option, I suppose I'll have to either a) convince the powers that be to push out Windows 1809, or b) build my own box that requires Configuration version 8.3.\nIn the interest of supporting the largest user-base possible, it seems like lowering the version requirement would be ideal; lots of folks have yet to make the leap to the October 2018 Update, given all the problems that have appeared in the wild.\nCurious to hear your thoughts on this... thanks again!. No problem at all, that's perfectly understandable.\nI'll give Packer a whirl and reach-out if I get stuck anywhere.\nI don't mind having to build a fresh box with each upstream release, especially given that it's a short-term solution until we receive that update to Windows 1809.\nIs it worth adding something to the Homestead documentation that explains the relationship between the Windows/Hyper-V Configuration version and the Homestead box? That would have saved me quite a bit of time on Friday. ;)\nThanks again for the responsiveness and assistance!. Having fiddled with this for a few days now, Packer and Settler seem straightforward, but I have yet to produce a successful build.\nWhile issues 1 and 3 have nothing to do with Homestead, I figured I'd document them all the same.\n1.) More often than not, the build fails immediately after systemd is updated. Given the erratic nature of this issue, it feels like a race-condition of some kind. (The problem appears not to occur on Ubuntu 16.04 LTS, which isn't surprising, given that it doesn't use systemd by default.) When it happens, the output looks like this:\nhyperv-iso: Setting up systemd (237-3ubuntu10.9) ...\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [ERROR] Remote command exited without exit status or exit signal.\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [INFO] RPC endpoint: Communicator ended with: 2300218\n2018/11/21 08:57:55 [INFO] 979 bytes written for 'stderr'\n2018/11/21 08:57:55 [INFO] 32064 bytes written for 'stdout'\n2018/11/21 08:57:55 [INFO] RPC client: Communicator ended with: 2300218\n2018/11/21 08:57:55 [INFO] RPC endpoint: Communicator ended with: 2300218\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [INFO] 979 bytes written for 'stderr'\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [INFO] 32064 bytes written for 'stdout'\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [INFO] RPC client: Communicator ended with: 2300218\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [DEBUG] Opening new ssh session\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [ERROR] ssh session open error: 'read tcp 192.168.90.186:50141->192.168.90.72:22: wsarecv: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.', attempting reconnect\n2018/11/21 08:57:55 packer.exe: 2018/11/21 08:57:55 [DEBUG] reconnecting to TCP connection for SSH\n2018/11/21 08:58:10 packer.exe: 2018/11/21 08:58:10 [ERROR] reconnection error: dial tcp 192.168.90.72:22: i/o timeout\n2018/11/21 08:58:10 packer.exe: 2018/11/21 08:58:10 Retryable error: Error removing temporary script at /tmp/script_7927.sh: dial tcp 192.168.90.72:22: i/o timeout\n2018/11/21 08:58:12 packer.exe: 2018/11/21 08:58:12 [DEBUG] Opening new ssh session\n2018/11/21 08:58:12 packer.exe: 2018/11/21 08:58:12 [ERROR] ssh session open error: 'client not available', attempting reconnect\n2018/11/21 08:58:12 packer.exe: 2018/11/21 08:58:12 [DEBUG] reconnecting to TCP connection for SSH\n2018/11/21 08:58:27 packer.exe: 2018/11/21 08:58:27 [ERROR] reconnection error: dial tcp 192.168.90.72:22: i/o timeout\n2.) There's some issue with lucky_cli-0.11.0 that causes an exception during the build. It looks like this:\nhyperv-iso: lucky_cli-0.11.0/src/web_app_skeleton/tasks/create_required_seeds.cr\n    hyperv-iso: lucky_cli-0.11.0/src/web_app_skeleton/tasks/create_sample_seeds.cr\n    hyperv-iso: Fetching https://github.com/mosop/teeplate.git\n    hyperv-iso: Installing teeplate (0.6.1)\n    hyperv-iso: + crystal build src/lucky.cr --release --no-debug\n    hyperv-iso: Error in src/lucky.cr:2: while requiring \"./lucky_cli\"\n    hyperv-iso:\n    hyperv-iso: require \"./lucky_cli\"\n    hyperv-iso: ^\n    hyperv-iso:\n    hyperv-iso: in src/lucky_cli.cr:2: while requiring \"./lucky_cli/**\"\n    hyperv-iso:\n    hyperv-iso: require \"./lucky_cli/**\"\n    hyperv-iso: ^\n    hyperv-iso:\n    hyperv-iso: in src/lucky_cli/browser_src_template.cr:4: macro didn't expand to a valid program, it expanded to:\n    hyperv-iso:\n    hyperv-iso: ================================================================================\n    hyperv-iso: --------------------------------------------------------------------------------\n    hyperv-iso:    1.       def ____collect_files(____files)\n    hyperv-iso:    2. ____files << ::Teeplate::Base64Data.new(\"src/queries/user_query.cr\", 38_u64, <<-EOS\n    hyperv-iso:    3. Y2xhc3MgVXNlclF1ZXJ5IDwgVXNlcjo6QmFzZVF1ZXJ5CmVuZAo=\n    hyperv-iso:    4. EOS\n    hyperv-iso:    5. , File::Permissions.from_value(436))\n    hyperv-iso:    6. ____files << ::Teeplate::Base64Data.new(\"src/emails/password_reset_request_email.cr\", 397_u64, <<-EOS\n... nearly 1000 more lines in dump, ending with ...\n    hyperv-iso:  843. ZHVsZXMvbGFyYXZlbC1taXgvc2V0dXAvd2VicGFjay5jb25maWcuanMiCiAg\n    hyperv-iso:  844. fQp9Cg==\n    hyperv-iso:  845. EOS\n    hyperv-iso:  846. , File::Permissions.from_value(436))\n    hyperv-iso:  847. end\n    hyperv-iso:  848. def __ecr2(____io)\n2018/11/27 10:03:06 packer.exe: 2018/11/27 10:03:06 [INFO] 135686 bytes written for 'stderr'\n2018/11/27 10:03:06 packer.exe: 2018/11/27 10:03:06 [INFO] RPC client: Communicator ended with: 1\n    hyperv-iso:  849.   ::ECR.embed \"/home/vagrant/lucky_cli-0.11.0/src/browser_app_skeleton/src/emails/templates/password_reset_request_email/html.ecr.ecr\", \"____io\"\n    hyperv-iso:  850. end\n    hyperv-iso:  851. def __ecr4(____io)\n    hyperv-iso:  852.   ::ECR.embed \"/home/vagrant/lucky_cli-0.11.0/src/browser_app_skeleton/src/emails/templates/password_reset_request_email/text.ecr.ecr\", \"____io\"\n    hyperv-iso:  853. end\n    hyperv-iso:  854.\n    hyperv-iso: --------------------------------------------------------------------------------\n    hyperv-iso: Syntax error in expanded macro: directory:5: expecting token ')', not ','\n    hyperv-iso:\n    hyperv-iso: , File::Permissions.from_value(436))\n    hyperv-iso: ^\n    hyperv-iso:\n    hyperv-iso: ================================================================================\n    hyperv-iso:\n    hyperv-iso:   directory \"#{__DIR__}/../browser_app_skeleton\"\n    hyperv-iso:   ^~~~~~~~~\n    hyperv-iso:\n2018/11/27 10:03:06 [INFO] (telemetry) ending shell\nI'm surprised that this happens to me but not to you, as the problem seems specific to that version of lucky_cli.\nModifying homestead.sh to require v0.12.0 instead fixes the issue.\n3.) I get Connection refused during the on-my-zsh installation:\nhyperv-iso: + git clone git://github.com/robbyrussell/oh-my-zsh.git /home/vagrant/.oh-my-zsh\n    hyperv-iso: Cloning into '/home/vagrant/.oh-my-zsh'...\n    hyperv-iso: fatal: unable to connect to github.com:\n    hyperv-iso: github.com[0: 192.30.255.112]: errno=Connection refused\n    hyperv-iso: github.com[1: 192.30.255.113]: errno=Connection refused\n    hyperv-iso:\n2018/11/27 10:39:41 packer.exe: 2018/11/27 10:39:41 [ERROR] Remote command exited with '128': echo 'vagrant' | HOME_DIR='/home/vagrant' PACKER_BUILDER_TYPE='hyperv-iso' PACKER_BUILD_NAME='hyperv-iso' PACKER_HTTP_ADDR='192.168.90.186:8952' http_proxy='' https_proxy='' no_proxy=''  sudo -S -E sh -eux '/tmp/script_714.sh'\n2018/11/27 10:39:41 packer.exe: 2018/11/27 10:39:41 [INFO] RPC endpoint: Communicator ended with: 128\n2018/11/27 10:39:41 [INFO] 176533 bytes written for 'stderr'\n2018/11/27 10:39:41 [INFO] 275377 bytes written for 'stdout'\n2018/11/27 10:39:41 [INFO] RPC client: Communicator ended with: 128\n2018/11/27 10:39:41 [INFO] RPC endpoint: Communicator ended with: 128\n2018/11/27 10:39:41 packer.exe: 2018/11/27 10:39:41 [INFO] 176533 bytes written for 'stderr'\n2018/11/27 10:39:41 packer.exe: 2018/11/27 10:39:41 [INFO] 275377 bytes written for 'stdout'\n2018/11/27 10:39:41 packer.exe: 2018/11/27 10:39:41 [INFO] RPC client: Communicator ended with: 128\n2018/11/27 10:39:41 [INFO] (telemetry) ending shell\nI thought that this may be some transient condition, but the failure occurs in the same place every time.\nTo fix this, I had to force Git to use https over the git protocol, which I did by adding this to the top of homestead.sh:\ngit config --global url.\"https://github.com\".insteadOf git://github.com\nI'm not behind a proxy, but clearly the issue is related to SSH, so maybe an appliance on our corporate network is interfering for whatever reason.\n4.) rbenv installation fails:\nhyperv-iso: + git clone https://github.com/rbenv/rbenv.git /home/vagrant/.rbenv\n    hyperv-iso: Cloning into '/home/vagrant/.rbenv'...\n    hyperv-iso: + echo export PATH=\"$HOME/.rbenv/bin:$PATH\"\n    hyperv-iso: + echo eval \"$(rbenv init -)\"\n    hyperv-iso: + exec /bin/bash\n    hyperv-iso: /bin/bash: line 1: vagrant: command not found\n2018/11/27 11:49:19 packer.exe: 2018/11/27 11:49:19 [ERROR] Remote command exited with '127': echo 'vagrant' | HOME_DIR='/home/vagrant' PACKER_BUILDER_TYPE='hyperv-iso' PACKER_BUILD_NAME='hyperv-iso' PACKER_HTTP_ADDR='192.168.90.186:8519' http_proxy='' https_proxy='' no_proxy=''  sudo -S -E sh -eux '/tmp/script_9206.sh'\nAs with issue 2, it seems like this isn't specific to my configuration, and I'm surprised this doesn't happen to you.\nIt looks like you added this in https://github.com/laravel/settler/commit/b2644a1b45904a5d2703ab4d87a21c1ee284e752 (tagged with v6.4.0), so maybe I should try using v6.3.0.\nIn any case, I'll keep at it, but issues 2 and 4 seem like bugs.. Thanks! The build is working for me now, with those problematic lines commented-out. \ud83d\udc4d \nOut of curiosity, do you ever experience the systemd issue that I noted as 1), above?\nI just keep re-running the build script and eventually the condition doesn't occur and it finishes. It's difficult to know whether it's a problem with Packer, or some other component (clearly, nothing to do with Homestead nor Settler, though).\nIn any case, I think I'm all set here, although, I still think it's worth adding something to the Homestead documentation that correlates box versions with Hyper-V configuration versions, i.e., some kind of a table/matrix.\nEven though Vagrant improved the error reporting in this scenario with v2.2.1, the message is still too generic for most people to realize the actual problem, which is that the box's Hyper-V configuration version is too new for their Windows build, which is what determines the Hyper-V supported configuration version.\nI'm happy to submit a PR if this is of interest.\nAnd just in case anybody else ever has a need to go the route that I have, once built, the custom box can be added to vagrant like this:\nvagrant box add homestead-custom file:///c:/some/path/bento/builds/ubuntu-18.04.hyperv.box\n(the name is arbitrary; it just has to match the line in Homestead.yaml, e.g., box: homestead-custom)\nAs a final point of note, it seems necessary to comment-out the line that defines config.vm.box_version in scripts/homestead.rb (within the Homestead repo), or Vagrant complains with You specified a box version constraint with a direct box file path...\nThanks again for helping me sort this, and let me know if a PR regarding a version matrix would be considered, and if so, which document I should direct it towards.. @svpernova09 Sorry to \"bump\" my question to you in my previous comment, but have you encountered this pesky systemd failure?\nEvery time I have to update my custom box (that is, rebuild it from the latest sources), I'd say 4 out of 5 attempts fail with this systemd issue. If I just keep trying, the build succeeds eventually, which to me smells of an intermittent bug, likely a race-condition.\nI'm not suggesting in any way that it's Homestead-specific -- quite the opposite -- I'm just wondering if this happens to you, too, and if so, if you're aware of any existing Issue/ticket that documents the behavior. I'd like to open one if it doesn't exist, but I'm not sure whether it's a Packer issue, an Ubuntu issue, or something else entirely.\nAny insight you may have would be appreciated greatly.. @svpernova09 Okay, thanks for checking! I really appreciate it.\nIt may very well be an issue with my network configuration. If I ever discover the cause, I'll let you know!. @enderandpeter Which Windows build are you running? You can check under Start menu -> Settings (the gear icon) -> System -> About, and look under the Windows specifications heading.\nIf you have Version 1803, then you are in the same boat as I am.\nThe simplest \"solution\" is to upgrade Windows 10 to the latest release, which is build 1809, also known as \"Windows 10 October 2018 Update\". If Windows Update isn't presenting you with the update, you can try installing it manually with the link cited in https://github.com/laravel/homestead/issues/974#issuecomment-444049483 .\nIf you can't or don't want to upgrade, your only other option is to build the Homestead box yourself, which is what I ended-up doing. The process is fairly simple, but there are several snags that you may hit, all of which I detail elsewhere in my comments on this Issue.\nI'm happy to share the .box file I built with you, too, if you'd prefer, which would save you the trouble of installing the tools required to build the box (Packer, Bento, etc.).\nLet me know if you want the .box file and I'll make it available to you.. @mludi\n\n1809 has the same issue :/\n\nCould you be a bit more specific?\nAre you referring to this message?\n\nError Code: 32784 Cause: VM version is unsupported\n\nOr the MariaDB error?. @mludi Thanks for clarifying.\nThat error is completely unrelated to the subject of this Issue.\nThe problem you're experiencing is here:\n\nhomestead-7: Executing: /tmp/apt-key-gpghome.LOhCbN9Cji/gpg.1.sh --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8\n   homestead-7: gpg: keyserver receive failed: No data\n\nGenerally speaking, this happens for one of the following reasons:\n\nYou're behind a proxy.\nYou're behind a firewall.\nDNS is configured incorrectly, such that the VM cannot resolve domain names.\n\nTo fix the issue, you need to determine which of these issues is affecting you.\nIn any case, this isn't a bug in Homestead, and it's not related to this Issue.\nFor more info, see:\n\nhttps://superuser.com/questions/620765/sudo-apt-key-adv-keyserver-keyserver-ubuntu-com-recv-7f0ceb10-command-return\nhttps://unix.stackexchange.com/questions/361642/keyserver-receive-failed-on-every-keyserver-available. No problem!\n\nI should add that the usage is straightforward, and the key names match their Vagrant counterparts, e.g.:\nfolders:\n    - map: C:\\Users\\me\\project\n      to: /home/vagrant/code/project\n      type: smb\n      smb_username: homestead\n      smb_password: secret\nThanks for the quick merge; much appreciated!. Ah! Good call!\nOkay, I will take another look and see if I can find an elegant way to address that.. ",
    "DFurnes": "This is amazing! I was so glad when I found out Homestead has hidden MongoDB support. \ud83d\ude4c I tested out the latest release with this change, and might have noticed two small bugs. I made a pull request with the fixes that worked for me, and would love some eyes on it!. No prob, thanks for the quick review!! \ud83c\udf89. That's fair. Thanks for the review!. @svpernova09 Oh woah, wait a sec \u2013 I just re-provisioned my box with that line removed & it built without errors. It looks like this issue may actually have been fixed upstream in Vagrant. I pushed up another pull request if you don't mind re-testing. \ud83d\ude47 . ",
    "andresnijder": "I got the same problem... :(\n6.1.0\nVagrant 1.9.8\nmacOs Sierra 10.12.5 (16F73)\n. @browner12 nope nothing odd :( \nnow its running stable for a few hours, but it shutdown several times earlier today . ",
    "joshfoskett": "Encountering the same issue:\n- Homestead Repo v6.1.0\n- Homestead Box 3.0.0\n- macOS Sierra 10.12.6\n- Vagrant 1.9.8\n- Virtualbox 5.1.26 r117224 (Qt5.6.2)\nNot sure where to look for the cause.. ",
    "jeff-h": "Just wondering if this means Homestead now supports running on Docker instead of Virtualbox (etc), since Vagrant 2.0 supports Docker as a provider?. Thanks for the reply \u2014\u00a0I'll keep an eye out on laravel/settler :). ",
    "orottier": "I like the proposal, let's encourage best practises. I also think .localhost makes the most sense.\nDon't forget to update https://github.com/laravel/docs/blob/5.5/homestead.md accordingly.. ",
    "CydeWeys": "Thanks so much!. Thanks @kmark, good spot.. ",
    "lionslair": ".localhost doesn't work for me even after stuffing around and removing it from dnsmasq I still have issues but .test works.\nOS: ubuntu. I literally just started getting this to and I am not trying to access sites on SSL but it is redirecting anyway. I am using .app so I need to change them all?. ",
    "carc1n0gen": "@svpernova09 here is the proper output: https://hastebin.com/dezitaxara.erl\nI have the same results after mapping multiple folders per project.  I swear in the past I've been able to just map a folder containing all my php projects.. I've also discovered that if I stop the vm and try to hit the URL my browser behaves the same way, spinning loading rather than saying it can't establish a connection\n. I think a install of virtualbox and vagrant from upstream packages rather than what was in the repos fixed my issue.  I'm also going to spin up another fresh Ubuntu and double check. I see this is closed, but I'd like to add that I have confirmed on a fresh machine that the issue was with the vagrant/virtualbox packages in the 17.04 repos.  Installing official packages works.. ",
    "samernajj": "ooh it's not problem ! \ni am sorry because my application not works when i run it into browser \nthe browser give me :No input file specified. . maybe i forgot steps in tutorial because public directory not exist !. ",
    "JackWH": "@svpernova09 Bingo, you're correct - that's fixed the issue. Thanks for the speedy response.\nAlthough I would just say, isn't this exactly what the current default version of Homestead.yaml in this repository is already doing...?\nyaml\nfolders:\n    - map: ~/code\n      to: /home/vagrant\nI'm not quite understanding how what I'm doing is any different here? Or is there a bug in the default Homestead.yaml? Thanks in advance!. Understood. I\u2019ll revert back to the closest tag. Appreciate your help!\n\nOn 23 Sep 2017, at 19:56, Joe Ferguson notifications@github.com wrote:\nYeah, this is why we don't recommend you use master and use tagged versions instead. I'm poking at a few different things today.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "andredewaard": "Can confirm that this fully works on Mac OS High Sierra 10.13.2 Beta 1. \nTried installing Laravel packages with Composer install inside Vagrant and all the packages showed up on my Mac. \nAlso mentioned here: https://github.com/hashicorp/vagrant/issues/8788#issuecomment-341682595. ",
    "vladyslavstartsev": "Got it! Didn't look inside the folder, maybe it should be documented on the homestead docs page?. ",
    "pmartelletti": "php 7.1. \nJust try it, and n  a  new installation is working (it installs symfony/console 3.3) , but in my project, for some reason (probably some vendor requirement) , I'm using 3.4, which introduces this change and breaks the command.\nhttps://github.com/symfony/console/blob/master/Command/Command.php\nSo, probably composer.json should restrict symfony/console to 3.3, or change the property name in the make command so that is compatible with symfony/console 3.4.. The change is in the Changelog.\nhttps://github.com/symfony/console/blob/master/CHANGELOG.md. ",
    "matoscas": "DojoGeekRA, can you show how to install the symfony/console?. ",
    "sumityadav": "As per the release notes we need to upgrade the box to version 4.0.0 but when I run vagrant box update it doesn't update.\n$ vagrant box update\n==> homestead-7: Checking for updates to 'laravel/homestead'\n    homestead-7: Latest installed version: 3.0.0\n    homestead-7: Version constraints: 3.0.0\n    homestead-7: Provider: virtualbox\n==> homestead-7: Box 'laravel/homestead' (v3.0.0) is running the latest version.. @DojoGeekRA the issue was, I had specified the version as 3.0.0 in my Homestead.yml file. Changing it to 4.0.0 worked.. ",
    "marcelogarbin": "I'm having the same error when: vagrant --provision\nReturn: \n==> homestead-7: Failed to restart php7.2-fpm.service: Unit php7.2-fpm.service not found.\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.. @svpernova09 I was afraid of losing something after running the \"vagrant destroy\", I had already updated everything.. That was what was missing, so worked the \"provision\". I'm just going to have to recreate all the tables again.\nIs there any way I can't lose data from tables using \"destroy\" or not?\nThank's my friend. Hi, Has this been adjusted?. @browner12 Okay, so I also did a clean installation on 01/25, but only today I was using the homestead and I was faced with this error, as in the old installation, PHP 7.2 was checking which version was PHP of this new installation, which is or 7.3. It did not take me that long to verify that the problem was with PHP 7.3 (I think), so I'm using 7.2 as usual.\nI'm going to use 7.2 until I adjust this Xdebug issue so I just asked because I thought it should be something with the Homestead.\nGrateful for the attention. ",
    "Shkeats": "@ompmega I think this isn't quite right in implementation.\nFor me with a homestead.yaml sites entry of subdomain.domain.net it generates certificates with two DNS names.\nsubdomain.domain.net\nand\n*.subdomain.domain.net\nShould it not do the below?\nsubdomain.domain.net\nand\n*.domain.net\nApologies if I've misunderstood the intention of this feature.. ",
    "drmzio": "Hey @ryancwalsh give this a shot and let me know if it worked for you: https://stackoverflow.com/a/15076602/7782924\nSo basically, you have to manually trust the self-signed certificates generated by Vagrant.. ",
    "ryankilf": "Good shout, I have made that change.. Sure @browner12, \nIt means that if you put \nip: \"autonetwork\"\nin Homestead.yaml your VM will use Vagrant Auto Network to deal with your IP addresses and your networking and all that.\nIt's probably less relevant if you're only running one homestead VM, but if you're running lots, and sharing them amongst your team, it's a lifesaver. \nIn a previous job we used a page of IP addresses on our wiki. That's not ideal.. Previous answer to this was wrong. Vagrant hostsmanager deals with it.. @DojoGeekRA - I just tested this with two sites on one box today, on my machine it is, although it's actually vagrant hostsupdater which is dealing with it... . Documentation at https://github.com/ryankilf/docs/blob/xdebug/homestead.md#xdebug. Of course, Joe. I'm sorry I haven't got back to you with this, but I intend\nto look at your suggestion, the problems it solves, and so on tomorrow\n(BST) night and feed back to you then. Unfortunately I won't get a chance\nbefore then.\nOn 23 October 2017 at 03:30, Joe Ferguson notifications@github.com wrote:\n\nThanks for taking the time for this, but I'd prefer to see a bug report\nshowing the recent changes with update-alternatives causing issues with\nthe existing aliases before implementing any changes.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/pull/709#issuecomment-338532115,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHIUC0Se-kDRnic9gJ_AflkUKzmokpNCks5su_pdgaJpZM4QBkMI\n.\n. Certainly, I'd rather not add code that doesn't solve any problems or\nanything and I'm grateful for the chance to learn new things, even if that\nis by doing a PR that doesn't get through.\n\nOn 23 October 2017 at 11:34, Ryan Kilfedder ryankilf@gmail.com wrote:\n\nOf course, Joe. I'm sorry I haven't got back to you with this, but I\nintend to look at your suggestion, the problems it solves, and so on\ntomorrow (BST) night and feed back to you then. Unfortunately I won't get a\nchance before then.\nOn 23 October 2017 at 03:30, Joe Ferguson notifications@github.com\nwrote:\n\nThanks for taking the time for this, but I'd prefer to see a bug report\nshowing the recent changes with update-alternatives causing issues with\nthe existing aliases before implementing any changes.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/laravel/homestead/pull/709#issuecomment-338532115,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHIUC0Se-kDRnic9gJ_AflkUKzmokpNCks5su_pdgaJpZM4QBkMI\n.\n\n\n. \n",
    "durasj": "Hi @akimcsm,\nhow did you please resolve this issue? I've tried to update all parts involved and a bunch of other stuff but nothing helps.\nThank you. Hi @akimcsm,\nThat didn't work but after some more attempts updating the homestead box and reinstalling the VirtualBox after that did the job. Anyway thanks for the quick response!. ",
    "akimcsm": "Hi @durasj \nApart from running vagrant reload I don't remember trying anything else. Worst case scenario, you could try removing everything related to Vagrant, Homestead and VIrtual Box and reinstalling them.. ",
    "jamesgraham": "Why is this closed? We are seeing this issue on 2 different machines now. ",
    "patrick-hertling": "I found it's already installed when running phpinfo() from the command line. Sorry :). ",
    "davidsierradz": "Checking #668, I changed laravel.app to laravel.test and its working, sorry for noise.. ",
    "popstheman": "I changed .app to .test and .dev however, both didn't work for me. Any other suggestions ?. @svpernova09 Thanks. vagrant destroy and vagrant up solved the issue for me.. It did not work for me. I tried both, .test and .dev \ud83d\ude15 . ",
    "netdesignr": "@svpernova09 Thank you!. ",
    "GeorgeGeorgiev": "svpernova09 Thanks!\n. ",
    "abhimanyu003": "Yes the sqlsrv driver is working 100% fine with PHP 7.2.\nThere is nothing suspicious with vagrant destroy && vagrant up to share.\nSomehow sqlsrv driver was available before 4.0 updates.. ",
    "timo75": "Thanks. I will try that.. ",
    "jurosh": "@svpernova09 should your hotfix work with latest version?\nI can still see The provider 'virtualbox' that was requested t...\nPs. looks like there is official supoprt for hyperV, but going to test it further now.... ",
    "alfredlaggner": "I had this error when my project was in onedrive or google drive. I moved them out and it works again. ",
    "alexfraundorf-com": "Here is a fix for this issue that worked for me:\n\n\nSSH into your vagrant box\n\n\nOpen the PHP ini file in an editor (as sudo)\nsudo nano /etc/php/7.1/fpm/php.ini\n\n\nSearch for sqlsrv.so if you are using nano it is Ctrl + W and then enter sqlsrv.so and press enter\n\n\nPut a semicolon in front of the following lines so it looks like this:\n[mssql]\n;extension=sqlsrv.so\n;extension=pdo_sqlsrv.so\n\n\nSave and exit.  Ctrl + O and then Ctrl + X\n\n\nRestart your vagrant box\n\n\nI hope that helps.  Happy PHPing!. ",
    "thorerik": "FWIW, getting the latest round of MSSQL PDO driver working is a royal PITA, but I got it working in docker with the following crap:\nhttps://gist.github.com/thorerik/18cf66619dcbc67343c38056c20585aa#file-dockerfile-L16-L21\nhttps://gist.github.com/thorerik/18cf66619dcbc67343c38056c20585aa#file-dockerfile-L43-L49\nSo if you need mssql support, that's what I had to do to get it running.. https://github.com/laravel/homestead/issues/719#issuecomment-370708688 Here's some information how I got sqlsrv driver working in Docker, can be helpful to get it working in homestead. ",
    "willemo": "@svpernova09 thanks! That works perfectly! Is there anywhere this is documented?. ",
    "SteveALee": "I get not wanting to be prescriptive but  it can be very hard to find out those things like nfs making a big impact to speed. Cheers.. Oh, no, no at all :). ",
    "chunkaiww": "Yes, it shows version 5.2.\nOk, then I will re-install version 5.1. I tried to use Vitualbox 5.18, 5.1.2, 5.1,30, however, it showed the same error results as shown below.\n$ vagrant up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Clearing any previously set forwarded ports...\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 80 (guest) => 8000 (host) (adapter 1)\n    homestead-7: 443 (guest) => 44300 (host) (adapter 1)\n    homestead-7: 3306 (guest) => 33060 (host) (adapter 1)\n    homestead-7: 4040 (guest) => 4040 (host) (adapter 1)\n    homestead-7: 5432 (guest) => 54320 (host) (adapter 1)\n    homestead-7: 8025 (guest) => 8025 (host) (adapter 1)\n    homestead-7: 27017 (guest) => 27017 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\nThere was an error while executing VBoxManage, a CLI used by Vagrant\nfor controlling VirtualBox. The command and stderr is shown below.\nCommand: [\"startvm\", \"8b1c823e-f60b-4501-bf1b-9cf136151708\", \"--type\", \"headless                                                                                            \"]\nStderr: VBoxManage.exe: error: The virtual machine 'homestead-7' has terminated                                                                                             unexpectedly during startup with exit code 1 (0x1).  More details may be availab                                                                                            le in 'C:\\Users\\Kai\\VirtualBox VMs\\homestead-7\\Logs\\VBoxHardening.log'\nVBoxManage.exe: error: Details: code E_FAIL (0x80004005), component MachineWrap,                                                                                             interface IMachine\n. @svpernova09\nI used revo uninstaller to purged the visual box and tried different versions of it to run the homestead, but I still having this problem. So, I used the traditional way that using xampp and composer to install laravel. Anyway, thanks for your help! \n  . ",
    "E-zh": "I have this problem too. I use vagrant 2.0.1 with Virtualbox 5.2.0\nBut I do not want to go back to Virtualbox 5.1. And how a temporary solution, i chose this:\nssh vagrant@192.168.10.10. @svpernova09\nThanks! . ",
    "brino": "I say yes ... it should just restart crond (once) per provision. ",
    "viezel": "yeah, i meant that it gets installed when installing homestead. i had to install it manually to make it work. . ok get it. Maybe add it to the docs then? :) \nim a senior developer, not a vagrant expert and I think this plugin is really nice to automate the mapping. . i see.. Ill stop now \ud83d\ude04 . ",
    "longestdrive": "Hi - I've updated the yaml file to include the php 5.6 reference. I removed it to ensure I could get the machine up and running and forgot to re-enter it. The problem only occurs when trying to access that site.\nI've since deleted the machine again and switched to the master branch of homestead and re-started. The box now works as expected and the site loads correctly. Having got it working I'm reluctant to switch back to v6.5.0 so will close this issue for now but wonder if there's an issue with that release?\nThanks for the help. ",
    "Dixon-Jose": "when i do that it says input file not specified. i'm sorry, it was because i didn't notice the multiple sites setting. Thanks for helping.. ",
    "bryandatanerds": "Sounds good, thanks for the fast response!. Hm.  If I create a fresh VM currently (Homestead 5.0.1), all of the update-alternatives options are on 7.2 but Nginx is using PHP 7.1 FPM for my sites, so it does still look like there's a mismatch.. Yep, that was it.  Upgraded git to tag v7.0.1 and I'm all on 7.2 now.  Sorry for the distraction and thanks!. ",
    "alquesadilla": "I believe this is still broken.... ",
    "cloudbluedigital": "Nope that is because I have 2nd vagrant up running that' why it redirecting ports. I will update it and give it a go. I updated Virtualbox and it seems to work. my base box was already on that version. It is still complaining about guest additions being out of date. ",
    "dorin-niscu": "It is informational for those who have the same problem as I had.\nIt might also be added in the script.. Seems that it only works without https. Did anyone succeed using https?\nhttp://homestead.test works fine.\nhttps://homestead.test does not work.. Seems that it only works without https. Did anyone succeed using https?\nhttp://homestead.test works fine.\nhttps://homestead.test does not work.. @browner12 It worked fine until this weekend (I know about the browser updates). I accepted the certificate warning when I was asked and redirected to ERR_EMPTY_RESPONSE page. I also manually imported the certificate into Chrome just to make sure. It works fine on XAMPP on Windows 10.. Seems that it only works without https. Did anyone succeed using https?\nhttp://homestead.test works fine.\nhttps://homestead.test does not work.\n. ",
    "craigalways": "I don't have NPM on my Mac. \nHere is the exciting stuff at the end. \n23939 silly remove /home/vagrant/code/hodgehill/node_modules/path-type\n23940 silly remove /home/vagrant/code/hodgehill/node_modules/preserve\n23941 silly remove /home/vagrant/code/hodgehill/node_modules/process\n23942 silly remove /home/vagrant/code/hodgehill/node_modules/process-nextick-args\n23943 silly remove /home/vagrant/code/hodgehill/node_modules/prr\n23944 silly remove /home/vagrant/code/hodgehill/node_modules/errno\n23945 silly remove /home/vagrant/code/hodgehill/node_modules/punycode\n23946 silly remove /home/vagrant/code/hodgehill/node_modules/querystring\n23947 silly remove /home/vagrant/code/hodgehill/node_modules/querystring-es3\n23948 silly doSerial move 11228\n23949 silly doSerial finalize 11228\n23950 silly finalize /home/vagrant/code/hodgehill/node_modules/abbrev\n23951 silly finalize /home/vagrant/code/hodgehill/node_modules/acorn\n23952 silly finalize /home/vagrant/code/hodgehill/node_modules/acorn-dynamic-import/node_modules/acorn\n23953 silly finalize /home/vagrant/code/hodgehill/node_modules/acorn-dynamic-import\n23954 verbose unlock done using /home/vagrant/.npm/_locks/staging-76c5875edd92d088.lock for /home/vagrant/code/hodgehi$\n23955 verbose stack Error: ENOENT: no such file or directory, rename '/home/vagrant/code/hodgehill/node_modules/.acorn$\n23956 verbose cwd /home/vagrant/code/hodgehill\n23957 verbose Linux 4.4.0-101-generic\n23958 verbose argv \"/usr/bin/node\" \"/usr/bin/npm\" \"install\"\n23959 verbose node v8.9.1\n23960 verbose npm  v5.5.1\n23961 error path /home/vagrant/code/hodgehill/node_modules/.acorn-dynamic-import.DELETE/node_modules/acorn\n23962 error code ENOENT\n23963 error errno -2\n23964 error syscall rename\n23965 error enoent ENOENT: no such file or directory, rename '/home/vagrant/code/hodgehill/node_modules/.acorn-dynamic$\n23966 error enoent This is related to npm not being able to find a file.\n23967 verbose exit [ -2, true ]\npackage.json\n{\n    \"private\": true,\n    \"scripts\": {\n        \"dev\": \"npm run development\",\n        \"development\": \"cross-env NODE_ENV=development node_modules/webpack/bin/webpack.js --progress --hide-modules --config=node_modules/laravel-mix/setup/webpack.config.js\",\n        \"watch\": \"cross-env NODE_ENV=development node_modules/webpack/bin/webpack.js --watch --progress --hide-modules --config=node_modules/laravel-mix/setup/webpack.config.js\",\n        \"watch-poll\": \"npm run watch -- --watch-poll\",\n        \"hot\": \"cross-env NODE_ENV=development node_modules/webpack-dev-server/bin/webpack-dev-server.js --inline --hot --config=node_modules/laravel-mix/setup/webpack.config.js\",\n        \"prod\": \"npm run production\",\n        \"production\": \"cross-env NODE_ENV=production node_modules/webpack/bin/webpack.js --progress --hide-modules --config=node_modules/laravel-mix/setup/webpack.config.js\"\n    },\n    \"devDependencies\": {\n        \"axios\": \"^0.16.2\",\n        \"bootstrap-sass\": \"^3.3.7\",\n        \"cross-env\": \"^5.1.1\",\n        \"jquery\": \"^3.1.1\",\n        \"laravel-mix\": \"^1.0\",\n        \"lodash\": \"^4.17.4\",\n        \"vue\": \"^2.1.10\"\n    },\n    \"dependencies\": {}\n}\n. Thanks for your help @svpernova09 it was as NPM issue yarn worked great. . ",
    "cncqw": "Install node.js on your Windows host and execute npm install in the code directory . ",
    "dylanbr": "The underlying problem is related to how Windows file locking is handled by Virtualbox sharing. It happens whether using standard shared folders (vboxsf) or nfs. If a file is opened or read (locked) by another process while npm is trying to change it the whole install process fails.\nHow to fix:\n\nRun vagrant up (and other commands) from an administrator terminal. This ensures symlinks work correctly. There are other ways to enable symlinks - if you use one of them be sure to test them out using ln -s a b within the shared folder.\nEnsure that no other process opens any of the files in the shared folder by either disabling the process or excluding the vagrant folder. This includes, but is not limited to:\nWindows Defender or other anti virus software\nWindows search index or other indexing software\nDropbox or other file synchronisation software.\n\n\n\nIf you are still having issues with point 2 above, you can use Process Monitor, filtered to your vagrant directory, to detect access by any process other than Virtualbox (VBoxHeadless.exe).\nWith the above in place I am able to successfully run npm install without issue.\n. The underlying problem is related to how Windows file locking is handled by Virtualbox sharing. It happens whether using standard shared folders (vboxsf) or nfs. If a file is opened or read (locked) by another process while npm is trying to change it the whole install process fails.\nHow to fix:\n\nRun vagrant up (and other commands) from an administrator terminal. This ensures symlinks work correctly. There are other ways to enable symlinks - if you use one of them be sure to test them out using ln -s a b within the shared folder.\nEnsure that no other process opens any of the files in the shared folder by either disabling the process or excluding the vagrant folder. This includes, but is not limited to:\nWindows Defender or other anti virus software\nWindows search index or other indexing software\nDropbox or other file synchronisation software.\n\n\n\nIf you are still having issues with point 2 above, you can use Process Monitor, filtered to your vagrant directory, to detect access by any process other than Virtualbox (VBoxHeadless.exe).\nWith the above in place I am able to successfully run npm install without issue.. ",
    "kimtree": "@lionslair It looks like newer version browsers restricted to use some TLDs for test purpose. see https://github.com/laravel/homestead/issues/668\nhttps://ma.ttias.be/chrome-force-dev-domains-https-via-preloaded-hsts/\nI changed TLD from .dev to .test and It works.. @lionslair Yes. I'd prefer you to change stable TLDs. (FYI, Homestead changed default TLD to .localhost as you can see #668 ). @dorin-niscu I also failed to use SSL on .test domains. The only thing I can try is adding the self-signed certificate in the vagrant machine to host and then set to always trust.. @daryn-k You have to edit Homestead.yaml file.. ",
    "daryn-k": "How can I change TLDs if I have 2 sites (site itself and phpMyAdmin) on same IP? It doesn't work if you change only hosts file.. ",
    "luisangeldev": "I succed using Homestead and SSL following this post: http://blog.getpostman.com/2014/01/28/using-self-signed-certificates-with-postman/\nYou must need to do some configurations with the certifieds on your explorer.\n. ",
    "arturcesarmelo": "Please @kimtree could you explain how can we add this self-signed certificate in the vagrant machine to host and and then set to always trust. I've seeing many opened  issues about how to use homestead with HTTPS (whitch is required to Progressive Web Apps development). I also read many answers to this issues like that \"Homestead in latest version has suport for SSL, just run de https://url.normaly.test\". Not sure about that, but its not just type the url on the browser. There is more things to do becuse an error is thrown on the browser. Please, help me.. i've imported the ca.homestead.homestead.crt into the chrome but i'm still seeing this message\n\nOS\nUbuntu 16.04 LTS 64bits\nHomestead\nv7.3.0\nVagrand\nv2.2.1\nHomestead.yaml\n```YAML\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/code\n      to: /home/vagrant/code\nsites:\n    - map: app.probetsy.test\n      to: /home/vagrant/code/probetsy/public\n      schedule: true\n    - map: api.probetsy.test\n      to: /home/vagrant/code/probetsyapi/public\n      schedule: true\n    - map: app.arturcesarmelo.com\n      to: /home/vagrant/code/arturcesarmelo.github.io\n    - map: app.blog.com\n      to: /home/vagrant/code/blog/public\ndatabases:\n    - berlim\n    - homestead\n    - probetsy\n    - probetsyapi\n```\nCould any one help me?. ",
    "hounslow": "Neither .test nor .dev are fixing this issue for me. . Yeh I have tried that as well and no luck either :/ . ",
    "stepbirt": "It didn't work for me too. Help me!!!\nedit: I found it. If your are Mac User, try .test instead of .dev\nsource: https://github.com/laravel/homestead/pull/697\n. ",
    "HristoAntov": "https://ma.ttias.be/chrome-force-dev-domains-https-via-preloaded-hsts/\nThe .dev domains work fine in FireFox, though. As I see it, I will just switch to another TLD for local development (.test, .local).. ",
    "saulfautley": "Thanks for the link @HristoAntov. Seems Chrome now forces .dev as well as .app domains to use strict HTTPS. Pretty strange update if you ask me, but at least there's a fairly easy workaround.\nAnyone know if there are any other TLDs Chrome is doing this with now?. ",
    "Ravaelles": "Changing all domains to .test and running vagrant reload --provision did the trick.. ",
    "petermirmo": "I am having the same issue. Changing the domain name did not work for me. I changed the name in /etc/hosts and in homestead.yaml and did vagrant destroy/vagrant up and vagrant reload --provision. I even reinstalled homestead, vagrantbox and wamp. Nothing has fixed it yet!. ",
    "xewl": "Another tip that came up from ma.ttias.be blog's comments (Previously shared here by @HristoAntov):\n\nhintss: Link to comment\nprotip: you can type \u201cbadidea\u201d at the https error screen to skip it, avoid using the mouse\n\nIt worked for me, and yes it also bypasses the HSTS-warning. (Chrome, Chromium)\nI have changed my hostname to eg. project.vagrant though, for convenience (with a manually allowed cert). Imho HSTS itself should stay, but we should have an option to skip, I'm fine with this one.\n(Note that .vagrant is not a valid tld. As mentioned by @seouncloaked below, you'd need to use an existing tld for Oauth-testing etc. - maybe .app?)\n-- \nNote:\nI guess that Homestead does provide a https connection out of the box. This might not always be the case with other boxes, environments or set-ups. HSTS forces (certain?) tld's to go through https, like .dev - so this might not be your final-solution and you would end up changing the hostname anyway if you don't set up ssl (valid or not).\n. ",
    "natsu90": "hi guys, i dont need this ssl thing, how can i turn it off by default?. ",
    "seouncloaked": "The bigger problem though with forcing homestead over to .test is that Google callback urls require a legit TLD. So .dev allows you to test your Google Socialite accounts locally. .test will not.... ",
    "ShivarajRH": "Very helpful link to solve the issue.\nUsing self-signed SSL certificates with Postman\nJust follow steps.. ",
    "ulaskorpe": "chrome has problem with , app and dev extensions it redirects to https  url automatically , you should change all to something else , .test is ok , .xzxz  , .abc  ... \nchange in yaml file , change in etc/host file , then learn the ID of your VM with vagrant global-status , \nwhile vagrant is running  , command  vagrant provision id-of-your-VM \nthan vagrant reload \n. ",
    "Roemerb": "After making the changes in Homestead.yaml and /etc/hosts, one can also do vagrant halt && vagrant up --provision. That way the vm doesn't have to be destroyed.. @svpernova09 Thanks, that eventually led to me to the right path. Apparently the VM was in some weird state in VBox and even VBoxManage unlinkvm --delete didn't work. I had to force quit all Vbox processes manually and then I was able to start the machine again. \nYou can close the issue.. ",
    "buzzingcookie": "Hello there! I keep having the problem where after having \"lsapp.test\" in my .yaml file, ets/hosts file, provisioning it with the id then reloading it keep getting:\nYour connection is not private!\nAttackers might be trying to steal your information from lsapp.test (for example, passwords, messages, or credit cards).\nLearn more\nNET::ERR_CERT_AUTHORITY_INVALID\nI don't knwo what else do i have to change to get rid of this. I tried using mozilla firefox and i get the same exact message.\nMy homestead.yaml\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 2\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: C:\\WebDev\\laravel-sites\n      to: /home/vagrant/laravel-sites\nsites:\n    - map: lsapp.test\n      to: /home/vagrant/laravel-sites/lsapp/public\ndatabases:\n    - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\nThe line i added to the host\n192.168.10.10       lsapp.test\n(i also tried doing)\n127.0.0.1                lsapp.test\nAnd always get the same issue....\n. ",
    "hoanglam1203": "Change to .test or .app and then reload page in incognito window. It works for me.. ",
    "mestre-c": "I was facing the same issue, but I fixed it just by:\n1. Checking all the typos\n2. Run \"vagrant provision\" . ",
    "elkbullwinkle": "Looks like you are trying to connect via https and chrome is not a friend of self-signed certificates. https://www.google.co.nz/search?q=chrome+self-signed+certificate. ",
    "jshah4517": "Am running in to the same issue as of today, only started when I restarted my computer as I'm guessing Chrome updated itself.\nEdit: As per https://github.com/laravel/homestead/issues/754 changing from .app to .test fixed it.. ",
    "ffpetrovic": "In the Vagrant VM, open /etc/nginx/ssl and copy all of the .crt files back to your Windows host. On Windows, just open them and install them to Trusted Root Certification Authorities and it should be fine.\nI really don't know how someone hasn't solved  this for a popular tool such as Vagrant. . ",
    "jameswagoner": "@iTakeHome Thanks for the lead. I am on Mac OS so the process was a bit different. I will explain below for anyone else having issues.\nYou have to copy your .crt file like stated above but to install on Mac OS, you use Keychain Access. Unlock the System Keychain and drag your .crt file there to install. Enter password if prompted. Then you need to double click on the installed certificate and drill down Trust and select Always Trust for When using this certificate.. ",
    "CleverLoginName": "covered by Laravel news this week\nhttps://laravel-news.com/chrome-63-now-forces-dev-domains-https. ",
    "JohanSchobben": "Having the same problem. Redirecting to the ip worked for me (I have one project).. ",
    "Artistan": "there will be a lot of people changing sitenames away from .dev\nthis is a fix for a provisioning that will break those boxes due to having multiple schedulers running for the same site. -- The system already deletes old schedules for existing sites. I honestly do not see why not to do it cleanly for all cases including sites that are no longer configured.. Looking at Homestead more....\nIt looks like the clear-nginx.sh and clear-variables.sh are very much like my proposal here.\nI do not want to beat a dead horse, but this could prevent a lot of questions when \"changing\" a homestead box, just like the clear scripts mentioned and others.. @browner12 - there is a long going chat in #homestead-dev  with @svpernova09 . bash\n==> Chuck-Dev: Running provisioner: shell...\n    Chuck-Dev: Running: script: Creating MySQL Database: homestead\n    Chuck-Dev: ERROR\n    Chuck-Dev:  1253 (42000)\n    Chuck-Dev:  at line 1\n    Chuck-Dev: : COLLATION 'utf8mb4_unicode_ci' is not valid for CHARACTER SET 'utf8'\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.. @svpernova09 - please pull this fix. master is broken at the moment.. @svpernova09  ::  Agreed, just poking the BEAR :). duplicate. I beg to differ about not supporting multiple machines in vagrant. Homestead supports building as many named servers as you want.\nYou can simply add another named Homestead box\nthis is useful when you need to have the servers different for whatever reason....\n\nafter.sh installs differently\nenv variables\nkeys\nmemory / cpu resources\n\nExample of multiple installs\ndestroy one, bring up another, or both at the same time...\n~/VMs/Configs/My-Dev/Homestead.yaml\n```yaml\n\nname: \"My-Dev\"\nhostname: \"my-dev\"\nip: \"192.168.10.10\"\nmemory: 1028\ncpus: 1\nprovider: virtualbox\nvariables:\n    - key: APP_ENV\n      value: local\n    - key: PHP_IDE_CONFIG\n      value: serverName=chuck-dev\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/code\n      to: /home/vagrant/code\n      type: \"nfs\"\nsites:\n    - map: my-dev.test\n      to: /home/vagrant/code/my-dev/public\n      schedule: false\n      php: \"7.1\"\n```\n~/VMs/Configs/Your-Dev/Homestead.yaml\n```yaml\n\nname: \"Your-Dev\"\nhostname: \"your-dev\"\nip: \"192.168.10.10\"\nmemory: 1028\ncpus: 1\nprovider: virtualbox\nvariables:\n    - key: APP_ENV\n      value: local\n    - key: PHP_IDE_CONFIG\n      value: serverName=chuck-dev\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/code\n      to: /home/vagrant/code\n      type: \"nfs\"\nsites:\n    - map: your-dev.test\n      to: /home/vagrant/code/your-dev/public\n      schedule: false\n      php: \"7.1\"\n```. Sure. It is not documented as being supported, so I understand you point.\nThis is a simple update to allow people to use it that way.  Can we do this fix since it does not break anything. Extending the functionality does not mean you have to support it. :) . @browner12 \nYes, this is due to multiple boxes, plus it is more descriptive for looking at your certs.\nI have also automated my cert addition and destruction with shell scripts via up and destroy processes using the unique naming conventions. (Mac OSX)\nCheck the automation it out here if you are curious.\nhttps://github.com/Artistan/homestead/tree/master/resources\nThis will help our team be up to date and similar env without a lot of additional effort.. I watched it this time on another version of Horizon\nsame issue.\nI also noticed that it threw in error into the terminal above the current output (over the top of other output)\nPackage configuration\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 Modified configuration file \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502 php.ini: A new version (/usr/lib/php/7.1/php.ini-production.cli) of   \u2502\u2502 configuration file /etc/php/7.1/cli/php.ini is available, but the\u2502\u2502 version installed currently has been locally modified.\u2502\u2502\u2502\u2502 What do you want to do about modified configuration file php.ini?\u2502\u2502\u2502\u2502install the package maintainer's version\u2502\u2502keep the local version currently installed          \u2502\u2502show the differences between the versions\u2502\u2502show a side-by-side difference between the versions\u2502\u2502start a new shell to examine the situation\u2502\u2502\u2502\u2502\u2502\u2502<Ok>\u2502\u2502\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n. FYI - Installing another php7.1 component after the initial homestead install can cause this lock because it asks if you want to update the php.ini file after homestead has already modified the php.ini file.\nI have DEBIAN_FRONTEND=noninteractive in my script and it still stops.. ",
    "amosmos": "This is not fixed in 7.0.1 correct...? Should I use master to fix it? Or perhaps downgrade the box and the homestead package?. Mean while I installed box 4.0.0 and it worked. But thanks, I'll try that too.\nIf you're already answering - may I ask you - how do I know the compatibility of the box and the homepage package? Like now that installed box 4.0.0 how do I know if it will work with homestead 7.0.1 or any one else? it actually did and I'm actually on master, but I wasn't sure when I installed.\nI guess what I'm asking is how do I know when a box version requires a specific (min and max) version of the package and vice versa?. Oh I see. Is this dependency documented anywhere? Also do you think that boxes also have a minimum repo version? Like for example box 5.0.1 won't work with an old repo?. Got it. Thanks.\nIt's very confusing that running homestead requires 4 different pieces of software (virtualbox. vagrant, box and repo) and their versions compatibility is very specific.\nIn my specific case, Ihad the same issue as in this issue, so since I saw you solved it in the box but didn't release it yet, I had to use an older one, and didn't know with which repo version to use. Then I also noticed that you said virtualbox 5.2 isn't yet compatible, so had to go back to 5.1, and then saw you mentioned that vagrant 2.0.1 is causing many issues on windows, so had to go back there too...\nPerhaps some quick note on best and latest \"no issues\" version matrix can help :-) Let me know if that is something you think can help and if I can assist somehow.\nThanks again for all your help!. ",
    "VetBoard": "This is still not working. Any fix to that? Adding the composer vendor bin directory to the path is necessary on every single vagrant up. . ",
    "Quadriphobs1": "I just updated my box two days ago and just noticed this, even after adding the printf \"\\nPATH=\\\"$(sudo su - vagrant -c 'composer config -g home 2>/dev/null')/vendor/bin:\\$PATH\\\"\\n\" | tee -a /home/vagrant/.profile  to after.sh file and do vagrant reload its still not working\n. ",
    "naid": "This is still not working. After vagrant up everything went well except that no Laravel files were created:\n\n. thanks @browner12 , It's working now.  I just created a laravel project first and point that project's public directory as one of the site in the Homestead.yml file.\nI also added this in the Vagrantfile since I'm experiencing problems with connecting to ssh:\nconfig.vm.provider \"virtualbox\" do |vb|\n        vb.customize [\"modifyvm\", :id, \"--cableconnected1\", \"on\"]\n        vb.gui = true    \n    end\nand it would only connect after logging in to the gui.  That is for another issue.. ",
    "YuyangHYY": "This youtube video will help you.. ",
    "yifanfu": "Hi browner12,\nThanks for the PR, can I ask how can i use the elasticsearch in the homestead. I tried port forwarding 62000 to 9200 but it doesn't work. thanks in advance.. ",
    "kevindierkx": "@browner12 Yes the root certs will be generated during provisioning and are stored in the /etc/nginx/ssl dir. Therefore every homestead box you provision will receive an unqiue root cert.\nI\u2019ll issue a PR to the docs in the following weeks when I get time.. @ryancwalsh Hi! you need to add the custom ca.homestead.homestead.crt certificate file to your trust store, x-yuri's answer on Stack Overflow is correct https://stackoverflow.com/a/49612084. ",
    "remyoucef": "Okay i removed the deloyment server.\nYes thersm.test is Larave app and the actual server root is F:\\PhpstormProjects\\TheRSM.\nThe Debug still not working.. I do all of that.\nMay be i'll back to xampp (I really \u2764\ufe0f  Homestead).\nDo you think i can work without XDebug?. Following this gist homestead-xdebug.md , plus allowing PhpStorm in Windows Firewall solve the problem.\nWhat does you mean by: Xdebug is already installed and configured?\n. ",
    "domagoj03": "Exactly the same issue on Manjaro 414. I suspected it's due to encryption of home folders but after reinstalling OS, the issue remains. \n\nrequested NFS version or transport protocol is not supported\n\nAny luck solving this @Cysioland ?\n. Yeah, I've solved it, however I can't really remember what fixed it specifically. I was following several arch wiki articles - vagrant, nfs, etc. \nI think that part of my fix was the installation of net-tools. I can't really remember the flow right now, but the solution is available in Arch wiki.. ",
    "Jesuqq": "@domagoj03 Managed to solve this problem? Facing the same issue with Antergos 4.14.15-1-ARCH.. @Cysioland @domagoj03 Thanks, I was missing \n[nfsd]\nudp=y\nfrom my /etc/nfs.conf. ",
    "houqianming": "try to check the status of nfs service\n\u279c  macOS \u2717 cat /etc/exports\n\u279c  macOS \u2717 sudo nfsd enable\nThe nfsd service is already enabled.\n\u279c  macOS \u2717 sudo nfsd start\nThe nfsd service is already running.\n\u279c  macOS  \u2717 nfsd status\nnfsd service is enabled\nnfsd is running (pid 98008, 8 threads)\n. ",
    "strange-fish": "i got the same problem.... ",
    "davidsolorzano20": "Thank you very much. ",
    "Seaony": "Thanks\uff01I found this, it makes SSL work :) Using self-signed SSL certificates with Postman. ",
    "hfalucas": "This might be good too: https://github.com/FiloSottile/mkcert. Nice! Thank you for the tip @martijn94 :). ",
    "martijn94": "Homestead already signs all certificates with a CA cert that can be loaded in your Keychain (mac) and Firefox to have a green valid cert. Should be possible some way in Windows as well.\nThese can be found in the folder /etc/nginx/ssl.. Just added support to all other site types (Except proxies).\nRan nginx config tests and redirect tests for all types individually.\nAlso noticed some other issues while going through all sites types:\n\nElgg site type is missing ssl certificate\nspa site type sites fast cgi parameters outside location block\nAll other site types miss the additional headers support\nSome site types miss the additional fastcgi_params support.\n\nWill make some pull request for those issues if needed!\n. @svpernova09 Thanks for the merge, much appreciated. \nWould you say that a docs update would be a good idea? Maybe also for the additional header support (when implemented in every serve- script)?. From line # 7 in your output it seems you are running homestead version 5.2.0. I can imagine that this version is not compatible anymore with the base box. Maybe try provisioning again with the latest version (7.20.0) ?. > Were you using 7.3 on the previous box? My guess is it's a 7.3 bug: https://bugs.php.net/search.php?limit=30&order_by=id&direction=DESC&cmd=display&status=Open&bug_type=All&phpver=7.3\nSeems like it, can confirm not working on 7.20.0. Also this issue seems very related: https://bugs.php.net/bug.php?id=77430\n@svpernova09 Maybe it's an idea to revert the default version back to 7.2 until this is fixed?. @svpernova09 That makes sense, thanks for the explanation.. ",
    "jonagoldman": "@browner12 directly from the Laravel docs:\n\nLaravel Homestead [...] provides you a wonderful development environment without requiring you to install PHP, a web server, and any other server software on your local machine.\n\nSo, development environment and any other server software does not sound like a generic Ubuntu box. And I think there is no real development without debugging.. @svpernova09 yes, I tried with the new xdebug 2.6.0 beta release that supports php 7.2.\nCan you please quickly explain to me how to get an older homestead box with php 7.1 as default? Do I need to match between the vagrant box and the homestead repo versions? Thanks.. @svpernova09 so I managed to make phpstorm recognize php 7.1 and xdebug 2.5.5:\n\nbut no matter what I do, I'm not able to stop the session and start debugging... I have set phpstorm to always stop at first php line of code but still nothing is stopping...\n  . Did the same here:\n\nstill not able to stop session.. So I finally managed to make it work, after making all the changes you pointed out earlier,\nI modified /etc/php/7.1/cli/conf.d/20-xdebug.ini like this:\nzend_extension=xdebug.so\nxdebug.remote_enable=1\nxdebug.remote_autostart=1\nxdebug.remote_host=10.0.2.2\nI think remote_host made it work, or maybe  remote_autostart (took it from here).\nThank you very much for your help!\n  . ",
    "amadeann": "In my case, I managed to get Xdebug working with php7.2 by creating the symlink from /etc/php/7.2/mods-available/xdebug.ini to /etc/php/7.2/fpm/conf.d/20-xdebug.ini. For some reason such symlink was not there for php7.2 (it's there for 7.1).\nReproducible steps:\n\nInstall and configure xdebug-2.6.0beta1 (any method from here)\nExecute sudo ln -s /etc/php/7.2/mods-available/xdebug.ini /etc/php/7.2/fpm/conf.d/20-xdebug.ini\nRestart the server with sudo service php7.2-fpm restart. \n",
    "giginos": "Hi @amadeann!\nHow did you get installed xdebug-2.6.0beta1 via pecl install xdebug?\nOn my system it tries to (re-) install xdebug-2.5.5 which does not support PHP 7.2 :-(\nIs there a param or something to get the 2.6-beta instead of the stable 2.5.5?. solved - \"pecl install xdebug-2.6.0beta1\" did the job :-) @amadeann . ",
    "henryonsoftware": "@amadeann you saved my time, I install xdebug-2.6RC2 but I can't found /etc/php/7.2/fpm/conf.d/20-xdebug.ini.\nYour cmd help me a lot:\nsudo ln -s /etc/php/7.2/mods-available/xdebug.ini /etc/php/7.2/fpm/conf.d/20-xdebug.ini. ",
    "Webdev55486": "thank you, downgraded, it's working.\nthank you man. ",
    "envision": "Thanks for the pointer @svpernova09 \nAdded this use statement to Browser class: use Laravel\\Dusk\\Chrome\\SupportsChrome; and use SupportsChrome;\nAnd a constructor:\npublic function __construct()\n    {\n        static::startChromeDriver();\n    }\nBut am getting an error from tinker:\n```\nPHP Deprecated:  Not inheriting environment variables is deprecated since Symfony 3.3 and will always happen in 4.0. Set \"Process::inheritEnvironmentVariables()\" to true instead. in /home/vagrant/app/thisproject/vendor/symfony/process/Process.php on line 310\nPHP Error:  Call to undefined method App\\Browser::afterClass() in /home/vagrant/app/thisproject/vendor/laravel/dusk/src/Chrome/SupportsChrome.php on line 38\n. https://github.com/laravel/dusk/issues/437. @cosecantt getting error with newest homestead 5.1.0vagrant@homestead:~/app/project$ sudo apt install ntpdate\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following NEW packages will be installed:\n  ntpdate\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 48.7 kB of archives.\nAfter this operation, 173 kB of additional disk space will be used.\nErr:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 ntpdate amd64 1:4.2.8p4+dfsg-3ubuntu5.7\n  404  Not Found [IP: 91.189.88.149 80]\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/n/ntp/ntpdate_4.2.8p4+dfsg-3ubuntu5.7_amd64.deb  404  Not Found [IP: 91.189.88.149 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?```. ",
    "bmcminn": "Sorry about that, think I thought I was typing commands in a different window and shot off an issue in the issues tab :P. ",
    "iarafat": "Thanks so much for your help. My problem solved now commenting ports and updating vagrant.. ",
    "seblavoie": "Glad to know I am not the only one who has this issue. Now, I am no expert in Vagrant, but can we fix this in vagrant file? . Okay thanks for the answer. Just to make sure, using some of the code provided as answers in my reference links aren't available options? Something like:\nvb.customize [\"guestproperty\", \"set\", :id, \"/VirtualBox/GuestAdd/VBoxService/--timesync-set-threshold\", 10000]. Alright, thanks for your answers. I'll come back if I find a solution at some point.. ",
    "cosecantt": "I have tried \nconfig.vm.provider :virtualbox do |v|\nv.customize ['guestproperty', 'set', :id, '/VirtualBox/GuestAdd/VBoxService/--timesync-set-threshold', 10000]\nBut did not work.. At last this worked for me: \n```\n  vagrant ssh\n  sudo apt install ntpdate\n  sudo ntpdate ntp.ubuntu.com\n  sudo timedatectl set-ntp on\n  sudo service ntp stop\n  sudo ntpd -gq\n  sudo service ntp start\ncd /path/to/homestead\n  vagrant plugin install vagrant-vbguest\n  vagrant halt\n  vagrant up\n```. ",
    "fourstacks": "@envision - once you've ssh'd into homestead, try running sudo apt-get update as the error suggests.  Then you should be able to run the sudo apt install ntpdate command and all the others just fine.\n@cosecantt - huge thanks for posting this solution - this issue has been bugging me for months!  Only implemented it yesterday but I don't seem to have hit the issue yet after leaving my mac on sleep last night.  Cheers!. ",
    "cowshedworks": "Also had issues with this, noticed it when git commits were a few days older than they should be!\nI just try to remember to run 'sudo service ntp restart' whenever use the VM.. ",
    "raphaelbeckmann": "Neither ntpdate nor timedatectl works for me.\nWhen I send my Mac to sleep on Friday and come back to work on Monday, the vagrant/homestead VM shows me date and time from Friday when I left my work.\nEither ntpdate and timedatectl then cannot connect to ntp.ubuntu.com to set date and time correctly due to invalid client datetime:\nntpq: read: Connection refused\nWhich is rather stupid.\nAfter restarting the VM however, time sync works again.\nI'd prefer and recommend a solution through the VirtualBox provider which has access to the host time.. @jonnywilliamson sudo: ntpdate: command not found. @bigdawggi Did not change the date for me.. @browner12 Thanks, still the only functioning workaround for me.. ",
    "Christophvh": "@browner12  This fixed it for me, but seems like a temporary solution. ",
    "bigdawggi": "I just ran the following two commands that toggle the ntp status of timedatectl, and they seemed to work for me\n```\n\ntimedatectl set-ntp false\ntimedatectl set-ntp true\n```\n\nI gave it about a second after running those two commands, and date was back in sync.  Seems like it \"kicked it\" enough for me.\nHowever you want to execute those (cron job, bash script, alias, etc.) should work.. ",
    "tons613": "I logged into my database via phpmyAdmin, and server time synced correctly. Try it. ",
    "ihorvorotnov": "Xdebug 2.6 is already out. In case you missed it :). ",
    "codaxe": "@tyteen4a03 \nhttps://medium.com/unhandled-code/manual-xdebug-install-on-homestead-7-0-running-php-7-2-37716928bfb3. ",
    "paulcanning": "Any update on when Homestead will be updated to include XDebug 2.6?. Yea, I figured this out just after posting, but accidentally, by running 'xon'.\nIs there any official documentation about this? . ",
    "DaWolfey": "Explicitly set the type to \"smb\" (under Folder)\nYou may also need to edit homstead.rb to set the smb version to 2.1 (search for vers= and change it to 2.1).. I use a microsoft account with my profile, and so long as I use the full email address it works correctly.\nRevert the edit to homestead.rb, and edit the homestead.yaml:\nfolders:\n    - map: c:/Users/arbet/Documents/Projects\n      to: /home/vagrant/code\n      type: \"smb\"\n      mount_options: ['vers=2.1', 'mfsymlinks']\nwhich I discovered after my previous post is the correct way.\nIf it fails to mount, check to see if the shares actually exist on your local machine. If they don't, you'll need to go upstream to vagrant. Post the vagrant up log again, specifically the mount command it tries\n. ",
    "KubqoA": "Now I am getting mount error(13). Can it be connected to the fact that I am using Microsoft Account? Because I tried several login options and non of them worked.. Well, I solved the problem firstly by creating a separate account named vagrant which had rights for my projects folder and that solved it. However, ultimately I switched to use virtualbox, mainly because of the fact that it doesn't require smb and it can have static ip. ",
    "joachimvs": "@DaWolfey i have the same issue as @KubqoA . After using your latest settings \"vagrant up\" seems to run succesfully. But if i use \"vagrant ssh\" , cd into the folder that i have binded my folder to and i then run \"dir\" i get the output: \"reading directory '.': Input/output error\".  . @kulikov-e-s did you find a working solution?. ",
    "kulikov-e-s": "@KubqoA Did you manage to resolve this problem? I'm facing the same. Or maybe @svpernova09 could help?\nHomestead.yaml :\n```\nfolders:\n    - map: c:/Users/kulikov/Desktop/homestead/projects\n      to: /home/vagrant/code\n      type: \"smb\"\nsites:\n    - map: coneqtv2.api\n      to: /home/vagrant/code/site/public\n```\nAnd after command 'vagrant up' have an error:\n```\nhomestead-7: Mounting SMB shared folders...\n    homestead-7: C:/Users/kulikov/Desktop/homestead/projects => /home/vagrant/code\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\nmount -t cifs -o uid=1000,gid=1000,vers=3.02,mfsymlinks,sec=ntlm,credentials=/etc/smb_creds_37d831712f5fd6dd4924a2dbfacb737c //10.0.75.1/37d831712f5fd6dd4924a2dbfacb737c /home/vagrant/code\nThe error output from the last command was:\nmount error(5): Input/output error\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs)\n```. @joachimvs unfortunately no. ",
    "danielabbatt": "I also had this issue, but not with the main folder I was attempting to share, but rather with the /vagrant share that's used for provisioning.\nI found that explicitly creating an entry for both the folder I wanted to share, that was using vers=3.02 just fine, and also specifying smb then worked. Otherwise it wasn't pulling in the mount options that are set in the homestead.rb into the end script which is mount_smb_shared_folder.rb as part of Vagrant itself.\nfolders:\n    - map: f:/code\n      to: /home/vagrant/code\n      type: \"smb\"\n    - map: f:/code/Homestead-hyperv\n      to: /vagrant\n      type: \"smb\". ",
    "Joesauris": "I am having this same issue (mount error 13) and believe it is due to bad user/login as I don't even know what account it is referring to. What makes you think its prompting for a Microsoft account? . @KubqoA \n. ",
    "gamunu": "I was able to fix this by adding default mount to folders.\n```\nfolders:\n    - map: \".\"\n      to: /vagrant\n      type: \"smb\". ",
    "chrisrollins65": "I also had to map the homestead folder manually to /vagrant with \"smb\" to get things working. Couldn't find anything in the documentation to suggest an officially correct way to do it.. ",
    "sXe79": "Same issue here, and none of the suggested worked :(\nAnyone has other tips?. UPDATE:\nI solved by sharing the WiFi connection with the default vEthernet. It works but the IP change at every vagrant up, so you have to update the host every time. @fzee for the host I mean the file you use to map local web app, in windows is in \"C:\\Windows\\System32\\drivers\\etc\". At almost every vagrant up it change the IP so you have to update this file.\nYou can share the WiFi connection by right clicking on the network adapter -> properties -> Sharing connection.\nAnyway, after the \"Spring Creators Update\" it works out of the box, no needs to share any connection. Unfortunately it doesn't work always, now I'm facing this strange behaviour that it succeed to mount folders only when also docker is running (docker virtual network). I guess the problem is always in network settings.\nI did try to reset everything but it keep failing... some other advice?. ",
    "jeliasson": "I got a similar problem to mounting shares. Anyone know what PATH that should be included for this?\n```    homestead-7: You will be asked for the username and password to use for the SMB\n    homestead-7: folders shortly. Please use the proper username/password of your\n    homestead-7: account.\n    homestead-7:\n    homestead-7: Username: myusername\n    homestead-7: Password (will be hidden):\nVagrant requires administator access to create SMB shares and\nmay request access to complete setup of configured shares.\nExporting an SMB share failed! Details about the failure are shown\nbelow. Please inspect the error message and correct any problems.\nHost path:\nStderr: x86 : The term 'x86' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the\nspelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:19\n+ D:/Program Files (x86)/Vagrant/embedded/gems/gems/vagrant-2.0.2/plugi ...\n+                   ~~~\n    + CategoryInfo          : ObjectNotFound: (x86:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\nStdout:\n```. @tfenster I solved it by turning to Docker and Laradock. \ud83d\udcaf . ",
    "fzee": "@sXe79 Could you please elaborate more how you shared the connection and where to update the host? I am using laravel/homestead.. ",
    "tfenster": "@jeliasson You can work around this problem by installing Vagrant in a path without a blank (e.g. c:\\hashicorp\\vagrant) . ",
    "n2geoff": "Just wanted to say I was having the same issue and it required 2 changes\n1. add type: \"smb\" to folders, for some reason it tries to mount using vbox commands otherwise\n2.  laravel/homestead version 6.4.0 does not work, but updating the ...scripts/homestead.rb file to use 6.3.0 worked like a charm\nLast, nothing to do with this error, but make sure you have an external virtual switch setup in hyper-v before doing a vagrant up\nHope this works for some of you. ",
    "antoclk": "i get this error too and won't let me run correctly my homestead.test. ",
    "islander": "Same here, provisioning not working:\n==> homestead-7: Running provisioner: shell...\n     homestead-7: Running: /tmp/vagrant-shell20180925-16933-bpwcx0.sh\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: /tmp/vagrant-shell20180925-16933-w7699k.sh\n\nAfter this code directory is empty and i need to make vagrant@homestead:~$ composer create-project --prefer-dist laravel/laravel code to get things done.\nMy setup:\nUbuntu 18.04.1\nVirtualBox 5.2.10\nMy Homestead.yaml\n---\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\n\nauthorize: ~/.ssh/id_ed25519.pub\n\nkeys:\n    - ~/.ssh/id_ed25519\n\nfolders:\n    - map: ~/code\n    to: /home/vagrant/code\n\nsites:\n    - map: homestead.test\n    to: /home/vagrant/code/public\n\ndatabases:\n    - homestead\n\nUPD: I think, this is by design, there is no provisioning for bootstrapping laravel inside VM?. ",
    "santoshachari": "@ricardoseriani It did fix it. Thank you!\nJust as note, the first time it threw this: \n==> homestead-7: There was a problem while downloading the metadata for your box\n==> homestead-7: to check for updates. This is not an error, since it is usually due\n==> homestead-7: to temporary network problems. This is just a warning. The problem\n==> homestead-7: encountered was:\n==> homestead-7: \n==> homestead-7: Illegal characters found in URL\n==> homestead-7: \n==> homestead-7: If you want to check for box updates, verify your network connection\n==> homestead-7: is valid and try again.\nI opened the file: \n\n~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/metadata_url\n\nand deleted trailing space/new line. . Hi @svpernova09, I am using laravel debug bar, which seems to be calling z-ray. Any way to keep it working on this commit: 8dc198ecb007e3515d3343997c313623eb612ae8? \n\n. ",
    "bohraji": "Thanks @ricardoseriani \nI was on MacOS and fired up vim to edit the file and ended up getting Illegal characters found in URL.\nI stumbled upon the solution given in #816 \nFinal Steps-\n- Open vim in binary mode vim -b ~/.vagrant.d/boxes/laravel-VAGRANTSLASH-homestead/metadata_url\n- Disable Vim's automatic EOL, type the Vim command :set noeol\n- Update file content to https://vagrantcloud.com/laravel/homestead\n- Write and quit, type the Vim command :wq. ",
    "kiwikefei": "thanks @bohraji \n:set noeol solve the Illegal characters found in URL issue.. ",
    "IllyaMoskvin": "Bash one-liner to fix trailing whitespace after running @ricardoseriani's sed command :\nperl -pi -e 'chomp if eof' ~/.vagrant.d/boxes/*/metadata_url\n\nShamelessly stolen from here. Check that thread for other solutions if you don't have Perl.. ",
    "dealonzo": "@ricardoseriani solution works fine for me, I'm in mac and edited the file with textEdit . @jimmymixer please see comment above. ",
    "jimmymixer": "I'm on a Macbook.  I'm having a difficult time.  I originally upgraded the ubuntu after the vagrant up (which took a while), restarted my computer and now I have the same problem.  I tried running \"sed -i -- 's/atlas.hashicorp/vagrantcloud/g' ~/.vagrant.d/boxes/*/metadata_url\"  .  I'm getting Illegal characters found in the URL.  Time out is taking 2+ minutes.  Vagrant wont run.  If anyone has any advice, it would be much appreciated.\n\n. @dealonzo how did you edit the file.  Where did you find the file to edit?. ",
    "jacovdbergh": "Would also like to know more.\nInstalled a new Homestead instance today, suddenly I have a Z-Ray bar.. Thanks for looking into it.. ",
    "belisarh": "Hmmm... on v7.1.2 we still see Z-Ray injected... Also adding those lines to after.ssh and re-provisioning does not cut it.. ",
    "chilio": "@svpernova09 on latest homestead I needed to ssh to the box to apply your workaround, cause adding to after.sh  and provisioning vm and/or reloading did't change anything.\nI would like to comment on this a little bit, because I don't see the point of forcing z-ray in homestead, especially when it creates new pretty severe issues. \nIf it is really optional and not breaking things? GREAT go ahead.\nConcluding further... homestead was meant strictly for Laravel right?\nThere is a great working package laravel-debugbar form barryvdh, which is optional and anybody can use it if they need or want to...\nSo far I have not tested z-ray, cause I have problems, getting it to work, or even getting rid of it (which this post is all about).\nFrom z-ray documentation I have not seen any breakthrough advantages of z-ray over laravel-debugbar, but probably I could be missing something here.\nAnd final thoughtful thought,  my homestead environment is slowing down with this release, which should be opposite when upgrading from php 5.6 to 7.2 for example.\nTherefore I've started to think of applying other approach for my dev environment and moving away from homestead :-(\nPlease don't get me wrong, I've used homestead for a long time and I'm still finding it really great, but when I hit 5 seconds page load time, comparing to 130 ms in production, my developing nerves are on the edge.\nWould be great, if you can explain enforcing z-ray in homestead a little bit more.... \nI believe homestead users will appreciate and benefit from that....\n. @svpernova09  in the first place thank you for your detailed answer.\nIn my case it could mean, that I'm mounting too many files/domains, although I would rather not be concerned about these limitations... \nSo at least, it will be good to have some info about that, in the docs - what limits do we have?\nMy homestead box has 2 vCPUs and 4 GB of RAM, no hidden processing, do you think it is not enough?\nThe other thing is that I'm using laravel project with a lot of composer and npm dependencies.\nFor sure this will slow things down...\nBut on the other hand, I didn't change anything in my dev setup, and load times dropped significantly when z-ray was on....\nThat's why I wanted to disable it in the first place, and that's why I found this thread....\nBut again my question is, what are advantages of z-ray over laravel-debugbar.\nIf there are any please elaborate or post links....\n. ",
    "M0ter": "Hello, i have tried recreating this issue. In my api.php file i have \nRoute::put('/test', function() {\n    return response()->json([\n        'test' => 'this works'\n    ]);\n});\nAnd on the frontend i do\naxios.put('/api/test')\n    .then(({ data }) => console.log(data));\nAnd i get this response {test: \"this works\"}\nSo it all seems to work with the latest homestead for me.\nWhat version of homestead are you running and how does you route look?. Hmm, I have tried put and patch and delete on / and it does not work. However it does work if i make a request to /index.php. Seems like requests to / is requesting a file instead of a \"route\" and nginx won't allow put, patch, delete.\n```\naxios.delete('/').then(({data}) => console.log(data))\nresult:\nDELETE http://example.com/ 405 (Not Allowed)\n(anonymous) @ VM38:1\ndispatchXhrRequest @ app.js:15943\nxhrAdapter @ app.js:15777\ndispatchRequest @ app.js:56619\nPromise.then (async)\nrequest @ app.js:56073\nAxios.(anonymous function) @ app.js:56083\nwrap @ app.js:15566\n(anonymous) @ VM1408:1\napp.js:15968 Uncaught (in promise) Error: Request failed with status code 405\n    at createError (app.js:15968)\n    at settle (app.js:56145)\n    at XMLHttpRequest.handleLoad (app.js:15842)\n\naxios.delete('/index.php').then(({data}) => console.log(data))\nresult: \n{test: \"works\"}\n```. ",
    "pablo-novoa": "Is not a problem with my code. @thecrypticace  was totally right, it is a issue of nginx config on the Homestead. The rest of you just rambled about code without looking at my issue\nThanks @thecrypticace . ",
    "marijnhurkens": "Homestead.yaml\nip: 192.168.10.10\nmemory: 8096\ncpus: 6\nprovider: virtualbox\nauthorize: C:\\Users\\username\\.ssh\\rsa.pub\nkeys:\n    - C:\\Users\\username\\.ssh\\rsa.ppk\nfolders:\n    -\n        map: 'D:\\Development\\campaign-manager'\n        to: /home/vagrant/code\nsites:\n    -\n        map: homestead.test\n        to: /home/vagrant/code/public\n        php: \"7.1\"\n        zray: 'true'\ndatabases:\n    - homestead\nname: campaign-manager\nhostname: campaign-manager\nssl: true. New config:\n```\nsites:\n    -\n        map: homestead.test\n        to: /home/vagrant/code/public\n        php: \"7.2\"\n        zray: 'true'\n````\nOutput:\n```\n    campaign-manager: ln: failed to create symbolic link '/home/vagrant/code/public/ZendServer': Protocol error\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\n````\nUsing PHP 7.2 doesn't resolve the problem\nedit:\n@svpernova09 Why close it when the issue isn't resolved?. Full output:\nhttps://gist.github.com/marijnhurkens/328005b85fb654b237943f84f5e1fc3f. Output:\nvagrant@campaign-manager:~$ sudo ln -sf /opt/zray/gui/public /home/vagrant/code/public/ZendServer\nln: failed to create symbolic link '/home/vagrant/code/public/ZendServer': Protocol error. Thanks! Windows permissions were the issue. I ran vagrant up using Powershell as an administrator and the provisioning succeeded. Z-Ray is working fine now. \nMaybe this would be something to add to the Homestead docs somewhere?. Update: I updated Vagrant to 2.0.2 and this fixed the problem. Running as administrator on Windows isn't necessary anymore.\nI think one of the following changes fixed the problem:\nproviders/virtualbox: Introduce flag for SharedFoldersEnableSymlinksCreate setting [GH-9354]\nproviders/virtualbox: Provide warning for SharedFoldersEnableSymlinksCreate setting [GH-9389]\nsynced_folders/smb: Update Windows implementation [GH-9294]. ",
    "michaelnguyen547": "vagrant destroy && vagrant up fixes the php issues. I dont know why.\nThanks for replies.. ",
    "LexBel-co": "Thank you @browner12 . ",
    "Mark90": "Thanks @browner12.\nThis is the first search result so probably more people will end up here. If you're like me and you fired up Vim to edit metadata_url (hoping to save some time) make sure you disable Vim's automatic EOL. Otherwise Vagrant is hopelessly lost on parsing the URL saying \"Illegal characters found in URL\".\nOpen Vim in binary mode, e.g. vim -b ~/.vagrant.d/boxes/debian-VAGRANTSLASH-jessie64/metadata_url, type the Vim command :set noeol, edit the URL and save the file.. ",
    "bradleyflood": "Sorry this was supposed to be private :S. ",
    "lloricode": "same as mine :|\n\n. ",
    "davidlares": "I've been looking for this fix for weeks. It should be on the Laravel official Docs. Thanks a lot.. ",
    "jilster": "I ran into the same problem, and updating vagrant to the latest version (at the moment 2.0.2) fixed it for me. See: https://www.vagrantup.com/downloads.html. ",
    "Amyavow": "I just ran into the issue now and I am so glad your solution worked for me @jericopulvera .Thanks. ",
    "midhun1993": "Hi \nI ran into the same problem on fresh install. i added an additional line on my Vagrantfile\n```\nconfig.vm.box_url = \"https://vagrantcloud.com/laravel/homestead\"\n````\nabove this \n```\nHomestead.configure(config, settings)\n````\nthis worked for me.\nThanks\n. ",
    "cap-jp": "i just ran into the issue now too.\ni really appreciate your solution !\n. ",
    "Ltmyth": "https://github.com/midhun1993\nthanks that worked for me too. ",
    "brunoAzevedo1": "Its work for me\nsudo ln -s /etc/ssl/cert.pem /opt/vagrant/embedded/cacert.pem\n. ",
    "emanmjr": "Thanks for this solution Master @jericopulvera . ",
    "angelburov": "\nI ran into the same problem, and updating vagrant to the latest version (at the moment 2.0.2) fixed it for me. See: https://www.vagrantup.com/downloads.html\n\nI wanted to confirm that this solution worked for me as well. Thank you @jilster!. ",
    "theshashiverma": "this issue can also be solved by updating vagrant to its latest version.. ",
    "tom-sinclair": "Which settings in the Homestead.yaml file install MSSQL?. Before my failed update, I had it working with MSSQL 2016, I do have a guide on installation but the links to the Microsoft repositories have been changed to 2017 which is no longer working for me, hence the attempt at copying my colleagues working setup, 2016 definitely did though, I was using an old version of Homestead however (v4.0.3 I think), I don't know if this would have any impact on any implementation of MSSQL. We switched away from the ODBC drivers to FreeTDS as we were having other issues, which worked for us.. Thanks I'll give that a go \ud83d\udc4d . Seems to be working but I'm getting an error with Authentication:\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7: Warning: Authentication failure. Retrying...\nAnd the last line keeps repeating endlessly, is there something I'm missing? Sorry I'm aware this is turning into a support ticket.\nEDIT:\nFollowing this thread I added:\nconfig.ssh.username = 'vagrant'\nconfig.ssh.password = 'vagrant'\ninto homestead.rb and it worked.. I now have a working version of MSSQL on homestead, I can post the instructions I followed if you're interested?. You can follow the installation instructions here, there is an incompatibility with openSSL I had to downgrade openSSL to get this to work, I used apititude (from this thread)\n```\n1. Install aptitute sudo apt install aptitude\n2. sudo aptitude install mssql-server\nThe following NEW packages will be installed: ... The following packages have unmet dependencies: mssql-server : Depends: openssl (<= 1.1.0) but 1.1.0f-2~ubuntu16.04.1+deb.sury.org+1 is installed. The following actions will resolve these dependencies:\nKeep the following packages at their current version:\n    1)  mssql-server [Not Installed]\n\nAccept this solution? [Y/n/q/?] n\n\ntype n and press enter\nThe following actions will resolve these dependencies:\n\nDowngrade the following packages:\n    1)  openssl [1.1.0f-2~ubuntu16.04.1+deb.sury.org+1 (now) -> 1.0.2g-1ubuntu4.6 (xenial-security)]\n\nAccept this solution? [Y/n/q/?] Y The following packages will be DOWNGRADED: openssl\n\ntype Y and press enter, and mssql-server will be installed\n```\n\nI am currently using freeTDS to connect to the database as I had problems with ODBC, so I installed the PHP sybase extension and the freedtds libraries\nsudo apt-get update\nsudo apt-get install freetds-common freetds-bin php-sybase\nThen you have to set a config for the database host you're using or you can set it globally\n``` \n/etc/freetds.conf\n[myhostname]\n    host = myhostname.com\n    port = 1433\n    tds version = 7.1\n    client charset = UTF-8\n```\nI've been using 7.1 as it been the best of all so far.\nMicrosoft also recommend installing the drivers, I did, but even without registering it inside the php.ini file my connection to mssql was working.\nOptional:\nI work with a team of SQL developers so there were a couple of things I had to do in addition to get our database working.\nChange the collation\nsudo systemctl stop mssql-server\nsudo /opt/mssql/bin/mssql-conf set-collation\nEnter Latin1_General_CI_AS when prompted, then start MSSQL again\nsudo systemctl start mssql-server\nInstall full-text search\nsudo apt-get install -y mssql-server-fts\nsudo systemctl restart mssql-server\nHope this helps.\nIt states it a few times in the links above but you need at least 3Gb of memory assigned to install mssql, I have mine currently set to 4Gb and 2cpus, I can be quite slow, and with elasticsearch running too the VM can have a tendency to fall over but's probably due to the intensive nature of everything running on a small VM.\nAlso, not sure how you feel about downgrading openSSL.\nI'm running Homestead v7.1.2 and Vagrant 2.0.3. Let me know if you need anything else.\n. Yeah Laravel 5.5 if it helps. Did you try following the steps in my comment above?. So my database config looks like this:\n'sqlsrv' => [\n            'driver'   => 'sqlsrv',\n            'host'     => env('DB_HOST'),\n            'port'     => env('DB_PORT'),\n            'database' => env('DB_DATABASE'),\n            'username' => env('DB_USERNAME'),\n            'password' => env('DB_PASSWORD'),\n            'charset'  => 'utf8',\n            'prefix'   => 'vw_',\n            'schema'   => 'cvSys',\n            'options'  => [\n                'encrypt'                                  => true,\n                'MultipleActiveResultSets'                 => '0',\n                // This setting converts unique identifiers from binary to strings\n                // Used for GUIDs\n                PDO::DBLIB_ATTR_STRINGIFY_UNIQUEIDENTIFIER => true,\n                // you might not need this, we have a long running process on one of our jobs\n                PDO::ATTR_TIMEOUT                          => 300,\n            ],\n        ],\nIn addition, our database tables live within a schema, hence the schema attribute in the config above, and I had to override one method of the grammar to account for this:\n```\n// SqlGrammar.php\n/\n     * Wrap a table in keyword identifiers.\n     \n     * @param  \\Illuminate\\Database\\Query\\Expression|string $table\n     \n     * @return string\n     */\n    public function wrapTable($table)\n    {\n        $table = $this->wrapTableValuedFunction(parent::wrapTable($table));\n    $schema = config('database.connections.sqlsrv.schema', 'dbo');\n    if (str_contains($table, 'laravel_reserved')) {\n        if (str_contains($table, 'as')) {\n            $position = strpos($table, ' as');\n\n            $originalTable = substr($table, 0, $position);\n\n            $aliasString = substr($table, $position);\n\n            return implode('.', [$schema, $originalTable]) . $aliasString;\n        }\n\n        return $table;\n    }\n\n    return implode('.', [$schema, $table]);\n}\n\nAnd then in the SqlConnection you need to use that custom grammar:\n    /\n     * Get the default query grammar instance.\n     \n     * @return \\Illuminate\\Database\\Grammar\n     /\n    protected function getDefaultQueryGrammar()\n    {\n        return $this->withTablePrefix(new SqlServerGrammar);\n    }\n```\nThen inside the register method of AppServiceProvider I added this:\nConnection::resolverFor('sqlsrv', function ($connection, $database, $prefix, $config) {\n            return new \\App\\Database\\SqlServerConnection($connection, $database, $prefix, $config);\n        });\nYou can of course create a new service provider for this to save you AppServiceProvider getting too clogged up.. If you are getting an Adaptive Server Error, it could be any one of a million reasons for failure, but in my experience it was one of three errors: 1) the permissions of the database user are not set correctly, 2) the host name in your database config doesn't match the host value in the FreeTDS config, 3) the VM or DB ran out of memory - make sure your VM has minimum memory of 4Gb, although this should have been set otherwise you wouldn't have been able to install MSSQL in the first place.. I've never had that error message. Which version of FreeTDS are you using? Try changing it around to find the one that best works for you, it might be that changing it will fix your error, I am currently using 7.1, and I think 8.0 resolves back to that version, but I would test which version works best for you, 7.1, 7.2, 7.3 or 8.0, in this blog in the comments, someone mentions switching the version to 8.0 to remove your specific error, but it is dated 2012.. ",
    "craneabove": "@tom-sinclair Hey there, were you connecting a Laravel application to MS SQL on homestead? I've been working at this for better part of 2 weeks and spinning me tires. . @tom-sinclair yeah to no avail for some reason. I'll try starting fresh again and see what happens.. @tom-sinclair  So I was successful in installing mssql-server and freetds! I also configured the database host in the freetds config file. However, my connection on the laravel end is unsuccessful. May I ask what you configured in config/database.php and .env files to enable laravel to talk to MS SQL?. @tom-sinclair Thank you so much good sir! This helped a ton! . @tom-sinclair Hi there Tom, sorry again for this, but I was wondering if you could shed any light on the following error I've been running into. I believe that my application is connecting to MS SQL Server I have hosted on AWS, but I receive this error when trying to run a query.\nSQLSTATE[HY000] unrecognized msgno  (severity 11) (SQL: select top 1 * from [schools] where [id] = 23456). @tom-sinclair Thanks, that solved it! Just a simple change to 7.2 and we're all set! \nThanks again for all your help!. ",
    "ilarioengler": "\nC:\\Users\\iengler\\Homestead (HEAD detached at f42e0d4 -> origin)\n\u03bb vagrant destroy && vagrant up\n==> homestead-7: VM not created. Moving on...\nBringing machine 'homestead-7' up with 'hyperv' provider...\n==> homestead-7: Verifying Hyper-V is enabled...\n==> homestead-7: Importing a Hyper-V instance\n    homestead-7: Cloning virtual hard drive...\n    homestead-7: Creating and registering the VM...\n    homestead-7: Setting VM Integration Services\n    homestead-7: Successfully imported a VM with name: ubuntu-16.04-amd64\n==> homestead-7: Starting the machine...\n==> homestead-7: Waiting for the machine to report its IP address...\n    homestead-7: Timeout: 120 seconds\n    homestead-7: IP: 172.19.167.156\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 172.19.167.156:22\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Preparing SMB shared folders...\n    homestead-7: You will be asked for the username and password to use for the SMB\n    homestead-7: folders shortly. Please use the proper username/password of your\n    homestead-7: account.\n    homestead-7:\n    homestead-7: Username: iengler\n    homestead-7: Password (will be hidden):\nVagrant requires administator access to create SMB shares and\nmay request access to complete setup of configured shares.\n==> homestead-7: Setting hostname...\n==> homestead-7: Mounting SMB shared folders...\n    homestead-7: C:/Users/iengler/Projects/filecloud => /home/vagrant/code/filecloud\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\nmount -t cifs -o sec=ntlmssp,credentials=/etc/smb_creds_vgt-50afedca901d3799e8ef23913e1eda0b-0b6bccc471df9bbb04fe66355c376193,uid=1000,gid=1000,actimeo=1,nolock //172.19.167.145/vgt-50afedca901d3799e8ef23913e1eda0b-0b6bccc471df9bbb04fe66355c376193 /home/vagrant/code/filecloud\nThe error output from the last command was:\nmount error(112): Host is down\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs). @svpernova09 yep same for me, I also tried without using type: nfs.. awesome,  this works! thank you very much :). \n",
    "sustained": "Fixed the typo in the Homestead.yaml. It's because I've been trying multiple things, commenting others out etc.. Ahhhh. There was something about insecure keys and such actually but I removed that by accident. You know those errors (Warning: Connection Reset)? Sometimes I get tons of them and sometimes I don't get any. I removed a bunch of them to make the log be shorter and may have accidentally removed the part about insecure keys. That's all - everything else is there. :thinking: . Hi there, I was forced to reinstall my OS due to the installation of VirtualBox/Vagrant/Homestead rendering it entirely unbootable. Maybe I'll give it another shot but I'm dubious for obvious reasons.\nIf I give it another shot, I'll report back. @svpernova09. ",
    "Direclaw": "I tried that before and the result is the same. I'm a few days struggling with this.. Tried again using this homestead.yaml\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: C:\\Users\\Gabriel\\code\n      to: /home/vagrant/code\nsites:\n    - map: homestead.test\n      to: /home/vagrant/code/public\ndatabases:\n    - homestead\nhere is the result\nhttps://gist.github.com/Direclaw/b1978d487e30232c4b346296f6530325\n. Ok, I think I got it:\nThe folder you are trying to link needs to exist in advance otherwise that message appears. I'm not sure if this is a new thing because I don't remember it but I could have forgotten it.\nI created the folder, destroyed, upped and it is working.\nIs this normal behavior? I didn't found anything about this anywhere. well, anyway, it is working now.\nI really appreciated the help.. ",
    "zbexworld": "im facing the same issue , i dont know the command to mount the folder to my host machine.\ni tried vagrant reload --provision but it doesnt mount it\nfolders:\n    - map: C:/vagrant/Homestead/learn/symfony-01\n      to: /home/vagrant/symfony-01\n      type: \"nfs\"\nif someone encounter the same problem : \nfirst destroy the box by running  vagrant destroy , then run vagrant box add laravel/homestead. ",
    "lybc": "No, I mean I can't access other ftp services in homestead. My PHP website needs to get files via FTP. @svpernova09 . @svpernova09 No, With this configuration I can access the target server on the host, but not on the homestead box\nphp\n'smil_ftp' => [\n    'driver'   => 'ftp',\n    'host'     => 'test.gds.smil.com',\n    'username' => 'ftpmaitrox',\n    'password' => '********',\n    'passive' => false,\n    'timeout' => 30,\n]\nhomesteaed box result: \n\ntest server result:\n\nThe weird thing is I can connect to the target FTP server in my homestead box and I can create folders in FTP, but I can't change directory and add files.\nalways get a warning\n\n. @svpernova09 please help...   thank you.... @svpernova09  Thanks for your help\uff0cI may know the cause of this problem\nBecause the vagrant default NAT network cannot access external FTP services\nI created a new virtual machine\uff0cin the NAT network mode, using the default ftp command still can not connect, but can be connected normally when replaced with bridge network.\nNAT network mode:\n\nbridge network mode:\n\nYou can use any FTP server to reproduce the scenario I have described. I believe this problem still exists.\nbut i don't know how to change the default network mode as bridge, I tried to modify vagrant file and homestead.rb script, but they have no effect.\nSo I can't confirm whether this is a homestead issue or a vagrant issue or a virtual box issue.. ",
    "lidoma": "I fix the missing certificate issue by importing the Homestead Root CA to the Trusted Root Certification Authorities list by followed steps:\n- SSH into the Homestead machine and extract a copy of /etc/nginx/ssl/ca.homestead.homestead.crt to the local machine\n- Import the ca.homestead.homestead.crt to the browser.\nIn Chrome follow: Setting -> (Advanced) Manage Certificates -> Trusted Root Certification Authorities -> Import\n- Restart the Chrome\n. Yes, I have a green https:. After I import the certificate file, I expected to have a green lock icon at the next refresh. But have not. The lock icon gets green as the Chrome was restarted. Beware of the browser and DNS cache.. @Kerrialn Can you test your way if we create a brand new site by Homestead? Have we a Green https on a new domain yet?\nPersonally, I tried this path on Windows machine but it's not worked.. ",
    "Kerrialn": "So as it turns out Homestead is prepared for this, by default they enable port 44300 for https requests. So here is how to fix the problem on a mac and chrome as your browser.\n\n\nOpen your site on your browser, but instead of using :8000 use :44300 (you'll probably get ERR_SSL_PROTOCOL_ERROR and/or the https will be crossed out and red) but continue to site.\n\n\nGo to the Dev panel -> security. You'll probably see: Certificate  - missing. \n\n\nClick on View Certificate (if this isn't there then you need to create a certificate.) then drag and drop the little picture of the certificate into your downloads. \n\n\nin Chrome: Go to settings -> Advanced -> Privacy and security: Manage certificates - this will open Keychain Access\n\n\ngo to your downloads and drag and drop the certificate you just downloaded in Keychain Access. (don't import, drag and drop)\n\n\nDouble click on the certificate -> Go to the Trust dropdown and select Always Trust. \n\n\nVagrant reload in your homestead directory and refresh your site in the browser and you should have a Green Secure tag and https://\n\n\nHope this helps someone. . as long as your hosts file is correctly configured and you're ssl cert is self-signed then yes it should have the https if you go to https://youresite:44300 (replace yoursite with your site domain that is defined in your host file)\nif it's still not working then the chances are you're browser is blocking it for security. \nif you're using chrome, maybe if you go to chrome://flags/#allow-insecure-localhost and enable \"Allow invalid certificates for resources loaded from localhost\"  restart the browser and go to you localhost. \nThe steps above won't work for a windows machine. I'm unfamiliar with windows configuration. \nhope this helps. ",
    "ebonit": "the above solution worked for me in Chrome (macos). However, in Firefox I still got the message SEC_ERROR_UNKNOWN_ISSUER. then I had another look in the /etc/nginx/ssl directory and see that besides my mysite.dev.crt there is also a 'ca.homestead.homestead.crt' file. I copied that and then in firefox I went to settings->privacy&security->view certificates. In that window under the Authorities tab I imported that certificate and Yippee, it works. My website certificate is now recognised as valid. I even have a green lock! and when I add a new site to my Homestead.yaml, also that one has a valid certificate. \nFor Chome I still need to add the newwebsite.crt to my keychain and trust it.\nby the way, port 44300 doesn't seem to work in my setup. I just can browse to https://mysite.dev. actually, I did not do anything special. I have set up my Homestead.yaml as in the laravel documentation and my vagrant file according to the vagrant docs. I have not set a port in my setup. it even does not work when I use port 44300 so it is using port 443 by default.\nThe only difference is that I use vmware fusion instead of virtualbox and I use macosx instead of windows10\nwhat you could do maybe: forward 443 to 44300 in your vagrant file: https://www.vagrantup.com/docs/networking/forwarded_ports.html\n. ",
    "jrhenderson1988": "No problem :). ",
    "engharb": "I have opened a ticket having such problem.. @svpernova09 \nvagrant-up\ngeheimnesswebsite: Reading package lists...\n    geheimnesswebsite: Building dependency tree...\n    geheimnesswebsite: Reading state information...\n    geheimnesswebsite: The following additional packages will be installed:\n    geheimnesswebsite:   imagemagick-6.q16\n    geheimnesswebsite: Suggested packages:\n    geheimnesswebsite:   imagemagick-doc autotrace cups-bsd | lpr | lprng enscript ffmpeg gimp\n    geheimnesswebsite:   gnuplot grads graphviz hp2xx html2ps libwmf-bin mplayer povray radiance\n    geheimnesswebsite:   sane-utils texlive-base-bin transfig ufraw-batch\n    geheimnesswebsite: The following packages will be upgraded:\n    geheimnesswebsite:   imagemagick imagemagick-6.q16\n    geheimnesswebsite: 2 upgraded, 0 newly installed, 0 to remove and 360 not upgraded.\n    geheimnesswebsite: Need to get 432 kB of archives.\n    geheimnesswebsite: After this operation, 2,048 B of additional disk space will be used.\n    geheimnesswebsite: Get:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 imagemagick amd64 8:6.8.9.9-7ubuntu5.12 [44.8 kB]\n    geheimnesswebsite: Get:2 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 imagemagick-6.q16 amd64 8:6.8.9.9-7ubuntu5.12 [387 kB]\n    geheimnesswebsite: Fetched 432 kB in 0s (1,692 kB/s)\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: (Reading database ... 5%\n    geheimnesswebsite: (Reading database ... 10%\n    geheimnesswebsite: (Reading database ... 15%\n    geheimnesswebsite: (Reading database ... 20%\n    geheimnesswebsite: (Reading database ... 25%\n    geheimnesswebsite: (Reading database ... 30%\n    geheimnesswebsite: (Reading database ... 35%\n    geheimnesswebsite: (Reading database ... 40%\n    geheimnesswebsite: (Reading database ... 45%\n    geheimnesswebsite: (Reading database ... 50%\n    geheimnesswebsite: (Reading database ... 55%\n    geheimnesswebsite: (Reading database ... 60%\n    geheimnesswebsite: (Reading database ... 65%\n    geheimnesswebsite: (Reading database ... 70%\n    geheimnesswebsite: (Reading database ... 75%\n    geheimnesswebsite: (Reading database ... 80%\n    geheimnesswebsite: (Reading database ... 85%\n    geheimnesswebsite: (Reading database ... 90%\n    geheimnesswebsite: (Reading database ... 95%\n    geheimnesswebsite: (Reading database ... 100%\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: 141132 files and directories currently installed.)\n    geheimnesswebsite: Preparing to unpack .../imagemagick_8%3a6.8.9.9-7ubuntu5.12_amd64.deb ...\n    geheimnesswebsite: Unpacking imagemagick (8:6.8.9.9-7ubuntu5.12) over (8:6.8.9.9-7ubuntu5.9) ...\n    geheimnesswebsite: Preparing to unpack .../imagemagick-6.q16_8%3a6.8.9.9-7ubuntu5.12_amd64.deb ...\n    geheimnesswebsite: Unpacking imagemagick-6.q16 (8:6.8.9.9-7ubuntu5.12) over (8:6.8.9.9-7ubuntu5.9) ...\n    geheimnesswebsite: Processing triggers for mime-support (3.59ubuntu1) ...\n    geheimnesswebsite: Processing triggers for man-db (2.7.5-1) ...\n    geheimnesswebsite: Processing triggers for hicolor-icon-theme (0.15-0ubuntu1) ...\n    geheimnesswebsite: Setting up imagemagick-6.q16 (8:6.8.9.9-7ubuntu5.12) ...\n    geheimnesswebsite: Setting up imagemagick (8:6.8.9.9-7ubuntu5.12) ...\n    geheimnesswebsite: Reading package lists...\n    geheimnesswebsite: Building dependency tree...\n    geheimnesswebsite: Reading state information...\n    geheimnesswebsite: The following NEW packages will be installed:\n    geheimnesswebsite:   php-dev\n    geheimnesswebsite: 0 upgraded, 1 newly installed, 0 to remove and 360 not upgraded.\n    geheimnesswebsite: Need to get 5,760 B of archives.\n    geheimnesswebsite: After this operation, 12.3 kB of additional disk space will be used.\n    geheimnesswebsite: Get:1 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php-dev all 1:7.2+62+ubuntu16.04.1+deb.sury.org+3 [5,760 B]\n    geheimnesswebsite: Fetched 5,760 B in 0s (77.5 kB/s)\n    geheimnesswebsite: Selecting previously unselected package php-dev.\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: (Reading database ... 5%\n    geheimnesswebsite: (Reading database ... 10%\n    geheimnesswebsite: (Reading database ... 15%\n    geheimnesswebsite: (Reading database ... 20%\n    geheimnesswebsite: (Reading database ... 25%\n    geheimnesswebsite: (Reading database ... 30%\n    geheimnesswebsite: (Reading database ... 35%\n    geheimnesswebsite: (Reading database ... 40%\n    geheimnesswebsite: (Reading database ... 45%\n    geheimnesswebsite: (Reading database ... 50%\n    geheimnesswebsite: (Reading database ... 55%\n    geheimnesswebsite: (Reading database ... 60%\n    geheimnesswebsite: (Reading database ... 65%\n    geheimnesswebsite: (Reading database ... 70%\n    geheimnesswebsite: (Reading database ... 75%\n    geheimnesswebsite: (Reading database ... 80%\n    geheimnesswebsite: (Reading database ... 85%\n    geheimnesswebsite: (Reading database ... 90%\n    geheimnesswebsite: (Reading database ... 95%\n    geheimnesswebsite: (Reading database ... 100%\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: 141132 files and directories currently installed.)\n    geheimnesswebsite: Preparing to unpack .../php-dev_1%3a7.2+62+ubuntu16.04.1+deb.sury.org+3_all.deb ...\n    geheimnesswebsite: Unpacking php-dev (1:7.2+62+ubuntu16.04.1+deb.sury.org+3) ...\n    geheimnesswebsite: Setting up php-dev (1:7.2+62+ubuntu16.04.1+deb.sury.org+3) ...\n    geheimnesswebsite: Reading package lists...\n    geheimnesswebsite: Building dependency tree...\n    geheimnesswebsite: Reading state information...\n    geheimnesswebsite: The following additional packages will be installed:\n    geheimnesswebsite:   ttf-dejavu-core\n    geheimnesswebsite: The following NEW packages will be installed:\n    geheimnesswebsite:   php-imagick ttf-dejavu-core\n    geheimnesswebsite: 0 upgraded, 2 newly installed, 0 to remove and 360 not upgraded.\n    geheimnesswebsite: Need to get 195 kB of archives.\n    geheimnesswebsite: After this operation, 1,824 kB of additional disk space will be used.\n    geheimnesswebsite: Get:1 http://archive.ubuntu.com/ubuntu xenial/universe amd64 ttf-dejavu-core all 2.35-1 [3,038 B]\n    geheimnesswebsite: Get:2 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php-imagick amd64 3.4.3-3+ubuntu16.04.1+deb.sury.org+1 [192 kB]\n    geheimnesswebsite: Fetched 195 kB in 0s (721 kB/s)\n    geheimnesswebsite: Selecting previously unselected package php-imagick.\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: (Reading database ... 5%\n    geheimnesswebsite: (Reading database ... 10%\n    geheimnesswebsite: (Reading database ... 15%\n    geheimnesswebsite: (Reading database ... 20%\n    geheimnesswebsite: (Reading database ... 25%\n    geheimnesswebsite: (Reading database ... 30%\n    geheimnesswebsite: (Reading database ... 35%\n    geheimnesswebsite: (Reading database ... 40%\n    geheimnesswebsite: (Reading database ... 45%\n    geheimnesswebsite: (Reading database ... 50%\n    geheimnesswebsite: (Reading database ... 55%\n    geheimnesswebsite: (Reading database ... 60%\n    geheimnesswebsite: (Reading database ... 65%\n    geheimnesswebsite: (Reading database ... 70%\n    geheimnesswebsite: (Reading database ... 75%\n    geheimnesswebsite: (Reading database ... 80%\n    geheimnesswebsite: (Reading database ... 85%\n    geheimnesswebsite: (Reading database ... 90%\n    geheimnesswebsite: (Reading database ... 95%\n    geheimnesswebsite: (Reading database ... 100%\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: 141135 files and directories currently installed.)\n    geheimnesswebsite: Preparing to unpack .../php-imagick_3.4.3-3+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php-imagick (3.4.3-3+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Selecting previously unselected package ttf-dejavu-core.\n    geheimnesswebsite: Preparing to unpack .../ttf-dejavu-core_2.35-1_all.deb ...\n    geheimnesswebsite: Unpacking ttf-dejavu-core (2.35-1) ...\n    geheimnesswebsite: Processing triggers for fontconfig (2.11.94-0ubuntu1.1) ...\n    geheimnesswebsite: Setting up php-imagick (3.4.3-3+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up ttf-dejavu-core (2.35-1) ...\n    geheimnesswebsite: Reading package lists...\n    geheimnesswebsite: Building dependency tree...\n    geheimnesswebsite: Reading state information...\n    geheimnesswebsite: The following package was automatically installed and is no longer required:\n    geheimnesswebsite:   libsodium18\n    geheimnesswebsite: Use 'sudo apt autoremove' to remove it.\n    geheimnesswebsite: The following additional packages will be installed:\n    geheimnesswebsite:   libsodium23 libzip5 php7.2-bcmath php7.2-cli php7.2-common php7.2-curl\n    geheimnesswebsite:   php7.2-dev php7.2-fpm php7.2-gd php7.2-imap php7.2-intl php7.2-json\n    geheimnesswebsite:   php7.2-mbstring php7.2-mysql php7.2-opcache php7.2-pgsql php7.2-readline\n    geheimnesswebsite:   php7.2-soap php7.2-sqlite3 php7.2-xml php7.2-zip\n    geheimnesswebsite: The following NEW packages will be installed:\n    geheimnesswebsite:   libsodium23 libzip5 php7.2-gmp\n    geheimnesswebsite: The following packages will be upgraded:\n    geheimnesswebsite:   php7.2-bcmath php7.2-cli php7.2-common php7.2-curl php7.2-dev php7.2-fpm\n    geheimnesswebsite:   php7.2-gd php7.2-imap php7.2-intl php7.2-json php7.2-mbstring php7.2-mysql\n    geheimnesswebsite:   php7.2-opcache php7.2-pgsql php7.2-readline php7.2-soap php7.2-sqlite3\n    geheimnesswebsite:   php7.2-xml php7.2-zip\n    geheimnesswebsite: 19 upgraded, 3 newly installed, 0 to remove and 341 not upgraded.\n    geheimnesswebsite: Need to get 5,780 kB of archives.\n    geheimnesswebsite: After this operation, 1,200 kB disk space will be freed.\n    geheimnesswebsite: Get:1 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 libsodium23 amd64 1.0.16-2+ubuntu16.04.1+deb.sury.org+3 [143 kB]\n    geheimnesswebsite: Get:2 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 libzip5 amd64 1.3.2-1+ubuntu16.04.1+deb.sury.org+1 [53.1 kB]\n    geheimnesswebsite: Get:3 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-mysql amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [118 kB]\n    geheimnesswebsite: Get:4 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-opcache amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [161 kB]\n    geheimnesswebsite: Get:5 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-intl amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [121 kB]\n    geheimnesswebsite: Get:6 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-json amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [18.4 kB]\n    geheimnesswebsite: Get:7 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-readline amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [12.6 kB]\n    geheimnesswebsite: Get:8 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-cli amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [1,385 kB]\n    geheimnesswebsite: Get:9 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-soap amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [111 kB]\n    geheimnesswebsite: Get:10 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-mbstring amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [479 kB]\n    geheimnesswebsite: Get:11 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-curl amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [28.3 kB]\n    geheimnesswebsite: Get:12 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-imap amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [28.1 kB]\n    geheimnesswebsite: Get:13 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-sqlite3 amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [24.3 kB]\n    geheimnesswebsite: Get:14 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-zip amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [20.3 kB]\n    geheimnesswebsite: Get:15 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-pgsql amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [54.7 kB]\n    geheimnesswebsite: Get:16 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-fpm amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [1,391 kB]\n    geheimnesswebsite: Get:17 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-xml amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [105 kB]\n    geheimnesswebsite: Get:18 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-dev amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [557 kB]\n    geheimnesswebsite: Get:19 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-gd amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [26.6 kB]\n    geheimnesswebsite: Get:20 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-bcmath amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [15.1 kB]\n    geheimnesswebsite: Get:21 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-common amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [907 kB]\n    geheimnesswebsite: Get:22 http://ppa.launchpad.net/ondrej/php/ubuntu xenial/main amd64 php7.2-gmp amd64 7.2.9-1+ubuntu16.04.1+deb.sury.org+1 [19.6 kB]\n    geheimnesswebsite: Fetched 5,780 kB in 5s (1,137 kB/s)\n    geheimnesswebsite: Selecting previously unselected package libsodium23:amd64.\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: (Reading database ... 5%\n    geheimnesswebsite: (Reading database ... 10%\n    geheimnesswebsite: (Reading database ... 15%\n    geheimnesswebsite: (Reading database ... 20%\n    geheimnesswebsite: (Reading database ... 25%\n    geheimnesswebsite: (Reading database ... 30%\n    geheimnesswebsite: (Reading database ... 35%\n    geheimnesswebsite: (Reading database ... 40%\n    geheimnesswebsite: (Reading database ... 45%\n    geheimnesswebsite: (Reading database ... 50%\n    geheimnesswebsite: (Reading database ... 55%\n    geheimnesswebsite: (Reading database ... 60%\n    geheimnesswebsite: (Reading database ... 65%\n    geheimnesswebsite: (Reading database ... 70%\n    geheimnesswebsite: (Reading database ... 75%\n    geheimnesswebsite: (Reading database ... 80%\n    geheimnesswebsite: (Reading database ... 85%\n    geheimnesswebsite: (Reading database ... 90%\n    geheimnesswebsite: (Reading database ... 95%\n    geheimnesswebsite: (Reading database ... 100%\n    geheimnesswebsite: (Reading database ... \n    geheimnesswebsite: 141164 files and directories currently installed.)\n    geheimnesswebsite: Preparing to unpack .../libsodium23_1.0.16-2+ubuntu16.04.1+deb.sury.org+3_amd64.deb ...\n    geheimnesswebsite: Unpacking libsodium23:amd64 (1.0.16-2+ubuntu16.04.1+deb.sury.org+3) ...\n    geheimnesswebsite: Selecting previously unselected package libzip5:amd64.\n    geheimnesswebsite: Preparing to unpack .../libzip5_1.3.2-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking libzip5:amd64 (1.3.2-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-mysql_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-mysql (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-opcache_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-opcache (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-intl_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-intl (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-json_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-json (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-readline_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-readline (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-cli_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-cli (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-soap_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-soap (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-mbstring_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-mbstring (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-curl_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-curl (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-imap_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-imap (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-sqlite3_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-sqlite3 (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-zip_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-zip (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-pgsql_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-pgsql (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-fpm_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-fpm (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-xml_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-xml (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-dev_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-dev (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-gd_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-gd (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-bcmath_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-bcmath (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Preparing to unpack .../php7.2-common_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-common (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) over (7.2.0-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Selecting previously unselected package php7.2-gmp.\n    geheimnesswebsite: Preparing to unpack .../php7.2-gmp_7.2.9-1+ubuntu16.04.1+deb.sury.org+1_amd64.deb ...\n    geheimnesswebsite: Unpacking php7.2-gmp (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Processing triggers for libc-bin (2.23-0ubuntu9) ...\n    geheimnesswebsite: Processing triggers for man-db (2.7.5-1) ...\n    geheimnesswebsite: Processing triggers for ureadahead (0.100.0-19) ...\n    geheimnesswebsite: Processing triggers for systemd (229-4ubuntu21) ...\n    geheimnesswebsite: Setting up libsodium23:amd64 (1.0.16-2+ubuntu16.04.1+deb.sury.org+3) ...\n    geheimnesswebsite: Setting up libzip5:amd64 (1.3.2-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-common (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-mysql (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-opcache (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-intl (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-json (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-readline (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-cli (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-soap (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-mbstring (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-curl (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-imap (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-sqlite3 (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-zip (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-pgsql (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-fpm (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Configuration file '/etc/php/7.2/fpm/pool.d/www.conf'\n    geheimnesswebsite:  ==> Modified (by you or by a script) since installation.\n    geheimnesswebsite:  ==> Package distributor has shipped an updated version.\n    geheimnesswebsite:    What would you like to do about it ?  Your options are:\n    geheimnesswebsite:     Y or I  : install the package maintainer's version\n    geheimnesswebsite:     N or O  : keep your currently-installed version\n    geheimnesswebsite:       D     : show the differences between the versions\n    geheimnesswebsite:       Z     : start a shell to examine the situation\n    geheimnesswebsite: \n    geheimnesswebsite:  The default action is to keep your current version.\n    geheimnesswebsite: *** www.conf (Y/I/N/O/D/Z) [default=N] ? \n    geheimnesswebsite: Configuration file '/etc/php/7.2/fpm/pool.d/www.conf'\n    geheimnesswebsite:  ==> Modified (by you or by a script) since installation.\n    geheimnesswebsite:  ==> Package distributor has shipped an updated version.\n    geheimnesswebsite:    What would you like to do about it ?  Your options are:\n    geheimnesswebsite:     Y or I  : install the package maintainer's version\n    geheimnesswebsite:     N or O  : keep your currently-installed version\n    geheimnesswebsite:       D     : show the differences between the versions\n    geheimnesswebsite:       Z     : start a shell to examine the situation\n    geheimnesswebsite:  The default action is to keep your current version.\n    geheimnesswebsite: *** www.conf (Y/I/N/O/D/Z) [default=N] ? dpkg: error processing package php7.2-fpm (--configure):\n    geheimnesswebsite:  end of file on stdin at conffile prompt\n    geheimnesswebsite: Setting up php7.2-xml (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-dev (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-gd (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-bcmath (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Setting up php7.2-gmp (7.2.9-1+ubuntu16.04.1+deb.sury.org+1) ...\n    geheimnesswebsite: Creating config file /etc/php/7.2/mods-available/gmp.ini with new version\n    geheimnesswebsite: Processing triggers for libc-bin (2.23-0ubuntu9) ...\n    geheimnesswebsite: Errors were encountered while processing:\n    geheimnesswebsite: \n    geheimnesswebsite:  php7.2-fpm\n    geheimnesswebsite: E\n    geheimnesswebsite: : \n    geheimnesswebsite: Sub-process /usr/bin/dpkg returned an error code (1)\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nvagrant destroy\ngeheimnesswebsite: Are you sure you want to destroy the 'geheimnesswebsite' VM? [y/N] y\n==> geheimnesswebsite: Forcing shutdown of VM...\n==> geheimnesswebsite: Destroying VM and associated drives...\n==> geheimnesswebsite: Pruning invalid NFS exports. Administrator privileges will be required...:\n==> geheimnesswebsite: [vagrant-hostsupdater] Removing hosts\nAnd when I start the VM and install php-fpm I got another problem from symfony  : \n/var/log/dev.log\" could not be opened: failed to open stream: Permission denied\none thing more the www.conf contains the www-data user where is not like that in nginx.conf ??. Just incompatibility with macOS version. I just upgraded OS.. ",
    "stephendee": "\nthis issue with v7.8.0, try upgrading to v7.9.0 \"\n\nWould it be acceptable for me to ask: V7.9.0 of what?. ",
    "mikeaag": "MongoDB is already included\nSimply add mongodb: true to your homestead.yaml file then provision again and it will install and setup mongodb for you.. Yeah, at the top of the file (though i'd guess it could probably go anywhere in the file).\nDatabases are defined in the same way under the databases: section. ",
    "stojankukrika": "Tnx. Sepcify like mariadb in fop of file? I didn't find it in manual. Can I specify how to naming databases,like mariadb?. What to do if I need mongodb and mariadb? For example, I need some of the databases to be mongodb and some mariadb. How to define them which type will be?. TNX a loot @svpernova09 for info and avatar :). ",
    "MNSolderstar": "I updated to 1.4.3, basic read write seems to be fine so far.. ",
    "kylehyperlink": "I am getting that error on a totally fresh install when I first try to run homestead init in terminal (from this Laravel's installation page).\nWhat solved the issue was doing this (from Laravel #19088):\nIn a text editor, open the file /Users/user/.composer/vendor/laravel/homestead/src/MakeCommand.php\nFind and replace \u201cdefault\u201d with nothing (changing all of the \u201cdefaultName\u201ds to \u201cName\u201d throughout the file). \nOnce I did that, homestead init ran successfully.. ",
    "Roron0a": "same here\nwhat's wrong with this command ?. ",
    "Att4ck3rS3cur1ty": "Hi! I'm facing this problem again, but I'm not sure if it's that same problem or the conflict problem from 3.4.x-dev version, presented at #682, which would be very strange. When I run \"homestead\" line, I face the following error: \nPHP Fatal error:  Cannot redeclare static Symfony\\Component\\Console\\Command\\Command::$defaultName as non static Laravel\\Homestead\\MakeCommand::$defaultName in /home/att4ck3rs3cur1ty/.config/composer/vendor/laravel/homestead/src/MakeCommand.php on line 155\nthe command 'composer show symfony/console | grep version' shows that its version is v4.2.3\nPHP version: 7.1.17\n. ",
    "flycast": "I was not. I just tried running as admin. IT did not resolve the issue.. Editing homestead.rb I commented out the lines:\n        # Default Port Forwarding\ndefault_ports = {\n            #80 => 8000,\n            #443 => 44300,\n            #3306 => 33060,\n            #4040 => 4040,\n            #5432 => 54320,\n            #8025 => 8025,\n            27017 => 27017\n        }\nThe machine comes up now when I run vagrant up. I am still getting the port warnings:\n\n$ vagrant up\nBringing machine 'homestead-7' up with 'virtualbox' provider...\n==> homestead-7: Checking if box 'laravel/homestead' is up to date...\n==> homestead-7: Fixed port collision for 27017 => 27017. Now on port 2250.\n==> homestead-7: Clearing any previously set network interfaces...\n==> homestead-7: Preparing network interfaces based on configuration...\n    homestead-7: Adapter 1: nat\n    homestead-7: Adapter 2: hostonly\n==> homestead-7: Forwarding ports...\n    homestead-7: 27017 (guest) => 2250 (host) (adapter 1)\n    homestead-7: 22 (guest) => 2222 (host) (adapter 1)\n==> homestead-7: Running 'pre-boot' VM customizations...\n==> homestead-7: Booting VM...\n==> homestead-7: Waiting for machine to boot. This may take a few minutes...\n    homestead-7: SSH address: 127.0.0.1:2222\n[Removed]\n==> homestead-7: Machine booted and ready!\n==> homestead-7: Checking for guest additions in VM...\n    homestead-7: The guest additions on this VM do not match the installed version of\n    homestead-7: VirtualBox! In most cases this is fine, but in rare cases it can\n    homestead-7: prevent things such as shared folders from working properly. If you see\n    homestead-7: shared folder errors, please make sure the guest additions within the\n    homestead-7: virtual machine match the version of VirtualBox you have installed on\n    homestead-7: your host and reload your VM.\n    homestead-7:\n    homestead-7: Guest Additions Version: 5.0.18_Ubuntu r106667\n    homestead-7: VirtualBox Version: 5.2\n==> homestead-7: Setting hostname...\n==> homestead-7: Configuring and enabling network interfaces...\n==> homestead-7: Mounting shared folders...\n    homestead-7: /vagrant => C:/homestead\n    homestead-7: /home/vagrant/code => C:/homestead/code\n==> homestead-7: Running provisioner: file...\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n==> homestead-7: Running provisioner: shell...\n    homestead-7: Running: inline script\n[Removed]\n\nI can now connect using vagrant ssh. I also created an index.html file in my public folder and the homestead box is serving the file correctly.. How would I know? I just installed the latest version of virtualbox with the standard options. Should I have certain extensions installed for vagrant/homestead to work?. That seems to have resolved the issue. Thanks.. Sorry, I was wrong. Still have the issue.. IN order to get homestead to come up on my Windows 10 machine I had to change the following lines in the Homestead.rb file:\n```\n    # Default Port Forwarding\n    default_ports = {\n        #80 => 8000,\n        #443 => 44300,\n        #3306 => 33060,\n        #4040 => 4040,\n        #5432 => 54320,\n        #8025 => 8025,\n        #27017 => 27017\n    }\n\n```\nNot saying this is a good fix though. I can get scotchbox running.. ",
    "yupthatguy": "Admittedly, I am a newbie, but I like your software. It will make Drupal development much easier.  In any case I finally got everything to work (minus email).\nthis is my final folder structure\n\nmap: ~/VBShared/public_html/site1\n      to: /home/user/VBShared/public_html/site1\n\nJust looking for confirmation that the above is correct.   \nI am setting up a 2nd development environment as a backup that will share the same public_html folder.  At the end of every session I dump the db into the root directory of whatever drupal site.  Will all of the changes made be written back to the host immediately or would I have to run a \"vagrant reload --provision\" in order to rsync changes with my host before I can switch to a backup dev environment?\nFYI, I just reinstalled virtualbox to get it to match the Homestead requested version and all is well on that front. \nthanks\n  . ",
    "fppz": "I've updated the port to be 9600. @svpernova09 Could we do a minor release with this? v7.4.1?\nI'll submit a pr to the docs shortly after: https://github.com/fppz/docs/commit/4f00babfc5f4a902050e209aae4c19ddd9dcb537. To install mongodb, add the following to your homestead.yaml\nmongodb:true\n\nI've opened up a PR to add this info to the homestead docs here. I was able to reproduce the issue and saw that this issue had been opened for a little bit without a pr. I've opened up a pull request with your fix.. ",
    "AlgirdasM": "Taken from https://www.vagrantup.com/docs/vmware/installation.html\nInstallation of the Vagrant VMware provider requires two steps. First the Vagrant VMware Utility must be installed. This can be done by downloading and installing the correct system package from the Vagrant VMware Utility downloads page.\nNext, install the Vagrant VMware provider plugin using the standard plugin installation procedure:\n$ vagrant plugin install vagrant-vmware-desktop. I have found temporary solution here.\nAdd to vagrantfile:\nVagrant.configure(2) do |config|\n  config.vm.provider :vmware_fusion do |vmware|\n    vmware.enable_vmrun_ip_lookup = false\n  end\nend\nthen vagrant ssh-config\nnotice HostName ip address and use it in /etc/hosts. ",
    "lperry65": "I'm using 2.1.1 and getting this error:\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n/sbin/ip -o -0 addr | grep -v LOOPBACK | awk '{print $2}' | sed 's/://'\nStdout from the command:\nStderr from the command:\nBut vagrant ssh does work\n. Fixed it by destroying the instance and provisioning a new vm.\nthanks,\nLee.. ",
    "lxcodes": "Is 6.0.0-alpha1 ready to go then? It installs by default on any new homestead install we do. Tried setting box_version but it gets overridden by something else.  Currently setting box_version above Homestead.configure(config, settings) in the Vagrantfile.. ",
    "almod90": "Wiped out the keys to blank files and\nchanged yaml file to this:\n```\n\nip: \"192.168.10.10\"\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: \"c:\\Users\\AlMod\\.ssh\\id_rsa.pub\"\nkeys:\n    - \"c:\\Users\\AlMod\\.ssh\\id_rsa\"\nfolders:\n    - map: \"d:\\Dev\\Vagrant\\code\\larafolio\"\n      to: /home/vagrant/code\nsites:\n    - map: homestead.test\n      to: /home/vagrant/code/public\ndatabases:\n    - homestead\nblackfire:\n- id: foo\ntoken: bar\nclient-id: foo\nclient-token: bar\nports:\n- send: 50000\nto: 5000\n- send: 7777\nto: 777\nprotocol: udp\n```\nStill 5 min boot time. vagrant up was unable to run with single \\ and throw a ruby errors, so I changed it with \\\\\nI really don't know what happened over night, since yesterday it worked like a charm.\nMy VM's drive is in SSD, and my host OS loading within 15 seconds\nblame reported this services\n3min 4.037s postgresql@10-main.service\n    2min 59.886s vboxadd.service\n    2min 51.577s phpsessionclean.service\n    2min 50.669s mysql.service\n    2min 49.080s blackfire-agent.service\n    1min 57.625s lxd-containers.service\n    1min 56.190s apport.service\n    1min 56.100s systemd-user-sessions.service\n    1min 46.931s postfix@-.service\n    1min 37.404s networkd-dispatcher.service\n      1min 546ms blk-availability.service\n         11.815s accounts-daemon.service\nso the most costly are blk-availability.service and blackfire-agent.service\n. I accidently found a solution to this issue. Gladly, it's not related with homestead or vagrant.\nTL\\DR - watch last sentence\nSince I live in Russia and we have ROSKOMNADZOR who banned 14m IP addresses last month, some service IPs from services listed above probably blocked and my ISP rejects connection to these addresses. This explains their 50s execution time as it probably stands for --timeout 10 -- retry 5 or something.\nSo the solution was to enable my VPN. After that dmesg reported that service was up in 10 seconds.\nP.S. I also set natdnshostresolver: off in my yaml file, to force VM to resolve DNS queries\n. ",
    "jamesbeamingwhite": "Dyslexia told me that I had homestead 7.5.0 somehow...\n@svpernova09 I did do a recheck on the vagrant version and see 2.0.1. Going to reinstall and come back and apologize when that fixes my problem.. Yep that did it. Sorry to falsify an issue.. ",
    "sunil-tamang": "I m in Desperate need of Help . ",
    "anup4ranium": "@sunil-tamang  was you able to resolve this issue ?. I resolved it by copying vagrant box from my colleagues machine to my machine.\nIf you want to download it, you can run following commands:\nvagrant init laravel/homestead -f --box-version 6.1.0\nvagrant up. ",
    "shallwe99": "@anup4ranium what need to do about it?. ",
    "jtwee": "I'm having the same problem, and just to confirm the FQDN error isn't part of the issue, my status message is as follows.\n```\nvagrant@homestead:~$ sudo service apache2 status\n\u25cf apache2.service - The Apache HTTP Server\n   Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)\n  Drop-In: /lib/systemd/system/apache2.service.d\n           \u2514\u2500apache2-systemd.conf\n   Active: failed (Result: exit-code) since Fri 2018-05-25 11:06:13 AWST; 7s ago\n  Process: 2698 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)\n Main PID: 2715 (code=exited, status=1/FAILURE)\nMay 25 11:05:14 homestead systemd[1]: Starting The Apache HTTP Server...\nMay 25 11:05:14 homestead systemd[1]: Started The Apache HTTP Server.\nMay 25 11:06:13 homestead systemd[1]: apache2.service: Main process exited, code=exited, status=1/FAILURE\nMay 25 11:06:13 homestead systemd[1]: apache2.service: Failed with result 'exit-code'.\n```. Yes I am.\nHomestead@7.6.0 with vagrant box 6.0.0 . Also, I tried using both mod_php and php-fpm (both PHP 7.1) and had the same result for both.. I don\u2019t use flip personally, I have my sites set as Apache in my Homestead.yml file so to get it started I have to run \u2018sudo service apache2 start\u2019.\nI\u2019m not really willing to destroy my environment again seeing as I had to rebuild it when I upgraded to 6.0.0. And given that this is a fresh install of that box I\u2019m not sure destroying and rebuilding would help anyway.\nFor now my workaround is to leave an ssh session running at all times, which isn\u2019t a problem for me.. Edit: In the cold light of day I should have just shut up. Apologies for not doing so.. Yeah, sorry bout that, I\u2019m immensely frustrated at the projects I\u2019m working on, and this was just easy to get riled at.\nI would be happy to do some testing on a clean install if that helps.\nI\u2019m running macOS / virtualbox also.. @svpernova09 Here's my Homestead.yaml\nHomestead.yaml\n```yaml\nip: \"10.10.10.10\"\nhostname: \"homestead.test\"\nmemory: 2048\ncpus: 2\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    - map: ~/dev/sites\n      to: /home/vagrant/code\nsites:\n    - map: homestead.test\n      to: /home/vagrant/homestead.test\n      type: apache\n      php: \"7.1\"\n    - map: memberpress.test\n      to: /home/vagrant/code/memberpress.test/public\n      type: apache\n      php: \"7.1\"\n    - map: support.wintech.test\n      to: /home/vagrant/code/support.wintech.test/public\n      type: apache\n      php: \"7.1\"\n    - map: wintech.test\n      to: /home/vagrant/code/wintech.test\n      type: apache\n      php: \"7.1\"\n    - map: wp.test\n      to: /home/vagrant/code/wp.test/public\n      type: apache\n      php: \"7.1\"\ndatabases:\n    - memberpress_wp\n    - support_wintech_wp\n    - wintech_wp\n    - wptest\n``. @svpernova09 AddingMutex posixsem` does seem to fix it, yes. Tried a number of reloads and suspends and it seems to be persistent.. ",
    "adamdehaven": "@breams are you also on Homestead v7.6.0 ?. For now I have downgraded my setup to the following to resume normal operation:\n\nVirtualBox: v5.2.12\nVagrant: v2.0.4\nvagrant box laravel/homestead v5.2.0\nHomestead v7.3.0. @svpernova09 When I run homestead up on a new machine (as in, after first destroying), the site(s) work. If I then run homestead halt and then homestead up Apache fails to start as shown above. \n\nThis isn't consistent though. Sometimes Apache fails even after a clean up command. \nI've also tried manually stopping Nginx and starting Apache (not using the flip command), with the same result.  \nEdit: I typically don't use the flip command as Homestead typically runs Apache. I'm almost positive it has to do with upgrading to recent versions of the vagrant box and/or Homestead version. . @svpernova09 Sooooo.... back to Homestead and this Apache issue... lol. \nLet me know if you need any additional info to help troubleshoot. . @breams FYI if you do a dump of all of your Homestead databases (you should probably back up from time to time anyway if you're like me and make, \"mistakes\"), running destroy and then up is trivial since you can import your DBs back in again as soon as the new box is provisioned.. @svpernova09 I'm not currently near my computer so I won't be able to test until super late tonight or more likely tomorrow. . @svpernova09 so just for info, what was the issue? \nI've been cautious lately in upgrading Homestead due to the quickly climbing version numbers. Maybe it's me, but they seem to be increasing at a more rapid rate lately?. @svpernova09 I upgraded Homestead on my machine today and the Apache fix is working. However, now, when I run homestead halt I receive the following output (and Vagrant does not actually halt the VM)\n$ homestead halt\nC:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:377:in `parse': (<unknown>): did not find expected key while parsing a block mapping at line 2 column 1 (Psych::SyntaxError)\n        from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:377:in `parse_stream'\n        from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:325:in `parse'\n        from C:/HashiCorp/Vagrant/embedded/mingw64/lib/ruby/2.4.0/psych.rb:252:in `load'\n        from C:/Users/adehaven/Homestead/Vagrantfile:28:in `block in <top (required)>'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/v2/loader.rb:37:in `load'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:126:in `block (2 levels) in load'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:119:in `each'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:119:in `block in load'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:116:in `each'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/config/loader.rb:116:in `load'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/vagrantfile.rb:28:in `initialize'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:777:in `new'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:777:in `vagrantfile'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:523:in `host'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:191:in `block in action_runner'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/action/runner.rb:33:in `run'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:510:in `hook'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/lib/vagrant/environment.rb:759:in `unload'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/bin/vagrant:159:in `ensure in <main>'\n        from C:/HashiCorp/Vagrant/embedded/gems/2.1.1/gems/vagrant-2.1.1/bin/vagrant:159:in `<main>'. Ok thanks. I'll try destroying and running up again. I may have inadvertently made a change to the yaml file without re-provisioning . ",
    "sfenelon": "I had the same remote connection problem with a Linux host last week. Never did figure it out.\nThis week I'm using Windows 10 as the host.\nVirtualBox 5.2.12\nVagrant 2.1.1\nHomestead v7.6.2\nrunning from git-bash so used init.sh not init.bat\nFirst run of 'vagrant up' failed immediately due to missing private key. \nGenerated a private key and tried 'vagrant up' again.\nThis time it worked but complained about an \"insecure key\":\n```\n    homestead-7: SSH address: 127.0.0.1:2222\n    homestead-7: SSH username: vagrant\n    homestead-7: SSH auth method: private key\n    homestead-7:\n    homestead-7: Vagrant insecure key detected. Vagrant will automatically replace\n    homestead-7: this with a newly generated keypair for better security.\n    homestead-7:\n    homestead-7: Inserting generated public key within guest...\n    homestead-7: Removing insecure key from the guest if it's present...\n    homestead-7: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> homestead-7: Machine booted and ready!\n```\nProvisioning completed as expected.\n. ",
    "leicamvb": "Se voc\u00ea estiver usando o Windows 10,\nMaque \"Detectar automaticamente a rede intranet\" no Internet Explorer > Op\u00e7\u00f5es de Internet > Guia Seguran\u00e7a > Intranet Local > Sites\n\nCaso n\u00e3o de certo, tente adicionar a rota: route -p add 192.168.10.0 mask 255.255.255.0 192.168.10.1\nIf you are using Windows 10,\ncheck \u201cAutomatically detect intranet network\u201d in Internet Explorer > Settings inside Tools > Intranet Options > Local Intranet > Sites\n\nIf not, try adding the route: route -p add 192.168.10.0 mask 255.255.255.0 192.168.10.1\nResultado / Result\n\nC:\\Windows\\System32\\drivers\\etc\\hosts:\n\n. ",
    "Kocal": "Well, to be honest I'm not even sure that I am running composer inside the good directory...\nI'll tell you that when I'll be at home. . ...\nThat was actually that. I didn't run composer inside the code directory, I needed to run cd code before...\nIt's working perfectly now, sorry for wasting your time, thanks!. ",
    "simonschaufi": "I found a mongodb.so file in the folder /usr/lib/php/20170718. Probably it's just the wrong path in the install file.. ",
    "mikefrancis": "Sorry, wrong repo \ud83d\ude48 . ",
    "Quix0r": "How do I do so? I don't find any documentation about it? Maybe you can include an example (commented out, of course) in it?. Ah, easy. :-) Thank you.. And maybe move to it /tmp/ instead of current directory.. ",
    "leo108": "@svpernova09 What I thought is we may support more types e.g. mongodb / elasticsearch in the future.\nThe databases field can be removed, I'll change this.. @svpernova09 I have updated my commit, please take a look, thanks.. @svpernova09 hi, PR updated, please review.. ",
    "khusmann": "You're totally right -- here's a fix!. ",
    "maxyc": "vagrant up #1\nhttps://paste.laravel.io/31230d4f-59e6-4b49-9686-247517972305\n2 https://paste.laravel.io/de8ab724-d819-4bc5-a936-992fbe8f80f9 (here 2 errors, sudo and php)\nand destroy (with flag --force all ok too)\nvagrant destroy\n    nextrun-gitlab-io: Are you sure you want to destroy the 'nextrun-gitlab-io' VM? [y/N] y\n==> nextrun-gitlab-io: Destroying VM and associated drives...\n. ",
    "AgusRdz": "@Nkoyan you can try appending this:\n[mysqld]\ncharacter-set-server=utf8mb4\ncollation-server=utf8mb4_bin\nto ~/.my.cnf then \nsudo /etc/init.d/mysql reload\nsudo /etc/init.d/mysql restart\nAlso, you can check if the new configurations are taking effect running mysqld --print-defaults, if are not present in the output maybe you need to edit /etc/mysql/conf.d/mysql.cnf instead of ~/.my.cnf.. ",
    "vpratfr": "Hi,\n@svpernova09 I am a little new to settler, sorry. \nAs a basic Homestead user, does that mean that once I vagrant box update I will get the graphviz package already installed in the new VM?. Thanks a lot. No worries if it is not yet available in a box. Good to know it will be in the next release.\nThanks a lot! :). ",
    "mhardaniel": "this are the snippets of errors. pls. help tnx.\n\n\n. ",
    "karmon": "I was experiencing the same issue. What was causing it for me is the debugger. with debugger listening page load is ~15 seconds without ~2 seconds.\nIt probably won't help everyone but that was it for me.. IDE debugger, in my case php storm using xdebugger. ",
    "scheMeZa": "To me, the problem was debugbar, it slowed things a lot on homestead.\nI just added DEBUGBAR_ENABLED=false to my .env file, and the latency came down a lot!\nI can just enable it again whenever I need it.. ",
    "aoeng": "@svpernova09  in my win10 computer,The ip 10.8.220.224 is dynamic acquisition,then i use it! \nif you has win10 ,you can try it ! then tell me result...\ni use vbox install ubuntu 16.04 and use this bridge,I can ping success in  Intranet computer!. oh ,no , it's diff about ip! I'm not fool! And my problem has not been solved!!!. ",
    "raoulduke": "@browner12 vagrant box update should update your box to the latest version shouldn't it? I would expect it to update my box to version 2.2 which is the latest.\n\"This command updates the box for the current Vagrant environment if there are updates available.\"\n- https://www.vagrantup.com/docs/cli/box.html#box-update. Thanks for the info guys. I downloaded and installed 2.2 and was able to bring up my existing box without having to destroy it.. ",
    "zsuraski": "I imagined that you'd be unlikely to accept the comments part as I indeed noticed there weren't any comments anywhere else but gave it a shot anyway :)\nCurrently there's no independent URL where you can register/preregister, you can only do that from within Z-Ray under Homestead.  Do you think it's important to have one?. ",
    "gormus": "Even the root access is denied:\nvagrant@homestead:~/mysql_backup$ mysql -u root\nERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\n. Thanks @kierzniak. But that's not the case for me. I have both .my.cnf files in place. \nAnd provisioning didn't help on that issue either. \nI've been pulled away from this task, so, I'm yet to try @svpernova09 's recommendation. Hopefully soon.... ",
    "kierzniak": "I had similar problem also. I noticed that I do not have .my.cnf file in /root/.my.cnf path and /home/vagrant/.my.cnf. I run vagrant reload --provision and files was recreated. You can also just create this files manually with content\n[client]\nuser = homestead\npassword = secret\nhost = localhost. ",
    "stevegriffiths": "Hi,\nI am not using the ports section - I had experimented with it previously but really need to get the application working as a proxy - it's the config in the sites section I am focused on, specifically the block:\n- map: homestead.nodejs1\n      to: 8080\n      type: proxy\nI did try with quotation marks around the 8080, this started directing traffic into the folder where the node.js app is located but did not actually forward requests to the running node.js process.. This was a node.js configuration issue it seems, as having reset everything (for the 100th time!) it's now all working and serving as it should be.\nThanks for your help!. ",
    "hagabaka": "I'm still having this problem with the Homestead repo at master. It looks like the problem is scripts/homestead.rb:269\nruby\n          if site['zray'] == 'true'\n            ...\n          else\n            config.vm.provision 'shell' do |s|\n              s.inline = 'rm -rf ' + site['to'] + '/ZendServer'\n            end\n          end\n        end\nSince \"to\" is only a port number for proxy sites, that doesn't really make sense.. However scripts/homestead.rb already uses indentation of 2 spaces.\nIt wouldn't involve changing indentation of other files, just adding overrides for .rb files in .editorconfig.. ",
    "nikolaynizruhin": "Ok, no problem \ud83d\ude42 . ",
    "jn-jairo": "I just got a fresh install and multiple php versions was not working so I noticed that fastcgi was not installed and proxy_fcgi was available, so I supposed that the config was missing.\nI do not usually use apache fastcgi neither proxy_fcgi but I need that for a project, maybe you guys know a better solution.. The steps I made:\n```bash\nvagrant box add laravel/homestead\ngit clone https://github.com/laravel/homestead.git ~/Homestead\ncd ~/Homestead\ngit checkout v7.14.0\nbash init.sh\n```\nIn the Homestead.yaml I used virtualbox and I add my site:\n```yaml\nfolders:\n    - map: ~/code\n      to: /home/vagrant/code\nsites:\n    - map: mysite.test\n      to: /home/vagrant/code/mysite/public\n```\nThe nginx was causing some headers errors in the turbolinks so I changed to apache and it worked, but the code was running with php 7.2 so I set the config:\nyaml\nsites:\n    - map: mysite.test\n      to: /home/vagrant/code/mysite/public\n      type: \"apache\"\n      php: \"7.1\"\nAnd run:\nbash\nvagrant reload --provision\nBut I still with php 7.2, after some debugging I found that fastcgi module wasn't in the server, so I use proxy_fcgi as in the commit above.. Yes, I tried set the url in the .env to the http://00000000.ngrok.io, but the url in the .env was totally ignored, I doesn't use cache, but I tried clean up the cache, without success.\nNow I take a look at the request headers and the http_host is always http://blog.test and the http://00000000.ngrok.io is in http_x_original_host, I look at the UrlGenerator code and it uses the host from the Request to create the url.\nI found that header in https://github.com/laravel/valet/blob/9cc4212cbfb6f334a4adce2ff2a5960c0ee09650/cli/drivers/LaravelValetDriver.php#L58\nBut in my case I don't have the http_x_forwarded_host header, I only have the http_x_original_host\nSince valet makes that override I don't know if I should create a issue in laravel framework for laravel identify that and get the correct url or if is better override the http_host in the nginx/apache (if that is possible)\nWhat do you think? Should I create that issue in the laravel framework?. Thank you so much @svpernova09 \nThe difference in your project is that you don't use url('/tasks') just set /tasks\nThat should be a issue in the laravel url generator, I will open a issue in laravel later.. @antimech I didn't, I looked at the code in Laravel and I was not sure if it is a Laravel issue or a Symphony http request issue, since Laravel extends the request from Symphony, and the Laravel team was very busy with the version 5.7 and some serialization secure issues, so I decided to make a plugin to solve this issue and do other integrations with ngrok, it is working for me so I forgot about to open the issue, I didn't make this plugin public yet because it is missing tests and some generalizations to be useful in more cases, not just to fix the url.. @antimech Sure, I will do it in this weekend once I have time and post the link here. @antimech https://github.com/jn-jairo/laravel-ngrok just install the package to solve the url issue.\nbash\ncomposer require --dev jn-jairo/laravel-ngrok\nYou can start the ngrok from the artisan command too. This will get the host from the url of your application.\nbash\nphp artisan ngrok\nYou can also pass custom host and port.\nbash\nphp artisan ngrok example.com --port=8000. ",
    "arielayaviri": "Hi everyone, thanks for the awesome tool. \nI tested in Virtual Box and setting the 'name' in Homestead.yaml still don't work to create a vm with a custom name. I had to set both 'name' and 'names'.. ",
    "staudenmeir": "@arielayaviri This PR hasn't been released yet.. ",
    "Eskaaa": "Hello, thank you very much for spending time on this issue.\n```shell\nvagrant@dev-local:~/code$ npm install\nnpm WARN rollback Rolling back abbrev@1.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/abbrev/package.json.3533218038'\nnpm WARN rollback Rolling back acorn-dynamic-import@2.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/acorn-dynamic-import/package.json.1733404457'\nnpm WARN rollback Rolling back acorn@4.0.13 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/acorn-dynamic-import/node_modules/acorn/package.json.3534752001'\nnpm WARN rollback Rolling back ajv-keywords@3.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ajv-keywords/package.json.4048504180'\nnpm WARN rollback Rolling back camelcase@1.2.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/adjust-sourcemap-loader/node_modules/camelcase/package.json.4125958182'\nnpm WARN rollback Rolling back amdefine@1.0.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/amdefine/package.json.3495638571'\nnpm WARN rollback Rolling back ansi-regex@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-regex/package.json.4286723812'\nnpm WARN rollback Rolling back ansi-html@0.0.7 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-html/package.json.1606666357'\nnpm WARN rollback Rolling back alphanum-sort@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/alphanum-sort/package.json.2478757196'\nnpm WARN rollback Rolling back ansi-wrap@0.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-wrap/package.json.2595492549'\nnpm WARN rollback Rolling back aproba@1.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aproba/package.json.4170576557'\nnpm WARN rollback Rolling back ansi-gray@0.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ansi-gray/package.json.3423865556'\nnpm WARN rollback Rolling back archive-type@3.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/archive-type/package.json.2243657005'\nnpm WARN rollback Rolling back file-type@3.9.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/archive-type/node_modules/file-type/package.json.3641111460'\nnpm WARN rollback Rolling back arr-flatten@1.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-flatten/package.json.3458930831'\nnpm WARN rollback Rolling back arr-diff@4.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-diff/package.json.2536690881'\nnpm WARN rollback Rolling back arr-union@3.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/arr-union/package.json.2980387820'\nnpm WARN rollback Rolling back array-differ@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-differ/package.json.3923987795'\nnpm WARN rollback Rolling back array-find-index@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-find-index/package.json.2653698088'\nnpm WARN rollback Rolling back array-flatten@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-flatten/package.json.225453374'\nnpm WARN rollback Rolling back array-uniq@1.0.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-uniq/package.json.1358823576'\nnpm WARN rollback Rolling back array-union@1.0.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-union/package.json.3110248508'\nnpm WARN rollback Rolling back array-unique@0.3.2 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/array-unique/package.json.857394355'\nnpm WARN rollback Rolling back asap@2.0.6 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/asap/package.json.1844131700'\nnpm WARN rollback Rolling back assign-symbols@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/assign-symbols/package.json.320233826'\nnpm WARN rollback Rolling back ast-types@0.9.6 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/ast-types/package.json.2563780366'\nnpm WARN rollback Rolling back assert-plus@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/assert-plus/package.json.1547195921'\nnpm WARN rollback Rolling back async-each@1.0.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-each/package.json.353144535'\nnpm WARN rollback Rolling back async-each-series@1.1.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-each-series/package.json.288915879'\nnpm WARN rollback Rolling back asynckit@0.4.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/asynckit/package.json.213461718'\nnpm WARN rollback Rolling back async-foreach@0.1.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/async-foreach/package.json.1555186804'\nnpm WARN rollback Rolling back aws-sign2@0.7.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aws-sign2/package.json.621248267'\nnpm WARN rollback Rolling back babel-plugin-syntax-async-functions@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-async-functions/package.json.3781083655'\nnpm WARN rollback Rolling back ansi-styles@2.2.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/ansi-styles/package.json.3101013630'\nnpm WARN rollback Rolling back atob@2.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/atob/package.json.2630077391'\nnpm WARN rollback Rolling back supports-color@2.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/supports-color/package.json.1297393194'\nnpm WARN rollback Rolling back babel-plugin-syntax-exponentiation-operator@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-exponentiation-operator/package.json.2001068536'\nnpm WARN rollback Rolling back aws4@1.8.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/aws4/package.json.1683651057'\nnpm WARN rollback Rolling back babel-plugin-syntax-flow@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-flow/package.json.4286610413'\nnpm WARN rollback Rolling back babel-plugin-syntax-object-rest-spread@6.13.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-object-rest-spread/package.json.3269638813'\nnpm WARN rollback Rolling back babel-plugin-syntax-jsx@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-jsx/package.json.1915752970'\nnpm WARN rollback Rolling back babel-plugin-syntax-trailing-function-commas@6.22.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-plugin-syntax-trailing-function-commas/package.json.3589691704'\nnpm WARN rollback Rolling back babylon@6.18.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babylon/package.json.615632171'\nnpm WARN rollback Rolling back balanced-match@1.0.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/balanced-match/package.json.3838495647'\nnpm WARN rollback Rolling back batch@0.6.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/batch/package.json.3571334323'\nnpm WARN rollback Rolling back base64-js@0.0.8 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/base64-js/package.json.1460887819'\nnpm WARN rollback Rolling back beeper@1.1.1 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/beeper/package.json.3883539289'\nnpm WARN rollback Rolling back babel-code-frame@6.26.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-code-frame/node_modules/supports-color/package.json.1297393194'\nnpm WARN rollback Rolling back babel-core@6.26.3 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/babel-core/node_modules/source-map/package.json.2284816037'\nnpm WARN rollback Rolling back adjust-sourcemap-loader@1.2.0 failed (this is probably harmless): ETXTBSY: text file is busy, unlink '/home/vagrant/code/node_modules/adjust-sourcemap-loader/node_modules/camelcase/package.json.4125958182'\nnpm ERR! path /home/vagrant/code/node_modules/ansi-gray/package.json.3423865556\nnpm ERR! code ETXTBSY\nnpm ERR! errno -26\nnpm ERR! syscall rename\nnpm ERR! ETXTBSY: text file is busy, rename '/home/vagrant/code/node_modules/ansi-gray/package.json.3423865556' -> '/home/vagrant/code/node_modules/ansi-gray/package.json'\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/vagrant/.npm/_logs/2018-08-11T13_23_26_420Z-debug.log\n```. Yes I did. several times. I tried to install with --save flag, without binary links. I run the install comand with sudo. Reinstalled everything. . Here is my Vagrantfile.\nI connect to ssh via putty. Run as local admin, or via powershell, as local admin, too.\nyarn works fine. it is only npm what cause this errors.\n```php\n-- mode: ruby --\nvi: set ft=ruby :\nrequire 'json'\nrequire 'yaml'\nVAGRANTFILE_API_VERSION ||= \"2\"\nconfDir = $confDir ||= File.expand_path(\"vendor/laravel/homestead\", File.dirname(FILE))\nhomesteadYamlPath = File.expand_path(\"Homestead.yaml\", File.dirname(FILE))\nhomesteadJsonPath = File.expand_path(\"Homestead.json\", File.dirname(FILE))\nafterScriptPath = \"after.sh\"\naliasesPath = \"aliases\"\nrequire File.expand_path(confDir + '/scripts/homestead.rb')\nVagrant.require_version '>= 1.9.0'\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n    if File.exist? aliasesPath then\n        config.vm.provision \"file\", source: aliasesPath, destination: \"/tmp/bash_aliases\"\n        config.vm.provision \"shell\" do |s|\n            s.inline = \"awk '{ sub(\\\"\\r$\\\", \\\"\\\"); print }' /tmp/bash_aliases > /home/vagrant/.bash_aliases\"\n        end\n    end\nif File.exist? homesteadYamlPath then\n    settings = YAML::load(File.read(homesteadYamlPath))\nelsif File.exist? homesteadJsonPath then\n    settings = JSON.parse(File.read(homesteadJsonPath))\nelse\n    abort \"Homestead settings file not found in #{confDir}\"\nend\n\nHomestead.configure(config, settings)\n\nif File.exist? afterScriptPath then\n    config.vm.provision \"shell\", path: afterScriptPath, privileged: false, keep_color: true\nend\n\nif defined? VagrantPlugins::HostsUpdater\n    config.hostsupdater.aliases = settings['sites'].map { |site| site['map'] }\nend\n\nconfig.vm.provider \"virtualbox\" do |v|\n    v.customize [\"setextradata\", :id, \"VBoxInternal2/SharedFoldersEnableSymlinksCreate/v-root\", \"1\"]\nend\n\nend\n```. Hello. No, I did not found a better solution, than installing Node on the host machine. Hope the problem can be fixed in the future. . ",
    "jozeflambrecht": "@Eskaaa Same problem. Had to reinstall Windows 10 as well. Do you have a solution in the meantime (other than the workaround posted above)?. ",
    "Rux77": "I am having the same problem \"ETXTBSY: text file is busy, unlink\".\nI tried many different things, and these have worked for me ( Although I don't like any of them ):\n1 - Downgrade npm version to 5.7.1.\n2 - Use Yarn instead of npm.\n3 - Install node.js on the host ( windows 10 ) and do npm install from the host.\n@dylanbr \nI followed your steps. I have open the terminal as administrator also used Process Monitor to check if  any process other than Virtualbox is used. Unfortunately npm install still gives me the error!\n-------------------------- (edit)-----------------------\nTow more good solutions which I have tested and works perfect.\nsolution ( 1 ):\n1 - vagrant halt.\n2- enable SMB inside homestead by adding (type & mount_options): \nfolders:\n    - map: d:/Homestead_Projects\n      to: /home/vagrant/code\n      type: \"smb\"\n      mount_options: [\"mfsymlinks,dir_mode=0775,file_mode=0664\"]\n3- open your terminal as administrator.\n4- vagrant up.. etc... ( It will ask you for your PC username & password to enable SMB).\nsolution ( 2 ):\n1 - vagrant halt.\n2- install NFS vagrant's plugin for windows as a shared folders system.\n3- enable NFS inside homestead by adding (type): \nfolders:\n    - map: d:/Homestead_Projects\n      to: /home/vagrant/code\n      type: \"nfs\"\n4- if you have any anti-virus or firewall softwares.. disable them completely, and also disable your windows's firewall.\n5- open your terminal as administrator.\n6- vagrant up.. etc.\n. Had a similar issue.\nNGINX returns a 502 bad gateway for first page load.. when refreshing the same page.. it gets loaded fine with no error.\nDisabling Xdebug  as @browner12  said.. solved my issue.. ",
    "bironeaj": "@svpernova09 Here is the script I use. On line 4, there is a signed URL. You have to get that URL from here by clicking on the \"IBM Data Server Driver for ODBC and CLI (CLI Driver)\" option. I would love for this to be built in to the base box. It would help our team tremendously. If you want to get in touch, send me an email bironeaj @ gmail.com. ",
    "stevegrunwell": "Ooh, nice! I love the fact that you'll be able to push news when necessary via https://homestead.joeferguson.me/ \ud83d\udc4d \nThank you!. Phew, I wasn't particularly attached to after.local.sh, but was having trouble coming up with a better name; user-customizations.sh gives it a much clearer meaning \ud83d\udc4d \nPR has been updated to use the new name and address the missed copy/paste error in resources/localized/Vagrantfile.. ",
    "Cezarion": "Great ! You're fast! . ",
    "computamike": "sorry - i though my terminal had focus.... ",
    "pavlo-tk": "Thank you guys.. ",
    "ReactionCode": "As you can see on your link, this setting should have to be enabled by default, but on latest homestead version comes disabled.\nMy enviroment is\nlaravel/homestead (virtualbox, 6.3.0)\nHomestead 7.10\nThe fix_pathinfo are disabled on all PHP versions.\nIf you use Apache you will get blank page with Access denied or No input file specified message on urls with path_info as\nhttp://demo.test/admin/index.php/configuration/orders?id_order=9\nI know how to fix it, but I guess some other could have the same issue.. ",
    "GloomyNAN": "Thanks. ",
    "wijourdil": "Thanks for your answer !\nI tried to use .test or .id after vagrant destroy && vagrant up and it worked in both cases.\nI think I temporarily solved the issue by destroying & rebuilding the VM.\n\"temporarily\" because even if I destroy the VM, or update homestead, or completely reinstall it, the issue always come back \ud83d\ude1e . ",
    "Doc1337": "\nI'm not following, why will NPM not work on 6.4.0?\nYou can run this yourself if you'd like, but we will not (can't) update the defaults until a new box is released.\nOr you could add this to your after.sh script so it runs when you provision.\n\nSorry, I misread the part about NPM stopping working in the Terminal.. ",
    "pqt": "That totally makes sense @svpernova09, just wanted to make sure it wasn't an oversight. Made a note to come back and see what I can do to add to the docs when some extra time pops up.\nCheers, and thanks for the speedy response.. ",
    "jmcerrejon": "2.4.6 is the latest for the 2.x version. I don't want the latest because I'm using an old project. So I need ES < 5. . Ok so the doc is not very clear here. \nI'll try to install it manually. Thank you. . ",
    "Braunson": "@svpernova09 I've tried without --insecure, same result happens. :|. ",
    "rossbearman": "I'm encountering this same issue trying to upgrade to 7.1.0 from 6.4.0 on Windows. I tried running the command through cmder, PowerShell and Git Bash.\nTrying to download the box directly with wget, or through Firefox results in the download failing at the same point, around 5-15% into the download. I was however able to download the box using a server I maintain, so it seems to be a local issue. \n```\n==> homestead-7: Checking for updates to 'laravel/homestead'\n    homestead-7: Latest installed version: 6.4.0\n    homestead-7: Version constraints: >= 6.3.0\n    homestead-7: Provider: virtualbox\n==> homestead-7: Updating 'laravel/homestead' with provider 'virtualbox' from version\n==> homestead-7: '6.4.0' to '7.1.0'...\n==> homestead-7: Loading metadata for box 'https://vagrantcloud.com/laravel/homestead'\n==> homestead-7: Adding box 'laravel/homestead' (v7.1.0) for provider: virtualbox\n    homestead-7: Downloading: https://vagrantcloud.com/laravel/boxes/homestead/versions/7.1.0/providers/virtualbox.box\n    homestead-7: Download redirected to host: vagrantcloud-files-production.s3.amazonaws.com\n    homestead-7:\nAn error occurred while downloading the remote file. The error\nmessage, if any, is reproduced below. Please fix this error and try\nagain.\nOpenSSL SSL_read: error:1408F119:SSL routines:SSL3_GET_RECORD:decryption failed or bad record mac, errno 0\n```. ",
    "parsidev": "Thanks @svpernova09 but i want to install cockroachdb, not couchdb ..... ",
    "dolcy": "Thanks @svpernova09 - agreed; will change.. Thanks @browner12. ",
    "fh-jashmore": "What if a user has PHP 7 installed on their system and that person needs to support a PHP 5.6 application?. I wouldn't recommend this unless you want to be me, but I allowed the laravel/homestead package to the commit like this in the gitignore\n```\ncomposer vendor dir\n!vendor/\nvendor/*\nbut not homestead\n!vendor/laravel/\nvendor/laravel/*\n!vendor/laravel/homestead/\n```. ",
    "sulfo": "I\u2019m updating it tomorrow with full text. However it\u2019s just the same going for all my 25 domains, so nothing fancy...\nI\u2019ve used homestead the past 3 years (thanks for the great work btw), and it\u2019s the first time the VM\u2019s nameserver is screwing it up.\nThe most weird part is that my old .app domains resolve correct.\nI will give the command a try tomorrow. Thanks!. I added the following line in after.sh\nsudo sed -i \"s/nameserver 127.0.0.53/nameserver 10.0.2.3/\" /etc/resolv.conf\nThe fix works for now, until we know what is going on. I'm more than happy to help you with more info if needed.. ",
    "jamesgifford": "I am also still experiencing this issue. Trying to build two services that need to talk to each other and found that impossible until I changed the nameserver in /etc/resolv.conf from 127.0.0.53 to 10.0.2.3. Why is this happening?\nAlso, is there a better solution than updating after.sh within the Homestead library? Something more permanent? As far as I know this has been an issue for a few versions of OS X and Homestead so its been around a while. I have no idea why this is a problem on OS X, but I would really like to not have to deal with this anymore.. ",
    "LiBraga": "FYI... everything would have been fine... except MS keep pulling the v1809 update (its the one that sometimes deleted user files).\nAlso note Windows 10 Enterprise is on a different update branch than Home/Business and tend to receive feature based updates on a later schedule (prior to v17, this may have changed with the closer integration of Business and Enterprise from versions 17 onwards).\nIf you'd like to update to v1809 then please follow this link (if it's not showing is WSUS/SCCM/Windows Updates etc) \nhttps://www.microsoft.com/en-us/software-download/windows10\n. ",
    "enderandpeter": "I'm sad to say that I'm suffering this problem, unable to get Homestead running in a Windows environment with Hyper-V.\nI got further along setting version: 6.3.0 in my Homestead.yaml, but it ran into an error in the provisioning when it said Unable to locate package mariadb-server-10.3 and then could not start the mysql service.\nDoes that version pertain to the vagrant box version, 7.1.0 at the time of writing this? If so, I'd love to know how to get the current version to not error out with Error Code: 32784 Cause: VM version is unsupported.\nUpdate\nI have been able to use homestead via version 6.3.0 after making sure my vagrant box folder was on a drive with sufficient space. But I'm still running into that error above for version 7.1.0.. @cbj4074 Ah, I see... I thought I was on the latest Windows because it updated just the other day and Windows Update tells me I am up-to-date, but under System -> About, it says I have Version 1803 of Windows 10 Pro, and I see that 1809 is the current one. Okay, I will download that \"Windows 10 October 2018 Update\" and hopefully it makes a difference.... I am happy to report that after updating to build 1809, I'm able to use the latest homestead box without error! It is even fine with mariadb now. So I guess that update was the trick. I don't know why it was telling me I was up to date when I wasn't. I had to click Check for Updates a few times for everything to finally finish, but it did. Thanks!. ",
    "mludi": "I have still the same issue with Windows in version 1809 :/. Oh yeah sorry, I typed fast on my phone. I hvae the MariaDB error. There was some output\n401 unauthenticated for the APT package manager, double checked all network settings but no luck. I'll try soon again and post the output here.\nMy homestead version is v7.1.0. So, I tried again:\nhomestead-7: 182268 files and directories currently installed.)\n    homestead-7: Removing mysql-server-core-5.7 (5.7.25-0ubuntu0.18.04.2) ...\n    homestead-7: Removing mysql-client-core-5.7 (5.7.25-0ubuntu0.18.04.2) ...\n    homestead-7: Removing libaio1:amd64 (0.3.110-5) ...\n    homestead-7: Removing libcgi-fast-perl (1:2.13-1) ...\n    homestead-7: Removing libhtml-template-perl (2.97-1) ...\n    homestead-7: Removing libcgi-pm-perl (4.38-1) ...\n    homestead-7: Removing libevent-core-2.1-6:amd64 (2.1.8-stable-4build1) ...\n    homestead-7: Removing libfcgi-perl (0.78-2build1) ...\n    homestead-7: Processing triggers for libc-bin (2.27-3ubuntu1) ...\n    homestead-7: Processing triggers for man-db (2.8.3-2ubuntu0.1) ...\n    homestead-7: Reading package lists...\n    homestead-7: Building dependency tree...\n    homestead-7: Reading state information...\n    homestead-7: Warning: apt-key output should not be parsed (stdout is not a terminal)\n    homestead-7: Executing: /tmp/apt-key-gpghome.LOhCbN9Cji/gpg.1.sh --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8\n    homestead-7: gpg: keyserver receive failed: No data\n    homestead-7: Err:1 http://ppa.launchpad.net/nginx/development/ubuntu bionic InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:2 http://archive.ubuntu.com/ubuntu bionic InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:5 http://security.ubuntu.com/ubuntu bionic-security InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:6 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:7 http://packages.blackfire.io/debian any InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n    homestead-7: Err:8 http://ftp.osuosl.org/pub/mariadb/repo/10.3/ubuntu bionic InRelease\n    homestead-7:   401  Unauthorized [IP: 192.168.10.249 1000]\n....\n homestead-7: Couldn't find any package by regex 'mariadb-server-10.3'\n    homestead-7: sed: can't read /etc/mysql/my.cnf: No such file or directory\n    homestead-7: /tmp/vagrant-shell: line 53: mysql: command not found\n    homestead-7: Failed to restart mysql.service: Unit mysql.service not found.\n    homestead-7: /tmp/vagrant-shell: line 56: mysql: command not found\n    homestead-7: /tmp/vagrant-shell: line 57: mysql: command not found\n    homestead-7: /tmp/vagrant-shell: line 58: mysql: command not found\n    homestead-7: /tmp/vagrant-shell: line 59: mysql: command not found\n    homestead-7: Failed to restart mysql.service: Unit mysql.service not found.\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nand much more of that output.\n. @cbj4074 ok, sorry for breaking this issue here. I'll have a look again and check. Thanks for the respone.. ",
    "Gavrisimo": "Yeah, I downgraded back to version 10 and everything works again.\nI guess the message for unsupported version should be updated, since version 10 works.. @svpernova09 any update on this front?. ",
    "jhoopes": "Hey @svpernova09, thanks for letting me know.  it wasn't fixed, but with this commit:\nhttps://github.com/laravel/homestead/commit/d7f09d962d9d2a68c94b2a4008026e27c1b1a88e\nwhere the service was restarted before creating the users, it now works as it should.\nThanks!. ",
    "Byronsargeant": "Just needs to be installed... then dont forget to add the map to the directory in your homestead.yaml file.\nMine is phpmyadmin.local. I agree! I thought you was asking how, read your question quickly! Took me 2 mins to add it!. ",
    "Paviluf": "Yeah, but I see no reason to not include it by default.. Ok I hope you consider it for the futur releases. Thanks.. Thanks, the issue was easy to solve but I reported it for it to be fixed in the box. Will there be a new release with the \"fix\" ?. Done https://github.com/laravel/settler/pull/184\nI hope that the right repo !. I was on v7.19.2 and tried master when the error occured. Should we do bash init.sh again when we change branch ?. Yeah the blackfire issue is not really a problem. The real problem is the \"No input file specified\" that appeared on branch master (but not in v7.19.2). The thing is that I use apache on all my site and this error seem to be an ngnix one. I'm sure these paths are the web root of my projects (I just replaced site name with their initials to share it here) and it worked perfectly well on v7.19.2. Maybe it's related to this error :\nhomestead-7: Job for nginx.service failed because the control process exited with error code.\nhomestead-7: See \"systemctl status nginx.service\" and \"journalctl -xe\" for details.\nSomething strange is that I can't reproduce it anymore whereas I didn't change anything.. So I just need to do a vagrant destroy / vagrant up to make the message disappear ? \nI have no issue but I wanted to \"fix\" this because I thought that there could be some problem as the \"error message\" say \"it can prevent things such as shared folders from working properly\". But if you say that \"is not a fatal error by any means and is quite common\" should I not care about the message ?. Ok thank you !. ",
    "eminos": "ipconfig inside the VM doesn't work (that's a Windows command, isn't it?)\nRunning it on the host does not show 192.168.10.10 anywhere (not sure it should).\nI have added my .local domains to the hosts file. Like I said, this used to work. I basically switched to using vmware instead of virtualbox, and updated everything.\nI did not try .test instead of .local, since it used to work fine. I will try it now.\nAlso keep in my mind that accessing http://li.local:8000 works fine. So something is working (the hosts file and nginx).. I tried .test instead of .local. Same thing.\nifconfig outputs this:\n```\nvagrant@homestead:~$ ifconfig\neth0: flags=4163  mtu 1500\n        inet 192.168.40.128  netmask 255.255.255.0  broadcast 192.168.40.255\n        inet6 fe80::20c:29ff:fe96:fc2a  prefixlen 64  scopeid 0x20\n        ether 00:0c:29:96:fc:2a  txqueuelen 1000  (Ethernet)\n        RX packets 3917  bytes 1152948 (1.1 MB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 2416  bytes 302886 (302.8 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\neth1: flags=4163  mtu 1500\n        inet 192.168.10.10  netmask 255.255.255.0  broadcast 192.168.10.255\n        inet6 fe80::20c:29ff:fe96:fc34  prefixlen 64  scopeid 0x20\n        ether 00:0c:29:96:fc:34  txqueuelen 1000  (Ethernet)\n        RX packets 13  bytes 3597 (3.5 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 13  bytes 1006 (1.0 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\nlo: flags=73  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 245  bytes 65161 (65.1 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 245  bytes 65161 (65.1 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n```. I just tried vagrant up in an elevated prompt. Same thing, unfortunately.\n\nWhat happens when you try to visit http://192.168.10.10 \n\nSame.\nThis site can\u2019t be reached\n192.168.10.10 took too long to respond.\nERR_CONNECTION_TIMED_OUT. Thanks for your help @svpernova09 !\nI'll try Larachat.. ",
    "StringKe": "\nFirst, the fact that you have a hard coded top level domain in your code is a code smell. I would abstract this out to your .env file so it can be changed based on the current environment. The you would want to make sure your c:\\windows\\system32\\drivers\\etc\\hosts file contains these lines:\n192.168.10.10 admin.bcs.test\n192.168.10.10 bcs.test\n\nI know this step, do I need to manipulate nginx to bind my admin.bcs.test?. ",
    "lcharette": "FYI, adding the web socket domain create a breaking change. When single domain is defined in Homestead.yaml, it used to be reachable using the VM IP address. Adding the socket-wrench.test make it so browsing to the VM IP address errors out with the \"No Input File\" message. . ",
    "Nothing-Works": "@browner12 Oh I see so the tag number is like the current stable version, and master branch is something like EAP (Early Access Program)? ok, I think I understand. Just checkout the latest version lol. ",
    "mikeybinns": "Hi, not sure if this helps, but this is how I update my hosts file automatically:\nBackground: I'm on windows 10, and it requires admin access for the terminal/powershell as admin access is required to write to hosts file. Also requires the vagrant-hostsupdater plugin.\nIn Homestead.yaml \n```\nsites:\n    - map: homestead.local\n      to: /home/vagrant/websites/homestead\n      hosts: 192.168.10.20\nhosts_file_additions: true\n```\nIn /scripts/homestead.rb\nclass Homestead\n  def self.configure(config, settings)\n    # Updating the hosts file with all the sites that are defined in Homestead.yaml\n    if Vagrant.has_plugin?(\"vagrant-hostsupdater\") && settings[\"hosts_file_additions\"] == true\n      hosts = []\n      settings[\"sites\"].each do |site|\n      hosts.push(site[\"map\"])\n    end\n      config.hostsupdater.aliases = hosts\n    end\n  end\nend\nThis method adds the hosts on VM up and removes on suspend. It marks each listing with a machine ID to detect which ones it has added, so it doesn't clear any previously added sites.\nHope this helps. Okay thanks!. ",
    "ashgibson": "I don't have an issue with getting my sites working, the actual issue is that when I make a change to a php file something is happening when the file is sync'd to homestead.. Thanks for the advice and recommendation on this better practice but it hasn't fixed the issue.. https://gist.github.com/ashgibson/4078c9d2d2f0aa01a85aedc426da5cec. It appears to be related to this - https://github.com/Parallels/vagrant-parallels/issues/330. I have downgraded my parallels tools to v13 on Parallels v14 and it is now working without issue.. ",
    "DmitryNiko": "Hi, i have the same problem.. ",
    "zitivapo": "Is there any ETA for the next box release? Thanks!. ",
    "vernondegoede": "It would make sense to either load from './.env or load the globally set env variables.. ",
    "Luc45": "Hi @svpernova09!\nThanks a lot for your thorough answer. I am completely noob in these subjects, so pardon me for questioning some of your suggestions, which I'm sure have a solid foundation.\nDon't Map standard ports\nI code PHP and my host operating system is Windows. However, my Windows doesn't even have PHP installed. I run all the code in homestead vagrant. In such scenario, I don't need port 80 on my host O.S, that's why I mapped all standard ports. Knowing this, do you still advice against it? If so, why?\nDon't map directories to projects, map a project\nI don't understand clearly the problem with this approach, can you please enlighten me?\nOverall, I have little to no knowledge about vagrant, docker, etc - Do you have any book or course suggestion for me to have a better understanding of these?. ",
    "Simoneu01": "Update\nI have change file_mode in Homestead.yaml:\nbefore:\nfolders:\n    - map: E:/Progetto/code\n      to: /home/vagrant/code\n      type: \"smb\"\n      mount_options: [\"mfsymlinks,dir_mode=0775,file_mode=0664\"]\nafter:\nfolders:\n    - map: E:/Progetto/code\n      to: /home/vagrant/code\n      type: \"smb\"\n      mount_options: [\"mfsymlinks,dir_mode=0775,file_mode=0755\"]\nAnd now I can run npm run dev but i have another error.\nDebug LOG:\ndebug.log\nCLI LOG:\ndebug.log\n. Thanks, I solved. ",
    "heba222": "I hope these information help \nVersions\n\u2022 Vagrant: Vagrant 2.2.2\n \u2022 Provider: VirtualBox-6.0.0-\n \u2022 Homestead: laravel/homestead (virtualbox, 6.4.0)\nHost operating system\nwindows 10 enterprise  64bit\nHomestead.yaml\n```ip: 192.168.10.10\nmemory: 2048\ncpus: 1\nprovider: virtualbox\nauthorize: ~/.ssh/id_rsa.pub\nkeys:\n    - ~/.ssh/id_rsa\nfolders:\n    -\n        map: 'H:\\laravel-apps\\testperproject'\n        to: /home/vagrant/code\nsites:\n    -\n        map: homestead.test\n        to: /home/vagrant/code/public\ndatabases:\n    - homestead\nname: testperproject\nhostname: testperproject\n```\nVagrant destroy & up output\nhttps://gist.github.com/heba222/b092f4b593aff993cb5387eb51dddbe3\nExpected behavior\nIn the video the guy was able to see code file in minute 08:02\n https://www.youtube.com/watch?v=rs2Hzx4qBm8\nhowever when i do the same i cant although i did every step he did \nActual behavior\nin both cases (installing Homestead globally or per project)  the only error happen when i try to reach code file through\n @.***:~$ cd Code/\n i get this :\n -bash: cd: Code/: No such file or directory\n. ",
    "Tenfleques": "I forgot to run bash init.sh \nmy mistake. sorry.. ",
    "brianrivet": "Thanks! It looks like that may have been the problem.. ",
    "nomanurrehman": "Okay, I might have misunderstood how to use it and got a little impatient with the issue creation. Sorry, everyone!. Okay, this is still a problem for me. I just setup a new machine and had to do sudo to create a new laravel project. Details are in the first post of this thread.. @svpernova09 \nOkay, understood! I have thoroughly read the Laravel documentation but it does not mention anywhere how to create a Laravel project inside the VM without touching it. Not that I am criticising the documentation but can you point me in the right direction?\nThanks. . ",
    "zecipriano": "Having the same issue. Setting the php version to 7.2 in Homestead.yaml works as temporary fix. . ",
    "stuartcusackie": "I understand the reasons why you have to release updates as you do, but I spent a frustrating hour trying to fix this with no clues. PHP 7.2 solved it.\nIf there's any way to issue some kind of warning that the php version isn't compatible when running vagrant up then that would save a lot of pain.\nMine was a fresh box on windows 10.. @svpernova09 Cheers. I may start doing that myself. Appreciate all your effort.. ",
    "hezhizheng": "I tried to take the time to solve this problem, it seems that I can only use php7.2 first.. ",
    "hans-vds": "I just set up a Homestead environment in Windows 10 (Virtual Box 6, Vagrant 2.2.3, php 7.3), and was annoyed with \"Bad Gateway 502\" errors (nginx) in Firefox, and regularly in Chrome and Opera. I looked for many hours trying to resolve it, altering configurations of nginx and php.ini, with no result whatsoever. The solution was to add php: \"7.2\" to my homestead.yaml file, so:\nsites:\n    - map: homestead.test\n      to: /home/vagrant/code/laravel/public\n      php: \"7.2\"\nThis post put me on the right track, so many thanks to Martijn94!. That seems not to be the case, as discussed in this post:\nhttps://github.com/laravel/homestead/issues/756\nMight have changed in the meantime though. I don't mind though adding that one line for every site ;). ",
    "adriandmitroca": "@hans-vds: FYI, 502 error has nothing in common with the browser of your choice whatsoever.\nSpeaking of, is it possible to define default PHP version for whole Homestead box rather than specifying it for each site?. ",
    "chescos": "Had the same issue, using PHP 7.2 fixed it.. @browner12 wouldn't it make sense to change the defaults? I made a clean Laravel + Homestead install and ran into this issue, took me 2 hours of pointless search through PHP/Nginx issues until I found this issue here and fixed it in 30 seconds. Talked to a friend a few days later and he told me he recently gave up on homestead since it throws 502 all the time.\nJust seems weird when something is broken by default, not sure how many people even bother to try and find the fix.. ",
    "dbatten5": "hi @svpernova09 thanks for getting back to me, that seems to have done the trick.\nmoreover, should i be concerned by the \nhomestead-7: Failed to restart php5.6-fpm.service: Unit php5.6-fpm.service not found.\nhomestead-7: Failed to restart php7.0-fpm.service: Unit php7.0-fpm.service not found.\nerror in the vagrant provision output? i've also been having some issues with Blackfire and i don't know if that's related. ",
    "mgarcia96": "\nopen up your \"Activity Monitor\" and check the Energy Consumption of Terminal.\nI was having a high energy use when I closed the clamshell on my laptop, because Virtualbox was not shutting down correctly.\nTry halting you machine and then bringing it back up, and then see if the high power use continues.\n\nHey! In Activity Monitor there is a vboxheadless process that consume a lot!\nYes I tried to halt, and when vagrant is powered off the temperature is normal. Yes but, with npm run watch is a serius problem. Then this is normal? Is dangerous? My mac is new\ud83d\ude2a. Hmm okei thanks!!!!. > > Yes but, with npm run watch is a serius problem\n\nYou should run npm on your Mac, not in the VM. Otherwise you should give your VM a couple more CPU cores.\n\nI will try that, thanks!!!. ",
    "terryupton": "I believe php5.6 and php7.0 have been dropped on version 7.0.0\nhttps://github.com/laravel/settler/releases/tag/v7.0.0. So it appears that nginx is starting up as well as apache and because nginx loads first apache is failing to load. By stopping nginx and then starting apache it seems to resolve this. . ",
    "kolexndr": "Ok. Thank you for answer.. ",
    "ermenagildo": "Cant find php5.6 and php7.0. Thanks, downgraded to v7.20.0. ",
    "nicolus": "The changelog for the box says :\n\nPHP 5.6 and 7.0 removed as they are end of life. If you need these versions stick with v6.4.0\n\nSo if you need them you should use version 6.4.0 of the box, and since Homestead 8 requires v7 of the box it means you should stay on homestead 7.20.\n@svpernova09 : Maybe it should be stated clearly in the changelog for homestead itself, as most people probably won't go read the changelog for settler ?\n. ",
    "dudedigital": "I had the same problem. Random 502 errors between page loads.. ",
    "mdgrech": "Reverting to PHP v7.2 in Homestead.yaml fix it.\nyaml\nsites:\n    - map: example.test\n      to: /home/vagrant/code/public\n      php: \"7.2\". ",
    "yabasha": "Is it possible to enable xdebug for some sites and disable it for the others?\nI disable xdebug by running sudo phpdismod xdebug and everything went fine, but I need it now for a new project.. ",
    "tobiasvielmetter": "@svpernova09 I had the issue before and as you suggest restarting the vm has fixed it in the past. This time though the error happens consistent and nothing works, no restart of my system, the vm, destroying the vm, reinstalling etc. So I am afraid this is more than just a common glitch...?\nChanging the ip in the Homestead.yaml just gives me a \n```\nVagrant failed to create a new VMware networking device. The following\nerror message was generated while attempting to create a new device:\nFailed to enable device\nPlease resolve any problems reported in the error message above and\ntry again.\n```\nEven after vagrant destroy & vagrant up.. @svpernova09 Yea, that was usually my last resort, but no effect in this particular issue. I just did another restart and everything is unchanged.. Clearly there is some port forwarding issue. I did some further digging and was able to workaround this issue by applying the workaround from https://github.com/hashicorp/vagrant/issues/9624.\nI want to emphasise that I have the moste recent version of vagrant utility and the vmware plugin, which seems to fix the issue for regular vagrant users. Not for me with the most current version of homestead though. I am not sure if this is in the end a vagrant issue or a homestead issue.. ",
    "tmpkn": "Same problem, started occurring after upgrading from 2.2.2 to 2.2.3. Very annoying. I wish vagrant put more focus on their paid product QA\n. ",
    "Perf": "Hi @svpernova09 ,\nsomething wrong with PR?\nI could fix/update it. Hey @svpernova09,\nthanks for reply!\n\nI'm not seeing how the HOST_PATH you're referring to brings any value to the user when this path is completely arbitrary and optional? You can accomplish the same goal by sticking to a known folder structure and utilizing it in your customization scripts.\n\nAccording to official documentation in paragraph \"Configuring Shared Folders\" it's mandatory.\nWith this PR everything stays backwards compatible.\nBut, you don't need to adjust folders -> map value in Homestead.yaml (or json) file from ~/code to exact place where your codebase is, as it will be dynamically configured via HOST_PATH variable, that is pointing to __dir__ for a project based installations of Homestead, or to ~/code, according to default behavior for a single installation.\n\nThe other thing I'm not a fan of is the idea that there has to be some top level \"root\" folder of all your code in the VM. Maybe I'm just lazy (I know I am) but I refuse to map any folder past the /home/vagrant path because I don't want to have to cd ~/code every single time I vagrant ssh\n\nI see your point, but this is another setting folder -> to, which I didn't touched, and it's completely not related to this PR.\n\nI really do not like the fact a user would have to open the Vagrantfile to adjust this setting.\n\nWith this PR user shouldn't do anything with Vagrantfile.\n\nI see what you're trying to accomplish but I don't feel like the complexity trade off is worthwhile when you can already accomplish the same tasks via after.sh. You could even accomplish this by setting the value of your HOST_PATH at the top of your after.sh.\n\nI didn't saw any complexity tradeoff, as just one variable was added HOST_PATH.\nExample with after.sh is just an example on how you could easily configure PHPStorm and XDebug feature of making PHPStorm specific URLs without any specific actions.\nAnd I also didn't included after.sh into PR.\nPR contains only generic \"things\" that could be applicable in many cases.\nWell, in any case it's up to you to accept or decline.\nI just wanted to make Homestead more friendly and easier, this is my intention.. ",
    "rvzug": "Thanks. The issue #1049 describes the problem using the hyper-v provider... Also I saw that Composer released the new 1.8.2 version today.\nWell, the dirty-hack I've used to cut around the issue:\n1) Use 'project based' installation (https://laravel.com/docs/5.7/homestead#per-project-installation)\n2) comment line 486-490 in vendor/laravel/homestead/scripts/homestead.rb, lines will be:\nrb\n    #config.vm.provision 'shell' do |s|\n    #  s.name = 'Update Composer'\n    #  s.inline = 'sudo -u vagrant /usr/local/bin/composer self-update --no-progress && sudo chown -R vagrant:vagrant /home/vagrant/.composer/'\n    # s.privileged = false\n    #end\n3) vagrant up no issue on the composer self-update anymore and continues normally\n4) vagrant ssh and sudo chown -R vagrant:vagrant /usr/local/bin && sudo composer self-update as @svpernova09 described.\n5) Up and running normally as expected.. ",
    "timo002": "Everything is running at the latest versions. Without NFS it is working fine but slow. \nWith NFS I get the error mentioned in the gist.. @svpernova09, Why did you close the issue? Nothing is solved yet, I never mentioned that the issue is fixed. . Ok, but I have different Vagrant's running on the same machine where NFS is just working fine. I have this same issue on two different Mac's, only with the latest Homestead.. I don't know what you exactly need. But I have:\nVagrantfile: Vagrant file gist\nConfig.yaml: Config file\nThis is a Vagrant configuration that I created with PuPHPet\nThanks in advance!. ",
    "kevindecapite": "I assume this is because composer is trying to satisfy the requirements within my host system (macOS), which does not contain the updated versions of those extensions. So this appears to be a \"chicken or the egg\" situation where I'm required to have the updated dependencies before installing the box that has the updated dependencies.\n. Makes sense technically, but sort of prevents having a portable dev environment. I was able to get around it by using the --ignore-platform-reqs option in composer.\n. ",
    "JmRy": "I delete network line. Now only directly Box IP 192.168.56.6.\ndestroy and up -> Same result ...\nTest Downgrade php 7.2 -> Same result .... Problem solved.\nPossible cause: \n- Update corruption Mojave 10.14.3\n- Incompatibility with Virtualbox 6.0.4 or bad brew virtualbox 6 install\n- ESET Security HTTP Protect service \nAfter many tests, I got stability with this solution:\n- Reinstall Mojave with network system to get the latest image\n- Virtualbox downgrade 5.26 version\n- Homestead 7.20.0 downgrade version\n- Uninstall ESET\n . ",
    "qingchendelaike": "I had watched the doc. I had added  the ports like this:\n\nbut http://192.168.10.10:4040 or http://domain:4040 don't work.\n. ",
    "ndberg": "Wow thank you very much for your fast help. I appreciate your input on my mysql -V fault. Thanks a lot.. ",
    "deviantintegral": "Symfony 3.4 is an LTS supported until 2021. Drupal 8 may end up supporting Symfony 4.x before then, but it's not a sure thing. A broader range of supported components would at least open the possibility of more non-Laravel projects using Homestead.\nIt's possible to use homestead without a site-local config, but there's advantages in keeping it site-local.\nNot supporting PHP 5 seems much clearer, and is \ud83d\udcaf from me given it's EOL schedule. This PR isn't touching that requirement.. This is starting to get pretty tricky, and was a lot of copy-pasta for the shell scripts. I think this could be refactored (the nginx templates are substantially similar), but the arguments are not 100% consistent between each one. I've left this as is, thinking a followup PR can clean this and the shell scripts up either by extracting some functions in bash, or perhaps going all in and converting it to be a RoboFile to run with https://robo.li.. ",
    "bicatu": "why did you comment the port?. ",
    "weierophinney": "Maybe ^5.7 || ^6.0?. Use PHPUnit\\Framework\\TestCase here; 5.7 adds forwards-compat shims to make that work, and 6.0 only has namespaced classes.. ",
    "alexpozzi": "I didn't use restart because I'm stopping the service at the beginning of the script (line 4).\nDo you still want me to change it to restart?. "
}