{
    "overtrue": "\u6ca1\u6709\uff0c\u8fd9\u5757\u8fd8\u672a\u5b8c\u6210\n. sorry \u5df2\u7ecf\u652f\u6301\u4e86\uff08https://github.com/overtrue/wechat/wiki/%E7%BD%91%E9%A1%B5%E6%8E%88%E6%9D%83 \uff09\uff0c\u6211\u770b\u9519\u4e86\uff0c\u6211\u4ee5\u4e3a\u662f\u7f51\u9875jssdk\n. encodingAESKey\u662f\u53ef\u9009\u7684\uff0c\u57fa\u672c\u4e0d\u7528\u7ba1\uff0ctoken\u4e5f\u662f\uff0c\u53ea\u662f\u5728\u670d\u52a1\u5668\u9a8c\u8bc1\u7684\u65f6\u5019\u9700\u8981\u7528\uff0c\u4f60\u7684auth\u8def\u7531\u6307\u5230\u54ea\u4e2a\u63a7\u5236\u5668\u7684\uff1f\u4ee3\u7801\u662f\u600e\u4e48\u6837\u7684\uff1f\n\u56e0\u4e3a\u770b\u4f60\u597d\u50cf\u7528\u7684\u662flaravel, \u6240\u4ee5\u8fd9\u91cc\u5efa\u8bae\u4f60\u6539\u4e00\u4e0b\uff08\u5982\u679c\u4e0d\u662f\u8bf7\u5ffd\u7565\uff09\uff1a\nphp\nreturn Redirect::to($wechat->auth->url($to, $state = 'STATE', $scope = 'snsapi_base'));\n\u53e6\u5916\u5c31\u662f\u4f60\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u8df3\u8f6c\u554a\uff1f\u4f60\u5e94\u8be5\u662f\u6388\u6743\u540e\u53d6\u5f97open id \u540e\u653e\u5230session\u4e2d\u561b\uff0csession\u91cc\u6ca1\u6709\u7684\u65f6\u5019\u624d\u9700\u8981\u8df3\u8f6c\n. @phoenixg \u6211\u5199\u9519\u4e86\uff0c\u4e0a\u9762\u7684\u8bc4\u8bba\u6211\u5df2\u7ecf\u66f4\u65b0\u5e94\u8be5\u662f\u8fd4\u56de Redirect::to, \u53e6\u5916\u5c31\u662f\u4f60\u6ca1\u6709\u52a0\u5224\u65ad\uff08\u5df2\u7ecf\u6388\u6743\u8fc7\u5c31\u4fdd\u5b58open_id\u5230session\u5c31\u76f4\u63a5\u8fdb\u5165\u9996\u9875\u4e0d\u9700\u8981\u518d\u5224\u65ad\u4e86\uff09\uff1a\n``` php\npublic function showWelcome()\n{ \n        $options = [ \n            'appId'          => 'wx7dc32673310',\n            'secret'         => '7e11f4e5c767432fb*5a6',\n            'token'          => 'Your token',\n            'encodingAESKey' => 'Your encoding AES Key' // optional\n        ];  \n    $to = 'http://wx.domain.com/tmp/laravel42wxsocketbtn/public/index.php/oauth';\n\n    $wechat = Wechat::make($options);\n\n    // \u5982\u679c\u5df2\u7ecf\u6388\u6743\n    if ($wechat->auth->authorized()) {\n        $user = $wechat->auth->user();// \u83b7\u53d6\u5df2\u7ecf\u767b\u5f55\u540e\u7528\u6237\u4fe1\u606f\n        Session::set('logged_open_id', $user['open_id']);\n\n        return Redirect::to(\u4f60\u7684\u6388\u6743\u540e\u7684\u9875\u9762);// \u8fd9\u91cc\u8df3\u8f6c\u5230\u6388\u6743\u540e\u53ef\u4ee5\u8bbf\u95ee\u7684\u9875\u9762\uff0c\u6bd4\u5982\u9996\u9875\n    } else {\n        $wechat->auth->redirect($to);\n    }\n\n} \n``\n. @phoenixg \n1. \u663e\u793a\u5fae\u4fe1\u6388\u6743\u9875\u9762\uff08\u4e00\u4e2a\u7eff\u8272\u7684\u5934\u90e8+\u4e00\u4e2a\u6309\u94ae\uff09\u7684\u9875\u9762\n2. \u7528\u6237\u70b9\u51fb\u540e\uff0c\u8df3\u8f6c\u5230\u4f60\u7684 $to \u9875\uff0c\u5e76\u4e14\u5e26\u4e0a\u7528\u6237\u4fe1\u606f\n3. \u4f60\u5728 $to \u7684\u4ee3\u7801\u91cc\u68c0\u67e5$wechat->auth->authorized()` \u5982\u679c\u662f true,\u5c31\u662f\u7528\u6237\u70b9\u51fb\u4e86\u540c\u610f\u6309\u94ae\uff0cfalse \u5c31\u662f\u6ca1\u540c\u610f\u3002\n. @phoenixg sorry  \u6587\u6863\u5199\u9519\u4e86\uff0credirect\u7684\u53c2\u6570  $state \u4e0e $scope \u9519\u4f4d\u4e86\n. \u4e0d\u662f\u5fc5\u987b\u7684, \u4f46\u662f\u5efa\u8bae\u4f60\u586b\u5199\u4e0a\u3002\n. \u4f60\u6ca1\u6709\u770b\u5230\u7eff\u8272\u7684\u90a3\u4e2a\u6388\u6743\u9875\uff1f\n. @phoenixg \u6211\u4eca\u5929\u6709\u66f4\u65b0\uff0c\u9ebb\u70e6\u518d\u8bd5\u4e00\u4e0b\uff1f\n. \u8c22\u8c22\uff01\n. @zerozh \u9ebb\u70e6\u8bf4\u6e05\u695a\u4e00\u70b9\uff0c\u6ca1\u592a\u770b\u660e\u767d\n. @zerozh \u660e\u767d\u4e86\n. @zerozh \u53ef\u662f\u90a3\u6837\u7684\u8bdd\uff0c\u5c31\u6ca1\u529e\u6cd5\u6307\u5b9a\u76d1\u542c\u67d0\u4e00\u7c7b\u4e86\uff1f\u800c\u662f\u628a\u8fd9\u4e2a\u7c7b\u578b\u7b5b\u9009\u5b8c\u5168\u4ea4\u7ed9\u7528\u6237\u6765\u5b9e\u73b0\u4e86\uff1f\n. @zerozh \u50cf\u4e0b\u9762\u8fd9\u6837\uff1f\n``` php\n$response = $wechat->serve(function($message){\nswitch($message->MsgType) {\n         case 'event':\n                  // handle event\n                  break;\n         case 'message' :\n                  // handle message\n                  break;\n    }\n});\nreturn $response;\n```\n. @wqcsimple \u521a\u624d\u786e\u8ba4\u4e86\u4e00\u904d\u6ca1\u6709\u91cd\u73b0\u4e0a\u8ff0\u60c5\u51b5\uff0c\u4f30\u8ba1\u4f60\u4f7f\u7528\u7684\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u4e4b\u524d\u5374\u5b9e\u6709\u62a5\u8fc7\u8fd9\u4e2a\u9519\u8bef\uff0c\u5982\u679c\u518d\u6b21\u9047\u5230\u8bf7\u544a\u77e5\u6211\u4f60\u4f7f\u7528\u7684\u7248\u672c\n. @wqcsimple \u4f60\u518dgit pull \u4e00\u6b21\u8bd5\u8bd5\uff0c\u56e0\u4e3a\u6211\u73b0\u5728\u7684\u7248\u672c\u6ca1\u6709\u51fa\u73b0\u4f60\u8bf4\u7684\u60c5\u51b5\uff0c\u6700\u8fd1\u4e24\u5929\u6709\u4fee\u6539\n. @wqcsimple \u8fd9\u4e0d\u662f\u4ec0\u4e48\u6a21\u677f\uff0c\u8fd9\u662fGitBook\u751f\u6210\u7684\u7535\u5b50\u4e66\uff1ahttps://www.gitbook.com/\n. @wqcsimple \u53e6\u5916\u4e0a\u9762\u7684\u95ee\u9898\u89e3\u51b3\u4e86\u6ca1\uff1f\n. @wqcsimple \u4e0d\u8981\u5728\u4e0a\u9762\u900f\u9732\u4f60\u7684\u5e94\u7528\u4fe1\u606f\n. @wqcsimple \u4f60\u7684QQ\u53d1\u6211\u4e00\u4e0b\n. @zhyq132 \u662f\u4e0d\u662furl\u4e0a\u7684\u53c2\u6570\u51b2\u7a81\u4e86\u4e4b\u7c7b\u7684\uff1f\n. \u8fd9\u4e2a\u9519\u8bef\u662f\u56e0\u4e3a\u6211\u8fd8\u5728\u6539\uff0c\u8fd9\u4e2a\u9519\u5df2\u7ecffix.\n\u8fd9\u662fovertrue/wechat 2.0\u7248\u672c\u7684provider, 2.0 \u4e0e1.0 \u76f8\u6bd4\u53d8\u5316\u8f83\u5927\n. \u4f60\u7684\u73af\u5883\u6ca1\u6709\u88c5mcrypt\n2015-04-25 16:05 GMT+08:00 Samuel Zhang notifications@github.com:\n\nCall to undefined function Overtrue\\Wechat\\mcrypt_module_open() in ...\nvendor/overtrue/wechat/src/Wechat/Crypt.php on line 195\n\u8fd9\u4e2a\u597d\u5947\u602a\uff0c\u600e\u4e48namespace\u4f1a\u8c03\u7528\u5230Overtrue\\Wechat\\\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/overtrue/wechat/issues/7.\n. \u6b63\u5728\u5904\u7406\uff0c\u8bf7\u4e0d\u8981\u7740\u6025\uff0c\u4eca\u5929\u4f1a\u89e3\u51b3\uff0c\n\n2015-04-26 16:48 GMT+08:00 Ngai Kam Wing notifications@github.com:\n\n@sinoon https://github.com/sinoon \u8bf7\u95ee\u4f60\u6709\u6d4b\u8bd5\u4e0b\u8fd9\u4e2a\u95ee\u9898\u561b\uff1f \u4e0d\u77e5\u9053\u662f\u5426\u4f1a\u51fa\u73b0\u548c\u6211\u540c\u6837\u7684\u95ee\u9898.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/overtrue/wechat/issues/8#issuecomment-96344628.\n. @kamwing @sinoon \u8bf7\u66f4\u65b0\u540e\u518d\u8bd5\u4e00\u4e0b\n. @sinoon \u8c22\u8c22\u4eb2\n. \u4f60\u670d\u52a1\u5668\u4e0a\u6709\u65e5\u5fd7\u5417\uff1f\u770b\u770b\u6709\u6ca1\u6709\u5565\u62a5\u9519\u4e4b\u7c7b\u7684\n. ``` php\nrequire \"./autoload.php\";\n\nuse Overtrue\\Wechat\\Server;\n$appId          = 'myapp';\n$token          = 'testtoken';\n$encodingAESKey = 'myaeskey';\n$server = new Server($appId, $token, $encodingAESKey);\n$server->on('message', function($message){\n    return \"\u60a8\u597d\uff01\u6b22\u8fce\u5173\u6ce8 overtrue!\";\n});\n// \u8c8c\u4f3c\u4f60\u5c11\u4e86\u8fd9\u53e5\necho $server->serve();\n```\n. @phoenixg @18601673727 \u4e0d\u597d\u610f\u601d\uff0c\u662f\u4e00\u4e2a\u9690\u5f62bug\n. \u66f4\u65b0\u4e86\uff1f\n. @18601673727 \u540c\u5b66\uff0cvar_dump\u6ca1\u6709\u8fd4\u56de\u503c\uff1a\nphp\nLog::info(var_dump(Message::make('text')->content('\u60a8\u597d')));\n\u5e94\u8be5\u662f\uff1a\nphp\nLog::info(Message::make('text')->content('\u60a8\u597d'));\n. @18601673727 \u597d\u5427\u3002\u3002\u3002\n. @18601673727 \u5df2\u7ecffix\u4e86\n. @lazyou OK\u3002\u591a\u8c22\uff0c\u91cd\u6784\u7684\u65f6\u5019\u6ca1\u6ce8\u610f \n. \u662f\u5728\u5904\u7406\u54ea\u4e2a\u903b\u8f91\u7684\u65f6\u5019\uff1f\n. \u4eca\u5929\u6211\u6539\u5b8c\u90a3\u4e2abug\u4e4b\u540e\uff1f\n. @lazyou \u9ebb\u70e6\u52a0\u4e00\u4e0bQQ: 44294631\n. @Fackeronline 2.0\u628a\u670d\u52a1\u5206\u62c6\u4e86\uff0c\u4e0d\u518d\u662f\u4e00\u4e2a Wechat \u7c7b\u7edf\u4e00\u5165\u53e3\u4e86\uff0c\u8bf7\u53c2\u8003 wiki \u4f5c\u5bf9\u5e94\u7684\u4fee\u6539\uff0c\u670d\u52a1\u7aef\u4e0d\u9700\u8981 appSecret: \u63a5\u6536\u6d88\u606f\u4e0e\u56de\u590d, \u5176\u5b83\u6bd4\u5982 \u81ea\u5b9a\u4e49\u83dc\u5355 \u8fd8\u6709\u5176\u5b83\u670d\u52a1\u57fa\u672c\u5c31\u4fe9\u53c2\u6570\uff1aappId, appSecret\u3002 \n. QQ\u7fa4: 319502940\n. @lyongde Ajax \u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f60\u5e94\u8be5\u8981\u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u767b\u5f55\uff0cAjax\u662f\u4f1a\u5e26sessionid\u7684\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u7528sessionid\u6765\u8df3\u8fc7\u8fd9\u4e2a\u6388\u6743\u8fc7\u7a0b\uff1a\n``` php\n$user = Session::get('logged_user');\nif (empty($user)) {\n    $user = $auth->authorize();\n    Session::put('logged_user', $user);\n}\n// xxx\n```\n\nSession::get(), Session::put() \u53ea\u662f\u6f14\u793a\uff0c\u5728\u4f60\u7684\u6846\u67b6\u91cc\u53ef\u80fd\u4e0d\u662f\u8fd9\u6837\u64cd\u4f5csession\n. > \u53ea\u8981\u7528\u6237\u5df2\u7ecf\u4f7f\u7528\u5fae\u4fe1\u7ed1\u5b9a\u8fc7H5\u7528\u6237\u540d\uff0c\u5c31\u8ba9\u7528\u6237\u81ea\u52a8\u767b\u9646\u3002\u4f46\u662f\u7528\u6237\u7b2cN\u6b21\u8fdb\u5165\u5fae\u4fe1\u662f\u6ca1\u6709\u4f1a\u8bdd\u4fdd\u6301\u7684\n\n\u5bf9\uff0c\u786e\u5b9e\u662f\u8fd9\u6837\uff0c\u4f46\u662f\u4f60\u4e0d\u53ef\u80fd\u5728\u7528\u6237\u6ca1\u8fdb\u9875\u9762\u4e4b\u524d\u5c31ajax\u5bf9\u4e0d\uff0c\u80af\u5b9a\u662f\u5148\u8fdb\u5165\u4e00\u4e2a\u4f60\u7684\u9875\u9762\uff0c\u4f60\u7684\u9875\u9762\u91cc\u624d\u53ef\u80fd\u6709ajax\u64cd\u4f5c\uff0c\u90a3\u4e48\u5c31\u662f\u8bf4\uff0cajax\u64cd\u4f5c\u80af\u5b9a\u662f\u4e0d\u4f1a\u53d1\u751f\u5728\u7b2c\u4e00\u6b21\u8bf7\u6c42\uff0c\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7edd\u5bf9\u662f\u6253\u5f00\u4f60\u7684\u9875\u9762\uff0c\u90a3\u4e48\u5728\u6253\u5f00\u9875\u9762\u4e4b\u524d\u4f60\u5c31\u5e94\u8be5\u505a\u6388\u6743\u3002\n\u8fd9\u91cc\u7684\u6388\u6743\uff0c\u53ef\u80fd\u7528\u6237\u611f\u89c9\u4e0d\u5230\uff0c\u56e0\u4e3a\u5982\u679c\u4f60\u53ea\u662f snsapi_base \u7684\u65b9\u5f0f\u6388\u6743\u7684\u8bdd\uff0c\u7b2c\u4e8c\u6b21\u662f\u9759\u9ed8\u6388\u6743\uff0c\u5c31\u662f\u8bf4\u4e0d\u5411\u7528\u6237\u663e\u793a\u7eff\u8272\u7684\u6388\u6743\u9875\u9762\u76f4\u63a5\u8df3\u4e00\u4e0b\u5c31\u8fc7\u53bb\u4e86\uff0c\u4f46\u662f\u5b8c\u6210\u4e86\u6388\u6743\u7684\u52a8\u4f5c\uff0c\u6240\u4ee5\u4f60\u5c31\u83b7\u53d6\u5230\u4e86 openid , \u5199\u5165 session, \u5b8c\u6210\u4e86\u767b\u5f55\uff0c\u6240\u4ee5\u4e0d\u4f1a\u51fa\u73b0\u4f60\u8bf4\u7684\u60c5\u51b5\u7684\u3002\n. @zsj1029 \u4efb\u4f55\u4e00\u79cd\u6388\u6743\u90fd\u4f1a\u6709openid, http://mp.weixin.qq.com/wiki/17/c0f37d5704f0b64713d5d2c37b468d75.html\n\n1\u3001\u4ee5snsapi_base\u4e3ascope\u53d1\u8d77\u7684\u7f51\u9875\u6388\u6743\uff0c\u662f\u7528\u6765\u83b7\u53d6\u8fdb\u5165\u9875\u9762\u7684\u7528\u6237\u7684openid\u7684\uff0c\u5e76\u4e14\u662f\u9759\u9ed8\u6388\u6743\u5e76\u81ea\u52a8\u8df3\u8f6c\u5230\u56de\u8c03\u9875\u7684\u3002\u7528\u6237\u611f\u77e5\u7684\u5c31\u662f\u76f4\u63a5\u8fdb\u5165\u4e86\u56de\u8c03\u9875\uff08\u5f80\u5f80\u662f\u4e1a\u52a1\u9875\u9762\uff09\n2\u3001\u4ee5snsapi_userinfo\u4e3ascope\u53d1\u8d77\u7684\u7f51\u9875\u6388\u6743\uff0c\u662f\u7528\u6765\u83b7\u53d6\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u7684\u3002\u4f46\u8fd9\u79cd\u6388\u6743\u9700\u8981\u7528\u6237\u624b\u52a8\u540c\u610f\uff0c\u5e76\u4e14\u7531\u4e8e\u7528\u6237\u540c\u610f\u8fc7\uff0c\u6240\u4ee5\u65e0\u987b\u5173\u6ce8\uff0c\u5c31\u53ef\u5728\u6388\u6743\u540e\u83b7\u53d6\u8be5\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u3002\n3\u3001\u7528\u6237\u7ba1\u7406\u7c7b\u63a5\u53e3\u4e2d\u7684\u201c\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f\u63a5\u53e3\u201d\uff0c\u662f\u5728\u7528\u6237\u548c\u516c\u4f17\u53f7\u4ea7\u751f\u6d88\u606f\u4ea4\u4e92\u6216\u5173\u6ce8\u540e\u4e8b\u4ef6\u63a8\u9001\u540e\uff0c\u624d\u80fd\u6839\u636e\u7528\u6237OpenID\u6765\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f\u3002\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5305\u62ec\u5176\u4ed6\u5fae\u4fe1\u63a5\u53e3\uff0c\u90fd\u662f\u9700\u8981\u8be5\u7528\u6237\uff08\u5373openid\uff09\u5173\u6ce8\u4e86\u516c\u4f17\u53f7\u540e\uff0c\u624d\u80fd\u8c03\u7528\u6210\u529f\u7684\u3002\n. @lyongde @zsj1029 \u8fd8\u6709\u4ec0\u4e48\u95ee\u9898\u6ca1?\n. @zsj1029 \nsnsapi_base \u4e0e snsapi_userinfo \u7684\u533a\u522b\u5c31\u662f:\n- snsapi_base \u7528 code \u5f97\u5230 access_token \u7684\u65f6\u5019\u5c31\u540c\u65f6\u5f97\u5230 openid;\n- snsapi_userinfo \u7528 code \u5f97\u5230 access_token \u7684\u65f6\u5019\u540c\u65f6\u4e5f\u4f1a\u5f97\u5230openid\uff0c\u53ea\u4e0d\u8fc7\u4f60\u8981\u62ff\u7528\u6237\u4fe1\u606f\u8fd8\u9700\u8981\u591a\u4e00\u6b65\u7528 access_token \u53bb\u53d6\u7528\u6237\u4fe1\u606f\u800c\u5df2\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u4e0d\u7ba1\u7528\u54ea\u79cd\u65b9\u5f0f\uff0c\u90fd\u4f1a\u5728\u7528 code \u5f97\u5230 access_token \u7684\u65f6\u5019\u5c31\u540c\u65f6\u5f97\u5230 openid\u3002\n. \u611f\u8c22\uff0c\u8bf7\u5148\u4fee\u4e00\u4e0b\u7a7a\u767d\n. @Comver \u8981\u6dfb\u52a0\u5f88\u591a\u4e1c\u897f\u624d\u80fd\u5b9e\u73b0\uff0c\u5f53\u7136\u4f60\u53ef\u4ee5\u5148\u4e86\u89e3\u4e00\u4e0b src/Wechat/Http.php \u7136\u540e\u5728src/Wechat\u4e0b\u5efa\u7acb\u4e00\u4e2aBroadcast.php \u6a21\u4eff\u6211\u7684\u5176\u5b83\u7c7b\u5b9e\u73b0\u8fd9\u4e2a\u7fa4\u53d1\u529f\u80fd\uff0c\u5982\u679c\u7528\u5f97\u4e0d\u9519\u4f60\u8fd8\u53ef\u4ee5PR\u8fc7\u6765\u6211\u5408\u5e76\u3002\n\u5f53\u7136\uff0c\u5728\u5199\u7684\u8fc7\u7a0b\u4e2d\u5982\u679c\u6709\u5565\u95ee\u9898\u4e5f\u53ef\u4ee5\u968f\u65f6\u63d0\u95ee\u3002\n. http://easywechat.org/docs/zh-cn/broadcast.html\n. @zsj1029 \u662f\u7684\u3002\u7528\u6237\u53d1\u6765\u7684\u4fe1\u606f\u5728 $message \u91cc, \u540c\u7406\uff0c\u4e8b\u4ef6\u4e5f\u662f\u4e00\u6837\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684 $message \u5b83\u672c\u8eab\u662f\u4e00\u4e2a\u5bf9\u8c61(Bag), \u800c\u4e0d\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u7ec4\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u8ba9\u4f60\u53ef\u4ee5\u4f7f\u7528 $message-> FromUserName \u6216\u8005 $message['FromUserName'] \u90fd\u53ef\u4ee5\u5f97\u5230\u6570\u636e\u3002\n\u5982\u679c\u4f60\u60f3\u5230\u5f97\u5230\u5e72\u51c0\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\uff1a$message->toArray(); \u6216\u8005\u60f3\u5f97\u5230 json: $message->toJson() \n\u5982\u679c\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\u8bf7\u518d\u5411\u6211\u53cd\u9988\u3002\n. @zsj1029 \u8fd9\u5757\u786e\u5b9e\u6ca1\u5b9e\u73b0\uff0c\u73b0\u5728\u6709\u8fd9\u4e48\u4e00\u4e2a\u95ee\u9898\uff1a\n\u4e00\u4e2a openid \u5bf9\u5e94\u4e00\u7ec4\uff1aaccess_token + refresh_token\uff0c\u6240\u4ee5\u5982\u679c\u7f13\u5b58\u7684\u8bdd\uff0c\u8fd9\u5957\u903b\u8f91\u6ca1\u60f3\u5230\u600e\u4e48\u4e00\u4e2a\u6bd4\u8f83\u4f18\u96c5\u7684\u5b9e\u73b0\u3002\n\u76ee\u524d\u6709\u8fd9\u4e48\u4e00\u4e2a\u60f3\u6cd5\u4e0d\u77e5\u9053\u4f60\u4eec\u89c9\u5f97\u600e\u4e48\u6837\uff1f\n1. \u7528\u6237\u6ca1\u6709\u6388\u6743\u8fc7\uff08\u5728\u4f60\u7684\u6570\u636e\u5e93\u91cc\u6ca1\u6709\u8fd9\u4e2aopenid\u6216\u8005\u6ca1\u6709\u4ed6\u7684access_token\uff09\nphp\n$user = $auth->authorize();\n\u6b64\u65f6\u4f60\u628auser\u4fe1\u606f\u5199\u5165\u5230\u4f60\u7684\u6570\u7ec4\u5e93\u4e2d\uff0c\u540c\u65f6\u83b7\u53d6 $auth->access_token \u4e0e $auth->refresh_token \u4e5f\u5199\u5165\u5230\u4ed6\u7684\u6570\u636e\u5e93\u8bb0\u5f55\u4e2d\u3002\n\u4e0b\u6b21\u8fdb\u6765\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u5df2\u7ecf\u6388\u6743\u8fc7\u561b\uff0c\u4f60\u53ef\u4ee5\u4ece\u6570\u636e\u5e93\u53d6\u51fa access_token:\nphp\n$res = $auth->refresh($refreshToken); // $refreshToken \u4e3a\u8be5\u7528\u6237\u7684$refreshToken\n$user = $auth->getUser($openId, $res['access_token']); // \u4f7f\u7528\u5237\u65b0\u540e\u7684access_token\u5f97\u5230\u7528\u6237\u4fe1\u606f\n$res \u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\uff1a\njson\n{\n   \"access_token\":\"ACCESS_TOKEN\",\n   \"expires_in\":7200,\n   \"refresh_token\":\"REFRESH_TOKEN\",\n   \"openid\":\"OPENID\",\n   \"scope\":\"SCOPE\",\n   \"unionid\": \"o6_bmasdasdsad6_2sgVt7hMZOPfL\"\n}\n\u5237\u65b0\u540e\u628a $res->access_token \u4e0e $res->refresh_token \u5b58\u8d77\u6765\u7528\u4e8e\u4e0b\u6b21\u5237\u65b0\u7528\n\u4e0d\u77e5\u9053\u4e0a\u9762\u7684\u8fd9\u6837\u662f\u5426\u80fd\u63a5\u53d7\uff1f\u5982\u679cOK\u7684\u8bdd\u6211\u5c31\u63d0\u4ea4\u4ee3\u7801\u3002\n. @zsj1029 \u5df2\u7ecf\u63d0\u4ea4\u5230master\u5206\u652f\uff0c\u4f60\u53ef\u4ee5\u4fee\u6539\u4f60\u7684 composer.json  \u66f4\u65b0\u4e00\u4e2a master \u4e0b\u6765\u770b\u770b:\nshell\ncomposer require \"overtrue/wechat:dev-master\"\n\u7136\u540e\u53c2\u8003\u6587\u6863\uff1a\u7f51\u9875\u6388\u6743 \n\u8bd5\u7528\u4e00\u4e0b\uff0c\u5982\u679c\u6ca1\u95ee\u9898\u6211\u5c31\u53d1\u7248\n. @zsj1029 \u5931\u8d25\u7684\u8bdd\u5c31\u662f\u5f02\u5e38\u4e86 \u800c\u4e0d\u662f msgid\n. @zsj1029 \u4ee5\u4e0b\u4ee3\u7801\u5728\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5982\u679c\u53d1\u9001\u5931\u8d25\u5c31\u4f1a\u5f02\u5e38\u4e86\uff1a\nhttps://github.com/overtrue/wechat/blob/master/src/Wechat/Notice.php#L215-L217\n. \u6574\u4e2aSDK \u90fd\u662f\u7edf\u4e00\u7528\u5f02\u5e38\u5f62\u5f0f\u62a5\u9519\u7684\uff0c\u4f60\u53ef\u4ee5\u7528try catch \n\u6216\u8005\u5168\u5c40\u5b9a\u4e49\u4e00\u4e2a\u9519\u8bef\u5904\u7406\uff0c\u53ea\u6355\u83b7\u672cSDK\u7684\n. @TheNorthMemory \u8c22\u8c22\uff01\n. \u5df2\u7ecf\u5408\u5e76\u4e86\uff1ahttps://github.com/overtrue/wechat/pull/23 \n. \u8c22\u8c22\uff01\n. @TheNorthMemory \u80fd\u4e0d\u80fd\u7ed9\u6211\u4e00\u4e0b\u60a8\u7684\u90ae\u7bb1\n. \u62b1\u6b49\uff0c\u4e0d\u7528 ThinkPHP\n. @acgrid \u59b9\u7684\u5fae\u4fe1\u5e94\u8be5\u662f\u6539\u4e86\u8fd9\u4e2a API\uff0c\u4e4b\u524d\u6211\u6545\u610f\u52a0\u4e2a array($articles) \uff0c\u6211\u5df2\u7ecf\u5408\u5e76\u4e86\u4f60\u7684\u63d0\u4ea4\u3002\n. \u597d\u50cf\u662f\u8fd9\u4e2aAPI\u6709\u6539\u52a8\uff0c\u4e4b\u524d\u786e\u5b9e\u4e4b\u524d\u5c31\u662f\u4e8c\u7ef4\u7684\n. @acgrid \u8fd9\u6bb5\u4ee3\u7801\u7684\u4f5c\u7528\u662f\u89e3\u51b3 < 5.4 \u7248\u672c\u7684php \u4e0d\u652f\u6301json_encode\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1aJSON_UNESCAPED_UNICODE \nhttp://php.net/manual/zh/function.json-encode.php \n. @mani95lisa \u8bf7\u52a0QQ\u7fa4\uff1a319502940\n. @nosun \u8bf7\u628a\u5fae\u4fe1\u76f8\u5173\u7684\u6587\u6863\u94fe\u63a5\u53d1\u4e00\u4e0b\n. @nosun \u4f60\u7ed9\u7684\u6587\u6863\u91cc\u6ca1\u6709\u627e\u5230 beta \u76f8\u5173\u5b57\u773c\n. #37 \n. @acgrid Sorry \u4e4b\u524d\u5e94\u8be5\u662f\u770b\u6f0f\u4e86\n. @hubs \u8c22\u8c22\uff0c\u8fd9\u5757\u4f1a\u57283.0\u91cc\u91cd\u6784\uff0c\u76ee\u524d\u7684\u5199\u6cd5\u5176\u5b9e\u6211\u4e5f\u4e0d\u6ee1\u610f\n. \u8bf7\u8ba4\u771f\u9605\u8bfbreadme\uff0cOK?\n. OK\uff0c\u52a0\u5165\u4e0b\u4e00\u7248\u5f00\u53d1\u8ba1\u5212\uff0c\u611f\u8c22\u5efa\u8bae\uff01\n. @gera2ld \u591a\u8c22\uff0c\u6211\u4f1a\u5728\u4e0b\u4e00\u7248\u672c\u4e2d\u66f4\u65b0\u6b64\u95ee\u9898\n. @TheNorthMemory :+1: \n. https://github.com/overtrue/wechat/commit/f558ccf7101511a51f30b8e0395afebce2871133#diff-f28e7c46ea9f8e029a287b928943e3e3R129\n. @fangd123 \u8fd9\u53ea\u662f\u8bf4\u4e0d\u518d\u5efa\u8bae\u4f7f\u7528\u8fd9\u4e2a\u4e86\u3002\u6211\u6539\u4e00\u4e0b\u5427\n. @iScript \u8bf7\u770bwiki\u9875\u7684\u6807\u9898\uff1ahttps://github.com/overtrue/wechat/wiki/%E7%BD%91%E9%A1%B5%E6%8E%88%E6%9D%83\n. \u6211\u662f\u8bf4\u6211\u6ca1\u6709\u4fdd\u5b58\uff0c\u4f60\u9700\u8981\u4fdd\u5b58(assess_token)\u554a\u3002\u3002\u3002\n. \u201c $auth->authorize() \u8fd9\u4e2a\u65b9\u6cd5\u662f\u4e0d\u662f\u4e0d\u597d\u7528\u4e86\u201d \u4e0d\u662f\u4e0d\u597d\u7528\u4e86\uff0c\u8fd9\u53ea\u662f\u4e00\u4e2a\u7b80\u5199\u65b9\u6cd5\u3002\u3002\u3002\n. OK,\u591a\u8c22\uff01\n. \u8bf7\u683c\u5f0f\u5316\u6e05\u695a\uff0c\u6ca1\u770b\u660e\u767d\u54ea\u662f\u4e00\uff0c\u54ea\u662f\u4e8c\uff0c\u54ea\u662f\u4e09\u3002\u3002\u3002\n. Thanks.\n. :smile: \n. @baidut \u8bf7\u95ee\u662f\u7528\u7684\u4ec0\u4e48\u65b9\u5f0f\u5728\u8bbf\u95ee\u3002\n. https://github.com/overtrue/wechat/releases/tag/2.0.28\n. https://github.com/overtrue/wechat/commit/605c319fdfca1b24a4a2dbb736d7dc28dd6a0fe4 \n. \u4f60\u770b\u770b\u5bf9\u4e0d\u5bf9\uff1f\n. @hareluya OK\n. @GrahamCampbell Thanks!\n. \u4e0d\u652f\u6301\u56de\u590d\u94fe\u63a5\u4fe1\u606f:\nhttp://mp.weixin.qq.com/wiki/14/89b871b5466b19b3efa4ada8e577d45e.html\n. \u5fae\u4fe1\u7684js\u7528\u6cd5\u5176\u5b9e\u5df2\u7ecf\u76f8\u5f53\u4e8e\u662f\u5728js\u6846\u67b6\u4e0b\u4f7f\u7528\u4e86\uff0c\u6240\u4ee5\u518d\u5c01\u88c5\u662f\u6ca1\u6709\u5fc5\u8981\u7684\n. @vickoo js\u6388\u6743\uff1f\uff1f\uff1f\n. @vickoo \u672c\u6765\u5c31\u6709\u554a https://github.com/overtrue/wechat/wiki/JSSDK\n. ``` php\n$foo = 'foo';\n$bar = 'bar';\nfunction() use($foo, $bar){\n    echo $foo, $bar;// foo bar\n}\n```\nhttp://php.net/manual/zh/functions.anonymous.php\n. $data \u5728\u54ea\u513f\uff1f\u4f60\u5f15\u5165\u4e86\u4e48\uff1fhttps://github.com/overtrue/wechat/issues/72\n. @ancon 3.1 \u6ca1\u6709\u5361\u5238\n. done @#529. \u6539\u4f60\u7684composer.json\u4e2d\u7248\u672c\u53f7\u4e3a\uff1a2.1.*\n. @kinosang \u57283.0\u7684\u8bbe\u8ba1\u5f53\u4e2d\uff0c\u6240\u6709\u90fd\u6a21\u5757\u5316\u4e86\uff0c\u5230\u65f6\u5019\u4f60\u53ef\u4ee5\u5b8c\u5168\u53ea\u7528\u5176\u4e2d\u4e00\u4e2a\u6a21\u5757 :smile: https://github.com/easywechat\n. https://github.com/overtrue/wechat/blob/2.0/src/Wechat/Card.php#L532 \n\u5176\u5b9e getSignature \u65b9\u6cd5\u7684\u53c2\u6570\u5e76\u6ca1\u6709\u56fa\u5b9a\u7684\n. \u8fd9\u4e8b\u513f\uff0c3.0\u7248\u672c\u6211\u8003\u8651\u4e00\u4e0b\uff0c2.0 \u4e0d\u4f1a\u65b0\u589e\u529f\u80fd\u4e86\u3002\n. \u6587\u4ef6\u540d\u662f\u5565\uff1f\n. \u8fd9\u662f\u5fae\u4fe1\u5e73\u53f0\u62a5\u7684\u9519\uff0c\u6240\u4ee5\u6211\u4e5f\u4e0d\u77e5\u9053\u5fae\u4fe1\u4e3a\u5565\u4e0d\u652f\u6301gif\n. HTTP_HOST\u53ea\u8981\u662f\u6b63\u5e38\u6d4f\u89c8\u5668\u8bbf\u95ee\u90fd\u6709\u554a\uff0c\u9664\u975e\u4f60\u662f\u6709\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u5728\u8bbf\u95ee\u3002\n. \u4f60\u5b58\u5230\u672c\u5730\u518d\u4e0a\u4f20\u5230\u4e03\u725b\u554a\uff0curl\u53c8\u4e0d\u80fd\u76f4\u63a5\u4e0a\u4f20\u5230\u4e03\u725b\n. @caolixiang 2.x \u7cfb\u5217\u5df2\u7ecf\u4e0d\u4f1a\u6539\u4e86\uff0c\u4f60\u6700\u597d\u662f\u76f4\u63a5\u4e0a\u4f20\u672c\u5730\u6587\u4ef6\uff0c\u4e0a\u4f20\u5b8c\u540e\u53ef\u4ee5\u5220\u9664\n. @tanshiqi \n1. \u6211\u6709\u83b7\u53d6\u7d20\u6750\u5217\u8868\u7684\u63a5\u53e3\uff0c\u4f60\u53ef\u4ee5\u4ece\u5217\u8868\u5f97\u5230mediaid\n2. \u6c38\u4e45\u7d20\u6750\uff0c\u53ea\u6709\u89c6\u9891\u63a5\u53e3\u7ed9\u4e86\u94fe\u63a5\uff0c\u5176\u5b83\u7c7b\u578b\u7d20\u6750\u76f4\u63a5\u7ed9\u7684\u662f\u5185\u5bb9\uff0c\u6211\u54ea\u513f\u6765MediaId\u7ed9\u4f60\uff1fhttp://mp.weixin.qq.com/wiki/4/b3546879f07623cb30df9ca0e420a5d0.html\n3. \u4e34\u65f6\u7d20\u6750\u4e5f\u53ea\u662f\u76f4\u76f4\u63a5\u8fd4\u56de\u7d20\u6750\u5185\u5bb9http://mp.weixin.qq.com/wiki/11/07b6b76a6b6e8848e855a435d5e34a5f.html\n. @nurexmet \u6709\u5fc5\u8981\n. http://php.net/manual/zh/language.exceptions.php\n. @jaring \u8bf7\u95ee\u662f\u5426\u5df2\u7ecf\u6d4b\u8bd5\u8fc7?\n. \u8c22\u8c22\uff01\n. @0i \n. @xingxiaoyang \u5728\u7fa4\u91cc\u5417\uff1f319502940\n. \u5df2\u5728\u7fa4\u91cc\u89e3\u51b3\uff0c\u8bf7\u6709\u7a7a\u628a\u89e3\u51b3\u65b9\u6848\u8d34\u4e00\u4e0b\uff0c\u65b9\u5411\uff01\n. \u5173\u4e86\u91cd\u65b0\u6574\u7406\u4e00\u4e0b\u518d\u53d1\u5427\uff0c\u8c22\u8c22\u3002\n. \u662f\u5426\u5df2\u7ecf\u8bd5\u7528\u8fc7\uff1f\n. https://github.com/overtrue/wechat/releases/tag/2.1.6\n. \u5fae\u4fe1\u7684\u63a5\u53e3\u56e2\u961f\u771f\u7684\u662f\u5403\u5c4e\u7684\n. \u5df2\u53d1\u5fae\u535a\u70b9\u540d\u6279\u8bc4 :laughing: \n. @narutooturan \u80fd\u4e0d\u80fd\u628a\u8fd4\u56de\u7684json\u539f\u6837\u53d6\u4e00\u4efd\u53d1\u6211\uff0c\u7528gist\n. @liyunfang \u7f13\u5b58\u7684access_token \u672c\u6765\u5c31\u5728AccessToken\u7c7b\u91cc\n. @tinpont \u76ee\u524d\u6ca1\u6709\uff0c\u4f60\u53ef\u4ee5\u63d0PR\n. @windqyoung \u8fd9\u4e2a\u4e0d\u5c31\u662fOAuth+ JSSDK\u5417\uff1f\u6211\u770b\u5230\u552f\u4e00\u9700\u8981\u7684\u5c31\u662f\u5728\u6211\u7684Js.php\u91cc\u52a0\u4e00\u4e2a\u83b7\u53d6\u914d\u7f6e\u7684\u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u4e86\u554a\uff1f\u6216\u8005\u6211\u6ca1\u770b\u51fa\u533a\u522b\uff0c\u8bf7\u89e3\u91ca\n. @windqyoung \u90a3\u5b9e\u9645\u4e0a\u8865\u5145js.php\u66f4\u597d\n. \u55ef\u5566\uff0c3.0\u6211\u4f1a\u5c3d\u5feb\u53d1\u5e03\n. done\n. https://github.com/overtrue/wechat/blob/2.1/src/Wechat/AccessToken.php\n. \u7c7b\u90fd\u7ed9\u4f60\u4e86\u600e\u4e48\u4e0d\u4f1a\u7528\uff1f\u4f60\u4e0d\u4f1aPHP\uff1f\n. \u7406\u89e3\uff0c3.0\u5df2\u7ecf\u662f\u8fd9\u6837\u7684\u4e86\uff08\u6d4b\u8bd5\u4e2d\uff0c\u8fd8\u6ca1\u5b8c\u5168\u5f00\u53d1\u5b8c\u6210\uff09\n. \u4f60\u5728\u5e72\u561b\uff1fphpunit\u8fd8\u5728\u751f\u4ea7\u73af\u5883\u73a9\u4e86\uff1f\u800c\u4e14phpunit\u4e3a\u5565\u8fd8\u6709\u6587\u4ef6\u7cfb\u7edf\u4e86\uff1f\u4f60\u786e\u5b9a\u4f60\u771f\u7684\u4f1a\u5355\u5143\u6d4b\u8bd5\uff1f\n. 1. \u4e0a\u7ebf\u524d\u901a\u5e38\u4ee3\u7801\u4f1a\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u5982gitlab\u4e4b\u7c7b\u7684\uff0c\u540c\u65f6\u4f60\u5e94\u8be5\u6709\u4e00\u4e2aCI\uff08\u6301\u7eed\u96c6\u6210\uff09\u670d\u52a1\u6765\u5bf9\u4ee3\u7801\u8d28\u91cf\u8fdb\u884c\u68c0\u67e5\uff0cCI\u68c0\u67e5\u5b8c\u6bd5\u751f\u6210\u662f\u5426\u53ef\u4e0a\u7ebf\u7684\u7ed3\u679c\n2. \u624b\u52a8\u4f7f\u7528\u4e00\u4e9b\u670d\u52a1\u6216\u8005\u811a\u672c\u5bfc\u51fagit\u4ee3\u7801\u5230\u751f\u4ea7\u670d\u52a1\u5668\n. \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u4f60\u5565\u4e5f\u4e0d\u5e72\n. \u4e0d\u8981$server->on\uff0c\u53eareturn $server->serve()\n. \u8bf7\u5347\u7ea7\u52302.1.10\n. \u8bf7\u53c2\u8003\u81ea\u5b9a\u4e49\u7f13\u5b58\u4e00\u7ae0\n. @apt-getyou \u8fd0\u884c\u524d\uff0canywhere\n. https://github.com/overtrue/wechat/wiki/%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86 wgbb\u4f8b\u5b50\u4e0d\u591f\u660e\u663e\uff1f\n\n. Bag\u7684\u7528\u6cd5\u4e0e\u666e\u901a\u7c7b\u7528\u6cd5\u4e00\u6837\u3002\u4e0a\u9762\u5df2\u7ecf\u7ed9\u4e86\u4f60\u4f8b\u5b50\u4e86\n. @iam993 \u8bf7\u8d34\u9519\u8bef\u622a\u56fe\n. SESSION \u4e0d\u652f\u6301\u5bf9\u8c61\u5b58\u50a8\u5427\uff1f\u652f\u6301\u6570\u7ec4\u4e0e\u6807\u91cf\u3002\u6240\u4ee5\u4f60\u76f4\u63a5\u628a $auth->authorize() \u5b58\u8fdb\u53bb\u5c31\u662f\u9519\u7684\u5427\uff1f\nphp\n$user = ($_SESSION['user']); // \u4f60\u8fd9\u91cc\u5f97\u5230\u7684\u8981\u4e48\u662f\u6570\u7ec4\u8981\u4e48\u662f\u6807\u91cf\nvar_dump(($user->all())); // \u7136\u800c\u4f60\u5374\u628a\u5b83\u5f53\u6210Bag\u5bf9\u8c61\u7528\uff0c\u8c01\u6559\u4f60\u7684\u5462?\n. @iam993 \u8bf7\u5b66\u4e60PHP\u57fa\u7840\n. @iam993 \u6ca1\u60f3\u8fc7\uff0c\u4e0a\u73ed\u592a\u5fd9\n. @dindom999 https://github.com/overtrue/wechat/wiki/%E5%BE%AE%E4%BF%A1%E7%BA%A2%E5%8C%85\n. \u4f60\u5728echo $result; \u524d\u628a error_log(\"result: \".$result); \u5199\u5230\u65e5\u5fd7\u770b\u4e00\u4e0b\u5c31\u77e5\u9053\u4e86\u561b\uff0c\u5982\u679c\u90fd\u6ca1\u4ea7\u751f\u65e5\u5fd7,\u90a3\u80af\u5b9a\u662f\u4f60\u7684web\u670d\u52a1\u5668\u95ee\u9898\u4e86\n. \u4f60\u7684\u76ee\u7684\u5176\u5b9e\u53ea\u662f \u201c\u6211\u53ef\u4ee5\u8ba9getToken\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8df3\u8fc7\u5df2\u7ecf\u7f13\u5b58\u7684\u76f4\u63a5\u4ece\u5fae\u4fe1\u62fftoken\u201d \u5bf9\u5427\uff1f\n\u4f46\u662f\u4f60\u5374\u6dfb\u52a0\u4e86\u4e00\u4e2a\u91cd\u590d\u7684\u65b9\u6cd5\u3002\n. \u6211\u63d0\u4ea4\u7684\u4fee\u6539\u5df2\u7ecf\u6ee1\u8db3\u4f60\u7684\u610f\u601d\u4e86\uff0c\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\uff0c\u5199\u4ee3\u7801\u4e00\u5b9a\u4e0d\u8981\u51fa\u73b0\u5927\u91cf\u91cd\u590d\u7684\u4ee3\u7801\uff0c\u90a3\u662f\u5f88\u5371\u9669\u7684\u3002:smile:\n. @a939638621 :smile: \n. - 1500\u5427\n. \u4f60\u7684\u5e76\u53d1\u591a\u5927\uff1f\n. :+1: \n. @shrekmaxi \u5b66\u4f1aphp\u7684\u7528\u6cd5\u4ee5\u53ca\u5fae\u4fe1\u5f00\u53d1\u57fa\u7840\u662f\u5fc5\u987b\u7684\u3002\n. @zswang 2.0\u7684\u6d4b\u8bd5\u6ca1\u5199\uff0c3.0 \u5728\u65b0\u7684\u7ec4\u7ec7\u4e0b\u8fdb\u884c\u4e2d https://github.com/easywechat \u6bcf\u4e2a\u6a21\u5757\u7684\u6d4b\u8bd5\u90fd\u5728\u81ea\u5df1\u9879\u76ee\u4e0b\u7684tests\u76ee\u5f55\uff0c\u5168\u90e8\u5728travis-ci\u4e2d\u8fdb\u884c\u6d4b\u8bd5\n. @zswang :smile: \n. @0i @tianyong90 \u5e2e\u5fd9\u770b\u770b\u8fd9\u4e2a\u95ee\u9898\u5457\n. @iam993 \u4f60\u5728\u4e8b\u4ef6\u91cc\u505a\u5565\u90fd\u884c\u554a\uff0c\u6ca1\u505a\u5565\u5c01\u88c5\u554a\u3002\n. http://php.net/manual/zh/functions.anonymous.php\nphp\n$foo = 1;\nfunction ($xxx) use ($foo, $bar, ....\u5176\u5b83)\n. https://github.com/overtrue/wechat/commit/d3bfb18b3b0349e4ed3823d2ff1e0bd0fcdd4ee6\n. @linb \u5fae\u4fe1\u7684\u95ee\u9898\n. http://easywechat.org/docs/zh-cn/troubleshooting.html#curl_3A__2860_29_SSL_certificate_problem_3A_unable_to_get_local_issuer_certificate\n. \u4f60\u6539\u4e86\u5565\uff0c\u600e\u4e48\u5168\u90fd\u53d8\u4e86\n. @windqyoung 3.0\u4f1a\u6709\n. done\n. > \u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f\n\u5c31\u662f\u81ea\u5b9a\u4e49\u7f13\u5b58\u5199\u5165\u4e0e\u8bfb\u53d6\u7684\u65b9\u5f0f\u3002\nphp\nCache::setter(function(\u2018abc\u2019, $value, 3600){\nreturn true;\n});\n\u4f60\u7684\u610f\u601d\u662f\u4f60\u4e0d\u60f3\u7f13\u5b58\uff1f\n. your_custom_set_cache \u662f\u4e0d\u5b58\u5728\u7684\uff0c\u53ea\u662f \u4e3e\u4f8b\u7684\u4e00\u4e2a\u540d\u79f0\uff0c\u610f\u601d\u662f\u8fd9\u91cc\u4f60\u7528\u81ea\u5df1\u7684\u65b9\u5f0f\u53bb \u5199 \u548c \u8bfb \u7f13\u5b58\n. https://github.com/overtrue/wechat/wiki/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98\n. https://github.com/overtrue/wechat/tree/2.1/src/Wechat/Payment\n. \u4e0d\u6253\u7b97\u652f\u6301\u4e86\uff0c\u62b1\u6b49\uff0c\u4e2a\u4eba\u7cbe\u529b\u6709\u9650\n. @Liv1020 \u8bf7\u4e0d\u8981\u4fee\u6539\u4e0b\u9762\u4e24\u4e2a\u65b9\u6cd5\u7684\u6ce8\u91ca\n. @0i \n. @acabin \u662f\u5426\u80fd\u770b\u660e\u767d\u4e2d\u6587\uff1f\n. \u54c8\u54c8\uff0c\u4e0b\u56de\u7528\u4e2d\u6587\u5427\uff0c\u6211\u80fd\u770b\u61c2 :laughing: \n. @mickelfeng \u611f\u8c22\u53cd\u9988\uff01https://github.com/overtrue/wechat/commit/5db4708f8410ca922dd02f4c2d31af225f360459\n. @phpyii 3.0 \u8981\u6c42 >= 5.5.9, 2.1 >=5.3\u5c31\u597d\n. \u8fd9\u4e48\u63d0\u95ee\u8c01\u80fd\u5e2e\u5fd9\u4f60\u89e3\u7b54\uff0c\u57fa\u672c\u7684\u4e0a\u4e0b\u6587\u90fd\u4e0d\u63d0\u4f9b\uff0c\u4f60\u7684\u8c03\u7528\u65b9\u5f0f\u3001\u4f20\u7684\u4ec0\u4e48\u56fe\u7247\u3001\u591a\u5927\uff0c\u8fd9\u4e9b\u57fa\u672c\u4fe1\u606f\u4f60\u90fd\u4e0d\u63d0\u4f9b\u6211\u600e\u4e48\u77e5\u9053\u4f60\u8fd9\u662f\u4e3a\u5565\u62a5\u9519\u54c7\u3002:sweat:\n. @palmtale \u6211\u662f\u4e2d\u56fd\u4eba\uff0c\u53ef\u4ee5\u7528\u4e2d\u6587\u3002\n\n40001\uff1a\u83b7\u53d6access_token\u65f6AppSecret\u9519\u8bef\uff0c\u6216\u8005access_token\u65e0\u6548\u3002\u8bf7\u5f00\u53d1\u8005\u8ba4\u771f\u6bd4\u5bf9AppSecret\u7684\u6b63\u786e\u6027\uff0c\u6216\u67e5\u770b\u662f\u5426\u6b63\u5728\u4e3a\u6070\u5f53\u7684\u516c\u4f17\u53f7\u8c03\u7528\u63a5\u53e3\n42001\uff1a\u4e0d\u5408\u6cd5\u7684\u51ed\u8bc1\u7c7b\u578b\n\n\u8fd9\u4fe9\u5176\u5b9e\u4e0d\u4e00\u6837\uff0c\u7b2c\u4e00\u4e2a\u662ftoken\u65e0\u6548\uff0c\u7b2c\u4e8c\u4e2a\u662fappid\u4e0eappsecret\u4e0d\u6b63\u786e\u7684\u610f\u601d\u5427\uff08\u6211\u7684\u7406\u89e3\uff09\n. \u54c8\u54c8\uff0c\u4f60\u7684\u62a5\u9519\u6ca1\u63d0\u4f9b\u4efb\u4f55\u6709\u6548\u7684\u4fe1\u606f\u54e6\n. @palmtale \u6211\u662f\u4ece\u4ed6\u4eec\u7684\u6587\u6863\u8d34\u8fc7\u6765\u7684\uff0c\u8bc1\u660e\u4ed6\u4eec\u7684\u4ee3\u7801\u91cc\u62a5\u7684\u4e0e\u6587\u6863\u4e0d\u4e00\u6837\n. @palmtale https://github.com/overtrue/wechat/releases/tag/2.1.25\n\u8bf7\u66f4\u65b0\n. @palmtale \u611f\u8c22\uff01\n. @Smallthing \u8fd9\u4e2a\u5730\u65b9\u786e\u5b9e\u6bd4\u8f83\u6076\u5fc3\uff0c\u6211\u518d\u60f3\u60f3\u600e\u4e48\u6539\u6bd4\u8f83\u5408\u9002\uff0c\u5982\u679c\u4f60\u6709\u597d\u7684\u5efa\u8bae\u6b22\u8fce\u63d0PR\n. @lialosiu OK,\u6211\u66f4\u65b0\u4e00\u4e0b\n. https://github.com/overtrue/wechat/wiki/%E6%B6%88%E6%81%AF%E7%9A%84%E4%BD%BF%E7%94%A8\n. @yedong0839 \u770b\u770b\u8fd4\u56de\u7684\u5185\u5bb9\u662f\u5565\uff0c\u5728Http.php\u5185\u8bb0\u65e5\u5fd7\u770b\u770b\n. @yedong0839 DIR \u662f\u5565\uff1f\u4f60\u81ea\u5df1\u5b9a\u4e49\u7684\u5e38\u91cf\u4e48\uff1f\n. @zhoujia123 \u80af\u5b9a\u80fd\u554a\n. 1. \u57df\u540d\u9700\u8981\u5728\u5fae\u4fe1\u540e\u53f0\u586b\u5199\u5b89\u5168\u57df\u540d\n2. \u53ea\u80fd\u8c03\u7528\u540c\u57df\n3. \u57df\u540d\u4e0d\u80fd\u4e3a\u672c\u5730\u5982localhost\u7b49\n. @wailovet 2.0 \u76ee\u524d\u53ea\u63a5\u53d7PR\uff0c\u4e0d\u6dfb\u52a0\u65b0\u529f\u80fd\uff0c\u56e0\u4e3a\u5728\u7740\u529b\u5f00\u53d13.0\n. @wailovet 3.0 \u5df2\u7ecf\u6709\u4e86\uff0c\u8bf7\u53c2\u9605\u6587\u6863\n. @iam993 \u5fae\u4fe1\u7684API\u8bbe\u8ba1\u5c31\u662f\u8fd9\u6837\u7684\uff0c\u592aSB\u4e86\uff0c\u5404\u79cd\u96be\u7528\uff0c\u540c\u4e00\u4e2aAPI\u8fd4\u56de\u4e0d\u540c\u7c7b\u578b... \n. @iam993 3.0\u91cc\u9762\u5df2\u7ecf\u652f\u6301\u83b7\u53d6\u6d41\u5185\u5bb9\uff0c\u76f4\u63a5\u628a\u539f\u5185\u5bb9\u7ed9\u4f60\uff0c\u8fd9\u6837\u4f60\u60f3\u600e\u4e48\u5904\u7406\u90fd\u65b9\u4fbf\u3002\n. @Someker \u5efa\u8bae\u4e0d\u8981\u5927\u4e8e10\u4f4d\uff0c\u6709\u670b\u53cb\u8bd5\u8fc7\uff0c\u5b98\u65b9\u5e76\u6ca1\u6709\u50cf\u6587\u6863\u8bf4\u7684\u4e00\u6837\u652f\u630132\u4f4d\n. \u660e\u660e\u90fd\u662f\u9519\u4e86\u96be\u9053\u8fd8\u8981\u9519\u8bef\u4f60\u6ca1\u9519\uff1f\u8fd9\u79cd\u60c5\u51b5\u4f60\u5e94\u8be5\u53bbtry catch\n. @ycj652901 http://mp.weixin.qq.com/wiki/14/89b871b5466b19b3efa4ada8e577d45e.html\n\u5b98\u65b9\u6ca1\u8bf4\u652f\u6301\u94fe\u63a5\u7c7b\u578b\u56de\u590d\u554a\uff0c\u8fd9\u4e2a\u7c7b\u53ea\u662f\u9884\u5907\u7528\u7684\n. @tangrucheng \u7528\u6d4b\u8bd5\u8d26\u53f7\u6d4b\u8bd5\u4e00\u4e0b\uff1f\n. Thanks. :+1: \n. @ustcwxz \u540e\u7eed\u6211\u8bd5\u4e00\u4e0b\n. https://github.com/overtrue/wechat/releases/tag/2.1.29\n\u9ebb\u70e6\u5e2e\u5fd9\u6d4b\u8bd5\u4e00\u4e0b\n. \u8fd9\u662f\u4e00\u4e2a\u901a\u7528\u7684 PHP \u5305\uff0c\u4efb\u4f55 PHP \u9879\u76ee\u90fd\u53ef\u4ee5\u7528\u5b83\u3002\n. \u660e\u660e\u62a5\u7684\u662f intervention/image \u5305\u7684\u7248\u672c\u53f7\u5199\u5f97\u4e0d\u5bf9\uff0c\u4e0e\u6211\u8fd9\u4e2a\u5305\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u9ebb\u70e6\u62a5\u9519\u65f6\u8bfb\u4e00\u4e0b\u9519\u8bef\u6d88\u606f\uff0c\u8c22\u8c22\u3002\n. @tsunamilx \u8fd9\u662f\u9057\u7559\u95ee\u9898\u4e86\uff0c\u8bf7\u4f7f\u7528 3.0 \u5206\u652f\u65b0\u7248\uff1ahttps://github.com/overtrue/wechat/tree/3.0\n3.0 \u652f\u6301\u4e86\u7b2c\u4e09\u65b9\u6388\u6743\u8c03\u7528\n. \u8bf7\u6c42\u7684\u65f6\u5019\u5fae\u4fe1\u670d\u52a1\u5668\u4e0d\u4f1a\u5e26\u7ed9\u4f60token\n. @cenxun \u8c22\u8c22\uff01\n. Thanks.\n. OK,\u6536\u5230\n. php\n$this->getTokenFromServer();\n\u8fd9\u4e00\u6b65\u5931\u8d25\u4f1a\u76f4\u63a5\u5f02\u5e38\u4e86\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u5224\u65ad\n. @chaoticjoy 3.0 \u6709\u6539\u8fdb\n. \u6709\u6ca1\u6709 unionid \u8bf7\u786e\u8ba4\u4f60\u52a0\u5230\u4e86\u5f00\u653e\u5e73\u53f0\uff0cSDK \u5e76\u4e0d\u5bf9\u8fd4\u56de\u503c\u505a\u5904\u7406\u3002. @zzpwestlife . @zzpwestlife \u4eba\u5bb6\u672c\u6765\u5c31\u6ca1\u8bf4\u5728 snsapi_base \u65f6\u4f1a\u8fd4\u56de Unionid \u554a\uff1a\n\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140842\nhttps://developers.weixin.qq.com/blogdetail?action=get_post_info&lang=zh_CN&token=&docid=70ea209ea2f0c70719467d692f0d4e34\n\n\n. \u4e3a\u5565\u4f1a\u6709\u91cd\u590d\u6dfb\u52a0\u7684\u95ee\u9898\uff0c\u5728\u5176\u5b83\u5730\u65b9\u90fd\u6ca1\u6709\u8bbe\u7f6e\u8fc7access token \u5462\n. @alpha1130 \u627e\u5230\u95ee\u9898\u6240\u5728\u4e86\uff0c\u662f\u91cd\u8bd5\u673a\u5236\u5bfc\u81f4\u7684\uff0c\u591a\u8c22\uff01\n. \u8fd9\u4e2a\u95ee\u9898\u6211\u4fee\u590d\u4e00\u4e0b\uff0c\u8c22\u8c22\uff01\n. @Comver \u7a0b\u5e8f\u5458\u4e0d\u8981\u6709\u90a3\u4e48\u591a\u5fc3\u601d\u5566\uff0c\u8be5\u6539\u5c31\u6539 :monkey_face: \n. http://easywechat.org/docs/zh-cn/payment.html#u751F_u6210_u5171_u4EAB_u6536_u8D27_u5730_u5740_JS__u914D_u7F6E\n. @punlap http://mp.weixin.qq.com/wiki/18/749901f4e123170fb8a4d447ae6040ba.html#.E5.88.A0.E9.99.A4.E5.AE.A2.E6.9C.8D.E8.B4.A6.E5.8F.B7 \u53ea\u6709\u4e00\u4e2a\u53c2\u6570\n. @punlap \u6211\u53d1\u73b0\u5fae\u4fe1\u7684\u6587\u6863\u6709\u4e24\u5904\u5173\u4e8e\u5ba2\u670d\u7ba1\u7406\u7684\u4e0d\u540c\u6587\u6863\uff1ahttp://mp.weixin.qq.com/wiki/11/c88c270ae8935291626538f9c64bd123.html#.E5.88.A0.E9.99.A4.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7\nhttp://mp.weixin.qq.com/wiki/18/749901f4e123170fb8a4d447ae6040ba.html#.E5.88.A0.E9.99.A4.E5.AE.A2.E6.9C.8D.E8.B4.A6.E5.8F.B7\n\u6211\u6539\u6210\u4e863\u4e2a\u53c2\u6570\u7684\u5f62\u5f0f\uff0c\u9ebb\u70e6\u4f60\u8bd5\u4e00\u4e0b\uff1a\n\u53c2\u8003\uff1ahttps://github.com/overtrue/wechat/commit/a13f067ab6aa89b519f141d2cbeeff366b680f30 \u7684\u53d8\u66f4\u6539\u4e00\u4e0b\u4f60\u7684\u4ee3\u7801\u8bd5\u8bd5\n. @punlap \u8fd9\u3002\u3002\u3002\uff0c\u4f60\u7684\u53c2\u6570\u600e\u4e48\u586b\u5199\u7684\u6211\u770b\u4e00\u4e0b\n. \u597d\u5427\uff0c\u90a3\u4f30\u8ba1\u662f\u5e73\u53f0\u6709\u95ee\u9898\u5427\n. @punlap \u9ebb\u70e6\u66f4\u65b0\u540e\u518d\u8bd5\u4e00\u4e0b\uff0c\u5982\u679c\u6ca1\u95ee\u9898\u4e86\u8bf7\u5173\u95ed\u6b64issue,\u8c22\u8c22\uff01\u6709\u95ee\u9898\u5c31\u7ee7\u7eed\u53cd\u9988\u3002\n. @yanqing6628780 \u660e\u767d\n. @yanqing6628780 \u9ebb\u70e6\u8bd5\u4e00\u4e0bPOST\u65b9\u5f0f\u662f\u5426\u53ef\u4ee5\uff0c\u5982\u679cOK\u6211\u76f4\u63a5\u6539\u6210POST\u8bf7\u6c42\n. \u597d\uff0c\u660e\u767d\u4e86\n. @yanqing6628780 \u6309\u6211\u7684\u4fee\u6539\u4e00\u4e0b\u8bd5\u8bd5\uff1ahttps://github.com/overtrue/wechat/commit/93488662ed9d59292bed7d75c4e6e06f7ecc8802\n. @yanqing6628780 \u5e94\u8be5\u597d\u4e86\u3002\n. :smile:\nleung notifications@github.com\u4e8e2016\u5e741\u670827\u65e5 \u5468\u4e0911:45\u5199\u9053\uff1a\n\n@overtrue https://github.com/overtrue \u6d4b\u8bd5\u8fc7\u6ca1\u6709\u95ee\u9898\u4e86~\u8c22\u8c22up\u4e3b\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/overtrue/wechat/issues/222#issuecomment-175374994.\n. @cutexin \u6b63\u5728\u8ddf\u8fdb\u8fd9\u4e2a\u95ee\u9898\n. https://github.com/overtrue/wechat/commit/b78be546eccb63b4cf62ca861d4afa02dba6420c\n. https://github.com/overtrue/wechat/blob/2.1/src/Wechat/Menu.php#L102-L112\n. @zhenyangjiang http://easywechat.org/docs/messages.html#u56DE_u590D_u591A_u56FE_u6587_u6D88_u606F\n. @sunmingyang \u4e0b\u6b21\u76f4\u63a5PR\u5427\n. @sunmingyang form_params \u5e94\u8be5\u5c31\u53ef\u4ee5\u4e86\uff0c\u6628\u5929\u662f form_options \u662f\u7531\u4e8e\u6211\u66ff\u6362\u65f6\u5f15\u8d77\u7684\u9519\u8bef\uff0c\u8be6\u7ec6\u8bf7\u53c2\u89c1\uff1a\n- body: http://docs.guzzlephp.org/en/latest/request-options.html#body\n- form_params http://docs.guzzlephp.org/en/latest/request-options.html#form-params\n. 1. \u4ee3\u7801\u98ce\u683c\n2. \u4e3a\u5565\u8981\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff1f\n. @motionlife Thanks.\n. @lichunqiang master \u4e0e develop \u90fd\u662f3.0\uff0cmaster \u662f\u7a33\u5b9a\u7248\uff0cdevelop \u662f\u5f00\u53d1\u7248\u53ef\u80fd\u5305\u542b\u4e00\u4e9b\u672a\u5b8c\u6210\u7684feature\uff0c\u8fd9\u6837\n. @krissss https://github.com/overtrue/socialite#custom-session-or-request-instance\n. @lichunqiang \u4e0d\u9700\u8981\u4fee\u6539\uff0c\u73b0\u57283.0\u672c\u6765\u5c31\u662f\u5f00\u53d1\u7248\uff0c\u800c\u4e14\u90a3\u4e2a\u81ea\u5df1\u7684\u5305\u4e0d\u662f\u5f3a\u4f9d\u8d56\uff0c\u53ea\u662f\u4e00\u4e2a\u5206\u53d1\u7528\u7684\u800c\u5df2\n. @motionlife \u662f\u7684\uff0c\u5fd8\u8bb0\u4e86\uff0c\u591a\u8c22\u63d0\u9192 \n. @krissss \u4e0b\u6b21\u76f4\u63a5PR\u561b\n. @krissss \u4f60\u8bf4\u7684\u662f2.1\u5427\uff1f\n. @krissss \n1. prepare(): https://github.com/overtrue/wechat/blob/master/src/Payment/API.php#L95\n2. request(): https://github.com/overtrue/wechat/blob/master/src/Payment/API.php#L358 \n\nprepare() \u6ca1\u6709\u4f20 $method, \u6240\u4ee5\u5728 request() \u4e2d\u4f7f\u7528 post \u9ed8\u8ba4\u503c\u53bb\u8c03\u7528Http::post() \n\u6ca1\u6709\u53d1\u73b0\u54ea\u91cc\u6709 http_build_query \u7684\u8c03\u7528\u554a\n. @krissss \u611f\u89c9\u4f60\u7684\u4ee3\u7801\u4e0d\u662f\u6700\u65b0\u7684\n. @krissss \u6ca1\u4e8b\uff0c\u5f00\u53d1\u7248\u6bcf\u5929\u90fd\u5728\u66f4\u65b0\uff0c\u9047\u5230\u95ee\u9898\u5148\u66f4\u65b0\u770b\u770b :smile: \n. @krissss @imyip \u8bf7\u4f7f\u75283.0\n. @motionlife \u8981\u4e0d\u4f60\u75283.0\u5427\uff0c\u6211\u5927\u6982\u77e5\u9053\u4f60\u7684\u95ee\u9898\u5e94\u8be5\u662f\u628a\u4e1a\u52a1\u903b\u8f91\u4e0e\u6388\u6743\u5199\u5728\u4e00\u4e2a\u9875\u9762\u7684\u539f\u56e0\u3002\n. Laravel?\n. \u5728\u6d4f\u89c8\u5668\u8bd5\u5427\uff1f\n. @BelinChung \u521a\u521a\u8bd5\u4e86\u4e00\u4e0b\uff1a\nphp\n$data = [\n     \"first\"    => \"\u606d\u559c\u4f60\\n\u8d2d\u4e70\u6210\u529f\uff01\",\n     \"name\" => \"\u5de7\u514b\u529b\",\n     \"price\" => \"39.8\u5143\",\n     \"remark\"   => \"\u6b22\u8fce\u518d\u6b21\u8d2d\u4e70\uff01\",\n];\n\u6ca1\u5565\u95ee\u9898\uff1a\n\n. @BelinChung PHP\u91cc\u53cc\u5f15\u53f7\u624d\u4f1a\u89e3\u6790\u8f6c\u4e49\u7b26\n. \u4f60\u5148\u56de\u53bb\u5fae\u4fe1\u5b98\u65b9\u6587\u6863\u770b\u770b\uff0c\u5565\u65f6\u5019\u8bf4\u652f\u6301\u56de\u590dlink\u7c7b\u578b\u6d88\u606f\u4e86\uff1f\npunlap notifications@github.com\u4e8e2016\u5e741\u670826\u65e5 \u5468\u4e8c16:45\u5199\u9053\uff1a\n\nwechat/src/Wechat/Messagephp\n\u6ca1\u6709link\uff0c \u7f3a\u5c11const LINK = 'link'; \uff0c\u62a5Error Message Type 'link'\n\u56de\u590d\u6d88\u606f\u4e3alink\u4f1a\u62a5\uff0c Overtrue\\Wechat\\Messages\\BaseMessage\u672a\u5b9e\u73b0\u6b64\u65b9\u6cd5\uff1atoReply()\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/overtrue/wechat/issues/269.\n. @chanpunlap \u8868\u683c\u4e0b\u9762\u7684\u8bf4\u660e\u6ca1\u770b\u5427\n. @colee1985 http://easywechat.org/docs/releases.html\n. @laione001 @zhang19960118 \u5df2\u7ecf\u6709\u4e86\n. \n. @krissss \u8bf7\u8d34\u4f60\u7684\u7528\u6cd5\uff0c\u4ee5\u53ca\u662f\u5426\u4e3a overtrue/socialite \u6700\u65b0\u7248\u672c\n. @krissss \u8bf7\u626b\u63cf\u4e00\u4e0b\u8fd9\u4e2a\u4e8c\u7ef4\u7801\uff0c\u7136\u540e\u8f93\u5165\u5185\u5bb9\uff1aoauth \u628a\u5f97\u5230\u7684\u7ed3\u679c\u622a\u5c4f\u53d1\u6211\u4e00\u4e0b\uff1a\n\n\n. fixed\n. fixed\n. @promiseline \u90a3\u5c31\u62b1\u6b49\u4e86\uff0c\u522b\u4eba\u540c\u68375.2\u6b63\u5e38\u4f7f\u7528\uff0c\u5982\u679c\u4f60\u4e0d\u80fd\u7ed9\u51fa \u201c\u4e0d\u80fd\u517c\u5bb9\u201d \u7684\u73b0\u8c61\uff0c\u6211\u4e5f\u65e0\u4ece\u4e0b\u624b\u5e2e\u5fd9\u4f60\u89e3\u51b3\u95ee\u9898\u4e86\n. @chao \u4e3a\u5565\u4e0d\u76f4\u63a5PR\u561b :octocat: \n. @chao :laughing: \n. \u5728\u6211\u53d1\u5e03\u65b0\u7248\u4e4b\u524d\u4f60\u53ef\u4ee5\u5148\u6309\u6211\u7684\u4ee3\u7801\u53d8\u66f4\u4fee\u6539\u7528\u7740\n. @hareluya \u8fd9... \n. @DarthPestilane utinizer-auto-fixer  \u4e0d\u8981\u7528\u56fd\u5185\u6e90\n. :+1: \n. @lichunqiang Thanks!\n. \u8bf7\u5c1d\u8bd5\u5728 stream=true \u7684\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539\u8fd9\u90e8\u5206\u4ee3\u7801\uff1a\nhttps://github.com/overtrue/wechat/blob/master/src/Material/Material.php#L95-L102\n\u4e3a\uff1a\nphp\n $params = [\n            'description' => json_encode(\n                [\n                    'title' => $title,\n                    'introduction' => $description,\n                ]\n            , JSON_UNESCAPED_UNICODE),\n        ];\n\u518d\u770b\u770b\u7ed3\u679c\u3002\n. @yanqing6628780 OK\uff0c\u5c31\u662f\u8bf4\u8fd9\u6837\u8fd8\u662f\u4e0d\u8fd4\u56de  media_id \u4e86\u561b\u3002\n\u6211\u518d\u60f3\u60f3\u662f\u5426\u6709\u5176\u5b83\u539f\u56e0\u3002\n. @stan415 \u4f60\u9047\u5230\u5565\u95ee\u9898\u4e86. @stan415 \u8d85\u65f6\u4e86\u5427\uff1f. @tianyong90 \n. @xjchengo \u9700\u8981\u7ffb\u5899\n. \u6587\u6863\u5fd8\u8bb0\u66f4\u65b0\uff0c3.1\u624d\u4f1a\u6709\n. @ac1982 \u5176\u5b83\u90fdOK\u4e86\uff0c\u8fd8\u8bf7\u8865\u5145\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5\u3002\n. @ac1982 \u5bf9\u4e86\uff0c\u5e94\u8be5\u5f80develop\u5206\u652f\u63d0\n. @ac1982 \u5565\u65f6\u5019\u6709\u7a7a\u8865\u4e00\u4e0b\u6587\u6863\u5457 :pray: https://github.com/EasyWeChat/docs/blob/zh-cn/payment.md\n. @mengjiaqi \u8bf7\u63d0\u4ea4\u5230develop\uff0c\u8c22\u8c22\uff01\n. @mengjiaqi \u53e6\u5916\u4f60\u7684\u63d0\u4ea4\u4e86\u9664\u4e86\u522b\u4eba\u7684\u63d0\u4ea4\uff0c\u4f60\u7684\u51e0\u6b21commit\u91cc\u6ca1\u6709\u6587\u4ef6\u3002\n\u5efa\u8bae\uff1a\n``` shell\n\u6dfb\u52a0\u6211\u7684\u5e93\u7684\u5730\u5740\n$ git remote add overtrue https://github.com/overtrue/wechat\n\u62c9\u53d6\u6211\u4ed3\u5e93 develop \u7684\u6700\u65b0\u72b6\u6001\u5230\u4f60\u672c\u5730\u5e76\u5408\u5e76\n$ git pull overtrue develop \n\u4fee\u590d\u672c\u5730\u51b2\u7a81\uff08\u5982\u679c\u6709\uff09\n\u505a\u672c\u5730\u63d0\u4ea4\npush\u5230\u4f60\u7684\u4ed3\u5e93\n\u5411 develop \u53d1\u8d77 PR\n```\n. @mengjiaqi :laughing: \n. @tianyong90 \n. @tianyong90 https://github.com/overtrue/wechat/blob/master/src/Payment/LuckyMoney/API.php#L132\n. @sxpd7788 https://github.com/overtrue/wechat/blob/master/src/Core/AbstractAPI.php#L150\nhttps://github.com/overtrue/wechat/blob/master/src/Core/AbstractAPI.php#L161-L171\n. @zxz054321 https://github.com/overtrue/wechat/commit/6c78b40e95d40f6fc67b1453a80c5c8b75f176d7\n. @ForeverGlory \u8bf7\u63d0\u4ea4\u5230 develop \u5206\u652f\uff0c\u8c22\u8c22\uff0c\u53e6\u5916 return \u524d\u9762\u7a7a\u884c\n. @ForeverGlory \u5728 issue \u6216\u8005 pull request \u7684 \u8bc4\u8bba\u91cc\uff0c\u4f7f\u7528\u4ee3\u7801\u5757\u7684\u65b9\u5f0f\uff1a\n```php\n\u8fd9\u91cc\u653e PHP \u4ee3\u7801\n```\n\u8fd9\u6837\u4ee3\u7801\u5c31\u4f1a\u50cf\u6211\u7ed9\u4f60\u6539\u8fc7\u7684\u6837\u5b50\u4e00\u6837\u9ad8\u4eae\u4e86\u3002:smile:\n. @sxpd7788 \u8bf7\u6309\u6211\u7684\u4fee\u6539\u6539\u4e00\u4e0b\u4ee3\u7801\u6d4b\u8bd5\u4e00\u4e0b\u544a\u8bc9\u6211\u7ed3\u679c\u6211\u6765\u53d1\u7248\nhttps://github.com/overtrue/wechat/commit/06d78513f0d8f574541d4f21e170d6b99408b66a\n. @sxpd7788 \u52a0\u6211QQ: 44294631\n. \u8bf7\u7a0d\u5fae\u62bd\u51fa2\u79d2\u7684\u65f6\u5019\u770b\u4e00\u4e0b\u62a5\u9519\u4fe1\u606f\u518d\u63d0\u95ee\uff0c\u660e\u660e\u5199\u7740\uff1a\nshell\nrequires ext-mcrypt\n. \u901a\u77e5\u6d88\u606f\u6ca1\u6709\u7eaf\u6587\u672c\u7684\uff0c\u6240\u4ee5\u5e94\u8be5\u662f\u5ba2\u670d\u6d88\u606f\n. \u611f\u8c22\uff0c\u5df2\u7ecf\u66f4\u6362\u4e86\u3002\n. :+1:\n. -1 \u9519\u8bef\u662f\u5fae\u4fe1\u8fd4\u56de\u7684\n. @skyfister \u5bf9\u540c\u4e00\u7b14\u8ba2\u5355\uff1f\u591a\u6b21\u9000\u6b3e\uff1f\n. @skyfister \u5efa\u8bae\u4f60\u4f7f\u75283.0, 2.x \u7684\u652f\u4ed8\u90e8\u5206\u4e0d\u662f\u6211\u5199\u7684\n. @skyfister \u662f@jaring \u7fa4\u91cc\u7684 \u6635\u79f0\u597d\u50cf\u662f\uff1a\u67ab\u6797\u6b8b\u5fc6\n. @skyfister \u662f\u5426\u89e3\u51b3\u4f60\u7684\u95ee\u9898\uff1f\u5982\u679c\u89e3\u51b3\u8bf7close. \u8c22\u8c22\uff01\n. #342 \n. http://easywechat.org/\n. \u521a\u521a\u6dfb\u52a0\u4e86https\u652f\u6301\n. 3.0 \u6ca1\u6709\u8fd9\u4e2a\u4e1c\u897f\u3002\n. @JobsLong \u597d\u7684\n. $message->ScanCode \u672c\u6765\u5f97\u5230\u7684\u5c31\u5df2\u7ecf\u662f\u6570\u7ec4\u4e86\uff0c\u4f60\u518d\u53bb\u6570\u7ec4\u5f53\u6210\u5bf9\u8c61\u7528\u80af\u5b9a\u662f\u4e0d\u884c\u554a\u3002\nphp\n$message->ScanCodeInfo['ScanType'];\n. \u4f46\u662f wechat \u5e93\u91cc\u9762 \u786e\u662f \u901a\u8fc7\u76f4\u63a5\u83b7\u53d6\u7684 \u4ee3\u7801\u5462\uff1f\n. @ancon \u52a0\u6211QQ\uff1f44294631\n. \u5df2\u7ecf\u4fee\u597d\u4e86\u3002\u8c22\u8c22\uff01\n. \u4e0d\u80fd\u70b9\u51fb\u8fd4\u56de\u554a\uff0c\u8fd4\u56de\u53c8\u8bf7\u6c42\u4e86\u4e00\u6b21\uff0c\u800c\u4e14\u8fd9\u6b21\u8bf7\u6c42\u4f7f\u7528\u7684\u4e0a\u4e00\u6b21\u7684code\uff0c\u62ff\u4e0d\u5230access_token\uff0c\u5f53\u7136\u62a5\u9519\u4e86\u3002\n. @alwaystrong \u901a\u5e38\u7684\u505a\u6cd5\u662f\u6388\u6743\u5b8c\u4e8b\u540e\u5e94\u8be5\u662fredirect\u5230\u4f60\u7684\u4e1a\u52a1\u9875\u9762\uff0c\u800c\u4e0d\u662f\u5728\u6388\u6743\u5b8c\u4e8b\u7684\u9875\u9762\u5c31\u663e\u793a\u4e1a\u52a1\u754c\u9762\u3002\n. @104260033 \u8bf7\u8bc1\u660e\u5b83\u6ca1\u6709\u53bb\u81ea\u52a8\u5237\u65b0\u3002\u6211\u5728 SDK \u91cc\u6709\u8fd9\u4e2a\u903b\u8f91\u3002\n. https://github.com/overtrue/wechat/blob/master/src/Core/AbstractAPI.php#L158-L174\n. @104260033 https://github.com/overtrue/wechat/blob/master/src/Core/AbstractAPI.php#L204\n. \u6ca1\u7528 overtrue/laravel-wechat \u5427\uff1f\n. @deathkel \u90a3\u4f60\u53c2\u8003\uff1ahttps://github.com/overtrue/socialite#set-custom-session-manager\n\u628a Laravel \u7684 Session \u653e\u8fdb\u53bb\u770b\u770b\n. @zxz054321 \u76ee\u524d\u6ca1\u6709\u9a8c\u8bc1\u554a\n. OK\n. @caolixiang \u8bf7\u67e5\u770b \u4f60\u7684web\u670d\u52a1\u5668\u9519\u8bef\u65e5\u5fd7\uff0c\u4e0d\u4e00\u5b9a\u95ee\u9898\u51fa\u5728\u8fd9\u91cc\u3002\u800c\u4e14\uff0c\u5efa\u8bae\u8d34\u4ee3\u7801\u591a\u4e0a\u51e0\u884c\uff0c\u5982\u679c\u4f60\u77e5\u9053\u95ee\u9898\u51fa\u5728\u8fd93\u884c\u90a3\u4f30\u8ba1\u4f60\u90fd\u5df2\u7ecf\u6539\u597d\u4e86\u3002\u5bf9\u5427\n. \u4ee3\u7801\u5462\uff1f\u9760\u6211\u731c\uff1f\n. \u914d\u7f6e\u91cc\u7684\uff1a\n``` php\n 'app_id'  => '',         // AppID\n 'secret'  => '',     // AppSecret\n\u8fd8\u6709 \n'payment' => [\n        'merchant_id'        => '',\n        'key'                => '',\n```\n\u9879\u76ee\u4ee3\u7801\u662f\u7a7a\u7684\u8fd8\u662f\u4f60\u5728 issue \u91cc\u7559\u7a7a\u7684\uff1f\n. \u4f60\u786e\u5b9a\u4e0a\u9762\u6211\u63d0\u5230\u7684\u90e8\u5206\u90fd\u662f\u6b63\u786e\u7684\uff1f\n. @Liv1020 \u4f60\u7684notify_url\u5462\uff1f\n. @Liv1020 \u8fd8\u6709openid https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_1\n. @Liv1020 \u4f60\u7684wechat \u5177\u4f53\u7248\u672c\u662f\u591a\u5c11\uff1f \nphp\ncomposer info overtrue/wechat\n. \u518d\u627e\u627e\u539f\u56e0\u5427\uff0c\u4ed6\u4eec\u7684\u6587\u6863\u5751\u591a\u7740\u5462\n. @huijimuhe \u7528\u76842.0\uff1f\n. @huijimuhe \u5efa\u8bae\u7528 3\n. @Liv1020 \u56e0\u4e3a\u7fa4\u91cc\u6709\u4eba\u5df2\u7ecf\u628a\u652f\u4ed8\u505a\u597d\u4e86\uff0c\u4e0b\u5355\u4ec0\u4e48\u7684\u4e5f\u90fdOK\u4e86\uff0c\u56e0\u4e3a\u6211\u4e5f\u6ca1\u6709\u76f8\u5173\u9879\u76ee\uff0c\u6240\u4ee5\u6211\u4e5f\u65e0\u6cd5\u77e5\u9053\u8fd9\u4e2a\u51fa\u73b0\u7684\u539f\u56e0\u3002\u6240\u4ee5\u53ea\u80fd\u9760\u4f60\u4eec\u53bb\u5c1d\u8bd5\u68c0\u67e5\u53c2\u6570\u7684\u7ed3\u6784\u6765\u786e\u8ba4\u95ee\u9898\u4e86\u3002\n. @Liv1020 @huijimuhe \u66f4\u65b0\u5230 3.0.15 \u770b\u770b #402 \n. @samplecms \u63d0\u95ee\u8bf7\u5e26\u4e0a\u4e0b\u6587\u53ca\u5fc5\u8981\u7ec6\u8282\uff0c\u8282\u7701\u5927\u5bb6\u65f6\u95f4\uff0c\u8c22\u8c22\uff01\n. https://easywechat.org/docs/zh-cn/cache.html\n. @xifat \u4e00\u6837\uff0c\u53ea\u8981\u5728\u8c03\u7528\u524d\uff0c\u4efb\u4f55\u5730\u65b9\u8bbe\u7f6e\u90fd\u884c\u3002\n. \u8bf7\u4e0d\u8981\u91cd\u590d\u63d0\u4ea4\u591a\u4e2aPR\u3002\n. \u4e0e #384 \u91cd\u590d\u3002\n. @xiaobeifeng  \u4e0b\u56de\u63d0PR\uff0c\u5148 clone \u9879\u76ee\u5230\u4f60\u7684\u540d\u4e0b\uff0c\u7136\u540e\u4fee\u6539\u4ee3\u7801\uff0c\u5b8c\u6210\u6574\u4e2a Feature \u540e\uff0c\u518d\u53d1\u8d77 PR\u3002\u8fd9\u6837\u5c31\u597d\u770b\u4e5f\u597d\u5904\u7406\u4e9b\u3002\n. @eastonqiu \u5e76\u53d1\u66f4\u65b0\u8fd9\u4e2a\u95ee\u9898\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0a\u5f88\u96be\u907f\u514d\uff0c\u5f53\u7136\u4f60\u53ef\u4ee5\u7528redis\u505a\u5b58\u50a8\u7684\u8bdd\u5e94\u8be5\u673a\u7387\u5c0f\u5f88\u591a\u3002\n. @eastonqiu \u5b58\u53d6\u4f1a\u5feb\u4e9b\u554a\uff0c\u5c31\u964d\u4f4e\u4e86\u5355\u4e2a\u8fdb\u7a0b\u6240\u8017\u8d39\u7684\u65f6\u95f4\u3002\n. test.com? \n. @alwaystrong \u4f60\u73b0\u5728\u7684\u5199\u6cd5\u662f\u5728\u54ea\u513f\u5f97\u5230\u4e0a\u9762\u7684url\u7684\uff1f\n. @alwaystrong OK\u3002\n. @lideshun123 https://easywechat.org/docs/zh-cn/troubleshooting.html\n. @wuhong1986 Thanks.\n. @jinchun \n. \u66f4\u65b0\u7248\u672c\u4e86\u4e48\uff1f\u8fd9\u662f\u6628\u5929\u53d1\u7248\u7684 3.0.13\n. @fathoo JSSDK \u662f\u5c0f\u5199\uff1a\njs\nwx.chooseWXPay({...});\n\u4e0b\u9762\u7684\u5199\u6cd5\u624d\u662f\u5927\u5199\uff1a\njs\nWeixinJSBridge.invoke(\n      'getBrandWCPayRequest',\n      ...\n    );\n. @icedeng \u8bd5\u8bd5\uff1a$params = array_filter($params);\n. composer info guzzlehttp/guzzle \u628a\u7ed3\u679c\u7c98\u8d34\u5230\u8fd9\u91cc\u6211\u770b\u770b\u3002\n. \u597d\u7684\n. \ud83d\udc7b \n. https://easywechat.org/zh-cn/docs/\n. @zyj007 \u5efa\u8bae\u628a\u5f04\u9519\u7684\u539f\u56e0\u8d34\u4e0a\uff0c\u4fbf\u4e8e\u5e2e\u5fd9\u5176\u5b83\u4eba\uff0c\u8c22\u8c22\uff01\n. https://github.com/EasyWeChat/docs/commit/9083a30831481de5d7a41a4ece1b6a167f4fe901\n. 3.0.17\nSent using CloudMagic Email [https://cloudmagic.com/k/d/mailapp?ct=pi&cv=7.11.24&pv=9.3.1&source=email_footer_2]\nOn \u5468\u4e8c, 5\u6708 17, 2016 at 6:41 \u4e0b\u5348, LightOfHeaveN notifications@github.com wrote:\n\u7248\u672c3.0.16\uff0c\u8fd9\u6837\u914d\u7f6e\u6ca1\u6709\u6548\u679c\u3002\u6ca1\u6709\u5728\u4ee3\u7801\u91cc\u9762\u627e\u5230\u6709\u63d0\u53d6guzzle\u914d\u7f6e\u7684\u5730\u65b9\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly or view it on GitHub [https://github.com/overtrue/wechat/issues/415#issuecomment-219681910]\n. \u4f60\u7684\u8c03\u7528\u4ee3\u7801\u5462\uff1f\n. @geeyan \u4efb\u4f55\u6d88\u606f\u7c7b\u578b\u90fd\u652f\u6301\n. @geeyan \u989d\uff0c\u9664\u4e86\u6d88\u606f\u4ee5\u5916\u5176\u5b83\u57fa\u672c\u90fd\u662f\u4e8b\u4ef6\u3002\u3002\u3002\uff0c\u4f60\u81ea\u5df1\u5728\u65e5\u5fd7\u91cc\u660e\u660e\u90fd\u770b\u89c1\u4e86\uff1a\n\"MsgType\":\"event\",\"Event\":\"SCAN\"\n\u4f60\u89c9\u5f97\u5e94\u8be5\u5728\u54ea\u4e2a\u5206\u652f\uff1f\n. @cnjack \u5176\u5b9e\u4f60\u4e0d\u9700\u8981\u8fd9\u6837\uff0c\u4f60\u7684\u7528\u6cd5\u80af\u5b9a\u9519\u8bef\u4e86\uff0c\u6211\u731c\u4f60\u5e94\u8be5\u662f\uff1a\nphp\necho $response;\n\u6216\u8005\uff1a\nphp\nreturn $response;\n\u5e94\u8be5\u662f\u8fd9\u6837\u7528\u6cd5\u6240\u81f4\uff0c\u5728\u9875\u9762\u51fa\u73b0\u94fe\u63a5\u7684\u539f\u56e0\u4f30\u8ba1\u662f\u4f60\u7684\u6846\u67b6\u5e76\u4e0d\u652f\u6301\u8fd4\u56de Response \u5bf9\u8c61\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u5e94\u8be5\u8fd9\u6837\u7528\uff1a\nphp\n$response->send();\n. @cnjack yaf:\nphp\n$response->send(); exit;\n. @cnjack \u597d\u5427\u3002\u3002\u3002\n. php\n$oauth->redirect()->send(); exit;\n\u8fd9\u6837\u80af\u5b9a\u662f\u884c\u7684\n. @cnjack \u6ca1\u4e8b\uff0c\u4e0d\u75bc\u3002:laughing:\n. composer info overtrue/wechat \u7136\u540e\u8d34\u7ed3\u679c\u4e0a\u6765\n. @Jasonwdt \u6211\u5c31\u77e5\u9053\u5e94\u8be5\u662f\u7248\u672c\u592a\u65e7\u3002\u3002\u3002\n. composer update overtrue/wechat\nSent using CloudMagic Email [https://cloudmagic.com/k/d/mailapp?ct=pi&cv=7.11.24&pv=9.3.1&source=email_footer_2]\nOn \u5468\u4e09, 6\u6708 1, 2016 at 11:07 \u4e0a\u5348, Jasonwdt notifications@github.com wrote:\n\"overtrue/wechat\": \"~3.0\",\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/issues/433#issuecomment-222880971] , or mute the thread [https://github.com/notifications/unsubscribe/ABZ3YCeD1G_PvzZHtK6hDwS53e6r4cylks5qHPdwgaJpZM4IrHvV] .\n. @dxywx \u4ee3\u7801\u5462\uff1f\n. @dxywx \u65e5\u5fd7\u91cc\u7684\uff1aServer response created: \u8fd9\u91cc\u5982\u679c\u6709XML\u7ed3\u6784 \u5982\u679c\u6709\u6b63\u5e38\u7684XML\u7ed3\u6784\uff0c\u4f60\u770b\u770b\u4ece\u8bf7\u6c42\u5230\u8fbe\u4e00\u76f4\u5230\u8fd9\u6761\u65e5\u5fd7\u51fa\u73b0\u82b1\u4e86\u591a\u4e45\uff08\u65e5\u5fd7\u524d\u9762\u6709\u65f6\u95f4\uff0c\u5bf9\u6bd4\u4e00\u4e0b\u5c31\u77e5\u9053\uff09\u5982\u679c\u5927\u4e8e 5s, \u5219\u53ef\u80fd\u662f\u4f60\u7684\u4e1a\u52a1\u903b\u8f91\u592a\u590d\u6742\u5bfc\u81f4\u8d85\u65f6\u6240\u81f4\u3002\n. @dxywx \u4e0d\u9700\u8981\u4f60\u8fd4\u56de\u4efb\u4f55\u4e1c\u897f\u3002\u3002\u3002 SDK \u81ea\u5df1\u5904\u7406\uff0c\u9664\u975e\u4f60\u8981\u56de\u590d\u6d88\u606f\u3002\n. @samplecms \u5b89\u5168\u6a21\u5f0f\u4e0b AES_KEY \u4f60\u586b\u5199\u5728\u54ea\u513f\u4e86\uff1f\n. @samplecms https://easywechat.org/zh-cn/docs/configuration.html \u4e00\u76f4\u5c31\u5199\u7740\u7684\u597d\u5427\uff1f\n. @dxywx server \u7aef\u662f\u7ed9\u5fae\u4fe1\u670d\u52a1\u5668\u8bbf\u95ee\u7684\uff0c\u4e0d\u662f\u8ba9\u4f60\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u7684\u3002\u4f60\u8bbf\u95ee\u7684\u65f6\u5019\u53c8\u6ca1\u5e26\u7b7e\u540d\u6ca1\u5e26\u5fc5\u8981\u7684\u53c2\u6570\uff0c\u5fc5\u7136\u4f1a\u62a5\u9519\u3002\n. \u76ee\u524d\u4e0d\u652f\u6301\nvia CloudMagic for Mac [https://cloudmagic.com/k/d/mailapp?ct=dx&cv=7.12.46&pv=10.11.5&source=email_footer_2]\nOn \u5468\u56db, 6\u6708 16, 2016 at 10:23 \u4e0a\u5348, chenghaojun notifications@github.com wrote:\n\u6211\u7528\u7684\u73af\u5883\nPHP \u7248\u672c\uff1a\novertrue/wechat \u7248\u672c\uff1a~3.0\n\u95ee\u9898\u53ca\u73b0\u8c61\n\u516c\u4f17\u53f7\u662f\u6388\u6743\u63a5\u5165\u7684\uff0c\u4e0d\u4e00\u5b9a\u6709 token \u7b49\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/issues/438] , or mute the thread [https://github.com/notifications/unsubscribe/ABZ3YHVZ7FivD_BEJIDxuB-ME9RRgoc7ks5qMLOmgaJpZM4I2968] .\n. \u2764\ufe0f \n. @ancon \u8bf7\u95ee\u8bf7\u5e26\u4e0a\u4e0b\u6587\uff0c\u51fa\u9519\u662f\u51fa\u5565\u9519\u3002\u3002\u3002\n. @ancon \u8fd8\u6709\u4e3a\u5565\u4e0d\u6309 issue \u6a21\u677f\u586b\u5199\uff1f\n. @dingdayu \u9700\u8981\u518d\u52a0\u4e00\u4e2a\u914d\u7f6e\u7c7b\u578b\u68c0\u67e5\uff0c\u5fc5\u987b\u5b9e\u73b0\u7f13\u5b58\u63a5\u53e3\u7684\u5bf9\u8c61\n. @dingdayu \u4e0d\u597d\uff0c\u4e07\u4e00\u7528\u6237\u4e0d\u60f3\u7528\u8fd9\u4e2a\u5e93\u7684\u7f13\u5b58\u60f3\u81ea\u5b9a\u4e49\u600e\u4e48\u529e\uff1f\u8fd8\u662f\u7528\u63a5\u53e3\u68c0\u67e5\uff0c\u8fd9\u662f\u63a5\u53e3\u5b58\u5728\u7684\u610f\u4e49 \u3002\n. @dingdayu \u524d\u9762\u5199\u9519\u4e86\u3002\u3002\u3002\uff0c\u662f Cache\\Cache,\u4f60\u5c11\u5199\u4e86\u4e00\u5c42\u3002\u3002\u3002\n. \u56e0\u4e3a\u4f60\u7684 Laravel \u4f9d\u8d56\u7684\u662f symfony/http-foundation 2.6.13, \u800c\u6211\u7684\u5305\u4f9d\u8d56\u7684\u662f 2.7/2.8/3.0\n. @gentcys \u518d\u8bd5\u4e00\u4e0b\n. 3.0 -> 3.1\n. \u54c8\u54c8\uff0c\u624b\u673a\u4e5f\u53ef\u4ee5\u770b\u561b\n. \ud83d\ude3f \n. \u6ca1\u6709\uff0c\u5361\u5238\u8d8a\u6539\u8d8a\u4e71\u4e86\uff0c\u8fc7\u4e00\u6bb5\u65f6\u95f4\u4f1a\u6709\u670b\u53cb  PR \u8fd9\u4e2a\u529f\u80fd\u8fc7\u6765\n. @canon4ever \u8bd5\u8fc7\u4e86\u4e48\uff1f\n. \u55ef\u5566\uff0c\ud83d\ude4f\nOn \u5468\u4e09, 7\u6708 20, 2016 at 2:46 \u4e0a\u5348, canon4ever notifications@github.com wrote:\n\u6211\u786e\u5b9a\uff0c\u627e\u8fd9\u4e2a\u5730\u65b9\uff0c\u627e\u4e864~5\u4e2a\u5c0f\u65f6\u3002\n\u7136\u540e\u5355\u72ec\u5199\u4e86\u6587\u4ef6\uff0c\u5206\u522b\u7528hhvm\u548cphp\u8dd1\u8fc7\u4e86\u6d4b\u8bd5\u3002\n\u7ec8\u4e8e\u53d1\u73b0\u662f\u8fd9\u91cc\u51fa\u4e86\u95ee\u9898\u3002\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/pull/455#issuecomment-233728588] , or mute the thread [https://github.com/notifications/unsubscribe-auth/ABZ3YEjf3IlT1acI_0R03Uw2bo3FSqnjks5qXRuYgaJpZM4JLc1l] .\n. @leetom \u611f\u8c22\uff01\n. @wangniuniu \u547d\u540d\u89c4\u8303\u6709\u95ee\u9898\uff0c\u53d8\u91cf\uff0c\u65b9\u6cd5\u8bf7\u7edf\u4e00\u4f7f\u7528\u9a7c\u5cf0\n. @wangniuniu \u5355\u5143\u6d4b\u8bd5\u597d\u50cf\u8fd8\u662f\u6709\u95ee\u9898\uff1ahttps://travis-ci.org/overtrue/wechat/jobs/145447933\n. @wangniuniu \u52a0\u6cb9\uff0c\u5b9e\u5728\u4e0d\u597d\u610f\u601d\u63d0\u5f97\u6709\u70b9\u591a\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u4ee3\u7801\u98ce\u683c\u4e00\u81f4\uff0c\u5e0c\u671b\u4e0d\u81f3\u4e8e\u8ba9\u4f60\u70e6\u5230\u4e0d\u60f3\u6539\u4e86\u3002:smile: \n. @wangniuniu \u6211\u770b\u6539\u5f97\u5feb\u5dee\u4e0d\u591a\u4e86\uff0c\u7136\u540e\u4f60\u53ef\u4ee5\u5728 PR \u540e\u89c2\u6ce8\u4e0b\u56fe\u7684\u72b6\u6001\uff1a\n\n\u524d\u9762\u6709\u7ea2\u53c9\u7684\u8868\u793a\u4e0d\u901a\u8fc7\uff0c\u70b9\u51fb\u540e\u9762\u7684 Details \u67e5\u770b\u8be6\u60c5\u3002\n. @wangniuniu \u7136\u540e\u6709\u4e00\u4e2a\u4e1c\u897f\u53eb PHP-CS-Fixer\uff0c\u5b83\u53ef\u4ee5\u7ea0\u6b63\u4f60\u4ee3\u7801\u91cc\u7684\u4ee3\u7801\u89c4\u8303\u95ee\u9898\uff0c\u6bd4\u5982\u5bf9\u9f50\uff0c\u7559\u767d\u8fd9\u4e9b\u7b80\u5355\u7684\u3002\u5f53\u7136\u6700\u597d\u8fd8\u662f\u770b\u4e00\u4e0b\u5b83\u4fee\u590d\u4e86\u4ec0\u4e48\uff0c\u8fd9\u6837\u4fbf\u4e8e\u4ee5\u540e\u5199\u4ee3\u7801\u7684\u65f6\u5019\u5c31\u6b63\u786e\u7684\u5199\u3002\n. @dingdayu \u611f\u8c22\u63d0\u9192\uff0c\u5df2\u7ecf\u4fee\u590d\u3002\n. \ud83d\udc4d \n. @dingdayu $nextOpenId \u5e94\u8be5\u662f\u53ef\u9009\u7684\uff0c\u5df2\u7ecf\u4fee\u590d\u3002\n. \u55ef\u5566\uff0c\u52a0\u6cb9\uff01\nOn \u5468\u56db, 7\u6708 21, 2016 at 3:45 \u4e0b\u5348, \u4e01\u5c0f\u96e8 notifications@github.com wrote:\n\u5355\u5143\u6d4b\u8bd5\u4e5f\u5ffd\u7565\u4e86\uff0c\u4e0b\u6b21\u4f1a\u6ce8\u610f\u3002\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/pull/467#issuecomment-234180932] , or mute the thread [https://github.com/notifications/unsubscribe-auth/ABZ3YBXllkBGWxTv75pSZAiyh9Au5nW2ks5qXyOGgaJpZM4JRgdK] .\n. \u8d34\u4ee3\u7801\u8bf7\u7528 markdown \u683c\u5f0f\u3002\n. @wangniuniu \u4f60\u770b\u770b\uff1f\n. @wangniuniu \u662f\u5426\u6d4b\u8bd5\u8fc7\u4e86\uff1f\u6211\u53ef\u4ee5\u5173\u6389\u4e86\u4e48?\n. @wangniuniu \u597d\u7684\n. @ac1982 @li7721994 \u611f\u8c22\uff0c\u5df2\u7ecf\u5728\u76f8\u5173\u6587\u6863\u4e0a\u6dfb\u52a0\u8bf4\u660e https://github.com/EasyWeChat/docs/commit/06f2994c170cb1411eb54403a0a9aaf387960cd3\n. @tomhaoye oauth \u534f\u8bae\u662f\u4e0d\u80fd\u5728\u5931\u8d25\u9875\u9762\u5237\u65b0\u7684\uff0c\u5237\u65b0\u5c31\u5fc5\u7136\u662f \"The key \"access_token\" could not be empty.\"\n\u7b2c\u4e00\u4e2a\u95ee\u9898\u5e94\u8be5\u662f\u4f60\u7684 sessionid \u4e22\u5931\u9020\u6210\u7684\u3002\n. @tomhaoye state \u4f7f\u7528 session \u5b58\u50a8\n. @tomhaoye \u55ef\uff0c\u6211\u4e5f\u540c\u610f\uff0c\u5927\u90e8\u5206\u53ef\u80fd\u662f\u5fae\u4fe1\u6d4f\u89c8\u5668\u7684\u95ee\u9898\u3002\n. \u5e94\u8be5\u662f\u4f60\u7684\u670d\u52a1\u5668\u8bf7\u6c42\u5fae\u4fe1 API \u7684\u65f6\u5019\u7f51\u7edc\u6296\u52a8\u5427\u3002\n. \u4e0d\u5ba2\u6c14\nOn \u5468\u4e94, 8\u6708 5, 2016 at 11:10 \u4e0a\u5348, yiweiq notifications@github.com wrote:\n\u55ef\uff0c\u51fa\u73b0\u51e0\u7387\u5f88\u4f4e\uff0c\u611f\u89c9\u4e5f\u8ddf\u7f51\u7edc\u95ee\u9898\u6709\u5173\uff0c\u8c22\u8c22\u5566\ud83d\ude04\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/issues/481#issuecomment-237744774] , or mute the thread [https://github.com/notifications/unsubscribe-auth/ABZ3YLUsGGeSmRaLl2ndgsVn2FwprRE5ks5qcqm8gaJpZM4JcQxK] .\n. @Hexor \u90a3\u4f60\u7684\u610f\u601d\u662f\uff1f. @greedying \u90a3\u4e5f\u8bb8\u662f\u4ed6\u4eec\u505a\u4e86\u517c\u5bb9\u5427\uff0c\u53cd\u6b63\u6587\u6863\u4e0a\u6709\u8fd9\u4e2a\uff0c\u5c31\u5199\u4e0a\u4e86\u3002\n. \u8981\u4e0d\u4f60\u6709\u7a7a\u5b66\u4e60\u4e00\u4e0b  XML\uff1f\n. @chao \u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\u80af\u5b9a\u9700\u8981\u4f60\u4f20 Request \u8fdb\u53bb\u7684\uff0c\u56e0\u4e3a Request::createFromGlobals() \u662f\u4ece\u8d85\u5168\u5c40\u53d8\u91cf\u521b\u5efa\n. @chao :smile: \u4e0d\u5ba2\u6c14 \n. \u4e3a\u5565\u8981\u5f04\u975e 443?\n. @JKair \u8bf7\u8ba4\u771f\u9605\u8bfb\u6587\u6863\uff1ahttps://easywechat.org/zh-cn/docs/payment.html#\u751f\u6210\u652f\u4ed8-JS-\u914d\u7f6e\n. Thanks.\n. @yhs603 \u8fd9\u95ee\u9898\u6211\u53ef\u89e3\u51b3\u4e0d\u4e86\uff0c\u4f60\u8981\u4e48\u628a\u8c03\u7528\u7ed3\u679c\u7f13\u5b58\u8d77\u6765\uff0c\u8981\u4e48\u4f60\u5c31\u627e\u5fae\u4fe1\u7ed9\u4f60\u653e\u5f00\u70b9\u9650\u5236\u3002\n. @403studio \u6b22\u8fce PR\n. \u62b1\u6b49\uff0c\u5176\u5b83\u7ba1\u7406\u5458\u8bbe\u7f6e\u7684\u95ee\u9898\uff0c\u6211\u5df2\u7ecf\u4fee\u6539\u4e86\u3002\nOn \u5468\u56db, 9\u6708 8, 2016 at 3:39 \u4e0b\u5348, kuoyehs notifications@github.com wrote:\n\u5728\u52a0\u5165QQ\u4ea4\u6d41\u7fa4 ID: 319502940 \u6642,\nQQ\u6703\u8981\u6c42\u6211\u56de\u7b54\uff1a\u8a72\u6846\u67b6\u6587\u6a94\u5b98\u7db2\u57df\u540d\n\u6211\u586b\u5bebeasywechat.org\u4ecd\u7121\u6cd5\u9032\u53bb\n\u8b1d\u8b1d\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub [https://github.com/overtrue/wechat/issues/501] , or mute the thread [https://github.com/notifications/unsubscribe-auth/ABZ3YKmkGsOvMWwffoV-8YvaZbKnbVobks5qn7umgaJpZM4J3sxC] .\n. @aszx0413 \u6ca1\u6709\u554a\n. \u4f60\u7528\u7684\u4ec0\u4e48\u7248\u672c\u5728\u52a0\uff1fMac?\u4f60\u7528\u624b\u673a\u52a0\u4e00\u4e0b\u8bd5\u8bd5\n. \u68c0\u67e5\u4f60\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u8c22\u8c22\u3002. @tomhaoye \u6253\u4e2a\u7535\u8bdd\u7ed9\u5fae\u4fe1\uff0c\u4e0d\u8981\u518d\u56de\u8c03\u4e86\uff0c\u4e5f\u8bb8\u4f1a\u89e3\u51b3\u3002\n. @ww380459000 \nphp\n$image = $material->get($mediaId);\nfile_put_contents('/foo/abc.jpg', $image);. @vic-volk So?. @vic-volk This package is not an official SDK.. @vic-volk Good Job. \ud83d\udc4d . @skyred \nphp\n$app = new Application($options);\n$payment = $app->payment->sandboxMode(true);. @yurenzhen sorry, \u6211\u7684\u5931\u8bef\uff0c\u5df2\u7ecf\u91cd\u65b0\u53d1\u7248\u4e86\u3002\n. @marianoasselborn Thanks.\n. \u8bf7\u6309\u6a21\u677f\u63d0\u95ee\uff0c\u8c22\u8c22\n. invalid openid\n. @jefferycn OK, \u6211\u660e\u767d\u4e86\uff0c\u6211\u4f1a\u8003\u8651\u8fd9\u4e2a\u4e8b\u60c5\n. \u67e5\u770b\u51fa\u9519\u65e5\u5fd7\n. \u4f60\u7684\u670d\u52a1\u5668\u5730\u5740\u662f\u591a\u5c11\n. Url\n. \u8fd4\u56de\u7684\u5185\u5bb9\u662f no access \u554a\uff0c\u7528\u7684\u5fae\u4fe1\u5f00\u53d1\u8005\u5728\u7ebf\u8c03\u8bd5\n. \u6240\u4ee5\u4f60\u81ea\u5df1\u770b\u770b\u7ed9\u7684 url ?\n. \u597d\u5427\uff0c\u6d4b\u8bd5\u5185\u5bb9\u6b63\u5e38\uff0c\u4f60\u8fc7\u4e00\u6bb5\u65f6\u95f4\u518d\u770b\u770b\u5427\uff0c\u8fd9\u4e2a\u4e0e SDK \u5e94\u8be5\u6ca1\u6709\u5173\u7cfb\n. @nigelvon \u597d\u7684\n. \u5df2\u7ecf\u5220\u9664\u6240\u6709\u56fe\u7247\n. @zzyycoder \u540c\u5b66\u4f60\u8fd8\u6539\u5417\uff1f. \u90a3\u662f\u9519\u8bef\u7684\u4f7f\u7528\u554a\uff0c\u6388\u6743\u5931\u8d25\u5c31\u4e0d\u5e94\u8be5\u5237\u65b0\u554a\uff0c\u90a3\u6211\u4e5f\u89e3\u51b3\u4e0d\u4e86\u554a. @iScript @Sunappnio @xiaohuilam  \u8bf7\u66f4\u65b0\u7248\u672c\uff1a\nshell\n$ composer update overtrue/socialite -vvv. \u8fd9\u662f\u5fae\u4fe1\u62a5\u7684\u9519\uff0c\u6211\u89e3\u51b3\u4e0d\u4e86\u3002. @zacksleo \n1. \u4f60\u7684 appid \u4e0d\u6b63\u786e\n2. \u7528\u4e86\u5176\u5b83\u8d26\u53f7\u7684 appid\n3. \u4f60\u7528\u9519\u4e86\u5e73\u53f0\u6743\u9650\u7c7b\u578b\uff1a\u516c\u4f17\u5e73\u53f0\u4e0e\u5f00\u653e\u5e73\u53f0. @zacksleo \u516c\u4f17\u5e73\u53f0\u7684\u6743\u9650\u91cc\u6ca1\u6709 snsapi_login \u5427\uff1f\u90a3\u4e48\u4f60\u4e3a\u5565\u8981\u7528\u5b83\u5462\uff1f\nhttp://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140842&token=&lang=zh_CN\n\n. \u5982\u679c\u6ca1\u5f04\u6e05\u695a\u8fd9\u4fe9\u5e73\u53f0\u7684\u533a\u522b\u5efa\u8bae\u4e0d\u8981\u4e71\u7528\u54e6\uff0c\u5f00\u653e\u5e73\u53f0 https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1419316505&token=&lang=zh_CN. - \u516c\u4f17\u5e73\u53f0\u53ea\u6709\uff1asnsapi_base \u4e0e snsapi_userinfo\n- \u5f00\u653e\u5e73\u53f0\uff1asnsapi_login\n\ud83d\ude1e . \u662f\u5426\u6709\u5174\u8da3\u8865\u4e00\u4e0b\u4f7f\u7528\u6587\u6863\u5462\uff1fhttps://github.com/easywechat/docs \ud83d\ude06 . @soone \u611f\u8c22\uff01 \u2764\ufe0f . \u62b1\u6b49\u6ca1\u770b\u5230\u54ea\u91cc\u6709\u62a5\u9519. \u5982\u679c\u4f60\u4e0d\u660e\u767d\u6211\u7684 issue \u6a21\u677f\u91cc\u8bf4\u7684\uff1a\u201c\u62a5\u9519\u622a\u56fe\u201d \u4e0e \u201c\u62a5\u9519\u65e5\u5fd7\u201d \u662f\u4ec0\u4e48\u7684\u8bdd\uff0c\u4e00\u5b9a\u8981\u7528\u4f60\u81ea\u5df1\u7684\u63cf\u8ff0\u6765\u8bf4\u660e\u95ee\u9898\uff0c\u5176\u5b9e\u6211\u89c9\u5f97\u4f60\u5df2\u7ecf\u5177\u5907\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\u4e86\uff0c\u5c31\u4e0d\u5e94\u8be5\u9700\u8981\u6765\u8fd9\u91cc\u63d0\u95ee\u554a\u3002\u53cd\u6b63\u6211\u8bf4\u7684\u8ba9\u8d34\u9519\u8bef\u65e5\u5fd7\u4e0e\u622a\u56fe\u4f60\u90fd\u89c9\u5f97\u6ca1\u5fc5\u8981\u3002. 1. \u4f5c\u5f00\u6e90\u6211\u4e0d\u6b20\u4f60\u4efb\u4f55\u4e1c\u897f\uff0c\u6240\u4ee5\u4f60\u7528\u522b\u4eba\u7684\u4e1c\u897f\u7684\u65f6\u5019\u5f97\u6709\u8d77\u7801\u7684\u5c0a\u91cd\u5bf9\u5427\uff1f\u90a3\u4e48\uff0c\u6211\u7684 issue \u6a21\u677f\u4f60\u4e3a\u5565\u4e0d\u6309\u8981\u6c42\u586b\u5199\u5462\uff1f\u4f60\u7528\u6587\u5b57\u63cf\u8ff0 \u4f60\u77e5\u9053\u95ee\u9898\u4e3a\u5565\u4f1a\u4ea7\u751f\uff0c\u4f60\u80fd\u4fee\u590d\uff0c\u4f60\u77e5\u9053\u95ee\u9898\u5728\u54ea\u91cc\u3002\u662f\uff0c\u4f60\u8fd9\u4e2a\u95ee\u9898\u662f\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u6211\u6ca1\u652f\u6301\u8fd9\u4e2a\u529f\u80fd\u800c\u5df2\uff0c\u4f46\u662f\u4f60\u5982\u679c\u7ad9\u6211\u7684\u89d2\u5ea6\u770b\u770b\u4f60\u5c31\u4f1a\u53d1\u73b0\uff1a\u6bcf\u5929\u51e0\u4e4e\u90fd\u6709\u4eba\u8bf4\uff0cxxx \u4f60\u7684\u8fd9\u4e2a\u4e3a\u5565\u62a5\u9519\u554a\uff0c\u662f\u4e0d\u662f\u54ea\u91cc\u5fd8\u8bb0\u4e86 xxx \u554a\uff0c\u4ed6\u4eec\u4e5f\u8ba4\u4e3a\u4ed6\u4eec\u5f88\u4e86\u89e3\u6211\u7684\u7a0b\u5e8f\uff0c\u4ed6\u4eec\u90fd\u8ba4\u4e3a\u662f\u6211\u5199\u7684\u7a0b\u5e8f\u6709 bug, \u4f46\u662f\u7ed3\u679c\u5462 99% \u7684\u4eba\u6700\u540e\u90fd\u662f\u81ea\u5df1\u7684\u9519\uff0c\u6ca1\u6709\u6b63\u786e\u4f7f\u7528\u9020\u6210\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u5565\u6211\u8981\u5f04 issue \u6a21\u677f\u7684\u539f\u56e0\uff1a\u8282\u7ea6\u6211\u7684\u65f6\u95f4\u3002\n2. \u5fae\u4fe1\u4e4b\u524d\u662f\u4e0d\u652f\u6301\u56de\u590d\u97f3\u4e50\u6d88\u606f\u7684\uff0c\u8fd9\u4e5f\u662f\u6211\u539f\u6765\u6ca1\u6709\u652f\u6301\u5b83\u7684\u539f\u56e0\uff0c\u4e0d\u77e5\u9053\u4ed6\u4eec\u5565\u65f6\u5019\u652f\u6301\u7684\uff0c\u6240\u4ee5\u5f53\u6211\u7b2c\u4e00\u773c\u770b\u5230\u8fd9\u4e2a issue \u7684\u65f6\u5019\u6211\u7684\u53cd\u5e94\u662f\u4f60\u5728\u9519\u8bef\u7684\u4f7f\u7528\uff0c\u8fd9\u4e5f\u662f\u4e3a\u5565\u6211\u8981\u6c42\u4f60\u8d34\u62a5\u9519\u622a\u56fe\u7684\u539f\u56e0\u4e4b\u4e00\u3002\n3. \u5f00\u6e90\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u5b83\u4e0d\u662f\u4e3a\u5927\u5bb6\u670d\u52a1\u7684\uff0c\u6211\u5f00\u6e90\u5b83\u51fa\u6765\uff0c\u53ea\u662f\u77e5\u8bc6\u6280\u5171\u4eab\uff0c\u6211\u6ca1\u6709\u5411\u4f7f\u7528\u8005\u6536\u53d6\u4efb\u4f55\u8d39\u7528\u6240\u4ee5\u6211\u4e0d\u62e5\u6709\u4efb\u4f55\u8d23\u4efb\uff0c\u8fd9\u4e2a\u70b9\u671f\u671b\u4f60\u80fd\u660e\u767d\u3002\n4. \u591a\u8c22\u4f60\u7684 PR, \u4f46\u662f\u7531\u4e8e\u4ee3\u7801\u4e0d\u89c4\u8303\uff0c\u6211\u5df2\u7ecf\u628a\u4e2d\u5348\u5199\u597d\u7684\u63d0\u4ea4\u4e0a\u6765\u4e86\u3002\n\u795d\u751f\u6d3b\u6109\u5feb\u3002. @denghp \u8bf7\u6309\u6587\u6863\u4f7f\u7528\uff0c\u8c22\u8c22\uff01https://easywechat.org/zh-cn/docs/oauth.html\n\n\u6587\u6863\u91cc\u6ca1\u6709 driver \u7528\u6cd5\u3002. \u5fae\u4fe1\u5c31\u6ca1\u63d0\u4f9b\u6211\u4e5f\u6ca1\u529e\u6cd5\u554a. https://easywechat.org/zh-cn/docs/access_token.html. \u662f\u7684\uff0c\u6ca1\u505a\u5c01\u88c5\uff0c\u8fc7\u671f\u5c31\u518d\u53d6. \u62b1\u6b49\uff0c\u6ca1\u6709\u8fd9\u4e2a\u8ba1\u5212\uff0c\u800c\u4e14\uff0c\u5b83\u662f js \u73a9\u6cd5\uff0c\u4e0d\u9700\u8981 PHP \u7684\u5c01\u88c5\u3002. plz post your code.. 'thumb_media_id' => $m->media_id \nmedia_id gotten from Material::uploadThumb(); ??? \n\nget media id:\nphp\n$result = $material->uploadThumb(\"/path/to/your/thumb.jpg\"); \n$mediaId = $result->media_id;\n// {\n//    \"media_id\":MEDIA_ID,\n// }\nand upload article:\n```php\nuse EasyWeChat\\Message\\Article;\n// \u4e0a\u4f20\u5355\u7bc7\u56fe\u6587\n$article = new Article([\n    'title' => 'xxx',\n    'thumb_media_id' => $mediaId,\n    //...\n  ]);\n$material->uploadArticle($article);\n``\n. @djade007 it seems like that you missing thetitlekey ofArticle , plz take a check.. @djade007 I'm sorry, I've tried my best.. yes, I've tried.. @djade007 \ud83d\udc94\ud83d\udc94\ud83d\udc94\ud83d\udc94\ud83d\udc94\ud83d\udc94\ud83d\udc94. @djade007 you are welcome.. @allen05ren \u73b0\u5728src/Foundation/Application.php` \u6587\u4ef6\u6709\u51b2\u7a81\uff0c\u4f60\u62c9\u53d6\u4e00\u4e0b\u6211\u7684\u7248\u672c\uff0c\u7136\u540e\u5904\u7406\u4e00\u4e0b. #548 . @mingyoung hi, \u9ebb\u70e6\u770b\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5\u95ee\u9898\uff1ahttps://travis-ci.org/overtrue/wechat/jobs/186270630. @mingyoung \u597d\u7684\uff0c\u8f9b\u82e6\u4e86. @mingyoung \u8fd8\u8bf7\u6709\u7a7a\u7684\u65f6\u5019\u8865\u4e00\u4e0b\u6587\u6863\uff0c\u8c22\u8c22\uff01:heart:. @greedying \u4e5f\u4e0d\u662f\u5199\u9519\u5566\uff0c\u800c\u662f\u5fae\u4fe1\u4fee\u6539\u4e86\uff0c\u6700\u5f00\u59cb\u662f\u6709\u7528\u6237\u7ec4\u7684\uff0c\u540e\u6765\u5b98\u65b9\u653e\u5f03\u4e86\u8fd9\u4e2a\u8bbe\u8ba1\uff0c\u6539\u6210\u4e86\u7528\u6237\u6807\u7b7e\u3002\u3002\u3002\uff0c\u54c8\u54c8\uff0c\u611f\u8c22\u63d0\u9192\uff01. @XiaoLer \u611f\u8c22\uff01. @liuyami \u7528\u6293\u5305\u5de5\u5177\u770b\u4e00\u4e0b\u6700\u7ec8\u7f51\u7edc\u53d1\u51fa\u53bb\u7684\u7ed3\u679c\u662f\u5426\u5305\u542b\u5176\u5b83\u5f02\u5e38\u5185\u5bb9\u5728\u91cc\u9762\uff0c\u6bd4\u5982\u524d\u7f6e\u6216\u8005\u540e\u7f6e\u4e86\u5176\u5b83\u5185\u5bb9. https://github.com/overtrue/wechat/blob/master/src/User/MiniAppUser.php\n\u8fd9\u4e2a\u662f\u4e0d\u662f\u8981\u5220\u9664\uff1f. \u5fae\u4fe1\u91cc\u8fd8\u662f\u5c11\u8fd9\u6837\u73a9\u5427\uff0c\u6211\u4e5f\u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u5efa\u8bae. @yulinho \ud83e\udd23 . @eeeeeeeecccccccc \u8bf7\u7a0d\u7b49\u4e0b\u4e00\u7248\u53d1\u5e03\uff0c\u8fd9\u7248\u4f30\u8ba1\u4e0d\u5b8c\u6574 @mingyoung \u5728\u505a\u65b0\u7248\u5c0f\u7a0b\u5e8f\u652f\u6301. \u4e3a\u5565\u8981\u5f3a\u5236\u522b\u4eba\u88c5\u8fd9\u4e2a\u62d3\u5c55\u54c7\uff1f. @garveen \u54e6\uff0c\u8fd9\u4e2a\u662f php \u5185\u7f6e\u7684\u90a3\u4e2a\u54e6\uff0c\u6211\u4ee5\u4e3a\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684\uff0c\u54c8\u54c8. \u4e0d\u9700\u8981\u8bbe\u7f6e\uff0c\u7cfb\u7edf\u751f\u6210. \u4f60\u4e0d\u9700\u8981\u4f20\u7ed9\u5b83\u554a\uff0c\u4f60\u6709\u770b\u8fc7 $notify \u7684\u5185\u5bb9\u5417. new app \u4e4b\u524d\u4e0d\u80fd\u62ff\u5230\u4f60\u8981\u7684\u8d26\u53f7\uff1f\u591a\u8d26\u53f7\u80fd\u5171\u7528\u4e00\u4e2a\u63a5\u53e3\uff1f\u5efa\u8bae\u4f60\u5728 URL \u505a\u533a\u522b. CC @mingyoung . @justcodingnobb \u4e0d\u662f\u652f\u6301 7.0\uff0c\u662f\u8981\u6c42 7.0 \u4ee5\u4e0a \ud83d\ude04 . @justcodingnobb \u54c8\u54c8\uff0c\u4eca\u5e74\u4e0a\u534a\u5e74\u5b8c\u6210\u3002\u53e6\u5916\uff0c\u88c5\u73af\u5883\u8fd9\u4e2a\u4e8b\u60c5\uff0c\u591a\u641e\u51e0\u904d\uff0c\u719f\u7ec3\u5c31\u597d\u4e86. @ishuowang 5.6 \u5347\u7ea7\u5230 7 \u57fa\u672c\u662f\u65e0\u75db\u7684\uff0c\u6240\u4ee5\u4e0d\u613f\u610f\u5347\u7ea7\u7684\u7ee7\u7eed\u7528\u65e7\u7248\u5c31\u597d\u4e86\u3002. @openset \u55ef\uff0cLaravel 5.5 \u90fd require  php 7.0 + \u4e86\uff0c\u800c\u4e14 7.0 \u5e26\u6765\u4e86\u5f88\u591a\u65b0\u7684\u8bed\u6cd5\uff0c\u5199\u8d77\u6765\u4e5f\u8f7b\u677e\uff0c\u6027\u80fd\u4e5f\u66f4\u597d\uff0c\u4e0e 5.6 \u6027\u80fd\u51e0\u4e4e\u63a5\u8fd1\u7ffb\u500d\uff0c\u6240\u4ee5\u4f55\u4e50\u800c\u4e0d\u4e3a\u5462\uff0c\u800c\u4e14 4.0 \u4e0e 3.0 \u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u76f8\u5f53\u4e8e\u8981\u65b0\u5f00\u53d1\uff0c\u6216\u8005\u81f3\u5c11\u8981\u82b1\u4e00\u4e9b\u65f6\u95f4\u6765\u96c6\u6210\uff0c\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\u5347\u7ea7\u4e00\u4e0b PHP \u7248\u672c\u4e5f\u633a\u597d\u7684\u561b\u3002. @reatang . 4.0 \u9ed8\u8ba4\u5df2\u7ecf\u4e0d\u505a\u903b\u8f91\u9519\u8bef\u68c0\u67e5\u4e86. 1. \u8bf7\u8bc1\u660e\uff1a\u53ea\u8981\u7528\u4e86redirect()->to\u662f\u4e0d\u80fd\u63d0\u524dsession\u5b58\u50a8\u7684\n2. \u54ea\u91cc\u6765\u7684 AbstractProvider->user()\u548cWeChatProvider->user()2\u4e2a\u91cd\u590d\u8c03\u7528 ?. @zhangmazi \u60c5\u51b5\u5462\uff1f\u4ec0\u4e48\u60c5\u51b5\u554a\uff1f\u4f60\u5982\u4f55\u8bc1\u660e\u6211\u4e0a\u9762\u7684\u4e24\u4e2a\u7591\u95ee\u7684\uff1f. @zhangmazi WeChatProvider->user() \u4e0d\u4f1a\u88ab\u8c03\u7528\u4e24\u6b21\uff0c\u6ca1\u6709\u7406\u7531\u4f1a\u8c03\u7528\u4e24\u6b21\uff0c\u5f53\u7136\u4e86\u4f60\u7684\u4e2d\u95f4\u4ef6\u6216\u8005\u63a7\u5236\u5668\u6765\u8c03\u7528\u4e24\u6b21\u6211\u5c31\u4e0d\u6653\u5f97\u4e86\uff0c\u53cd\u6b63 SDK \u5185\u90e8\u4e0d\u4f1a\u8fd9\u4e48\u5e72. 'level' => 'debug', // \u6539\u8fd9\u91cc. \u6539\u6210 error. @valitors \u597d\uff0c\u6211\u770b\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898. \ud83d\udc4d . composer require overtrue/laravel-wechat:~3.1. \u55ef\uff0c2.0\u4e0e3.x\u5dee\u522b\u6bd4\u8f83\u5927\uff0c\u7531\u4e8e\u65f6\u95f4\u4e0a\u7684\u539f\u56e0\u6ca1\u6709\u6574\u7406\uff0c\u4e0d\u8fc7\u6709\u540c\u5b66\u5b9e\u8df5\u8fc7\u4e86\uff0c\u5982\u679c\u4e0d\u662f\u592a\u591a\u7684\u5e94\u7528\u7684\u8bdd\u611f\u89c9\u5dee\u522b\u4e0d\u5927\uff0c\u5efa\u8bae\u65b9\u5f0f\uff1a\n\n\u5148\u4fee\u6539\u57fa\u7840\u5f15\u5165\u65b9\u5f0f app('wechat')\n\u914d\u7f6e\u6587\u4ef6\u66f4\u65b0\n\u627e\u5230\u81ea\u5df1\u5e94\u7528\u91cc\u6240\u6709\u4e0e 2.0 \u76f8\u5173\u7684\u4ee3\u7801\n\u9010\u4e2a\u5bf9\u6bd4\u5728 3.0 \u4e2d\u7684\u7528\u6cd5\uff0c\u5c06\u5dee\u522b\u4fee\u6539\u8fc7\u6765\n\u96c6\u6210\u6d4b\u8bd5\uff0c\u4fee\u590d bug. \u8fd9\u3002\u3002\u3002\u6211\u4e5f\u6ca1\u6709\u529e\u6cd5\u554a. @dan381006472 \u5728 laravel \u91cc\u7684\u7528\u6cd5\u6211\u7684\u6587\u6863\u597d\u50cf\u5355\u72ec\u8bf4\u8fc7\u5427\uff1f\n\n\n$server->serve()->send();\n\u6539\u6210:\nreturn $server->serve();. @dan381006472 https://github.com/overtrue/laravel-wechat. @Lin07ux \u8fd9\u4e2a\u975e\u5b89\u5168\u6a21\u5f0f\u4e0b\u4e0d\u6821\u9a8c\u662f\u56e0\u4e3a\u4ece\u8fd9\u4e2a\u9879\u76ee\u8bde\u751f\u4ee5\u6765\uff0c\u6709\u8d77\u7801\u4e0d\u4e0b\u4e8e100\u591a\u6b21\u95ee\u6211\u4e3a\u5565\u9a8c\u8bc1\u4e0d\u901a\u8fc7\uff0c\u7136\u540e\u6211\u5c31\u5728\u975e\u5b89\u5168\u6a21\u5f0f\u4e0b\u4e0d\u6821\u9a8c\u7b7e\u540d\u4e86\uff0c\u8fd9\u6837\u65b9\u4fbf\u5927\u5bb6\u4f7f\u7528\u6d4f\u89c8\u5668\u7f51\u5740\u52a0 echostr=test \u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u8c03\u8bd5\uff0c\u800c\u4e14\u7ebf\u4e0a\u73af\u5883\u6211\u4eec\u63a8\u8350\u5f00\u542f\u5b89\u5168\u6a21\u5f0f\u3002. https://github.com/overtrue/wechat/releases/tag/4.0.30. > \u8fd9\u91cc\u4e3a\u4ec0\u4e48\u8981\u8865\u4e00\u4e2a=\u53f7\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5728\u6e90\u5934\u4e0a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1f\n@tinpont \u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u4ece\u5fae\u4fe1\u5b98\u65b9\u7b97\u6cd5\u6539\u8fc7\u6765\u7684\uff0c\u6240\u4ee5\u8bf7\u9a8c\u8bc1\u4f60\u7684\u4fee\u6539\u5728\u5176\u5b83\u529f\u80fd\u4e0a\u6bd4\u5982\u516c\u4f17\u5e73\u53f0\u7684\u63a5\u53e3\u8bf7\u6c42\u4e0a\u662f\u5426\u6b63\u5e38. @mingyoung . @tinpont \u6211\u77e5\u9053\u554a\uff0c\u4f46\u662f\u4ed6\u4eec\u5e94\u8be5\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2a\u52a0\u5bc6\u89e3\u5bc6\u65b9\u6848\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u8c28\u614e\u6d4b\u8bd5. @mingyoung \u628a mockery \u6539\u6210 0.9 \u5427. \u6211\u5df2\u7ecf\u63d0\u4ea4\u4e86. \n@mingyoung . @mingyoung . \u4f7f\u7528\u961f\u5217\u5373\u53ef. @acgrid \u597d\u574f\u597d\u574f\u54c8\u54c8\uff01:laughing:. https://easywechat.org/zh-cn/docs/installation.html#\u73af\u5883\u8981\u6c42. namespace App\\Http\\Controllers\\service \u662f\u4ec0\u4e48\u9b3c\uff1f. @dm22933 \u8def\u7531\u5462\uff1f. laravel \u7248\u672c\n. \u5728\u5fae\u4fe1\u586b\u5199\u7684\u5730\u5740\u662f\uff1f. @dm22933 \u90a3\u5c31\u5947\u602a\u4e86\uff0c\u4f60\u8def\u7531\u660e\u660e\u662f  Route::any('/', \u600e\u4e48\u7a81\u7136\u586b\u5199\u5230\u5fae\u4fe1\u5c31\u53d8\u6210\u4e86 /weixin ????? . https://mp.weixin.qq.com/debug/ \u7528\u8fd9\u4e2a\u53d1\u6d88\u606f\u6d4b\u8bd5\u770b\u8fd4\u56de\u5565. \u670d\u52a1\u5668URL\u8d34\u51fa\u6765. \n\n\u6240\u4ee5\u4f60\u7684\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u5185\u5bb9\u3002\u3002\u3002. @dm22933 \u8fd9\u4e2a\u4f60\u5c31\u5f97\u81ea\u5df1\u53bb\u7814\u7a76\u4f60\u4e00\u73af\u5883\u95ee\u9898\u4e86. @dm22933 \u83ab\u975e\u4f60\u6000\u7591\u4e00\u4e2a 9 \u4e07\u591a\u5b89\u88c5\u91cf\u7684 SDK \u4f1a\u6709\u8fd9\u6837\u7684\u57fa\u7840 bug \u5b58\u5728? . @dm22933 \u90a3\u5982\u679c\u662f\u8fd9\u6837\u7684\u8bdd\u4f60\u5c31\u9700\u8981\u81ea\u5df1\u53bb\u7814\u7a76\u4e86\uff0c\u6211\u5c31\u5e2e\u4e0d\u4e0a\u4e86. sorry, \u4f60\u63d0\u4f9b\u7684\u4fe1\u606f\u5e76\u4e0d\u8db3\u4ee5\u8ba9\u4eba\u80fd\u5206\u6790\u51fa\u95ee\u9898\u6240\u5728. @lear2012 \u81ea\u5df1\u53bb\u770b\u5fae\u4fe1\u5b98\u65b9\u6587\u6863. Daemon \u662f\u4ec0\u4e48\uff1f. @mingyoung \u611f\u89c9\u7528\u8bcd\u4e0d\u5bf9\uff0cdaemon \u4e00\u822c\u662f\u5b88\u62a4\u8fdb\u7a0b. https://scrutinizer-ci.com/g/overtrue/wechat/inspections/36f0b4c2-dbcc-474e-95e6-8a8a32fe340f/issues/files/src/OpenPlatform/OpenPlatform.php?status=new&orderField=path&order=asc&honorSelectedPaths=0. @mingyoung \ud83d\udc4d . \ud83d\udc4d . @mingyoung \u8fd9\u662f\u4e0d\u662f\u4e0a\u56de\u6211\u4eec\u8ba8\u8bba\u7684\u90a3\u4e2a\u95ee\u9898. @mingyoung \u55ef. \n. \u6211\u89c9\u5f97\u662f\u4e0d\u662f\u52a0\u4e00\u4e2a\u65b9\u6cd5\u6765\u641e\u5b9a API \u7684\u5c01\u88c5\u4f1a\u6bd4\u8f83\u597d\u5462\uff1f\n```php\nprotected $sandboxEnabled = false;\nconst API_HOST = 'https://api.mch.weixin.qq.com';\n...\nfunction sandboxMode($enabled = false) {\n     $this->sandboxEnabled = $enabled;\n}\n...\nfunction wrapApi($resource) {\n  return self::API_HOST. ($this->sandboxEnabled ? '/sandbox' : '').$resource;\n}\nfetch api: $this->wrapApi(self:: API_PAY_ORDER);\n``. @skyredprotected\u65b9\u6cd5\u662f\u9ed8\u8ba4\u4e0d\u8ba9 mock \u7684\uff0c\u9664\u975e\u4f60\u5728\u521b\u5efa\u6d4b\u8bd5\u5bf9\u8c61\u7684\u65f6\u5019->shouldAllowMockingProtectedMethods()\u8ba9\u5b83\u53ef\u4ee5\u88ab mock\u3002. -response_type-collection-array-object-raw`\n    - \u81ea\u5b9a\u4e49\u7c7b\u540d. @mingyoung \u60f3\u60f3\u529e\u6cd5. \u5176\u5b9e\u524d\u4e24\u5929\u6211\u8fd8\u5728\u7ea0\u7ed3\u5230\u5e95\u600e\u4e48\u5408\u3002\u3002\u3002. @mingyoung \u7136\u540e\u6ca1\u6562\u52a8. \u5bf9\u554a\uff0c\u6240\u4ee5\u6ca1\u6562\u52a8. \ud83d\udc4d . SDK \u91cc\u4e3a\u5565\u4e0d\u80fd\u7f13\u5b58 sandbox_signkey ? . @skyred SDK \u91cc\u672c\u6765\u5c31\u652f\u6301\u6301\u4e45\u7f13\u5b58\u7684\uff1a\nhttps://easywechat.org/zh-cn/docs/access_token.html\nhttps://easywechat.org/zh-cn/docs/cache.html. \u8bf7\u53c2\u8003\uff1a https://github.com/overtrue/wechat/blob/master/src/Core/AccessToken.php#L99 \u6b63\u786e\u4f7f\u7528\u7f13\u5b58\u7c7b\uff0c\u6309\u4f60\u7684\u5199\u6cd5\u5c31\u662f\u5199\u6b7b\u4e86\u53ea\u80fd\u4f7f\u7528\u6587\u4ef6\u7cfb\u7edf\u7f13\u5b58\u4e86\u3002. @mingyoung \ud83d\udc4d . @skyred \u65b9\u6cd5\u540d\u79f0\u4e3a getXXX \u5c31\u5e94\u8be5\u662f\u6709\u8fd4\u56de\u503c\u7684\uff0c\u5426\u5219\u4f60\u5e94\u8be5\u5c06\u5b83\u547d\u540d\u4e3a\u64cd\u4f5c\u5f62\u540d\u79f0\uff1asetXXX \u3002\u6211\u5df2\u7ecf\u4fee\u590d\u4e86\u8be5\u95ee\u9898\u3002. \u8bf7\u66f4\u65b0\u5230 3.3.2 . \u5df2\u7ecf\u4fee\u590d\u8fc7\u4e86. @skyred notify_url \u5c5e\u4e8e $order, \u4f60\u5728\u4f20\u5165 $order \u7684\u65f6\u5019\u5728 $order->notify_url \u5c31\u5f97\u4e86\u554a. 666. \u4e0d\u662f\u6709\u81ea\u5b9a\u4e49 access token \u7684\u65b9\u6cd5\u4e48\uff1fhttps://easywechat.org/zh-cn/docs/access_token.html#\u4fee\u6539-app-\u7684-Access-Token. > \u5982\u679c\u8bbe\u7f6e\u7684AccessToken\u5931\u6548\n\u6240\u4ee5\u4f60\u7684\u90a3\u4e2a\u81ea\u52a8\u811a\u672c\u5b58\u5728\u7684\u610f\u4e49\u5e76\u4e0d\u5927\u54af. 1. \u4f60\u7684 token \u6765\u81ea\u811a\u672c\u7ef4\u62a4\u7684\u5bf9\u5427\uff0c\u90a3\u4f60\u7684\u811a\u672c\u4fdd\u8bc1\u4e86 \u201c\u53d6\u5230\u7684 token \u662f\u53ef\u4ee5\u6b63\u5e38\u975e\u8fc7\u671f\u201d \u7684\n2. \u90a3\u65e2\u7136 token \u662f\u6ca1\u8fc7\u671f\u7684\uff0c\u5c31\u80af\u5b9a\u4e0d\u4f1a\u89e6\u53d1\u91cd\u8bd5\u673a\u5236. @leocxy \u770b\u4e86\u4e00\u4e0b 3.0 \u8981\u505a\u8fd9\u4e2a\u6539\u52a8\u5f88\u4e0d\u65b9\u4fbf\uff08\u8bbe\u8ba1\u4e0a\u7684\u539f\u56e0\u51b3\u5b9a\u4e86\u8981\u53ef\u914d\u7f6e\u8fd9\u91cc\u6539\u52a8\u6bd4\u8f83\u5927\uff0c\u867d\u7136\u53ef\u4ee5\u5b9e\u73b0\u4f46\u662f\u7834\u574f\u4e86\u7edf\u4e00\u6027\uff09\uff0c\u6240\u4ee5\u8fd9\u91cc\u6682\u65f6\u4e0d\u505a\u4fee\u6539\u4e86\uff0c\u800c\u4e14\u8fd9\u91cc\u6700\u591a\u91cd\u8bd5\u4e24\u6b21\uff0c\u5176\u5b9e\u4e5f\u5f71\u54cd\u4e0d\u5927\uff0c\u6211\u4eec\u5c06\u5728 4.0 \u652f\u6301\u8fd9\u4e2a\u53ef\u914d\u7f6e\u7279\u6027\u3002\u5efa\u8bae\u4f60\u73b0\u5728 \u53ef\u4ee5\u8003\u8651\u89e3\u51b3 \u201c\u5982\u679c\u6709\u4eba\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u89c4\u5219\u201d \u8fd9\u4e2a\u95ee\u9898\u53ef\u80fd\u6bd4\u8f83\u5bb9\u6613\u3002 \u62b1\u6b49\u3002. \ud83d\udc4d . #670 . \u5220\u9664\u662f\u9700\u8981\u4f60\u81ea\u5df1\u5b9e\u73b0\u7684\u554a\uff0c\u4e0d\u7136\u8fc7\u671f\u65f6\u95f4\u6709\u5565\u7528\uff1f. \u8fc7\u671f\u6e05\u9664\u5e76\u4e0d\u662f Doctrine Cache \u8fd9\u4e2a\u7ec4\u4ef6\u53bb\u505a\u7684\u4e8b\u60c5\uff0credis, mc \u8fd9\u4e9b\u90fd\u662f\u81ea\u5e26\u8fc7\u671f\u6e05\u9664\u529f\u80fd\u7684\uff0c mysql \u6ca1\u6709\u8fc7\u671f\u65f6\u95f4\u7684\u6982\u5ff5\uff0c\u6240\u4ee5\u9700\u8981\u5b9a\u65f6\u6267\u884c\u811a\u672c\u53bb\u5220\u9664\u8fc7\u671f\u7684\uff0c\u660e\u767d\u4e48\uff1f\n. \u53ef\u4ee5\u554a\uff0c\u53ea\u8981\u7b26\u5408\u8be5\u673a\u5236\u5c31\u884c\u4e86. \u2764\ufe0f \u52a0\u6cb9\uff01. @almas1992 \u5efa\u8bae\u4f60\u5148\u5c1d\u8bd5\uff0c\u6bd5\u7adf\u4e0b\u5355\u63a5\u53e3\u662f\u4e00\u6837\u7684. \ud83e\udd23 . \u53eb\u4f60\u4e0d\u770b\u6587\u6863\uff1ahttps://easywechat.org/zh-cn/docs/material.html#\u4e0a\u4f20\u56fe\u7247. @starlight36 \u6211\u7684\u9505 \ud83d\ude06 . \u55ef\uff0c\u7a0d\u540e\u6211\u6765\u641e\u5b9a\u5b83. \u810f\u5199\u5176\u5b9e\u4e0d\u5b58\u5728\uff0c\u6211\u53bb\u7814\u7a76\u4e86\u7f13\u5b58\u7ec4\u4ef6\u7684\u4ee3\u7801\uff0c\u5b83\u5176\u5b9e\u4e0d\u4f1a\u51fa\u73b0\u9501\u7684\u95ee\u9898\uff0c> https://github.com/doctrine/cache/blob/master/lib/Doctrine/Common/Cache/FileCache.php#L251-L260\n\u73b0\u5728\u7684\u95ee\u9898\u5176\u5b9e\u53ea\u662f\u8bfb\u4e0d\u5230\u7684\u65f6\u5019\u5bfc\u81f4\u7684\u91cd\u8bd5\u589e\u52a0\u4e86 API \u8c03\u7528\uff0c\u8fd9\u4e2a\u6211\u8003\u8651\u589e\u52a0\u4e00\u4e2a\u914d\u7f6e\uff0c\u53ef\u914d\u7f6e\u91cd\u8bd5\u6b21\u6570\u6765\u89e3\u51b3\u3002\n. \u914d\u7f6e\u9879\u589e\u52a0\uff1a\n\nmax_retries \u6700\u5927\u91cd\u8bd5\u6b21\u6570\uff0c\u9ed8\u8ba42\uff0c\u8bbe\u7f6e\u4e3a0 AccessToken \u8fc7\u671f\u4e0d\u91cd\u8bd5. @dawniii \u5982\u679c\u91cf\u5927\u7684\u60c5\u51b5\u5c31\u8c03\u6574\u91cd\u8bd5\u6b21\u6570\u5427\uff0c\u5b8c\u5168\u4e0d\u60f3\u91cd\u8bd5\u5c31\u6539\u6210 0 . getToken & setToken \u672c\u6765\u5c31\u662f public \u7684\uff0c$app->access_token->getToken(); \u5373\u53ef\uff0c\u91cd\u5199\u7684\u8bdd\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u4f60\u81ea\u5df1\u7684 AccessToken \u7c7b\u5c31\u597d\u4e86\uff0c\u6709\u8fd9\u51e0\u4e2a\u65b9\u6cd5\u5c31\u597d\u4e86\uff0c3.1 \u5c31\u4e0d\u6253\u7b97\u589e\u52a0\u63a5\u53e3\u4e86\uff1a\n\nphp\npublic function getToken($forceRefresh = false)\npublic function getAppId()\npublic function getSecret()\npublic function getQueryName(). \u6d4b\u8bd5\u8fc7\u4e86\uff1f\u6709\u6548\uff1f. 1. \u4ece\u6570\u636e\u5e93\u8bfb\u53d6\u914d\u7f6e\n2. \u521b\u5efa EasyWeChat \u5b9e\u4f8b\uff1anew Application($config). \u55ef\uff0c\u662f. \u8bf7\u4e0d\u8981\u4f7f\u7528\u6d4f\u89c8\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u4e2a\u4e1c\u897f\u662f\u7ed9\u5fae\u4fe1\u670d\u52a1\u5668\u6765\u8c03\u7528\u7684\u3002. \u90a3\u5c31\u662f\u4f60\u7684 Nginx \u914d\u7f6e\u6709\u95ee\u9898\u4e86\uff0cquery \u90e8\u5206\u4e22\u4e86. nginx\nlocation / {\n    try_files $uri $uri/ /index.php?$query_string;\n}\n. > \u5728\u6700\u540e\u4e00\u6b65\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u4e2d\u4f1a\u8fd4\u56decurl\u4fe1\u606f\n\u8bf7\u95ee\u4f60\u662f\u5982\u4f55\u770b\u5230\u4f60\u7b2c\u4e8c\u5f20\u622a\u56fe\u5185\u5bb9\u7684\uff1f\u81ea\u5df1  dd \u7684\u8fd8\u662f\u5c31\u4f60\u7b2c\u4e00\u5f20\u622a\u56fe\u4ea7\u751f\u7684\uff1f. \u989d\uff0c\u4e0d\u592a\u53ef\u80fd\uff0c\u4f60\u8fd8\u662f\u641c\u7d22\u4e00\u4e0b\u4f60\u7684\u4ee3\u7801\u91cc\uff0c\u54ea\u91cc\u51fa\u73b0\u4e86 dd. \u8fd9\u4e0d\u4f1a\u5bfc\u51fa\u51fa\u73b0 dd \u6548\u679c\u5427\uff1f. \u54c8\u54c8\uff0c\u4f60\u5220\u9664\u91cd\u65b0\u88c5\u5427\uff0c\u6211\u6000\u7591\u4f60\u6539\u8fc7 vendor \u4e0b\u7684\u4ee3\u7801. @dm22933 \u4f60\u8fd8\u597d\u4e48\u54c8\u54c8. \u91cd\u65b0\u88c5\u7684\u7ed3\u679c\u5462\uff1f.  Q \u591a\u5c11. \u6211\u5728\u6587\u6863\u4e0a\u8bf4\u8fc7\u554a\uff0c\u6388\u6743\u5b8c\u6210\u540e\u8981\u7528 301 \u8df3\u8f6c\u5230\u4e1a\u52a1\u9875\u9762\u800c\u4e0d\u662f\u76f4\u63a5\u663e\u793a\u9875\u9762. @mingyoung \ud83d\ude06 . \u611f\u89c9\u8bbe\u8ba1\u6709\u95ee\u9898\u554a\uff1a\n\nMediaPress \u4e0e\u6587\u7ae0\u8fd8\u662f\u8bc4\u8bba\u611f\u89c9\u90fd\u4e0d\u5408\u9002\u554a\n\u6211\u66f4\u503e\u5411\u4e8e\u628a select \u7684\u4f5c\u7528\u6539\u4e3a API \u53c2\u6570\u4f20\u5165. 1. media press \u5728\u5b98\u65b9\u6ca1\u6709\u5b9a\u4e49\u5427\uff1f\u6240\u4ee5\u8fd9\u6837\u7528\u611f\u89c9\u8fd8\u662f\u6709\u70b9\u5947\u602a\uff0c\u5176\u5b9e\u53ef\u4ee5\u7b80\u5355\u7684\u628a\u8fd9\u4e2a\u6a21\u5757\u53eb\u8bc4\u8bba\u662f\u4e0d\u662f\u66f4\u597d\uff1f\n$mp->comments('msg_data_id', 0, 1, 20, 0); \u5176\u5b9e\u8fd8\u597d\u5566\uff0c\u8ba2\u5355\u9000\u6b3e\u90a3\u91cc\u4e5f\u5c11\u4e0d\u4e86\uff0c\u6ca1\u529e\u6cd5\u7684\u4e8b\u60c5\n. OK, nice. > \u597d\u50cf\u95ee\u9898\u5728\u4e8eaccess_token(\u4e00\u53ea\u5b58\u7740\u7b2c\u4e00\u4e2a\u4e2a\u8d26\u53f7\u7684\uff1f)\n\n\u54b1\u4eec\u641e\u7f16\u7a0b\u7684\u8fd8\u662f\u4e25\u8c28\u4e00\u4e9b\u6bd4\u8f83\u597d\u54e6\uff0c\u4e0d\u8981\u597d\u50cf\uff0c\u8981\u786e\u5b9a\u3002. \u611f\u8c22\uff01\u8fd9\u4e2a feature \u4e0d\u6253\u7b97\u5728 3.0 \u52a0\u5165\u4e86\uff0c\u800c\u4e14\u8fd9\u4e2a\u8bbe\u8ba1\u611f\u89c9\u8fd8\u9700\u8981\u4f18\u5316\u4e00\u4e0b\uff0c\u7b49\u6211 4.0 \u7684\u65f6\u5019\u641e\u5b9a\u5427\u3002. @xutl 319502940. Added at commit #1027 . > access_token\u4e0d\u662foauth\u7684\nOAuth \u80af\u5b9a\u53ea\u80fd\u7528 oauth \u81ea\u5df1\u7684 token \u554a\uff0c\u53e6\u5916 scope \u5fc5\u987b\u8981\u4e3a sns_userinfo \u624d\u80fd\u62ff\u7528\u6237\u8d44\u6599\u54e6\uff0c\u5426\u5219\u53ea\u6709 openid. \u8fd9\u5e94\u8be5\u4e0e\u624b\u673a\u5e73\u53f0\u65e0\u5173. 1. OAuth \u62ff\u7528\u6237\u4fe1\u606f\u4e0e\u7528\u6237\u7ba1\u7406\u4e2d\u7684\u83b7\u53d6\u7528\u6237\u4fe1\u606f API \u662f\u4e24\u4e2a\n2. OAuth \u62ff\u7528\u6237\u4fe1\u606f\u53ea\u9700\u8981\u7528\u6237\u540c\u610f\u5373\u53ef\u83b7\u53d6\uff0c\u4f46\u662f\u5e76\u4e0d\u4ee3\u8868\u6b64\u65f6\u4f60\u7528\u7528\u6237\u7ba1\u7406\u63a5\u53e3\u80fd\u62ff\u5230\u8d44\u6599\n3. \u7528\u6237\u7ba1\u7406\u63a5\u53e3\u80fd\u4e0d\u80fd\u62ff\u5230\u8d44\u6599\u7684\u6761\u4ef6\u53ea\u6709\u4e00\u4e2a\uff1a\u4ed6\u662f\u5426\u5173\u6ce8\uff0c\u6ca1\u5173\u6ce8\u516c\u4f17\u53f7\u5c31\u662f\u62ff\u4e0d\u5230\u3002. \u6ca1\u533a\u522b\u554a. 1. 502 \u662f\u54ea\u91cc\u62a5\u7684\u9519\uff0c\u4f60\u672c\u5730\u62a5\u7684\u8fd8\u662f  $e \u91cc\u7684\uff1f\n2. \u4f60\u7684 file_get_contents \u7684\u4ee3\u7801\u8d34\u4e0a\u6765\u770b\u770b. @Chooin \u6309\u7406\u4e00\u6837\u7684\uff0c\u4e0d\u8fc7 502 \u9519\u8bef\u611f\u89c9\u5c31\u5f88\u5947\u602a\u4e86\n\n502: \u8fde\u63a5\u8d85\u65f6 \u6211\u4eec\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42 \u7531\u4e8e\u670d\u52a1\u5668\u5f53\u524d\u94fe\u63a5\u592a\u591a\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u65b9\u9762\u65e0\u6cd5\u7ed9\u4e8e\u6b63\u5e38\u7684\u54cd\u5e94\uff0c\u4ea7\u751f\u6b64\u7c7b\u62a5\u9519\n\n\u4e0d\u8fc7\u6211\u8fd8\u662f\u611f\u89c9\u8fd9\u4e2a 502 \u662f\u4f60\u81ea\u5df1\u7ad9\u70b9\u62a5\u7684\uff0c\u5982\u679c\u662f\u5bf9\u65b9\uff08\u963f\u91cc\u4e91\uff09\u62a5\u7684\uff0c\u4f60\u5e94\u8be5\u662f\u5728 catch \u91cc\u80fd\u6355\u83b7\u7684\u3002. \u6709\u8fdb\u5c55\u4e48\uff1f. > https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115. \u8bf7\u4f7f\u7528 configForPayment . \u4f60\u7528\u7684 JSSDK \u8fd8\u662f WeixinJSBridge?. 1. WeixinJSBridge (timeStamp\u5927\u5199):\nhttps://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&index=6\n\nWeixinJSBridge(timestamp \u5c0f\u5199):\n\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115\n. JSSDK \u751f\u6210\u7b7e\u540d\u65f6\u7528\u5927\u5199\uff0c\u914d\u7f6e\u65f6\u7528\u5c0f\u5199\uff1a\n\n\u6240\u4ee5\u770b\u8d77\u6765\u6211\u7684 SDK \u7684\u5199\u6cd5\u662f OK \u7684. \u6240\u4ee5\u4e0d\u7528\u6539\u6e90\u4ee3\u7801\u4e86\uff0c\u4f60\u68c0\u67e5\u4e00\u4e0b\u5176\u5b83\u9009\u9879\u53ef\u80fd\u662f\u9519\u4e86\uff0c\u4e0d\u5e94\u8be5\u662f\u8fd9\u4e2a\u5927\u5c0f\u5199\u95ee\u9898. 2.1 \u5df2\u7ecf\u4e0d\u5728\u7ef4\u62a4. \u4f60\u7684\u8c03\u7528\u4ee3\u7801\u8d34\u4e00\u4e0b. \u4f60\u7684 provider \u600e\u4e48\u5199\u7684\u554a. \u54c8\u54c8\u54c8\u54c8. scopes \u5fc5\u987b\u662f\u6570\u7ec4\uff0c\u4f60\u7684\u662f\u5b57\u7b26\u4e32\u554a. \u4e0d\u5ba2\u6c14. @hinet \u8981\u4e0d\u9605\u8bfb\u4e00\u4e0b\uff1ahttps://github.com/guzzle/guzzle#installing-guzzle. getWXACode \u662f\u4ec0\u4e48\u9b3c\uff1f. \u6362\u4e2a\u540d\u79f0\u5427\uff0c\u54c8\u54c8. @alwaystrong \u5df2\u7ecf\u6539\u6210\u4e86 app code \u4e86. \u54ce\uff0c\u7ec6\u5fc3\u4e00\u4e9b\u54ea\u6709\u8fd9\u4e2a\u95ee\u9898\u5b58\u5728\u54e6\uff1a\ndiff\n- use EasyWechat\\Foundation\\Application;\n+ use EasyWeChat\\Foundation\\Application;. sorry, \u8fd9\u79cd\u5b9a\u5236\u578b\u7684\u4e1c\u897f\u53ef\u80fd\u9700\u8981\u81ea\u5df1\u7814\u7a76\u4e86. \u4e0d\u80fd\u968f\u4fbf\u4fee\u6539\u539f\u6709\u7684 API \u7528\u6cd5\uff0c\u8fd9\u6837\u522b\u4eba\u5df2\u7ecf\u4e0a\u7ebf\u7684\u5e94\u7528\u5bb9\u6613\u51fa\u95ee\u9898\uff0c\u8bf7\u4f7f\u7528 $poi->createAndGetId($data);. \u6dfb\u52a0\u914d\u7f6e\u9879\uff1amax_retries \u4e3a 0 \u5373\u53ef. \u6211\u4e0d\u6653\u5f97\u4f60\u662f\u600e\u4e48\u641c\u7d22\u7684\uff0c\u53cd\u6b63\u6211\u4e00\u641c\u5c31\u77e5\u9053\u4e86\uff1ahttps://github.com/overtrue/wechat/search?utf8=%E2%9C%93&q=max_retries&type=\n\nhttps://github.com/overtrue/wechat/blob/master/src/Foundation/Application.php#L134\nhttps://github.com/overtrue/wechat/blob/master/src/Core/AbstractAPI.php#L216. @Shoot-tigers-tonight \u55ef\uff0c\u4ee5\u540e\u8fd8\u662f\u770b\u6700\u65b0\u7248\u5427\uff0c\u4e00\u822c\u95ee\u9898\u4fee\u590d\u5728\u7ebf\u4e0a\u641c\u7d22\u6bd4\u8f83\u51c6\u786e\u3002. @refear99 4.0 \u4e0d\u4f1a\u81ea\u52a8\u91cd\u8bd5\u3002. @flairyu \u54c8\u54c8\uff0c\u6628\u665a\u5fd8\u8bb0\u8fd9\u4e8b\u513f\u4e86\uff0c\u6211\u7684 crontab \u6709 bug \u6ca1\u6709\u81ea\u52a8\u66f4\u65b0\uff0c\u521a\u521a\u5df2\u7ecf\u4fee\u590d. \u5176\u5b9e\u6ca1\u95ee\u9898\u7684. 1. ->setRequest($request)\uff1a\n https://github.com/overtrue/socialite/blob/master/src/Providers/AbstractProvider.php#L267\n2. https://github.com/overtrue/socialite/blob/master/src/Providers/AbstractProvider.php#L502\n. \u4ec0\u4e48\u51b2\u7a81\uff1f. \u55ef\uff0c\u6362\u5305\u662f\u53ef\u4ee5\uff0c\u4f46\u662f\u6211\u770b\u4e86\u4e00\u4e0b\u6e90\u7801\uff0c\u5efa\u8bae\u4f60\u770b\u770b\u5176\u4e2d\u8fd9\u4e2a\u65b9\u6cd5\uff1a$this->isSessionObsolete() \u4e3a\u5565\u4f1a\u4e3a\u771f\uff1f\u56e0\u4e3a\u6bd5\u7adf\u4ee3\u7801\u91cc\u6ca1\u6709\u9759\u6001\u5c5e\u6027\uff0c\u6240\u4ee5\u5c31\u7b97\u521b\u5efa\u4e24\u6b21\u4e5f\u662f\u4e0d\u540c\u7684\u5b9e\u4f8b\u3002. @IanGely \u8981\u4e0d\uff0c\u518d\u7ed9 v4(develop) \u63d0\u4e00\u4e2a\uff1f. develop \u4e0e master \u4e0d\u517c\u5bb9\u54c8\uff0c\u4e0d\u80fd\u76f4\u63a5\u63d0. \u611f\u8c22\uff01. \u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\uff0c\u9a8c\u8bc1\u65f6\u5e76\u6ca1\u52a0\u7b7e\u540d\u9a8c\u8bc1\uff0c\u6d88\u606f\u53d1\u9001\u65f6\u4f1a\u9a8c\u8bc1\u3002. https://easywechat.org/zh-cn/docs/material.html. 1. \u5173\u6389\u91cd\u8bd5\u6b21\u6570\uff1a\\EasyWeChat\\Core\\AbstractAPI :: maxRetries = 0;\n2. https://easywechat.org/zh-cn/docs/access_token.html. \u6240\u4ee5 // ... \u8fd9\u4e2a\u7b26\u53f7\u8fd8\u4e0d\u591f\u660e\u786e\u54af\uff1f. 666. \u611f\u8c22 @leo108\uff01. \u90a3\u4f60\u9700\u8981\u5c06\u8fd9\u4e2a\u5408\u5e76\u5230\u8fd9\u91cc https://github.com/overtrue/wechat/commit/6fbcc88b372e43a296daf33b29a7aeeee92e4aa3. \u8fd9\u4e2a PR \u6709\u95ee\u9898\uff0c\u6211\u624b\u52a8\u6539\u8fc7\u4e86. https://github.com/easywechat/docs \u5148\u770b\u8fd9\u91cc\u5427\uff0c\u7f51\u7ad9\u5f00\u53d1\u4e2d. \u591a\u516c\u4f17\u53f7\u9632\u6b62\u51b2\u7a81. \u4e0d\u662f\uff0c\u8fd9\u4e2a\u771f\u4e0d\u662f\u4ece config \u53d6\uff0c\u73b0\u5728\u4e0d\u652f\u6301\u4ece\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u7f13\u5b58\u5b9e\u4f8b\uff0c\u5982\u679c\u6709\u9700\u6c42\u5f97\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u8986\u76d6\uff1a\n\nphp\n$app['cache'] = new MyCustomCacheAdapter();. \u6211\u4e5f\u5e0c\u671b\u4e0d\u4f9d\u8d56 access_token, \u4f46\u662f\u5176\u4e2d\u7684\u7b7e\u540d\u8fc7\u7a0b\u662f\u9700\u8981 ticket \u7684\uff0c\u800c ticket \u7684\u8bf7\u6c42\u662f\u9700\u8981 access_token \u7684. \u7a0d\u7b49\u6211\u770b\u4e00\u4e0b. \u521a\u624d\u770b\u4e86\u4e00\u4e0b\uff0c\u652f\u4ed8\u7684 jssdk \u662f\u7ee7\u627f\u81ea\u57fa\u7840 jssdk \u7684\uff0c\u6bd4\u5982  wx.config \u662f\u9700\u8981 ticket \u6765\u7b7e\u540d\u7684\uff0c\u800c\u901a\u5e38\u652f\u4ed8\u7684 js \u4e5f\u662f\u9700\u8981\u7528\u5230 wx.config \u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u8fd8\u662f\u9700\u8981 access_token. \u65b0\u7248\u8fd8\u6ca1\u4e0a\u7ebf\uff0c\u8fd9\u4e9b\u6ca1\u5199\u9519. 4.0 \u8fd8\u6ca1\u6709\u53d1\u5e03\u3002\u3002\u3002. \u8bf7\u4f7f\u7528 80 \u7aef\u53e3. \u6ca1\u6709\u5176\u5b83\u529e\u6cd5\uff0c\u5fae\u4fe1\u53ea\u652f\u6301 80 . \u7f51\u5740\u6ca1\u9519\uff0c\u4e0d\u8fc7\u6ca1\u4e0a\u7ebf\u800c\u5df2\uff0cmaster \u5206\u652f\u662f\u672a\u53d1\u5e03\u7684 4.0 \u5206\u652f\uff1a\n\n. \u5b98\u65b9\u5df2\u7ecf\u4e0d\u652f\u6301\u4e86\u5427\uff0c\u5b98\u65b9\u6587\u6863\u90fd\u53bb\u6389\u989c\u8272\u76f8\u5173\u7684\u90e8\u5206\u4e86. \u6211\u8bf4\u7684\u662f\u5fae\u4fe1\u5b98\u65b9\u3002\u3002\u3002. \u611f\u8c22\uff01. \u4ee3\u7801\u5462\uff1f\u4ee3\u7801\u5462\uff1f\u4ee3\u7801\u5462\uff1f. csrf \u6dfb\u52a0\u767d\u540d\u5355\u4e86\u4e48\uff1f. \u6211\u95ee\u7684\u662f csrf \u6dfb\u52a0\u767d\u540d\u5355\u4e86\u4e48\uff1f\u6dfb\u52a0\u4e86\u63d0\u4f9b\u622a\u56fe. @NominationP \u8bf7\u4e0d\u8981\u81ea\u505a\u806a\u660e\uff0c\u6211\u95ee\u5565\u4f60\u7b54\u5565\u5c31\u597d\uff0c\u5982\u679c\u4f60\u89c9\u5f97\u4f60\u505a\u5f97\u5bf9\uff0c\u90a3\u4e3a\u5565\u4f1a\u51fa\u95ee\u9898\uff1f\u8bf7\u4e0d\u8981\u6d6a\u8d39\u5b9d\u8d35\u7684\u65f6\u95f4\uff0c\u8c22\u8c22\uff01. \u5f88\u660e\u663e\u4f60 \u201c/server \u201d \u5339\u914d\u4e0d\u4e0a  \"server/*\" \u554a. \u670d\u52a1\u5668\u5730\u5740. \u8fd9\u73a9\u610f\u513f\u8fd8\u9700\u8981\u8c03\u8bd5\u4e00\u5468\uff0ccsrf \u95ee\u9898\u5728\u65e5\u5fd7\u91cc\u4e0d\u662f\u6709\u5f02\u5e38\u62a5\u544a\u4e48\uff1f\u6240\u4ee5\u4f60\u4ece\u6765\u6ca1\u770b\u8fc7\uff1f. \u4e0d\u53ef\u80fd\uff01\u65e5\u5fd7\u91cc\u7edd\u5bf9\u6709\u62a5\u9519\u65e5\u5fd7\uff0c\u4f60\u81ea\u5df1\u4e0d\u770b. \ud83d\ude22 . \u6ca1\u6709. \u81ea\u884c\u68c0\u67e5\u5fae\u4fe1\u5b98\u65b9\u6587\u6863. 3.3.15. \u56de\u590d\u5565\u662f\u4f60\u81ea\u5df1\u51b3\u5b9a\u7684\u554a\uff0c\u4f60\u81ea\u5df1\u56de\u590d\u524d\u8bb0\u4e00\u4e0b\u4e0d\u5c31\u5f97\u4e86. ```php\n...\n$response = $server->serve();\n\\Log::info($response->getContents());\n``. @crisslin \u8fd9\u4e2awechat.oauth` \u4e2d\u95f4\u4ef6\u4e0d\u652f\u6301 PC \u5f00\u653e\u5e73\u53f0\u767b\u5f55. @tianyong90 \u770b\u770b\u52a0\u5230 Master \u5206\u652f \uff1f. @mingyoung . \u4e00\u6837\u7684\u65b9\u5f0f\u521b\u5efa\u554a. \u90a3\u5c31\u5f97\u4f60\u81ea\u5df1\u60f3\u529e\u6cd5\u4e86\uff0c\u6bd4\u5982\u5728\u901a\u77e5 URL \u4e0a\u52a0\u5546\u6237\u6807\u8bb0\u7b49. \u73b0\u8c61\u5462\uff1f\u8bf7\u6309 issue \u6a21\u677f\u63d0\u95ee\uff0c\u8c22\u8c22\uff01. \u5e94\u8be5\u662f\u9700\u8981\u7528\u5230\u7684\uff0c\u4e0d\u8fc7\u6ca1\u505a\u8fc7\u79fb\u52a8\u7aef\u5f00\u53d1\uff0c\u6240\u4ee5\u4e0d\u662f\u592a\u6e05\u695a. \u7ef4\u62a4\u4e2d\uff0c\u522b\u7740\u6025. \u641e \u597d\u4e86. \u5f3a\u5236\u5237\u65b0. @Sky9th \nphp\ntry {\n    $token->requestToken($credentials);\n} catch (\\Exception $e) {\n     $e->response; // \\Psr\\Http\\Message\\ResponseInterface|null\n     $e->formattedResponse; //\u6839\u636e response_type \u683c\u5f0f\u5316\u7684\u7ed3\u679c\n }. \u66f4\u65b0\u4e00\u4e0b symfony/var-dumper \u7248\u672c. \u6211\u6765\u641e\u5b9a. @stevieyu \u521a\u6d4b\u4e86\u662f\u53ef\u4ee5\u88c5\u4e86\uff0c\u4f46\u662f\u4e0d\u6653\u5f97\u4f1a\u4e0d\u4f1a\u6709\u95ee\u9898\uff0c\u5982\u9047\u5230\u95ee\u9898\u8bf7\u968f\u65f6\u53cd\u9988\uff0c\u8c22\u8c221. @stevieyu \u65b0\u7248\u5df2\u7ecf\u53ef\u4ee5\u4e86\uff0c\u62b1\u6b49. http://easywechat.org. 12.12. $response->getHeaderLine('Content-Type') \u4f1a\u4e0d\u4f1a\u53d8\u6210 'text/html;charset=utf-8' \u8fd9\u6837\u7684\uff1f. \u7528 strpos \u5427. @mingyoung \u6b63\u597d\u4f60\u5728\u91cd\u6784\u3002\u8003\u8651\u4e00\u4e0b. \u51b2\u7a81\u4e86. \ud83d\udc4d . \u8d34\u4e00\u4e0b\u9519\u8bef\u8be6\u60c5. 77 \u62a5\u9519\u5e94\u8be5\u4f1a\u6709\u4e00\u6761\u6d88\u606f\u624d\u5bf9\u5427\uff0c\u8bf4\u8bc1\u4e66\u95ee\u9898. \u4f60\u8fd4\u56de\u7684\u5185\u5bb9\u6709\u95ee\u9898\u5427\uff0c\u4e2d\u6587\u6ca1\u6b63\u786e\u622a\u53d6\uff1f. \u62a5\u9519\u8bf7\u63d0\u4f9b\u9519\u8bef\u6d88\u606f\u5185\u5bb9\uff0c\u5982\u679c\u8be5\u7d20\u6750\u4e0d\u652f\u6301\u53d1\u9001\u6211\u4eec\u4e5f\u89e3\u51b3\u4e0d\u4e86\u3002. \u5b98\u65b9\u6ca1\u6709\u5c31\u6ca1\u6709\uff0c\u5b98\u65b9\u6709\u8fd9\u91cc\u5c31\u4f1a\u6709\u7684. \u94fe\u63a5. https://github.com/EasyWeChat/docs/commit/1c42a6e0ab57b783d7e746be9bd030d82a05c785. \u4ee3\u7801\u6ca1\u5565\u95ee\u9898\uff0c\u4f46\u662f\u65b9\u6cd5\u540d\u5efa\u8bae\u6539\u4e00\u4e0b\uff0c\u56e0\u4e3a\u672c\u8eab\u5df2\u7ecf\u5728 code_template \u4e0b\u4e86\uff0c\u5c31\u6ca1\u6709\u5fc5\u8981\u518d\u51fa\u73b0 template \u5173\u952e\u5b57\u5728\u65b9\u6cd5\u91cc\u4e86\uff0c\u6bd4\u5982 deleteTemplate  . \u4e3a\u5565\u5173\u4e86\u554a. \u54e6\n\u53d1\u81ea\u6211\u7684 iPhone\n\n\u5728 2017\u5e7411\u67088\u65e5\uff0c\u4e0b\u53483:34\uff0c\u5f20\u94ed\u9633 notifications@github.com \u5199\u9053\uff1a\n\u611f\u89c9\u6709\u70b9\u602a \ud83d\ude02\n\u5bf9\u4e8e\u7b2c\u4e09\u65b9\u5305\u6765\u8bf4\u597d\u50cf\u4e5f\u6ca1\u6cd5\u505a\u5230\u81ea\u52a8\u8bbe\u7f6e observer\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. php\n$oa = $work->agent('oa')->oa;. 500 \u9519\u8bef\u6ca1\u6709\u65e5\u5fd7 \uff1f\uff1f\uff1f\u4f60\u600e\u4e48\u914d\u7f6e\u7684\u73af\u5883\uff1f. @lonestonewy \ud83d\udc4d \u4e0d\u8fc7\u9700\u8981\u6ce8\u660e\u4e00\u4e0b\u4f60\u7684\u53ea\u9002\u7528\u4e8e Yii. \u6211\u4eec\u91cc\u9762\u5df2\u7ecf\u5b9e\u73b0\u4e86\uff0c\u53ea\u4e0d\u8fc7\u5bc6\u94a5\u5904\u7406\u90e8\u5206\u8fd8\u8fd8\u5728\u8bbe\u8ba1\u4e2d. \u8bf7\u5347\u7ea7\u5230 3.1 https://github.com/overtrue/wechat/blob/3.1/src/QRCode/QRCode.php#L72-L84. 3.3.19 \u5df2\u7ecf\u8fd8\u539f\u4fee\u6539\uff0c sorry. \u9ed8\u8ba4\u7f13\u5b58\u662f\u53d6\u7684 php \u51fd\u6570 sys_get_temp_dir() \u7684\u8def\u5f84\uff0c\u5982\u679c\u8fd9\u4e2a\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u90a3\u4f60\u7684 php \u4e5f\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u624d\u5bf9. https://github.com/symfony/cache/blob/5b2fffcad066341f9168513ed08e56cf95d377c6/Traits/FilesystemCommonTrait.php#L29. \u62b1\u6b49\uff0cswoole \u73af\u5883\u53ef\u80fd\u9700\u8981\u4f60\u81ea\u5df1\u53bb\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u4e86\uff0c\u6bd5\u7adf\u5b83\u5df2\u7ecf\u4e0d\u662f php \u7684 fpm \u6a21\u5f0f\u4e86\uff0c\u800c\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0csymfony \u76ee\u524d\u6ca1\u6709\u53bb\u9002\u914d\u5b83\uff0c\u6211\u4e2a\u4eba\u4e5f\u6ca1\u6709\u6253\u7b97\u53bb\u9002\u914d\uff0c\u611f\u8c22\u4f60\u7684\u53cd\u9988\u3002. Please provide the context, as well as the steps to reproduce the process, and your code?. @atanych please use dev-master version and config the domain for international wechat.. \u8bf7\u8054\u7cfb\u5fae\u4fe1\u5b98\u65b9\uff0c\u8c22\u8c22\u3002. 7.2 \u521a\u53d1\u5e03\uff0c\u8981\u4e0d\u518d\u7b49\u7b49\u5427\uff0c\u7b49\u5468\u8fb9\u5de5\u5177\u90fd\u8ddf\u4e0a\u517c\u5bb9. @tmtbe \u4f60\u597d\uff0c\u8bf7\u95ee\u6709\u4ec0\u4e48\u80fd\u5e2e\u5fd9\u7684\u5730\u65b9\uff1f. \u5176\u5b9e\u5982\u679c\u9879\u76ee\u5728 3.x \u4e0b\u7a33\u5b9a\u8fd0\u884c\u7684\u8bdd\u53ef\u4ee5\u8003\u8651\u7b49\u65f6\u95f4\u5bbd\u88d5\uff0c\u5c06\u9700\u6c42\u70b9\u5217\u51fa\u6765\u4e00\u70b9\u70b9\u6539\u8fc7\u6765\uff0c\u4e00\u822c 1 \u4e2a\u4eba\u4e00\u5929\u5de6\u53f3\u5c31\u53ef\u4ee5\u6539\u5b8c\u7684\uff08\u6211\u5df2\u7ecf\u8fc1\u79fb\u4e863\u4e2a\u9879\u76ee\u7684\u603b\u7ed3\uff09\uff0c\u65e0\u6cd5\u5e73\u6ed1\u5347\u7ea7\u7684\uff0c\u56e0\u4e3a 4.0 \u52a0\u5165\u4e86\u5fae\u4fe1\u5468\u8fb9\u5176\u5b83\u7684\u529f\u80fd\u652f\u6301\uff0c\u65e0\u6cd5\u5728 3.x \u57fa\u7840\u4e0a\u76f4\u63a5\u6539\uff0c\u6240\u4ee5\u7ed3\u6784\u5c42\u9762\u53d8\u5316\u8f83\u5927\uff0c\u62b1\u6b49. \u5df2\u7ecf\u652f\u6301. \u66f4\u65b0\u7248\u672c \u5230\u6700\u65b0\uff0c\u6216\u8005\u66f4\u65b0\u4f60\u7684 PHP \u7248\u672c\u5230 7.0 +. sorry, swoole \u5e76\u4e0d\u662f\u56fd\u9645\u901a\u7528\u7684\u6807\u51c6\uff0c\u5e76\u6ca1\u6709\u7279\u610f\u7684\u9002\u914d\u3002\u4f46\u662f\u5efa\u8bae\u4f60\u53ef\u4ee5\u8003\u8651\u5728\u6846\u67b6\u5165\u53e3\u4e2d\u8bbe\u7f6e request \u5bf9\u8c61: \n\nphp\n$payment['request'] = $this->request. \u8bf7\u66f4\u65b0\u5230 3.3.22. \u4f01\u4e1a\u5fae\u4fe1\u8fd8\u6709\u4e00\u70b9\u5c0f\u95ee\u9898\u6ca1\u4fee\u590d\uff0c\u8bf7\u7b49\u5f85\u3002. https://www.easywechat.com/docs/master/zh-CN/payment/transfer. 1. \u8fd9\u4e2a\u662f PHP \u5305\uff0c\u4e0e laravel \u65e0\u5173\uff0c\u4f60\u5982\u679c\u4f7f\u7528 laravel \u8bf7\u6b63\u786e\u4f20\u9012\u7f13\u5b58\u65f6\u95f4\n2. \u8bf7\u53c2\u8003 overtrue/laravel-wechat \u4f7f\u7528\u7f13\u5b58. \u5df2\u7ecf\u5728 dev-master \u4fee\u590d. shell\n$ composer require overtrue/wechat symfony/http-foundation:~3.0 -vvv. \u63d0\u95ee\u4e09\u8981\u7d20\u8bf7\u4e86\u89e3\uff0c\u518d\u8bf4\u6211 issue \u6a21\u677f\u5df2\u7ecf\u6559\u4e86\u600e\u4e48\u63d0\u95ee\u3002. \u4f60\u7684\u4ee3\u7801\u5e94\u8be5\u662f Undefined variable $msg \u5427\uff1f. @mingyoung \u770b\u770b\uff1f. @96qbhy \u9ebb\u70e6\u628a\u5931\u8d25\u65f6\u7684\u6570\u636e\u5b58\u4e0b\u6765\uff0c\u5404\u79cd\u53c2\u6570. #1080 @96qbhy \u662f\u4e0d\u662f\u4e00\u6837\u7684\u539f\u56e0\uff1f. https://www.easywechat.com/docs/master/zh-CN/payment/transfer. @Ge-Ge \u4f01\u4e1a\u5fae\u4fe1\u572811\u6708\u5e95\u6539\u4e86 API , \u73b0\u5df2\u7ecf\u91cd\u6784\u4e86\u8be5\u6a21\u5757\u5e76\u53d1\u5e03\u4e86 4.0.3 \u8bf7\u66f4\u65b0\u5e76\u6309\u6700\u65b0\u6587\u6863\u4f7f\u7528. @Ge-Ge \u8fd9\u90e8\u5206\u76ee\u524d\u6ca1\u6709\u6dfb\u52a0\uff0c\u4f60\u53ef\u4ee5\u8003\u8651 PR . @Ge-Ge \u7528\u6cd5\u5b8c\u5168\u4e0d\u4e00\u6837\u4e86\uff0c\u5efa\u8bae\u5347\u7ea7\u4f7f\u7528\u65b0\u7248\uff0c\u56e0\u4e3a API \u7684\u4fee\u6539\u662f\u7528\u6cd5\u7684\u6539\u53d8\uff0c\u6211\u6ca1\u529e\u6cd5\u7b80\u5355\u7684\u544a\u8bc9\u4f60\u600e\u4e48\u4ece\u65e7\u7248\u6539\u56de\u6765\u54c8\u3002. \u5e94\u7528\u7684 secret \u5728\u4f01\u4e1a\u5fae\u4fe1\u521b\u5efa\u5b8c\u5c31\u6709\u4e86\u54c8\uff0c\u4e0d\u5b58\u5728\u4f60\u8bf4\u7684\u60c5\u51b5\u3002. laravel-wechat \u4ec0\u4e48\u7248\u672c\u3001. @mouyong \u5347\u7ea7 overtrue/laravel-wechat. \u6211\u8ba4\u771f\u786e\u8ba4\u4e86\u4e00\u904d\u6e90\u4ee3\u7801\uff0c\u7ed3\u8bba\u662f\uff1a\u4f01\u4e1a\u5fae\u4fe1\u7684\u4e0a\u6b21 API \u6539\u7248\uff0c\u5df2\u7ecf\u5c06\u5e94\u7528\u5b8c\u5168\u9694\u79bb\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u5728\u4f7f\u7528\u8fd9\u4e2a SDK \u7684\u65f6\u5019\uff0c\u4e00\u4e2a\u5e94\u7528\u5c31\u662f\u4e00\u4e2a work application, \u6240\u4ee5\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u5199\u6cd5\u9519\u4e86\uff0c\u5e94\u8be5\u662f\uff1a\n```php\n'work' => [\n        'agent1' => [\n            'corp_id' => 'xxx',\n            'agent_id' => 'xxx',\n            'secret' => 'xxx',\n            //...\n        ],\n    'agent2' => [\n        'corp_id' => 'xxx2',\n        'agent_id' => 'xxx2',\n        'secret' => 'xxx2',\n        //...\n    ],\n    //...\n],\n\n```\n\u5355\u4e2a\u5e94\u7528\u7684\u53c2\u8003\uff1ahttps://www.easywechat.com/docs/master/wework/index. @mouyong \n\n\u6ca1\u6709\u8fc1\u79fb\u6307\u5f15\u8fd9\u70b9\u786e\u5b9e\u662f\u4e0d\u8db3\uff0c\u8fd9\u5757\u4e4b\u524d\u6ca1\u505a\u7279\u522b\u58f0\u660e\u7684\u539f\u56e0\u662f\u539f\u6765\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u4e00\u76f4\u4e0d\u53ef\u7528\u72b6\u6001\uff0c\u6240\u4ee5\u6ca1\u6709\u4eba\u627e\u8fc7\u6765\u5e94\u8be5\u662f\u6ca1\u6709\u4eba\u5728\u7528\uff0c\u800c\u4e14\u622a\u6b62\u76ee\u524d\u4f60\u662f\u7b2c\u4e00\u4e2a\u627e\u8fc7\u6765\u7684\uff0c\u9664\u4e86 issue \u4f5c\u8005\u3002\n\u8fd9\u53ef\u80fd\u662f\u4f01\u4e1a\u5fae\u4fe1\u63a5\u53e3\u7684\u9505\u4e86\uff0c$app->agent \u6211\u5982\u679c\u6ca1\u8bb0\u9519\u786e\u5b9e\u53ef\u4ee5\u4f20\u5165\u5176\u5b83 agent_id \u5e76\u80fd\u6b63\u786e\u8c03\u7528\uff0c\u6240\u4ee5\u6211\u4fdd\u7559\u4e86\u8fd9\u4e2a\u53c2\u6570\u3002. OK\uff0c\u90a3\u53ef\u80fd\u662f\u56e0\u4e3a\u6211\u6d4b\u8bd5\u7684\u65f6\u5019\u521a\u6539\u7248\u63a5\u53e3\u7684\u7f18\u6545\u5427\uff0c\u6216\u8005\u5c31\u662f\u6211\u8bb0\u9519\u4e86\u3002\u6211\u540e\u9762\u5c06\u53bb\u6389\u8fd9\u4e2a\u53c2\u6570\u3002\n\n= - = notifications@github.com\u4e8e2019\u5e741\u670831\u65e5 \u5468\u56db\u4e0b\u534810:25\u5199\u9053\uff1a\n\n@mouyong https://github.com/mouyong\n\n\u6ca1\u6709\u8fc1\u79fb\u6307\u5f15\u8fd9\u70b9\u786e\u5b9e\u662f\u4e0d\u8db3\uff0c\u8fd9\u5757\u4e4b\u524d\u6ca1\u505a\u7279\u522b\u58f0\u660e\u7684\u539f\u56e0\u662f\u539f\u6765\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u4e00\u76f4\u4e0d\u53ef\u7528\u72b6\u6001\uff0c\u6240\u4ee5\u6ca1\u6709\u4eba\u627e\u8fc7\u6765\u5e94\u8be5\u662f\u6ca1\u6709\u4eba\u5728\u7528\uff0c\u800c\u4e14\u622a\u6b62\u76ee\u524d\u4f60\u662f\u7b2c\u4e00\u4e2a\u627e\u8fc7\u6765\u7684\uff0c\u9664\u4e86\n   issue \u4f5c\u8005\u3002\n\u8fd9\u53ef\u80fd\u662f\u4f01\u4e1a\u5fae\u4fe1\u63a5\u53e3\u7684\u9505\u4e86\uff0c$app->agent \u6211\u5982\u679c\u6ca1\u8bb0\u9519\u786e\u5b9e\u53ef\u4ee5\u4f20\u5165\u5176\u5b83 agent_id \u5e76\u80fd\u6b63\u786e\u8c03\u7528\uff0c\u6240\u4ee5\u6211\u4fdd\u7559\u4e86\u8fd9\u4e2a\u53c2\u6570\u3002\n\n\u4f20\u5165\u5176\u4ed6 agent_id \u65f6\u4f1a\u62a5\u5982\u4e0b\u9519\u8bef,\u6b64\u4e3a issue \u4f5c\u8005\u9047\u5230\u7684\u9519\u8bef\n{\n\"errcode\": 301002,\n\"errmsg\": \"not allow operate another agent with this accesstoken., hint: [1548944715_2_c96559540333466259b5ca66303a4fe4], more info at https://open.work.weixin.qq.com/devtool/query?e=301002\"\n}\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1079#issuecomment-459362773,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YEiqtTDhqdNmYkEB4pDLtYEe5oHlks5vIvzngaJpZM4RLoCN\n.\n. @imsheng \u7a0b\u5e8f\u80af\u5b9a\u4e0d\u4f1a\u51fa\u73b0 \u201c\u4e00\u4f1a\u513fOK, \u4e00\u4f1a\u513f\u4e0dOK\u201d \u7684\u60c5\u51b5\u51fa\u73b0\uff0c\u5b83\u53c8\u4e0d\u5e26\u60c5\u7eea\uff0c\u51fa\u95ee\u9898\u80af\u5b9a\u662f\u8f93\u5165\u4e0d\u4e00\u6837\u624d\u4f1a\u6709\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u4f5c\u4e3a\u7a0b\u5ea6\u5458\uff0c\u4f60\u5e94\u8be5\u5c1d\u8bd5\u53bb\u8ddf\u4e00\u4e0b\u4e3a\u5565\u4f1a\u6709\u4e0d\u540c\u7684\u7ed3\u679c\u51fa\u73b0\uff0c\u800c\u4e0d\u662f\u8fd9\u6837\u4e00\u76f4\u7b49\uff0c\u8fd9\u662f\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4e5f\u8981\u5de5\u4f5c\u7684\uff0c\u5e76\u4e0d\u53ef\u80fd\u6709\u90a3\u4e48\u591a\u65f6\u95f4\u6765\u628a\u6bcf\u4e2a\u4eba\u7684\u95ee\u9898\u90fd\u53bb\u91cd\u73b0\u4e00\u6b21\uff0c\u8fd8\u8bf7\u7406\u89e3\u3002. @imsheng \u8bf7\u63d0\u4f9b\u8f93\u5165\u7684\u53c2\u6570\u6211\u6765\u8bd5. @imsheng \u9ebb\u70e6\u628a\u4f60\u7684\u914d\u7f6e\u4e5f\u53d1\u6211\u90ae\u7bb1\u4e00\u4e0b(anzhengchao@gmail.com)\uff0c\u5426\u5219\u4e5f\u65e0\u6cd5\u89e3\u5bc6. \u8fd9\u3002\u3002\u3002. @imsheng \ud83d\ude06 . \u5df2\u7ecf\u66f4\u65b0 https://github.com/EasyWeChat/docs/commit/90ad19c3f384af4e2e9895bab01da8efde25026c \n. @mingyoung \u6539\u4e00\u4e0b\u6587\u6863\u5427 \ud83d\ude06 . \u4f60\u7684\u914d\u7f6e\u95ee\u9898. \u4e3a\u5565\u6211\u7684\u4e0d\u4f1a\uff1f. \u73b0\u5728\u5b98\u65b9\u5df2\u7ecf\u4e0d\u63d0\u4f9b\u4e86\uff0c\u8bf7\u7559\u610f\u5b98\u65b9\u516c\u544a\uff0c\u8c22\u8c22\uff01\u5173\u6ce8\u7684\u65f6\u5019\u81ea\u5df1\u8bb0\u5f55\u5230\u6570\u636e\u5e93\uff0c\u53d6\u5173\u7684\u65f6\u5019\u4fee\u6539\u81ea\u5df1\u6570\u636e\u5e93\u72b6\u6001\u3002. \u5347\u7ea7 curl: https://stackoverflow.com/questions/36787413/curl-35-ssl-connect-error. https://github.com/overtrue/wechat/blob/master/src/Kernel/Support/File.php#L110. @zacksleo \u4e3a\u5565\u5173\u4e86\uff1f. @ghostlitao \u62b1\u6b49\uff0c\u6211\u672a\u80fd\u91cd\u73b0\u4f60\u7684\u95ee\u9898\uff1a\n\n. \u62b1\u6b49\uff0c\u53ea\u517c\u5bb9\u6807\u51c6 PHP \u73af\u5883\uff0c\u5176\u5b83\u73af\u5883\u4f60\u9700\u8981\u81ea\u5df1\u9002\u914d. https://www.easywechat.com/docs/master/zh-CN/wework/invoice. \u4f60\u786e\u5b9a\u4f60\u8ba4\u771f\u770b\u8fc7\u4e86\uff1f https://www.easywechat.com/docs/master/zh-CN/payment/jssdk\n\n\n. \u8fd9\u672c\u6765\u5c31\u662f JSSDK \u7684\u4f7f\u7528\u524d\u63d0\u554a\uff0c\u8fd9\u4e2a\u5728 JSSDK \u7ae0\u8282\u6709\u8bb2\u554a\uff0c\u4e0d\u53ef\u80fd\u6bcf\u4e2a\u90e8\u5206\u6211\u90fd\u5199\u4e00\u4e2a\u5b8c\u6574\u7684\u4f8b\u5b50\u5427\uff0c\u90a3\u6837\u6211\u4e0d\u7528\u751f\u6d3b\u4e86\u3002. \u5728\u6587\u6863\u7b2c\u4e00\u9875\u5c31\u8bf4\u4e86\uff1a\n\n. @malphitee \u4f60\u7528\u7684 composer \u6e90\u6709\u95ee\u9898. @malphitee \u522b\u7528\u8fd9\u4e2a\u6e90\u4e86\uff0c\u5b83\u5df2\u7ecf\u5ef6\u8fdf\u4e00\u5468\u591a\u4e86. @malphitee \u6211\u5728\u8bfe\u7a0b\u91cc\u8bb2\u4e86\u554a https://laravel-china.org/composer. @malphitee \u5e94\u8be5\u662f\u6e90\u8fd8\u6ca1\u6709\u66f4\u65b0\uff0c\u73b0\u5728\u8bd5\u4e00\u4e0b\uff0c\u6211\u770b\u6e90\u662f\u521a\u521a\u66f4\u65b0\u7684. \u90a3\u4f60\u5c31\u7528\u5b98\u65b9\u6e90\u54af. \ud83d\ude06 3.3 \u624d\u52a0\u7684\u5417\uff1f. monolog/monolog 2.0 \u8fd8\u6ca1\u53d1\u5e03\uff0c\u4f60\u5c31\u88c5\u4e86 2.0.x-dev \u7248\u672c\uff0c\u5148\u79fb\u9664\u8fd9\u4e2a\u975e\u6b63\u5f0f\u7248\u518d\u88c5\u5427. \u8fd9\u4e2a\u4fee\u6539\u6211\u662f\u540c\u610f\u7684\uff0c\u4f46\u662f\u975e\u5e38\u4e0d\u540c\u610f\uff1a\n\n\u5927\u90e8\u5206\u7684NOTICE\u9519\u8bef\u786e\u5b9e\u4e5f\u90fd\u6ca1\u5fc5\u8981\u5f15\u8d77\u6ce8\u610f. \u8bf7\u81ea\u5df1\u7814\u7a76 monolog \u7684\u4f7f\u7528 https://github.com/Seldaek/monolog. https://github.com/Seldaek/monolog/blob/master/doc/01-usage.md#log-levels\n\n\u65e5\u5fd7\u7ea7\u522b\u8bbe\u7f6e\u6210 info \u7ea7\u522b\u4ee5\u4e0a\u5f53\u7136\u5c31\u4e0d\u4f1a\u8f93\u51fa\u554a. \u95ee\u9898\u4f60\u7684 \\Log::info($response_body); \u8fd9\u4e2a\u662f Laravel \u7684\u65e5\u5fd7\u554a. \u7b49\u7ea7\u662fdebug \u5f53\u7136\u4f1a\u8f93\u51fa\u554a\uff01\uff01\uff01. debug \u662f\u5426\u4e3a false \u4e0e\u65e5\u5fd7\u65e0\u5173. @malphitee 4.0 \u6ca1\u6709 debug \u9009\u9879\uff0c\u51fa\u9519\u4e0d\u8bb0\u5f55\uff1f\u5230\u65f6\u5019\u600e\u4e48\u67e5\u95ee\u9898\uff1f. error \u7ea7\u522b\u662f\u9519\u8bef\u65e5\u5fd7\uff0c\u5982\u679c\u9519\u8bef\u65e5\u5fd7\u90fd\u5360\u7528\u4e86\u5f88\u5927\u7a7a\u95f4\u7684\u8bdd\u9879\u76ee\u4e5f\u662f\u4e0d\u53ef\u4ee5\u7528\u4e86\u5427\uff1f\u8fd8\u6709\u5c31\u662f monolog \u672c\u6765\u5c31\u6709\u6309\u5929\u8bb0\u5f55\u65e5\u5fd7\uff0c\u81ea\u52a8\u5220\u9664\u8fc7\u671f\u65e5\u5fd7\u7684\u529f\u80fd\uff0c\u591a\u7814\u7a76\u4e00\u4e0b monolog \u5427. \u4e3a\u5565\u4f1a\u88ab\u79fb\u8d70\uff1f\u4e0d\u662f\u5e94\u8be5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u4e48\uff1f\u8fd9\u4e2a\u660e\u660e\u662f PHP \u57fa\u672c\u7684\u4e0a\u4f20\u6d41\u7a0b\u3002. @amoydavid \u6211\u975e\u5e38\u597d\u5947\u7684\u662f \u201c\u5982\u679c\u5728\u5b9e\u4f8b\u5316 EasyWechat \u4e4b\u524d\u5c31\u628a\u4e34\u65f6\u6587\u4ef6\u79fb\u8d70\u201d \u662f\u600e\u4e48\u6765\u7684\uff1f\u4e3a\u5565\u4f1a\u6709\u8fd9\u6837\u7684\u64cd\u4f5c\u5b58\u5728 \uff1f. \u597d\u5427\uff0c\u90a3\u8fd9\u4e8b\u513f\u4f30\u8ba1\u4f60\u5f97\u53cd\u9988\u7ed9 symfony \u4e86\uff0c\u6bd5\u7adf\u8fd9\u90e8\u5206\u4e0d\u662f\u6211\u5199\u7684\u903b\u8f91. https://github.com/symfony/http-foundation. \u4e0d\u8fc7\u6211\u7684\u5efa\u8bae\u662f\u5728\u6846\u67b6\u5165\u53e3\u5904\u53bb\u521d\u59cb\u5316\u670d\u52a1\u5b9e\u4f8b. 1. \u4e00\u822c\u7684\u5e94\u7528\u90fd\u662f\u5728\u6846\u67b6\u4e0b\u4f7f\u7528\uff0c\u56e0\u4e3a\u6846\u67b6\u5177\u6709\u5b8c\u5907\u7684\u9519\u8bef\u5904\u7406\u4e0e\u65e5\u5fd7\uff0c\u6240\u4ee5\u5efa\u8bae\u4f60\u4f7f\u7528\u6846\u67b6\u800c\u4e0d\u662f\u88f8\u5199\n2. \u5728\u6587\u6863\u4e2d\u5df2\u7ecf\u5217\u51fa\u6765\u4e86 app_id \u662f\u9700\u8981\u6b63\u786e\u586b\u5199\u7684\uff0c\u8fd9\u79cd\u9519\u8bef\u6211\u4e0d\u89c9\u5f97\u8fd9\u4e2a SDK \u6709\u5fc5\u8981\u53bb\u89e3\u51b3\uff0c\u56e0\u4e3a\u5c31\u7b97\u914d\u7f6e\u9519\u4e86\uff0c\u5fae\u4fe1\u90a3\u8fb9\u4e5f\u8d70\u4e0d\u901a\uff0c\u4f60\u62ff\u5230\u7684 API response \u4e5f\u6709\u62a5\u9519\u5185\u5bb9\u3002\n3. \u50cf\u8fd9\u79cd\u7ec4\u4ef6\u5f0f\u7684\u5305\uff0c\u4e00\u822c\u662f\u8981\u7528\u4e8e\u5176\u5b83\u5730\u65b9\u7684\uff0c\u5982\u679c\u6211\u628a\u5f02\u5e38 catch \u4e86\uff0c\u5f88\u591a\u4eba\u4f1a\u89c9\u5f97\u4ed6\u60f3\u901a\u8fc7\u6846\u67b6\u6765\u5904\u7406\u8fd9\u4e2a\u5f02\u5e38\uff0c\u65e0\u6cd5\u6ee1\u8db3\u6240\u6709\u4eba\uff0c\u6240\u4ee5\uff0c\u6211\u4e2a\u4eba\u4e0d\u6253\u7b97\u5728\u6a21\u5757\u5185\u53bb catch \u5f02\u5e38\u6765\u8bb0\u65e5\u5fd7\u3002. \u8fd9\u662f\u5f00\u6e90\u9879\u76ee\uff0c\u5927\u5bb6\u90fd\u53ef\u4ee5\u8d21\u732e\u4ee3\u7801. \u56e0\u4e3a\u4ed6\u4eec\u5728\u524d\u9762\u8f93\u51fa\u5185\u5bb9\u4e86\u554a\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0d\u5e94\u8be5\u7531 SDK \u6765\u89e3\u51b3\uff0c\u4ed6\u65e2\u7136\u77e5\u9053\u5fae\u4fe1\u5b98\u65b9\u7684\u8981\u6c42\u662f\u8f93\u51fa\u4e0e\u8bf7\u6c42\u7684 echostr \u5fc5\u987b\u5b8c\u5168\u4e00\u6837\uff0c\u5c31\u4e0d\u5e94\u8be5\u8ba9\u591a\u4f59\u7684\u8f93\u51fa\u5b58\u5728\u554a\uff0c\u6bd4\u5982 TP \u7684\u90a3\u4e2a\u8c03\u8bd5\u6a21\u5f0f\uff0c Laravel \u7684 debugbar \u8fd9\u4e9b\u4e1c\u897f\u5728\u8fd9\u4e2a\u5165\u53e3\u5c31\u5e94\u8be5\u5173\u6389\u624d\u5bf9\u3002. @aprchen \u62b1\u6b49\u6211\u4e0d\u6653\u5f97\u4f60\u662f\u5982\u4f55\u6d4b\u8bd5\u7684\uff0c\u53cd\u6b63\u6211\u65e0\u8bba\u53d1\u9001\u4ec0\u4e48\u6837\u7684\u6d88\u606f\uff0c\u5f97\u5230\u7684\u6d88\u606f ToUserName \u90fd\u662f\u516c\u4f17\u53f7 id:\nxml\n<ToUserName><![CDATA[gh_1763313807e5]]></ToUserName>. ???. @almas1992 \u6d4b\u8bd5\u8fc7\u4e86\u5417?\u4e0d\u62a5\u9519\u4e86\uff1f. \u597d. \u611f\u8c22\u53cd\u9988\u3002\u5df2\u7ecf\u4fee\u590d . \u5b83\u5b58\u5728\u7684\u5fc5\u8981\u6027\u662f\uff1f. @mingyoung rollback  / rollbackVersion / rollbackRelease ? . \u53ef\u4ee5\u554a\n. \u8bf7\u63d0\u4f9b\u4e0a\u4e0b\u6587. \u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u5c31\u662f\u521d\u59cb\u5316 Request \u5bf9\u8c61\u554a\uff0c\u4e0e\u4f60\u8bf4\u7684\u8fd9\u51e0\u4e2a\u5b8c\u5168\u4e0d\u662f\u4e00\u56de\u4e8b\u513f\u554a. \u5c31\u7b97\u89e3\u6790\u6709\u95ee\u9898\uff0c Count \u4e3a 0 \u8fd9\u4e2a\u80af\u5b9a\u9519\u4e0d\u4e86\uff0c\u6240\u4ee5\u770b\u8d77\u6765\u5c31\u662f\u6254\u8fc7\u6765\u7684\u5c31\u662f\u8fd9\u6837\u54e6. \u63a8\u9001\u4e0d\u5c31\u662f\u548c\u5e73\u5e38\u7684\u4e8b\u4ef6\u63a8\u9001\u4e00\u6837\u5417\uff1f\u5728\u670d\u52a1\u7aef handler \u91cc\u5904\u7406\u4e0d\u5c31\u5f97\u4e86\uff1f. \u8bf7\u8be6\u7ec6\u6280\u672f\u4f60\u7684\u95ee\u9898\uff1a\u4f01\u4e1a\u5fae\u4fe1\u7684\u6d88\u606f\u63a8\u9001 \u4f01\u4e1a\u652f\u4ed8. \u9ebb\u70e6\u719f\u8bfb\u6587\u6863\uff0c\u8fd9\u4e2a\u53d8\u5316\u7684\u89e3\u91ca\u662f\u8fd9\u6837\u7684\uff1a\n\u5728 3.x \u7684\u65f6\u5019\uff0c\u5f88\u591a\u65b0\u624b\u540c\u5b66\u7528\u7684\u65f6\u5019\u4e0d\u660e\u767d\u4e3a\u5565\u8fd4\u56de\u7684\u662f\u4e2a\u5bf9\u8c61\uff0c\u6211\u88ab\u65e0\u6570\u4eba\u53cd\u590d\u95ee\u4e86\u5f88\u591a\u6b21\u8fd9\u4e2a\u95ee\u9898\u3002\u6240\u4ee5\uff0c\u5728 4.0 \u4ee5\u540e\uff0c\u6211\u4eec\u91cd\u65b0\u8bbe\u8ba1\u4e86\u53ef\u5b9a\u5236\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff1aarray(default)/collection/object/raw/\u81ea\u5b9a\u4e49\u7c7b\u540d\n\u9ed8\u8ba4\u4f7f\u7528\u6570\u7ec4\u683c\u5f0f\u8fd4\u56de\uff0c\u4f60\u53ea\u9700\u8981\u5728\u914d\u7f6e\u4e2d\u6307\u5b9a\u4ee5\u4e0a\u51e0\u79cd\u8fd4\u56de\u7c7b\u578b\uff0c\u5373\u53ef\u8f7b\u677e\u6362\u5230\u4f60\u559c\u6b22\u7684\u683c\u5f0f\uff0c\u6240\u4ee5\u4f60\u53ea\u9700\u8981\u5728\u914d\u7f6e\u91cc\u6307\u5b9a response_type \u4e3a collection \u5373\u53ef\u3002\u751a\u81f3\uff0c\u4f60\u8fd8\u53ef\u4ee5\u6307\u5b9a\u4f60\u81ea\u5df1\u5b9e\u73b0\u7684\u7c7b\u6765\u4f5c\u4e3a\u8fd4\u56de\u503c\uff0c\u4e0d\u8fc7\u81ea\u5b9a\u4e49\u7c7b\u8981\u6c42\u5b9e\u73b0 EasyWeChat\\Kernel\\Contracts\\Arrayable \u63a5\u53e3\u3002\n\u5177\u4f53\u5b9e\u73b0\u8bf7\u53c2\u8003\uff1ahttps://github.com/overtrue/wechat/blob/master/src/Kernel/Traits/ResponseCastable.php. \u914d\u7f6e\u8bf4\u660e\uff1ahttps://www.easywechat.com/docs/master/zh-CN/official-account/configuration. \u8bf7\u6309\u5b98\u65b9\u6587\u6863\u7684\u7528\u6cd5\u6765\u64cd\u4f5c\u3002. @allen-hxn PHP \u8f93\u51fa\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u6ca1\u6709\u5bf9\u8c61\u4e0e\u5b57\u7b26\u4e32\u7684\u533a\u522b\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e9b\u5b57\u7b26\u4e32 html \u5728\u6d4f\u89c8\u5668\u91cc\u624d\u6709 js \u5bf9\u8c61\u8fd9\u4e9b\u533a\u522b\uff0c\u5bf9\u4e8e\u670d\u52a1\u5668\u7aef\u6765\u8bb2\uff0c\u90fd\u662f\u5b57\u7b26\u4e32\u3002. \u524d\u540e\u5206\u4eab\u5f53\u7136\u9700\u8981\u624b\u52a8\u8bbe\u7f6e URL \u7684\u3002. \u662f\u4e0d\u662f\u5e94\u8be5\u8fd9\u6837\u6539\uff1fhttps://github.com/overtrue/wechat/blob/master/src/BasicService/Media/Client.php#L154-L167. @hachi-zzq \u9ebb\u70e6\u771f\u5b9e\u73af\u5883\u6d4b\u8bd5\u4e00\u4e0b\u54c8\uff0c\u6ca1\u95ee\u9898\u544a\u8bc9\u6211\u5c31\u5408\u5e76\u4e86. @hachi-zzq \u5148\u4e0d\u7ba1\u68c0\u67e5\u7684\u4e8b\u513f\uff0c\u6211\u7684\u610f\u601d\u662f\u4f60\u6d4b\u8bd5\u4e00\u4e0b\u8fd9\u6837\u5199\u5728\u771f\u5b9e\u903b\u8f91\u4e0b\u662f\u5426 OK . @Jasongzj \u7528\u6237 SDK \u539f\u6765\u7684\u4ee3\u7801\uff0c\u5b9e\u9645\u5f97\u5230\u7684 sub_appid \u7684\u503c\u662f\u591a\u5c11\uff1f\u4e0d\u662f null? . \u6240\u4ee5\uff0c\u662f\u5728\u53d1\u7ea2\u5305\u65f6\u4e0d\u9700\u8981\u8fd9\u4e2a\u53c2\u6570\u561b. @Jasongzj OK\uff0c\u6211\u7a0d\u540e\u6765\u66f4\u65b0\u4e00\u4e0b. @tianyong90 @mingyoung \u770b\u770b\u8fd9\u90e8\u5206\uff0c\u6211\u6015\u6539\u9519\u4e86. \u6587\u6863\u662f\u4ece3.0\u6539\u8fc7\u6765\u7684\uff0c\u6709\u95ee\u9898\u53d1\u73b0\u65f6\u70b9\u51fb\u6587\u6863\u9875\u53f3\u4e0a\u89d2\u7684\u201c\u7ea0\u6b63\u201d\u6309\u94ae\u5373\u53ef\u3002. \u62b1\u6b49\uff0c\u5df2\u7ecfN\u5e74\u6ca1\u6253\u7b97\u7528 IIS \u4e86\uff0c\u4e5f\u8bb8\u4f60\u9700\u8981\u81ea\u5df1\u8ddf\u4e00\u4e0b\u3002. \u611f\u8c22\u4f60\u7684\u8d21\u732e\uff01\n\n\u9ebb\u70e6\u63d0\u4f9b\u4e00\u4e0b\u5bf9\u5e94\u7684\u6587\u6863\u5730\u5740\n\u9ebb\u70e6\u7f16\u5199\u5bf9\u5e94\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u53ef\u53c2\u8003\u6211\u4eec\u5df2\u7ecf\u5199\u597d\u7684\u90e8\u5206. \u53ef\u80fd\u9700\u8981\u628a\u4ee3\u7801\u632a\u5230 MiniProgram \u91cc\u54e6. README \u4e0a\u4e0d\u662f\u5199\u7740\u5b98\u7f51\u5462\u561b\uff1f. \u6587\u6863\u4e2d\u5df2\u7ecf\u5199\u6e05\u695a\u4e86\uff0c\u56de\u590d\u4e0e\u5ba2\u670d\u6d88\u606f\u624d\u662f news, \u7fa4\u53d1\u4e0e\u7d20\u6750\u4e2d\u7684\u56fe\u6587\u53eb article \uff0c\u4e0d\u662f\u4e00\u4e2a\u4e1c\u897f\u3002\nhttps://www.easywechat.com/docs/master/zh-CN/official-account/messages\n\n\n\n\n. \uff1fCURLOPT_IPRESOLVE / CURLOPT_CLOSEPOLICY  \u4e0d\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\u5427. \u5728\u547d\u4ee4\u884c\uff1a\nshell\n$ php -r 'var_dump(curl_version());'\n\u5728 fpm \u73af\u5883\u4e0b\uff08\u63a7\u5236\u5668\u91cc\uff09\u4e5f var_dump(curl_version()) \u770b\u770b\u7ed3\u679c. http://php.net/manual/en/function.curl-setopt.php. @mingyoung . @dudashuang \u6050\u6015\u662f\u5fae\u4fe1\u670d\u52a1\u5668\u51fa\u95ee\u9898\u4e86. \u66f4\u65b0 overtrue/wechat 3.3.26 \u89e3\u51b3\u3002. \u8bf7\u63d0\u4f9b\u4e0a\u4e0b\u6587. \u5df2\u7ecf\u4fee\u590d\u4e86. @tianyong90 \u9ebb\u70e6\u770b\u770b\u4e0a\u9762\u4ed6\u53cd\u9988\u7684\u5bc6\u94a5\u7f13\u5b58\u95ee\u9898. \u7f51\u9875\u6388\u6743\u7684 access_token \u4e0e SDK \u4e2d\u5176\u5b83\u8c03\u7528 API \u65f6\u7684 access_token \u5e76\u4e0d\u662f\u4e00\u4e2a\u4e1c\u897f\uff0cOAuth \u7f51\u9875\u6388\u6743\u65f6\u7684 access_token \u7531 https://github.com/overtrue/socialite \u8fd9\u4e2a\u5305\u7ba1\u7406\u5e76\u8d1f\u8d23\u6574\u4e2a OAuth \u903b\u8f91\u3002. https://github.com/overtrue/socialite/blob/master/src/Providers/WeChatProvider.php#L103. @Array-Huang \u66f4\u65b0\u4e00\u4e0b\u7248\u672c\u518d\u8bd5\u3002. 3.3.26. @Array-Huang \u89e3\u51b3\u4e86\u4e48. @Array-Huang \u91cd\u70b9\u68c0\u67e5\u4f60\u7684 cache \u60c5\u51b5. 1. \u7f51\u9875\u6388\u6743\u7684 access_token \u662f\u4e0d\u9700\u8981\u7f13\u5b58\u7684\uff0c\u6240\u4ee5\uff0c\u5e76\u4e0d\u662f\u7cfb\u7edf\u7f13\u5b58\u4e86 access_token\u3002\n2. \u5f53\u5f02\u5e38\u7684\u65f6\u5019\uff0c\u4f60\u8bb0\u5f55\u4e00\u4e0b\u4f60\u7684\u914d\u7f6e\u5185\u5bb9\uff0c \u6709\u53ef\u80fd\u662f\u914d\u7f6e\u8bfb\u53d6\u5931\u8d25\u6240\u81f4\n3. \u53ef\u80fd\u6709\u4eba\u6545\u610f\u5728\u8bbf\u95ee\u4f60\u7684\u56de\u8c03\u63a5\u53e3\uff08\u5e76\u4e0d\u662f\u771f\u5b9e\u64cd\u4f5c\uff0c\u53ef\u80fd\u662f\u5728\u6a21\u62df\u8bf7\u6c42\uff09. @Array-Huang \u5efa\u8bae\u5728\u9519\u8bef\u7684\u65f6\u5019\u5c06\u6574\u4e2a\u8bf7\u6c42\u540c\u65f6\u4e5f\u8bb0\u5f55\u4e00\u4e0b\uff0c\u8bf7\u6c42 URL. \u6240\u4ee5\u4f60\u9700\u8981\u7528\u5230 $router.replace \u65b9\u6cd5\nArray Huang notifications@github.com\u4e8e2018\u5e748\u670823\u65e5 \u5468\u56db\u4e0a\u534810:00\u5199\u9053\uff1a\n\n\u56e0\u4e3a\u6211\u662f\u5f00\u53d1\u8005\uff0c\u6211\u5f88\u6e05\u695a\u6574\u4e2a\u5e94\u7528\u7684\u9875\u9762\u7ed3\u6784\uff0c\u6240\u4ee5\u6211\u4e0d\u4f1a\u4e00\u76f4\u6309\u201c\u5411\u4e0a\u8fd4\u56de\u6309\u94ae\u201d\uff1b\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4e00\u76f4\u590d\u73b0\u4e0d\u51fa\u6765\u7684\u539f\u56e0\u3002\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1183#issuecomment-415256482,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YHbTjJNrP2ETW5_GrajpFAh_Icb8ks5uTgzLgaJpZM4TLhVR\n.\n. \u76f4\u63a5\u56de\u6389\u5904\u7406\u5199\u5728 beforeEach \u91cc\uff0c\u5c06\u53c2\u6570\u5168\u90e8\u6254\u540e\u7aef\u83b7\u53d6\u5e76\u6ce8\u518c\u7528\u6237\uff0c\u8fd4\u56de\u7528\u6237\u4fe1\u606f\uff0c\u7136\u540e replace \u5c31\u597d\u4e86\n\nArray Huang notifications@github.com\u4e8e2018\u5e748\u670823\u65e5 \u5468\u56db\u4e0a\u534810:17\u5199\u9053\uff1a\n\n@overtrue https://github.com/overtrue \u55ef\uff0c\u4e0d\u8fc7\u6211oauth_callback\u9875\u9762\u6ca1\u6709\u4e0avue\u7684\uff0c\u5f97\u7528\nhistory.pushState\u4e86\u3002\n\u63d2\u53e5\u9898\u5916\u8bdd\uff0c @overtrue https://github.com/overtrue \u4f60\u4e5f\u662f\u7528vue\u7684\u5427\uff1f\n\u6211\u8fd9\u4e2aoauth_callback\u9875\u672c\u6765\u662f\u6ca1\u6709\u9700\u8981\u6e32\u67d3html\u51fa\u6765\u7684\uff0c\u76f4\u63a5302\u91cd\u5b9a\u5411\u5c31\u597d\u4e86\uff1b\u4f46\u662f\u8fd9\u6837\u505a\u7684\u8bdd\uff0c\u56de\u5230\u843d\u5730\u9875\u7684\u65f6\u5019\uff0c\u5c31\u89e6\u53d1\u4e0d\u4e86vue-router\u7684\u5168\u5c40\u5b88\u536b\nbeforeEach\uff1b\u800c\u6211\u7684\u5fae\u4fe1\u6388\u6743\u3001\u6743\u9650\u8ba4\u8bc1\u90a3\u4e00\u5757\u7684\u4ee3\u7801\u5168\u5199\u5728beforeEach\u4e86\uff0c\u8fd9\u5c31\u975e\u5e38\u5c34\u5c2c\u4e86\u3002\n\u8bf7\u95ee\u4f60\u662f\u600e\u4e48\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u7684\u5462\uff1f\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1183#issuecomment-415259455,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YECVQep6OKifptiIrs_yL3839xsUks5uThCygaJpZM4TLhVR\n.\n. \u5bf9\u7684\n\nArray Huang notifications@github.com\u4e8e2018\u5e748\u670823\u65e5 \u5468\u56db\u4e0a\u534810:26\u5199\u9053\uff1a\n\n\u54e6\uff1f\uff01\u4f60\u7684\u610f\u601d\u662f\u628aoauth_callback\u8bbe\u5b9a\u4e3avue\u7ba1\u7406\u7684\u9759\u6001\u9875\u9762\uff0c\u7136\u540e\u628a\u5fae\u4fe1\u4f20\u8fc7\u6765\u7684\u53c2\u6570\u518d\u4ee5API\u8bf7\u6c42\u7684\u65b9\u5f0f\u4ea4\u5230\u540e\u7aef\u6765\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u5417\uff1f\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1183#issuecomment-415261172,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YL9R_x2fY32DXWObH1GxozqdTlCWks5uThLMgaJpZM4TLhVR\n.\n. @Array-Huang jssdk \u7b7e\u540d\u7684\u65f6\u5019\u4e3a\u5565\u4f1a\u5b58\u5728 \u4e0d\u9700\u8981\u7684 query \u5462\uff1f\u4f60\u90fd $router.replace \u4e86\u3002. \u54ce\uff0c\u751f\u6210 jssdk \u51ed\u5565\u662f ios \u51b3\u5b9a\u7684\uff1f\u6211\u5f88\u5947\u602a\uff0cjssdk \u53ea\u6709\u4f60\u9700\u8981\u7528\u7684\u65f6\u5019\u624d\u53bb\u751f\u6210\uff0c\u800c\u4e0d\u662f\u5168\u7ad9\u90fd\u751f\u6210\u597d\u4e86\u653e\u5728\u90a3\u91cc\u554a\u3002\n\n\u6bd4\u5982\u9875\u9762  /payments/1 \u9700\u8981\u652f\u4ed8\uff0c\u6240\u4ee5\u9700\u8981 jssdk \n\n\u53d1\u8d77\u6388\u6743\ncallback \u5c06\u53c2\u6570\u6254\u5230\u540e\u7aef\u767b\u5f55\uff0c\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n\u8df3\u8f6c\u5230\u652f\u4ed8\u9875\u9762 /payments/1 \n\u8c03\u7528\u540e\u7aef\u63a5\u53e3\u751f\u6210 jssdk \u914d\u7f6e\uff08\u4f20\u9012\u5f53\u524d URL \u5230\u540e\u7aef /payments/1\uff09\n\u5728\u9875\u9762\u8c03\u7528  wx.config . \u6211\u4e00\u76f4\u7528 history \u6a21\u5f0f\uff0c\u5e76\u6ca1\u6709\u4f60\u8bf4\u7684\u95ee\u9898\u5b58\u5728\n\nArray Huang notifications@github.com\u4e8e2018\u5e748\u670824\u65e5 \u5468\u4e94\u4e0a\u534810:49\u5199\u9053\uff1a\n\n\u54e6\uff0c\u4e0d\u8fc7\u4e0a\u9762\u8bf4\u7684\u8fd9\u4e2a\u53ea\u662f\u9488\u5bf9history\u6a21\u5f0f\uff0chash\u6a21\u5f0f\u5176\u5b9e\u4e0d\u5f71\u54cd\uff0c\u56e0\u4e3a\u4f1a\u5ffd\u7565\u951a\u70b9\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1183#issuecomment-415634993,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YO0XDshNj-RR3mFz9imBCS2sWk5fks5uT2mngaJpZM4TLhVR\n.\n. > \u624d\u8fd4\u73b0\u662feasywechat \u6bcf\u6b21\u5728\u8fdb\u884cjssdk\u751f\u6210\u7684\u65f6\u5019\u90fd\u4f1a\u751f\u6210\u4e00\u904dtoken\n\n\u4ece\u54ea\u91cc\u8bc1\u660e\u7684\u54c7\uff1f\u6211\u6ca1\u53d1\u73b0\u6709\u5237\u65b0 token \u7684\u903b\u8f91\u54e6. > \u4f46\u662feasywechat\u5728\u8fdb\u884c\u83b7\u53d6jssdk\u7684\u65f6\u5019\u53c8\u751f\u6210\u4e86\u4e00\u6b21\n\u6211\u7684\u610f\u601d\u662f\u6211\u7684\u4ee3\u7801\u5e76\u6ca1\u6709\u8fd9\u6837\u505a\u554a\uff0c\u54ea\u91cc\u770b\u51fa\u6765\u5b83\u53c8\u751f\u6210\u4e86\u4e00\u6b21\u5462. 3.0 \u4e5f\u4e0d\u4f1a\u6bcf\u6b21\u90fd\u91cd\u65b0\u53d6\uff0c\u6709\u7f13\u5b58. @wang199296 EasyWeChat \u4e5f\u53ef\u4ee5\u5b58\u5165 redis \u554a\uff0c\u5c31\u6ca1\u6709\u8fd9\u4e8b\u513f\u4e86\u3002. \u5b98\u65b9\u6587\u6863\u201c\u81ea\u5b9a\u4e49\u201d\u7ae0\u8282. \u8bf7\u95ee\u76f8\u5173\u6587\u6863\u5728\u54ea\u91cc\uff1f\u5fae\u4fe1\u5b98\u65b9\u7684\u6587\u6863\u5730\u5740\u9ebb\u70e6\u63d0\u4f9b\u4e00\u4e0b. https://github.com/overtrue/wechat/commit/fd42ea3c7021cbc2c5e582c4d2e764bd54abf66f. dump \u4e00\u4e0b $payload. \u6211\u8ba9\u4f60\u6253\u5370 payload \u800c\u4e0d\u662f\u4f60\u6570\u636e\u5e93\u91cc\u7684\u4e1c\u897f. \u7981\u7528 token \u91cd\u8bd5\nphp\n...\n'http' => ['retries' => 0]\n.... @mingyoung \u4f60\u770b\u770b\u8fd9\u4e2a\uff1f. \u8bf7\u63d0\u4f9b\u5fae\u4fe1\u5b98\u65b9\u7684\u63a5\u53e3\u6587\u6863. \u6211\u8bf4\u7684\u662f\u8bbe\u7f6e\u63a5\u53e3\uff0c\u4e0d\u662f\u8bfb\u53d6\n\u53d1\u81ea\u6211\u7684 iPhone\n\n\u5728 2018\u5e744\u670818\u65e5\uff0c\u4e0b\u534810:26\uff0cNixus notifications@github.com \u5199\u9053\uff1a\n\u8c22\u8c22\u56de\u590d\uff01\n\u53ef\u80fd\u8fd9\u4e2a\u9700\u6c42\u6bd4\u8f83\u5c11\uff0c\u53ea\u6709\u7b2c\u4e09\u65b9\u5e73\u53f0\u624d\u7528\u7684\u5230\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \u4e3b\u8981\u662f\u636e\u6211\u6240\u77e5\uff0c\u5b98\u65b9\u5e76\u6ca1\u6709\u63d0\u4f9b\u8bbe\u7f6e\u63a5\u53e3\uff0c\u6240\u4ee5\u6211\u4e5f\u6ca1\u529e\u6cd5\u63d0\u4f9b\u7ed9\u4f60\u3002. \u54c8\u54c8\u54c8\u54c8. @bestony \u672c\u6765\u5c31\u6709 withHeader \u65b9\u6cd5. php\n$response->withHeader($header, $value)->getBodyContents()\n. @zhangzheng7856 \u62b1\u6b49\u65e0\u6cd5\u91cd\u73b0. > https://www.easywechat.com/docs/master/zh-CN/customize/cache\n\n\u81ea\u5b9a\u4e49\u7f13\u5b58\uff0c\u5c06\u7f13\u5b58\u653e\u5230\u4e00\u53f0\u673a\u5668\uff0c\u5176\u5b83\u5171\u7528\u3002\n. It's closed, plz visit: www.easywechat.com. sorry, oauth \u534f\u8bae\u4e2d\u7684 state \u53c2\u6570\u4e0d\u662f\u7528\u6765\u4f20\u9012\u6570\u636e\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u81ea\u5b9a\u4e49\u4e00\u8bf4\u3002. php\n$app->oauth->redirect('http://foo.com?a=1&b=2');. \u7406\u7531\u662f\u4ec0\u4e48\uff1f. \u6bcf\u4e2a\u7248\u672c\u5f04\u4e2a\u5305\uff0c\u6211\u5012\u662f\u8fd9\u8f88\u5b50\u90fd\u6ca1\u89c1\u8fc7\u8fd9\u6837\u7684\u8bbe\u8ba1\u54e6\uff0c\u800c\u4e14\uff0c\u5c31\u7b97\u4ece3\u8fc1\u52304\uff0c\u4e5f\u4e0d\u9700\u8981\u4e00\u5929\u7684\u65f6\u95f4\u5c31\u53ef\u4ee5\u8fc1\u79fb\u5b8c\u554a. \u62b1\u6b49\uff0c\u4e0d\u53ef\u80fd\u8fd9\u6837\u505a\u7684\uff0c\u4e5f\u6ca1\u89c1\u8fc7\u8fd9\u6837\u7684\u8bbe\u8ba1\uff0c\u800c\u4e14\u5c31\u6211\u6240\u77e5\u76ee\u524d\u5c31\u53ea\u6709\u4f60\u4e00\u4e2a\u4eba\u8fd9\u6837\u63d0\u8fc7\uff0c\u4e4b\u524d\u7684\u90fd\u662f\u57fa\u672c\u4e0a\u82b1\u4e863\u5c0f\u65f6\u4e0d\u5230\u5c31\u6362\u6389\u4e86\uff0c\u5982\u679c\u4f60\u7684\u4ee3\u7801\u8bbe\u8ba1\u7684\u6a21\u5757\u5316\uff0c\u6309\u7406\u6765\u8bb2\u4e0d\u5e94\u8be5\u4f1a\u6709\u592a\u591a\u9700\u8981\u66ff\u6362\uff0c\u6bd4\u5982\u652f\u4ed8\u6a21\u5757\u4e00\u822c\u90fd\u662f\u7edf\u4e00\u5728\u4f60\u9879\u76ee\u91cc\u7684\u4e00\u4e2a\u7c7b\u91cc\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u6539\u8fd9\u4e00\u4e2a\u7c7b\u5c31\u597d\uff0c\u53d1\u6d88\u606f\u6216\u8005\u5176\u5b83\u4e1a\u52a1\uff0c\u4e5f\u5e94\u8be5\u662f\u6709\u56fa\u5b9a\u51fa\u53e3\u7684\uff0c\u4e0d\u5e94\u8be5\u4f1a\u592a\u591a\u5206\u6563\u76f4\u63a5\u8c03\u7528 SDK \u7684\u4ee3\u7801\u5b58\u5728\u3002. \u8c22\u8c22\u4f60\u7684\u5efa\u8bae\uff0c\u4e0d\u8fc7\u6211\u4e0d\u80fd\u63a5\u53d7\u8fd9\u6837\u7684\u505a\u6cd5\u3002. \u5b98\u65b9\u5bf9\u8fd9\u4e2a\u52a8\u4f5c\u7684\u79f0\u547c\u662f\u4ec0\u4e48\uff1f. @zhlhuang \u8f9b\u82e6\u8865\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5?. \u4f7f\u7528\u524d\u8bf7\u5148\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863\uff1a\n\nhttps://www.easywechat.com/docs/master/zh-CN/official-account/messages\n\n. ?. @zhaojianhui129 \u597d\u7684\uff0c\u4e4b\u524d\u786e\u5b9e\u5b58\u5728\u8fc7\u8fd9\u4e2a\u95ee\u9898\uff0c\u5df2\u7ecf\u4fee\u590d\u4e86\u3002. \u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u5b83\u5c06\u4f5c\u4e3a\u6240\u6709 API \u8fd4\u56de\u7ed3\u679c\u7684\u8fd4\u56de\u503c\u5728\u6240\u6709 API \u8bf7\u6c42\u8fd4\u56de\u65f6\u88ab\u521d\u59cb\u5316\uff0c\u6240\u4ee5\u4f60\u5c31\u53ef\u4ee5\u5728\u521d\u59cb\u5316\u4ee5\u540e\u6839\u636e API \u7ed3\u679c\u5b9a\u5236\u4f60\u7684\u9700\u6c42\u4e86\uff0c\u8be6\u7ec6 demo \u53ef\u4ee5\u53c2\u8003\u6559\u7a0b\uff1ahttps://www.easywechat.com/lessons/25. @mingyoung \u5e2e\u5fd9\u770b\u770b\uff1f. @tianyong90 \u9a6c\u4e0a\u53d1. 4.0.24. @everythinggood Handle \u7684\u6784\u9020\u51fd\u6570\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f $app. \u4f60\u7684\u8bbe\u7f6e\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u5ffd\u7565. @hihuangwei \u8fd9\u4e2a\u6211\u5c31\u4e0d\u6e05\u695a\u4e86\u3002. \u6211\u731c\u4f60\u7528\u4e86\u67d0\u5df2\u7ecf\u4e0d\u518d\u7ef4\u62a4\u7684\u56fd\u5185\u6e90\uff0c\u5efa\u8bae\u66f4\u6362\u4e3a Laravel-China \u7684 packagist \u6e90\u518d\u8bd5\u3002https://laravel-china.org/composer. \u6240\u4ee5\u88ab\u6211\u4e00\u4e0b\u5b50\u731c\u4e2d\u4e86. \u4ed6\u90fd\u4e00\u5e74\u591a\u5feb\u4e24\u5e74\u6ca1\u66f4\u65b0\u90a3\u4e2a\u6e90\u4e86. composer require symfony/http-foundation:~3.0. \u4f60\u7684 php \u91cc\u6709\u4e00\u4e2a\u4e34\u65f6\u76ee\u5f55\u7684\u914d\u7f6e\uff1ahttp://php.net/manual/zh/function.sys-get-temp-dir.php \u68c0\u67e5\u4f60\u7684 ini \u4e2d sys_temp_dir \u7684\u914d\u7f6e\u662f\u5426\u5b58\u5728. @mingyoung \u770b\u770b\u8fd9\u4e2a\u95ee\u9898\u5457\uff1f. @symoo \u8bf7\u8bd5\u7528 dev-master \u7248\u672c. \u8fd9\u4e2a\u4f60\u53ef\u80fd\u9700\u8981\u68c0\u67e5\u4f60\u7684\u8f93\u5165\u662f\u5426\u7b26\u5408\u5b98\u65b9\u7684\u8981\u6c42\u4e86\uff0c\u6211\u4eec\u4e5f\u6ca1\u529e\u6cd5\u5e2e\u4f60\uff0c\u6bd5\u7adf SDK \u53ea\u662f\u505a\u8f6c\u53d1\uff0c\u6ca1\u5bf9\u5185\u5bb9\u505a\u5904\u7406\uff0c. \n. \u6309\u7406\u8bb2\u4f60\u8fd9\u6837\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u68c0\u67e5\u4e00\u4e0b\u5176\u5b83\u539f\u56e0\u5427\u3002. \u8fd9\u4e0d\u662f\u5199\u660e\u539f\u56e0\u4e86\u5417\uff1f. \u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u6709\u95ee\u9898. \u5728 tinker \u91cc\u9762\u786e\u8ba4 config('wechat') \u6709\u6b63\u786e\u7684\u503c. \u6211\u56de\u6eda\u4e86\u4fee\u6539\uff0c\u90a3\u4e2a\u65b9\u6cd5\u4e0d\u53ef\u884c. \u8fd9\u3002\u3002\u3002. \u4e25\u683c\u6765\u8bb2\u8fd9\u4e2a\u6211\u4e5f\u89e3\u7b54\u4e0d\u4e86\uff0c\u4f60\u53ef\u4ee5\u4e00\u6b65\u6b65\u8ddf\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u4e34\u65f6\u6587\u4ef6\u4e3a\u5565\u4f1a\u4e0d\u89c1\n\nWannaProGrammer notifications@github.com\u4e8e2018\u5e746\u67087\u65e5 \u5468\u56db\u4e0a\u53489:02\u5199\u9053\uff1a\n\n\u8d85\u54e5 \u6c42\u89e3\u7b54\u4e0b\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1241#issuecomment-395260092,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YO4fT8c4vglj94oeuTUOlwtXIbhNks5t6HuzgaJpZM4UcphG\n.\n. \u5df2\u7ecf\u53d1\u5e034.0.28. \u66f4\u65b0\u5230 4.0.28\n. \u7528\u6d4f\u89c8\u5668\u6253\u5f00\u8bd5\u8bd5\uff0c\u7136\u540e\u67e5\u770b\u6e90\u4ee3\u7801\uff0c\u68c0\u67e5\u662f\u5426\u6709\u591a\u4f59\u8f93\u51fa. \u90a3\u5c31\u53ef\u80fd\u662f ngrok \u7684\u95ee\u9898\u4e86\uff0c\u653e\u5230\u670d\u52a1\u5668\u4e0a\u5c31\u597d\u4e86. \u62b1\u6b49\u90a3\u4f60\u53ea\u80fd\u81ea\u5df1\u89e3\u51b3\u4e86\uff0c\u56e0\u4e3a\u6211\u4e5f\u4e0d\u7528 Yii, \u6211\u7528 Laravel, \u800c\u4e14\u8fd9\u4e2a\u8f93\u51fa\u4e5f\u6b63\u5e38\uff0c\u8fd8\u5f97\u9ebb\u70e6\u4f60\u81ea\u5df1\u518d\u7814\u7a76\u7814\u7a76\u4e86\u3002. @peterpan0708 \u4f60\u7684\u6846\u67b6\u5728\u7ed3\u675f\u65f6\u52a0\u4e86\u5176\u5b83\u8f93\u51fa\uff0c\u5f71\u54cd\u4e86\u7ed3\u679c\uff0c\u6240\u4ee5\u8fd9\u91cc\u7528 exit \u907f\u514d\u4e86\u540e\u7eed\u7684\u9644\u52a0\u5185\u5bb9. \u5982\u679c\u6ca1\u6709\u4eba\u8d21\u732e PR \u5c06\u653e\u5230\u4e0b\u4e00\u4e2a\u5927\u7248\u672c\u6dfb\u52a0\uff0c\u56e0\u4e3a\u76ee\u524d\u8fd9\u5757\u6ca1\u6709\u4f7f\u7528\u7ecf\u9a8c\uff0c\u53ef\u80fd\u4e0d\u4f1a\u8bbe\u8ba1\u5f97\u6bd4\u8f83\u597d\u7528\u3002\u6b22\u8fce\u5927\u5bb6\u8d21\u732e PR \u5e76\u63d0\u4f9b\u4f7f\u7528\u8bf4\u660e\u3002. \u600e\u4e48\u53ef\u80fd\uff01\u4f60\u7684 fpm \u7248\u672c\u7edd\u5bf9\u5c0f\u4e8e7\n\n\u8fbe notifications@github.com\u4e8e2018\u5e746\u67089\u65e5 \u5468\u516d\u4e0b\u53489:38\u5199\u9053\uff1a\n\n\u6211\u7528\u7684\u73af\u5883\nPHP \u7248\u672c\uff1aphp7.2.6\novertrue/wechat \u7248\u672c\uff1a4.0.30\n\u6846\u67b6\u540d\u79f0\uff1ayii2\n\u95ee\u9898\u53ca\u73b0\u8c61\nParse error: syntax error, unexpected '?' in\n/vendor/overtrue/wechat/src/Kernel/Support/Helpers.php on line 83\nParse error: syntax error, unexpected '?' in\n/vendor/overtrue/wechat/src/Kernel/Helpers.php on line 29\nParse error: syntax error, unexpected '?' in\n/vendor/overtrue/wechat/src/Kernel/Helpers.php on line 31\nParse error: syntax error, unexpected '?' in\n/vendor/overtrue/wechat/src/Kernel/Helpers.php on line 33\n\u8fd9\u662f\u5176\u4e2d\u7684\u4e00\u6bb5\u9519\u8bef#php code line 83/ * Return current url. *  @return string /function current_url(){    $protocol = 'http://';    if ((!empty($_SERVER['HTTPS']) && 'off' !== $_SERVER['HTTPS']) || ($_SERVER['HTTP_X_FORWARDED_PROTO'] ?? 'http') === 'https') {        $protocol = 'https://';    }    return $protocol.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];}\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1249, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YEwzoj-ixPWmj-e3ib8kuaazK_Uuks5t68_igaJpZM4UhVli\n.\n. @mingyoung . @maxwelldu \u62b1\u6b49\uff0c\u8fd9\u4e2a\u4f60\u9700\u8981\u81ea\u5df1\u7684\u4f7f\u7528\u961f\u5217\u6765\u505a\uff0cSDK \u5185\u4e0d\u4f1a\u5185\u7f6e\u8fd9\u7c7b\u9700\u6c42\u3002. \u62a5\u9519\u5df2\u7ecf\u8bf4\u4e86\uff0c\u4f60\u7684 PHP \u7248\u672c\u4e0d\u591f\uff1a>= 7.0.8. \u90a3\u5c31\u662f fastadmin \u4f9d\u8d56\u4e86 symfony/options-resolver \uff0c\u800c symfony/options-resolver \u53c8\u8981\u6c42 PHP 7.0.8 \u554a. @mingyoung \u770b\u770b\u662f\u5426 OK . \u6309\u7406\u8bb2\u6ca1\u6bdb\u75c5\u54e6\uff0c\u4f60\u81ea\u5df1\u4e00\u6b65\u6b65\u8ddf\u4e00\u4e0b\u627e\u4e0b\u539f\u56e0\u3002. @mingyoung @Hanson \u6709\u6ca1\u6709\u597d\u7684\u5efa\u8bae\uff0c\u5982\u679c\u76f4\u63a5\u5f02\u5e38\u7684\u8bdd\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u5168\u5c40\u7684\u8fd4\u56de\u503c\u5c31\u4e0d\u7edf\u4e00\u4e86\u3002. @mingyoung \u8fd9\u6837\u600e\u4e48\u6837\uff1f\n\nphp\n$stream->isValid();. @mingyoung \u5728\u5185\u5bb9\u4e3a\u7a7a\u7684\u65f6\u5019\u6216\u8005\u4e0d\u662f\u6587\u4ef6\u7c7b\u4f3c\u7684\u65f6\u5019\u662f\u4e0d\u662f\u5728\u8c03\u7528  save* \u7684\u65f6\u5019\u5f02\u5e38. @mingyoung \u6211\u62bd\u7a7a\u518d\u68c0\u67e5\u4e00\u4e0b\uff0c\u4e5f\u8bb8\u90a3\u8fb9\u6ca1\u6709\u8fd4\u56de\u6b63\u786e\u7684\u5934\u4fe1\u606f. @mingyoung @Ecareyu \u6700\u7ec8\u8fd8\u662f\u6ca1\u6709\u6309\u4e4b\u524d\u7684\u8ba8\u8bba\u6539\uff0c\u56e0\u4e3a\u8003\u8651\u5230\u5fae\u4fe1\u63a5\u53e3\u7684\u8fd4\u56de\u503c\u662f\u4e0d\u56fa\u5b9a\u7c7b\u578b\u7684\uff0c\u6240\u4ee5\u5982\u679c\u7edf\u4e00\u8fd4\u56de StreamResponse \u4e5f\u4e0d\u5408\u7406\uff0c\u76ee\u524d\u6765\u770b\u6bd4\u8f83\u79d1\u5b66\u7684\u5c31\u662f\u5728\u62ff\u5230 $stream \u540e\u68c0\u67e5\u4e00\u4e0b\u7c7b\u578b:\n```php\n$stream = $app->material->get($mediaId);\nif (is_array($stream)) {\n   // \u51fa\u9519\uff0c\u6216\u8005\u89c6\u9891\u7c7b\u578b\u7684\u8fd4\u56de\u503c\n}\n$stream->save('\u4fdd\u5b58\u76ee\u5f55');\n```. \u4e0d\u5ba2\u6c14\uff0c\u6628\u665a\u6298\u817e\u4e86\u4e00\u4e0b\u53d1\u73b0\u6ca1\u529e\u6cd5\uff0c\u5fae\u4fe1\u8fd9\u4e2a\u63a5\u53e3\u8bbe\u8ba1\u5c31\u4e0d\u79d1\u5b66\uff0c\u6240\u4ee5\u5f88\u96be\u4f18\u96c5\u7684\u641e\u5b9a\u3002\ud83d\ude04\nEcareyu notifications@github.com\u4e8e2018\u5e748\u67088\u65e5 \u5468\u4e09\u4e0a\u53488:52\u5199\u9053\uff1a\n\n\u597d\u5427\uff0c\u5176\u5b9e\u6211\u4eec\u73b0\u5728\u5c31\u662f\u8fd9\u4e48\u5e72\u7684\uff0c\u8c22\u4e86\uff0c\u8d85\u54e5\uff01\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1271#issuecomment-411248699,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YEk6tNQsD0RhNPvVpGz30Twz0OCPks5uOjZUgaJpZM4U1pzd\n.\n. @acgrid \u5e94\u8be5\u662f\u54e6. \u9ebb\u70e6\u53d8\u91cf\u90fd\u4f7f\u7528\u9a7c\u5cf0. @keacefull \u9ebb\u70e6\u8865\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u53c2\u8003\u4e4b\u524d\u5199\u7684. @mingyoung \u5e2e\u5fd9\u8fc7\u4e00\u4e0b\u4ee3\u7801. @xjcloudy \u53ef\u4ee5\u8003\u8651\u5728 4.0 \u7248\u672c\u52a0\u4e00\u4e0b\u54e6. \u5df2\u7ecf\u6309\u6587\u6863\u4fee\u590d\u88ab\u653b\u51fb\u53ef\u80fd\uff0c\u867d\u7136\u65b0\u7248\u7684 simpleXML \u62d3\u5c55\u5df2\u7ecf\u9ed8\u8ba4\u5173\u6389\u4e86\u3002. #1282 . #1282 . @joinmm \u6635\u79f0\u91cc\u6709\u8868\u60c5\uff1f\u6211\u7684\u7cfb\u7edf\u91cc\u4e5f\u6709\u5f88\u591a\u7528\u6237\u6635\u79f0\u5e26\u8868\u60c5\uff0c\u6b63\u5e38\u554a. @fncong \u8bf7\u6b63\u786e\u4f7f\u7528 markdown. \u5df2\u53d1\u7248. \u68c0\u67e5\u4f60\u7684 index.php \u5f00\u59cb\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u6216\u8005 routes/* \u7684\u6587\u4ef6\u91cc\uff0c\u5f00\u59cb\u662f\u5426\u8bef\u6dfb\u52a0\u4e86\u7a7a\u767d\u5185\u5bb9. @guoxiongjie \u8bf7\u628a\u65b9\u6cd5\u6539\u6210\u8fd9\u6837\uff1a\n\n```php\n/\n     * Return the pre-authorization login page url.\n     \n     * @param string            $callbackUrl\n     * @param string|array|null $optional\n     \n     * @return string\n     */\n    public function getPreAuthorizationUrl(string $callbackUrl, $optional = []): string\n    {\n        // \u517c\u5bb9\u65e7\u7248 API \u8bbe\u8ba1\n        if (\\is_string($optional)) {\n            $optional = [\n                'pre_auth_code' => $optional\n            ];\n        } else {\n            $optional['pre_auth_code'] = $this->createPreAuthorizationCode()['pre_auth_code'];\n        }\n    $queries = \\array_merge($optional, [\n        'component_appid' => $this['config']['app_id'],\n        'redirect_uri' => $callbackUrl,\n    ]);\n\n    return 'https://mp.weixin.qq.com/cgi-bin/componentloginpage?'.http_build_query($queries);\n}\n\n```\n@mingyoung \u4f60\u89c9\u5f97 OK \u4e0d\uff1f\n. @mingyoung \u597d\u5427\uff0c @guoxiongjie \u90a3\u628a Mobile \u90a3\u4e2a\u4e5f\u540c\u6837\u6539\u4e00\u4e0b\u53c2\u6570\u5427. \u968f\u4fbf\u5199\u7684 media_id \u5f53\u7136\u4e0d\u884c\u554a\uff0c\u8fd9\u8fd8\u7528\u60f3\u4e48\uff1f. \u8fd9\u4e2a\u95ee\u9898\u5c31\u662f\u5bf9\u65b9\u786e\u5b9e\u6ca1\u6709\u54cd\u5e94\u5185\u5bb9\uff0c\u6bd4\u5982\u5fae\u4fe1\u63a5\u53e3\u6302\u6389\u4e86\uff0c\u6216\u8005\u8d85\u65f6\u4e86\uff0c\u5efa\u8bae\u4f60\u68c0\u67e5\u670d\u52a1\u5668\u5230\u5fae\u4fe1\u670d\u52a1\u5668\u7684\u7f51\u7edc\u63a5\u8fde\u662f\u5426\u6b63\u5e38\u3002. @oknixus \u5ba2\u6c14\u4e86. @mingyoung . @mingyoung \u5e2e\u5fd9\u770b\u770b\uff1f. @woann \u524d\u7aef\u4f20\u9012\u7684\u4fe1\u606f\u662f\u4e0d\u53ef\u9760\u7684\u3002. curl 28 \u662f\u8d85\u65f6\u9519\u8bef\uff0c\u4f60\u7684\u670d\u52a1\u5668\u7f51\u7edc\u95ee\u9898. 666. @mingyoung \u53d1\u4e86\u3002. \u624b\u673a\u4e0a\u5408\u5e76\u4e0d\u4e86\uff0c\u4f60\u76f4\u63a5\u5408\u5427. \u670d\u52a1\u5668\u6545\u969c\uff0c\u5df2\u7ecf\u4fee\u590d\u4e86\u54c8. > https://github.com/overtrue/socialite/blob/master/src/SocialiteManager.php#L16\n\nhttps://github.com/symfony/http-foundation/blob/master/Request.php#L707. \u2764\ufe0f . \u4f60\u662f\u5426\u6709\u540c\u6837\u7684\u673a\u5668\u5728\u7528\u540c\u4e00\u4e2a\u8d26\u53f7\uff1f. \u591a\u53f0\u670d\u52a1\u5668\u5efa\u8bae\u4f7f\u7528\u5171\u4eab\u7f13\u5b58\uff0c\u6bd4\u5982 redis\n\npeterpan0708 notifications@github.com\u4e8e2018\u5e749\u67085\u65e5 \u5468\u4e09\u4e0a\u53489:23\u5199\u9053\uff1a\n\n\u8fd9\u4e2a\u516c\u4f17\u53f7\u53ea\u6709\u8fd9\u4e2a\u9879\u76ee\u5728\u7528\uff0c\u4f46\u662f\u6709\u591a\u53f0\u670d\u52a1\u5668\u5728\u8fd0\u884c\u8fd9\u4e2a\u9879\u76ee\u3002access_token\u7528\u7684\u662f\u9ed8\u8ba4\u7684\u7f13\u5b58\u65b9\u5f0f\uff0c\u6ca1\u6709\u4fee\u6539\u3002\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1353#issuecomment-418568537,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YIkuWvmQwmVIeASTWDmORFh0RruWks5uXyeQgaJpZM4WYPDH\n.\n. @peterpan0708 \u5ba2\u6c14\u4e86\uff0c\u4e0d\u8fc7\u4e00\u822c /tmp \u90fd\u662f\u8981\u53ef\u5199\u7684\uff0c\u4e0d\u7136\u7684\u8bdd PHP \u8dd1\u8d77\u6765\u4e5f\u4f1a\u6709\u95ee\u9898\uff0c\u6bd4\u5982\u4e0a\u4f20\u6587\u4ef6\u3002. @sanwv \u4f60\u4e5f\u53ef\u4ee5\u4e0d\u7528\u56de\u8c03\u7684\u5f62\u5f0f\uff0cserver \u5b9e\u4f8b\u652f\u6301\u76f4\u63a5\u83b7\u53d6\u7528\u6237\u6d88\u606f\uff1a\n\n```php\n$message = $app->server->getMessage();\n// \u4f60\u7684\u5176\u5b83\u903b\u8f91\n$replyMessage = \"\u6b22\u8fce\u5173\u6ce8 overtrue.\"; // \u6216\u8005\u5176\u5b83\u7c7b\u578b\u6d88\u606f\uff0c\u6bd4\u5982 new News....\nreturn $app->server->buildResponse($message['FromUserName'], $message['ToUserName'], $replyMessage);\n. \u8fd9\u4e2a\u5c31\u5e2e\u4e0d\u4e0a\u5fd9\u4e86\uff0c\u786e\u5b9e\u5c31\u662f\u7f51\u7edc\u8d85\u65f6\u5bfc\u81f4\u7684\uff0cSDK \u600e\u4e48\u4fee\u6539\u4e5f\u5e2e\u4e0d\u4e0a\u5fd9\u3002. \u8fd9\u4e2a\u4e0d\u662f SDK \u7684\u95ee\u9898\uff0c\u4f60\u9700\u8981\u81ea\u884c\u89e3\u51b3. https://www.easywechat.com/docs/master/zh-CN/payment/scan-pay.php\n<?php\n$iv = '1234567890123412';\n$key = '1234567890123456';\n$data = \"hello world!\";\n$uppercaseResult = base64_encode(openssl_encrypt($data,\"AES-128-CBC\",$key,OPENSSL_RAW_DATA,$iv));\n$lowercaseResult = base64_encode(openssl_encrypt($data,\"aes-128-cbc\",$key,OPENSSL_RAW_DATA,$iv));\nvar_dump($uppercaseResult === $lowercaseResult);\n// true\n```\n\u5728\u7ebf\u8fd0\u884c\uff1ahttps://3v4l.org/kNfEm. \u624b\u52a8\u5b89\u88c5 symfony/http-foundation 3.x \u7248\u672c\n408445006 notifications@github.com\u4e8e2018\u5e749\u670821\u65e5 \u5468\u4e94\u4e0a\u534811:23\u5199\u9053\uff1a\n\n\u6211\u7528\u7684\u73af\u5883\nPHP \u7248\u672c\uff1a7.0.8\novertrue/wechat \u7248\u672c\uff1a4.0\n\u662f\u5426\u4f7f\u7528\u4e86\u6846\u67b6\uff1f\u6846\u67b6\u540d\u79f0\uff1a\u81ea\u5df1\u7684\u6846\u67b6\n\u95ee\u9898\u53ca\u73b0\u8c61\ncomposer\u5b89\u88c5\u65f6\u4f1a\u81ea\u52a8\u5b89\u88c5symfony/http-foundation 4.x \u8fd9\u4e2a4.x\u4e2d\u7684\u90e8\u5206\u51fd\u6570\u63a5\u53e3\u8fd4\u56de\u503c\u5c31?string\n?int\u7684\u8bed\u6cd5\uff0c\u5bfc\u81f4\u4e0d\u652f\u63017.0, \u9700\u8981\u8981\u6c42php7.1\u4ee5\u4e0a\n` $app = Factory::miniProgram($config);\n$app->logger->extend('personal', function () {\nreturn \\Lib\\Api\\Log::logger('default');\n});\n$app->server->push(function ($message) use ($game) {\n    try {\n        $shortcut = GameShortcutService::getGameRandomShortcuts($game->id());\n        if (!$shortcut) {\n            return \"\";\n        }\n    } catch (\\Throwable $e) {\n        echo $e->getTraceAsString();\n        exit;\n    }\n    return $shortcut->context;\n});\n$app->server->push(function ($message) {\n    return new Transfer();\n});\n$response = $app->server->serve();\n$response->send();`\n\n\u63cf\u8ff0\u4f60\u7684\u95ee\u9898\u73b0\u8c61\uff0c\u62a5\u9519\u8d34\u622a\u56fe\u7c98\u8d34\u6216\u8005\u8d34\u5177\u4f53\u4fe1\u606f\uff0c\u63d0\u4f9b\u5fc5\u8981\u7684\u4ee3\u7801\u6bb5\n[image: tim 20180921111510]\nhttps://user-images.githubusercontent.com/31945738/45858382-b8035800-bd8f-11e8-8855-5af7714fc3fa.png\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1365, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YO8GOuAW-SMMg21RAcN9aTky31qGks5udFu9gaJpZM4WzYo5\n.\n. @mingyoung . @winter-ice \u54ea\u90e8\u5206\u770b\u4e0d\u4e86\uff1f. \u4fee\u597d\u4e86\u3002. \u8fd9\u662f\u8981\u5e72\u561b\uff1f. @justjavac @maddie \u54c8\u54c8. \u5728 URL \u4e0a\u5e26\u4e0a\u8ba2\u5355ID\u5373\u53ef\uff1ahttp:://abc.com/notify/wechat/payment/1283949422222. > OK\u3002\u90a3\u5c31\u7ee7\u7eedURL\u4f20\u53c2\u8d70\u8d77\n\n\u6700\u7701\u4e8b\u7684\u505a\u6cd5 \ud83d\ude04 . \u55ef\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f00\u6e90\u4ea7\u54c1\uff0c\u56de\u5934\u7ed9\u4ed6\u63d0\u4e2a\u5efa\u8bae\uff1ahttps://github.com/saleem-hadad/larecipe. php\n$app->broadcasting->sendMessage($message, $to, $attributes);\n\u653e\u5230 $attributes \u91cc\u5373\u53ef\u3002\n. @FlashFeiFei \u5b57\u7b26\u4e32\u4e0e\u6574\u578b\u90fd\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff1a\n\n. \ud83e\udd23 \u6211\u5df2\u7ecf\u8ddf\u4f5c\u8005\u6c9f\u901a\u8fc7\u8ba9\u4ed6\u6539\u6389\u9ed8\u8ba4\u7ec6\u5316\u7684\u5b57\u4f53\u3002\u3002\u3002. state \u53c2\u6570\u4e0d\u662f\u7528\u6765\u4f20\u9012\u6570\u636e\u7684\uff0c\u8c22\u8c22\uff01\u8bf7\u4e86\u89e3 OAuth 2 \u534f\u8bae\u89c4\u8303\uff1a https://tools.ietf.org/html/rfc6819. \u8fd9\u4e2a\u95ee\u9898\u627e\u5fae\u4fe1\u54c8\uff0cSDK \u89e3\u51b3\u4e0d\u4e86. OK. https://github.com/overtrue/wechat/blob/master/src/BasicService/Jssdk/Client.php#L56. @mingyoung \u73b0\u5728 OK \u5417\uff1f. 1. https://github.com/overtrue/wechat/blob/master/src/Kernel/Http/Response.php#L24\n2. https://github.com/guzzle/psr7/blob/f5b8a8512e2b58b0071a7280e39f14f72e05d87c/src/Response.php#L10\n\u54ea\u91cc\u6ca1\u6709\u5b9e\u73b0 Psr7 \u5462\uff1f. \u63a5\u53e3\u662f\u5b9e\u73b0\u4e0d\u662f\u7ee7\u627f\uff0cserver \u8fd9\u91cc\u786e\u5b9e\u6709\u95ee\u9898\u3002. \u8bf7\u63d0\u4f9b\u76f8\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u94fe\u63a5. \u4f60\u662f\u8bf4\u4f60\u8981\u65b0\u505a\u63a5\u53e3\uff0c\u90a3\u65b0\u505a\u63a5\u53e3\u7684\u65f6\u5019\u4f60\u5728\u63a5\u53e3\u903b\u8f91\u91cc\u4f20\u52a0\u5bc6\u65b9\u6cd5\u662f\u4e0d\u662f\u5c31 OK \u4e86\uff1f. setUpdatableMsg  \u6015\u662f\u76f4\u63a5 updateMessage \u5408\u9002\u4e9b. php\n$app = Factory::officialAccount($config);\n$app->rebind('request', $request);. @puzzle9 \ud83e\udd23 . @puzzle9 \u6587\u6863\u4e0a\u5f88\u65e9\u5c31\u5df2\u7ecf\u5199\u4e86\u5982\u4f55\u66ff\u6362\u6a21\u5757 https://www.easywechat.com/docs/master/customize/replace-service \uff0c\u518d\u8005\uff0cSwoole \u5e76\u975e PHP \u5185\u7f6e\u7684\u6a21\u5757\uff0c\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u548c fpm \u672c\u6765\u5c31\u6709\u5dee\u5f02\uff0c\u8fd9\u4e2a\u662f\u4efb\u4f55\u6253\u7b97\u4f7f\u7528\u5b83\u7684\u4eba\u90fd\u5e94\u8be5\u4e86\u89e3\u7684\u3002. \u6211\u7684 SDK \u91cc\u6ca1\u6709\u5c01\u88c5 JSSDK \u7684 js \u90e8\u5206\u4ee3\u7801\uff0c\u65e0\u9700\u53d8\u66f4\u54c8. \u4f60\u53ef\u4ee5\u88c5\u90a3\u4e9b\u5e93\u7684 7.0 \u7248\u672c\uff0c\u6bd4\u5982 symfony/* \u7cfb\u5217\u7684 3.x. :+1:. \u62b1\u6b49\u6211\u8fd9\u91cc\u65e0\u6cd5\u91cd\u73b0. \u4f60\u53ef\u80fd\u9700\u8981\u518d\u81ea\u5df1\u627e\u4e00\u4e0b\u539f\u56e0. @mingyoung \u6211\u611f\u89c9\u8fd9\u4e2a\u662f\u4e0d\u662f\u5e94\u8be5\u653e\u5230\u53eb component \u7684\u6a21\u5757\u4e2d\uff1f. \u4e0d\u4f1a\u63d0\u4f9b\u7684\uff0c\u770b\u4e00\u4e0b\u8fd9\u4e2a\uff1ahttps://github.com/thephpleague/omnipay. @milkmeowo :+1: \u8d5e. php\n->redirect($callback). @mingyoung . \u6211\u89c9\u5f97\u6709\u5fc5\u8981\u8d34\u4e00\u4e0b\u4f60\u7684\u4ee3\u7801\u7684\u5199\u6cd5\uff0c\u5982\u679c\u4f60\u4e0d\u7528\u9ed8\u8ba4\u7684\u65b9\u5f0f\uff0c\u800c\u662f\u624b\u52a8\u5b9e\u4f8b\u5316\u80af\u5b9a\u4e0d\u4f1a\u9ed8\u8ba4\u7528\u914d\u7f6e\u91cc\u7684\u7f13\u5b58\u65b9\u5f0f\u3002. \u9ebb\u70e6\u63d0\u4f9b\u4e00\u4e0b\u573a\u666f\u3002. \u8bf7\u627e\u5bf9\u65b9\u6846\u67b6\u54a8\u8be2\uff0c\u8fd9\u8fb9\u4e0d\u53d7\u7406\u4efb\u4f55\u975e EasyWeChat \u81ea\u8eab\u5728 PHP \u6807\u51c6\u73af\u5883\u4e0b\u7684\u95ee\u9898\u3002\u5982\u679c\u60a8\u4f7f\u7528\u4e86\u5176\u5b83\u62d3\u5c55\u6216\u8005\u4e8c\u6b21\u5c01\u88c5\uff0c\u8bf7\u627e\u76f8\u5173\u4eba\u5458\u63d0\u95ee\uff0c\u8c22\u8c22\uff01. \u914d\u7f6e\u5462. @mingyoung \u4ee5\u540e\u4e5f\u4e0d\u4f1a\uff0c:laughing:. @mingyoung \u5df2\u53d1. @hui1943 @bolechen @luozhenyu \u5bf9\u4e0d\u4f4f\u5404\u4f4d\uff0c\u4e0d\u7ec6\u5fc3\u6240\u81f4\u3002\u8fd8\u8bf7\u66f4\u65b0\u5230 4.1.17. \u65e0\u56de\u590d\u5c31\u5173\u95ed\u4e86\u54c8. @bolechen \u4f60\u8fd9\u53ef\u80fd\u662f\u771f\u7684\u5199\u5165\u5931\u8d25\u4e86\u54c8\u54c8. \u6240\u4ee5\u5c31\u662f\u4f60\u7684 PHP \u4e34\u65f6\u76ee\u5f55\u5199\u5165\u5931\u8d25\u54af\uff1f\u56e0\u4e3a\u9ed8\u8ba4\u662f PHP \u7684\u4e34\u65f6\u76ee\u5f55\uff1ahttps://github.com/symfony/symfony/blob/4.2/src/Symfony/Component/Cache/Traits/FilesystemCommonTrait.php#L29. @bolechen \u54c8\u54c8. @bolechen \u8fd9\u662f\u6211\u7684\u9505. @guoxiangke @calchen  \u62b1\u6b49\u3002. \u53ef\u662f\uff0c\u56fe\u7247\u4e00\u822c\u4f1a\u6307\u5b9a\u540e\u7f00\u5427\uff1f. \u60a8\u8fd9\u8fb9\u662f\u4ec0\u4e48\u573a\u666f\u4e0d\u52a0\u540e\u7f00\u5462\uff1f. @chao \u83b7\u53d6\u6587\u4ef6\u5185\u5bb9\uff1a$stream->getBody()->getContents(). \u6216\u8005 $stream->getBodyContents(). \u4f60\u7684\u8d26\u53f7\u6ca1\u6709\u5728\u5176\u5b83\u5e73\u53f0\u6216\u8005\u4e1a\u52a1\u4e0a\u4f7f\u7528\u5427\uff1f. @fideism \u90a3\u4f60\u9700\u8981\u786e\u8ba4\u5b83\u4eec\u662f\u5171\u4eab\u7684\u5b58\u50a8\uff0c\u5426\u5219\u6211\u4e5f\u5e2e\u4e0d\u4e86\u4f60\u54e6\u3002. @fideism \u4e0d\u5171\u4eab\u5b58\u50a8\u80af\u5b9a\u6709\u65f6\u95f4\u5dee\uff0c\u8981\u51fa\u95ee\u9898\u7684\uff0c\u5f3a\u5236\u5237\u65b0 OK \u554a\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u52a0\u4e00\u4e2a\u65e5\u5fd7\u8bb0\u5f55\uff0c\u5728\u51fa\u9519\u65f6\u7684 token \u4e0e redis \u91cc\u5b58\u7684\uff0c\u5bf9\u6bd4\u4e00\u4e0b\u3002. $app\u4e2d\u5f53\u7136\u6ca1\u6709 getToken \u65b9\u6cd5\u554a\uff0c\u6587\u6863\uff1a\nphp\n// \u83b7\u53d6 access token \u5b9e\u4f8b\n$accessToken = $app->access_token;\n$token = $accessToken->getToken(); // token \u6570\u7ec4  token['access_token'] \u5b57\u7b26\u4e32\n$token = $accessToken->getToken(true); // \u5f3a\u5236\u91cd\u65b0\u4ece\u5fae\u4fe1\u670d\u52a1\u5668\u83b7\u53d6 token.. @mingyoung \u662f\u4e0d\u662f\u4f60\u4e0a\u6b21\u7684\u4fee\u6539\u6709\u95ee\u9898 \ud83d\ude06 . \u5b9e\u9645\u6d4b\u8bd5\u8fc7\u4e86\u6ca1\u5144\u5f1f\uff1f. \u55ef\uff0c\u8865\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5\u5427\n. symfony/* \u7ec4\u4ef6\u662f\u53ef\u9009 3.x \u6216\u8005  4.x \u7684\uff0c\u4f60\u5982\u679c\u662f PHP7 \u7684\u8bdd\u53ef\u4ee5\u88c5 3.x \u7cfb\u5217\u7684\u7ec4\u4ef6\u3002. bash\n$ composer require symfony/http-foundation:~3.4. https://github.com/easywechat/docs. \u6587\u6863\u9ebb\u70e6\u8865\u4e00\u4e0bgithub.com/easywechat/docs\uff0c\u7136\u540e\u6211\u6765\u53d1\u7248\nkehuanhuan notifications@github.com\u4e8e2019\u5e742\u670814\u65e5 \u5468\u56db\u4e0b\u53485:51\u5199\u9053\uff1a\n\n\u8be5\u529f\u80fd\u4e0a\u7ebf\u4e86\uff0c\u4e0d\u53d1\u65b0\u7248\u672c\u4e48\uff1f\u4e0d\u7136\uff0c\u6211\u5982\u4f55\u4f7f\u7528\u6700\u65b0\u529f\u80fd\u5462\uff1f\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/pull/1466#issuecomment-463563763, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YB3RC23yLSkjTII5xETPk4bpAdZEks5vNTGxgaJpZM4a64aZ\n.\n. @daowojia \u4f60\u5728\u8bf4\u5565\u5462\uff1f\n\n. \u770b\u4e00\u4e0b\u63a8\u9001\u7684 xml \u539f\u6587. @talentant \u770b\u4e00\u4e0b\u5427\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u4f60\u5c31\u5728\u8fd9\u4e2a\u5f02\u5e38\u629b\u51fa\u7684\u5730\u65b9\u52a0\u4e00\u4e0b\u65e5\u5fd7\u8bb0\u5230\u6587\u4ef6\u91cc\u7136\u540e\u8d34\u7ed9\u6211\uff0c\u56e0\u4e3a\u4f60\u8fd8\u771f\u662f\u5934\u4e00\u4e2a\u62a5\u8fd9\u4e2a\u9519\u7684\u3002. @talentant \u55ef\uff0c\u53ef\u4ee5\u5728\u62a5\u9519\u4f4d\u7f6e\u52a0\u4e00\u4e2a\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4ee5\u4fbf\u4e8e\u4e0b\u6b21\u6355\u6349\u73b0\u573a\u3002. \ud83d\udc4d . \u5199\u7684\u5565\u554a. \u8d34\u4e00\u4e0b\u6837\u4f8b\uff0c\u8c22\u8c22\uff0c\u5426\u5219\u6211\u5f88\u96be\u731c\u6d4b\u5230\u5e95\u662f\u4e0d\u662f SDK \u5199\u5165\u7684\u4ec0\u4e48\u5185\u5bb9\u3002. \u8fd9\u662f guzzle \u5199\u7684\u65e5\u5fd7\uff0c\u4f60\u662f\u5426\u4fee\u6539\u8fc7 guzzle \u76f8\u5173\u914d\u7f6e. $ composer info overtrue/wechat. \u8d34\u4e00\u4e0b\u7ed3\u679c. \u989d\uff0c\u4f60\u8fd9\u6837\u521d\u59cb\u5316\u5f53\u7136\u4e0d\u4f1a\u8bfb\u914d\u7f6e\u554a\u3002\u3002\u3002. \u786e\u8ba4\u7f13\u5b58\u6709\u771f\u7684\u5b58\u8fdb\u53bb. @talentant has \u4e3a\u5565\u5728\u6210\u529f\u540e\u8fd8\u662f\u8fd4\u56de false\uff0c\u6709\u6ca1\u6709\u770b\u4e00\u4e0b\uff1a\n\nhttps://github.com/overtrue/wechat/blob/master/src/Kernel/AccessToken.php#L140. \u6240\u4ee5\u6211\u53ef\u4ee5\u5173\u6389\u8fd9\u4e2a issue \u4e86\u54c8\uff1f. @talentant \u4fee\u6539\u4e00\u4e0b\u65e5\u5fd7\u8def\u5f84\u5c31\u597d\uff0c\u6216\u8005\u5c06 PHP \u4e34\u65f6\u76ee\u5f55\u6743\u9650\u653e\u5f00\u5c31\u53ef\u4ee5\u4e86\u3002. https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115\n\n. \u5bf9\u554a\uff0c\u6240\u4ee5\u6211\u5206\u6210\u4e86\u591a\u4e2a\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u8d1f\u8d23\u4e00\u4e2a\u573a\u666f. https://github.com/EasyWeChat/docs/blob/master/payment/jssdk.md#%E7%94%9F%E6%88%90%E6%94%AF%E4%BB%98-js-%E9%85%8D%E7%BD%AE\n\n\u6709\u4e09\u79cd\u53d1\u8d77\u652f\u4ed8\u7684\u65b9\u5f0f\uff1aWeixinJSBridge, JSSDK, \u5c0f\u7a0b\u5e8f\n\n\nWeixinJSBridge: $jssdk->bridgeConfig($prepayId) - timeStamp\nJSSDK: $jssdk->sdkConfig($prepayId) - timestamp. \u4f60\u9700\u8981\u5148\u5f04\u660e\u767d\u547c\u8d77\u5fae\u4fe1\u652f\u4ed8\u6709\u4e24\u79cd js \u8c03\u7528\u65b9\u5f0f\u3002. WeixinJSBridge \u547c\u8d77\u652f\u4ed8\uff1ahttps://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&index=6\nJSSDK \u547c\u8d77\u652f\u4ed8\uff1ahttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115. @SifuLi \u4e3a\u5565\u8981\u6539\uff1f\u7406\u7531\u662f\u4ec0\u4e48\u5462\uff1f. @SifuLi \u770b\u4e86\u4e00\u4e0b\u5c0f\u7a0b\u5e8f\u7684\u652f\u4ed8\u786e\u5b9e\u662f timeStamp \u5927\u5199\uff0c\u5df2\u7ecf\u4fee\u6539\u6587\u6863\u3002. @SifuLi \u5ba2\u6c14\u4e86\u3002. \u4f60\u7684\u901a\u77e5\u5904\u7406\u903b\u8f91\u7684\u4ee3\u7801\u8d34\u4e00\u4e0b. \u8d34\u4ee3\u7801\uff0c\u8c22\u8c22. \u8d34\u4f60\u7684 payment \u6a21\u5757\u5b9e\u4f8b\u7684\u4ee3\u7801. \u65e5\u5fd7\u6a21\u5757\u6ce8\u518c\u4e00\u4e2a\u7a7a\u7684\u5904\u7406\u5668 \uff0c\u6216\u8005\u4e0d\u914d\u7f6e\u65e5\u5fd7\uff1a\n\n\u53c2\u8003\uff1a\n\nhttps://github.com/Seldaek/monolog\nhttps://github.com/Seldaek/monolog/blob/master/src/Monolog/Handler/NullHandler.php. \u8fd9\u4e2a\u95ee\u9898\u6211\u5176\u5b9e\u8fd8\u6ca1\u65f6\u95f4\u6765\u786e\u5b9a\u95ee\u9898\u5728\u54ea\u91cc\uff0c\u6211\u5728\u5fd9\u5176\u4ed6\u7684\u4e8b\u60c5\uff0c\u5bfc\u81f4\u6ca1\u6709\u6765\u5f97\u53ca\u5904\u7406\u5b83\u3002\u6587\u6863\u662f\u5f00\u6e90\u7684\uff0c\u53ef\u80fd\u6709\u4e9b\u5730\u65b9\u7531\u4e8e\u65f6\u95f4\u6216\u8005\u5176\u4ed6\u539f\u56e0\u5199\u5f97\u4e0d\u591f\u5168\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u8865\u5145\uff0c\u8fd9\u4e2a\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u6211\u4e0d\u662f\u9760\u5b83\u5403\u996d\uff0c\u6211\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u8981\u505a\uff0c\u5e76\u4e14\u975e\u5e38\u5fd9\uff0c\u6240\u4ee5\uff0c\u5982\u679c\u53d1\u73b0\u4e0d\u8db3\u9ebb\u70e6\u5e2e\u5fd9\u8865\u5145\u66f4\u6b63\uff0c\u611f\u8c22\u7406\u89e3\u3002. \u55ef\uff0c\u5176\u5b9e\u6211\u7684 issue\n\u6a21\u7248\u91cc\u6709\u8981\u6c42\u63d0\u4f9b\u4ee3\u7801\uff0c\u4f46\u662f\u63d0\u95ee\u7684\u4eba\u6ca1\u6709\u63d0\u4f9b\uff0c\u5bfc\u81f4\u6211\u4e5f\u4e0d\u6e05\u695a\u4ed6\u5177\u4f53\u4ec0\u4e48\u539f\u56e0\uff0c\u56e0\u4e3a\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u521d\u59cb\u5316\u65b9\u6cd5\u662f\u6709\u9ed8\u8ba4\u914d\u7f6e\u7684\uff0c\u540e\u6765\u624d\u77e5\u9053\u4ed6\u662f\u624b\u52a8\u521b\u5efa\u7684\u5b9e\u4f8b\u3002\u5e76\u4e14\u4ed6\u7684\u6807\u9898\u5199\u5f97\u5f88\u8bef\u5bfc\u4eba\uff0c\u8fd9\u4e9b\u65e5\u5fd7\u53ea\u662f\u9ed8\u8ba4\u8bb0\u5f55\u5230\u73af\u5883\u7684\u9ed8\u8ba4\u8f93\u51fa\uff0c\u8fd4\u56de\u503c\u5e76\u4e0d\u4f1a\u53d7\u5f71\u54cd\u3002\n\n\u53e6\u5916\uff0c\u4ee3\u7801\uff0c\u6587\u6863\uff0c\u90fd\u662f\u5f00\u6e90\u7684\uff0c\u53ef\u80fd\u6709\u4e9b\u5730\u65b9\u7531\u4e8e\u65f6\u95f4\u6216\u8005\u5176\u4ed6\u539f\u56e0\u5199\u5f97\u4e0d\u591f\u5168\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u8865\u5145\uff0c\u8fd9\u4e2a\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u6211\u4e0d\u662f\u9760\u5b83\u5403\u996d\uff0c\u6211\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u8981\u505a\uff0c\u5e76\u4e14\u975e\u5e38\u5fd9\uff0c\u6240\u4ee5\uff0c\u6b63\u786e\u7684\u63d0\u95ee\u80fd\u52a0\u5feb\u89e3\u51b3\u65f6\u95f4\u3002\u611f\u8c22\u7406\u89e3\u3002\nding-love-yu notifications@github.com\u4e8e2019\u5e743\u670819\u65e5 \u5468\u4e8c\u4e0b\u53484:57\u5199\u9053\uff1a\n\n\u78e8\u4e86\u4e00\u4e2a\u661f\u671f\u7ec8\u4e8e\u8fd8\u662f\u641e\u5b9a\u4e86\uff0c\u65e2\u7136\u76f4\u63a5\u6253\u51fa\u4e86\u65e5\u5fd7\uff0c\u90a3\u80af\u5b9a\u8ddf\u65e5\u5fd7\u6709\u5173\u7684\uff0c\u6240\u4ee5\u52a0\u4e0a\u65e5\u5fd7\u914d\u7f6e\u5c31\u884c\u4e86\uff1b\n'log' => [\n     'level' => 'debug',\n     'file'  => 'C:\\wwwroot\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',\n ],\n\n'log' => [\n    'default' => 'dev', // \u9ed8\u8ba4\u4f7f\u7528\u7684 channel\uff0c\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u6539\u4e3a\u4e0b\u9762\u7684 prod\n    'channels' => [\n        // \u6d4b\u8bd5\u73af\u5883\n        'dev' => [\n            'driver' => 'single',\n            'path' => 'C:\\\\wwwroot\\\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n            'level' => 'debug',\n        ],\n        // \u751f\u4ea7\u73af\u5883\n        'prod' => [\n            'driver' => 'daily',\n            'path' => 'C:\\wwwroot\\We7\\\\'.$mulu.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n            'level' => 'info',\n        ],\n    ],\n],\n\n\u4e24\u79cd\u683c\u5f0f\u90fd\u53ef\u4ee5\uff1b\n\u8001\u54e5 \u7a33\uff01\u611f\u8c22\u60a8\uff01\u529e\u6cd5\u6709\u6548\uff01\n\u8bf4\u771f\u7684\u6211\u662f\u88ab\u6587\u6863\u8bef\u5bfc\u4e86\u5c31\u6ca1\u6709\u53bb\u8003\u8651\u914d\u7f6e\u7684\u95ee\u9898\uff0c\u6587\u6863\u4e2d\u6709\u5982\u4e0b\u51e0\u53e5\u8bdd\uff1a\n\u201c\u5e38\u7528\u7684\u914d\u7f6e\u53c2\u6570\u4f1a\u6bd4\u8f83\u5c11\uff0c\u56e0\u4e3a\u9664\u975e\u4f60\u6709\u7279\u522b\u7684\u5b9a\u5236\uff0c\u5426\u5219\u57fa\u672c\u4e0a\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u201d\n\u4e0d\u5efa\u8bae\u4f60\u5728\u914d\u7f6e\u7684\u65f6\u5019\u5f04\u8fd9\u4e48\u591a\uff0c\u7528\u5230\u5565\u5c31\u914d\u7f6e\u5565\u624d\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u5927\u90e8\u5206\u7528\u9ed8\u8ba4\u503c\u5373\u53ef\u3002\n\u8bf7\u6055\u5c0f\u5f1f\u76f4\u8a00\uff0c\u8fd9\u4e2aissue\u5f00\u542f\u4e86\u8fd9\u4e48\u4e45\u90fd\u6ca1\u4eba\u89e3\u51b3\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u914d\u7f6e\u65e5\u5fd7\u5373\u53ef\uff01\u6211\u89c9\u5f97\u7a0b\u5e8f\u771f\u7684\u4e0d\u96be\u96be\u7684\u662f\u6ca1\u4eba\u628a\u5b83\u8bf4\u6e05\u695a\uff01\u6211\u5728\u6d4b\u8bd5\u8fd9\u4e2a\u6846\u67b6\u524d\u90fd\u628a\u6587\u6863\u4ed4\u7ec6\u8fc7\u4e86\u4e00\u904d\u7684\uff0c\u4ece\u6587\u6863\u7684\u8a00\u8bed\u4e0d\u96be\u770b\u51fa\u4f5c\u8005\u53ef\u80fd\u88ab\u5f88\u591a\u4e0d\u770b\u6587\u6863\u4e00\u4e0a\u6765\u5c31\u95ee\u95ee\u9898\u7684\u4eba\u70e6\u5230\u8fc7\uff0c\u8fd9\u4e9b\u4eba\u56fa\u7136\u4e0d\u8ba8\u4eba\u559c\u6b22\uff0c\u4f46\u662f\u4e5f\u6709\u82b1\u4e86\u7cbe\u529b\u7814\u7a76\u6216\u8005\u662f\u7531\u4e8e\u7406\u89e3\u504f\u5dee\u53c8\u6216\u8005\u7531\u4e8e\u5404\u79cd\u539f\u56e0\u6ca1\u641e\u51fa\u6765\u7684\u4eba\u5b58\u5728\uff01\u5e0c\u671b\u4f5c\u8005\u4e0d\u541d\u8d50\u6559\uff01\u6211\u9047\u5230\u8fc7\u5f88\u591a\u4eba\u90fd\u559c\u6b22\u62ff\u4f60\u4e3a\u4ec0\u4e48\u4e0d\u770b\u6e90\u7801\u6765\u53cd\u9a73\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u4eba\u751f\u82e6\u77ed\u5927\u5bb6\u7684\u65f6\u95f4\u90fd\u5f88\u5b9d\u8d35\uff0c\u6211\u4eec\u9996\u5148\u5e94\u8be5\u6210\u4e3a\u4f7f\u7528\u8005\uff08\u5f53\u7136\u5fc5\u987b\u505a\u597d\u4f7f\u7528\u8005\u7684\u51c6\u5907\uff09\u800c\u4e0d\u662f\u5f00\u53d1\u8005\uff0c\u4e0d\u8be5\u9020\u8f6e\u5b50\u7684\u65f6\u5019\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u5f53\u7136\u5fc5\u8981\u65f6\u4f60\u9020\u7684\u8f6e\u5b50\u4f1a\u5e2e\u5230\u522b\u4eba\uff0c\u522b\u4eba\u9020\u7684\u8f6e\u5b50\u4e5f\u4f1a\u5e2e\u5230\u4f60\u3002\u6211\u5dee\u70b9\u5c31\u653e\u5f03\u8fd9\u4e2a\u6846\u67b6\u4e86\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u6846\u67b6\u8fd9\u4e48\u5907\u53d7\u63a8\u5d07\uff0c\u6211\u60f3\u76db\u540d\u4e4b\u4e0b\u5176\u5b9e\u96be\u526f\uff0c\u8fd8\u662f\u611f\u8c22\u4f5c\u8005\uff01\u8f9b\u82e6\u4e86\uff01\u697c\u4e0a\u8fd9\u4e2a\u8001\u54e5\u82b1\u4e86\u4e00\u5468\u65f6\u95f4\u89e3\u51b3\u4e86\u4e00\u4e2a\u201c\u5c0f\u95ee\u9898\u2018\u2019\u4e5f\u5f88\u611f\u6fc0\uff01\u5e0c\u671b\u5927\u5bb6\u4ee5\u540e\u5c11\u8d70\u5f2f\u8def\uff01\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1490#issuecomment-474252701,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YH9-cCmiuTjn1vZbJgvg38INZ3a9ks5vYKZvgaJpZM4bsn8C\n.\n. \u6700\u540e\u8fd9\u6761\u56de\u590d\u5176\u5b9e\u662f\u6211\u5728\u90ae\u4ef6\u76f4\u63a5\u56de\u7684\uff0c\u4f46\u662f\u7f51\u7edc\u95ee\u9898\u6ca1\u53d1\u51fa\u53bb\uff0c\u6211\u7528\u624b\u673a\u6d4f\u89c8\u5668\u6253\u5f00 issue \u770b\u4e86\uff0c\u91cd\u65b0\u5199\u7684\u56de\u590d\u662f\u4e0a\u4e0a\u6761\uff0c\u4f46\u662f gmail \u90ae\u7bb1\u91cd\u8bd5\u53c8\u628a\u8fd9\u4e2a\u56de\u590d\u51fa\u53bb\u4e86\u2026\u2026\uff0c\u8fd9\u662f\u6211\u7684\u9505\uff0c\u4f60\u7684\u63d0\u95ee\u5f88\u6807\u51c6\uff0c\u53ea\u4e0d\u8fc7\u6211\u5728\u90ae\u4ef6\u4e2d\u76f4\u63a5\u56de\u590d\u7684\u65f6\u5019\u8bef\u4ee5\u4e3a\u662f\u53e6\u5916\u4e00\u4e2a\u4eba\u7684\u95ee\u9898(\u53ea\u8bf4\u4e86\u7ed3\u679c\u6ca1\u8d34\u4ee3\u7801)\u4e86\uff0c\u5bf9\u4e0d\u4f4f\uff0c\u8fd9\u662f\u6211\u7684\u9505\u3002\n\n\u8fd9\u91cc\u8bf4\u7684\u624b\u52a8\u521b\u5efa\u5b9e\u4f8b\uff0c\u5176\u5b9e\u662f\u8fd9\u6837\u7684\uff0c\u6211\u4ee5\u4e3a\u4f60\u7528\u7684\u6846\u67b6\uff0c\u6846\u67b6\u6211\u90fd\u5c01\u88c5\u4e86\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4e5f\u5c01\u88c5\u4e86\u9ed8\u8ba4\u7684\u5404\u6a21\u5757\u521b\u5efa\u65b9\u6cd5\uff0c\u90a3\u6837\u4f7f\u7528\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e9b\u624b\u52a8\u5199\u914d\u7f6e\u7684\u60c5\u51b5\u3002\n\u603b\u7ed3\u4e0b\u6765\u8fd8\u662f\u6211\u7684\u6587\u6863\u95ee\u9898\uff0c\u4e00\u4f1a\u513f\u7b49\u5a03\u7761\u7740\u4e86\u6211\u5c31\u6765\u6539\u6587\u6863\uff0c\u7ed9\u60a8\u9020\u6210\u7684\u4e0d\u4fbf\u656c\u8bf7\u8c05\u89e3\u3002. https://github.com/overtrue/wechat/issues/1486\n\u770b\u6210\u8fd9\u4e2a issue \u7684\u56de\u590d\u4e86. \u611f\u8c22\ud83d\ude4f\nding-love-yu notifications@github.com\u4e8e2019\u5e743\u670819\u65e5 \u5468\u4e8c\u4e0b\u53488:37\u5199\u9053\uff1a\n\n\u6700\u540e\u8fd9\u6761\u56de\u590d\u5176\u5b9e\u662f\u6211\u5728\u90ae\u4ef6\u76f4\u63a5\u56de\u7684\uff0c\u4f46\u662f\u7f51\u7edc\u95ee\u9898\u6ca1\u53d1\u51fa\u53bb\uff0c\u6211\u7528\u624b\u673a\u6d4f\u89c8\u5668\u6253\u5f00 issue \u770b\u4e86\uff0c\u91cd\u65b0\u5199\u7684\u56de\u590d\u662f\u4e0a\u4e0a\u6761\uff0c\u4f46\u662f gmail\n\u90ae\u7bb1\u91cd\u8bd5\u53c8\u628a\u8fd9\u4e2a\u56de\u590d\u51fa\u53bb\u4e86\u2026\u2026\uff0c\u8fd9\u662f\u6211\u7684\u9505\uff0c\u4f60\u7684\u63d0\u95ee\u5f88\u6807\u51c6\uff0c\u53ea\u4e0d\u8fc7\u6211\u5728\u90ae\u4ef6\u4e2d\u76f4\u63a5\u56de\u590d\u7684\u65f6\u5019\u8bef\u4ee5\u4e3a\u662f\u53e6\u5916\u4e00\u4e2a\u4eba\u7684\u95ee\u9898(\u53ea\u8bf4\u4e86\u7ed3\u679c\u6ca1\u8d34\u4ee3\u7801)\u4e86\uff0c\u5bf9\u4e0d\u4f4f\uff0c\u8fd9\u662f\u6211\u7684\u9505\u3002\n\u8fd9\u91cc\u8bf4\u7684\u624b\u52a8\u521b\u5efa\u5b9e\u4f8b\uff0c\u5176\u5b9e\u662f\u8fd9\u6837\u7684\uff0c\u6211\u4ee5\u4e3a\u4f60\u7528\u7684\u6846\u67b6\uff0c\u6846\u67b6\u6211\u90fd\u5c01\u88c5\u4e86\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4e5f\u5c01\u88c5\u4e86\u9ed8\u8ba4\u7684\u5404\u6a21\u5757\u521b\u5efa\u65b9\u6cd5\uff0c\u90a3\u6837\u4f7f\u7528\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e9b\u624b\u52a8\u5199\u914d\u7f6e\u7684\u60c5\u51b5\u3002\n\u603b\u7ed3\u4e0b\u6765\u8fd8\u662f\u6211\u7684\u6587\u6863\u95ee\u9898\uff0c\u4e00\u4f1a\u513f\u7b49\u5a03\u7761\u7740\u4e86\u6211\u5c31\u6765\u6539\u6587\u6863\uff0c\u7ed9\u60a8\u9020\u6210\u7684\u4e0d\u4fbf\u656c\u8bf7\u8c05\u89e3\u3002\n\u54c8\u54c8\n\u6ca1\u4e8b\u7684\u8001\u54e5\uff01\u4e5f\u6709\u6211\u7684\u9505\uff0c\u6211\u4e4b\u524d\u6ca1\u7528\u8fc7easywechat\u4f46\u662f\u5b83\u5374\u5982\u96f7\u8d2f\u8033\uff0c\u6240\u4ee5\u6211\u5c31\u4e86\u89e3\u4e86\u4e0b\u7136\u540e\u6839\u636e\u4f8b\u5b50\u60f3\u505a\u51e0\u4e2a\u6d4b\u8bd5\uff0c\u6240\u4ee5\u4e5f\u6ca1\u7528\u4ec0\u4e48\u6846\u67b6\uff01\u53ef\u80fd\u60a8\u8fd8\u6ca1\u9047\u5230\u6211\u8fd9\u4e48\u65e0\u804a\u7684\u4eba\u3002\u3002\u3002\uff0c\u6700\u540e\u606d\u559c\u8001\u54e5\u554a\uff0c\u90fd\u662f\u5f53\u7239\u7684\u4eba\u4e86\uff0c\n\u6211\u8fd9\u4e2a\u4e0d\u6025\u7684 \u4f60\u6709\u7a7a\u518d\u770b\u4e5f\u6ca1\u4e8b\uff01\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1490#issuecomment-474344125,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABZ3YC84zOE_vo3wufLeSAti9l5tOB5vks5vYNodgaJpZM4bsn8C\n.\n. @staoran \u611f\u8c22\uff01:heart:. \u7a7a\u683c\n. \u7a7a\u683c\n. 'action_info' => array('scene' => $actionInfo)\n\n\u6539\u6210\n'action_info' => array('scene' => $actionInfo),\n. \u79c1\u6709\u65b9\u6cd5\u4e0d\u9700\u8981\u524d\u7f00 \" _ \"\n. \u6ce8\u91ca\u89c4\u8303\uff1a\nphp\n/**\n * \u77ed\u8bf4\u660e\n *\n * @param string $var1\n * @param int    $var2\n * @param array  $var3\n *\n * @return string\n *\n * @throws Exception \n */\n. \u8fd9\u4e00\u6bb5\u4e0d\u9700\u8981\u5427\uff1f\u7236\u7c7b\u5df2\u7ecf\u5e72\u4e86\u8fd9\u4e8b\u513f\u4e86\n. \u8bf7\u5220\u9664\u8fd9\u4e2a\u7c7b\uff0c\u4e0d\u9700\u8981\n. \u8fd9\u4fe9\u53c2\u6570\u6539\u6210\u53c2\u6570\u4f20\u8fdb\u6765\n. AS \u5c0f\u5199\uff0c foreach( -> foreach (\n. php\nif( !$bag->has('nonce_str') ) {\n\u6539\u6210\nphp\nif (!$bag->has('nonce_str')) {\n. \u540e\u9762\u62ec\u53f7\u5185\u7684\u7a7a\u767d\u591a\u4f59\u4e86\n. \u540c\u6837\u7684\u95ee\u9898\uff0c\u7559\u767d\u9519\u8bef\n. \u7b49\u53f7\u4e24\u8fb9\u53ea\u80fd\u6709\u4e00\u4e2a\u7a7a\u683c\n. \u7559\u767d\u9519\u8bef\n. \u7559\u767d\u9519\u8bef\n. \u7559\u767d\u9519\u8bef\n. \u6539\u6210\u53c2\u6570\u4f20\u8fdb\u6765\n. \u8fd9 // \u662f\u8981\u5e72\u561b\uff1f\n. \u7559\u767d\u9519\u8bef\n. \u7559\u767d\u9519\u8bef\n. \u7559\u767d\u9519\u8bef\n. \u7559\u767d\u9519\u8bef\uff0cAS \u5c0f\u5199\n. \u7559\u767d\u9519\u8bef\n. - ? \u524d\u7a7a\u683c\n- $sslcert_path \u9a7c\u5cf0\u547d\u540d\u6cd5\n. \u9a7c\u5cf0\n. \u7559\u767d\n. \u7559\u767d\n. \u7559\u767d\n. \u7559\u767d\n. @return \u4e0e @throws \u4e4b\u95f4\u8981\u7a7a\u884c\n. \u8fd9\u4e00\u6bb5\u597d\u50cf\u7684\u4f60\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u5427\uff1f\n. \u5927\u91cf\u4ee3\u7801\u91cd\u590d\n. php\n/**\n * \u5546\u6237\u8bc1\u4e66\n *\n * @var string\n */\n. php\n@return array \u8bf7\u6c42\u53c2\u6570\n. same\n. @return \u4e0e @throws \u4e4b\u95f4\u9700\u8981\u7a7a\u884c\n. same\n. \u5e38\u91cf\n. \u5e38\u91cf\n. \u5e38\u91cf\n. \u5e38\u91cf\n. \u6ce8\u91ca\u5199\u6cd5\u4e0d\u5bf9\n. \u4e3a\u5565\u4e0d\u7528MagicAttributes ?\n. \u6ce8\u91ca\u5199\u6cd5\u9519\u8bef\n. \u9a7c\u5cf0\u547d\u540d\uff0c\u8c22\u8c22\uff01\n. if( \u540e\u9762\u4e0d\u9700\u8981\u7a7a\u683c\n. \u524d\u9762\u9700\u8981\u7a7a\u884c\n. openId \u4e0e usernames\u90fd\u662f\u5fc5\u4f20\u4e48\uff1f\n. \u90a3\u6211\u5c31\u5efa\u8bae\u4f60\u6dfb\u52a0\u4e24\u4e2a\u65b9\u6cd5\uff0csetWhitelistFromOpenId & setWhitelistFromUsername, \u8fd9\u4fe9\u65b9\u6cd5\u8c03\u7528\u5171\u540c\u7684\u4e00\u4e2a\u5165\u53e3\n. \u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u53c2\u6570\u9017\u53f7\u540e\u7a7a\u683c \n. \u4e3a\u5565\u8981\u5220\u9664\u522b\u4eba\u7684\u65b9\u6cd5\n. \u6ce8\u91ca\u4e0d\u80fd\u5c11 * \u53f7\n. \u9a7c\u5cf0\u547d\u540d\u54c7\n. \u9a7c\u5cf0\u547d\u540d\u53ca\u7f3a\u5c11\u6ce8\u91ca\n. \u683c\u5f0f\n/**\n * Alias.php\n *\n * Part of Overtrue\\Wechat.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * @author    overtrue <i@overtrue.me>\n * @copyright 2015 overtrue <i@overtrue.me>\n * @link      https://github.com/overtrue\n * @link      http://overtrue.me\n */\n. @return \u524d\u9762\u7a7a\u884c\n. rawInput\u662f\u5426\u66f4\u5408\u9002\u4e9b\u5462\uff1f\n. @return \u524d\u9762\u7a7a\u884c\u8fd8\u662f\u6ca1\u52a0\n. 5.3\u4f1a\u62a5\u9519\u3002\u3002\u3002\n. \u800c\u4e14\u5927\u4e8e5.5\u7684\u7248\u672c\u76f4\u63a5\u62a5 $GLOBALS['HTTP_RAW_POST_DATA'] \u4e0d\u5b58\u5728\n. \u9ad8\u7248\u672c\u4f1a\u62a5\u8b66\u544a\uff1aDuplicated\n. \u53bb\u6389\u7684\u8bdd\uff0c\u6709\u7684\u4eba\u5728\u4f4e\u7248\u672c\u4e0b\u7528\u7684\u6846\u67b6\uff0cphp://input \u8bfb\u4e00\u6b21\u5c31\u88ab\u6e05\u7a7a\u4e86\uff0c\u4f1a\u5b58\u50a8\u5230 $HTTP_RAW_POST_DATA  \u91cc\u9762\uff0c\u5982\u679c\u4e0d\u53bb\u8bfb $HTTP_RAW_POST_DATA \u7684\u8bdd\u5c31\u8bfb\u4e0d\u5230\u4e86\u3002\u3002\u3002\n. http://php.net/manual/zh/wrappers.php.php\n\nNote: \u5728 PHP 5.6 \u4e4b\u524d php://input \u6253\u5f00\u7684\u6570\u636e\u6d41\u53ea\u80fd\u8bfb\u53d6\u4e00\u6b21\uff1b \u6570\u636e\u6d41\u4e0d\u652f\u6301 seek \u64cd\u4f5c\u3002 \u4e0d\u8fc7\uff0c\u4f9d\u8d56\u4e8e SAPI \u7684\u5b9e\u73b0\uff0c\u8bf7\u6c42\u4f53\u6570\u636e\u88ab\u4fdd\u5b58\u7684\u65f6\u5019\uff0c \u5b83\u53ef\u4ee5\u6253\u5f00\u53e6\u4e00\u4e2a php://input \u6570\u636e\u6d41\u5e76\u91cd\u65b0\u8bfb\u53d6\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u79cd\u60c5\u51b5\u53ea\u662f\u9488\u5bf9 POST \u8bf7\u6c42\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u8bf7\u6c42\u65b9\u5f0f\uff0c\u6bd4\u5982 PUT \u6216\u8005 PROPFIND\u3002\n. \u8fd9\u4e2a\u662f\u5b9e\u73b0\u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u5355\u72ec\u5199\u6ce8\u91ca\uff0c\u6211\u5df2\u7ecf\u5199\u4e86@see Countable::count()\n. \u540c\u7406\n. \u7f3a\u5c11\u53c2\u6570\u7c7b\u578b\n. @throws  \u524d\u9762\u7a7a\u884c\n. PHP 5.4 \u624d\u652f\u6301 Closure \u4e2d\u7684 $this\n\ndiff\n+ $me = $this;\n- $signGenerator->onSortAfter(function (SignGenerator $that) {\n+ $signGenerator->onSortAfter(function (SignGenerator $that) use ($me) {\n-          $that->key = $this->business->mch_key;\n+          $that->key = $me->business->mch_key;\n});\n. \u540c\u6837\u6709 PHP 5.3 \u62a5 $this \u672a\u5b9a\u4e49\u7684\u95ee\u9898\n. \u8bed\u6cd5\u9519\u8bef $that \u540e\u9762\u7684\u62ec\u53f7\u6ca1\u4e86\n. \u8fd8\u662f\u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898\n. InvalidArgumentException \u5427\uff1f\n. \u7a7a\u683c\n. \u7a7a\u683c\n. \u662f\u4e0d\u662f\u5e94\u8be5\u628a code \u4e0e line \u4e5f\u5199\u4e0a\uff1f\n. \u65b9\u6cd5\u77ed\u63cf\u8ff0\u4e0b\u7a7a\u4e00\u884c\n. \u4e0d\u540c\u7684\u6ce8\u91ca\u6807\u7b7e\u4e4b\u95f4\u7a7a\u884c\n. \u4e0d\u540c\u7684\u6ce8\u91ca\u6807\u7b7e\u4e4b\u95f4\u7a7a\u884c\n. \u4e0d\u540c\u7684\u6ce8\u91ca\u6807\u7b7e\u4e4b\u95f4\u7a7a\u884c\n. \u77ed\u63cf\u8ff0\u540e\u7a7a\u884c\n. \u547d\u540d\u98ce\u683c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u7edf\u4e00\u9a7c\u5cf0\n. if \u4e0e ( \u4e4b\u95f4\u7a7a\u884c\u3001 == \u4e24\u8fb9\u54041\u4e2a\u7a7a\u683c\u3001){ \u4e4b\u95f4\u7a7a1\u683c\n. \u5176\u5b9e\u8fd9\u6574\u4e2a if \u63a7\u5236\u6d41\uff0c\u6362\u6210 switch...case \u66f4\u5408\u9002\u4e9b\n. \u901a\u5e38\u5b57\u7b26\u4e32\u5185\u5305\u542b\u53d8\u91cf\u7684\u8bdd\u76f4\u63a5\u7528\u53cc\u5f15\u53f7\uff1a\nphp\n\"\u4e0d\u652f\u6301trade_type\u4e3a{$trade_type}\u652f\u4ed8\u53c2\u6570\"\n. \u4e3a\u5565\u4e0d\u76f4\u63a5\u5199\u6210\uff1areturn $this->request(self::API_SEND, $params); \u5462\uff1f\n\u53e6\u5916\u5efa\u8bae return \u524d\u7a7a\u884c\u3002\n. \u5efa\u8bae\u5220\u9664\u8fd9\u4e2a\u51fd\u6570\n. \u76f4\u63a5\u7528 getenv \u5427, \u9ed8\u8ba4\u503c\u7528 127.0.0.1 \u5427, 'unknown' \u4f30\u8ba1\u65e0\u6cd5\u901a\u8fc7\u5427\n. return $this->parseJSON('json', [self::API_GET_INDUSTRY, $params]);\n\u53ef\u4ee5\u8003\u8651\u6539\u6210\uff1a\nreturn $this->parseJSON('json', [self::API_GET_INDUSTRY]);\n. \u5efa\u8bae\u6539\u540d\u4e3a\uff1agetPrivateTemplates\n. \u540c\u7406\u3002\u5982\u679c\u6ca1\u6709\u53c2\u6570\u53ef\u4ee5\u4e0d\u4f20\n. del -> delete \n. return \u524d\u9762\u7a7a\u4e00\u884c\n. \u8fd9\u91cc\u8bf7\u4e0d\u8981\u7559\u7a7a\u767d\u5728\u8fd9\u91cc\u3002\n. \u5176\u5b9e\u4e0d\u8981\u8fd9\u4e00\u6b65\u90fd\u53ef\u4ee5\u7684\u5427\u3002\n. \u5efa\u8bae\u5224\u65adhttp \u800c\u4e0d\u662f :\uff0c \u56e0\u4e3a\u7aef\u53e3\u4e5f\u662f\u7528:\u53f7\u6765\u533a\u522b\u7684\n. \u524d\u9762\u7a7a\u884c\u5427\n. php\nuse  Doctrine\\Common\\Cache as CacheInterface;\n...\nif (empty($this['config']['cache']) || !($this['config']['cache'] instanceof CacheInterface))\n. \u4e0d\u5b58\u5728\u5427\uff1f\u6b63\u786e\u7684\u5e94\u8be5\u662f\uff1aDoctrine\\Common\\Cache\\Cache\n. if \u903b\u8f91\u9519\u8bef\n. jus \u662f\u4ec0\u4e48\uff1f\n. showQrCode_Url \u8fd9\u662f\u4e2a\u4ec0\u4e48\u5199\u6cd5\uff1f\n. \u9a7c\u5cf0\n. \u76f4\u63a5 $refresh \u5373\u53ef\u3002 \ud83d\ude04 \n. array \u662f\u4e00\u4e2a\u65e0\u610f\u4e49\u540e\u7f00\uff0c\u901a\u5e38\u6211\u4eec\u547d\u540d\u7684\u65f6\u5019\u5c3d\u91cf\u907f\u514d\u7c7b\u4f3c\uff1axxxInfo, xxxData,xxxList \u8fd9\u6837\u7684\u540d\u79f0\uff0c\u5176\u5b9e\u4e0d\u9700\u8981\u8fd9\u4e9b\u540e\u7f00\uff0c\u6bd4\u5982\uff0c$userInfo \u76f4\u63a5\u7528 $user \u66f4\u597d\uff0c$userList \u76f4\u63a5\u7528 $users \u5373\u53ef\u3002\n. - $cardList -> $cards \n- $value -> $card\n- $key -> $index \n. \u76f4\u63a5 return json_encode($result) \u4e0d\u9700\u8981\u4e2d\u95f4\u53d8\u91cf\n. \u6ce8\u91ca\u8bf7\u5e26\u53c2\u6570\u7c7b\u578b @param \u53c2\u6570\u7c7b\u578b  \u53c2\u6570\u540d [\u53ef\u9009\u7684\u53c2\u6570\u63cf\u8ff0]\n. \u767d\u540d\u5355\uff1aWhitelist \u662f\u4e00\u4e2a\u5355\u8bcd\u3002\n. \u65b9\u6cd5\u547d\u540d\u89c4\u8303\uff1a\u52a8\u8bcd+\u540d\u8bcd \u6216\u8005 \u52a8\u8bcd\uff0c\u6240\u4ee5\u8fd9\u91cc\u81f3\u5c11\u5e94\u8be5\u662f getCode \uff0c\u4f60\u4e0a\u9762\u90fd\u53eb testXXX, getXXX \ud83d\ude06 \n. $encryptCode \u8fd9\u91cc\u597d\u50cf\u4e0d\u5bf9\uff0c\u4f60\u60f3\u8868\u8fbe\u7684\u662f\u52a0\u5bc6\u540e\u7684\u4ee3\u7801(encrypted code), \u6539\u6210 $encryptedCode \u6216\u8005 $ciphertext \uff08\u5bc6\u6587\uff09\u4e5f\u8bb8\u5408\u9002\u4e9b\u3002\n. @param string $openid\n. \u8fd9\u91cc\u6211\u6709\u70b9\u7591\u95ee\uff08\u56e0\u4e3a\u6211\u5bf9\u5361\u5238 API \u4e0d\u662f\u592a\u719f\u6089\uff09\u8fd9\u91cc\u65e2\u7136\u662f\u83b7\u53d6\u5361\u5238\u5217\u8868\uff0c\u4e3a\u5565\u8fd8\u6709\u4e00\u4e2a\u53ef\u9009\u7684 $cardId \u5462\uff1f\n. php\n$params = [];\n$params['card_id'] = $cardId;\n\u53ef\u4ee5\u8003\u8651\u5408\u5e76\u4e3a\uff1a\nphp\n$params = [\n    'card_id' => $cardId,\n];\n. \u52a8\u540d\u8bcd\n. \u4e0d\u9700\u8981 card \u524d\u7f00\u4e86\uff0c\u5f53\u524d API \u5df2\u7ecf\u9501\u5b9a\u547d\u540d\u7a7a\u95f4\u4e86\n. disable \u4e5f\u8bb8\u66f4\u5408\u9002\u4e9b\u3002\n. \u8fd9\u4e2a\u540d\u79f0...\n. From ? or Form ?  Field ? \n. get user of member card \u6216 get member card user\n. \bupdate user of member card \u6216 update member card user\n. \u591a\u4f59\u4e86\u54e6\n. @tianye \u597d\u5427\uff0cgot it.\n. @tianye \u55ef\uff0c\u4f46\u662f\u8fd9\u4e2a API \u7684\u52a8\u4f5c\u662f \u4f7fxxx\u5931\u6548\uff0c\u52a8\u8bcd\u3002\u800c unavailable \u662f\u8868\u72b6\u6001\uff0c\u5df2\u7ecf\u5931\u6548\u7684\u3002 unavailable \u662f disable \u540e\u7684\u7ed3\u679c\u3002\n. 1. \u7b2c 97 \u884c $card \u6539\u4e3a $params\uff1b\n2. \u4ee3\u7801\u5408\u5e76\nphp\n$cardInfo = [];\n$cardInfo['base_info'] = $baseInfo;\n\u8fd9\u4e24\u884c\u8bf7\u5408\u5e76\uff1a\nphp\n$card = [\n   'base_info' => $baseInfo,\n];\n. \u884c\u8fc7\u957f\u4e86\u3002\n. setPayCell \n. @XiaoLer \uff1f\uff1f\uff1f\u8fd9\u6761\u4fe1\u606f\u6ca1\u770b\u4e48\uff1f\n. \u53c2\u6570\u540d\u53eb $cacheKey \u7136\u800c\u6ce8\u91ca\u5374\u53eb\uff1a$prefix \ud83d\ude22 \n. \u591a\u52a0\u4e00\u4e2a\u7a7a\u683c\u662f\uff1f\n. \\p{Cc} matches an ASCII [\\x00-\\x1F] or Latin-1 [\\x80-\\x9F] control character\n. \u53ef\u4ee5\u53bb\u8fd9\u91cc\u67e5\u770b\uff1ahttps://regex101.com/\n. \u6211\u8bf4\u7684\u95ee\u9898\u5408\u8ba1\u4f60\u6ca1\u770b\uff1f\\p{Cc} \u7b49\u4e8e /[\\x00-\\x1F\\x80-\\x9F]/u \u4e0d\u7b49\u4e8e\u4f60\u7684\uff1a /[\\x00-\\x1F\\x7F-\\x9F]/u \ud83d\ude22 \n. \u662f\u4e0d\u662f\u76f4\u63a5\u53eb lists \u4f1a\u597d\u4e9b\uff0c\u4e0e\u5176\u5b83 API \u4e00\u81f4\n. getGroups\n. getGroup\n. getOrder\n. \u5c11\u4e86\u6ce8\u91ca\n. \u5c11\u4e86\u6ce8\u91ca\n. MenuServiceProvider -> StoreServiceProvider\n. MenuServiceProvider -> StoreServiceProvider\n. event \u6539\u9519\u4e86\u5427\uff1f . \u8fd9\u4e2a\u662f 2 \u7684\u6307\u6570\u7ed3\u679c\u554a. 2^20 = 1048576\uff0c \u6362\u53e5\u8bdd\u8bf4\uff0c\u4f60\u4e0d\u7ba1\u6539\u4e0d\u6539\uff0c\u5b83\u5e94\u8be5\u8981\u4e0e\u4e0a\u9762\u7684\u5e38\u91cf\u4e00\u81f4\uff1aconst EVENT_MSG = 1048576;. \u4f60\u628a\u5b83\u6539\u6210\u4e86  ALL_MSG \u7684\u503c. @soone \u8fd9\u4e2a map \u7684\u4f5c\u7528\u662f\u628a\u5c0f\u5199\u82f1\u6587\u4e0e \u4e0a\u9762\u7684\u5e38\u91cf\u5efa\u7acb\u5bf9\u5e94\u5173\u7cfb\uff0cevent \u6211\u9009\u4e86\u4e00\u4e2a\u8f83\u5927\u7684\u503c\u662f\u56e0\u4e3a\u8003\u8651\u540e\u671f\u62d3\u5c55\uff0c\u6bd4\u5982\u4f60\u6dfb\u52a0\u7684 device_event device_text, \u7ed9\u4ed6\u4eec\u7559\u4f4d\u7f6e. @soone \u4f60\u76f4\u63a5\u4fee\u6539\u63d0\u4ea4\u5c31\u597d\u4e86 \ud83d\ude04 . \u5e94\u8be5\u8981\u68c0\u67e5\u662f\u5426\u5b58\u5728 open_platform\uff0c\u56e0\u4e3a\u4e0d\u662f\u5927\u5bb6\u90fd\u7528\u5f00\u653e\u5e73\u53f0. \u6ca1\uff0c\u6211\u662f\u8bf4 PHP \u4f1a\u62a5 undefined index open_platform. \u54e6\uff0c\u5bf9\uff0c$pimple['config'] \u662f\u5bf9\u8c61\uff0c\u90a3\u6ca1\u95ee\u9898. \u8fd9\u662f\u5e72\u561b\uff1f. \u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5. \u54e6\uff0c\u597d\u5427\uff0c\u8bf7\u5ffd\u7565\u5b83. mini_app_user. ?. \u5176\u5b9e\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 . \uff1a\u6bd4\u5982\uff1aopen_platform.handles.component_verify_ticket. \u5176\u5b9e\u4e0d\u9700\u8981\u9759\u6001. @forecho \u6211\u4eec\u7684\u6240\u6709\u6a21\u5757\u5728 app \u91cc\u90fd\u5df2\u7ecf\u5355\u4f8b\u4e86\uff0c\u5b9e\u9645\u4e0a\u65e0\u6240\u8c13\u7684\uff0c\u5e76\u4e0d\u4f1a\u91cd\u590d\u521b\u5efa\u5bf9\u8c61\uff0c\u4e0e\u9759\u6001\u8c03\u7528\u5dee\u522b\u4e0d\u5927. TRUE -> true. diff\n- if ($isSandboxMode == TRUE) {\n+ if ($isSandboxMode) {. diff\n- protected $sandboxMode = '';\n+ protected $prefix = '';. \u8bf7\u5728\u672c\u5730\u6d4b\u8bd5\u901a\u8fc7\u518d\u63d0\u4ea4\uff0c\u8c22\u8c22\u3002. \u989d\uff0c\u6ca1\u6709\u8fd9\u6837\u7684\u505a\u6cd5\u54e6. \u4e00\u822c\u4e0d\u4f1a\u4e3a\u4e86\u6d4b\u8bd5\u800c\u4fee\u6539\u6e90\u7801\u4e3a\u4e0d\u6807\u51c6\u5199\u6cd5\u7684\u505a\u6cd5. @skyred \u54ea\u91cc\u6709\u9759\u6001\u65b9\u6cd5\u54c7\uff1f. 1. wrapApi \u5e76\u4e0d\u662f\u7ed9 API.php \u5916\u754c\u7684\u7c7b\u6240\u4f7f\u7528\u7684\uff0c\u4e0d\u9700\u8981\u5f00\u653e\u7ed9\u5916\u754c\n2. const XXX \u5e38\u91cf\u672c\u6765\u5c31\u662f public \u7684\uff0c\u6bd5\u7adf\u5b83\u672c\u8eab\u5c31\u662f\u53ea\u8bfb\u7684\uff0c\u800c\u65b9\u6cd5\u4e0d\u540c\n3. \u4ece\u4e00\u5f00\u59cb\u6211\u5c31\u8bf4\u4e86\uff0c\u4f60\u5982\u679c\u60f3\u5728\u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\u8ba9 wrapApi \u80fd\u8c03\u7528\uff0c\u4f60\u9700\u8981\u4f7f\u7528 mockery \u63d0\u4f9b\u7684\u65b9\u6cd5\u8ba9 protected \u65b9\u6cd5\u53ef\u4ee5 mock\u3002 . \u8fd9\u6837\u91cc\u9762\u7684 throw \u6ca1\u6709\u610f\u4e49\u5427\uff1f. EasyWeChat\\Payment\\Cache \u5fd8\u8bb0 use \u4e86\u5427. \u6293\u4f4f\u4e86\u4e5f\u6ca1\u5904\u7406\u554a\uff1f\u611f\u89c9\u4e0d\u9700\u8981\u5916\u5c42\u7684 try \u4e86\u5427. \u5bf9\u554a\uff0c\u5c31\u662f\u56e0\u4e3a\u4f60\u5916\u9762 catch \u4e86\u53c8\u5565\u4e8b\u513f\u6ca1\u505a\uff0c\u6240\u4ee5\u6211\u624d\u8bf4\u91cc\u9762\u7684\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u561b. \u8fd8\u662f protected \u5427. messages. \u8981\u4e0d\u53eb Card \u5427. create. sendSubscription \u5427\uff1f. diff\n-return (new static)->all();\n+return (new static($array))->all();. getTemplateList -> getTemplates. ??? print?. openid \u73b0\u5728\u5df2\u7ecf\u662f\u4e00\u4e2a\u8bcd\u4e86\uff0c\u4e0e web \u7c7b\u4f3c. \u7528 sprintf \u5427. \u8fd9\u4e2a\u65b9\u6cd5\u5b58\u5728\u7684\u610f\u4e49\u662f\uff1f. \u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5. @mingyoung withdrawAudit ?. @niugengyun \u90a3\u5c31 withdrawAudit. \u662f\u4e0d\u662feasywechat/logs \u66f4\u5408\u9002\u4e00\u4e9b\uff1f. \u8fd9\u4e2a\u662f\u4e0d\u662f\u8981\u7528\u590d\u6570\u66f4\u597d\u4e00\u4e9b\uff1f. \u8981\u4e0d\u6539\u4e2a\u540d\u5427\uff1agetActivationForm. query \u4e0d\u9700\u8981 urlencode \u5427. gray_percentage \u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\u3002. getGrayReleaseplan  \u547d\u540d\u6709\u95ee\u9898\u54e6\uff0cplan \u662f\u4e00\u4e2a\u72ec\u7acb\u5355\u8bcd\uff0c\u53e6\u5916\u8fd9\u91cc\u662f\u4e0d\u662f\u5e94\u8be5\u53eb getGrayRelease \u6bd4\u8f83\u5408\u9002\uff1f. \u8fd9\u4e2a $params \u5728\u771f\u5b9e\u4f7f\u7528\u7684\u65f6\u5019\u662f\u600e\u4e48\u4f20\u53c2\u6570\u7684\uff1f. @zhlhuang \u8bf7\u95ee\u8fd9\u91cc\u7684 $params \u5728\u771f\u5b9e\u60c5\u51b5\u5982\u4f55\u4f20\u503c\uff1f. \u90a3\u6211\u89c9\u5f97\u8fd9\u4e2a\u5730\u65b9\u53ef\u80fd\u8981\u6539\u4e00\u4e0b\uff0c\u6539\u6210\uff1a\nphp\npublic function setWebviewDomains(array $domains, $action = 'add') \n{\n    return $this->httpPostJson('wxa/setwebviewdomain', [\n        'action' => $action,\n        'webviewdomain' => $domains,\n    ]);\n}. plan \u53bb\u6389\u5427\uff0c\u4e0e\u4e0a\u9762\u7edf\u4e00. \u5934\u6ce8\u91ca\u9519\u8bef. \u591a\u4f59\u7684 @pachage \u6ce8\u91ca. Info \u662f\u4e00\u4e2a\u65e0\u610f\u4e49\u5355\u8bcd\uff0c\u8bf7\u4fee\u6539\u4e3a setSession. \u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5. getPreAuthorizationUrl \u662f\u4e0d\u662f\u5408\u9002\u4e00\u4e9b. getManagers. getOAuthRedirectUrl. getUserByCode. getUserByTicket. getAuthorization. $cardId \u53ef\u9009\u7684\uff1f. \u65b9\u6cd5\u540d\u6539\u4e00\u4e0b\u5427\uff1amemberCardSummaryById. \u6709\u6ca1\u6709\u8bd5\u8fc7 ThumbMediaId \u4f20 null? . \u8bf7\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5. \u8bf7\u6539\u540d\u4e3a updateAvatar. \u8bf7\u6539\u540d\u4e3a updateSignature. \u5e76\u52a0\u4e0a\u7c7b\u578b\u7ea6\u675f. \u8bf7\u6539\u540d\u4e3a addCategories. \u8bf7\u6539\u540d\u4e3a deleteCategories. \u53d8\u91cf\u7edf\u4e00\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5. \u8bf7\u6539\u540d\u4e3a getCategories. updateCategory. idCardMediaId. licenseMediaId. \u9a7c\u5cf0\uff0c\u5e76\u6539\u540d\u4e3a otherStuffs. getNicknameAuditStatus. isAvailableNickname($nickname). \u6539\u6ce8\u91ca\u8fd8\u8981\u5220\u9664\u4ee3\u7801\uff1f. @mingyoung \u90a3\u4f60\u5b8c\u6210\u540e\u5408\u4e00\u4e0b\uff1f. \u5982\u679c\u8fd9\u4e9b\u53c2\u6570\u90fd\u662f\u5fc5\u586b\u7684\u8bdd\u3002\u76f4\u63a5\u8ba9\u4ed6\u4f20\u6570\u7ec4\u5427. getRegistrationStatus. continue 1 \u662f\u4e0d\u662f\u53ef\u4ee5\u5199\u6210 continue ?  \ud83d\ude06 . sharing \u662f\u540d\u8bcd\uff0c\u8fd9\u91cc\u5e94\u8be5\u53eb share \u53ef\u80fd\u6bd4\u8f83\u5408\u9002\u4e00\u4e9b\u3002. \u8fd9\u91cc\u7684\u591a\u6b21\u5206\u8d26\u6211\u770b\u53c2\u6570\u4e0e\u5355\u6b21\u662f\u4e00\u6837\u7684\uff1f\u533a\u522b\u662f\u54ea\u91cc\u5462\uff1f. markOrderAsFinished. \u76f4\u63a5\u53eb query \u5427. \u7c7b\u540d\u611f\u89c9\u4e0d\u5408\u9002. setVisible? . ",
    "phoenixg": "\u5f31\u5f31\u95ee\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u6211\u8fd9\u4e48\u5199\u4e0d\u884c\u5462\n```\n<?php\nuse Overtrue\\Wechat\\Wechat;\nclass HomeController extends BaseController {\n        public function showWelcome()\n        { \n                $options = [ \n                    'appId'          => 'wx7dc32673310',\n                    'secret'         => '7e11f4e5c767432fb*5a6',\n                    'token'          => 'Your token',\n                    'encodingAESKey' => 'Your encoding AES Key' // optional\n                ];\n                $to = 'http://wx.domain.com/tmp/laravel42wxsocketbtn/public/index.php/oauth';\n            $wechat = Wechat::make($options);\n            $wechat->auth->redirect($to, $state = 'STATE', $scope = 'snsapi_base');\n\n    }\n\n}\n```\n\u5fae\u4fe1\u91cc\u6253\u5f00$to\u8fd9\u4e2a\u5730\u5740\u540e\uff0c\u4f1a\u4e0d\u505c\u5730\u5237\u65b0\u9875\u9762\n\u8fd8\u6709\uff0c token \u548c encodingAESKey\u5bf9\u4e8e\u7f51\u9875\u6388\u6743\u6765\u8bf4\u4e0d\u662f\u5fc5\u987b\u8981\u586b\u5199\u7684\u5427\uff1f\u4e5f\u5c31\u662f\u4e0d\u9700\u8981\u548c\u670d\u52a1\u5668\u505a\u63a5\u53e3\u5bf9\u63a5\u5427\uff1f\n. \u4f60\u597d\uff0c\u6211\u7528\u7684\u662f\uff4c\uff41\uff52\uff41\uff56\uff45\uff4c\u3002\u3000\u4e3a\u4ec0\u4e48\u662f\u6539\u6210return\u4e00\u4e2a\u5b57\u7b26\u4e32\u5462\uff1f\u3000\u8fd9\u6837\u6211\u6253\u5f00\u9875\u9762\u5c31\u662f\u6253\u5370\u51fa\uff55\uff52\uff4c\u800c\u5df2\uff0c\u800c\u4e0d\u662f\u51fa\u73b0\u6388\u6743\u9875\u9762\u6216\u8005\u76f4\u63a5\u6388\u6743\u901a\u8fc7\u83b7\u5f97\u7528\u6237\u4fe1\u606f\n\u6211$to \u5199\u7684\u662f\uff1a \n$to = 'http://wx.domain.com/tmp/laravel42wxsocketbtn/public/index.php/oauth';\n\u8def\u7531\u5199\u7684\u662f\uff1a\nRoute::get('oauth', array('as' => 'oauth', 'uses' => 'HomeController@showWelcome'));\n\u8fd8\u6709\uff0c token \u548c encodingAESKey\u5bf9\u4e8e\u7f51\u9875\u6388\u6743\u6765\u8bf4\u662f\u4e0d\u662f\u5fc5\u987b\u7684\uff1f\n. \u73b0\u5728\u9047\u5230\u4e00\u4e2a\u95ee\u9898\u662fvar_dump($wechat->auth->authorized()); \u8fd4\u56de bool(false)\uff0c\u53ef\u80fd\u662f\u4ec0\u4e48\u539f\u56e0\uff1f\n. \u8c03\u6574\u4e86\u53c2\u6570\u7684\u4f4d\u7f6e\uff0c\u53ef\u662f\u73b0\u5728\u9047\u5230\u4e00\u4e2a\u95ee\u9898var_dump($wechat->auth->authorized()); \u8fd4\u56de bool(false)\uff0c\u53ef\u80fd\u662f\u4ec0\u4e48\u539f\u56e0\uff1f\u53e6\u5916\u6211\u4e5f\u6ca1\u6709\u770b\u5230\u7eff\u8272\u7684\u6388\u6743\u9875\u9762\u3002\n\u8fd8\u6709\uff0c token \u548c encodingAESKey\u5bf9\u4e8e\u7f51\u9875\u6388\u6743\u6765\u8bf4\u662f\u4e0d\u662f\u5fc5\u987b\u7684\uff1f\n. \u6211\u6309\u7167\u4f60\u7684\u4ee3\u7801\u5199\u4e86\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u4e0d\u51fa\u73b0\u6388\u6743\u9875\u9762\u5462\uff1f \u800c\u4e14 var_dump($wechat->auth->authorized());  \u51fa\u6765\u8fd4\u56de\u7684\u662f false\n. \u67e5\u770b\u4e86\u670d\u52a1\u5668\u65e5\u5fd7\u6ca1\u6709\u62a5\u9519\uff0c\u70b9\u5f00firebug net\u6807\u7b7e\uff0c200\u72b6\u6001\uff0c\u4f46\u662f\u54cd\u5e94\u5185\u5bb9html\u662f\uff1a\n Reload the page to get source for: http://\uff08\u9690\u85cf\uff09/overtrue-wechat/dork.php\n. echo\u8fd9\u53e5\u662f\u6211\u6ce8\u91ca\u6389\u4e86\uff0c\u4f46\u662f\u6211\u52a0\u4e86\u8fd9\u53e5\u8fd8\u662f\u6ca1\u6709\u8f93\u51fa\u554a\n. @18601673727 \u4f60\u8fd9\u662f\u5199\u5728laravel\u91cc\u9762\u7684\uff1f \u6211\u662f\u72ec\u7acb\u8c03\u7528\n. @18601673727  yes, download latest version and try, but I'm not using with laravel, I'm using the standalone version\n. ",
    "zerozh": "@overtrue \u8fd9\u6837\u505a\u6709\u4e24\u4e2a\u597d\u5904\uff1a\u4e3a\u4e86\u65b9\u4fbf\u7edf\u4e00\u8bb0\u5f55\u65e5\u5fd7\uff1b\u65b9\u4fbf\u9ad8\u7ea7\u7528\u6237\u5b8c\u5168\u81ea\u5b9a\u4e49\u7c7b\u578b\u7b5b\u9009\n. ",
    "wqcsimple": "@overtrue https://github.com/overtrue/wechat \u6211\u8fd9\u4e2a\u5730\u5740clone\uff0c\u8fd9\u4e2a\u7248\u672c\u4e0d\u662f\u6700\u65b0\u7684\u5417\uff1f\u6700\u597d\u6765\u4e2a\u7248\u672c\u53f7\n. \u770b\u4e86\u4f60\u7684\u5206\u4eab\uff0c\u5bf9\u8fd9\u4e2a\u6a21\u677f\u6bd4\u8f83\u611f\u5174\u8da3\uff0c\u8bf7\u95ee\u80fd\u5426\u5171\u4eab\u7684\nhttp://overtrue.gitbooks.io/building-web-apps-with-laravel5/content/index.html \n. @overtrue \u539f\u6765\u662fgitbook\u7684\uff0c\u5dee\u70b9\u5c31\u8981\u81ea\u5df1\u5199\u4e00\u4e2a\u4e86\n. @overtrue  466817823\n. ",
    "zhyq132": "\u5e94\u8be5\u662f\u6211\u4eec\u9879\u76ee\u7684\u4e2a\u4f8b\u3002\u3002\u3002\u6388\u6743\u65f6\uff0c\u8981\u4e0b\u8f7d\u5934\u50cf\uff0c\u5f15\u5165\u963f\u91cc\u4e91\u7684OSS\u7c7b\uff0c\u5c31\u62a5\u9519\uff0c\u5220\u9664\u963f\u91cc\u4e91\u7684OSS\u4ee3\u7801\uff0c\u5c31\u65e0\u9519\n. ",
    "sinoon": "\u4f60\u597d.\n~~\u5f00\u53d1\u8005\u4e2d\u5fc3-->\u7f51\u9875\u6388\u6743\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f-->\u6388\u6743\u56de\u8c03\u9875\u9762\u57df\u540d  ~~\n~~\u8fd9\u91cc\u4f60\u6709\u8bbe\u7f6e\u5417?~~\n\u8111\u6b8b\u4e86,\u65e2\u7136\u53ef\u4ee5\u83b7\u53d6\u4e00\u6b21\u7528\u6237\u4fe1\u606f,\u8bf4\u660e\u4e0a\u9762\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u4e86.\n. \u6211\u53ea\u4fee\u6539\u4e86README\u6587\u4ef6\u91cc\u7684url, style check\u4e0d\u901a\u8fc7,\u5e94\u8be5\u548c\u6211\u6ca1\u6709\u5173\u7cfb\u5427?\n. @overtrue \u5ba2\u6c14~\u6211\u53ea\u662f\u505a\u6211\u529b\u6240\u80fd\u53ca\u7684~\n. ",
    "kamwing": "@sinoon \u6709\u8bbe\u7f6e\u5462\uff0c\u5f88\u5947\u602a\u4e3a\u4ec0\u4e48\u4f1a\u4e0d\u80fd\u5237\u65b0\n. @sinoon \u8bf7\u95ee\u4f60\u6709\u6d4b\u8bd5\u4e0b\u8fd9\u4e2a\u95ee\u9898\u561b\uff1f \u4e0d\u77e5\u9053\u662f\u5426\u4f1a\u51fa\u73b0\u548c\u6211\u540c\u6837\u7684\u95ee\u9898.\n. ",
    "18601673727": "\u6211\u4e5f\u78b0\u5230\u8fd9\u95ee\u9898\u4e86  \n``` php\n<?php\nuse Overtrue\\Wechat\\Message;\nuse Overtrue\\Wechat\\Server;\nclass WechatController extends BaseController\n{\npublic function test()\n{\n    $appId = '***';\n    $appSecret = '***';\n    $token = '***';\n    $encodingAESKey = '***';\n\n    $server = new Server($appId, $token, $encodingAESKey);\n\n    // \u76d1\u542c\u6240\u6709\u7c7b\u578b\n    $server->on('message', function ($message) {\n        Log::error($message);\n        return Message::make('text')->content('\u60a8\u597d\uff01');\n    });\n\n    // \u76d1\u542c\u6307\u5b9a\u7c7b\u578b\n    $server->on('message', 'image', function ($message) {\n        return Message::make('text')->content('\u6211\u4eec\u5df2\u7ecf\u6536\u5230\u60a8\u53d1\u9001\u7684\u56fe\u7247\uff01');\n    });\n\n    // \u76d1\u542c\u6240\u6709\u4e8b\u4ef6\n    $server->on('event', function ($event) {\n        Log::error('\u6536\u5230\u53d6\u6d88\u5173\u6ce8\u4e8b\u4ef6\uff0c\u53d6\u6d88\u5173\u6ce8\u8005openid: ' . $event['FromUserName']);\n    });\n\n    // \u53ea\u76d1\u542c\u6307\u5b9a\u7c7b\u578b\u4e8b\u4ef6\n    $server->on('event', 'subscribe', function ($event) {\n\n        Log::error('\u6536\u5230\u5173\u6ce8\u4e8b\u4ef6\uff0c\u5173\u6ce8\u8005openid: ' . $event['FromUserName']);\n\n        return Message::make('text')->content('\u611f\u8c22\u60a8\u5173\u6ce8');\n    });\n\n    $result = $server->serve();\n\n    echo $result;\n}\n\n}\n```\n. @phoenixg \u662f\u7684\uff0c\u65e0\u4efb\u4f55log\u6216\u5176\u4ed6\u7ebf\u7d22\uff0croutes.php\u91cc\u662f\u8fd9\u6837\u7684\uff1a\nphp\nRoute::any('wechat', ['uses' => 'WechatController@test']);\n. \u4e0d\u5149message\u4e0d\u80fd\u7528\uff0cevent\u4e5f\u4e0d\u884c\u7684\n. \u8fd8\u662f\u4e0d\u884c,\"\u8be5\u516c\u4f17\u53f7\u6682\u65f6\u65e0\u6cd5\u63d0\u4f9b\u670d\u52a1\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\"\n. \u80af\u5b9a\u662f\u6700\u65b0\u7248\uff0c\u56e0\u4e3a\u6211\u5f53\u65f6\u770b\u5230\u4f60\u5173\u95ed\u4e86\u8fd9\u4e2aissue\uff0c\u4ee5\u4e3a\u89e3\u51b3\u4e86  \n``` php\n// \u56de\u8c03\u5185\nLog::info($message); // \u6b63\u5e38json\nLog::info(var_dump(Message::make('text')->content('\u60a8\u597d'))); // [2015-05-04 17:47:40] production.INFO:  [] []\n// \u56de\u8c03\u5916\u90e8\nLog::info($result); // \u6b63\u5e38xml\nLog::info(var_dump($server)); // [2015-05-04 17:47:40] production.INFO:  [] []\n```\n\u6211\u7684Laravel \u7248\u672c\u662f4.2\uff0c\u672a\u52a0\u5165alias/provider\uff0c\u53ea\u662f\u5728<?php \u540e\u9762use\u4e86\u4e00\u628a\uff0c\u8fd9\u4e2a\u6ca1\u5173\u7cfb\u5427\uff1f\n. @phoenixg \u4f60\u5df2\u7ecf\u641e\u5b9a\u5566\uff1f\n. @overtrue \n\u5b66\u5230\u4e86\uff0c\u8c22\u8c22\uff0c\u4e0d\u8fc7\u5728\u6211\u5199\u8fd9\u4e9bLog::info()\u4e4b\u524d\u5c31\u201c\u8be5\u516c\u4f17\u53f7\u6682\u65f6\u65e0\u6cd5\u63d0\u4f9b\u670d\u52a1\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u201d\uff0c\u8c03\u4e86\u51e0\u5c0f\u65f6\u6700\u7ec8\u5220\u6389\u5916\u7f51vendor\u6587\u4ef6\u5939\u91cd\u65b0\u4e0a\u4f20\u641e\u5b9a\u4e86\uff0c\u4e4b\u524d\u90fd\u662f\u8986\u76d6\u2026\u2026\n. \u54e5\u4eec\u513f\u6211\u770b\u51fa\u6765\u4e86\uff0c\u4f60\u5c11\u5199\u4e00\u4e2a\u611f\u53f9\u53f7\n. ",
    "lazyou": "\u4e0b\u8f7d\u56fe\u7247\u7684\u65f6\u5019\u6211\u51fa\u73b0\u4e86\u53e6\u4e00\u4e2a\u9519\u8bef\u60c5\u51b5\u3002\u5927\u81f4\u539f\u56e0\u662f\u5728\nD:\\xampp\\htdocs\\xampp\\meishenghuo\\vendor\\overtrue\\wechat\\src\\Wechat\\Utils\\Http.php\u7684 request() \u65b9\u6cd5\u4e0b \uff1a \n\n$responseSplit = preg_split('/((?:\\r?\\n){2})/', $response['response']);\n\n\u6b63\u5219\u5206\u5272 header\u548c body\u7684\u65f6\u5019\u51fa\u73b0\u4e86 body\u88ab\u62c6\u5206\u6210\u4e24\u90e8\u5206\u7684\u60c5\u51b5\u3002\n\u6211\u628a\u6b63\u5219\u5185\u7684 \\r \u540e\u9762\u7684 ? \u95ee\u53f7\u53bb\u6389\u5c31\u80fd\u89e3\u51b3\u95ee\u9898\uff08\u4e0d\u61c2\u4e3a\u4ec0\u4e48\uff09\u3002\n\n$responseSplit = preg_split('/((?:\\r\\n){2})/', $response['response']);\n\n\n. $media->download($mediaId, $filename); \u4e0b\u8f7d\u4e34\u65f6\u7d20\u6750\u5230\u672c\u5730\u7684\u65f6\u5019\u3002\n\u4e0b\u8f7d\u5931\u8d25\u3002\n. \u4eca\u5929\u6539\u5b8c\u7684\u8fd8\u6ca1\u66f4\u65b0\u4f7f\u7528\u3002\u6211\u660e\u5929\u66f4\u65b0\u4e0b\u518d\u5efa\u4e2aIssues\u53cd\u9988\u3002\n. ",
    "Fakeronline": "2.0\u7684AppSecret\u8dd1\u54ea\u53bb\u4e86\uff1f\u600e\u4e48\u5c31\u53d8\u6210\u4e86encodingAESKey\uff1f\u6d88\u606f\u52a0\u5bc6\u7684\u5bc6\u94a5\u662f\u5fc5\u987b\u7684\u4e48\uff1f\u6211\u8bb0\u5f97AppSecret\u8fd9\u4e2a\u5e94\u7528\u5bc6\u94a5\u662f\u5fc5\u987b\u8981\u7684\u554a\uff0c1.0\u7248\u672c\u8fd8\u6709\uff0c2.0\u7684\u7248\u672c\u600e\u4e48\u5b9e\u4f8b\u7684\u65f6\u5019\u5c31\u4e0d\u7528\u4f20\u4e86\uff1f\u73b0\u5728\u7528\u4f602.0\u8fd9\u7c7b\uff0c\u5fae\u4fe1\u8001\u662f\u672a\u670d\u52a1\uff0c\u6211\u5c31\u7eb3\u95f7\u90a3\u91cc\u5947\u602a\uff0c\u624d\u53d1\u73b0\u8fd9\u91cc\u597d\u50cf\u6709\u95ee\u9898\u3002\u6c42\u7b54\u590d\u3002\u3002\n. ",
    "lyongdee": "\u55ef\uff0c\u611f\u8c22\u56de\u590d\u3002\n\u5728\u5fae\u4fe1H5\u5185\uff0c\u53ea\u8981\u7528\u6237\u5df2\u7ecf\u4f7f\u7528\u5fae\u4fe1\u7ed1\u5b9a\u8fc7H5\u7528\u6237\u540d\uff0c\u5c31\u8ba9\u7528\u6237\u81ea\u52a8\u767b\u9646\u3002\u4f46\u662f\u7528\u6237\u7b2cN\u6b21\u8fdb\u5165\u5fae\u4fe1\u662f\u6ca1\u6709\u4f1a\u8bdd\u4fdd\u6301\u7684\uff0c\u670d\u52a1\u7aef\u8981\u53d6\u5230\u7528\u6237\u7684openid(snsapi_base\u6388\u6743)\u8fd8\u662f\u9700\u8981\u91cd\u65b0\u83b7\u5f971\u6b21\u6388\u6743\uff0c\u8fd9\u6837\u624d\u80fd\u5224\u5b9a\u62ffopenid\u548c\u6570\u636e\u5e93\u5bf9\u6bd4\u5224\u5b9a\u7528\u6237\u662f\u5426\u5df2\u7ecf\u7ed1\u5b9a\uff0c\u624d\u80fd\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\uff0c\u4e0d\u77e5\u9053\u6211\u7406\u89e3\u5f97\u5bf9\u4e0d\u5bf9\u5462\uff1f\n. ",
    "zsj1029": "\u540c\u95ee\uff0csnsapi_base\u76f4\u63a5\u662f\u5f97\u4e0d\u5230openid\u7684\uff0c\u81f3\u4e8e\u662f\u5426\u8df3\u8f6c\u6388\u6743\u9875\u9762\u4e0d\u592a\u6e05\n. snsapi_base\u76f4\u63a5\u662f\u5f97\u4e0d\u5230openid\u7684\n\u6211\u7684\u610f\u601d\uff0c\u5fae\u4fe1\u8df3\u8fc7\u6765\u7684\u65f6\u5019\u4e0d\u7ed9\u4f60openid\u7684\n\u5fc5\u987b\u518d\u7528\u5fae\u4fe1\u7ed9\u7684code\u53bb\u67e5\u8be2openid\n\u5982\u679c\u9700\u8981\u66f4\u591a\u7528\u6237\u4fe1\u606f\uff0c\u5fc5\u987b\u7528snsapi_userinfo\u53d1\u8d77\u6388\u6743\n\u7136\u540e\u7528code\u83b7\u53d6access_token\uff0c\u7136\u540e\u518d\u53bb\u4f5c\u8fdb\u4e00\u6b65\u67e5\u8be2\n\u4e0d\u77e5\u9053\u6211\u8fd9\u6837\u7406\u89e3\u5bf9\u4e0d\u5bf9\n. \u8c8c\u4f3c\u662f\u7684\u8c22\u8c22\uff0c\u8f93\u51fa\u4e86\u770b\u4e86\u4e00\u4e0b\n\u628a\u670d\u52a1\u5668\u6240\u6709\u4fe1\u606f\u90fd\u4ee5json\u8fd4\u56de\u4e86\n\u5f88\u597d\u7528\u7684sdk\uff0c\u975e\u5e38\u68d2\u8c22\u8c22\n. \u6211\u8bb0\u5f97\u5fae\u4fe1\u6709\u4e2a \u68c0\u9a8c\u6388\u6743\u51ed\u8bc1\uff08access_token\uff09\u662f\u5426\u6709\u6548\n\u5982\u679c\u6709\u6548\u671f\uff0c\u5c31\u7ee7\u7eed\u4f7f\u7528\uff0c\u8fc7\u671f\u4e86refresh_token\u91cd\u65b0\u8bf7\u6c42access_token \n. \u6211\u5efa\u8bae\uff0c\u4f60\u628a\u57fa\u7840\u65b9\u6cd5\u90fd\u5199\u597d\uff0c\u903b\u8f91\u8ba9\u5f00\u53d1\u81ea\u5df1\u5904\u7406\n\u611f\u89c9\u4f60\u628a\u4e1a\u52a1\u4e5f\u5199\u8fdb\u53bb\u4e86\uff0c\u5f00\u53d1\u518d\u5904\u7406\u5c31\u6bd4\u8f83\u9ebb\u70e6\u4e86\n. \u6b63\u5e38\u4f20\u9012\uff0c\u57fa\u672c\u4e0d\u4f1a\u5931\u8d25\u5bf9\u5427\n\u4ee3\u7801\u5904\u7406\u4e86\u5f02\u5e38\u5417\uff1f\n\u6211\u8981\u505a\u4e2a\u63a5\u53e3\u7ed9\u5176\u4ed6\u7cfb\u7edf\u53d1\u9001\u4fe1\u606f\u7528\u7684\n\u6211\u610f\u601d\u5047\u5982\u53d1\u9001\u5931\u8d25\uff0c\u5fae\u4fe1\u4e0d\u4f1a\u8fd4\u56de\u7c7b\u4f3c\n{\n\"errcode\":1,\n\"errmsg\":\"sorry sth is wrong\"\n}\n\u6211\u5c31\u628a\u8fd9\u90e8\u5206\u9519\u8bef\u4fe1\u606f\u76f4\u63a5\u8fd4\u56de\u7ed9\u8c03\u7528\u6211\u63a5\u53e3\u7684\u7cfb\u7edf\n. \u8c8c\u4f3c\u5fae\u4fe1\u7684\u5b98\u65b9\u5728\u7ebf\u63a5\u53e3\u8c03\u8bd5\u6709\u95ee\u9898 \n. refresh_token \u540c\u65f6\u4e5f\u5931\u6548\u4e86\n. APP_KEY \u8fd9\u4e2a\u53c2\u6570 \u96be\u9053\u662fappSecret\n. ok \u5c31\u662fappSecret\n. ",
    "caodixy": "\u60f3\u8bf7\u6559\u4e0b\uff0c\u5982\u679c\u7528\u6237 \u8fdb\u5165\u9875\u9762\uff0c\u6388\u6743\u540e\uff0c\u505c\u7559\u592a\u4e45\u4e86\uff0csession\u5931\u6548\u4e86\uff0c\u540e\u7eed\u662f\u53ef\u80fd\u51fa\u73b0 ajax \u662f\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u60c5\u5f62\uff0c\u6709\u4ec0\u4e48\u597d\u7684\u5904\u7406\u5efa\u8bae\u5417\uff1f\n\u53e6\u5916\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u4e5f\u4f1a\u6709\u95ee\u9898\uff0c\u5982\u679c\u9875\u9762\u6709cache\uff0c\u6ca1\u6709\u53d1\u8d77\u7b2c\u4e00\u6b21\u8bf7\u6c42\uff0c\u4e5f\u662f\u4f1a\u5bfc\u81f4 ajax\u662f\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\n@overtrue  @lyongde @zsj1029. ",
    "nosun": "\u662f\u8bbe\u5907\u76f8\u5173\u7684\uff0cbeta\u7248\u672c\uff0c\u6587\u6863\u5df2\u7ecfqq\u4f20\u7ed9\u4f60\u4e86\n. \u5f53\u65f6\u4e0a\u7ebf\u7684\u65f6\u5019\u4f7f\u7528\u7684\u662f http\u7684, \u4f7f\u7528\u7684\u662f\u963f\u91cc\u4e91\u7684\u670d\u52a1\u5668, \u540e\u6765\u6539\u6210 https, \u4f46\u662fhttps \u7684\u914d\u7f6e\u662f\u5728\u963f\u91cc\u4e91 \u7684 \u4ee3\u7406\u5c42\u505a\u7684, \u4f30\u8ba1\u662f\u8fd9\u4e2a\u539f\u56e0,\u8fdb\u5230\u5185\u90e8\u670d\u52a1\u5668\u7684\u65f6\u5019\u8f6c\u53d1\u7684\u5b9e\u9645\u662f http \u7684\u8bf7\u6c42,  \u5185\u90e8\u7aef\u53e3\u4e00\u76f4\u90fd\u4f7f\u7528\u7684\u662f80.\n\u8fd9\u6837\u8bf4\u6765, \u53ef\u80fd https \u7684 check \u53ef\u80fd\u4e5f\u65e0\u95ee\u9898, \u6211\u548c\u8fd0\u7ef4\u8bf4\u4e0b\u628a\u5185\u90e8\u6620\u5c04\u7684\u7aef\u53e3\u6539\u4e00\u4e0b\u5427.\n. \u4e5f\u53ef\u4ee5\u8003\u8651\u589e\u52a0\u8bf4\u660e, \u6216\u8005\u914d\u7f6e\u9879, \u867d\u7136\u50cf\u6211\u8fd9\u6837\u7684\u60c5\u51b5\u4e0d\u591a,\u4f46\u662f\u4e0d\u5c0f\u5fc3\u4e5f\u4f1a\u9047\u5230\n. ",
    "hubs": "\u54c8\u54c8,\u8c22\u8c22\uff0c\u7b49\u5f85\u4f60\u653e\u5927\u62db\n. \u597d\u5f3a\u5927,\u52a0\u6cb9\n. ",
    "gera2ld": "\u7b97\u4e86\uff0c\u5176\u5b9e\u4e5f\u65e0\u6240\u8c13\uff0c\u76f4\u63a5\u7528Overtrue\\Wechat\\Utils\\Http\u5c31\u597d\u4e86\u3002\n. ",
    "TheNorthMemory": "\u8d85\u8d85\u5728\u5c1d\u8bd5\u89e3\u51b3\u53e6\u5916\u4e2a\u95ee\u9898 https://github.com/overtrue/wechat/commit/4222187d7cb8ed57a71fd23c32a50633e740a356 \n\u8fd9\u53ea\u80fd\u8bf4WX \u670d\u52a1\u7aef\u5c4e\u903c\u5f88\uff0c\u8fd4\u56de\u7684header\u533a\u57df\u8d3c\u62c9\u4e0d\u89c4\u8303\uff0cSDK\u53ea\u80fd\u662f\u89c1\u5230\u4e00\u5904\u517c\u5bb9\u4e00\u6b21\uff0c\u5c4e\u903c\u3002\n. XML CDATA \u8981\u4ed4\u7ec6\u7814\u8bfb\u4e00\u4e0b\u3002. 10\u670812\u65e5\u8d77\uff0c\u88ab\u52a8\u56de\u590d\u6d88\u606f\u4e0e\u5ba2\u670d\u6d88\u606f\u63a5\u53e3\u7684\u56fe\u6587\u6d88\u606f\u7c7b\u578b\u4e2d\u56fe\u6587\u6570\u76ee\u53ea\u80fd\u4e3a\u4e00\u6761. \u8fd9\u4e2a\u9879\u76ee wechat-swagger \u53ef\u4ee5\u800d\u800d\u3002\n\u5176\u4e2d src/nginx.conf /gateway \u662f\u4e2a\u53cd\u5411\u4ee3\u7406\u5b9e\u73b0\u3002\u3002\u3002. ",
    "iScript": "\u4e0d\u662f\uff0c \u6211\u7684\u610f\u601d\u662f\u7528\u6237\u4fe1\u606f\u6211\u4fdd\u5b58\u4e86\uff0c\u4f46wiki\u4e0a\u8bf4\u4e0d\u4fdd\u5b58assess_token.  \u5f53\u72ec\u7acb\u7528\u6237\u8bbf\u95ee\u5927\u4e8e2000\u7684\u65f6\u5019\uff0c\u662f\u4e0d\u662f\u4e5f\u4f1a\u51fa\u9519\u3002  \u5c3d\u7ba1\u7528\u6237\u4fe1\u606f\u4fdd\u5b58\u5728session\u4e86\u3002\n. \u81ea\u5df1\u4fdd\u5b58token\uff0c $auth->authorize() \u8fd9\u4e2a\u65b9\u6cd5\u662f\u4e0d\u662f\u4e0d\u597d\u7528\u4e86\u3002\u56e0\u4e3a\u8be5\u65b9\u6cd5\u6ca1\u6709token\u53c2\u6570\u3002\n\u9700\u8981\u81ea\u5df1\u5c06token\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u7136\u540e\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff1f$auth->getUser($openId, $accessToken);\n. \u5e94\u8be5\u4e0d\u662f\u91cd\u590d\u5237\u65b0\u5bfc\u81f4\u7684\u3002\n\u6211\u5728oauth\u9875\u9762Session::put('fo', '1');\n\u5728callback\u9875\u9762 \u5224\u65ad\u4e86\uff0c\u91cd\u590d\u5237\u65b0\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230oauth\u9875\u9762\u3002\n  function callback(){\n        if(!Session::get('fo')){\n            return redirect(\"/wechat/oauth\");\n        }\n        Session::forget(\"fo\");\n}\n\u53ef\u8fd8\u662f\u4f1a\u51fa\u73b0\u8fd9\u9519\u8bef. \u6211\u770b\u4e86\u4e0b\u8bf7\u6c42\u5fae\u4fe1\u7684\u65e5\u5fd7\uff0ccode\u5012\u662f\u6bcf\u6b21\u90fd\u6709\u5e26\u7684\uff0c \u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u5fae\u4fe1\u6709\u65f6\u4f1a2\u6b21redirect\u56de\u6765\u7684\u539f\u56e0\u3002\u6709\u4ec0\u4e48\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u3002\u3002\n\u522b\u4eba\u4e5f\u9047\u5230\u8fc7\u3002 https://segmentfault.com/q/1010000002739502. \u5982\u4f55\u4f7f\u7528\uff1f\u6709\u6587\u6863\u5417. ",
    "Smallthing": "..\u597d\u5feb\n\u7ecf\u8fc7\u68c0\u67e5\u5c31\u662f\n$xmlInput = file_get_contents('php://input'); <====\u8fd9\u4e2a\u5730\u65b9\u5f97\u4e0d\u5230\u4e1c\u897f\nmylog('wx2',$xmlInput,$file = 'default');\n\u73af\u5883\u662fphp5.5 ubuntu1404 \n\u53e6\u5916 \u95e8\u5e97\u548c\u6447\u4e00\u6447\u5468\u8fb9\u7684\u9519\u8bef\u7801\u6ca1\u6709\u52a0\u5165\u610f\u5916\u5217\u8868.\u56e0\u4e3a\u505a\u4e86\u4e00\u4e9b\u5904\u7406\n\u6240\u4ee5\u9519\u8bef\u6355\u6349\u53ea\u4f1a\u663e\u793a[Wechat] \u540e\u9762\u662f\u7a7a\u7684,\u8fd9\u91cc\u6211\u6539\u4e86\u4e00\u4e0b\u5373\u4f7f\u6ca1\u6709\u5bf9\u5e94\u7684\u4e2d\u6587\u4e5f\u4f1a\u628acode\u663e\u793a\u51fa\u6765\n. \u6211qq\u53d1\u4f60\u7684\u90a3\u4e2a \u80fd\u89e3\u51b3,\u4f60\u770b\u770b\u6709\u4ec0\u4e48\u526f\u4f5c\u7528,\u6ca1\u6709\u7684\u8bdd\u53ef\u4ee5\u8003\u8651\u52a0\u4e0a\n. ",
    "baidut": "\u611f\u8c22\u56de\u590d\uff01\u662f\u8fd9\u6837\u7684\uff0c\u6309\u7167\u8bf4\u660e\u4e0b\u8f7d\u4e86\u6700\u65b0\u76842.0.27\u7248\u672c\uff0c\u4e0a\u4f20\u5230SAE\u7684\u670d\u52a1\u5668\u4e0a\u540e\uff0c\n\u4ee3\u7801\u5982\u4e0b\n```\n<?php\nrequire DIR . \"/autoload.php\";\nuse Overtrue\\Wechat\\Server;\nuse Overtrue\\Wechat\\Message;\n$appId          = 'XXX'; \n$token          = 'XXX'; \n$encodingAESKey = 'XXX'; // \u53ef\u9009\n$server = new Server($appId, $token, $encodingAESKey);\n$server->serve();\n```\n\u5fae\u4fe1\u9a8c\u8bc1token\u5931\u8d25\uff0c\u4e8e\u662f\u5c31\u76f4\u63a5\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u4e86\u4e00\u4e0b\u8fd9\u4e2a\u9875\u9762\uff0c\u51fa\u73b0\u4e0a\u9762\u7684\u51fa\u9519\u4fe1\u606f\uff0c\u53ef\u80fd\u662fSAE\u7684\u670d\u52a1\u5668\u9650\u5236\u95ee\u9898\uff0c\u4e0d\u77e5\u9053\u80fd\u4e0d\u80fd\u89e3\u51b3\n. ",
    "cos800": "\u6240\u4ee5\u662f\u4e0d\u652f\u6301SAE\u55bd\uff1f\n. \u53e6\u5916 \u914d\u7f6e\u6587\u4ef6\u91cc\u7684 payment \u4e0b\u7684 sub_app_id \u662f\u4ec0\u4e48\u610f\u601d\uff1f\n\u4e3a\u4ec0\u4e48\u6ca1\u6709\u8bf4\u660e\uff1f\nhttps://easywechat.org/zh-cn/docs/configuration.html\n. ",
    "hareluya": "\u5728media.php \u7684122\u884c\u52a0\u4e0a\uff1a\nif($type=='image'){\n        return $response;\n    }\n\u4e0d\u662f\u5f88\u4f18\u96c5\u3002\u3002\u4ec5\u4f9b\u53c2\u8003- -\n. \u6211\u8bd5\u8fc7\uff0c\u6ca1\u95ee\u9898\uff0c\u5c31\u662f\u8fd4\u56de\u662f\u4e2a\u6570\u7ec4\uff0c\u8981\u5728\u6587\u6863\u91cc\u8bf4\u660e\u4e0b\u3002\n. \u800c\u4e14\u4e0b\u8f7d\u4e0b\u6765\u7684\u97f3\u9891\u662f\u538b\u7f29\u8fc7\u7684\uff0c\u5b8c\u5168\u4e0d\u80fd\u653e\u3002\n\u89c6\u9891\u5219\u662f\u4e0b\u4e0d\u6765\u7684\u3002\u3002\u3002\n. \u4e5f\u6709\u53ef\u80fd\u662f\u6a21\u677f\u4fe1\u606f\u3002\u3002\n. \u611f\u8c22~\n. \u4e0d\u592a\u660e\u767d\u73b0\u5728\u8fd9\u4e2a\u65b9\u6cd5\u5230\u5e95\u662f\u600e\u4e48\u7528\u7684\uff1f\n\u770b\u5230MiniProgram\u4e0b\u9762\u6709\u4e00\u4e2aEncryptor\u7c7b\uff0c\u7136\u540e\u4eceservice provider\u770b\u5230\u5374\u662f\u7528\u4e86overtrue\u81ea\u5e26\u7684encryptor\uff0c\u5230\u5e95\u5e94\u8be5\u600e\u4e48\u4f7f\u7528\u5462\uff1f. \u53e6\u5916\u5982\u679c\u7528\u539f\u751f\u7684Encryptor\u7c7b\uff0c\u91cc\u9762\u7684\u89e3\u5bc6\u65b9\u6cd5\u4f3c\u4e4e\u548c\u5b98\u65b9\u8bf4\u6cd5\u4e0d\u4e00\u81f4\uff1f. @mingyoung \n\u795e\u901f\u3002\u3002\u4f46\u6784\u9020\u51fd\u6570\u53c2\u6570\u4e2a\u6570\u4f3c\u4e4e\u4e0d\u5bf9\u54df- -~. \u6536\u5230~ \u5df2\u901a\u8fc7~ \u611f\u8c22~. ",
    "censhen": "\u672c\u5730\u8bbe\u7f6e\u95ee\u9898\u3002\u3002\u3002\n. ",
    "vickoo": "\u55ef\u55ef\uff0c\u662f\u6211\u8868\u8ff0\u4e0d\u6e05\uff0c\u6211\u60f3\u8bf4\u7684\u662f\u5fae\u4fe1js\u7684\u6388\u6743\u529f\u80fd#^_^#\n. \u5bf9\u7684\uff0c\u7528\u4e8e\u83b7\u53d6\u5fae\u4fe1js\u8c03\u7528\u6743\u9650\uff0c\u9700\u8981\u5728\u540e\u53f0\u83b7\u53d6\u5e76\u8fdb\u884c\u7f13\u5b58\nhttp://mp.weixin.qq.com/wiki/11/0e4b294685f817b95cbed85ba5e82b8f.html\n. \u2299\ufe4f\u2299\u2016 \u6ca1\u6ce8\u610f\u770b  \u8d5e\u4e00\u4e2a\n. ",
    "fanchou": "\u8c22\u8c22\uff01\u5f88\u597d\u4f7f\n. ",
    "ancon": "\u5361\u5238\u529f\u80fd\u600e\u4e48\u4f7f\u7528,\u6c42\u6307\u5bfc\n. \u5fae\u4fe1\u7684\u6536\u8d27\u5730\u5740\u7684\u7b7e\u540d\u9519\u8bef,\u591a\u4e86\u4e00\u4e2akey\u503c.\n\u540c\u65f6,url\u7684\u503c\u4e5f\u4f20\u8f93\u7684\u4e0d\u5bf9,\u6ca1\u6709\u5e26code\u548cstate.\n. \u5e0c\u671b\u5927\u795e\u5c3d\u5feb\u89e3\u51b3,\u8c22\u8c22~\n. \u4ee3\u7801\u5728Payment.php\n$accessToken = $accessToken->getToken();\n\u8fd9\u4e2a\u503c\u7528\u6765\u7b7e\u540d\u662f\u4e0d\u5bf9\u7684~\n\u4e0d\u77e5\u9053\u6539\u6210\u8fd9\u6837\u5bf9\u4e0d\u5bf9\n            $app = app('EasyWeChat\\Foundation\\Application');\n            $accessToken2 = $app->access_token;\n            $token = $accessToken2->getToken(true);\n\u4f46\u662f,url\u7684\u503c\u600e\u4e48\u62fc\u63a5\u5c31\u4e0d\u77e5\u9053\u4e86\n. \u6211\u7684\u9505,\u540e\u6765\u53bb\u5b98\u7f51\u8f6c\u6210json\u6d4b\u4e86,\u901a\u8fc7\u8fd4\u56de\u7801\u8c03\u597d\u4e86.\n\u539f\u56e0\u662f\u5b50\u83dc\u5355\u591a\u4e86\u4e00\u4e2a\n. ",
    "phpyii": "\u4f5c\u8005\u725b\u53c9\uff0c\u5e0c\u671b\u575a\u6301\u4e0b\u53bb\u3002\n. \u6211\u7528composer\u66f4\u65b0\u5230\u7684\u7248\u672c\u662f2.0.35\n. \u501f\u7528\u6b64\u5730\u3002\n\u80fd\u4e0d\u80fd\u628a\u7f13\u5b58\u7684key \u653e\u5230\u4e00\u4e2a\u7c7b\u3002 \n. \u6211\u60f3\u95ee\u4e2a\u95ee\u9898\uff0c\u5fae\u4fe1\u7d20\u6750\u80fd\u76f4\u63a5\u4e0a\u4f20\u5230\u7b2c\u4e09\u65b9\u5b58\u50a8\u4e0d\uff1f \u6bd4\u5982\u628a\u5fae\u4fe1\u7684\u4e34\u65f6\u56fe\u7247\u4e0d\u7ecf\u8fc7\u4e0b\u8f7d\u5230\u670d\u52a1\u5668\u76f4\u63a5\u4e0a\u4f20\u5230\u4e03\u725b\u3002\n. php\u7248\u672c\u5fc5\u987b\u662f >= 5.5.9\u5417\uff1f5.4\u53ef\u4ee5\u7528\u5427\uff1f\n. ",
    "caohui123": "Error 500\n[Wechat]\u7cfb\u7edf\u7e41\u5fd9\uff0c\u6b64\u65f6\u8bf7\u5f00\u53d1\u8005\u7a0d\u5019\u518d\u8bd5 \n\u652f\u4ed8\u7684\u65f6\u5019\u8fd4\u56de\u8fd9\u4e2a\u9519\u8bef \uff0c\u80fd\u4e0d\u80fd\u5728\u91cc\u9762\u52a0\u4e0a\u8c03\u8bd5\u65e5\u5fd7\u4fe1\u606f\u554a\uff0c\u8fd9\u6837\u6211\u77e5\u9053 \u6211\u53d1\u9001\u7684\u4ec0\u4e48\u51fa\u53bb\u7684 \uff0c\u73b0\u5728\u6211\u90fd\u4e0d\u77e5\u9053 \u600e\u4e48\u8c03\u8bd5\u9519\u8bef \n. ",
    "manhere": "\u5fae\u4fe1\u652f\u4ed8\u662f\u5426\u4f1a\u52a0\u5165\u5546\u6237\u4fa7\u73b0\u91d1\u7ea2\u5305\u529f\u80fd\uff1f\n. \u80af\u5b9a\u662fwindows\u670d\u52a1\u5668\uff08IIS \u4e0a\u4ee5 ISAPI \u65b9\u5f0f\u8bf7\u6c42\u65f6\uff09\uff0c\u53ef\u4fee\u6539\u4e0b\uff1a\nif (!empty($_SERVER['HTTPS'] && $_SERVER['HTTPS'] !== 'off')\n            || (!empty($_SERVER['HTTP_X_FORWARDED_PROTO']) && 'https' === $_SERVER['HTTP_X_FORWARDED_PROTO'])) {\n            $protocol = 'https://';\n        }. fixed. ",
    "kinosang": "\u4e2a\u4eba\u8ba4\u4e3a\u652f\u4ed8\u6216\u8bb8\u53ef\u4ee5\u5355\u72ec\u5206\u51fa\u53bb\uff0c\u8fd9\u6837\u5305\u4f53\u79ef\u4f1a\u5c0f\u5f88\u591a\n. ",
    "shouaya": "\u4f46\u662f\u5b98\u65b9\u6587\u6863\u4e0acardType\u8bf4\u662f\u975e\u5fc5\u987b\u7684\uff0c\u611f\u89c9\u8fd9\u91cc\u662f\u4e0d\u662f\u53ef\u4ee5\u505a\u4e2a\u4e13\u95e8\u751f\u6210chooseCard\u53c2\u6570\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\n$card->chooseCard('cardType')\uff0c\u524d\u7aef\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u4e86\n. ",
    "0i": "wiki\n. \u91d1\u989d\u53c2\u6570\u9700\u8981\u662f\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u8d34\u4e00\u4e0b\u4f60\u7684\u4ee3\u7801\u5417\uff1f\n. \u201cout_trade_no\u201d and \u201ctransaction_id\u201d, as are the unique ID, so, out_trade_no not have the same, if you have the demand, please consider doing a correspondence between the database table.\n. ",
    "linb": "PFNsqmrELwUV2kLNxpQY2nO0l8mhYCdFoppNZ5cWKmoPMvwYoal77gNdKM2-aefO.gif\n. \u8bd5\u8fc7\u4e86\uff0c\u4efb\u4f55\u7684\u540d\u5b57\u90fd\u4e0d\u884c\uff01\n. \u60f3\u77e5\u9053\u53d1\u89c6\u9891\u6d88\u606f\u603b\u8fd4\u56de -1 \u662f\u5fae\u4fe1\u7684\u95ee\u9898\u8fd8\u662f\u5e93\u7684\u95ee\u9898\uff1f\n. ",
    "zhongrenze": "\u8fd9\u4e2a\u5173\u95ed\u4e86ip\u5230\u7f51\u7ad9\u7684\u7ed1\u5b9a\u5c31\u6ca1\u6709\u51fa\u73b0\u4e86\u3002\u4f30\u8ba1\u662f\u6709\u673a\u5668\u8bbf\u95ee\u6ca1\u6709\u52a0\u5b57\u6bb5\u5427\u3002\n. ",
    "caolixiang": "http://developer.qiniu.com/docs/v6/api/reference/rs/fetch.html\uff0c\u662f\u53ef\u4ee5\u7684\u3002\n\u6211\u89c9\u5f97\u8fd4\u56de\u4e00\u4e2abase64\u5bf9\u8c61\u4e5f\u53ef\u4ee5\uff0c\u5199\u5230\u672c\u5730\u89c9\u5f97\u6709\u70b9\u9ebb\u70e6\uff0c\u8fd8\u6709\u901a\u7528\u6027\u4e5f\u4e0d\u597d\u3002\n. ",
    "tanshiqi": "\u6211\u4e5f\u5efa\u8bae\u52a0\u4e0a\u4e2a\u67e5\u770bmedia\u5730\u5740\u7684\u65b9\u6cd5\uff0c\u4e03\u725b\u7684fetch\u53ef\u4ee5\u76f4\u63a5\u6293\u53d6\uff0c\u4e0d\u9700\u8981\u5728\u672c\u5730\u7ed5\u4e00\u5708\u4e86\uff0c\u76ee\u524d\u81ea\u5df1\u62fc\u63a5\u4e5f\u4e0d\u9ebb\u70e6\uff0cMedia::API_TEMPORARY_GET \uff0baccess_token \uff0bmediaId \u5c31\u53ef\u4ee5\u4e86\n. mediaid\u5df2\u7ecf\u80fd\u83b7\u53d6\u5230\uff0c\u5176\u5b9e\u697c\u4e3b\u60f3\u8981\u7684\u8fd4\u56de\u7684\u5730\u5740\u5c31\u662f\u7d20\u6750\u5185\u5bb9\u7684url\uff1ahttps://api.weixin.qq.com/cgi-bin/media/get?access_token=ACCESS_TOKEN&media_id=MEDIA_ID\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4e0b\u8f7d\uff0c\u6bd4\u5982 $media->getDownloadUrl , \u8fd9\u6837\u8fd9\u4e2aurl\u5730\u5740\u5c31\u53ef\u4ee5\u76f4\u63a5\u7ed9\u5230\u4e03\u725b\u7684fetch\u63a5\u53e3\u90a3\u91cc\uff0c\u76f4\u63a5\u4f20\u5230\u4e03\u725b\u7a7a\u95f4\u4e0a\u53bb\u4e86\uff0c\u76ee\u524dMedia\u65b9\u6cd5\u91cc\u53ea\u6709download\n. ",
    "jaring": "php\n/**\n *\n- Part of Overtrue\\Wechat.\n  *\n- For the full copyright and license information, please view the LICENSE\n- file that was distributed with this source code.\n  *\n- @author    Frye frye0423@gmail.com\n- @copyright 2015 Frye frye0423@gmail.com\n- @link      https://github.com/0i\n- @link      https://github.com/thenbsp/Wechat\n  */\n\n<pnamespace Overtrue\\Wechat\\Payment;\nuse Overtrue\\Wechat\\Utils\\Bag;\nuse Overtrue\\Wechat\\Utils\\XML;\nuse Overtrue\\Wechat\\Utils\\SignGenerator;\nuse Overtrue\\Wechat\\Http;\nuse Overtrue\\Wechat\\AccessToken;\nclass QueryOrder\n{\n    /*\n     * \u67e5\u8be2\u8ba2\u5355\u63a5\u53e3\n     * https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_2\n     /\n    const QUERYORDER_URL = 'https://api.mch.weixin.qq.com/pay/orderquery';\n```\nprotected $appId;\nprotected $appSecret;\nprotected $mchId;\nprotected $mchKey;\n/*\n * @var Bag\n /\nprotected $transaction_info;\npublic function __construct($appId, $appSecret, $mchId, $mchKey) {\n    $this->appId = $appId;\n    $this->appSecret = $appSecret;\n    $this->mchId = $mchId;\n    $this->mchKey = $mchKey;\n}\n/\n * \u83b7\u53d6\u8ba2\u5355\u7ed3\u679c\n \n * @param bool|false $force \u662f\u5426\u5ffd\u7565\u7f13\u5b58\u5f3a\u5236\u66f4\u65b0\n \n * @return array\n * @throws Exception\n * @throws \\Overtrue\\Wechat\\Exception\n */\npublic function getTransaction($order_id,$force = false)\n{\n$params['appid']    = $this->appId;\n$params['mch_id']   = $this->mchId;\n$params['out_trade_no']   = $order_id;\n$params['nonce_str']  = md5(uniqid(microtime()));\n$signGenerator = new SignGenerator($params);\n$signGenerator->onSortAfter(function(SignGenerator $that) {\n    $that->key = $this->mchKey;\n});\n\n$params['sign'] = $signGenerator->getResult();\n$request = XML::build($params);\n\n$http = new Http(new AccessToken($this->appId, $this->appSecret));\n\n$response = $http->request(static::QUERYORDER_URL, Http::POST, $request);\nif(empty($response)) {\n    throw new Exception('Get ORDER Failure:');\n}\n\n$transaction = XML::parse($response);\n\nif( isset($transaction['result_code']) &&\n    ($transaction['result_code'] === 'FAIL') ) {\n    throw new Exception($transaction['err_code'].': '.$transaction['err_code_des']);\n}\n\nif( isset($transaction['return_code']) &&\n    $transaction['return_code'] === 'FAIL' ) {\n    throw new Exception($transaction['return_code'].': '.$transaction['return_msg']);\n}\n\n\n//\u6570\u636e\u6821\u9a8c\nif (empty($transaction) || empty($transaction['sign'])) {\n    return false;\n}\n$sign = $transaction['sign'];\nunset($transaction['sign']);\n$signGenerator = new SignGenerator($transaction);\n$signGenerator->onSortAfter(function(SignGenerator $that) {\n    $that->key = $this->mchKey;\n});\nif ($sign !== $signGenerator->getResult()) {\n    return false;\n}\n//var_dump($transaction);\nreturn $transaction_info=new Bag($transaction);\n\n```\n}\n}\n. \u4f9d\u6837\u753b\u846b\u82a6\u3002\u3002\n. $http = new Http(new AccessToken($this->appId, $this->appSecret));\n\u6539\u4e3a$http = new Http();\n. \u5df2\u66f4\u6539\u4e3a\u9640\u5cf0\u547d\u540d\u5e76\u8c03\u6574\u7f29\u8fdb\u7b49\uff0c\u8bf7\u5927\u795e\u6307\u5bfc\u3002\n. @overtrue  \u5df2\u6d4b\u8bd5\u6b63\u5e38\u8fd4\u56de Bag \uff0cvar_dump\u5bf9\u50cf\u6b63\u5e38\u3002\n. Exception \u4e2d $code \u4e3a\uff1a\n '-1'      => '\u7cfb\u7edf\u7e41\u5fd9\uff0c\u6b64\u65f6\u8bf7\u5f00\u53d1\u8005\u7a0d\u5019\u518d\u8bd5',\n\u5728\u6784\u9020\u65b9\u6cd5\u4e2dpublic function __construct($message, $code = -1) $code\u6709\u9ed8\u8ba4\u503c\n\u800c\u5404\u7c7b\u4e2d\u629b\u51fa\u5f02\u5e38\u5e76\u4e3a\u6307\u5b9a$code ,\u5bfc\u81f4\u4e0d\u8bba\u4ec0\u4e48\u5f02\u5e38\u90fd\u4f1a\u663e\u793a\u4e3a\u201c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u6b64\u65f6\u8bf7\u5f00\u53d1\u8005\u7a0d\u5019\u518d\u8bd5\u201c\n\u6ce8\u91ca\u6389\u4e0a\u9762\u7684 -1\u90a3\u4e00\u884c\u5c31\u89e3\u51b3\u4e86\u3002\u3002\n. \u5efa\u8bae\u5b89\u5927\u795e\u4fee\u6539\u3002\u3002Exception\u7c7b\n.   \u884c72 \u6539\u4e3a   protected static $params  = null;\n\u5df2pull requests\n. ",
    "nurexmet": "\u5982\u679c\u7cfb\u7edf\u5df2\u53d7\u5230\u652f\u4ed8\u7ed3\u679c\u901a\u77e5\uff0c\u8c03\u7528\u67e5\u8be2\u501f\u53e3\u6709\u5fc5\u8981\u4e48\uff1f\n. ",
    "windqyoung": "\u68c0\u67e5\u4e00\u4e0b\u4f60\u7684\u914d\u7f6e, \u6781\u6709\u53ef\u80fd\u662f\u914d\u7f6e\u4e0d\u5bf9.\n. addrSign\u8ba1\u7b97\u65b9\u5f0f\u4e0d\u4e00\u6837. \n\u522b\u7684\u662f\u4e00\u6837\u7684.\n. \u597d.\n. \u589e\u52a0\u4e00\u4e2aMonolog\u8bbe\u7f6e, \u628a\u91cc\u9762\u7684\u64cd\u4f5c\u90fd\u8bb0\u4e0b\u6765\u5982\u4f55?\n. ",
    "xingxiaoyang": "\u6211\u7684\u6846\u67b6\u662fLaravel5\n. \u6211\u8fd9\u5c31\u53bb\u52a0\u7fa4\n. ",
    "tenstone": "\u6d4b\u8bd5\u8fc7\u4e86\n. \u7b2c\u4e00\u6b21\u8d21\u732e\u4ee3\u7801\uff0c\u6ca1\u5f04\u597d\u3002\u4e0b\u6b21\u6ce8\u610f\n. ",
    "tinpont": "Server\u7b2c\u4e09\u4e2a\u53c2\u6570\u5c31\u662fEncodingAESKey\nphp\n   /**\n     * constructor\n     *\n     * @param string $appId\n     * @param string $token\n     * @param string $encodingAESKey\n     */\n    public function __construct($appId, $token, $encodingAESKey = null)\n    {\n        $this->listeners      = new Bag();\n        $this->appId          = $appId;\n        $this->token          = $token;\n        $this->encodingAESKey = $encodingAESKey;\n    }\n. \u5176\u5b9e\u6211\u89c9\u5f97\u5e94\u8be5\u4e0d\u5728\u652f\u63015.3\u4e86\uff0c\u5b98\u65b9\u90fd\u5df2\u7ecf\u4e0d\u518d\u4e3a5.3\u63d0\u4f9b\u8865\u4e01\u652f\u6301\u4e86\u30025.4\u90fd\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\u4e86\u3002\n\u53c2\u8003URL http://php.net/eol.php\n. @a939638621 \b\u4e5f\u662f\uff0c\u4f60\u8bf4\u5f97\u5728\u7406\u3002\b\u5176\u5b9e\u6211\u662f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u5927\u5bb6\u90fd\u7ee7\u7eed\u505c\u7559\u57285.3\u4e0a\u9762\uff0c\u6bd5\u7adf5.6\u8ddf5.3\u7f16\u7801\u5dee\u8ddd\u633a\u5927\u7684\uff0c\u800c\u4e145.6\u4e5f\u662f\u517c\u5bb95.3\u7684\uff0c\u6700\u591a\u5c31\u6d6a\u8d39\u4e00\u70b9\u70b9\u65f6\u95f4\u53bb\u4fee\u6539\u3002\u96be\u9053\u662f\u56e0\u4e3aTP\u7684\u5173\u7cfb\uff1f\n. \u8865\u5145\uff1a\u53bb\u6389\u9644\u52a0\u7684=\u53f7\u540e\uff0c\u4ee3\u7801\u6267\u884c\u6ca1\u95ee\u9898\u3002\u5373\uff1a\nreturn base64_decode($this->AESKey.'=', true);\n\u6539\u4e3a\nreturn base64_decode($this->AESKey, true);. @overtrue \u6b64\u95ee\u9898\u7684\u672c\u8d28\u5e94\u8be5\u662f\uff0cMiniProgram\u4f7f\u7528\u4e86Encrypter\u57fa\u7c7b\u8fdb\u884c\u4e86\u89e3\u5bc6\uff0c\u7136\u540ehttps://github.com/overtrue/wechat/blob/a2edf275e665402ae0225123aba9a9ea407eb0c8/src/MiniProgram/Encryption/Encryptor.php#L85 getAESKey\u7684\u65f6\u5019\u81ea\u52a8\u5c06\u5b83\u8865\u7b49\u53f7\u4e86\u5bfc\u81f4key decode\u5931\u8d25\uff0c\u6240\u4ee5\u8981\u4fee\u6539\u5e94\u8be5\u4e5f\u662f\u5728MiniProgram/Encryption/Encryptor.php\uff0c\u6211\u53ef\u4ee5\u63d0\u4ea4\u4e00\u4e2apr. @mingyoung \u53e6\u5916\u6709\u4e2a\u8ddf\u6b64\u95ee\u9898\u65e0\u5173\u7684\u89c4\u8303\u95ee\u9898\u6211\u60f3\u63d0\u4e00\u4e0b\uff0c\u5c31\u662f\n```\n    /\n     * Decrypt data.\n     \n     * @param $encrypted\n     \n     * @return string\n     */\n    public function decryptData($encrypted)\n    {\n        return $this->decrypt($encrypted);\n    }\n/**\n * Decrypt data.\n *\n * @param string $encrypted\n *\n * @return Collection\n *\n * @throws EncryptionException\n */\nprivate function decrypt($encrypted)\n{\n    try {\n        $key = $this->getAESKey();\n        $ciphertext = base64_decode($encrypted, true);\n\n        $decrypted = openssl_decrypt($ciphertext, 'aes-128-cbc', $key, OPENSSL_RAW_DATA | OPENSSL_NO_PADDING, $this->iv);\n\n        $result = $this->decode($decrypted);\n    } catch (BaseException $e) {\n        throw new EncryptionException($e->getMessage(), EncryptionException::ERROR_DECRYPT_AES);\n    }\n\n    $result = json_decode($result, true);\n\n    return new Collection($result);\n}\n\n```\n\u8fd9\u6bb5\u4ee3\u7801\u7406\u5e94\u9075\u5faaparent class\u7684\u89c4\u8303\uff0cdecrypt\u65b9\u6cd5\u53ea\u662f\u4f5c\u4e3a\u89e3\u5bc6\u7528\u9014\uff0c\u7406\u5e94\u53ea\u505a\u89e3\u5bc6\u5904\u7406\uff0cdecryptData\u624d\u662f\u5c06\u6570\u636e\u683c\u5f0f\u5316\u5904\u7406\u7684\u5730\u65b9\uff0c\u8fd4\u56de\u683c\u5f0f\u5316\u540e\u7684\u6570\u636e\u3002\nPS: decryptData\u65b9\u6cd5\u7684\u8fd4\u56de\u7c7b\u578b\u5199\u9519\u4e86\uff0c\u6628\u665a\u6211\u505a\u7684\u65f6\u5019IDE\u4e00\u76f4\u63d0\u793a\u6211\u7c7b\u578b\u4e0d\u5339\u914d\u3002. @mingyoung Thanks for your contributions!!. Because of the international wechat open platform use https://api.wechat.com as api domain, and native wechat use https://api.weixin.qq.com.\n. Here is a config example for current dev-master:\n```php\n<?php\nreturn [\n    'debug'  => true,\n'app_id'  => 'your-app-id',\n'secret'  => 'your-app-secret',\n'token'   => 'your-token',\n'aes_key' => '',\n\n....\n\n\n'http' => [\n    'retries' => 1,\n    'retry_delay' => 500,\n    'timeout' => 5.0,\n    'base_uri' => 'https://api.weixin.qq.com/', // !!! Change here to your api domain. !!!\n],\n\n\n....\n\n];\n```. \u540c\u6837\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u3002\u5076\u53d1\u6027\uff0c\u5927\u90e8\u5206\u53ef\u4ee5\u89e3\u5bc6\uff0c\u5c11\u90e8\u5206\u62a5\"The given payload is invalid.\"\u3002\u8fd9\u4e2a\u95ee\u9898\u53ea\u5b58\u5728\u4e8e\u901a\u8fc7\u5c0f\u7a0b\u5e8f\u83b7\u53d6\u624b\u673a\u53f7\u7801\u6388\u6743\u89e3\u5bc6\u3002. @oknixus\n\u4f60\u73b0\u5728\u7684\u987a\u5e8f\u5e94\u8be5\u662f\uff1a\n\u8fdb\u5165\u754c\u9762 -> \u663e\u793a\u754c\u9762 -> \u7528\u6237\u70b9\u51fb\u6388\u6743\u6309\u94ae -> \u8c03\u7528 wx.login() -> \u63d0\u4ea4\u5230\u670d\u52a1\u5668\n\u8fd9\u662f\u9519\u8bef\u7684\uff0c\u5e94\u8be5\u6539\u6210\u4ee5\u4e0b\u987a\u5e8f\uff1a\n\u8fdb\u5165\u754c\u9762 -> wx.login() -> \u663e\u793a\u754c\u9762 -> \u7528\u6237\u70b9\u51fb\u6388\u6743\u6309\u94ae -> \u63d0\u4ea4\u5230\u670d\u52a1\u5668. \u62a5\u9519\u8d34\u4e00\u4e0b. ",
    "5-say": "\u540c\u611f\n. ",
    "narutooturan": "\u6709\u540c\u6837\u7684\u9519\u8bef\uff0c\u66ff\u6362\u4e0a\u9762\u7684\u8fd8\u662f\u4f1a\u62a5\u9519 = =\n. @overtrue \u53d1\u5230\u60a8\u7684\u90ae\u7bb1\u4e86\u3002\n. \u73b0\u5728\u7684\u505a\u6cd5\u662f\u5728User.php line 103\u524d\u91cd\u65b0\u9a8c\u8bc1\u4e0b\u662f\u5426\u4e3a\u6570\u7ec4\uff0c\u5982\u679c\u4e0d\u662f\u91cd\u65b0\u7528\u4e00\u4e0bjson_decode\u3002\u8fd9\u6837\u662f\u6ca1\u6709\u62a5\u9519\u4e86\uff0c\u4f46\u662f\u8dd1\u4e86\u4e00\u4f1a\u513f\u4e4b\u540e\u7ecf\u5e38\u4f1a\u8fd4\u56de\u9519\u8bef\uff0c\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48 = =\n\u9519\u8bef\uff1a\n[Wechat]\u83b7\u53d6access_token\u65f6AppSecret\u9519\u8bef\uff0c\u6216\u8005access_token\u65e0\u6548\u3002\u8bf7\u5f00\u53d1\u8005\u8ba4\u771f\u6bd4\u5bf9AppSecret\u7684\u6b63\u786e\u6027\uff0c\u6216\u67e5\u770b\u662f\u5426\u6b63\u5728\u4e3a\u6070\u5f53\u7684\u516c\u4f17\u53f7\u8c03\u7528\u63a5\u53e3\n. ",
    "enbaby": "\u6301\u7eed\u5173\u6ce8\n. ",
    "xiaohome": "@overtrue  \u6211\u8bb0\u5f97\u8fd9\u4e2a\u9519\u8bef \u6211\u63d0\u4ea4\u8fc7\u5440\uff01\uff01\uff01  \u4f60\u4e5f\u90fd\u5408\u5e76\u4e86\n. @punlap \u65e2\u7136\u4f60\u7528 7.0.1 \u4f60\u5c31\u6362\u6210 3.0\u7248\u672c\n. \u4ece\u8bed\u610f\u6765\u8bf4 \u8fd8\u662f\u539f\u6765\u7684\u8212\u670d\n. ",
    "uyson": "\u6211\u53d1\u73b0\u6211\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u5566 \uff0c \u591a\u8c22\n. ",
    "lixinyuan1213": "\u7279\u522b\u611f\u8c22\n. ",
    "raywill": "debug\u65e5\u5fd7\u7684\u8f93\u51fa\u65b9\u5f0f\u6700\u597d\u9664\u4e86\u9ed8\u8ba4\u65b9\u5f0f\u5916\u8fd8\u53ef\u4ee5\u5b9a\u5236\uff0c\u7531\u7528\u6237\u4f20\u5165debug\u8f93\u51fa\u7c7b\u3002\u8fd9\u6837\u66f4\u5bb9\u6613\u96c6\u6210\u5230\u73b0\u6709\u7cfb\u7edf\u3002\n. \u8c22\u8c22\uff0c\u770b\u5230\u4e86\u3002\u51c6\u5907\u5220\u6389\u8fd9\u4e2aissue\u6ca1\u627e\u5230\u5730\u65b9\u5220TAT\u3002\u3002\n. ",
    "codesig": "\u4e0d\u597d\u610f\u601d\uff0c\u4e0d\u662f\u5f88\u660e\u767d\uff0c\u80fd\u5426\u7ed9\u4e0b\u5177\u4f53\u4ee3\u7801\uff0c\u6211\u7528laravel\u7684\uff0c\u6211\u770b\u5230\u91cc\u9762\u6709getToken()\u65b9\u6cd5\uff0c\u4f46\u597d\u50cf\u8fd9\u6837\u4f1a\u91cd\u65b0\u751f\u6210access token\u800c\u4e0d\u662f\u4e4b\u524d\u7f13\u5b58\u7740\u7684token,\u5982\u4f55\u624d\u80fd\u83b7\u53d6\u5230\u4e4b\u524d\u5168\u5c40\u7f13\u5b58\u7684token\uff1f\n. \u660e\u767d\u4e86\uff0c\u8fd9\u6837\u53ef\u4ee5\nwith(new AccessToken($appid,$appsecret))->getToken()\n\u8c22\u8c22\u5566\n. ",
    "shoaly": "\u8fd9\u6837\u8fd8\u4e0d\u884c, \u65e0\u6cd5\u4fdd\u8bc1 \u7f13\u5b58\u7684accesstoken \u662f\u4e00\u81f4,  \u9700\u8981\u517c\u5bb9\u6027\u66f4\u597d\u7684\u89e3\u51b3\u529e\u6cd5 \n. phpunit \u4e0d\u5e94\u8be5\u5728\u751f\u4ea7\u73af\u5883\u8dd1\u4e48,  \u90a3\u7528\u4ec0\u4e48\u65b9\u6cd5\u53ef\u4ee5\u786e\u8ba4 \u672c\u5730\u8dd1\u7684\u4ee3\u7801 \u5728\u670d\u52a1\u5668\u4e0a\u4e5f\u6b63\u5e38\u5462? \u901a\u5e38\u7a0b\u5e8f\u5458\u90fd\u559c\u6b22\u5bf9\u7740\u7ebf\u4e0a\u7684bug\u8bf4\"\u5728\u6211\u672c\u5730\u662f\u597d\u7684\u5462\".. \u6240\u4ee5\u6211\u4e00\u822c\u4e5f\u4f1a\u5728 \u751f\u4ea7\u73af\u5883\u8dd1\u4e00\u904d, \u786e\u4fdd\u6ca1\u6709\u95ee\u9898\n. @zeasly  \u56e0\u4e3aapi \u5df2\u7ecf\u5347\u7ea7\u52303.0\u4e86\u5427, \u597d\u50cf\u9a6c\u4e0a\u5c31\u8981\u53d8\u62104.0...\n\u6211\u73b0\u5728\u5728\u75283.0 , \u4e3a\u4e86\u907f\u514d\u540c\u6837\u7684\u95ee\u9898, \u6211\u90fd\u53d6\u6d88 \u963f\u91cc\u4e91\u7684https\u4e86, \u4e00\u65b9\u9762\u662f\u517c\u5bb9\u6027, \u53e6\u4e00\u65b9\u9762\u6211\u73b0\u5728\u7528\u7684\u662fletsencrypt \u7684\u8bc1\u4e663\u4e2a\u6708\u5c31\u8fc7\u671f, \u8fd8\u5f97\u5f80\u963f\u91cc\u4e91\u4e0a\u540c\u6b65 \u592a\u9ebb\u70e6. ",
    "qqjt": "``` php\n<?php\nnamespace App\\Http\\Controllers\\Wechat;\nuse App\\Http\\Requests;\nuse App\\Http\\Controllers\\Controller;\nuse Overtrue\\Wechat\\Server;\nclass ServerController extends Controller\n{\n    public function serve(Server $server)\n    {\n        $server->on('message', function($message){\n            //return \"OK!\";\n        });\n        return $server;\n    }\n}\n```\n\u4f7f\u7528\u4e86laravel-wechat\uff0c\u4ec0\u4e48\u4e5f\u4e0d\u505a\u4e0d\u884c\u554a\uff0c\u7528\u7684\u5fae\u4fe1\u63a5\u53e3\u6d4b\u8bd5\u5e10\u53f7\u3002\u53eareturn $server->serve()\u90a3\u600e\u4e48\u505a\u89c4\u5219\u5339\u914d\u5462\uff1f\n. ",
    "apt-getyou": "\u5199\u5230\u4e2d\u95f4\u4ef6\u91cc\uff1f\n. ",
    "iam993": "\u5e94\u8be5\u662f\u8bf4\u7f51\u9875\u6388\u6743\n$this->http->get($url)\u8fd4\u56de\u7684\u5c31\u662f\u6388\u6743\u7528\u6237\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6635\u79f0\u7b49\u3002\n\u4f46\u662freturn new Bag($this->http->get($url));\u540e\u6211\u5c31\u4e0d\u77e5\u9053\u600e\u4e48\u7528\u4e86\u3002\n\u4e5f\u5c31\u662f\u4f60\u7ed9\u4f60\u4f8b\u5b50\uff1a\nif (empty($_SESSION['logged_user'])) {\n    $user = $auth->authorize(); // \u8fd4\u56de\u7528\u6237 Bag\n    $_SESSION['logged_user'] = $user;\n    // \u8df3\u8f6c\u5230\u5176\u5b83\u6388\u6743\u624d\u80fd\u8bbf\u95ee\u7684\u9875\u9762\n}\n$user = $SESSION['logged_user'] ;\n\u4e0d\u77e5\u9053\u8fd9\u4e2a$user\u600e\u4e48\u53d6\u6570\u636e\u3002\n. \u6211\u7528$Bag->all()\u7684\u65f6\u5019\uff0c\u8001\u662f\u62a5\u7c7b\u4f3c\u4ec0\u4e48serialize  __autoload_\u7684\u9519\u8bef\u3002\n\u800c\u4e14\u4e0a\u9762\u5df2\u7ecfuse Overtrue\\Wechat\\Utils\\Bag\u8fc7\u4e86\u3002\u7ea0\u7ed3\u4e86\u4e00\u4e0b\u5348\u3002\n. :(\nHome\\Controller\\UserController::Login(): The script tried to execute a method or access a property of an incomplete object. Please ensure that the class definition \"Overtrue\\Wechat\\Utils\\Bag\" of the object you are trying to operate on was loaded _before unserialize() gets called or provide a __autoload() function to load the class definition\n--------------------------------------------------------\u4e0a\u9762\u662f\u9519\u8bef\uff0c\u4e0b\u9762\u662f\u4ee3\u7801\nuse Think\\Controller;\nuse Overtrue\\Wechat\\Utils\\Bag;\nuse Overtrue\\Wechat\\User;\nclass UserController extends Controller {\n    public function Login(){\n        if( !isset($_SESSION['user']) ){\n            $Auth = new Auth(C('appid'),C('appsecret'));\n            $_SESSION['user'] = ($Auth->authorize());\n        }else{\n            $user = ($_SESSION['user']);\n            var_dump(($user->all()));\n```\n    }\n}\npublic function LoginOut(){\n    unset($_SESSION[\"user\"]);\n    echo 'loginout!';\n}\n```\n}\n. https://github.com/overtrue/wechat/wiki/%E7%BD%91%E9%A1%B5%E6%8E%88%E6%9D%83\n// \u8bf7\u4e00\u5b9a\u8981\u81ea\u5df1\u5b58\u50a8\u7528\u6237\u7684\u767b\u5f55\u4fe1\u606f\uff0c\u4e0d\u8981\u6bcf\u6b21\u90fd\u6388\u6743\nif (empty($_SESSION['logged_user'])) {\n    $user = $auth->authorize(); // \u8fd4\u56de\u7528\u6237 Bag\n    $_SESSION['logged_user'] = $user;\n    // \u8df3\u8f6c\u5230\u5176\u5b83\u6388\u6743\u624d\u80fd\u8bbf\u95ee\u7684\u9875\u9762\n}\nvar_dump($_SESSION['logged_user']);\n\u6211\u662f\u770b\u4e86\u4f60\u7684\u4f8b\u5b50\uff0c\u6211\u4ee5\u4e3a\u53ef\u4ee5\u8fd9\u6837\u7528\u3002\u90a3\u8981\u600e\u4e48\u7528\u5462\uff1f\u5c31\u6211\u8fd9\u91cc\u4f8b\u5b50\u3002\n. \u61c2\u4e86\uff0c\u5927\u8111\u751f\u9508\uff0c\u6211\u628asession\u60f3\u6210c#\u7684\u4e86\uff0c\u624d\u5b66\u8fd9\u4e2a\u8bed\u8a00\uff0c\u8fd8\u6709\u70b9\u4e0d\u719f\u3002\n\u8c22\u8c22\u4e86\uff01\u4ee3\u7801\u5199\u7684\u771f\u4e0d\u9519\uff0c\u6211\u8fd9\u6837\u7684\u65b0\u624b\u4e5f\u80fd\u770b\u61c2\u3002\n\u53e6\u5916\uff0c\u6709\u6ca1\u6709\u60f3\u8fc7\u505a\u516c\u4f17\u53f7\u7b2c\u4e09\u65b9\u7684\u5f00\u53d1\uff1f\n. $str = \"test\";\n$server = new Server($this->appId, $this->token, $this->aeskey);\n$server->on('message',function(){\n    return Message::make('text')->content($str);\n});\n\u8fd9\u6837\u5c31\u4e0d\u884c\u3002\n\u90a3\u600e\u4e48\u5728\u56de\u8c03\u65b9\u6cd5\u5185\u65b9\u4fbf\u7684\u8c03\u7528\u65b9\u6cd5\u5916\u7684\u53d8\u91cf\u5462\uff1f\n. \u6211\u91cd\u6784\u4e86\u4f60server\u8fd9\u5757\uff0c\u80fd\u5b9e\u73b0\u4e86\uff0c\u4f46\u662f\u4e0d\u90a3\u4e48\u2018\u4f18\u96c5\u2019 \uff0c\u52c9\u5f3a\u51d1\u5408\u7528\u5427\u3002\n. \u771f\u641e\u4e0d\u61c2\u8fd9\u79cd\u5927\u516c\u53f8\u7684\u60f3\u6cd5\n. ",
    "viko16": "@raywill \nwiki \u6709\u5199 => \u81ea\u5b9a\u4e49\u7f13\u5b58\n. php \u7684 Closure \u91cc\u9762\u4f7f\u7528\u5916\u90e8\u7684\u4e1c\u897f\u8981\u7528 use \u5594\uff0c\n``` php\n<?php\nclass fwh extends CONTROLLER\n{\n    use Overtrue\\Wechat\\Server;\n$appId = 'wx3cf0f39249eb0e60';\n$token = \"overtrue\";\n\n$server = new Server($appId, $token);\n\n$sysModel = $this->model('system');\n\n$server->on('message', function($message) use($sysModel){\n$order_id = $message->Content;\n$rs = $sysModel->fetch_row('orders',\"order_id=\".$order_id);\n    return json_encode($rs);\n});\n\necho $server->serve();\n\n}\n```\n\u8981\u4e0d\u8bd5\u4e0b\u8fd9\u6837\uff1f\n. \u8fd9\u91cc\u53ef\u5426\u6539\u6210\u8fd9\u6837\uff1f\nphp\n$content = file_get_contents('php://input')?:$GLOBALS['HTTP_RAW_POST_DATA'];\n. ",
    "parkshinhye": "@dindom999  \u8fd9\u662f\u5f00\u6e90\u7684 \uff0c\u6709\u60f3\u6cd5 \u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u5440\uff01\uff01\n. @imyip \u53ef\u5426\u7c98\u8d34\u4e00\u4e0b\u4ee3\u7801\n. @imyip  \u670d\u52a1\u5668\u9a8c\u8bc1 \u4f60\u770b\u770b\u8fd9\u4e2awiki \u7684\u5185\u5bb9\n. @overtrue  :+1: \n. \u5fae\u4fe1\u5b98\u65b9\u6709\u8bf4\u660e\uff0c\u4f60\u4e0d\u8ba4\u771f\u770b\u800c\u5df2\n. \u90a3\u4e0d\u4e00\u6837\u7684\uff0c\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\n. .............. \n\u8fd9\u4e2asdk \u5e76\u4e0d\u5f71\u54cd\u5176\u4ed6\u4e1c\u897f\uff0c\n. \u53e6\u5916\u4f60\u62cd\u4e00\u4e0b\u7248 \n``` php\nphp\nclass fwh extends CONTROLLER\n{\nuse Overtrue\\Wechat\\Server;\n\n<p$appId = 'wx3cf0f39249eb0e60';\n$token = \"overtrue\";\n$server = new Server($appId, $token);\n$server->on('message', function($message){\n$order_id=$message->Content;\n$rs=$this->model('system')->fetch_row('orders',\"order_id=\".$order_id); // <==\u6bcf\u6b21\u8fd0\u884c\u5230\u8fd9\u53e5\u5c31\u51fa\u9519\nreturn json_encode($rs);\n});\necho $server->serve();\n}\n```\n. @dindom999 \u4f60\u7528sql \u67e5\u8be2\u4e00\u4e0b \uff0c\u6216\u8005\u7528orm \u8f93\u51fa\u4e00\u4e0b sql\n. \u4f60\u8fd9\u771f\u53eb\u505a\u9762\u5411\u5bf9\u8c61 \uff0c\u8fd9\u6837\u90fd\u6ca1\u6709\u62a5\u9519\uff01\uff01\uff01\uff01\n. \u770b\u5b8c\u8fd9\u4e2a\u94fe\u63a5\u7684\u4e1c\u897f\u518d\u8bf4\u8bdd\uff01\uff01\uff01\n. \u8fd9\u4e2a\u53ea\u80fd\u662f\u4f60\u81ea\u5df1\u7684\u95ee\u9898 \uff0c\u8fd9\u4e48\u591a\u4eba\u90fd\u6ca1\u6709\u95ee\u9898\uff01\uff01\uff01\uff01\n. \u4f60\u5148\u80fd\u770b\u61c2 \u8fd9\u4e2a \u4e4b\u540e\u518d\u8bf4\u8fd9\u4e2asdk \u7684\u4e8b\u60c5\n. @tinpont \u8fd9\u4e2a\u56fd\u5185\u5f88\u591a\u5e02\u573a\u5728\u7528 \u53e6\u5916\u8457\u540d\u7684symfony \u4e5f\u662f5.3\n. \u524d\u63d0\u662f\u6709\u4e2a\u4f01\u4e1a\u8ba4\u8bc1\u53f7\u6765\u7528\uff0c\u63d0\u4f9b\u6d4b\u8bd5\n. \u4f60\u5199\u7684\u62fc\u97f3\u6709\u4f55\u610f\u601d\uff0c\n. ",
    "imyip": "@a939638621 \u8fd9\u662f\u5728\u6846\u67b6\u91cc\u9762\u7684\u8c03\u7528\n``` php\nFlight::route('/weixin',function(){\n    Overtrue\\Wechat\\Alias::register();\n    $server = new WechatServer(\"xxxxxxxxxxxx\", \"xxxxx\");\n    $server->on('message', 'text', function($message) {\n        return WechatMessage::make('text')->content($message->Content);\n    });\n    $result = $server->serve();\n    echo $result;\n});\nFlight::start();\n```\n\u6211\u611f\u89c9\u662fnginx\u7684\u95ee\u9898\n. getConfig()\u65b9\u6cd5\u6ca1\u6709\u5b9a\u4e49\uff1f\n\u4eca\u5929\u6d4b\u8bd52.1\u7248\u672c\u9047\u5230\u7684\u95ee\u9898\n. ",
    "justocean": "\u8fd9\u91cc\u6211\u89c9\u5f97\u53ef\u80fd\u4e0d\u662f\u8fd9\u4e2a\u65f6\u95f4\u7684\u95ee\u9898\u3002\n\u6211\u89c9\u5f97\u6709\u53ef\u80fd\u662f\u5e76\u53d1\u5bfc\u81f4\u5199\u8fd9\u4e2a\u4fdd\u5b58 accesstoken \u7684\u6587\u4ef6\u5f15\u8d77\u7684\u3002\n\u56e0\u4e3a\u60a8\u7528\u7684\u662f file_put_contents \u8fd9\u4e2a\u51fd\u6570\uff0c\u6211\u5efa\u8bae\u662f\u52a0\u4e0a\u53c2\u6570 LOCK_EX\uff1a\nif (!file_put_contents($this->getCacheFile($key), serialize($data), LOCK_EX))\n            throw new Exception('Access toekn \u7f13\u5b58\u5931\u8d25');\n\u540c\u65f6\u6211\u4e5f\u5728\u7528 redis \u6765\u4fdd\u5b58\u8fdb\u884c\u6d4b\u8bd5\u3002\n. ",
    "dindom999": "\u662f\u4e0d\u662f\u56de\u8c03\u51fd\u6570\u91cc\u7684\u539f\u56e0\n. \u4e0d\u662f\u6570\u636e\u7684\u95ee\u9898\uff0c\u6211\u8bd5\u8fc7\u4e86\uff1b\u62b1\u6b49\uff0c\u6211\u4e0d\u77e5\u9053\u600e\u4e48\u6392\u7248\n. \u6ca1\u6709\u5e16\u5b8c\u6574\u4ee3\u7801\uff0c\u5475\u5475\uff0c\u5b83\u662f\u5728\u4e00\u4e2aFuction\u91cc\u7684\uff0c\u4f60\u7ec8\u4e8e\u53d1\u73b0\u4e86\uff0c\u54c8\u54c8 \n. \u8fd9\u6837\u89e3\u51b3\u4e86\uff0c\u8c22\u8c22\n$sysModel = $this->model('system');\n$server->on('message', function($message) use($sysModel){\n. ",
    "zswang": "\u611f\u8c22\u89e3\u7b54\n. ",
    "update152": "\u516c\u4f17\u8d26\u53f7\u652f\u4ed8\u6388\u6743\u76ee\u5f55\uff0c\u518d\u68c0\u67e5\u4e0b\uff0c\u6211\u4e4b\u524d\u9047\u5230\u7684\u5c31\u662f\u8fd9\u4e2a\u95ee\u9898 \u7ed3\u679c\u662f\u6388\u6743\u76ee\u5f55\u7684\u95ee\u9898\n. \u6388\u6743\u76ee\u5f55\u5199\u8be6\u7ec6\u70b9\uff0c\u53d1\u8d77\u652f\u4ed8url\u662f\u4ec0\u4e48\n. ",
    "yangweijie": "\u540e\u7aef http://3api.sinaapp.com/weixin/unifiedOrder \u8fd9\u662furl\u3002\n\u5bf9\u5e94\u6587\u4ef6\u662f  http://3api.sinaapp.com/app/Http/Controller/WeixinController.php\n```\n//\u521b\u5efa\u5fae\u4fe1\u652f\u4ed8\u8ba2\u5355\n    public function unifiedOrder(){\n        $fee = Request::input('fee'); //TODO \u6839\u636e\u8ba2\u5355\u8bfb\u53d6\u51fa\u6765\u3002\n        $openid = Request::input('openid');\n        slog('\u8c03\u8bd5 \u4e0b\u5355\u7684\u5fae\u4fe1 openid:');\n        slog($openid);\n        $order_num = Request::input('order_num');\n        $orderInfo = DB::table('order')->where('order_num', $order_num)->first();\n        if(!$orderInfo){\n            warn(\"\u8ba2\u5355\u53f7\u4e3a\uff1a{$order_num}\u7684\u8ba2\u5355\u4e0d\u5b58\u5728\");\n            error('\u8ba2\u5355\u4e0d\u5b58\u5728');\n        }\n        //debug\n        warn(\"\u6b63\u5728\u5c1d\u8bd5\u53d1\u8d77\u8ba2\u5355{$order_num}\u7684\u5fae\u4fe1\u652f\u4ed8\");\n        $config = config('wechat');\n        slog($config);\n        /*\n         * \u7b2c 1 \u6b65\uff1a\u5b9a\u4e49\u5546\u6237\n         /\n        $business = new Business(\n            $config['app_id'],\n            $config['secret'],\n            $config['mch_id'],\n            $config['mch_key']\n        );\n    slog('business');\n    slog($business);\n    /**\n     * \u7b2c 2 \u6b65\uff1a\u5b9a\u4e49\u8ba2\u5355\n     */\n    $order = new Order();\n    $luckymoneyTypeInfo = DB::table('luckymoney_type')->select('event_id', 'name')->where('id', $orderInfo->type_id)->first();\n    if(!$luckymoneyTypeInfo){\n        error('\u83b7\u53d6\u7ea2\u5305\u7c7b\u578b\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5\u3002');\n    }\n    $eventInfo = DB::table('event')->select('id', 'name', 'start_time', 'end_time')->where('id', $luckymoneyTypeInfo->event_id)->first();\n\n    $order->body = $eventInfo->name;\n    $order->out_trade_no = $order_num.'_t'.date(\"YmdHis\");\n    $order->total_fee = $orderInfo->pay_money * 100;    // \u5355\u4f4d\u4e3a \u201c\u5206\u201d, \u5b57\u7b26\u4e32\u7c7b\u578b\n    //debug\n    $order->total_fee = '1';\n    $order->openid = $openid;\n    $order->notify_url = 'http://3api.sinaapp.com/weixin/wxpayNotify';\n\n    /**\n     * \u7b2c 3 \u6b65\uff1a\u7edf\u4e00\u4e0b\u5355\n     */\n    $unifiedOrder = new UnifiedOrder($business, $order);\n\n    slog(objectToArray($unifiedOrder));\n    /**\n     * \u7b2c 4 \u6b65\uff1a\u751f\u6210\u652f\u4ed8\u914d\u7f6e\u6587\u4ef6\n     */\n    $payment = new Payment($unifiedOrder);\n    $payconfig = $payment->getConfig();\n    // echo $payconfig;\n    return success(['order'=>['body'=>$eventInfo->name, 'out_trade_no'=>$order_num, 'total_fee'=>$order->total_fee,'openid'=>$openid, 'notify_url'=>'http://3api.sinaapp.com/weixin/wxpayNotify'], 'config'=>$payconfig]);\n}\n\n//\u5fae\u4fe1\u652f\u4ed8\u7ed3\u679c\u56de\u8c03\npublic function wxpayNotify(){\n    lesslog(\"begin notify\");\n\n    $config = config('wechat');\n\n    $notify = new Notify(\n        $config['app_id'],\n        $config['secret'],\n        $config['mch_id'],\n        $config['mch_key']\n    );\n\n    $transaction = $notify->verify();\n\n    if (!$transaction) {\n        $notify->reply('FAIL', 'verify transaction error');\n    }\n    slog($transaction);\n    lesslog($transaction, '\u5fae\u4fe1\u652f\u4ed8\u540e\u7684\u901a\u77e5');\n\n    // var_dump($transaction);\n\n    echo $notify->reply();\n}\n\n```\n\u524d\u7aef\u7684http://3demo.sinaapp.com/app/pay/controller.js\n```\n(function(){\n    'use strict';\n    angular.module('3demo')\n    .controller('wxBuyCtrl',function($scope, $stateParams,jconfig,$state,check_in_weixin,$timeout, $cookies){\n        var vm = this;\n        vm.buy = function(good){\n            $state.go('wxorder', {title:good.title, price:good.price*100});\n        }\n        vm.weixin_openid = '';\n        var openid = $cookies.get('weixin_openid');\n        //debug openid = '';\n        if(openid){\n            vm.weixin_openid = openid;\n        }\n    })\n    .controller('wxOrderCtrl',function($scope, $zh,$state,$stateParams,$cookies){\n        var vm = this;\n        var params = {\n            title: $stateParams.title,\n            fee: $stateParams.price,\n            openid: $cookies.get('weixin_openid')\n        }\n        vm.loading = true;\n        vm.title = params.title;\n        vm.price = params.price == 0? 0.01: params.price/100;\n        //\u6b63\u5f0f\u6d41\u7a0b\u662f\u5148\u521b\u5efa\u7cfb\u7edf\u8ba2\u5355\u540e\u8c03\u7528\u6b64\u63a5\u53e3 \u4f1a\u591a\u4f20order_id\n        params.order_num = '320151025150318';\n        $zh.post('weixin/unifiedOrder', params).success(function(data){\n            vm.loading = false;\n            vm.order = angular.fromJson(data.order);\n            vm.jsApiCall = function(){\n                WeixinJSBridge.invoke(\n                    'getBrandWCPayRequest',\n                    angular.fromJson(data.config),\n                    function(res){\n                        if(res.err_msg == \"get_brand_wcpay_request:ok\"){\n                            $state.go('wxorder_result');\n                        }else{\n                            vm.errmsg = res.err_msg;\n                        }\n                    }\n                );\n            }\n        vm.callpay = function(){\n            if (typeof WeixinJSBridge == \"undefined\"){\n                if( document.addEventListener ){\n                    document.addEventListener('WeixinJSBridgeReady', vm.jsApiCall, false);\n                }else if (document.attachEvent){\n                    document.attachEvent('WeixinJSBridgeReady', vm.jsApiCall);\n                    document.attachEvent('onWeixinJSBridgeReady', vm.jsApiCall);\n                }\n            }else{\n                vm.jsApiCall();\n            }\n        }\n    }).error(function(data){\n        vm.errmsg = data;\n    });\n})\n.controller('wxOrderResultCtrl',function(){\n\n})\n;\n\n})();\n```\n\u6a21\u677f\n<div class=\"container\">\n    <div class=\"row\" id=\"order\" ng-hide=\"errmsg\" ng-if=\"!wxOrder.loading\">\n        <font color=\"#f00\"><b>\u7edf\u4e00\u4e0b\u5355\u652f\u4ed8\u5355\u4fe1\u606f</b></font><br/>\n        <p ng-repeat=\"(key,value) in wxOrder.order\"><font color='#00ff55;'>{{key}}</font> : {{value}}</p>\n        <font color=\"#9ACD32\"><b>\u8be5\u7b14\u8ba2\u5355\u652f\u4ed8\u91d1\u989d\u4e3a<span style=\"color:#f00;font-size:50px\">{{wxOrder.order.total_fee/100}}\u5143</span>\u94b1</b></font><br/><br/>\n        <div align=\"center\">\n            <a ng-click=\"wxOrder.callpay()\" class=\"btn btn-primary\">\u7acb\u5373\u652f\u4ed8</a>\n        </div>\n    </div>\n    <div class=\"row\" ng-show=\"wxOrder.errmsg\">\n        \u53d1\u8d77\u5fae\u4fe1\u652f\u4ed8 \u9884\u5904\u7406\u51fa\u9519\uff0c <br>\n        \u51fa\u9519\u4fe1\u606f\uff1a<pre>{{wxOrder.errmsg}}</pre>\n    </div>\n</div>\n\u521a\u8bd5\u8fc7\u628a \u91d1\u989d\u6539\u6210\u5b57\u7b26\u4e32\uff0c\u8fd8\u662f\u6ca1\u7528\u3002\n\u652f\u4ed8\u6388\u6743\u76ee\u5f55\nhttp://www.zhanhuigou.com/mobile/\nhttp://www.zhanhuigou.com/weixin/weixinpay/\nhttp://www.zhanhuigou.com/weixin/weixinpay/demo\n\u6d4b\u8bd5\u6388\u6743\u76ee\u5f55http://3api.sinaapp.com/weixin/\n. \u8def\u7531\u662f\n//\u5fae\u4fe1\u652f\u4ed8\u76f8\u5173\u63a5\u53e3\n$app->post('/weixin/unifiedOrder','WeixinController@unifiedOrder');\n$app->post('/weixin/wxpayNotify','WeixinController@wxpayNotify');\n. \n\u53d1\u8d77\u652f\u4ed8\u7684URL\u662f\u4ec0\u4e48\u610f\u601d\u554a\uff0c \u662f\u6307\u8c03\u7528\u70b9\u7acb\u5373\u652f\u4ed8\u6309\u94ae\u6240\u5728\u9875\u9762\u7684\u5730\u5740\u5417\uff1f\u90a3\u4e2a\u662fhttp://3demo.sinaapp.com/wxorder\u554a \u5927\u5bb6\u53ef\u4ee5 \u5148\u6d4f\u89c8\u5668\u6253\u5f00 http://3demo.sinaapp.com/wxbuy \u7528\u4e8c\u7ef4\u7801\u63d2\u4ef6 \u5fae\u4fe1\u6d4f\u89c8\u5230\u554a\n@tianyong90  \u5b98\u65b9sdk \u7b7e\u540d\u5de5\u5177\u5730\u5740\u5728\u54ea\uff0c \u7136\u540eovertrue/wechat \u91cc\u54ea\u4e2a\u65b9\u6cd5\u7684\u751f\u6210\u7b7e\u540d\u53bb\u5bf9\u6bd4\uff0c\u662funifiedOrder \u8fd8\u662fwxpayNotify \u91cc\u9762\u751f\u6210\u7684\u7b7e\u540d\u5462\uff0c\u5982\u679c \u9a8c\u8bc1\u6210\u529f\uff0c\u524d\u9762\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u7684\u6768\u8389\u662f\u4ec0\u4e48\u6837\u5b57\u7684\u5462\uff1f\n\u6211\u7684\u83b7\u53d6\u8ba2\u5355\u8fd4\u56dejson\u662f\u8fd9\u6837\u7684\n{\n    \"code\": 0,\n    \"message\": \"\",\n    \"data\": {\n        \"order\": {\n            \"body\": \"\\u91cd\\u5e86\\u56fd\\u9645\\u535a\\u89c8\\u4e2d\\u5fc3\\uff08\\u91cd\\u5e86 \\u60a6\\u6765\\uff09\",\n            \"out_trade_no\": \"320151025150318\",\n            \"total_fee\": \"1\",\n            \"openid\": \"owca5twvhoHw2W7jkp8b1y2-DYFk\",\n            \"notify_url\": \"http:\\/\\/3api.sinaapp.com\\/weixin\\/wxpayNotify\"\n        },\n        \"config\": \"{\\\"appId\\\":\\\"wx6f390c0b020f9e1e\\\",\\\"timeStamp\\\":\\\"1445846549\\\",\\\"nonceStr\\\":\\\"Kna7dSufNLRJEOal\\\",\\\"package\\\":\\\"prepay_id=wx20151026160229a8b89aba410747207536\\\",\\\"signType\\\":\\\"MD5\\\",\\\"paySign\\\":\\\"17C6486C20A8EDA18AC7D0F35C26DAC7\\\"}\"\n    }\n}\n. \u7ec8\u4e8e\u597d\u4e86\uff0c\u5176\u5b9e\u95ee\u9898\u5f88\u66f2\u6298\uff0c\u5f00\u59cb\u505a\u7684\u65f6\u5019\uff0c\u8ba2\u5355\u53f7\u52a0\u4e86\u957f\u4e86\u8d85\u8fc732\u5b57\u8282\u4e86\u3002\n\u7136\u540e\u662f\u652f\u4ed8\u91d1\u989d \u6d4b\u8bd5\u5199\u4e86\u4e2a1 \u4e60\u60ef\u4e86 \u6ca1\u5e26\u2018\u2019  \u8fd9\u4e2a\u5efa\u8baesdk\u4f20\u7684\u65f6\u5019\u68c0\u67e5\u4e00\u4e0b\u3002\u56e0\u4e3aphp\u662f\u5f31\u7c7b\u578b\uff0c\u7ecf\u5e38\u4f1a\u62ff\u6765\u8fd0\u7b97\u3002\n\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff0c \u7b7e\u540d\u9519\u8bef \u5b9e\u9645\u4e0a\u8fd8\u662f\u4e0e\u6388\u6743\u76ee\u5f55\u6709\u5173\uff0c\u56e0\u4e3a \u5b9e\u5728\u5f04\u4e0d\u61c2\n\n\u6839\u636e\u56fe\u4e2d\u680f\u76ee\u987a\u5e8f\u8fdb\u5165\u4fee\u6539\u680f\u76ee\uff0c\u52fe\u9009JSAPI\u7f51\u9875\u652f\u4ed8\u5f00\u901a\u8be5\u6743\u9650\uff0c\u5e76\u914d\u7f6e\u597d\u652f\u4ed8\u6388\u6743\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u5fc5\u987b\u662f\u53d1\u8d77\u652f\u4ed8\u7684\u9875\u9762\u7684\u7cbe\u786e\u76ee\u5f55\uff0c\u5b50\u76ee\u5f55\u4e0b\u65e0\u6cd5\u6b63\u5e38\u8c03\u7528\u652f\u4ed8\u3002\n\u7cbe\u51c6\u76ee\u5f55\u662f\u4ec0\u4e48\u610f\u601d\uff0c \u6709\u7684\u8bf4\u662f\u56de\u8c03\u5730\u5740\u91cc \u65b9\u6cd5\u524d\u9762\u90a3\u4e2a \u6bd4\u5982 \u6211\u56de\u8c03\u662f weixin/wxpayNotify \u57df\u540d\u662f http://3api.sinaapp.com \u90a3\u4e48\u5c31\u5199http://3api.sinaapp.com/weixin/\n\u8fd9\u662f\u9519\u8bef\u7684\uff0c\u540e\u6765\u8bc1\u660e\uff0c\u662f\u53d1\u8d77\u9875\u9762\u6240\u5728\u57df\u540d\uff0c \u6bd4\u65b9\u6211\u6709\u4e2a\u9875\u9762\u56de\u53bb\u6389wxPay\uff0c\u90a3\u4e2a\u65b9\u6cd5\uff0c \u652f\u4ed8\u76ee\u5f55\u5e94\u8be5\u662f \u57df\u540d/pay.html\u3002  \u800c\u7531\u4e8e\u6211\u7684\u662fangularjs \uff0chttp://3demo.sinaapp.com/wxorder \u8fd9\u9875\u9762\u53d1\u8d77\u7684\uff0c\u6240\u4ee5\u652f\u4ed8\u76ee\u5f55\u662f\u53bb\u6389wxorder \u5c31\u662f\u6839\u57df\u540d\u3002\u800c\u4e14\u5f00\u59cb\u6211\u4ee5\u4e3a\u7b7e\u540d\u8fd8\u4e0e\u8bc1\u4e66\u6709\u5173\uff0c\u90a3\u4e2a\u5927\u5bb6\u770b\u770b\u6587\u6863\u5e94\u8be5\u662f\u9000\u6b3e\u7528\u7684\u3002\n. \n",
    "tianyong90": "\u6ca1\u770b\u51fa\u4ee3\u7801\u91cc\u6709\u5565\u6bdb\u75c5\u3002\u5efa\u8bae\u7528\u5b98\u65b9SDK\u91cc\u7684\u7b7e\u540d\u5de5\u5177\u4f20\u76f8\u540c\u7684\u53c2\u6570\u751f\u6210\u7b7e\u540d\uff0c\u7136\u540e\u548covertrue/wecaht\u751f\u6210\u7684\u7b7e\u540d\u6bd4\u5bf9\u4e0b\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u5b9a\u662f\u7b7e\u540d\u672c\u8eab\u51fa\u9519\u4e86\u8fd8\u662f\u56e0\u4e3a\u914d\u7f6e\u7684\u6388\u6743\u76ee\u5f55\u4e0d\u5bf9\u3002\n. https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=11_1\n\u8fd9\u91cc\u53ef\u4ee5\u4e0b\u8f7d\u5b98\u65b9\u7684SDK\uff0c\u91cc\u9762\u6709\u7b7e\u540d\u5de5\u5177\u3002\n\u652f\u4ed8\u6388\u6743\u76ee\u5f55\u5c31\u662f\u5b9e\u9645\u53d1\u73b0\u652f\u4ed8\u7684\u5730\u5740\uff0c\u60a8\u8fd9\u4e0a\u9762\u6709\u597d\u51e0\u4e2a\u57df\u540d\uff0c\u6211\u770b\u6655\u4e86\u3002\n\u4f30\u8ba1\u8fd8\u662f\u6388\u6743\u76ee\u5f55\u95f9\u7684\u2026\u2026\n. \u5982\u679c\u81ea\u5df1\u6ca1\u88c5\u670d\u52a1\u5668\u8bc1\u4e66\uff0c\u8fd9\u4e2a\u786e\u5b9e\u4f1a\u62a5\u9519\uff0c\u81ea\u5df1\u6539\u4e0b\u5c31\u884c\u3002\u81f3\u4e8e\u88c5\u4e86\u8bc1\u4e66\u540e\u662f\u4ec0\u4e48\u60c5\u51b5\u4e5f\u6ca1\u8bd5\u8fc7\u3002\n. 1\u3001\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u91cc\u7528\u8fd9\u4e2aurl\u8bbf\u95ee\u4e0b\u770b\u80fd\u4e0d\u80fd\u5230\u3002\n2\u3001\u7136\u540e\u5c31\u662f\u8ba2\u5355\u4e2d\u53c2\u6570\u786e\u8ba4\u65e0\u8bef\u3002\n3\u3001\u6700\u540e\u5c31\u662f\u652f\u4ed8\u6210\u529f\u4e86\u624d\u6709\u56de\u8c03\u3002\n. \u8bb0\u65e5\u5fd7\u5427\u2026\u2026\n. sendGroup\u65f6\u4e5f\u62a5\uff1f\u4e0d\u5e94\u8be5\u554a\uff0c\u524d\u51e0\u5929\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u8bbe\u7f6eIP\u7684\u90e8\u5206\u5df2\u7ecf\u5220\u9664\u4e86\u3002\n. @chechao \u8bf7\u52a0 SDK  \u4ea4\u6d41\u7fa4\u5e76\u5728\u7fa4\u4e2d@\u7530\u8f83\u7626\n. @overtrue \u6211\u4e86\u4e2a\u53bb\uff0c\u90fd\u51fa\u53bb\u62cd\u7167\u7247\u4e86\u8fd8\u6709\u7a7a\u56de\u8fd9\u4e2a\u2026\u2026\n. \u53ef\u53c2\u8003https://easywechat.org/zh-cn/docs/troubleshooting.html\n. @Hitmanv \u6700\u597d\u8d34\u51fa\u4f60\u7684\u4ee3\u7801\uff0c\u652f\u4ed8\u8fd9\u90e8\u5206\u76f8\u5173\u7684\u53c2\u6570\u548c\u914d\u7f6e\u672c\u6765\u5c31\u591a\uff0c\u5f15\u8d77\u9519\u8bef\u7684\u56e0\u7d20\u4e5f\u591a\u3002\u5149\u4e00\u4e2a\u62a5\u9519\u622a\u56fe\u5f88\u96be\u786e\u5b9a\u95ee\u9898\u3002\n. JSBridge \u5374\u7528\u751f\u6210\u7684 JSSDK \u914d\u7f6e\uff0c\u4e0d\u9519\u624d\u602a\u3002\n. \u90e8\u5206\u6846\u67b6\u6700\u540e\u5728\u6700\u540e exit \u4e0b\uff0c\u6bd4\u5982\u90a3\u5565 ThinkPHP \u2026\u2026\n. @xiao345 \u5bf9\u4e8e\u4f60\u4e0a\u9762\u7684\u4ee3\u7801\uff0c$app->js \u4e0b\u8fd8\u6709\u4e00\u4e2a setUrl \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u8c03\u7528 config \u65b9\u6cd5\u751f\u6210\u914d\u7f6e\u4e4b\u524d\u7528\u5b83\u624b\u52a8\u8bbe\u7f6e url\uff0c\u81f3\u4e8e url \u7684\u503c\uff0c\u5bf9\u4e8e vue \u5355\u9875\u5e94\u7528\u4e00\u822c\u5c31\u662f\u5165\u53e3\u5730\u5740\u4e86\uff0c\u5f53\u7136\uff0c\u5982\u679c\u4f7f\u7528 vue-router \u7684 history \u6a21\u5f0f\uff0c\u60c5\u51b5\u53ef\u80fd\u4e0d\u4e00\u6837\u2026\u2026. \u6700\u597d\u8d34\u4e0b\u4f60\u7684\u76f8\u5173\u4ee3\u7801\u6216\u8005\u8bf4\u660e\u4f7f\u7528\u60c5\u51b5\u4ee5\u53ca\u5177\u4f53\u9519\u8bef\u3002@elinxer. \u53d1\u63a8\u7279\u7ed9\u5ddd\u666e\uff0c\u8ba9\u4ed6\u89e3\u51b3\u8fd9\u4e8b\u513f\u2026\u2026 \ud83d\ude06 . \u8001\u5b9e\u8bf4\u6a21\u677f\u6d88\u606f\u4e0d\u662f\u8fd9\u6837\u7528\u7684\uff0c\u641e\u4e0d\u597d\u5c31\u88ab\u5c01\u53f7\u3002\u5ba2\u670d\u6d88\u606f\u3001\u6a21\u677f\u6d88\u606f\u4ece\u4e1a\u52a1\u4e0a\u6765\u8bf4\u6700\u597d\u662f\u201d\u88ab\u52a8\u201c\u7684\u3002\u5f53\u7136\uff0c\u8fd9\u6837\u53ef\u80fd\u8ddf\u4f60\u95ee\u7684\u6280\u672f\u65e0\u5173\u4e86\u2026\u2026. @almas1992 \u53ef\u4ee5\u786e\u5b9a\u7684\u662f 4.0 \u7248\u672c\u4f1a\u652f\u6301\uff0c\u521a\u5199\u5b8c\u8fd9\u90e8\u5206\u7684\u5355\u5143\u6d4b\u8bd5\u3002 \ud83d\ude04 . \u4ee3\u7801\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u4e0d\u8fc7\u597d\u50cf\u5c11\u5355\u5143\u6d4b\u8bd5\u3002 Github \u660e\u660e\u5f00\u4e86\u5173\u6ce8\u9879\u76ee\u7684\u90ae\u4ef6\u901a\u77e5\uff0c\u7adf\u7136\u6ca1\u52a8\u9759\uff0c\u521a\u770b\u5230\u2026\u2026. @alwaystrong \u5982\u679c\u6ca1\u8bb0\u9519\u7684\u8bdd\uff0c\u56de\u8c03\u65f6\u4f20\u7ed9\u4f60\u7684\u6570\u636e\u91cc\u672c\u6765\u5c31\u5305\u542b\u5546\u6237\u53f7 mch_id\u3002\u53e6\u5916\u7edf\u4e00\u4e0b\u5355\u65f6\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u53eb attach \u7684\u53c2\u6570\u4f20\u5176\u5b83\u4f60\u60f3\u4f20\u7684\u9644\u52a0\u6570\u636e\uff0c\u652f\u4ed8\u56de\u8c03\u901a\u77e5\u91cc\u4f1a\u539f\u6837\u4f20\u56de\u3002\u5fae\u4fe1\u5b98\u65b9\u7684\u6587\u6863\u8fd8\u662f\u591a\u770b\u770b\u5427\uff0c\u867d\u7136\u5199\u5f97\u4e0d\u548b\u6ef4\u2026\u2026. 1. \u4f7f\u7528\u5ba2\u670d\u63a5\u53e3\n2, \u53d1\u9001\u6a21\u677f\u6d88\u606f\uff08\u59d1\u4e14\u8ba4\u4e3a\u8fd9\u662f\u4f60\u8bf4\u7684\u6587\u672c\u6d88\u606f\uff09. \n\u5176\u5b9e\u53ea\u8981\u7ffb\u4e00\u4e0b\u6e90\u7801\uff0c\u5c31\u80fd\u641e\u6e05\u695a\u8fd9\u91cc\u5230\u5e95\u8fd4\u56de\u7684\u662f json \u5b57\u7b26\u4e32\u8fd8\u662f\u4f60\u8bf4\u7684 json \u5bf9\u8c61\u4e86\u3002\n\u53e6\u5916\uff0c\u7b7e\u540d\u9519\u8bef\u53ef\u80fd\u7684\u539f\u56e0\u53ef\u80fd\u6709\u5f88\u591a\uff0c\u4f46\u5927\u90e8\u5206\u662f\u81ea\u5df1\u53c2\u6570\u914d\u7f6e\u5f97\u4e0d\u5bf9\u3002\u6bd4\u5982\u4f60\u8fd9\u91cc\u7684 appId \u611f\u89c9\u957f\u5ea6\u5c31\u4e0d\u591f\u554a\uff0c\u96be\u9053\u662f\u5fae\u4fe1\u51fa\u4e86\u65b0\u82b1\u6837\uff0c\u5f04\u77ed ID \u4e86\uff1f. \u53ef\u80fd\u5f97\u4e86\u89e3\u4e0b js \u5bf9\u8c61\u7684\u5b57\u9762\u91cf\u8d4b\u503c\u4ee5\u53ca\u6a21\u677f\u53d8\u91cf\u66ff\u6362\u7684\u539f\u7406\u3002\u5927\u6982\u662f\u6ca1\u8f6c\u8fc7\u5f2f\u6765\u5427\u3002\n\u793a\u4f8b\u91cc <?= $json ?> \u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b57\u9762\u91cf\u8d4b\u503c\u5f62\u5f0f\u7684\uff0c { appId: 'xxxx', .... } \u8fd9\u6837\u2026\u2026. \u4ed4\u7ec6\u67e5\u770b\u4e86\u666e\u901a\u5546\u6237\u4ee5\u53ca\u670d\u52a1\u5546\u652f\u4ed8\u7ea2\u5305\u76f8\u5173\u6587\u6863\uff0c\u91cc\u9762\u786e\u5b9e\u6ca1\u6709 sub_appid \u8fd9\u4e2a\u53c2\u6570\uff0c\u5bf9\u4e8e\u670d\u52a1\u5546\uff0c\u53ea\u662f\u591a\u4e86 sub_mch_id \u548c msgappid \u4e24\u4e2a\u5fc5\u4f20\u53c2\u6570\uff0c\u8fd9\u4e2a msgappid \u53ef\u4ee5\u662f\u670d\u52a1\u5546\u7684 app_id \u4e5f\u53ef\u4ee5\u662f\u516c\u4f17\u53f7\u81ea\u5df1\u7684 appid \u6216\u8005\u5b50\u5546\u6237\u7684\u3002\n\n. \u56e0\u4e3a JSSDK \u91cc\u7528\u7684 timestamp \u800c jsBridge \u7528\u7684\u662f\u4ed6\u5a18\u7684 timeStamp\u2026\u2026\n\n. @DarkVisitor \u8d34\u4e00\u4e0b\u4f60\u7684\u4ee3\u7801\u554a\u3002\u4f60\u7528\u7684\u4e0d\u662f JSSDK \u5427\uff1fJSSDK \u548c WxJsBridge \u914d\u7f6e\u4e0d\u4e00\u6837\u2026\u2026. @overtrue \u8fd9\u90e8\u5206\u8fd8\u6709\u4ec0\u4e48\u95ee\u9898\u8981\u6539\u7684\u561b\uff1f\u6ca1\u89c1\u53d1\u7248\u554a\u3002. https://www.easywechat.com/docs/master/official-account/configuration\n\u65e2\u7136\u90fd\u5df2\u7ecf\u7ffb\u6e90\u7801\u627e\u539f\u56e0\u4e86\uff0c\u662f\u4e0d\u662f\u4e5f\u5e94\u8be5\u4ed4\u7ec6\u770b\u770b\u6587\u6863\uff1f. \u81f3\u5c11\u4f20\u4e00\u9879\uff0copenid\u548cusername\u603b\u6570\u4e0d\u8d85\u8fc710\u4e2a\n. ",
    "dhb52": "\u53ea\u6709\u64cd\u4f5c\u5546\u6237\u91d1\u989d\u7684\u624d\u9700\u8981\u8bc1\u4e66\u3002\u5176\u4ed6\u4e1a\u52a1\u4e0d\u9700\u8981\n. ",
    "iluozhiqiang": "\u6211\u672c\u5730\u6539\u4e86\u540e\uff0c\u4ee5\u540e\u5347\u7ea7\u6216\u76f4\u63a5\u4e0b\u8f7d\u7684\u65f6\u5019\uff0c\u4e0d\u5c31\u53c8\u9700\u8981\u6539\u5305\u4e86\uff1f\n. ",
    "stonegithubs": "\u8c22\u8c22\uff0c\u6211\u662f\u8fd9\u6837\u7f13\u5b58\u7684\nuse Overtrue\\Wechat\\Cache;\n$prefix = \u2018wx\u2019;\n$Cache = new Cache($prefix);\n$Cache->set('access_token', $access_token);\n$Cache->set('refresh_token', $refresh_token);\n$access_token = $Cache->get('access_token');\n$refresh_token = $Cache->get('refresh_token');\n\u7f13\u5b58\u6570\u636e\u6b63\u5e38\uff0c\u8bfb\u53d6\u4e5f\u6b63\u5e38\n\u53e6\u5916\u8bf7\u6559\u4e0bsetter\u548cgetter\u4ee5\u53ca\u91cc\u9762\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\u6709\u4ec0\u4e48\u7528\u5904\uff0c\u8981\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u80fd\u5b9e\u73b0\u4ec0\u4e48\u66f4\u5f3a\u5927\u7684\u529f\u80fd\uff1f\nCache::setter(function($key, $value, $lifetime){\nreturn your_custom_set_cache($key, $value, $lifetime);\n});\nCache::getter(function($key){\nreturn your_custom_get_cache($key);\n});\n. ",
    "jasonwwl": "\u627e\u5230\u4e86 \u8c22\u5566\n. ",
    "Osub": "@a939638621  \u6709\u6d4b\u8bd5\u53f7\uff0c\u53ef\u4ee5\u7528\n. ",
    "MrCui": "@Osub https://github.com/MrCui/WeixinAPI-PHP\n. ",
    "mengdream": "\u4ece\u6765\u6ca1\u6709 pull request \u8fc7\uff0c\u521a\u624d\u8bd5\u9a8c\u5f00\u5173\u4e00\u4e0b\n.  $cardMessage = Message::make('wxcard')->cardId('********')->cardExt($ext);\n\u6211\u7684\u4ee3\u7801\u662f\u8fd9\u4e48\u5199\u7684\uff0c\u53d1\u73b0\u4e0d\u6539\u7528\u4e0d\u4e86\nFork\u7684\u4ee3\u7801\u88ab\u6211\u5220\u9664\u4e86\uff0c\u6240\u4ee5\u6211\u4e0d\u80fdreopen\u4e86\n. ",
    "Liv1020": "\u8fd9\u4e2abug\uff0c\u4e25\u91cd\u5f71\u54cdbag\u7684\u8c03\u7528\uff0c\u8bf7\u5c3d\u5feb\u4fee\u590d\n. \u7b2c\u4e00\u4e2aforget\u53c2\u6570\u5f15\u7528\uff0c\u6ca1\u6709return\u53c2\u6570\u6211\u5c31\u53bb\u9664\u4e86\u3002\n\u5176\u4ed6\u7684\u53ea\u662f\u5355\u7eaf\u4ee3\u7801\u683c\u5f0f\uff0c\u5177\u4f53\u8bf7\u8bb2\uff1f\n. \u5df2\u7ecf\u63d0\u4ea4\u4e86\n. \u6211\u53bb\u9664\u4e86\u3002\u3002\u3002\n. \u6211\u53d1\u73b0\u65b0\u7248\u672c\uff0c\u4ee3\u7801\u63d0\u793a\u592a\u4e0d\u597d\u4e86\n. \u6211\u8ba4\u771f\u6838\u5bf9\u5f88\u591a\u6b21\u4e86\n. \u5199\u4e86\uff0c\u6211\u7ed9\u7684\u90a3\u4e9b\u53c2\u6570\u90fd\u5199\u4e86\uff0c\u53ea\u4e0d\u8fc7\u6211\u53bb\u9664\u4e86\n. \u679c\u7136\u5fae\u4fe1api\u662f\u6700\u5783\u573e\u7684,openid\u6ca1\u53d1\u73b0\u8981\u5fc5\u4f20\u3002\u6211\u56de\u53bb\u8bd5\u8bd5\u3002\u9ebb\u70e6\u4f60\u4e86\n. \u597d\u7684\uff0c\u9ebb\u70e6\u4f60\u4e86\u3002\n. \u8fd9\u4e2a\u786e\u5b9e\u7b7e\u540d\u4e0d\u884c\n. \u6211\u7528\u76843\u4e5f\u662f\u4e00\u6837\u7684\n. @huijimuhe \u6211\u81ea\u5df1\u7b7e\u540d\u5012\u662f\u53ef\u4ee5\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u90fd\u4e00\u6837\u7684\n. \u90a3\u6211\u628a\u8fd9\u4e24\u4e2a\u53bb\u6389\uff0c\u63d0\u4ea4rp\n. ",
    "gabrieltong": "overtrue/wechat/src/Wechat/Media.php , line 280\n. I test video by mediainfo, and video by weixin is mp4\n\n. \u54c8\u54c8 \uff0c \u53cd\u6b63\u5c31\u662fdownload\u89c6\u9891\u591a\u4e2a .\n. \u5fae\u4fe1\u73b0\u5728\u8fd9\u4e48\u725b \uff0c\u4f60\u7684\u6587\u6863\u90fd\u662f\u4e2d\u82f1\u6587 \uff0c\u5f97\u8ddf\u4e0a\u6f6e\u6d41\u554a\n. ",
    "palmtale": "In overtrue/wechat/src/Wechat/Http.php\n. \u6211\u77e5\u9053\u4f60\u662f\u4e2d\u56fd\u4eba\u5440\u3002\u54b1\u8fd9\u4e0d\u7528\u8001\u5916\u7684\u7834\u73a9\u513f\u610f\u513f\u4e48\u3002 \u4e0d\u8fc7\uff0c\u5b89\u6b63\u8d85\u50cf\u662f\u97e9\u56fd\u540d\u513f\u3002\n\u90a3\u8bf7\u770b\u6211\u4e0b\u6587\u7684\u4e24\u53e5log\uff08\u53d1\u751f\u7684\u60c5\u666f\u5c31\u662f\uff1a\u672c\u6765\u662f\u6709\u6548\u7684\uff0c\u8fc7\u957f\u65f6\u95f4\u540e\u629b\u8fd9\u4e2a\u9519\u554a\uff09:\n[2015-11-16 12:13:14] local.ERROR: Push job crashed. {0} [\"(Overtrue\\Wechat\\Exception(code: 42001): [Wechat]access_token\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5access_token\u7684\u6709\u6548\u671f\uff0c\n\u8bf7\u53c2\u8003\u57fa\u7840\u652f\u6301-\u83b7\u53d6access_token\u4e2d\uff0c\u5bf9access_token\u7684\u8be6\u7ec6\u673a\u5236\u8bf4\u660e at /home/urbem/sites/vendor/overtrue/wechat/src/Wechat/Http.php:115)\"]\n[2015-11-16 12:13:17] local.ERROR: Push job crashed. {0} [\"(Overtrue\\Wechat\\Exception(code: 42001): [Wechat]access_token\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5access_token\u7684\u6709\u6548\u671f\uff0c\n\u8bf7\u53c2\u8003\u57fa\u7840\u652f\u6301-\u83b7\u53d6access_token\u4e2d\uff0c\u5bf9access_token\u7684\u8be6\u7ec6\u673a\u5236\u8bf4\u660e at /home/urbem/sites/vendor/overtrue/wechat/src/Wechat/Http.php:115)\"]\n. \u518d\u770b\u4e0b\uff0c\u662fgithub\u5bf9 \u4e2d\u62ec\u53f7\u6709\u8f6c\u8bd1\u3002  \u4e0a\u6587\u53cc\u5f15\u53f7\u548c\u5de6\u62ec\u53f7\u95f4\u662f\u6709\u4e2a  \u4e2d\u62ec\u53f7\u62ec\u7740object\u7684\n@overtrue \u4f60\u770b\u4e32\u884c\u4e86\n40001   \u83b7\u53d6access_token\u65f6AppSecret\u9519\u8bef\uff0c\u6216\u8005access_token\u65e0\u6548\u3002\u8bf7\u5f00\u53d1\u8005\u8ba4\u771f\u6bd4\u5bf9AppSecret\u7684\u6b63\u786e\u6027\uff0c\u6216\u67e5\u770b\u662f\u5426\u6b63\u5728\u4e3a\u6070\u5f53\u7684\u516c\u4f17\u53f7\u8c03\u7528\u63a5\u53e3\n40002   \u4e0d\u5408\u6cd5\u7684\u51ed\u8bc1\u7c7b\u578b\n42001   access_token\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5access_token\u7684\u6709\u6548\u671f\uff0c\u8bf7\u53c2\u8003\u57fa\u7840\u652f\u6301-\u83b7\u53d6access_token\u4e2d\uff0c\u5bf9access_token\u7684\u8be6\u7ec6\u673a\u5236\u8bf4\u660e\n. @overtrue \u54e6\uff0c\u770b\u6765\u5f97\u5b9e\u6d4b\u786e\u5b9a\u4e0b\u3002\n. \u8c22\u8c22\u3002\n\u5176\u5b9e\u5df2\u7ecf\u81ea\u5df1\u5148\u6539\u540e\u53d1\u5e03\uff0c\u4f46\u6bd5\u7adf\u6539\u7b2c\u4e09\u65b9\u5e93\u6211\u5f97\u81ea\u5df1\u7ef4\u62a4\uff0c\u6240\u4ee5\u8fd8\u662f\u6765\u8fd9\u7ed9\u4f60\u63d0bug\u4e86\u3002\n. ",
    "tyronewo": "\u5df2\u89e3\u51b3\u3002\n. ",
    "motionlife": "@tyronewo \u8bf7\u95ee\u60a8\u5982\u4f55\u89e3\u51b3\u7684 \u6211\u4e00\u76f4\u90fd\u662f40029 \u4e0d\u5408\u6cd5\u7684oauth_code\n. \u8c22\u8c22\n. @overtrue \u8c22\u8c22\u89e3\u7b54\u3002\u6211\u7528\u7684\u662f3.0\u521a\u521a\u53d1\u73b0\u4e86\u95ee\u9898\uff1a\u6211\u5728middleware\u4e2d\u5199\u4e86 \nreturn $oauth->redirect();\n\u8fd9\u53ef\u80fd\u6700\u7ec8\u5bfc\u81f4\u4e86\u5bf9\u5fae\u4fe1\u670d\u52a1\u5668\u505a\u4e862\u6b21\u8bf7\u6c42\uff0c\u6211\u628a\u6539\u6210\n$oauth->redirect()->send();\n\u95ee\u9898\u89e3\u51b3\u4e86\u3002\u5e0c\u671b\u5927\u5bb6\u9047\u5230\u7c7b\u4f3c\u7684\u4e5f\u53ef\u4ee5\u68c0\u67e5\u4e00\u4e0b\u662f\u4e0d\u662f\u8fd9\u4e2a\u95ee\u9898\u3002\n. ",
    "xofers": "$imgData \u4e3adownload \u4e0b\u8f7d\u4e0b\u6765\u7684\n$finfo = new \\finfo(FILEINFO_MIME_TYPE);\n        $imgType = strtolower($finfo->buffer($imgData));\n        $imgType = substr(strrchr($imgType, '/'), 1);\n        switch ($imgType) {\n            case 'jpeg':\n                $imgType = 'jpeg';\n                break;\n            case 'jpg':\n                break;\n            case 'png':\n                break;\n            case 'gif':\n                break;\n            default :\n                $imgType = 'no';\n        }\n. ",
    "yedong0839": "\u8fd4\u56de\u4fe1\u606f\uff1aArray\n(\n    [errcode] => 47001\n    [errmsg] => data format error hint: [YoF8vA0104e297]\n)\n. \u5df2\u89e3\u51b3\uff0c\u539f\u56e0\u5982\u4e0b\uff1a\n\u7d20\u6750\u8def\u5f84\u4e2d\u4e0d\u80fd\u6709 ..\n\u5982,\u6b64\u8def\u5f84\u5c31\u4f1a\u8fd4\u56de47001\u9519\u8bef\uff1a$imagePath = _DIR_.'/../img.png';\n. \u663e\u793a\u9519\u4e86\uff0c\u672c\u6765\u662f _DIR_; \n. ",
    "zhoujia123": "\u6211\u53d1\u8d77\u626b\u7801\u652f\u4ed8URL  \u4e3ahttp://www.xxxx.com/wx/webchat   \u8bbe\u7f6e\u56de\u8c03URL:http://www.xxxx.com/wx/notify\nRoute::group(['namespace' => 'Webchat','prefix' => 'wx'],function(){\n```\n    Route::get('webchat','WebchatController@webPayOrder');\nRoute::any('notify','NotifyController@notify');\n```\n});\n\u53bb\u6389\u4e86VerifyCsrfToken.php \u4e2d\u95f4\u4ef6   \u4e3a\u4ec0\u4e48\u5fae\u4fe1\u5c31\u662f\u8c03\u7528\u4e0d\u8fc7\u6765\uff1f\n. \u57df\u540d\u5df2\u7ecf\u5728\u5fae\u4fe1\u5f00\u53d1\u4e2d\u5fc3\u586b\u5199\u5b89\u5168\u57df\u540d\uff0c\u652f\u4ed8\u80fd\u6b63\u5e38\u652f\u4ed8\uff0c\u57df\u540d\u662f\u6b63\u5e38\u7684\u4e00\u7ea7\u57df\u540d\uff0c\u8bbe\u7f6e\u7684\u4e5f\u662f\u540c\u57df\u5730\u5740\n. \u6d4f\u89c8\u5668\u8bbf\u95ee\u4e5f\u80fd\u6b63\u5e38\u8fd4\u56dexml\u683c\u5f0f\u6570\u636e\n<![CDATA[FAIL]]><![CDATA[verify transaction error]]>\n. \u901a\u8fc7\u8bb0\u5f55\u8be6\u7ec6\u7684\u65e5\u5fd7\u53d1\u73b0\uff0c\u6570\u636e\u89e3\u6790\u51fa\u9519\u4e86\uff0c\u73b0\u5728\u6b63\u5728\u6392\u67e5\uff0c\u8c22\u8c22\u5404\u4f4d\u5927\u795e\u7684\u6307\u5bfc\uff01\n. ",
    "wailovet": "\u8c22\u8c22\n. ",
    "leesleefeng": "\u6ca1\u6709token..\n. ",
    "zzpwestlife": "\u8c8c\u4f3c\u5e76\u6ca1\u6709 unionid. \u516c\u4f17\u53f7\u5df2\u7ed1\u5b9a\u5f00\u653e\u5e73\u53f0\uff0csnsapi_userinfo \u53ef\u4ee5\u83b7\u53d6 unionid\uff0c\u6ca1\u6709\u95ee\u9898\u3002\n\u4f46\u662f snsapi_base \u6ca1\u6709 unionid\uff0c \u8fd8\u9700\u8981\u505a\u4ec0\u4e48\u8bbe\u7f6e\u4e48\uff1f. \u4e4b\u524d\u53ef\u4ee5\uff0c\u540e\u6765\u5220\u9664\u4e86\u3002\u4e86\u89e3\u4e86\uff0c \u975e\u5e38\u611f\u8c22\u3002. ",
    "punlap": "@overtrue \u597d\u7684\uff0c\u6211\u8bd5\u8bd5\n. @xiaohome \u6700\u65b0\u4e0b\u8f7d\u7684Homestead\uff0c\u9ed8\u8ba4\u5c31\u662f7.0\n. @overtrue \u5982\u679c\u4f203\u4e2a\u53c2\u6570\uff0c\u4f1a\u62a5\u53c2\u6570\u9519\u8bef\uff0c\u5982\u679c\u53ea\u586b\u4e00\u4e2a\u4f1a\u62a5\u65e0\u6548\u5ba2\u670d\u8d26\u53f7\uff0c\u662f\u5fae\u4fe1\u7684\u95ee\u9898\u5417\uff1f\n. @overtrue   \u6211\u8bd5\u4e86\u522b\u4eba\u7684SDK\uff0c\u4e5f\u90fd\u662f\u4e0d\u884c\uff0c\u6dfb\u52a0/\u4fee\u6539\u4f1a\u62a5https\u9519\u8bef\uff0c\u5220\u9664\u4f1a\u62a5\u65e0\u6548\u8d26\u53f7\n\u4ee3\u7801\uff1a\n$wechatStaff = $this->getWechat()->getStaff();\n$wechatStaff->delete('anne@tengyun');\n\u62a5\u9519\uff1a\nOvertrue\\Wechat\\Exception\n[Wechat]\u65e0\u6548\u5ba2\u670d\u8d26\u53f7(invalid kf_account)\nin /data/wwwroot/local/wechat/vendor/overtrue/wechat/src/Wechat/Staff.php at line 156 \u2013 Overtrue\\Wechat\\Utils\\Http::get('https://api.weixin.qq.com/custom...', ['kf_account' => 'anne@tengyun']) \n. ",
    "yanqing6628780": "@overtrue \u8fd9\u4e2a\u4e0d\u662f\u5e73\u53f0\u95ee\u9898.\u662f\u56e0\u4e3a\u7a0b\u5e8f\u53d1\u9001\u5411https://api.weixin.qq.com/customservice/kfaccount/del?access_token=ACCESS_TOKEN&kf_account=KFACCOUNT\u7684\u94fe\u63a5\nkf_accout\u8fd9\u4e2a\u53c2\u6570,\u7a0b\u5e8f\u628a'@'\u8fd9\u4e2a\u5b57\u7b26\u8f6c\u6210'%40'\u8fd9\u6837\u5c31\u4f1a\u62a5invalid kf_account\n\u76f4\u63a5\u4f7f\u7528@\u5b57\u7b26\u662f\u80fd\u5220\u9664\u5ba2\u670d\u6210\u529f\u7684\n. @overtrue\n\u6211\u4fee\u6539\u4e86\u4f60staff.php\u91cc\u7684delete\u51fd\u6570\u7684\u5c06get\u6539\u4e3a\u4e0b\u9762\u4e24\u4e2a\u6d4b\u8bd5\n$this->parseJSON('post', [self::API_DELETE, $params]);\n$this->parseJSON('json', [self::API_DELETE, $params]);\n\u6d4b\u8bd5\u8fc7,\u90fd\u662f\u63d0\u793a{\"errcode\":61451,\"errmsg\":\"invalid parameter\"}\n. @overtrue \n\n\u770b\u65e5\u5fd7,\u94fe\u63a5\u6ca1\u6709\u62fc\u63a5\u6210\u529f...\n\u8fd8\u53d1\u73b0\u4e2a\u65b0\u95ee\u9898\u662f\u5728Material.php\u7684get\u51fd\u6570\n$response = $this->getHttp()->get(self::API_GET, ['media_id' => $mediaId]);\n\u8fd9\u91cc\u7528get\u548cpost\u65b9\u6cd5\u90fd\u4f1a\u63d0\u793a{\"errcode\":40007,\"errmsg\":\"invalid media_id hint: [pvR35a0016e298]\"}\n\u6211\u6539\u6210json\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\n$response = $this->getHttp()->json(self::API_GET, ['media_id' => $mediaId]);\n\u770b\u65e5\u5fd7,\u5927\u6982\u662f\u56e0\u4e3apost\u65b9\u6cd5\nClient Request: {\"url\":\"https://api.weixin.qq.com/cgi-bin/material/get_material\",\"method\":\"POST\",\"options\":{\"form_params\":{\"media_id\":\"J6PGF3ZiDx_Uxdx7UHZ6UpUtKSjqvPzXjOH6SCsVzgo\"}}}\nRequest Body: media_id=J6PGF3ZiDx_Uxdx7UHZ6UpUtKSjqvPzXjOH6SCsVzgo\njson\u65b9\u6cd5\nClient Request: {\"url\":\"https://api.weixin.qq.com/cgi-bin/material/get_material\",\"method\":\"POST\",\"options\":{\"body\":\"{\\\"media_id\\\":\\\"J6PGF3ZiDx_Uxdx7UHZ6UpUtKSjqvPzXjOH6SCsVzgo\\\"}\",\"headers\":{\"content-type\":\"application/json\"}}}\nRequest Body: {\"media_id\":\"J6PGF3ZiDx_Uxdx7UHZ6UpUtKSjqvPzXjOH6SCsVzgo\"}\n\u800c\u4e14\u83b7\u53d6\u6c38\u4e45\u7d20\u6750\u8fd9\u4e2a\u63a5\u53e3http\u8bf7\u6c42\u65b9\u5f0f: POST\n. @overtrue \u6d4b\u8bd5\u8fc7\u6ca1\u6709\u95ee\u9898\u4e86~\u8c22\u8c22up\u4e3b\n. @overtrue \u8fd9\u6837\u4e2d\u6587\u6ca1\u95ee\u9898\u4e86.\n\u81f3\u4e8e\u7b2c2\u4e2a\u95ee\u9898.\n\u867d\u7136,\u6211\u80fd\u5904\u7406\u8fd9\u4e2a\u5f02\u5e38.\u4f46\u662f,\u7531\u4e8e\u5fae\u4fe1\u90a3\u8fb9\u4e0d\u8fd4\u56demedia_id,\u4f60\u7684checkAndThrow\u4f1a\u62a5\u4e0b\u9762\u7684\n0-Argument 1 passed to EasyWeChat\\Core\\AbstractAPI::checkAndThrow() must be of the type array, boolean given\n\u6211\u4e5f\u660e\u767d\u662f\u5565\u539f\u56e0\u9020\u6210\u7684...\u5c31\u662f\u4e0d\u77e5\u9053\u600e\u6837\u544a\u8bc9\u5199\u5fae\u4fe1\u63a5\u53e3\u90a3\u73ed\u64cd\u86cb\u7684\u4eba\n. ",
    "vcanson": "\u8fd9\u4e2a\u63a5\u53e3\u83b7\u53d6\u662f\uff1aselfmenu_info\n\u83b7\u53d6\u81ea\u5b9a\u4e49\u83dc\u5355\u914d\u7f6e\u63a5\u53e3\nhttps://api.weixin.qq.com/cgi-bin/get_current_selfmenu_info?access_token=ACCESS_TOKEN\n\u4e0d\u662f\uff1aconditionalmenu \uff08\u4e2a\u6027\u5316\u83dc\u5355\uff09\n\u5fae\u4fe1\u5b98\u65b9\u6587\u6863\u6709\u8bf4\u660e\uff1ahttp://mp.weixin.qq.com/wiki/5/f287d1a5b78a35a8884326312ac3e4ed.html\n\u8bf7\u6c42\u8bf4\u660e\nhttp\u8bf7\u6c42\u65b9\u5f0f\uff1aGET\nhttps://api.weixin.qq.com/cgi-bin/menu/get?access_token=ACCESS_TOKEN\n\u8fd4\u56de\u8bf4\u660e\uff08\u6709\u4e2a\u6027\u5316\u83dc\u5355\u65f6\uff09\n{\n    \"menu\": {\n        \"button\": [\n            {\n                \"type\": \"click\", \n                \"name\": \"\u4eca\u65e5\u6b4c\u66f2\", \n                \"key\": \"V1001_TODAY_MUSIC\", \n                \"sub_button\": [ ]\n            }\n        ], \n        \"menuid\": 208396938\n    }, \n    \"conditionalmenu\": [\n        {\n            \"button\": [\n                {\n                    \"type\": \"click\", \n                    \"name\": \"\u4eca\u65e5\u6b4c\u66f2\", \n                    \"key\": \"V1001_TODAY_MUSIC\", \n                    \"sub_button\": [ ]\n                }, \n                {\n                    \"name\": \"\u83dc\u5355\", \n                    \"sub_button\": [\n                        {\n                            \"type\": \"view\", \n                            \"name\": \"\u641c\u7d22\", \n                            \"url\": \"http://www.soso.com/\", \n                            \"sub_button\": [ ]\n                        }, \n                        {\n                            \"type\": \"view\", \n                            \"name\": \"\u89c6\u9891\", \n                            \"url\": \"http://v.qq.com/\", \n                            \"sub_button\": [ ]\n                        }, \n                        {\n                            \"type\": \"click\", \n                            \"name\": \"\u8d5e\u4e00\u4e0b\u6211\u4eec\", \n                            \"key\": \"V1001_GOOD\", \n                            \"sub_button\": [ ]\n                        }\n                    ]\n                }\n            ], \n            \"matchrule\": {\n                \"group_id\": 2, \n                \"sex\": 1, \n                \"country\": \"\u4e2d\u56fd\", \n                \"province\": \"\u5e7f\u4e1c\", \n                \"city\": \"\u5e7f\u5dde\", \n                \"client_platform_type\": 2\n            }, \n            \"menuid\": 208396993\n        }\n    ]\n}\n\u6ce8\uff1amenu\u4e3a\u9ed8\u8ba4\u83dc\u5355\uff0cconditionalmenu\u4e3a\u4e2a\u6027\u5316\u83dc\u5355\u5217\u8868\u3002\u5b57\u6bb5\u8bf4\u660e\u8bf7\u89c1\u4e2a\u6027\u5316\u83dc\u5355\u63a5\u53e3\u9875\u7684\u8bf4\u660e\u3002 \n. ",
    "lichunqiang": "\u8fd8\u662f\u76ee\u524d\u5982\u679c\u4f7f\u75283.0\u7684\u8bdd\uff0c\u53ea\u80fd\u5b89\u88c5  overtrue/wechat\n. \u786e\u5b9e\u8003\u8651\u6b20\u4f73\uff0c\u4e0d\u8fc7\u53c8\u539a\u989c\u65e0\u803b\u7684\u6539\u4e86\u4e0b\u8fd9\u6bb5\u4ee3\u7801\n. \u7248\u672c3.0.16\uff0c\u8fd9\u6837\u914d\u7f6e\u6ca1\u6709\u6548\u679c\u3002\u6ca1\u6709\u5728\u4ee3\u7801\u91cc\u9762\u627e\u5230\u6709\u63d0\u53d6guzzle\u914d\u7f6e\u7684\u5730\u65b9\n. ",
    "krissss": "\u4e0d\u662f2.1\uff0c\u5c31\u662f3.0\u7684\n. [2016-01-19 05:52:29] easywechat.DEBUG: Current configuration: {\"debug\":true,\"app_id\":\"wx7dff301d2222e26d\",\"secret\":\"xxx\",\"token\":\"weixin\",\"log\":{\"level\":\"debug\",\"file\":\"common/runtime/easywechat.log\"},\"payment\":{\"merchant_id\":\"1304464111\",\"key\":\"wx7dff301d31d5e12d\",\"cert_path\":\"\",\"key_path\":\"\"}} []\n[2016-01-19 05:52:29] easywechat.DEBUG: Client Request: {\"url\":\"https://api.mch.weixin.qq.com/pay/unifiedorder\",\"method\":\"POST\",\"options\":{\"form_params\":\"<![CDATA[aaa]]><![CDATA[asd]]><![CDATA[asdasd]]>20160119055229100<![CDATA[http://xxx.com/order-notify]]>2016011905522920160119060229<![CDATA[JSAPI]]><![CDATA[ow-bOvjH7CpKQtxsvjJuRmg6-g-k]]><![CDATA[127.0.0.1]]><![CDATA[wx7dff301d31d5e26d]]>1304464001<![CDATA[]]>1453182749<![CDATA[569dcf1d85a27]]><![CDATA[E20DC1DBA3229C2D23FCF64131208094]]>\"}} []\n[2016-01-19 05:52:29] easywechat.ERROR: 2: http_build_query(): Parameter 1 expected to be Array or Object. Incorrect value given in C:\\soft\\WWW\\yua\\vendor\\guzzlehttp\\guzzle\\src\\Client.php on line 294. [] []\n[2016-01-19 05:52:29] easywechat.ERROR: 0: http_build_query(): Parameter 1 expected to be Array or Object. Incorrect value given in C:\\soft\\WWW\\yua\\vendor\\guzzlehttp\\guzzle\\src\\Client.php on line 294. [] []\n. \u4e0a\u9762\u662f\u9519\u8bef\u65e5\u5fd7\uff0c\u8c8c\u4f3c\u9519\u8bef\u53d1\u751f\u5728guzzle\u7684Http\u8bf7\u6c42\uff0c\u5b9e\u5728\u4e0d\u6653\u5f97\u4e3a\u4ec0\u4e48\u4e86 - -\n. \u8fd8\u771f\u662f\u8fd9\u6837  \u6211\u9519\u4e86\n. \u662f\u6700\u65b0\u7248\u672c\n$options = array_merge(self::$_weixin_options,[\n            'oauth' => [\n                'scopes'   => ['snsapi_base'],\n                'callback' => Url::to(['/we-chat/oauth-callback']),\n            ],\n        ]);\n\u8fd9\u662f\u914d\u7f6e\u4fe1\u606f\n\u7136\u540e\u5728oauth-callback\u4e0b\u4f7f\u7528\n$oauthUser = $oauth->user();\n1. $wxOpenId = $oauthUser->getId(); // \u8fd9\u4e2a\u83b7\u53d6\u5f97\u5230\u7684\u662fnull\uff0c\u5e76\u4e14\u62a548001\u9519\u8bef\n2. $wxOpenId = $oauthUser['token']['openid']; // \u8fd9\u4e2a\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5230\n. ",
    "greedying": "\u5e05\u54e5\uff0c\u8fd9\u4e2a\u95ee\u9898\u6700\u540e\u600e\u4e48\u89e3\u51b3\u7684\u5462. \u54e6\uff0c\u53ef\u80fd\u662f\u7248\u672c\u95ee\u9898\u5427\u3002\u6211\u73b0\u5728\u770b\u7684\u6587\u6863\u91cc\u5df2\u7ecf\u6ca1\u6709\u8fd9\u90e8\u5206\u4e86\uff0c\u548c\u8c03\u7528\u5176\u4ed6js \u63a5\u53e3\u4e00\u6837\n. \u554a\u554a\u554a\u554a\u554a\uff01\u8fc5\u731b. \u53ef\u4ee5\u641e\u4e2a\u670d\u52a1\uff0c\u4e13\u95e8\u53bb\u8bf7\u6c42token\u3002\u5f04\u4e2a\u6d88\u606f\u961f\u5217\u5565\u7684\u3002.  \u5176\u5b9e\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u4e3a\u4ec0\u4e48\u4f1a\u6709\u4e09\u4e2aphp\u8fdb\u7a0b\u53bb\u540c\u65f6\u62fftoken\u5462\u3002\u5e94\u8be5\u53ea\u4ea4\u7ed9\u4e00\u4e2a\u8fdb\u7a0b\u53bb\u505a\u8fd9\u4ef6\u4e8b\u3002 \n\u6211\u76f8\u4fe1\u5982\u679c\u8bf7\u6c42\u91cf\u5927\u4e86\uff0c\u505a\u8fd9\u4e48\u4e00\u4e2a\u8fdb\u7a0b\u4e0d\u662f\u95ee\u9898\u3002\u8bf7\u6c42\u91cf\u5c0f\u7684\u8bdd\uff0c\u4e0d\u7528\u7ba1\n\u6240\u8c13\u810f\u5199\u95ee\u9898\uff0c\u5176\u5b9e\u5355\u4e2a\u7ec4\u4ef6\u662f\u6ca1\u6cd5\u89e3\u51b3\u7684\uff0c\u56e0\u4e3a\u6ca1\u6cd5\u786e\u5b9a\u4f7f\u7528\u7684\u7f13\u5b58\u7c7b\u578b\uff0c\u4e5f\u5c31\u65e0\u6cd5\u786e\u4fdd\u7f13\u5b58\u7684\u8bfb\u53d6\u548c\u5199\u5165\u662f\u539f\u5b50\u7684\u3002\u8fd8\u662f\u8981\u4ece\u67b6\u6784\u4e0a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\n. \u8c22\u8c22\uff0c\u6cea\u5954\u3002\u8fd9\u4e48\u5feb\u5c31\u6709\u4eba\u56de\u590d\uff01. \u597d\u7684~ \u660e\u767d~ overtrue\u672c\u8eab\u7684\u4f7f\u7528\uff0c\u6211\u8fd8\u662f\u5f88\u719f\u7684\uff0c\u54c8\u54c8\u3002. \u597d\u7684\u3002\u8c22\u8c22. \u7ecf\u8fc7\u5b9e\u6d4b\uff0c\u6709\u4e24\u4e2a\u95ee\u9898\u3002\n1\u3001\u5b57\u6bb5\u4e0d\u540c\uff0c\u5bfc\u81f4\u90e8\u5206\u4ee3\u7801\u4e0d\u517c\u5bb9\u3002\u4f46\u8fd9\u4e2a\u53ef\u4ee5\u60f3\u529e\u6cd5\u7ed5\u8fc7\n2\u3001\u5c0f\u7a0b\u5e8f\u548c\u516c\u4f17\u53f7\u6a21\u677f\u6d88\u606f\u7684url\u4e0d\u540c\u3002 \u8fd9\u4e2a\u6ca1\u6cd5\u7ed5\u8fc7\uff0c\u9664\u975e\u6539\u4ee3\u7801\u6216\u8005\u81ea\u5df1fork\u4e00\u4efd. \u4f60\u8fd9\u4e2a\u662f\u65b0\u7684\u7248\u672c\u5427\uff0c\u672a\u53d1\u5e03\u7248\u672c\uff1f\u6211\u8fd8\u8bf4\u7684\u662f3.1. \u989d\u3002\u8fd8\u771f\u6709\uff0c\u8c22\u8c22\uff0c\u6211\u8bd5\u8bd5\u3002  \u6211\u770b\u6587\u6863\u91cc\u6ca1\u63d0\u5230\uff0c\u5c31\u4ee5\u4e3a\u6ca1\u6709. \u8fd8\u6709\u8fd9\u4e2a\u51fd\u6570\uff01\u8d5e\u554a. \u540c\u95ee\uff0c\u8fd9\u4e2a\u6709\u65f6\u95f4\u70b9\u4e48~\n. H5\u652f\u4ed8\u65e9\u5c31\u6709\u7684\u3002\u5f00\u653e\u4e86\uff1f. \u5b98\u65b9\u662f\u6307\u7684\u5fae\u4fe1\u5b98\u65b9\uff1f \u90a3\u5b98\u65b9\u7ed9\u662f\u6709\u7684. \u600e\u4e48\u89e3\u51b3\u7684\uff1f\u83ab\u975e\u662f\u81ea\u5df1\u5f04\u4e2a$_GET \uff1f . \u67e5\u770b\u4e86\u4e0bjson_encode\u7684\u9519\u8bef\uff0c\u663e\u793a  \"Malformed UTF-8 characters, possibly incorrectly encoded\u201d\u3002\n\u5373\u4e3a\u7f16\u7801\u95ee\u9898\u3002\n\u7136\u800c\u6211\u6240\u6709\u6587\u4ef6\u3001\u6570\u636e\u5e93\u90fd\u662futf8\u683c\u5f0f\uff0c\u4e14\u6b64\u7a0b\u5e8f\u6b63\u5e38\u8fd0\u8f6c\u591a\u65e5\uff0c\u56e0\u6b64\u5b9e\u9645\u539f\u56e0\u8fd8\u662f\u4e0d\u5f97\u800c\u77e5\u3002\u3002\u3002. https://stackoverflow.com/questions/46305169/php-json-encode-malformed-utf-8-characters-possibly-incorrectly-encoded\n\u641e\u5b9a\u4e86\u3002\u5e94\u8be5\u662f\u90e8\u5206\u5b57\u7b26\u4e0d\u662futf8\u6570\u636e\uff0c\u5373\u4f7f\u6570\u636e\u5e93\u683c\u5f0f\u662futf8. \u6700\u540e\u53d1\u73b0\uff0c\u662f\u7528\u4e86trim\u51fd\u6570\uff0c\u628a\u6c49\u5b57\u622a\u65ad\u4e86\u3002\u3002\u3002\u2299\ufe4f\u2299b\u6c57. \u5728composer.json\u91cc\u9762\u624b\u52a8\u6539\u4e00\u4e0b easywechat\u7684\u7248\u672c\uff0c\u7136\u540ecomposer update.  \u54e6~~~\u8fd9\u6837\u554a\u3002\u8c22\u8c22\u3002\u6211\u4e0d\u77e5\u9053\u903b\u8f91\u662f\u4e0d\u662f\u4e00\u6837\u7684\uff5e. \u8fd9\u6837\uff1f. ",
    "Liu-xu-dong": "\u597d\u65e9\u4e86\u628a\uff0c\u73b0\u5728\u90fd\u51fa\u67654\u4e86\uff0c\u4f60\u8fd8\u770b2.0\u7684\u554a\u3002. ",
    "BelinChung": "So \u00a0so sorry.\u6211\u662f\u524d\u7aef\u5de5\u7a0b\u5e08\uff0c\u8fd9\u51e0\u5929\u79c1\u4eba\u9879\u76ee\u91cc\u81ea\u5df1\u5199PHP..\u4ee5\u524d\u9879\u76ee\u89c4\u8303\u5b57\u7b26\u4e32\u90fd\u5fc5\u987b\u662f\u5355\u5f15\u53f7\u7684\uff0c\u5199PHP\u7684\u65f6\u5019\u5199\u987a\u624b\u4e86\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u8fd9\u4e2a\u539f\u56e0\u3002\n        \u57282016\u5e7401\u670825\u65e5 20:37\uff0c\u5b89\u6b63\u8d85 \u5199\u9053:@BelinChung \u521a\u521a\u8bd5\u4e86\u4e00\u4e0b\uff1a\n$data = [\n     \"first\"    => \"\u606d\u559c\u4f60\\n\u8d2d\u4e70\u6210\u529f\uff01\",\n     \"name\" => \"\u5de7\u514b\u529b\",\n     \"price\" => \"39.8\u5143\",\n     \"remark\"   => \"\u6b22\u8fce\u518d\u6b21\u8d2d\u4e70\uff01\",\n];\n\u6ca1\u5565\u95ee\u9898\uff1a\n\u2014Reply to this email directly or view it on GitHub.\n. ",
    "chanpunlap": "https://github.com/overtrue/wechat/wiki/\u6d88\u606f\u7684\u4f7f\u7528\nWiki\u4e0a\u5199\u4e86\u6709link\u7684\u7c7b\u578b\uff0c\u6e90\u7801message\u4e0b\u4e5f\u6709link.php\n. @overtrue sorry\uff0c\u770b\u6f0f\u4e86\n. ",
    "zhangweilun": "\u5b89\u629a\n. ",
    "terranc": "\u540c\u6837\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u662f\u600e\u4e48\u89e3\u51b3\u7684\u5440\uff1f. ",
    "nextglory": "\u8c03\u7528$menu->test($uid); \u540c\u6837\u51fa\u73b0\n\nno such user \n\nWhy?\n. menu->all()\nmenu->add()\nmenu->current()\n\u5747\u6b63\u5e38\uff0c\u4e5f\u80fd\u770b\u5230\u65b0\u589e\u7684conditionalmenu\uff0c\u4f46\u8c03\u7528menu->destroy('402610080 '),\u51fa\u73b0\u627e\u4e0d\u5230\u7684\u60c5\u51b5\uff0c$menu->test($uid); \u4e5f\u51fa\u73b0\u7c7b\u4f3c\u60c5\u51b5\uff0c\u4ec0\u4e48\u539f\u56e0\uff1f\n. ",
    "chao": "\u61d2\u4e86\uff0c\u4e0b\u6b21\u76f4\u63a5PR\u3002\n. \u5fae\u4fe1\u786e\u5b9e\u592a\u64cd\u86cb\uff0c\u4e0d\u4ec5\u4e0d\u7ed9\u6587\u4ef6\u540d\uff0c\u8fd8\u8fde\u6b63\u786econtent type \u90fd\u4e0d\u7ed9\u3002\n@hareluya \u89c6\u9891\u7ed9\u94fe\u63a5\u5176\u5b9e\u662f\u4e00\u4e2a\u9875\u9762\uff0c\u771f\u8981\u4e0b\u8f7d\u53ea\u6709\u81ea\u5df1\u89e3\u6790\u5185\u5bb9\uff0c\u6293\u53d6\u4e86\u3002\u3002\u3002\u3002\n. @overtrue \u5c06\u6765Guard\u4e2d\u80fd\u4e0d\u80fd\u589e\u52a0\u4e00\u4e2asetRequest\u7684\u65b9\u6cd5\uff1f\u4e0d\u7136\u5728Laravel\u4e2d\u8fd8\u6709\u4ec0\u4e48\u529e\u6cd5\u80fd\u4e0d\u6539\u4ee3\u7801\u4f20\u8fdb\u53bb\uff1f\n. \u8c22\u8c22\uff01\n. \u662f\u8fd9\u6837\u7684\u3002\u6211\u8981\u628a\u4e8c\u7ef4\u7801\u56fe\u7247\u4fdd\u5b58\u5230S3\u4e0a\u53bb\uff0cSteamResponse\u6ca1\u6709\u529e\u6cd5\u8fd4\u56de\u56fe\u7247\u5185\u5bb9\uff08\u7406\u60f3\u7684\u65b9\u5f0f\u662fSteamResponse\u80fd\u5b9e\u73b0PSR-7\u7684StreamInterface\uff09\uff0c\u6240\u4ee5\u6211\u628a\u56fe\u7247\u5148\u5b58\u5728\u672c\u5730\u7684\u4e34\u65f6\u6587\u4ef6\u5939\u518d\u62f7\u8d1d\u5230S3\u3002\n\u6211\u5148\u7528uniqid \u751f\u6210\u4e86\u4e00\u4e2a\u968f\u673a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u7136\u540e\u4f7f\u7528saveAs\u7684\u65b9\u6cd5\u4fdd\u5b58\u4e8c\u7ef4\u7801\u56fe\u7247\u6210\u529f\uff0c\u4f46\u662f\u5728\u8bfb\u53d6\u65f6\u5019\u5374\u8bf4\u627e\u4e0d\u5230\u8fd9\u4e2a\u6587\u4ef6\u3002\u540e\u6765\u624d\u53d1\u73b0\u81ea\u52a8\u589e\u52a0\u4e86\u6269\u5c55\u540d.jpg\u3002\u8fd9\u548c\u901a\u5e38\u7684\u9884\u671f\u6709\u51fa\u5165\uff0c\u4e00\u822c\u4fdd\u5b58\u51fd\u6570\u6307\u5b9a\u6587\u4ef6\u540d\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u589e\u52a0\u6269\u5c55\u540d\u7684\u3002\n\u8003\u8651\u5230\u73b0\u5728\u6846\u67b6\u4f7f\u7528\u7684\u4eba\u4e0d\u5c11\uff0c\u6539\u6389\u8fd9\u4e2a\u51fd\u6570\u53ef\u80fd\u5b58\u5728\u4e0d\u5c0f\u98ce\u9669\uff0c\u5efa\u8bae\u589e\u52a0\u7b2c\u4e09\u4e2a\u53c2\u6570\uff08\u53ef\u9009\uff09\u8bbe\u7f6e\u662f\u5426\u81ea\u52a8\u589e\u52a0\u6269\u5c55\u540d\uff08\u9ed8\u8ba4\u81ea\u52a8\u589e\u52a0\uff09\uff0c\u6216\u8005\u4fee\u6539\u4e0b\u6587\u6863\u63d0\u9192\u4e0b\u5f00\u53d1\u8005\u3002\n\u611f\u8c22\u5f00\u53d1\u7684SDK\uff0c\u7528\u4e86\u597d\u51e0\u5e74\u4e86\u3002\u8bbe\u8ba1\u7684\u5f88\u597d\uff0c\u5e0c\u671b\u80fd\u66f4\u4e0a\u4e00\u5c42\u697c\u3002. ",
    "stan415": "\u8bf7\u95ee\u8fd9\u4e2a\u95ee\u9898\u89e3\u51b3\u4e86\u5417\uff1f\n. @overtrue \u8ddf\u4e0a\u9762\u4e00\u6837\u7684\uff0c\u4e0a\u4f20\u89c6\u9891\u7d20\u6750\u5fae\u4fe1\u90a3\u8fb9\u4e0d\u8fd4\u56demedia_id,checkAndThrow\u4f1a\u62a5\u8fd9\u4e2a\u9519\nArgument 1 passed to EasyWeChat\\Core\\AbstractAPI::checkAndThrow() must be of the type array, boolean given. ",
    "xjchengo": "StyleCI\u7684\u9519\u8bef\u8be6\u60c5\u6253\u5f00\u600e\u4e48\u662f\u7a7a\u767d\u5f97\n. ",
    "mengjiaqi": "@overtrue \u597d\u7684\uff0c\u4e0d\u597d\u610f\u601d\uff0c\u51cc\u6668\u56f0\u5f97\u4e0d\u884c\uff0c\u64cd\u4f5c\u5931\u8bef\n. ",
    "royen-go": "\u627e\u5230\u539f\u56e0\u4e86\uff0c\u8bf7\u6c42\u7684\u65f6\u5019\u6ca1\u6709\u4f20CURLOPT_SSLCERT\uff0cCURLOPT_SSLKEY\u3002\u5f53\u7136out_refund_no\u8fd9\u4e2a\u53c2\u6570\u8fd8\u662f\u8981\u4f20\u7684\u3002\n\u6211\u6d4b\u8bd5\u7684\u65f6\u5019\u4fee\u6539\u4e86EasyWeChat\\Core\\Http\u7684post\u65b9\u6cd5\u540e\u7533\u8bf7\u9000\u6b3e\u6210\u529f\u3002  \u770b\u770b\u8fd9\u4e2a\u8fd9\u4e24\u4e2a\u53c2\u6570\u600e\u4e48\u4f20\u5427\u3002\ud83d\ude04\nphp\n public function post($url, $options = [])\n    {\n        $key = is_array($options) ? 'form_params' : 'body';\n        return $this->request($url, 'POST', [$key => $options ,'cert'=>'/var/sites/cert.pem' , 'ssl_key'=>'/var/sites/key.pem']);\n    }\n. ",
    "zeasly": "\u4e3a\u4ec0\u4e48\u628a\u95ee\u9898\u5173\u95ed\u4e86\u5462 \u6211\u4e5f\u9047\u5230\u4e86. ",
    "skyfister": "\u4e0d\u662f\u54c8\uff0c\u662f\u4e0d\u540c\u8ba2\u5355\u8fde\u7eed\u9000\u6b3e\uff0c\u67e5\u770b\u4e86\u4e0b\u6e90\u4ee3\u7801\uff0c\u5bf9\u7b7e\u540d\u90a3\u5757\u513f\u4e0d\u662f\u5f88\u7406\u89e3\uff0c\u540c\u6837\u7684\u53c2\u6570\uff0c\u5728\u9000\u6b3e\u961f\u5217\u4e2d\u6392\u7b2c\u4e00\u548c\u6392\u7b2c\u4e8c\u4e2a\u751f\u6210\u7684\u7b7e\u540d\u4e0d\u4e00\u6837\uff0c\u662f\u4e0d\u662f\u8ddfstatic:params\u9759\u6001\u53d8\u91cf\u6709\u5173\uff1f\u4e5f\u5c31\u662f\u4e00\u6b21\u9000\u6b3e\u4e00\u4e2a\u8ba2\u5355\u80fd\u6210\u529f\uff0c\u8fde\u7eed\u9000\u4e24\u4e2a\u8ba2\u5355\u7b2c\u4e8c\u4e2a\u5c31\u4f1a\u5931\u8d25\uff0c\u7b7e\u540d\u786e\u5b9e\u4e0d\u4e00\u6837\uff01\n. @overtrue \u4ea7\u54c1\u8981\u4e0a\u7ebf\u4e86\uff0c\u6709\u70b9\u6765\u4e0d\u53ca\uff0c\u652f\u4ed8\u90e8\u5206\u662fthenbsp\u8fd9\u4f4d\u4ec1\u5144\u5199\u7684\uff1f\n. @overtrue \u597d\u7684\uff0c\u8c22\u54af\n. @jaring \u611f\u8c22\uff01Good Job\n. @overtrue \u597d\u7684\uff0c\u518d\u6b21\u611f\u8c22\uff01\n. ",
    "vangogogo": "json\u8f6c\u6362\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\uff0c\u597d\u5947\u602a\uff0c\u54ea\u91cc\u59ff\u52bf\u4e0d\u5bf9\u5417\uff1f\n\n. ",
    "alwaystrong": "\u4eca\u5929\u4e5f\u9047\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u7b7e\u540d\u7684\u5730\u5740\u9700\u8981\u62fc\u63a5oauth\u8fc7\u7a0bcode\u548cstate\uff0c\u5426\u5219\u4f1a\u6709\u9519\u8bef\uff1aeidt_ address\uff1afail\u6216\u8005eidtAddress\uff1afail_auth_error\n. \u597d\u3002\u8c22\u8c22\u3002\u591a\u8c22\u6307\u70b9\u3002\n. \u53ea\u662f\u793a\u4f8b\u3002xxx.com\n. \u6211\u8bd5\u4e86\u4e00\u4e2a\u4e0a\u5348\uff0c\u975e\u5e38\u56f0\u60d1\u3002\n\u4f7f\u7528\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u6388\u6743\u662f\u53ef\u4ee5\u7684\u3002\nif (empty($_GET['code'])) {\n            $currentUrl = UrlHelper::current(); // \u83b7\u53d6\u5f53\u524d\u9875 URL\n            $response = $this->wechat->oauth->scopes(['snsapi_userinfo'])->redirect($currentUrl);\n            return $response; // or echo $response;\n        }\n. @overtrue \u662f\u7528\u7684\u4f60\u4e0a\u9762\u7684 UrlHelper::current()\u3002\n\u6211\u73b0\u5728\u6000\u7591\u662f\u6211\u6b63\u5f0f\u7684\u670d\u52a1\u5668\u7f3a\u5c11ssl \u8bc1\u4e66\uff0c\u5bfc\u81f4\u4f7f\u7528\u4e2d\u95f4\u4ef6session\u65f6\u51fa\u73b0\u4e86\u95ee\u9898\u3002\n\u539f\u56e0\u5982\u4e0b\uff1a\n1. \u56e0\u4e3a\u6211\u4f7f\u7528\u4e2d\u95f4\u4ef6\u6bcf\u6b21\u8fdb\u5165\u90fd\u8981\u8d70\u6388\u6743\uff0c\u8bf4\u660esession\u6ca1\u8d77\u4f5c\u7528\u3002\n2. \u73b0\u5728\u5ffd\u7136\u4f1a\u62a5\u4e00\u4e2aCA\u8bc1\u4e66\u7684\u9519\n\n. @overtrue \u5b89\u795e\uff0c\u8c22\u4e86\u3002\u90a3\u4e2a\u65f6ca\u8bc1\u4e66\u95ee\u9898\uff0c\u8fd9\u53f0\u670d\u52a1\u5668\u662f\u522b\u7684\u5144\u5f1f\u914d\u7684\uff0c\u6ca1\u8bc1\u4e66\u3002\u88c5\u4e86\u4e00\u4e2a\u5c31\u597d\u4e86\u3002\u591a\u8c22\u4e86\n. @lideshun123 apt-get install ca-certificates\n. \u6211\u4f7f\u7528 postman \u662f\u53ef\u4ee5\u83b7\u53d6\u5230\u4e00\u5f20\u4e8c\u7ef4\u7801\u56fe\u7247\uff0cheaders \u4fe1\u606f\u5982\u56fe\uff0c\u4e0d\u77e5\u9053\u5bf9\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6709\u6ca1\u6709\u5e2e\u52a9\n\n. \u591a\u8c22\uff01\u5df2\u7ecf\u53ef\u4ee5\u4e86\uff0c\u662f\u8981\u8d76\u5feb\u5408\u5e76\u4e0a\u53bb\u54c8. \u5c0f\u7a0b\u5e8f\u7801\u8fd8\u771f\u4e0d\u597d\u53d6\u540d\uff0c\u5fae\u4fe1\u90a3\u8fb9\u662f\u7528\u7684\u8fd9\u4e2a wxacode \uff0c\u5f88\u5947\u602a\u7684\u540d\u5b57\uff0c\u4f30\u8ba1\u662f weixin application code\n@mingyoung . \u8d85\u54e5\uff0c\u662f\u8fd9\u6837\uff0c\u6211\u81ea\u5df1\u53d1\u7684\u8bf7\u6c42\u6211\u4f1a\u628a\u6211\u7684\u5546\u6237\u53f7\u4fe1\u606f\u4f20\u8fc7\u6765\uff0c\u6211\u662f\u6839\u636e\u5546\u6237\u53f7\u53bb\u53d6\u5bf9\u5e94\u7684\u914d\u7f6e\u6765\u751f\u6210 payment\uff0c\u800c\u8fd9\u4e2a\u662f\u5fae\u4fe1\u7684\u901a\u77e5\uff0c\u5546\u6237\u53f7\u6709\u4ec0\u4e48\u529e\u6cd5\u77e5\u9053\uff1f. ",
    "JellyBool": "\u672c\u6765\u4e5f\u60f3\u63d0\u4e2aissue\u7684\uff0c\uff08\u7528\u6237\u53cd\u6620\uff0c\u6211\u770b\u4e86\u4e00\u4e0b\u6e90\u7801\uff09\u597d\u50cf\u9047\u5230\u4e86\u4e00\u6837\u7684\u95ee\u9898,\u8c8c\u4f3c\u662f\u7531\u4e8e\n$signParams = [\n            'appid' => $params['appId'],\n            'url' => UrlHelper::current(),\n            'timestamp' => $params['timeStamp'],\n            'noncestr' => $params['nonceStr'],\n            'accesstoken' => $accessToken,\n        ];\n\u8fd9\u4e2a UrlHelper::current()\u5f15\u8d77\u7684\uff0c\u6839\u636e\u5fae\u4fe1\u7684\u6587\u6863\uff0c\u6211\u4eec\u5e94\u8be5\u8fd8\u662f\u8981CODE\u548cSTATE\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u6700\u540e\u7684url\u4f1a\u662f\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff1a\nurl=http://open.weixin.qq.com/?code=CODE&state=STATE \n//\u6240\u4ee5\u5728\u8fd9\u91cc\u57fa\u672c\u4e0a\u89e3\u51b3\u7684\u95ee\u9898\u662f\uff1aUrlHelper::current()\u5e26\u4e0aCODE\u548cSTATE\n\u6587\u6863\u5730\u5740\uff1a https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_8&index=7\n. ",
    "zuoa": "\u627e\u5230\u8bf4\u660e\u4e86\nhttps://easywechat.org/docs/zh-cn/troubleshooting.html\n. ",
    "104260033": "access_token \u8fc7\u671f\u95ee\u9898\uff0c\u73b0\u5728\u662faccess_toekn\u8fc7\u671f\u4e0d\u4f1a\u81ea\u52a8\u53bb\u8bf7\u6c42\u5237\u65b0\uff0c\u9700\u8981\u8ba4\u4e3a\u7684\u5220\u9664session\n. \u80fd\u544a\u8bc9\u6211\u4e0b\u5728\u54ea\u91cc\u561b\uff0c\u6211\u73b0\u5728\u53d1\u73b0\u4f1a\u8fd9\u6837\n. \u8c22\u8c22\uff0c\u6211\u67e5\u770b\u4e0b\n. if (!$this->accessToken) {\n                return $handler($request, $options);\n            }\u770b\u5230\u8fd9\u91cc\u5c31\u662f\u4ece\u65b0\u6ce8\u518c\u7684\u5bf9\u561b\n\u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff0c\u73b0\u5728accessToken  \u8fc7\u671f\uff0c$this->accessToken \u4e5f\u80fd\u83b7\u53d6\u5230\uff0c\u6240\u4ee5\u5c31\u4e0d\u4f1a\u8fdb\u53bb\u66f4\u65b0\n. ",
    "deathkel": "laravel\u6211\u770b\u4e86\u4e0b\uff0c\u5c31\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u5427\uff0c\u6211\u81ea\u5df1\u5b9e\u73b0\u4e86\u90a3\u4e2a\u529f\u80fd\u3002\u8ddf\u539f\u751f\u7684session\u6ca1\u5173\u7cfb\u5427\n. \u6211\u8bd5\u8bd5\n. ",
    "zxz054321": "\u611f\u8c22\uff0c\u95ee\u9898\u5df2\u5b9a\u4f4d\n\u662f\u56e0swoole\u670d\u52a1\u5668\u4e0bfile_get_contents('php://input')\u53d6\u4e0d\u5230\u503c\u5bfc\u81f4\nhttps://github.com/zxz054321/aurora/blob/master/app/Foundation/Server.php#L79\n. > Mac \u7528\u6237\u8868\u793a\u8fd8\u597d\n\n\n\niMac+Firefox\u7528\u6237\u8868\u793a\u773c\u8981\u778e\u2026\u2026\n\niMac (Retina 4K, 21.5-inch, Late 2015)\nFirefox 62.0.3 (64 \u4f4d)\n. \n",
    "huijimuhe": "\u8bf7\u95ee\u6211\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u641e2\u5929\u4e86\u3002\n\u6211\u7684\u73af\u5883\u662f2.1\uff0claravle4.2.\nUnifiedOrder-\u300bgetResponse\u63d0\u793a\u7b7e\u540d\u9519\u8bef\uff0c\u6211\u628arequest\u6253\u5370\u51fa\u6765\u548c\u5fae\u4fe1\u7684api\u7b7e\u540d\u68c0\u67e5\u5de5\u5177\u6838\u5bf9\u4e86\uff0c\u5b8c\u5168\u4e00\u6a21\u4e00\u6837\u3002\n\u8bf7\u95ee\u6709\u4eba\u9047\u5230\u8fc7\u8fd9\u4e2a\u5751\u4e48\n. 2.1\n. @Liv1020 \u8bf7\u95ee\u4f60\u89e3\u51b3\u6ca1\u6709 \uff1f\n. ",
    "Geniusbabypandas": "\u6211\u6765\u5b66\u4e60\u4e00\u4e0b\n. ",
    "cevin": "3.0.18 \u4e5f\u78b0\u5230\u7b7e\u540d\u9519\u8bef\u7684\u95ee\u9898\n. ",
    "samplecmsv1": "key\u8fd9\u4e2a\u53c2\u6570 \u8bf7\u95ee\u5982\u4f55\u7b7e\u540d\u5462\uff1f\n. \u9047\u5230\u540c\u6837\u7684\u95ee\u9898\u3002\n```\n function index(){\n    $options = [\n    'app_id'    => $this->config['app_id'],\n    'secret'    => $this->config['secret'],\n    'token'     => $this->config['token'],\n    'debug'     => true,\n    'log' => [\n        'level' => 'debug',\n        'file'  => RUNTIME_PATH.'/easywechat.log',\n    ],\n\n];\n\n\n$app = new Application($options);\n$server = $app->server;\n\n$server->setMessageHandler(function ($message) {\n    return \"\u60a8\u597d\uff01\u6b22\u8fce\u5173\u6ce8\u6211!\";\n});\n\n\n$server->serve()->send();\n\n}\n```\n\u65e5\u5fd7\u91cc\u9762\u6ca1\u6709\u663e\u793a\u9519\u8bef \n\n        [2016-06-16 19:03:43] easywechat.DEBUG: Current config: {\"app_id\":\"_2e3f7\",\"secret\":\"_d436f\",\"token\":\"wstaichi\",\"debug\":true,\"log\":{\"level\":\"debug\",\"file\":\"/Sr/mm.asew.com/public/../runtime//easywechat.log\"}} []\n[2016-06-16 19:03:43] easywechat.DEBUG: Request received: {\"Method\":\"POST\",\"URI\":\"/weichat/index/index.html?signature=bb69bad62240a69b1228a4287b3e310e1650e32c&timestamp=1466075023&nonce=1695624170&openid=orohDuFZmnFKHPandDiXJv4H7yeo&encrypt_type=aes&msg_signature=f3230820166883ed86127b82dede670cc1dab202\",\"Query\":\"encrypt_type=aes&msg_signature=f3230820166883ed86127b82dede670cc1dab202&nonce=1695624170&openid=orohDuFZmnFKHPandDiXJv4H7yeo&signature=bb69bad62240a69b1228a4287b3e310e1650e32c&timestamp=1466075023\",\"Protocal\":\"HTTP/1.0\",\"Content\":\"\\n    <![CDATA[gh_51c13d9e2c0d]]>\\n    <![CDATA[orohDuFZmnFKHPandDiXJv4H7yeo]]>\\n    1466075023\\n    <![CDATA[text]]>\\n    <![CDATA[t]]>\\n    6296744277679679315\\n    <![CDATA[BHPJXAOW9Fh8PI1bMDqokdA/02V8G14x4ReuilMNwIWk5K9ARnGy9n49qtQVL+YwsVFWyMXLQGtjaB6RcJX5+mPGPknEHO+0R2gjMfZUl0Xly/yjii42Lr4Lmybk+saMh2atna7FjmeJv4AutAOIk2CcN9TQxRyXPC5I67Kph2z/CDNfud9Tyt9qHfw1U074MyMq2/L+MEpxVkfXyQLUmvlK3kotZM9xdINvqitV5bvE9jThyIDyCbpSUV8YPISG4mqRMV2kkhusvrYTuZD0R+tCg7sNqlgQNoj+BpcEvlsN7M+hq/SMFKTW3l5mUL5aRDj4VTVJbs4CvHsgatGE6NkLN0mLqPeLXwhUOzdP7ni8Mf8RlZUpXTfVdiEU3KRVjMN6KtAyx40RJ3U5SZ4IySqEzdM9Smkn7jfr08+um3Q=]]>\\n\\n\"} []\n\n. \u76f4\u63a5\u6309\u624b\u518c\u5199\u51fa\u73b0\u8fd9\u6837\u7684\u63d0\u793a\u3002\u662f\u54ea\u91cc\u5199\u9519\u4e86\u5417\uff1f\n. \u8981\u52a0\u4e2a['aes'] \u5efa\u8bae\u624b\u518c\u91cc\u9762\u52a0\u4e00\u4e0b\n. ",
    "RubyRyuu": "\u652f\u4ed8sdk\u672a\u53d1\u73b0\u95ee\u9898\uff0c\u6211\u7528\u7740\u5f88\u597d\uff0c\u4e00\u5207\u987a\u7545\uff0c\u4ece\u672a\u51fa\u8fc7\u9519\u8bef\u3002\n\u6211\u4f30\u8ba1\u4f60\u4eec\u8fd8\u662f\u7528\u7684\u4e0d\u5bf9\u3002\n. \u6211\u786e\u5b9a\uff0c\u627e\u8fd9\u4e2a\u5730\u65b9\uff0c\u627e\u4e864~5\u4e2a\u5c0f\u65f6\u3002\n\u7136\u540e\u5355\u72ec\u5199\u4e86\u6587\u4ef6\uff0c\u5206\u522b\u7528hhvm\u548cphp\u8dd1\u8fc7\u4e86\u6d4b\u8bd5\u3002\n\u7ec8\u4e8e\u53d1\u73b0\u662f\u8fd9\u91cc\u51fa\u4e86\u95ee\u9898\u3002\n. ",
    "yaoshanliang": "\u6211\u4e5f\u662f\u54ce\uff0c\u7edf\u4e00\u4e0b\u5355\u7b7e\u540d\u9519\u8bef\uff0c\u8bd5\u4e86\u8ddf\u5fae\u4fe1\u5de5\u5177\u7684\u7b7e\u540d\u6bd4\u8f83\u4e86\uff0c\u4e00\u6837\u7684\u3002\n\u7248\u672c\uff1a3.3.15\n@overtrue . \u5728\u7ebf\u7b49. ",
    "xifat": "\u662f\u5728\u6784\u9020\u51fd\u6570\u91cc\u9762\u8bbe\u7f6e\u4e48\uff1f\n. \u6211\u60f3\u8981\u628ajs ticket \u548caccesstoken \u5199\u5165redis \u600e\u4e48\u64cd\u4f5c\u5462 @overtrue \n. \u597d\u7684,\n\u53e6\u5916FromUserName \u548cToUserName \u662f\u5426\u5bf9\u8c03\u4e86\u5462\uff0c\u8981\u624b\u52a8\u6307\u5b9a\u4e48\uff1f\n$server->serve()->send(); \u5728\u5fae\u4fe1debug\u8c03\u8bd5\u4e0a\u56de\u590d\u7684\u662f\u4e0a\u9762\u7684xml \uff0c\u5bfc\u81f4\u5728\u5fae\u4fe1\u4e0a\u6ca1\u6536\u5230\u6d88\u606f\u3002\n\u662f\u4e0a\u9762\u90a3\u4e2axml\u7684\u683c\u5f0f\u95ee\u9898\u4e48\u3002\u6211\u5bf9\u6bd4\u4e86\u4e00\u4e0bContent \u591a\u4e86<![CDATA[ !]; \n. \u95ee\u9898\u5df2\u89e3\u51b3,\u5f04\u9519\u4e86\uff01\uff01 @overtrue  \u611f\u8c22\u8fd9\u4e48\u597d\u7684\u5e94\u7528\u6269\u5c55\n. ",
    "xiabeifeng": "\u4f60\u597d\uff0c\u5728\u5417\uff1f\n\u6211\u8fd9\u8fb9\u4fee\u6539\u7684\u6d4b\u8bd5\u4ee3\u7801\u4f9d\u8d56#384\u5408\u5e76\u5230master\uff0c\u6240\u4ee5\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\u4e86\uff0c\u5e2e\u5fd9\u628a#384\u5408\u5e76\u4e0b\u54e6\n. @overtrue \n. ",
    "eastonqiu": "@overtrue \u7528redis\u548c\u7528\u666e\u901a\u7684\u6587\u4ef6\u6216\u6570\u636e\u5e93\u5b58\u50a8\u5bf9\u4e8eaccess token\u5e76\u53d1\u66f4\u65b0\u8fd9\u79cd\u573a\u666f\u4f1a\u6709\u4ec0\u4e48\u4e0d\u540c\u5417\uff0c\u8c22\u8c22\uff5e\n. ",
    "lideshun123": "@alwaystrong  \u80fd\u4e0d\u80fd\u628a\u4e0b\u8f7d\u8bc1\u4e66\u7684\u5730\u5740 \u53d1\u7ed9\u6211\u4e00\u4e0b \u6211\u4e5f\u9047\u4e0a\u8fd9\u4e2a\u95ee\u9898 \u5728\u4ec0\u4e48\u5730\u65b9\u4e0b\u8f7d\u8bc1\u4e66\u5462\n. ",
    "fathoo": "\u5728\u6700\u65b0\u7248\u4e2d\u7684 configForJSSDKPayment\u4e2d,\u8fd9\u4e24\u53e5 $config['timestamp'] = $config['timeStamp'];\nunset($config['timeStamp']);\u5e94\u8be5\u6ce8\u91ca\u6389\u5427,\u56e0\u4e3a\u5fae\u4fe1\u652f\u4ed8\u6587\u6863\u4e0a\u662ftimeStamp\u5927\u5199\u7684\n. ",
    "xiejianxuan5": "@overtrue \u591a\u8c22\u56de\u590d\u3002\u5df2\u7ecf\u89e3\u51b3\uff01\u591a\u4e2a\u5305\u4e2d\u90fd\u7528\u5230\u4e86\u5b83\u3002\u6bcf\u4e2a\u91cc\u9762\u7684\u7248\u672c\u90fd\u4e00\u6837\u3002\u6211\u66f4\u65b0\u4e86\u3002\n. ",
    "chaegumi": "\u6211\u4e5f\u521a\u770b\u5230\u8fd9\u4e2a\u4ee3\u7801\uff0c3.1\u7248\u4e2dfuck\u7684\u4e0d\u591f\u5f7b\u5e95\u5440. ```php\nuse Doctrine\\Common\\Cache\\PredisCache;\n$predis = app('redis')->connection();// connection($name), $name \u9ed8\u8ba4\u4e3a default\n$cacheDriver = new PredisCache($predis);\n$app->cache = $cacheDriver;\n```\n\u7528\u4e86\u8fd9\u79cd\u65b9\u6cd5\u4e4b\u540e\uff0c\u62a5\u522b\u7684\u9519\u8bef:Doctrine/Common/Cache/PredisCache.php(39): unserialize('\\x00\\x00\\x00\\x02\\x11\\x9D11_NMhbeF...')\n[2018-06-23 18:00:39] local.ERROR: ErrorException: unserialize(): Error at offset 0 of 163 bytes in /home/app/apps/xxx/vendor/doctrine/cache/lib/Doctrine/Common/Cache/PredisCache.php:39\n\u662f\u56e0\u4e3a\u6709\u4e2d\u6587\u7f16\u7801\u5417\uff1f\n\u611f\u89c9\u8fd9\u6837\u662f\u53ef\u884c\u7684\uff0c\u89e6\u53d1\u5230\u4e86cache\uff0c\u53ea\u662f\u62a5\u9519\u4e86\uff0c\u662f\u5728$app->user\u7684\u65f6\u5019. @mingyoung \u6709\u7684\uff0claravel\u7684log\u8bb0\u5f55\u5230\u4e86. \u641c\u7d22\u4e0d\u5230\u7b54\u6848\n```php\n[2018-06-23 18:00:39] local.ERROR: ErrorException: unserialize(): Error at offset 0 of 163 bytes in /home/app/apps/xxxx.com/vendor/doctrine/cache/lib/Doctrine/Common/Cache/PredisCache.php:39\nStack trace:\n0 [internal function]: Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(8, 'unserialize(): ...', '/home/app/apps/...', 39, Array)\n1 /home/app/apps/xxxx.com/vendor/doctrine/cache/lib/Doctrine/Common/Cache/PredisCache.php(39): unserialize('\\x00\\x00\\x00\\x02\\x11\\x9D11_NMhbeF...')\n2 /home/app/apps/xxxx.com/vendor/doctrine/cache/lib/Doctrine/Common/Cache/CacheProvider.php(78): Doctrine\\Common\\Cache\\PredisCache->doFetch('[easywechat.ope...')\n3 /home/app/apps/xxxx.com/vendor/overtrue/wechat/src/Core/AccessToken.php(116): Doctrine\\Common\\Cache\\CacheProvider->fetch('easywechat.open...')\n4 /home/app/apps/xxxx.com/vendor/overtrue/socialite/src/Providers/WeChatOpenPlatformProvider.php(119): EasyWeChat\\Core\\AccessToken->getToken()\n5 /home/app/apps/xxxx.com/vendor/overtrue/socialite/src/Providers/WeChatOpenPlatformProvider.php(96): Overtrue\\Socialite\\Providers\\WeChatOpenPlatformProvider->componentAccessToken()\n6 /home/app/apps/xxx.com/vendor/overtrue/socialite/src/Providers/WeChatProvider.php(100): Overtrue\\Socialite\\Providers\\WeChatOpenPlatformProvider->getTokenFields('081YNxRj2lScHG0...')\n7 /home/app/apps/xxx.com/vendor/overtrue/socialite/src/Providers/AbstractProvider.php(185): Overtrue\\Socialite\\Providers\\WeChatProvider->getAccessToken('081YNxRj2lScHG0...')\n8 /home/app/apps/xxx.com/app/Http/Controllers/PlatformController.php(227): Overtrue\\Socialite\\Providers\\AbstractProvider->user()\n```.  1) \"[easywechat.open_platform.component_verify_ticket.wxf7c2dfadf5][1]\"\n 2) \"[easywechat.open_platform.authorizer_refresh_tokenwxcf36268db5041135wxcf36268db5041135][1]\"\n 3) \"[easywechat.open_platform.authorizer_access_tokenwx7b69f4862aae396dwx7b69f4862aae396d][1]\"\n 4) \"[easywechat.open_platform.authorizer_access_tokenwx3f81cf3cbeab5eedwx3f81cf3cbeab5eed][1]\"\n 5) \"[easywechat.open_platform.authorizer_access_tokenwx61693e00b8cd5522wx61693e00b8cd5522][1]\"\n\u4fdd\u5b58\u5230redis\u4e2d\u7684\u600e\u4e48\u662f\u8fd9\u6837\u7684\n. redis-cli\u4e2d\u770b\u5230\u7684\u662f\u8fd9\u6837\u7684\u3002\nGET [easywechat.open_platform.authorizer_refresh_tokenwx5a4a2d60090f8c5dwx5a4a2d60090f8c5d][1]\n\"\\x00\\x00\\x00\\x02\\x11:refreshtoken@@@fPbx4rjHkEDJ24EfOMi1Zb7WpA24UN5oDhdD027fwQ8\"\n. \u597d\u50cf\u627e\u5230\u539f\u56e0\u4e86\uff0c\nvar_dump(preg_replace('/[\\x00-\\x1F\\x80-\\x9F]/u', '', '\\x00\\x00\\x00\\x02\\x11_ticket@@@v8j49zgGuPg66m8c0C7r_NelJ9TehHBH56PXR1t3NZNnC7clMwMkgNsS3J7CJau7UoTilKWKNwirYwk19U8PxA'));\n\u8fd9\u4e2a\u66ff\u6362\u5931\u8d25\n/**\n * Filter the invalid JSON string.\n *\n * @param \\Psr\\Http\\Message\\StreamInterface|string $invalidJSON\n *\n * @return string\n */\nprotected function fuckTheWeChatInvalidJSON($invalidJSON)\n{\n    return preg_replace('/[\\x00-\\x1F\\x80-\\x9F]/u', '', trim($invalidJSON));\n}. @mingyoung \u6211\u5012\u662f\u60f3\u6109\u5feb\u7684\u75284.0\uff0c\u4f46\u662f\u7ebf\u4e0a\u5df2\u7ecf\u5728\u8dd1\u7684\u9879\u76ee\uff0c\u8981\u51cc\u66681\u4e24\u70b9\u624d\u80fd\u66ff\u6362\uff0c\u800c\u4e14\u5386\u53f2\u6570\u636e\u8fd8\u8981\u5148\u8dd1\u5b8c\u624d\u80fd\u5347\u7ea7\u3002. \u6211\u4f30\u8ba1\u5f97\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e9b\u529f\u80fd\u4e86. @mingyoung\n\n$cachekey = 'easywechat.open_platform.component_verify_ticket.' . $authorizerAppId .'';\nvar_dump($cachekey);\n            $component_verify_ticket = $app->access_token->getCache()->fetch($cachekey);\n\u8fd9\u6837\u4e0d\u80fd\u81ea\u5df1\u83b7\u53d6component_verify_ticket. \u6211\u60f3\u5230\u4e00\u4e2a\u65b9\u6848\u4e86\uff0c\u81ea\u5df1\u4fdd\u5b58\u4e8b\u4ef6\u63a8\u9001\u7684ticket\uff0c\u81ea\u5df1\u7528\uff0c\u4e0d\u7528easywechat\u4fdd\u5b58\u7684ticket. @mingyoung \u4f60\u7684\u65b9\u6cd5\u53ef\u884c. ",
    "ac1982": "unionid \u5c31\u662f\u4e00\u79cd\u7279\u522b\u7684openid\uff0c \u4ed6\u8de8\u5e94\u7528\u4e0d\u53d8\u5316\u3002\u5fae\u4fe1\u5b98\u65b9\u6587\u6863\uff0c\u6700\u540e\u4e00\u6bb5\uff1ahttps://mp.weixin.qq.com/wiki/8/f9a0b8382e0b77d87b3bcc1ce6fbc104.html\n. \u4f60\u8fd9\u4e2a\u60c5\u51b5\u662f\u5355\u6b21\u5076\u53d1\uff0c\u8fd8\u662f\u5728\u5faa\u73af\u4e2d\u5076\u53d1\uff1f\n. \u73b0\u5728\u4e91\u670d\u52a1\u5546\u90fd\u6709\u56fe\u7247\u7504\u522b\u529f\u80fd\uff0c\u6bd4\u5982\u654f\u611f\u4fe1\u606f\u6216\u8005\u4e4b\u7c7b\u7684\u3002\n\u4f60\u8fd9\u53e5\u662f\u63d0\u793a\u7c7b\u4fe1\u606f\uff0c\u6211\u4e2a\u4eba\u89c9\u5f97\u6839\u672c\u4e0d\u9700\u8981\u56fe\u7247\u53bb\u5b9e\u73b0\u5b83\uff0c\u4e00\u6bb5html\u4e0d\u662f\u66f4\u597d\u5417\uff1f\n\u4e0a\u4f20\u9519\u8bef\u7684\u95ee\u9898\uff0c\u6211\u8fd9\u91cc\u5e76\u6ca1\u6709\u91cd\u73b0\u3002\n. \u4ed6\u4eec\u4e0d\u4f1a\u5199html\uff0c\u4f60\u5c31\u7ed9\u4ed6\u4eec\u4e2a\u793a\u4f8b\u561b\uff0c\u8fd9\u6837\u4e5f\u7701\u53bb\u4f60\u5f88\u591a\u70e6\u607c\u4e0d\u662f\u3002\u8fd9\u4e2aIssue\u53ea\u80fd\u5e2e\u4f60\u5230\u8fd9\u91cc\u4e86\u3002\n. \u613f\u610f\u544a\u8bc9\u6211\uff0c\u4f60\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3443\u7684\u539f\u56e0\u5417\uff1f\u4e3b\u6d41\u7684Web Server\u90fd\u652f\u6301SNI\uff0c\u56e0\u4e3a\u6211\u7528\u7684\u662fNginx\uff0c\u8fd9\u91cc\u662f\u53c2\u8003\u5730\u5740https://nginx.org/en/docs/http/configuring_https_servers.html\n. Guzzle upgrade to 6.3.0, the bug was fixed.. \u6211\u539f\u672c\u4ee5\u4e3aSDK\u6ca1\u6709\u9a8c\u8bc1\u7b7e\u540d\uff0c\u6240\u4ee5\u589e\u52a0\u51fd\u6570\u5728\u652f\u4ed8\u901a\u77e5\u7684\u65f6\u5019\u9a8c\u8bc1\u3002\nadd checkSign helper doc. \u611f\u8c22\u6307\u70b9\u3002\u5355\u5143\u6d4b\u8bd5\u4ece\u6765\u6ca1\u6709\u5f04\u8fc7\uff0c\u6211\u5b66\u4e60\u4e0b\u5728\u8865\u5145\u3002\u5176\u4ed6\u90e8\u5206\u4f60\u53ef\u4ee5\u5148Merge\uff0c\u8fd9\u6837\u6211\u7684\u6b63\u5f0f\u73af\u5883\u5c31\u53ef\u4ee5\u7528\u4e86\u3002\uff08\u5bb3\u6015\u4e0b\u6b21composer update\u628a\u624b\u52a8\u66f4\u65b0\u7684\u66ff\u6362\u6389\u3002\uff09\n. \u6211\u6ca1\u6709\u52a0\uff0cphpstorm\u81ea\u52a8\u683c\u5f0f\u5316\u7684\u3002\n. ",
    "zyj007": "\u56e0\u4e3a$response\u7684\u4fe1\u606f\u4e0d\u662f\u5f88\u65b9\u4fbf\u8c03\u8bd5\uff0c\u6240\u4ee5\u4e00\u76f4\u627e\u4e0d\u5230\u9519\u8bef\u539f\u56e0\u3002\u540e\u6765\u5728chrome\u4e0a\u88c5\u4e86\u4e2asimple-rest-client\u7684\u6269\u5c55\uff0c\u901a\u8fc7easywechat\u65e5\u5fd7\u4e2d\u7684\u5fae\u4fe1\u8fd4\u56de\u7684\u5185\u5bb9\uff0c\u518d\u653e\u5230simple-rest-client\u4e2d\u6a21\u62df\u5fae\u4fe1\u8fd4\u56de\uff0c\u627e\u5230\u9519\u8bef\uff0c\u89e3\u51b3\u95ee\u9898\n. ",
    "koiding": "\u6211\u4e5f\u9047\u5230\u4e86\u540c\u6837\u7684\u95ee\u9898, \u8bf7\u95ee\u4f60\u540e\u6765\u627e\u5230\u7684\u9519\u8bef\u662f\u4ec0\u4e48 @zyj007 . ",
    "imbiss": "\u8bf7\u95ee\u4f60@zyj007\u5982\u4f55\u89e3\u51b3\u7684\uff0c\u6211\u4e5f\u9047\u5230\u540c\u6837\u7684\u95ee\u9898\uff0e\u3000. \u6211\u901a\u8fc7$reponse->__toString()\uff0c\u628a\u5185\u5bb9\u8bb0\u5f55\u5230log\u540e\u770b\uff0c\u5185\u5bb9\u662f\u6b63\u786e\u7684\nHTTP/1.0 200 OK Cache-Control: no-cache, private Date:          Tue, 05 Dec 2017 16:01:03 GMT  <xml><return_code><![CDATA[SUCCESS]]></return_code><return_msg><![CDATA[OK]]></return_msg></xml>\n\u662f\u7b26\u5408\u5fae\u4fe1\u6587\u6863\u8981\u6c42\u7684\uff0e\u3000\u6587\u6863\u3000https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=9_7 . ",
    "geeyan": "```\n        switch ($message->MsgType) {\n            case 'event':\n                // \u4e8b\u4ef6\u6d88\u606f\n                return self::handlerEvent($message);\n                break;\n            case 'text':\n                // \u6587\u5b57\u6d88\u606f\n                return self::handlerText($message);\n                break;\n            case 'image':\n                // \u56fe\u7247\u6d88\u606f\n                return self::handlerImage($message);\n                break;\n            case 'voice':\n                // \u8bed\u97f3\u6d88\u606f\n                return self::handlerVoice($message);\n                break;\n            case 'video':\n                // \u89c6\u9891\u6d88\u606f\n                return self::handlerVideo($message);\n                break;\n            case 'location':\n                // \u5750\u6807\u6d88\u606f\n                return self::handlerLocation($message);\n                break;\n            case 'link':\n                // \u94fe\u63a5\u6d88\u606f\n                return self::handlerLink($message);\n                break;\n        default:\n            // \u5176\u5b83\u6d88\u606f\n            return self::handlerOthers($message);\n            break;\n    }\n\n```\n\u597d\u7684\uff0c\u8fd9\u91cc\u6211\u5e94\u8be5\u662f\u53bbdefault\u5206\u652f\u54af\uff1f\n. \ud83d\ude13  \u5c34\u5c2c\u4e86\uff0c\u8c22\u8c22\u3002\u3002\u3002\n. ",
    "cnjack": "\u627e\u5230\u4e86$oauth->redirect()->getTargetUrl() \u76f4\u63a5\u8fd9\u6837\u5c31\u884c\u4e86\n. \u5e94\u8be5\u662f\u7684\u6211\u7528\u7684\u662fyaf\n. \u6211\u6700\u7ec8\u7528\u7684$this->redirect($oauth->redirect()->getTargetUrl());\n\u611f\u89c9yaf\u81ea\u5e26\u7684\u8df3\u8f6c\u86ee\u53fc\u7684\u6837\u5b50,\u7136\u800c\u53ea\u662f\u5fc3\u7406\u4f5c\u7528\n. \u6211\u770b\u5230\u4e86,\u5e94\u8be5\u4e0d\u884c\u7684,\u56e0\u4e3a\u5728setTargetUrl()   \u91cc\u9762\u8bbe\u7f6e\u4e86$this->setContent\u91cc\u9762\u52a0\u4e86\u4e00\u4e9bhtml,\u6240\u4ee5\u6253\u5f00\u5f88\u4e11,\u6211\u5e76\u4e0d\u60f3\u8ba9\u7528\u6237\u89c9\u5f97\u8df3\u8f6c\u4e86,\u6240\u4ee5\u8fd8\u662f\u76f4\u63a5header \u6216\u8005\u7528\u6846\u67b6\u81ea\u5e26\u7684\n\u7528send\u7684\u8bddline378 $this->sendContent();\u8fd9\u6837\u4f1a\u8f93\u51fa\u5185\u5bb9\u7684\n. \u5b9e\u9a8c\u4e86\u4e00\u4e0b,\u786e\u5b9e\u53ef\u4ee5~~\u54c8\u54c8,\u77ac\u95f4\u6253\u8138\n. ",
    "Jasonwdt": "\u4e0d\u597d\u610f\u601d\uff0c\u7ed9\u4f60\u6dfb\u9ebb\u70e6\u4e86\uff0c\u627e\u5230\u539f\u56e0\u4e86\n. \u4f46\u662f\u66f4\u65b0\u7248\u672ctag\u7c7b\u6ca1\u6709\u66f4\u65b0\u4e0b\u6765\n. \"overtrue/wechat\": \"~3.0\",\n. \u53ef\u4ee5\u4e86\uff0c\u975e\u5e38\u611f\u8c22\uff0c\u5927\u795e\n. ",
    "dxywx": "\n\n. @overtrue \u4ee3\u7801\u5982\u4e0a\n. \u6211\u521a\u521a\u770b\u4e86\u4e00\u4e0b\uff0c\u4ece\u63a5\u53d7\u6d88\u606f\u5230\u8fd4\u56de\u53ea\u97001s\u65f6\u95f4\uff0c\u5bf9\u4e8escan\u4e8b\u4ef6\u76f4\u63a5\u8fd4\u56denull\u6216\u8005\u2018success\u2019\u6216\u8005\u7a7a\u5b57\u7b26\u4e32\u4ecd\u7136\u6709\u95ee\u9898\uff0c\u4f46\u662ftext\u6d88\u606f\u63a5\u6536\u548c\u56de\u590d\u5c31\u4e0d\u5b58\u5728\u95ee\u9898\u3002\n\n. \u6211\u6392\u67e5\u4e86\u5f88\u4e45\uff0c\u53d1\u73b0\u5fae\u4fe1\u5728\u63a8\u9001scan\u4e8b\u4ef6\u65f6\u5019\u4e4b\u524d\u53ef\u80fd\u4f1a\u8c03\u7528\u4e00\u4e0b\u670d\u52a1\u5668url\uff0c\u6211\u8fd9\u4e2aurl\u5728\u6d4f\u89c8\u5668get\u76f4\u63a5\u8bbf\u95ee\u7684\u65f6\u5019\u4f1a\u62a5\u9519\uff08\u56fe\u5982\u4e0b\uff09\u3002\u901a\u8fc7\u5fae\u4fe1\u7ed9\u6211\u53cd\u9988\u7684\u9519\u8bef\u901a\u77e5\uff0c\u670d\u52a1\u5668\u54cd\u5e94\u4e86\u4e00\u4e2a\u9519\u8bef\u9875\u9762\u3002\u6211\u89c9\u5f97\u662f\u4e0d\u662f\u8fd9\u4e2a\u72b6\u6001\u7801\u9020\u6210\u4e86\u8fd9\u4e2a\u201c\u6682\u65f6\u65e0\u6cd5\u670d\u52a1\u201d\u7684\u63d0\u793a\uff1f\n\u76f4\u63a5\u8bbf\u95ee\u9519\u8bef\u5982\u4e0b:\n\n\u8bf7\u95ee\u8fd9\u4e2acontroller\u914d\u7f6e\u4e4b\u540e\u76f4\u63a5\u8bbf\u95ee\u5c31\u662f\u4f1a\u62a5\u9519\u5417\uff1f\ncontroller\u914d\u7f6e\u5982\u4e0b\uff1a\npublic function development(){\n        $app = app('wechat');\n        $app->server->setMessageHandler(function ($message) {\n            switch ($message->MsgType) {\n                case 'event':\n                    return $this->eventHandler($message);\n                    break;\n                case 'text':\n                    return $this->textHandler($message);\n                    break;\n                case 'image':\n                    # \u56fe\u7247\u6d88\u606f...\n                    return null;\n                    break;\n                case 'voice':\n                    # \u8bed\u97f3\u6d88\u606f...\n                    return null;\n                    break;\n                case 'video':\n                    # \u89c6\u9891\u6d88\u606f...\n                    return null;\n                    break;\n                case 'location':\n                    # \u5750\u6807\u6d88\u606f...\n                    return null;\n                    break;\n                case 'link':\n                    # \u94fe\u63a5\u6d88\u606f...\n                    return null;\n                    break;\n                // ... \u5176\u5b83\u6d88\u606f\n                default:\n                    return null;\n                    break;\n            }\n        });\n        return $app->server->serve();\n    }\n. @overtrue controller\u76f4\u63a5get\u8bbf\u95ee\u51fa\u9519\u8fd9\u4e2a\u95ee\u9898\u662f\u4e0d\u662f\u4e00\u4e2a\u6b63\u5e38\u60c5\u51b5\uff1f\n. ",
    "xcaptain": "\u53ef\u80fd\u662f\u6211\u7684\u8fd9\u4e2a\u7f51\u7ad9\u5e94\u7528\u8981\u7ed1\u5b9a\u4e00\u4e2a\u516c\u4f17\u53f7\u624d\u80fd\u4f7f\u7528scope=snsapi_userinfo\u5427\uff0c\u8bd5\u8bd5\u53bb\u3002\n. \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u770b\u6765\u5982\u679c\u662f\u7f51\u7ad9\u767b\u5f55\u662f\u7528\u5fae\u4fe1\u5f00\u53d1\u5e73\u53f0\u91cc\u9762\u7684\u914d\u7f6e\uff0c\u5982\u679c\u662fh5\u3001app\u7684\u8bdd\u5c31\u8981\u7528\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u91cc\u9762\u7684\u914d\u7f6e\u3002\u6388\u6743\u670d\u52a1\u8981\u505a2\u4e2a\u63a5\u53e3\uff0c\u4e00\u4e2aPC\u7f51\u7ad9\u6388\u6743\uff0c\u4e00\u4e2ah5\u548capp\u6388\u6743\uff0c\u56de\u8c03\u63a5\u53e3\u662f\u901a\u7528\u7684\u3002\n\u5269\u4e0b\u7684\u7591\u95ee\u5c31\u662f\u5728\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0\u91cc\u9762\u7684\u7ed1\u5b9a\u516c\u4f17\u53f7\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u7528\uff0c\u56e0\u4e3a\u6211\u662f\u8d70\u4e862\u4e2a\u72ec\u7acb\u7684\u63a5\u53e3\u6765\u5206\u522b\u6388\u6743\u7684\u3002\n. \u6211\u7684PC\u7aef\u626b\u7801\u6388\u6743\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u5199\u7684\uff1a\n```php\npublic function webauth(Application $wechat, Request $request)\n{\n    $response = $wechat->oauth->scopes(['snsapi_userinfo', 'snsapi_login'])\n        ->redirect(Config('wechat.oauth.callback').'?referer='.$request->input('referer'));\nreturn $response;\n\n}\n```\n\u5fae\u4fe1\u5185\u7f6e\u6d4f\u89c8\u5668\u8df3\u8f6c\u5230\u6388\u6743\u9875\u9762\u7684\u4ee3\u7801\u662f\uff1a\n```php\npublic function auth(Application $wechat, Request $request)\n{\n    $response = $wechat->oauth->scopes(['snsapi_userinfo'])\n        ->redirect(Config('wechat.oauth.callback').'?referer='.$request->input('referer'));\nreturn $response;\n\n}\n```\n\u5206\u4e0d\u540c\u7684\u8def\u7531\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u6388\u6743\u65b9\u5f0f. ",
    "lilywang711": "\u8bf7\u95ee\u60a8\u6700\u540e\u662f\u600e\u4e48\u505a\u7684 H5\u8df3\u8f6c\u5230\u5fae\u4fe1\u53bb\u6388\u6743\u5462?. @xcaptain . @xcaptain \n\n\u5fae\u4fe1\u5185\u7f6e\u6d4f\u89c8\u5668\u8df3\u8f6c\u5230\u6388\u6743\u9875\u9762\u7684\u4ee3\u7801\u662f...\n\n\u90a3\u8fd9\u4e2a\u4e0d\u662f \u4ece\u624b\u673a \u975e\u5fae\u4fe1\u6d4f\u89c8\u5668 \u8df3\u8f6c\u5230\u5fae\u4fe1\u6d4f\u89c8\u5668\u767b\u5f55\u6388\u6743\u7684\u65b9\u5f0f\u5417 (\u5c31\u50cf \u624b\u673a\u6253\u5f00www.qq.com \u4e00\u6837). ",
    "dingdayu": "\u68c0\u6d4bCacheProvider\u63a5\u53e3\u4e0d\u597d\u5417\uff1f@overtrue\n. as \u4e0d\u662f\u522b\u540d\u5b9a\u4e49\u5417\uff1f\n. \u6c57\uff0c\uff0c\u53d1\u73b0\u4e86\u3002\u3002\n. \u4e22\u5927\u4e86\uff0c\u6539\u4e86\u5224\u65ad\uff0c\u6ca1\u6362\u91cc\u9762\u7684\u903b\u8f91\u3002\u3002\u3002\n. \u6069\u6069\uff0c\u662f\u7684\uff0c\u5fd8\u8bb0\u52a0\u9ed8\u8ba4\u503c\u4e86\u3002\n. \u5355\u5143\u6d4b\u8bd5\u4e5f\u5ffd\u7565\u4e86\uff0c\u4e0b\u6b21\u4f1a\u6ce8\u610f\u3002\n. ",
    "gentcys": "@overtrue \u4f60\u7684\u5305\u662f\u5426\u53ef\u4ee5\u4f9d\u8d562.6\u7248\u672c\n. @overtrue nice done! \u7528\u7684\u662fLaravel5.0.\n. ",
    "sidgwick": "\u989d, \u6211\u61c2\u4e86. $app->auth->user()\u7684app\u7684\u914d\u7f6e\u4e0d\u80fd\u5e26oauth\u7684\u914d\u7f6e?\n\u539f\u6765\u7684app, \u8fd9\u4e2a\u53d6\u4e0d\u5230\u7528\u6237\u4fe1\u606f:\n``` php\n$this->app = new Application([\n    'app_id' => self::APPID,\n    'secret'  => self::APPSECRET,\n    'debug'  => true,\n    'oauth' => [\n        'scopes'   => ['snsapi_userinfo'],\n        'callback' => '/auth/weixin-openid',\n    ],\n]);\n$this->app->oauth->user();\n```\n\u540e\u6765\u7684app, \u53ef\u4ee5\u53d6\u5230:\nphp\n(new Application([\n    'app_id' => self::APPID,\n    'secret'  => self::APPSECRET,\n    'debug'  => true,\n]))->oauth->user();\n. ",
    "jinchun": "\u8fd9\u53ef\u4ee5\u662f\u7bc7 PR \u6559\u7a0b\u793a\u8303\u4e86 \ud83d\ude02\n. #522 \n\u6211\u7684\u6d4b\u8bd5\u73af\u5883phpversion()\u6253\u5370\u7684\u7ed3\u679c\u662f 7.0.8-2+deb.sury.org~xenial+1\uff0c\u6ca1\u91cd\u73b0\u4f60\u8bf4\u7684\u95ee\u9898\u3002\n\u53e6\u5916 gethostbyname() \u5982\u679c\u83b7\u53d6\u7684\u662f\u672c\u673a\u7684\u673a\u5668\u540d\u800c\u4e0d\u662fIP\u5730\u5740\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u4f60\u7684\u673a\u5668\u540d\u6ca1\u6307\u5411127.0.0.1 \u3002\uff08\u8fd9\u4e2a\u4e4b\u524d\u662f\u4e3a\u4e86\u89e3\u51b3 phpunit \u7b49 cli \u547d\u4ee4\u800c\u4f5c\u7684\uff09\n. ",
    "ycrao": "@jinchun \u8fd9\u4e48\u5de7\uff0c\u4f60\u4e5f\u5728\u6b64\u89c2\u5149\u554a\n. ",
    "wangniuniu": "@overtrue \u6211\u6b63\u5728\u6539\u3001\u3001\u6240\u4ee5\u6ca1\u6709\u53ca\u65f6\u56de\u590d\uff0c\u53d7\u6559\u4e86\u3002\u54c8\u54c8\n. @tianye \u8fd8\u8bf7\u5927\u795e\u4eec\u591a\u591a\u6307\u6559\n. @overtrue \u597d\u7684\n. @overtrue \u597d\u7684\n. @zhengmin4516 \u786e\u5b9e\u662f\u6211\u5c11\u4e86\u4e00\u5c42\uff0c\u8c22\u8c22\u63d0\u9192\uff0c\u6211\u8fd9\u5c31\u91cd\u65b0\u63d0\u4e00\u4efd\n. @overtrue \u53ef\u4ee5\uff0c\u6d4b\u8fc7\u4e86 /cy\n. ",
    "tianye": "@wangniuniu \u599e\u599e\u7ae5\u978b \u8d5e~~~\n. code\u662f\u5fc5\u586b\u7684\ncardid \u662f\u53ef\u4ee5\u9009\u586b\u7684\n\u5982\u679c code \u662f\u81ea\u5b9a\u4e49\u521b\u5efa\u7684 cardid \u662f\u5fc5\u586b\u7684\ncardid \u9ed8\u8ba4\u5fae\u4fe1\u751f\u6210\u73b0\u5728 \u662f 28\u4f4d\u7684\n\u9ed8\u8ba4code\u5fae\u4fe1\u751f\u6210\u73b0\u5728\u662f 12\u4f4d\u7eaf\u6570\u5b57 \u53ef\u81ea\u5b9a\u4e49\n. \u7528\u4e8e\u83b7\u53d6\u7528\u6237\u5361\u5305\u91cc\u7684\uff0c\u5c5e\u4e8e\u8be5appid\u4e0b\u6240\u6709\u53ef\u7528\u5361\u5238\uff0c\u5305\u62ec\u6b63\u5e38\u72b6\u6001\u548c\u672a\u751f\u6548\u72b6\u6001\u3002\n\u5361\u5238ID\u3002\u4e0d\u586b\u5199\u65f6\u9ed8\u8ba4\u67e5\u8be2\u5f53\u524dappid\u4e0b\u7684\u5361\u5238\u3002\n\u4e00\u5f20\u5361\u5238 \u4e00\u4e2a \u7528\u6237 \u53ef\u4ee5 \u9886\u53d6 \u591a\u5f20 \u6bcf\u5f20\u7684 code \u4e0d\u4e00\u6837\n. \u5931\u6548 \u771f\u5fc3\u7684 \u5c31\u662f \u5931\u6548\u4e86 \u4e0d\u662f \u7981\u7528 \u4f1a\u5728\u7528\u6237\u5361\u5305 \u91cc\u9762\u7684 \u7684 \u5361\u5238\u4e0a \u5370\u4e0a\u4e00\u4e2a \u5927\u5927\u7684 \u5df2\u5931\u6548\n. ",
    "hbliang": "\u53e6\u5916\uff0c\u6211dump\u4e86\\GuzzleHttp\\Handler\\CurlFactory.php->public static function finish()->$easy->response\n\n\u53d1\u73b0header\u53c2\u6570\u4e3a\u7a7a\uff0c\u662f\u5426\u6709\u5f71\u54cd\u5462\uff1f\n. ## Logs\neasywechat.log:\n[2016-07-31 01:48:21] easywechat.DEBUG: Current config: {\"debug\":true,\"app_id\":\"***c5cbe\",\"secret\":\"***8454b\",\"token\":\"weixin\",\"log\":{\"level\":\"debug\",\"file\":\"/Users/Ben/project/xiyanghui/wechat_middleware/app/../var/logs/easywechat.log\"}} []\n[2016-07-31 01:48:21] easywechat.DEBUG: Client Request: {\"url\":\"https://api.weixin.qq.com/cgi-bin/media/uploadimg\",\"method\":\"POST\",\"options\":{\"timeout\":5,\"query\":[],\"multipart\":[{\"name\":\"media\",\"contents\":\"[resource] (stream)\"},{\"name\":\"type\",\"contents\":\"news_image\"}]}} []\n[2016-07-31 01:48:21] easywechat.DEBUG: Request: POST https://api.weixin.qq.com/cgi-bin/media/uploadimg {\"timeout\":5,\"handler\":{},\"synchronous\":true,\"allow_redirects\":{\"max\":5,\"protocols\":[\"http\",\"https\"],\"strict\":false,\"referer\":false,\"track_redirects\":false},\"http_errors\":true,\"decode_content\":true,\"verify\":true,\"cookies\":false} [] []\n[2016-07-31 01:48:21] easywechat.DEBUG: Request headers:{\"Content-Length\":[\"13612\"],\"User-Agent\":[\"GuzzleHttp\\/6.2.1 curl\\/7.43.0 PHP\\/5.6.18\"],\"Content-Type\":[\"multipart\\/form-data; boundary=579ce86572a44\"],\"Host\":[\"api.weixin.qq.com\"]} [] []\nsymfyon.logs:\n[2016-07-31 01:48:21] request.INFO: Matched route \"{route}\". {\"route\":\"homepage\",\"route_parameters\":{\"_controller\":\"AppBundle\\\\Controller\\\\DefaultController::indexAction\",\"_route\":\"homepage\"},\"request_uri\":\"http://localhost:8000/\",\"method\":\"GET\"} []\n[2016-07-31 01:48:21] security.INFO: Populated the TokenStorage with an anonymous Token. [] []\n[2016-07-31 01:48:22] request.CRITICAL: Uncaught PHP Exception GuzzleHttp\\Exception\\RequestException: \"cURL error 56: SSLRead() return error -9806 (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)\" at /Users/Ben/project/xiyanghui/wechat_middleware/vendor/guzzlehttp/guzzle/src/Handler/CurlFactory.php line 187 {\"exception\":\"[object] (GuzzleHttp\\\\Exception\\\\RequestException(code: 0): cURL error 56: SSLRead() return error -9806 (see http://curl.haxx.se/libcurl/c/libcurl-errors.html) at /Users/Ben/project/xiyanghui/wechat_middleware/vendor/guzzlehttp/guzzle/src/Handler/CurlFactory.php:187)\"} []\n[2016-07-31 01:48:23] request.INFO: Matched route \"{route}\". {\"route\":\"_wdt\",\"route_parameters\":{\"_controller\":\"web_profiler.controller.profiler:toolbarAction\",\"token\":\"86796d\",\"_route\":\"_wdt\"},\"request_uri\":\"http://localhost:8000/_wdt/86796d\",\"method\":\"GET\"} []\n. \u5df2\u7ecf\u53c2\u8003\u8fc7\u4e86\u3002\u3002\u3002\u95ee\u9898\u8fd8\u662f\u6ca1\u6709\u89e3\u51b3\n\n. @ac1982 \n\u6211\u53d1\u73b0\u662f\u4e0a\u4f20\u8fd9\u4e00\u5f20\u56fe\u7247\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u6027\u62a5\u9519\uff0c\u5076\u5c14\u53ef\u4ee5\u4e0a\u4f20\u6210\u529f\u3002\n\u751a\u662f\u5947\u602a\u3002\n\u4f60\u8bd5\u8bd5\u7528\u8fd9\u56fe\u7247\u4e0a\u4f20\u3002\n\u56fe\u7247\u5982\u4e0b\u3002\n\n. @ac1982 \n\u521a\u6d4b\u8bd5\u4e86\u4e00\u4e0b\u3002\u4e0a\u4f20\u4e86\u4e00\u5f20\u5199\u7740\u201c\u8272\u60c5\u201d\u4e24\u5b57\u7684\u56fe\u7247\uff0c\u4e5f\u62a5\u540c\u6837\u7684\u9519\u8bef\u3002\u4f30\u8ba1\u5fae\u4fe1\u90a3\u8fb9\u4f1a\u8fc7\u6ee4\u6389\u4e00\u4e9b\u6709\u654f\u611f\u4fe1\u606f\u7684\u7167\u7247\u3002\n\u53e6\u5916\uff0c\u5173\u4e8e\u4e00\u6bb5html\u786e\u5b9e\u662f\u66f4\u597d\u3002\u3002\u3002\u4f46\u662f\u516c\u53f8\u7684\u7f16\u8f91\u4e0d\u4f1a\u5199html\u3002\u3002\u3002\n. @ac1982 thx\u5566\n. ",
    "tomhaoye": "\u8c8c\u4f3c\u6709\u65f6\u5019\u83b7\u53d6access_token\u4e5f\u5931\u8d25\nThe key \"access_token\" could not be empty.\n. Invalid state exception\u662f\u83b7\u53d6code\u7684\u65f6\u5019\u629b\u7684\u5f02\u5e38\u5427\uff0c\u8fd9\u4e2a\u4e5f\u8ddf\u6211\u7684sessionid\u6709\u5173\u5417\uff1f\n. @overtrue \u5662\u770b\u5230\u4e86\uff0c\u8c22\u8c22\uff0c\u6211\u5148\u518d\u770b\u770b\u5427\ud83d\ude04\u3002\n. \u6211\u611f\u89c9\u9664\u4e86\u8fc7\u4e86\u65f6\u95f4\u56de\u6536\uff0c\u670d\u52a1\u5668\u7684session\u4e22\u4e86\u51e0\u7387\u6ca1\u591a\u5927\uff0c\u66f4\u50cf\u662f\u5fae\u4fe1\u6d4f\u89c8\u5668\u7684cookie\u4e22\u4e86\uff0c\u6682\u65f6\u6211\u53ea\u80fd\u6355\u83b7\u5f02\u5e38\u518d\u53bb\u5904\u7406\u4e86\u3002\n. @overtrue \u56de\u590d\u771f\u5feb\uff0c\u68d2\u68d2\u7684\n\u53e6\u5916\u6709\u67d0\u4e9b\u65f6\u5019\u4f1a\u51fa\u73b0\ncURL error 28: Operation timed out after 0 milliseconds with 0 out of 0 bytes\n\u5bf9\u5e94\u6211\u627e\u5230\u7684\u4e00\u4e2aissue\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u6709\u5173: https://github.com/curl/curl/issues/619\n. \u55ef\uff0c\u51fa\u73b0\u51e0\u7387\u5f88\u4f4e\uff0c\u611f\u89c9\u4e5f\u8ddf\u7f51\u7edc\u95ee\u9898\u6709\u5173\uff0c\u8c22\u8c22\u5566\ud83d\ude04\n. \u989d\uff0c\u4f46\u662f\u6d4b\u8bd5\u73af\u5883\u6ca1\u6709\u95ee\u9898\u3002\u3002\u3002\n. ",
    "Hexor": "php7.08 laravel 5.2\n\u7f51\u7edc\u6761\u4ef6\u4e0d\u597d\u7684\u65f6\u5019 \u670d\u52a1\u5668\u8bf7\u6c42\u5fae\u4fe1API\u7684\u65f6\u5019 \u5c31\u4f1a\u62a5\nConnectException in CurlFactory.php line 186:\ncURL error 28: Operation timed out after 0 milliseconds with 0 out of 0 bytes received (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)\n. @mingyoung. @mingyoung Thx. . ",
    "Hitmanv": "@tianyong90 \u55ef \u8c22\u8c22 \u56e0\u4e3a\u7528\u7684\u662f\u5b9e\u4f8b\u7684\u4ee3\u7801 \u4f9d\u8d56\u7684\u4ee3\u7801\u9875\u90fd\u770b\u4e86 \u53c2\u6570\u65b9\u9762\u6ca1\u4ec0\u4e48\u95ee\u9898 \u6240\u4ee5\u5c31\u6ca1\u8d34 \u4e3b\u8981\u662f\u8bf7\u6c42\u7ed3\u679c\u7a7a\u6ca1\u529e\u6cd5\u5206\u6790\u6bd4\u8f83\u9ebb\u70e6 \u6211\u5148\u81ea\u5df1\u8bf7\u6c42\u8bd5\u8bd5 \n. ",
    "mytharcher": "@Hitmanv \uff0c\u6211\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u4e86\uff0cdebug \u65e5\u5fd7\u548c\u4f60\u7684\u4e00\u6a21\u4e00\u6837\uff0c\u72b6\u6001\u7801200\u4f46\u662fbody\u4e3a\u7a7a\uff0c\u540e\u6765\u600e\u4e48\u89e3\u51b3\u7684\uff1f\n- PHP 5.5.9\n- overtrue/wechat 3.1.5\n``` php\n        $wechat = new EasyWeChat\\Foundation\\Application($wechatConfig);\n    $payOrder = new EasyWeChat\\Payment\\Order([\n        'trade_type' => 'JSAPI',\n        'out_trade_no' => $order['id'],\n        'body' => $order['category']['name'],\n        'detail' => $order['category']['name'],\n        'total_fee' => $order['price'] * 100,\n        'time_start' => date('YmdHis'),\n        'time_expire' => date('YmdHis', time() + $this->setting['paymentTimeout']),\n        'openid' => $_SESSION['oauth']['userId']\n    ]);\n\n    $result = $wechat->payment->prepare($payOrder);\n\n    log_message('debug', json_encode($result)); // \u8fd9\u91cc\u51fa\u6765\u7684\u7ed3\u679c\u662f [false]\n\n```\nDebug \u65e5\u5fd7\uff1a\n[2016-10-24 18:22:48] easywechat.DEBUG: Client Request: {\"url\":\"https://api.mch.weixin.qq.com/pay/unifiedorder\",\"method\":\"POST\",\"options\":{\"timeout\":5,\"body\":\"<xml><trade_type><![CDATA[JSAPI]]></trade_type><out_trade_no><![CDATA[580c5f42a063d0-50489148]]></out_trade_no><body><![CDATA[\u5546\u54c1]]></body><detail><![CDATA[\u5546\u54c1]]></detail><total_fee>1</total_fee><time_start>20161024182248</time_start><time_expire>20161024202248</time_expire><openid><![CDATA[oSsBlwrl7094jEZH9p17L1TopgLs]]></openid><notify_url><![CDATA[http://mysite.com/order/callback_wechat/notify]]></notify_url><spbill_create_ip><![CDATA[MY_IP]]></spbill_create_ip><mch_id>MCH_ID</mch_id><nonce_str><![CDATA[580de0f8a0430]]></nonce_str><sign><![CDATA[E9A1BDDC6634E5DB0B065093188754B2]]></sign></xml>\"}} []\n[2016-10-24 18:22:48] easywechat.DEBUG: Request: POST https://api.mch.weixin.qq.com/pay/unifiedorder {\"timeout\":5,\"handler\":{},\"synchronous\":true,\"allow_redirects\":{\"max\":5,\"protocols\":[\"http\",\"https\"],\"strict\":false,\"referer\":false,\"track_redirects\":false},\"http_errors\":true,\"decode_content\":true,\"verify\":true,\"cookies\":false} [] []\n[2016-10-24 18:22:48] easywechat.DEBUG: Request headers:{\"Content-Length\":[\"633\"],\"User-Agent\":[\"GuzzleHttp\\/6.2.1 curl\\/7.35.0 PHP\\/5.5.9-1ubuntu4.7\"],\"Host\":[\"api.mch.weixin.qq.com\"]} [] []\n[2016-10-24 18:22:48] easywechat.DEBUG: API response: {\"Status\":200,\"Reason\":\"OK\",\"Headers\":{\"Server\":[\"nginx\"],\"Date\":[\"Mon, 24 Oct 2016 10:22:48 GMT\"],\"Content-Type\":[\"text/html; charset=gbk\"],\"Content-Length\":[\"0\"],\"Connection\":[\"keep-alive\"],\"Keep-Alive\":[\"timeout=8\"],\"Cache-Control\":[\"no-cache, must-revalidate\"]},\"Body\":\"\"} []\n. \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u53d1\u9001\u7684\u8bf7\u6c42\u91cc\u5c11\u4e86app_id\uff0c\u662f\u4e4b\u524d\u914d\u7f6e\u91cc\u7684\u53d8\u91cf\u5199\u9519\u4e86\u3002\u4f46\u662f\u5fae\u4fe1\u670d\u52a1\u5668\u8fd4\u56de 200 \u548c\u7a7a\u7684 body \u4e5f\u5bfc\u81f4\u5f88\u96be\u5b9a\u4f4d\u3002\u6240\u4ee5\u5efa\u8bae\u53d1\u9001\u8bf7\u6c42\u524d\u52a0\u4e0a\u4e00\u4e9b\u63a5\u53e3\u5fc5\u586b\u9879\u7684\u6821\u9a8c\u3002\n\u53e6\u5916\u8fd8\u6709\u4e2a\u95ee\u9898\uff0c\u5f53\u6211\u5355\u72ec\u5199\u4e00\u4e2a\u6587\u4ef6\u6d4b\u8bd5 SDK \u65f6\uff0c\u53d1\u73b0\u7531\u4e8e\u8bf7\u6c42\u8d85\u65f6\u8bbe\u7f6e\u56de\u5f71\u54cd\u8fd4\u56de\u7ed3\u679c\u3002\u5177\u4f53\u5728 vendor/overtrue/wechat/src/Payment/API.php \u6587\u4ef6\u91cc request \u51fd\u6570\u7684 $options \u53d8\u91cf\uff0c\u5982\u679c\u52a0\u5165 timeout => 15\uff0815 \u79d2\uff09\u7684\u8bbe\u7f6e\uff0c\u57fa\u672c\u90fd\u80fd\u6536\u5230\u6b63\u5e38\u7684\u7ed3\u679c\uff0c\u4f46\u8bbe\u7f6e\u5c0f\u4e8e 5 \u7684\u503c\uff0c\u5927\u591a\u6570\u60c5\u51b5\u90fd\u662f\u8d85\u65f6\u6536\u4e0d\u5230\u7ed3\u679c\uff0c\u9ed8\u8ba4\u8bbe\u7f6e 5 \u6709 70% \u5de6\u53f3\u7684\u6982\u7387\u4f1a\u6536\u4e0d\u5230\u3002\u5efa\u8bae\u8c03\u6574\u8fd9\u4e2a\u53c2\u6570\u7684\u503c\u4ee5\u964d\u4f4e\u65e0\u6cd5\u6536\u5230\u6b63\u5e38\u8bf7\u6c42\u7ed3\u679c\u7684\u6982\u7387\u3002\n. ",
    "JKair": "\u8001\u773c\u660f\u82b1\uff0c\u54c8\u54c8\u54c8\uff0c\u62b1\u6b49 @overtrue  @tianyong90 \n. ",
    "jianminLee": "\u89e3\u51b3\u4e86  \u628aapiclient_key.pem\u5185\u5bb9\u5408\u5e76\u5230apiclient_cert.pem\u4e2d\u5c31\u597d\u4e86\n. @jkgeekJack \u8fd8\u662f\u586bapiclient_key.pem  php\u5176\u5b9e\u7528\u4e00\u4e2a\u5c31\u597d\u4e86 \u56e0\u4e3a\u516c\u94a5\u548c\u79c1\u94a5\u5408\u5e76\u6210\u4e00\u4e2a\u6587\u4ef6\u4e86. ",
    "jkgeekJack": "@jianminLee \u90a3key\u7684path\u586b\u4ec0\u4e48. ",
    "aszx0413": "\u4e3a\u4ec0\u4e48\u62d2\u7edd\u52a0\u5165\u4e86\n. @overtrue \u63d0\u793a \u8be5\u7fa4\u7fa4\u4e3b\u62d2\u7edd\u6dfb\u52a0\u4efb\u4f55\u65b0\u6210\u5458\n. PHP 7.2 / easywechat ~4.0\n\u540c\u6837\u56e0\u4e3a\u64a4\u6d88\u8ba2\u5355\u62a5\u8fd9\u4e2a\u9519\uff0c\u4f1a\u4e0d\u4f1a\u662fSDK\u95ee\u9898\n\u5728\u8c03\u7528\u8fd9\u4e2a\u63a5\u53e3\u524d\u8fd8\u8c03\u7528\u4e86queryByOutTradeNumber\uff0c\u53ef\u6b63\u5e38\u8fd4\u56de\uff0c\u6240\u4ee5\u6392\u9664\u4e86\u670d\u52a1\u5668\u548c\u5fae\u4fe1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u539f\u56e0\n$re = $app->order->queryByOutTradeNumber('153294****5059'); // \u53ef\u6b63\u5e38\u8fd4\u56de\n$re = $app->reverse->byOutTradeNumber(\"15329****73545\"); // \u62a5\u9519. \u8c22\u8c22\u3002\u5e0c\u671b\u5c3d\u5feb release. ",
    "stoensin": "\u68c0\u67e5\u4e86\u76ee\u5f55 \u53d1\u73b0src \u4e0b  \u6ca1\u6709 js \u76ee\u5f55\u5b58\u5728\uff0c\u5b89\u88c5\u540e\u5c31\u6ca1\u6709\u8fd9\u4e2a\u76ee\u5f55\uff0c\u4f7f\u7528 composer require \u5b89\u88c5\u7684\n. ",
    "vic-volk": "Hi!\nI have tried price 1.01 for sandbox.\nIt works for me.. Ok,\nI have mistaken with the issue translation.\nIf I use: https://api.mch.weixin.qq.com/sandboxnew/pay/unifiedorder\nfrom: https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=23_1\nfor qr-code generation, I receive bad answer:\n\u6c99\u7bb1\u652f\u4ed8\u91d1\u989d(100)\u65e0\u6548\uff0c\u8bf7\u68c0\u67e5\u9700\u8981\u9a8c\u6536\u7684case\nBut I solved it.. ",
    "skyred": "\u6c99\u76d2\u7684\u652f\u6301\u5df2\u7ecf\u88abmerge\u5230master, \u5982\u679c\u8c01\u611f\u5174\u8da3\uff0c\u8bf7\u6d4b\u8bd5\u3002\u4f7f\u7528\u65b9\u6cd5\uff1a\n$app = new Application($options);\n$wechat_pay = $app->payment;\n$wechat_pay->enableSandbox(true);. \u8c22\u8c22\u4f60\u7684\u56de\u590d\uff0c\u6211\u770b\u4e86\u4e00\u4e0b$notify\u7684\u5185\u5bb9\uff0c\u5b83\u81ea\u5df1\u4f1a\u521b\u5efa\u4e00\u4e2aRequest https://github.com/overtrue/wechat/blob/b56b7360c48211a11ad2610cbd1d41a7bb13865b/src/Payment/Notify.php#L64\n\u4f46\u770b\u5b8c\u540e\uff0c\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a\u65b0\u7684\u95ee\u9898\uff0c\u5c31\u662f\u5728\u6ca1\u6709\u5904\u7406Request\u4e4b\u524d\uff0c\u6211\u5982\u4f55\u521b\u5efa\u4e00\u4e2aApplication \uff08\u56e0\u4e3a\u6211\u7684\u5e94\u7528\u91cc\u6709\u5f88\u591aapps\uff0c\u6362\u53e5\u8bdd\u8bf4\u5e10\u53f7\uff09, \u6211\u672c\u6765\u6253\u7b97\uff1a\n```\n$app = new Application(null);\n$response = $app->payment->handleNotify(function($notify, $successful){\n  // \u901a\u8fc7\u8ba2\u5355\u53f7\u7801\u627e\u5230\u76f8\u5bf9\u5e94\u7684application id\u7b49\u8fd8\u6709\u5176\u4ed6\u800c\u5916\u4fe1\u606f\n});\n\n```\n\u4f46\u662f\uff0c\u770b\u4e86\u4ee3\u7801\u540e\uff0c\u6211\u53d1\u73b0Application\u7684__constructor()\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8fd9\u6837\u4f3c\u4e4e\u53d8\u6210\u4e86\u4e00\u4e2a\u9e21\u751f\u86cb\uff0c\u8fd8\u662f\u86cb\u751f\u9e21\u7684\u95ee\u9898\u4e86\u3002\n\u96be\u9053\uff0c\u6211\u53ef\u4ee5\u6240\u4fbf\u627e\u4e2a\u5e10\u53f7\u751f\u6210application, \u7136\u540e\u62ff\u5230\u901a\u77e5\u5185\u5bb9\u540e\uff0c\u5728\u6539\u5e10\u53f7\u7684\u914d\u7f6e\uff1f. > \u591a\u8d26\u53f7\u80fd\u5171\u7528\u4e00\u4e2a\u63a5\u53e3\uff1f\n\u6211\u4ee5\u4e3a\u53ef\u4ee5\uff0c\u6240\u4ee5\u73b0\u5728\u8bbe\u8ba1\u7684routing\u662f path: '/payment/notify/{commerce_payment_gateway}'\n\u6211\u4e5f\u53bb\u8003\u8651\u4fee\u6539routing, \u628a\u5b83\u53d8\u6210 path: '/payment/notify/{commerce_payment_gateway}/{commerce_order_id}}'. It looks like PaymentAPITest.php has failed. https://travis-ci.org/overtrue/wechat/jobs/224199863#L342. Let me close this PR, and do a clean one.. > \u6211\u89c9\u5f97\u662f\u4e0d\u662f\u52a0\u4e00\u4e2a\u65b9\u6cd5\u6765\u641e\u5b9a API \u7684\u5c01\u88c5\u4f1a\u6bd4\u8f83\u597d\u5462\uff1f\n\u5728\u76ee\u524d\u60c5\u51b5\u4e0b\uff0c\u6211\u6ca1\u770b\u51fa\u6765\u6709\u5206\u522b\u3002\u4f46\u65e2\u7136\u4f60\u5efa\u8bae\u4e86\uff0c\u6211\u4e00\u4f1a\u6539\u8fc7\u6765. \u5728\u6d4b\u8bd5\u90fd\u901a\u8fc7\u540e\uff0c\u6211\u4f1a\u518d\u6b21squash commits. Mockery\u6587\u6863\u4e0a\u8fd9\u6837\u5199\u7684\uff1a\n\nBy default, all test doubles created with the Mockery::mock method will only accept calls that they have been configured to allow or expect.\n\n\u6240\u4ee5\uff0c\u4e0a\u9762\u7684Travis CI\u6d4b\u8bd5\u7ed3\u679c\u91cc\u8bf4\uff1a\n\nBadMethodCallException: Method Mockery_30_EasyWeChat_Payment_API::wrapApi() does not exist on this mock object\n\n\u5c31\u662f\u6b63\u786e\u7684\u3002\n\u4f46\u6211\u4e0d\u7406\u89e3\u7684\u662f\uff0cPaymentAPITest.php \u6709\u5f88\u591a\n$api->prepare($order);, $api->pay($order);, $api->query('testTradeNoFoo'); \u7b49\u4e5f\u662f\u6ca1\u6709allow or expect\u8fc7\uff0c\u4e3a\u4ec0\u4e48\u5b83\u4eec\u4e0d\u62a5\u9519\uff1f. \u8003\u8651\u5230\u4e4b\u524dAPI::****\u90fd\u662fstatic, \u6240\u4ee5\u6211\u628a public function wrapApi\u6539\u6210public\u6ca1\u6709\u5b89\u5168\u95ee\u9898\u3002tests\u90fd\u901a\u8fc7\uff0c\u6211squash\u4e00\u4e0b\u3002. https://github.com/overtrue/wechat/pull/658/commits/71030675b82d6a20312040f0e8587383e0392d6c \u662f\u4e00\u4e2a\u65b0\u7684\u7248\u672c\uff0c\u6211\u672c\u6765\u60f3 @overtrue \u4e24\u4e2a\u7248\u672c\u91cc\u9009\u62e9\u4e00\u4e2a\u4ed6\u66f4\u559c\u6b22\u7684\u3002\u4f46\u662f\uff0c\u8fd9\u4e2a\u65b0\u7684\u7248\u672c\u901a\u8fc7\u4e0d\u4e86\u6d4b\u8bd5\u3002Mockery\u6587\u6863\u7f3a\u4e4f\uff0c\u6211\u6682\u65f6\u6ca1\u6709\u529e\u6cd5\u4e86\u3002. https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=21_2 \u6587\u6863\u5730\u5740\u662f\u4ece https://github.com/overtrue/wechat/issues/507 \u83b7\u53d6\uff0c\u4f46\u662f\u6211\u901a\u8fc7\u6587\u6863\u5bfc\u822a\uff0c\u627e\u5230\u4e86 https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=23_1  \uff0c\u91cc\u9762\u5305\u62ec\u4e86 getsignkey \u7684\u63cf\u8ff0\uff0c\u4f3c\u4e4e\u66f4\u5168. \u6839\u636e\u6587\u6863\uff1a\n\n\u4e3a\u4fdd\u8bc1\u5546\u6237\u63a5\u5165\u8d28\u91cf\uff0c\u63d0\u5347\u4ea4\u6613\u5b89\u5168\u53ca\u7528\u6237\u4f53\u9a8c\uff0c\u5fae\u4fe1\u652f\u4ed8\u7684\u5408\u4f5c\u670d\u52a1\u5546\u5728\u6b63\u5f0f\u4e0a\u7ebf\u4ea4\u6613\u524d\uff0c\u5fc5\u987b\u5148\u6839\u636e\u672c\u6587\u6307\u5f15\u5b8c\u6210\u9a8c\u6536\u3002\u9a8c\u6536\u5b8c\u6210\u540e\uff0c\u670d\u52a1\u5546\u5728\u9a8c\u6536\u516c\u4f17\u5e73\u53f0\uff08\u5fae\u4fe1\u53f7\uff1aWXPayAssist\uff09\u63d0\u4ea4\u9a8c\u6536\u901a\u8fc7\u7533\u8bf7\uff0c\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u624d\u80fd\u5f00\u901a\u76f8\u5e94\u7684\u652f\u4ed8\u6743\u9650\uff08\u5982\uff1a\u5237\u5361\u652f\u4ed8\uff09\u3002\u5426\u5219\uff0c\u8bf7\u6839\u636e\u5ba1\u6838\u9a73\u56de\u63d0\u793a\uff0c\u91cd\u65b0\u5b8c\u6210\u9a8c\u6536\u3002\n\n\u65b0\u7684\u5fae\u4fe1\u652f\u4ed8\u63a5\u901a\u5fc5\u987b\u901a\u8fc7\u6c99\u76d2\u9a8c\u6536\u8fc7\u7a0b\u3002\u73b0\u5728\u9700\u8981\u505a\u7684\u5f00\u53d1\u6709\uff1a\n\n\u5728/Payment/API.php\u91cc\u6dfb\u52a0\u4e00\u4e2a getSandboxSignKey()\n\u6dfb\u52a0 protected $sandboxSignKey;\n\u5728\u6bcf\u6b21\u5bf9\u5fae\u4fe1endpoint\u53d1\u51fa\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5982\u679c\u662f$sandboxEnabled == true, \u5e76\u4e14$sandboxSignKey\u4e3a\u7a7a\uff0c\u90a3\u4e48\u5c31\u5148\u7533\u8bf7\u8fd9\u4e2akey\n\u76ee\u524d\u6ca1\u6709\u5bf9\u8fd9\u4e2akey\u6709persistent caching\u89e3\u51b3\u65b9\u6cd5\u3002\u4f46\u4e5f\u8bb8\u5728\u672a\u6765\u7684\u7248\u672c\u91cc\uff0c\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4f7f\u7528\u8fd9\u4e2aSDK\u7684\u5e94\u7528\u6765cache\u8fd9\u4e2akey.\n\n\u5982\u679c\u6709\u5176\u4ed6\u5efa\u8bae\uff0c\u8bf7\u63d0\u4f9b\u3002\n. \u7b2c\u4e8c\u79cd\u89e3\u51b3\u65b9\u6848\u662f\uff1a\n\n\u5728/Payment/API.php\u91cc\u6dfb\u52a0\u4e00\u4e2a getSandboxSignKey()\n\u8ba9\u5e94\u7528\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u53eb  getSandboxSignKey()\uff0c\u5e76\u4e14\u628a\u7ed3\u679c\u7f13\u5b58\n\u7136\u540e\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 $app = new Application($options);\uff0c\u8fd9\u91cc\u7684$options\u5305\u542b\u4e86\u7b2c\u4e8c\u6b65\u7ed3\u679c\u91cc\u7684sandbox_signkey\n\n\u6211\u4e2a\u4eba\u66f4\u559c\u6b22\u7b2c\u4e8c\u79cd\u65b9\u6848\uff0c\u5176\u4ed6\u4eba\u6709\u6ca1\u6709\u5efa\u8bae\uff1f. > \u80fd\u4e0d\u80fd\u505a\u5230\u53ea\u4fee\u6539 $payment->sandboxMode(true | false) \u5373\u53ef\u5207\u6362 Sandbox \u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\uff1f\u4e0d\u9700\u8981\u589e\u6539\u5176\u4ed6\u4ee3\u7801\uff1f\n\u4f60\u7684\u8fd9\u4e2a\u5efa\u8bae\u662f\u65b9\u6848\u4e00\u53ef\u4ee5\u63d0\u4f9b\u7684\uff1ahttps://github.com/overtrue/wechat/issues/665#issuecomment-297271782, \u4f46\u662f\u65b9\u6848\u4e00\u7684\u7f3a\u70b9\u662f: \n1. \u6bcf\u6b21\u7ed9\u5fae\u4fe1\u505a\u4efb\u4f55\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u90fd\u9700\u8981\u8bf7\u6c42\u4e00\u6b21sandbox_signkey. \uff08\u56e0\u4e3a\uff0c\u6211\u4eec\u65e0\u6cd5\u5728SDK\u91cc\u505a\u5230\u7f13\u5b58sandbox_signkey\uff09\u3002\n2. \u5bf9SDK\u7684\u4fee\u6539\u8981\u6bd4\u65b9\u6848\u4e8c\u591a\u3002\n. > \u4f46\u662f\u5728\u4f7f\u7528\u4e0a\u7684\u8bdd\u65b9\u6848\u4e8c\u4f1a\u7565\u9ebb\u70e6\uff1f\n\u548c\u65b9\u6848\u4e00\u6bd4\uff0c\u9ebb\u70e6\u4e00\u70b9\uff0c\u4ee5\u4e0b\u662f\u6211\u4f7f\u7528\u65b9\u6848\u4e8c\u7684\u4ee3\u7801\uff1a\n```\n    $options = [\n      // \u524d\u9762\u7684appid\u4ec0\u4e48\u7684\u4e5f\u5f97\u4fdd\u7559\u54e6\n      'app_id' => $appid,\n      // ...\n      // payment\n      'payment' => [\n        'merchant_id'        => $mch_id,\n        'key' => '4eb1a5b6d9e5533657e94bd089255d99',\n        'cert_path'          => 'path/to/your/cert.pem', // XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n        'key_path'           => 'path/to/your/key',      // XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n        'notify_url'         => $payment_gateway_plugin->getNotifyUrl()->toString(),\n        // 'device_info'     => '013467007045764',\n        // ...\n      ],\n    ];\n    $app = new Application($options);\n    $wechat_pay = $app->payment;\nif ($mode) {\n  // \u4eceDrupal\u7f13\u5b58\u91cc\u8bfb\u53d6sanbox_signkey\n $cid = 'mymodule_example:' . \\Drupal::languageManager()->getCurrentLanguage()->getId();\n\n $sanbox_signkey = NULL;\n if ($cache = \\Drupal::cache()->get($cid)) {\n   $sanbox_signkey = $cache->data;\n } else {\n   $result = $wechat_pay->getSandboxSignKey();\n   if ($result->return_code == 'SUCCESS') {\n      $options['key'] = $result->sandbox_signkey; \n      $app = new Application($options);\n      $wechat_pay = $app->payment;*/\n      $wechat_pay->sandboxMode(true);\n       \\Drupal::cache()->set($cid, $result->sandbox_signkey); // \u628a\u65b0\u53d6\u5f97\u7684sanbox_signkey\u653e\u5230\u7f13\u5b58\u91cc\n   }\n  }\n}\n\n```. > SDK \u91cc\u4e3a\u5565\u4e0d\u80fd\u7f13\u5b58 sandbox_signkey ?\n\u6211\u8bf4\u7684\u662f persistent caching. \u5f53\u6709\u591a\u4e2aHTTP\u8bf7\u6c42\u5230\u670d\u52a1\u5668\uff0c\u4ec5\u4ec5\u5728SDK\u91cc\uff0c\u6ca1\u529e\u6cd5\u5171\u4eabsandbox_signkey\u3002\u6211\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u628a\u7f13\u5b58\u653e\u5728MySQL/Memcache/Redis\u91cc\u3002. @mingyoung \u8bf7\u9605\u8bfb\u65b9\u68482: https://github.com/overtrue/wechat/issues/665#issuecomment-297278691, \u8fd9\u4e2aPR\u662f\u5b9e\u73b0\u8fd9\u4e2a\u65b9\u6848\u3002\u6211\u76ee\u524d\u6d4b\u8bd5\u6210\u529f\u3002\u5982\u679c\u4f60\u4e0d\u540c\u610f\u8fd9\u4e2a\u65b9\u6848\uff0c\u6216\u8005\u8ba4\u4e3a\u8fd8\u7f3a\u5c11\u54ea\u91cc\uff0c\u8bf7\u7ed9\u51fa\u7406\u7531\u3002. \u4e0d\u8981\u4f7f\u7528Else\u800c\u7528Return? \u7b2c\u4e00\u6b21\u542c\u8bf4\u3002\u4f46\u662f\u4e3a\u4ec0\u4e48 codacy/pr \u53ea\u5bf9\u8fd9\u4e00\u4e2aelse\u4f5c\u51fa\u8b66\u544a\u5462\uff1f. \u662f\u7684\u3002. @overtrue \u662f\u7684, \u4f60\u63d0\u4f9b\u7684\u4ee3\u7801\u662f\u6ca1\u95ee\u9898\u7684. \u4f46\u662f, \u8fd9\u4e2aissue\u662f\u8bf4, ->setRequest($request) \u662f\u5728 createDefaultRequest() \u8fd0\u884c\u4e4b\u540e\u518d\u8fd0\u884c.\n\u95ee\u9898\u5728\u4e8e createDefaultRequest() \u91cc\u5df2\u7ecf\u8fd0\u884c\u4e86\u4e00\u8fb9 $session = new Session();, \u8fd9\u4e00\u884c\u4ee3\u7801\u5728\u6709custom session storage\u91cc\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u51b2\u7a81. \n\u6211\u5728\u627e\u6709\u4ec0\u4e48\u529e\u6cd5\u80fd\u5728__construct()\u91cc\u5c31\u628a$session\u4f20\u9012\u8fdb\u53bb, \u8fd9\u6837\u907f\u514d createDefaultRequest() \u8fd0\u884c. \n\u4ee5\u4e0a\u63cf\u8ff0\u6709\u8bf4\u6e05\u95ee\u9898\u5417?. \u6211\u4f7f\u7528\u7684\u662fDrupal, \u5efa\u7acb\u5728Symfony 2\u4e0a, Drupal \u6709\u4e2a custom class SessionManager extends NativeSessionStorage, \u5f53\u6709\u65b0\u7684session\u5efa\u7acb, \u5c31\u4f1a\u8986\u76d6\u5df2\u7ecf\u6709\u7684session, \u800c\u65b0\u7684session\u4e0d\u6ee1\u8db3\u6761\u4ef6(\u5177\u4f53\u6761\u4ef6\u8fd8\u6ca1\u67e5\u6e05\u695a), \u5c31\u4f1a\u88abdestroy() http://cgit.drupalcode.org/drupal/tree/core/lib/Drupal/Core/Session/SessionManager.php?id=e1e2161#n187\n\u4ee5\u4e0a\u7684\u51b2\u7a81\u5e94\u8be5\u6bd4\u8f83\u5c11\u89c1. \u56e0\u4e3a\u73b0\u5728\u7528Symfony\u5728\u7528 custom SessionStorage\u88ab\u8ba4\u4e3a\u662flegacy app. \u5305\u62ecDrupal 8\u5728\u5185, \u957f\u8fdc\u8ba1\u5212\u662f\u5229\u7528\u66f4\u591a\u7684Symfony session management.\n\u6240\u4ee5, \u6211\u73b0\u5728\u8c03\u67e5\u7684\u4e00\u4e2a\u65b9\u5411\u662f, \u770b\u770b\u53ef\u4e0d\u53ef\u4ee5\u5728SocialiteManager::__construct()\u91cc\u76f4\u63a5\u628asession\u4f20\u9012\u8fdb\u53bb. \u76ee\u524d, \u6211\u770b\u89c1\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u8c03\u7528/overtrue/socialite, \u800c\u4e0d\u4f7f\u7528/overture/wechat\u7684\u5c01\u88c5.\n\u4f60\u60f3\u5230\u66f4\u5feb\u6377\u7684\u65b9\u6cd5\u5417?\n. \u6587\u6863\u662f\u8fd9\u6837\u5199\u7684\n1\u3001\u4fee\u6539\u5546\u6237\u81ea\u6709\u7a0b\u5e8f\u6216\u914d\u7f6e\u4e2d\uff0c\u5fae\u4fe1\u652f\u4ed8api\u7684\u94fe\u63a5\uff0c\u5982\uff1a\u88ab\u626b\u652f\u4ed8\u5b98\u7f51\u7684url\u4e3a\uff1ahttps://api.mch.weixin.qq.com/pay/micropay\u589e\u52a0sandbox\u8def\u5f84\uff0c\u53d8\u66f4\u4e3ahttps://api.mch.weixin.qq.com/sandbox/pay/micropay\uff0c \u5373\u53ef\u63a5\u5165\u6c99\u7bb1\u9a8c\u6536\u73af\u5883\uff0c\u5176\u5b83\u63a5\u53e3\u7c7b\u4f3c\uff1b ---- https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=21_2\n\u5176\u5b83\u63a5\u53e3\u7c7b\u4f3c \u8ba9\u6211\u4ee5\u4e3a\u662f\u6709\u7684\u3002\n. \u6211\u672c\u6765\u60f3$api->allow('wrapApi');\u4f46\u627e\u4e86\u5f88\u591a\u9875\u9762\u548c\u5b98\u65b9\u6587\u6863\uff0c\u627e\u4e0d\u5230\u76f8\u5e94\u7684\u8bed\u53e5\u3002\u540e\u6765\u60f3\u4e86\u4e00\u4e0bwrapApi\u4f5c\u4e3apublic\u4e5f\u6ca1\u4ec0\u4e48\u574f\u5904\u3002\u867d\u7136\u662f\u4e3a\u4e86\u6d4b\u8bd5\u800c\u6539\u4ee3\u7801\uff0c\u4f46\u662f\u8fd9\u4e2a\u66f4\u6539\u662f\u6211\u53ef\u4ee5\u63a5\u6536\uff0c\u56e0\u4e3a\u4e4b\u524d\u7684API::******\u7684\u4f7f\u7528\u5c31\u662fstatic\u7684\u65b9\u6cd5\u3002. \u4f8b\u5982const API_PAY_ORDER = 'https://api.mch.weixin.qq.com/pay/micropay'; \u4ee5\u524d\u53ef\u4ee5\u9759\u6001\u83b7\u5f97$url = API:: API_PAY_ORDER \u5730\u5740\uff0c\u610f\u601d\u662f\u8bf4\u8fd9\u4e2a\u5730\u5740\u4e0d\u662f\u5c01\u88c5\u5728\u8fd9\u4e2a\u7c7b\u91cc\u7684\u3002\n\u73b0\u5728\uff0c\u5982\u679c\u8981\u83b7\u53d6\u4e00\u4e2aendpoint URL:\n\u53ef\u4ee5\uff1a\n$api = new API($merchant);\n$api->sandboxMode(true);\n$url = $api->wrapApi(API::API_PAY_ORDER);\n\u5982\u679c\u662fwrapApi \u662f protected \u7684\u8bdd\uff0c\u90a3\u5c31\u4e0d\u4e00\u5b9a\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u53ef\u4ee5\u4f7f\u7528$api->wrapApi()\u4e86. > wrapApi \u5e76\u4e0d\u662f\u7ed9 API.php \u5916\u754c\u7684\u7c7b\u6240\u4f7f\u7528\u7684\uff0c\u4e0d\u9700\u8981\u5f00\u653e\u7ed9\u5916\u754c\n\u6211\u4e0a\u9762\u7684\u56de\u590d\u662f\uff0c\u5e94\u8be5\u9700\u8981\u63d0\u4f9b\uff0c\u56e0\u4e3a\u65e7\u7684\u7248\u672c\u53ef\u4ee5\u8ba9\u5916\u754c\u62ff\u5230\u4e00\u4e2a\u670d\u52a1\u7684URL, \u4ece\u5411\u540e\u517c\u5bb9\u7684\u89d2\u5ea6\u8003\u8651\uff0c\u65b0\u7684\u7248\u672c\u4e5f\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6cd5\u8ba9\u5916\u754c\u62ff\u5230\u4e00\u4e2a\u670d\u52a1\u7684URL\n\n\u4ece\u4e00\u5f00\u59cb\u6211\u5c31\u8bf4\u4e86\uff0c\u4f60\u5982\u679c\u60f3\u5728\u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\u8ba9 wrapApi \u80fd\u8c03\u7528\uff0c\u4f60\u9700\u8981\u4f7f\u7528 mockery \u63d0\u4f9b\u7684\u65b9\u6cd5\u8ba9 protected \u65b9\u6cd5\u53ef\u4ee5 mock\u3002\n\n\u6211\u6ca1\u6709\u4f7f\u7528->shouldAllowMockingProtectedMethods()\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u4f7fAPI.class\u4e0b\u7684\u5176\u4ed6protected methods\u4e5f\u53ef\u4ee5\u88abmock\u3002\u6211\u5e0c\u671b\u80fd\u627e\u5230\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u53eaallow wrapApi\u88abmock\u3002\u4f46\u76ee\u524d\u8fd8\u6ca1\u7528\u5728Mockery\u6587\u6863\u91cc\u627e\u5230\u3002\n\u8fd9\u4e2aPR\u5bf9Maintainer\u7684\u6743\u9650\u662f\u5f00\u653e\u7684\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u60f3\u6cd5\u6765\u6700\u540e\u51b3\u5b9a\u5982\u4f55\u8bbe\u8ba1\uff0c\u8bf7\u76f4\u63a5commit\u5230\u8fd9\u4e2aPR\u4e0a\u6765\u3002. \u8fd9\u91cc\u7684throw\u76ee\u7684\u662f\u6293\u4f4f$result->return_msg. throw new Exception($result->return_msg); \u8fd9\u4e2a\u662f\u4e3a\u4e86\u6293\u4f4f\u5fae\u4fe1\u4e1a\u52a1\u4e0a\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5728\u8fd9\u91ccthrow\uff0c\u76f4\u63a5\u5230\u4e86  } catch (Exception $e) { \u5982\u679c\u6ca1\u6709\u8fd9\u4e2athrow new Exception($result->return_msg);, \u5f53\u5fae\u4fe1\u8fd4\u56de sandbox_signkey\u9519\u8bef\u7684\u65f6\u5019\uff0c\u5e94\u7528\u5c31\u6536\u4e0d\u5230\u76f8\u5bf9\u56e0\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5e76\u4e14\u7ee7\u7eed $this->sandboxSignKey \u8fd8\u662f\u4e3a\u7a7a\uff0c\u7136\u540e\u5c31\u518d\u6b21$request, \u90a3\u4e48\u5c31\u4f1a\u6b7b\u5faa\u73af\u3002\n\u8fd9\u91cc\u7684try catch\u53ef\u4ee5\u7701\u7565. ",
    "springjk": "\u56e0\u4e3a\u5728\u865a\u62df\u4e3b\u673a\u4e0a\u65e0\u6cd5\u8fdb\u884c\u6269\u5c55\u5b89\u88c5\u548c\u7248\u672c\u5347\u7ea7\uff0c\u6545 fuckTheWeChatInvalidJSON \u51fd\u6570\u4e2d\u7684\u6b63\u5219\u4e0d\u88ab\u652f\u6301\uff0c\u6211\u53c2\u8003   \u6b63\u5219\u6587\u6863 \u4fee\u6539\u63d0\u4ea4\u4e86 pull-516\uff0c\u80fd\u5426\u5408\u5e76\u8fd9\u4e2a\u517c\u5bb9\u5904\u7406\u3002\n. Merged #519 \n. \u91cd\u65b0\u63d0\u4ea4\u81f3 #519 \n. see #515 \n. \u6211\u770b\u7684\u6587\u6863\u662f http://www.regular-expressions.info/unicode.html\uff0c\u4e0a\u9762\u5199\u7684\u662f 7f ,\u6211\u4e00\u5f00\u59cb\u6253\u5f00\u4f60\u7684\u8fd9\u4e2a\u770b\u5230\u662f\u4e2a\u6b63\u5219\u9a8c\u8bc1\u5c31\u6ca1\u4ed4\u7ec6\u770b\u4e86\uff0c\u4e5f\u6ca1\u770b\u6e05\u4f60\u5199\u7684\u662f 80\uff0c\u975e\u5e38\u62b1\u6b49\uff0c\u67e5\u770b\u4e86\u4f60\u63d0\u4f9b\u7684\u9a8c\u8bc1\u548c Latin1 \u7684\u5b9a\u4e49\uff0c\u8fd9\u4e2a\u6587\u6863\u8ba9\u6211\u5165\u5751\u4e86\uff0c\u5df2\u7ecf\u6309\u7167\u4f60\u7684\u8bf4\u660e\u91cd\u65b0\u63d0\u4ea4\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u5173\u4e86\uff0cSorry\u3002\n. ",
    "dongm2ez": "ok,\u5df2\u7ecf\u89e3\u51b3\u4e86\uff0c\u8c22\u8c22\u4f60\n. ",
    "nigelvon": "@overtrue \n\u65e5\u5fd7\u6ca1\u51fa\u9519\n[2016-11-08 18:04:20] easywechat.DEBUG: Message detail: {\"ToUserName\":\"xxx\",\"FromUserName\":\"xxx\",\"CreateTime\":\"1478599460\",\"MsgType\":\"event\",\"Event\":\"SCAN\",\"EventKey\":\"event1\",\"Ticket\":\"xxxx==\"} []\n[2016-11-08 18:04:20] easywechat.DEBUG: Server response created: {\"response\":\"<xml><ToUserName><![CDATA[xxx]]></ToUserName><FromUserName><![CDATA[xxx]]></FromUserName><CreateTime>1478599460</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[test]]></Content></xml>\"} []\n. @overtrue \u5c4f\u853d\u6389\u94fe\u63a5\n. \u4e0d\u5bf9\u5427\u3002PHP \u7248\u672c\u90fd\u4e0d\u5bf9\u554a\u3002\u6211\u968f\u4fbf\u8bbf\u95ee\u4e00\u4e0b\u662f\u8fd9\u4e2a\u5934\nCache-Control:no-store, no-cache, must-revalidate\nConnection:keep-alive\nContent-Type:text/html;charset=UTF-8\nDate:Tue, 08 Nov 2016 10:20:31 GMT\nExpires:Thu, 19 Nov 1981 08:52:00 GMT\nPragma:no-cache\nServer:nginx/1.10.2\nTransfer-Encoding:chunked\nX-Powered-By:PHP/7.0.12\n. \u4f60\u5237\u65b0\u4e00\u4e0b\uff0c\u6211\u56de\u590d\u7684\u65f6\u5019\u7ed9\u9519\u4e86\uff0c\u9a6c\u4e0a\u6539\u4e86\u3002URL\u3002\n. \u597d\u5427\u3002\u597d\u8be1\u5f02\u6211\u51c6\u5907\u628a\u6240\u6709\u7684\u8f93\u5165\u90fd\u6253\u51fa\u6765\u770b\u770b\u5fae\u4fe1\u662f\u4e0d\u662f\u8bf7\u6c42\u4e86\u4e24\u6b21\u3002\n. \u641e\u5b9a\u4e86\u3002\u539f\u56e0\u662f\u6388\u6743\u4e86\u7b2c\u4e09\u65b9\u5e10\u53f7\u670d\u52a1\u6743\u9650\u3002\u7ed3\u679c\u4ed6\u4eec\u4ee3\u7801\u6ca1\u5199\u597d\uff0c\u8fd4\u56de\u4e86\u4e0d\u89c4\u8303\u7684\u7ed3\u679c\u3002\u5bfc\u81f4\u51fa\u6765\u4fe9\u7ed3\u679c\u3002\u591a\u8c22\n. \u80fd\u4e0d\u80fd\u9ebb\u70e6\u628a\u4e0a\u9762\u5e26\u94fe\u63a5\u7684\u56fe\u7ed9\u7f16\u8f91\u6389\u8c22\u8c22\u5566\u3002\u6bd5\u7adf\u751f\u4ea7\u73af\u5883\u3002\u8fd8\u53d1\u9519\u4e86\n. ",
    "Sunappnio": "\u6211\u4e5f\u9047\u5230\u4e86\u8fd9\u4e2a\u60c5\u51b5\uff0c\u6211\u7528\u7684\u4e2d\u95f4\u4ef6\uff0c\u5e94\u8be5\u662f\u7528\u6237\u5728\u6388\u6743\u5931\u8d25\u9875\u9762\u5237\u65b0\u5bfc\u81f4\u7684\u3002. ",
    "xiaohuilam": "\u6211\u4e5f\u51fa\u73b0\uff0c\u5e76\u975e\u6388\u6743\u5931\u8d25\u3002\n\u73af\u5883\uff1aSwooleFramework\uff0cPHP 7.09\n\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u6ca1\u6709\u8c03\u7528\u5230overtrue/wechat/src/Core/AccessToken\n\u7f51\u7edc\u51fa\u6d41\u91cf\u6293\u5305\uff0c\u7ed9\u5fae\u4fe1\u7684\u8bf7\u6c42\u7684access_token\u6ca1\u6709\u5e26\n\u6b64\u4e3abug~. ",
    "zacksleo": "\u8fd9\u4e2a\u4f1a\u662f\u4ec0\u4e48\u539f\u56e0\u5f15\u8d77\u7684\u5462?. @overtrue \u8c22\u8c22 , \u6211\u4f1a\u4ed4\u7ec6\u68c0\u67e5\u786e\u8ba4. \u5728\u767b\u5f55\u6388\u6743\u7684\u65f6\u5019, \u6211\u5728\u4ee3\u7801\u4e2d\u53d1\u73b0 \u4f4d\u4e8e socialite/src/Providers/WechatProvider\u4e2d59\u884c:\n\u5982\u679cscrop\u662fsnsapi_login, \u4f1a\u628aoauth2/authorize\u66ff\u6362\u4e3aqrconnect, \u8fd9\u662f\u4e3a\u4ec0\u4e48?\n\u5982\u679c\u628a\u8fd9\u4e2a\u53bb\u6389, \u5fae\u4fe1\u767b\u5f55\u6388\u6743\u53ef\u4ee5\u901a\u8fc7\n\u4f7f\u7528qrconnect\n\n\u4f7f\u7528oauth2/authorize\n\n. ok, \u5df2\u7ecf\u641e\u660e\u767d\u4e86, scope\u9700\u8981\u5728Application\u7684config\u91cc\u914d\u7f6e \ud83d\ude03 . php\nuse Overtrue\\Socialite\\SocialiteManager;\n$appCode = 'app\u4e2d\u83b7\u53d6\u5230\u7684code';\n$config = [\n    'wechat' => [\n        'client_id'     => 'your-app-id',\n        'client_secret' => 'your-app-secret',\n        'redirect'      => null,\n    ],\n];\n$socialite = new SocialiteManager($config);\n$wechat = $socialite->driver('wechat');\n$accessToken = $wechat->getAccessToken($appCode);\n$user = $wechat->user($accessToken);\n\u4eb2\u6d4b\u53ef\u4ee5. \u7ecf\u67e5\uff0chttps://github.com/overtrue/wechat/blob/master/src/OfficialAccount/Card/JssdkClient.php#L73\n\u6b64\u5904\u8fd4\u56de\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u7f3a\u5c11nonce_str\u9879\uff0c\u89c1\u5b98\u65b9\u6587\u6863\uff1a\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115\n\n. \u6570\u636e\u5e93\u6539\u7528utf8mb4\u7f16\u7801\u683c\u5f0f\u8bd5\u8bd5\uff1f. code,iv, decryptedData \u53ea\u80fd\u4f7f\u7528\u4e00\u6b21. \u9644\u8bae. ",
    "soone": "\u597d\u554a\uff0c\uff0c\u4e0d\u8fc7\u5f97\u540e\u9762\uff0c\uff0c\u73b0\u5728\u8d76\u9879\u76ee\uff0c\u6211\u4f1a\u62bd\u65f6\u95f4\u8865\u4e0a\u7684\uff0c\u5148fork\u8fc7\u6765. \u54e6\uff0c\u8fd9\u4e2a\u5730\u65b9\u6211\u4ee5\u4e3a\u662fevent\u662f\u6839\u636e\u4e0a\u9762\u7684\u6570\u503c\u603b\u548c\u7684\uff0c\uff0c\u6240\u4ee5\u6539\u4e86event\u7684\u503c. \u6211\u52a0\u4e86256\u548c512\uff0c\u6240\u4ee5\u5c31\u628aevent\u7684\u503c\u4e5f\u91cd\u65b0\u8ba1\u7b97\u4e86\u3002\u3002. event\u90a3\u4e2a\u786e\u5b9e\u6539\u9519\u4e86\uff0c\uff0c\u4f60\u62d2\u7edd\u5427\uff0c\u6211\u6539\u56de\u6765\u91cd\u65b0\u63d0\u4ea4. \u90a3ALL_MSG\u7684\u503c\u662f\u4e0d\u662f\u4e5f\u662f\u9519\u4e86\uff1f. ok\n. ",
    "mingyoung": "php\nnew Application([\n...\n'open_platform' => [\n                'app_id' => 'component_appid',\n                'access_token' => 'component_access_token'\n            ],\n]). \u4e0d\u662f\u5728\u7528\u6237\u7ec4\u7ba1\u7406\u91cc\u9762\u80fd\u83b7\u53d6\u5417\uff1f. @overtrue \u7f51\u7edc\u6302\u4e86\uff0c\u7b49\u4e0b\u7f51\u7edc\u597d\u4e86push\u4e0a\u53bb\u2026. @overtrue \ud83d\udc4c. \u8fd9\u7c7b\u95ee\u9898\u5e94\u8be5\u5230\u8bba\u575b\u63d0\u95ee. @overtrue \u53ef\u4ee5\u5220\u9664\u3002\u3002. @iScript \u53d1\u9001\u6a21\u7248\u6d88\u606f\uff0c\u5ba2\u670d\u6d88\u606f\u7b49\u8fd8\u6ca1\u5c01\u88c5\u8fdb\u6765\uff0c\u5b8c\u5584\u540e\u518d\u66f4\u65b0\u6587\u6863\u5427\u3002. @zhkzyth \n\u8fd8\u6ca1\u5b8c\u5584\uff0c\u53ef\u4ee5\u5148\u770b\u770b\u8fd9\u91cc\nhttps://github.com/mingyoung/docs/blob/mini-program/mini_program.md. \u53ef\u9009. Cool\uff5e\ud83d\ude1d\n\u56e0\u4e3a\u6211\u7684\u5c0f\u7a0b\u5e8f\u8fd8\u5728\u5ba1\u6838\u4e2d\uff0c\u6ca1\u4e0a\u7ebf\u751f\u6210\u4e0d\u4e86\u4e8c\u7ef4\u7801\u6240\u4ee5\u6ca1\u6d4b\u8bd5\u5230\u8fd9\u4e2a\u3002. #580. @reatang \u7406\u8bba\u4e0a\u6ca1\u95ee\u9898 \uff1a\uff09. \u8fd9\u6837\u6539OK\u4e0d\uff1f. @valitors \n705\nhttps://github.com/overtrue/wechat/commit/3fd5e35524694c131af9f94e9282c648dc078839 \u4f60\u8bd5\u8bd5\u8fd9\u6837\u80fd\u89e3\u51b3\u4e0d\uff1f. \u4f60\u8fd9\u6837\u6539\u7684\u8bdd\u90a3 \u6839\u636eOpenID\u5217\u8868\u7fa4\u53d1 \u8fd9\u5757\u7684\u7fa4\u53d1video\u8c8c\u4f3c\u4f1a\u5931\u8d25\u5427\uff1f  . \u6682\u65f6\u53ea\u652f\u6301\u5f00\u653e\u5e73\u53f0\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\uff0capp\u5fae\u4fe1\u767b\u5f55\u8fd8\u6ca1\u652f\u6301 \uff1a\uff09. \u5e94\u8be5\u548c\u7f51\u9875\u6388\u6743\u7684\u539f\u7406\u5dee\u4e0d\u591a\u5427\uff1f\u670d\u52a1\u7aef\u5904\u7406. \u8c8c\u4f3c\u548c\u666e\u901a\u7684\u6388\u6743\u4e00\u6837\u7684\u3002\u90a3\u4e48\u76f4\u63a5\u7528\u8fd9\u4e2a\u5305\u5c31\u597d\u4e86\uff1aovertrue/socialite \n\uff08\u5df2\u5b89\u88c5 overtrue/wechat \u7684\u8bdd\u5c31\u4e0d\u7528\u518d\u5b89\u88c5\u4e86\uff09\n```\nuse Overtrue\\Socialite\\SocialiteManager;\n$config = [\n    'wechat' => [\n        'client_id'     => 'your-app-id',\n        'client_secret' => 'your-app-secret',\n        'redirect'      => null,\n    ],\n];\n$socialite = new SocialiteManager($config);\n// \u83b7\u53d6code\u540e\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n$user = $socialite->driver('wechat')->user();\n``\n\u4ee3\u7801\u81ea\u884c\u6d4b\u8bd5 \uff1a\uff09. \u4e48\u4e48\u54d2. \u540c\u6837\u89c9\u5f97\u65b9\u6848\u4e8c\u6bd4\u8f83\u9002\u5408\u3002\ud83d\ude1c\n\u5df2\u7ecf\u5199\u4e86\u4e2a\u7b2c\u4e09\u65b9\u5e73\u53f0\u4e13\u95e8\u7684 OAuth\uff0c\u8be6\u89c1 overtrue/socialite#48\uff1b\n\u53e6\u5916\u5f00\u653e\u5e73\u53f0\u4ee3\u7801\u6b63\u5728\u91cd\u6784\u5b8c\u5584\u5f53\u4e2d\u4e86\u3002. @tinpont \u597d\u7684\uff0c\u6211\u770b\u770b\u2764\ufe0f. #615 . mockery 1.0@dev \u4e0d\u652f\u6301travis-ci\u7684 PHP5.5 \u600e\u4e48\u7834\ud83d\ude02. @cnvcanson \u62c9 master \u7248\u672c\u4ee3\u7801\u8bd5\u8bd5\"overtrue/wechat\": \"dev-master\"`. \u5347\u7ea7\u4e0b\u7248\u672c. \u77ed\u94fe\u63a5\u8f6c\u6362\u63a5\u53e3\u5730\u5740\uff1a\n\nhttps://apihk.mch.weixin.qq.com/tools/shorturl    \uff08\u5efa\u8bae\u63a5\u5165\u70b9\uff1a\u4e1c\u5357\u4e9a\uff09\nhttps://apius.mch.weixin.qq.com/tools/shorturl    \uff08\u5efa\u8bae\u63a5\u5165\u70b9\uff1a\u5176\u5b83\uff09\nhttps://api.mch.weixin.qq.com/tools/shorturl        \uff08\u5efa\u8bae\u63a5\u5165\u70b9\uff1a\u4e2d\u56fd\u56fd\u5185\uff09\n\nDoc\uff1a\u8f6c\u6362\u77ed\u94fe\u63a5\n\nQ: Which server should I send API requests to?\nA: If you have an International Official Account, use api.wechat.com.\nIf you have a China Official Account, use api.weixin.qq.com.\nhttp://open.wechat.com/cgi-bin/newreadtemplate?t=overseas_open/faq&symbol=faqs-oa-technical. \u5347\u7ea7 3.3\u7248\u672c\u89e3\u51b3\n\u26a0\ufe0f 3.3\u7248\u672c\u5f00\u653e\u5e73\u53f0\u90e8\u5206\u4e0d\u517c\u5bb9\u4e4b\u524d\u7684\u7248\u672c\uff0c\u8bf7\u6309\u6700\u65b0\u5f00\u653e\u5e73\u53f0\u6587\u6863\u4f7f\u7528. 3.3 \u7248\u672c\u540e\uff0cSDK \u5728\u5fae\u4fe1\u63a8\u9001\u6388\u6743\u4e8b\u4ef6\u540e\u4e0d\u7f13\u5b58 Authorizer \u7684 AccessToken \u548c RefreshToken\u3002\u5728\u8c03\u7528\u6388\u6743\u65b9 API \u540e\u4f1a\u7f13\u5b58\u5e76\u81ea\u52a8\u5237\u65b0 Token \u6709\u6548\u671f\u3002\n\u26a0\ufe0f 3.3\u7248\u672c\u5f00\u653e\u5e73\u53f0\u90e8\u5206\u4e0d\u517c\u5bb9\u4e4b\u524d\u7684\u7248\u672c\n\u8bf7\u6309\u6700\u65b0\u5f00\u653e\u5e73\u53f0\u6587\u6863\u4f7f\u7528. @tsunamilx how about it?\ud83d\ude04. @overtrue \u4e3b\u8981\u662f\u6388\u6743\u65b9APPID\uff0cTOKEN\u7684 Setter \u548c Getter \u5427. I'll fix this later.. \u5982\u679c\u5f00\u53d1\u8005\u5728\u56de\u8c03\u9875\u9762\u4e2d\u6839\u636e auth_code \u83b7\u53d6\u6388\u6743\u4fe1\u606f\u7684\u8bdd\u90a3\u5c31\u6709\u51b2\u7a81\u4e86. authorizer_refresh_token \u5e94\u8be5\u90fd\u8981\u4fdd\u5b58\u5230\u81ea\u5df1\u7684\u6570\u636e\u5e93\u5427\uff0c\u5982\u679c\u4ea4\u7ed9\u7f13\u5b58\u6765\u5904\u7406\uff0c\u90a3\u6e05\u7a7a\u7f13\u5b58\u4e0d\u5c31\u90fd\u6ca1\u4e86\uff1f @tsunamilx . \u6388\u6743\u4e8b\u4ef6\u63a8\u9001\u4e86\uff0c\u7136\u540e SDK \u83b7\u53d6 token A \u5e76\u7f13\u5b58\u3002\n\u5f00\u53d1\u8005\u5728\u56de\u8c03\u9875\u9762\u6839\u636e auth_code \u8c03\u7528 $openPlatform->getAuthrizationInfo('auth_code)\uff08\u8fd9\u4e2a\u65b9\u6cd5\u6ca1\u6709\u91cd\u65b0\u5199\u7f13\u5b58\uff09 \u518d\u6b21\u83b7\u53d6\u4e86 token B\u3002\n\u90a3 token A \u5931\u6548\u4e86\uff0c\u4f46\u662f\u8fd8\u5728\u7f13\u5b58 token A\u3002\n\n\u8fd9\u4e2a\u540c\u610f\uff0c\u4e0d\u8fc7\u611f\u89c9\u6e05\u7a7a\u7f13\u5b58\u7684\u53ef\u80fd\u6027\u4e0d\u5927\uff0c\u90a3 component_verify_ticket \u662f\u4e0d\u662f\u4e5f\u8981\u62ff\u51fa\u6765\u81ea\u884c\u5904\u7406\u3002\n\n\u5c31\u7b97\u6e05\u7a7a\u7f13\u5b58\u4e86\uff0ccomponent_verify_ticket \u53ef\u4ee5\u7b4910\u5206\u949f\u5fae\u4fe1\u63a8\u9001\u8fc7\u6765\uff0cauthorizer_refresh_token\n \u5c31\u8981\u91cd\u65b0\u7528\u6237\u6388\u6743\u624d\u6709\u4e86\u3002. \u6240\u4ee5\u8981\u51cf\u5c11\u8e29\u5751\u7684\u673a\u4f1a\u3002\u8fd8\u6709\u6211\u89c9\u5f97\u4e0d\u5e94\u8be5\u91cd\u65b0\u5305\u88c5\u5fae\u4fe1\u8fd4\u56de\u7684\u5185\u5bb9\uff0c\u518d\u8fd4\u56de\u7ed9\u5f00\u53d1\u8005\u3002\n\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u8c03\u7528\u76f8\u5e94\u7684API\u5c31\u597d\uff0cSDK\u4e0d\u505a\u592a\u591a\u4e8b\uff1a\uff09. \u8fd9\u4e2a\u95ee\u9898\u4f60\u8981\u95ee\u5fae\u4fe1\u4e86\u3002\nSDK \u8fd4\u56de\u7684\u5185\u5bb9\u5c31\u662f\u5fae\u4fe1\u8fd4\u56de\u7684\u5185\u5bb9\u3002. @overtrue \u53d1\u4e2a\u65b0\u7248\uff1f\ud83d\ude02. @overtrue \u5c0f\u7a0b\u5e8f\u89e3\u5bc6\u9519\u8bef\u90a3\u4e2a\u95ee\u9898\uff1f. @overtrue \u5e94\u8be5\u4e0d\u662f. @skyred  \u6c99\u7bb1\u6a21\u5f0f\u7684\u7b7e\u540d\u662f\u4e0d\u662f\u8981\u4ece\u5fae\u4fe1\u670d\u52a1\u5668\u83b7\u53d6\uff1f. @overtrue \n\u8981\u4e0d\u90fd\u8fd4\u56de array\uff1f\n\u6bd4\u5982\u57fa\u4e8e laravel-wechat \u518d\u5199\u4e86\u4e00\u4e2a Laravel \u5305\uff0c\u5305\u91cc\u9762\u6709\u4e2a\uff1a $app->user->get('xxx')['nickname']\n\u5982\u679c\u662f\u6570\u7ec4\u7684\u8bdd\u8fd9\u6837\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u4f46\u662f\u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49 response_type \u4e3a\u5176\u4ed6\u7684\u8bdd\u90a3\u5c31\u4f1a\u62a5\u9519\u4e86\ud83e\udd23. \u7136\u540e\u5462\u3002\u3002. @overtrue \u5c31 open-platform \u6bd4\u8f83\u591a\u51b2\u7a81\ud83d\ude06. \u4ee5 /sandboxnew \u4e3a\u51c6\uff0c\u6211\u95ee\u8fc7\u5ba2\u670d\u4e86\uff1b\n\u6c99\u7bb1\u6a21\u5f0f\u7684\u7b7e\u540d\u662f\u8981\u4ece\u5fae\u4fe1\u670d\u52a1\u5668\u83b7\u53d6\u7684\uff0c\u4e4b\u524d\u4e5f\u63d0\u9192\u8fc7\u4f60\u4e86\u3002\u3002\u3002. \u80fd\u4e0d\u80fd\u505a\u5230\u53ea\u4fee\u6539 $payment->sandboxMode(true | false) \u5373\u53ef\u5207\u6362 Sandbox \u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\uff1f\u4e0d\u9700\u8981\u589e\u6539\u5176\u4ed6\u4ee3\u7801\uff1f. \u4f46\u662f\u5728\u4f7f\u7528\u4e0a\u7684\u8bdd\u65b9\u6848\u4e8c\u4f1a\u7565\u9ebb\u70e6\uff1f\ud83d\ude04. \u6240\u4ee5\u2026\u2026\u7b2c\u4e00\u79cd\u65b9\u6848\u4f1a\u597d\u70b9\uff1f. Incomplete kit!. $miniProgram->encryptor->decryptData($sessionKey, $iv, $encryptedData);. @hareluya \n\u5df2\u4fee\u590d\uff1ahttps://github.com/overtrue/wechat/commit/af7ba6aa5282d9fde5cb9fc7b95562d9859837ca. @hareluya \u597d\uff0c\u6211\u660e\u5929\u770b\u770b\u518d\u5904\u7406\u4e00\u4e0b. @hareluya \nhttps://github.com/overtrue/wechat/commit/67dcd98bce308235dda9698f82ecf8fba150ba70\n\u5b9e\u4f8b\u5316\u540e\uff1a$miniProgram->encryptor->decryptData($sessionKey, $iv, $encryptedData);. good\u263a\n. #691 . \u7406\u8bba\u4e0a\u5728\u521b\u5efa\u8ba2\u5355\u65f6\u8bbe\u7f6e 'trade_type' => 'MWEB' \u5c31\u53ef\u4ee5\u4e86\u3002\n\u6587\u6863\uff1a\u521b\u5efa\u8ba2\u5355\nissue \u5148\u5173\u95ed\u4e86\uff0c\u6709\u95ee\u9898\u518d\u56de\u590d. API \u5982\u679c\u8bbe\u8ba1\u8fd9\u6837\u4f1a\u4e0d\u4f1a\u597d\u70b9\uff1f\nphp\n$wechat->clearQuota();\n// \u73b0\u5728\u7528\u6cd5\uff1a\n$wechat->clear_quota->clear();. https://github.com/overtrue/wechat/commit/62f2a91f0ee334a0947d0e113600e245edd96191\nUsage:\nphp\n$app->clearQuota();\n$app->getCallbackIp();. @never615 \u55ef. \u6ca1\u90a3\u4e48\u5feb\u54e6\uff0c\u4f30\u8ba1\u4e00\u4e24\u4e2a\u6708\u5427 \ud83d\ude02\n. @never615 \n\u6216\u8bb8 EnterpriseAccount \u4f1a\u6539\u6210 WeWork\u3002\n\u4f60\u53ef\u4ee5\u5148\u5199\uff0c\u6162\u6162\u518d\u8c03\u6574\u5427\u3002\ud83e\udd23. \u7684\u786e\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898. \u5728\u54ea\u91cc dd() \u4e86\u5427\n\u8fd8\u6709\u4f60\u7684secret\u66b4\u9732\u4e86. @dm22933 \u5565\u3002\u3002. \n\u88ab\u7fa4\u53d1\u4e86\u5427. \u8fd8\u662f\u68c0\u67e5\u4e0b\u5728\u54ea\u91ccdd()\u4e86\u5427 \uff0c\u4e0d\u7136\u4e5f\u4e0d\u4f1a\u663e\u793a\u8fd9\u4e2a\u683c\u5f0f. ```php\n$config = [\n    'app_id' => 'your-app-id',\n    'secret' => 'your-secret',\n    // ...\n    'guzzle'=>[\n        'timeout' => 30.0\n    ],\n];\n$app = new Application($config);. \u5fae\u4fe1\u6587\u6863\uff1ahttps://mp.weixin.qq.com/wiki?action=doc&id=mp1494572718_WzHIY&t=0.4123638782783712. > MediaPress \u4e0e\u6587\u7ae0\u8fd8\u662f\u8bc4\u8bba\u611f\u89c9\u90fd\u4e0d\u5408\u9002\u554a\nmedia press \u7684\u610f\u601d\u6211\u7406\u89e3\u4e3a\u63a8\u9001\u6587\u7ae0\uff0c\u9996\u5148\u9009\u62e9\u4e00\u7bc7\u6587\u7ae0\uff0c\u7136\u540e\u7ba1\u7406\u8fd9\u7bc7\u6587\u7ae0\u4e0b\u9762\u7684\u8bc4\u8bba\u3001\u56de\u590d\u7b49\u7b49\u3002\n\n\u6211\u66f4\u503e\u5411\u4e8e\u628a select \u7684\u4f5c\u7528\u6539\u4e3a API \u53c2\u6570\u4f20\u5165\n\n\u8fd9\u6837\u7684\u8bdd\u6bcf\u4e2a\u65b9\u6cd5\u90fd+2\u4e2a\u53c2\u6570\uff0c\u5176\u4e2d\u83b7\u53d6\u8bc4\u8bba\u7684\u53c2\u6570\u5c31\u67095\u4e2a\u4e86\uff0c\u4f1a\u4e0d\u4f1a\u6709\u70b9\u591a\uff1f\n$mp->comments('msg_data_id', 0, 1, 20, 0);\n. \u5176\u5b9e\u5f00\u59cb\u6211\u5c31\u662f\u628a\u5b83\u53eb\u505acomment\u7684\ud83d\ude05\n\u90a3\u5c31\u8fd9\u6837\uff1a\nphp\n// \u83b7\u53d6\u5b9e\u4f8b\n$comment = $wechat->comment;\n\n\u6253\u5f00\u5df2\u7fa4\u53d1\u6587\u7ae0\u8bc4\u8bba\uff1a$comment->open($dataId, $index);\n\u5173\u95ed\u5df2\u7fa4\u53d1\u6587\u7ae0\u8bc4\u8bba\uff1a$comment->close($dataId, $index);\n\u67e5\u770b\u6307\u5b9a\u6587\u7ae0\u7684\u8bc4\u8bba\u6570\u636e\uff1a$comment->lists($dataId, $index, $begin, $count, $type);\n\u5c06\u8bc4\u8bba\u6807\u8bb0\u7cbe\u9009\uff1a$comment->markElect($dataId, $index, $commentId);\n\u5c06\u8bc4\u8bba\u53d6\u6d88\u7cbe\u9009\uff1a$comment->unmarkElect($dataId, $index, $commentId);\n\u5220\u9664\u8bc4\u8bba\uff1a$comment->delete($dataId, $index, $commentId);\n\u56de\u590d\u8bc4\u8bba\uff1a$comment->reply($dataId, $index, $commentId, '\u56de\u590d\u5185\u5bb9');\n\u5220\u9664\u8bc4\u8bba\u56de\u590d\uff1a$comment->deleteReply($dataId, $index, $commentId);. \u5df2\u7ecf\u652f\u6301\nhttps://github.com/overtrue/wechat/commit/aff1846d014f84f4dad239ebe468e9cc8326070f. \u6388\u6743\u65b9 $server \u800c\u4e0d\u662f\u5f00\u653e\u5e73\u53f0\u7684 $server. \u91cd\u590d\u95ee\u9898 #762 . \u5c0f\u7a0b\u5e8f\u7801\u2026\u2026\n. refresh-token \u662f\u56fa\u5b9a\u7684\u5427\uff1f\u53ea\u6709\u91cd\u65b0\u6388\u6743\u624d\u4f1a\u53d8\u66f4\n. @lisiqing \naccess_token \u6bcf\u6b21\u5237\u65b0\u4f1a\u53d8\uff0crefresh_token \u91cd\u65b0\u6388\u6743\u624d\u4f1a\u53d8\u3002. \u68c0\u67e5\u4f60\u7684 URL \u548c\u53c2\u6570. \u597d\u7684\uff0c4.0 \u6587\u6863\u6709\u6253\u7b97. https://github.com/overtrue/wechat/blob/master/composer.json#L18. \u5347\u7ea7\u4e00\u4e0b\u7248\u672c\uff1f. https://github.com/easywechat/docs. \u4f60\u90a3\u90e8\u5206\u4ee3\u7801\u600e\u4e48\u5199\u7684\u554a\n. \u6700\u540e\u6709\u8fd4\u56de\uff08\u8f93\u51fa\uff09\u5185\u5bb9\u7ed9\u5fae\u4fe1\u4e86\u4e48\uff1f. > 4\u3001\u6a21\u62df\u63a8\u9001component_verify_ticket\u7ed9\u5f00\u53d1\u8005\uff0c\u5f00\u53d1\u8005\u9700\u6309\u8981\u6c42\u56de\u590d\uff08\u63a5\u6536\u5230\u540e\u5fc5\u987b\u76f4\u63a5\u8fd4\u56de\u5b57\u7b26\u4e32success\uff09\n\n\u68c0\u67e5\u4e0b\u6700\u540e\u7684\u8fd4\u56de\u7ed3\u679c\u5185\u5bb9\u662f\u4e0d\u662f success \uff1f. \u62a5\u4ec0\u4e48\u9519\uff1f. \u53d6\u6d88\u6388\u6743\u6ca1\u6709 AuthorizationCode \u7684. \u8fd9\u662f\u53d6\u6d88\u6388\u6743\u5fae\u4fe1\u63a8\u9001\u7684\u5185\u5bb9\uff1a\nxml\n<xml>\n<AppId>\u7b2c\u4e09\u65b9\u5e73\u53f0appid</AppId>\n<CreateTime>1413192760</CreateTime>\n<InfoType>unauthorized</InfoType>\n<AuthorizerAppid>\u516c\u4f17\u53f7appid</AuthorizerAppid>\n</xml>. 4.0 \u5df2\u4f18\u5316\u914d\u7f6e. \u6b63\u786e\u7684\uff0c\u8fd8\u6ca1\u4e0a\u7ebf. \u652f\u6301\u7684\uff0c\u4e0d\u8fc7\u6709\u4e9b\u53c2\u6570\u548c\u516c\u4f17\u53f7\u7684\u4e0d\u540c\uff0c\u8be6\u770b\u5c0f\u7a0b\u5e8f\u6a21\u7248\u6d88\u606f\u6587\u6863. 1\u3001\u54ea\u91cc\u4ee3\u7801\u4e0d\u517c\u5bb9\uff1f\u628a\u4ee3\u7801\u8d34\u51fa\u6765\n2\u3001\n\u516c\u4f17\u53f7\u6a21\u7248\u6d88\u606f\u4e3a\uff1a$app->notice;\n\u5c0f\u7a0b\u5e8f\u6a21\u7248\u6d88\u606f\u4e3a\uff1a$app->mini_program->notice;\n. \u8bf4\u7684\u662f 3.1\n. \u5f00\u653e\u5e73\u53f0\u7b2c\u4e09\u65b9\u5e73\u53f0\u548c\u5f00\u653e\u5e73\u53f0\u7f51\u7ad9\u5e94\u7528\u662f\u4e0d\u540c\u7684\n. \u4f60\u8981\u7528 PC \u626b\u7801\u767b\u5f55\u7684\u76f4\u63a5\u7528 overtrue/socialite \u5373\u53ef. \u662f @xhat . \u7f13\u5b58 driver \u4e0d\u4e00\u6837\u5427\uff1f. \u90a3\u5c31\u4e0d\u6653\u5f97\u4e86\uff0c\u6211\u8fd9\u8fb9\u662f\u6ca1\u95ee\u9898\u7684. @xhat\nhttps://github.com/overtrue/wechat/issues/958#issuecomment-336613424. \u7f51\u5740\u662f\u6b63\u786e\u7684\uff0c\u7f51\u7ad9\u8fd8\u6ca1\u4e0a\u7ebf\u3002. \u4ec0\u4e48\u7248\u672c\u7684?. https://easywechat.org/zh-cn/docs/. \u4f30\u8ba1\u662f\u5fae\u4fe1\u7684\u5751\u5427\nhttps://developers.weixin.qq.com/blogdetail?action=get_post_info&lang=zh_CN&token=&docid=51c988399d70914a51f57a085c4c1cf4. \u4e0d\u5728\u767d\u540d\u5355\u5f53\u7136\u5931\u8d25\u554a\uff0c\u6709\u4ec0\u4e48\u95ee\u9898. \u8bf7\u63d0\u4f9b\u76f8\u5173\u4ee3\u7801\uff0c\u8c22\u8c22\uff01. php\n$app->clearQuota();. #959. tinker \u4e0b\u6709\u95ee\u9898\u5417. @elinxer \n\u539f\u56e0\u662f\u56e0\u4e3a\u4e0d\u540c\u73af\u5883\u4e0b sys_get_temp_dir() \u83b7\u53d6\u5230\u7684\u4e34\u65f6\u76ee\u5f55\u4e0d\u540c\u3002\n\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5b9a\u4e49 cache \u89e3\u51b3\uff1a\n```php\nuse EasyWeChat\\Foundation\\Application;\nuse Doctrine\\Common\\Cache\\FilesystemCache; // \u793a\u4f8b\u4e3a File \u7f13\u5b58\n$app = new Application([\n    'cache' => new FilesystemCache(storage_path('easywechat')), // storage_path \u4e3a Laravel \u51fd\u6570\n    'open_platform' => [\n        // ...\n    ]\n]);\n. \ud83d\ude04. \u4ee3\u516c\u4f17\u53f7\u5b9e\u73b0\u4e1a\u52a1\uff0c\u4f60\u8981\u521b\u5efa\u4e00\u4e2a\u6388\u6743\u65b9\u7684\u5b9e\u4f8b\uff0c\u800c\u4e0d\u662f\u7528\u5f00\u653e\u5e73\u53f0\u7684 server\uff0c\u4ee3\u7801\u5982\u4e0b\uff1aphp\n$app = $this->open_platform->createAuthorizerApplication('authorizer-appid', 'refresh-token');\n$app->server->setMessageHandler(function ($message) {\n    return 'hello';\n})->serve();\n``. \u8981\u4e0d\u5c31\u5224\u65ad header \u6709\u6ca1\u6709\u5305\u542b text\uff1f. \u4e4b\u524d\u662f\u6ca1\u6709\u8fd9\u4e2a\u53c2\u6570\u7684\uff0c\u73b0\u5728\u6709\u70b9\u5c34\u5c2c\uff0c\u8fd9\u4e2a\u53c2\u6570\u4e0d\u77e5\u52a0\u5728\u54ea\u4e2a\u4f4d\u7f6e\u597d\ud83d\ude02. @fnf1993 \u53ef\u4ee5\u7528\u8fd9\u4e2a\u65b9\u6cd5appCodeUnlimit` (#991). \u90fd\u517c\u5bb9\u7684\uff0c\u65e0\u8bba\u54ea\u79cd\u652f\u4ed8\u65b9\u5f0f\uff0c\u5728\u8c03\u7528\u63a5\u53e3\u7684\u65f6\u5019\u4f20\u5165\u652f\u4ed8\u65b9\u5f0f\u6240\u9700\u8981\u7684\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86\uff0c\u540c\u6837\uff0cSDK \u8fd4\u56de\u7684\u5b57\u6bb5\u90fd\u662f\u5fae\u4fe1\u539f\u6837\u8fd4\u56de\u7684\u3002\nExample(4.0):\n```php\n$app->order->unify([\n    'body' => '\u817e\u8baf\u5145\u503c\u4e2d\u5fc3-QQ\u4f1a\u5458\u5145\u503c',\n    // ...\n    'trade_type' => 'MWEB',\n    'scene_info' => '{\"h5_info\": {\"type\":\"Wap\",\"wap_url\": \"https://pay.qq.com\",\"wap_name\": \"\u817e\u8baf\u5145\u503c\"}}',\n]);. \u8d1f\u8f7d\u5747\u8861\uff1f. \u6587\u6863\u770b\u770b. PR #983\n```php\n// \u65b0\u589e\u6536\u6b3e\u4e2a\u4eba\u7528\u6237\u8d44\u6599\n$app->merchant->addSubMerchant([\n    'merchant_name' => '\u5e97\u94fa\u540d\u79f0',\n    'merchant_shortname' => '\u7b80\u79f0',\n    'recipient_name' => '\u59d3\u540d',\n    'recipient_idcardno' => '111111111111111111', // \u8eab\u4efd\u8bc1\n    'recipient_wechatid' => 'wechat-id',\n    // ...\n]);\n// \u67e5\u8be2\u6536\u6b3e\u4e2a\u4eba\u7528\u6237\u8d44\u6599\n$app->merchant->querySubMerchantByMerchantId('xxx'); // \u6839\u636e\u6536\u6b3e\u8bc6\u522b\u7801\u67e5\u8be2\n$app->merchant->querySubMerchantByWeChatId('xxx'); // \u6839\u636e\u6536\u6b3e\u4eba\u5fae\u4fe1\u53f7\u67e5\u8be2\n. @chenhaizano \u53ef\u4ee5\uff0c\u63d0\u4e2a PR \u5457\ud83d\udc40.php\n$payment->handleRefundNotify(callable $callback);\n```\n\u4f7f\u7528\u65b9\u6cd5\u548c\u652f\u4ed8\u7ed3\u679c\u901a\u77e5\u7c7b\u4f3c. StyleCI \u7684\u89c4\u5219\u6539\u4e86\u5417 \ud83e\udd14. \u4ee3\u7801\u6a21\u7248\u5e93\uff0c\u5e94\u8be5\u53eb code_template \uff1f. Fixed: 535ca7b5f79106997e18926a4cff6fd206506b31. \ud83d\udc4d. \u611f\u89c9\u6709\u70b9\u602a \ud83d\ude02\n\u5bf9\u4e8e\u7b2c\u4e09\u65b9\u5305\u6765\u8bf4\u597d\u50cf\u4e5f\u6ca1\u6cd5\u505a\u5230\u81ea\u52a8\u8bbe\u7f6e observer. \u66f4\u65b0\u5230 3.3.20 \u5373\u53ef. \u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u7528\uff1a\nphp\n$app->template_message->send([\n    'touser' => 'xxx',\n    'template_id' => 'xxx',\n    'miniprogram' => [],\n    'appid' => 'xxx',\n    'pagepath' => 'xxx',\n    // ...\n]);. \u8fd9\u4e9b\u8981\u81ea\u5df1\u5b9e\u73b0\u8fd4\u56de. \u4f60\u786e\u5b9a\u5237\u65b0 authorizer_refresh_token \u7684\u540c\u65f6\uff0cauthorizer_refresh_token \u4f1a\u53d8\uff1f\n\u6211\u521a\u6d4b\u8bd5\u4e86\uff0c\u53d1\u73b0\u8fd4\u56de\u7684 authorizer_refresh_token \u8fd8\u662f\u4e0d\u53d8\u7684\u3002. \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5230\u5df2\u6388\u6743\u7684\u5217\u8868\uff1a$app->getAuthorizerList(). PR #1036. \u76ee\u524d\u6ca1\u6709\uff0c\u4e0d\u8fc7\u6211\u516c\u53f8\u6709\u8fd9\u4e2a\u9700\u6c42\uff0c\u4f30\u8ba1\u4ee5\u540e\u4f1a\u652f\u6301\u5427... \ud83e\udd2a. refresh-token \u4e5f\u9700\u8981\u4f20\u8fdb\u53bb. refresh_token \u600e\u4e48\u4e0d\u4f20\uff1f. \u662f\u4e0d\u662f session key \u8fc7\u671f\uff1f. \u652f\u6301\u7684\nphp\n$miniProgram->template_message->send([...]);. composer info symfony/cache \u770b\u770b\u4ec0\u4e48\u4fe1\u606f\uff1f. @malphitee \u5c1d\u8bd5\u4e0b\u8fd9\u6837\u662f\u5426\u53ef\u4ee5\u89e3\u51b3 #1109. @malphitee \u66f4\u65b0\u4e00\u4e0b 4.0.13. \u6539\u56de\u8fd9\u6837\uff0ccomposer update \u5373\u53ef\uff0cvendor \u4e0b\u9762\u7684\u4f60\u4e0d\u7528\u7ba1\n\"overtrue/laravel-wechat\": \"^4.0\". rm composer.lock\ncomposer install. \u662f\u554a\ud83d\ude02. \u4f60 QQ \uff1f\n. \u4f60\u53ef\u4ee5\u5347\u7ea7\u4f60\u7684 Laravel\u2026\u2026\nOn Mon, 22 Jan 2018 at 18:35 Wayne Tse notifications@github.com wrote:\n\n\u6211\u7528\u7684\u73af\u5883\nPHP \u7248\u672c\uff1a7.1.2\novertrue/wechat \u7248\u672c\uff1a4.0.12\n\u4f7f\u7528\u7684\u6846\u67b6\u540d\u79f0\uff1aLaravel 5.1.46\n\u95ee\u9898\u53ca\u73b0\u8c61\n[image: image]\nhttps://user-images.githubusercontent.com/13899144/35214989-e0e1d7b6-ff9d-11e7-86c3-8190ce62f4ef.png\n\u5347\u7ea7 overtrue/wechat \u540e\u83b7\u53d6 access token/signature \u62a5\u4ee5\u4e0a\u7684\u9519\u8bef\uff0c\u770b\u4e86 #952\nhttps://github.com/overtrue/wechat/issues/952 \uff0c\u5c1d\u8bd5\u5347\u7ea7symfony/cache\n\uff0c\u5305\u51b2\u7a81\u95ee\u9898\u5bfc\u81f4\u5931\u8d25\u3002\n\u5305\u51b2\u7a81\n[image: image]\nhttps://user-images.githubusercontent.com/13899144/35216040-2d074bdc-ffa1-11e7-862c-55fe39a6fc59.png\nsymfony/cache 3.3.0 \u7248\u672c\u4e0e symfony/var-dumper: <3.3 \u51b2\u7a81\uff0claravel 5.1 \u5bf9\u540e\u8005\u7684\u4f9d\u8d56\u662f\n2.7.*\uff0claravel 5.4 \u7248\u672c\u5219\u662f symfony/var-dumper: ~3.2\u3002\n\u8bf7\u95ee\u4e0b\u6709\u6ca1\u6709\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff1f\uff08\u9664\u4e86\u7528\u56de\u65e7\u7248\u672c\u5305\u4e4b\u5916\uff09\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1121, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8Let4Q4NGkc90nRf2Eth_Jvp2aLxcBks5tNGRngaJpZM4RmdYz\n.\n. PR #1132. PR #1127 \n\u4f60\u53ef\u4ee5\u6355\u6349 DecryptException \u5f02\u5e38. md5\uff1a\nhttps://github.com/overtrue/wechat/blob/cc87a03fd706ba20abbe4142d513b4228851b1c5/src/Kernel/AccessToken.php#L218-L221. \n\nrollbackRelease \u5427\uff0c\u90a3\u8fd9\u4e2a\u53eb rollbackGrayRelease ?. \u4e0d\u61c2\u4f60\u7684\u63cf\u8ff0\uff0c\u8bf7\u63d0\u4f9b\u4ee3\u7801\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u62a5\u9519\u4fe1\u606f\u7b49. \u90a3\u4f60\u8c03\u7528 bridgeConfig \u4e0d\u5c31\u884c\u4e86\uff1f\u4e3a\u4ec0\u4e48\u8981\u8c03\u7528 sdkConfig. @DarkVisitor \ud83d\ude02. @caikeal \u5b98\u65b9\u6587\u6863\u5730\u5740\u6709\u5417. @caikeal \n\u4fee\u6539\u4e86\u4e00\u4e0b\uff1a\n$openPlatform->officialAccount()->account->getFastRegistrationUrl()\n$openPlatform->officialAccount()->mini_program->link('appid'). @caikeal \u6709\u7a7a\u5e2e\u5fd9\u5b9e\u6d4b\u4e00\u4e0b\u5417\uff1f. @gbkus123 \n\u5b9e\u4f8b\u5316\u65f6\u5019\uff1a\nphp\nFactory::openPlatform([\n    // ...\n    'http' => ['retries' => 0]\n]);. \u81ea\u5b9a\u4e49 Cache \u9700\u8981\u5b9e\u73b0 Psr\\SimpleCache\\CacheInterface \u63a5\u53e3\uff0c\n\u4f60\u628a $openPlatform['cache'] \u6253\u51fa\u6765\u770b\u770b\u662f\u4ec0\u4e48\uff1f. https://github.com/overtrue/wechat/issues/1226#issuecomment-392241648. 3.3 \u7684\u65f6\u5019\u5c0f\u7a0b\u5e8f\u5b98\u65b9\u8fd8\u4e0d\u652f\u6301 page \u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u63d0\u4e2a PR \u628a page \u53c2\u6570\u52a0\u5230\u6700\u540e\u9762. \u8bf7\u4f7f\u7528 appCodeUnlimit \u65b9\u6cd5\uff1a https://github.com/overtrue/wechat/commit/39e63860edb4f58eb663521338d923c24832f709. https://github.com/overtrue/wechat/commit/39e63860edb4f58eb663521338d923c24832f709. \u5347\u7ea7\u5230 3.3.25 \u7248\u672c\u5c31\u6709\u4e86. \u4f60\u5e94\u8be5\u4f7f\u7528 Factory::officialAccount(...)->jssdk->buildConfig(['chooseWXPay']) \u6765\u751f\u6210 JSSDK \u914d\u7f6e. \u4f7f\u7528\u8fd9\u4e2a https://github.com/overtrue/socialite. @weijian1 \u5b9e\u6d4b\u8fc7\u4e86\u5417. Guard::EVENT_UPDATE_AUTHORIZED \u9700\u8981\u66f4\u65b0\u6388\u6743\u624d\u4f1a\u89e6\u53d1\uff0c\u6ce8\u610f\u7684\u662f\u53ea\u6709\u6743\u9650\u96c6\u53d1\u751f\u6539\u53d8\uff0c\u5fae\u4fe1\u624d\u4f1a\u63a8\u9001\u6d88\u606f\u8fc7\u6765\u7684. > $auth_code = explode('@@@',$message['AuthorizationCode'])[1];\n@galaxyhao \u63d0\u4f9b\u4e0b\u76f8\u5173\u62a5\u9519\u4fe1\u606f\uff1f\u8fd8\u6709\u8fd9\u91cc\u4e0d\u9700\u8981 explode\uff0c\u76f4\u63a5\u4f20 $message['AuthorizationCode'] \u5373\u53ef\u3002. @tq102412 \u4f60\u7684\u610f\u601d\u5728\u5904\u7406\u9884\u6388\u6743\u7801\u7684\u65f6\u5019\u5c31\u628a authorizer_access_token \u7f13\u5b58\u4e0b\u6765\uff1f. \u4f60\u786e\u5b9a\u5237\u65b0 authorizer_refresh_token \u7684\u65f6\u5019 authorizer_refresh_token \u4e5f\u4f1a\u53d8\uff1f. refresh token \u91cd\u65b0\u6388\u6743\u624d\u4f1a\u53d8\u7684\nOn Tue, May 15, 2018 at 23:00 tq102412 notifications@github.com wrote:\n\n@mingyoung https://github.com/mingyoung \u662f\u7684\uff0c\u5237\u65b0authorizer_access_token\n\u7684\u65f6\u5019\u540c\u65f6\u4f1a\u8fd4\u56de\u65b0\u7684authorizer_refresh_token\n\uff0c\u6211\u5efa\u8bae\u53ef\u4ee5\u5728\u5173\u952e\u4f4d\u7f6e\u653e\u7f6e\u4e00\u4e9b\u4e8b\u4ef6\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\u5904\u7406\u4e00\u4e9b\u4e1a\u52a1\u903b\u8f91\u4ee5\u5e94\u5bf9\u4ea7\u54c1\u5343\u5947\u767e\u602a\u7684\u9700\u6c42\u3002\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1214#issuecomment-389199034,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8LesK8LxZjYF_ZJ11WsR5G0hNrtBRkks5tyu13gaJpZM4T7XXl\n.\n. \u622a\u56fe\u770b\u770b. \u83b7\u53d6\u5916\u90e8\u8054\u7cfb\u4eba\u8be6\u60c5\uff1a$app->crm->getExternalContact('external-userid'). \u6d4b\u8bd5\u53f7\u662f\u9700\u8981\u5173\u6ce8\u7684. \u5728 PhpStorm \u4e2d\u914d\u7f6e\u4f60\u7684 Unchecked Exceptions. composer info overtrue/wechat \u67e5\u770b\u4e0b\u4f60\u5b89\u88c5\u7684\u662f\u4ec0\u4e48\u7248\u672c. #1229 . > \u5982\u679c\u76f4\u63a5\u4f7f\u7528laravel\u7f13\u5b58\u7684\u8bdd,\n$cache->set('key', 'value', 'ttl'); \u8fd9\u91ccttl\u7684\u503csdk\u4f20\u9012\u7684\u662f7200\u79d2, \u800claravel\u63a5\u53d7\u7684\u5355\u4f4d\u662f\u5206\u949f.\n\u6309\u6211\u7684\u4fee\u6539\u65b9\u5f0f\u65e0\u6cd5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898, \u4f1a\u5bfc\u81f4access token\u5728\u7f13\u5b58\u4e2d\u7684\u8fc7\u671f\u65f6\u95f4\u662f7200\u5206\u949f\n\n\u4f7f\u7528 Laravel \u7f13\u5b58\u7684\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u4ee5\u4e0b\u7684\u5199\u6cd5\uff1a\nhttps://github.com/overtrue/laravel-wechat/blob/master/src/ServiceProvider.php#L92\nhttps://github.com/overtrue/laravel-wechat/blob/master/src/CacheBridge.php. @overtrue \u4e0d\u77e5\u6709\u6ca1\u6709\u5751\uff0c\u4e0d\u786e\u5b9a http_client, request \u7b49\u662f\u5426\u4e5f\u80fd\u591f\u590d\u7528\ud83e\udd2a. @mygoodidea \u5347\u7ea7\u5230 4.0.29+. \u5728 AggregateServiceProvider \u8fd9\u6837\u6539\uff1f\ndiff\npublic function register(Container $app)\n{\n-    $app['account'] = function ($app) {\n+    !isset($app['account']) && $app['account'] = function ($app) {\n        return new Client($app);\n    };\n}. \u4f60\u8fd9\u662f cli \u7248\u672c\uff0c\u8bf7\u68c0\u67e5\u4e00\u4e0bfpm \u7248\u672c\n\u8fbe notifications@github.com\u4e8e2018\u5e746\u67089\u65e5 \u5468\u516d\u4e0b\u534810:29\u5199\u9053\uff1a\n\nPHP 7.2.6 (cli) (built: Jun 6 2018 19:05:01) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\n\u662fdocker\u73af\u5883\u4e0b\u8fd0\u884c\u7684\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1249#issuecomment-395973689,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8LeqEU2wuzfaKnVk87_hAyeqisr-lOks5t69u4gaJpZM4UhVli\n.\n. @Lin07ux \n\n\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u5f00\u53d1\u4e2d\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u7684\u5904\u7406\u65b9\u6cd5\u90fd\u662f\u6ce8\u518c\u5728Message::Event\u7c7b\u578b\u4e0a\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5728\u8fd9\u4e2a\u5904\u7406\u65b9\u6cd5\u4e2d\u518d\u8fdb\u884c\u5206\u7c7b\u5904\u7406\uff0c\u8fd8\u662f\u4f1a\u6709\u4e00\u4e9b\u672a\u5b8c\u5168\u5206\u79bb\u3002\u662f\u5426\u6709\u53ef\u80fd\u5c06\u6bcf\u79cd\u4e8b\u4ef6\u6d88\u606f\u6839\u636e\u5176\u4e8b\u4ef6\u7c7b\u522b\u8fdb\u884c\u5206\u7c7b\uff1f\u7136\u540e\u518d\u6839\u636e\u4e0d\u540c\u7684\u4e8b\u4ef6\u8fdb\u884c\u4e8b\u4ef6\u6ce8\u518c\u3002\u5728\u5904\u7406\u6d88\u606f\u7684\u65f6\u5019\uff0c\u9700\u8981\u6839\u636e\u6d88\u606f\u7684MsgType\u548cEvent\u5b57\u6bb5\u5171\u540c\u786e\u8ba4\u6d88\u606f\u7c7b\u522b\u3002\n\n\n\u662f\u4e0d\u662f\u8fd9\u4e2a\u610f\u601d\uff1f#1315. The total_fee units are expressed in cents as integers.. scene \u6700\u957f 32 \u4e2a\u5b57\u7b26. #1351. \n\u63a5\u6536\u5fae\u4fe1\u63a8\u9001\u6d88\u606f component_verify_ticket \u7684\u4ee3\u7801\u6709\u5199\u4e86\u5417\n\n1.\u6309\u7167\u6587\u6863\u4e2d\u5199\u6cd5 \u63a5\u6536component_verify_ticket \u65e0\u6cd5\u6b63\u5e38\u8fd4\u56de\n\u6b63\u5e38\u60c5\u51b5 \u5e94\u8be5\u53ea\u8f93\u51fa success\n\n\u63d0\u4f9b\u62a5\u9519\u7b49\u76f8\u5173\u4fe1\u606f. \u662f. \u786e\u5b9a\u6709\u63a8\u9001\u4e86 component_verify_ticket \uff1f. \u662f\u8fd9\u6837\u7684\u54e6. \u5386\u53f2\u9057\u7559\u95ee\u9898\u5427\uff0c\u4e0d\u8981\u6298\u817e\u4e86\uff0c\u7528 4.0 \u7248\u672c\u5427 \ud83d\ude05. \u8bd5\u8bd5\nphp\n$app->open_platform->verify_ticket->getTicket();. @Ecareyu \u6216\u8005\u81ea\u5df1\u52a0\u4e2a\u5224\u65ad\uff1f\n```php\nif ($stream instanceof EasyWeChat\\Kernel\\Http\\StreamResponse) {\n    // save\n}\nthrow new YourException;\n```. @overtrue \ud83d\udc4d. > \u5f53\u5fae\u4fe1\u90a3\u8fb9\u51fa\u73b0\u62a5\u9519\u65f6\uff0c\u9519\u8bef\u4fe1\u606f\u4e5f\u4f1a\u5b58\u5230\u90a3\u4e2a\u6587\u4ef6\u91cc\n\u8c8c\u4f3c\u62a5\u9519\u4e5f\u4f1a\u8fd4\u56de StreamResponse\uff0c\u6240\u4ee5\u662f\u8fd9\u4e2a if \u5224\u65ad\u7684\u4e0d\u5bf9\uff1f\n\n. \u56fe\u7247\u770b\u4e0d\u5230. \u6ce8\u610f\u4f60\u7684 session_key \u65f6\u6548\ntinpont notifications@github.com\u4e8e2018\u5e747\u670811\u65e5 \u5468\u4e09\u4e0a\u534810:49\u5199\u9053\uff1a\n\n\u540c\u6837\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u3002\u5076\u53d1\u6027\uff0c\u5927\u90e8\u5206\u53ef\u4ee5\u89e3\u5bc6\uff0c\u5c11\u90e8\u5206\u62a5\"The given payload is\ninvalid.\"\u3002\u8fd9\u4e2a\u95ee\u9898\u53ea\u5b58\u5728\u4e8e\u901a\u8fc7\u5c0f\u7a0b\u5e8f\u83b7\u53d6\u624b\u673a\u53f7\u7801\u6388\u6743\u89e3\u5bc6\u3002\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1293#issuecomment-404027890,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8Leh88R-xDtz7zS0xxKec7WJyndEefks5uFWfEgaJpZM4VH2zM\n.\n. \n\n@overtrue \u53e6\u5916\u9700\u8981\u81ea\u5b9a\u4e49 biz_appid \u7b49\u4ee5\u540e\u4f1a\u589e\u52a0\u7684\u5b57\u6bb5\u53c2\u6570\u600e\u4e48\u5904\u7406\uff1f. @overtrue Mobile \u90a3\u4e2a\u548c\u626b\u7801\u6388\u6743\u7684\u53c2\u6570\u4e00\u6837\uff0c\u4f46\u662f\u7f51\u5740\u662f\u4e0d\u540c\u7684. @keacefull \u770b\u770b\uff1f. @aszx0413 \u68c0\u67e5\u4e0b\u8bc1\u4e66\u662f\u5426\u914d\u7f6e\u6b63\u786e. #1309. \u68c0\u67e5\u4f60 session_key \u7684\u60c5\u51b5\uff1a\n\n. @woann \u57fa\u672c\u90fd\u662f session_key \u7684\u65f6\u6548\u6027\u95ee\u9898\uff0chttps://github.com/overtrue/wechat/issues/1312#issuecomment-406948992 \u68c0\u67e5\u4e0b\u4f60\u7684\u767b\u5f55\u903b\u8f91\uff1f. @woann \u903b\u8f91\u53cd\u4e86\uff0c\u8981\u5148\u8c03\u7528 wx.login()\uff0c\u670d\u52a1\u7aef\u53bb\u83b7\u53d6 session_key\u3002\n\u800c\u4e14\u4e0d\u7528\u6bcf\u6b21\u89e3\u5bc6\u90fd\u8981\u8c03\u7528\u4e00\u6b21 wx.login() \u7684\uff0c\u8bd5\u60f3\u4f60\u540e\u53f0\u7ba1\u7406\u6bcf\u505a\u4e00\u4e2a\u64cd\u4f5c\u90fd\u8981\u7528\u6237\u767b\u5f55\u4e00\u6b21\u4e48\uff1f. onLaunch \u8c03\u7528\u4e0d\u884c\uff1f\nwoann notifications@github.com\u4e8e2018\u5e747\u670825\u65e5 \u5468\u4e09\u4e0b\u534810:51\u5199\u9053\uff1a\n\n\u4e0d\u662f\u554a\uff0c\u73b0\u5728\u6539\u7248\u662f\u5fc5\u987b\u70b9\u51fb\u6309\u94ae\uff0c\u70b9\u51fb\u6309\u94ae\u8d70\u56de\u8c03\uff0c\u56de\u8c03\u91cc\u80fd\u5f97\u5230\u52a0\u5bc6\u4fe1\u606f\uff0c\u540c\u65f6\u6211\u5728\u56de\u8c03\u91cc\u8c03\u7528wx.Login\uff0c\u4e0d\u7136\u6211\u5e94\u8be5\u5728\u4ec0\u4e48\u4f4d\u7f6e\u8c03\u7528wx.Login\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1312#issuecomment-407782153,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8LejjkO-eXo7fKnJmvjVIR-5ZJRAFyks5uKIXbgaJpZM4VaUSh\n.\n. @overtrue \u53d1\u4e2a\u65b0\u7248\uff1f. \ud83d\ude02 \u7a0d\u540e\u4fee\u590d\u517c\u5bb9\u95ee\u9898\n\nwolffy notifications@github.com\u4e8e2018\u5e748\u67081\u65e5 \u5468\u4e09\u4e0b\u53487:07\u5199\u9053\uff1a\n\n\u6211\u7528\u7684\u73af\u5883\nPHP \u7248\u672c\uff1aphp7.0.10\novertrue/wechat \u7248\u672c\uff1a4.0\n\u662f\u5426\u4f7f\u7528\u4e86\u6846\u67b6\uff1f\u6846\u67b6\u540d\u79f0\uff1a laravel 5.5\n\u95ee\u9898\u53ca\u73b0\u8c61\n\u4f7f\u7528\u7684overtrue/laravel-wechat\n\u9ed8\u8ba4\u7684Overtrue\\LaravelWeChat\\Controllers\\OpenPlatformController\n\u62a5\u9519\u6587\u4ef6\nC:\\wamp\\www\\ad.weixin.jwsem.com\\vendor\\overtrue\\wechat\\src\\Kernel\\Clauses\\Clause.php\n\u9519\u8bef\u5185\u5bb9\u5982\u4e0b\nC:\\wamp\\www\\ad.weixin.jwsem.com\\vendor\\overtrue\\wechat\\src\\Kernel\\Clauses\\Clause.php\n    }\n/**\n * @param mixed $payload\n *\n * @return bool\n */\npublic function intercepted($payload)\n{\n    return (bool) $this->interceptWhereClause($payload);\n}\n\n/**\n * @param mixed $payload\n *\n * @return bool\n */\nprotected function interceptWhereClause($payload)\n{\n    foreach ($this->clauses['where'] as [$key, $value]) {\n        if (isset($payload[$key]) && $payload[$key] !== $value) {\n            return true;\n        }\n    }\n}\n\n}\nArguments\n\"Parse error: syntax error, unexpected ')', expecting :: (T_PAAMAYIM_NEKUDOTAYIM)\"\n\u662f\u5426\u662f\u6211\u7684php\u7248\u672c\u4e0d\u652f\u6301 foreach ($this->clauses['where'] as [$key, $value]) {} \u8fd9\u79cd\u5199\u6cd5\uff1f\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1328, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8LerQvdRwPNFSZ_RcizC2VtLQ4BALJks5uMYvigaJpZM4VqTEZ\n.\n. @mayunfeng0614 \u66f4\u65b0\u5230 4.0.40+ \u8bd5\u8bd5. #1351. \u8fd9\u6837\u7528\uff1f\n\n```php\nclass Handler implements EventHandlerInterface\n{\n    protected $app;\n    function __construct($app)\n    {\n        $this->app = $app;\n    }\n    public function handle($payload = null)\n    {\n        // $this->app->method();\n    }\n}\n$app = Factory::officialAccount();\n$app->server->push(new Handler($app));\n```. ping @overtrue . \u7edf\u4e00\u4e0b\u5355 trade_type = NATIVE. \u5ba2\u670d\u6d88\u606f\u9700\u8981\u8c03\u7528\u63a5\u53e3\u53d1\u9001\uff1ahttps://www.easywechat.com/docs/master/official-account/customer_service\n\u81ea\u52a8\u56de\u590d\u7684\u5b9e\u73b0\u53ef\u4ee5\u76d1\u542c\u76f8\u5e94\u4e8b\u4ef6\u7136\u540e\u8c03\u7528\u5ba2\u670d\u6d88\u606f\u63a5\u53e3\uff1ahttps://www.easywechat.com/docs/master/official-account/server. \u770b\u770b\u8fd9\u4e2a\u529f\u80fd\u80fd\u5426\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff1f\nhttps://github.com/mingyoung/easywechat-composer#server-delegation. Mac \u7528\u6237\u8868\u793a\u8fd8\u597d\n\n. \u4f60\u786e\u5b9a\u5c0f\u7a0b\u5e8f\u5ba2\u670d\u6d88\u606f\u80fd\u901a\u8fc7\u6d88\u606f\u4e8b\u4ef6\u8fdb\u884c\u56de\u590d\uff1f. \u8bf7\u4f7f\u7528 composer \u65b9\u5f0f\u5b89\u88c5. \u4e0d\u662f\uff0c\u5b9e\u4f8b\u5316\u914d\u7f6e\u662f\u4f20 app_id \u7684\n\n. \u65b0\u7248\u5df2\u4fee\u590d. \u4f60\u8981\u770b\u65e7\u4ee3\u7801\u6211\u4e5f\u6ca1\u529e\u6cd5 \ud83e\udd37\u200d\u2642\ufe0f. \u8bf7\u7ed9\u51fa\u4f3c\u4e4e\u4e0d\u652f\u6301\u7684\u4f9d\u636e \ud83e\udddc\u200d\u2642\ufe0f. @dudashuang \u662f\u547d\u540d\u4e0a\u9762\u7684\u95ee\u9898\uff0c\u8981\u601d\u8003\u4e0b\u600e\u4e48\u547d\u540d\u6bd4\u8f83\u597d \ud83e\udd23\n```diff\n- $openPlatform->mini_program_fast_register->create();\n+ $openPlatform->component->XXX();\n\n$openPlatform->mini_program_fast_register->search();\n$openPlatform->component->XXX();\n``.composer info overtrue/wechat` \u770b\u770b. @wiwind \u6211\u8fd9\u8fb9\u6682\u65f6\u91cd\u73b0\u4e0d\u4e86\uff0c\u8bf7\u95ee\u95ee\u9898\u73b0\u5728\u89e3\u51b3\u6ca1\uff1f\u6ca1\u6709\u7684\u8bdd\u7559\u4e2a QQ\uff0c\u6211\u52a0\u4f60\u770b\u770b. \u6709\u4ec0\u4e48\u95ee\u9898\uff1f. \u4e0e\u63a5\u53e3\u65e0\u5173\uff0c\u53ef\u80fd\u5c55\u793a\u5f62\u5f0f\u53d8\u4e86\u5427. \u76ee\u524d\u6ca1\u6709\u5bf9 Swoole \u505a\u9002\u914d\uff0c\u4f60\u53ef\u4ee5\u81ea\u884c\u91cd\u5199 request \u7c7b\u6765\u9002\u914d\u4f60\u7684\u4ee3\u7801\u73af\u5883\uff1a\n\n$app['request'] = $YOURREQUEST;. @overtrue \u53d1\u4e2a\u65b0\u7248\uff1f. \u8fd9\u4e2a\u662f\u7f13\u5b58\u5199\u5165\u5931\u8d25\u3002\u4f60\u68c0\u67e5\u4e00\u4e0b\u7f13\u5b58\u662f\u4e0d\u662f\u6ca1\u6743\u9650\u5199\u5165\uff1f. \ud83d\ude05\n. @FlyingBlazer \u73b0\u5728\u7684\u95ee\u9898\u662f\u5e76\u6ca1\u6709\u6309\u7167 push \u7684\u987a\u5e8f\u53bb\u5904\u7406\u4e48\uff1f. 666\n\u5b89\u6b63\u8d85 notifications@github.com\u4e8e2019\u5e742\u670815\u65e5 \u5468\u4e9409:48\u5199\u9053\uff1a\n\n[] \u62bd\u79bb http \u57fa\u7840\u7ec4\u4ef6\n[] \u62c6\u5305\n[] easywechat/media-platform\n[] easywechat/work\n[] easywechat/miniapp\n[] easywechat/payment\n[] easywechat/open-work\n[] easywechat/open-platform\n[] easywechat/messages\n[] easywechat/kernel\n[] \u4f18\u5316 server \u90e8\u5206 #1454 https://github.com/overtrue/wechat/issues/1454,\n1389 https://github.com/overtrue/wechat/issues/1389, #1254\nhttps://github.com/overtrue/wechat/issues/1254\n[] \u4f18\u5316 service provider \u6ce8\u518c\u903b\u8f91 #1432\nhttps://github.com/overtrue/wechat/issues/1432\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1468, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF8LemgGP2FRrvHZ20tjw7xwl_sq6kmkks5vNhHegaJpZM4a8x0V\n.\n. https://github.com/overtrue/wechat/blob/825fe019e8a0ae5ad1878e1fd53c50856350f49c/src/MiniProgram/Application.php#L58\n\n@daowojia . ping @overtrue @joyeekk . \u4f60\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u83b7\u53d6\uff1a\n$app->request->getContent();. \u5728socialite\u90a3\u91ccWechatProvider->isOpenPlatform() \u68c0\u6d4b\u4e86\u4e0b. \u597d\u50cf\u4e0d\u5b58\u5728open_platform\u4f1a\u8fd4\u56denull\uff0c\u4f1a\u62a5\u9519\u5417\uff1f\ud83d\ude33. \u8fd9\u91cc\u7684 InfoType \u4f1a\u4e0d\u4f1a\u662f MsgType\uff1f @tsunamilx . UrlShorten \u6ca1\u6709 sandbox \u6a21\u5f0f\u5427\uff1f. \u65b9\u6cd5\u76f4\u63a5\u547d\u540d\u4e3a color \u5982\u4f55\uff1f\npublic function color($color) {}. \u6211\u4ee5\u4e3a\u8fd9\u662f\u4e2a\u65b0\u589e\u7684\u65b9\u6cd5 \ud83e\udd23\n\u90a3\u4fdd\u7559\u8fd9\u6837\u5427. \u547d\u540d\u7a7a\u95f4 Base\uff1f. \u8fd9\u91cc\u5e94\u8be5\u4e0d\u7528 new AuthorizerAccessToken \uff1f\u8fd9\u4e2a\u662f\u6388\u6743\u65b9\u7684 AccessToken\n\u76f4\u63a5\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e86\uff1a\n``php\n$app['account'] = function ($app) {\n    return new Client($app);\n}. \u8fd9\u4e2a\u63a5\u53e3\u8bf7\u6c42\u9700\u8981\u7684 access_token \u7528\u7684\u662f\u6388\u6743\u65b9\u7684 access_token \uff1f. \ud83c\ude50\ufe0f. \u8fd9\u91cc\u6709\u8bed\u6cd5\u9519\u8bef. OK\uff0c\u7a0d\u540e\u6539. PHP 5.x \u7248\u672c\u4e0b\u4e0d\u652f\u6301??\u7684\u5199\u6cd5. \u65b9\u6cd5\u540d\u5c31\u53ebundo\u5982\u4f55\uff1f. \u6216\u8005undoAudit. \u9a7c\u5cf0\u5199\u6cd5\uff0c\u6539\u6210undoAudit\u5427. @overtrue \u597d\ud83d\ude02. \u8fd9\u4e2a\u65b9\u6cd5\u662f\u4e0d\u662f\u53ef\u4ee5\u76f4\u63a5\u5199\u5230 https://github.com/overtrue/wechat/blob/master/src/OpenPlatform/Application.php \u91cc\u9762\u53bb\uff1f. \u65b9\u6cd5\u540d\u53ef\u4ee5\u4e3agetFastRegistrationUrl. \u8fd9\u4e2a\u65b9\u6cd5\u79fb\u5230 https://github.com/overtrue/wechat/blob/master/src/OpenPlatform/Authorizer/Aggregate/Account/Client.php \uff1f. \u5730\u5740\u9519\u4e86\u5427wxa/memberauth`. PR \u4e0d\u7528 close \u7684\uff0c\u76f4\u63a5 push \u5230\u4f60\u5f53\u524d\u5206\u652f\u5c31\u53ef\u4ee5\u4fee\u6539\u4e86. \u8fd9\u91cc\u6539\u6210\u8fd9\u6837\u8c03\u7528\uff1f\n$app->mini_program->auth. \u591a\u4f59\u53c2\u6570 secret \uff1f. \u6539\u6210\u8fd9\u6837\u5982\u4f55\uff1f\ndiff\n- return $this->httpPostJson('cgi-bin/service/set_session_info', compact('data'));\n+ return $this->httpPostJson('cgi-bin/service/set_session_info', [\n+     'pre_auth_code' => $this->getPreAuthCode()['pre_auth_code'],\n+     'session_info' => $data,\n+ ]);. \u62fc\u63a5\u6388\u6743 URL \u4e2d\u7684 pre_auth_code \u8981\u548c\u8fd9\u91cc\u7684 pre_auth_code \u4e00\u6837\uff1f. \u8fd9\u6837\uff1f\nphp\npublic function setSession($preAuthCode, array $info)\n{\n    //\n}. \u8fd9\u4e24\u4e2a API \u8fd8\u662f\u5206\u5f00\u5427\uff0c\u8fd8\u6709 auth_type \u5176\u5b9e\u6ca1\u5fc5\u8981\u5199\u5230\u914d\u7f6e\uff1f\u52a8\u6001\u4f20\u5165\u5373\u53ef. \u8fd9\u91cc\u4e0d\u5982\u76f4\u63a5\u53eb chat \uff1f. \u6ce8\u91ca\u8fd4\u56de\u503c\u4e5f\u53ef\u4ee5\u6539\u4e0b. \u53ef\u4ee5\u8003\u8651\u653e\u5728 Account \u4e0b. \u53ef\u4ee5\u653e\u5728 OpenPlatform/Authorizer/MiniProgram/Account \u4e0b\uff0c\u53c2\u7167\u516c\u4f17\u53f7\u7684 Account\uff0c\u8fd9\u662f\u7ee7\u627f\u516c\u7528\u7684 Account \u7684:\nhttps://github.com/overtrue/wechat/blob/master/src/OpenPlatform/Authorizer/OfficialAccount/Account/Client.php. \u5df2\u7ecf\u88ab\u91cd\u5199\u4e86\uff0c\u53ef\u4ee5\u79fb\u9664\uff0c\u6211\u7a0d\u540e\u518d\u4f18\u5316\u4e00\u4e0b\ud83d\udc68\u200d\ud83d\udcbb. suggestion\n                            continue;. \u5168\u79f0 profit_sharing \u4f30\u8ba1\u597d\u70b9\uff08\u76ee\u5f55\u540d ProfitSharing\uff09. deliveries()?. Logistics -> Express ?. ",
    "bzp2010": "\u62b1\u6b49\u662f\u6211\u63cf\u8ff0\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\n\u6846\u67b6\u7684\u6d88\u606f\u56de\u590d\u6a21\u5757\u65e0\u6cd5\u6b63\u786e\u62fc\u88c5\u97f3\u4e50\u6d88\u606f\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u901a\u8fc7log\u770b\u51fa\u6765\n\u56e0\u4e3a\u5728Transformer\u7c7b\u4e2d\u6ca1\u6709xml\u7684\u62fc\u88c5\u65b9\u6cd5. \u8c22\u8c22. ",
    "denghp": "\u6211\u662f\u60f3\u901a\u8fc7\u5f00\u653e\u5e73\u53f0\u7684\u8fd4\u56de\u7684code\u65b9\u5f0f\u6765\u83b7\u53d6\u83b7\u53d6access_token,\u7136\u540e\u6839\u636etoken\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u65b9\u5f0f\u3002\u4f46\u662f\u6211\u770b\u4f60\u7ed9\u6211\u7684\u94fe\u63a5\u5730\u5740\u90fd\u662fweb\u65b9\u5f0f\u56de\u8c03\u6765\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u6ca1\u627e\u5230\u6839\u636ecode\u65b9\u5f0f\u83b7\u53d6\u7684\u4f7f\u7528\u65b9\u6cd5. $socialite = new SocialiteManager(Yii::$app->params['wxconfig']);\n$token = $socialite->driver('wechat')->getAccessToken($code);\n$accessToken = new AccessToken(['access_token' => token]);\n$user = $socialite->driver('wechat')->user($accessToken);\n\u6211\u770b\u4f60\u7684\u4ee3\u7801\u4e2d\u6709\u63d0\u4f9b\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f46\u662f\u8fd9\u91cc\u53ea\u80fd\u83b7\u53d6access_token,\u6ca1\u6709\u89e3\u6790\u83b7\u53d6openid,\u3000\u56e0\u4e3a\u5728\u8c03\u7528\n$user = $socialite->driver('wechat')->user($accessToken);\n\u62a5\u5fc5\u987b\u4f20\u9012\u53c2\u6570openid\u7684\u5f02\u5e38,\u3000\u6211\u5728\u4f60\u7684https://github.com/overtrue/socialite\u3000\u8fd9\u4e2a\u4ee3\u7801\u4e2d\u6ca1\u627e\u5230\u600e\u4e48\u83b7\u53d6openid\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u6211\u770b\u4f60\u7684\u4ee3\u7801\u5b9e\u73b0\u662f\u53ef\u4ee5\u901a\u8fc7$accessToken = new AccessToken(['access_token' => token,'openid'=>xxxx]);\u7684\u65b9\u5f0f\u83b7\u53d6\u7684\u7528\u6237\u4fe1\u606f\u7684. \u6211\u80fd\u6709\u4ec0\u4e48\u65b9\u5f0f\u83b7\u53d6openid,\u7136\u540e\u901a\u8fc7\n$accessToken = new AccessToken(['access_token' => token,'openid'=>xxxx]);\n$user = $socialite->driver('wechat')->user($accessToken);\n\u6765\u5b9e\u73b0\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u529f\u80fd\u5462\uff1f. ",
    "acgrid": "\u5e94\u8be5\u662f\u8bf4\u7684\u8fd9\u4e2a https://mp.weixin.qq.com/wiki?action=doc&id=mp1471422259_pJMWA\n\u662f\u5197\u4f59\u8bbe\u8ba1\uff1f. \u591a\u8fdb\u7a0b\uff1a\u5199\u4e2a\u901a\u7528CLI\u811a\u672c\uff0c\u63a5\u53d7\u53c2\u6570\u4f5c\u4e3a\u53d1\u9001\u5bf9\u8c61\u6e05\u5355\u6216\u8303\u56f4\u3002\u7136\u540e\u7528shell\u6216php\u7684popen\u4e0d\u963b\u585e\u7684\u8fd0\u884c\n\u591a\u7ebf\u7a0b\uff1a\u5982\u679c\u5e73\u53f0\u652f\u6301\uff0cphp\u6709pthread\u6269\u5c55\uff0c\u81ea\u5df1\u5b9e\u73b0\u5427\n\u795d\u8d35\u516c\u4f17\u53f7\u65e9\u65e5\u88abban\uff08\u9003\uff09. \u4e4b\u524d\u4e5f\u662f\u56e0\u4e3a\u8fd9\u4e2aphpdoc\u53d1\u8499\uff0c\u4e0d\u8fc7\u4e5f\u6b63\u56e0\u4e3aIDE\u62a5\u9519\u53bb\u770b\u4e86Socialite\u5305\u628a\u5185\u90e8\u8fc7\u7a0b\u7406\u89e3\u4e86. ",
    "leo108": "$app->access_token->getToken(true). \u5e76\u4e0d\u662f\u7eafJS\u7684\uff0c\u7528\u6237\u767b\u5f55\u662f\u53ef\u4ee5\u6709\u540e\u7aef\u90e8\u5206\u7684\uff0c\u53ef\u4ee5\u4ed4\u7ec6\u770b\u4e0b\u6587\u6863code \u6362\u53d6 session_key\u8fd9\u4e00\u6bb5. \u5df2\u7ecf\u5b9e\u73b0 https://github.com/overtrue/wechat/pull/931. ",
    "djade007": "$m = app('wechat')->material->uploadThumb($path);\n$article = new \\EasyWeChat\\Message\\Article([\n                'thumb_media_id' => $m->media_id,\n                'author' => 'TEST',\n                'tittle' => 'Test Tittle',\n                'content' => \"This is a test content\",\n                'digest' => 'description',\n                'content_source_url' => 'http://example.com',\n                'show_cover_pic' => 1\n            ]);\n$r = app('wechat')->material->uploadArticle($articles);. Yes media Id gotten from Material::uploadThumb().\n$m = app('wechat')->material->uploadThumb($path);. The title is there. . @overtrue, please can you try to test the Material::uploadArticle() from your end? . You are right, there was a typo in the title, I was using 'tittle'. . I would blame the wechat api, the error message wasn't helpful. I kept thinking it was the content field that was missing. \nThanks for taking your time to help. . ",
    "allen05ren": "@overtrue OK\uff0c\u521a\u6539\u4e86\u547d\u540d\uff0c\u73b0\u5728\u5904\u7406\u3002. styleci\u68c0\u6d4b\u63d0\u793a\u628alink\u6539\u6210see\uff0c\u5f3a\u8feb\u75c7. ",
    "yanpeipan": "\u770b\u4e86\u4e0b\u6e90\u7801\uff0c \u81ea\u884c\u89e3\u51b3\u4e86\n$app->oauth->withRedirectUrl('user/center.html')->redirect()->getTargetUrl();. ",
    "liuyami": "@overtrue \u975e\u5e38\u611f\u8c22\uff0c\u6253\u7535\u8bdd\u7ed9\u5fae\u4fe1\u89e3\u51b3\u4e86\uff0c\u662f\u6211\u8d26\u6237\u6709\u70b9\u975e\u5b89\u5168\u65b9\u9762\u5f02\u5e38\uff0c\u73b0\u5728\u6ca1\u6709\u95ee\u9898\u4e86\uff0c\u771f\u662f\u7ed9\u4f60\u6dfb\u9ebb\u70e6\u4e86\u3002. \u4f60\u597d\uff0c\u6211\u90a3\u90e8\u5206\u4ee3\u7801\u5b8c\u5168\u662f\u6309\u7167\u5b98\u7f51\u624b\u518c\u90a3\u6837\u5199\u7684\uff0c\n```php\n        $server->setMessageHandler(function($event) use ($openPlatform) {\n        addlog('\u6536\u5230\u63a8\u9001');\n\n        switch ($event->InfoType) {\n\n            case Guard::EVENT_AUTHORIZED: // \u6388\u6743\u6210\u529f\n                try {\n                    //\u6570\u636e\u5e93\u64cd\u4f5c\n\n                    addlog('\u65b0\u589e\u6388\u6743:'.$authorizer_appid);\n\n                } catch (\\Exception $e) {\n                    addlog('error:' . $e->getMessage());\n                }\n\n\n            case Guard::EVENT_UPDATE_AUTHORIZED: // \u66f4\u65b0\u6388\u6743\n                //addlog('\u8fdb\u5165\u6743\u9650\u66f4\u65b0');\n\n                // \u66f4\u65b0\u6570\u636e\u5e93\u64cd\u4f5c\n\n                addlog('\u66f4\u65b0\u6388\u6743:'.$authorizer_appid);\n\n\n\n\n            case Guard::EVENT_UNAUTHORIZED: // \u6388\u6743\u53d6\u6d88\n               // \u66f4\u65b0\u6570\u636e\u5e93\u64cd\u4f5c\n\n                addlog('\u53d6\u6d88\u6388\u6743:'.$authorizer_appid);\n\n\n            default:\n                http(403,'BAD REQUEST');\n        }\n    });\n\n```\n@mingyoung  \u65b0\u589e\u3001\u66f4\u65b0\u3001\u53d6\u6d88\u90fd\u6709 SQL \u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u5e76\u4e14\u90fd\u6d4b\u8bd5\u8fc7\u6b63\u5e38\u6ca1\u6709\u62a5\u9519\u3002\n. \u6709\u7684\uff0c\u524d\u9762\u53d1\u7684\u4ee3\u7801\u540e\u9762\u5c31\u662f\n$response = $server->serve();\n        $response->send();. \u8bf7\u6559\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u5982\u4f55\u6a21\u62df\uff0c\u7528post\u53d1\u9001component_verify_ticket\u5b57\u6bb5\u4f3c\u4e4e\u4e0d\u884c. @mingyoung \u4e0d\u597d\u610f\u601d\uff0c\u6211\u81ea\u5df1\u6709\u4e00\u5904\u5f04\u9519\u4e86\uff0c\u8fd8\u662f\u975e\u5e38\u611f\u8c22. @mingyoung \u4f60\u597d\uff0c\u90a3\u8bf7\u95ee\u6211\u600e\u4e48\u77e5\u9053\u53d6\u6d88\u6388\u6743\u662f\u53d6\u6d88\u54ea\u4e00\u4e2a\u7684\u5462\uff1f. @mingyoung \u611f\u8c22\uff0c\u641e\u5b9a\u4e86. \u4e0d\u662f\u4e0d\u662f\uff0c\u4ee3\u7801\u592a\u591a\uff0c\u521a\u521a\u662f\u6211\u6574\u7406\u51fa\u6765\u7684\u65f6\u5019\u5c11\u590d\u5236\u4e86\uff0c$msg \u662f\u6709\u7684\u3002\u5305\u62ec\u5f15\u7528\u7684\u53d8\u91cf $client_data \u90fd\u662f\u6709\u7684\uff0c\u90a3\u662f\u5ba2\u6237\u7684\u6570\u636e\u4fe1\u606f\uff0c\u6211\u91cd\u65b0\u6574\u7406\u4e86\u4e0b\uff1a\n```\n$openPlatform = Factory::openPlatform(config('wechat.open_platform'));\n$officialAccount = $openPlatform->officialAccount($appid);\n$server = $officialAccount->server;\n$server->push(function ($msgPack) use ($officialAccount) {\n    $openid    = $msgPack['FromUserName'];\n    $MsgType   = $msgPack['MsgType'];\n    $eventType = isset($msgPack['Event']) ? $msgPack['Event'] : null;\n    $EventKey  = isset($msgPack['EventKey']) ? $msgPack['EventKey'] : null;\n/** \u8ba2\u9605\u4e8b\u4ef6 */\nif($MsgType == 'event' && $eventType == 'subscribe') {\n    //return \"\u60a8\u597d\uff01\u6b22\u8fce\u5173\u6ce8\u6211!\"; //\u53ef\u4ee5\u6b63\u5e38\u8fd4\u56de\n\n    $msg = new Text('\u60a8\u597d\uff01\u6b22\u8fce\u5173\u6ce8!');\n    $officialAccount->customer_service->message($msg)->to($openid)->send(); //\u6536\u4e0d\u5230\n}\n\n}\nreturn $server->serve();\n```. ",
    "elinxer": "\u6211\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898,\u6c42\u89e3\u554a,setUrl\u4e3a\u524d\u7aef\u8def\u7531\u4e00\u6837\u51fa\u95ee\u9898 @tianyong90 . \u786e\u5b9e\u627e\u5230\u4e86\u65b9\u6cd5: \u8bf7\u6c42config\u914d\u7f6e\u53c2\u6570,\u751f\u6210\u7b7e\u540d\u65f6\u8981\u4f7f\u7528\u5b8c\u6574\u7684URL\u53bb\u751f\u6210\u7b7e\u540d,\u5df2\u4fee\u590d,\u8c22\u8c22\u5404\u4f4d. @overtrue . \u6ca1\u6709\u7684\uff0ctinker\u4e0b\u4e00\u6837\u83b7\u53d6\u4e0d\u5230\u5462\uff0c\u6682\u65f6\u627e\u4e0d\u95ee\u9898\u6240\u5728 @mingyoung . \u91cd\u65b0\u8bbe\u7f6e\u540e\uff0cticket\u4f7f\u7528\u6b63\u5e38\uff0c\u975e\u5e38\u611f\u8c22\uff01. ",
    "lyt8384": "\u5176\u5b9e\u6211\u4eec\u4e5f\u662f\u5355\u9875\u9762\u5e94\u7528\u7684\u3002\u8fd9\u4e2a\u8d8b\u52bf\u8fd8\u662f\u6709\u7684\u3002\u3002\u6211\u4eec\u7684\u89e3\u51b3\u65b9\u5f0f\u662f\u81ea\u5df1\u5199\u4e86config\u65b9\u6cd5\u3002\u3002Vue\u5728\u5b8c\u6210\u6e32\u67d3\u540e\uff0c\u53d1\u8d77\u8bf7\u6c42\u7ed9\u540e\u7aef\uff0c\u5305\u542b\u5f53\u524dURL\u3002\u3002\u7136\u540e\u540e\u7aef\u6839\u636e\u8fd9\u4e2aURL\u518d\u53bb\u751f\u6210\u5fae\u4fe1\u7684config\u53c2\u6570\u3002\u518d\u914d\u7f6e\u3002. \u5176\u5b9e\u4f60\u53ef\u4ee5\u8bd5\u4e0b\u628avendor composer.lock \u5220\u6389\u3002\u3002\u7136\u540e\u91cd\u65b0ins\u4e0b\u8bd5\u8bd5\u3002\u3002\u5efa\u8bae\u5148\u5907\u4efd\u3002\u4ee5\u524d\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\u5927\u591a\u90fd\u662f\u6846\u67b6\u6216\u8005\u67d0\u4e2a\u63d2\u4ef6\u5df2\u7ecf\u88c5\u4e86\u88c5\u4e86\u8fd9\u4e2a\u5305\u3002\u7136\u540e\u8fd8\u662f\u5176\u4ed6\u7248\u672c\u7684\u3002\u3002\u3002\u6216\u8005\u5220\u9664\u4e86\u6587\u4ef6\uff0c\u624b\u52a8\u64cd\u4f5c\u4e86\u4ec0\u4e48\u3002\u4e5f\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002. \u76ee\u524d\u5206\u6790\u53ef\u80fd\u662fNginx\u7684\u95ee\u9898\u3002. \u5176\u5b9e\u5f88\u660e\u663e\u3002\u3002\u3002\u4f60\u8fd9\u4e2a\u662f\u5355\u9875\u540d\u5e94\u7528\u914d\u7f6e\u7684\u80af\u5b9a\u3002\u3002\u3002\u90a3\u4e2agetWXJSSDKConfig\u662f\u63a5\u53e3\u5730\u5740\u6765\u7684\u3002\u3002\u7136\u540e\u6ca1\u770b\u6587\u6863\u53bb\u624b\u52a8\u8bbe\u7f6e\u7b7e\u540d\u7684URL\u3002\u3002\u3002\u5c31\u7b7e\u540d\u9519\u8bef\u62c9~~~\n\u4f60\u9700\u8981\u3002\n1. \u770b\u6587\u6863\n1. \u8ba9\u4f60\u5bb6\u524d\u7aef\u628a\u5f53\u524d\u8def\u5f84\u7684URL\u62fc\u63a5\u6210\u53c2\u6570\u4f20\u56de\u6765\u7ed9\u4f60. ",
    "Cjavaer": "\u8bf7\u6559\u4e00\u4e0b\u5b8c\u6574\u7684url\u662f\u6307\u4ec0\u4e48\uff0c\u5fae\u4fe1\u5efa\u8bae\u662fencodeURIComponent(location.href.split('#')[0])\uff0c\u8fd9\u6837\u6709\u4ec0\u4e48\u95ee\u9898\u5417?. ",
    "zhkzyth": "\u8c8c\u4f3c\u6ca1\u6709\u76f8\u5173\u7684\u6587\u6863~. @mingyoung aes_key\u548ctoken\u90fd\u6ca1\u770b\u5230\uff0c\u5fc5\u586b\uff1f. @mingyoung \u5982\u679c\u6211\u53ea\u662f\u7528\u5c0f\u7a0b\u5e8f\uff0c\u6211\u6574\u4e2aoption\u53ea\u8981\u586b\u5173\u4e8e\u5c0f\u7a0b\u5e8f\u7684\u53c2\u6570\u5c31ok\u4e86\u5427\uff1f\n$options = [\n    'mini_program' => [\n        'app_id'   => 'component-app-id',\n        'secret'   => 'component-app-secret',\n        ],\n    ];. ",
    "yulinho": "\u54c8\u54c8\n. ",
    "wuzuzhen": "~~. ",
    "liumingzhij26": "\u786e\u5b9e\u6709\u95ee\u9898\uff0cpage \u8def\u5f84\u5fc5\u987b\u662f\u5df2\u7ecf\u4e0a\u7ebf\u7684\u8def\u5f84\n$params = [\n                'scene' => $scene,\n                'page' => 'pages/index/index',\n                'width' => 430,\n                'auto_color' => false,\n                'line_color' => ['r' => 0, 'g' => 0, 'b' => 0],\n            ];\n            $curl = new Curl\\Curl();\n            $curl->post('https://api.weixin.qq.com/wxa/getwxacodeunlimit?access_token=' . $token, json_encode($params));\n            $curl->setHeader('content-type', 'application/json');\n            $image = $curl->response;//\u4e8c\u8fdb\u5236\u56fe\u7247. ",
    "garveen": "src/Support/XML.php:40\n\u7fa4\u91cc\u6709\u4e2a\u6ca1\u88c5\u6269\u5c55\u7684\u5728\u90a3\u50bb\u773c. ",
    "justcodingnobb": "\u662f\u8981\u5347\u7ea74.0\u7248\u672c\u4e48\uff1f \u53ea\u652f\u6301php7.0\u4ee5\u4e0a\u4e86\uff1f. @overtrue \u6709\u8ba1\u5212\u4ec0\u4e48\u65f6\u5019\u66f4\u65b04.0\u7248\u672c\u5417\uff1f \u6700\u8fd1\u5728\u505a\u5f00\u53d1\u5e73\u53f0\uff0c\u53d1\u73b0\u8fd8\u6709\u5f88\u591a\u4e1c\u897f\u5e76\u6ca1\u6709\u5750\u8fdb\u6765\uff0c\u53e6\u5916\uff0c\u4e3a\u4e86\u4f60\u8fd9\u4e2a7.0\u4ee5\u4e0a \u6211\u53c8\u4e70\u4e86\u4e2a\u670d\u52a1\u5668 \u88c5LNMP\u90fd\u641e\u4e86\u4e00\u5929\u4e86\ud83d\ude02. @overtrue \ud83d\udc4d\u671f\u5f854.0\u7248\u672c\uff0c\u76ee\u524d\u7684\u62d3\u5c55\u505a\u5355\u4e2a\u516c\u4f17\u53f7\u7ba1\u7406\u5df2\u7ecf\u8db3\u591f\u4e86\uff0c\u4f46\u662f\u5f00\u653e\u5e73\u53f0\u7684\u5185\u5bb9\u8fd8\u662f\u4e0d\u591f\u591a\uff0c\u5df2Star\uff0c \u73af\u5883\u5df2\u7ecf\u88c5\u597d\u4e86 PM\u6280\u672f\u63a7\uff0c\u8981\u6c42\u90fd\u662f\u6700\u65b0\u7a33\u5b9a\u7248\u672c\u7684\u73af\u5883 \u6240\u4ee5\u82b1\u4e86\u4e9b\u65f6\u95f4\ud83d\ude06. \u770b\u5230\u4e86\uff0cOpen Platform\u53ea\u5b8c\u6210\u4e86\u57fa\u672c\u5f00\u53d1\uff0c\u5176\u4ed6\u7684\u529f\u80fd\u6709\u5f85\u5b8c\u5584\ud83d\ude06. ",
    "openset": "@overtrue \u8981\u6c42 7.0 \u4ee5\u4e0a\u4f30\u8ba1\u4e0d\u592a\u597d\u5427\uff0c\u770b\u4e00\u4e86vendor\u76ee\u5f55\u4e0b\u5176\u4ed6\u7c7b\u5e93\uff0c\u4e00\u822c\u90fd\u662fphp >= 5.3 or 5.5\u3002\n\u76ee\u524dPHP\u5404\u7248\u672c\u5e02\u573a\u5360\u6709\u7387\u5982\u4e0b\uff1a\nPHP 5.6 39.67%\nPHP 5.5 29.56%\nPHP 7.0 20.24%\nPHP 5.4 7.64%\nPHP 5.3 2.43%\n\u73b0\u5728\u505c\u7559\u57285.6\u7684\u5e94\u8be5\u5c45\u591a\u3002. @overtrue \u8fd9\u4e2a\u6211\u662f\u77e5\u9053\u7684\uff0c\u73b0\u5728\u6269\u5c55\u90fd\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u597d\u591a\u516c\u53f8\u7528\u7684\u90fd\u662f\u4e91\u670d\u52a1\u5668\uff0c\u800c\u90a3\u4e9b\u96c6\u6210\u73af\u5883\u955c\u50cf\uff0c\u5927\u591a\u662f5.6\u3002\u9879\u76ee\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u4e00\u822c\u90fd\u4e0d\u613f\u610f\u5347\u7ea7\u3002. \u652f\u6301\u8fd9\u4e2a\uff0c\u76f4\u63a5\u629b\u51fa\u5f02\u5e38\uff0c\u5982\u679c\u60f3\u5bf9\u4e0d\u540c\u7684\u5f02\u5e38\u505a\u5904\u7406\u5c31\u6bd4\u8f83\u9ebb\u70e6\u3002. @odirus $token = $accessToken->getToken($force_refresh); \ngetToken \u65b9\u6cd5\u6709\u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u5f3a\u5236\u5237\u65b0\uff0c\u4e1a\u52a1\u8c03\u7528\u53d1\u73b0AccessToken\u5931\u6548\u53ef\u4ee5\u518d\u6b21\u8bf7\u6c42\u5f3a\u5236\u5237\u65b0\uff0c\u53e6\u5916\u63a7\u5236\u597d\u5f3a\u5236\u5237\u65b0\u9891\u7387\uff0c\u6bd4\u5982\u5f3a\u5236\u5237\u65b0\u6700\u591a5\u5206\u949f\u4e00\u6b21\u3002. \u8df3\u8f6c\u5230\u4e1a\u52a1\u9875\u9762\u4e86\uff0c\u662f\u6b63\u5e38\u7684\uff0c\u95ee\u9898\u5728\u4e8e\u5728\u4e1a\u52a1\u9875\u9762\u7528\u6237\u70b9\u51fb\u8fd4\u56de\uff0c\u5c31\u5230\u4e86\u90a3\u4e2a\u6709code\u53c2\u6570\u7684\u94fe\u63a5\uff0c\u5c31\u4f1a\u62a5code\u65e0\u6548\u3002\u5b89\u5353\u624b\u673a\u66f4\u5bb9\u6613\u51fa\u73b0\u8fd9\u4e2a\u9519\u8bef\u3002\n\n. ",
    "hello2t": "\u8fd4\u56de\u5185\u5bb9\uff0c\u7531\u4e1a\u52a1\u6765\u505a\u5224\u65ad. ",
    "zhangmazi": "\u7528\u6e90\u7801 https://github.com/summerblue/phphub5 \u52a0\u5165laravel-wechat\u7ec4\u4ef6\u540e\uff0c\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5. \u7528Log::debug\u8c03\u8bd5\uff0c\u770b\u65e5\u5fd7\u53d1\u73b0\u7684\u3002\n\u7b2c2\u4e2a\u95ee\u9898\uff0c\u51c6\u786e\u662fWeChatProvider->user()\u8fd9\u4e2a\u65b9\u6cd5\u8c03\u7528\u4e862\u6b21\u3002\n502\u7684\u95ee\u9898\uff0c\u4e5f\u8bb8\u8ddfsession\u6ca1\u6709\u5173\u7cfb\uff0c\u6211\u73b0\u5728\u4e0d\u80fd\u65ad\u5b9a. ",
    "valitors": "\u5df2\u7ecf\u6539\u4e86\uff0c\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u547d\u4ee4\u884c\u4e0a\u9762\u8fd8\u662f\u6709\u65e5\u5fd7. \u8fd9\u662f\u4e09\u5f20\u622a\u56fe\nhttps://cloud.githubusercontent.com/assets/23516497/23501399/ac5c16e4-ff6e-11e6-8acd-9a4e9a80049a.png\nhttps://cloud.githubusercontent.com/assets/23516497/23501423/c3690e0a-ff6e-11e6-840f-b60beb2e38de.png\nhttps://cloud.githubusercontent.com/assets/23516497/23501429/cb0c3542-ff6e-11e6-80e3-861f3e15a959.png\n. \n\u4f60\u5728\u8fd9\u4e24\u4e2a\u5730\u65b9\u52a0\u4e2a\u5224\u65ad\u5427\uff0c\u6211\u628a\u8fd9\u6ce8\u91ca\u4e86\uff0c\u5c31\u4e0d\u51fa\u73b0\u4e86\u3002\u8fd9\u662f\u4e24\u4e2a\u622a\u56fe\n\n\n. ",
    "yedongze": "@mingyoung \u4e0d\u662f\u540c\u4e00\u4e2a\u63a5\u53e3\u554a\u3002\u9884\u89c8\u662fpreview\u63a5\u53e3\u3002 openID\u662f\u5355\u4e2a\u7684\uff0c\u4e0d\u662f\u5217\u8868\u3002\ud83d\ude01. ",
    "xlkit456852": "\u90a3\u5c31\u662f\u8bf4\u6211\u73b0\u5728\u5e94\u8be5\u7531\u540e\u53f0\u53bb\u5904\u7406\u8fd9\u4e2acode\u8fd8\u662f\u7531APP\u53bb\u5904\u7406\uff1f. \u8bdd\u8bf44.0\u4ec0\u4e48\u65f6\u5019\u4f1a\u51fa\u5462^_^. \u56e0\u4e3aAPP\u5fae\u4fe1\u6388\u6743\u767b\u5f55\u540e\uff0c\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u6d41\u7a0b\u57fa\u672c\u548c\u5fae\u4fe1\u7f51\u9875\u6388\u6743\u767b\u5f55\u540e\u5dee\u4e0d\u591a\uff0c\u53ea\u662fAPPID\u548cAPPSECRET\u4e0d\u540c\uff0c\u6709\u6ca1\u6709\u65b9\u6cd5\u5728\u5f53\u524d\u7248\u672c\u80fd\u590d\u7528\u5fae\u4fe1\u7f51\u9875\u6388\u6743\u540e\u7684\u90a3\u5957\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u7684\u903b\u8f91\u5462\uff1f. ",
    "fengerwoo": "@overtrue \u6700\u540e\u6210\u529f\u4e86\u5417\uff1fcode\u600e\u4e48\u4f20\u7684. ",
    "kelvinblood": "\u8ddf\u51b2\u7a81\u76f8\u5173\u7684\u662f\u8fd9\u4e09\u4e2a\u5305\ndompdf 2.3.*\ncilex\npimple v.0.*\n\nphpdoc\u7684\u76f4\u63a5\u4f9d\u8d56\u662fcilex\u8981\u6c42\u9ad8\u4e8e 1.0\uff0c\u5176\u4ed6\u7684\u90fd\u662f\u76f8\u5173\u4f9d\u8d56\u3002\nwechat\u7684\u76f4\u63a5\u4f9d\u8d56\u662f pimple \u9ad8\u4e8e3.0\uff0c\u5176\u4ed6\u7684\u90fd\u662f\u76f8\u5173\u4f9d\u8d56\u3002\n. \u55ef\uff0c\u627e\u5230\u76f8\u5173\u89e3\u51b3\u529e\u6cd5\u4e86\u3002\u662fphpdoc\u4e2dpimple\u7684\u4f9d\u8d56\u95ee\u9898\u3002\nhttps://github.com/phpDocumentor/phpDocumentor2/issues/1738. ",
    "jeftom": "@tsunamilx \u5b9e\u4f8b\u5316 Application($config) \u7684\u65f6\u5019\u662f\u4e0d\u662f\u5148\u8981\u628a component_access_token \u52a0\u5230 $config \u914d\u7f6e\u91cc\uff1f\u4e0d\u7136\u83b7\u53d6\u4e0d\u4e86 $app->oauth->user(). @tsunamilx \u5927\u795e\u5e2e\u5fd9\u770b\u770b\u8fd9\u91cc\u662f\u4e0d\u662f\u5e94\u8be5\u8fd9\u6837\u6539\uff1f\u8c22\u8c22. ",
    "tsunamilx": "\u7b2c\u4e09\u65b9\u5e73\u53f0\u7684 OAuth \u5012\u662f\u6ca1\u6709\u8003\u8651\u8fc7\uff0c\u7b49\u6211\u7814\u7a76\u7814\u7a76\u5148\u3002. @jeftom \n\u6211\u89c9\u5f97\u628a component_access_token \u653e\u5165 config \u4e0d\u59a5\uff0cconfig \u5e94\u8be5\u4fdd\u6301\u9759\u6001\u3002\n\u6784\u601d\uff1a\n$app->oauth \u662f \\Overtrue\\Socialite\\Providers\\WeChatProvider \u5b9e\u4f8b\u3002\n$app->oauth->user() \u65b9\u6cd5\u5c31\u662f \\Overtrue\\Socialite\\Providers\\AbstractProvider::user() \u65b9\u6cd5\u3002\n\u65b9\u6848\u4e00\nAbstractProvider::user() \u63a5\u53d7\u53c2\u6570 AccessTokenInterface\uff0c\u6240\u4ee5\u53ef\u4ee5\u81ea\u5b9a\u4e49 token \u4ee5\u9002\u5e94\u7b2c\u4e09\u65b9\u5e73\u53f0\u3002\u53ef\u884c\u6027\u548c\u96be\u5ea6\u672a\u505a\u5206\u6790\u3002\u6ce8\u610f\u6b64 AccessToken \u4e3a OAuth \u7684 token\uff0c\u4e0e\u5176\u4ed6 API \u7684 AccessToken \u4e0d\u901a\u7528\u3002\n\u65b9\u6848\u4e8c\n\u53e6\u4f5c\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e73\u53f0\u4e13\u95e8\u7684 OAuth\uff0c\u6bd4\u5982 OpenPlatformAuthProvider extends WeChatProvider\uff0c\u6ce8\u5165 OpenPlatform\\AccessToken \u6765\u83b7\u5f97 component_access_token\uff0c\u5728\u8986\u76d6 WeChatProvider \u76f8\u5173\u65b9\u6cd5\u4ee5\u9002\u5e94\u7b2c\u4e09\u65b9\u5e73\u53f0\u9700\u6c42\u3002\n\u7136\u540e\u4fee\u6539\u5bb9\u5668\u6ce8\u518c\u8fc7\u7a0b\uff1a\n\\EasyWeChat\\Foundation\\ServiceProviders\\OAuthServiceProvider::register\n\uff08\u4ee5\u4e0b\u4f2a\u4ee3\u7801\uff09\n```php\n$pimple['oauth'] = function ($pimple) {\n$socialite = new Socialite(...);\nif ( is open platform ) {\n    $socialite->drive(open platform auth);\n} else {\n    $socialite->drive(wechat);\n}\n\n}\n```\n\u6211\u4e2a\u4eba\u8ba4\u4e3a\u65b9\u6848\u4e8c\u6bd4\u8f83\u9002\u5408\u3002@overtrue, @mingyoung \u610f\u4e0b\u5982\u4f55\uff1f. \u4ee3\u7801\u6539\u52a8\u5f88\u5927\uff0c\u6ca1\u6709\u592a\u591a\u65f6\u95f4\u53bb\u7406\u89e3\u3002\u4e0d\u8fc7\u6709\u51e0\u4e2a\u7591\u95ee\uff1a\n\n\u5fae\u4fe1\u63a8\u9001\u6388\u6743\u4e8b\u4ef6\u540e\u4e0d\u7f13\u5b58 authorizer_access_token \u548c authorizer_refresh_token\uff0c\u56e0\u4e3aSDK\u5904\u7406\u540e\u518d\u6b21\u83b7\u53d6\u6388\u6743\u4fe1\u606f\u7684\u8bdd\u5bb9\u6613\u9020\u6210 Token \u5931\u6548\u7684\u95ee\u9898\u3002\u5f53\u8c03\u7528\u6388\u6743\u65b9 API \u4f1a\u7f13\u5b58\u5e76\u81ea\u52a8\u5237\u65b0 Token\u3002\n\n\u8fd9\u91cc\u4e0d\u7406\u89e3 Token \u4e3a\u4f55\u4f1a\u5931\u6548\uff0cToken \u6ca1\u6709\u81ea\u52a8\u5237\u65b0\u5417\uff1f\u518d\u6b21\u6388\u6743\u7684\u8bdd\u4e0d\u5c31\u662f\u8986\u76d6\u539f\u6765\u7684 Token \u4e86\u5417\uff0c\u600e\u4e48\u4f1a\u5931\u6548\uff1f\n\nphp\n// AFTER\n$app = $openPlatform->createAuthorizerApplication('authorizerAppid', 'authorizerRefreshToken');\n\n\u90a3\u4e48\u5f00\u53d1\u8005\u662f\u8981\u624b\u52a8\u5904\u7406 authorizer_refresh_token \u4e86\uff1f\u4e4b\u540e\u4e3a\u4e86\u5237\u65b0 authorizer_access_token \u5f00\u53d1\u8005\u90fd\u8981\u624b\u52a8\u5e26\u4e0a authorizer_refresh_token \uff1f \u6211\u8ba4\u4e3a\u8fd9\u91cc\u53ef\u4ee5\u81ea\u52a8\u5904\u7406\u6389\u7684\uff0c\u662f\u6709\u4ec0\u4e48\u8003\u8651\u4e0d\u505a\u5417\uff1f. > \u5728\u56de\u8c03\u9875\u9762\u4e2d\u6839\u636e auth_code \u83b7\u53d6\u6388\u6743\u4fe1\u606f\u7684\u8bdd\u90a3\u5c31\u6709\u51b2\u7a81\u4e86\n\u6211\u8fd9\u8fb9\u6ca1\u51fa\u73b0\u8fc7\u8fd9\u6837\u7684\u60c5\u51b5\u3002\u901a\u8fc7 auth_code \u662f\u91cd\u65b0\u83b7\u53d6\u8fd9\u4e24\u4e2a token \u4e86\u5bf9\u5417\uff1f\u7167\u7406\u5e94\u8be5\u662f\u8986\u76d6\u4e86\u539f\u6765\u7f13\u5b58\u7684 token\uff0c\u4e4b\u540e\u5e94\u8be5\u4f1a\u4f7f\u7528\u65b0\u7684 token\uff0c\u4e0d\u89c9\u5f97\u4f1a\u51b2\u7a81\u3002\u6211\u7406\u89e3\u6709\u8bef\uff1f\n\nauthorizer_refresh_token \u5e94\u8be5\u90fd\u8981\u4fdd\u5b58\u5230\u81ea\u5df1\u7684\u6570\u636e\u5e93\u5427\uff0c\u5982\u679c\u4ea4\u7ed9\u7f13\u5b58\u6765\u5904\u7406\uff0c\u90a3\u6e05\u7a7a\u7f13\u5b58\u4e0d\u5c31\u90fd\u6ca1\u4e86\uff1f\n\n\u8fd9\u4e2a\u540c\u610f\uff0c\u4e0d\u8fc7\u611f\u89c9\u6e05\u7a7a\u7f13\u5b58\u7684\u53ef\u80fd\u6027\u4e0d\u5927\uff0c\u90a3 component_verify_ticket \u662f\u4e0d\u662f\u4e5f\u8981\u62ff\u51fa\u6765\u81ea\u884c\u5904\u7406\u3002. > \u5f00\u53d1\u8005\u5728\u56de\u8c03\u9875\u9762\u6839\u636e auth_code \u8c03\u7528 $openPlatform->getAuthrizationInfo('auth_code)\uff08\u8fd9\u4e2a\u65b9\u6cd5\u6ca1\u6709\u91cd\u65b0\u5199\u7f13\u5b58\uff09 \u518d\u6b21\u83b7\u53d6\u4e86 token B\u3002\n\u989d\uff0c\u8fd9\u6211\u89c9\u5f97\u5e94\u8be5\u662f\u5f00\u53d1\u5458\u7684\u8d23\u4efb\u4e86\u5427\uff0c\u539f\u6765\u7684 Authorization \u7c7b\u91cc\u6709 handleAuthorization \u65b9\u6cd5\uff0c\u8fd9\u91cc\u662f\u83b7\u53d6\u5e76\u4e14\u7f13\u5b58\u7684\u3002\u5e94\u8be5\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u3002\n\n\u5c31\u7b97\u6e05\u7a7a\u7f13\u5b58\u4e86\uff0ccomponent_verify_ticket \u53ef\u4ee5\u7b4910\u5206\u949f\u5fae\u4fe1\u63a8\u9001\u8fc7\u6765\uff0cauthorizer_refresh_token\n\u5c31\u8981\u91cd\u65b0\u7528\u6237\u6388\u6743\u624d\u6709\u4e86\u3002\n\n\u89c1\u4ec1\u89c1\u667a\u5427\u3002\u6b63\u5f0f\u73af\u5883\u4e2d\uff0c\u6e05\u7a7a\u7f13\u5b58\u5e94\u8be5\u662f\u4e0d\u4f1a\u53d1\u751f\u7684\uff0c\u5982\u679c\u53d1\u751f\u4e86\uff0c10\u5206\u949f\u4e0d\u53ef\u7528\u4e5f\u662f\u5f88\u4e25\u91cd\u7684\u95ee\u9898\u3002\u53e6\u5916 component_verify_ticket \u662f\u88ab\u52a8\u7684\uff0c\u53ea\u80fd\u7b49\u5fae\u4fe1\u63a8\u8fc7\u6765\uff0c\u6025\u6b7b\u4eba\u3002\u3002\u3002authorizer_refresh_token \u7684\u8bdd\u53eb\u5ba2\u6237\u4e3b\u52a8\u91cd\u65b0\u6388\u6743\uff0c\u53ef\u4ee5\u5f88\u5feb\u89e3\u51b3\uff0c\u4e0d\u8fc7\u5ba2\u6237\u591a\u7684\u8bdd\u4e5f\u662f\u633a\u8981\u547d\u7684\u3002\u3002\u3002\u6240\u4ee5\u6e05\u7a7a\u7f13\u5b58\u66f4\u52a0\u662f\u4e0d\u592a\u53ef\u80fd\u4e86\u3002. \u90a3\u5c31\u7edf\u4e00\u6240\u6709 open platform \u7684\u7c7b\u90fd\u8fd9\u6837\u54af:\nopen_platform\nopen_platform.access_token\nopen_platform.handlers.component_verify_ticket. OpenPlatform \u76f8\u5173\u7684\u6d88\u606f\u7c7b\u578b\u662f InfoType. ",
    "yanggg1133": "Your requirements could not be resolved to an installable set of packages.\nProblem 1\n    - overtrue/laravel-wechat 2.1.2 requires overtrue/wechat 2.1. -> satisfiabl\ne by overtrue/wechat[2.1.0, 2.1.38, 2.1.39, 2.1.41, 2.1.x-dev] but these conflic\nt with your requirements or minimum-stability.\n    - overtrue/laravel-wechat 2.1.2 requires overtrue/wechat 2.1. -> satisfiabl\ne by overtrue/wechat[2.1.0, 2.1.38, 2.1.39, 2.1.41, 2.1.x-dev] but these conflic\nt with your requirements or minimum-stability.\n    - overtrue/laravel-wechat 2.1.2 requires overtrue/wechat 2.1. -> satisfiabl\ne by overtrue/wechat[2.1.0, 2.1.38, 2.1.39, 2.1.41, 2.1.x-dev] but these conflic\nt with your requirements or minimum-stability.\n    - Installation request for overtrue/laravel-wechat (locked at 2.1.2, require\nd as 2.1.) -> satisfiable by overtrue/laravel-wechat[2.1.2].\nInstallation failed, reverting ./composer.json to its original content.. ",
    "motecshine": "\u7ea2\u7ea2\u706b\u706b\u604d\u604d\u60da\u60da. errmsg \u610f\u601d\u662f \u4f60\u7684access_token\u662f\u8fc7\u671f\u7684,\u4e0d\u53ef\u7528\u7684\uff0c\u770b\u4e0b\u4f60\u7684\u4ee3\u7801\u662f\u4e0d\u662f\u6709\u54ea\u4e9b\u5730\u65b9\u5b58\u5728access_token \u91cd\u590d\u83b7\u53d6\u7684\u903b\u8f91\u3002. \u6539\u4e86\u5c31\u662f\u81ea\u5df1\u7684\u4e86. ",
    "iiDestiny": "\u3002\u3002\u3002\u3002. ",
    "wilon": "\u770b\u6587\u6863\uff1ahttps://mp.weixin.qq.com/wiki/8/f9a0b8382e0b77d87b3bcc1ce6fbc104.html\n\u4e0b\u6e90\u7801\u770b\u770b\u5c31\u77e5\u9053\u4e86\u3002\u4f60\u53ef\u4ee5\u968f\u4fbf\u5728\u4e00\u4e2a\u5730\u5740\u4e0a\u8fd4\u56de$_GET[\"echostr\"]\u5c31\u4f1a\u6210\u529f\u3002\n\u5b9e\u9645\u4e0a\u5fae\u4fe1\u6ca1\u6709\u9a8c\u8bc1\u4f60\u7684token\uff0c\u800c\u662f\u8981\u4f60\u81ea\u5df1\u9a8c\u8bc1\u3002\n```php\npublic function wechatapi(Request $request)\n{\n    Log::info('wechat-api', $_REQUEST);\n\n$echoStr = $_GET[\"echostr\"] ?: '';\n\n//valid signature , option\nif($this->checkSignature()){\n    echo $echoStr;\n    exit;\n}\n}\n\nprivate function checkSignature()\n{\n    $signature = $_GET[\"signature\"];\n    $timestamp = $_GET[\"timestamp\"];\n    $nonce = $_GET[\"nonce\"];\n\n    $token = 'btsjwechat';\n    $tmpArr = array($token, $timestamp, $nonce);\n    sort($tmpArr, SORT_STRING);\n    $tmpStr = implode( $tmpArr );\n    $tmpStr = sha1( $tmpStr );\n\n    if( $tmpStr == $signature ){\n        return true;\n    }else{\n        return false;\n    }\n}\n\n```. \u6709\u6ca1\u6709Laravel\u591a\u7ebf\u7a0b\u961f\u5217\u7684\u4f8b\u5b50\u554a\uff1f\n\u6211\u7528Laravel\u961f\u5217\uff0c\u8fd8\u662f\u4e00\u6761\u4e00\u6761\u6267\u884c\u3002. @tianyong90 \n\u786e\u5b9e\uff0c\u6211\u4e5f\u8ba9\u4ea7\u54c1\u597d\u597d\u770b\u4e86\u5fae\u4fe1\u6587\u6863\u3002\n\u4f46\u6211\u662f\u8bfe\u7a0b\u76f4\u64ad\u901a\u77e5\uff0c\u4ea7\u54c1\u8981\u6c42\u5fc5\u987b\u53d1\uff0c\u73b0\u5df2\u7ecf\u6539\u6210\u6bcf\u59291\u4e07\u4eba.... ",
    "dan381006472": "\u5e76\u6ca1\u6709\u6548\u679c..\n\n\n\u5728 2017\u5e743\u670831\u65e5\uff0c16:42\uff0c\u5b89\u6b63\u8d85 notifications@github.com \u5199\u9053\uff1a\n@dan381006472 https://github.com/dan381006472 https://github.com/overtrue/laravel-wechat https://github.com/overtrue/laravel-wechat\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/overtrue/wechat/issues/611#issuecomment-290653388, or mute the thread https://github.com/notifications/unsubscribe-auth/ADMngrEZ2eNBKnY7pYEf_aFS35Bcawclks5rrLyTgaJpZM4MhmLA.\n\n\n. ",
    "Lin07ux": "\u6211\u8ffd\u8e2a\u4e86\u4e0b\u4ee3\u7801\u903b\u8f91\uff0c\u53d1\u73b0\u5bf9\u4e8e\u516c\u4f17\u53f7\u6765\u8bf4\uff0c\u5982\u679c\u6ca1\u6709\u516c\u4f17\u53f7\u914d\u7f6e\u65f6\u542f\u7528\u5b89\u5168\u6a21\u5f0f\uff0c\u90a3\u4e48src/Kernel/ServerGuard.php\u4e2d\u7684isSafeMode()\u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u603b\u662f false\uff0c\u8fd9\u5c31\u5bfc\u81f4validate()\u65b9\u6cd5\u4e2d\uff0c\u5e76\u4e0d\u4f1a\u5bf9signature\u8fdb\u884c\u9a8c\u8bc1\uff0c\u800c\u662f\u76f4\u63a5\u8fd4\u56de$this\u3002\n\u53e6\u5916\uff0c\u5728isSafeMode()\u51fd\u6570\u4e2d\uff0c\u867d\u7136\u4f7f\u7528\u4e86$this->alwaysValidate\u6765\u5224\u65ad\uff0c\u4f46\u662f\u5bf9\u4e8e\u516c\u4f17\u53f7\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u662f false\uff0c\u6240\u4ee5\u4e5f\u5e76\u4e0d\u4f1a\u8d70\u8fd9\u4e2a\u903b\u8f91\u7684\u3002\n\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u8fd9\u4e2a\u539f\u56e0 @overtrue  @dan381006472 . \u611f\u8c22\u4f60\u7684\u56de\u590d~\u4f60\u8fd9\u6837\u8bf4\u6211\u80fd\u7406\u89e3\u4e86\u3002\n\u662f\u5426\u6709\u8003\u8651\u8fc7\u5728ServerGuard\u4e2d\u589e\u52a0\u4fee\u6539$alwaysValidate\u5c5e\u6027\u503c\u7684\u63a5\u53e3\uff1f\u8fd9\u6837\u7684\u8bdd\u53ef\u4ee5\u63a7\u5236\u662f\u5426\u5fc5\u987b\u8fdb\u884c\u7b7e\u540d\u9a8c\u8bc1\u3002\u5f53\u7136\uff0c\u6211\u521a\u5f00\u59cb\u4f7f\u7528\u8fd9\u4e2a SDK\uff0c\u5e76\u4e0d\u786e\u5b9a$alwaysValidate\u5c5e\u6027\u662f\u5426\u5fc5\u987b\u4e3a\u9884\u8bbe\u7684\u503c\u3002. @overtrue \u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\u3002\u516c\u4f17\u53f7\u6ca1\u6709\u8bbe\u7f6e\u52a0\u5bc6\u6a21\u5f0f\u65f6\uff0c\u8c03\u7528forceValidate()\uff0c\u5728\u56de\u590d\u4fe1\u606f\u7684\u65f6\u5019  SDK \u4f1a\u5bf9\u56de\u590d\u7684\u4fe1\u606f\u8fdb\u884c\u52a0\u5bc6\uff0c\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6ca1\u6709\u8bbe\u7f6e\u52a0\u5bc6\u5bc6\u94a5\uff0c\u5219\u4f1a\u51fa\u73b0\u52a0\u5bc6\u5931\u8d25\u5f02\u5e38\uff0c\u5982\u4e0b\uff1a\n{\"code\":-40006,\"message\":\"Key length must be 16, 24, or 32 bytes; got key len (0).\",\"file\":\"/home/vagrant/code/glasses/vendor/overtrue/wechat/src/Kernel/Encryptor.php\",\"line\":114}\n\u5982\u679c\u914d\u7f6e\u4e86\u52a0\u5bc6\u5bc6\u94a5\uff0c\u800c\u56e0\u4e3a\u516c\u4f17\u53f7\u8bbe\u7f6e\u7684\u662f\u660e\u6587\u6a21\u5f0f\uff0c\u6b64\u65f6\u5fae\u4fe1\u670d\u52a1\u5668\u63a5\u6536\u7684\u6d88\u606f\u662f\u5bc6\u6587\uff0c\u800c\u65e0\u6cd5\u89e3\u5bc6\uff0c\u4ece\u800c\u51fa\u73b0\u95ee\u9898\u3002\n\u6240\u4ee5\u8fd9\u4e2aforceValidate()\u7684\u529f\u80fd\u8fd8\u662f\u6709\u5f85\u5546\u69b7\u3002. \u8fd9\u6837\u66f4\u6d41\u7545\u6613\u61c2\u4e86\ud83d\ude00\ud83d\ude00. ",
    "litaonet": "\u8c03\u7528\u4e0a\u4f20\u7684\u6c38\u4e45\u7f29\u7565\u56fe media_id  \u5c31\u53ef\u4ee5\u4e86. ",
    "dm22933": "@overtrue  \u63a7\u5236\u5668\u4f4d\u4e8e App\\Http\\Controllers\\service\\WechatController.php. @overtrue Route::group(['prefix' => 'weixin'],function(){\n    Route::any('/','service\\WechatController@serve');\n});. \u57df\u540d+/weixin  laravel5.1. \u8def\u7531\u5668\u524d\u7f00\u91cc\u6709Route::group(['prefix' => 'weixin']. @overtrue . @overtrue \u8bf7\u6c42\u5931\u8d25    \u6211\u5728\u63a7\u5236\u5668\u4e2d\u52a0\u5165\u4e86\nLog::info($wechat->server->serve());\n\u65e5\u5fd7\u91cc\u6709\n`[2017-04-06 13:46:24] local.INFO: HTTP/1.0 200 OK\nCache-Control: no-cache\nDate:          Thu, 06 Apr 2017 05:46:24 GMT\n<![CDATA[oxxxxxxxxc]]><![CDATA[gh_xxxxxxxxx]]>1491457584<![CDATA[text]]><![CDATA[\u6b22\u8fce\u5173\u6ce8 overtrue\uff01]]>\n`. \u6240\u4ee5\u6211\u624d\u7eb3\u95f7  \u5230\u5e95\u54ea\u91cc\u7684\u95ee\u9898  \u65e5\u5fd7\u663e\u793a\u4e5f\u6ca1\u62a5\u9519\u3002\u3002\u3002\u3002. @overtrue get\u8bf7\u6c42\u9a8c\u8bc1echostr\u6210\u529f  post\u8bf7\u6c42\u80fd\u63a5\u6536  \u5c31\u662f\u8fd4\u56de\u5931\u8d25\u4e5f\u662f\u5c5e\u4e8e\u73af\u5883\u7684\u95ee\u9898\u662f\u4e48. @overtrue \u4e0d\u6562\u6000\u7591\u8d85\u54e5\u7684SDK   \u662f\u6000\u7591\u81ea\u5df1\u914d\u9519\u4e86\u53c2\u6570  \u5c34\u5c2c. @overtrue  \u521a\u624d\u91cd\u65b0\u65b0\u5efa\u4e86\u4e00\u4e2a\u7ad9\u70b9  \u8fd8\u662f\u8fd9\u4e2abug  \u5e0c\u671b\u5927\u795e\u7ed9\u6211\u6307\u70b9\u4e00\u4e0b\u65b9\u5411  \u6700\u53ef\u80fd\u7684\u95ee\u9898\u5728\u54ea\u91cc  \u5df2\u7ecf\u4fe9\u5929\u4e86  \u4e0d\u60f3\u81ea\u5df1\u5199    \u8fd8\u662f\u60f3\u7528\u8fd9\u4e2aSDK\n. \u6700\u540e\u901a\u8fc7\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u63a5\u53e3\u67e5\u8be2\u662fPHP\u914d\u7f6e\u9519\u8bef\u89e3\u51b3  \u8c22\u8c22\nSent from my iPhone\n\nOn Apr 14, 2017, at 10:26, Larry notifications@github.com wrote:\nLaravel \u7684\u8bdd\u770b\u4e0b\u6709\u6ca1\u6709\u5728CSRF\u91cc\u9762\u6392\u9664\u8def\u7531 @dm22933\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @mingyoung \u53cd\u6b63secret\u662f\u8981\u6362\u7684  \u6ca1\u6709dd\uff0c\u4ee3\u7801\u4e5f\u8d34\u4e0a\u53bb\u4e86  \u5c31\u662f\u8fd9\u4e2a\u6267\u884c\u8fd9\u4e2a\u65b9\u6cd5. @mingyoung   \u679c\u7136\u5f88\u5feb\u88ab\u9ed1\u4e86. \n. \u9ad8\u624b\u771f\u4f1a\u73a9\uff0c\u5b81\u613f\u6076\u641e\u4e5f\u4e0d\u613f\u610f\u8fc7\u6765\u5e2e\u6211\u89e3\u51b3\u95ee\u9898. \u7b2c\u4e00\u5f20\u622a\u56fe\u4ee3\u7801\u4ea7\u751f\u7684  \u6211\u6ca1\u6709dd. \u6392\u67e5\u5230\u8fd9\u4e00\u6b65 \uff0c\u95ee\u9898\u5c31\u51fa\u73b0\u5728\u7bad\u5934\u6807\u8bb0\u7684\u65b9\u6cd5\u8fd9\uff0creturn $this->getCode() \u503c\u6709\u6548\uff0c\u5728getAccessToken\u65b9\u6cd5\u4e2d\u65e0\u8bba\u8fd4\u56de\u4ec0\u4e48\u503c\u90fd\u662f\u65e0\u6548\u7684\n\n\n\n. \u6211\u4e5f\u662f\u8fd9\u6837\u60f3\u7684\u5440  \u8fd9\u4e2a\u65b9\u6cd5\u4e4b\u524dreturn \u5c31\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u6548\u679c\uff0c\u7136\u540e\u6211\u53c8\u5728getAccessToken()\u91cc\u9762return 1\u6216\u8005$code; \u4f9d\u7136\u8fd9\u6837\uff0c\u53ef\u662f\u8fd9\u4e2a\u7c7b\u4e2d\u53ea\u6709\u8fd9\u4e00\u4e2agetAccessToken()\uff0c\u7136\u540e\u6211\u5c31\u6ca1\u6cd5\u5f80\u4e0b\u9762\u627e\u4e86,\u4e0d\u7136\u5220\u4e86\u91cd\u65b0\u88c5\uff1f. \u5927\u795e\u6211\u8981\u75af\u4e86\uff01\uff01\uff01. \u5927\u795e\u5feb\u5feb\u51fa\u624b\u76f8\u6551. \u7ed3\u679c\u4e00\u6837  . 229334935. \u662f\u7684   \u7528\u7684userinfo\u3002\u4f46\u662f\u770b\u5fae\u4fe1\u6587\u6863openid\u5bf9\u516c\u6b63\u53f7\u4e0d\u662f\u5e94\u8be5\u552f\u4e00\u4e48\uff0c\u5e76\u4e14\u4e0d\u662f\u6240\u6709\u7684\u4e0d\u53ef\u83b7\u53d6\uff0c\u90e8\u5206\u662f\u53ef\u4ee5\u83b7\u53d6\u7684\uff0c\u76ee\u524d\u53d1\u73b0\u7684\u4e8biphone\u53ef\u4ee5\uff0c\u5b89\u5353\u7684\u4e0d\u884c. ",
    "KilluaChen": "Laravel \u7684\u8bdd\u770b\u4e0b\u6709\u6ca1\u6709\u5728CSRF\u91cc\u9762\u6392\u9664\u8def\u7531 @dm22933 . ",
    "xmjharry": "\u6c42\u95ee\u4e3a\u5565\u6211\u53ea\u6709\u8fd4\u56de\u7a7a\u6216\u8005success\u624d\u80fd\u6210\u529f\uff0c\u5176\u4ed6\u90fd\u662f\u516c\u4f17\u53f7\u6682\u65f6\u65e0\u6cd5\u670d\u52a1\u7684\u6d88\u606f. ",
    "jekst": "\u6682\u65f6\u89e3\u51b3\u65b9\u6cd5\uff1a\n\u5728Overtrue\\Socialite\\Providers\\WeChatProvider\u6dfb\u52a0\u4e86\u4e24\u4e2a\u65b9\u6cd5\n/**\n * Set app id\n * @param $authorizer_app_id\n * @return $this\n */\npublic function setAuthorizerAppId($authorizer_app_id)\n{\n    $this->clientId = $authorizer_app_id;\n    return $this;\n}\n\n/**\n * set platform component access token\n * @param $token\n * @return $this\n */\npublic function setComponentToken($token)\n{\n    $wechat= $this->config->get('wechat');\n    $wechat['open_platform']['access_token'] = $token;\n    $this->config->set('wechat', $wechat);\n    return $this;\n}\n\n\u4fee\u6539getCodeFields\u65b9\u6cd5\n  /**\n * {@inheritdoc}.\n */\nprotected function getCodeFields($state = null)\n{\n    if ($this->isOpenPlatform()) {\n        $this->with(['component_appid' => $this->config->get('wechat.open_platform.app_id')]);\n    }\n    return array_merge([\n        'appid' => $this->clientId,\n        'redirect_uri' => $this->redirectUrl,\n        'response_type' => 'code',\n        'scope' => $this->formatScopes($this->scopes, $this->scopeSeparator),\n        'state' => $state ?: md5(time()),\n    ], $this->parameters);\n}\n\n\u8c03\u7528\uff1a\n    $oauth =$app->oauth; \n    $token = $WxPlatformService->getOpenPlatform()->access_token->getToken();\n    $oauth->setAuthorizerAppId($this->authorizer_app_id)\n            ->setComponentToken($token)\n            ->redirect()->send();. \u4fee\u6539\u914d\u7f6e\u7adf\u7136\u4e0d\u80fd\u8fd9\u4e48\u4f7f\u7528$this->config->set('wechat.open_platform.access_token', $token);. ",
    "icoder2013": "\u4e00\u6a21\u4e00\u6837\u7684\u95ee\u9898,\u8bf7\u6559\u8d34\u4e3b\u600e\u4e48\u7ed3\u5c40\u7684?. ",
    "lear2012": "\u989d\uff0c\u6211\u67e5\u4e86\uff0c\u5b83\u90a3\u53ea\u6709\u6700\u5c0f\u5173\u5355\u95f4\u9694\uff0c\u6ca1\u6709\u8bf4\u5355\u5b50\u9ed8\u8ba4\u8fc7\u671f\u65f6\u95f4\uff0c\u53c2\u6570\u91cc\u662f\u6709\u8fc7\u671f\u65f6\u95f4\uff0c\u4f46\u5982\u679c\u4e0d\u8bbe\u7f6e\u5462?\u9ed8\u8ba4\u662f\u591a\u5c11\u554a. ",
    "leocxy": "\u8bbe\u7f6eAccessToken\u540e\uff0c\u5982\u679c\u8bbe\u7f6e\u7684AccessToken\u5931\u6548\uff0c\u5c31\u4f1aRetry, \u7136\u540e\u5c31\u60b2\u5267\u4e86\u3002\u5176\u5b9e\u6700\u7b80\u5355\u662f\u4fee\u6539\u4f60EasyWeChat\\Core\\AbstractAPI.php\u7684retryMiddleware\uff0c\u4f46\u662f\uff0cVendor\u7684\u6587\u4ef6\u672c\u6765\u5c31tracking\u3002\u6240\u4ee5\u5c31\u5f88\u86cb\u75bc\u4e86\u3002. @overtrue \u4e3b\u8981\u662f\u6211\u591a\u4e2a\u73af\u5883\u9700\u8981\u7528\u5230\u540c\u4e00\u4e2aAccessToken\u3002\u800c\u4e14\u8fd9\u4e2a\u811a\u672c\u8dd1\u4e86\u5f88\u4e45\u4e5f\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u5c31\u4e0d\u60f3\u52a8\u8fd9\u4e2a\u811a\u672c\u3002anyway\u8c22\u8c22\u5566\u3002. @overtrue \u8fd9\u4e48\u8bf4\u5427\uff0ctoken\u4fdd\u5b58\u5728\u751f\u4ea7\u73af\u5883\u7684redis\u91cc\uff0c\u6211\u5728\u672c\u5730\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u4ece\u7ebf\u4e0a\u628atoken\u590d\u5236\u4e0b\u6765\uff0c\u7136\u540e\u518d\u8dd1\u7a0b\u5e8f\u3002\u4f46\u662f\uff0c\u5982\u679c\u6709\u4eba\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u89c4\u5219\uff0c\u5c31\u6709\u53ef\u80fd\u5bfc\u81f4\u5f3atoken\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u6211\u5e0c\u671b\u628a\u7a0b\u5e8f\u5199\u6b7b\uff0ctoken\u5931\u6548\u76f4\u63a5\u62a5\u9519\uff0c\u800c\u4e0d\u662f\u91cd\u65b0\u53bb\u83b7\u53d6\u3002\u8fd9\u4e48\u8bf4\u660e\u767d\u5417\uff1f\n\u5176\u5b9e\u6211\u5c31\u60f3override \u4f60 retryMiddleware\n\u6216\u8005\u628a $retries \u53d8\u6210 >=3 \u800c\u5df2\u3002\u3002\u3002. \u6ca1\u6709\uff0c\u53ea\u662f\u6211\u8fd9\u8fb9\u60c5\u51b5\u6bd4\u8f83\u7279\u6b8a\uff0c\u770b\u770b\u4f60\u6709\u6ca1\u6709\u89e3\u51b3\u65b9\u6848\u3002\u8c22\u8c22\u62c9\u3002. ",
    "Insua": "php\n<?php\nuse Doctrine\\Common\\Cache\\Cache as CacheInterface;\nclass MyCacheDriver implements CacheInterface\n{\n..............\n.............\n public function delete($id)\n    {\n        // \u5220\u9664\u5e76\u8fd4\u56de bool \u503c\n    }\n\u8fd9\u91cc\u7684delete\u65b9\u6cd5\u6211\u5df2\u7ecf\u91cd\u5199\u4e86\u554a\uff0c\u4e1a\u52a1\u903b\u8f91\u5c31\u5199\u4e86\u4e00\u6761SQL \u8bed\u53e5\nsql\nDELETE FROM cache WHERE id=$id\ndelete\u65b9\u6cd5\u8fd8\u9700\u8981\u5199\u5176\u4ed6\u4e1c\u897f\u561b\uff1f. \u597d\u7684\uff0c\u8c22\u8c22\n\u90a3\u6211\u5728fetch\u65b9\u6cd5\u91cc\u5224\u65ad\u8fc7\u671f\u540e\uff0c\u76f4\u63a5\u8c03\u7528\nphp\n$this->delete($id). \u8c22\u8c22\u5b89\u6b63\u8d85\u5927\u795e\uff0c\u6211\u6b63\u5728\u7b49\u5f85\u4f60\u8bbe\u8ba1\u7684laravel\u6587\u5316\u886b\u5230\u8d27\uff0c\u6211close comment\u4e86. \u4e3b\u52a8\u53d1\u9001\u6d88\u606f\n\u4f01\u4e1a\u652f\u4ed8\n\u7279\u522b\u662f\u4e3b\u52a8\u53d1\u6d88\u606f\uff0c\u9a6c\u4e0a\u5728\u9879\u76ee\u4e2d\u5c31\u8981\u7528\u4e86. \u597d\u7684\uff0c\u4f01\u4e1a\u53f7\u6d88\u606f\u63a8\u9001\u6211\u627e\u5230\u4e86\uff0c\u5b98\u7f51\u7684\u6587\u6863\u4e0a\u6ca1\u5199\n\u4f01\u4e1a\u53f7\u7f51\u9875\u6388\u6743\u767b\u5f55\u662f\u6ca1\u6709\u7684\u5427\uff0c\u662f\u5417\uff1f. @hachi-zzq \u8c22\u8c22\uff0c\u90a3\u4f01\u4e1a\u5fae\u4fe1\u7684\u7ea2\u5305\u662f\u4e0d\u662f\u4e5f\u5728\u6e90\u7801\u91cc\u5462\uff1f\u6211\u76ee\u524d\u6ca1\u6709\u627e\u5230\u554a. \u597d\u7684\uff01. @web0376 \nphp\n $noticeAgent = $workAgentRepository->findByField(\n            'agent_id',\n            system_config('wechat_work_setting.wechat_work_notice_agent')\n        )->first();\n        $config = [\n            'corp_id' => system_config('wechat_work.wechat_work_app_id'),\n            'secret'  => $noticeAgent->secret,\n        ];\n        $work = Factory::work($config);\n        $work['cache'] = app(SystemConst::class)->wechatCache();\n        $work->message->message($this->message)->toUser('@all')\n                      ->ofAgent(system_config('wechat_work_setting.wechat_work_notice_agent'))->send();\n    }. \u6ca1\u529e\u6cd5\u554a\uff0c\u8001\u677f\u4e70\u7684\u670d\u52a1\u5668\u662fwindow server 2008\u5427\uff0c\u6211\u518d\u88c5\u4e2awindows\u7248\u7684nginx\u8bd5\u8bd5\u5427. \u6362nginx\u6b63\u5e38\u4e86\uff0c\u8fd9\u662f\u4e3a\u751a\u4e48\u5462\uff1f. ",
    "starlight36": "\u6211\u76f4\u63a5\u8fdb\u8fd9\u4e2a\u4e86\uff0c\u5e76\u6ca1\u6709\u5199\u8fd4\u56de\u503c \ud83d\ude02 https://easywechat.org/zh-cn/docs/material.html#\u4e34\u65f6\u7d20\u6750-API. ",
    "odirus": "\u9664\u4e86\u5728\u5e76\u53d1\u8fd9\u4e2a\u95ee\u9898\u5916\u3002\n\u518d\u8865\u5145\u4e00\u4e2a\u95ee\u9898\uff08\u73b0\u8c61\uff09\uff0c\u5fae\u4fe1 AccessToken \u53ef\u80fd\u4f1a\u5728\u89c4\u5b9a\u65f6\u95f4\uff08\u76ee\u524d\u662f\u4e24\u5c0f\u65f6\uff09\u5185\u51fa\u73b0\u5f02\u5e38\u5931\u6548\u7684\u60c5\u51b5\uff08\u5f53\u65f6\u4e3a\u4e86\u786e\u8ba4\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e13\u95e8\u505a\u4e86\u4e00\u4e9b\u6d4b\u8bd5\uff0c\u5e76\u4e14\u628a\u670d\u52a1\u5668\u4e0a\u9762\u7684\u65e5\u5fd7\u8fdb\u884c\u4e86\u8be6\u7ec6\u5730\u5bf9\u6bd4\u5206\u6790\uff0c\u53d1\u73b0\u7684\u786e\u6709\u8fd9\u79cd\u53ef\u80fd\uff09\uff0c\u6240\u4ee5\u5efa\u8bae\u63d0\u4f9b\u4e00\u79cd AcessToken \u8fc7\u671f\u7684\u53cd\u9988\u63a5\u53e3\uff0c\u5f53\u4e1a\u52a1\u8c03\u7528\u8fd4\u56de AccessToken \u9519\u8bef\u7684\u65f6\u5019\uff0c\u80fd\u591f\u8fdb\u5165\u91cd\u65b0\u83b7\u53d6 AccessToken \u7684\u6d41\u7a0b\uff0c\u5728\u8fd9\u4e2a\u6d41\u7a0b\u91cc\u9762\u7edf\u4e00\u5b9e\u73b0\u91cd\u65b0\u83b7\u53d6\u3001\u9ad8\u5e76\u53d1\u810f\u5199\u7684\u95ee\u9898 \u3002. ",
    "sinchie": "\u8d85\u54e5\uff0c\u810f\u5199\u9690\u60a3\u8fd8\u662f\u5b58\u5728\u7684\uff0c\u7f13\u5b58\u7ec4\u4ef6\u4fdd\u8bc1\u4e86\u5355\u6b21\u5199\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u4f46\u8fd8\u662f\u4e0d\u591f\u7684\u3002\n\u5047\u5982\u4e09\u4e2aphp\u8fdb\u7a0b\u540c\u65f6\u53bb\u5fae\u4fe1\u62fftoken\uff0c\u56e0\u4e3a\u7f51\u7edc\u539f\u56e0\u5e76\u4e0d\u80fd\u4fdd\u8bc1\uff0c\u521a\u597d\u5c31\u662f\u6700\u540e\u4e00\u4e2a\u8bf7\u6c42\u62ff\u5230\u7684token\uff0c\u6700\u540e\u4e00\u4e2a\u53bb\u5b58\u7f13\u5b58\u3002\n. @greedying nginx php-fpm\u6a21\u5f0f\u4e09\u4e2aphp\u8fdb\u7a0b\u540c\u65f6\u53bb\u62fftoken\uff0c\u5728\u5e76\u53d1\u91cf\u7a0d\u5fae\u5927\u70b9\u7684\u65f6\u5019\u5e94\u8be5\u5f88\u6b63\u5e38\u3002\u6240\u4ee5\u5355\u4e2a\u7ec4\u4ef6\u786e\u5b9e\u89e3\u51b3\u4e0d\u4e86\u95ee\u9898\uff0c\u8981\u4ece\u6784\u67b6\u4e0a\u6539\u53d8\u3002.     $app['access_token'] = function () {\n            return new AccessToken(\n                $this['config']['app_id'],\n                $this['config']['secret'],\n                $this['cache']\n            );\n        };\n\u6211\u7684\u60f3\u6cd5\u662f\u5199\u4e00\u4e2aAccessToken\u5b50\u7c7b\uff0c\u5e76\u91cd\u5199getToken\u65b9\u6cd5\uff0c\u518d\u8986\u76d6\u5230\u5bb9\u5668\u91cc\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u72ec\u7acb\u7684token\u670d\u52a1\uff0c\u8fd9\u4e2a\u670d\u52a1\u5355\u7ebf\u7ef4\u62a4token\u7684\u83b7\u53d6\u66f4\u65b0\u3002\u8fd9\u6837\u5c31\u7b97\u662f\u5728\u591a\u53f0\u673a\u5668\u90e8\u7f72\u4e5f\u4e0d\u662f\u95ee\u9898\u4e86\u3002\n\u5f53\u7136\u6d41\u91cf\u5f88\u5c0f\u7684\u9879\u76ee\u5c31\u4e0d\u7528\u8fd9\u4e48\u505a\u4e86\uff0c\u6216\u8005\u8d85\u54e5\u76f4\u63a5\u505a\u4e2a\u63a5\u53e3\u80fd\u91cd\u5199getToken\u65b9\u6cd5\uff1f\u8fd9\u6837\u53ef\u80fd\u66f4\u65b9\u4fbf\u3002. ",
    "littlehz": "\u6211\u4e5f\u5efa\u8bae\u662f\u5728 cron \u91cc\uff0c\u5355\u8fdb\u7a0b\u65b9\u5f0f\u5b9a\u671f\u66f4\u65b0 AccessToken\u3002\u800c middleware \u7684\u68c0\u67e5\u53ea\u662f\u591a\u4e00\u91cd\u4fdd\u9669\u3002. ",
    "never615": "@greedying gre @overtrue \n\u8c8c\u4f3c\u5fae\u4fe1\u7684\u8fd9\u4e2atoken\u5c31\u7b97\u662f\u8bf7\u6c42\u4e86\u65b0\u7684,\u4e4b\u524d\u65e7\u7684\u6ca1\u6709\u8fc7\u671f\u4e5f\u4e0d\u4f1a\u5931\u6548\u7684?\u8fd9\u6837\u7684\u8bdd,\u4e1a\u52a1\u91cf\u5c0f\u5176\u5b9e\u662f\u6ca1\u6709\u5173\u7cfb\n\u8fd8\u6709\u5fae\u4fe1\u4f1a\u6587\u6863\u5c31\u6709\u8bf4,\u5fae\u4fe1\u6709\u53ef\u80fd\u4e3b\u52a8\u8ba9token\u5931\u6548,\u8fd9\u6837\u7684\u8bdd\u4efb\u4f55\u4f7f\u7528token\u7684\u5730\u65b9\u90fd\u5e94\u8be5\u5904\u7406token\u5931\u6548\u7136\u540e\u91cd\u65b0\u8bf7\u6c42\u8fd9\u4ef6\u4e8b,\u4e0d\u80fd\u5355\u7eaf\u4f9d\u9760\u7f13\u5b58\u65f6\u95f4\u6ca1\u8fc7\u5c31\u6709\u6548.\n\n\u5e76\u4e14\u8fd9\u4e2d\u60c5\u51b5\u7684\u9519\u8bef\u54cd\u5e94\u90fd\u662f\u56fa\u5b9a\u768440014,invalid access_token\u8fd9\u79cd.\u6240\u4ee5\u662f\u4e0d\u662f?\n. @mingyoung \u4f60\u5728\u6b63\u5728\u6dfb\u52a0\u4f01\u4e1a\u53f7\u7684\u76f8\u5173\u63a5\u53e3\u5417?. @mingyoung \u5e26\u4f01\u4e1a\u53f7\u529f\u80fd\u7684\u7b2c\u4e00\u7248\u9884\u8ba1\u4ec0\u4e48\u65f6\u5019\u4f1a\u53d1\u5e03\u5462?\u5982\u679c\u4e45\u7684\u8bdd,\u6211\u5c31\u8981\u81ea\u5df1\u5148\u505a\u4e86.. @mingyoung \ndevelop\u5206\u652f\u91cc\u9762\u5927\u7684\u4ee3\u7801\u7ed3\u6784\u8c03\u6574\u5b8c\u4e86\u5427?\u5b8c\u4e86\u7684\u8bdd\u6211\u5c31\u6309\u91cc\u9762\u7684\u7ed3\u6784\u5199\u4f01\u4e1a\u53f7\u670d\u52a1\u5546\u7684\u4ee3\u7801\u4e86.\u6211\u89c1\u4f60\u5efa\u4e86enterpriseaccount\u7684\u76ee\u5f55,\u4f01\u4e1a\u670d\u52a1\u5546\u5e94\u8be5\u548c\u5b83\u540c\u7ea7\u5728\u5efa\u4e00\u4e2a\u76ee\u5f55\u5427.\n\u8fd8\u6709develop\u91cc\u9762php\u7248\u672c\u600e\u4e48\u53d8\u6210>7.1\u4e86.... \u7528\u76d1\u63a7\u505a\u5b9a\u65f6\u4efb\u52a1\u7684,\u5389\u5bb3\u4e86,\u54c8\u54c8. ",
    "damonto": "704 . @overtrue \u6d4b\u8bd5\u8fc7\u4e86 \u53ef\u7528.. \u53ef\u4ee5\uff0c\u4f46\u662f\u73b0\u6709\u7684\u6587\u6863\u4e2d\u5199\u7684 defaultColor \u5982\u679c\u6539\u4e3a Color \u90a3\u4e48\u5c31\u4ee3\u8868\u9700\u8981\u4fee\u6539\u6587\u6863\uff0c\u5e76\u4e14\u4e4b\u524d\u7528\u8fd9\u4e2a\u65b9\u6cd5\u9700\u8981\u6539\u4e3a color.",
    "Chasers9527": "\u8d85\u54e5 \u6211\u662f\u4e0d\u662f\u9700\u8981\u628a\u5305\u4ecelaravel-wechat \u6362\u6210\u8fd9\u4e2a\u6211\u7528\u7684laravel. \u8c22\u8c22\u8d85\u54e5\u3002\u3002\u3002. @overtrue  ok \u8c22\u8c22\u8d85\u54e5. ",
    "DukeAnn": "\u4e0d\u662f\u6d4f\u89c8\u5668\u8bbf\u95ee\u7684\uff0c\u662f\u6211\u5199\u5728\u5fae\u4fe1\u63a5\u53e3\u4e2d\u7684\u4e00\u4e2a\u76d1\u542c\u4e8b\u4ef6\u91cc\u9762\u4e86\uff0c\u7528\u6765\u5b58\u50a8\u7528\u6237\u53d1\u9001\u7684\u6d88\u606f\u65f6\u8c03\u7528\u7684\uff0c\u5c31\u62a5\u9519\u4e86. laravel \u7684 nginx \u6587\u4ef6\u8be5\u600e\u4e48\u914d\u7f6e\uff0c\u80fd\u63d0\u4f9b\u4e00\u4e0b\u5b8c\u6574\u6837\u4f8b\u561b\uff0c\u8fd9\u4e2a\u867d\u7136\u62a5\u9519\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u7684\u3002. ",
    "reason211": "history.replaceState. ",
    "TheSaltwaterRoom": "\u6211\u8bbe\u7f6e\u4e86\u8d85\u65f6\u65f6\u95f4\u8fd8\u662f\u4f1a\u62a5\u9519\u554a. ",
    "ouhaohan8023": "\u6211\u4e5f\u662f\u989d\u3002\u3002\u3002\u8fd9\u4e2a\u62a5\u9519\u600e\u4e48\u7834\uff1f. ",
    "xutl": "@overtrue  \u7ed9\u6211\u62c9\u5012\u5f00\u53d1\u7fa4\u91cc\u5457. ",
    "Chooin": "$temporary->getStream($media_id) \u83b7\u53d6\u7684\u6570\u636e\u6d41\u7ed9\u963f\u91cc\u4e91 OSS \u63a5\u53e3\u670d\u52a1\u7aef\u63d0\u793a 502\u3002$temporary->getStream($media_id) \u83b7\u53d6\u7684\u6570\u636e\u6d41\uff0cfile_put_contents \u4fdd\u5b58\u5230\u670d\u52a1\u5668\uff0c\u518d\u7528 file_get_contents \u83b7\u53d6\u6570\u636e\u6d41\u7ed9\u963f\u91cc\u4e91 OSS \u63a5\u53e3\u4e0a\u4f20\u6210\u529f\u3002. bash\n$temporary = $this->app->material_temporary;\n$fileContents = $temporary->getStream($media_id);\n$filename = date('Ym').'/'.md5($fileContents).'.png';\ntry {\n    $ossClient = new OssClient(env('ALIYUN_ACCESSKEY_ID'), env('ALIYUN_ACCESSKEY_SECRET'), env('ALIYUN_OSS_ENDPOINT'));\n    # \u62a5\u9519\u884c\n    $ossClient->putObject(env('ALIYUN_OSS_BUCKET'), $path.$filename, $fileContents);\n} catch (OssException $e) {\n    $error = $e->getMessage();\n}\n\u4e0a\u9762\u662f 502 \u62a5\u9519\u4ee3\u7801\uff0c\u540c\u6837\u7684\u4ee3\u7801\u7528 file_get_contents \u6ca1\u6709\u62a5\u9519. bash\n$temporary = $this->app->material_temporary;\n$fileContents = $temporary->getStream($media_id);\n$filename = date('Ym').'/'.md5($fileContents).'.png';\nfile_put_contents('/data/wwwroot/api/storage/'.$filename, $fileContents);\ntry {\n    $ossClient = new OssClient(env('ALIYUN_ACCESSKEY_ID'), env('ALIYUN_ACCESSKEY_SECRET'), env('ALIYUN_OSS_ENDPOINT'));\n    $ossClient->putObject(env('ALIYUN_OSS_BUCKET'), $path.$filename, file_get_contents('/data/wwwroot/api/storage/'.$filename));\n} catch (OssException $e) {\n    $error = $e->getMessage();\n}\n1. 502 \u62a5\u9519\u5728 $ossClient->putObject(env('ALIYUN_OSS_BUCKET'), $path.$filename, $fileContents);\uff0c\u7528 file_get_contents \u5c31\u6b63\u5e38\u4e86\uff0c\u4f46\u662f\u611f\u89c9\u8fd9\u4e2a\u7528\u6cd5\u5f88\u5c34\u5c2c\ud83d\ude13\n2. \u4e0a\u9762\u7684\u7528\u6cd5\u80fd\u6b63\u5e38\u4e0a\u4f20\u5230 \u963f\u91cc\u4e91OSS. \u671f\u671b\u662f\u76f4\u63a5\u80fd\u4e0a\u4f20\u5230\u963f\u91cc\u4e91 OSS\uff0c\u800c\u4e0d\u662f\u5728\u751f\u4ea7\u73af\u5883\u670d\u52a1\u5668\u518d\u5efa\u4e2a\u56fe\u7247\u8d44\u6e90\uff0c\u7136\u540e\u518d\u4e0a\u4f20\u3002\n\u6211\u770b\u4e86\u4e0bovertrue/wechat\u7684\u7248\u672c\u662f~3.1. \u6ce8\u91ca\u6389 $ossClient->putObject(env('ALIYUN_OSS_BUCKET'), $path.$filename, $fileContents); \u4e00\u5207\u6b63\u5e38\u4e0d\u4f1a\u62a5 502\uff0c\u8fd9\u5c31\u5f88\u5c34\u5c2c\u4e86\u3002\u665a\u4e0a\u56de\u53bb\u628a overtrue/wechat \u7248\u672c\u5347\u5230\u6700\u9ad8\u770b\u770b\u6709\u6ca1\u6709\u95ee\u9898. \u55ef\uff0c\u5347\u7ea7\u7248\u672c\u540e\u8fd8\u662f\u4e0d\u884c. \u4e07\u5206\u611f\u8c22. @overtrue \u8fd9\u4e2a\u95ee\u9898\u5728 4.0 \u53c8\u51fa\u73b0\u4e86\n$stream = $this->OfficialAccount->media->get($mediaId);\n\u62ff\u5230\u7684\u4e8c\u8fdb\u5236\u6d41\u4e0d\u80fd\u76f4\u63a5\u63d0\u4ea4\u5230\u963f\u91cc\u4e91 OSS. ",
    "lamzy": "WeixinJSBridge\u624d\u662f\u9a7c\u5cf0\u5199\u6cd5\uff0cjssdk\u662f\u5168\u5c0f\u5199\uff0c\u611f\u8c22\u3002\nps\uff1a\u5fae\u4fe1\u5927\u5751. ",
    "daxiong123": "\u597d\u7684 \u6587\u6863\u5e94\u8be5\u662f\u6ca1\u6709\u66f4\u65b0. JSSDK. \n. timestamp \u8fd9\u4e2a\u5b57\u6bb5\u5e94\u8be5\u8fd8\u662f\u8981\u4f7f\u7528 timeStamp. \u989d \u6211\u628a\u5c0f\u5199\u7684\u6539\u6210\u5927\u5199\u7684\u95ee\u9898\u5c31\u89e3\u51b3\u4e86. \u627e\u5230\u539f\u56e0\u4e86 \u662f\u56e0\u4e3a\u7528SDK\u4e4b\u524d \u524d\u7aef\u4ee3\u7801\u76f4\u63a5\u4f7f\u7528\u7684timeStamp\u5b57\u6bb5 \u6240\u4ee5\u7528\u4e86\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u6709\u95ee\u9898. \u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528. \u751f\u6210\u914d\u7f6e\u65f6\u7528 configForPayment \u8fd9\u4e2a\u65b9\u6cd5. \u6070\u5de7\u770b\u5230 \u6070\u5de7\u7528\u4e86 \uff1a\uff09. ",
    "ljyljy0211": "\u627e\u5230\u95ee\u9898\u4e86\uff0c\u7b2c\u4e09\u65b9\u6388\u6743\u5f00\u53d1\u6388\u6743\u7684\u65b9\u5f0f\uff0c\u9700\u8981\u6ce8\u518c\u4e00\u4e2a\u65b0\u7684\u6269\u5c55\uff0c\u8fd9\u4e2a\u6269\u5c55\u7684\u6ce8\u518c\u8981\u5199\u5728EasyWeChat\\OpenPlatform\\createAuthorizerApplication\u4e4b\u540e\uff0c\u5373\u4ee5\u4e0b\u4ee3\u7801\u987a\u5e8f\uff0c\n`\n$authorizerApplication = $this->getApplication()->open_platform->createAuthorizerApplication($authorizerAppId, $authorizerRefreshToken);\n$authorizerApplication = $authorizerApplication->register(new \\WechatBundle\\OvertrueWechat\\Foundation\\ServiceProviders\\MenDianServiceProvider);\n`. ",
    "Yingkaixiang": "appid\u5fc5\u987b\u5c0f\u5199\u9a7c\u5cf0\u7684\u65f6\u5019base\u53ef\u4ee5\u8bc6\u522buserinfo\u4e0d\u80fd. ",
    "tiger-regit": "\u4f60\u597d\u3002\u80fd\u518d\u95ee\u4e0b\u3002\u8fd9\u4e2a\u914d\u7f6e\u5728\u54ea\u91cc\u5224\u65ad\u4e86\u5417\uff1f\n\u6211\u67e5\u770b\u4ee3\u7801\u3002\u6ca1\u627e\u5230\u8fd9\u4e2a\u914d\u7f6e\u5728\u54ea\u8bfb\u53d6\u4e86\u5462\u3002\n\u7136\u540e\u6211\u5168\u5c40\u641c\u7d22\u4e5f\u6ca1\u770b\u51fa\u6765\u5462\u3002\n\u80fd\u5426\u8d34\u4e0b\u76f8\u5173\u7247\u6bb5\u7684\u4ee3\u7801\u5462\u3002\u6211\u60f3\u770b\u770b\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u3002\n\u8c22\u8c22. \u6069\u3002\u77e5\u9053\u4e86\u3002\u8c22\u8c22\u3002\n\u6211\u5f53\u524d\u7528\u7684\u7248\u672c\u662f~3.1\u3002\n\u6ca1\u6709\u66f4\u65b0\u3002\u770b\u4e86max_retries\u8fd9\u4e2a\u53c2\u6570\u662f\u57283.3.5\u52a0\u4e0a\u7684\u3002\n\u6211\u5347\u7ea7\u4e00\u4e0b\u3002\u611f\u8c22\u3002. \u597d\u7684\u3002\u8c22\u8c22\u3002. ",
    "refear99": "@overtrue \u8bf7\u95ee4.X\u7248\u672c\u5982\u679c\u505a\u5462\uff1f. ",
    "IanGely": "\u597d\u7684\n. ",
    "liuguangw": "\u55ef\uff1f\u662f\u8fd9\u6837\u5417\uff0c\u6211\u6d4b\u8bd5\u4e00\u4e0b\u5148. ",
    "lisiqing": "@mingyoung refresh-token \u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u6bcf\u6b21\u5237\u65b0\u540e\u90fd\u4f1a\u53d8\u3002\n@liuguangw  \u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u4f60\u9700\u8981etcd\u6216redis\u7b49\u6709\u72b6\u6001\u5e94\u7528\u5bf9 token\u5bf9\u8fdb\u884c\u4fdd\u5b58\u3002\u6bcf\u6b21\u5237\u65b0\u8fc7\u7a0b\uff0c\u66f4\u65b0etcd\u6216redis\u7684token\u5bf9\u3002. @mingyoung Wechat\u7684token\u673a\u5236\u548cOAuth\u7684\u6807\u51c6\u5dee\u522b\u597d\u5927\u554a\u3002 \u53d1\u73b0\uff0c\u6574\u4e2a\u56fd\u5185\u5f00\u53d1\u73af\u5883\u90fd\u4e0d\u600e\u4e48\u9075\u5faaRFC\u6807\u51c6\uff0c\u53c2\u6570\u547d\u540d\u5404\u6210\u4e00\u6d3e\u3002\uff08\u96be\u9053\u662f\u56fd\u5185\u5f00\u53d1\u8005\u770b\u4e0d\u61c2\u82f1\u6587...\uff09. ",
    "lzlshow": "\u65e9\u5c31\u5e94\u8be5\u8fd9\u6837\u4e86\uff0c\u8fd9\u6837\u5c31\u66f4\u52a0\u8212\u670d\u4e86. ",
    "xeoshow": "4.0\u6b63\u5f0f\u7a33\u5b9a\u7248\u672c\u4ec0\u4e48\u53d1\u5e03\u5462\uff1f\u671f\u5f85. ",
    "Array-Huang": "@motecshine @mingyoung  \u6211\u4e5f\u9047\u5230\u4e86\u4e00\u6837\u7684\u95ee\u9898\uff1b\u6211\u7eb3\u95f7\u7684\u662f\uff0c\u8fd9access_token\u4e0d\u662f\u7531easywechat\u81ea\u5df1\u7ba1\u7406\u7684\u5417\uff0c\u8fd8\u80fd\u591f\u91cd\u590d\u83b7\u53d6\u7684\uff1f\u83ab\u4e0d\u662f\u6bcfnew\u4e00\u4e2a\\EasyWeChat\\Foundation\\Application\u5c31\u91cd\u590d\u83b7\u53d6\u4e86\uff1f. \u54e6\uff0c\u6240\u4ee5\u6211\u9700\u8981\u5728\u8fd9\u4e2agetAccessToken()\u65b9\u6cd5\u4e0b\u52a0log\u6765\u8c03\u8bd5\u662f\u5417\uff1f. @overtrue \u6700\u65b0\u7248\uff1f\u4f60\u6307\u7684\u662f3.3.26\u8fd8\u662f4.0.23\uff1f\n. @overtrue \u55ef\uff0c\u6211\u672c\u6765\u662f3.3.25\uff0c\u5347\u7ea7\u52303.3.26\uff0c\u60c5\u51b5\u4f9d\u7136\u7ee7\u7eed\u662f\u90a3\u6837. \u6ca1\u6709\u89e3\u51b3\u5462\uff0c\u6211\u6253\u7b97\u6709\u7a7a\u5347\u7ea7\u5230v4\u770b\u770b. @overtrue overtrue/wechat\u5df2\u7ecf\u5347\u7ea7\u5230\u4e864.0.36\uff0c\u987a\u5e26overtrue/socialite\u4e5f\u5347\u5230\u4e862.0.3\uff0c\u8fd8\u6709\u5176\u5b83\u82e5\u5e72\uff1b\u7136\u540e\u8fd8\u662f\u4e00\u6837\u7684\u95ee\u9898\u3002. \u54e6\u54e6\uff0c\u914d\u7f6e\u5417\uff1f\u90a3\u6211\u8bd5\u8bd5\u8bb0\u5f55\u4e00\u4e0b\u5427\u3002\n\u81f3\u4e8e\u6545\u610f\u8bbf\u95ee\u56de\u8c03\u63a5\u53e3\uff0c\u6211\u8fd9\u4e2a\u5fae\u4fe1\u5e94\u7528\u5b9e\u9645\u4e0a\u662f\u672c\u5730\u8bca\u6240\u7684\u9884\u7ea6\u6302\u53f7\u7cfb\u7edf\uff0c\u7528\u6237\u53ea\u662f\u8bca\u6240\u7684\u75c5\u4eba\uff0c\u653b\u51fb\u4e86\u4e5f\u6ca1\u4ec0\u4e48\u6536\u76ca\uff0c\u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u5c31\u5148\u4e0d\u8003\u8651\u4e86\u3002. @overtrue \u7ec8\u4e8e\u628a\u95ee\u9898\u590d\u73b0\u51fa\u6765\u4e86\uff01\u662f\u8fd9\u6837\u7684\uff1a\n\u5f53\u7528\u6237\u6388\u6743\u540e\uff0c\u5fae\u4fe1\u4f1a\u8df3\u8f6c\u5230\u6211\u8bbe\u7f6e\u7684oauth_callback\u9875\u9762\u561b\uff1b\u7531\u4e8e\u6211\u662f\u7528vue.js\u505a\u7684spa\uff0c\u56e0\u6b64\u8fd9\u4e2aoauth_callback\u9875\u9762\u5e76\u4e0d\u662f\u7528\u6237\u771f\u6b63\u7684\u843d\u5730\u9875\uff1b\u6211\u5728\u8fd9\u4e2aoauth_callback\u9875\u9762\u91cc\u628a\u7528\u6237\u7684\u5fae\u4fe1\u8d44\u6599\u5b58\u8d77\u6765\u540e\uff0c\u5c31\u8df3\u8f6c\u56de\u7528\u6237\u4e4b\u524d\u53d1\u8d77\u6388\u6743\u7684\u9875\u9762\u3002\u7136\u540e\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u5047\u5982\u7528\u6237\u5728\u56de\u5230\u843d\u5730\u9875\u540e\uff0c\u518d\u70b9\u51fb\u5b89\u5353\u4e0a\u7684\u201c\u5411\u4e0a\u8fd4\u56de\u6309\u94ae\u201d\uff0c\u90a3\u4e48\u5c31\u4f1a\u56de\u9000\u5230oauth_callback\u9875\u9762\uff0c\u7136\u540e\u5c31\u5f15\u53d1\u62a5\u9519\u4e86\u3002. \u56e0\u4e3a\u6211\u662f\u5f00\u53d1\u8005\uff0c\u6211\u5f88\u6e05\u695a\u6574\u4e2a\u5e94\u7528\u7684\u9875\u9762\u7ed3\u6784\uff0c\u6240\u4ee5\u6211\u4e0d\u4f1a\u4e00\u76f4\u6309\u201c\u5411\u4e0a\u8fd4\u56de\u6309\u94ae\u201d\uff1b\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4e00\u76f4\u590d\u73b0\u4e0d\u51fa\u6765\u7684\u539f\u56e0\u3002. @overtrue \u55ef\uff0c\u4e0d\u8fc7\u6211oauth_callback\u9875\u9762\u6ca1\u6709\u4e0avue\u7684\uff0c\u5f97\u7528history.pushState\u4e86\u3002\n\u63d2\u53e5\u9898\u5916\u8bdd\uff0c @overtrue \u4f60\u4e5f\u662f\u7528vue\u7684\u5427\uff1f\n\u6211\u8fd9\u4e2aoauth_callback\u9875\u672c\u6765\u662f\u6ca1\u6709\u9700\u8981\u6e32\u67d3html\u51fa\u6765\u7684\uff0c\u76f4\u63a5302\u91cd\u5b9a\u5411\u5c31\u597d\u4e86\uff1b\u4f46\u662f\u8fd9\u6837\u505a\u7684\u8bdd\uff0c\u56de\u5230\u843d\u5730\u9875\u7684\u65f6\u5019\uff0c\u5c31\u89e6\u53d1\u4e0d\u4e86vue-router\u7684\u5168\u5c40\u5b88\u536bbeforeEach\uff1b\u800c\u6211\u7684\u5fae\u4fe1\u6388\u6743\u3001\u6743\u9650\u8ba4\u8bc1\u90a3\u4e00\u5757\u7684\u4ee3\u7801\u5168\u5199\u5728beforeEach\u4e86\uff0c\u8fd9\u5c31\u975e\u5e38\u5c34\u5c2c\u4e86\u3002\n\u8bf7\u95ee\u4f60\u662f\u600e\u4e48\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u7684\u5462\uff1f. \u54e6\uff1f\uff01\u4f60\u7684\u610f\u601d\u662f\u628aoauth_callback\u8bbe\u5b9a\u4e3avue\u7ba1\u7406\u7684\u9759\u6001\u9875\u9762\uff0c\u7136\u540e\u628a\u5fae\u4fe1\u4f20\u8fc7\u6765\u7684\u53c2\u6570\u518d\u4ee5API\u8bf7\u6c42\u7684\u65b9\u5f0f\u4ea4\u5230\u540e\u7aef\u6765\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u5417\uff1f. \u54e6\uff01\u8fd9\u4e2a\u6d41\u7a0b\u633a\u987a\u7684\uff1b\u6211\u73b0\u5728\u8fd9\u4e2a\u6d41\u7a0b\u5c31\u5f88\u7ed5\uff1aoauth_callback\u9875\u53d6\u4e86\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u4ee5\u540e\u53ea\u80fd\u5b58session/\u5199\u6570\u636e\u5e93\uff0c\u7136\u540e\u8df3\u8f6c\u56de\u524d\u7aef\uff0c\u518d\u7b49\u7740\u524d\u7aef\u53d1\u8d77API\u8bf7\u6c42\u6765\u53d6\u3002\n\u6211\u8bd5\u8bd5\u770b\u4f60\u7684\u65b9\u6cd5\u54c8\uff0c\u8c22\u8c22\u4e86. \u6211\u8bb0\u8d77\u6765\u4e86\uff0c\u5f53\u65f6\u4e3a\u4ec0\u4e48\u6211\u4f1a\u91c7\u7528\u8fd9\u4e48\u7ed5\u7684\u6d41\u7a0b\uff0c\u662f\u770b\u4e86\u8fd9\u7bc7\u6587\u7ae0\uff1ahttps://segmentfault.com/a/1190000010753247\n@overtrue  \u8fd9\u91cc\u9762\u6709\u8bf4\u5230\u4f60\u7684\u90a3\u79cd\u65b9\u6848\u3002\n\n\n\u8fd9\u79cd\u65b9\u6848\u7684\u5751\u5728\u4e8e\u5f53\u5fae\u4fe1\u6388\u6743\u56de\u8c03\u65f6\u4f1a\u643a\u5e26\u4e00\u4e2acode\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f1a\u6c61\u67d3vue\u8def\u7531\u5bfc\u81f4ios\u4e0a\u8fdb\u884cJS-SDK\u7b7e\u540d\u65f6\u5931\u8d25\uff08\u540e\u7eed\u4f1a\u5177\u4f53\u63cf\u8ff0\u8fd9\u4e2a\u95ee\u9898\uff09\n\n\u8bf7\u95ee\u4f60\u6709\u78b0\u5230\u8fd9\u4e2a\u5751\u5417\uff1f. @overtrue \n\nios\u7aef\u83b7\u53d6jssdk\u914d\u7f6e\u65f6\u7684url\u5e76\u4e0d\u662f\u8c03\u7528\u5fae\u4fe1jssdk\u7684\u65f6\u5019\u6240\u5728\u9875\u9762\u7684\u5730\u5740\uff0c\u800c\u662f\u8fdb\u5165\u5230\u7f51\u7ad9\u7b2c\u4e00\u4e2a\u9875\u9762\u7684\u5730\u5740\n\n. @overtrue \u5982\u679c\u6309\u4f60\u7684\u65b9\u6848\u7684\u8bdd\uff0c\u5fae\u4fe1\u6388\u6743\u540e\u7684oauth_callback\u9875\u5c31\u4f1a\u662f\u83b7\u53d6jssdk\u914d\u7f6e\u65f6\u6240\u9700\u8981\u586b\u5165\u7684url\u4e86. > iOS\u9700\u8981\u4f7f\u7528\u7b2c\u4e00\u6b21\u8fdb\u5165\u9875\u9762\u7684URL\u83b7\u53d6\u7b7e\u540d\uff0c\u5b89\u5353\u6bcf\u6b21\u8def\u7531\u5207\u6362\u90fd\u91cd\u65b0\u914d\u7f6e\u7b7e\u540d\u3002\n\u8fd9\u662f\u6587\u7ae0\u4f5c\u8005\u7684\u8bf4\u6cd5\uff0c\u6211\u81ea\u5df1\u4e5f\u6709\u9a8c\u8bc1\u8fc7\u3002\u8fd9\u4e2aurl\u8fd8\u662f\u5f88\u8981\u7d27\u7684\uff0c\u5e94\u8be5\u7b97\u662f\u4e00\u4e2a\u5b89\u5168\u673a\u5236\u5427\uff0c\u65e2\u7136\u662f\u5b89\u5168\u673a\u5236\uff0c\u90a3\u5c31\u770b\u5fae\u4fe1\u81ea\u5df1\u600e\u4e48\u5b9a\u4e49\u89c4\u5219\uff1b\u76ee\u524d\u6765\u770b\uff0cios\u7aef\u5fae\u4fe1\u5c31\u662f\u53ea\u8ba4\u843d\u5730\u9875\u7684url\uff0c\u65e0\u8bba\u5728\u54ea\u4e2a\u9875\u9762\u8c03jssdk\uff0c\u90fd\u8981\u7528\u4f7f\u7528\u843d\u5730\u9875url\u751f\u6210\u7684\u914d\u7f6e\uff1b\u800candroid\u7aef\u5fae\u4fe1\u5219\u6bd4\u8f83\u5408\u7406\uff0c\u54ea\u4e2a\u9875\u9762\u7528jssdk\u5c31\u7528\u54ea\u4e2a\u9875\u9762\u7684url\u6765\u751f\u6210\u914d\u7f6e\u3002. \u54e6\uff0c\u4e0d\u8fc7\u4e0a\u9762\u8bf4\u7684\u8fd9\u4e2a\u53ea\u662f\u9488\u5bf9history\u6a21\u5f0f\uff0chash\u6a21\u5f0f\u5176\u5b9e\u4e0d\u5f71\u54cd\uff0c\u56e0\u4e3a\u4f1a\u5ffd\u7565\u951a\u70b9. \u8fd9\u6837\u5417\uff1f\u6211\u8bb0\u5f97\u5f53\u521d\u9a8c\u8bc1\u5305\u62ec\u540e\u7eed\u843d\u5b9e\u5f00\u53d1\uff0cios\u7aef\u90fd\u662f\u7528\u843d\u5730\u9875URL\u6765\u751f\u6210jssdk\u7684\u914d\u7f6e\uff0c\u7136\u540e\u662fOK\u7684\u3002\u4f46\u662f\u6211\u4e5f\u4e0d\u8bb0\u5f97\u6211\u662f\u5426\u6709\u9a8c\u8bc1\u8fc7ios\u7aef\u7528\u5f53\u524d\u9875url\u6765\u751f\u6210jssdk\u914d\u7f6e\u662f\u5426\u53ef\u884c. ",
    "XiaoLer": "\u76f8\u5173\u6587\u6863\uff1ahttps://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1498704199_1bcax&token=&lang=zh_CN. @overtrue param string $prefix \u8fd9\u4e2a\u5417\uff1f \u5df2fix\nsorry~\n. @overtrue \u63d0\u4ea4fix sorry sorry~\n. fixed. \u8fd9\u4e2a\u4e5f\u662f\u6211\u6bd4\u8f83\u56f0\u60d1\u7684\u5730\u65b9\uff0c\u8fd9\u4e9b\u63a5\u53e3\u662f\u901a\u8fc7C\u7aef\u7684token\u8c03\u7528\u7684\uff0c\u800capi_query_auth\u8fd9\u4e9bB\u7aef\u63a5\u53e3\u662f\u901a\u8fc7component_access_token\u8c03\u7528\u7684\u3002\u4f3c\u4e4e\u5e94\u8be5\u662f AuthorizerAccessToken\uff1f\u8fd8\u662f\u6211\u7406\u89e3\u6709\u504f\u5dee\uff1f. \u662f\u7684\uff0c\u7c7b\u4f3c\u7684\u8fd8\u6709\u4ee3\u66ff\u7b2c\u4e09\u65b9\u5b9e\u73b0\u7684\u5c0f\u7a0b\u5e8f\u7684\u4e00\u4e9b\u72ec\u6709\u63a5\u53e3. https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1500465446_j4CgR&token=&lang=zh_CN\n\u5177\u4f53\u7684\u4f7f\u7528\u9700\u8981\u4e00\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u3002. ok\uff0c\u6211\u5148\u6d4b\u8bd5\u4e00\u4e0b\u903b\u8f91\u518d\u4e00\u8d77\u63d0\u4ea4. ",
    "rockxsj": "\u8bf7\u95ee\u4e00\u4e0b4.0\u7684\u5f00\u53d1\u76ee\u6807\u662f\u4ec0\u4e48\uff1f  \u54ea\u91cc\u80fd\u770b\u5230\u76f8\u5173\u7684\u4ecb\u7ecd\u5417\uff1f. ",
    "almas1992": "@tianyong90 \u5927\u8d5e\uff0c\u671f\u5f854.0\u7248\u672c  :smile:. \u6211\u4e5f\u9047\u5230\u6b64\u95ee\u9898\u4e86\uff0c\u4ed8\u6b3e\u5230\u94f6\u884c\u5361\u6b63\u5e38\uff0c\u67e5\u8be2\u4ed8\u6b3e\u5230\u96f6\u94b1\u8ba2\u5355\u4e5f\u6b63\u5e38\uff0c\u53ef\u5c31\u662f\u67e5\u8be2\u4ed8\u6b3e\u5230\u94f6\u884c\u5361\u62a5\u7b7e\u540d\u9519\u8bef\uff0c\u4e0d\u77e5\u9053\u697c\u4e3b\u6709\u6ca1\u627e\u5230\u89e3\u51b3\u65b9\u6cd5\uff1f. \u627e\u5230\u95ee\u9898\u4e86\uff0c\u67e5\u8be2\u4ed8\u6b3e\u5230\u96f6\u94b1\u65f6\u53c2\u6570\u4e2d\u8981\u4f20appid,\u800c\u67e5\u8be2\u4ed8\u6b3e\u5230\u94f6\u884c\u5361\u65f6\u4e0d\u9700\u8981\u4f20appid\nhttps://github.com/overtrue/wechat/blob/master/src/Payment/Transfer/Client.php#L83 @overtrue . \u6d4b\u8bd5\u4e86\uff0c\u6ca1\u62a5\u9519\uff0c\u53ef\u6b63\u5e38\u67e5\u8be2 @overtrue . > Ubuntu \u7528\u6237\u8868\u793a\u8fd8\u597d \n\n\n\u6d4f\u89c8\u5668\uff1aVersion 70.0.3538.67 (Official Build) (64-bit)\n\u7cfb\u7edf\uff1aUbuntu 16.04 xenial. \u8d85\u54e5\u5a01\u6b66~\u671f\u5f855.0. \n",
    "cboy868": "\u55ef  \u786e\u5b9e  \u5347\u7ea7\u7248\u672c\u540e\uff0c\u95ee\u9898\u89e3\u51b3 \u591a\u8c22. sorry\n\u53c2\u6570\u4f20\u9012\u9519\u4e86. ",
    "foxhunter": "\u7684\u786e\uff0c\u6587\u6863\u90fd\u770b\u4e0d\u4e86\u5566\uff01 \u8981\u641e\u4e2a\u79bb\u7ebf\u6587\u6863\u770b\u554a. ",
    "NominationP": "\u89e3\u51b3\u4e86\u5417. oooooooh my god \uff01\u6210\u529f\u4e86\uff0c\u4f46\u662f\u6211\u7684\u90a3\u4e2a\u670d\u52a1\u5668\u4ee5\u524d\u768480\u7aef\u53e3\u662f\u6709\u7528\u7684\uff0c\u9664\u4e86\u628a\u4ee5\u524d\u7684\u6362\u6210\u5176\u4ed6\u7aef\u53e3\u4e4b\u5916\uff08\u8981\u6539\u597d\u591a\u94fe\u63a5\uff09\uff0c\u8fd8\u6709\u522b\u7684\u529e\u6cd5\u5417\uff1f\n\u5fae\u4fe1\u53ea\u80fd\u8bbf\u95ee\u523080\u7aef\u53e3\u5417\uff1f\n. Thank you very very much !!!. \u7aef\u53e3\u95ee\u9898\u53ef\u4ee5\u7528Nginx\u53cd\u5411\u4ee3\u7406\u6765\u89e3\u51b3. @overtrue \n```\n<?php\nnamespace App\\Http\\Controllers;\n// include '/var/www/vendor/autoload.php'; // \u5f15\u5165 composer \u5165\u53e3\u6587\u4ef6\nuse EasyWeChat\\Foundation\\Application;\nuse EasyWeChat\\Message\\Text;\nuse Illuminate\\Http\\Request;\nuse anlutro\\cURL\\Laravel\\cURL;\nuse \\Cache;\nuse Log;\n// define(\"TOKEN\", \"hahaha\");\n    Log::info(date(\"H:i:s\"));\nclass Wechat extends Controller\n{ \npublic function server(){\n$options = [\n    'debug'  => true,\n    'app_id' => 'wx1a15d1b0218f1xxx',\n    'secret' => '5f5b2d86ac46bab834641d2xxxx',\n    'token'  => 'easywechat',\n    // 'aes_key' => null, // \u53ef\u9009\n    'log' => [\n      'level'      => 'debug',\n      // 'permission' => 0777,\n      'file'       => '/var/www/easywechat.log',\n    ],\n    //...\n];\n\n$app = new Application($options);\n\n    Log::info(\"wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\");\n\n    // \u4ece\u9879\u76ee\u5b9e\u4f8b\u4e2d\u5f97\u5230\u670d\u52a1\u7aef\u5e94\u7528\u5b9e\u4f8b\u3002\n    $server = $app->server;\n\n$server->setMessageHandler(function ($message) {\n    return \"success\";\n});\n\n\n    $response = $server->serve();\n    // $response->send(); // Laravel \u91cc\u8bf7\u4f7f\u7528\uff1areturn $response;\n    return $response;\n\n}\n\n}\nweb.php\nRoute::any(\"/server\", 'Wechat@server')->name('server');\n. \u55ef\u55ef\uff0c\u53ef\u4ee5\u83b7\u53d6\u5230token @overtrue .\n<?php\nnamespace App\\Http\\Middleware;\nuse Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken as BaseVerifier;\nclass VerifyCsrfToken extends BaseVerifier\n{\n    /\n     * The URIs that should be excluded from CSRF verification.\n     \n     * @var array\n     /\n    protected $except = [\n     'valid/*',\n     'server/*',\n\n];\n\n}\n.\n<?php\nnamespace App\\Http\\Middleware;\nuse Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken as BaseVerifier;\nclass VerifyCsrfToken extends BaseVerifier\n{\n    /\n     * The URIs that should be excluded from CSRF verification.\n     \n     * @var array\n     /\n    protected $except = [\n     'valid/*',\n     'server',\n\n];\n\n}\n. \u8c22\u8c22\u4f60 \u53ef\u4ee5\u7528\u4e86\uff01 . \u4e3a\u4ec0\u4e48\u660e\u660e\u662f\u9a8c\u8bc1\u4e0d\u901a\u8fc7\u5374\u6ca1\u6709\u5728laravel\u65e5\u5fd7\u4e2d\u663e\u793a\u5462\uff1f. \u6211\u4e5f\u7eb3\u95f7\uff0c\u65e5\u5fd7\u4e2d\u662f\u6ca1\u6709\u7684/storage/logs/laravel.log\u662f\u6307\u8fd9\u4e2a\u65e5\u5fd7\u5417. \u9664\u4e86\u4e00\u4e9b\u6211\u81ea\u5df1\u76f4\u63a5\u7528URL\u7684\u9519\u8bef\uff0c\u5c31\u662f\u6211\u81ea\u5df1\u6807\u8bb0\u7684\uff0c\u6ca1\u6709\u522b\u7684\n[2017-09-11 08:57:57] local.INFO: 08:57:57\n[2017-09-11 08:58:56] local.INFO: 08:58:56\n[2017-09-11 08:59:16] local.INFO: 08:59:16\n[2017-09-11 08:59:39] local.INFO: 08:59:39\n[2017-09-11 09:00:39] local.INFO: 09:00:39\n[2017-09-11 09:00:39] local.INFO: wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\n[2017-09-11 09:00:53] local.INFO: 09:00:53\n[2017-09-11 09:01:02] local.INFO: 09:01:02\n[2017-09-11 09:01:15] local.INFO: 09:01:15\n[2017-09-11 09:01:15] local.INFO: wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\n[2017-09-11 09:02:44] local.INFO: 09:02:44\n[2017-09-11 09:02:44] local.INFO: wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\n[2017-09-11 09:03:06] local.INFO: 09:03:06\n[2017-09-11 09:03:06] local.INFO: wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\n[2017-09-11 09:03:18] local.INFO: 09:03:18\n[2017-09-11 09:04:39] local.INFO: 09:04:39\n[2017-09-11 09:04:39] local.INFO: wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww\u989d\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\u9e45\n[2017-09-11 09:04:39] local.ERROR: EasyWeChat\\Server\\BadRequestException: Invalid request. in /var/www/vendor/overtrue/wechat/src/Server/Guard.php:343\nStack trace:\n0 /var/www/vendor/overtrue/wechat/src/Server/Guard.php(359): EasyWeChat\\Server\\Guard->getMessage()\n1 /var/www/vendor/overtrue/wechat/src/Server/Guard.php(156): EasyWeChat\\Server\\Guard->handleRequest()\n2 /var/www/app/Http/Controllers/Wechat.php(146): EasyWeChat\\Server\\Guard->serve()\n3 [internal function]: App\\Http\\Controllers\\Wechat->server()\n4 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(55): call_user_func_array(Array, Array)\n5 /var/www/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\\Routing\\Controller->callAction('server', Array)\n6 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Route.php(203): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Wechat), 'server')\n7 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Route.php(160): Illuminate\\Routing\\Route->runController()\n8 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Router.php(572): Illuminate\\Routing\\Route->run()\n9 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n10 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n11 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n12 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n13 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(65): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n14 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n15 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n16 /var/www/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n17 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n18 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n19 /var/www/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n20 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n21 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n22 /var/www/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n23 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n24 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n25 /var/www/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(59): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n26 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n27 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n28 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n29 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Router.php(574): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n30 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Router.php(533): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n31 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Router.php(511): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n32 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n33 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request))\n34 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n35 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n36 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n37 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n38 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n39 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n40 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n41 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n42 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n43 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(46): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n44 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n45 /var/www/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n46 /var/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n47 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n48 /var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n49 /var/www/public/index.php(53): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n50 {main}\n[2017-09-11 09:05:47] local.INFO: 09:05:47\n. \u6ca1\u6709\u65e5\u5fd7\u7684\u539f\u56e0\u662f\u56e0\u4e3a app/Exceptions/Handler.php \u4e2d\u9ed8\u8ba4\u8bbe\u7f6e\u7684\uff0c\u6ce8\u91ca\u6389\u5c31\u6709\u4e86\u3002\u3002\u3002\u4e0d\u660e\u767d\u5b98\u65b9\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u505a\u3002\n    protected $dontReport = [\n        \\Illuminate\\Auth\\AuthenticationException::class,\n        \\Illuminate\\Auth\\Access\\AuthorizationException::class,\n        \\Symfony\\Component\\HttpKernel\\Exception\\HttpException::class,\n        \\Illuminate\\Database\\Eloquent\\ModelNotFoundException::class,\n        \\Illuminate\\Session\\TokenMismatchException::class,             //\u8fd9\u884c      \n        \\Illuminate\\Validation\\ValidationException::class,\n    ];\n```. ",
    "Lujidev": "\u901a\u8fc7\u624b\u52a8json\u5b89\u88c5\u53ef\u4ee5\u4e86\u3002. ",
    "edwardaa": "\u8fd9\u5757\u6211\u5e94\u8be5\u5199\u4e2a test case\uff0c\u4f46\u76ee\u524d\u5bf9\u8fd9\u4e2a\u9879\u76ee\u7684 Mock \u7528\u6cd5\u8fd8\u4e0d\u719f\u6089. \\EasyWeChat\\Payment\\Jssdk\\Client \u53ea\u7528\u4e8e\u751f\u6210\u5ba2\u6237\u7aef\uff08js bridge, jssdk, app\uff09\u8bf7\u6c42\u53c2\u6570\uff0c\u66f4\u50cf\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u5177\u7c7b\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56access_token\u3002\n\u80fd\u5426\u4e0d\u7ee7\u627fEasyWeChat\\BasicService\\Jssdk\\Client \uff0c\u800c\u662f\u4f5c\u4e3a\u4e00\u4e2a\u7b80\u5355\u7c7b\u5e76\u6dfb\u52a0\u4e00\u4e2a__construct: \n```php\nnamespace EasyWeChat\\Payment\\Jssdk;\nclass Client\n{\n   /\n     * Constructor.\n     \n     * @param \\EasyWeChat\\Payment\\Application $app\n     /\n    public function __construct(Application $app)\n    {\n        $this->app = $app;\n    }\n// ...\n\n}\n``\n\u8fd9\u6837\u7684\u8bdd\uff0c\u4e5f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2aUnknownIdentifierException\u3002. \u652f\u4ed8\u8fd9\u5757\u597d\u50cf\u53ea\u6709\u201c\u6536\u8d27\u5730\u5740\u5171\u4eab\u201d\u9700\u8981access_token`, \u800c\u4e14\u662f\u901a\u8fc7\u53c2\u6570\u4f20\u5165\u7684\uff08shareAddressConfig\uff09\uff0c\u5e76\u4e0d\u9700\u8981 Payment \u76f8\u5173\u7684\u7c7b\u505a\u5904\u7406\u3002\u8fd9\u4e2a\u9879\u76ee\u6211\u8fd8\u6ca1\u6709\u770b\u5b8c\uff0c\u662f\u4e0d\u662f\u6211\u6709\u9057\u6f0f\u7684\u5730\u65b9\uff1f. ",
    "x1nfly": "\u6211\u5c31\u662f\u770b\u5b98\u65b9\u6587\u6863\u8fd9\u4e48\u5199\u624d\u7528\u7684\u5462\uff0c\u5b98\u65b9\u6587\u6863\u622a\u56fe\u5982\u4e0b\uff1a\n\n. \u8d34\u4e2a\u6709\u951a\u70b9\u7684\u94fe\u63a5\u5427\uff1a\u4f20\u9001\u95e8. \u6211\u6655\uff0c\u8fd8\u4ee5\u4e3a\u662feasywechat\u7684\u5b98\u65b9\u6587\u6863\u54a7\u3002\u3002\u3002 \ud83d\ude4a \ud83d\ude4a \ud83d\ude4a . \u5fae\u4fe1\u5b98\u65b9\u6587\u6863\u4e0a\u76ee\u524d\u8fd8\u662f\u6709\u989c\u8272\u8bbe\u7f6e\u7684\u63cf\u8ff0\u7684\uff0c\u7136\u540e\u6211\u60f3\u8bf4\u7684\u662f\uff0c\u65e2\u7136\u5fae\u4fe1\u5b98\u65b9\u4ecd\u7136\u63d0\u4f9b\u989c\u8272\u8bbe\u7f6e\u7684\uff0c\u5e76\u4e14easywechat\u63d0\u4f9b\u4e86\u6279\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u989c\u8272\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u4f7f\u7528\u8be5\u65b9\u6cd5\u540e\u51fa\u73b0\u7684\u95ee\u9898\u5c31\u548c\u5fae\u4fe1\u5b98\u65b9\u65e0\u5173\u4e86\u5427 \ud83d\ude22 . \nGO. ",
    "micln": "\u597d\u5feb. ",
    "chenhaizano": "\u4e3b\u8981\u662f\u683c\u5f0f\uff0c\u65e2\u7136buildReply\u65b9\u6cd5\u6709\u8fd9\u4e2a\u62fc\u63a5\uff0c\u5916\u5c42\u518d\u53bb\u62fc\u63a5\u6709\u70b9\u4e0d\u4e13\u4e1a. @overtrue  \u597d\u5427\u3002\u6211\u77e5\u9053\u8fd9\u4e2a\u3002\u53ea\u80fd\u518dto array\u4e00\u6b21. @mingyoung \nhttps://gitee.com/chenhaizano/document/tree/master/wechat/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E4%B8%AA%E4%BA%BA%E8%BD%AC%E8%B4%A6%E7%89%88. @mingyoung \n\u73b0\u5728\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u6709\u4e0d\u5b58\u5728\u7684\u5b57\u6bb5\u53c2\u4e0e\u7b7e\u540d\uff0c\u5fae\u4fe1\u4f1a\u8fd4\u56de\u9519\u8bef\u63d0\u793a\uff1a\u7b7e\u540d\u6821\u9a8c\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5\nhttps://github.com/overtrue/wechat/blob/62945e1bada42823becb3ac88520a0a8b6c7ab45/src/Payment/Kernel/BaseClient.php#L64-L96\n\u73b0\u5728 nonce_str \u53c2\u6570\u662f\u4e00\u76f4\u4f1a\u5b58\u5728\uff0c\u4f46\u73b0\u5728\u4e0d\u9700\u8981\u8fd9\u4e2a\u53c2\u6570\n'nonce_str' => uniqid()\n\u6211\u5c1d\u8bd5\u6ce8\u91canonce_str\u7b49\u5b57\u6bb5\u80fd\u6b63\u5e38\u8fd4\u56de\u6570\u636e\n\u8fd9\u4e2a\u95ee\u9898\u9700\u8981\u89e3\u51b3\u4e00\u4e0b. \u80fd\u5426\u8fd9\u6837\u6539\uff1f\n\u5728\nhttps://github.com/overtrue/wechat/blob/62945e1bada42823becb3ac88520a0a8b6c7ab45/src/Payment/Merchant/Client.php#L67-L76\n\u8986\u76d6\u6389\u4e4b\u524d\u7684\uff1f\n$params = array_merge($params, [\n    'nonce_str' => '',\n    'sub_mch_id' => '',\n    'sub_appid' => ''\n]);. https://github.com/overtrue/wechat/pull/986. ",
    "crisslin": "//\u7531\u4e8e\u76ee\u524d\u53ea\u505a\u767b\u5f55\u9a8c\u8bc1\uff0c\u6240\u4ee5token\u4e0eaes_key \u672a\u914d\u7f6e. \u5982\u679c\u4f7f\u7528\u4e2d\u95f4\u4ef6\u6a21\u5f0f\n//pc\u7aef\u5fae\u4fe1\u626b\u7801\u767b\u5f55\nRoute::group(['middleware' => ['web', 'wechat.oauth:snsapi_login']], function () {}\n//\u5fae\u4fe1\u7aef\u767b\u5f55\nRoute::group(['middleware' => ['web', 'wechat.oauth:snsapi_userinfo']], function () {}\n\u600e\u4e48\u4fee\u6539\u914d\u7f6e\u9879\u5462. ",
    "xhat": "\u975econsole\u73af\u5883\u4e0b\u662f\u80fd\u6b63\u5e38\u8c03\u7528user\u7684\u3002\u8fd9\u4e2a\u5728console\u4e0b\u8be5\u600e\u4e48\u89e3\u51b3\u5462\uff0c\u6216\u8005\u5e94\u8be5\u8bf4\u600e\u4e48\u5728console\u4e0b\u83b7\u53d6\u5230\u5df2\u88ab\u7f13\u5b58\u7684ticket. laravel\u662ffile\uff0ceasywechat\u5e94\u8be5\u4e5f\u662ffile\u5427\u3002\u6ca1\u8bbe\u7f6e\u5176\u4ed6\u7f13\u5b58driver. ",
    "Gwill": "3.*. ",
    "shenjr": "\u6211\u4e5f\u60f3\u77e5\u9053\u8fd9\u4e2a\u95ee\u9898\u600e\u4e48\u5904\u7406,\u770b\u4f60\u5173\u95ed\u4e86\u8ba8\u8bba,\u6709\u89e3\u51b3\u65b9\u6cd5\u4e86\u5417?  \u96be\u4e0d\u6210\u53bb\u6539\u6e90\u7801?. ",
    "Darkhorse007": "https://github.com/EasyWeChat/docs\n\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u6162\u6162\u770b\u3002. ",
    "kenleemyth": "\u73b0\u5728\u8fd8\u4e0d\u6b63\u5e38. ",
    "lyzhang1999": "\u5df2\u7ecf\u627e\u5230\u89e3\u51b3\u65b9\u6848\u4e86\uff0c\u7ed9\u9047\u5230\u76f8\u540c\u95ee\u9898\u7684\u4eba\u7559\u4e00\u4e2a\u601d\u8def\n1\u3001easywechat\u7528redis\u505a\u4e3a\u81ea\u5b9a\u4e49\u7f13\u5b58\uff08redis\u9700\u8981\u72ec\u7acb\u7684\u4e00\u53f0\u670d\u52a1\u5668\u6216\u8005\u72ec\u7acb\u7684\u670d\u52a1\uff09\n2\u3001\u72ec\u7acb\u8fd0\u884c\u4e00\u4e2a\u81ea\u52a8\u66f4\u65b0access token\u7684\u7a0b\u5e8f\uff0c\u5b9a\u65f6\u81ea\u52a8\u66f4\u65b0redis\u7f13\u5b58\u5185\u7684access token\n3\u3001\u8fd9\u6837\u6240\u6709\u540e\u7aef\u7684ecs\u5728redis\u91cc\u9762\u8bfbaccess token\u7684\u65f6\u5019\u5c31\u4e00\u5b9a\u662f\u53ef\u7528\u5e76\u4e14\u662f\u6700\u65b0\u7684\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u89e6\u53d1\u4ece\u5fae\u4fe1\u83b7\u53d6access token\uff08\u6216\u8005easywechat 4.0\u7248\u672c\u4ee5\u4e0a\u53ef\u4ee5\u52a0\u914d\u7f6e\u9879max retry=0\uff0c\u5f3a\u5236\u4e0d\u4ece\u5fae\u4fe1\u83b7\u53d6access token\uff0c\u53ef\u4ee5\u641c\u7d22\u4e00\u4e0b\uff09\n\u6211\u4eec\u516c\u53f8\u7528\u7684\u963f\u91cc\u4e91\uff0c\u642d\u914d\u4e86slb\u8d1f\u8f7d\u5747\u8861\u4ee5\u53ca\u5f39\u6027\u4f38\u7f29\uff0c\u6570\u636e\u5e93rds+redis\uff0c\u9ad8\u5cf0\u671f\u5f39\u6027\u4f38\u7f29\u4f1a\u589e\u52a0n\u53f0ip\u672a\u77e5\u7684\u540e\u7aef\u670d\u52a1\u5668\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5982\u679c\u8bf7\u6c42\u88ab\u6253\u5230\u8fd9\u4e9bip\u6ca1\u6709\u52a0\u5165\u5230\u767d\u540d\u5355\u7684\u670d\u52a1\u5668\u7684\u8bdd\u5c31\u4f1a\u51fa\u73b0\u83b7\u53d6\u4e0d\u5230access token\u7684\u95ee\u9898\u3002\n\u89e3\u51b3\u4ee5\u4e0a\u7b2c\u4e8c\u6761\u7684\u601d\u8def\u6709\u5f88\u591a\uff0c\u53ef\u4ee5\u505a\u5b9a\u65f6\u4efb\u52a1\uff0ccrontab\u3001\u961f\u5217\u7b49\u3002\n\u6211\u95e8\u91c7\u7528\u7684\u662f\u5728\u9879\u76ee\u91cc\u9762\u5199\u4e00\u4e2aapi\uff0c\u68c0\u6d4b\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\uff08\u4fdd\u9669\u8d77\u89c1\u6bcf\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21\uff09\u5e76\u4e14\u91cd\u65b0\u83b7\u53d6access\n token\u4fdd\u5b58\u5230redis\u91cc\u9762\uff0c\u914d\u5408\u963f\u91cc\u4e91\u7684\u4e91\u76d1\u63a7\uff0c\u5bf9target url\u8fdb\u884c\u9891\u7387\u4e3a1\u5206\u949f\u4e00\u6b21\u7684\u76d1\u63a7\uff08\u76f8\u5f53\u4e8eapi\u6bcf\u5206\u949f\u6267\u884c\u4e00\u6b21\uff09\uff0c\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u505a\u4e86\u4e00\u4e2a1\u5206\u949f\u4e00\u6b21\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\u540c\u65f6\u4e0d\u4f9d\u8d56\u4e8e\u5176\u4ed6\u5916\u90e8\u670d\u52a1\uff0c\u7a33\u5b9a\u53ef\u6a2a\u5411\u6269\u5bb9\u3002\n\u6700\u7ec8\u9879\u76ee\u9ad8\u5cf0\u671f\u4f7f\u7528\u5f39\u6027\u4f38\u7f29\u7684\u65f6\u5019\uff0c\u5bf9\u4e8e\u6269\u5bb9\u7684\u670d\u52a1\u5668\u4e0d\u5728\u5fae\u4fe1\u7684ip\u767d\u540d\u5355\u4e5f\u6ca1\u95ee\u9898\u4e86\uff0c\u56e0\u4e3a\u6b64\u65f6\u6240\u6709\u540e\u7aef\u670d\u52a1\u5668\u83b7\u53d6access token\u90fd\u5728\u56fa\u5b9a\u7684\u4e00\u53f0redis\u91cc\u9762\u8bfb\uff0c\u4e0d\u4f1a\u5728\u5fae\u4fe1\u670d\u52a1\u5668\u8bfb\u53d6\u3002. ",
    "juzhiyuan": "@lyzhang1999 \u60a8\u597d\uff0c\u8bf7\u95eemax retry\u5728\u54ea\u91cc\u914d\u7f6e\u5462\uff1f\u6ca1\u6709\u67e5\u8be2\u5230\u76f8\u5173API\u3002. ",
    "Feelop": "\n. ",
    "smartymoon": "waiting for repire. ",
    "rshinesun": "\u5728\u7ebf\u7b49+1. ",
    "stevieyu": "require symfony/var-dumper \u62a5\u9519\nupdate symfony/var-dumper \u7248\u672c\u65e0\u53d8\u5316\n```\nSteviedeMacBook-Pro:laravel5.1 stevie$ composer require symfony/var-dumper\nUsing version ^3.3 for symfony/var-dumper\n./composer.json has been updated\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - laravel/framework v5.1.46 requires symfony/var-dumper 2.7. -> satisfiable by symfony/var-dumper[2.7.x-dev, v2.7.0, v2.7.0-BETA1, v2.7.0-BETA2, v2.7.1, v2.7.10, v2.7.11, v2.7.12, v2.7.13, v2.7.14, v2.7.15, v2.7.16, v2.7.17, v2.7.18, v2.7.19, v2.7.2, v2.7.20, v2.7.21, v2.7.22, v2.7.23, v2.7.24, v2.7.25, v2.7.26, v2.7.27, v2.7.28, v2.7.29, v2.7.3, v2.7.30, v2.7.31, v2.7.32, v2.7.33, v2.7.34, v2.7.35, v2.7.4, v2.7.5, v2.7.6, v2.7.7, v2.7.8, v2.7.9] but these conflict with your requirements or minimum-stability.\n    - laravel/framework v5.1.46 requires symfony/var-dumper 2.7. -> satisfiable by symfony/var-dumper[2.7.x-dev, v2.7.0, v2.7.0-BETA1, v2.7.0-BETA2, v2.7.1, v2.7.10, v2.7.11, v2.7.12, v2.7.13, v2.7.14, v2.7.15, v2.7.16, v2.7.17, v2.7.18, v2.7.19, v2.7.2, v2.7.20, v2.7.21, v2.7.22, v2.7.23, v2.7.24, v2.7.25, v2.7.26, v2.7.27, v2.7.28, v2.7.29, v2.7.3, v2.7.30, v2.7.31, v2.7.32, v2.7.33, v2.7.34, v2.7.35, v2.7.4, v2.7.5, v2.7.6, v2.7.7, v2.7.8, v2.7.9] but these conflict with your requirements or minimum-stability.\n    - laravel/framework v5.1.46 requires symfony/var-dumper 2.7. -> satisfiable by symfony/var-dumper[2.7.x-dev, v2.7.0, v2.7.0-BETA1, v2.7.0-BETA2, v2.7.1, v2.7.10, v2.7.11, v2.7.12, v2.7.13, v2.7.14, v2.7.15, v2.7.16, v2.7.17, v2.7.18, v2.7.19, v2.7.2, v2.7.20, v2.7.21, v2.7.22, v2.7.23, v2.7.24, v2.7.25, v2.7.26, v2.7.27, v2.7.28, v2.7.29, v2.7.3, v2.7.30, v2.7.31, v2.7.32, v2.7.33, v2.7.34, v2.7.35, v2.7.4, v2.7.5, v2.7.6, v2.7.7, v2.7.8, v2.7.9] but these conflict with your requirements or minimum-stability.\n    - Installation request for laravel/framework (locked at v5.1.46, required as 5.1.) -> satisfiable by laravel/framework[v5.1.46].\nInstallation failed, reverting ./composer.json to its original content.\nSteviedeMacBook-Pro:laravel5.1 stevie$ composer update symfony/var-dumper\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nNothing to install or update\nGenerating autoload files\n\nIlluminate\\Foundation\\ComposerScripts::postUpdate\nphp artisan optimize\nGenerating optimized class loader\nCompiling common classes\n```. @overtrue \u4ee3\u7801\u7248\u672c\u6700\u65b0\uff0c\u521b\u5efa\u4e34\u65f6\u4e8c\u7ef4\u7801\u62a5\u9519\nsymfony/cache 3.2\u4ee5\u4e0b \u6ca1\u6709 Symfony\\Component\\Cache\\Simple\\FilesystemCache \u8fd9\u4e2a\u6587\u4ef6\n\n\n\u4e0a\u9762\u62a5\u9519\u540e\uff0c\u627e\u5230\u8fd9\u91cchttps://github.com/overtrue/laravel-wechat/blob/master/src/ServiceProvider.php#L86\u81ea\u5b9a\u4e49\u7f13\u5b58\u7684\u65b9\u6cd5\uff0c\u7528\u4e86\u7c7b\u4f3c\u7684\u65b9\u6cd5\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e0b\uff0c\nphp\n        $app = Factory::officialAccount($this->config);\n        $app['cache'] = app('cache.store');\n        $app['request'] = app('request');\n\u7ed3\u679c\u4e0b\u9762\u4f4d\u7f6e\u7684\u5224\u65ad\u6ca1\u8fc7\nphp\n     if (property_exists($this, 'app') && $this->app instanceof ServiceContainer\n            && isset($this->app['cache']) && $this->app['cache'] instanceof CacheInterface) {\n            return $this->cache = $this->app['cache'];\n        }\n. ",
    "yyqqing": "sorry\uff0c\u4e0d\u5c0f\u5fc3\u628a\u5199\u5230\u4e00\u534a\u7684 test \u53d1\u4e0a\u53bb\u4e86. ",
    "Hanson": "\ud83d\udcaf . sub_app_id \u662f\u6307\u662f\u5426\u5b50\u670d\u52a1\u5546\u5b57\u652f\u4ed8\u65f6\u7684\u53c2\u6570\uff0c\u4e0e\u662f\u5426\u5c0f\u7a0b\u5e8f\u6ca1\u6709\u5173\u7cfb. @mingyoung \u770b\u770b\uff1f\u6211\u8fd9\u8fb9\u4e5f\u7ecf\u5e38\u6709\u8fd9\u79cd\u60c5\u51b5. ",
    "XiaohuChen": "\u539f\u6765\u662f\u8ba9 360\u6d4f\u89c8\u5668\u7ed9\u5c4f\u853d\u4e86\uff01. ",
    "reprover": "@mingyoung \u554a\u3002\u3002\u3002\u5bf9 \u6388\u6743\u7684\u65f6\u5019\u65f6\u521b\u5efa\u7684 \u8fd9\u4e2a\u662f\u6700\u5f00\u59cb\u5199\u7684 \u4e00\u76f4\u4e0d\u8bb0\u5f97\u4e86 \u8c22\u8c22\u63d0\u9192~\u6211\u53bb\u8bd5\u4e00\u4e0b. ",
    "pal301x": "\u662f\u7684\uff0c\u6211\u4e5f\u53d1\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u662f\u5b89\u5353\u624b\u673a\u4e0b\u624d\u4f1a\u51fa\u73b0\u3002\u7b2c\u4e00\u6b21\u57fa\u672c\u6b63\u5e38\uff0c\u91cd\u590d\u83b7\u53d6openid \u5f88\u5927\u51e0\u7387\u4e8c\u6b21\u8bbf\u95ee\u3002. \u8bf7\u95ee\u4e0b\u6ca1\uff0c\u6539\u95ee\u9898\u662f\u5426\u5df2\u7ecf\u89e3\u51b3\u4e86\uff1f\n\u53d1\u9001\u81ea Windows 10 \u7248\u90ae\u4ef6https://go.microsoft.com/fwlink/?LinkId=550986\u5e94\u7528\n\nFrom: \u5b89\u6b63\u8d85 notifications@github.com\nSent: Friday, December 8, 2017 2:58:06 PM\nTo: overtrue/wechat\nCc: pal301x; Comment\nSubject: Re: [overtrue/wechat] \u8bf7\u95ee\u662f\u5426\u6709\u9047\u5230\u5fae\u4fe1\u626b\u7801\u6216\u5185\u90e8\u6253\u5f00\u5916\u90e8\u7f51\u7ad9\u51fa\u73b0\u8bf7\u6c422\u6b21\u7684\u60c5\u51b5 (#963)\nClosed #963https://github.com/overtrue/wechat/issues/963.\n\u2015\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/overtrue/wechat/issues/963#event-1378314171, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AYgUeMYO7mpphkR8xSGW5gplMIio1i_Jks5s-N3-gaJpZM4P7jNw.\n. ",
    "franktrue": "THX~. ",
    "weer0026": "@mingyoung \u6211\u7528\u7684\u7248\u672c\u662f3.3.12\uff0c\u6211\u901a\u8fc7\u91cd\u5199\u517c\u5bb9\u4e86\uff0c4.0\u8fd8\u6ca1\u5173\u6ce8\uff0c\u9ebb\u70e6\u4e86\u3002. ",
    "birdol": "cURL error 77: (see http://curl.haxx.se/libcurl/c/libcurl-errors.html) \nwechat/vendor/guzzlehttp/guzzle/src/Handler/CurlFactory.php 187\u884c\n185 | $error = isset($connectionErrors[$easy->errno])\n186 | ? new ConnectException($message, $easy->request, null, $ctx)\n187 | : new RequestException($message, $easy->request, $easy->response, null, $ctx);\n. \u81ea\u5df1\u5199\u4e2afilecache\u66ff\u6362\u4e86\uff0c\u6709\u4e9b\u4e3b\u673a\u771f\u7684\u662f\u5947\u8469\u3002\u3002\u3002. ",
    "wangxiaomo": "\u6587\u6863\u548cconfig/wechat.php\u91cc\u5173\u4e8e\u5f00\u653e\u5e73\u53f0\u7684\u914d\u7f6e\u6709\u70b9\u6df7\u6dc6\u7684\u610f\u601d,\u521d\u59cb\u5316\u7684\u65f6\u5019\u53c2\u6570\u4f20\u7684\u6709\u95ee\u9898. ",
    "scplay": "\u5076\u800c\u4e5f\u4f1a\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u662f\u5426\u56e0\u4e3aXML\u4e2d\u6709\u975e\u6cd5\u5b57\u7b26\uff1f\u5bfc\u81f4 simplexml_load_string \u62a5\u9519\uff1f. \u5341\u5206\u611f\u8c22\uff0c\u539f\u6765\u662f\u8fd9\u6837. ",
    "yiyouguisu": "return new Video(['media_id' => $replyinfo['replymediaid']]);\n\u56de\u590d\u89c6\u9891\u548c\u8bed\u97f3\u548c\u56fe\u7247\u53ef\u4ee5\u53d1\u9001. ",
    "mugennsou": "\u975e\u5e38\u611f\u8c22.. ",
    "tlerbao": "\u55ef \u90a34.0\u6587\u6a94\u88cf\u4e5f\u9806\u5e36\u6539\u4e00\u4e0b\u5427\u3002. ",
    "callmejea": "sorry, \u627e\u7740\u4e86, \u6628\u5929\u665a\u4e0a\u592a\u7d2f, \u6ca1\u627e\u5230. ",
    "hanwenbo": "\u5df2\u7ecf\u89e3\u51b3\uff0c\u56de\u5934\u8865\u4e0a\u6559\u7a0b - - \u7ee7\u7eed\u64b8\u4e86. \u81ea\u5df1\u5f04\u8d85\u5168\u5c40\u53d8\u91cf\u4e5f\u884c\uff0c\u7ee7\u627fRequest\u7c7b \u91cd\u5b9a\u4e49Message\u83b7\u53d6\u7684\u65b9\u6cd5\u4e5f\u884c. \u5e0c\u671b\u60a8\u628aRequest\u7684\u63a5\u53e3\u66b4\u9732\u51fa\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5916\u90e8\u4f20\u8fc7\u53bb\uff0c\u6839\u636epsr7\u7684\u6807\u51c6\u6765\u4f20. \u8c8c\u4f3c\u9700\u8981\u5224\u65ad\u4e0b\u65b9\u6cd5\u662f\u5426\u9700\u5df2\u7ecf\u5b58\u5728. \n\u8fd9\u4e9b\u8d85\u5168\u5c40\u53d8\u91cf\u5efa\u8bae\u53bb\u6389\uff0c\u8d70Request\u7c7b \u9075\u5faapsr7 message \u63a5\u53e3\n\u6211\u6c34\u5e73\u6709\u9650\uff0c\u5982\u679c\u6709\u8bf4\u7684\u4e0d\u5bf9\u7684\u8bf7\u5ffd\u7565. \u89e3\u51b3\u4e86    . ",
    "lonestonewy": "\u57fa\u4e8e\u7a33\u5b9a\u7248\u6211fork\u4e86\u4e00\u4e2a\u5b9e\u73b0\uff0c\u9700\u8981\u7684\u670b\u53cb\u53ef\u4ee5\u53c2\u8003\u3002\nhttps://github.com/lonestonewy/wechat/tree/3.1/src/Payment/MerchantPay\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u83b7\u53d6\u5230\u7684\u5fae\u4fe1\u652f\u4ed8\u516c\u94a5\u8981\u505a\u4e0b\u683c\u5f0f\u8f6c\u6362\u3002. ",
    "zealyes": "SUCCESS\uff08\u4ed8\u6b3e\u6210\u529f\uff09\u53ef\u80fd\u4f1a\u53d8\u6210 BANK_FAIL\uff08\u94f6\u884c\u9000\u7968\uff0c\u8ba2\u5355\u72b6\u6001\u7531\u4ed8\u6b3e\u6210\u529f\u6d41\u8f6c\u81f3\u9000\u7968,\u9000\u7968\u65f6\u4ed8\u6b3e\u91d1\u989d\u548c\u624b\u7eed\u8d39\u4f1a\u81ea\u52a8\u9000\u8fd8\uff09. ",
    "memoryyang": "OK. ",
    "mogocat": "\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u4e86\uff0cRequest AccessToken fail. response: false\n\u56de\u6eda\u4e5f\u65e0\u6548\uff0c\u4eca\u665a\u7a81\u53d1\u7684bug\uff0c\u665a\u4e0a\u53ea\u4fee\u6539\u4e86\u4e00\u4e9bcss\uff0c\u6ca1\u6709\u6539\u52a8\u4ee3\u7801. \u6211\u6240\u9047\u5230\u7684bug\u4ec5\u5728\u672c\u5730\u51fa\u73b0\uff0c\u670d\u52a1\u5668\u7adf\u7136\u6ca1\u4e8b\uff0c\u4e0d\u77e5\u9053\u662f\u7f13\u5b58\u8fd8\u662f\u4ec0\u4e48\u7f18\u6545\u3002\n\u5982\u679c\u6709\u540e\u9762\u6765\u7684\u4eba\u9047\u5230\u6211\u53d1\u7684\u90a3\u4e2a\u95ee\u9898\uff0c\u8bf7\u4fee\u6539overtrue/wechat/src/Core/Http.php\u6587\u4ef6\u4e2d\u7684267\u884c\n$body = $body->getBody()->getContents(); => $body = $body->getBody();. ",
    "neatstudio": "\u786e\u5b9e\u662f\u3002\u6211\u4e5f\u662f\u6539\u6210$body=(string)$body->getBody();\n\u5efa\u8bae\u8fd8\u662f\n$body = $body->getBody()->getContents() ?: $body->getBody();\n. ",
    "toxmc": "\u4eca\u5929\u521a\u521a\u9047\u5230\u4e86\u4e00\u76f4\u6392\u67e5\u95ee\u9898\u51fa\u73b0\u5728\u54ea\u91cc...\ud83d\ude02. ",
    "cmzz": "\u597d\u7684. ",
    "cnny": "\u597d\u7684\uff0c\u6211\u8bd5\u8bd5\uff0c\u8c22\u8c22~\n2017-11-21 15:10 GMT+08:00 \u5f20\u94ed\u9633 notifications@github.com:\n\nClosed #1025 https://github.com/overtrue/wechat/issues/1025.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1025#event-1351373349, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ARFr8hcERvkFatWJ9wu9z2O37GfDXQiTks5s4ndjgaJpZM4QdU3W\n.\n. \n",
    "yuchonghua": "\u540c\u6837\u7684\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48 Request \u4e0d\u80fd\u4f7f\u7528\u4f20\u5165\uff0c\u800c\u662f\u8c03\u7528 Request::createFromGlobals();. \n\u8fd8\u6709\u4e00\u4e2a\u6ce8\u91ca\u95ee\u9898\nhttps://github.com/overtrue/wechat/blob/82014c15a0457a03a1f4ff58975250bd46085b21/src/OpenPlatform/Authorizer/MiniProgram/Application.php#L25\nhttps://github.com/overtrue/wechat/blob/82014c15a0457a03a1f4ff58975250bd46085b21/src/OpenPlatform/Authorizer/MiniProgram/Application.php#L26\n. Request::createFromGlobals();  \u5f97\u5230\u7684\u662f\u57fa\u4e8e\u5168\u5c40$_GET\u548c$_POST\uff0c\u6ca1\u80fd\u53d1\u6325laravel\u7684\u7075\u6d3b\u6027. ",
    "lcnphp": "\u6211\u521a\u521a\u4e5f\u8bd5\u8fc7\u4e86\uff0cauthorizer_refresh_token\u786e\u5b9e\u662f\u4e0d\u4f1a\u53d8\u7684\u3002\u80fd\u5426\u5f00\u653e\u4e00\u4e2a\u63a5\u53e3\u8ba9\u5f00\u53d1\u8005\u83b7\u53d6\u7f13\u5b58\u91cc\u7684authorizer_refresh_token\uff0c\u56e0\u4e3a\u771f\u5b9e\u573a\u666f\u901a\u5e38\u662f\u5728\u540e\u53f0\u6388\u6743\u6210\u529f\u4ee5\u540e\uff0c\u5728\u524d\u53f0\u518d\u53bb\u8c03\u7528$app->createAuthorizerApplication($authorizerAppid, $authorizerRefreshToken)\u6765\u5904\u7406\u4e1a\u52a1. \u8c22\u8c22\uff01\u975e\u5e38\u68d2\uff01. \u8865\u5145\u4e00\u4e0b\uff0c$app->getAuthorizerList()\u662f\u4ece\u5fae\u4fe1\u63a5\u53e3\u83b7\u53d6\u7684\u4fe1\u606f\uff0c\u8ddfmingyoung\u8ba8\u8bba\u8fc7\uff0c\u786e\u8ba4\u4e86\u5f00\u53d1\u8005\u81ea\u5df1\u8981\u5b58\u4e00\u4efdauthorizer_refresh_token\u5230\u6570\u636e\u5e93\u6765\u7ef4\u62a4. ",
    "surjur": "\u662f\u4e0d\u662f\u6ca1\u6709\u5173\u6ce8\u516c\u4f17\u53f7. ",
    "ChenSee": "\u597d\u7684  \u8c22\u8c22\u5927\u4f6c\u3002. ",
    "windpursuer": "\u4f01\u4e1a\u652f\u4ed8\u4fee\u590d\u4e86\u5417\uff0c3.1\u4f1a\u4e0d\u4f1a\u6709\u540c\u6837\u95ee\u9898\uff0c\u4e0d\u7136\u53ea\u80fd\u7528\u56de3.1\u4e86. ",
    "jc91715": "\u6069 \uff0c\u4f60\u8bf4\u7684\u5bf9\uff0c\u76ee\u524d\u6211\u5728\u4f7f\u7528\u670d\u52a1\u5546\u6a21\u5f0f\u5f00\u53d1\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u3002\n\u521a\u770b\u4e86\u4e0b\u516c\u4f17\u53f7\u670d\u52a1\u5546\u6a21\u5f0f\uff0csub_app_id  \u6307\u7684\u662f \u5b50\u5546\u6237\u516c\u4f17\u8d26\u53f7ID\u3002\n\u800c\u5c0f\u7a0b\u5e8f\u670d\u52a1\u5546\u6a21\u5f0f sub_app_id \u6307\u7684\u662f \u5c0f\u7a0b\u5e8f\u7684APPID \u94fe\u63a5\n\u6211\u7528\u5c0f\u7a0b\u5e8f\u8c03\u8d77\u652f\u4ed8\u7684\u65f6\u5019 3.1 \u7248\u672c\u9ed8\u8ba4\u4f7f\u7528\u7684app_id \u53c2\u4e0e\u7684\u7b7e\u540d\u751f\u6210\u3002\n\u53d1\u73b0\u4e00\u76f4\u62a5 \n{err_code: \"2\", err_desc: \"\u652f\u4ed8\u9a8c\u8bc1\u7b7e\u540d\u5931\u8d25\", errMsg: \"requestPayment:fail\"}\n\u7136\u540e \u6211\u628a\u7b7e\u540d\u751f\u6210\u7684 app_id\u7684\u503c \u6362\u6210sub_app_id \u5f97\u503c\u3002 \u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n```\n public function configForPayment($prepayId, $json = true,$wechat)\n    {\n        $params = [\n            'appId'=>$wechat->merchant->sub_app_id,\n//            'sub_appId' => $wechat->merchant->sub_app_id,\n            'timeStamp' => strval(time()),\n            'nonceStr' => uniqid(),\n            'package' => \"prepay_id=$prepayId\",\n            'signType' => 'MD5',\n        ];\n    $params['paySign'] = $this->generate_sign($params, $wechat->merchant->key, 'md5');\n\n    return $json ? json_encode($params) : $params;\n}\n\nfunction generate_sign(array $attributes, $key, $encryptMethod = 'md5')\n{\n    ksort($attributes);\n\n    $attributes['key'] = $key;\n\n    return strtoupper(call_user_func_array($encryptMethod, [urldecode(http_build_query($attributes))]));\n}\n\n``. \u770b\u5230\u6709\u4e2a\u5c0f\u4f19\u4f34\uff0c\u5df2\u7ecf\u6539\u8fc7\u4e86\ud83d\ude36\u3002\u4e0d\u8fc7\u6211\u7528composer \u5b89\u88c5\u7684\u65f6\u5019\uff0c\u62c9\u4e0b\u7684\u5305\u6ca1\u6709\u5c0f\u4f19\u4f34\u66f4\u6539\u540e\u7684\u4ee3\u7801\uff0c\u662f\u4e0d\u662f\u6ca1\u6709\u540c\u6b65\u5230packagist`\uff1f\ncomposer \u62c9\u4e0b\u7684\u5305\n\ngithub \u4ed3\u5e93\n\n. \u770b\u6765\u662f\u59ff\u52bf\u4e0d\u592a\u5bf9\n\u7814\u7a76\u6e90\u7801\u540e\u53d1\u73b0\u7f13\u5b58\u4e2d\u7684key\u662f\nprotected function getCacheKey()\n    {\n        return $this->cachePrefix.md5(json_encode($this->getCredentials()));\n    }\n\u6240\u4ee5\u4e0a\u9762\u90a3\u79cd\u65b9\u5f0f\u8bbe\u7f6e\u7684key\u5c0f\u7a0b\u5e8f\u662f\u62ff\u4e0d\u5230\u7684\u3002\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u54af\n```\n$config = [\n           'app_id' => config('component.app_id'),\n        ];\n$miniProgram = Factory::openPlatform($config)->miniProgram($mini_app_id);\n$miniProgram->access_token->setToken($access_token,7200);\n```. ",
    "qbhy": "@HanSon \u770b\u770b\uff1f . @overtrue \u662f\u8fd9\u4e2a\u95ee\u9898\uff0c\u77e5\u9053\u600e\u4e48\u89e3\u51b3\u4e86~. ",
    "Liangkk": "@mingyoung \u5f00\u653e\u5e73\u53f0\u5168\u7f51\u53d1\u5e03\u7684\u65f6\u5019,\u4e00\u5f00\u59cb\u662f\u6ca1\u6709refresh_token\u7684\n\u5b98\u65b9\u6587\u6863\u662f\u8fd9\u4e48\u8bf4\u660e\u7684,\u8981\u5230\u7b2c3\u6b65\u901a\u8fc7code\u624d\u53ef\u4ee5\u83b7\u53d6refresh_token\nhttps://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1419318611&token=&lang=zh_CN. ",
    "heyuemax": "@Liangkk \u9047\u5230\u540c\u6837\u7684\u95ee\u9898\uff0c\u800c\u4e14\u6211\u4eec\u597d\u50cf\u662f\u7528\u7684\u4e00\u4e2a\u6846\u67b6\u54c8\uff1f\uff1f\uff1f\u53ef\u4ee5\u7559\u4e2a\u8054\u7cfb\u4e48. ",
    "Ge-Ge": "@overtrue  \u4f01\u4e1a\u5fae\u4fe1\u7684\u5f02\u6b65\u4efb\u52a1\u6ca1\u6709\u5728\u6587\u6863\u91cc\u770b\u5230. ",
    "mouyong": "\n@Ge-Ge \u4f01\u4e1a\u5fae\u4fe1\u572811\u6708\u5e95\u6539\u4e86 API , \u73b0\u5df2\u7ecf\u91cd\u6784\u4e86\u8be5\u6a21\u5757\u5e76\u53d1\u5e03\u4e86 4.0.3 \u8bf7\u66f4\u65b0\u5e76\u6309\u6700\u65b0\u6587\u6863\u4f7f\u7528\n\n@overtrue \u56e0\u4e3a\u4e00\u4e9b\u539f\u56e0\u3002\u4e0d\u4fbf\u4e8e\u5c06\u9879\u76ee\u4e2d\u7684 wechat \u7248\u672c\u53f7\u8fdb\u884c\u5347\u7ea7\uff0c\u5728\u67e5\u627e\u95ee\u9898\u7684\u65f6\u5019\u770b\u5230\u8fd9\u91cc\u3002\u60f3\u8bf7\u95ee\u4ee5\u4e0b\uff1a\n4.0.3 \u7248\u672c\u5c0f\u4e8e 4.0.23 \uff0c\u8bf7\u95ee\u4fee\u590d\u7248\u672c\u53f7\u662f\u5426\u4e3a 4.0.30? \u56e0\u4e3a fix commit \u672a\u5173\u8054\u81f3\u6b64 pr \u3002\u770b\u4e86\u4e00\u904d https://github.com/overtrue/wechat/compare/4.0.23...4.0.30 \u4e4b\u524d\u7684\u6539\u52a8\uff0c\u672a\u770b\u5230\u76f8\u5173\u53ef\u80fd\u7684\u4fe1\u606f\u3002\n\u8c22\u8c22\u60a8\u7684\u8010\u5fc3\u67e5\u770b\u3002. > @Ge-Ge \u7528\u6cd5\u5b8c\u5168\u4e0d\u4e00\u6837\u4e86\uff0c\u5efa\u8bae\u5347\u7ea7\u4f7f\u7528\u65b0\u7248\uff0c\u56e0\u4e3a API \u7684\u4fee\u6539\u662f\u7528\u6cd5\u7684\u6539\u53d8\uff0c\u6211\u6ca1\u529e\u6cd5\u7b80\u5355\u7684\u544a\u8bc9\u4f60\u600e\u4e48\u4ece\u65e7\u7248\u6539\u56de\u6765\u54c8\u3002\n\u597d\u7684\uff0c\u7406\u89e3\u4e86\uff0c\u8c22\u8c22\u8d85\u54e5\u3002. @overtrue \u4f01\u4e1a\u5fae\u4fe1\u90e8\u5206 - \u5e94\u7528\u90e8\u5206\uff0c\u9996\u6b21\u8c03\u7528\u65f6\u4e0d\u5b58\u5728 access_token. \u65e0\u6cd5\u8bfb\u53d6\u6b63\u786e\u7684 secret \u6765\u4ee3\u66ff corpsecret \u8fdb\u884c\u83b7\u53d6 \u5e94\u7528\u5bf9\u5e94\u7684 access_token\u3002\u5e94\u8be5\u5982\u4f55\u4fee\u590d\u8fd9\u4e2a\u95ee\u9898\uff1f\u4ee3\u7801\u8d28\u91cf\u611f\u89c9\u4e0d\u597d\u5dee\u3002\u4e0d\u77e5\u9053\u5982\u4f55\u4f18\u96c5\u7684\u4fee\u590d\uff0c\u6240\u4ee5\u6ca1\u6709\u63d0 PR \u3002Bug \u4ea7\u751f\u539f\u56e0\u5982\u4e0b\u3002\n\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\u76f8\u5173\u914d\u7f6e\u5982\u4e0b\uff1a\n\n\u76f8\u5173\u62a5\u9519\u5982\u4e0b\uff1a\n\n\u62a5\u9519\u539f\u56e0\u5982\u4e0b\uff1a\n```\nEasyWeChat\\Work\\Agent\\Client->get($agentId);\nBaseClient->httpGet('cgi-bin/agent/get', $params)\nBaseClient->request($url, 'GET', ['query' => $query])\nBaseClient->registerHttpMiddlewares()\nBaseClient->pushMiddleware($this->accessTokenMiddleware(), 'access_token')\nprotected function accessTokenMiddleware()\n    {\n        return function (callable $handler) {\n            return function (RequestInterface $request, array $options) use ($handler) {\n                if ($this->accessToken) {\n                    $request = $this->accessToken->applyToRequest($request, $options);\n                }\n            return $handler($request, $options);\n        };\n    };\n}\n\n// if ($this->accessToken) \u4e3a true\nEasyWeChat\\Kernel\\AccessToekn->applyToRequest($request, $options)\npublic function applyToRequest(RequestInterface $request, array $requestOptions = []): RequestInterface\n    {\n        parse_str($request->getUri()->getQuery(), $query);\n    $query = http_build_query(array_merge($this->getQuery(), $query));\n\n    return $request->withUri($request->getUri()->withQuery($query));\n}\n\n// \u6b64\u65f6 $this->queryName \u4e3a null ,\u8c03\u7528\u4e86 $this->getToken()\n$this->getQuery(),\n// \u65e0\u7f13\u5b58\uff0c\u8c03\u7528\u4e86 $this->requestToken($this->getCredentials(), true) \u83b7\u53d6 token\n$this->requestToken($this->getCredentials(), true)\n// \u8c03\u7528 $this->getCredentials() \u83b7\u53d6\u76f8\u5173\u4fe1\u606f\u3002\n$this->getCredentials()\n// \u8be5 getCredentials() \u7684\u5b9e\u73b0\u4e3a EasyWeChat\\Work\\Auth\\AccessToken\n// \u76f8\u5173\u4ee3\u7801\u4e3a\nprotected function getCredentials(): array\n    {\n        return [\n            'corpid' => $this->app['config']['corp_id'],\n            'corpsecret' => $this->app['config']['secret'],\n        ];\n    }\n// \u83b7\u53d6\u4e0d\u5230\u5bf9\u5e94\u7684 secret\u3002\u5bfc\u81f4\u62a5\u9519\u4e86\n```. > \u5e94\u7528\u7684 secret \u5728\u4f01\u4e1a\u5fae\u4fe1\u521b\u5efa\u5b8c\u5c31\u6709\u4e86\u54c8\uff0c\u4e0d\u5b58\u5728\u4f60\u8bf4\u7684\u60c5\u51b5\u3002\n\u9ed8\u8ba4\u7684 config \u662f\u5c06\u5e94\u7528 secret \u5199\u5728 wechat.work.agents.*.secret \u4e2d\u7684\uff0c\u800c EasyWeChat\\Work\\Auth\\AccessToken \u8c03\u7528\u7684\u662f wechat.work.secret\n\u8fd9\u91cc\u5bfc\u81f4\u7684\u62a5\u9519. \n\u505a\u5982\u4e0b\u66f4\u6539\u65f6\u53ef\u4ee5\u8c03\u7528\u6210\u529f\u3002\u53ea\u662f\u8fd9\u6837\u53ef\u80fd\u5931\u53bb\u4e86 wechat \u539f\u6709\u7684\u610f\u613f\u3002\u914d\u7f6e work.agents.*. > laravel-wechat \u4ec0\u4e48\u7248\u672c\u3001\n\u5df2\u5728 2019\u5e741\u670831\u65e521:39:51 \u4e0b\u5348\u5c06 \"overtrue/wechat\" \u66f4\u65b0\u81f3\u5f53\u524d\u6700\u65b0 \"4.1.7\"\n\u6b64\u65f6\u9879\u76ee\u4e2d\u7684 \"overtrue/laravel-wechat\" \u7248\u672c\u53f7\u4e3a \"4.0.10\". > @mouyong \u5347\u7ea7 overtrue/laravel-wechat\n@overtrue \u5df2\u4e8e2019\u5e741\u670831\u65e521:49:5\u5347\u7ea7 overtrue/laravel-wechat \u81f3\u6700\u65b0\u7248\u672c \"4.0.22\"\uff0c\u95ee\u9898\u4efb\u7136\u5b58\u5728\u3002\u6211\u770b\u4e86\u4e0b\u7248\u672c\u53f7\u6bd4\u8f83\uff0c\u672a\u53d1\u73b0\u53ef\u80fd\u6d89\u53ca\u7684\u76f8\u5173\u4fee\u590d\u4ee3\u7801\u3002\n\u4e0b\u9762\u662f\u7248\u672c\u6bd4\u8f83\u94fe\u63a5\u3002\nhttps://github.com/overtrue/laravel-wechat/compare/4.0.10...master. > \u6211\u8ba4\u771f\u786e\u8ba4\u4e86\u4e00\u904d\u6e90\u4ee3\u7801\uff0c\u7ed3\u8bba\u662f\uff1a\u4f01\u4e1a\u5fae\u4fe1\u7684\u4e0a\u6b21 API \u6539\u7248\uff0c\u5df2\u7ecf\u5c06\u5e94\u7528\u5b8c\u5168\u9694\u79bb\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u5728\u4f7f\u7528\u8fd9\u4e2a SDK \u7684\u65f6\u5019\uff0c\u4e00\u4e2a\u5e94\u7528\u5c31\u662f\u4e00\u4e2a work application, \u6240\u4ee5\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u5199\u6cd5\u9519\u4e86\uff0c\u5e94\u8be5\u662f\uff1a\n\n```\n'work' => [\n        'agent1' => [\n            'corp_id' => 'xxx',\n            'agent_id' => 'xxx',\n            'secret' => 'xxx',\n            //...\n        ],\n    'agent2' => [\n        'corp_id' => 'xxx2',\n        'agent_id' => 'xxx2',\n        'secret' => 'xxx2',\n        //...\n    ],\n    //...\n],\n\n```\n\u5355\u4e2a\u5e94\u7528\u7684\u53c2\u8003\uff1ahttps://www.easywechat.com/docs/master/wework/index\n\n\u505a\u5982\u4e0b\u66f4\u6539\u540e\u53ef\u4ee5\u8c03\u7528\u6210\u529f \n\n\n\u82e5\u662f\u5982\u6b64\u3002\u6211\u89c9\u5f97\u4ee5\u4e0b\u51e0\u4e2a\u5730\u65b9\u7684\u6587\u6863\u4e0e\u4ee3\u7801\u8c03\u7528\u53ef\u80fd\u9700\u8981\u4f18\u5316\u3002\n\n\u6587\u6863\u7f3a\u5c11\u8fc1\u79fb\u6307\u5f15\u3002\u4e0d\u77e5\u9053\u4ece\u65e7\u7684\u5305\u5347\u7ea7\u5230\u65b0\u7684\u5305\u9700\u8981\u5bf9\u914d\u7f6e\u6587\u4ef6\u505a\u66f4\u6539\u3002\u53ef\u4ee5\u6dfb\u52a0\u5230\u6587\u6863\u4e2d\u4e00\u4e0b\u3002\n\u56e0 agents \u5df2\u7ecf\u88ab\u9694\u79bb\u4e86\u3002\u4e5f\u8bb8\u53ef\u4ee5\u5bf9\u76f8\u5173\u63a5\u53e3\u8fdb\u884c\u4f18\u5316\u3002\u4e0d\u7528\u4f20\u5165\u6307\u5b9a\u7684 agent_id\u3002\u4ece\u7f13\u5b58\u4e2d\u76f4\u63a5\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u7684 agent_id \u5373\u53ef\u3002\n\n\u8fd9\u662f\u4e2a\u4eba\u7684\u4e00\u70b9\u5c0f\u5efa\u8bae\u3002\u56e0\u4e3a\u6280\u672f\u6c34\u5e73\u8fd8\u6ca1\u5230\u4e00\u5b9a\u7a0b\u5ea6\u3002\u4e0d\u77e5\u9053\u600e\u4e48\u66f4\u597d\u7684\u4e3a\u8fd9\u4e2a\u9879\u76ee\u505a\u8d21\u732e\u3002\u6240\u4ee5\u53ea\u80fd\u53e3\u5934\u4e0a\u63d0\u4e0b\u3002\n. @overtrue \u9488\u5bf9\u7b2c\u4e8c\u70b9\u6211\u4e5f\u8fd8\u6ca1\u8fdb\u884c\u6d4b\u8bd5\u662f\u5426\u53ef\u884c\u3002\u5982\u679c\u53ef\u884c\uff0c\u90a3\u4e48\u53c2\u6570 agency_id \u662f\u975e\u5fc5\u586b\u7684\u3002\u53ef\u4ee5\u8fdb\u884c\u4f18\u5316\u4fee\u6539\u3002\n\u7b2c\u4e00\u70b9\u56e0\u4e3a\u9879\u76ee\u672c\u8eab\u5b58\u5728\u5386\u53f2\u6027\uff0c\u4eca\u5929\u624d\u4fee\u590d bug \u3002\u6240\u4ee5\u4e4b\u524d\u9047\u5230\u4e86\u4e5f\u6ca1\u529e\u6cd5\u590d\u73b0\u539f\u56e0\u3002\u5e0c\u671b\u81ea\u5df1\u80fd\u5c3d\u5feb\u63d0\u5347\u6280\u672f\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f00\u5fc3\u7684 pr \u4e86 :(. @overtrue \u4e0d\u53ef\u884c \n\u8fd9\u662f\u76f8\u5173\u62a5\u9519\n\n\u8fd9\u662f\u76f8\u5173\u914d\u7f6e\n\n\u8fd9\u662f\u76f8\u5173\u8c03\u7528\n\n. > @mouyong\n\n\n\u6ca1\u6709\u8fc1\u79fb\u6307\u5f15\u8fd9\u70b9\u786e\u5b9e\u662f\u4e0d\u8db3\uff0c\u8fd9\u5757\u4e4b\u524d\u6ca1\u505a\u7279\u522b\u58f0\u660e\u7684\u539f\u56e0\u662f\u539f\u6765\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u4e00\u76f4\u4e0d\u53ef\u7528\u72b6\u6001\uff0c\u6240\u4ee5\u6ca1\u6709\u4eba\u627e\u8fc7\u6765\u5e94\u8be5\u662f\u6ca1\u6709\u4eba\u5728\u7528\uff0c\u800c\u4e14\u622a\u6b62\u76ee\u524d\u4f60\u662f\u7b2c\u4e00\u4e2a\u627e\u8fc7\u6765\u7684\uff0c\u9664\u4e86 issue \u4f5c\u8005\u3002\n\u8fd9\u53ef\u80fd\u662f\u4f01\u4e1a\u5fae\u4fe1\u63a5\u53e3\u7684\u9505\u4e86\uff0c$app->agent \u6211\u5982\u679c\u6ca1\u8bb0\u9519\u786e\u5b9e\u53ef\u4ee5\u4f20\u5165\u5176\u5b83 agent_id \u5e76\u80fd\u6b63\u786e\u8c03\u7528\uff0c\u6240\u4ee5\u6211\u4fdd\u7559\u4e86\u8fd9\u4e2a\u53c2\u6570\u3002\n\n\n\u4f20\u5165\u5176\u4ed6 agent_id \u65f6\u4f1a\u62a5\u5982\u4e0b\u9519\u8bef,\u6b64\u4e3a issue \u4f5c\u8005\u9047\u5230\u7684\u9519\u8bef\n{\n\"errcode\": 301002,\n\"errmsg\": \"not allow operate another agent with this accesstoken., hint: [1548944715_2_c96559540333466259b5ca66303a4fe4], more info at https://open.work.weixin.qq.com/devtool/query?e=301002\"\n}. ",
    "imsheng": "\u6709\u4eba\u5417\uff1f\u5f88\u6025. \u4f46\u662f\u4e0a\u56fe\u6240\u89c1\uff0c\u53c2\u6570\u4e5f\u6ca1\u4f20\u9519\uff0c\u4ee3\u7801\u4e5f\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u6bcf\u7b2c\u4e00\u6b21\u5c31\u4e0d\u884c\uff0c\u7b2c\u4e8c\u6b21\u53c8\u884c\u4e86\uff0c\n3.0\u4e0d\u662f\u8fd9\u6837\u7684\uff0c\u5347\u4e0a4.0\u5c31\u8fd9\u6837\u7684. ok,\u660e\u5929. decryptData('j6odKy8LALRoFfoYpIi6XQ==', 'N/C6Qoga9RUpDA1N2Cs/Ww==', '5DR9Z1MyffiqtLn7TmCMWixnK4Erw851FsK6Um0lXr91T3419bIGS+3bQWg/pzsgiQI92QuYapNZqY7QQX5MhNJXFAbFnXhXtGALpf6LYJkeNS1OVNrnevtVhPJYQN58SFUvdBimms+0H7TWPcO12rf1tLNOJpD0ETXwfagjUqegJ+vzQzlMqnhqbMjKAGo2DiKMV6XNye9MzlMZFNKjUN2UP9lrZPhwYabdXiOOuyJRFpgw7IXcUEgd9Qiafe5LXyGInyTkV+rPM2oXt/rzUn9xMr0YH5cGfn4n3zvk6OozWxmh87PgYTBDkX07pDgg203pmwqKWmnRlYzfPGYpBQLGwEsmUZqhbydCrVDRxhuKfihxwRxflslbrU4JjhCi8Bkewf1WBl/lPmZ6gRnSaXwvUVzxFnLY0R5MKG/UAIeH+C/u7pez+6EhkyEn8rrtf431+mkYE4LUYPRfcZemk6sq+PmC7IzI49CMc6t8hkE9k858c+FHb7vHMzgZMUkI')\n@overtrue . \u4eca\u5929\u7a81\u7136\u53c8\u6ca1\u95ee\u9898\u4e86. \u67e5\u5230\u95ee\u9898\u4e86\uff0c\u539f\u6765\u662f\u5c0f\u7a0b\u5e8f\u90a3\u8fb9\u51fa\u9519\u4e86\uff0c\u53d6\u7684\u662f\u8fc7\u671f\u6570\u636e\u3002thanks. @mingyoung \u4e0d\u77e5\u9053\uff0c\u53cd\u6b63\u73b0\u5728\u662f\u5148\u767b\u9646\u62ff\u5230code\uff0c\u7136\u540e\u518d\u6388\u6743\u62ff\u7528\u6237\u4fe1\u606f\uff0c\u518d\u89e3\u5bc6\uff0c\u4e4b\u524d\u662f\u76f8\u53cd\u7684\uff0c\u6570\u636e\u662f\u62ff\u5230\u7684\uff0c\u4f46\u89e3\u4e0d\u4e86\u3002. \u770b\u8fc7\uff0c\u5f53\u521d\u8fd8\u4ee5\u4e3a\u8fd9\u4e48\u7b80\u5355\uff0c\u4f46\u5b9e\u9645\u8fd8\u8981\u5176\u4ed6\n`\n...\n        $prepayId = $result['prepay_id'];\n        $jssdk = $payment->jssdk;\n        $json = $jssdk->sdkConfig($prepayId);\n        $jsSdkConfig = $app->jssdk->buildConfig(array('chooseWXPay'), true);\n...\n\n<script>\n    wx.config({% autoescape false %}{{ jsSdkConfig }}{% endautoescape %});\n    wx.ready(function (res) {\n        wx.chooseWXPay({\n.....\n    })\n})\n\n`\n. \u7ba1\u7406\u7c7b\u7f51\u7ad9\u89c4\u6a21\u5de8\u5927\uff0c\u7528\u7684\u662f\u65e7\u7248\u672c\uff0c\u5347\u7ea7\u8017\u65f6\u8017\u529b\uff0c \u4f46\u53c8\u8981\u7528\u5230\u65b0\u529f\u80fd\uff0c\u552f\u6709\u8fd9\u4e2a\u65b9\u6cd5\u591a\u7248\u672c\u540c\u5b58\uff0c\u6162\u6162\u66ff\u6362. \u8fd9\u662f\u4e00\u4e2a\u5f88\u54f2\u5b66\u6027\u7684\u95ee\u9898\uff0c\u4f60\u628a\u5fae\u4fe1\u63a5\u53e3\u5305\u88c5\u8d77\u6765\uff0c\u800c\u6211\u53c8\u628a\u4f60\u7684\u5e93\u5305\u88c5\u8d77\u6765\uff0c\u8bf4\u767d\u5c31\u662f\u518d\u5199\u591a\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u73b0\u5728\u53ea\u80fd\u6309\u4f60\u8bf4\u7684\u90a3\u6837. \u5176\u5b9e\u6309\u6807\u51c6\u4e0d\u4e00\u6837\u533a\u5206\u5305\u662f\u53ef\u4ee5\u7684\uff0c\u4f8b\u5982 Yii1\u548cYii2 \u4e24\u8005\u867d\u7136\u76ee\u7684\u662f\u4e00\u6837\uff0c\u4f46\u7531\u4e0a\u5230\u4e0b\u5df2\u7ecf\u4e0d\u4e00\u6837\u3002\nhttps://github.com/yiisoft. \u7248\u672c\u6982\u5ff5\u53ea\u662f\u4fee\u590dbug\u548c\u65b0\u589e\u529f\u80fd\uff0c\u4f46\u65b0\u65e7\u7248\u672c\u5b8c\u5b8c\u5168\u5168\u4e0d\u4e00\u6837\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u60f3\u4e00\u4e0b\u8981\u4e0d\u8981\u533a\u5206\u4e24\u5305\uff0ceasywechat1,easywechat2.... ",
    "yugihuang": "\u6ca1\u6ce8\u610f\u52304.0.3\u7684\u6587\u6863\u4fee\u6539\u4e86, 4.0.3\u6bcf\u4e2aagent\u9700\u8981\u5355\u72ec\u914d\u7f6e.. ",
    "jianyan74": "\u8bed\u97f3\u56de\u590d\u62a5\u9519\uff0c\u8fd9\u4e2a\u6211\u8bd5\u4e86\u4e00\u4e0b4.0.5\u7684\u8fd8\u662f\u62a5\u9519\u7684. ",
    "oimken": "\u55ef\uff0c\u540e\u6765\u641e\u6e05\u695a\u4e86\uff0c\u803d\u8bef\u4f60\u65f6\u95f4\u4e86\uff0c\u8c22\u8c22\u4f60\u7684Wechat\uff0c\u5f88\u597d\u7528\uff01. ",
    "jiamuc": "\u5947\u602a\uff0c\u53ea\u662f\u67d0\u4e2a\u6d4b\u8bd5\u6a21\u7248\u4f1a\u8fd9\u6837\uff0c\u5176\u4ed6\u6a21\u7248\u4e0d\u4f1a\u91cd\u590d\uff0c\u53ef\u80fd\u662f\u6d4b\u8bd5\u8d26\u53f7\u7684\u95ee\u9898. \u540c\u95ee. ",
    "tangj1992": "\u8c22\u8c22\uff0c\u662f\u6211\u4f7f\u7528\u65b9\u5f0f\u4e0d\u5bf9\uff0c\u73b0\u5728\u83b7\u53d6\u5230\u4e86\u3002\u4e4b\u524d\u4f7f\u7528\u7684\u65f6\u7f51\u9875\u6388\u6743\u6240\u4ee5\u6ca1\u6709\uff0c\u62ff\u5230\u6388\u6743\u540e\u518d\u7528\u7528\u6237openid\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5373\u53ef\u3002. ",
    "GYung": "............... wwwqeq. ",
    "ghostlitao": "\u76ee\u524d\u4fee\u6539\u4e86 overtrue/wechat/src/Kernel/Http/Response.php \u7684\u7b2c72\u884c\u5de6\u53f3\u4e3a:\n$array = json_decode(mb_convert_encoding($content, 'UTF-8', 'UTF-8'), true);\n\u4f46\u662fEmoji\u4f1a\u53d8\u6210 ?????? \n\u6c42\u6559\u8fd8\u6709\u4ec0\u4e48\u597d\u529e\u6cd5\u5417?\n. @zacksleo \u4e0d\u662f\u6570\u636e\u5e93,\u662f\u4ece\u5fae\u4fe1\u63a5\u8fc7\u6765\u7684\u6570\u636e\u89e3\u6790\u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u4e86.. @overtrue  \u53ef\u80fd\u662f \u6574\u4e2a\u7528\u6237\u540d\u90fd\u7528\u8868\u60c5\u7b26\u53f7\u7684\u539f\u56e0? \u6ca1\u5728\u6d4b\u8bd5\u4e86.. ",
    "CaveyChan": "\u6211\u8bf4\u7684\u662f\u5fae\u4fe1\u670d\u52a1\u53f7\u7684\u7535\u5b50\u53d1\u7968\u529f\u80fd\uff0c\u4e0d\u662f\u4f01\u4e1a\u5fae\u4fe1\u7684\u7535\u5b50\u53d1\u7968. ",
    "malphitee": "\u53e6\uff1a\u5f00\u59cb\u6000\u7591\u662flaravel\u7248\u672c\u7684\u95ee\u9898\uff0c\u65b0\u5efa\u4e86\u4e00\u4e2alaravel5.5\u7684\u9879\u76ee\uff0c\u4e5f\u662f\u8fd9\u4e2a\u95ee\u9898. \u62a5\u9519\u4fe1\u606f\uff1a\n```\nFatalThrowableError in InteractsWithCache.php line 68:\nClass 'Symfony\\Component\\Cache\\Simple\\FilesystemCache' not found\nin InteractsWithCache.php line 68\nat AccessToken->createDefaultCache() in InteractsWithCache.php line 46\nat AccessToken->getCache() in AccessToken.php line 98\nat AccessToken->getToken() in AccessToken.php line 204\nat AccessToken->getQuery() in AccessToken.php line 168\nat AccessToken->applyToRequest(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false, 'retries' => '0')) in BaseClient.php line 228\nat BaseClient->EasyWeChat\\Kernel{closure}(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false, 'retries' => '0')) in RetryMiddleware.php line 67\nat RetryMiddleware->__invoke(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false, 'retries' => '0')) in PrepareBodyMiddleware.php line 66\nat PrepareBodyMiddleware->__invoke(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in Middleware.php line 30\nat Middleware::GuzzleHttp{closure}(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in RedirectMiddleware.php line 70\nat RedirectMiddleware->__invoke(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in Middleware.php line 59\nat Middleware::GuzzleHttp{closure}(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in HandlerStack.php line 67\nat HandlerStack->__invoke(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in Client.php line 277\nat Client->transfer(object(Request), array('curl' => array('1'), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false)) in Client.php line 125\nat Client->requestAsync('POST', object(Uri), array('curl' => array('1'), 'query' => array(), 'handler' => object(HandlerStack), 'synchronous' => true, 'timeout' => '5', 'base_uri' => object(Uri), 'allow_redirects' => array('max' => '5', 'protocols' => array('http', 'https'), 'strict' => false, 'referer' => false, 'track_redirects' => false), 'http_errors' => true, 'decode_content' => true, 'verify' => true, 'cookies' => false, '_conditional' => array('User-Agent' => 'GuzzleHttp/6.2.1 curl/7.47.0 PHP/7.0.22-0ubuntu0.16.04.1'))) in Client.php line 131\nat Client->request('POST', 'cgi-bin/message/custom/send', array('curl' => array('1'), 'query' => array(), 'handler' => object(HandlerStack), 'headers' => array('Content-Type' => 'application/json'), 'body' => '{\"msgtype\":\"text\",\"touser\":\"xxxxxxxxxxxxxxx\",\"text\":{\"content\":\"Hello world!\"}}', 'synchronous' => true)) in HasHttpRequests.php line 150\nat BaseClient->performRequest('cgi-bin/message/custom/send', 'POST', array('curl' => array('1'), 'query' => array(), 'handler' => object(HandlerStack), 'headers' => array('Content-Type' => 'application/json'), 'body' => '{\"msgtype\":\"text\",\"touser\":\"xxxxxxxxxxxxxxxxxxxxxx\",\"text\":{\"content\":\"Hello world!\"}}')) in BaseClient.php line 172\nat BaseClient->request('cgi-bin/message/custom/send', 'POST', array('query' => array(), 'json' => array('msgtype' => 'text', 'touser' => 'xxxxxxxxxxxxxxxxxxx', 'text' => array('content' => 'Hello world!')))) in BaseClient.php line 103\nat BaseClient->httpPostJson('cgi-bin/message/custom/send', array('msgtype' => 'text', 'touser' => 'xxxxxxxxxxxxxxxxx', 'text' => array('content' => 'Hello world!'))) in Client.php line 147\nat Client->send(array('msgtype' => 'text', 'touser' => 'xxxxxxxxxxxxxxxxxxxxx', 'text' => array('content' => 'Hello world!'))) in Messenger.php line 148\nat Messenger->send() in MessageController.php line 35\nat MessageController->sendText()\nat call_user_func_array(array(object(MessageController), 'sendText'), array()) in Controller.php line 256\nat Controller->callAction('sendText', array()) in ControllerDispatcher.php line 164\nat ControllerDispatcher->call(object(MessageController), object(Route), 'sendText') in ControllerDispatcher.php line 112\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 139\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 102\nat Pipeline->then(object(Closure)) in ControllerDispatcher.php line 114\nat ControllerDispatcher->callWithinStack(object(MessageController), object(Route), object(Request), 'sendText') in ControllerDispatcher.php line 68\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\MessageController', 'sendText') in Route.php line 203\nat Route->runWithCustomDispatcher(object(Request)) in Route.php line 134\nat Route->run(object(Request)) in Router.php line 708\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 139\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 102\nat Pipeline->then(object(Closure)) in Router.php line 710\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 674\nat Router->dispatchToRoute(object(Request)) in Router.php line 635\nat Router->dispatch(object(Request)) in Kernel.php line 236\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 139\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in VerifyCsrfToken.php line 50\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in ShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in StartSession.php line 62\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in CheckForMaintenanceMode.php line 44\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 124\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 102\nat Pipeline->then(object(Closure)) in Kernel.php line 122\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 87\nat Kernel->handle(object(Request)) in index.php line 53\nat require_once('/data/wx/public/index.php') in index.php line 21\n```. \u5230Symfony\\Component\\Cache\\\u8fd9\u4e00\u5c42\u90fd\u662f\u6709\u7684\uff0c\u6ca1\u6709Simple\u548c\u5b83\u4e0b\u9762\u7684FilesystemCache. name     : symfony/cache\ndescrip. : Symfony implementation of PSR-6\nkeywords : caching, psr6\nversions : * v3.2.14\ntype     : library\nlicense  : MIT License (MIT) (OSI approved) https://spdx.org/licenses/MIT.html#licenseText\nsource   : [git] https://github.com/symfony/cache.git b3245bf59f63852e187e0b296a0300d8671c6ecd\ndist     : [zip] https://api.github.com/repos/symfony/cache/zipball/b3245bf59f63852e187e0b296a0300d8671c6ecd b3245bf59f63852e187e0b296a0300d8671c6ecd\nnames    : symfony/cache, psr/cache-implementation\nautoload\npsr-4\nSymfony\\Component\\Cache\\ => .\nexclude-from-classmap\nrequires\nphp >=5.5.9\npsr/cache ~1.0\npsr/log ~1.0\nrequires (dev)\ncache/integration-tests dev-master\ndoctrine/cache ~1.6\ndoctrine/dbal ~2.4\npredis/predis ~1.0\nsuggests\nsymfony/polyfill-apcu For using ApcuAdapter on HHVM\nprovides\npsr/cache-implementation 1.0\n. \u6211\u770b\u90a3\u4e2acommit\u662f\u628acache\u7248\u672c\u6539\u52303.3\u4e86\uff0c\u521a\u624d\u6211composer update\u4e86\uff0c\u597d\u50cf\u8fd8\u6709\u70b9\u95ee\u9898\nProblem 1\n    - The requested package overtrue/laravel-wechat ~4.0.13 exists as overtrue/laravel-wechat[1.0-alpha, 1.0.0, 1.0.1, 1.0.2, 1.0.3, 2.0.0, 2.0.0-alpha, 2.0.1, 2.0.2, 2.0.3, 2.1.0, 2.1.1, 2.1.2, 3.0, 3.0.1, 3.0.2, 3.0.3, 3.0.4, 3.0.5, 3.0.6, 3.1.0, 3.1.1, 3.1.10, 3.1.2, 3.1.3, 3.1.4, 3.1.5, 3.1.6, 3.1.7, 3.1.8, 3.1.9, 4.0.0, 4.0.1, 4.0.2, 4.0.3, 4.0.4, 4.0.5, 4.0.6, dev-master] but these are rejected by your constraint.\n\u63d0\u793a\u7684\u8fd9\u4e2a. @overtrue \u5e94\u8be5\u662f\u6e90\u7684\u95ee\u9898\uff0c\u6211\u7528\u7684\u4e2d\u56fd\u955c\u50cf http://www.phpcomposer.com/\n\u5e94\u8be5\u7b49\u4e00\u4f1a\u5c31\u597d\u4e86\uff0c\u5f85\u4f1a\u6765\u53cd\u9988\u54c8\uff0c\u8c22\u8c22\u4e24\u4f4d\u5566\uff0c\u53cd\u6620\u597d\u53ca\u65f6 @mingyoung  @overtrue . @overtrue 0.0 \u6709\u4ec0\u4e48\u597d\u7684\u6e90\u63a8\u8350\u5417\uff0c\u8fd8\u662f\u76f4\u63a5\u7528\u5b98\u65b9\u7684\u5c31\u884c\uff1f. @overtrue \u597d\u6ef4\uff0c\u8fd9\u5c31\u6362\u4e0a\uff0c\u5341\u5206\u611f\u8c22\u54c8.  \u4e0d\u597d\u610f\u601d\uff0c\u8fd8\u5f97\u6253\u6270\u4e00\u4e0b\uff0c\u521a\u624d\u6211\u628a\u6e90\u6362\u6210 https://packagist.laravel-china.org \u8fd9\u4e2a\u4e86\uff0ccomposer config -l \u770b\u4e5f\u786e\u5b9e\u662f\u6362\u8fc7\u6765\u4e86\uff0c\u7136\u540e\u6211\u670d\u52a1\u5668\u4e0a\u6267\u884ccomposer clear-cache, update\uff0c\u8fd8\u662f\u63d0\u793a\u6ca1\u6709\u8fd9\u4e2a\u7248\u672c\uff0c\u65e0\u5948\u4e4b\u4e0b\u5230vender/overtrue/wechat\u4e0b\u7684composer.json\u91cc\u624b\u52a8\u5bf9\u7167\u521a\u624d\u7684commit\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u7136\u540e\u7528composer\u5355\u72ec\u66f4\u65b0\u90a3\u4e00\u4e2a\u5305\uff0c\u7ed3\u679c\u597d\u50cf\u4e5f\u6ca1\u53cd\u6620\uff0c\u4e0d\u77e5\u9053\u6709\u4ec0\u4e48\u5bf9\u7b56\u5417. composer \u4e2d\u7684require\u662f\u8fd9\u6837\u7684:    \"overtrue/laravel-wechat\": \"4.0.13\",\nvender/overtrue/wechat\u4e2d\u662f\u8fd9\u6837\u7684 : \n\"symfony/psr-http-message-bridge\": \"^0.3|^1.0\",\n        \"symfony/cache\": \"^3.3|^4.0\",\n        \"easywechat-composer/easywechat-composer\": \"^0.1\". @mingyoung \u4e0d\u884c\u554a\uff0c\u63d0\u793a\n```\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nNothing to install or update\nWriting lock file\nGenerating autoload files\n\nIlluminate\\Foundation\\ComposerScripts::postUpdate\nphp artisan optimize\nGenerating optimized class loader\n\n. Nothing to install or update \u3002\u3002\u3002. \u8bd5\u8fc7\u4e86\u54c7\uff0c\u8fd8\u4e0d\u884c\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nNothing to install or update\nWriting lock file\nGenerating autoload files\n\nIlluminate\\Foundation\\ComposerScripts::postUpdate\nphp artisan optimize\nGenerating optimized class loader\n\n. \u5f00\u59cb\u6211\u4e5f\u4ee5\u4e3a\u662f\u7f13\u5b58\u7684\u95ee\u9898\uff0c\u5c31\u5220\u6389lock\u91cd\u65b0install\uff0c\u540e\u6765\u8fd8composer clear-cache\u8bd5\u4e86\u4e0b\u4e5f\u6ca1\u7528. @overtrue \u8bd5\u4e86\u8fd8\u662f\u4e0d\u884c\u3002\u3002\u3002\"overtrue/laravel-wechat\": \"^4.0\" \u5c31\u53ef\u4ee5\u4e86\u5bf9\u5427. \u6ca1\u66f4\u65b0\u4e0b\u6765\u4e1c\u897f\n. \u670d\u52a1\u5668\u662f\u4e1c\u4eac\u8282\u70b9\uff0c\u5e94\u8be5\u4e0d\u4f1a\u5b58\u5728\u8fd0\u8425\u5546\u7f13\u5b58\u7684\u56e0\u7d20\uff0c\u5427\u3002\u3002. \u3002\u3002\u3002\u6362\u4e86\u5b98\u65b9\u6e90\u5220\u9664composer.lock\u540einstall\u518d\u66f4\u65b0\u8fd8\u662f\u4e0d\u884c\uff0cNothing to install or update.\n[repositories.packagist.org.type] composer\n[repositories.packagist.org.url] https://packagist.org\n[process-timeout] 300\n[use-include-path] false\n. @lyt8384 \u8bd5\u8fc7\u4e86\uff0c\u5728#1108 \u91cc\u6709\u8bb0\u8f7d\uff0c\u5220\u9664lock\u6587\u4ef6\uff0cclear-cache\uff0c\u5220\u9664\u6574\u4e2a\u6587\u4ef6\u5939\uff0c\u6700\u540e\u5220\u9664\u6574\u4e2a\u9879\u76ee\u91cd\u65b0\u7528composer\u88c5\u4e86\u4e00\u4e2a\u518d\u5b89\u88c5\u6269\u5c55\uff0c\u90fd\u62a5\u7684\u662f\u8fd9\u4e2a\u9519. @mingyoung 317126927. \u95ee\u9898\u5df2\u89e3\u51b3\uff0c\u53ef\u80fd\u662f\u6211\u5f00\u53d1\u73af\u5883\u7684\u95ee\u9898\uff0claravel5.1\u4e2d\u5305\u4f9d\u8d56\u6709\u70b9\u95ee\u9898\uff0c\u6362\u62105.5\u5c31\u597d\u4e86\uff0c\u5341\u5206\u611f\u8c22 @mingyoung \u7684\u8010\u5fc3\u89e3\u7b54\uff01. @unizhu \u5e94\u8be5\u53ea\u80fd5.5\u53ca\u4ee5\u4e0a . \u90e8\u5206\u4ee3\u7801\u5982\u4e0b\nclass TulingRobotHandler implements EventHandlerInterface\n    public function handle($message = null)\n    {\n        try {\n        $client = new \\GuzzleHttp\\Client();\n        $api_url = 'http://www.tuling123.com/openapi/api';\n        $api_key = env('TULING_KEY');\n        $params = [\n            'key' => $api_key,\n            'info' => $message['Content'],\n            'userid' => str_replace('_', '', $message['FromUserName'])\n        ];\n\n        $request = $client->request('POST', $api_url, ['json' => $params]);\n\n        $status_code = $request->getStatusCode();\n\n        if (200 === $status_code) {\n            $response_body = $request->getBody()->getContents();\n\n            return $this->process($response_body);\n        } else {\n            return '\u67e5\u8be2\u5931\u8d25!';\n        }\n    } catch (\\Exception $e){\n        \\Log::error($e);\n    }\n\n}\n\nprivate function process($response_body)\n{\n    \\Log::info($response_body);\n    $result = json_decode($response_body);\n    \\Log::info('===========================================');\n    \\Log::info($response_body);\n    \\Log::info('-------------------------------------------');\n    \\Log::info($result);\n    \\Log::info('===========================================');\n    return $response_body;\n}\n\n. Monolog\\Logger.php\n\u7b2c322-330\u884c\n        $record = array(\n            'message' => (string) $message,\n            'context' => $context,\n            'level' => $level,\n            'level_name' => $levelName,\n            'channel' => $this->name,\n            'datetime' => $ts,\n            'extra' => array(),\n        );\n\u5c31\u662f\u56e0\u4e3a\u8fd9\u4e2astring\u5f3a\u8f6c\u3002\u3002. @overtrue \u6211\u4e3b\u8981\u662f\u60f3\u77e5\u9053wechat.log\u8fd9\u4e2a\u8f93\u51fa\u80fd\u4e0d\u80fd\u5173\u6389\uff0c\u4e86\u89e3\u6e05\u695a\u6211\u4f1a\u81ea\u5df1close\uff0c\u8bf7\u4e0d\u8981\u5173\u7684\u8fd9\u4e48\u65e9.\n       /\n         * \u65e5\u5fd7\u914d\u7f6e\n         \n         * level: \u65e5\u5fd7\u7ea7\u522b\uff0c\u53ef\u9009\u4e3a\uff1a\n         *                 debug/info/notice/warning/error/critical/alert/emergency\n         * file\uff1a\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e(\u7edd\u5bf9\u8def\u5f84!!!)\uff0c\u8981\u6c42\u53ef\u5199\u6743\u9650\n         */\n        'log' => [\n            'level' => env('WECHAT_LOG_LEVEL', 'error'),\n            'file' => env('WECHAT_LOG_FILE', storage_path('logs/wechat.log')),\n        ],\n\u53ef\u662f\u6211\u8bbe\u7684\u662ferror\u554a\u3002\u3002\u3002. tail -f app/Http/Controllers/wechat.log \n\u6211\u662f\u7528\u8fd9\u4e2a\u770b\u7684 = = \uff01. \u6211\u8bbf\u95ee\u4e00\u6b21\u5b83\u5c31\u51fa\u4e00\u6761log\uff0c\u6211\u5728\u670d\u52a1\u5668\u4e0a\u770bconfig\u6587\u4ef6\u786e\u5b9e\u5f00\u5173\u662ffalse\uff0c\u7b49\u7ea7\u662fdebug. \u3002\u3002\u597d\u5427\uff0c\u6211\u770b\u5230\u5f53\u503c\u4e3a false \u65f6\uff0c\u6240\u6709\u7684\u65e5\u5fd7\u90fd\u4e0d\u4f1a\u8bb0\u5f55```\u8fd9\u4e00\u53e5\uff0c\u4ee5\u4e3afalse\u4e86\u4f1a\u4e0d\u8bb0\u5f55log\uff0c\u90a3\u6709\u4ec0\u4e48\u529e\u6cd5\u80fd\u4e0d\u8bb0\u5f55log\u4e48. \u662f\u8fd9\u6837\u7684\uff0c\u56e0\u4e3a\u6211vps\u786c\u76d8\u6bd4\u8f83\u5c0f\uff0c\u53ef\u4ee5\u7528\u7684\u7a7a\u95f4\u4e0d\u592a\u591a\uff0c\u603b\u5171\u5c31\u5269\u4e86\u51e0\u767e\u5146\uff0c\u6015\u5176\u4ed6\u5730\u65b9\u5360\u7528\u4e86\u8fd9\u91cc\u8f93\u51fa\u4e0d\u51fa\u6765\uff0c\u51fa\u4ec0\u4e48\u95ee\u9898\uff0c\u9664\u975e\u6bcf\u5929\u624b\u52a8\u5220\u4e4b\u524d\u7684\uff0c\u6240\u4ee5\u60f3\u5f00\u53d1\u9636\u6bb5\u5f00\u7740\uff0c\u5dee\u4e0d\u591a\u4e86\u5c31\u5173\u6389\uff0c\u73b0\u5728\u5199\u8fd9\u4e2a\u7ec3\u624b\u9879\u76ee\u5c31\u6211\u81ea\u5df1\u7528\uff0c\u6b63\u5f0f\u9879\u76ee\u80af\u5b9a\u4e0d\u4f1a\u5173\u7684. \u5982\u679c\u6ca1\u6709\u4e0d\u8f93\u51falog\u7684\u529f\u80fd\u7684\u8bdd\u5c31\u7b97\u4e86\uff0c\u6211\u518d\u4ed4\u7ec6\u770b\u770b\u4f60\u53d1\u7684\u94fe\u63a5\uff0c\u6211\u81ea\u5df1\u7684vps\u4e0d\u884c\u5c31\u5199\u4e2a\u811a\u672c\u6bcf\u5929\u81ea\u52a8\u5220\u524d\u4e00\u5929\u7684\u8bb0\u5f55\u5c31\u884c\u4e86. \u55ef\uff0c\u597d\u7684\uff0c\u6211\u4ed4\u7ec6\u770b\u770b\uff0c\u8c22\u8c22\u5566 . ",
    "xuejieming": "\u6700\u540e\u600e\u89e3\u51b3\u7684. ",
    "xzmshiji": "composer require symfony/cache. ",
    "unizhu": "laravel 5.2\u4e0b\u8fd8\u662f\u6709\u8fd9\u4e2a\u95ee\u9898\u54e6. @malphitee @mingyoung \u90a3\u662f\u4e0d\u662f\u5e94\u8be5README.md\u91cc\u5199\u4e0a\uff0c4.x \u9700\u8981 laravel >= 5.5 ? \n. ",
    "amoydavid": "\u6211\u7684\u610f\u601d\u662f\uff0c\u5982\u679c\u5728\u5b9e\u4f8b\u5316 EasyWechat \u4e4b\u524d\u5c31\u628a\u4e34\u65f6\u6587\u4ef6\u79fb\u8d70\u7684\u8bdd\uff0cEasyWechat \u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u4f1a\u629b\u5f02\u5e38\u51fa\u6765\u3002\u5177\u4f53\u539f\u56e0\u5c31\u662f\u56e0\u4e3a\u5b9e\u4f8b\u5316\u65f6\u5019\u7528\u4e86 $_FILES \u53d8\u91cf\uff0c\u4f46\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u5bf9\u5e94\u7684 tmp_name \u6307\u5411\u7684\u6587\u4ef6\u4e0d\u5b58\u5728\u4e86\u3002\n\u76ee\u524d\u6211\u7684\u505a\u6cd5\u662f\u5728 move_uploaded_file \u4e4b\u540e\u628a $_FILES \u53d8\u91cf\u6e05\u7a7a\u3002. \u6211\u8fd9\u7684\u573a\u666f\uff0c\u4e0a\u4f20\u6587\u4ef6\u5904\u7406\u5b8c\u540e\u53d1\u4e00\u4e2a\u6a21\u7248\u6d88\u606f\u901a\u77e5\u7ed9\u7ba1\u7406\u5458\u3002. \u6587\u4ef6\u5904\u7406\u5b8c\u6bd5\u4e86\uff0c\u518d\u53d1\u901a\u77e5\u3002\u6240\u4ee5\u5c31\u53d1\u73b0\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002. ",
    "clarifysky": "\u597d\u7684\uff0c\u660e\u767d\u4e86\u3002\u6211\u662f\u56e0\u4e3a\u89c9\u5f97\u6846\u67b6\u592a\u7e41\u91cd\uff0c\u6240\u4ee5\u624d\u628a\u5b83\u5355\u62c9\u51fa\u6765\u641e\u4e86\u3002\n\u6240\u4ee5\uff0c\u4e3b\u8981\u95ee\u9898\u8fd8\u662f\u6211\u6ca1\u6709\u7528\u6846\u67b6\uff0c\u6216\u8005\u8bf4\uff0c\u8fd9\u4e2a\u5f02\u5e38\u5904\u7406\u5e94\u8be5\u4ea4\u7531\u8fd9\u4e2a\u5305\u7684\u5de5\u4f5c\u73af\u5883\u5904\u7406\uff0c\u8fd9\u6837\u4f1a\u6bd4\u8f83\u81ea\u7531\u4e00\u70b9\u3002\n\u8c22\u8c22\u3002. ",
    "teamen": "laravel5.4 \u4ee5\u4e0b\u90fd\u4f1a\u6709\u5305\u4f9d\u8d56\u95ee\u9898\u3002. ",
    "dongkaipo": "@mingyoung \u76f8\u5e94\u901f\u5ea6\u5f88\u5feb\u554a\u3002. return $pay->success();\n\u8fd9\u90e8\u5206\u5185\u5bb9\u5efa\u8bae\u53ef\u4ee5\u52a0\u4e00\u4e2a fail \u65b9\u6cd5. ",
    "aprchen": "@overtrue  \u62b1\u6b49,\u662f\u6211\u4f7f\u7528\u6d4b\u8bd5\u63a5\u53e3\u586b\u9519\u6570\u636e\u4e86.... ",
    "xiearthur": "\u6700\u8fd1\u5728\u505a\u5c0f\u7a0b\u5e8f\u7684\u652f\u4ed8\uff0c\u9047\u5230\u4e86\u76f8\u4f3c\u95ee\u9898\u3002\u4f46\u662f\u4e0a\u89e3\u51b3\u65b9\u6848\u8fd8\u4e0d\u884c\uff0c\u63d0\u95ee\u8005\u8fd8\u5728\u5426. \u65e5\u5fd7\uff1a\n[2018-05-13 23:19:45] production.ERROR: Symfony\\Component\\Debug\\Exception\\FatalThrowableError: Call to a member function wx_user() on boolean in /www/sddy/app/Http/Controllers/Api/V3/UserController.php:36\nStack trace:\n0 [internal function]: App\\Http\\Controllers\\Api\\V3\\UserController->pay()\n1 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(55): call_user_func_array(Array, Array)\n2 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\\Routing\\Controller->callAction('pay', Array)\n3 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Route.php(203): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\V3\\UserController), 'pay')\n4 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Route.php(160): Illuminate\\Routing\\Route->runController()\n5 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Router.php(572): Illuminate\\Routing\\Route->run()\n6 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Dingo\\Api\\Http\\Request))\n7 /www/sddy/vendor/dingo/api/src/Http/Middleware/PrepareController.php(45): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Dingo\\Api\\Http\\Request))\n8 /www/sddy/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Dingo\\Api\\Http\\Middleware\\PrepareController->handle(Object(Dingo\\Api\\Http\\Request), Object(Closure))\n9 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Dingo\\Api\\Http\\Request))\n10 /www/sddy/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Dingo\\Api\\Http\\Request))\n11 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Router.php(574): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n12 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Router.php(533): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Dingo\\Api\\Http\\Request))\n13 /www/sddy/vendor/laravel/framework/src/Illuminate/Routing/Router.php(511): Illuminate\\Routing\\Router->dispatchToRoute(Object(Dingo\\Api\\Http\\Request))\n14 /www/sddy/vendor/dingo/api/src/Routing/Adapter/Laravel.php(81): Illuminate\\Routing\\Router->dispatch(Object(Dingo\\Api\\Http\\Request))\n15 /www/sddy/vendor/dingo/api/src/Routing/Router.php(513): Dingo\\Api\\Routing\\Adapter\\Laravel->dispatch(Object(Dingo\\Api\\Http\\Request), 'v1')\n16 /www/sddy/vendor/dingo/api/src/Http/Middleware/Request.php(126): Dingo\\Api\\Routing\\Router->dispatch(Object(Dingo\\Api\\Http\\Request)).",
    "PetersonLian": "\u540c\u95ee\u9898\u3002. \u7ecf\u8fc7\u8fc7\u6211\u521d\u6b65\u7814\u7a76\u3002\u8fd9\u4e2a\u95ee\u9898\u5e94\u8be5\u662f\uff1a\n\"nginx\u5728\u8bb0\u5f55post\u6570\u636e\u65f6 \u4e2d\u6587\u5b57\u7b26\u8f6c\u621016\u8fdb\u5236\u7684\u95ee\u9898\u3002\"\n\u4f46\u5177\u4f53\u5728\u6211\u4eec\u8fd9\u4e2a\u5177\u4f53\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4ec0\u4e48\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\u3002. @lyt8384 @xiearthur \u4f60\u4eec\u5982\u4f55\u89e3\u51b3. ",
    "qq690712575": "\u5341\u5206\u611f\u8c22\uff0c\u6700\u540e\u6211\u8fd8\u662f\u901a\u8fc7\u5b9e\u73b0AccessTokenInterface\u63a5\u53e3\u53bb\u6539\u5199\u6211\u7684\u7a0b\u5e8f\n\n\u53d1\u9001\u81ea\u6211\u7684Sony Xperia\u2122\u667a\u80fd\u624b\u673a\n\n---- \u5f20\u94ed\u9633\u7f16\u5199 ----\nhttps://github.com/overtrue/wechat/blob/cc87a03fd706ba20abbe4142d513b4228851b1c5/src/Kernel/AccessToken.php#L218-L221\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/overtrue/wechat/issues/1145#issuecomment-365267622, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AQ4So-nYecZGs3SQ-AAFTJSefwnm5W_Nks5tUY8ygaJpZM4SDtK7.\n. ",
    "niugengyun": "@overtrue   . \u6211\u662f\u770b\u7740\u5176\u4ed6\u7684\u540d\u5b57\u90fd\u662f\u548c\u63a5\u53e3\u7684\u540d\u5b57\u4e00\u6837\u624d\u8fd9\u4e48\u8d77\u7684. \u770b\u8d85\u54e5\u4e86\u3002\u3002\u3002. @overtrue   \u4f60\u51b3\u5b9a\u5427 \u6211\u7b49\u7740composer update\u5462 \ud83d\ude06. ",
    "summerNazi": "$server->push(function ($message) {\n            Log::info('ticket' . json_encode($message));\n        }, Guard::EVENT_COMPONENT_VERIFY_TICKET);\n    $msg=$server->getMessage();\n    if($msg){\n        if(array_key_exists(\"InfoType\",$msg)){\n            if($msg['InfoType'] == 'component_verify_ticket'){\n                return $server->serve();\n            }else{\n                return header(\"Location:http://xxx\");\n            }\n        }else{\n            return header(\"Location:http://xxx\");\n        }\n    }else{\n        return header(\"Location:http://xxx\");\n    }. \u73b0\u5728EVENT_COMPONENT_VERIFY_TICKET \u63a5\u4e0d\u5230\u4e86.\n",
    "hachi-zzq": "EasyWechat \u4f9d\u8d56 overtrue/socialite \u5305\uff0c\u5728 overtrue/socialite \u662f\u6709\u5173\u4f01\u4e1a\u53f7\u7f51\u9875\u6388\u6743\u7684 API \u7684\u3002\nPHP\n$work->oauth->setAgentId('agentid')->detailed()->stateless()->user();\n\u4f01\u4e1a\u53f7\u6587\u6863\u8fd8\u4e0d\u662f\u5f88\u5168\u9762\uff0c\u8fd8\u9700\u591a\u591a\u9605\u8bfb\u6e90\u7801\u3002. \u4f01\u4e1a\u5fae\u4fe1\u7684\u7ea2\u5305\u76ee\u524d\u8fd8\u6ca1\u6709\uff0c\u4f60\u53ef\u4ee5\u81ea\u5df1\u8bd5\u7740\u4f9d\u8d56 EasyWechat \u65b0\u5efa\u4e00\u4e2a\u81ea\u5df1\u7684\u5305\uff0c\u5728\u91cc\u9762\u5199\u7ea2\u5305\u7684\u903b\u8f91\u3002. \u4e3a\u5565\u68c0\u67e5\u8fc7\u4e0d\u53bb\u54c8\uff1f. \u672c\u5730\u73af\u5883 PHP 7.2.0RC6 \u6d4b\u8bd5\u901a\u8fc7\uff0c\u6ca1\u6709\u95ee\u9898\u3002. \u662f\u7684\uff0c\u53ea\u8981\u4e0d\u662f\u592a\u666e\u904d\uff0c\u4e0d\u5bb9\u6613\u88ab\u5176\u4ed6\u8fdb\u7a0b\u5360\u7528\u90fd\u53ef\u4ee5\u3002. ",
    "web0376": "\u4f01\u4e1a\u5fae\u4fe1\u7684\u6d88\u606f\u63a8\u9001  \u662f\u600e\u4e48\u8c03\u7528\u7684\u5462\uff0c\u6c42\u6559  @Insua . \u8c22\u8c22\u4e86. ",
    "fossabot": "Your license scan is passing -- congrats!\nYour badge status is now updated and ready to merge:\n. ",
    "allen-hxn": "@tianyong90 \u6211\u660e\u767d\u8fd9\u4e2abridgeConfig\uff08$prepayId, true\uff09\u65b9\u6cd5\u8fd4\u56de\u7684\u662fjson\u5b57\u7b26\u4e32\uff0cbridgeConfig\uff08$prepayId, false\uff09\u8fd4\u56de\u7684\u662f\u6570\u7ec4\u3002\u6211\u4e0d\u660e\u767d\u7684\u662f\uff0c\u5728WeixinJSBridge.invoke\u90a3\u91cc\uff0c\u5fae\u4fe1\u5b98\u65b9\u6587\u6863\u7ed9\u7684\u793a\u4f8b\u662f\u4e2ajson\u5bf9\u8c61\uff0c\u4f46\u662feasywechat\u6587\u6863\u4e0a\u662f\u76f4\u63a5\u7528\u7684\u5b57\u7b26\u4e32\u554a\uff0c\u8fd9\u662f\u6211\u7406\u89e3\u9519\u4e86\u8fd8\u662f\u3002\u3002\uff1f\n\u53e6\u5916\u4f60\u8bf4\u8fd9\u4e2aappId\u957f\u5ea6\u662f\u4e0d\u591f\uff0c\u662f\u56e0\u4e3a\u9690\u79c1\u539f\u56e0\uff0c\u53bb\u6389\u4e86\u540e\u9762\u7684\u3002. @overtrue \u597d\u7684\u3002\u518d\u95ee\u4e0b\uff0c\u652f\u4ed8\u8fd4\u56deget_brand_wcpay_request:fail\uff0c\u4e00\u822c\u662f\u5565\u95ee\u9898\u5bfc\u81f4\u7684\u5440\uff1f\u6211\u662f\u6309\u7167\u4f60\u7684\u6587\u6863\u6765\u751f\u6210JS\u914d\u7f6e\u4e32\u7684\u3002. ",
    "wwwhq199": "\u4f60\u662f\u73b0\u5728\u5185\u7f51\u8fd8\u662f\u5916\u7f51\u83b7\u53d6\u652f\u4ed8\u53c2\u6570\u7684\u5462\uff0c\u5982\u679c\u662f\u5185\u7f51\u9700\u8981\u6ce8\u610f\u4e0bip\u5730\u5740. ",
    "haobingwang": "\u4f7f\u7528\u5fae\u4fe1\u7684\u6c99\u7bb1\uff0c\u4e00\u76f4\u5361\u5728 \u2018\u8c03\u7528\u652f\u4ed8JSAPI\u7f3a\u5c11\u53c2\u6570:total_fee\u2019\uff0cip \u7528\u7684 ip.cn \u770b\u5230\u7684\u516c\u7f51ip\uff0c\u5fae\u4fe1\u652f\u4ed8\u771f\u6ca1\u6709\u652f\u4ed8\u5b9d\u7701\u5fc3. ",
    "Jasongzj": "@overtrue \u9ed8\u8ba4\u83b7\u53d6\u7684sub_appid\u4e3anull\u3002\u4f46\u662f\u7528\u7684\u670d\u52a1\u5546\u6a21\u5f0f\uff0c\u8bbe\u7f6e\u4ee5\u540e\u5c31\u4f1a\u7ed9sub_appid\u8d4b\u503c\n $app->setSubMerchant(config('WeChatPay.sub_mch_id'), config('WeChatPay.sub_appid'));\n\u540e\u9762\u8bf7\u6c42\u83b7\u53d6\u5230\u7684sub_appid\u4e0d\u4e3anull. @overtrue \u662f\u7684\uff0c\u4f20\u8fd9\u4e2a\u53c2\u6570\u7684\u8bdd\u4f1a\u62a5\u7b7e\u540d\u9519\u8bef\u3002. ",
    "RealZark": "\u73b0\u5728\u6211\u628a $message \u4f20\u5165 EasyWeChat\\Kernel\\Messages\\News \u5b9e\u4f8b\u5316\u4e4b\u540e\uff0c\u518d\u4f20\u7ed9 message \u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86\uff1a\n```\nuse EasyWeChat\\Kernel\\Messages\\News;\n$news = new News($message);\n$app->customer_service->message($message)->to($openid)->send();\n```\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e86\uff01\u88ab\u6587\u6863\u7ed9\u8bef\u5bfc\u4e86\u3002. ",
    "YingQuan-han": "\u6709\u4f7f\u7528\u5230\u5fae\u4fe1\u516c\u4f17\u53f7H5\u652f\u4ed8\u8d76\u7d27\u4fee\u6539\nwechat/src/Payment/Jssdk/Client.php \u7b2c70\u300171\u884c \u6ce8\u91ca. @tianyong90  $payment = app(\"wechat.payment\");\n        //\u7edf\u4e00\u4e0b\u5355\n        $unify = $payment->order->unify($params);\n    if ($unify[\"return_code\"] != \"SUCCESS\" || $unify[\"return_code\"] != \"SUCCESS\"){\n        throw new \\Exception(\"\u5fae\u4fe1\u7edf\u4e00\u4e0b\u5355\u5931\u8d25: \".$unify[\"return_msg\"]);\n    }\n\n    //\u751f\u6210jssdk\u914d\u7f6e\n    $config = $payment->jssdk->sdkConfig($unify[\"prepay_id\"]);\n\n\n. tianyong90 \u4f60\u6709\u5199\u652f\u4ed8\u53ef\u4ee5\u81ea\u5df1\u8bd5\u4e00\u4e0b. @mingyoung  \u4e5f\u662f\u54e6. ",
    "saybye720": "\u76f8\u5173\u4ee3\u7801\u6587\u6863\u5df2\u63d0\u4ea4\u5230 EasyWeChat/docs. ",
    "baiban1993": "\u4e0d\u597d\u610f\u601d\uff0c\u53d1\u73b0\u662f\u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e\u51fa\u4e86\u95ee\u9898\u3002\u5df2\u7ecf\u6b63\u5e38\u4e86\uff0c\u611f\u8c22\u3002. ",
    "caikeal": "\u590d\u7528\u516c\u4f17\u53f7\u4e3b\u4f53\u5feb\u901f\u6ce8\u518c\u5c0f\u7a0b\u5e8f:https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=21521706765hLoMO&token=&lang=zh_CN\n\u5c0f\u7a0b\u5e8f\u7ba1\u7406\u6743\u9650\u96c6:https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1513255108_gFkRI&token=&lang=zh_CN\n@mingyoung . @mingyoung \u6211\u6bcf\u4e2a\u90fd\u8c03\u7528\u8fc7\uff0c\u6ca1\u95ee\u9898. \u6211\u91cd\u65b0\u5199\u4e86\u4e0b\u91cc\u9762\u7684\u65b9\u6cd5 @mingyoung . \u4ee3\u516c\u4f17\u53f7\u5b9e\u73b0\u7684\u4e1a\u52a1\uff0c\u63a5\u53e3\u8981\u6c42\u6709\u516c\u4f17\u53f7\u7684appid\uff0c\u76f4\u63a5\u653e\u5728\u5f00\u653e\u5e73\u53f0\u4e0b\u4e0d\u592a\u5408\u9002\u3002\n\u6362\u4e2a\u65b9\u6cd5\u540d\u66f4\u8d34\u5207 : ). \u8fd9\u4e2a\u662f\u516c\u4f17\u53f7\u5feb\u901f\u6ce8\u518c\u5c0f\u7a0b\u5e8f\uff0c\u53ea\u80fd\u516c\u4f17\u53f7\u8c03\u7528 @mingyoung \n. ",
    "dudashuang": "@caikeal \u5728\u8c03\u7528 $openPlatform->officialAccount()->account->getFastRegistrationUrl()\u65f6\u6b63\u5e38\n\u5728\u8c03\u7528 $openPlatform->officialAccount()->account->register($ticket)\u65f6\u4e00\u76f4\u8fd4\u56de\n{\"errcode\":-1,\"errmsg\":\"system error hint: [YSwOGa05001960]\"}. - php: 7.0\n- wechat: 4.0.36. @11Zero $this->getCache \u4e00\u76f4\u8fd4\u56de\u7a7a\u5927\u6982\u7387\u662f/tmp/symfony-cache\u4e2d\u7684\u6587\u4ef6\u6743\u9650\u4e0d\u5bf9\u3002\u5e94\u5f53\u907f\u514d\u7528\u4e0d\u540c\u7528\u6237\u53bb\u8c03\u7528 easywechat \u7684\u63a5\u53e3\u3002\u5b98\u65b9\u5df2\u7ecf\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u7528\u6700\u65b0\u7248\u672c\u7684\u4ee3\u7801\u3002\u5f53\u7f13\u5b58\u63d2\u5165\u5931\u8d25\u65f6\u4f1a\u76f4\u63a5\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u4e0d\u4f1a\u8ba9\u4f60\u5728\u65e0\u611f\u77e5\u7684\u60c5\u51b5\u4e0b\u4e00\u76f4\u5237\u65b0 access_token. \u76ee\u524d\u7b2c\u4e09\u65b9\u5e73\u53f0\u7684\u63a5\u53e3\u90fd\u662f\u6302\u5728 OpenPlatform/Application \u4e0a. @mingyoung \ud83d\udc4c. @mingyoung \u5df2\u66f4\u540d. \ud83d\udc4c. ",
    "jacobcyl": "\u91cd\u73b0\u65b9\u6cd5\uff1a\u914d\u7f6e\u6587\u4ef6 wechat.php \u4e2d\u8bbe\u7f6e 'response_type' => 'object'\u65f6\n\u6bd4\u5982\u6c99\u7bb1\u6a21\u5f0f\u4e0b\u8bf7\u6c42 API key\uff0c\u7a0b\u5e8f\u8fd0\u884c\u8def\u5f84\u4e3a\uff1a\n// src/Payment/Kernel/BaseClient.php : 86\nreturn $returnResponse ? $response : $this->castResponseToType($response, $this->app->config->get('response_type'));\n// \u5176\u4e2d $this->castResponseToType() \u65b9\u6cd5\u4f1a\u6839\u636e config/wechat.php \u4e2d\u8bbe\u7f6e\u7684 \u8fd4\u56de\u683c\u5f0f\u6765\u8f6c\u6362\uff0c\u5982\u679c\u662f 'object' \u5c31\u4f1a\u8df3\u5230:\n//  src/Kernel/Http/Response.php \uff1a99 \u7684 toObject() \u51fd\u6570\uff1a\npublic function toObject()\n{\n    return json_decode($this->getBodyContents());\n}\n// $this->getBodyContents() \u5728\u5fae\u4fe1\u652f\u4ed8\u4e2d\u8fd4\u56de\u7684 XML\u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u8fd9\u91cc\u65e0\u6cd5\u76f4\u63a5\u8f6c\u6362\uff0c \u4f1a\u8fd4\u56de\u7a7a\u767d\u5185\u5bb9\u3002\n\n\u53e6\u5916 \u6c99\u7bb1\u6a21\u5f0f\u4e2d\u83b7\u53d6 API \u5bc6\u94a5 \uff0c\u6211\u770b\u662f\u5148\u8bfb\u53d6\u7f13\u5b58\uff0c\u5982\u679c\u7f13\u5b58\u6ca1\u6709\u5c31\u76f4\u63a5\u53bb\uff08https://api.mch.weixin.qq.com/sandboxnew/pay/getsignkey\uff09\u83b7\u53d6 \u5bc6\u94a5\u3002\u5047\u8bbe\u83b7\u53d6\u5230\u4e86\uff0c\u4f1a\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u3002\u4f46\u662f\u95ee\u9898\u662f\u4e0b\u6b21\u518d\u6b21\u8bbf\u95ee\uff0c\u56e0\u4e3a API \u5bc6\u94a5\u662f\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u7684\uff0c\u4f7f\u7528\u8fd9\u4e2a\u5bc6\u94a5\u518d\u7edf\u4e00\u4e0b\u5355\u7684\u8bdd\uff0c\u4f1a\u56e0\u4e3a \u6b64\u65f6\u7684 nonce_str \u5df2\u7ecf\u53d8\u4e86\uff0c\u5374\u8fd8\u7528\u4e86\u7f13\u5b58\u7684API\u5bc6\u94a5\uff0c\u4ece\u800c\u5bfc\u81f4\u6c99\u7bb1\u6a21\u5f0f\u4e0b\u7edf\u4e00\u4e0b\u5355\u8dd1\u51fa \u5bc6\u94a5\u9519\u8bef\u7684 \u4fe1\u606f\u3002\u8fd9\u91cc\u662f\u4e0d\u662f\u4e0d\u5e94\u8be5\u7f13\u5b58API\u5bc6\u94a5\uff1f\u56e0\u4e3a\u6bcf\u6b21\u8bf7\u6c42 nonce_str \u90fd\u662f\u4e0d\u4e00\u6837\u7684\u3002. @overtrue \u8c03\u8bd5\u4e86\u51e0\u6b21\uff0c\u8fd9\u91cc\u5e94\u8be5\u662f\u903b\u8f91\u9700\u8981\u4fee\u6539\u4e00\u4e0b\u3002. src/Payment/Sandbox/Client.php \u8fd9\u91cc\u8fd8\u6709\u95ee\u9898\uff0c\u5982\u679c\u7528\u4e86 'response_type' => 'object' \u65f6\n```\n    public function getKey(): string\n    {\n        if ($cache = $this->getCache()->get($this->getCacheKey())) {\n            // return $cache;\n        }\n\n    $response = $this->request('sandboxnew/pay/getsignkey');\n\n    // \u8fd9\u91cc\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a$response \u662fobject\uff0c\u8fd8\u4f1a\u62a5\uff1aCannot use object of type stdClass as array \u7c7b\u578b\u9519\u8bef\uff0c\u4f30\u8ba1\u5176\u4ed6\u5730\u65b9\u53ef\u80fd\u4e5f\u6709\u3002\n    if ('SUCCESS' === $response['return_code']) {\n        $this->getCache()->set($this->getCacheKey(), $key = $response['sandbox_signkey'], 24 * 3600);\n\n        return $key;\n    }\n\n    throw new SandboxException($response['return_msg']);\n}\n\n```. ",
    "wang199296": "\u4ee5\u524d\u6211\u4f7f\u7528\u76843.0 \u662f\u6539\u5199\u4e86token\u751f\u6210\u7684\u5730\u65b9\uff0c \u73b0\u57284.0\u627e\u4e86\u597d\u957f\u65f6\u95f4\u6ca1\u627e\u5230\uff0c\u4e0d\u77e5\u9053\u6211\u5e94\u8be5\u600e\u4e48\u6539\uff1f. \u5f88\u62b1\u6b49\uff0c\u6211\u6ca1\u6709\u8868\u8fbe\u6e05\u695a\n\u573a\u666f\u662f\u8fd9\u6837\u7684\uff0c \u6211\u4eec\u6709\u4e00\u5957\u81ea\u5df1\u7684\u751f\u6210token\u7684\u903b\u8f91\uff0c\u5b58\u5165redis\u4e2d\uff0c\u65b9\u4fbf\u591a\u53f0\u670d\u52a1\u5668\u7edf\u4e00\u4f7f\u7528\uff0c  \u6bd4\u5982\u53d1\u9001\u6a21\u677f\u6d88\u606f\uff0c\u751f\u6210\u4e8c\u7ef4\u7801\u7b49\n\u6211\u4eec\u4e5f\u5f15\u5165\u4e86easywechat\u8fdb\u884c\u4f7f\u7528\n\u95ee\u9898\u5728\u8fd9\uff0c  \u6bd4\u5982\u6211\u751f\u6210\u4e86\u4e00\u4e2atoken\uff0c\u8bbe\u7f6e\u4e862\u5c0f\u65f6\uff0c \u5df2\u7ecf\u5b58\u5165\u7f13\u5b58\uff0c\u4f46\u662feasywechat\u5728\u8fdb\u884c\u83b7\u53d6jssdk\u7684\u65f6\u5019\u53c8\u751f\u6210\u4e86\u4e00\u6b21\uff0c\u5bfc\u81f4\u6211\u4eec\u751f\u6210\u7684\u90a3\u4e2atoken\u5931\u6548\u4e86\uff0c\u800c\u6211\u4eec\u7684\u53d1\u9001\u6a21\u677f\u6d88\u606f\u8fd9\u4e9b\u8fd8\u5728\u4f7f\u7528\u8fd9\u4e2a\u4ee5\u524d\u7684token\uff0c  \u6211\u4eec\u5f53\u65f6\u88ab\u8fd9\u4e2a\u95ee\u9898\u56f0\u6270\u4e86\u5f88\u4e45\u90fd\u6ca1\u6709\u53d1\u73b0\uff0c\u540e\u6765\u68c0\u67e5\u4e00\u4e0beasywechat\u624d\u53d1\u73b0\u8fd9\u4e2a\u95ee\u9898\u3002\n\u53ea\u662f\u5efa\u8bae\u63d0\u9192\u7528\u6237\u4e00\u4e0b~. \u8fd9\u662f3.0\u7684\u7248\u672c\u7684\u4ee3\u7801\n\n\n. \n\n\u6211\u4eec\u6ca1\u6709\u7528\u4f60\u7684\u751f\u6210token  \u6211\u4eec\u81ea\u5df1\u5199\u4e86\u4e00\u4e2atoken\uff0c\u6240\u4ee5\u624d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898. \u6069\u6069\uff0c\u6211\u5c31\u662f\u5efa\u8bae\u4e00\u4e0b\uff0c  \u6211\u4eec\u5c5e\u4e8e\u5148\u5f00\u53d1\u7684\u5fae\u4fe1\u76f8\u5173\u7684\u63a5\u53e3\uff0c\u540e\u6765\u624d\u5f15\u5165easywechat \n\u65b9\u4fbf\u628a\u5728\u5916\u90e8\u5982\u4f55\u4f7f\u7528token\u548c\u5982\u4f55\u8bbe\u7f6e\u4e3aredis\u5b58\u50a8\u53d1\u4e00\u4e0b\u5417\uff1f. \u8c22\u8c22. ",
    "hick": "\u62b1\u6b49\u5220\u6389\u524d\u9762\u7684\u8bc4\u8bba, \u770b\u8d70\u773c\u4e86,  \u4ee5\u4e3a\u662f\u5728 \u81ea\u5b9a\u4e49 -> access_token \u73af\u8282\u8bb2\u7684, \u6ca1\u6ce8\u610f\u5bfc\u822a\u680f\u6709 \u81ea\u5b9a\u4e49 -> \u7f13\u5b58 \u8fd9\u4e2a,  \u662f\u5728\u540e\u8005\u8fd9\u91cc\u8bf4\u7684.. ",
    "fulin0532": "\u9047\u5230\u76f8\u540c\u7684\u60c5\u51b5. @wang199296    \u600e\u4e48\u89e3\u51b3\u7684\uff1f. ",
    "tq102412": "\u63a5\u53e3\u5730\u5740\u5728\uff1ahttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1451025283 \uff0c\u662f\u5c5e\u4e8e\u201c\u4e00\u952e\u6fc0\u6d3b\u201d\u7684\u4e00\u4e2a\u5206\u652f \u201c\u8df3\u8f6c\u578b\u4e00\u952e\u6fc0\u6d3b\u201d\u4e0b\u7684\u201c\u83b7\u53d6\u7528\u6237\u63d0\u4ea4\u8d44\u6599\u201d\u91cc\u9762\u7684\u3002. \u611f\u8c22\u4f5c\u8005\u7684\u56de\u590d\uff01\u6211\u53c2\u8003\u89c6\u9891\u6559\u7a0b\u81ea\u5df1\u5b9e\u73b0\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u7136\u800c\u6211\u53d1\u73b0\u8fd9\u5e76\u4e0d\u80fd\u8fbe\u5230\u6211\u6240\u60f3\u8981\u7684\u7ed3\u679c\uff0c\u56e0\u4e3a\u63a5\u53e3\uff1a\nhttp\u8bf7\u6c42\u65b9\u5f0f: POST\uff08\u8bf7\u4f7f\u7528https\u534f\u8bae\uff09\nhttps:// api.weixin.qq.com /cgi-bin/component/api_authorizer_token?component_access_token=xxxxx\n\u7684\u8fd4\u56de\u503c\uff1a\n{\n\"authorizer_access_token\": \"aaUl5s6kAByLwgV0BhXNuIFFUqfrR8vTATsoSHukcIGqJgrc4KmMJ-JlKoC_-NKCLBvuU1cWPv4vDcLN8Z0pn5I45mpATruU0b51hzeT1f8\", \n\"expires_in\": 7200, \n\"authorizer_refresh_token\":\n\"BstnRqgTJBXb9N2aJq6L5hzfJwP406tpfahQeLNxX0w\"\n}\n\u5e76\u6ca1\u6709\u6388\u6743\u516c\u4f17\u53f7\u7684\u6807\u8bc6\uff0c\u5b58\u50a8\u7684\u65f6\u5019\u5e76\u4e0d\u80fd\u5bf9\u5e94\u5230\u76f8\u5e94\u7684\u516c\u4f17\u53f7\u4e0a\u9762\u53bb\u3002\n \u5efa\u8bae \n\u7531\u4e8e\u5f00\u653e\u5e73\u53f0\u5e26\u516c\u4f17\u53f7\u5b9e\u73b0\u4e1a\u52a1\u7684\u903b\u8f91\u4e2d\uff0c\u73b0\u5728\u7531\u4e8e\u6240\u6709\u7684authorizer_refresh_token\u90fd\u5fc5\u987b\u901a\u8fc7\u83b7\u53d6\u6388\u6743\u65b9\u6388\u6743\u4fe1\u606f\u83b7\u53d6\uff0c\u5bfc\u81f4\u6240\u6709\u7684\u63a5\u53e3\u4f7f\u7528\u4e4b\u524d\u90fd\u9700\u8981\u8c03\u7528\u8fd9\u4e2a\u63a5\u53e3\u6765\u83b7\u53d6authorizer_refresh_token\uff0c\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u8d44\u6e90\u6d6a\u8d39\uff0c\u8fd9\u4e2a\u5730\u65b9\u5b98\u65b9\u7684\u5efa\u8bae\u662f\u6388\u6743\u8fc7\u6765\u7684\u65f6\u5019\u7528\u6237\u901a\u8fc7\u9884\u6388\u6743\u7801\u83b7\u53d6\u4e86authorizer_refresh_token\u8fc7\u540e\u5c31\u4fdd\u5b58\u4e0b\u6765\u7136\u540e\u4f7f\u7528\u5237\u65b0authorizer_access_token\u4e4b\u540e\u8fdb\u884c\u66ff\u6362\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65f6\u5019authorizer_refresh_token\u624d\u4f1a\u8fc7\u671f\u3002\u6240\u4ee5\u6211\u5efa\u8bae\uff1a\n- \u89e3\u51b3\u65b9\u68481\uff1a\u8fd9\u4e2a\u5730\u65b9\u80fd\u4e0d\u80fd\u5728\u8bf7\u6c42\u63a5\u53e3\u5b8c\u6210\u540e\u653e\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u4e2d\u4f20\u5165\u8bf7\u6c42\u7684\u53c2\u6570\u548c\u8fd4\u56de\u7684\u53c2\u6570\uff0c\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u81ea\u884c\u89e3\u51b3\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\n- \u89e3\u51b3\u65b9\u68482\uff1a sdk\u76f4\u63a5\u5b89\u88c5\u5b98\u65b9\u63a8\u8350\u7684\u76f4\u63a5\u5904\u7406\u9884\u6388\u6743\u7801\u7684\u65f6\u5019\u5c31\u7f13\u5b58\u4e0b\u6765authorizer_refresh_token\u7136\u540e\u5728\u540e\u7eed\u7684\u5237\u65b0authorizer_access_token\u64cd\u4f5c\u4e2d\u81ea\u52a8\u5b8c\u6210authorizer_refresh_token\u7684\u66ff\u6362\u3002\n\u5f00\u653e\u5e73\u53f0\u53c2\u8003\u6587\u6863. @mingyoung \u5e2e\u5fd9\u770b\u770b\uff1f. @mingyoung \u4e0d\u662f\u7684\uff0c\u662f\u628aauthorizer_refresh_token\u7f13\u5b58\u4e0b\u6765\uff0c\u56e0\u4e3a\u53ea\u6709\u5728\u4f7f\u7528authorizer_refresh_token\u5237\u65b0\u4ee4\u724c\u5bf9authorizer_access_token\u5237\u65b0\u7684\u65f6\u5019authorizer_refresh_token\u624d\u4f1a\u6539\u53d8\uff0c\u53ef\u4ee5\u5728\u5904\u7406\u9884\u6388\u6743\u7801\u628a\u4ed6\u7f13\u5b58\u4e0b\u6765\u7136\u540e\u540e\u9762\u5237\u65b0authorizer_access_token\u7684\u65f6\u5019\u5bf9authorizer_refresh_token\u66f4\u65b0. @mingyoung \u662f\u7684\uff0c\u5237\u65b0authorizer_access_token\u7684\u65f6\u5019\u540c\u65f6\u4f1a\u8fd4\u56de\u65b0\u7684authorizer_refresh_token\uff0c\u6211\u5efa\u8bae\u53ef\u4ee5\u5728\u5173\u952e\u4f4d\u7f6e\u653e\u7f6e\u4e00\u4e9b\u4e8b\u4ef6\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\u5904\u7406\u4e00\u4e9b\u4e1a\u52a1\u903b\u8f91\u4ee5\u5e94\u5bf9\u4ea7\u54c1\u5343\u5947\u767e\u602a\u7684\u9700\u6c42\u3002. \u91cd\u65b0\u6388\u6743\u4f1a\u53d8\uff0c\u5237\u65b0\u7684\u65f6\u5019\u4e5f\u4f1a\u7684. \u4eca\u65e9\u7279\u610f\u6d4b\u8bd5\u4e86\u4e00\u6b21\uff0c\u8c03\u7528\u5237\u65b0\u7684\u65f6\u5019\u786e\u5b9e\u6ca1\u6709\u53d8\uff0c\u53ef\u80fd\u662f\u6211\u4e00\u76f4\u4ee5\u6765\u7684\u7406\u89e3\u662f\u9519\u8bef\u7684\u3002\u90a3\u8fd9\u4e2a\u5730\u65b9\u6211\u53ef\u4ee5\u81ea\u5df1\u5904\u7406\u4e86\uff0c\u9884\u6388\u6743\u7684\u65f6\u5019\u6211\u5b58\u4e0b\u6765\u540e\u9762\u81ea\u5df1\u53d6\u51fa\u6765\u4f20\u5230sdk\u91cc\u9762\u53ef\u4ee5\u4e86\uff0c\u8c22\u8c22\u3002. ",
    "yao1yao": "\u6211\u628a\u8fd4\u56de\u7684\u6570\u636e\u4fdd\u5b58\u5230\u4e86\u6570\u636e\u5e93\uff0c\u4e0a\u4e0b\u662f\u6b63\u5e38\u7684\u8fd4\u56de\u6570\u636e\uff0c\u4e2d\u95f4\u662f\u8bbe\u5907\u63a8\u9001\u4e0a\u6765\u7684\u6570\u636e\n\n. ",
    "gbkus123": "\u66f4\u65b0\n\u6211\u5bf9 openPlatform \u548c officialAccount \u90fd\u914d\u7f6e\u4e86redis\u7f13\u5b58  \n\u4f46\u662f \u4f9d\u7136\u6709 token \u5b58\u5728\u6587\u4ef6\u4e2d \u800c\u8fd9\u548c\u8d1f\u8f7d\u5747\u8861\u4e00\u8d77 \u80af\u5b9a\u4f1a\u51fa\u95ee\u9898\u5427  \n\u6240\u4ee5\u6211\u60f3\u95ee\u95ee \u9488\u5bf9\u5f00\u653e\u5e73\u53f0 \u548c oauth \u7684 token \u7f13\u5b58\u5230\u5e95\u600e\u4e48\u914d\u7f6e \nredis \u7f13\u5b58\u914d\u7f6e\u5982\u4e0b \n```\n  public static function getDefaultWxAccount()\n    {\n        $open = Factory::openPlatform(OpenWechatProperty::getDefault()); \n       $openPlatform['cache'] = OpenWechatProperty::getMyCache();\n        list($appid,$reToken) = OpenWechatProperty::getAuthorizedDefault();\n        $app = $open->officialAccount($appid,$reToken);\n        $app['cache']= OpenWechatProperty::getMyCache();\n        return $app;\n}\n\npublic static function getDefault()\n    {\n    $predis = app('redis')->connection('default')->client(); // connection($name), $name \u9ed8\u8ba4\u4e3a `default`\n    $cache = new RedisCache($predis);\n    return [\n        'app_id' => self::$app_id = env('APP_ID'),\n        'secret' => self::$secret = env('SECRET'),\n        'token' => self::$token = env('TOKEN'),\n        'aes_key' => self::$aes_key = env('AES_KEY'),\n        'cache' => $cache,\n    ];\n\n\n}\n\npublic static function getMyCache()\n    {\n        $predis = app('redis')->connection('default')->client(); // connection($name), $name \u9ed8\u8ba4\u4e3a default\n        return $cache = new RedisCache($predis);\n}\n\n```.  \u8001\u54e5  \u8fd9\u4e2a\u662f\u653e\u5728 openplatform  \u8fd8\u662f  officialAccount  \u4e4b\u540e\u7684\u914d\u7f6e  \u5c31\u662f \u662f$openplatform['http'] = ['retries' => 0]; \u8fd8\u662f  $officialAccountApp['http'] = ['retries' => 0];    \u8fd8\u662f \u653e\u5728   Factory::openPlatform('http' => ['retries' => 0]); . @overtrue  @mingyoung   \u4e24\u4f4d\u8001\u54e5 \u5173\u4e8e easywechat.open_platform.verify_ticket.wx* \u8fd9\u4e2a ticket \u7684\u7f13\u5b58\u95ee\u9898  \u6211\u662f\u767e\u601d\u4e0d\u5f97\u5176\u89e3\u554a  \u6211\u914d\u7f6e\u4e86$app['cache'] = redis \u4e4b\u540e \u5f53\u65f6\u751f\u6548  \u4e4b\u540e\u5c31\u4e0d\u884c \u540e\u6765\u6211\u6ca1\u529e\u6cd5 \u5728 \u63a5\u6536 tiket  \u548c getVerifyTicket \u7684\u5730\u65b9 \u81ea\u5df1\u641e\u4e86 \u662f\u5728\u6ca1\u529e\u6cd5  \u56e0\u4e3aticket \u603b\u662f\u5b58\u5728\u6587\u4ef6\u91cc /tmp \u4e0b\u9762 \u8d1f\u8f7d\u5747\u8861\u6ca1\u6cd5\u5f04\u554a \n\u6211\u81ea\u5df1\u7684\u89e3\u51b3\u529e\u6cd5 \n\u4e0d\u7136 \u5c31\u629b\u51fa\u5f02\u5e38 'Credential \"component_verify_ticket\" does not exist in cache.')  \n\u7136\u540e \u5173\u4e8e\u6211\u662f\u600e\u4e48\u914d\u7f6e cache \u7684 \u4e0a\u9762\u4ee3\u7801\u91cc\u9762\u6709\n\u6211\u5728\u8fd9\u91cc\u9762 \u81ea\u5df1\u7528 redis \u53d6\u7136\u540e\u8fd4\u56de\n```\n public function getTicket(): string\n {\n     Log::info(json_encode($this->getCache()));\n     Log::info($this->getCacheKey());\n     return unserialize(\\Redis::get('easywechat.open_platform.verify_ticket.wxsdfadf123123213123'));\n     if ($cached = $this->getCache()->get($this->getCacheKey())) {\n         return $cached;\n     }\n throw new RuntimeException('Credential \"component_verify_ticket\" does not exist in cache.');\n\n}\n\u8fd9\u91cc\u662f\u63a5\u6536 ticket \u7684\u4f4d\u7f6e \u81ea\u5df1\u7528 redis \u5b58\nswitch($wxMsg['InfoType']) {\n                        case 'component_verify_ticket' :\n                            $pTicket = $wxMsg['ComponentVerifyTicket'];\n                            \\Redis::set('TICKET',$pTicket);\n                            \\Redis::set('easywechat.open_platform.verify_ticket.'.env('APP_ID'),serialize($pTicket));\n//                            Log::info('pTicket:'.$pTicket);\n//                            $openPlatform = Factory::openPlatform(OpenWechatProperty::getDefault());\n                            $openPlatform = OpenAuth::getDefaultOpenPlatform();\n                            $server = $openPlatform->server;\n                            return $server->serve();\n```. @mingyoung  \u8001\u54e5 \u79d2\u56de\u554a \n\u914d\u7f6e redis cache \u662f\u6309\u7167\u6587\u6863\u6765\u7684 \nuse Symfony\\Component\\Cache\\Simple\\RedisCache;\npublic static function getMyCache()\n    {\n        $predis = app('redis')->connection('default')->client(); // connection($name), $name \u9ed8\u8ba4\u4e3a `default`\n        return $cache = new RedisCache($predis);\n    }\n\u6253\u51fa\u6765\u662f\u8fd9\u6837 \nobject(Symfony\\Component\\Cache\\Simple\\RedisCache)[218]\n  private 'defaultLifetime' (Symfony\\Component\\Cache\\Simple\\AbstractCache) => int 0\n  private 'namespace' (Symfony\\Component\\Cache\\Simple\\AbstractCache) => string '' (length=0)\n  private 'namespaceVersion' (Symfony\\Component\\Cache\\Simple\\AbstractCache) => string '' (length=0)\n  private 'versioningIsEnabled' (Symfony\\Component\\Cache\\Simple\\AbstractCache) => boolean false\n  private 'deferred' (Symfony\\Component\\Cache\\Simple\\AbstractCache) => \n    array (size=0)\n      empty\n  protected 'maxIdLength' => null\n  protected 'logger' => null\n  private 'redis' => \n    object(Predis\\Client)[220]\n      protected 'connection' => \n        object(Predis\\Connection\\StreamConnection)[224]\n          ...\n      protected 'options' => \n        object(Predis\\Configuration\\Options)[221]\n          ...\n      private 'profile' => \n        object(Predis\\Profile\\RedisVersion320)[227]\n          .... \u8fd9\u4e2aRedisCache \u5e94\u8be5\u5df2\u7ecf\u5b9e\u73b0\u63a5\u53e3\u4e86\u5427 ? \n```\nclass RedisCache extends AbstractCache\nabstract class AbstractCache implements CacheInterface, LoggerAwareInterface, ResettableInterface\n```. ",
    "oknixus": "\u8c22\u8c22\u56de\u590d\uff01\n\u53ef\u80fd\u8fd9\u4e2a\u9700\u6c42\u6bd4\u8f83\u5c11\uff0c\u53ea\u6709\u7b2c\u4e09\u65b9\u5e73\u53f0\u624d\u7528\u7684\u5230\n. \u8c22\u8c22\uff0c\u6211\u53bb\u5fae\u4fe1\u5f00\u53d1\u8005\u793e\u533a\u95ee\u95ee\uff01\u611f\u8c22\u60a8\u7684\u56de\u590d\uff01. \u55ef\uff0c\u660e\u767d\uff0c\u8c22\u8c22\u8d85\u54e5\u56de\u590d\uff01\u6d6a\u8d39\u60a8\u65f6\u95f4\u4e86\uff0c\u62b1\u6b49\uff01. \u8d85\u54e5\uff0c\u5fae\u4fe1\u5b98\u65b9\u56de\u590d\u4e86\uff0c\u5730\u5740\uff0c\u662f\u540c\u4e00\u4e2a\u63a5\u53e3\uff0c\u6211\u4f7f\u7528$official->auto_reply->httpPostJson($url, $data)\u548c$official->auto_reply->httpGet($url, $data)\uff0c\u662f\u6539\u4e0d\u5230\u7684\uff0c\u597d\u50cf\u4e5f\u6ca1\u6709httpGetJson\u8fd9\u4e2a\u65b9\u6cd5\n. \u5fae\u4fe1\u53c8\u56de\u590d\u8bf4\uff0c\u786e\u5b9e\u6ca1\u6709\u8bbe\u7f6e\u81ea\u52a8\u56de\u590d\u7684\u63a5\u53e3. \u539f\u59cb\u6d88\u606f\u4e5f\u4e0d\u884c\u5417\uff1f. \u6d4b\u8bd5\u4e86\u4e0b\uff0c\u597d\u50cf\u539f\u59cb\u6d88\u606f\u662f\u4e0d\u884c\u7684. @Gethin2018 \u597d\u50cf\u53ef\u4ee5\u653e\u5230\u56fe\u6587\u6d88\u606f\u4e2d. @Gethin2018 \u6211\u5b9e\u73b0\u4e86\uff0c\u597d\u50cf\u662f\u7528easyWeChat\u4e2d\u7684\u90a3\u4e2a\u539f\u751f\u7684\u65b9\u6cd5\uff0c\u63a8\u6d88\u606f\u7ed9\u7528\u6237\u7684. 128\u4e2a\u5b57\u8282\uff0c\u6211\u4e5f\u662f\u9189\u4e86\uff01\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u519932\u4e2a\u5b57\u7b26\u5462\uff0c\u54ce\uff0c\u90c1\u95f7\uff01. \u6211\u5728\u6d4b\u8bd5\u4e2d\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u4e14\u6bcf\u6b21\u90fd\u4e0d\u80fd\u89e3\u5bc6\uff1b\n\u53ef\u80fd\u4e0d\u662fsession_key\u65f6\u6548\u7684\u95ee\u9898\u3002\n\u5982\u679c\u662f\u65f6\u6548\u7684\u95ee\u9898\uff0c\u5e94\u8be5\u6362\u6210\u4e0b\u9762\u7684\u4ee3\u7801\u4e5f\u4f1a\u62a5\u9519\u624d\u5bf9\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u66ff\u6362\u4e4b\u540e\uff0c\u5e76\u6ca1\u6709\u62a5\u9519\n$decrypted = json_decode($decrypted, true);\n        // $decrypted = json_decode($this->pkcs7Unpad($decrypted), true);\n. \u6211\u7684\u662f\u6b63\u786e\u7684\u987a\u5e8f\uff01\u6211\u76ee\u524d\u53ea\u662f\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4f7f\u7528\uff0c\u5728\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u6211\u662f\u901a\u8fc7\u4e00\u4e2a\u6309\u94ae\u8c03\u7528login\u548c\u6388\u6743\u63a5\u53e3\u7684\uff1a\ngetUserInfo: function() {\n    wx.login({\n        success(res){\n            console.log('code\uff1a'+res.code)\n        }\n    })\n      wx.getUserInfo({\n          success: res => {\n              console.log('iv\uff1a'+ res.iv)\n              console.log('encryptedData\uff1a'+res.encryptedData)\n          }\n      })\n  }\n\u7136\u540e\u624b\u52a8copy\u5230\u63a5\u53e3\uff08\u6211\u7684\u57df\u540d\u8fd8\u6ca1\u6dfb\u52a0\u5230\u5c0f\u7a0b\u5e8f\u540e\u53f0\uff09\u4e2d\uff0c\u518d\u53bb\u6267\u884c\u89e3\u5bc6\u3002\n\u6211\u6bcf\u6b21\u8c03\u7528\uff0c\u90fd\u662f\u4e0a\u9762\u90a3\u4e2a\u9519\u8bef\uff0c\u4f46\u662f\u5982\u679c\u6211\u53bb\u6539\u4e00\u4e0b\u90a3\u6bb5\u4ee3\u7801\uff0c\u5373\u4f7f\u662f\u6539\u6210\u8fd9\u6837\uff1a\n$decrypted = $this->pkcs7Unpad($decrypted);\n        $decrypted = json_decode($decrypted, true);\n\u8fde\u7eed\u5c1d\u8bd5\u4e86\u4e09\u6b21\uff0c\u90fd\u662f\u53ef\u4ee5\u89e3\u5bc6\u6210\u529f\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u9519\u8bef\uff1b\n\u5982\u679c\u662f\u8fd9\u6837\uff0c\u51e0\u4e4e\u6bcf\u6b21\u90fd\u62a5\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e0d\u660e\u767d\u4e3a\u4ec0\u4e48\n$decrypted = json_decode($this->pkcs7Unpad($decrypted), true);. {\"message\":\"The given payload is invalid.\",\"status_code\":500,\"debug\":{\"line\":45,\"file\":\"\\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/overtrue\\/wechat\\/src\\/MiniProgram\\/Encryptor.php\",\"class\":\"EasyWeChat\\\\Kernel\\\\Exceptions\\\\DecryptException\",\"trace\":[\"#0 \\/usr\\/share\\/nginx\\/html\\/shuati\\/app\\/Libraries\\/MinaLibrary.php(76): EasyWeChat\\\\MiniProgram\\\\Encryptor->decryptData('+xC78xM7yVEvs3a...', 'G5kF060PudogCxa...', 'RUJWAAGM0Ew44m4...')\",\"#1 \\/usr\\/share\\/nginx\\/html\\/shuati\\/app\\/Http\\/Controllers\\/Api\\/V1\\/AuthController.php(48): App\\\\Libraries\\\\MinaLibrary->getUserInfo('+xC78xM7yVEvs3a...', 'G5kF060PudogCxa...', 'RUJWAAGM0Ew44m4...')\",\"#2 [internal function]: App\\\\Http\\\\Controllers\\\\Api\\\\V1\\\\AuthController->login(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#3 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/container\\/BoundMethod.php(29): call_user_func_array(Array, Array)\",\"#4 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/container\\/BoundMethod.php(87): Illuminate\\\\Container\\\\BoundMethod::Illuminate\\\\Container\\\\{closure}()\",\"#5 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/container\\/BoundMethod.php(31): Illuminate\\\\Container\\\\BoundMethod::callBoundMethod(Object(Laravel\\\\Lumen\\\\Application), Array, Object(Closure))\",\"#6 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/container\\/Container.php(549): Illuminate\\\\Container\\\\BoundMethod::call(Object(Laravel\\\\Lumen\\\\Application), Array, Array, NULL)\",\"#7 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(373): Illuminate\\\\Container\\\\Container->call(Array, Array)\",\"#8 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(339): Laravel\\\\Lumen\\\\Application->callControllerCallable(Array, Array)\",\"#9 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(313): Laravel\\\\Lumen\\\\Application->callLumenController(Object(App\\\\Http\\\\Controllers\\\\Api\\\\V1\\\\AuthController), 'login', Array)\",\"#10 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(275): Laravel\\\\Lumen\\\\Application->callControllerAction(Array)\",\"#11 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(255): Laravel\\\\Lumen\\\\Application->callActionOnArrayBasedRoute(Array)\",\"#12 [internal function]: Laravel\\\\Lumen\\\\Application->Laravel\\\\Lumen\\\\Concerns\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#13 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Routing\\/Pipeline.php(52): call_user_func(Object(Closure), Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#14 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Http\\/Middleware\\/PrepareController.php(45): Laravel\\\\Lumen\\\\Routing\\\\Pipeline->Laravel\\\\Lumen\\\\Routing\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#15 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(149): Dingo\\\\Api\\\\Http\\\\Middleware\\\\PrepareController->handle(Object(Dingo\\\\Api\\\\Http\\\\Request), Object(Closure))\",\"#16 [internal function]: Illuminate\\\\Pipeline\\\\Pipeline->Illuminate\\\\Pipeline\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#17 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Routing\\/Pipeline.php(32): call_user_func(Object(Closure), Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#18 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(102): Laravel\\\\Lumen\\\\Routing\\\\Pipeline->Laravel\\\\Lumen\\\\Routing\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#19 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(410): Illuminate\\\\Pipeline\\\\Pipeline->then(Object(Closure))\",\"#20 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(256): Laravel\\\\Lumen\\\\Application->sendThroughPipeline(Array, Object(Closure))\",\"#21 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(230): Laravel\\\\Lumen\\\\Application->handleFoundRoute(Array)\",\"#22 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(164): Laravel\\\\Lumen\\\\Application->handleDispatcherResponse(Array)\",\"#23 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(413): Laravel\\\\Lumen\\\\Application->Laravel\\\\Lumen\\\\Concerns\\\\{closure}()\",\"#24 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(166): Laravel\\\\Lumen\\\\Application->sendThroughPipeline(Array, Object(Closure))\",\"#25 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Routing\\/Adapter\\/Lumen.php(102): Laravel\\\\Lumen\\\\Application->dispatch(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#26 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Routing\\/Router.php(512): Dingo\\\\Api\\\\Routing\\\\Adapter\\\\Lumen->dispatch(Object(Dingo\\\\Api\\\\Http\\\\Request), 'v1')\",\"#27 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Http\\/Middleware\\/Request.php(126): Dingo\\\\Api\\\\Routing\\\\Router->dispatch(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#28 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(114): Dingo\\\\Api\\\\Http\\\\Middleware\\\\Request->Dingo\\\\Api\\\\Http\\\\Middleware\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#29 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/barryvdh\\/laravel-cors\\/src\\/HandlePreflight.php(29): Illuminate\\\\Pipeline\\\\Pipeline->Illuminate\\\\Pipeline\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#30 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(149): Barryvdh\\\\Cors\\\\HandlePreflight->handle(Object(Dingo\\\\Api\\\\Http\\\\Request), Object(Closure))\",\"#31 \\/usr\\/share\\/nginx\\/html\\/shuati\\/app\\/Http\\/Middleware\\/ChangeLocale.php(26): Illuminate\\\\Pipeline\\\\Pipeline->Illuminate\\\\Pipeline\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#32 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(149): App\\\\Http\\\\Middleware\\\\ChangeLocale->handle(Object(Dingo\\\\Api\\\\Http\\\\Request), Object(Closure))\",\"#33 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(102): Illuminate\\\\Pipeline\\\\Pipeline->Illuminate\\\\Pipeline\\\\{closure}(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#34 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Http\\/Middleware\\/Request.php(127): Illuminate\\\\Pipeline\\\\Pipeline->then(Object(Closure))\",\"#35 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/dingo\\/api\\/src\\/Http\\/Middleware\\/Request.php(103): Dingo\\\\Api\\\\Http\\\\Middleware\\\\Request->sendRequestThroughRouter(Object(Dingo\\\\Api\\\\Http\\\\Request))\",\"#36 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(149): Dingo\\\\Api\\\\Http\\\\Middleware\\\\Request->handle(Object(Dingo\\\\Api\\\\Http\\\\Request), Object(Closure))\",\"#37 [internal function]: Illuminate\\\\Pipeline\\\\Pipeline->Illuminate\\\\Pipeline\\\\{closure}(Object(Illuminate\\\\Http\\\\Request))\",\"#38 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Routing\\/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\\\Http\\\\Request))\",\"#39 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/illuminate\\/pipeline\\/Pipeline.php(102): Laravel\\\\Lumen\\\\Routing\\\\Pipeline->Laravel\\\\Lumen\\\\Routing\\\\{closure}(Object(Illuminate\\\\Http\\\\Request))\",\"#40 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(410): Illuminate\\\\Pipeline\\\\Pipeline->then(Object(Closure))\",\"#41 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(166): Laravel\\\\Lumen\\\\Application->sendThroughPipeline(Array, Object(Closure))\",\"#42 \\/usr\\/share\\/nginx\\/html\\/shuati\\/vendor\\/laravel\\/lumen-framework\\/src\\/Concerns\\/RoutesRequests.php(107): Laravel\\\\Lumen\\\\Application->dispatch(NULL)\",\"#43 \\/usr\\/share\\/nginx\\/html\\/shuati\\/public\\/index.php(28): Laravel\\\\Lumen\\\\Application->run()\",\"#44 {main}\"]}}. \n. \u55ef\uff0c\u597d\u7684\uff0c\u8c22\u8c22\u8d85\u54e5\uff1b\u53d1\u8fd9\u4e2a\u4e4b\u524d\uff0c\u6211\u4e5f\u662f\u633a\u72b9\u8c6b\u7684\uff0c\u6211\u5173\u6389\u5b83\uff1b\n\u8c22\u8c22\u8d85\u54e5\uff01. ",
    "bestony": "\u76ee\u524d\u6211\u81ea\u5df1\u7684 workaround \u5982\u4e0b\uff0c\u4f9b\u5176\u4ed6\u6709\u540c\u95ee\u9898\u7684\u4eba\u53c2\u8003\uff1a\nheader('Content-Disposition: attachment; filename=\"'.$good->title.'.png\"'); \nreturn $response->getBodyContents();\n$good->title \u662f\u8bbe\u7f6e\u6587\u4ef6\u540d\u7684\u90e8\u5206\u3002. \u597d\u7684\uff0c\u6211\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u4e4b\u524d\u6d4b\u8bd5\u65e0\u6cd5\u4f7f\u7528\u3002. ",
    "Gethin2018": "@oknixus  \u8fd8\u6ca1\u6709\u4fee\u590d\u5417?. ",
    "BruceFan-FS71": "\u90a3\u5728 Laravel \u4e2d\uff0c\u662f\u5426\u6709\u529e\u6cd5\u5141\u8bb8\u5728\u5411\u56de\u8c03\u9875\u9762\u505a redirect() \u7684\u65f6\u5019\u52a0\u5165\u81ea\u5b9a\u4e49\u7684 Query \u53c2\u6570\uff1f\n$app->oauth->redirect();. ",
    "weijian1": "@mingyoung \u6d4b\u8bd5\u8fc7\u4e86\uff0c\u53ef\u4ee5\u8df3\u5230\u6307\u5b9a\u7684\u9875\u9762. \u521a\u770b\u4e86\u4e0bguzzle\u7684\u6e90\u4ee3\u7801\uff0c\u5728\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u524d\uff0c\u4f1a\u8c03\u7528http_build_query\u51fd\u6570\uff0c\u5c06query\u91cc\u9762\u7684\u6570\u7ec4\u751f\u6210\u4e00\u4e2a\u7ecf\u8fc7 urlencode\u7684\u8bf7\u6c42\u5b57\u7b26\u4e32\u3002\u4ee3\u7801\u8fd9\u91cc\u7684query\u53ef\u4ee5\u4e0d\u9700\u8981\u52a0urlencode\uff0c\u6211\u4fee\u6539\u4e0b. ",
    "ymstars": "Get\u53c2\u6570\u4e5f\u65e0\u6cd5\u4f20\u5165\uff0c\u53ef\u662f\u9700\u8981\u7ed1\u5b9a\u662f\u54ea\u4e2a\u7528\u6237\u53d1\u8d77\u7684. ",
    "sohenk": "\u4e0d\u597d\u610f\u601d\u6211\u627e\u5230\u4e86\u3002\u539f\u6765\u5b98\u65b9\u53eb\u5ba2\u670d\u3002\u8c22\u8c22. ",
    "galaxyhao": "@mingyoung \u6211\u6653\u5f97\u554a\uff0c\u6211\u6b63\u786e\u80fd\u591f\u63a5\u6536\u5230 Guard::EVENT_UPDATE_AUTHORIZED\u6743\u9650\u66f4\u65b0\u4e8b\u4ef6\uff0c\u4f46\u662f\u6211\u60f3\u5728\u63a5\u6536\u5230\u6388\u6743\u66f4\u65b0\u4e8b\u4ef6\u4e4b\u540e\u4f7f\u7528handleAuthorize\uff08\uff09\u8fd9\u4e2a\u65b9\u6cd5\u6765\u83b7\u53d6\u63a5\u53e3\u8c03\u7528\u51ed\u636e\u548c\u6388\u6743\u4fe1\u606f\uff0c\u4f46\u662f\u628a\u8fd9\u4e2a\u51fd\u6570\u5199\u5165\u5230\u56de\u8c03\u51fd\u6570\u4e2d\u65e0\u6cd5\u88ab\u6267\u884c\u3002\u8c22\u8c22\u4f60. ",
    "wangshantao": "\u4e4b\u524d\u770b\u5230\u8fd9\u4e00\u53e5\u6ca1\u600e\u4e48\u660e\u767d\uff0c\u73b0\u5728\u5927\u6982\u61c2\u4e86\u3002. ",
    "zhaojianhui129": "composer\u91cc\u9762\u7684\u5305\u6ca1\u6709\u66f4\u65b0\uff0c\u66f4\u65b0\u540e\u53d1\u73b0\u90a3\u91cc\u6ca1\u95ee\u9898\u4e86\uff0c\u65e7\u4ee3\u7801\u5b58\u5728\u95ee\u9898\u800c\u5df2\u3002. ",
    "everythinggood": "\u5927\u4f6c\u4eec\uff0c\u80fd\u4e0d\u80fd\u6539\u8fdb\u4e00\u4e0b\uff1f\u6211\u4e0d\u60f3\u4e5f\u5199\u5728\u533f\u540d\u51fd\u6570\u91cc\u9762\uff0c\u5f88\u4e11. \u6211\u7684\u7f51\u7ad9\u57df\u540d\u5df2\u5907\u6848. wo done!no issue. ",
    "hihuangwei": "\u8981\u600e\u4e48\u8bbe\u7f6e\u53ef\u4ee5\u6d88\u5931\uff0cwork \u5c31\u6ca1\u6709\u8fd9\u6837. ",
    "LiZheWang": "composer info overtrue/wechat   \u770b\u5230\u7684\u7ed3\u679c\u662f3.3.26  \u3002\n\u6211\u7684composer\u56fd\u5185\u955c\u50cf\u662f\uff1ahttps://www.phpcomposer.com  \u3002 \uff08\u767e\u5ea6\u4ed6\u7b2c\u4e00\u554a\uff0c\u83dc\u9e1f\u76f4\u63a5\u5c31\u7528\u4e86\uff09\ncomposer config -g repo.packagist composer https://packagist.phpcomposer.com  \u3002\n\u6211\u5728\u8bd5\u4e00\u4e0b Laravel-China \u7684 packagist \u6e90 \u3002 \u8c22\u8c22\u5927\u5bb6. \u597d\u5751\u554a\uff0c\u90a3\u4e2a\u6e90\u8fd8\u662f\u767e\u5ea6\u7b2c\u4e00\u3002\n\u6700\u8fd1\u521a\u7528PHP\uff0c\u4e00\u641c\u7d22\u5c31\u76f4\u63a5\u7528\u4e86\uff0c\u8c01\u77e5\u9053\u8fd8\u6709\u8fd9\u79cd\u4e8b\u3002\u3002\n\u4e4b\u524d\u7528npm maven  \u4ec0\u4e48\u7684 \uff0c \u4ece\u672a\u9047\u5230\u8fc7\u8fd9\u79cd\u95ee\u9898. \u95ee\u9898\u5df2\u89e3\u51b3 Laravel-China\u6e90\u53ef\u4ee5 \u3002\n\u8bbe\u7f6e\u65b9\u6cd5\uff1a\ncomposer config -g repo.packagist composer https://packagist.laravel-china.org. \u770b\u8fc7\u4e86\u6ca1\u6709\u591a\u4f59\u8f93\u51fa\uff0c\u8fd9\u662f\u6700\u65b0\u9884\u89c8\u5730\u5740\uff1a\nhttp://m7h84u.natappfree.cc/fireball/yii2/wechat/web/weixin?echostr=asdassdds. \u6211\u7528\u5355\u72ec\u4e00\u4e2a.php\u6587\u4ef6\u7684\u65f6\u5019\u662f\u80fd\u8c03\u901a\u7684\uff0c\u4e5f\u662f\u7528\u7684\u5185\u7f51\u8f6c\u53d1\u3002\n\u5c31\u662fYII2\u91cc\u9762\u4e0d\u884c.. \u73b0\u5728\u529f\u80fd\u6ca1\u6709\u8c03\u6574\u597d\uff0c\u653e\u5916\u7f51\u5c31\u4f1a\u5f71\u54cd\u4f7f\u7528\u4e86. \u6069\u597d\u7684\uff0c\u611f\u8c22\u8d85\u54e5\uff01 \u6211\u5728\u7814\u7a76\u4e0b. ",
    "xiaodit": "\u611f\u8c22 \u5927\u5927. 7.0 \u6709\u9047\u5230\u8fd9\u4e2a\u60c5\u51b5\u5417?\n\u8be6\u60c5&\u64cd\u4f5c\u6d41\u7a0b: \u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u91cc\u5934\uff0c \u76f4\u63a5\u53d1\u4fe1\u606f\u5230\u516c\u4f17\u53f7\uff0c\u629b\u4e86\u8fd9\u4e2a\u5f02\u5e38\u6d88\u606f\u51fa\u6765 \n~~~\nfile_exists(): open_basedir restriction in effect. File(/tmp/symfony-cache) is not within the allowed path(s): (/var/php-fpm/7.0/pgweixin/tmp/:/mnt/vdb1/virtualhost/pgweixin/)/mnt/vdb1/virtualhost/pgweixin/vendor/symfony/cache/Traits/FilesystemCommonTrait.php39\n~~~. \u662f\u4e0d\u662f\u90a3\u4e2aPHP\u914d\u7f6e\u6709\u95ee\u9898\uff0c google\u4e86\u4e0b\u597d\u50cf\u8bf4\u914d\u7f6eopen_basedir \u4ec0\u4e48\u7684. \u8c22\u8c22\uff0c\u5df2\u89e3\u51b3\u3002. \u539f\u6765\u8fd9\u6837\u7528\u7684 \n~~~\n$app->message->send([\n      'msgtype' => 'text',\n      'touser' => ,\n      'agentid' => 'agentid',\n      'text' => [\n          'content' => 'xxx'\n      ]\n]);\n~~~. ",
    "mitang1378": "\u4f46\u662f\u6211\u8fd9\u4e2a\u8bc1\u4e66 \u9000\u6b3e \u63d0\u73b0\u90fd\u662f\u6b63\u5e38\u7684. ",
    "TDTzzz": "\n\n. \u8d85\u54e5 \u6c42\u89e3\u7b54\u4e0b. \u597d\u7684 \u8c22\u8c22\u8d85\u54e5. ",
    "alan51": "ok~\u89e3\u51b3\u4e86. ",
    "huijiewei": "$response->send();\n\u540e\u9762\u52a0\u4e00\u4e2a exit; \u8bd5\u8bd5\u5427. ",
    "peterpan0708": "@huijiewei \u8bf7\u95ee\u4e3a\u4f55\u52a0\u4e0aexit\uff0c\u5c31\u53ef\u4ee5\u5462\uff1f exit\u51fd\u6570\u7684\u4f5c\u7528\u662f\u7ec8\u6b62\u811a\u672c\u6267\u884c\u5440. @overtrue ,\u8fd9\u4e2a\u516c\u4f17\u53f7\u53ea\u6709\u8fd9\u4e2a\u9879\u76ee\u5728\u7528\uff0c\u4f46\u662f\u6709\u591a\u53f0\u670d\u52a1\u5668\u5728\u8fd0\u884c\u8fd9\u4e2a\u9879\u76ee\u3002access_token\u7528\u7684\u662f\u9ed8\u8ba4\u7684\u7f13\u5b58\u65b9\u5f0f\uff0c\u6ca1\u6709\u4fee\u6539\u3002.  @overtrue\uff0c\u6211\u770b\u4e86\u4e00\u4e0b\u6587\u6863\uff0c\u6587\u6863\u4e2d\u8bf4\u5982\u679c\u66ff\u6362\u9ed8\u8ba4\u7f13\u5b58\u7684\u8bdd\uff0c\u8981\u8bbe\u7f6e$app['cache']\uff0c\u90a3\u8fd9\u6837\u5c82\u4e0d\u662f\u6bcf\u6b21\u5b9e\u4f8b\u5316app\uff0c\u90fd\u8981\u8bbe\u7f6e\u4e00\u6b21\uff1f\u5982\u679c\u6211\u81ea\u5df1\u7ef4\u62a4access_token\u7684\u8bdd\uff0c\u662f\u5b9a\u65f6\u66f4\u65b0app['access_token']\u7684\u503c\uff0c\u8fd8\u662f\u6bcf\u6b21\u8c03\u7528\u5b9e\u4f8b\u7684\u65f6\u5019\u4eceredis\u91cc\u62ff\u5230access_token\uff0c\u7136\u540e\u6267\u884c$app['access_token']->setToken()\uff1f\u8bf7\u95ee\u54ea\u4e00\u79cd\u662f\u6bd4\u8f83\u53ef\u884c\u7684\u5b9e\u8df5\u5462\uff1f \n\u611f\u8c22\u7248\u4e3b\u3002. \u611f\u8c22\u7248\u4e3b\u3002 \u76ee\u524d\u89e3\u51b3\u65b9\u6cd5\u662f\u6211\u8fd9\u8fb9\u81ea\u5df1\u5728redis\u91cc\u7ef4\u62a4\u4e00\u4efdaccess_token\u3002 \u7136\u540e\u5c06\u914d\u7f6e\u6587\u4ef6\u7684retries\u8bbe\u7f6e\u4e3a0\u3002\u8ba9easywechat\u4f7f\u7528\u6211\u7684access_token\u3002. \u6709\u4e2a\u5c0f\u5751\uff0c\u5927\u5bb6\u6ce8\u610f\u4e00\u4e0b\u3002\u5c31\u662f\u6ce8\u610f/tmp\u76ee\u5f55\u4e0b\uff0c\u7f13\u5b58\u6587\u4ef6\u5939\u7684\u6743\u9650\u3002\u5982\u679c\u6743\u9650\u4e0d\u5bf9\u5e94\uff0c\u4f1a\u9020\u6210\u6bcf\u53d1\u9001\u4e00\u6b21\u6a21\u677f\u6d88\u606f\uff0ceasywechat\u5c31\u91cd\u65b0\u8bf7\u6c42\u4e00\u6b21access_token\u3002. ",
    "mygoodidea": "@caikeal . @makzai \u4e2a\u4eba\u6216\u7ec4\u7ec7\u8981\u8bc1\u4e66\uff0c\u5546\u4e1a\u5e94\u8be5\u4e0d\u9700\u8981\u5427\uff1f\u6ca1\u5b9e\u8df5\u8fc7. @makzai \u539f\u6765\u5982\u6b64. ",
    "10v3": "+1. ",
    "mayunf": "+1. @mingyoung  \u8c22\u8c22\uff01\n\u5750\u7b49\u5408\u5e76. ",
    "systoms": "PHP 7.2.6 (cli) (built: Jun  6 2018 19:05:01) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\n\u662fdocker\u73af\u5883\u4e0b\u8fd0\u884c\u7684. ",
    "Jacksans": "\u8bf7\u95ee\u600e\u6837\u5728\u516c\u4f17\u53f7\u5199\u4e00\u4e9b\u597d\u7684\u4ee3\u7801\uff1f. ",
    "devondahon": "Thanks for the hint, it finally worked with 501.. I changed JSAPI by NATIVE and now I get this code_url.. ",
    "caingougou": "\u597d\u7684\uff0c\u770b\u4e86\u5b98\u65b9\u6587\u6863\u4e86\u89e3\u4e86\uff0c\u8c22\u8c22. ",
    "orchie": "\n\u5982\u56fe \u8fd9\u662f\u4eceeasywechat\u5b98\u65b9\u6587\u6863 https://www.easywechat.com/docs/master/zh-CN/open-platform/server\n\u622a\u7684\u56fe\uff0c\n\u6211\u5728\u8c03\u8bd5\u5f00\u653e\u5e73\u53f0\u7684\u7b2c\u4e00\u6b65\uff0c\u83b7\u53d6ticket\uff0c\u6240\u4ee5\u5c31\u6309\u7167\u6587\u6863\u6240\u8bf4\u5199\u5165\u4e86\u8fd9\u4e24\u884c\u4ee3\u7801\nSDK\u5e94\u8be5\u662f\u4f1a\u81ea\u52a8\u7f13\u5b58ticket\u7684\n\nSDK \u9ed8\u8ba4\u4f1a\u5904\u7406\u4e8b\u4ef6 component_verify_ticket \uff0c\u5e76\u4f1a\u7f13\u5b58 verify_ticket\n\n\u62a5\u9519\u7684\u56fe\u5728\u4e0a\u9762\u5df2\u7ecf\u8d34\u4e0a\u4e86 :sos: @mingyoung . \u8fd9\u4e2a component_verify_ticket \u4e0d\u5b58\u5728\u7684\u95ee\u9898\u627e\u5230\u4e86\n1.\u4e0d\u77e5\u9053\u4e3a\u5565 TP5.1\u6846\u67b6\u4e0b easywechat \u9ed8\u8ba4\u4f7f\u7528\u7684 symfony \u7f13\u5b58 \u4e0d\u8d77\u4f5c\u7528\n\u597d\u6211\u7528think-wechat \u8bbe\u7f6e\u7684 \u4f7f\u7528TP\u7f13\u5b58\n2.\u8bbe\u7f6e\u4ee5\u540e\u7f13\u5b58\u8fd8\u662f\u6ca1\u6709\u7684\u539f\u56e0\u662f \uff1a think-wechat \u7684 \u914d\u7f6e\u4ee3\u7801 \u952e\u540d\u5199\u9519\u4e86\n\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u662f wechat.default.use_tp_cache\n\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684\u662f  wechat.defaults.use_tp_cache\n\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684default\u591a\u4e86\u4e2as\n\u53bb\u6389\u4ee5\u540e\u5c31\u597d\u4e86\n\u597d\u6211\u6eda\u53bbthink-wechat\u63d0issue\u4e86 :smile:  @mingyoung . ",
    "maxwelldu": "\u5982\u4f55\u8bbe\u7f6e\u8c03\u7528\u63a5\u53e3\u7684curl\u4f7f\u7528curl_multi\u7684\u65b9\u5f0f\u53bb\u8c03\u7528. ",
    "makzai": "\u8bbe\u7f6e\u7c7b\u76ee\u6d89\u53ca\u5230\u8bc1\u4e66\u4e0a\u4f20\u597d\u591a\u4e1c\u897f\u4e0d\u597d\u641e... @mygoodidea \u73b0\u5728\u76f4\u63a5\u540e\u53f0\u64cd\u4f5c\u4e0d\u540c\u7c7b\u76ee\u90fd\u6709\u4e0d\u540c\u8bc1\u4e66\u8981\u6c42. ",
    "linzhihua1989": "\u6211\u5728\u4e00\u4e2a\u7a7a\u6587\u4ef6\u5939composer\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u4e0b\u6765\uff0c\u6216\u8005\u5728thinkphp5\u90fd\u53ef\u4ee5\uff0c\u5c31\u662ffastadmin\u91cc\u9762\u4e0d\u884c\uff0c\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u4ec0\u4e48\u914d\u7f6e\u6765\u4fee\u6b63\u8fd9\u4e2a\u95ee\u9898. \u55ef\uff0c\u8fd9\u4e2a\u5148\u653e\u7740\u5566\uff0cphp\u7248\u672c\u4e0d\u884c. ",
    "m9rco": "\u597d\u7684\uff0c\u77e5\u9053\u62c9\u8d85\u54e5. ",
    "Ecareyu": "\u597d\u5427\uff0c\u5176\u5b9e\u6211\u4eec\u73b0\u5728\u5c31\u662f\u8fd9\u4e48\u5e72\u7684\uff0c\u8c22\u4e86\uff0c\u8d85\u54e5\uff01. @mingyoung \u80fd\u4e0d\u80fd\u7ed9\u4e2a\u601d\u8def\uff0c\u8fd9\u4e2a\u5e94\u8be5\u600e\u4e48\u6539\uff1f. ",
    "keacefull": "@overtrue \u597d\u7684\uff0c\u8fd9\u4e24\u5929\u7a0d\u5fd9\uff0c\u8fc7\u4e24\u5929\u8865\u4e0a\u5355\u5143\u6d4b\u8bd5\u548c\u6587\u6863\u3002. @Chrisleung  \u8fd9\u51e0\u5929\u7a0d\u5fd9\uff0c\u62b1\u6b49\uff0c\u4eca\u5929\u624d\u770b\u5230\u6d88\u606f\uff0c\u53d1\u73b0\u8fd9\u8fd9\u4e2a\u95ee\u9898\u4e86\uff0c\u4e3b\u8981\u662f\u7b2c\u4e09\u65b9\u670d\u52a1\u5728\u9a8c\u8bc1\u65f6\u662f\u91c7\u7528\u7684corp_id\u800c\u6570\u636e\u63a8\u9001\u91c7\u7528\u7684\u662fsuite_id  \u6b63\u5728\u4fee\u590d\u4e2d. @Chrisleung @mingyoung \u8be5Bug\u5df2\u7ecf\u4fee\u590d\u3002. @Chrisleung \u540e\u9762\u8fd9\u4e2a\u5c31\u5bf9\u4e86\u3002\u6211\u5f53\u65f6\u770b\u4e86\u4ed6\u7684\u6587\u6863\uff0c\u4ed6\u8fd9\u4e2a\u8bbe\u7f6e\u6388\u6743\u4fe1\u606f\u6839\u672c\u5c31\u6ca1\u6709\u7528\u5904\uff0c\u6b63\u5f0f\u6388\u6743\u548c\u6d4b\u8bd5\u6388\u6743\u6536\u5230\u7684\u6570\u636e\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\u3002 \u5f53\u65f6\u6211\u5199\u7684\u65f6\u5019\u9879\u76ee\u7740\u6025\u4ea4\uff0c\u5c31\u5fd8\u8bb0\u5904\u7406\u8fd9\u91cc\u4e86\u3002. ",
    "xjcloudy": "@overtrue  \u597d\u7684\uff0c\u6ca1\u95ee\u9898\u3002. ",
    "ZhangQi77": "\u4e0d\u597d\u610f\u601d\uff0c\u662fXXE. ",
    "joinmm": "\u6211\u4eec\u7684\u516c\u4f17\u53f7\u7c89\u4e1d\u670917\u4e07\uff0c\u6279\u91cf\u62c9\u53d6\u7c89\u4e1d\u4fe1\u606f\u65f6\u603b\u6709\u5931\u8d25\u7684openid\uff0c\u6700\u540e\u5b9a\u4f4d\u5230\u4e86\u5177\u4f53\u7684openid\uff0c\u4e00\u5171\u67097\u4e2a\uff0c\u4f7f\u7528 $app->user_tag->get($openid);  \u51fd\u6570\u83b7\u53d6\u4fe1\u606f\u603b\u662f\u7a7a\u7684\uff0c\u81ea\u5df1\u5199\u4ee3\u7801\u662f\u53ef\u4ee5\u83b7\u53d6\u5230\u7684\uff0c\u4f46\u662fjson_decode() \u65f6\u9519\u8bef\u4ee3\u7801\u4e3a JSON_ERROR_CTRL_CHAR \uff0c\u4f7f\u7528 $body =  preg_replace('/[\\x00-\\x1F\\x80-\\x9F]/u', '', trim($body)); \u8fc7\u6ee4\u4e00\u4e0b\u5c31OK\u4e86\u3002. ",
    "fncong": "PHP \u4ee3\u7801\u5982\u4e0b\n/*\n     * \u89e3\u6790\u52a0\u5bc6\u6570\u636e\u83b7\u53d6\u7528\u6237\u624b\u673a\u53f7\u7801\n     /\n    public function getPhone($value='')\n    {\n        $app = Factory::miniProgram(WeChatConfig::load());\n        $iv = $this->request->post(\"iv\");\n        $code = $this->request->post(\"code\");\n        $encrypted_data = $this->request->post(\"encrypted_data\");\n    $ret = $app->auth->session($code);\n    $decryptedData = $app->encryptor->decryptData($ret['session_key'], $iv, $encrypted_data);\n    $this->success(\"\u83b7\u53d6\u6210\u529f\", ['phoneinfo' => $decryptedData]);\n}\n\n\u5c0f\u7a0b\u5e8f\u4ee3\u7801\u5982\u4e0b\ngetPhone:function(e){\n    console.log(e);\n    var that=this;\n    wx.login({\n      success: function(res) {\n        if (res.code) {\n          app.request('api/wxapp/getPhone',{encrypted_data:e.detail.encryptedData,iv:e.detail.iv,code:res.code},function(rsp,json){\n            that.setData({ mobile: rsp.phoneinfo.phoneNumber});\n          },function(rsp,json){\n            app.info('\u53d1\u751f\u9519\u8bef\uff01\u8bf7\u91cd\u8bd5');\n          });\n        }\n      }\n    });\n  },\n\u62a5\u9519\u5982\u4e0b\n[0] DecryptException in Encryptor.php line 43\nThe given payload is invalid.\npublic function decryptData(string $sessionKey, string $iv, string $encrypted): array\n{\n    $decrypted = AES::decrypt(\n        base64_decode($encrypted, false), base64_decode($sessionKey, false), base64_decode($iv, false)\n    );\n\n    $decrypted = json_decode($this->pkcs7Unpad($decrypted), true);\n\n    if (!$decrypted) {\n        throw new DecryptException('The given payload is invalid.');\n    }\n\n    return $decrypted;\n}.\n",
    "forecho": "\u4e4b\u524d\u4f7f\u7528\u6b63\u5e38\uff0c\u6700\u8fd1\u4e5f\u9047\u5230\u8fd9\u79cd\u95ee\u9898\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u56de\u4e8b\uff0c\u6709\u4eba\u77e5\u9053\u600e\u4e48\u89e3\u51b3\u5417\uff1f. @fncong \u6211\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u73b0\u5728\u89e3\u51b3\u4e86\u3002\u4e3b\u8981\u662f JS \u90a3\u8fb9\u3002\u83b7\u53d6 code \u4e00\u5b9a\u8981\u5728\u70b9\u51fb\u6388\u6743\u767b\u5f55\u6309\u94ae\u4e4b\u524d\u3002\n\n. @woann \u6709\u53ef\u80fd\u662f\u8fd9\u4e2a\u5751\uff0c\u53c2\u4e0e encryptedData \u7684 code\uff0c\u5fc5\u987b\u548c\u670d\u52a1\u7aef\u89e3\u5bc6\u7684 code \u4e00\u81f4\u3002\n\n. \u9759\u6001\u4e3a\u4e86\u65b9\u4fbf\u5355\u72ec\u8c03\u7528. \u5176\u5b9e\u662f\u4e3a\u4e86\u4e0d\u7528\u4f20 $appId \u548c $appSecret \u53c2\u6570\uff0c\u6211\u5355\u72ec\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6ca1\u5fc5\u8981\u7279\u610f\u5728\u53bb\u627e\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u800c\u4e14\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u9700\u8981 AccessToken \u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\u3002. @overtrue \u597d\u5427\uff0c\u6211\u6539\u4e86\u3002. ",
    "guoxiangke": "\u4eb2\uff0c\u672a\u8ba4\u8bc1\u7684\u516c\u4f17\u53f7 \u4ee5\u4e0b\u6743\u9650\u90fd\u6ca1\u6709\uff0c\u4f60\u662f\u5982\u679c\u83b7\u5f97media_id\u7684\uff1f\u800c\u4e14\u636e\u6211\u4e4b\u524d\u7528\u7684\u4e1c\u54e5\u7684sdk\u4e2d\uff0cmedia_id\u662f\u53ef\u9009\u9879 \n\u6c38\u4e45\u7d20\u6750\u7ba1\u7406\u63a5\u53e3 | \u00a0 | \u672a\u83b7\u5f97 | \u00a0\n\u4e34\u65f6\u7d20\u6750\u7ba1\u7406\u63a5\u53e3 | \u00a0 | \u672a\u83b7\u5f97 | \u00a0\n\u3002\u6700\u540e\uff0c\u6211\u4fee\u6539Music.php 55\u884c\uff0ccomment\u6389\uff0c\u5373\u53ef\u3002\u867d\u7136\u5b98\u65b9\u6587\u6863\u4e0a\u5199\u7684\u662f\u5fc5\u987b\u9879\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\uff01\n. thumb_media_id \u4f20null \u4e5f\u4e0d\u53ef\uff0c\u89e3\u51b3\u65b9\u6848\u89c1\uff1a\nhttps://github.com/overtrue/wechat/pull/1302. \u5df2\u89e3\u51b3,\u81ea\u5b9a\u4e49\u4e2amusic\u6d88\u606f\u7c7b,\u6dfb\u52a0\u4ee5\u4e0b\u5c5e\u6027!\n    protected $jsonAliases = [\n        'musicurl'=>'url',\n        'hqmusicurl'=>'hq_url',\n    ];. \u5e0c\u671b\u4ee5\u540e\u7248\u672c\u4e2d\u80fd\u518dsdk\u4e2d\u5c01\u88c5\u4e00\u4e0b. \u591a\u8c22, . \u770b\u6765\u817e\u8baf\u7684\u670d\u52a1\u5668\u8fd8\u6709\u5899\u554a \u6211\u6ef4\u5a18\u554a. \u73b0\u5728\u6211\u7684\u817e\u8baf\u670d\u52a1\u5668\u4e5f\u9047\u5230\u6b64\u7c7b\u60c5\u51b5,\u6211\u611f\u89c9\u54b1\u4eecsdk\u597d\u50cf\u6709\u9700\u8981\u6539\u8fdb\u7684\u5730\u65b9,\u591a\u8c22\ud83d\ude4f\nMaximum execution time of 30 seconds exceeded in /var/www/html/vendor/guzzlehttp/guzzle/src/Handler/CurlMultiHandler.php on line 108\n[Tue Oct 23 15:11:47.231414 2018] [php7:error] [pid 300] [client 172.17.0.3:45079] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in /var/www/html/vendor/guzzlehttp/guzzle/src/Handler/CurlMultiHandler.php on line 108\n[Tue Oct 23 15:11:47.875423 2018] [php7:error] [pid 301] [client 172.17.0.3:45085] PHP Fatal error:  Maximum execution time of 30 s. \u800c\u4e14\u6211\u4e4b\u524d\u7528\u7684https://github.com/dodgepudding/wechat-php-sdk\u7684\u4e00\u4e2aPHP\u9879\u76ee,\u90e8\u7f72\u5728aws\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528. \u65b0\u91cd\u6784\u4f7f\u7528\u7684laravel+easywechat. \u73b0\u5728\u5728aws\u548c\u817e\u8baf\u4e91\u90fd\u9047\u5230\u54cd\u5e94\u56de\u590d\u97f3\u9891\u65f6,\u51fa\u73b0\u4ee5\u4e0a\u60c5\u51b5.. \u597d\u5947\u602a\u7684\u73b0\u8c61,\u4eca\u5929\u6d4b\u8bd5\u5728\u817e\u8baf\u4e91\u4e0a\u53c8\u53ef\u4ee5\u4e86,\u5728google\u4e91\u4e0a\u672c\u6765\u4e0d\u53ef\u4ee5,\u52a0\u4e0a\u4e00\u53e5\u8c03\u8bd5\u8bed\u53e5\u5374\u53ef\u4ee5\u4e86. \u8c03\u8bd5\u8bed\u53e5\u662f109\u884c\u7684die(); \n vi  /var/www/html/vendor/guzzlehttp/guzzle/src/Handler/CurlMultiHandler.php on line 108\n\n. \u7528return\u8bed\u53e5\u66ff\u4ee3die\u90fd\u4e0d\u884c.. > \n\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1433747234\n\u8fd9\u5e94\u8be5\u662f\u957f\u65f6\u95f4\u6ca1\u4e92\u52a8\uff0c\u6216\u8005\u53d6\u6d88\u5173\u6ce8\uff0c\u5bfc\u81f4\u53d1\u9001\u5931\u8d25\u3002\n\u53ef\u4ee5\u8bb0\u5f55\u4e0a\u6b21\u7684\u6d3b\u8dc3\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u5904\u7406\u8fd4\u56de\u7684\u9519\u8bef\u7801\uff0c\u505a\u76f8\u5e94\u5904\u7406\uff0c\u4f8b\u5982 45015 \u5c31\u5c1d\u8bd5\u7528\u6d88\u606f\u6a21\u677f\u53d1\u9001\n\n\u600e\u4e48\u6837\u83b7\u53d6\u8fd9\u4e2a\u9519\u8bef\u4ee3\u7801?\u6211\u80fd\u5728\u65e5\u5fd7\u91cc\u770b\u5230,\u4e0d\u77e5\u9053\u7a0b\u5e8f\u5982\u4f55\u622a\u83b7,\u8c22\u8c22.. \u591a\u8c22\u54c8. \u6b63\u8981\u95ee\u8fd9\u4e2a\u95ee\u9898\u5462. \u6211\u8bd5\u8bd5. \u4f20null\u4e0d\u53ef\u4ee5\uff0c\u53ea\u6709xml\u4e2d\u6709 <![CDATA[]]> \u662f\u4e0d\u6210\u529f\u7684\u3002. ",
    "hotalo": "\u6211\u4e5f\u9047\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898 \uff0c\u6211\u8c03\u8bd5\u4e86\u5404\u79cd\u60c5\u51b5\uff0c\u53ea\u8981\u5427$this->pkcs7Unpad()\u8fd9\u4e2a\u51fd\u6570\u53bb\u6389\uff0c\n\u76f4\u63a5$decrypted = json_decode($decrypted, true);  \u5c31\u53ef\u4ee5\u89e3\u6790\u51fa\u6765 \u4e0d\u7136json_decode\u4f1a\u8fd4\u56deerror4  \u8bed\u6cd5\u9519\u8bef\u3002\u6211\u770b\u5230\u5c0f\u7a0b\u5e8f\u5b98\u65b9demo\u91cc\u9762\u6ca1\u6709\u9700\u8981pkcs7\u3002. @woann \n\n\u6211\u73b0\u5728\u8fd9\u6837\u5c31\u5b8c\u7f8e\u89e3\u51b3\uff0c. ",
    "woann": "\u4f60\u73b0\u5728\u53bb\u6389$this->pkcs7Unpad()\u597d\u7528\u4e86\u5417?\u51fa\u73b0\u95ee\u9898\u6ca1. \u6211\u597d\u50cf\u4e0d\u662f\u8fd9\u4e2a\u95ee\u9898,\u56e0\u4e3a\u6211\u8fd9\u91cc\u5076\u5c14\u89e3\u5bc6\u51fa\u6765\u7684\u662f\u7a7a\u5b57\u7b26\u4e32,\u6240\u4ee5\u629b\u51fa\u5f02\u5e38\n\n@hotalo . \u6211\u73b0\u5728\u7684\u903b\u8f91\u662f\uff0c\u7528\u6237\u70b9\u51fb\u6388\u6743\u6309\u94ae\uff0c\u7136\u540e\u5728\u56de\u8c03\u91cc\u5c31\u83b7\u53d6\u5230\u4e86\u52a0\u5bc6\u7684iv\u7b49\u5b57\u6bb5\uff0c\u7136\u540e\u7528wx.Login\u83b7\u53d6code\u3002\u7136\u540e\u628a\u52a0\u5bc6\u5b57\u6bb5\u548ccode\u4e00\u8d77\u4f20\u5230\u540e\u53f0\u3002\u540e\u53f0\u5904\u7406\u987a\u5e8f\u662f\u5148\u7528code\u83b7\u53d6sessionkey\uff0c\u7136\u540e\u7528sessionkey\u548c\u52a0\u5bc6\u4fe1\u606f\u8fdb\u884c\u89e3\u5bc6@mingyoung. \u4e0d\u662f\u554a\uff0c\u73b0\u5728\u6539\u7248\u662f\u5fc5\u987b\u70b9\u51fb\u6309\u94ae\uff0c\u70b9\u51fb\u6309\u94ae\u8d70\u56de\u8c03\uff0c\u56de\u8c03\u91cc\u80fd\u5f97\u5230\u52a0\u5bc6\u4fe1\u606f\uff0c\u540c\u65f6\u6211\u5728\u56de\u8c03\u91cc\u8c03\u7528wx.Login\uff0c\u4e0d\u7136\u6211\u5e94\u8be5\u5728\u4ec0\u4e48\u4f4d\u7f6e\u8c03\u7528wx.Login@mingyoung. \u5df2\u7ecf\u4e0d\u89e3\u5bc6\u4e86\uff0c\u524d\u7aef\u76f4\u63a5\u628a\u7528\u6237\u4fe1\u606f\u4f20\u540e\u53f0\u66f4\u65b0\u6dfb\u52a0\u3002\u4e0d\u8d70\u89e3\u5bc6\u4e86. ",
    "siniandai": "\n@woann \u6709\u53ef\u80fd\u662f\u8fd9\u4e2a\u5751\uff0c\u53c2\u4e0e encryptedData \u7684 code\uff0c\u5fc5\u987b\u548c\u670d\u52a1\u7aef\u89e3\u5bc6\u7684 code \u4e00\u81f4\u3002\n\n\n\u6210\u529f\u89e3\u51b3\u4e86\u6211\u7684\u95ee\u9898. ",
    "isecret": "\u5f88\u62b1\u6b49\uff0c\u6211\u5c06\u5168\u5c40 Access Token \u548c \u7f51\u9875\u6388\u6743 Access Token \u6df7\u6dc6\u4e86\uff0c\u4e24\u8005\u4e92\u4e0d\u5f71\u54cd\u3002\u8be6\u60c5\uff1a\u5fae\u4fe1\u7684\u5168\u5c40\u63a5\u53e3\u4f7f\u7528\u51ed\u8bc1 access_token \u548c\u7f51\u9875\u6388\u6743\u4e34\u65f6 access_token. ",
    "makeup1122": "$app->oauth->redirect()->getTargetUrl();. ",
    "tyonly": "\u6211\u4e5f\u89c9\u5f97\u6709\u5fc5\u8981\uff0c\u5728\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u603b\u662f\u63d0\u793a get('state') \u4e3anull , php \u62a5\u9519. \u8fd8\u662f\u4e0d\u80fd\u53bb\u6389\uff0c\u6539\u4e86 \u6709\u66f4\u5927\u7684\u9519\u8bef. ",
    "rongbro": "what happened ?. ",
    "sanwv": "@mingyoung \u8fd9\u6837\u662f\u53ef\u4ee5\u7684\uff0c\u4e5f\u975e\u5e38\u7b80\u5355\u597d\u7406\u89e3\u3002\n\u6211\u7684\u51fa\u53d1\u70b9\u4e5f\u662f\u5efa\u8bae\uff0c\u56e0\u4e3a\u5904\u7406\u5668\u5f97\u5230\u6d88\u606f\u540e\u4e0d\u5c11\u573a\u666f\u4f1a\u8c03\u7528$app\u7684\u5176\u4ed6\u65b9\u6cd5\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u4f1a\u7b80\u4fbf\u4e0d\u5c11\u3002. ",
    "408445006": "Thanks. ",
    "dnyz520": "\n\u56de\u590d\u90ae\u4ef6\u7b7e\u540d\n\u56de\u590d\u90ae\u4ef6\u7b7e\u540d\n\u56de\u590d\u90ae\u4ef6\u7b7e\u540d\n-------- \u539f\u59cb\u90ae\u4ef6 --------\n\u53d1\u4ef6\u4eba\uff1a\u5b89\u6b63\u8d85notifications@github.com\n\u53d1\u4ef6\u65f6\u95f4\uff1a2018-09-23 12:08:32\n\u6536\u4ef6\u4eba\uff1aovertrue/wechatwechat@noreply.github.com\n\u4e3b\u9898\uff1a[overtrue/wechat] Apply fixes from StyleCI (#1367)\nThis pull request applies code style fixes from an analysis carried out by  StyleCI  .\nFor more information, click  here  .\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/overtrue/wechat/pull/1367 \nCommit Summary\nApply fixes from StyleCI\n\nFile Changes\nM   tests/Kernel/Traits/ResponseCastableTest.php  (6)\n\nPatch Links:\nhttps://github.com/overtrue/wechat/pull/1367.patch \nhttps://github.com/overtrue/wechat/pull/1367.diff\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly,  view it on GitHub  , or  mute the thread  . \n. ",
    "winter-ice": "\u6a21\u677f\u6d88\u606f. ",
    "maddie": "\u8c0b\u671d\u7be1\u4f4d. ",
    "justjavac": "\n. ",
    "lonquan": "\u9664\u4e86\u558a 6 \u597d\u50cf\u6ca1\u6709\u5176\u4ed6\u8bed\u8a00\u4e86.... ",
    "NHZEX": "OK\u3002\u90a3\u5c31\u7ee7\u7eedURL\u4f20\u53c2\u8d70\u8d77. ",
    "guider": "+1\u540c\u95ee. ",
    "kl521516": "\u4e0d\u597d\u610f\u601d\uff0c\u6211\u8fd8\u662f\u6709\u5982\u4e0b\u7591\u95ee\uff1a\n1\u3001\u5c0f\u7a0b\u5e8f\u7684\u521d\u59cb\u5316\u5bf9\u8c61\u5e94\u8be5\u7528\u5982\u4e0b\u54ea\u4e00\u4e2a\uff1f\n\u4f60\u4eec\u5728\u670d\u52a1\u7aef\u9a8c\u8bc1\u65f6\u7528\u7684\u662f\n$app = Factory::officialAccount($config);\n\u800c\u5728\u5c0f\u7a0b\u5e8f\u5165\u95e8\u65f6\u53c8\u7528\u7684\u662f\u5982\u4e0b\u65b9\u5f0f\uff0c\u6d88\u606f\u63a8\u9001\u670d\u52a1\u5668\u9a8c\u8bc1\u8fd9\u4e00\u5757\u6ca1\u6709\u5173\u4e8e\u5c0f\u7a0b\u5e8f\u4ecb\u7ecd\n$app = Factory::miniProgram($config);\n2\u3001\u4f60\u4eec\u6587\u6863\u91cc\uff0c\u5c0f\u7a0b\u5e8f\u5ba2\u670d\u6d88\u606f\u53ea\u6709\u5982\u4e0b\u4e00\u884c\u4ee3\u7801\uff0c\u6211\u4eec\u9700\u8981\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002\n$service = $app->customer_service;\n3\u3001\u4f60\u8bf4\u81ea\u52a8\u56de\u590d\u7684\u5b9e\u73b0\u53ef\u4ee5\u76d1\u542c\u76f8\u5e94\u4e8b\u4ef6\uff0c\u7136\u540e\u8c03\u7528\u5ba2\u670d\u6d88\u606f\u63a5\u53e3\uff0c\u6309\u7406\u6211\u4e0d\u76d1\u542c\u4e8b\u4ef6\uff0c\u90a3\u5c31\u662f\u6240\u6709\u4e8b\u4ef6\u90fd\u662f\u56de\u590d\u4e00\u6bb5\u6587\u672c\uff0c\u53ef\u662f\u6211\u7528\u5982\u4e0b\u4ee3\u7801\u6d4b\u8bd5\u4ecd\u7136\u6ca1\u6709\u4efb\u4f55\u56de\u590d\u3002\n$app = Factory::miniProgram($config);\n$app->server->push(function ($message) {\n        return \"\u60a8\u597d\uff01\u6b22\u8fce\u4f7f\u7528 kmm!\";\n});\n// \u5c06\u54cd\u5e94\u8f93\u51fa\n$response->send();\n// exit;\n4\u3001\u5ba2\u670d\u6d88\u606f\u8981\u8c03\u7528\u7684\u63a5\u53e3\uff0c\u91cc\u9762\u7684$openid\u4e5f\u4e0d\u77e5\u9053\u4ece\u54ea\u91cc\u83b7\u53d6\uff1f\n5\u3001\u4f60\u4eec\u4ee3\u7801\u793a\u4f8b\u91cc\u4e00\u4f1a\u513f\u662f\u539f\u751f\u7684\uff0c\u4e00\u4f1a\u513f\u53c8\u662flaravel\uff0c\u7279\u522b\u5bb9\u6613\u5f04\u6df7\n. ",
    "longcnn": "\u641c\u904d\u4e86issues\u4e86\uff0c\u770b\u6765\u662f\u4e2a\u51b7\u95e8\u554a\uff0c\u56f0\u6270\u4e86\u6211\u597d\u4e45\uff0c\u53c2\u770b\u5b98\u65b9\u8ba8\u8bba\u533a\u7684\u6b64\u5e16\u641e\u60e6\u5c0f\u7a0b\u5e8f\u5ba2\u670d\u6d88\u606f\u53d1\u9001\u7684\uff1a\nhttps://yike.io/threads/12\n\u5c0f\u7a0b\u5e8f\u6536\u4e0d\u5230***\u56de\u590d\n```\n$this->app = Factory::miniProgram($config);\n$server = $this->app->server;\n$app = $this->app;\n$server->push(function ($message) use ($app) {\n    $resp = new Text('\u4f60\u597d');\nreturn $resp;\n\n}, Message::ALL);\n$server->serve()->send();\n```\n\u4e0a\u9762\u7684\u4ee3\u7801\u6536\u4e0d\u5230\u5ba2\u670d\u7684\u56de\u590d\uff0c\u52a0\u4e0a$app->customer_service\u5c31\u53ef\u4ee5\u4e86\n```\n$this->app = Factory::miniProgram($config);\n$server = $this->app->server;\n$app = $this->app;\n$server->push(function ($message) use ($app) {\n    $resp = new Text('\u627e\u4e0d\u5230\u7528\u6237id');\n//\u52a0\u4e0a\u8fd9\u884c\u53ef\u4ee5\u6536\u5230\u56de\u590d\n$app->customer_service->message($resp)->to($message['FromUserName'])->send();  \nreturn $resp;\n\n}, Message::ALL);\n$server->serve()->send();\n```. V5. ",
    "FlashFeiFei": "\u54e6\uff0c\u597d\u7684\uff0c\u660e\u767d\u4e86\uff0c\u975e\u5e38\u611f\u8c22. ",
    "zhlhuang": "\u8fd8\u6709\u5de6\u8fb9\u83dc\u5355\u7684\u9ad8\u4eae\u9009\u4e2d\u95ee\u9898\uff0c\u6bcf\u6b21\u70b9\u5b8c\u4e4b\u540e\u53c8\u56de\u5230\u6700\u9876\u90e8\u3002. \u6211\u521a\u521a\u4e5f\u53d1\u73b0\u4e86\u3002. \u55ef\u55ef\uff0c\u4fee\u6539\u56de\u6765\u4e86\u3002. \u55ef\u55ef\uff0c\u758f\u5ffd\u4e86\u3002\u4e3b\u8981\u662f\u6839\u636e\u63a5\u53e3\u7684\u547d\u540d\u6765\u7684\uff0c\u6015\u770b\u4e86\u6587\u6863\u4eba\u4e0d\u77e5\u9053\u6709\u8fd9\u4e2a\u65b9\u6cd5\u3002. \u8fd9\u4e2a\u8ddf\u540c\u4e00\u4e2a\u7c7b\u7684 modify \u65b9\u6cd5\u662f\u4e00\u6837\u7684\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u7ec4\u3002\n\n. ",
    "ClouderSky": "@overtrue \u4e2a\u4eba\u5bf9overtrue/wechat\u7684\u7f16\u7801\u89c4\u8303\u4e0d\u591f\u719f\u6089\uff0c\u9020\u6210\u4e86\u758f\u5ffd\uff0c\u611f\u8c22\u8be6\u7ec6\u7684\u6307\u6b63\u3002\u6240\u6709\u547d\u540d\u4fee\u6539\u5efa\u8bae\u5747\u5df2\u4fee\u6539\u63d0\u4ea4\u3002\n\u53e6\u5916\uff0c\u65b0\u7684\u63d0\u4ea4\u4e2d\u5305\u542b\u5bf9\u6d4b\u8bd5\u811a\u672c\u4e2d\u539f\u6709\u9519\u8bef\u7684\u4fee\u590d\u3002\u5bf9\u4e8e\u63d0\u4ea4PR\u4e4b\u524d\u6ca1\u6709\u8fd0\u884c\u6d4b\u8bd5\u68c0\u67e5\u7684\u884c\u4e3a\u6df1\u611f\u62b1\u6b49\uff01. \u8fd9\u4e2a\u6709\u8003\u8651\u8fc7\uff0c\u4f46\u8be5\u63a5\u53e3\u51fa\u73b0\u5728\u5f00\u653e\u5e73\u53f0\u6587\u6863\u7684\u201c\u4ee3\u5c0f\u7a0b\u5e8f\u5b9e\u73b0\u4e1a\u52a1\u201d\u677f\u5757\u4e0b\uff0c\u6545\u5bf9\u8be5\u63a5\u53e3\u7684\u4f5c\u7528\u8303\u56f4\uff08\u5373\u662f\u5426\u53ef\u4ee5\u7528\u4e8e\u516c\u4f17\u53f7\u7b49\uff09\u5e76\u4e0d\u786e\u5b9a\uff0c\u4ee5\u81f4\u6309\u7167\u6587\u6863\u903b\u8f91\u4e0e\u5176\u4ed6\u5c0f\u7a0b\u5e8f\u8bbe\u7f6e\u63a5\u53e3\u7f6e\u4e8e\u540c\u5904\u3002\u5e0c\u671b\u53ef\u4ee5\u83b7\u77e5\u66f4\u591a\u76f8\u5173\u4fe1\u606f\u3002. \u6709\u6b64\u5148\u4f8b\uff0c\u90a3\u4fbf\u53ef\u884c\u3002\u4e0d\u8fc7\u4ece\u63a5\u53e3\u5bf9\u5e94URL\u6765\u770b\uff0c\u5c5e\u4e8ecgi-bin/account\u8def\u5f84\u4e0b\u7684\u63a5\u53e3\u6709getBasicInfo\u3001updateAvatar\u3001updateSignature\uff0c\u6309\u4f60\u5efa\u8bae\uff0c\u662f\u5426\u9700\u8981\u5c06\u8fd9\u4e09\u4e2a\u63a5\u53e3\u4e00\u5e76\u79fb\u81f3\u65b0\u7684Client\u4e0b\u5462\uff1f. \u5177\u4f53\u53ef\u53c2\u8003\u6587\u6863\u3002\n\u6309\u7167\u4e2a\u4eba\u7684\u7406\u89e3\uff1a\n\n\n\u5355\u6b21\u5206\u8d26\u7684\u542b\u4e49\u662f\u5bf9\u4e00\u7b14\u652f\u4ed8\u8fdb\u884c\u4e00\u6b21\u6027\u7684\u5206\u8d26\u64cd\u4f5c\uff0c\u6240\u6709\u8be5\u6b21\u5206\u8d26\u672a\u58f0\u660e\u53bb\u5904\u7684\u8d44\u91d1\u90fd\u5728\u8be5\u6b21\u5206\u8d26\u4e2d\u88ab\u8ba4\u4e3a\u662f\u5f52\u5165\u6536\u6b3e\u4e3b\u4f53\u8d26\u6237\u7684\uff0c\u4e8e\u662f\u5206\u8d26\u7ed3\u675f\u540e\u6240\u6709\u8d44\u91d1\u90fd\u88ab\u5904\u7406\u5b8c\u6210\u3002\n\n\n\u591a\u6b21\u5206\u8d26\u662f\u6307\u4e00\u6b21\u5206\u8d26\u64cd\u4f5c\u540e\uff0c\u5269\u4f59\u672a\u5206\u914d\u8d44\u91d1\u4ecd\u7136\u4fdd\u6301\u672a\u5206\u914d\u72b6\u6001\uff0c\u7b49\u5f85\u4e0b\u4e00\u4e2a\u5206\u8d26\u6307\u4ee4\u5904\u7406\u6216\u8005\u901a\u8fc7markOrderAsFinished\u64cd\u4f5c\u4e00\u6b21\u6027\u5f52\u5165\u6536\u6b3e\u4e3b\u4f53\u8d26\u6237\u3002. \n\n",
    "zcmzc": "\u6709\u6b67\u4e49, \u662f\u7ee7\u627f \\Psr\\Http\\Message\\ResponseInterface \u63a5\u53e3\u7684\u7c7b\u5e93 \n\u6587\u6863\u91cc\u7684\n$app = Factory::officialAccount([]);\n$response = $app->server->serve();\n\u6b64\u5904Response \u662fSymfony \u7c7b\u5e93\u7684\u5b9e\u73b0 , \u6ca1\u6709\u7ee7\u627f \\Psr\\Http\\Message\\ResponseInterface \u63a5\u53e3. \u662f\u7684 , \u6240\u4ee5\u6807\u9898\u8bf4\u7684\u5b9e\u73b0\u53ef\u80fd\u6709\u6b67\u4e49, \u5e94\u8be5\u662fserver \u8fd4\u56de\u7684Response \u6ca1\u5b9e\u73b0. ",
    "fengyi1117": "https://pay.weixin.qq.com/wiki/doc/api/allocation_sl.php?chapter=25_1\n\u8fd9\u4e2a\u662f\u5fae\u4fe1\u5b98\u65b9\u7684\u6587\u6863\n\u6211\u4eec\u662f\u670d\u52a1\u5546\uff0c\u4e0d\u586b\u5199\n\u5b50\u5546\u6237\u516c\u4f17\u8d26\u53f7ID  sub_appid\n\u63a5\u53e3\u8fd4\u56de\u7f3a\u5c11\u53c2\u6570sub_appid\n\u5982\u679c\u4f20\u4e86\uff0c\u5c31\u4f1a\u8fd4\u56de\u9a8c\u7b7e\u9519\u8bef\n\u6211\u770b\u4e86\u4e00\u4e0bsign\u7684\u52a0\u5bc6\u65b9\u5f0f\u662fHMAC-SHA256\n\u6700\u540e\u5728\u6e90\u7801\u91cc\u770b\u7684\u65f6\u5019\uff0cKernel/Support/Helper.php\u6587\u4ef6\u91cc\u7684generate_sign\u65b9\u6cd5\u53c2\u6570 $encryptMethod\u4e3amd5 \u5176\u4ed6\u5730\u65b9\u4e5f\u6ca1\u6709\u770b\u5230\u8bbe\u7f6e\u52a0\u5bc6\u65b9\u5f0f\u7684\u5730\u65b9\nfunction generate_sign(array $attributes, $key, $encryptMethod = 'md5')\n{\n    ksort($attributes);\n$attributes['key'] = $key;\n\nreturn strtoupper(call_user_func_array($encryptMethod, [urldecode(http_build_query($attributes))]));\n\n}. \u597d\u7684\uff01\u6211\u5148\u8bd5\u8bd5\u770b\uff01\u8c22\u8c22\uff01. ",
    "howth": "\u5514\uff0c\u56e0\u4e3a\u5fae\u4fe1\u6587\u6863\u91cc\u7528\u7684\u662f setUpdatableMsg\u3002\n\u6211\u6539\u4e00\u6539\u5427. ",
    "puzzle9": "\n$app = Factory::officialAccount($config);\n$app->rebind('request', $request);\n\n\u6211\u67e5\u627e\u534a\u5929 laravel swoole xml \u9519\u8bef\u540e\n\u5f00\u59cb\u770b\u6e90\u7801 \u627e\u5230\u8fd9\u4e2a\u6587\u4ef6\n\u7136\u540e \u6211\u4e0d\u5230\u4e3a\u4f55 \u7279\u522b\u60f3\u8d5e\u8fd9\u4e2a\u7b54\u6848\n. > @puzzle9\n\u600e\u4e48\u5f62\u5bb9\u8fd9\u79cd\u5fc3\u60c5\u5462\n\u5c31\u7528\u6709\u8da3\u6765\u6982\u62ec\u5427\n\u6709\u4e9b\u53ea\u6709\u770b\u4ee3\u7801\u624d\u4f1a\u7684\u6280\u5de7. > @puzzle9 \u6587\u6863\u4e0a\u5f88\u65e9\u5c31\u5df2\u7ecf\u5199\u4e86\u5982\u4f55\u66ff\u6362\u6a21\u5757 https://www.easywechat.com/docs/master/customize/replace-service \uff0c\u518d\u8005\uff0cSwoole \u5e76\u975e PHP \u5185\u7f6e\u7684\u6a21\u5757\uff0c\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u548c fpm \u672c\u6765\u5c31\u6709\u5dee\u5f02\uff0c\u8fd9\u4e2a\u662f\u4efb\u4f55\u6253\u7b97\u4f7f\u7528\u5b83\u7684\u4eba\u90fd\u5e94\u8be5\u4e86\u89e3\u7684\u3002\n\u8fd9\u4e2a\u771f\u7684\u662f\u6ca1\u4ed4\u7ec6\u8bfb\u6587\u6863 \u60ed\u6127\u60ed\u6127 \n\u8c22\u8c22\u8d85\u54e5. > @mingyoung \u80fd\u4e0d\u80fd\u7ed9\u4e2a\u601d\u8def\uff0c\u8fd9\u4e2a\u5e94\u8be5\u600e\u4e48\u6539\uff1f\nhttps://github.com/overtrue/wechat/issues/1401. ",
    "vancens002": "` wx.config(jssdk-&gt;buildConfig(array('onMenuShareQQ', 'onMenuShareWeibo'), true) ?&gt;); ``\n\u5728\u4f20\u5165\u4f7f\u7528\u7684\u63a5\u53e3\u65f6\uff0c\u65b0\u7248\u672c\u7684\u5fae\u4fe1\uff0c\u6bd4\u5982updateAppMessageShareData\u8fd9\u4e2a\u63a5\u53e3\uff0cwechat\u4f3c\u4e4e\u4e0d\u652f\u6301. \u597d\u7684\uff0c\u8c22\u8c22\u56de\u590d\uff0c\u6211\u5728\u5916\u9762\uff0c\u56de\u53bb\u540e\u7ed9\u4f60\u56de\u590d. \u5f53scopes\u503c\u4e3a['snsapi_base']\u65f6\uff0c\u5e76\u4e0d\u4f1a\u51fa\u73b0\u6b64\u9519\u8bef\u3002. ",
    "11Zero": "\u6211\u7684\u95ee\u9898\u662f\u6bcf\u6b21\u83b7\u53d6access_token\u90fd\u662f\u91cd\u65b0\u83b7\u53d6\uff0c\u65e5\u5fd7\u8ffd\u5230FilesystemCache\u8fd9\u4e2a\u6587\u4ef6\u7684\u521b\u5efa\u4f4d\u7f6e\uff0c\u53d1\u73b0\u5c31\u662f\u4f60\u653e\u7684\u8fd9\u6bb5\u4ee3\u7801\u4e2d$this->getCache()\u4e00\u76f4\u662f\u7a7a\u7684\uff0c\u4ee5\u81f3\u4e8e\u6bcf\u6b21\u91cd\u65b0\u521b\u5efa\u7f13\u5b58\uff0c\u518d\u8ffd\u5230FilesystemCache\u521b\u5efa\u5904\uff0c\u53d1\u73b0\u6bcf\u6b21\u90fd\u521b\u5efa\u4e0d\u4e86\uff0c\u5bfc\u81f4\u6bcf\u6b21\u90fd\u9700\u8981\u91cd\u65b0\u751f\u6210access_token\uff0c\u5149\u662f\u6628\u5929\u6d4b\u8bd5\u5c31\u628a2000\u6b21\u7528\u5b8c\u4e86\uff0c\u611f\u89c9\u8ddf\u4f60\u8fd9\u4e2a\u95ee\u9898\u6709\u73b0\u8c61\uff0c\u5144\u5f1f\u4f60\u7684\u89e3\u51b3\u4e86\u6ca1\uff1f. ",
    "Bentan95": "\u521a\u8bd5\u4e86\u4e0b\u53ef\u4ee5\u51faemoji\uff0c\u5e94\u8be5\u662f\u6d4b\u8bd5\u53f7\u51fa\u95ee\u9898\u4e86\uff0c\u6211\u5148\u5173\u95ed\u63d0\u95ee. ",
    "milkmeowo": "\u4fee\u590d OpenData \u66b4\u9732\u79d8\u94a5 bug\n\u89c1\u6587\u6863\uff0c\u53ea\u9700\u8981 access_token \u5373\u53ef\nsetUserStorage\nremoveUserStorage\n\u95ee\u9898\u4ee3\u7801\u5982\u4e0b\nhttps://github.com/overtrue/wechat/blob/ee5a28425840d757760e4bb3fc34e577b7e3bd38/src/MiniProgram/OpenData/Client.php#L43-L44\nhttps://github.com/overtrue/wechat/blob/ee5a28425840d757760e4bb3fc34e577b7e3bd38/src/MiniProgram/OpenData/Client.php#L68-L69\n\n\u4fee\u590d \u7edf\u4e00\u670d\u52a1\u4fe1\u606f \u8d8a\u754c bug\n\u5f53\u4f20\u9012\u7684\u53c2\u6570\u4e3a\u4ee5\u4e0b\u60c5\u51b5\u65f6\u5019\n$uniform->send([\n    'touser' => 'mock-user',\n    'mp_template_msg' => [],\n])\n\u8c03\u7528\nhttps://github.com/overtrue/wechat/blob/ee5a28425840d757760e4bb3fc34e577b7e3bd38/src/MiniProgram/UniformMessage/Client.php#L70\n$default[$key] \u4e0d\u5b58\u5728 mp_template_msg \u8fd9\u4e2a\u952e\u3002\u5bfc\u81f4\u51fa\u9519\nhttps://github.com/overtrue/wechat/blob/ee5a28425840d757760e4bb3fc34e577b7e3bd38/src/MiniProgram/UniformMessage/Client.php#L131\n. \n\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1433747234\n\u8fd9\u5e94\u8be5\u662f\u957f\u65f6\u95f4\u6ca1\u4e92\u52a8\uff0c\u6216\u8005\u53d6\u6d88\u5173\u6ce8\uff0c\u5bfc\u81f4\u53d1\u9001\u5931\u8d25\u3002\n\u53ef\u4ee5\u8bb0\u5f55\u4e0a\u6b21\u7684\u6d3b\u8dc3\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u5904\u7406\u8fd4\u56de\u7684\u9519\u8bef\u7801\uff0c\u505a\u76f8\u5e94\u5904\u7406\uff0c\u4f8b\u5982 45015 \u5c31\u5c1d\u8bd5\u7528\u6d88\u606f\u6a21\u677f\u53d1\u9001\n. > \u600e\u4e48\u6837\u53bb\u83b7\u53d6\u9519\u8bef\u7801\uff0c\u4e0d\u77e5\u9053\u5982\u4f55\u53bb\u622a\u83b7\n\u8fd9...\u6211\u771f\u7684\u4e0d\u77e5\u9053\u600e\u4e48\u56de\u4f60\u597d\u4e86...\n\u4f60\u8c03\u7528\u65b9\u6cd5\u5c31\u6709\u8fd4\u56de\uff0c\u8fd4\u56de\u7684\u4fe1\u606f\u91cc\u9762\u5c31\u6709\u76f8\u5e94\u7684\u6570\u636e\n```php\nuse EasyWeChat\\Kernel\\Messages\\Text;\n$message = new Text('Hello world!');\n// \u5f00\u53d1\u7684\u65f6\u5019\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b\u8c03\u8bd5\uff0c\u522b\u4eba\u65e0\u6cd5\u544a\u8bc9\u4f60\u7b54\u6848\uff0c\u53ea\u6709\u4f60\u81ea\u5df1\u53bb\u5b9e\u8df5\u624d\u80fd\u9a8c\u8bc1\u7684\u4f60\u7684\u95ee\u9898\u3002\n// \u8fd9\u91cc\u83b7\u53d6\u5230\u7684 result \u5c31\u662f\u5fae\u4fe1\u8fd4\u56de\u7684\u4fe1\u606f\uff0c\u548c\u4f60\u5728\u65e5\u5fd7\u91cc\u9762\u770b\u5230\u7684\u662f\u4e00\u6837\u7684\u3002\n$result = $app->customer_service->message($message)->to($openId)->send();\n// \u6562\u4e0d\u6562\u6253\u5370\u4e00\u4e0b $result \u770b\u770b\u5185\u5bb9\nvar_dump($result);\n// {\"errcode\":45015,\"errmsg\":\"response out of time limit or subscription is canceled hint: [G6cObA05284126]\"}\n// {\"errcode\":0,\"errmsg\":\"ok\"}\n// \u770b\u4e86\u5185\u5bb9\u4f60\u5c31\u53ef\u4ee5\u83b7\u53d6\u4f60\u60f3\u8981\u7684\u4e1c\u897f\u4e86\n$errCode = $result['errcode'];\n```\n\u8bb0\u4f4f\u591a\u53bb\u5927\u80c6\u5c1d\u8bd5\uff0c\u76f8\u4fe1\u4f60\u7684\u505a\u6cd5\u662f\u5bf9\u7684\uff0c\u6216\u8005\u662f\u5f80\u5bf9\u7684\u65b9\u5411\u53bb\u9760\u62e2\u7684\u3002\n@guoxiangke \u95ee\u9898\u89e3\u51b3\u4e86\u5c31\u5173\u4e86\u8fd9\u4e2a issues \u5427. \u62a5\u9519\u4fe1\u606f\u5df2\u7ecf\u5f88\u6e05\u6670\u4e86\uff0c\u53c2\u6570\u9519\u8bef\nhttps://github.com/overtrue/wechat/blob/28cde684a95198c0f836b0fd690b9cc3d4abfccc/src/Payment/Application.php#L175-L188\n\u652f\u4ed8\u7684 key \u7f3a\u5931\uff0c\u68c0\u67e5\u4e00\u4e0b\u4f60\u7684\u914d\u7f6e\u3002\n\u5efa\u8bae\u6253\u5370\u4e00\u4e0b\u4f60\u7684 $this->_config \u770b\u770b. \u4f60\u4f20\u5165 Factory::payment \u7684\u53c2\u6570\u5e94\u8be5\u662f\u5728\u4f60\u7684 $this->_config \u7684 payment \u91cc\u9762\u7684\u53c2\u6570\u3002\u4f20\u5165\u53c2\u6570\u4e0d\u6b63\u786e\u3002\nFactory::payment($config); \u63a5\u53d7\u7684 config \u5e94\u8be5\u4e3a\u4f60\u7684\n[app_id] => wx**********e4d403\n                    [mch_id] => 15******31\n                    [key] => JAZ3************X2dzq******WdPn\n                    [cert_path] => /apiclient_cert.pem\n                    [key_path] => /apiclient_key.pem\n                    [notify_url] => http://www.easy***wechat.com/wch\n\n```\nuse EasyWeChat\\Factory;\n        $otn = '2018121061540548424';    //  \u5546\u6237\u8ba2\u5355\u53f7\n        $refund_number = date('YmdHis') . rand(100, 999);    // \u81ea\u5b9a\u4e49\n        $total_fee = 100;  //  \u5206\u4e3a\u5355\u4f4d    \u8ba2\u5355\u91d1\u989d\n        $refund_fee = 1; //  \u5206\u4e3a\u5355\u4f4d    \u9000\u6b3e\u91d1\u989d\n        $config = [\n            'refund_desc' => '\u8ba2\u5355\u9000\u6b3e'\n        ];\n     // \u8fd9\u91cc\u4f20\u8fdb\u5165\u7684\u53c2\u6570\u662f payment \u7684\u53c2\u6570 $this->_config['payment']\uff0c\u4e0d\u662f\u6574\u4e2a\u53c2\u6570\n    $app = Factory::payment($this->_config);\n\n    $result = $app->refund->byOutTradeNumber($otn, $refund_number, $total_fee, $refund_fee, $config);\n\n    print_r($result);\n\n```\n\n\u53ef\u4ee5\u770b\u6587\u6863 https://www.easywechat.com/docs/master/payment/index\n```\nuse EasyWeChat\\Factory;\n$config = [\n    // \u5fc5\u8981\u914d\u7f6e\n    'app_id'             => 'xxxx',\n    'mch_id'             => 'your-mch-id',\n    'key'                => 'key-for-signature',   // API \u5bc6\u94a5\n// \u5982\u9700\u4f7f\u7528\u654f\u611f\u63a5\u53e3\uff08\u5982\u9000\u6b3e\u3001\u53d1\u9001\u7ea2\u5305\u7b49\uff09\u9700\u8981\u914d\u7f6e API \u8bc1\u4e66\u8def\u5f84(\u767b\u5f55\u5546\u6237\u5e73\u53f0\u4e0b\u8f7d API \u8bc1\u4e66)\n'cert_path'          => 'path/to/your/cert.pem', // XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n'key_path'           => 'path/to/your/key',      // XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n\n'notify_url'         => '\u9ed8\u8ba4\u7684\u8ba2\u5355\u56de\u8c03\u5730\u5740',     // \u4f60\u4e5f\u53ef\u4ee5\u5728\u4e0b\u5355\u65f6\u5355\u72ec\u8bbe\u7f6e\u6765\u60f3\u8986\u76d6\u5b83\n\n];\n$app = Factory::payment($config);\n``\n. @sangev5 \u4f60\u9700\u8981\u7684\u4e0d\u662f\u4e00\u8bed\u800c\u662f\u9192`\u3002\u5176\u5b9e\u5982\u679c\u7ed9\u5145\u8db3\u7684\u65f6\u95f4\uff0c\u4f60\u4e5f\u53ef\u4ee5\u53d1\u73b0\u95ee\u9898\u6240\u5728\u3002\u6240\u4ee5\u5e73\u65f6\u5f97\u6ce8\u610f\u4e00\u4e0b\u7ec6\u8282\u3002\n\u5c31\u597d\u50cf\u4e0a\u9762\u7684\u60c5\u51b5\uff0c\u9519\u8bef\u63d0\u793a\u6ca1\u6709 key \u5c31\u53ef\u4ee5\u8003\u8651\u662f\u4e0d\u662f\u6211\u4f20\u7684\u53c2\u6570\u6709\u95ee\u9898\uff1f\u4ed6\u7684\u9884\u671f\u53c2\u6570\u662f\u4ec0\u4e48\uff1f\u6211\u4f20\u5165\u7684\u53c8\u662f\u4ec0\u4e48\uff1f\u4e0d\u8981\u60f3\u5f53\u7136\u89c9\u5f97\u6211\u7684\u53c2\u6570\u90fd\u6709\u5440\uff0c\u80af\u5b9a\u6ca1\u95ee\u9898\u7684\u3002\u4f60\u5f97\u53bb\u9a8c\u8bc1\u4f60\u7684\u53c2\u6570\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u800c\u4e0d\u662f\u9760\u60f3\u3002\n\u95ee\u9898\u89e3\u51b3\u4e86\u5c31\u5173\u4e86\u8fd9\u4e2a issue \u5427. ",
    "jourdon": "\u53d1\u73b0\u8fd4\u56de\u7684$response\u5185\u5bb9\u662f\n<xml><return_code><![CDATA[SUCCESS]]></return_code><return_msg><![CDATA[]]></return_msg></xml>\n\u800c\u5b98\u65b9\u8981\u6c42\u7684\u662f\n<xml><return_code><![CDATA[SUCCESS]]></return_code><return_msg><![CDATA[OK]]></return_msg></xml>\n\u7167\u7740\u8fd9\u4e2a\u4f20\u56de\u53bb\u4f3c\u4e4e\u4e5f\u6ca1\u6709\u901a\u77e5\u5230. \u8fd8\u662f\u652f\u4ed8\u56de\u8c03\u6ca1\u6709\u901a\u77e5\u5230\u7684\u95ee\u9898\u3002\u5df2\u89e3\u51b3. ",
    "timjuly": "[2018-12-18 10:42:48] NULL.NOTICE: >>>>>>>>\nPOST /sandboxnew/secapi/pay/refund HTTP/1.1\nContent-Length: 378\nUser-Agent: GuzzleHttp/6.3.3 curl/7.62.0 PHP/7.2.12\nHost: api.mch.weixin.qq.com\nxxxxxx<![CDATA[5c185ea80f8cc]]><![CDATA[r1002-nvG54ZbqItGc1oviGs3z]]>502502<![CDATA[xxxxxx]]><![CDATA[p1002-cF0kxYPFds7sXVgnvGO7]]><![CDATA[xxxxxx]]>\n<<<<<<<<\ncURL error 52: Empty reply from server (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)\n\n[2018-12-18 10:43:10] NULL.INFO: >>>>>>>>\nPOST /sandboxnew/pay/refund HTTP/1.1\nContent-Length: 378\nUser-Agent: GuzzleHttp/6.3.3 curl/7.62.0 PHP/7.2.12\nHost: api.mch.weixin.qq.com\nxxxxxx<![CDATA[5c185ebe0ac5d]]><![CDATA[r1002-3BnO8k4vl8g8iLJrWOU8]]>502502<![CDATA[xxxxxx]]><![CDATA[p1002-X6IiBKyGjwpocvr1n3Md]]><![CDATA[xxxxxx]]>\n<<<<<<<<\nHTTP/1.1 200 OK\nServer: nginx\nDate: Tue, 18 Dec 2018 02:43:10 GMT\nContent-Type: text/plain;charset=utf-8\nContent-Length: 1707\nConnection: keep-alive\nKeep-Alive: timeout=8\nfrom: sandbox. ",
    "wiwind": "\ncomposer info overtrue/wechat \u770b\u770b\n\nname     : overtrue/wechat\ndescrip. : \u5fae\u4fe1SDK\nkeywords : sdk, wechat, weixin, weixin-sdk\nversions : * 4.1.15\ntype     : library\nlicense  : MIT License (MIT) (OSI approved) https://spdx.org/licenses/MIT.html#licenseText\nsource   : [git] https://github.com/overtrue/wechat.git 438057687bfd47d75413c7df32a698c72be751c1\ndist     : [zip] https://api.github.com/repos/overtrue/wechat/zipball/438057687bfd47d75413c7df32a698c72be751c1 43805768\n7bfd47d75413c7df32a698c72be751c1\nnames    : overtrue/wechat\n. @mingyoung \u6211\u6ca1\u7528laravel\u7f13\u5b58\u5c31\u597d\u4f7f\u4e86-\u3002-. @LiHouse \u5982\u679c\u4f60\u5f00\u542f\u4e86\uff0c\u4f60\u4f1a\u53d1\u73b0$open_platform->handleAuthorize($auth_code) \u8c03\u7528\u7684\u7f13\u5b58\u4e0d\u4f1a\u8d70laravel\u7f13\u5b58\uff0c\u5bfc\u81f4\u4f60\u83b7\u53d6\u4e0d\u5230component_verify_ticket\u7f13\u5b58\uff0c\u5efa\u8bae\u6682\u65f6\u5173\u95ed\u3002. ",
    "LiHouse": "@mingyoung \u6211\u4e5f\u9047\u5230\u540c\u6837\u7684\u95ee\u9898\u671b\u5b98\u7f51\u89e3\u51b3. @wiwind wechat.config\u4e2d\u5f00\u542fuse_laravel_cache = true \u662f\u5b8c\u5168\u6ca1\u6709\u7684\uff1f. ",
    "limingxinleo": "https://github.com/overtrue/wechat/pull/1455\n\u770b\u770b\u8fd9\u4e2apr\u6ee1\u8db3\u4f60\u7684\u6761\u4ef6\u4e48. > \u5b9e\u9645\u6d4b\u8bd5\u8fc7\u4e86\u6ca1\u5144\u5f1f\uff1f\n\u6d4b\u8fc7\u4e86\uff0c\u6211\u5148\u8ddf\u60a8\u8bf4\u4e00\u4e0b\uff0c\u6211\u52a0\u8fd9\u4e2a\u63d0\u9192\u7684\u539f\u56e0\uff0c\u6211\u4eec\u641e\u4e86\u57fa\u4e8eSwoole\u7684\u6846\u67b6\uff0c\u60f3\u4f7f\u7528\u534f\u7a0b\u7684Guzzle\u5ba2\u6237\u7aef\uff0c\u6240\u4ee5\u5c31\u60f3\u6709\u4e2a\u53ef\u4ee5\u914d\u7f6e\u534f\u7a0bHandler\u7684\u5730\u65b9\u3002\n\n. \u4e0d\u8981\u610f\u601d\u3002\u3002\u6709\u4e2a\u5355\u6d4b\u6ca1\u8fc7\u3002\u3002\u3002\n\u4f46\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2atrait\u7684\u8c03\u7528\u65b9\uff0c\u5e94\u8be5\u90fd\u6709$this->app\u624d\u5bf9\u3002\u3002\u9700\u8981\u6211\u8fd9\u91cc\u518d\u63d0\u4e2apr\uff0c\u6539\u4e00\u4e0b\u4e48\uff1f\n. \u597d. ",
    "sangev5": "\u8f93\u5904 $app->config \u7ed3\u679c\u5982\u4e0b\uff0c\u67e5\u770b\u662f\u6709\u914d\u7f6e key \u7684\n````html\nEasyWeChat\\Kernel\\Config Object\n(\n    [items:protected] => Array\n        (\n            [http] => Array\n                (\n                    [timeout] => 30\n                    [base_uri] => https://api.mch.weixin.qq.com/\n                )\n        [debug] => 1\n        [app_id] => wx**********e4d403\n        [secret] => 2242a********f792**********1124a6\n        [token] => y****8\n        [aes_key] => 0RdU**********WxDNC**********LbCfcg506J3ULdu\n        [response_type] => array\n        [log] => Array\n            (\n                [level] => debug\n                [permission] => 511\n                [file] => /application/logs/wxapp/w.log\n            )\n\n        [oauth] => Array\n            (\n                [scopes] => Array\n                    (\n                        [0] => snsapi_userinfo\n                    )\n\n                [callback] => /Wxoauth/app/wch\n            )\n\n        [payment] => Array\n            (\n                [app_id] => wx**********e4d403\n                [mch_id] => 15******31\n                [key] => JAZ3************X2dzq******WdPn\n                [cert_path] => /apiclient_cert.pem\n                [key_path] => /apiclient_key.pem\n                [notify_url] => http://www.easy***wechat.com/wch\n            )\n\n    )\n\n)\n````. \u8c22\u8c22\uff0c\u771f\u7684\u662f\u4e00\u8bed\u70b9\u9192\u68a6\u4e2d\u4eba. \u8c22\u8c22\u4f60\u6307\u70b9. ",
    "beysong": "\n\u914d\u7f6e\u5462\n\n$message2\u8fd9\u91cc\u5df2\u7ecf\u62ff\u5230\u6b63\u786e\u7684\u8fd4\u56de\u4e86\uff0c\u53ea\u662f$message->MsgType\u6216\u8005$message['MsgType']\u53d6\u4e0d\u5230\u503c\n$message = (object)$message2;\u8fd9\u6837\u8f6c\u4e86\u7c7b\u578b\u5c31\u53ef\u4ee5\u4e86\n\u4e0b\u9762\u662f\u6253\u5370\u7684$message2\n[2018-12-21 05:26:06] production.INFO: array (\n  'ToUserName' => 'gh_049265ffc458',\n  'FromUserName' => 'oVP3YwgF8vKiIXVc8zQ1Is9lDVvA',\n  'CreateTime' => '1545363577',\n  'MsgType' => 'event',\n  'Event' => 'subscribe',\n  'EventKey' => NULL,\n)  \n. \u914d\u7f6e\uff1a      \n$config = [\n            'app_id' => Settings::get('appid', 501),\n            'token' => Settings::get('token', 502),\n            'secret'  => Settings::get('secret', 503),\n            'aes_key'  => Settings::get('aes_key', 504),    // EncodingAESKey\uff0c\u517c\u5bb9\u4e0e\u5b89\u5168\u6a21\u5f0f\u4e0b\u8bf7\u4e00\u5b9a\u8981\u586b\u5199\uff01\uff01\uff01\n            'response_type' => 'array',\n            'oauth' => [\n                'scopes'   => 'snsapi_userinfo',\n                'callback' => '/beysong/weixin/wechat_callback',\n                ],\n            'log' => [\n                'level' => 'debug',\n                'file'  => '/tmp/easywechat.log', // XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n            ],\n        ];. \u62b1\u6b49\uff0c\u662f\u6211\u8fd9\u8fb9\u4ee3\u7801\u95ee\u9898. ",
    "Jackson-z6": "\u6587\u4ef6\u4f4d\u7f6e\uff1asrc/Kernel/ServerGuard.php\n\n\n\u5728\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0\u4e2d\u521b\u5efa\u7b2c\u4e09\u65b9\u5e94\u7528\uff0c\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e94\u7528\u4ee3\u66ff\u516c\u4f17\u53f7\u63a5\u6536\u56de\u590d\u6d88\u606f\u4f1a\u63d0\u793aMessages safe mode is enabled. ",
    "fanhengyuan": "\u597d\u50cf\u662f\u6628\u5929\u66f4\u65b0\u7684. \u7528\u8fd9\u4e2a\u63a5\u53e3\u7684\u65f6\u5019 \u8bb0\u5f97\u5c06\u5c0f\u7a0b\u5e8f\u7ed1\u5b9a\u5230\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0. ",
    "luffyzhao": "\u6211\u6ca1\u8ba4\u771f\u770b\u4ee3\u7801 .\u8bf7\u5e2e\u6211\u5173\u4e86\u8fd9\u4e2a.. ",
    "linuxlan": "$this->_app \u662f\u5728\u8c03\u7528initWechat\u7684\u65f6\u5019\u521d\u59cb\u5316\u7684\u3002. @overtrue  \u597d\u5427\u3002\u3002\u3002\u90a3\u6211\u81ea\u5df1\u641e\u4e00\u4e0b\u9002\u914d\u5427\u3002. ",
    "bolechen": "\u76f4\u63a5\u7528\u6570\u7ec4\u914d\u7f6e\u6765\u8c03\u7528\u7684\uff0c\u8c03\u7528\u65b9\u5f0f\u5982\u4e0b\nphp\n    //EasyWechat init\n    public function getApp(Shop $shop)\n    {\n        $config = $shop->getConfig();\n        return \\EasyWeChat\\Factory::officialAccount($config);\n    }. > \u8fd9\u4e2a\u662f\u7f13\u5b58\u5199\u5165\u5931\u8d25\u3002\u4f60\u68c0\u67e5\u4e00\u4e0b\u7f13\u5b58\u662f\u4e0d\u662f\u6ca1\u6743\u9650\u5199\u5165\uff1f\n\u95ee\u9898\u662f\u5565\u4e5f\u6ca1\u52a8\uff0c\u56de\u6eda\u5230\u65e7\u7248\u672c\u5c31\u597d\u4e86\uff0c\u6211\u518d\u90e8\u7f72\u4e2a\u73af\u5883\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u611f\u8c22\u56de\u590d. > @bolechen \u8bf7\u95ee\u4e0b\u4f60\u65e7\u7248\u672c\u662f\u4ec0\u4e48\n\u65e7\u7248\u672c\u662f 4.1.15. @hui1943 @luozhenyu \u4f60\u4eec\u597d\u4e86\u5417\uff1f\u6211\u8fd9\u91cc\u597d\u50cf\u8fd8\u662f\u4e0d\u884c\u2026\u2026 \u4e0d\u77e5\u9053\u95ee\u9898\u5728\u54ea\uff0c4.1.17 \u4e5f\u62a5\u9519\uff0c\u53ea\u6709 4.1.15 \u6b63\u5e38 @overtrue \n\n. \u6539\u6210\u4e0b\u9762\u7684\u5199\u6cd5\u540e\u4e00\u5207\u6b63\u5e38\uff0c\u4f9b\u53c2\u8003\n```php\n    /\n     * EasyWechat init\n     *\n     * @return EasyWeChat\n     /\n    public function getApp(Shop $shop)\n    {\n        $config = $shop->getConfig();\n        $app = \\EasyWeChat\\Factory::officialAccount($config);\n    //\u4e0b\u9762\u4e24\u53e5\u52a0\u4e0a\u5c31\u6b63\u5e38\u4e86\n    $cache = new \\Symfony\\Component\\Cache\\Simple\\FilesystemCache('', 0, storage_path('framework/cache/data'));\n    $app->rebind('cache', $cache);\n\n    return $app;\n}\n\n```. > \u6240\u4ee5\u5c31\u662f\u4f60\u7684 PHP \u4e34\u65f6\u76ee\u5f55\u5199\u5165\u5931\u8d25\u54af\uff1f\u56e0\u4e3a\u9ed8\u8ba4\u662f PHP \u7684\u4e34\u65f6\u76ee\u5f55\uff1ahttps://github.com/symfony/symfony/blob/4.2/src/Symfony/Component/Cache/Traits/FilesystemCommonTrait.php#L29\n\u662f\u7684\uff0c\u4e4b\u524d\u7684\u7248\u672c\u4e00\u76f4\u662f\u5199\u5165\u5931\u8d25\u7684\uff0c\u6ca1\u629b\u51fa\u9519\u8bef\u4e00\u76f4\u53d1\u73b0\u4e0d\u4e86\u3002 :'(. \u6211\u5728\u4e4b\u524d\u78b0\u5230\u548c\u4f60\u540c\u6837\u7684\u95ee\u9898\uff0c\u611f\u89c9\u5e94\u8be5\u662f\u7f13\u5b58\u7ec4\u4ef6\u5728\u751f\u4ea7\u73af\u5883\u7684\u95ee\u9898\uff0c\u6211\u662f Laravel \u6846\u67b6\uff0c\u95ee\u9898\u5728 #1447 \n\u540e\u6765\u6211\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u624b\u52a8\u6307\u5b9a Cache\uff0c\u5c31\u6b63\u5e38\u4e86\uff0c\u5177\u4f53\u539f\u56e0\u8fd8\u672a\u77e5\uff0c\u8d85\u54e5\u53ef\u4ee5\u770b\u770b\uff0c\u662f\u5426\u53ef\u4ee5\u628a\u51fa\u9519\u4fe1\u606f\u518d\u8be6\u60c5\u4e00\u4e9b @overtrue \n```php\n    /\n     * EasyWechat init\n     *\n     * @return EasyWeChat\n     /\n    public function getApp(Shop $shop)\n    {\n        $config = $shop->getConfig();\n        $app = \\EasyWeChat\\Factory::officialAccount($config);\n    //\u4e0b\u9762\u4e24\u53e5\u52a0\u4e0a\u5c31\u6b63\u5e38\u4e86\n    $cache = new \\Symfony\\Component\\Cache\\Simple\\FilesystemCache('', 0, storage_path('framework/cache/data'));\n    $app->rebind('cache', $cache);\n\n    return $app;\n}\n\n```. \u7ee7\u7eed\u4f7f\u7528 4.1.15 \u4f1a\u5bfc\u81f4 access_token \u4e0d\u7f13\u5b58\uff0c\u6bcf\u6b21\u90fd\u53bb\u83b7\u53d6\uff0c\u8bbf\u95ee\u91cf\u5927\u7684\u8bdd\uff0c\u8981\u6ce8\u610f\u914d\u989d\ntalentant notifications@github.com \u4e8e2019\u5e743\u670811\u65e5\u5468\u4e00 \u4e0b\u53482:44\u5199\u9053\uff1a\n\n@overtrue https://github.com/overtrue\n\u55ef\uff0c\u53ef\u4ee5\u5173\u95ed\u4e86\uff0c\u6211\u4eec\u76ee\u524d\u7ee7\u7eed\u4f7f\u75284.1.15\u7248\u672c\uff0c\u7b49\u6709\u7a7a\u4e86\u5728\u60f3\u5176\u4ed6\u529e\u6cd5\u89e3\u51b3\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/overtrue/wechat/issues/1483#issuecomment-471422125,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAL5x1pD975KvuShlmhAYPHNC_xBYKGXks5vVfszgaJpZM4bbpuZ\n.\n. \n",
    "mrchenzifan": "@bolechen  \u8bf7\u95ee\u4e0b\u4f60\u65e7\u7248\u672c\u662f\u4ec0\u4e48. ",
    "luozhenyu": "\u540c\u6837\u7684\u95ee\u9898\uff0c\u5df2\u7ecf\u6eda\u56de\u4e0a\u4e00\u7248. \u66f4\u65b0\u5230\u6700\u65b0\u7248\u4e4b\u540e\u4e00\u5207\u6b63\u5e38\u4e86\uff0c\u4f60\u6d4b\u4e00\u6d4b\u7f13\u5b58\u80fd\u4e0d\u80fd\u5199\u5165. ",
    "hui1943": "\u540c\u56de\u6eda. ",
    "calchen": "\u611f\u8c22\uff0c\u521a\u597d\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u7ed3\u679c\u53d1\u73b0\u4e00\u4e2a\u5c0f\u65f6\u524d\u4fee\u590d\u4e86. > @guoxiangke @calchen \u62b1\u6b49\u3002\n\u611f\u8c22\u63d0\u4f9b\u8fd9\u4e48\u597d\u7528\u7684\u5fae\u4fe1\u7ec4\u4ef6\ud83d\ude4f. ",
    "fideism": "// \u83b7\u53d6 access token \u5b9e\u4f8b\n$accessToken = $app->access_token;\n$token = $accessToken->getToken(); // token \u6570\u7ec4  token['access_token'] \u5b57\u7b26\u4e32\n$token = $accessToken->getToken(true); // \u5f3a\u5236\u91cd\u65b0\u4ece\u5fae\u4fe1\u670d\u52a1\u5668\u83b7\u53d6 token.\n\u8fd9\u4e00\u6bb5\uff0c\u4ece\u65b0\u5f3a\u5236\u83b7\u53d6token\uff0c\u5982\u4e0a\u9762\u7684app\uff1b\n\u8fd9\u6837\u662f\u4e0d\u884c\u7684\u5417\n$app= app('wechat.official');\n$app->getToken(true);. \u8d1f\u8f7d\u5747\u8861\uff0c\u6709\u591a\u53f0\u670d\u52a1\u5668\u5728\u4f7f\u7528\u4e00\u4e2a\u8d26\u53f7\u4fe1\u606f. ok\uff1b\u662f\u8981\u5171\u4eab\u7f13\u5b58\u7684\u5b58\u50a8\u662f\u5417\uff1f\u90a3\u5f3a\u5236\u5237\u65b0token\u53ef\u4ee5\u5417\uff1f\u6211\u770b\u4e86\uff0c\u7f13\u5b58\u662f\u516c\u7528\u7684\u4e00\u4e2aredis\u670d\u52a1. @overtrue \u73b0\u5728\u6211\u5c31\u662f\u5171\u4eab\u5b58\u50a8\u7684\uff0c\u5f3a\u5236\u5237\u65b0\u63d0\u793a\u65b9\u6cd5\u4e0d\u5b58\u5728\n\u6211\u662f\u8fd9\u6837\u8c03\u7528\u7684\n$app= app('wechat.official');\n$app->getToken(true);. @overtrue sorry sorry \uff1b\u770b\u6df7\u4e86. ",
    "FlyingBlazer": "\u987a\u5e8f\u7684\u95ee\u9898\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u8fdb\u884c\u5206\u6790\n\u6309\u4ee5\u4e0b\u987a\u5e8f\u8fdb\u884cpush\nphp\n$server->push('Handler 1', Message::TEXT);\n$server->push('Handler 2', Message::TEXT|Message::EVENT);\n$server->push('Handler 3', Message::TEXT);\n\u6b64\u65f6\\EasyWeChat\\Kernel\\Traits\\Observable::$handlers\u4e2d\u4e3a\nphp\n[\n    Message::TEXT => [\n        'Handler 1',\n        'Handler 3'\n    ],\n    Message::TEXT|Message::EVENT => [\n        'Handler 2'\n    ]\n]\n\u5982\u679c\u6709\u4e00\u6761\u6587\u672c\u6d88\u606f\u8fdb\u5165\uff0c\u5219\u4f1a\u63091->3->2\u7684\u987a\u5e8f\u6267\u884c\uff0c\u800c\u4e0d\u662f1->2->3\uff0c\u56e0\u4e3anotify\u65b9\u6cd5\u4e2d\u5148\u5bf9handlers\u8fdb\u884c\u4e86\u904d\u5386\uff0c\u518d\u5bf9\u5176\u4e2d\u6bcf\u4e00\u9879\u8fdb\u884c\u904d\u5386. \u6700\u5f00\u59cb\u6211\u662f\u5728\u68c0\u67e5\u524d\u4e24\u70b9\u7684\u95ee\u9898\uff0c\u7ffb\u4ee3\u7801\u7684\u65f6\u5019\u624d\u53d1\u73b0\u7b2c\u4e09\u70b9\u7684\u95ee\u9898. ",
    "kehuanhuan": "\u6d4b\u8bd5\u672a\u901a\u8fc7. \u8be5\u5206\u652f\uff0c\u4e3b\u8981\u76ee\u6807\u662f\uff1a\u63d0\u4f9b\u5c0f\u7a0b\u5e8f\uff0c\u83b7\u53d6\u7535\u5b50\u9762\u5355\u7684\u76f8\u5173\u63a5\u53e3\uff1b\u540c\u65f6\u4fee\u590d\u4e86\uff0c\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u5fae\u4fe1\u652f\u4ed8\u6a21\u5757\u62a5\u9519\u7684bug\u3002. \u8be5\u529f\u80fd\u4e0a\u7ebf\u4e86\uff0c\u4e0d\u53d1\u65b0\u7248\u672c\u4e48\uff1f\u4e0d\u7136\uff0c\u6211\u5982\u4f55\u4f7f\u7528\u6700\u65b0\u529f\u80fd\u5462\uff1f. \u672c\u6b21\u5408\u5e76\u76ee\u6807\uff1a\u5c0f\u7a0b\u5e8f-\u7269\u6d41\u52a9\u624b-\u7535\u5b50\u9762\u5355\u76f8\u5173\u63a5\u53e3\u8865\u5145\u4e00\u4e2a\u83b7\u53d6\u5feb\u9012\u8f68\u8ff9\u4fe1\u606f\u7684\u63a5\u53e3. \u662f\u7684\uff0c\u547d\u540d\u53ef\u80fd\u6709\u4e9b\u4e0d\u89c4\u8303\uff0c\\\u574f\u7b11. \u662f\u7684\uff0c\u547d\u540d\u53ef\u80fd\u6709\u4e9b\u4e0d\u89c4\u8303\\\u574f\u7b11. ",
    "iymiym": "It is the best SDK in the world for developing WeChat App! .",
    "daowojia": "\u5fae\u4fe1\u7269\u6d41\u52a9\u624b\u52a0\u4e0a\u4e86\u8bf4\u660e\u5374\u6ca1\u53d1\u5e03\u7a0b\u5e8f, \u5bb3\u6211\u7a7a\u6b22\u559c. > @daowojia\u4f60\u5728\u8bf4\u5565\u5462\uff1f\n\n\n\u5347\u52304.1.20\u6700\u65b0\u4e86,\u771f\u6ca1\u627e\u5230 express,\u4e0d\u4fe1\u4f60\u770b\u770b\u6e90\u7801. \n",
    "talentant": "\u539f\u6587\u662f\u5728easywechat.log\u8fd9\u4e2a\u6587\u4ef6\u91cc\u5417\uff1f. easywechat.log \u6ca1\u6709\u67e5\u627e\u5230\u5bf9\u5e94\u7684\u539f\u6587\uff0c\u8fd9\u4e2a\u95ee\u9898\u76ee\u524d\u6682\u65f6\u53ea\u51fa\u73b0\u8fc7\u4e24\u6b21\uff0c\u7b49\u5f85\u4e0b\u6b21\u51fa\u73b0\u8fd9\u4e2a\u60c5\u51b5\u518d\u63d0\u4ea4\u53cd\u9988. @overtrue \u660e\u767d\uff01. \u662f\u7684\uff0c\u7f13\u5b58\u786e\u5b9e\u5b58\u50a8\u6210\u529f\u4e86. ```php\n        $ok = $this->getCache()->set($this->getCacheKey(), [\n            $this->tokenKey => $token,\n            'expires_in' => $lifetime,\n        ], $lifetime - $this->safeSeconds);\n    if (!$ok) {\n        throw new RuntimeException('Failed to cache access token.');\n    }\n\n```\n\u5173\u4e8e\u8fd9\u91cc\u7684\u5224\u65ad\u65b9\u5f0f\uff0c\u6211\u8ba4\u4e3a\u7528\nphp\nif ($this->getCache()->get($this->getCacheKey()) === null) {\n    throw new RuntimeException('Failed to cache access token.');\n}\n\u7c7b\u4f3c\u7684\u601d\u8def\u66f4\u52a0\u53ef\u9760\u4e9b\u3002. @overtrue \u6211\u53ea\u80fd\u5728\u591c\u95f4\u66f4\u65b0\u670d\u52a1\u5668\uff0c\u767d\u5929\u53ef\u80fd\u4e0d\u592a\u65b9\u4fbf\u6d4b\u8bd5. @overtrue \u7a0d\u7b49\uff0c\u6211\u518d\u4ed4\u7ec6\u5206\u6790\u4e00\u4e0b\u9519\u8bef\u65e5\u5fd7. Stack trace \u662f\u8fd9\u6837\u7684\uff1a\n```\nEasyWeChat\\Kernel\\Exceptions\\RuntimeException: Failed to cache access token. in ...vendor/overtrue/wechat/src/Kernel/AccessToken.php:141\nStack trace:\n0 ...vendor/overtrue/wechat/src/Kernel/AccessToken.php(119): EasyWeChat\\Kernel\\AccessToken->setToken('19_920p1O-8gXD-...', 7200)\n1 ...vendor/overtrue/wechat/src/Kernel/AccessToken.php(246): EasyWeChat\\Kernel\\AccessToken->getToken()\n2 ...vendor/overtrue/wechat/src/Kernel/AccessToken.php(202): EasyWeChat\\Kernel\\AccessToken->getQuery()\n3 ...vendor/overtrue/wechat/src/Kernel/BaseClient.php(212): EasyWeChat\\Kernel\\AccessToken->applyToRequest(Object(GuzzleHttp\\Psr7\\Request), Array)\n```. > \u786e\u8ba4\u7f13\u5b58\u6709\u771f\u7684\u5b58\u8fdb\u53bb\n\n\u662f\u7684\uff0c\u7f13\u5b58\u786e\u5b9e\u5b58\u50a8\u6210\u529f\u4e86\n\n\u66f4\u6b63\u4e00\u4e0b\uff0c\u7ecf\u624b\u52a8\u68c0\u67e5\uff0c\u7f13\u5b58\u5e76\u6ca1\u6709\u5b58\u50a8\u6210\u529f\u3002\u611f\u8c22 @bolechen \u7684\u63d0\u9192. @overtrue \u55ef\uff0c\u53ef\u4ee5\u5173\u95ed\u4e86\uff0c\u6211\u4eec\u76ee\u524d\u7ee7\u7eed\u4f7f\u75284.1.15\u7248\u672c\uff0c\u7b49\u6709\u7a7a\u4e86\u5728\u60f3\u5176\u4ed6\u529e\u6cd5\u89e3\u51b3. @overtrue @bolechen \u660e\u767d\uff0c\u6211\u544a\u8bc9\u8fd0\u7ef4\u5904\u7406\u4e00\u4e0b\uff0c\u611f\u8c22\u4f60\u4eec\u7684\u5e2e\u52a9. ",
    "mi-autumn": "\u652f\u6301~~~. ",
    "joyeekk": "\nping @overtrue @joyeekk\n\nDone.. > setVisible?\nDone. @overtrue . ",
    "yadgen": "\n\u5199\u7684\u5565\u554a\n\n\u5443\uff0cdebug\u4fe1\u606f\u4f1a\u5199\u8fdbphp_errors.log\uff0c\u5982\u4f55\u4fee\u6539\uff1f. > \u8d34\u4e00\u4e0b\u6837\u4f8b\uff0c\u8c22\u8c22\uff0c\u5426\u5219\u6211\u5f88\u96be\u731c\u6d4b\u5230\u5e95\u662f\u4e0d\u662f SDK \u5199\u5165\u7684\u4ec0\u4e48\u5185\u5bb9\u3002\n\n\nphp_errors.log\u5185\u5bb9\uff1a\n. > \u8fd9\u662f guzzle \u5199\u7684\u65e5\u5fd7\uff0c\u4f60\u662f\u5426\u4fee\u6539\u8fc7 guzzle \u76f8\u5173\u914d\u7f6e\n\u5fae\u4fe1\u670d\u52a1\u8fd9\u5757\uff0c\u6ca1\u6539\u8fc7\u3002\n\u4f7f\u7528\u4f60\u7684\u5305\uff0c\u5b89\u88c5\u597d\uff0c\u529f\u80fd\u4f7f\u7528\u90fd\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u5c31\u53d1\u73b0\u8fd9\u4e2adebug\u65e5\u5fd7\u4f1a\u5199\u8fdbphp_errors.log\uff0c\u5f88\u5947\u602a\u3002\n\u4e0d\u8fc7\u6211\u628adebug\u66ff\u6362\u6210error\u5c31\u6ca1\u4e86\u3002. > ```\n\n$ composer info overtrue/wechat\n```\n\n\u524d\u4e24\u5929\u521a\u521a\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\u4e86\u3002\novertrue/wechat\ncomposer info overtrue/wechat\n\novertrue/laravel-wechat\ncomposer info overtrue/laravel-wechat\n\n. \n\u521d\u59cb\u5316\u7684\u65f6\u5019\uff0c\u589e\u52a0log\u9009\u9879\u5373\u53ef\uff0c\u9ed8\u8ba4\u6ca1\u8bfbconfig/wechat.php\u914d\u7f6e\u6587\u4ef6\u3002. > \u989d\uff0c\u4f60\u8fd9\u6837\u521d\u59cb\u5316\u5f53\u7136\u4e0d\u4f1a\u8bfb\u914d\u7f6e\u554a\u3002\u3002\u3002\n\u55ef\uff0c\u6211\u518d\u4ed4\u7ec6\u770b\u770b\u6587\u6863\u3002. ",
    "SifuLi": "\u652f\u4ed8\u53c2\u6570\u4e0e\u5176\u5b83\u786e\u5b9e\u4e0d\u4e00\u6837\n\n\n\n\n. \u652f\u4ed8\u4e2d\u9700\u8981\u7684\u662f\u5927\u5199\u7684\u53c2\u6570\u5462\uff0c\u4e3a\u4ec0\u4e48\u53c8\u5220\u4e86\uff0c\u66ff\u6362\u6210\u5c0f\u5199\u5462\uff1f\n\n. \u55ef\uff0c\u5b66\u4e60\u4e86\u3002\u90a3\u6587\u6863\u4e2d\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u662f\u5426\u53ef\u4ee5\u5efa\u8bae\u6539\u4e3abridgeConfig\u65b9\u6cd5\u8c03\u7528\u5462\n\n. 1. \u4e5f\u8bb8\u5c31\u662f\u907f\u514d\u50cf\u8fd9\u4e2a\u4fee\u590d\u63d0\u4ea4\u8005\u4e00\u6837\uff0c\u4ee5\u4e3a\u8fd9\u662f\u4e2abug\u3002\n2. \u6216\u8bb8\u591a\u5199\u4e00\u4e2a\u5bf9\u521a\u63a5\u89e6\u7684\u4eba\u6216\u6211\u8fd9\u79cd\u5c0f\u767d\u66f4\u53cb\u597d\u4e00\u70b9\u5427\u3002\n3. \u6211\u5f53\u65f6\u5c0f\u7a0b\u5e8f\u4f7f\u7528\u65f6\uff0c\u6ca1\u6ce8\u610ftimeStamp\u5927\u5c0f\u5199\uff0c\u6839\u636e\u5fae\u4fe1\u6587\u6863\u8c03\u7528\u51fa\u9519\u3002. @overtrue  \u975e\u5e38\u611f\u8c22\u8fd9\u4e48\u6709\u8010\u5fc3\u7684\u6c9f\u901a. ",
    "elim051": "\u914d\u7f6e\u9879\u4ee3\u7801\u5982\u4e0b \n'WECHAT_PAY' => [\n        'debug'       => false,\n        'app_id'      => 'xxxx',\n        'mch_id'      => 'xxx',\n        'key'         => 'xxx', // API \u5bc6\u94a5\n        // \u5982\u9700\u4f7f\u7528\u654f\u611f\u63a5\u53e3\uff08\u5982\u9000\u6b3e\u3001\u53d1\u9001\u7ea2\u5305\u7b49\uff09\u9700\u8981\u914d\u7f6e API \u8bc1\u4e66\u8def\u5f84(\u767b\u5f55\u5546\u6237\u5e73\u53f0\u4e0b\u8f7d API \u8bc1\u4e66)\n        'cert_path'   => '/opt/cert.pem',\n        'key_path'    => '/opt/key.pem',\n        'notify_url'  => '', //\u9ed8\u8ba4\u7684\u8ba2\u5355\u56de\u8c03\u5730\u5740\n        'log'         => [\n            'default' => 'prod',\n            'channels' => [\n                // \u751f\u4ea7\u73af\u5883\n                'prod' => [\n                    'driver' => 'daily',\n                    'path'   => '/data/easywechat.log',\n                    'level'  => 'error',\n                ],\n            ],\n        ],\n    ],\n\u5728data\u76ee\u5f55\u4e0b\u5e76\u6ca1\u6709\u751f\u6210\u65e5\u5fd7, \u8c03\u8bd5\u4ee3\u7801\u53d1\u73b0config\u8fd0\u884c\u7684\u662f\n```\nEasyWeChat\\Kernel\\Config Object\n(\n    [items:protected] => Array\n        (\n            [http] => Array\n                (\n                    [timeout] => 30\n                    [base_uri] => https://api.mch.weixin.qq.com/\n                )\n        [app_id] => xxx\n        [mch_id] => xxx\n        [key] => xxxx\n        [cert_path] => /opt/cert.pem\n        [key_path] => /opt/key.pem\n        [notify_url] =>\n        [sub_mch_id] => xxxx\n        [sub_appid] =>\n        [log] => Array\n            (\n                [default] => errorlog\n                [channels] => Array\n                    (\n                        [errorlog] => Array\n                            (\n                                [driver] => errorlog\n                                [level] => debug\n                            )\n\n                    )\n\n            )\n\n    )\n\n)\n```. ",
    "staoran": "\u6211\u4e5f\u662f\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e0d\u77e5\u9053\u548b\u89e3\u51b3\uff0c\u6c38\u8fdc\u62a5500\u9519\u8bef\u52a0\u8fd9\u4e00\u6761\u65e5\u5fd7. \u78e8\u4e86\u4e00\u4e2a\u661f\u671f\u7ec8\u4e8e\u8fd8\u662f\u641e\u5b9a\u4e86\uff0c\u65e2\u7136\u76f4\u63a5\u6253\u51fa\u4e86\u65e5\u5fd7\uff0c\u90a3\u80af\u5b9a\u8ddf\u65e5\u5fd7\u6709\u5173\u7684\uff0c\u6240\u4ee5\u52a0\u4e0a\u65e5\u5fd7\u914d\u7f6e\u5c31\u884c\u4e86\uff1b\n'log' => [\n         'level' => 'debug',\n         'file'  => 'C:\\wwwroot\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',\n     ],\n'log' => [\n        'default' => 'dev', // \u9ed8\u8ba4\u4f7f\u7528\u7684 channel\uff0c\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u6539\u4e3a\u4e0b\u9762\u7684 prod\n        'channels' => [\n            // \u6d4b\u8bd5\u73af\u5883\n            'dev' => [\n                'driver' => 'single',\n                'path' => 'C:\\\\wwwroot\\\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n                'level' => 'debug',\n            ],\n            // \u751f\u4ea7\u73af\u5883\n            'prod' => [\n                'driver' => 'daily',\n                'path' => 'C:\\wwwroot\\We7\\\\'.$mulu.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n                'level' => 'info',\n            ],\n        ],\n    ],\n\u4e24\u79cd\u683c\u5f0f\u90fd\u53ef\u4ee5\uff1b. \u54c8\u54c8\uff0c\u6211\u8fd8\u4ee5\u4e3aClosed\u4e4b\u540e\u5c31\u5b8c\u4e8b\u4e86\uff0c\u6ca1\u60f3\u5230\u4f60\u4eec\u8ba8\u8bba\u7684\u8fd9\u4e48\u70ed\u70c8\u3002\u8fd9\u4e2a\u786e\u5b9e\u662f\u6587\u6863\u6709\u4e00\u70b9\u70b9\u95ee\u9898\uff0c\u6211\u4e0b\u73ed\u8def\u4e0a\u8fd8\u5728\u60f3\u662f\u4e0d\u662f\u8981\u5e2e\u5fd9\u5b8c\u5584\u4e00\u4e0b\u652f\u4ed8-\u5165\u95e8\u90a3\u91cc\u7684\u914d\u7f6e\u3002\n\u8bf4\u5b9e\u8bdd\uff0c\u6211\u82b1\u4e00\u5468\u65ad\u65ad\u7eed\u7eed\u7684\u7422\u78e8\u7684\u8fd9\u4e2a\u5c0f\u95ee\u9898\uff0c\u73b0\u5728\u770b\u6765\u786e\u5b9e\u5f88\u5bb9\u6613\u89e3\u51b3\uff0c\u6bd4\u5982\u6211\u5982\u679c\u4ed4\u7ec6\u770b\u770b\u95ee\u9898#1486\uff0c\u53d1\u73b0\u91cc\u9762\u7684EasyWeChat\\Kernel\\Config  \u7ed3\u6784\uff0c\u5e94\u8be5\u65e9\u5c31\u53d1\u73b0\u95ee\u9898\u6240\u5728\u4e86\u3002\u4f46\u662f\u5982\u679c\u6211\u6ca1\u914d\u7f6elog\uff0c\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u675f\u4e4b\u540e\u5c31\u76f4\u63a5\u62a5500\u9519\u8bef\u52a0\u6253\u5370\u51fa\u4e00\u6761\u65e5\u5fd7\uff0c\u8fd9\u4e5f\u7740\u5b9e\u6709\u4e9b\u5947\u602a\uff0c\u5e94\u8be5\u662f\u6709\u95ee\u9898\uff0c\u4ee5\u524d\u597d\u50cf\u4e0d\u4f1a\u8fd9\u6837\uff0c\u6211\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u662f\u56e0\u4e3a\u6211\u4e00\u76f4\u7528\u7684\u662f3.X\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002\n\u5176\u5b9e\u901a\u8fc7\u770b\u5176\u4ed6\u95ee\u9898\u548c\u4e00\u523b\u793e\u533a\uff0c\u53ef\u4ee5\u770b\u5230\u4f5c\u8005\u662f\u76f8\u5f53\u70ed\u5fc3\u4e86\uff0c\u82b1\u4e86\u76f8\u5f53\u591a\u7684\u7cbe\u529b\u6765\u56de\u590d\u95ee\u9898\u7684\u3002\u7136\u540e\u8fd9\u4e00\u5468\u6211\u5929\u5929\u90fd\u6765\u5237\u65b0\u597d\u51e0\u6b21\u8fd9\u4e2a\u9875\u9762\uff0c\u6211\u90fd\u5947\u602a\u6b7b\u4e86\u600e\u4e48\u4f60\u504f\u504f\u4e0d\u56de\u590d\u8fd9\u4e2a\u95ee\u9898\u3002\u54c8\u54c8\u54c8\u54c8\u3002\n\u6211\u63a5\u89e6\u548c\u4f7f\u7528\u8fd9\u4e2aSDK\u5f88\u4e45\u4e86\uff0c\u5927\u6982\u4ece2.X\u5c31\u5f00\u59cb\u7528\u4e86\uff0c\u5728\u6b64\u4e4b\u524d\u6211\u662f\u4ece\u6765\u6ca1\u5b66\u8fc7php\u7684\uff0c\u6240\u4ee5\u6211\u57fa\u672c\u4e0a\u770b\u4e0d\u61c2\u8fd9\u4e2aSDK\u7684\u4ee3\u7801\uff0c\u6240\u4ee5\u5904\u7406\u95ee\u9898\u5f88\u5403\u529b\uff0c\u975e\u5e38\u4f9d\u8d56\u6587\u6863\u3002\u4e0d\u5f97\u4e0d\u8bf4\u8fd9\u4e2aSDK\u786e\u5b9e\u5f88\u597d\u7528\uff0c\u8ba9\u6211\u8fd9\u4e2a0\u57fa\u7840\u7684\u4eba\uff0c\u9760\u7740\u5176\u4ed6\u8bed\u8a00\u7684\u7f16\u7a0b\u7ecf\u9a8c\u505a\u51fa\u4e86\u4e00\u4e2a\u7a33\u5b9a\u8fd0\u884c\u4e86\u4e00\u5e74\u591a\u7684\u5fae\u4fe1\u540e\u7aef\uff0c\u662f\u771f\u7684\u975e\u5e38\u611f\u8c22\u4f5c\u8005\u4e86\u3002. ",
    "ding-love-yu": "\n\u78e8\u4e86\u4e00\u4e2a\u661f\u671f\u7ec8\u4e8e\u8fd8\u662f\u641e\u5b9a\u4e86\uff0c\u65e2\u7136\u76f4\u63a5\u6253\u51fa\u4e86\u65e5\u5fd7\uff0c\u90a3\u80af\u5b9a\u8ddf\u65e5\u5fd7\u6709\u5173\u7684\uff0c\u6240\u4ee5\u52a0\u4e0a\u65e5\u5fd7\u914d\u7f6e\u5c31\u884c\u4e86\uff1b\n'log' => [\n         'level' => 'debug',\n         'file'  => 'C:\\wwwroot\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',\n     ],\n'log' => [\n        'default' => 'dev', // \u9ed8\u8ba4\u4f7f\u7528\u7684 channel\uff0c\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u6539\u4e3a\u4e0b\u9762\u7684 prod\n        'channels' => [\n            // \u6d4b\u8bd5\u73af\u5883\n            'dev' => [\n                'driver' => 'single',\n                'path' => 'C:\\\\wwwroot\\\\We7\\\\'.$dir.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n                'level' => 'debug',\n            ],\n            // \u751f\u4ea7\u73af\u5883\n            'prod' => [\n                'driver' => 'daily',\n                'path' => 'C:\\wwwroot\\We7\\\\'.$mulu.'\\\\tmp\\\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01\n                'level' => 'info',\n            ],\n        ],\n    ],\n\u4e24\u79cd\u683c\u5f0f\u90fd\u53ef\u4ee5\uff1b\n\n\u8001\u54e5 \u7a33\uff01\u611f\u8c22\u60a8\uff01\u529e\u6cd5\u6709\u6548\uff01\n\u8bf4\u771f\u7684\u6211\u662f\u88ab\u6587\u6863\u8bef\u5bfc\u4e86\u5c31\u6ca1\u6709\u53bb\u8003\u8651\u914d\u7f6e\u7684\u95ee\u9898\uff0c\u6587\u6863\u4e2d\u6709\u5982\u4e0b\u51e0\u53e5\u8bdd\uff1a\n\n\u201c\u5e38\u7528\u7684\u914d\u7f6e\u53c2\u6570\u4f1a\u6bd4\u8f83\u5c11\uff0c\u56e0\u4e3a\u9664\u975e\u4f60\u6709\u7279\u522b\u7684\u5b9a\u5236\uff0c\u5426\u5219\u57fa\u672c\u4e0a\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u201d\n\u4e0d\u5efa\u8bae\u4f60\u5728\u914d\u7f6e\u7684\u65f6\u5019\u5f04\u8fd9\u4e48\u591a\uff0c\u7528\u5230\u5565\u5c31\u914d\u7f6e\u5565\u624d\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u5927\u90e8\u5206\u7528\u9ed8\u8ba4\u503c\u5373\u53ef\u3002\n\n\u8bf7\u6055\u5c0f\u5f1f\u76f4\u8a00\uff0c\u8fd9\u4e2aissue\u5f00\u542f\u4e86\u8fd9\u4e48\u4e45\u90fd\u6ca1\u4eba\u89e3\u51b3\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u914d\u7f6e\u65e5\u5fd7\u5373\u53ef\uff01\u6211\u89c9\u5f97\u7a0b\u5e8f\u771f\u7684\u4e0d\u96be\u96be\u7684\u662f\u6ca1\u4eba\u628a\u5b83\u8bf4\u6e05\u695a\uff01\u6211\u5728\u6d4b\u8bd5\u8fd9\u4e2a\u6846\u67b6\u524d\u90fd\u628a\u6587\u6863\u4ed4\u7ec6\u8fc7\u4e86\u4e00\u904d\u7684\uff0c\u4ece\u6587\u6863\u7684\u8a00\u8bed\u4e0d\u96be\u770b\u51fa\u4f5c\u8005\u53ef\u80fd\u88ab\u5f88\u591a\u4e0d\u770b\u6587\u6863\u4e00\u4e0a\u6765\u5c31\u95ee\u95ee\u9898\u7684\u4eba\u70e6\u5230\u8fc7\uff0c\u8fd9\u4e9b\u4eba\u56fa\u7136\u4e0d\u8ba8\u4eba\u559c\u6b22\uff0c\u4f46\u662f\u4e5f\u6709\u82b1\u4e86\u7cbe\u529b\u7814\u7a76\u6216\u8005\u662f\u7531\u4e8e\u7406\u89e3\u504f\u5dee\u53c8\u6216\u8005\u7531\u4e8e\u5404\u79cd\u539f\u56e0\u6ca1\u641e\u51fa\u6765\u7684\u4eba\u5b58\u5728\uff01\u5e0c\u671b\u4f5c\u8005\u4e0d\u541d\u8d50\u6559\uff01\u6211\u9047\u5230\u8fc7\u5f88\u591a\u4eba\u90fd\u559c\u6b22\u62ff\u4f60\u4e3a\u4ec0\u4e48\u4e0d\u770b\u6e90\u7801\u6765\u53cd\u9a73\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u4eba\u751f\u82e6\u77ed\u5927\u5bb6\u7684\u65f6\u95f4\u90fd\u5f88\u5b9d\u8d35\uff0c\u6211\u4eec\u9996\u5148\u5e94\u8be5\u6210\u4e3a\u4f7f\u7528\u8005\uff08\u5f53\u7136\u5fc5\u987b\u505a\u597d\u4f7f\u7528\u8005\u7684\u51c6\u5907\uff09\u800c\u4e0d\u662f\u5f00\u53d1\u8005\uff0c\u4e0d\u8be5\u9020\u8f6e\u5b50\u7684\u65f6\u5019\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u5f53\u7136\u5fc5\u8981\u65f6\u4f60\u9020\u7684\u8f6e\u5b50\u4f1a\u5e2e\u5230\u522b\u4eba\uff0c\u522b\u4eba\u9020\u7684\u8f6e\u5b50\u4e5f\u4f1a\u5e2e\u5230\u4f60\u3002\u6211\u5dee\u70b9\u5c31\u653e\u5f03\u8fd9\u4e2a\u6846\u67b6\u4e86\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u6846\u67b6\u8fd9\u4e48\u5907\u53d7\u63a8\u5d07\uff0c\u6211\u60f3\u76db\u540d\u4e4b\u4e0b\u5176\u5b9e\u96be\u526f\uff0c\u8fd8\u662f\u611f\u8c22\u4f5c\u8005\uff01\u8f9b\u82e6\u4e86\uff01\u697c\u4e0a\u8fd9\u4e2a\u8001\u54e5\u82b1\u4e86\u4e00\u5468\u65f6\u95f4\u89e3\u51b3\u4e86\u4e00\u4e2a\u201c\u5c0f\u95ee\u9898\u2018\u2019\u4e5f\u5f88\u611f\u6fc0\uff01\u5e0c\u671b\u5927\u5bb6\u4ee5\u540e\u5c11\u8d70\u5f2f\u8def\uff01. > \u55ef\uff0c\u5176\u5b9e\u6211\u7684 issue \u6a21\u7248\u91cc\u6709\u8981\u6c42\u63d0\u4f9b\u4ee3\u7801\uff0c\u4f46\u662f\u63d0\u95ee\u7684\u4eba\u6ca1\u6709\u63d0\u4f9b\uff0c\u5bfc\u81f4\u6211\u4e5f\u4e0d\u6e05\u695a\u4ed6\u5177\u4f53\u4ec0\u4e48\u539f\u56e0\uff0c\u56e0\u4e3a\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u521d\u59cb\u5316\u65b9\u6cd5\u662f\u6709\u9ed8\u8ba4\u914d\u7f6e\u7684\uff0c\u540e\u6765\u624d\u77e5\u9053\u4ed6\u662f\u624b\u52a8\u521b\u5efa\u7684\u5b9e\u4f8b\u3002\u5e76\u4e14\u4ed6\u7684\u6807\u9898\u5199\u5f97\u5f88\u8bef\u5bfc\u4eba\uff0c\u8fd9\u4e9b\u65e5\u5fd7\u53ea\u662f\u9ed8\u8ba4\u8bb0\u5f55\u5230\u73af\u5883\u7684\u9ed8\u8ba4\u8f93\u51fa\uff0c\u8fd4\u56de\u503c\u5e76\u4e0d\u4f1a\u53d7\u5f71\u54cd\u3002 \u53e6\u5916\uff0c\u4ee3\u7801\uff0c\u6587\u6863\uff0c\u90fd\u662f\u5f00\u6e90\u7684\uff0c\u53ef\u80fd\u6709\u4e9b\u5730\u65b9\u7531\u4e8e\u65f6\u95f4\u6216\u8005\u5176\u4ed6\u539f\u56e0\u5199\u5f97\u4e0d\u591f\u5168\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u8865\u5145\uff0c\u8fd9\u4e2a\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u6211\u4e0d\u662f\u9760\u5b83\u5403\u996d\uff0c\u6211\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u8981\u505a\uff0c\u5e76\u4e14\u975e\u5e38\u5fd9\uff0c\u6240\u4ee5\uff0c\u6b63\u786e\u7684\u63d0\u95ee\u80fd\u52a0\u5feb\u89e3\u51b3\u65f6\u95f4\u3002\u611f\u8c22\u7406\u89e3\u3002 ding-love-yu notifications@github.com\u4e8e2019\u5e743\u670819\u65e5 \u5468\u4e8c\u4e0b\u53484:57\u5199\u9053\uff1a\n\n\u2026\n\u78e8\u4e86\u4e00\u4e2a\u661f\u671f\u7ec8\u4e8e\u8fd8\u662f\u641e\u5b9a\u4e86\uff0c\u65e2\u7136\u76f4\u63a5\u6253\u51fa\u4e86\u65e5\u5fd7\uff0c\u90a3\u80af\u5b9a\u8ddf\u65e5\u5fd7\u6709\u5173\u7684\uff0c\u6240\u4ee5\u52a0\u4e0a\u65e5\u5fd7\u914d\u7f6e\u5c31\u884c\u4e86\uff1b 'log' => [ 'level' => 'debug', 'file' => 'C:\\wwwroot\\We7\\'.$dir.'\\tmp\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log', ], 'log' => [ 'default' => 'dev', // \u9ed8\u8ba4\u4f7f\u7528\u7684 channel\uff0c\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u6539\u4e3a\u4e0b\u9762\u7684 prod 'channels' => [ // \u6d4b\u8bd5\u73af\u5883 'dev' => [ 'driver' => 'single', 'path' => 'C:\\wwwroot\\We7\\'.$dir.'\\tmp\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01 'level' => 'debug', ], // \u751f\u4ea7\u73af\u5883 'prod' => [ 'driver' => 'daily', 'path' => 'C:\\wwwroot\\We7\\'.$mulu.'\\tmp\\'.substr(basename($_SERVER['SCRIPT_NAME']), 0, -4).date('Ymd').'.log',// XXX: \u7edd\u5bf9\u8def\u5f84\uff01\uff01\uff01\uff01 'level' => 'info', ], ], ], \u4e24\u79cd\u683c\u5f0f\u90fd\u53ef\u4ee5\uff1b \u8001\u54e5 \u7a33\uff01\u611f\u8c22\u60a8\uff01\u529e\u6cd5\u6709\u6548\uff01 \u8bf4\u771f\u7684\u6211\u662f\u88ab\u6587\u6863\u8bef\u5bfc\u4e86\u5c31\u6ca1\u6709\u53bb\u8003\u8651\u914d\u7f6e\u7684\u95ee\u9898\uff0c\u6587\u6863\u4e2d\u6709\u5982\u4e0b\u51e0\u53e5\u8bdd\uff1a \u201c\u5e38\u7528\u7684\u914d\u7f6e\u53c2\u6570\u4f1a\u6bd4\u8f83\u5c11\uff0c\u56e0\u4e3a\u9664\u975e\u4f60\u6709\u7279\u522b\u7684\u5b9a\u5236\uff0c\u5426\u5219\u57fa\u672c\u4e0a\u9ed8\u8ba4\u503c\u5c31\u53ef\u4ee5\u4e86\u201d \u4e0d\u5efa\u8bae\u4f60\u5728\u914d\u7f6e\u7684\u65f6\u5019\u5f04\u8fd9\u4e48\u591a\uff0c\u7528\u5230\u5565\u5c31\u914d\u7f6e\u5565\u624d\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u5927\u90e8\u5206\u7528\u9ed8\u8ba4\u503c\u5373\u53ef\u3002 \u8bf7\u6055\u5c0f\u5f1f\u76f4\u8a00\uff0c\u8fd9\u4e2aissue\u5f00\u542f\u4e86\u8fd9\u4e48\u4e45\u90fd\u6ca1\u4eba\u89e3\u51b3\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u914d\u7f6e\u65e5\u5fd7\u5373\u53ef\uff01\u6211\u89c9\u5f97\u7a0b\u5e8f\u771f\u7684\u4e0d\u96be\u96be\u7684\u662f\u6ca1\u4eba\u628a\u5b83\u8bf4\u6e05\u695a\uff01\u6211\u5728\u6d4b\u8bd5\u8fd9\u4e2a\u6846\u67b6\u524d\u90fd\u628a\u6587\u6863\u4ed4\u7ec6\u8fc7\u4e86\u4e00\u904d\u7684\uff0c\u4ece\u6587\u6863\u7684\u8a00\u8bed\u4e0d\u96be\u770b\u51fa\u4f5c\u8005\u53ef\u80fd\u88ab\u5f88\u591a\u4e0d\u770b\u6587\u6863\u4e00\u4e0a\u6765\u5c31\u95ee\u95ee\u9898\u7684\u4eba\u70e6\u5230\u8fc7\uff0c\u8fd9\u4e9b\u4eba\u56fa\u7136\u4e0d\u8ba8\u4eba\u559c\u6b22\uff0c\u4f46\u662f\u4e5f\u6709\u82b1\u4e86\u7cbe\u529b\u7814\u7a76\u6216\u8005\u662f\u7531\u4e8e\u7406\u89e3\u504f\u5dee\u53c8\u6216\u8005\u7531\u4e8e\u5404\u79cd\u539f\u56e0\u6ca1\u641e\u51fa\u6765\u7684\u4eba\u5b58\u5728\uff01\u5e0c\u671b\u4f5c\u8005\u4e0d\u541d\u8d50\u6559\uff01\u6211\u9047\u5230\u8fc7\u5f88\u591a\u4eba\u90fd\u559c\u6b22\u62ff\u4f60\u4e3a\u4ec0\u4e48\u4e0d\u770b\u6e90\u7801\u6765\u53cd\u9a73\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u4eba\u751f\u82e6\u77ed\u5927\u5bb6\u7684\u65f6\u95f4\u90fd\u5f88\u5b9d\u8d35\uff0c\u6211\u4eec\u9996\u5148\u5e94\u8be5\u6210\u4e3a\u4f7f\u7528\u8005\uff08\u5f53\u7136\u5fc5\u987b\u505a\u597d\u4f7f\u7528\u8005\u7684\u51c6\u5907\uff09\u800c\u4e0d\u662f\u5f00\u53d1\u8005\uff0c\u4e0d\u8be5\u9020\u8f6e\u5b50\u7684\u65f6\u5019\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u5f53\u7136\u5fc5\u8981\u65f6\u4f60\u9020\u7684\u8f6e\u5b50\u4f1a\u5e2e\u5230\u522b\u4eba\uff0c\u522b\u4eba\u9020\u7684\u8f6e\u5b50\u4e5f\u4f1a\u5e2e\u5230\u4f60\u3002\u6211\u5dee\u70b9\u5c31\u653e\u5f03\u8fd9\u4e2a\u6846\u67b6\u4e86\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u6846\u67b6\u8fd9\u4e48\u5907\u53d7\u63a8\u5d07\uff0c\u6211\u60f3\u76db\u540d\u4e4b\u4e0b\u5176\u5b9e\u96be\u526f\uff0c\u8fd8\u662f\u611f\u8c22\u4f5c\u8005\uff01\u8f9b\u82e6\u4e86\uff01\u697c\u4e0a\u8fd9\u4e2a\u8001\u54e5\u82b1\u4e86\u4e00\u5468\u65f6\u95f4\u89e3\u51b3\u4e86\u4e00\u4e2a\u201c\u5c0f\u95ee\u9898\u2018\u2019\u4e5f\u5f88\u611f\u6fc0\uff01\u5e0c\u671b\u5927\u5bb6\u4ee5\u540e\u5c11\u8d70\u5f2f\u8def\uff01 \u2014 You are receiving this because you modified the open/close state. Reply to this email directly, view it on GitHub <#1490 (comment)>, or mute the thread https://github.com/notifications/unsubscribe-auth/ABZ3YH9-cCmiuTjn1vZbJgvg38INZ3a9ks5vYKZvgaJpZM4bsn8C .\n\n\u4f5c\u8005\u60a8\u597d\uff01\u6211\u662f\u63d0\u95ee\u8005\u3002\n\u9996\u5148\uff0c\u611f\u8c22\u60a8\u767e\u5fd9\u4e4b\u4e2d\u7684\u56de\u590d\u4e0e\u5e2e\u52a9! \n\u5176\u6b21\uff0c\u5bf9\u7531\u4e8e\u5c0f\u5f1f\u63d0\u95ee\u7684\u4e0d\u89c4\u8303\u6027\u7ed9\u60a8\u548c\u5927\u5bb6\u9020\u6210\u7684\u56f0\u6270\u6df1\u8868\u6b49\u610f\uff01\u4e07\u671b\u8c05\u89e3\uff01\n\u6700\u540e\uff0c\u5c0f\u5f1f\u7684\u672c\u610f\u662f\u627e\u51e0\u4e2a\u63a5\u53e3\u6d4b\u8bd5\u4e0b\uff0c\u56e0\u4e3a\u540e\u9762\u7684\u63a5\u53e3\u9700\u8981\u524d\u9762\u63a5\u53e3\u7684\u8fd4\u56de\u6570\u636e\uff0c\u6240\u4ee5\u6211\u76f4\u63a5\u6253\u5370\u4e86\u524d\u9762\u63a5\u53e3\u7684\u8fd4\u56de\u503c\u60f3\u4e00\u7aa5\u7a76\u7adf\uff0c\u8c01\u6599\u5230\u8fd4\u56de\u503c\u4e0d\u662f\u6570\u7ec4\u800c\u662f\u4e00\u4e2a\u65e5\u5fd7\u5f62\u5f0f\u7684\u6570\u636e\uff0c\u8fd9\u6837\u6211\u540e\u9762\u7684\u63a5\u53e3\u6ca1\u529e\u6cd5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u6570\u636e\u4e86\u3002\u53ef\u80fd\u662f\u5c0f\u5f1f\u624d\u758f\u5b66\u6d45\u54ea\u91cc\u641e\u9519\u4e86\uff0c\u6545\u6b64\u624d\u6709\u6b64\u4e00\u95ee\n\n\uff08\u63a5\u53e3\u8fd4\u56de\u503c\u4e3a\u4ec0\u4e48\u4e0d\u662f\u6570\u7ec4 \u800c\u662f\u76f4\u63a5\u6253\u5370\u8bf7\u6c42\u4e0e\u54cd\u5e94\u4fe1\u606f\u5462\uff1f\uff09\n\n\uff0c\u4ee3\u7801\u662f\u4ee5\u622a\u56fe\u5f62\u5f0f\u653e\u5728\u6700\u540e\u7684\uff0c\u5f53\u7136\uff0c\u95ee\u9898\u63d0\u7684\u4e0d\u592a\u4e13\u4e1a\uff0c\u6df1\u8868\u6b49\u610f\uff0c\u4ee5\u540e\u4f1a\u52a0\u4ee5\u6539\u6b63\uff01\n\u53e6\u5916\uff0c\u6211\u521b\u5efa\u5b9e\u4f8b\u7684\u65f6\u5019\u662f\u7528\u7684 $app = Factory::payment($config); \u8fd9\u4e2a\u662f\u6211\u67e5\u9605\u6587\u6863\u65f6\u6587\u6863\u4e2d\u8bf4\u6240\u6709\u7684\u5b9e\u4f8b\u90fd\u662f\u6309\u6b64\u6cd5\u521b\u5efa\u7684\uff08\u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u652f\u4ed8\u5b9e\u4f8b\uff09\uff0c\u800c\u4f5c\u8005\u60a8\u5728\u56de\u590d\u4e2d\u8bf4\u6211\u662f\u624b\u52a8\u521b\u5efa\u7684\u5b9e\u4f8b\uff0c\u8bf7\u95ee\u662f\u54ea\u513f\u641e\u9519\u4e86\u4e48\uff0c\u4e07\u671b\u6307\u6b63\uff01\n\u4e07\u5206\u611f\u8c22\u4f5c\u8005\u63d0\u4f9b\u8fd9\u4e48\u597d\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u5c0f\u5f1f\u6ca1\u6709\u4e00\u4e1d\u4e0d\u656c\uff0c\u53ef\u80fd\u7531\u4e8e\u65f6\u95f4\u8fc7\u53bb\u592a\u957f\u4e86\u52a0\u4e4b\u7126\u6025\u7684\u5fc3\u6001\u8a00\u8bed\u6709\u4e9b\u4e0d\u5f53\uff0c\u4e07\u671b\u6d77\u6db5\uff01 \u5c0f\u5f1f\u5728\u6b64\u62dc\u8c22\uff01\u4e0d\u80dc\u611f\u6fc0\uff01\uff01\uff01. > \u6700\u540e\u8fd9\u6761\u56de\u590d\u5176\u5b9e\u662f\u6211\u5728\u90ae\u4ef6\u76f4\u63a5\u56de\u7684\uff0c\u4f46\u662f\u7f51\u7edc\u95ee\u9898\u6ca1\u53d1\u51fa\u53bb\uff0c\u6211\u7528\u624b\u673a\u6d4f\u89c8\u5668\u6253\u5f00 issue \u770b\u4e86\uff0c\u91cd\u65b0\u5199\u7684\u56de\u590d\u662f\u4e0a\u4e0a\u6761\uff0c\u4f46\u662f gmail \u90ae\u7bb1\u91cd\u8bd5\u53c8\u628a\u8fd9\u4e2a\u56de\u590d\u51fa\u53bb\u4e86\u2026\u2026\uff0c\u8fd9\u662f\u6211\u7684\u9505\uff0c\u4f60\u7684\u63d0\u95ee\u5f88\u6807\u51c6\uff0c\u53ea\u4e0d\u8fc7\u6211\u5728\u90ae\u4ef6\u4e2d\u76f4\u63a5\u56de\u590d\u7684\u65f6\u5019\u8bef\u4ee5\u4e3a\u662f\u53e6\u5916\u4e00\u4e2a\u4eba\u7684\u95ee\u9898(\u53ea\u8bf4\u4e86\u7ed3\u679c\u6ca1\u8d34\u4ee3\u7801)\u4e86\uff0c\u5bf9\u4e0d\u4f4f\uff0c\u8fd9\u662f\u6211\u7684\u9505\u3002\n\n\u8fd9\u91cc\u8bf4\u7684\u624b\u52a8\u521b\u5efa\u5b9e\u4f8b\uff0c\u5176\u5b9e\u662f\u8fd9\u6837\u7684\uff0c\u6211\u4ee5\u4e3a\u4f60\u7528\u7684\u6846\u67b6\uff0c\u6846\u67b6\u6211\u90fd\u5c01\u88c5\u4e86\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4e5f\u5c01\u88c5\u4e86\u9ed8\u8ba4\u7684\u5404\u6a21\u5757\u521b\u5efa\u65b9\u6cd5\uff0c\u90a3\u6837\u4f7f\u7528\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e9b\u624b\u52a8\u5199\u914d\u7f6e\u7684\u60c5\u51b5\u3002\n\u603b\u7ed3\u4e0b\u6765\u8fd8\u662f\u6211\u7684\u6587\u6863\u95ee\u9898\uff0c\u4e00\u4f1a\u513f\u7b49\u5a03\u7761\u7740\u4e86\u6211\u5c31\u6765\u6539\u6587\u6863\uff0c\u7ed9\u60a8\u9020\u6210\u7684\u4e0d\u4fbf\u656c\u8bf7\u8c05\u89e3\u3002\n\n\u54c8\u54c8 \u6ca1\u4e8b\u7684\u8001\u54e5\uff01\u4e5f\u6709\u6211\u7684\u9505\uff0c\u6211\u4e4b\u524d\u6ca1\u7528\u8fc7easywechat\u4f46\u662f\u5b83\u5374\u5982\u96f7\u8d2f\u8033\uff0c\u6240\u4ee5\u6211\u5c31\u4e86\u89e3\u4e86\u4e0b\u7136\u540e\u6839\u636e\u4f8b\u5b50\u60f3\u505a\u51e0\u4e2a\u6d4b\u8bd5\uff0c\u6240\u4ee5\u4e5f\u6ca1\u7528\u4ec0\u4e48\u6846\u67b6\uff01\u53ef\u80fd\u60a8\u8fd8\u6ca1\u9047\u5230\u6211\u8fd9\u4e48\u65e0\u804a\u7684\u4eba\u3002\u3002\u3002\uff0c\u6700\u540e\u606d\u559c\u8001\u54e5\u554a\uff0c\u90fd\u662f\u5f53\u7239\u7684\u4eba\u4e86\uff0c \u6211\u8fd9\u4e2a\u4e0d\u6025\u7684 \u4f60\u6709\u7a7a\u518d\u770b\u4e5f\u6ca1\u4e8b\uff01. ",
    "troubleman": "\u4f46\u662f\u5982\u679c\u9519\u8bef\u4e0d\u662f\u7236\u7c7b\u91cc\u9762\u5b9a\u4e49\u7684\u8bdd\u663e\u793a\u7684\u662f\u9ed8\u8ba4\u7684\uff0c \u611f\u89c9\u5bb9\u6613\u627e\u4e0d\u5230\u9519\u8bef\u7684\u5730\u65b9\n. \u597d\u7684\uff0c\u5199\u7684\u65f6\u5019\u60f3\u95ee\u8fd9\u6837\u597d\u4e0d\u597d\n. ",
    "ssjssh": "\u53ef\u4ee5\u554a\uff0c\u6211\u8fd9\u5c31\u6539\u8d77\u6765\u3002\n. \u7b49\u6211\u7528php5.3\u548cphp5.5\u6d4b\u8bd5\u4e0b\uff0c\u6211\u7528\u76845.6.9\u5b8c\u5168\u6ca1\u6709\u95ee\u9898\uff0c\u4e24\u4e2a\u90fd\u53ef\u4ee5\u8bfb\u53d6\u3002\n. \u6211\u7528\u8fd9\u884c\u4ee3\u7801\u6d4b\u8bd5\n\nvar_dump(phpversion());\nvar_dump($GLOBALS['HTTP_RAW_POST_DATA']);\nvar_dump(file_get_contents('php://input'));\n\n\u4e0b\u9762\u662f\u7ed3\u679c\nstring(6) \"5.3.29\" string(12) \"fqwefqwefwqf\" string(12) \"fqwefqwefwqf\"\nstring(6) \"5.4.45\" string(12) \"fqwefqwefwqf\" string(12) \"fqwefqwefwqf\"\nstring '5.5.23-1+deb.sury.org~trusty+2' (length=30)\nstring 'fqwefqwefwqf' (length=12)\nstring 'fqwefqwefwqf' (length=12)\nstring '5.6.9' (length=5)\nstring 'fqwefqwefwqf' (length=12)\nstring 'fqwefqwefwqf' (length=12)\n\u6211\u7684\u90fdOK\u7684\u554a\uff0c\u4f60\u90a3\u8fb9\u4e3a\u5565\u51fa\u95ee\u9898\uff1f\u914d\u7f6e\u7684\u95ee\u9898\uff1f\n. @viko16 \u80fd\u4e0d\u80fd\u5e2e\u7740\u6d4b\u8bd5\u4e0b\u3002\n. @overtrue  \u662f\u7684\u3002php5.6\u4f1a\u8b66\u544a\u3002\u6240\u4ee5\u6700\u597d\u8fd8\u662f\u76f4\u63a5\u628a$HTTP_RAW_POST_DATA\u53bb\u6389\u5427\u3002\u4f60\u7684\u90a3\u8fb9\u8fd8\u6709bug\u5417\uff1f\n. ",
    "amyuki": "@overtrue \u8c03\u7528getSignkey\u65b9\u6cd5\u4f86\u83b7\u53d6\u5546\u5bb6\u7684\u5bc6\u94a5\u6216\u6c99\u76d2\u5bc6\u94a5. ",
    "WayneLiang": "\u5fc5\u586b\uff0c\u5df2\u4fee\u6539. ",
    "Chrisleung": "pre_auth_code \u540e\u7eed\u8fd8\u9700\u8981\u53c2\u4e0e\u62fc\u63a5\u6388\u6743url, \u9700\u8981\u9884\u5148\u751f\u6210.\n\u6539\u6210\u90a3\u6837\u7684\u8bdd,\u540e\u7eed\u83b7\u53d6\u4e0d\u5230 pre_auth_code\n\u4f01\u4e1a\u6388\u6743\u5e94\u7528-\u4ece\u670d\u52a1\u5546\u7f51\u7ad9\u53d1\u8d77. \u5bf9\u7684, pre_auth_code \u76f8\u5f53\u4e8e\u4e00\u4e2a\u4ee4\u724c,\u8981\u5148\u83b7\u53d6,\n\u518d\u7528 setSession \u53bb\u8bbe\u7f6e\u8fd9\u6b21\u6388\u6743\u662f \u6b63\u5f0f\u6388\u6743 \u8fd8\u662f \u6d4b\u8bd5\u6388\u6743\n\u6700\u540e\u8fd4\u56de \u6388\u6743URL. EasyWeChat\\OpenWork\\Corp\\Client \u5185\u6709\u4e2a getPreAuthorizationUrl \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6 \u6388\u6743URL\n\u4f46\u662f\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u5dee\u4e2a \u6388\u6743\u914d\u7f6e\u5904\u7406 \u5373 setSession. @mingyoung \u770b\u770b\u8fd9\u6837\u6539\u884c\u4e0d\u884c? \n\u914d\u7f6e\u597d auth_type \u540e, \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 getPreAuthorizationUrl \u83b7\u53d6\u6388\u6743URL\n```diff\n    public function getPreAuthorizationUrl(string $redirectUri = '', string $state = '')\n     {\n         $redirectUri || $redirectUri = $this->app->config['redirect_uri_install'];\n         $state || $state = rand();\n+        $preAuthCode=$this->getPreAuthCode()['pre_auth_code'];\n+        $this->setSession($preAuthCode, array(\"auth_type\"=>$this->app->config['auth_type']));\n         $params = [\n             'suite_id' => $this->app['config']['suite_id'],\n             'redirect_uri' => $redirectUri,\n-            'pre_auth_code' => $this->getPreAuthCode()['pre_auth_code'],\n+            'pre_auth_code' => $preAuthCode,\n             'state' => $state,\n         ];\n        return 'https://open.work.weixin.qq.com/3rdapp/install?'.http_build_query($params);\n    }\n     ...\n\npublic function setSession(array $data)\npublic function setSession(string $preAuthCode, array $sessionInfo)\n     {\nreturn $this->httpPostJson('cgi-bin/service/set_session_info', $data);\nreturn $this->httpPostJson('cgi-bin/service/set_session_info', array(\n\"pre_auth_code\" => $preAuthCode,\n\"session_info\" => $sessionInfo\n));\n     }\n\n. \u4e24\u4e2a API\u5206\u5f00\u8c03\u7528\u7684\u8bdd,getPreAuthorizationUrl\u5f97\u4f20\u5165\u5df2\u8bbe\u7f6e\u6388\u6743\u914d\u7f6e\u7684pre_auth_code\u624d\u80fd\u6b63\u5e38\u4f7f\u7528.setSession\u7684sessionInfo\u662f\u5fc5\u987b, \u4f46\u662f\u7684\u53c2\u6570appidauth_type``` \u4e0d\u662f\u5fc5\u987b,\u6240\u4ee5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u503c. \u8bbe\u7f6e\u6388\u6743\u914d\u7f6e\n```diff\n-    public function getPreAuthorizationUrl(string $redirectUri = '', string $state = '')\n+    public function getPreAuthorizationUrl(string $preAuthCode, string $redirectUri = '', string $state = '')\n    {\n        $redirectUri || $redirectUri = $this->app->config['redirect_uri_install'];\n        $state || $state = rand();\n        $params = [\n            'suite_id' => $this->app['config']['suite_id'],\n            'redirect_uri' => $redirectUri,\n-           'pre_auth_code' => $this->getPreAuthCode()['pre_auth_code'],\n+           'pre_auth_code' => $preAuthCode,\n            'state' => $state,\n        ];\n    return 'https://open.work.weixin.qq.com/3rdapp/install?' . http_build_query($params);\n}\n\n...\n\n\npublic function setSession(array $data)\npublic function setSession(string $preAuthCode, array $sessionInfo = array())\n    {\nreturn $this->httpPostJson('cgi-bin/service/set_session_info', compact('data'));\nreturn $this->httpPostJson('cgi-bin/service/set_session_info', array(\n\"pre_auth_code\" => $preAuthCode,\n\"session_info\" => $sessionInfo\n));\n    }\n\n```. ",
    "XiaolonY": "\u597d\u7684\u6211\u6539\u4e00\u4e0b. "
}