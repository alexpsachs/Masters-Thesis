{
    "teran-mckinney": "I haven't looked into the code on this, but it seems like there's a database and the files are tracked generally by the same name. Were the files the same? They should be saved to ./ if you are fetching.\nIf encrypted, it makes a new extension so it's slightly different.\n. Sorry, wrong repository.\nlbryio/lbrycrd/issues/1\n. ",
    "Akuukis": "@teran-mckinney ,\nit was the same file I wanted to download but not sure if there were 1 or 2 seperate files downloading.\n. ",
    "jimmykiselak": "This is happening because the metadata is currently only stored in the database once for each unique file, and if that file is downloaded more than once and one of the downloads is removed, the metadata gets deleted for all of them.\n. This is fixed by https://github.com/lbryio/lbry/commit/2ddeca2976a0acaae6ba1795988ec10484ccb300\n. Some of these are fine (LBRYSession -> Session, LBRYWallet -> Wallet) but I\nwould caution against changing LBRYFile to File. An LBRYFile is just one\nparticular method of breaking a regular plaintext file into chunks suitable\nfor being distributed via lbrynet and then recombining them. There are\nother ways it can be done (for example, not encrypting the chunks, not\nputting the encryption key directly in the stream descriptor, etc) and I\nthink it would be a good idea to design the system with that in mind.\nLBRYFile is not a good name but I think File is a step in the wrong\ndirection.\nOn Sep 26, 2016 9:50 AM, \"Jeremy Kauffman\" notifications@github.com wrote:\n\n@kauffj commented on this pull request.\n\ud83d\udc4f\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/174#pullrequestreview-1537828, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAdx5KLaQvXWVjtVdzlhmEOr3qJU_Y0mks5qt82HgaJpZM4KGEvE\n.\n. @lyoshenka nope, haven't seen that before.. \n",
    "kauffj": "Ty @teran-mckinney!\n. It's possible I'm misunderstanding this, but I think this change was made. The install does go to /usr/share, though it is /usr/share/python/lbrynet, not /usr/share/lbrynet. \n. Either way, @jackrobison can you close or address this? Let's not leave PRs hanging for so long!\n. @lyoshenka should be the one to merge this. Also, what does @jackrobison need to do to get the OSX build working in Travis?\n. Got excited for approximately 3 seconds\nOn Oct 18, 2016 7:57 PM, \"Job Evers\u2010Meltzer\" notifications@github.com\nwrote:\n\nmoved to asana\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/89#issuecomment-254672953, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVo6dYS2shsHxHjKC381JmANCF9faks5q1VzbgaJpZM4JPLUR\n.\n. @jobevers you and @lyoshenka are going to be best friends!\n\nShouldn't this PR be getting reviewed by one of you before merge anyway? Developers should only merge their own PRs if they are extraordinarily simple or extraordinarily urgent.\n. Prepare for tsk tsking from @jobevers and/or @lyoshenka for mixing features in one branch :D\n. Yes, @alexliebowitz PLEASE introduce state to the web app. The web app\nshould not be setting state in the daemon.\nOn Wed, Aug 3, 2016 at 3:17 PM, Job Evers\u2010Meltzer notifications@github.com\nwrote:\n\n\nIt bothers me that there needs to be four related sets of changes to\n  add one setting.\nI think overall the settings and configuration logic needs to be\n  move out of the daemon.\n\nLarger structural issues notwithstanding, this LGTM.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/108#issuecomment-237342215, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVi_WBLdhxnsmAhL0ubNYLft5C_fvks5qcOlGgaJpZM4JaTM8\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. :D\nOn Wed, Aug 3, 2016 at 3:53 PM, Job Evers\u2010Meltzer notifications@github.com\nwrote:\n\nOh, I see how that was confusing. When I said \"settings and configuration\nshould be moved out of the daemon\" - I meant out of the LBRYDaemon class.\nThe logic for that should be delegated to another class.\nBut, yes, I agree that the UI should avoid using the backend to persist\nits state.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/108#issuecomment-237351984, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZViBpr74M7GwA4ZY0KMZ7AG_OJf1qks5qcPHVgaJpZM4JaTM8\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. I think this can go up but I'd also like to set a time to discuss the way that this could be done better. @jackrobison connect with me on Slack and let's discuss in real time.\n. @jackrobison I think you can merge this on your own\n. This is blocking an interface feature (always display receive address), please fix.\n. If you wanted to work with one of our devs on this, we'd be happy to\ntip/compensate for your help here! Can chat in real time in our Slack:\nhttps://slack.lbry.io - join #dev.\nOn Sat, Sep 3, 2016 at 12:17 AM, Andrew Bueide notifications@github.com\nwrote:\n\nAre there any directions to install on arch linux? I tried following\ncommand line instructions for ubuntu, but I just kinda hoped i had the\ncorrect dependencies installed and I ended up getting this\nhttps://gist.github.com/abueide/46d6b84f75adbbf6d2e004fac1b57cb5.\nInstall instructions should be added for arch linux if anyone figures it\nout.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/151, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVruy5e8IyRp4U6VYMUHgN3FIcOibks5qmPTbgaJpZM4J0OBO\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. @hpierce1102 can you open your changes as a pull request? and/or can @lyoshenka or @jimmykiselak look at this and make required changes?\n. If setup.py runs successfully, I think you can run lbrynet-daemon directly. Not sure where it ends up when you do a manual compile.\nSincerely,\nleast capable person participating in this thread\n. Awesome! There may be some obscure reason we're on unqlite 0.2.0. @jobevers or @jackrobison can you comment?\n. And if you're in our Slack, please DM me at kauffj so I know who you are. Great contribution!\n. @jimmykiselak are you running LBRY on Arch?\n. Awesome! Minor DRY violation (assuming Python supports deep dictionary\nmerges)\nOn Wed, Sep 28, 2016 at 12:11 PM, Job Evers\u2010Meltzer \nnotifications@github.com wrote:\n\nAdds a new event Download Started which is triggered when _download_name\nis called. This will enable a better \"active user\" metric.\nThe resulting event looks like:\n```{\n\"context\": {\n\"is_dev\": false,\n\"os\": {\n\"version\": \"15.6.0\",\n\"name\": \"Darwin\"\n},\n\"app\": {\n\"ui_version\": \"fdc6329c2fa35353db1a6c0f9a697216e78e1848\",\n\"version\": \"0.5.0\",\n\"name\": \"lbrynet\",\n\"wallet\": {\n\"version\": null,\n\"name\": \"lbrycrd\"\n},\n\"python_version\": \"2.7.11\"\n},\n\"library\": {\n\"version\": \"1.0.0\",\n\"name\": \"lbrynet-analytics\"\n}\n},\n\"event\": \"Download Started\",\n\"properties\": {\n\"stream_info\": null,\n\"lbry_id\": \"4vox16oB69xoy742F9nTfKVn8KGhLaLiCNPEwX7QfqEyWgDgcJWWJtCEcKAv\nf7ADZc\",\n\"name\": \"francine\",\n\"session_id\": \"t92dkf4hs82831JiwNwiEaM7oeUKyU\nht4mGf7sD3BkPTPLcn9rRRoNarigDvGPfyv\"\n},\n\"receivedAt\": \"2016-09-28T16:04:54.423Z\",\n\"timestamp\": \"2016-09-28T16:04:53.975Z\",\n\"userId\": \"lbry\",\n\"type\": \"track\",\n\"originalTimestamp\": \"2016-09-28T16:04:53.975327Z\",\n\"messageId\": \"api-1cbVo39afr1ybsxQn9TudUUsiPyVEuAc\",\n\"integrations\": {}\n}\n\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/lbryio/lbry/pull/176\nCommit Summary\n- simplify callback when downloading\n- send Download Started event\nFile Changes\n- M lbrynet/analytics/events.py\n  https://github.com/lbryio/lbry/pull/176/files#diff-0 (29)\n- M lbrynet/lbrynet_daemon/LBRYDaemon.py\n  https://github.com/lbryio/lbry/pull/176/files#diff-1 (20)\nPatch Links:\n- https://github.com/lbryio/lbry/pull/176.patch\n- https://github.com/lbryio/lbry/pull/176.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/176, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVmQ9MV6c9Abxg1HXWi-OJOENlJbjks5qupGggaJpZM4KJA-7\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. :+1: this is a good idea!\n. Even better it should just not allow and/or remove invalid characters after\nthey are typed, ideally with some feedback to the user\nOn Fri, Nov 4, 2016 at 1:20 PM, Job Evers\u2010Meltzer notifications@github.com\nwrote:\n\nThe front-end says that testunicode is but I was asking for test_unicode:\n[image: image]\nhttps://cloud.githubusercontent.com/assets/2380127/20015296/eeef56c6-a288-11e6-8077-8acd1d223962.png\nInstead, it should warn that _ is not a valid character for a lbry name.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/244, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVgoJuCqaZRhcqmgmle3NR6SOTyxhks5q62lqgaJpZM4KpybK\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. fuck yes\nOn Thu, Nov 10, 2016 at 3:54 PM, Alex Grin notifications@github.com wrote:\n\n\nmove analytics creation earlier in the startup process\nadd several events to track startup, startup failure, other errors\nabstract platform detection into separate file\nadd \"build\" type to platform so we can differentiate devs vs live\n  users\n\nthis is still missing the code that sets \"build\" in Travis, but im running\nout of time\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/lbryio/lbry/pull/263\nCommit Summary\n- i love constants\n- improve error analytics\nFile Changes\n- M lbrynet/analytics/api.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-0 (1)\n- M lbrynet/analytics/events.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-1 (27)\n- M lbrynet/analytics/manager.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-2 (22)\n- A lbrynet/build_type.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-3 (2)\n- M lbrynet/conf.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-4 (7)\n- A lbrynet/core/Platform.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-5 (29)\n- M lbrynet/lbrynet_daemon/Daemon.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-6 (92)\n- M lbrynet/lbrynet_daemon/DaemonControl.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-7 (26)\n- M lbrynet/lbrynet_daemon/DaemonServer.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-8 (7)\n- M lbrynet/lbrynet_daemon/auth/server.py\n  https://github.com/lbryio/lbry/pull/263/files#diff-9 (5)\nPatch Links:\n- https://github.com/lbryio/lbry/pull/263.patch\n- https://github.com/lbryio/lbry/pull/263.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/263, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVtIu0eRu6hVZ77oEewWLHd-DphDpks5q84R9gaJpZM4KvIDs\n.\n\n\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. Agreed. Also even where lighthouse is necessary, it should be the end app\nthat interacts with it as much as possible rather than daemon.\nOn Tue, Nov 29, 2016 at 8:02 PM, Job Evers\u2010Meltzer <notifications@github.com\n\nwrote:\nAs a principle, I'm not sure I like this approach as it expands\ncentralization.\nWould it be possible to have the reflector server forward the sd blob to\nlighthouse instead of having the client do it?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/295#issuecomment-263751050, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVlTiOLVkjyHa2SOOGRDTh2TCrGlrks5rDMsQgaJpZM4K_q3M\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. :clap: :clap: :clap: . wait, this may not be what I thought it was... maybe only one clap was appropriate. Let's not let hot-fixes got bogged down in correctness/minutia. General PRs\nI am fine with this (and would encourage it), but hotfixes should be\naggressively shipped and/or style issues should just directly be fixed by\nreviewer.\nOn Fri, Dec 9, 2016 at 1:58 PM, Umpei Kay Kurokawa <notifications@github.com\n\nwrote:\nthat seems to the most correct way of doing it..\noverall the interface to getting balance needs to be less confusing, which\ni think is the root of the problem here.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/322#issuecomment-266093090, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVqi2yfXQtqFVYiBTtch6IHcN_HD1ks5rGaTzgaJpZM4LIfkF\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. low priority\nOn Thu, Jun 1, 2017 at 7:30 PM, Thomas Zarebczan notifications@github.com\nwrote:\n\nYes it does, but I may have some really old blobs in there after testing\nfor a couple months. Is it worth looking into?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/377#issuecomment-305648490, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVqgTWpvWcsu13FLm2nqDfYohkdrSks5r_0mtgaJpZM4LZTSU\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. @lyoshenka do you understand root cause? If not, don't we need to know that before making a change here?. Hooray!!! . Sorry to hear about your trouble, but I suspect you've made a mistake posting this here.\nThis project is neither Bitcoin nor Litecoin. I'm going to close this ticket.. I'd like to retain this setting in other currencies. We can switch to api.lbry.io if it improves or simplifies things (possibly this should be a setting?).\nI think it's fine to block downloads when it can't determine an exchange rate, though for max key fee I think using the last known value would also be fine.. I'm going to close this, as we're not dropping USD-based publishing. This can be re-opened as a ticket just specifying improvements to exchange rate calculation, if desired.. I lol'ed at \"something reasonable without errors\".\nWe'll get this one patched up, thanks!. Fixed soon (or already?) and duplicate of #747 . @jackrobison can you update INSTALL.md accordingly?. Thank you for a textbook report @alicebob! If you want a tip, DM kauffj on our Slack.. 1. Should it return outpoint?\n2. Can resolve_name move to resolve and officially support claim/outpoint resolution?. If you're in our Slack, do DM me (@kauffj) or Grin (@grin). We always tip\nfor great contributions like this!\nOn Wed, Mar 29, 2017 at 1:12 PM, Alex Grin notifications@github.com wrote:\n\nThanks for the detailed report and extra info. I didn't even know\nXDG_DOWNLOAD_DIR was a thing, and I've been using linux for a long time.\nWe'll get this fixed in the next few weeks.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/574#issuecomment-290158261, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVoHIMfcjHp-6vJxcq_1-N8aUnJ1Bks5rqpEQgaJpZM4Msbgs\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. You have to launch lbrynet-daemon separately. . Thanks for reporting! This sounds like it is an issue with the app, rather than the daemon itself, so I moved it here:\nhttps://github.com/lbryio/lbry-app/issues/30\nI'm marking this one as closed. Thanks!. This appears to be finished?. Given that all Mac usage will be consumer usage (as @sprig said). It sounds like the only downside of DMG is losing out on management via launchd.\nIs there anyone out there interested in taking the pro-PKG side of this argument?. @sleepdefic1t I'd be very interested in status bar support for lbry-app, but my inclination would be to make this part of the app itself rather than a standalone. Either way, sounds interesting and please share the code! And if you're not in the #dev channel in our Slack, you should join!. Wrong repo?. Hi @Snarkly! This issue is simply because you do not have any credits in your wallet.\nHowever, definitely poor user experience to come up as such. This is fixed in an upcoming release.. @alexliebowitz is going to check this out, thanks for reporting!. There is an ability to limit the rates on the Settings page of the app.\nOn Tue, Apr 25, 2017 at 1:17 PM, scarint notifications@github.com wrote:\n\nYes, I have published and downloaded. That makes sense, but I never\nexpected LBRY to be that bandwidth intensive yet...is there a way to limit\nthe upload speed? I can't check because I can only connect remotely at the\nmoment, and LBRY uses all my upload...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/622#issuecomment-297102288, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVmxh3yDMh35OJuPxZAf-_a5uHI7bks5rziq9gaJpZM4NHjD3\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. (If you're using the daemon directly, I believe the command is settings_set)\nOn Tue, Apr 25, 2017 at 2:11 PM, Jeremy Kauffman jeremy@lbry.io wrote:\n\nThere is an ability to limit the rates on the Settings page of the app.\nOn Tue, Apr 25, 2017 at 1:17 PM, scarint notifications@github.com wrote:\n\nYes, I have published and downloaded. That makes sense, but I never\nexpected LBRY to be that bandwidth intensive yet...is there a way to limit\nthe upload speed? I can't check because I can only connect remotely at the\nmoment, and LBRY uses all my upload...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/622#issuecomment-297102288, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVmxh3yDMh35OJuPxZAf-_a5uHI7bks5rziq9gaJpZM4NHjD3\n.\n\n\n--\nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio\n, like https://facebook.com/lbryio\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. @jackrobison knows about this and is actively working on it. We'll have a fix out soon.. If the daemon uses exceptions as the proper way of responding to API calls, then maybe there should be two classes and/or a way of signalling the difference between two distinct cases:\n\nExceptions that should be bundled and passed to the user as an error as a proper response for this call\nExceptions that indicate unexpected behavior, assertions/checks that should never fail, etc.. @lyoshenka can you please give @GWBasic some guidance for this? Andrew is working on this issue as protocol engineer candidate.. String and not Decimal?\n\nhttps://docs.python.org/2/library/decimal.html. These should just be separate issues. I believe 1 is open, and making a separate one for 2.. We are properly signing the binary currently, right?\nOn Wed, May 3, 2017 at 10:09 AM, Jack Robison notifications@github.com\nwrote:\n\nThanks for the report - it's a false warning.\nPlease report this to Avast: https://www.avast.com/false-\npositive-file-form.php\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/632#issuecomment-298922031, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVgSFXcHLbW0KoS8fSrSRkbBim8vqks5r2IqegaJpZM4NO8Fw\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. I believe this is identical to #719, which has a more useful description for a developer to work on. Thanks for reporting though! This will change.. @kaykurokawa so is there an outstanding issue here?. This was definitely broken in 0.11. I believe it is fixed in 0.11.3 or\nlater. You can verify whether this is fixed or not by running 0.11.3 and\nseeing if it upgrades to 0.11.5 correctly.\nOn Mon, May 29, 2017 at 4:04 PM, Josh Finer notifications@github.com\nwrote:\n\nThere are also now other variants of this including 'click update and it\ndoes nothing' - and also on Linux\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/639#issuecomment-304723637, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVjTGz0FBhQcthSGcUVlLHSeMMTxcks5r-yTdgaJpZM4NZjP5\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. It was fixed in a later release. 2 separate bugs, one affecting all systems, one only Windows.. Is this happening for you reliably? We haven't been receiving regular reports of this, and there's little a developer can do from this description.\nThis is an issue we'd take very seriously if it's happening for you still, please let us know if it is.. I think it should be possible to filter by name and claim_id. When both are provided, you are essentially saying find a claim with this id iff it has this name. An example use case would be spee.ch, where it will support URLs like spee.ch/name/claimId.. Correct.. That'd be fine with me.\nOn Tue, May 23, 2017 at 4:47 PM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nCan confirm that download_directory argument has no effect.\nI think this option should be removed as it complicates the code, and\ndownload directory can be changed via settings_set command.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/645#issuecomment-303527287, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVopLviA8vCR75Ronbbcy1ahqYWUJks5r80XogaJpZM4NiBab\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. The UI should prevent this and the daemon should error clearly, IMO. Needs\nchanges in both places.\nOn Fri, May 26, 2017 at 12:21 PM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nShould probably place a check in publishing to not allow you to publish an\nempty file\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/646#issuecomment-304325730, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVjHJAeD4-gSI9rQBhXxDdni0BPNaks5r9vwAgaJpZM4NjzyW\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. Thanks for reporting this. This is fixed here.\nPlease report future cosmetic/UI issues to the lbry-app repo rather than this one. . @jackrobison and/or @lyoshenka this is likely a network issue since many others are able to fetch this URI, but I wonder if we could build a tool or add some code to the daemon that debugs/detects network issues.. @lyoshenka @iateadonut looked into this further and thought that we may have a security group rule blocking IPs from certain countries. I don't think we do, but can you confirm? He's interested in helping debug this, you can contact him on Slack under the same name.. @iateadonut still seeing this? please re-open if so. The quickstart guide needs to be updated in parallel with merging this.. Can you provide a LBRY daemon version? We think this is an old copy of the daemon.. This is fixed, aside from \"Publishing...\" hanging on app side, I believe.. I'm tempted to drop this from the UI at all, since a lot of content that shows unavailable is actually there. It is already being skipped on all video plays.. This was dropped from the UI.. There may also be an app API call that is improper, but the app isn't requesting lbry://None. I believe that's an error related to type coercion somewhere in this repo.. I'm not seeing this in my current wallet, will re-open if I see it again. Possibly related to old data.. From @maximumplank on May 26, 2017 5:2\nI'm having this same issue. Uploaded some content on an old version of the 0.10 browser, before I began having problems with the client. Now content that I've published is not showing up in the 'published' tab.. Will look into this.\n@tzarebczan did it sit at loading forever or eventually come back? file_list has some big performance issues atm, especially with large numbers of downloads/publishes (we're working on it).. From @tzarebczan on May 26, 2017 13:29\nNever came back for me. It was reported by kevdev and others on slack too. . From @maximumplank on May 26, 2017 13:31\nSame here, published tab just shows \"looks like you havent published\nanything yet!\" Or something like that.\nOn May 26, 2017 6:29 AM, \"Thomas Zarebczan\" notifications@github.com\nwrote:\n\nNever came back for me. It was reported by kevdev and others on slack too.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry-app/issues/139#issuecomment-304282735,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AVNFwd7hHfAb1sbeOjFrn66-I3s0XvFoks5r9tPPgaJpZM4NnLNX\n.\n. Sitting at \"loading\" forever vs. coming back with \"looks like you haven't\npublished anything\" are possibly two different issues, but will be looking\ninto it either way.\n\nOn Fri, May 26, 2017 at 9:31 AM, maximumplank notifications@github.com\nwrote:\n\nSame here, published tab just shows \"looks like you havent published\nanything yet!\" Or something like that.\nOn May 26, 2017 6:29 AM, \"Thomas Zarebczan\" notifications@github.com\nwrote:\n\nNever came back for me. It was reported by kevdev and others on slack\ntoo.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry-app/issues/139#issuecomment-304282735,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-\nauth/AVNFwd7hHfAb1sbeOjFrn66-I3s0XvFoks5r9tPPgaJpZM4NnLNX\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry-app/issues/139#issuecomment-304283030,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVkkh8Gfhj8OoTS-b7yhRblJfJ4zaks5r9tQigaJpZM4NnLNX\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. From @tzarebczan on May 26, 2017 13:38\nYup, sounds like different issues. Thanks Jeremy! . From @maximumplank on May 26, 2017 13:42\nSorry, must have misunderstood Thomas' issue. I'll file a new one.\nOn May 26, 2017 6:38 AM, \"Thomas Zarebczan\" notifications@github.com\nwrote:\nYup, sounds like different issues. Thanks Jeremy!\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry-app/issues/139#issuecomment-304284584, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AVNFwYaUAJmM9ntZU9dhcbZg7oA8f3I5ks5r9tW_gaJpZM4NnLNX\n.\n. From @maximumplank on May 27, 2017 1:10\nfiled https://github.com/lbryio/lbry-app/issues/146 for the \"looks like you haven't published anything\" issue. From @tzarebczan on May 29, 2017 20:15\nAlso noticed today on a VM that the Downloaded page showed lbry://undefined in the downloaded page.  It's not a real claim..so probably related to this issue of the Downloaded page not showing. . From @finer9 on May 30, 2017 0:32\nOn 0.11.5 my Downloads/Publishes never resolves, it just says Loading...I suspect maybe this wouldnt happen on a fresh install. From @tzarebczan on May 31, 2017 0:44\nI did notice this today in my logs, not sure if its related:\n2017-05-30 20:42:15,138 ERROR    lbrynet.lbrynet_daemon.auth.server:346: Failed to process file_list: string indices must be integers\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\core\\Wallet.py\", line 770, in _handle_claim_result\n  File \"site-packages\\lbryschema\\claim.py\", line 140, in load_dict\n  File \"site-packages\\lbryschema\\encoding.py\", line 33, in decode_fields\nTypeError: string indices must be integers. @finer9 does it actually never return or does it just return after a long time?\n@tzarebczan that sounds like the root cause of the issue. Moving this to the daemon.. This is one for @jackrobison.. The auth part specifically is fixed.\nThe ability to keep the same view/content across applications is a large project across a mix of repos, that won't be looked at until several sub-components are tackled on their own (like wallet import).. Agreed with @6ea86b96 on this, file_delete with no parameters should not delete everything. Perhaps with an additional parameter like delete_all this would be fine.. Is this a behavior BC break? If so should really be a minor version increment.. Isn't lbry returning the correct fields? If so, there is no issue in this repo.. Well, we should support unicode in metadata at a minimum.\n@reillysmith you may want to republish lbry://casually-successful in the interim.\nHere's the video on YouTube: https://www.youtube.com/watch?v=nhEn-qW9HEc. Call transaction_show with the txid.. Inclined to agree with @zestyr. Another example could be a programmatic use case that needs to sort assets into folders.\nLooking at the code, it doesn't seem like there is much of a complexity cost either.. From @tzarebczan on June 1, 2017 11:35\nFiles finished downloading overnight but still don't think users should be charged before the download starts getting bytes. . I'm fairly confident this is still a real issue.. I support this as a change, but agree we're going to need to cleanly handle this for existing installs. Since the download directory is a setting value, wouldn't it be possible to only use the new logic when the setting value is empty/new?\nAlso, we should add a comparable check in Windows (and macOS?).. C is by far the preferred solution IMO.. It sounds like @kimihiro64 already rescued his credits and reset his install from other messages. I am fairly confident that these issues were from old data that wasn't properly migrated, so looking into these issues will be low priority compared to issues affecting all users.\nI'm going to close this, but please re-open if there is an issue we think still currently affecting anyone.. It doesn't even need to explain how to change the port at this point. I suppose it could spit out a link to a FAQ page or similar.\nAt this time, I'm not concerned with getting port changing inside of the app. All I'd like to see for now is a clean exit and user feedback alerting about the issue.. This previously had next release and Kay thinks this is important, so I marked P1.. I support this remaining, being exposed in app UI, and defaulting to some\nreasonable value like ~$50.\nOn Wed, Jun 21, 2017 at 1:29 PM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nNote that max_key_fee is adjustable via API command settings_set.\nI think the UI should just provide an interface to change max_key_fee.\nThe default could be set higher I suppose, but we should keep max_key_fee\nso that the daemon itself has some basic protection against it.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/721#issuecomment-310149621, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVrH_sVpCv7YOrrKn2DsRsa807vJlks5sGVLxgaJpZM4OBQM-\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. I still don't fully understand why the daemon is rejecting what appears to be valid data submitted by the app.. I labeled this P2 since it seemed like it wasn't blocking @billbitt. If this is affecting more typical usage, this should be P1.. Bah, so it is, how did I mess up checking that? What prompted this is that it does not appear to be available in the fileList action inside of the app, but I'll have to dig more.. The real solution to this is community tagging.\nI'd like to avoid an interim solution, but if we do it would be centralized and a lbry-app based solution.. @tzarebczan \"daemon connection refused or timed out\" is a catch all message display when the daemon cannot be connected to. It's difficult to investigate from this message alone.\nInstead, when a user reports this issue, we need to get their lbrynet.log file and use those details to figure out specifically why the daemon is not starting in that particular instance.\nIn this case, the issue is the \"failed to connect\" issue with lbryum, which I believe is fixed.. @tzarebczan I believe if the user closes all copies of lbry and lbrynet-daemon, upgrades, and runs it again, that it will connect fine. . @wallermadev they're pretty much equivalent in terms of functionality -- the system wouldn't be able to prevent the author from applying tags in any meaningful way.. I'm wrong about this, we have value.claimType already in the claim info.. Agreed with @lyoshenka above. This seems like a step backwards.. An option would exist at the app/UI level, not the API level.. @hackrush01 rather than change the port, please update this to fail to start and ensure that the info returned by status indicates the reason why.. @tzarebczan please re-open if you can work with @rubenbryon to get this issue into a workable state.. @jackrobison can we add a startup check for this?. @kaykurokawa it looks like @hackrush01 updated this to work as requested and use an additional disable flag. Is this mergeable?. @zestyr still want to tackle this?. Wasn't outcome of discussion today that this can be dropped?. Abandoning is the analog of unpublishing, so IMO it should be allowed even if it had a positive cost.. @14bd4bed had this happen to him as well, and he said it prevented interaction from the wallet completely afterwards.. We're not going to start on this until encrypt/decrypt is merged as it will affect this process. If you want to create a FAQ article and add a help link in the interim, we can do that. A help link would be added to this file: https://github.com/lbryio/lbry-app/blob/master/ui/js/page/wallet/view.jsx. Fixed in #780 . @jackrobison and I have a very different understanding of what we're addressing with this ticket. I've asked him to stop working on it until we meet and discuss. @lyoshenka. Having spent all of 30 seconds thinking about this, I don't think the app cares whether this is returned by status or settings_get. @kaykurokawa is there an outstanding issue here that needs to be looked at?. Closing as duplicate of https://github.com/lbryio/lbry/issues/792\n@tzarebczan you can re-open this as a cleanup ticket for improving the behavior when it can find the SD blob but no content blobs (which should probably timeout or give some kind of feedback as to what went wrong), but this is pretty low priority IMO as this should be a corner case.. Can we further explore potential strategies to keep all blobs announced before giving up on it?. @kaykurokawa in the case you propose, wouldn't it still make sense to look for the blob directly first? And only if we can't find a route to them, look for peers of the first blob and ask them?. @kennethreitz humor is the good natured side of a truth. There is likely a command line fix for this, please join our Slack for live help if this is urgent. But otherwise, yes.\nSorry :(. This happened via discussion, right?. They are gone from the UI in master already.. not a priority. It makes the most sense to change the daemon defaults first if we're going to do this, but I'm not sure what the consequences are of switching this.. Please wait until the next release to further investigate this.. I'd guess peak spee.ch traffic has been several hundred per minute.\nYesterday when it was going down it was probably less than 100.. @billbitt experienced this yesterday. I think there is a deeper bug here.. Is it possible this reflects a deeper bug? I think the majority of content accessed on spee.ch should either already be on spee.ch or was submitted directly to spee.ch. Is spee.ch really needing to download such significant amounts of content? Or is this from images submitted to spee.ch getting uploaded?. I also propose that send_amount_to_address be renamed to wallet_send and that this be called wallet_send_tip with a signature of wallet_send_tip(amount, claim_id) to match wallet_send. . Other alternatives:\n- wallet_spend and wallet_spend_tip\n- just wallet_tip. Can we just store the ordinal position of the blob rather than enshrining head_blob?\nI consider all additions/instances of head blob to be technical debt.. @tzarebczan this ticket was for a fix daemon side, but it appears that it has been fixed there as well:\n./lbrynet-cli wallet_send --amount=0.00001 --address=aaa\nERROR: Invalid address length: 3\n.... Subsumed by #846 and #845 . @tzarebczan did you verify this happens via a CLI publish to eliminate any possibility that it is an app issue? (I think it is probably not, but it's good to make sure.). Given there is not arbitrary precision of credit amounts, shouldn't we be using Decimal type for all LBC values?. Too slow @tzarebczan, @kaykurokawa already opened a PR to fix this :stuck_out_tongue: . Did you mean to file this on lbrycrd instead? I'm fairly certain you did, and the issue exists: https://github.com/lbryio/lbrycrd/issues/64\nIf I'm wrong, please clarify and re-open.. And drop label. Rename value to amount (but keep value for now). Add fee. Discussed on Slack. Moving back to In Progress.. @lyoshenka I think this possibly conflates two different issues. We don't need sockets or the ability for the daemon to push data to apps to solve this (though this is a great idea!).\nCurrently, existing apps already regularly poll get and file_list to determine state. This change is simply to have get and publish return immediately, with some kind of field indicating their status (\"pending\" or whatever).. This ticket is really to solve/design the general approach for making daemon calls asynchronous and probably ought to be renamed/explained as such. @alyssaoc . @eukreign yes, we can use that moving forward. Isn't the claim tree excluded by default currently? If so, is there a reason to change that behavior?. After discussing with @alexliebowitz it does sound like it's potentially non-trivial for every use-case to re-validate? If so, I'm inclined to agree that every application utilizing LBRY ought to not have to re-implement this.\nIf we don't want to expose a validation call, maybe the daemon cleanly return invalid address rejections?. This is fixed in the app, though I'm not in love with the daemon's approach/design here.. Thanks @mikeputnam!\n@lyoshenka @jackrobison shouldn't the docs not be checked into the repo and instead auto-generated?. This is likely an issue at the daemon level as well. It needs to provide an API that supports paging. . @kennethreitz I'm inclined to icebox this unless you (or someone) let us know you want to take it on.. I think this is basically #803 - we don't have this information right now, it's not a matter of adding it.\nYou (or someone) could update #803 to specify the additional API changes required to the transaction_XXX methods.. @tzarebczan there should also be a console message when this happens. Can you attach output of that? . Settings should be getting validated at time of submit. I suspect they are not.. Yes, this goes away once a block is confirmed, but it's a clear bug that this errors in the interim.. Feel free to consolidate tickets.. This is a lbryschema issue only, AFAIK\nOn Thu, Sep 28, 2017 at 8:22 AM, Thomas Zarebczan notifications@github.com\nwrote:\n\nSo the goal would be to extract the video length while it is processed\nduring upload and store in a metadata field (there's a separate ticket for\nthis in the lbryschema repo)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/918#issuecomment-332819522, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAgZVr0WMWMA3pkajx4l1avVw4wfE-nyks5sm4-TgaJpZM4PhMzj\n.\n\n\n-- \nJeremy Kauffman, Founder, LBRY http://lbry.io/\n(267) 210-4292\nBuild LBRY: get https://lbry.io/get, follow https://twitter.com/lbryio,\nlike https://facebook.com/lbryio\n. It would be excellent if type could be returned in a way similar to here:\nhttps://github.com/lbryio/lbry-app/blob/master/ui/js/selectors/wallet.js#L15. This issue was moved to lbryio/lbryschema#19. (I understand this is the incorrect syntax and that it interpreted my first argument as a single value rather than a named parameter.). Two proposed changes:\n\nDrop support for positional arguments on the CLI for settings_set.\nEnsure the download_directory argument provided to settings_set exists before accepting the setting. If it doesn't exist, error rather than accepting the value.. @lyoshenka can we get @rickbatka some guidance on this?. I'd advise a PyDoc change here in the interim, to indicate this function is experimental or not supported.. When a claim is updated but the claim id does not change, this is the publisher indicating that it is the same content that was there previously. Therefore the data should be re-downloaded, but there should be no subsequent charge for the download.\n\nAn update without a claim id change should be the equivalent of a fixing a typo (or, if you stretch it, making Greedo shoot first).\nRight now more substantial edits may be taking place without a claim id change (imagine a user publishing a much different piece of content over lbry://one). This probably requires some updates to the publish, to indicate a certain publish to the same name should involve a regeneration of claim id.. (I also thought this was already filed, but could not find it). If this did not move any credits, but simply gave authorization to publish under an identity, could this be reduced to a single value?. Good point. But if we imagine multiple channels being used inside of the same wallet, is it even possible to cleanly separate these via an export without also issuing blockchain transactions?. By reduced to a single value I meant that could we reduce all that is needed to transfer a channel down to a single key. If so, this would mean it can be entered via a UI rather than requiring moving files.. After some discussion, returning the shortest claim id is likely to involve additional look ups. We may want to just include a permanent_url field that includes the full claim id, since this is more performant.. This still isn't done. I understand it might not be feasible to do in a performant way in the near future, but we'd still eventually like a data field that is the shortest possible permanent URL.. It was closed, I re-opened it :D\nIf this ticket is now too noisy, feel free to kill this one and re-open a cleaner / straightforward version.. Can this be done in a performant manner now? Presumably grooming here means creating several issues and an epic, because I think this starts with a modification to the wallet server.. @eukreign if this is a quick hit I'd love to have this feature. Although since this requires the full claim trie, doesn't this actually start lower in the stack? Presumably the wallet server?. The root ticket has been updated substantially for clarity.. No comment on some of the technical design aspects of this, but more details on resolution specifically can now be seen here and this document should be considered canon for how resolution ought to work.\n@shyba @lyoshenka can the two of you sync on URL resolution and cover the following two things:\n1) Grin, have Victor check the spec and make sure it's accurate. Possibly add a section about what's not supported currently.\n2) Victor, reach an understanding of the specific changes required to add this feature and get this issue  (or epic) specified correctly.\nThe most important feature to me is supporting channel, stream, and combined channel/stream resolution containing the single smallest fragment of the claim ID. Other resolution options are significantly less important. \n. @alyssaoc consider this blocked until above conversation happens. Re-assess https://github.com/lbryio/lbry-desktop/issues/2135 when this is solved.. @eukreign is this feasible to do soon? It is affecting a UX issue in the mobile app now as well as some of the other issues highlighted above and existing issues with spee.ch (which has implemented this logic application side to deal with it).. grumbles. @lyoshenka it's preferable if we can work out a method to test external accessibility without a centralized server.. :+1: from me. This will be relatively trivial to adjust app-side.. @kaykurokawa you can merge this at any time. Even if app changes aren't done yet, it just means the app won't bump the daemon version until they are.. @kaykurokawa I would argue if it hasn't received server height yet then server height isn't zero, it's null/undefined. And null/undefined minus zero should also be null/undefined (if not an error outright).. My original proposal was claim_renew(claim_ids) and claim_renew_all(expiration_threshold_date) (or claim_renew_all(height_delta), since dates are technically not precise).\nIf claim_renew has a dual signature as proposed above (which I'm ambivalent about), it ought to be considered what the interaction is when both values are provided, particularly when a claim_id is provided that is not within the specified date window.. @jackrobison I'm for keeping startup as light as possible. Can some of these checks be deferred to some time after launch? (IMO reflector should be deferred as well).. I'm open to supporting returning Protobuf responses, but I'm not sure this addresses the root issue, which is the desire to have one definition for a type (say a Claim or a File) and have that definition be portable to as many languages as possible.\nHaving applications use Protobuf directly may solve the data checking side of things, but it does nothing to actually provide shared type definitions.. This will be fixed app side when you return null for unclaimed, abandoned, or expired URLs.. I think file_list should probably retain all of: outpoint, claim_id, channel_claim_id (doesn't exist as first class field currently and is instead currently buried 4 fields deep in an inconsistent way), and metadata (but this could presumably be what is currently file.metadata.stream.metadata).\nI don't see how an application using LBRY can re-render to a user what they downloaded without these fields, or an efficient way to select them again.. From @tzarebczan on December 12, 2017 18:57\nThanks for opening this @LavRadis, sent you a tip on Discord! \n. This is very strange. I see that user, but nothing else matches (not even the app_id).\nThe most likely explanation would be a merge I thought, but that hasn't happened here either.\n@tzarebczan you heard any other reports of this one?. @lyoshenka I already went down the rabbit hole a bit on this since it's just so damn weird! I cannot think of an explanation other than the merge logic.. @tzarebczan @grin is not the Grin that works for this company (that's @lyoshenka).\nSorry for the spurious mentions, @grin, but you should also come check out our sweet project :stuck_out_tongue: . Hmm, would it perhaps make sense for the plain lbrynet command to just be start/stop?\nIs there other software to draw best practices from here?\nTo me, CLI/console based interactions are the special case.. @lyoshenka link is missing for keybase - is it this one? https://keybase.io/docs/command_line. I saw this looking for another issue. @eukreign can this be closed with components refactor?. If it's valid, why not leave it open? Seems relatively feasible for the daemon to obtain a lock?. @eukreign if electrum has switched to MIT, I suspect there is no issue here.. @billbitt please change and deploy this today so we can verify it a positive effect.. @hackrush01 permanent_url should include channel if it is published under one. I have no objections to where this is placed.. @jackrobison good first issue?. @hackrush01 for a minor mistake in changeset like this, it's fine to just correct the CHANGELOG rather than ship it back to the contributor.. @lyoshenka why does commands exist separately? Why not just have help list them?. My understanding is that we do not have a legal obligation to perform blocking at this level, just as someone writing an HTTP daemon or BitTorrent daemon would not have an obligation.\nI support adding this as a feature to support users who may not want to host certain types of content.\nWhatever happens here, if adding to the daemon layer it ought to be done in a configurable way. The blacklists LBRY maintains would represent data known to be illegal in the United States. A user in South Korea would likely want to respect a different list representing content known to be illegal there.\nWhile we've gotten legal consultation on this before, we ought to do another round with any proposed design before implementing it, or @finer9 should chime in that he thinks this is a priority to remain compliant.. @andrefisch can you please post the full command line output, including the steps before this? If this wasn't done in a virtual environment, please make sure to do that.. @jackrobison @eukreign This one seems very easy to get started; we simply need to determine the signature pattern. It's not necessary to add codes to all errors to complete this ticket, but determining the pattern would at least allow them to be added for all future errors and a few key errors as necessary.\nIf the design is simple/obvious enough, then I suspect even the app team will PR error codes as necessary.. Plus, then @eukreign could add a test to prevent new exceptions without codes :grin: . A decent number of repositories in a variety of languages could use this functionality, so it'd be nice if there was a language-agnostic way of providing this.\nIsn't one alternative simply to keep the check happening in Ruby but do it somewhere other than the build server? I'm not actually sure how the check works currently, but it should be possible to have a git pre-commit hook happen some place other than the build service. . @hackrush01 are you working on this? It is really embarrassing to me to continue to have this happen to valuable contributors.\n@btzr-io for whatever reason, the CLI docs are always up to date, so I recommend using those instead.. Also @btzr-io I hope this means you're back! You'd love some of the design work @seanyesmunt and Nicolas have been working on.. @jackrobison why is some of that information part of the source?. @jackrobison example 1 of \u221e why every table should have created_at and updated_at.. @tzarebczan should be able to change the value only for new/future installs.. Yes!! If this is safe, can we get daemon patch release for this?\n@seanyesmunt please monitor this and get into app release ASAP.\nAlso @robvsmith one for you to know about (fixes first run timing).. Level 1 is that the connection_status value returned by the status command update.\nLevel 2 is for the daemon to be able to issue calls to the clients, rather than clients only polling the daemon. I could only find #854 as documenting this.\nBut if status updates and an application can say \"call me when the output of status changes\", then we have the functionality we need app side.\nEven without the second feature, we can busy-poll to detect connection status changes.. @tzarebczan is this inefficient because there is actually such a large amount of data, or because there are operations that happen on every transaction before returned that are expensive?. I removed \"good first issue\". I don't think this is solvable without https://github.com/lbryio/lbry/issues/854. Great stuff @chamunks! Not qualified to review this really, but did catch a spee.ch reference in the docs, presumably from a copy/paste.. I'm ambivalent. The two sides:\n\nOn one hand, Docker is a generally useful technology that lots of people like to use. If we want people to build things on top of LBRY, and Docker makes it easier to do it, providing Docker set up increases the amount of building that happens. \nOn the other, I agree with @eukreign that adding Docker both: a) increases costs, since this code needs to be maintained and b) risks breaking if we're not using it ourselves.\n\nFrom here I would suggest three things:\n1) We look at designs that isolate Docker code outside of core components. I have no idea if this is smart or stupid (I know very little about Docker). But it keeps this code cleanly separate.\n2) We look at the ability for external community members to specifically own Docker maintenance, hopefully eliminating the cost on core devs.\n3) @lyoshenka @nikooo777 @billbitt consider whether it makes sense for us to make larger usage of Docker internally, which resolves some of the tensions above.\n. @chamunks I'm not pushing lbry-in-a-box as a solution. Can you comment on how orthodox or unusual it is for Docker code to be maintained inside vs. outside the repository it is for?. This seems like a pretty large bug.. @eukreign is it possible to still get this into 0.20? Otherwise need to patch this somewhere else so we can move forward with lbry.tech.. @Krisseck will update this ticket when he has opened a PR with his modification . @eukreign is this mergable? What is status of this?\n@NetOperatorWibby is waiting on green light from daemon team to finish API page. @eukreign I believe this is on you to update gen_docs to output the documentation in a JSON-schema matching what is described here.. @eukreign should set specification here. \nHowever, the intention of this setting is not to error if there is not enough space, but instead to keep space usage below this figure and only error if it cannot figure out how to do so. \nI suspect the code for handling this will end up in the blob and/or file manager.. @eukreign then I would suggest not pursuing this and instead focusing on fixing whatever underlying architecture issues prevent this from being a reality. Please open those and mark this as blocked.\nI don't really see much of the point in pursuing alternatives that only offer a small portion of the benefit compared to this, especially when this feature will clearly be required eventually anyway.. See https://github.com/lbryio/lbry/issues/1311 for example of users struggling with this.\nAlso came up at UNH hackathon, someone based their entire presentation on improving this.. I think we should strongly consider this a requirement for the public mobile app.. The first version of this can very basic. It is not a concern if the algorithm that chooses which blobs/files to keep is dumb.. 1) LBRY is United States based company and not subject to European law.\n2) Fortunately we don't need a law to make us to be respectful of your data - granting users more control and freedom is the premise of what we do.\n3) I'm not sure what you mean by \"account\". If you mean an identity/channel created via the protocol, you can retract your claim, but there is no way to remove data that was written to the blockchain.\n4) If you mean the email address you gave us to claim rewards, please email help@lbry.io from the address you provided explaining the issue and including a link to this ticket/comment.. The proper resolution to this may simply be to expose in the API whether or not the first blob is written (or maybe just make daemon responsible for reporting whether metadata being available?), rather than actually forcing blobs to be written in order.\nIIRC, the app is simply checking if written_bytes > 0 to determine if the file should start.. I actually thought author had been dropped when we added channels. IMO it should be removed from lbryschema and dropped entirely in favor of using channels. \nThe bare minimum here is to:\n1) Stop indicating it is required in docs\n2) If mentioned in the docs at all, mention it is deprecated and one should use channels instead.\nI'll leave it to you if you want to prioritize other changes like removing from lbryschema. @alyssaoc https://github.com/lbryio/lbry/issues/1197 possibly better describes the daemon changes and/or should be considered a duplicate of this.\nTo solve this, #1197 needs to be completed and then associated API changes would need to be made application side.. There is no fix for this without a change to the daemon.\nThe app can fix it in the vast majority of cases, yes, but there needs to be a daemon change to fix it 100% of the time.. @tzarebczan coughs https://lbry.tech/glossary#claim_sequence \n(and yes, we should be returning this in every claim data). Hey @42degrees, you've been digging in quite a bit recently. Good stuff!\n@tzarebczan probably already linked this but we'd be happy to send you some LBC for your contributions.\nHave you thought about contributing yourself? You can also email me at jeremy@lbry.io. Cheers!. IMO it should accept any valid LBRY URL. . @skhameneh @akinwale please either comment on @shyba or :+1: his comment if the proposed design looks good to you.\nhttps://github.com/lbryio/lbry/issues/1634#issuecomment-439200749. If this doesn't need to be merged immediately, @NetOperatorWibby is currently working on a project to source assets like this from the same origin so that they're not littered repeatedly throughout our repos.\n@eukreign would it be tricky to source these from https://github.com/lbryio/design? The two of you should discuss.. :+1:. TIL DC++ is still in use at colleges (I used it a bunch ~13-15 years ago).\nI think this is a great idea!. @ITwrx I appreciate your passion for open-source and free technologies. Everyone at LBRY cares a lot about these things.\nHowever, we're also looking to build a business. To do that we need to acquire users that don't care about these things. And to get them, we need to go where they are.\nWhat we can and will look at is the feasibility of adding some of these to the places we maintain an identity.\nI've opened an internal ticket to look at posting on Mastodon on a regular basis. I also opened https://github.com/lbryio/lbry.io/issues/974 to look at adding blog commenting via a non-Disqus (or similar) technology.\nThe rest of these we're not going to pursue for now.\nI'm going to close this since it's not really appropriate for this repo anyway.. Is this ticket to update the publish API call? It looked like it might be, so I grouped it with the tag-based discovery epic. If I misunderstood, a ticket to update publish should be created and associated with the aforementioned epic.. My first tattoo is going to say DRY\n. @jobevers @jackrobison possibly remove search logic from daemon entirely and put only in the interface?\n. yeah, want me to turn it off?. Agreed, this seems backwards. We're supposed to be moving towards an asynchronous get (#854), not adding more synchronicity. . Isn't all of 127.0.0.0/8 reserved for loopback (or other internal usage)? \nSo wouldn't it make sense to prevent all 127 addresses from ever being stored in the DHT?. :heart_eyes: . Calling check_status can trigger a blob download? Seems like a side-effect.. Calling choose_best_peers can trigger a blob download? Seems like a side-effect.. ",
    "whitslack": "This happened again at commit a882bdb08c26145b4fb322f6e195090fdf57c645.\nUnhandled Error\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\n    return func(*args,**kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/posixbase.py\", line 611, in _doReadOrWrite\n    why = selectable.doRead()\n--- <exception caught here> ---\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/udp.py\", line 248, in doRead\n    self.protocol.datagramReceived(data, addr)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/protocol.py\", line 114, in datagramReceived\n    message = self._translator.fromPrimitive(msgPrimitive)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/msgformat.py\", line 46, in fromPrimitive\n    msgType = msgPrimitive[self.headerType]\nexceptions.TypeError: 'NoneType' object has no attribute '__getitem__'\n. Still happens at commit 2670279b0d6f94bf25ef34fb654d18c2b3578033.\nUnhandled Error\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\n    return func(*args,**kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/posixbase.py\", line 611, in _doReadOrWrite\n    why = selectable.doRead()\n--- <exception caught here> ---\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/udp.py\", line 248, in doRead\n    self.protocol.datagramReceived(data, addr)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/protocol.py\", line 114, in datagramReceived\n    message = self._translator.fromPrimitive(msgPrimitive)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/msgformat.py\", line 46, in fromPrimitive\n    msgType = msgPrimitive[self.headerType]\nexceptions.TypeError: 'NoneType' object has no attribute '__getitem__'\n. Got another one of them, this time on commit b4c528f6b58439c2bcd942ba1bae1df70946f7bd:\nUnable to format event {'log_namespace': u'log_legacy', 'log_time': 1457452807.730342, 'log_system': 'KademliaProtocol (UDP)', 'log_level': <LogLevel=critical>, 'system': 'KademliaProtocol (UDP)', 'isError': 1, 'failure': <twisted.python.failure.Failure <type 'exceptions.ValueError'>>, 'time': 1457452807.730342, 'log_text': 'Unhandled Error\\nTraceback (most recent call last):\\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\\n    return func(*args,**kw)\\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/posixbase.py\", line 611, in _doReadOrWrite\\n    why = selectable.doRead()\\n--- <exception caught here> ---\\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/udp.py\", line 248, in doRead\\n    self.protocol.datagramReceived(data, addr)\\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/protocol.py\", line 109, in datagramReceived\\n    msgPrimitive = self._encoder.decode(datagram)\\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/encoding.py\", line 102, in decode\\n    return self._decodeRecursive(data)[0]\\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/encoding.py\", line 131, in _decodeRecursive\\n    return (float(data[startIndex+1:endPos]), endPos+1)\\nexceptions.ValueError: could not convert string to float: \\x89\\xf8\\xd2\\xf5%\\xe2\\x11F\\xff]\\x80\\x89\\x15\\xef\\x9d\\xb4\\x0b\\xff\\xdb\\x9bu\\x9b\\xf6\\x15*\\xb9\\n', 'log_format': u'{log_text}', 'message': (), 'why': None}: 'ascii' codec can't decode byte 0x89 in position 1306: ordinal not in range(128)\n. > The install does go to /usr/share, though it is /usr/share/python/lbrynet, not /usr/share/lbrynet.\nIf so, then that's even better. Thanks!\n. At commit 2670279b0d6f94bf25ef34fb654d18c2b3578033.\nPerhaps this is a clue. I had an unhandled error (Issue #16), and after exiting and restarting lbrynet-console, I ran into this issue again.\n```\n\nUnhandled Error\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\n    return context.call({ILogContext: newCtx}, func, args, kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\n    return func(args,**kw)\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/posixbase.py\", line 611, in _doReadOrWrite\n    why = selectable.doRead()\n---  ---\n  File \"/usr/lib64/python2.7/site-packages/twisted/internet/udp.py\", line 248, in doRead\n    self.protocol.datagramReceived(data, addr)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/protocol.py\", line 114, in datagramReceived\n    message = self._translator.fromPrimitive(msgPrimitive)\n  File \"/usr/lib64/python2.7/site-packages/lbrynet/dht/msgformat.py\", line 46, in fromPrimitive\n    msgType = msgPrimitive[self.headerType]\nexceptions.TypeError: 'NoneType' object has no attribute 'getitem'\nexit\nShutting down.\nlbry@Crushinator ~ $ lbrynet-console \nLoading databases...\nDatabases loaded.\nLoading the wallet...\nCatching up to the blockchain...showing blocks left...\n2695...\n2267...\n2268...\n2268...\n2268...\n2268...\n2268...\n2268...\n2269...\n^C\n``\n. That did work last time. This time I just kept killing and restartinglbrynet-console` to catch it up.\n\nI just did it again:\n```\nlbry@Crushinator ~ $ lbrynet-console \nLoading databases...\nDatabases loaded.\nLoading the wallet...\nCatching up to the blockchain...showing blocks left...\n2397...\n1698...\n1698...\n1698...\n^Clbry@Crushinator ~ $ lbrynet-console \nLoading databases...\nDatabases loaded.\nLoading the wallet...\nCatching up to the blockchain...showing blocks left...\n1698...\n978...\n978...\n978...\n^Clbry@Crushinator ~ $ lbrynet-console \nLoading databases...\nDatabases loaded.\nLoading the wallet...\nCatching up to the blockchain...showing blocks left...\n979...\n259...\n259...\n259...\n^Clbry@Crushinator ~ $ lbrynet-console \nLoading databases...\nDatabases loaded.\nLoading the wallet...\nCatching up to the blockchain...showing blocks left...\n260...\nAll caught up. Wallet loaded.\nYou should have received 1000 LBC the first time you ran\nthis program. If you did not, let us know! But first give\nthem a moment to show up. The block time is currently 30                                                                          \nseconds so they should show up within a couple of minutes.                                                                          \nWelcome to lbrynet-console!                                                                                                         \nEnter a command. Try 'get wonderfullife' or 'help' to see more options.\n\n```\n. \n",
    "lyoshenka": "i believe this is fixed\n. closing because I believe its fixed. please reopen if this still happens in the latest version (0.3.5 or higher)\n. @jobevers this looks good for the most part, but I'd like to retain the ability to build the project just by running the script. is there a good way to know if we're in circle or not (maybe it sets some env variables)? that way we can do circle-specific things and non-circle things as necessary.\n. @jackrobison check this out when you get a chance please\n. merged\n. I looked at the changes briefly. It's hard to tell what's what because Jack's updates are mixed in with the pylint stuff, so I'm leaving it to Jack for the final ok and the merge.\nLooking forward to having tests soon :smile: \n. Good catch. Feel free to just merge these in yourself, or even just commit straight to master.\nAlso, working at 3am? You and @alexliebowitz will be good friends soon :smile: \n. Fixed in master\n. related to #719 . fixed. I believe this is intentional. LBRY is not meant to be shared across the network, it's meant to be used locally.\nHowever, this is a good feature request. I'll file it in our feature tracking system.\n. @eshriek can you please try the latest build (0.3.5) and see if you experience the same issue. make sure you uninstall (apt-get purge) any previous lbry or lbrynet installs, or just start from a clean vm. \nthanks.\n. looks good to me. ive been refactoring that file a bit and agree with the comments you made\n. didnt test it though\n. i think @RdeWilde may be right. debian package always puts that binary in /usr/share/python/lbrynet. he must have compiled from source.\n. untested LGTM\n. untested ACK\n. I recommend you paste you script into http://www.shellcheck.net/ so it can check issues for you.\nI have no way of testing this since I don't have OSX.\n. did not test, looks good to me\n. @jobevers please delete branch if this is no longer needed. Conversation has moved to #708, closing this. @jobevers please delete branch if this is no longer needed. @tzarebczan can you please test this to verify that its fixed. Migrated to https://github.com/lbryio/lbry-app/issues/179. @jobevers can we get this on the list for next cycle?. Moved to https://github.com/lbryio/lbry-app/issues/212. @kaykurokawa when can this get merged in. its been open for a long time. whats the next step?. Migrated to https://github.com/lbryio/lbry-app/issues/180. @jackrobison do you know if this is still an issue?. @jackrobison @jobevers whats the next step here?. fixed\n. :unamused: \n. Fixed with code signing. Closing this. Reopen if you see it again.. Does this error still happen? Please reproduce in the latest daemon version and reopen if it's still an issue.. yea that's far too many claps for what i did\nOn Fri, Dec 9, 2016 at 2:51 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\nwait, this may not be what I thought it was... maybe only one clap was\nappropriate\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/321#issuecomment-266106478, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIERwtsWjZ0a_k9BWrtQMj7XQhjd3ks5rGbFLgaJpZM4LIe5R\n.\n. comment from jack for grin:\n\nhave you tried lbrynet-cli with and without auth, with functions with and without params?\nand did the change to call from __call__ introduce any bugs?. @kauffj want to finish this?. i'm not gonna get to this for at least a week, maybe more. this is not that important atm. totally gonna finish this next week. @tzarebczan has this happened recently? I suspect it's fixed. Does this still happen in v0.10.0?. No update, so I'm assuming its fixed. If it's still happening, please open an issue in the UI repo. @tzarebczan has this happened recently?. looks good. when you have a moment, could you add a flag to pass in the ssh key to use when SSHing?. you read my mind!. @jobevers forgot to say - LGTM. Does this still happen in the latest version? https://github.com/lbryio/lbry/releases. @tzarebczan does this still happen? its hard to debug this because its not clear how to reproduce the issue.. Closing this, since https://github.com/lbryio/lbry/pull/397 includes these changes. @kauffj this is the error we keep seeing. I'm going to close this for now.. the fix to paying for content twice is in #547. but we should still allow downloading two files with the same name (e.g. by appending _1 to the filename). Does this still happen in v0.10.0?. No update, so I'm assuming this is fixed.. I incorporated these changes into my api_rename branch, since a lot of that stuff has changed.\nChanges here: https://github.com/lbryio/lbry/commit/52392638e165de68a72986ad5b8ac354c4ee20ce. @tzarebczan does this still happen?. This is a good idea. Marking as feature request and closing for now.. If https://github.com/lbryio/lbry/pull/395#discussion_r96033190 is ok, then this is good to go. Cool. Merge it.\nOn Fri, Jan 13, 2017 at 12:49 PM Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nIt is not used in the web_ui or anywhere else in lbrynet\n\u2014\nYou are receiving this because you were assigned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/395#issuecomment-272501471, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJILx8-2Yh838JpeVLdrGTQAvjywQHks5rR7kXgaJpZM4LeqHp\n.\n. Sorry about the large PR. Reading this commit-by-commit may be easier.. @pmfrulez i think Job's comment was meant for me\n\nexplorer looks fine right now. here's what i'm seeing:\n. The explorer app we're using is a bit slow to update sometimes. If you want the most up-to-date information on your balance, you should use the lbryum wallet and import your addresses into it. It will get updates a lot faster than explorer.. I agree - abstract the OS differences as much as possible. Also happy to combine this with reveal. Maybe it should be called file_open and it could take an open_in_folder option.\nI'm also concerned about security here. Do we really want the daemon opening whatever it's told to open? Shouldn't it check that this is a file it knows about, that its in the downloads folder, etc.. dont think this happens anymore. lgtm. Does this still happen in v0.10.0?. Closing due to inactivity.. @kauffj public lbry server can go live after this PR is merged. Fixed. @kaykurokawa @jackrobison is this fixed? if so please close. there's no need to call self._save_wallet anymore?. @jobevers i agree, vex is great. but virtualenv is lower friction and more widely understood, so I'd rather the docs use that. . If we're gonna restructure the DB, let's do it right. I agree that storing last announce time is better than storing next announce time. Let's add the column you suggested, migrate the data, and drop the last_announce_time column on blobs (or at least ignore it). whats the next step here?. @kaykurokawa is this fixed?. @jimmykiselak any idea what this is, before we dig deeper?. not sure if i wrote the tests correctly. i dont really understand how testing and async go together. im going to take this to mean you approve the PR. I didn't test this, just read the code. Besides the unclear protocol description, this can go up unless @jobevers wants to read it too.. pretty sure this is fixed. \u200bAt one point, Job told me to run tests with PYTHONPATH=. trial tests.\nDoes that changed anything?\u200b\nOn Wed, Feb 22, 2017 at 4:52 PM, Job Evers\u2010Meltzer <notifications@github.com\n\nwrote:\nYou might have a different tests module installed in your python path.\nIn a python terminal, do:\n\nimport tests\nprint tests.file\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/498#issuecomment-281816259, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIC5I1Siq8NdKDslxFS3Z5u9TwaSGks5rfK4hgaJpZM4MI9uX\n.\n. nice. is this ready to merge in? would love to start using this with franklin to see if it fixes the issues. oops. @kaykurokawa in the future, you can just merge this without a PR :-). we're leaning toward integrating lbryum into lbrynet. jack says this is not necessary anymore. @kaykurokawa how much of this is done?. potentially related to #496 . https://github.com/lbryio/lbry/issues/630. There were two issues here:\n\n\nUDP port 4444 was closed in AWS firewall, so no one could connect to download this file\nReflector did not get the blobs. I'm working on this.\n\nClosing this issue in the meantime. Thanks @nikooo777 . Thanks for submitting this. Could you check a few things please:\n1 - Are you connected to the internet?\n2 - Is anything else running on any of the following ports: \n  - 4444 udp\n  - 3333 tcp\n  - 5279 tcp\n. I fixed the second error in rc6. Can you give that a try please?. @l2dy what firewall settings did you have that caused the socket.error? it would help us reproduce the issue and make sure we have it fixed.. I broke out the ReactorNotRunning issue: #544 \nWe'll have the daemon check the ports its binding so it knows they are available and there are no firewall issues.. Moved the issue to https://github.com/lbryio/lbry/issues/710. Can you please try again in the latest version (https://github.com/lbryio/lbry/releases/latest)? I believe this is fixed.. I fixed this bug in the most recent version. Please try installing again.\nThat said, we don't test on ARM processors, so if you encounter ARM-specific bugs, we'll do our best but we may not be able to help much.\nReopen this if the issue is still there.. @rasheedmoore thanks for reporting this. we're closing this because we're consolidating several tickets into one. #547 has the root cause of the bug.. @kaykurokawa ill tackle this one. I believe @jackrobison fixed this. Quick update - we're working on a solution for proof-of-purchase. So far we've found that there are several simple but wrong answers here. We have some ideas for a proper fix, but that will take us some time. We'll update this issues as we make progress.. Jack wrote up his findings here. @jackrobison i think this is fixed by the work you've been doing, right? if so, please close this issue. if not, leave comment about what's left to do.. I'm seeing the same error when publishing multiple files concurrently using my version of youtube sync. Generating wallets solves a different issue. The problem here probably has to do with the coinchooser not being concurrent-safe. Here's what happens when I try to publish two items simultaneously. Notice how coinchooser chooses the same address to use for both publishes.\n```\n2017-10-02 15:41:22,657 INFO     lbrynet.daemon.Daemon:1902: Publish: {'claim_address': u'bRKhcHXmbERXUm3sm7TkPw2rb7jtDmHUgK', 'name': u'a', 'bid': 0.01, 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {'version': '_0_1_0', 'language': u'en', 'title': u'a'}}}, 'file_path': u'/home/grin/Desktop/cake.jpg', 'change_address': None}\n2017-10-02 15:41:23,191 INFO     lbrynet.daemon.Publisher:27: Starting publish for a\n2017-10-02 15:41:23,197 INFO     lbrynet.daemon.auth.server:380: queued publish\n2017-10-02 15:41:23,251 INFO     lbrynet.lbry_file.EncryptedFileMetadataManager:246: Saved sd blob hash 1bad9e09159df509159c852569210128a0553c41e2242f3e883c8671a7006c11547d2372bf94199060d1b6c7c26434e2 to stream hash 60bce45d321bf964d39b3b437150c1a3e2823b00d1475e813ee39be18650f8f3aa1c7127921a26d5d37ed3d534ed92a9\n2017-10-02 15:41:23,252 INFO     lbrynet.core.Wallet:1368: Send claim: a for 0.01: 080110011a5d08011215080410011a016122002a00320038004a0052005a001a42080110011a301bad9e09159df509159c852569210128a0553c41e2242f3e883c8671a7006c11547d2372bf94199060d1b6c7c26434e2220a696d6167652f6a706567 \n2017-10-02 15:41:27,156 ERROR    lbryum:116: [CoinChooserOldestFirst] change: [(1, 'bFhC1kkAPM8YCr3ENFhU8vcRxJ72h7NuZ3', 87480450)]\n2017-10-02 15:41:27,156 ERROR    lbryum:116: [CoinChooserOldestFirst] change: [(1, 'bFhC1kkAPM8YCr3ENFhU8vcRxJ72h7NuZ3', 87480450)]\n2017-10-02 15:41:27,156 ERROR    lbryum:116: [CoinChooserOldestFirst] using 1 inputs\n2017-10-02 15:41:27,156 ERROR    lbryum:116: [CoinChooserOldestFirst] using 1 inputs\n2017-10-02 15:41:27,157 ERROR    lbryum:116: [CoinChooserOldestFirst] using buckets: [u'f45e563a3d368ae782a2786bfea821fc76157ccd7403cb04b5e8270478744906:1']\n2017-10-02 15:41:27,157 ERROR    lbryum:116: [CoinChooserOldestFirst] using buckets: [u'f45e563a3d368ae782a2786bfea821fc76157ccd7403cb04b5e8270478744906:1']\n2017-10-02 15:41:27,409 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634100000000\n2017-10-02 15:41:27,409 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634100000000\n2017-10-02 15:41:27,699 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634101004400\n2017-10-02 15:41:27,699 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634101004400\n2017-10-02 15:41:27,988 ERROR    lbryum:116: is_complete True\n2017-10-02 15:41:27,988 ERROR    lbryum:116: is_complete True\n2017-10-02 15:41:28,200 INFO     lbrynet.core.Wallet:949: Saving metadata for claim 760d400a1fa00c518231dcce27fa302e612cf632d23ad055a44bb484373cc6bf 0\n2017-10-02 15:41:28,250 INFO     lbrynet.daemon.Daemon:716: Success! Published to lbry://a txid: 760d400a1fa00c518231dcce27fa302e612cf632d23ad055a44bb484373cc6bf nout: 0\n2017-10-02 15:41:28,252 INFO     lbrynet.daemon.auth.server:382: running publish from queue\n2017-10-02 15:41:28,252 INFO     lbrynet.daemon.Daemon:1902: Publish: {'claim_address': u'bRKhcHXmbERXUm3sm7TkPw2rb7jtDmHUgK', 'name': u'b', 'bid': 0.01, 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {'version': '_0_1_0', 'language': u'en', 'title': u'b'}}}, 'file_path': u'/home/grin/Desktop/cake.jpg', 'change_address': None}\n2017-10-02 15:41:28,840 INFO     lbrynet.daemon.Publisher:27: Starting publish for b\n2017-10-02 15:41:28,895 INFO     lbrynet.lbry_file.EncryptedFileMetadataManager:246: Saved sd blob hash 266516984ae5bdb92c436c310229696461fe432c2c8cfeca07a2674d5e6c70a3351f6f532c81ad796253eb35dd842114 to stream hash fc825dca8f331b6d710e0a4c57fd4f1f7203aacd9f576baedae731712790d272c2194a84bd9a66eff31e39ec705c4729\n2017-10-02 15:41:28,896 INFO     lbrynet.core.Wallet:1368: Send claim: b for 0.01: 080110011a5d08011215080410011a016222002a00320038004a0052005a001a42080110011a30266516984ae5bdb92c436c310229696461fe432c2c8cfeca07a2674d5e6c70a3351f6f532c81ad796253eb35dd842114220a696d6167652f6a706567 \n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] change: [(1, 'baxi1M4Eh6e8j3tgLVq6bvC2aHusUCD3pN', 87480450)]\n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] change: [(1, 'baxi1M4Eh6e8j3tgLVq6bvC2aHusUCD3pN', 87480450)]\n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] using 1 inputs\n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] using 1 inputs\n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] using buckets: [u'f45e563a3d368ae782a2786bfea821fc76157ccd7403cb04b5e8270478744906:1']\n2017-10-02 15:41:33,127 ERROR    lbryum:116: [CoinChooserOldestFirst] using buckets: [u'f45e563a3d368ae782a2786bfea821fc76157ccd7403cb04b5e8270478744906:1']\n2017-10-02 15:41:33,367 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634100000000\n2017-10-02 15:41:33,367 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634100000000\n2017-10-02 15:41:33,660 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634101004400\n2017-10-02 15:41:33,660 ERROR    lbryum:116: adding signature for ff0488b21e000000000000000000548f12442af0179487f9b3749b86dd191a84cecec5a9ffd93941348a3e416a9002e1d4b251ad109fc23db8ec62b8d19104ac77f4db019a293d6677a51889a7634101004400\n2017-10-02 15:41:33,950 ERROR    lbryum:116: is_complete True\n2017-10-02 15:41:33,950 ERROR    lbryum:116: is_complete True\n2017-10-02 15:41:34,293 ERROR    lbrynet.daemon.auth.server:398: Failed to process publish: Claim to name b failed: error: The transaction was rejected by network rules.(258: txn-mempool-conflict)\n[01000000029570e9e12614a87b333472bec96bc3371dc75a817e5aa6450abeb19f6c068de6000000006b483045022100ad57e872f9c819960042dc413bbd1a72ed6a9233ffdc36ed9cefd658e7607d2602202684bed0da2647918bbb98f894e31f081d27f34eeb340fb29cc678a7057a5fea012102ea946d4ac2ee9b657a760a575185e102f705831d42a90ab3b1958b8e3a3eab4cffffffff064974780427e8b504cb0374cd7c1576fc21a8fe6b78a282e78a363d3a565ef4010000006b483045022100d0b20a3ea1dc54061367fcb0ff43dd704301b1c4ea62b54fa21b21a56af64e20022047a56c13d16062dc941e52948636f231c50343b41f53504372733c5ed7e93fee012102611e96c34e242a25dd5b8103d980d676886c7ffd5979dd398007c66cb1868987ffffffff0240420f0000000000f6b7016214a97f7d1cb400b7ac2f7278ebdbe60d7ceb74bf1b4cc1080110011a5d08011215080410011a016222002a00320038004a0052005a001a42080110011a30266516984ae5bdb92c436c310229696461fe432c2c8cfeca07a2674d5e6c70a3351f6f532c81ad796253eb35dd842114220a696d6167652f6a7065672a5c080110031a400982ed47746c2d289d8c7c17aed2355ccb4a7d44fa1455a70d8f5fc5a4252c6c3d9043346e9116553fb7c15e43c42e12c75c9d6066cab8c2efd68ff815b50a7222148ca8281d337a9892c1a73a90cc90d6aa9914dd726d6d76a9148a24732bbad3463af7452904bd12e195fc1477a988ac82d83605000000001976a914f3dd4deed7d88794744f4d7198d7a8e882be6dc388ac00000000]\nTraceback (most recent call last):\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n    result = g.send(result)\n  File \"/home/grin/code/lbry/lbry/lbrynet/core/Wallet.py\", line 945, in claim_name\n    raise Exception(msg)\nException: Claim to name b failed: error: The transaction was rejected by network rules.(258: txn-mempool-conflict)\n[01000000029570e9e12614a87b333472bec96bc3371dc75a817e5aa6450abeb19f6c068de6000000006b483045022100ad57e872f9c819960042dc413bbd1a72ed6a9233ffdc36ed9cefd658e7607d2602202684bed0da2647918bbb98f894e31f081d27f34eeb340fb29cc678a7057a5fea012102ea946d4ac2ee9b657a760a575185e102f705831d42a90ab3b1958b8e3a3eab4cffffffff064974780427e8b504cb0374cd7c1576fc21a8fe6b78a282e78a363d3a565ef4010000006b483045022100d0b20a3ea1dc54061367fcb0ff43dd704301b1c4ea62b54fa21b21a56af64e20022047a56c13d16062dc941e52948636f231c50343b41f53504372733c5ed7e93fee012102611e96c34e242a25dd5b8103d980d676886c7ffd5979dd398007c66cb1868987ffffffff0240420f0000000000f6b7016214a97f7d1cb400b7ac2f7278ebdbe60d7ceb74bf1b4cc1080110011a5d08011215080410011a016222002a00320038004a0052005a001a42080110011a30266516984ae5bdb92c436c310229696461fe432c2c8cfeca07a2674d5e6c70a3351f6f532c81ad796253eb35dd842114220a696d6167652f6a7065672a5c080110031a400982ed47746c2d289d8c7c17aed2355ccb4a7d44fa1455a70d8f5fc5a4252c6c3d9043346e9116553fb7c15e43c42e12c75c9d6066cab8c2efd68ff815b50a7222148ca8281d337a9892c1a73a90cc90d6aa9914dd726d6d76a9148a24732bbad3463af7452904bd12e195fc1477a988ac82d83605000000001976a914f3dd4deed7d88794744f4d7198d7a8e882be6dc388ac00000000]\n2017-10-02 15:41:34,397 INFO     lbrynet.reflector.client.client:77: Reflector has all blobs for lbry://a (1bad9e09159df509)\n2017-10-02 15:41:34,397 INFO     lbrynet.daemon.Daemon:712: Reflected new publication to lbry://a\n``. Yep.. If the server_port is bound, this will still try to start the daemon multiple times. Is that correct behavior, or should it fail right away if aCannotListenErroris raised?. json.loads() can deal with things like0.9.1`. we could do \ntry:\n        return json.loads(x)\n    except ValueError:\n        return x\nbut then we run the risk of malformed json just being treated as a string. I fixed it in https://github.com/lbryio/lbry/commit/8fa2524e540554662ee10935a2b2b225f656eed3. But I'm open to using json.loads() somehow if you have a suggestion. I'd prefer json.loads to guess_type. @jackrobison this was surprisingly painless. Aaaaand clearly I messed something up. Run lbrynet-daemon --fake-arg. Process hangs and needs to be kill -9ed . Does it have something to do with the order in which twisted and logging are initialized?. Of course it does.. merged. ucberkeley-ikrfUcUdJ3E. I'm not sure if this is still happening (and it wasnt a major issue anyway), so I'm gonna close it.. merged. merged. @lestravo thanks for reporting the issue. I believe I fixed it. Please give it another try, and reopen if its still happening.. why does jsonrpc_resolve_name take a validate argument?. if the name being resolved is part of a channel, it should automatically validate and return that info in the response. here's an example:\n$ lbrynet-cli resolve_name name=what\n{\n  \"author\": \"Samuel Bryan\",\n  \"channel\": {\n    \"name\":\"@lbry\",\n    \"valid\":true,\n  }\n  \"content_type\": \"video/mp4\",\n  \"description\": \"What is LBRY? An introduction with Alex Tabarrok\",\n  \"language\": \"en\",\n  \"license\": \"LBRY inc\",\n  \"nsfw\": false,\n  \"sources\": {\n    \"lbry_sd_hash\": \"d5169241150022f996fa7cd6a9a1c421937276a3275eb912790bd07ba7aec1fac5fd45431d226b8fb402691e79aeb24b\"\n  },\n  \"thumbnail\": \"https://s3.amazonaws.com/files.lbry.io/logo.png\",\n  \"title\": \"What is LBRY?\",\n  \"ver\": \"0.0.3\"\n}. alternatively, don't even include channel information if its not valid. we can define \"in a channel\" to mean \"has a channel name and a valid channel signature\". so if the sig is invalid, its not actually in a channel at all.\nnot sure which is better here.. Agreed that validation should not be mingled with metadata. Didn't mean to put it there.\nLet's validate by default. It's probably what you want most of the time. If you want to add an option to disable validation, I'm cool with that.. That said, resolve should return claim info somewhere. Wherever that goes, the validation should go with it.. Sounds like we're good here. Please reopen if we need to discuss anything else.. Thanks for the detailed report and extra info. I didn't even know XDG_DOWNLOAD_DIR was a thing, and I've been using linux for a long time. We'll get this fixed in the next few weeks.. Fixed. I think this is a legit request. The issue is that lbrynet-cli is a very thin wrapper around curl, and has almost no logic of its own. But we can add at least have it respond to --version with something useful.. @jackrobison do your recent CLI changes fix this?. we'll add that in. This is in the lbry-app repo. Right now the exe is built at the same time as the lbry-app release. We should move that code into this repo.\nSee https://github.com/lbryio/lbry-app/blob/master/daemon/build.ps1. @techtonik this is mostly done in https://github.com/lbryio/lbry/pull/604 . will merge it in soon.. @alexliebowitz changelog please. @tikolai i think you misunderstood the instructions. that was all supposed to be part of one apt-get install command. It should look like this:\nsudo apt-get install libgmp3-dev build-essential python2.7 python2.7-dev python-pip git python-virtualenv libssl-dev libffi-dev\nI'll fix the instructions to put that all on one line, so it's clearer. Thanks for taking the time to report this.. Fixed in https://github.com/lbryio/lbry/commit/7a798616d61cca54d20c0570cb8d7489654e0492. Thanks for the feedback. Do you have specific reasons for why dmg is better than pkg?. Those are good points. @jackrobison thoughts? (he's our resident mac expert). We're gonna stick with a DMG installer. Thanks @sprig and @charlie-c for convincing us.. I suspect DHT issues. @kaykurokawa did you fix this? i seem to remember you working on this. @mortie thanks for the feedback. it's supposed to print the status more frequently, so this does sound like a bug. what OS are you on, and what version of the app are you using?. Fixed, thanks.. Closing due to inactivity.. this was merged: 127c4e90a239ae1d272ae70415150769b1b131b7. @kaykurokawa does #747 fix this?. @eyalroz what version of python and pip are you using?. Weird. From my quick googling, it looks like some kind of python 2/3 version mismatch. Take a look at these:\nhttps://github.com/skoczen/will/issues/148\nhttps://teamtreehouse.com/community/why-cant-i-install-wsgiref-in-python-virtual-environment\nAny chance that applies to you somehow?. I believe this is fixed.. @blackknight36 what OS did you need this for? We build the app on Ubuntu 16.04 and we don't use that package.. We don't officially support raspbian, so I'd rather not put that in the install doc. I'm happy to create a \"LBRY on Raspberry Pi\" wiki page if you want to write about what you did there?. Can you add a check that only installs pyparsing if you're on a pi? . I ended up just adding a comment here: 803cd98fef587cd6349c3cea96fe7e02ecbb2287\nThanks for your help. If you're in our slack, ping me and I'll send you some credits.. @jackrobison any updates on this?. @jackrobison still waiting for an update. Jack says this is fixed. New error says \nTraceback (most recent call last):\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 457, in callback\n    self._startRunCallbacks(result)\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 565, in _startRunCallbacks\n    self._runCallbacks()\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 651, in _runCallbacks\n    current.result = callback(current.result, *args, **kw)\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1355, in gotResult\n    _inlineCallbacks(r, g, deferred)\n--- <exception caught here> ---\n  File \"/home/grin/.virtualenvs/lbry/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n    result = g.send(result)\n  File \"/home/grin/code/lbry/lbry/lbrynet/daemon/Daemon.py\", line 1545, in jsonrpc_get\n    \"Failed to resolve stream at lbry://{}\".format(uri.replace(\"lbry://\", \"\")))\nexceptions.Exception: Failed to resolve stream at lbry://@alex. Also, documentation tells me this should be possible:\nUsage:\n            get <uri> [<file_name> | --file_name=<file_name>] [<timeout> | --timeout=<timeout>]\nlbry://@alex is a uri. duplicate of #991 . I'm guessing this happens if you kill the daemon at just the wrong moment.. More info: happens if you press ctrl+C right after this message: lbrynet.lbrynet_daemon.Daemon:560: Using lbryum wallet. Still happens. Here's the new error message: \n```\n2017-09-26 13:11:47,016 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-26 13:11:47,017 INFO     lbrynet.daemon.Daemon:537: Using lbryum wallet\n^C2017-09-26 13:11:47,737 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-26 13:11:47,737 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_wallet\n2017-09-26 13:11:47,737 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-26 13:11:47,738 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-26 13:11:47,738 ERROR    lbrynet.core.Wallet:542: Something went wrong during manage. Error message: 'NoneType' object has no attribute 'get_balance'\n2017-09-26 13:11:47,740 ERROR    lbrynet.core.Wallet:473: An error occurred stopping the wallet: Traceback (most recent call last):\n  File \"site-packages/twisted/internet/defer.py\", line 308, in addCallbacks\nFile \"site-packages/twisted/internet/defer.py\", line 651, in _runCallbacks\nFile \"site-packages/lbrynet/core/Wallet.py\", line 529, in \nFile \"site-packages/twisted/internet/defer.py\", line 1445, in unwindGenerator\n---  ---\n  File \"site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages/lbrynet/core/Wallet.py\", line 559, in update_balance\nFile \"site-packages/lbrynet/core/Wallet.py\", line 1303, in _update_balance\nFile \"site-packages/lbrynet/core/Wallet.py\", line 1288, in _run_cmd_as_defer_succeed\nFile \"site-packages/lbryum/commands.py\", line 91, in func_wrapper\nFile \"site-packages/lbryum/commands.py\", line 309, in getbalance\nexceptions.AttributeError: 'NoneType' object has no attribute 'get_balance'\n2017-09-26 13:11:47,741 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n``. sorry for the slow response. runPYTHONPATH=. trial lbrynet.teststo run the tests. you may need to install a few packages to get it to run. check thescriptsection of.travis.yml`. Moved to https://github.com/lbryio/lbry-app/issues/102. Closing this for now. Please reopen once you rebase and address kay's comments.. This is a strange way of doing the migration. What if the daemon is killed right after you drop the table? Now you just lost everything.\nYou should do this\n```\nCREATE TABLE IF NOT EXISTS tmp_name_metadata_table (name TEXT UNIQUE NOT NULL, txid TEXT NOT NULL, n INTEGER NOT NULL, sd_hash TEXT NOT NULL);\nINSERT OR IGNORE INTO tmp_name_metadata_table (name, txid, n, sd_hash) SELECT name, txid, n, sd_hash FROM name_metadata;\nDROP TABLE name_metadata;\nALTER TABLE tmp_name_metadata_table RENAME TO name_metadata;\n```\nAll SQL, no need to open multiple connections or store anything in memory. The only way this fails is if the last statement does not execute, but then all you need to do is detect that the tmp table exists and the original doesnt, and run just the last statement.. Btw, if this can be fixed for real in lbryum-server, that would be way better.. @finer9 this should be in the lbry-app repo. Moving it there: https://github.com/lbryio/lbry-app/issues/181. Fixed in #656 . @kauffj said it was fixed in 0.11.3, but @CjMapope tried 0.11.7 and it's still not fixed. Are you saying it was fixed for real in a later release? If so, can you please confirm that that's true and then close this issue?. @shuryukan what version of the daemon are you using? run lbrynet-daemon.exe --version and paste the results here. Hmm. I thought I fixed this issue before v0.10.2, but maybe it was just after...\nCan you try the latest version and let me know if you're still getting that error?\nEither way, this warning should not impact the usability of the daemon. But I appreciate that you took the time to open this issue :smile: . Please reopen if you're still seeing that message.. As per the tech meeting: [u'error': u'Name lbry://someunclaimedname1 is unknown'} is better, Jack should update docstring.. I dont believe we're blocking anything based on location. I do know our lbryum server has issues sometimes, and @jackrobison is gonna be working on fixes for it.\n@iateadonut the daemon should have several lbryum servers in its list, and should try to connect to other servers if the first one fails. are you seeing that in the logs? does the daemon still work for you despite this error?. If its dropped, I'm closing it. Reopen if we need to do anything else here.. @kaykurokawa if this is waiting for code review, please assign reviewers on the right side. if its something else, lemme know what. otherwise lets merge it. @tzarebczan that looks like a diff error. Reported here: https://github.com/lbryio/lbry/issues/692. This is already possible with peer_list, but it works on individual blobs, not on files.. Not strictly necessary: http://semver.org/#spec-item-4. Plus we break BC\nregularly and we're not that consistent about it.\nIf we want to get more consistent, we can. But that will require more work\nand planning.\nOn Thu, Jun 8, 2017 at 8:13 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\nIs this a behavior BC break? If so should really be a minor version\nincrement.\n\u2014\nYou are receiving this because you were assigned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/672#issuecomment-307261022, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIOK6OBF2yLRhHa1Nq7uB-gT41Ex4ks5sCI4YgaJpZM4NwipC\n.\n. is this good to go? if so please merge it. if not, whats next?. Does this happen every single time the app is started?. this doesnt need to be a PR, you can just merge it. @jackrobison how long would it take to add caching here too. @jackrobison is this fixed? or will this be fixed by https://github.com/lbryio/lbryum/issues/109 ?. this doesnt need to be a PR, you can just merge it. as per slack, _total_contacts should be _unique_contacts. after that, lgtm. Moved bug convo to https://github.com/lbryio/lbry/issues/868. merged in c7b254ec887d11a0d3da52ff61aa1d510a048f3c. @jackrobison how much work is left here?. Duplicate of https://github.com/lbryio/lbry/issues/547. Looks good to me.\n\nFYI someone told me that if you put Fixes #693 in your commit message, Github will automatically close the issue when the commit is merged. Not sure if this is true or not.. Will gladly merge this if you fix the above. Thanks for the detailed discussion/PR :-). @kaykurokawa @filipnyquist you have a good point that we should consider how other crypto projects do it. In this case, I think we're better off doing what's right rather than following the mistake that many projects make, so I'd like to merge this.\n@zestyr did you test this on windows and mac?. great. could you please fix the merge conflicts and I'll merge it. closed by #783 . Fixed by https://github.com/lbryio/lbry/pull/749. Let's stick with our noun_verb pattern and call the endpoints jsonrpc_wallet_encrypt and jsonrpc_wallet_decrypt. Decrypt may imply that the wallet is no longer encrypted, so I'm open to another verb here (unlock? passphrase?)\nWhy do you have pw and pw_verify on encrypt. If this is an API, its just as easy to include a string twice as it is to include it once. If we're gonna go with the \"enter it twice\" route, we should get it interactively after the command is run.\nThe wallet password should be handled securely. Idk what the current best practices are for storing keys in memory. Whoever implements this, please read about it and do the right thing.\nI know this an MVP, but I like how lbrycrdd asks you for a time and only keeps the wallet decrypted for that period of time. That would be a nice-to-have feature.. Also, thanks for writing this up :+1: . I'm going to close this so we don't have an outstanding PR waiting for us.. Next step: figure out the proper way to fix this, so we know what to do next. I'm gonna leave this out of the milestone-ing. Lemme know when it's ready for us to look at.. Merged in 4e4eeae79cab9f044f6c2e51bdc7bfe02a954cea. @kaykurokawa is this still work in progress?. @stephenrblake this is great, thanks for helping out. I'll ask our protocol expert to look at this. I think these changes will also require a change to the metadata schema, most likely here: https://github.com/lbryio/lbryschema/blob/master/lbryschema/proto/source.proto. Next step: profile encryption algo, figure out where the actual bottleneck is. Merged in https://github.com/lbryio/lbry/pull/898. related to #747 . This feels like its close to done. The issues raised in review need to be addressed, and it needs to be rebased.. lgtm. does point c) above mean that no data fees are paid at all? so if someone  asks for data fees, we just don't pay them? or are they being paid elsewhere?. looks like the answer is yes. i know we talked about how this fixes more things than it breaks, but it still feels crappy to do this.\ncan you write up what's required to make data payment work for real? at least that way we'll know how much more work we need to do there. This feels like two separate PRs. Can you break this up please?. This is good, but linking people to lbry.io/faq is not ideal. Can you write a faq article to link people to? See https://github.com/lbryio/lbry.io/blob/master/content/faq/how-to-stop-lbry.md as an example of a file that gets transformed into a faq article.. @hackrush01 whats next on this?. @hackrush01 im gonna close this for now since it looks like its not gonna get worked on for a while. please reopen when you're ready.. I agree with Kay that it should happen in one place and that we should not cast to string all over. It's possible that there is no single place where this can happen right now, which is a sign that our code should be refactored to create such a place.\nOne general solution I see is to automatically validate/convert all args to all jsonrpc functions. If the docstring says that an arg should be a str, then it should be cast to str before being passed to the function.\n@kaykurokawa is this too much to fix this issue? do you see a smaller but still general solution? id like to avoid a solution where all params named \"uri\" are cast, because that's too magicy. . @kaykurokawa sounds good to me\n@zestyr if you implement kay's fix, does that solve everything?. @zestyr status update?. talked to @zestyr about this. he wants to tackle it after he's done with the api testing he's doing now. At the very least we can have builds fail when the API docs are out of date. Have travis run the api  build script and error if there are any changes.. the reason we do this is so devs can get good versions numbers without editing lbrynet.__version__ on every single commit. i dont think we should ge trid of it\n@alexliebowitz i dont think this PR is the right solution, for several reasons:\n1 - as jack pointed out, we already have a standard logging process. use that instead of sys.stderr.write\n2 - the real fix is to detect when the git command doesnt exist, and return lbrynet_version. that way this function never fails. May need to rebuild lbryum-server if any short-name claims already exist.. related to #1056 . @jackrobison is this done? What are the next steps in diagnosing download errors?. Agreed with your assessment. In fact there are probably even more parties involved. I'll add these to the top-level issue and close this one.. Actually... only somewhat agreed. The simple solution only works because there's no reputation or payment tracking system in place yet. But that's where we're at now, so that will be good enough.. Here's what electrum did to solve this (or a similar) issue: https://github.com/spesmilo/electrum/commit/6318bda54d55c381d40057a76cdac843ac918936. @jackrobison @kaykurokawa ping. Closing this, as #898 incorporates this work. Thanks @shyba for your help. Sorry that we didn't get back to you in a timely fashion. If you're in our slack, DM me (@grin) for some LBC.. There are two issues here\n1 - bandwidth limits dont work and should not be in the UI\n2 - it would be nice to have bandwidth limits that work\nWe're not gonna get to 2 for a while, so I'm gonna tag this as a feature request and close it. I'll file an issue for 1 in the app repo.. Issue moved to lbryio/internal-issues #82 via ZenHub\n. steps:\n- [ ] figure out the correct model for storing deleted blobs. do you delete all the info in the db and just keep the sd blob on disk (so you have the key and don't need to get it again)? do you keep the db entries and just mark the blobs as deleted? something else?\n- [ ] figure out db structure for storing payment info (connect claim_outpoint of payment to stream_hash of file)\n- [ ] write migration\n- [ ] add functions to save/retrieve payment info to Storage class\n- [ ] add check for this in Downloader class\n- [ ] add payment info to transaction_list and file_list\n- [ ] tests\n- [ ] pr review\n. moved to lbryio/reflector-cluster#33. @kaykurokawa if this needs review, please assign reviewers. Thanks @billbitt. im looking at this now. there are two major sources of open files: the API and reflector. right now reflector actually has the majority of the connections (468 of 726) while the API has 175. So I don't think its only the API's fault. . Short-term solution: raise the limit way up. I did this on reflector and speech (howto: 1, 2)\nLong-term limit: daemon needs to manage its connections to reflector better. Probably a limit on how much content it can download at once. New issue filed here: https://github.com/lbryio/lbry/issues/817. Update: Jack has been working on this and he basically has it fixed. I also make a small change to spee.ch daemon that's helping for now, but the real fix won't be in place till Jack's done. He says it will be finished this week.. Will be fixed by #796 . @hackrush01 did you ever fix this? tom's comment in #871 makes me think you were working on it. For reflection, the real fix is to put a reasonable limit there - either max simultaneous uploads, max connections per server, max upload bandwidth, or some combo of these. But its not high on the list right now. \nFor speech, the fix has to be on speech's end. Either serving static content directly without hitting the node server, or a cache in front of speech, a CDN, etc. I'm guessing part of the problem was having the same URL return different content to different user-agents, which required the direct URLs to still go through node. Now that we dropped that, speech may no longer have a problem at all.. In summary, I'm closing this. Please reopen if I'm mistaken and it's still an issue.. @kaykurokawa whats the next step on this?. Merged in 350386ba. gonna close this. not sure what this is asking for. I think the right way to do this is instead of should_announce, we have a column like blob_type. Then it can have values sd_blob, head_content_blob, or content_blob. Then the code can decide what to do with the blob.\nThis way, if you change your announce settings, you don't have to reset all the blobs in the db. \nWe can have an additional value of unknown, which can be the default, so you don't have to fill in values for existing blobs.. this will be fixed by #505 - the path will be stored in the db. i meant #1025 . Currently, this happens via the same bash script as every other server. In the future we'll have an autoscaling system. Issue moved to lbryio/reflector-cluster #30 via ZenHub\n. Issue moved to lbryio/reflector-cluster #31 via ZenHub\n. Issue moved to lbryio/reflector-cluster #29 via ZenHub\n. done. Part 2 in https://github.com/lbryio/lbry/issues/887. Next step: figure out if Websockets is the right solution to this. Related: http://wamp-proto.org/. Thought about this some. I think there are times when we want it to return right away, and there are times when we want it to return when its done. I think the latter is more common, so we should add a --return-immediately flag (needs better name).. For now the app should handle this error in a custom way. We are planning to overhaul errors soon (issue #1134). most of this may be invalid, since I thought our implementation was closer to Bittorrent when it's actually closer to the original Kademlia paper. It's ok if we're not compatible with other libraries, but I'd like us to be compatible with other languages (like Go), which generally requires being more consistent with our return types. If we sometimes return a string, and sometimes an int, and  sometimes None, that's annoying to handle in strongly-typed languages.\nWe are indeed working on a Go implementation of the DHT. Are you interested in helping with that? I've already a little in https://github.com/lbryio/lbry.go/tree/master/dht, but its been a struggle because our DHT protocol is not well-documented, so I've mostly been sending/receiving messages and then figuring out how to handle what I get.. jack refactored a lot of the dht code, and some of this is wrong, so it can be closed. there's one part that's real. ill file a separate issue for it. Issue moved to lbryio/reflector-cluster #34 via ZenHub\n. Issue moved to lbryio/internal-apis #58 via ZenHub\n. Agreed with Kay. There's no reason to query the daemon for this.\nOn Tue, Aug 22, 2017 at 10:46 AM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nanother library option here https://github.com/cryptocoinjs/coinstring\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/867#issuecomment-324049572, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIC8aKsNJTKxY4slyBFsIfM0egartks5sauncgaJpZM4O-TIu\n.\n. clean error on invalid address makes sense. Next steps: \n - lbry daemon errors if address is invalid (not a priority now)\n - lbry app checks address using regex or real base58 check. @jackrobison bump. I'd prefer not to switch algorithms for now unless there's a compelling reason. I don't think we care about authenticity.. That's correct. We're gonna try to move https://github.com/lbryio/lbry/issues/762 to the top of the list, so this is automated in the future.. will reopen when we get one :-). Issue moved to lbryio/lbry-app #626 via ZenHub\n. Issue moved to lbryio/reflector-cluster #35 via ZenHub\n. Issue moved to lbryio/reflector-cluster #36 via ZenHub\n. I talked to @kennethreitz last week. He said he's interested in doing this, but he's not making any promises about timelines or finishing. Some of our code may be tricky to convert. That said, I'd love to hear updates on how it's going.. gonna close this. I think we're more likely to switch to Go than Python3 at this point. closed in https://github.com/lbryio/lbry-app/pull/822. same error as #1037 . For the record, you can work around this by publishing the channel claim, then using --channel_id param when publishing content claims into the channel. Spee.ch is already doing this. The app should start doing it (@seanyesmunt).\n\nThe real solution for this will be to fix tx malleability.. fixed by https://github.com/lbryio/lbry/pull/1100. @kaykurokawa why is this in \"needs review\"?. Fixed in https://github.com/lbryio/lbry/issues/913. Looks like the same error as the latest comment in #626 . jack will work on this in lbryio/internal-issues#105. please rebase and merge @jackrobison . https://github.com/lbryio/lbryschema/issues/20. The proper solution here is related to standardizing type definitions across the various lbry repos.. i believe this may be fixed by #505 . i meant #1025 . @kaykurokawa is this done?. Both ports are necessary for publishing and for download. Reflector makes it so upload works without 4444, but we should not rely on that.. related: https://github.com/lbryio/lbry/issues/808. related: https://github.com/lbryio/lbry/pull/965. related: #1016 . related to #1025 . What do you mean by \"could this be reduced to a single value\"?\nGood point about the content. I believe that's gonna be part of importing the private key for the addresses involved. When you import the key, its like you made the transactions, and therefore the content should show up as if you published it.\nIf a single address was used to publish multiple channels, then you're right that we would need to re-key all the published content into its own address first, then export that address. For now, I'm ok with the daemon simply detecting this case and returning an error saying that this is not supported yet.. It may be possible, but it would be a long string.\nOn Tue, Oct 17, 2017 at 3:07 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\nBy reduced to a single value I meant that could we reduce all that is\nneeded to transfer a channel down to a single key. If so, this would mean\nit can be entered via a UI rather than requiring moving files.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/954#issuecomment-337336883, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIKN4Va8P8RdBIpdpuzeAwOeL1HeOks5stPrtgaJpZM4P6tgM\n.\n. @jackrobison says this is probably related to old clients (from before we fixed the lbry id issue). will be fixed by lbryio/lbryum-server#49. ~Issue moved to lbryio/lbryum #199 via ZenHub~\n\nunmoved\n. reassigning to lex for grooming since he knows how performant something like this would be, and how complex it is to implement. Not sure if I did https://github.com/lbryio/lbry/pull/960/files#diff-eafee006192cca2ffbca5ba91dc83eeeR1336 right. merged in beca640f896e32ce29bd97befb55f0bd774a149a. @kaykurokawa looks good to merge?. @ordex i removed jack and kay as reviewers for now, since it looks like they left comments above. please add one or both of them when you're ready for them to look at this again.. I believe some of @jackrobison 's recent work will take care of this. updated. How does this interact with the port setting in the config file? If the user selected a port to use, it should always use that port and error if that port is not available. A lot of our servers have firewalls that block all ports except those that we allow, so we need to listen on one port and one port only.\nHere's my proposal for the overall behavior:\n- port defaults to being unset in the configuration\n- if port is not set, bind any available port. error if no port could be bound\n- if port is set, bind only that port. error if it cannot be bound\nIn addition, it would be nice to test if the bound port is actually accessible externally. Maybe we have a server set up that does @jackrobison's ping-handshake thing and returns whether it worked? Then we can warn (or even error) if it failed.. Sure. The ping handshake jack made can be done with any server. So the daemon can do it with the bootstrap nodes, or with any node at all. Just have to make sure this isn't a ddos vector (asking every node to ping a single node).. @ordex sounds good. @ordex there's a PR out to fix this, right?. is it #1007 ?. Merged in d827b4d5af46b552395a2673f8c86d07958cc6de. does #1007 fix this?. why is this a blocker?. @tzarebczan good idea for the future, but we're not gonna be able to get to this for a while. good point. :+1: . @kaykurokawa if the PR looks good and no rebasing or other work is required from the submitter, merge it. @eukreign will your lbryum work or victor's lbryumx work fix this? should I make a new label for \"will be fixed by txlbryum/lbryumx changes\" so we can check all these issues after your code is merged?. Does #998 fix this?. @jackrobison this doesnt need a PR. you can make this change right in master.. duplicate of #803 . @tzarebczan can you reproduce this issue using only lbrynet? I suspect this is a lbry-app issue involving caching, but if you can reproduce it in lbrynet, then this is the appropriate repo. \nIf you can ever call resolve on a name and get it to show you the wrong price, then we'll need to fix it here. Otherwise the solution may be for the app to call resolve before any credits are spent, just to refresh the cached price. That said, it's always possible that in the time between calling resolve and get, a new block comes in and the content changes. If that's the only way to trigger this, then I'm much less concerned about it.. @Serkan-devel are you interested in tackling this? Type safety would be great to have, and we've been thinking about it too. We would prefer Go instead of Rust, but we're open-minded. This is not a priority for us for the foreseeable future, but if you do it, we're happy to pay a bounty for the work.. part of https://github.com/orgs/lbryio/projects/5. this fixes #977 as well. proper solution: https://github.com/orgs/lbryio/projects/5. The solution here is to for the daemon to detect whether it's externally connectable, and not announce its blobs if it isnt.. Issue moved to lbryio/reflector-cluster #37 via ZenHub\n. related: #762. i believe https://github.com/lbryio/lbry-app/issues/842 can be closed when this is closed too. @tzarebczan I have not been able to reproduce this. Can you please give it a try when you have some time and let me know if you can get this to happen?. To repro: lbrynet-cli resolve mindblown#02da15270141483a76a7b8372d69653b735fb0b9 or lbrynet-cli resolve xzxzx#34. @jackrobison who needs to review this? i glanced at it briefly and i still think more columns should be not null. proper solution: #1010 . lets close for now. reopen if it happens again.. i don't think that's the same thing. here's the error:\nTraceback (most recent call last):\n  File \"/home/grin/.virtualenvs/lbry/bin/lbrynet-cli\", line 11, in <module>\n    load_entry_point('lbrynet', 'console_scripts', 'lbrynet-cli')()\n  File \"/home/grin/code/lbry/lbry/lbrynet/daemon/DaemonCLI.py\", line 131, in main\n    if 'data' in error_data['error'] and 'traceback' in error_data['error']['data']:\nTypeError: 'NoneType' object has no attribute '__getitem__'. keep in mind, this is an approximate takeover time,  and should be presented as such. secondsPerBlock is an approximation. No idea what happened here. Cant really do much with this info. Niko, lemme know if you want me to fix your account manually.. Related to #1040 . I don't think so. Running just lbrynet should show help info on how to use the command (should be the same thing as lbrynet help). You're running the binary on the command line, so CLI is the default interaction mode.\nI like how Keybase does their cli. They do it like this.\n. Yes. Looks like its changed a bit. They used to have commands like keybase kbfs start which starts the kbfs daemon. . Alternatively, lbrynet should return takeover height information for claims.. The goal was to be able to show (e.g. in the app) how long it will be before a claim you just made will become the winning claim. So if there's a longstanding claim with multiple updates to it, there's no way to tell how long the takeover process will take. . The real issue is what I said above:\n\nThe goal was to be able to show (e.g. in the app) how long it will be before a claim you just made will become the winning claim. So if there's a longstanding claim with multiple updates to it, there's no way to tell how long the takeover process will take.\n\nWe can either turn this into that, or open it as a new issue. Up to you.. related: #773 . steps:\n- [ ] make a lbryum command which takes an amount, creates a transaction, and figure out how big it is. then return estimateFeeForSize(tx_size)\n- [ ] for a publish, add in claim info into the above command\n- [ ] make lbrynet command that does these\n- [ ] write tests\n- [ ] pr review. This is lower priority than improving availability and performance. Once those two are in a good place we'll look at this.. @ykris45 we still use slack for internal communication, and that's where these bug reports go. so slack is correct here.. this is up to @eukreign. i think they're doing some refactoring already. idk if this is still useful, or can be closed. Related: #881 . we'll get to this eventually. ill reopen when we have more concrete plans. merged. yep. i cleaned it up a bit and merged it in https://github.com/lbryio/lbry/commit/bb2efdcc7c38a26cd219e8866000e4857b2bffc1. yep. Issue moved to lbryio/lbry.tech #21 via ZenHub\n. Issue moved to lbryio/lbry.tech #22 via ZenHub\n. I'm closing this. @kendricktan (or anyone else), you're welcome to reopen this and pick up where you left off.. merged in 21e65336. I dropped the list of commands from help. If you want to see the commands, run lbrynet-cli commands (its mentioned in the help too).. Because when you call help, you want to read the stuff there. If you get\na giant list of commands at the bottom, you'll have to scroll all the way\nup to the top to see the original help text.\nOn Thu, Feb 8, 2018 at 2:52 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\n@lyoshenka https://github.com/lyoshenka why does commands exist\nseparately? Why not just have help list them?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1103#issuecomment-364225500, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIAwbkuWvjmRMO_WR8AkyJfBytBjyks5tS03jgaJpZM4R81gT\n.\n. i suggest that blocked content:\n- does not resolve\n- does not download\n- does not appear in lists of non-local content (e.g. channel_list)\n- is not announced???\n\nthe daemon should NOT do any of this:\n- delete content off the user's machine\n- hide it from lists of local content (e.g. file_list)\nmost of this can be done at the lbryumx level, so maybe doing it there is enough. blocking announcement must be done in the daemon, but i'm open to arguments that we should not be blocking announcement of content you already have.\nin terms of implementation, i think the blocked content list should be isolated and flexible. perhaps users will want to add other community-run blocklists in the future.\n@eukreign do you agree?. Here's a lbry.service file that would work:\n```\n[Unit]\nDescription=\"LBRY daemon\"\nAfter=network.target\n[Service]\nExecStart=/path/to/lbrynet-daemon\nRestart=on-failure\nKillMode=process\n[Install]\nWantedBy=multi-user.target\n```\n. that file is created when you edit settings. you can create it yourself.. duplicate of #1098 . i believe  this is fixed. yes. i forgot about this when we were talking about lbry.tech docs. it shouldn't block getting the docs up because we're still pre 1.0, but it will become more important as the project matures. @eukreign @NetOperatorWibby keep this in mind when designing the docs system, but don't worry about it too much yet.. This needs Igor's attention. Travis \u200bhas the wrong version of python, so it\ncant install the program we use for generating the docs. The whole thing\nneeds to be run in Docker to use a later version of ubuntu which has a\nnewer python.\n. I don't think that's intentional, or I'm misunderstanding.\nThe idea is that if mkdocs build causes changes (as reported by git), then it should have been run by the dev, and the updated docs should have been committed.\nIf you can get travis to build and commit the docs itself, that would probably be better.. I'm passing this on to @eukreign since he's working on Travis now, and there's an impending switch to py3. . @eukreign 30 is out. reassigning to you. we tabled this for now. Documenting my thoughts:\nI think we should start with a simpler addition: just a url, filesize, and hash. There was conversation about security tradeoffs around having to download a giant file before you find out that the hash doesn't match, etc. I would prefer to do something simple first. We regularly make the mistake of starting with too much complexity.. fixed. @goodthebest have you tried the steps in https://github.com/lbryio/lbry/blob/master/INSTALL.md. lex created separate issues for everything that's outstanding. Try one of the following:\n\nlbrynet-cli resolve mindblown#02da15270141483a76a7b8372d69653b735fb0b9\nlbrynet-cli resolve xzxzx#34. please reopen if this is still valid. @nikooo777 please reopen if this is still happening. My understanding was that Swagger does not support JSONRPC, only REST. Is that true? Maybe that's not true anymore?. I saw that. It\u2019s over a year old. Have you seen anything newer?\n\nOn Thu, May 24, 2018 at 8:30 PM tiger5226 notifications@github.com wrote:\n\nOAI/OpenAPI-Specification#801\nhttps://github.com/OAI/OpenAPI-Specification/issues/801\nLooks like it didn't get into 3.0 spec.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1203#issuecomment-391906037, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJIL2SPt6QWE42mjKD2qEWEcdFxWy2ks5t11CKgaJpZM4T_nuX\n.\n. bitshares is having the same issue: https://github.com/bitshares/bitshares-core/issues/792. closing in favor of https://github.com/lbryio/lbry/issues/1823. Thanks @martinvahi for your question. You are right that you should not expect LBRY to work exactly the same way 20 years from now as it does today. If that's one of your requirements, then LBRY is not the right choice for you.\n\nOur belief is that its almost impossible to create something new from scratch and get it right the first time. Even today's bitcoin is not compatible with bitcoin from a few years ago. Instead, we plan to take an iterative approach, learning as we go and improving the protocol over time. This may involve bug fixes, new features, changes in cryptography, or anything else that makes LBRY better.\nIf you absolutely must use LBRY and need to ensure that nothing changes, you are welcome to fork the project and modify it to suit your needs.. closing. @tzarebczan if you've seen this happen in the latest RC, please reopen.. looks like Tom did work on this, so im reassigning to him. also @jackrobison owns metrics, so the two of you should work together on this. i'm happy to help with sql stuff or anything else.. What is needed from me? @tzarebczan please add details here or set a time to meet with me/jack. :man_facepalming: . @jackrobison still valid?. mirroring is being dropped. @tzarebczan please reopen if this is still happening and if its affecting performance. @jackrobison how do you feel about https://github.com/lbryio/lbry/pull/1385 instead of this?. closing, since mirroring is being dropped. closing in favor of https://github.com/lbryio/lbry/issues/1823. @42degrees you are absolutely right, it should be better documented. we're working on standardizing the common object types and return values. They are documented in the types repo and also in the lbry spec, but the documentation is not very clear. We'll get to this soon.. @shyba is this still something we want? i'm not 100% sure i understand what you're asking for. I would prefer the following:\nlbrynet settings_set --max_key_fee \"1.23 USD\"\nlbrynet settings_set --max_key_fee \"4.56 LBC\"\nlbrynet settings_set --max_key_fee \"none\"\nFirst change is putting the currency after the number. This makes the value more readable.\nSecond change is using a space instead of a colon. Either works, but spaces are more readable.\nLast change is not using -1 to mean \"no value\" (this is called a sentinel value). Using sentinel values should be avoided in general because it conflates two separate ideas(the actual amount and whether the amount is set) and increases the chance of mistakes. It is better to use something that's outside the range of valid responses (like \"none\"). It would be even better to use a --no-max_key_fee flag to indicate that the value is not set, but if we wanted to do that, we would have to implementing it consistently across the whole API.\nMore info, from the guy who started it all: https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare. :+1: that was my assumption. though jack had concerns about upnp. I did some work on this for the protocol. The proper way to define our url grammar is using ebnf. Here's what I recommend, let me know what you think (this is based on this xml spec - https://www.w3.org/TR/REC-xml/#charsets)\nNameChar ::= Char - [=&#:$@?/]  /* any character that is not reserved */\nChar ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF] /* any Unicode character, excluding the surrogate blocks, FFFE, and FFFF. */\nWe can also consider disallowing some chars at the start of a name, such as delimiters or connecting chars. Once again, see the spec.. Adding support for unicode URIs in the sdk is not urgent. It's ok to be more restrictive here than the blockchain (for now). \nThe changes Brannon pointed out should be made, so I'm gonna move them to a separate issue.. @nikooo777 @skhameneh this is the issue to watch for claim signature updates that are blocking adding fields to the metadata. we haven't touched this in a year. i'm gonna close it. reopen if its still relevant.. @alyssaoc i'm closing this. its empty.. is this actually blocking 30.1 release?. @tzarebczan how many ppl have reported this? I'm inclined to close it because its probably rare and won't happen going forward (and there's a workaround for it). In fact I'm gonna close it, but please reopen if you still think its important.. this feels like it creates a bunch of work for no gain. whats the benefit?. why not also support lbrynet help in addition to lbrynet --help?. Yes\nOn Fri, Jan 25, 2019 at 10:57 AM Lex Berezhny notifications@github.com\nwrote:\n\nI think --help is the convention that most people know to use from other\ncommands. If they don't know this convention then simply running lbrynet\nwith no arguments will teach them. Having also help as a second way to do\nthe same thing is then redundant and not a convention most people expect.\nWe can probably make it so that if you typed lbrynet help it would print\nthe help anyways by virtue of it not being a valid command. I just noticed\ncurrently it gives command doesn't exist error. I think if we just show\nhelp when any unknown command is entered this would solve your request too?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1803#issuecomment-457619705, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAWJILap89KPfpe7aTA9Mgd3sielj_yeks5vGylLgaJpZM4aRni6\n.\n. Can you explain more what this is for?. related: https://github.com/lbryio/types/issues/8. the real error happens because ssl certs are missing. closing this for now. it looks like this line is moving the current directory into lbry, not lbry into the current directory. is that what you intended? it seems to be the opposite of what the comment says\n. does circleci require this? it would be nicer if everything could happen in the current dir\n. :+1: i thought the same thing a few days ago\n. @jobevers are you sure this doesnt belong? is log magically defined everywhere now?\n. why are you b58decode-ing both the token and the target? i think if you're gonna compare them, comparing them encoded is the same as comparing them decoded? i'm not totally sure though\n. lets not use LBRY in names. all this stuff is LBRY stuff. its part of the lbrynet module. there's no reason to repeat that all over the place.\n\nif you're in a refactoring mood, it would be great to remove it basically everywhere (e.g. LBRYPublisher, LBRYExchangeRateManager, etc)\n. This may prevent someone from opening an lbry:// link from another site. You should test this\n. what is s? please use descriptive names\n. descriptive var name here too please\n. cant you pass name as a param here instead of calling rename on the next line?\n. TWISTED_SESSION should probably be a const\n. cookie name should be a constant, not hardcoded. also, the name should probably start with \"lbry_\", so its easier to debug in the browser later\n. this is confusing. is key the key, or is key_val. it seems like key_val is the actual key, and key is a combination of the key and the expiration. maybe rename key?\nin fact, why do you pass the key and expiration to APIKey as a dict, and then pass the name separately. why not pass all three as plain variables. what's the point of the dict?\n. in fact, why does this extend dict at all? why not make a class with 3 properties (name, token, expiration)?\n. How do you feel about enumerating all the possible metric names. idk what the pythonic way of doing this is. In php, I used class constants. In ruby, this would probably be a symbol. The idea is that this is not a string, its a unique identifier that represents the same thing everywhere in the code. pycharm should be able to tell me every place where this thing appears.\nIn general, I hate using strings for anything other that input/output.\n. i would call this something like summarize_and_reset so it's clear it has unexpected side effects. or i'd make reset a separate method\n. have you been able to figure out how to get pycharm to alphabetically sort imports? they have an option for it, but it doesnt seem to work\n. :+1: \n. Though if you're going that far, why not go all the way:\nreturn len(blobhash) == blobhash_length and all(is_valid_hashcharacter(l) for l in blobhash)\n. another pycharm question: how do you get it to do alignment correctly? i feel like its really stupid about autoformatting long lines\n. these strings should also be constants\n. more evil strings. after reading all this code, i think they should be constants\n. edit: they should be constants\n. you also need a constant here, and on lines 1664, 1800, 1824, 1905, 1933, and 2471 (it wont let me comment on those)\nsearch for _get_lbry_file( in this file\n. i like your alignment better, and phpstorm does this very well. for some reason, pycharm sucks at it\n. @jobevers fixed in https://github.com/lbryio/lbry/pull/397/commits/96252785d30a1f0ce078d1333508493488babae5\n@jackrobison not a bad idea, but i didnt do it yet. maybe later.. seems like help should return text. i added jsonrpc_commands to return a list of possible commands. why did you make two functions?. is changing this key safe? it looks like fee and claimid were not return at all in the past, so they can't be in use anywhere, right?. i've been fighting with pycharm to set up autoformat correctly, but its still not great. if you have a config that works, send it over. I'd love to use it. im not sure whether this is a case of bad user input. my understanding is that assertions are special because they can be turned off, so you cant rely on them for validating things like \"did the user enter a number when we asked for one\". but in this case, they are being used for internal validation. i can see validating the config file as user input, but not the get()/set() methods. does that make sense?. premature optimization? is this actually an issue?. we're not losing set_length, right? I think its set below but im not sure. is this @property pattern the recommended thing to do in python? my Magic SenseTM is tingling. :+1: . seems to violate the \"no surprises\" principle, but if that's what they recommend then its fine by me. This is a change in how the api works. For some reason, the way params got passed in before was as a list with a dict as the first element of the list, and all the params in that dict. That's pretty dumb, and I fixed it when I made the jsonrpc functions explicitly declare their params. It's backwards-compatible for now (see auth/server.py lines 198-208) but that will be removed later.. The jsonrpc change itself was done in a previous commit. This is just to get our client using the new way.. i dont think this is intentional. right now, i have this log message show up about two dozen times every time i start the daemon. is that what it should do?. If response is 'YES'? What does that mean? . Did you mean If 'send_sd_blob' is True??. I read the full protocol description in https://github.com/lbryio/lbry/blob/39667a6ea8c9cdd990fe024380d8d773bc620740/lbrynet/reflector/client/client.py and I'm very confused. If the server already sent over a list of needed_blobs, why does the client have to send a Client Blob Request for each blob? The client already knows the server wants those blobs...\nAlso, is a Client Blob Request structured as a dict and then a bunch of raw data after it? That seems weird.. @jackrobison :crying_cat_face: . not sure what this one means. its bad style to have a line break after parentheses? whats the right way to format this?. How should i format this to avoid a long line? Is it less ugly to have a \\ at the end of the line? I prefer parentheses to backslashes, but maybe that's just me.. nvm fixed it. new changes should always go into the Unreleased section at the top. they'll get moved into the next release automatically when we create it. this file shouldn't be in git. that my bad, i deleted it in master.. should add a break here so we don't keep looping. im confused about this part. you're only inserting if the record already exists? is that intentional, or did you mean if not record_exists?\nin either case, you should only need one query to do this, not two (two queries causes a potential race condition). look at INSERT OR IGNORE and INSERT OR ROLLBACK (depending on which behavior you want). here are the relevant docs: one, two. I can help if you have questions.. same as above. one query, using INSERT OR REPLACE this time. db columns should be underscored. claimId should be claim_id. i think these two queries could be combined into one, using some kind of JOIN. is this a duplicate of https://github.com/lbryio/lbry/pull/620/files#diff-eafee006192cca2ffbca5ba91dc83eeeR145 ? something feels wrong about returning this dict here (and above too). shouldn't we return an object? the function is called get_cached_claim. we should be returning a claim, not a dict with some arbitrary fields. same as before - this should be one query. this pattern is called an upsert. just return the result here. there's no need to put everything else into an else block. returning early makes your code more readable. what does False mean here? using check_expires=False is a lot clearer.. is claim_id actually unique here? shouldn't it be something like outpoint? or is this the cache for winning claims?\n. uri should be unique here, right?. WHERE uri needs table name (e.g. WHERE uri_cache.uri). if this can't be one query for now, at least add a TODO line so we know to come back to it later. why is this here? requirements should be in requirements.txt. this feels wrong. its weird that *uris (the thing you care about most of the time) comes last here. it should be the first arg, and the rest should come after and have sane default values. so, something like this:\nresolve(uris, page=1, page_size=20, check_cache=True)\nAlso, I know arrays are 0-indexed, but \"page 0\" makes no sense. Pagination starts on page 1.. Please use named params here in resolve(True, 0, 10, uri). True, 0, and 10 are meaningless when you read this code. Or if you rearrange params as in the above comment, you only have to pass in the uris.. this is weird. shouldn't it just be resolve [-f] uris...? What's the point of --uri here? Is this just to maintain BC? If so, its probably best to fix this by handling this in the function itself (e.g. if you get one uri and its of the form uri=whatever, then remove the uri=). This way people are not encouraged to use the bad usage.. Then you also dont need the weird special case of one uri being resolved. You always return a dict of resolved uris, keyed by uri (though this does break BC and I don't see a clean fix for it off the top of my head). . another place where the page and page_size could be avoided if they are made defaults. DRY, maaaaan :-). we talked about this being in claim_list. we should not have a claims_in_channels_list RPC command. its dirty.. shouldn't we test resolving multiple uris too?. can we get rid of the short -a option, and leave only the long option. i dont want anyone to accidentally delete all their files. this flag needs a better name. the endpoint is already called file_delete. having a flag called --delete_target_file is confusing. doesnt it already delete the file?\nthe delete_target_file variable could also be renamed. except is too broad. please specify error type(s). please user lowercase lbry for dir names. you have to call conf.initialize_settings() before using conf settings. unless uppercase is the standard here? lowercase feels right to me and its what we've done elsewhere.. you missed a letter. why is this a separate if statement from the previous if statement? what if self._cmd_runner is None?. maybe you meant to tab this in one more level?. what if cmd_runner is none?. dont forget to revert before merge. If you press Ctrl-C while daemon is shutting down, you'll get an error message where it tries to shut down the reactor twice. This prevents that and lets you know the daemon's working on it.. This happens in Daemon._stop_server() which is called in Daemon._shutdown(). Do you have a specific use for last_announce_time in mind? If not, I'd prefer not creating it prematurely. . You don't even set the value anywhere.. @jackrobison what if there's a bug and new_conns_needed ends up being -1 somehow? :smiling_imp: . not sure i like this. decrypt_wallet shouldn't say it decrypted something when it didnt. these 4 lines can just be \nwallet_is_encrypted = has_wallet and self.session.wallet.wallet and \n    self.session.wallet.wallet.use_encryption. also, isnt `session.wallet.wallet` weird? why the double `wallet`?. isn't it bad to access \"private\" members?\n\nalso, isn't _cmd_runner sometimes None?. @property is magic :frowning_face: . if you have a get_length() function, shouldn't self.length be private then? or if its public and the function just returns the variable, what's the point of having the function.\nfor the record, i think get_length and set_length are much clearer than using @property. is_validated returns self._verified? let's be consistent - are we calling it validated or verified?. Also, why is self._verified being cast to a bool? Shouldn't it already be a bool?. whats the point of this flag? does anyone actually want to do this? cant they just use file_delete? . why did you get rid of these tests? i feel like we want more tests, not fewer. can you do this now, while this is fresh in your mind. at least the explaining part, but tests would be great as well. why do we need this?. How can we make this dependency more real? How can we get the daemon to error when the dependency is not  met?. dont forget to remove. this feels like magic. why not leave this a function? whats the benefit of hiding the fact that a function is being called? i see this @property stuff everywhere in python, but i dont understand it at all. is 0 a valid port?. my note disappeared somehow. blob_hash should be not null. a stream_blob's purpose is to connect a stream and a blob. if there's no blob, there's no stream_blob. why does a session always have a single-peer downloader? this functionality is unnecessary in 99% of cases. it should only be on when we're gonna use it. same comment as above. shouldn't  all these from lbrynet.core.Error import ... lines be one line? or is this about having lines that are too long?. so get_availability isn't just deprecated here, its removed, right?. is it possible to require a class or interface for arguments? i feel like storage should be an interface with functions like \"addBlobs\", \"getBlobs\", etc. Then we can implement multiple types of storage (e.g. sqlite for production, in-memory for testing) and it's clear what the contract is.\nA simple way of doing this now without too much refactoring is to create an interface that has all the functions that are already in use. Then we can pare it down later.. @jackrobison this still applies. make sure you document that --conf must be the very first thing on the command line. That should go into your personal global gitignore: https://stackoverflow.com/questions/7335420/global-git-ignore#7335487\nI know we have a few IDE-specific things in this gitignore already, but they should be removed as well.. id prefer to require that servers be passed in. then we can avoid a dependency on conf, which is already all over our code. all exceptions? shouldnt we be more specific?. DOWNLOAD_STARTED, DOWNLOAD_FINISHED, etc should not be in the same group as the rest of these constants. all the constants in this group are event types, and each has its own table in the db. the started/finished/errored constants are statuses for the DOWNLOAD event.. ",
    "jobevers": "Can we close or commit this?  My two cents - following standards is good, but I don't know if this would break something...\n. Finally got the OSX app building on travis too.  Will clean this up later in the week.  I'll split up OSX and linux because OSX has some extra complications with codesigning that would be better tested in a branch instead of a pull request. (For security reseasons travis-ci doesn't enable secure environment variables on pull requests)\nThe encrypted certificates and identify files that are in this pull request are mine (self-signed). The actual certs will need to be added to the repo - @jackrobison.\n. @lyoshenka I redid the pull request as it seemed to be the easiest way to deal with your recent changes to the ubuntu_packaging_script.\nThe build script works now in travis-ci and when built locally.  To test locally, I executed the script inside a docker container.\nI think this is ready to be merged in.  The OSX stuff can be added in a separate pull request.  I'll need to work with @jackrobison to get the necessary certificates added.\n. Should add that linting is currently failing - and the errors it is failing on look like they should be addressed or explicitly ignored.  I don't think that should be a blocker on merging this.\n. In a chat with @lyoshenka decided that the errors are blockers.\n. To help track, here are the current errors that pylint is reporting:\n*** Module lbrynet.lbrynet_gui.StreamFrame\n- [x] E:121,12: self.cancel_func is not callable (not-callable)\n*** Module lbrynet.lbrynet_gui.GuiApp\n- [x] E:207, 8: function already defined line 179 (function-redefined)\n*** Module lbrynet.lbrynet_console.ControlHandlers\n- [x] E:123,15: self.control_handler_class is not callable (not-callable)\n*** Module lbrynet.lbrynet_console.plugins.BlindRepeater.ValuableBlobQueryHandler\n- [x] E:104,16: Not enough arguments for logging format string (logging-too-few-args)\n- [x] E:196,20: Not enough arguments for logging format string (logging-too-few-args)\n*** Module lbrynet.core.client.DownloadManager\n- [x] E: 55,16: Not enough arguments for logging format string (logging-too-few-args)\n*** Module lbrynet.lbrylive.LBRYStdoutDownloader\n- [x] E: 25,23: Unexpected keyword argument 'dht_node_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 25,23: Unexpected keyword argument 'stream_info_manager_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 25,23: Unexpected keyword argument 'blob_manager_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 25,23: No value for argument 'blob_data_payment_rate' in constructor call (no-value-for-parameter)\n- [x] E: 29,36: No value for argument 'blob_info_rate' in constructor call (no-value-for-parameter)\n- [x] E: 41,21: No value for argument 'wallet' in constructor call (no-value-for-parameter)\n- [x] E: 53,23: No value for argument 'upload_allowed' in constructor call (no-value-for-parameter)\n*** Module lbrynet.lbrylive.LBRYStdinUploader\n- [x] E: 28,23: Unexpected keyword argument 'dht_node_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 28,23: Unexpected keyword argument 'stream_info_manager_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 28,23: Unexpected keyword argument 'blob_manager_class' in constructor call (unexpected-keyword-arg)\n- [x] E: 28,23: No value for argument 'blob_data_payment_rate' in constructor call (no-value-for-parameter)\n- [x] E: 33,36: No value for argument 'blob_info_rate' in constructor call (no-value-for-parameter)\n. @lyoshenka @jackrobison \nThis pull request should be good to go for a final review.  PTAL.\n. @jackrobison I'd like to get this merged in so I can mentally unload this and move onto other things.  Is there anything you need from me?\n. I like using pull requests because it lets me clean things up if something fails on travis.  I meant to merge it, but got distracted while waiting for the build to finish.\n. Closed by https://github.com/lbryio/lbry/commit/36a99e6ec8f5e900840999680b049bd7fc9ea48c\n. Tested the app bundle on a clean vm (without brewed openssl) and it appears to work.\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. Closing this as its old; please re-open if it still persists on the most recent version.\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. Thanks!  This should be fixed with: https://github.com/lbryio/lbry/commit/6d7608d85123c7c0a8c5cfa81c0dad307774ff5b\nPlease let us know if its still an issue.\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. Closing this as its old; please re-open if it still persists on the most recent version (0.6.3)\n. I'm terrible at it, but try to keep commits in logical groups. The re-enable lbryum commit also has the remove _check_first_run related code.  git add -p is useful if you've found yourself making two disjoint groups of changes.\nOnce you and @alexliebowitz sort out what to do with the credit request and travis passes the build - will probably need to re-run the build after merging lbryum: go SPV wallet! \n. Travis has had difficulties on osx, merging despite the build failure there.\n. Closing as https://github.com/lbryio/lbry/pull/73 also includes these commits\n. As this has been open for five days without comment - I'm going to assume that nobody has a problem with it.\n. closing this in favor of https://github.com/lbryio/lbry/pull/94.  I tried to rebase and ran into conflicts and it was easier to make a new branch.\n. First - being picky - please limit the length of the first line of the commit message.  This would read better as:\n```\nRename metadata field content-type to content_type.\nThe dash in content-type makes the property inaccessible when\nparsed by reactJs.  Switching to underscore.\n```\nSecond - changes to the meta-data parsing have to be backwards compatible. This change will fail here: https://github.com/lbryio/lbry/blob/ed0f9d4fb5b403290cf75833c5063fc2d628a4d6/lbrynet/core/LBRYWallet.py#L329 when the meta-data read from the blockchain is using content-type instead of content_type\nOn the JS side, can you handle this by using obj['content-type'] instead of obj.content-type?\n. @rdewilde - Its not great but one solution is to manually send coins from the lbryum wallet to the lbrycrd wallet.\n. Tested this script - it worked for at least one person one slack.\n. It looks like we'll be moving to lbryum being more and more of a dependency.  Closing this unless that changes.\n. This ones trivial enough - merging it in.\n. moved to asana\n. Closing this as its old; please re-open if it still persists on the most recent version\n. Rebased and tested locally:\n2016-07-25 11:11:52,535 INFO     requests.packages.urllib3.connectionpool:758: Starting new HTTPS connection (1): api.github.com\n2016-07-25 11:11:52,821 INFO     lbrynet.lbrynet_daemon.LBRYDaemon:592: remote lbrynet 0.3.10 > local lbrynet 0.3.10 = False\n2016-07-25 11:11:53,531 INFO     lbrynet.lbrynet_daemon.LBRYDaemon:579: remote lbryum 2.7.0.3 > local lbryum 2.7.0.2 = True\n. moved into asana\n. As someone who is perhaps a little too anal-retentive about a clean commit history  - this could have been just one, maybe two commits.\nAlso, There are three merge commits in here - I'd suggest looking into rebasing instead of merging.\n. This is trivial enough, and the other related changes have already been working.  merging.\n. Let's wait on merging this in until after the changes needed for publishing happen.\n. @jackrobison this is ready to go.  I've ran this version of the code and succesfully downloaded file and published a file.\n. Trivial.  Merging this.\n. Also small changes.  Merging.\n. I'm done with this pass.  I'd really like to see tests. There are some examples in tests/lbrynet.  For the metadata - It should be pretty easy to throw together some metadata input dictionaries, process them and and assert they match.\nI'd also like to see the exchange rate logic stay out of the wallet and made a suggestion about how to go about that.\n. I threw together some example tests: https://github.com/lbryio/lbry/commit/6a1efedc1fb4ddf89079e6b2c7185448feeb1100\n. reviewed the search stuff, some fairly minor comments.\n. I will echo what @kauffj mentioned.  Ideally, a pull request will be a stand-alone feature.  This could have been:\n1. change metadata to allow for versioning\n2. add currency support\n3. pending claims\n4. get_claim_info \n5. search\nAdditionally, when possible, bug fixes are nice to apply on their own as that lets them get merged in quickly while development on the feature can continue.\n. Before merging - the pip version check stuff is still in place, which needs to be reverted back to checking github.\n. <soapbox>\n- It bothers me that there needs to be four related sets of changes to add one setting. \n- I think overall the settings and configuration logic needs to be move out of the daemon.\n</soapbox>\nLarger structural issues notwithstanding, this LGTM.\n. Oh, I see how that was confusing. When I said \"settings and configuration should be moved out of the daemon\" - I meant out of the LBRYDaemon class.  The logic for that should be delegated to another class.\nBut, yes, I agree that the UI should avoid using the backend to persist its state.\n. For commit 3af8b7bd0ce518cead7d4aa56300bdaf223f66ac, can you explain why you're appending to the upnp entries?  I have a feeling in a few months when that code is revisited, one of us will appreciate the note.\n. same for request.notifyFinish - that looks like a bug fix, but some details on what bug it fixed would be appreciated.\n. Closing this as its old; please re-open if it still persists on the most recent version\n. LGTM\n. Is this still WIP?\n. @dnpotter sorry for the late response - we've made a bunch of changes in the past month and are  currently up to v0.6.3.  Do you have the same issues on the new version?\n. Getting unqlite working on all the different platforms has been a pain. We're not using unqlite for anything special so we're going to replace it in the near future with sqlite.  In the meantime, arch users should look at what @hpierce1102 did and use unqlite 0.4.0.\nI'm going to close this.  Once the migration to sqlite has happened, we can look into what it would take to package up something for Arch.\n. I'll fire up an instance of Arch and sort this out next week.\n. https://github.com/lbryio/lbry/pull/183\n. I think we're still a ways from deciding how to handle this with regards to the UX.  If you removed @AuthJSONRPCServer.auth_required decorator from each method would it be functionally the same as it is now without authentication?\nIf so, maybe we should do that and get this merged in.\n. Assigning this to Jack so that nagging nancy leaves me alone.\n. Closing as this has all been moved into the other pull request \"refactor-settings\".  Please re-open if that is not the case.\n. When running this - the log level is probably too high:\n2016-10-11 15:31:27,703 INFO     lbrynet.core.server.BlobRequestHandler:112: Accepted rate: 0.000000\n2016-10-11 15:31:27,752 INFO     lbrynet.core.client.BlobRequester:371: Offered rate 0.000000/mb accepted by 174.73.19.15\n2016-10-11 15:31:27,797 INFO     lbrynet.core.server.BlobRequestHandler:107: Offered rate 0.000000 LBC/mb for 17 blobs\nThose should probably be debug.\n. I switched File to EncryptedFile\n. Probably better to get this in sooner rather then later as it touches 46 files and will be a pain to handle merge conflicts.\n@jackrobison: thoughts?\n. Good catch. I'm going to punt on fixing the repetition for now; if there are a few more events that have the same format I'll pull out the shared properties.\n. A problem with working on the plane - the lack of internet means its hard to test. This doesn't work yet.\nAs an aside - getting end-to-end/functional tests working on osx would be great.\n. I tried, without success, to trigger the Blob Bytes Uploaded event - which I think highlights the continued need to have a better testing environment.  Fortunately, I think its covered under the under the functional tests that Jack fixed in the blob pricing pull request.\nOnce that is merged in, I'll rebase and re-run the functional tests to make sure this is working.\n. The main deliverables on this are the addition of two events.  One that tracks the amount of data uploaded and another that reports the total size of the blobs available to be uploaded.\nhttps://app.asana.com/0/158829550589337/187745449149470\nhttps://app.asana.com/0/158829550589337/187745449149472\n. @ELM4Ever thanks for the feedback. This is a feature that needs to be added. Balancing security with a good user experience is always difficult so we'll need to look at how to surface encryption to the user.  Having to type in a password each time a user wants to publish or download content creates friction in the process and is probably not something many users want.\nI'll let you know when work starts on this.\n. This is minor enough, going to merge it in.\n. Bandwidth fees will very soon be dynamic, allowing hosts to change their pricing.  The price for data should drop.\nFor reference 0.005 LBC / MB = $.40 / GB.  Amazon EC2 charges less then $.09 / GB (https://aws.amazon.com/ec2/pricing/on-demand/)\nWe will be working on improving our estimates and incorporating the current data prices.  Thanks for the feedback!\n. I have no idea what bug we're running into on the build.  I'd rather put the effort into getting rid of unqlite instead of tracking down this bug.\n. Its a little worrisome to me that I get different numbers each time I run this:\n{'is_available': 105, 'sd_blob': 99, 'sd_hash': 402}\n{'is_available': 107, 'sd_blob': 94, 'sd_hash': 402}\n{'is_available': 302, 'sd_blob': 226, 'sd_hash': 402}\n{'is_available': 10, 'sd_blob': 9, 'sd_hash': 402}\n{'is_available': 294, 'sd_blob': 221, 'sd_hash': 397}\nThere are timeout errors, connection errors, wallet db errors, etc that affect the output.\n. I have more work to do on this, leaving it up as a PR is not useful right now.\n. Tests are failing because jsonschema is missing.  You'll want to add it to the requirements.txt and setup.py files.\n. travis is being difficult. with their osx build.  I'm going to merge it in and trigger a build and publish on master. The tests pass on the linux build so I'm not worried.\n. Looking at the network tab, its sending a request every second: \n{\"jsonrpc\":\"2.0\",\"method\":\"get_lbry_files\",\"params\":[{}],\"id\":0}\nAnd getting back the response:\n{\"id\": null, \"result\": false, \"error\": null}\n. trivial enough.  merging\n. Generally passing a boolean parameter is a code smell and having separate functions / classes is a better pattern.\nBoolean arguments loudly declare that the function does more than one thing. \nThey are confusing and should be eliminated.\nhttp://www.informit.com/articles/article.aspx?p=1392524\nThis article http://martinfowler.com/bliki/FlagArgument.html also has some good commentary.\nIn the case of is_generous, it would be better to have a Generous strategy and a non-generous one.\nMight be worth refactoring some of this when you have some down-time.\n. Merging this as its test only refactoring.\n. Travis is falling behind on the OSX builds.  Will deal with any potential issues later - merging.\n. Merging this as it is only going into the add-nout branch.\n@kaykurokawa  - you should have write access to the lbry repo.  Let me know if you don't.\n. small fix, merging.\n. Addresses https://app.asana.com/0/158829550589337/198385575656803\n. @jackrobison  - I made a change to this requiring that the environment variables be prefixed/namespaced with LBRY_ and that they are all uppercase.  This is pretty standard for environment variables\n. Moved the settings into the conf.py file.  lbrynet/__init__.py is loaded in setup.py (https://github.com/lbryio/lbry/blob/master/setup.py#L6) so having imports and dependencies in there was causing problems in the build\n. Merging as I think its better to get this in and fix up the warts than let the pull request linger any longer.\n. Made a couple of small comments / suggestions.  Is this still \"WIP\"?  I think it could be merged in when those bits get cleaned-up.\n. Getting the PR merged, but not doing the rest of the daemon integration and\nUI work, would be useful.\nOn Tue, Nov 22, 2016 at 12:55 PM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nI won't have time to work on this for next cycle. This also requires\nintegration on the daemon and UI side for encryption to work ( although\nmerging it in will not break anything )\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/212#issuecomment-262331107, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACRRX4UlvxH5Xx01WtaPj9BkDW3xKe1oks5rAzqRgaJpZM4KhZ9G\n.\n. Don't merge this until the refactor settings branch is in, I accidently based this off of that.\n. agreed, not useful.\n. first pass: seems fine\n. https://github.com/lbryio/lbry/commit/f03a15d503fa023c967717aa83a1a997afd286f2\n. Hopefully addresses https://app.asana.com/0/198587529699250/204729611542523\n. Lgtmd by Jeremy in slack\n. Build on linux passed, travis seems slow on osx so I'm going to merge so another release can be cut.\n. LGTM\n. One final thing, just me being picky - have a space after your commas.\n. I accidentally merged my last branch into this one instead of master.\n. merging as trivial\n. I'm merging these, but would be nice if the few comments were fixed-up at some point soon.\n. small fix, merging\n. LGTM. Merging.\n. LGTM'd by @alexliebowitz in slack\n. There is a lot here!  Hopefully I didn't lose too much focus near the end.\n\nWe don't have a good test framework yet (its improving) but some tests, especially in the db migration would be comforting.  I'll leave it up to you to decide if there is other high risk parts of the change that warrant testing.\n. regarding a ClaimLocation/Outpoint data structure - do you want to make this part of this PR or save it for future work?\n. lgtm. LGTM'd by @alexliebowitz  in slack\n. rebased onto master to fix a conflict; merging.\n. @bitspill is this still a problem?. @kaykurokawa can you look at this?  This seems like a high priority bug.. thanks for the followup\nOn Fri, Dec 2, 2016 at 2:21 PM, bitspill notifications@github.com wrote:\n\nClosed #248 https://github.com/lbryio/lbry/issues/248.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/248#event-880529835, or mute the\nthread\nhttps://github.com/notifications/unsubscribe-auth/ACRRX5ArfdcHkTBWmW8nwmqWdvVjdqmDks5rEH3VgaJpZM4KqJ4d\n.\n. Sorry.  Coveralls shouldn't fail a build because of a decrease in coverage.  Not sure why its doing that.\n. Also, please assign each pull request in the future.\n. LGTM\n. Sorry, thought I already ack'd this.  LGTM.  merge when you wish.\n. Will probably still have to fight with the CI tools for a while to get the S3 upload right!\n. This changes the build process to include the UI code from the development branch in the package for all non-production builds. The UI manager will prefer the bundled UI and also not fetch updates.\n\nThe version is also changed,  with the commit sha appended. Otherwise it might be difficult to tell if we are running a production release or a QA one. \nForgive all of the commits. I'll clean them up tomorrow. \n. Squashed in another branch, will re-open there.\n. The uploads make it into an S3 bucket:\n\nThe windows build goes into the dist folder.  I haven't figure out yet how to not have that happen.\n. LGTM'd in slack\n. Its ugly, but the builds all end up here: http://lbrynet-master.s3-website-us-west-2.amazonaws.com/\n. Thanks for catching this. Bugs like this are one reason why a good test suite is important. \n. LGTM\n. This needs to be broken apart into separate commits.  I'd suggest doing\n$ git reset HEAD~1\nWhich will set you back one commit:\n```\n$ git status\nOn branch error-messages\nYour branch is behind 'origin/error-messages' by 1 commit, and can be fast-forwarded.\n  (use \"git pull\" to update your local branch)\nChanges not staged for commit:\n  (use \"git add/rm ...\" to update what will be committed)\n  (use \"git checkout -- ...\" to discard changes in working directory)\nmodified:   lbrynet/conf.py\nmodified:   lbrynet/dht/protocol.py\nmodified:   lbrynet/lbrynet_daemon/Daemon.py\nmodified:   lbrynet/lbrynet_daemon/DaemonCLI.py\ndeleted:    lbrynet/lbrynet_daemon/Lighthouse.py\nmodified:   lbrynet/lbrynet_daemon/auth/server.py\n\n```\nFrom here, you can do git add -p and selectively add and commit each piece. There are probably 3-5 separate commits in here.\nThe commit that puts reactor.iterate() back in place should include a commit message explaining the error that happens without that line of code so that when we go to look at it in the future we'll have better context for why its there.\nAfter making all of the commits, do a $ git push -f to force the push and overwrite the original commit.\n. Regarding \n\nIts not a big deal, but generally I'm a fan of rebasing over merge commits for bringing in changes from master.  Its definitely cleaner and as long as nobody else has started working off of your feature branch its safe.\n. There is one outstanding comment to be addressed, after that it can be merged in. reflector issues have been fixed\n. No hurry on this review.\n. Added a second check that attempts to download the blob it just uploaded.  Unfortunately, that check frequently fails.\n. I'm going to move the actual script to a different repo, but some of the cleanup and re-org is sticking around.  PTAL.\n. Merging as its only some very basic re-arranging.\n. I think there should also be a \"startup successful\" event as a check that the numbers match.\n. Regarding setting the build type, you'll have to set it up on travis and appveyor.\nFor travis, I'd change https://github.com/lbryio/lbry/blob/master/packaging/travis/setup_qa.sh\nwhich gets called here: https://github.com/lbryio/lbry/blob/master/.travis.yml#L30\nFor appveyor, I'd change https://github.com/lbryio/lbry/blob/master/packaging/windows/build.ps1\nwhich gets called here: https://github.com/lbryio/lbry/blob/master/.appveyor.yml#L29\n. LGTM\n. Nevermind; I had a zombie lbrynet running. I thought I had killed it, but it hadn't fully died.  Had to kill -9 it.\n. No need for travis to check the second commit as its windows only.\n. osx builds are so far behind its dumb, merging as windows and linux passed\n. LGTM\n. Oh, right, damn:  GNU sed and BSD sed are different.  BSD sed doesn't like an empty -i flag.\n. \n. one small suggestion, otherwise LGTM\n. this should already be set: https://github.com/lbryio/lbry/blob/e03db79f79fdf4c20a960485b15cdf468af4dba8/lbrynet/lbrynet_daemon/Daemon.py#L801\n. nagging nancy - I'm still working on this, but thanks for the reminder.. I think most of these are already in or are part of another PR. LGTM. LGTM. I am not worried about setting auth to being on. I think that if somebody overrides the origin, they know what they are doing. You are right though, this has security concerns - this shouldn't be a setting that we advertise or document. This should be mostly used to facilitate testing.  I'll add a comment around the setting as a warning to anybody that looks over the code.. There are two pull-requests that this is already rebased off of, so those should go in before this one.\nThe only thing to review is the last commit, f9f8ebc. replaced by https://github.com/lbryio/lbry/pull/310. I just changed the instructions in INSTALL.md to include pip install -r requirements.txt which will automatically install lbryum from github.. LGTM. Please rebase instead of merge. Please test new functionality.\nPlease add doc strings to new functions and classes.\nI'm going to start being more picky about doc strings on functions and tests; these are good practices and we should be doing them.. As a principle, I'm not sure I like this approach as it expands centralization. \nWould it be possible to have the reflector server forward the sd blob to lighthouse instead of having the client do it?. Closing in favor of a standalone script: https://github.com/lbryio/lbry/blob/upload-to-lighthouse/scripts/send_sd_blobs_to_lighthouse.py. @alexliebowitz Can the UI be updated to also not allow a zero bid?. LGTM. @alexliebowitz I think this is related to the bug on the settings page.. can you change that to a raise Exception(msg), other than that, LGTM. I'm still making progress on this... slowly.. Pulled out just the wallet metadata stuff: https://github.com/lbryio/lbry/pull/363. still working on this... Note that this includes the changes in here: https://github.com/lbryio/lbry/pull/388, but I thought that was worth its own PR.\nAlso, I merged in https://github.com/lbryio/lbry/pull/383 because it was useful for debugging an unhandled error in deferred message so ignore any changes in log_support.py\n. LGTM. I think these can be tested by creating a MockWallet class that inherits from Wallet and has _save_name_metadata, _abandon_claim, _support_claim methods.. LGTM.  Since this is a fork, can you make sure that tests / linting pass.. I wasn't able to override it without this change.. LGTM. LGTM. Ha, wow.  Those simple tests increased coverage by 10 percentage points!. a couple of nits, otherwise LGTM. Is this still in something being worked on? The last commit message \"before getting on plane\" makes it sound like there is perhaps more to come.. Not something for now, but to consider for the future: it might be\nworthwhile to have something like:\ndef get_unreserved_balance():\n    d = self.get_balance()\n    d.addCallback(lambda b: b - self.total_reserved_points)\n    return d\nOn Fri, Dec 9, 2016 at 10:04 AM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nI see, I think here , it is better to use get_balance() as the\nwallet_balance might be stale.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/322#issuecomment-266080330, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACRRX7c3Ep61EBWvDopcrta1gSuNe8G2ks5rGZhJgaJpZM4LIfkF\n.\n. I'm going to cherry-pick this onto v0.7.8 and release v0.7.9.  The cleaned-up version can be applied to master.. merged as part of https://github.com/lbryio/lbry/pull/339. LGTM. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. The main commit in here is https://github.com/lbryio/lbry/pull/327/commits/6bde2c4d672d37d69d426f563127243f22dce46f. Re-ran the profiler and now the top cumulative hits are inside twisted:\n\nncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.007    0.007 6169.102 6169.102 /Users/jobevers/.virtualenvs/lbry/bin/lbrynet-daemon:3(<module>)\n        1    0.000    0.000 6166.518 6166.518 lbrynet/lbrynet_daemon/DaemonControl.py:38(start)\n        1    0.000    0.000 6162.416 6162.416 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:1197(run)\n        1   11.250   11.250 6162.412 6162.412 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:1202(mainLoop)\n  1110341   17.963    0.000 4830.817    0.004 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/selectreactor.py:93(doSelect)\n  1110342 3284.784    0.003 3299.245    0.003 {select.select}\n   433515    4.477    0.000 1513.610    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/python/log.py:90(callWithLogger)\n   433515    5.450    0.000 1508.541    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/python/log.py:83(callWithContext)\n   433515    2.083    0.000 1494.845    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/python/context.py:117(callWithContext)\n   433515    2.959    0.000 1492.411    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/python/context.py:61(callWithContext)\n   433514    3.023    0.000 1488.856    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/selectreactor.py:147(_doReadOrWrite)\n   425259   27.067    0.000 1478.456    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/udp.py:221(doRead)\n  1848979   31.100    0.000 1388.717    0.001 lbrynet/dht/protocol.py:99(datagramReceived)\n1110341/1110340   45.089    0.000 1289.346    0.001 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:790(runUntilCurrent)\n3258870/3082821   70.619    0.000  817.763    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:576(_runCallbacks)\n3013560/2890791   14.067    0.000  810.626    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:548(_startRunCallbacks)\n  1100914   17.369    0.000  690.492    0.001 lbrynet/dht/protocol.py:254(_handleRPC)\n2239573/2120840    5.565    0.000  646.822    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:435(callback)\n   583453   26.353    0.000  606.800    0.001 lbrynet/dht/node.py:765(searchIteration)\n  1081373   12.748    0.000  422.528    0.000 lbrynet/dht/node.py:518(findValue)\n  1081373  288.095    0.000  297.344    0.000 lbrynet/dht/hashwatcher.py:24(add_requested_hash)\n  1108043    4.460    0.000  290.866    0.000 lbrynet/dht/node.py:760(sortByDistance)\n  1108043    3.182    0.000  285.084    0.000 lbrynet/dht/node.py:882(sort)\n   773958   12.235    0.000  270.046    0.000 lbrynet/dht/protocol.py:285(_msgTimeout)\n  1481024   34.705    0.000  259.461    0.000 lbrynet/dht/node.py:812(_probeContact)\n195782145  184.070    0.000  249.933    0.000 lbrynet/dht/contact.py:24(__eq__)\n  1108043   31.337    0.000  238.678    0.000 lbrynet/dht/node.py:887(_cacheValues)\n   707233   11.237    0.000  223.216    0.000 lbrynet/dht/node.py:672(extendShortlist)\n64893273/2610815  191.193    0.000  200.890    0.000 lbrynet/dht/encoding.py:52(encode)\n  1848979    4.314    0.000  199.907    0.000 lbrynet/dht/encoding.py:89(decode)\n  1100914    2.701    0.000  196.865    0.000 lbrynet/dht/protocol.py:260(handleResult)\n 29883190   35.932    0.000  195.660    0.000 lbrynet/dht/node.py:860(to_contact)\n47074608/1848979  171.801    0.000  195.296    0.000 lbrynet/dht/encoding.py:108(_decodeRecursive)\n  1100914    9.966    0.000  194.164    0.000 lbrynet/dht/protocol.py:238(_sendResponse)\n  1509901    4.523    0.000  179.699    0.000 lbrynet/dht/contact.py:63(_sendRPC)\n  1509901   23.342    0.000  175.176    0.000 lbrynet/dht/protocol.py:56(sendRPC)\n   773987    1.972    0.000  174.983    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:460(errback)\n  2610443   20.849    0.000  168.840    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/udp.py:254(write)\n 30793970   55.809    0.000  167.624    0.000 lbrynet/dht/node.py:852(__call__)\n 35273060   41.837    0.000  148.085    0.000 {method 'encode' of 'str' objects}\nand tottime:\nncalls  tottime  percall  cumtime  percall filename:lineno(function)\n  1110342 3284.784    0.003 3299.245    0.003 {select.select}\n  1081373  288.095    0.000  297.344    0.000 lbrynet/dht/hashwatcher.py:24(add_requested_hash)\n64893273/2610815  191.193    0.000  200.890    0.000 lbrynet/dht/encoding.py:52(encode)\n195782145  184.070    0.000  249.933    0.000 lbrynet/dht/contact.py:24(__eq__)\n47074608/1848979  171.801    0.000  195.296    0.000 lbrynet/dht/encoding.py:108(_decodeRecursive)\n332861119/332861118   94.128    0.000   94.944    0.000 {isinstance}\n  2610443   87.332    0.000   87.332    0.000 {method 'sendto' of '_socket.socket' objects}\n3258870/3082821   70.619    0.000  817.763    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:576(_runCallbacks)\n  2274024   61.984    0.000   61.984    0.000 {method 'recvfrom' of '_socket.socket' objects}\n 35275912   58.449    0.000   58.449    0.000 {binascii.b2a_hex}\n  4442437   57.094    0.000   87.531    0.000 {_heapq.heappop}\n 30793970   55.809    0.000  167.624    0.000 lbrynet/dht/node.py:852(__call__)\n  4559634   53.223    0.000  133.158    0.000 lbrynet/dht/node.py:737(_addIfValid)\n1110341/1110340   45.089    0.000 1289.346    0.001 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:790(runUntilCurrent)\n  4758487   43.005    0.000   59.588    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:706(callLater)\n 35273060   41.837    0.000  148.085    0.000 {method 'encode' of 'str' objects}\n 35272872   41.486    0.000  106.248    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/encodings/hex_codec.py:13(hex_encode)\n 67606555   40.127    0.000   40.127    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/base.py:166(__lt__)\n 29883190   35.932    0.000  195.660    0.000 lbrynet/dht/node.py:860(to_contact)\n  5220915   35.441    0.000   42.721    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/abstract.py:484(isIPAddress)\n    23782   34.817    0.001   38.306    0.002 lbrynet/core/client/StreamProgressManager.py:111(needed_blobs)\n  1481024   34.705    0.000  259.461    0.000 lbrynet/dht/node.py:812(_probeContact)\n  1108043   31.337    0.000  238.678    0.000 lbrynet/dht/node.py:887(_cacheValues)\n  1848979   31.100    0.000 1388.717    0.001 lbrynet/dht/protocol.py:99(datagramReceived)\n   773227   28.065    0.000  114.020    0.000 lbrynet/dht/node.py:744(removeFromShortlist)\n   425259   27.067    0.000 1478.456    0.003 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/udp.py:221(doRead)\n   583453   26.353    0.000  606.800    0.001 lbrynet/dht/node.py:765(searchIteration)\n  2610815   25.911    0.000   61.439    0.000 lbrynet/dht/protocol.py:221(_sendNext)\n  3693169   23.536    0.000   75.021    0.000 lbrynet/dht/routingtable.py:292(_kbucketIndex)\n  1509901   23.342    0.000  175.176    0.000 lbrynet/dht/protocol.py:56(sendRPC)\n9058794/8819143   22.829    0.000   47.980    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/defer.py:290(addCallbacks)\n  4814606   21.554    0.000   21.554    0.000 {method 'sort' of 'list' objects}\n  2610443   20.849    0.000  168.840    0.000 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/udp.py:254(write)\n  4371180   19.232    0.000   19.232    0.000 lbrynet/dht/contact.py:42(<lambda>)\n  1373661   18.781    0.000   44.989    0.000 {method 'index' of 'list' objects}\n  1110341   17.963    0.000 4830.817    0.004 /Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/twisted/internet/selectreactor.py:93(doSelect)\n  2610815   17.603    0.000   33.686    0.000 lbrynet/dht/msgtypes.py:22(__init__)\n  1100914   17.369    0.000  690.492    0.001 lbrynet/dht/protocol.py:254(_handleRPC)\n1848981/1848979   17.329    0.000  118.113    0.000 lbrynet/dht/routingtable.py:362(addContact)\n 37251866   17.271    0.000   17.271    0.000 {method 'find' of 'str' objects}. https://github.com/lbryio/lbry/pull/326 and https://github.com/lbryio/lbry/pull/325 should be merged in first.  That will make the diff on the PR much smaller as the changes in branches are also part of this PR.. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. I installed this, and the lbryum fix on a test reflector instance and was able to connect and request 50 blobs simultaneously.. Had the one question about network.blockchain but if that is a local call and not a network one, this LGTM.. It would also be good to rebase with origin/master just to make sure that the build is working.. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. merged as part of https://github.com/lbryio/lbry/pull/339. https://github.com/lbryio/lbry/pull/339. https://github.com/lbryio/lbry/pull/339. https://github.com/lbryio/lbry/pull/339. Unfortunately, unqlite is a pain and we've had difficulty getting other versions to work on ubuntu.  In the near future we're simply going to remove it as its being used for very little.. Closing this in favor of https://github.com/lbryio/lbry/pull/353 and https://github.com/lbryio/lbry/pull/348. LGTM'd by jack over the phone. @tzarebczan - I think you copied your data folder recently from one machine to different one; unfortunately there was a schema changed that happened with one of the internal databases recently.  I fear that maybe manually copying some stuff meant that the migration didn't happen and you have an old database.\nAs a TODO for us - the schema version should live in the database itself to prevent this.. Can you pull apart the first commit into separate ones?\nThis will be some good rebase practice :-)  While you're at it, you can get rid of the merge commit and make sure that unqlite & cython stick around for the tests.. I have to refresh my memory on the DHT, but I'm worried that if the LBRY id changes there will be bunch of stale DHT entries.. The failing check was from circle, which wasn't setup to actually run anything.. LGTM. will merge this one later, after some of the other changes are better tested. @jackrobison please review. Due to the size of conf.settings refactoring, I'd like to test the results of the builds before merging this into master.. LGTM. LGTM. I think its worth changing the tests to match the new data structure.. On a call with Jack, he's good with this. I fixed the tests because I was running into problems in some code I was working on and needed to grab this fix.. LGTM.  This is the kind of thing pylint should catch but I've disabled the no-member error because it unfortunately reports a lot of false positives with twisted.. closing in favor of #367 . LGTM. merging so I can get a pre-release out. PTAL.  It also turns out that the deferred wasn't necessary.. this is only used for https://github.com/oubiwann/txjsonrpc/blob/master/txjsonrpc/jsonrpclib.py#L64, \nso its safe upgrade.. LGTM'd in a call.. LGTM once the changes are made.. This bug is only 9 years old: https://twistedmatrix.com/trac/ticket/2790\nAnd some good comments: http://stackoverflow.com/questions/7906615/udp-flow-control-with-python-twisted/7929158#7929158\nI think the solution would be to reschedule the packet send and have the delay dynamically adjust - slowing down after getting an EWOULDBLOCK.. I'm re-opening this. In looking over the error reports, this is a huge source of unhandled errors.\nInstead of straight up ignoring the error, I added a log.warning.. @jackrobison please review.. LGTM. sounds good; I'll reassign this back to me until its more appropriate. Yep, I'm still aware this is here. I'm going to close this until post-electron changes, as electron simplifies the build process for lbrynet.. No actual change in functionality; merging. general help\n```\n$ lbrynet-cli help\nUsage: lbrynet-cli method kwargs\nExamples:\nlbrynet-cli resolve_name name=what\nlbrynet-cli get_balance\nlbrynet-cli help function=resolve_name\n**lbrynet-cli functions****\nabandon_claim\nabandon_name\naddress_is_mine\n...\n```\nhelp on one function\n```\n$ lbrynet-cli help function=configure_ui\n    Configure the UI being hosted\n\n    Args, optional:\n        'branch': a branch name on lbryio/lbry-web-ui\n        'path': path to a ui folder\n\n```\nA function with no arguments\n$ lbrynet-cli get_lbry_files\n[\n  {\n    \"claim_id\": \"feea31c4dbf752e2629cff14a1be7c2eae63269b\",\n    \"code\": false,\n    \"completed\": true,\n    \"download_directory\": \"/Users/jobevers/Downloads\",\n    \"download_path\": \"/Users/jobevers/Downloads/dopeman.mp4\",\n    \"file_name\": \"dopeman.mp4\",\n...\nWith wrong arguments:\n```\n$ lbrynet-cli get_lbry_file\nSomething went wrong, here's the usage for get_lbry_file:\nGet lbry file\n    Args:\n        'name': get file by lbry uri,\n\n```\nWith right argument\n$ lbrynet-cli get_lbry_file name=dopeman\n{\n  \"claim_id\": \"feea31c4dbf752e2629cff14a1be7c2eae63269b\",\n  \"code\": \"running\",\n  \"completed\": true,\n  \"download_directory\": \"/Users/jobevers/Downloads\",\n  \"download_path\": \"/Users/jobevers/Downloads/dopeman.mp4\",\n  \"file_name\": \"dopeman.mp4\",\n...\n. An unsatisfying temporary solution  - you can check if port 3333 is open: http://www.canyouseeme.org/\nIf its not, you aren't able to share.. An improvement, but I think we should move towards making all of our http requests async, either using request-futures, like the analytics library, or using twisted http://twistedmatrix.com/documents/current/web/howto/client.html.  Requests-futures seems simpler and has a nicer api.. LGTM.  Go ahead and merge - can do any async work in a separate PR.. Tested by clicking around a bunch really quick (which in the past would cause the error).  LGTM.\nI'll look at fixing the merge conflicts.. Rebased as https://github.com/lbryio/lbry/pull/394; closing this.. Reassigning to grin as he's working on the API.. A message indicating something went wrong would be useful when the wrong params are provided:\n```\n$ lbrynet-cli help test=t\nFunction to retrieve docstring for API function\nArgs:\n    'function': optional, function to retrieve documentation for\n    'callable_during_startup': optional, returns functions that are callable during startup\nReturns:\n    if given a function, returns given documentation\n    if given callable_during_startup flag, returns list of\n    functions callable during the startup sequence\n    if no params are given, returns the list of callable functions\n```\nI think it would be useful to say, Something went wrong, here's the usage for help:. Perhaps out of scope for this, null isn't useful to know if the command was successful or not - if thats an easy fix, might be worth doing while this is all still fresh.\n$ lbrynet-cli configure_ui branch=master\nnull\n. A couple of small comments, but otherwise the UI works for me, the CLI works for me.. Reassigning to grin so that he can give feedback on how this fits into the renaming.. Yep, totally my fault.. Addressed Jack's comments. @jackrobison please comment on this. linux tests passed. LGTM. I'd prefer to not do this in a threaded fashion and use requests-futures or twisted's web client instead.. To clarify my earlier comment - the threading approach is fine for now, but changing to an async request would be a good small project for the future.. LGTM.. Overall, LGTM.  I added a couple of minor suggestions that are worth implementing.. Also, make sure that the CI checks are passing.. I wouldn't worry about adding tests for this; we don't have a good way to mock out the filemanager (for the _get_lbry_file call) and you don't really want files being opened / revealed during tests so its hard to say what you'd be testing.. pylint errors:\n+./run_pylint.sh\n************* Module lbrynet.lbrynet_daemon.Daemon\nW:  7, 0: Unused import subprocess (unused-import)\nW:  8, 0: Unused import sys (unused-import)\n************* Module lbrynet.core.file_utils\nC:  6, 0: Trailing whitespace (trailing-whitespace). Do you get this error if you reset the LBRY folder: mv ~/Library/Application Support/LBRY ~/LBRY_backup and then retry?. I assume that if claim_out['fee'] is not a float, its an int?  Could it be None?. I don't really like these string formating methods, why don't we just use '{} {}'.format(var,var)\nIn general, I agree that way is better. But the logging module offers lazy evaluation of the log message and arguments, and unfortunately, it only supports the %-stype formatting.. Fix up the long line errors and a couple of minor style comments, otherwise LGTM.  Merge when you're ready.. Fixes https://github.com/lbryio/lbry/issues/418. Fixed. it passed on linux and windows, merging.. Try /opt/venvs/lbrynet/bin/lbrynet-daemon --no-launch if you don't have a gui.. LGTM. I will clean up the commits before merging.. screw you osx.  merging.. The hashes are placed into a queue though which is processed first-in first-out, so it seems that it should get through all of them.  Maybe not in a timely fashion, but should get through.. Threw together https://github.com/lbryio/lbry/pull/435 to help investigate this issue. While using the raw virtualenv tool is fine, I do suggest using a virtualenv manager of some sort.  My favorite is vex.\nI'm not sure if its worth adding to the instructions as its another step in the process, but if you're actually doing development, I recommend it.\nInstallation:\npip install vex\nMaking a new virtualenv: \nvex --make lbry\nSwitching virtualenvs:\nvex lbry. I added a new table mostly for debugging; I didn't add a new column, this adds a new table that gets appended to each time a hash is announced.  Could run something like this on reflector and see if it does actually publish all of its blobs to the dht, and how frequently.\nDefinitely needs more work if we wanted to adapt this to be 'production' worthy.. I'm going to close this until its time to revisit it.  The extra logging info though might be useful for reflector but I don't want to release it in general, and not sure I want the overhead of maintaining different version for reflector.. This doesn't cause a fatal crash so leaving this in place; Jack has a better fix in progress.. yep.  I know this is still here. I'm going to rebase this and force push to see if it fixes the build. The tests are good.  One of the points of trial is that it takes care of making sure the deferreds run on each test.. The windows test is failing, not due to this PR but because the build is broken for windows.\n. This depends on https://github.com/lbryio/lbryum/pull/73. it was just logged differently, but I think its better to use consistent logging names.. The problem you describe (disconnect and reconnect to another server that is lagging) exists in the original code.\nI think the solution should be in lbryum, not lbrynet: getvalueforname, or any other command that depends on the server and local chains to be caught up, should throw an error if the server is lagging.. Regarding the logic of whether the server is lagging, lbryum already has a function: https://github.com/lbryio/lbryum/blob/master/lib/network.py#L252. @kaykurokawa would you be okay with merging this code and have a future PR to address the further concerns you have?. removed the is_lagging attribute. Jack commented that he's not sure some startup errors are recoverable in this way - like, if we've already started listening to 5279 it might fail on the second try while attempting to bind that port.. @jackrobison while there can be improvements to this that can be done, is there a reason not to merge it in?. LGTM'd by grin in slack. Following up on a conversation with Jack, this will definitely slow down publishing.  An alternative solution would be to have a LoopingCall that checks with reflector and tries to upload/reupload.  We currently only reupload on startup, but as we want the daemon to be something that runs in the background having a LoopingCall is a better strategy.\nThe refactoring is worth keeping; if we'd rather go with the LoopingCall approach, I should take out https://github.com/lbryio/lbry/pull/454/commits/ce62c56312a240cace6610402d4666e7f71884c7.. @jackrobison thoughts on this?. This can be closed in favor of #477 . This makes http://dev2.lbry.io/quickstart better, as requested by @kauffj . Need to get this in, so merging.\n@jackrobison Please, please make reviewing PRs a top priority.. A couple of small comments / suggestions, after that LGTM. Since there are already tests for version 0 of the reflector protocol, I don't think adding tests for v1 would be that difficult and I'd like to see them.. There was some concern over race-conditions and what happens if multiple clients try to send a blob.  After looking over the blob manager and reflector code, I think that it gets handled fine.\nWhen a client makes a request for a blob, reflector server asks the blob manager for the blob: https://github.com/lbryio/lbry/blob/master/lbrynet/reflector/server/server.py#L111\nIf the blob exists on disk, blob.is_verified will be true and so reflector will tell the client that it doesn't need to the blob.\nIf the blob doesn't exists, reflector will tell the client that it needs to blob.  The client will send over data.  This data gets written to a temporary file, which is opened here: https://github.com/lbryio/lbry/blob/master/lbrynet/core/HashBlob.py#L229\nIf another client comes through and initiates the same process for the same blob, the same BlobFile object will be returned, but a new writer will be added to the BlobFile. (Each writer is tracked: https://github.com/lbryio/lbry/blob/master/lbrynet/core/HashBlob.py#L89)\nWhen a writer finishes, the blob gets moved from the temporary file to its hash based name: https://github.com/lbryio/lbry/blob/master/lbrynet/core/HashBlob.py#L284\nand all of the other writers are cancelled: https://github.com/lbryio/lbry/blob/master/lbrynet/core/HashBlob.py#L157. I agree with @lyoshenka  that if we send reflector an SD blob and it tells us that it needs blobs X,Y,Z - the client should just send blobs X, Y, Z.  The client doesn't need to ask again if it needs X before sending it.. One last tiny request, otherwise, LGTM. > this required some changes to Connection Manager to make it work but overall functionality is unchanged. Below are the list of changes.\nTesting usually does and generally I find the parts changed to be better designed; one of the reasons I like testing.. Thanks.  I'll take a look. Made some new comments; largely cosmetic. \nCan you also add an entry to CHANGELOG.md succinctly summarizing the changes.\nFeel free to merge when you're ready.\n. Closing to re-open to retrigger a travis build of the PR. If an older version of lbryum is installed, running the daemon will cause an error:\n$ lbrynet-daemon\nTraceback (most recent call last):\n  File \"/Users/jobevers/.virtualenvs/lbry/bin/lbrynet-daemon\", line 6, in <module>\n    from pkg_resources import load_entry_point\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3030, in <module>\n    @_call_aside\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3014, in _call_aside\n    f(*args, **kwargs)\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3043, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 656, in _build_master\n    return cls._build_from_requirements(__requires__)\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 669, in _build_from_requirements\n    dists = ws.resolve(reqs, Environment())\n  File \"/Users/jobevers/.virtualenvs/lbry/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 854, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'lbryum>=2.7.4' distribution was not found and is required by lbrynet. And, the suggested way to update a local dev install is pip install -U -r requirements.txt. tests pass on linux, merging.. Successfully failed!. Question from tech meeting - can we prepend newly reflected blobs to the the queue instead of appending them.. LGTM. LGTM. one comment, otherwise LGTM. one section of copy/pasted code, otherwise LGTM. LGTM. a few minor suggestions, otherwise LGTM. This PR needs to move the reactor import and add a changelog entry.  After that, LGTM.. I only glanced through the inlinecallback refactorings - definitely makes things more readable.\nA couple of small comments, otherwise LGTM. Still LGTM.  Go ahead and merge.. Moved to warnings here: https://github.com/lbryio/lbry/pull/382\nComing up with a more substantial fix is not a priority -closing.. Thanks for pointing out my inconsistency.\nFor jsonrpc_resolve_name - that is used to see if a name is available so it is expected that names won't resolve.\nI'm not sure what I was thinking with get_est_cost_from_name - looking this over, that seems like it should be an error (because, why would you request the cost for a name that doesn't exists?) and the root cause is coming from somewhere else.\nI'm going to remove the check on get_est_cost_from_name.. @alexliebowitz this doesn't cause any backwards incompatability as you'll still get null if a name doesn't exists - but does mean that you can actually treat errors are errors: https://github.com/lbryio/lbry-web-ui/blob/7e77f529761b397999de04b0293e1cf23cb84f79/js/lbry.js#L165. The web-ui takes all errors and returns null to the callback.  With this patch, non-existing names will return null straight from the api, which will also get passed to the callback.  So the web-ui doesn't need to change.  It should change though so that errors are actually treated as errors.. @kaykurokawa I had to make some fixes/changes after rebasing, can you take a second look at this?. Those were added here: https://github.com/lbryio/lbry/commit/8de6bd7c7a2fecc4d786f70b28ccb8d870d5c41d and are just part of the rebase. \nTaking them out could be part of a new PR.  I'll take a look.. this goes into metabase - we have an error table that tracks each logged\nerror.  Loggly already gets the full log message.\nOn Wed, Feb 15, 2017 at 2:15 PM, Umpei Kay Kurokawa \nnotifications@github.com wrote:\n\nthis is just for loggly right?\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/484#issuecomment-280125880, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACRRX3d4aAJ_3NgpiETxxkQRxI6gTaZOks5rc1z3gaJpZM4L-SCw\n.\n. this passed on linux, merging. LGTM. This won't build because I took out all of the packaging stuff.  I'd like to move this repo towards being a library... but not sure yet what to do with it yet as I've focused on the electron build.. Changed the build to only run on linux, it installs the library and runs the tests, no more packaging, etc.. No packaging happens in the lbry repo anymore.  The signing happens as part of the electron build.  Teamcity has a copy of the signing key.. The push test is failing, but really don't care about that one (I'd disable it, but then it won't build master.  Travis is such a mess.). Oh, gross, I rebased the electron branch and now this happened.  I'm going to cherry-pick these commits onto the electron branch\n. LGTM. (No need for a changelog on this). I didn't run or test any of this, but reading through it LGTM. You might have a different tests module installed in your python path.\nIn a python terminal, do:\n\n```\n\nimport tests\nprint tests.file\n``. Ah. This line https://github.com/lbryio/lighthouse/blob/master/setup.py#L19\nshould probably bepackages=find_packages('lighthouse'). remove the stale comment about lbryum being down\n. usebasestring:isinstance(args[1], basestring).elif isinstance(args[1], basestring):`\n. can also use a tuple for the classes: https://docs.python.org/2/library/functions.html#isinstance\n. This class is large enough that it should live in its own module.\n\nHuge modules are harder to read.\n. print statements shouldn't be used for logging.  Use the built in logging functionality.  do_log can also be removed in favor of that.\nthis should be: log.debug('Headers received, Content-Length: %s', length)\n. prefer to use super if possible.\n. I think this can be a function outside of the class.  I'd suggest pulling it out.\nThis is also a good candidate for some unit tests.  Add a new file in the tests directory that mirrors whatever new module this ends up (for example, maybe its /tests/lbrynet/lbrynet_daemon/test_LBRYDaemonRequests.py.  Inherit a new test case from twisted.trial.unittest.  There is an example in /tests/lbrynet/core/server/test_BlobRequestHandler.py\n. This is crappy on twisted's part.  It would be nice to be able to set this instead of having to copy the entire function.  Might be worth creating an issue with twisted.\nWould this work:\ndef requestReceived(self, command, path, version):\n    old_parse_multipart = cgi.parse_multipart\n    cgi.parse_multipart = parse_multipart\n    super(LBRYDaemonRequest, self).requestRecieved(command, path, version)\n    cgi.parse_multippart = old_parse_multipart\n. being picky, but leaving two lines between classes and other top-level modules helps make the code more readable.\nhttps://google.github.io/styleguide/pyguide.html#Blank_Lines\n. comments should explain more why the code is doing something instead of what.\nIf you need a comment to say what the code is doing, then it needs to be made more readable.  In this case, I'd suggest a new function, maybe move_to_temp_dir_and_restore\n. I don't really know... but this might be more useful to clients if it was an object, maybe json.dumps({'uploaded_filepath': newpath})\n. I knowviewis already here, but having the api defined in multiple places makes it hard to look up.  Not worth changing now, but a point to consider for future refactorings.\n. An approach to get what you want using the logging module would be to make a logger for this classlog = logging.getLogger('lbrynet.lbrynet_daemon.LBRYDaemonServer.LBRYDaemonRequests')Then  at runtime, a caller can turn off the log statements using something likelogging.getLogger('lbrynet.lbrynet_daemon.LBRYDaemonServer.LBRYDaemonRequests').setLevel('WARNING')`\n. This was commented out here: https://github.com/lbryio/lbry/commit/0bee2689d1f276f5f9c86d66ba567fe85f46b766#diff-4510ef2fe0fe3e8b0ff6c011d8cc31abR1643 and I don't know why.\nIt matched up with https://github.com/lbryio/lbry/blob/e67f55bd7447cbee730d895b7f35cf53cf69dba5/lbrynet/lbrynet_daemon/LBRYDaemon.py#L1736\n. This is the bug fix, I had the condition reversed from what it should be.\n. If f is None this function shouldn't get called.\nwait_or_get_stream will only call _wait_on_lbry_file if lbry_file is not None: https://github.com/lbryio/lbry/pull/99/files#diff-4510ef2fe0fe3e8b0ff6c011d8cc31abR2258\n. fixed\n. no magic - this line was redundant: https://github.com/lbryio/lbry/pull/101/files#diff-4510ef2fe0fe3e8b0ff6c011d8cc31abR68\n. remove the setLevel line\n. Add a version number inside the meta-data itself.  Without it, we'll end up trying to back-out what version we're working with and that will become a pain.\nIn the very near future we'll need to document what it means to change a version (one option: http://snowplowanalytics.com/blog/2014/05/13/introducing-schemaver-for-semantic-versioning-of-schemas/)\nWe should also consider using standardized json-schema validators: https://pypi.python.org/pypi/jsonschema\n. Please write some tests for this.  My brain can't handle tracing through the logic of something with 3 nested for loops and some if statements.\n. Whenever I see a nesting, I try to make its body a function:\nfor currency in fee_dict:\n    self.process_currency(f, currency)\nThis helps keeps functions small.  Which makes them more understandable and lose prone to error.\n. the %s operator should automatically convert currency to a string\n. This line is too long.  self.amount = self.calculate_amount()\nI think the 80 character limit suggested by pep8 is too restrictive, but if you start going over 100 - think about doing it differently.\n. Add tests for this too\n. assert self.is_recent_rate(rates[fx]), \"%s quote is out of date\" % fx\n. Tests this too \ud83d\ude04 \n. remove this line\n. if self.is_recent_quote(self._USDBTC):\n. log will do the string interpolation for you log.info(\"lbry://%s complies with %s\", name, m.metaversion)\n. I'm not convinced mixing the currency conversion logic inside of the wallet is the right path.  The wallet acts as an abstraction over lbrycrd/lbryum and is responsible for interacting with the bitcoin network.\nIn SOLID design (https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)) classes should have a single responsibility.  \nI would suggest making a new class, maybe CurrentExchangeRates.  I would also make another class, ExchangeRate.  The later would be an abstraction for the the functions calls that you have (USD->BTC, BTC->LBC).  The former would act as a container for the ExchangeRates and be responsible for ensuring the freshness of the quotes.\n. This is a note to me to delete this section - as with my other logging pull, log configuration is better handled by the caller, not at import time.\n. pylint can warn about this, I'll turn it on. log will do the interpolation for you.\n. Sorry, I think I missed something.  Why is this necessary?\n. can we stick with grabbing the version from git and undo all the changes in this file related to pkg_resources?\n. break this into multiple lines.  I generally prefer putting each argument on its own line:\nlog.info(\n    \"lbrynet %s --> %s\",\n    self.session_settings['last_version']['lbrynet'], \n    self.default_settings['last_version']['lbrynet']\n)\n. \ud83d\ude22 \n. I'd strongly consider pulling PendingClaims into its own class.\n. force = p.get('force', False)\n. Try to avoid having any logic inside the lambda functions in these callbacks.  Tracing through twisted callbacks is hard enough.  Only use the lambda function to change the order or arguments, etc.\n. remove this.  Its garbage.  I removed it in an earlier commit - was there not a conflict?\n. pass in the CurrentExchangeRate object here, along with the wallet\n. Following my suggestions from earlier, this would change to:\nself.fee = LBRYFee(self.stream_info['fee'], self.exchange_rates.get_rate_dict())\n. this can be:\nmax_key_fee = self.convert_max_key_fee(self.max_key_fee)\nif self.fee.to_lbc() > max_key_fee:\n    log.info(...)\n    return defer.fail(...)\nlog.info(...)\n. avoid the bare exception\n. I'd allow underscores too\n. Not your fault... but a pet peeve of mine is redundancy in naming like this. UnknownName, InsuffiecientFunds, InvalidName all stand-alone.  There is no need to also append Error to them.\nDon't fix.  I'm just venting\n. this should be renamed _log_cost or so\n. Using nested functions in the callbacks is a tolerable pattern when they're tiny.  If a nested function has other nested functions, its becomes difficult to read and impossible to re-use.  In the future, consider making separate classes or un-nested functions.  Those can be tested and re-used.\nAlso, the scoping rules on nested functions become difficult to follow which leads to bugs.\n. why 3?\n. are these changes related to download descriptors?\n. allow callers to specify the servers:\ndef __init__(self, servers=None):\n    self.servers = servers or SEARCH_SERVERS\n. I'd move the logic for this into a class function.  Maybe:\n@classmethod\ndef load_from_hex(cls, metadata):\n    return cls(json.loads(metadata.decode(\"hex\")))\nIn general Boolean arguments loudly declare that the function does more than one thing. They are confusing and should be eliminated.\n. why hexlify this?\n. log.info(\"lbry://%s complies with %s, claimid: %s\", name, metadata.meta_version, claim_id)\n. Avoid pulling in variables from the outer-scope.\n. Lines 416-418 could be made into their own function\n. this is identical to the code early.  DRY.\n. same complaint about boolean arguments here.  Functions should be small and do one thing. \nThe requiring that the claim be your own can moved outside of this function and happen by the caller:\nd = get_claim_info(...)\nd.addCallback(ensure_my_claim)\nFor force_good_metadata, I need to think more about a concrete suggestion.  There probably needs to be a larger refactoring that allows get_claim_info to be extensible. (https://en.wikipedia.org/wiki/Open/closed_principle)\n. If we start adding more tables or doing more serious SQL work - we should look into sqlalchemy and alembic.  Otherwise we'll unnecessarily be reinventing the wheel for a lot of the basic db and data layer management.\n. Does twisted automatically raise Exceptions, or how does this work?\n. Added https://app.asana.com/0/158602294500137/165541037734637\n. yes, I'll revert this commit after lbryum gets merged.  I needed to\nreference that branch to test the build process in the meantime.\nOn Tue, Aug 16, 2016 at 11:12 AM, Jack Robison notifications@github.com\nwrote:\n\nIn requirements.txt\nhttps://github.com/lbryio/lbry/pull/119#discussion_r74966970:\n\n@@ -8,11 +8,11 @@ ecdsa==0.13\n gmpy==1.17\n jsonrpc==1.2\n jsonrpclib==0.1.7\n-https://github.com/lbryio/lbryum/tarball/master/#egg=lbryum\n+https://github.com/lbryio/lbryum/tarball/update-protobuf/#egg=lbryum\n\nshould this be master? or should that be a separate commit after lbryum\ngets merged?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/119/files/cc64da3d6249942ad52420b282f52e0f31ed9282#r74966970,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACRRX0R7slkYXV-qz8cur_naTzBhMRcyks5qgeFygaJpZM4JhNpP\n.\n. I looked into that, but unqlite 0.5.3 requires cython and I wasn't sure it was worth the extra complexity in the build process.\n\nBut, since it makes the windows build easier, I've added: https://app.asana.com/0/136290697597644/168474034092992\n. This code would be nicer as its own function - which could/should then be unit-tested\n. this is doing too much on one line, I'd make a separate function: d.addCallback(find_first_unspent, name)\nand, of course, unit test it.\nShould it be 'is_spent' instead of 'is spent'\n. Having behavior happen at module import time is a not a good idea.  Move this into a function and have it be called by the start-up script.\n. classes should inherent from object\n. I prefer the pattern of not doing anything in a constructor besides taking inputs and assigning them to local members: \ndef __init__(self, passwords)\n    self.passwords = passwords\nand then having a class method that loads in these passwords:\n@classmethod\ndef load(cls):\n    passwords = get_passwords_from_api_keys()\n    return cls(passwords)\nThis makes it easier for other clients to modify the behavior of the class by changing the inputs passwords.  In particular, it makes testing easier as this class no long has a dependency on an .api_keys file\n. style nit: if pw_match:\n. name-mangled variables really aren't used that much in python.  Not sure if there is a reason for it here.\n. can be shortened to self._api_key_name = key_name or API_KEY_NAME\n. same comment as above about having a very simple constructor.  Move all of the logic that is in __init__ into a classmethod or a factory.\nEspecially important - don't make network requests or long calculations in a constructor.\n. We should start documenting new classes and calling each other out in code review when we don't.\nI like the docstring style as suggested by the google style guide, but would be open to other styles.\n. FUNCTIONS SHOULD DO ONE THING.  Alternatively, more accurate and subtle, functions should operate on the same level of abstraction.\nThis function is too long.  For starters, the nested functions can be pulled out.\nLines like \nrequest.content.seek(0, 0)\n    content = request.content.read()\n    parsed = jsonrpclib.loads(content)\nare at too low a level of abstraction. The details of how to read a request should be handled in another function  It should be simply: parsed = self.parseRequest(request)\n. blank excepts also catch KeyboardInterrupts, its always better to do except Exception. Even that is generally overly broad and should be avoided if possible.\n. return cls(key, name\n. why have the key be a string or a dictionary?\n. Use with:\nwith open(path, \"r\") as f:\n    data = yaml.load(f.read())\n. use with here too\n. Can this be changed to?\ndef render_GET(self, request):\n    self.add_no_cache(request)\n    return static.File.render_GET(self, request)\n. as an aside - we should looking into doing something like round-robin dns instead of complicating client side logic.\n. should check that the deferred was successful:\nd.addCallback(lambda results: [val for success, val in results if success])\n. nested functions are pretty much the devil.  pull this out and make it a method on the class.\n. I think this is only used for testing and would be better lived in https://github.com/lbryio/lbry/blob/master/tests/mocks.py\n. pull this out onto the class\n. what is the download history used for?\n. Being nitpicky, but this can be one line:\n\"\"\"A rate offer to download blobs from a host.\"\"\"\n. is_too_low would be a better name\n. is_accepted would be a better name\n. style nit: line is too long\n. use utils.now() (from lbrynet.core.utils`) instead of datetime.datetime.today as it will make mocking easier when testing.\nCan also be\nreturn (\n    self.attempt_connection_at is None or\n    utils.now() > self.attempt_connection_at\n)\n. nit: long-line\n. the str isn't necessary, that is part of what %s does.\n. I'd leave this at debug\n. please delete the commented code\n. delete the comment\n. this fails?\n. delete the comment\n. nit: long line\n. delete comment\n. nit: long line\n. nit: long line\n. I'd suggest changing your pycharm settings to 100 characters:\nhttp://stackoverflow.com/questions/17319422/where-to-set-maximum-line-length-in-pycharm.\nIn my experience 100 characters is about as wide as you can get and still allow for side-by-side editting / diff viewing on a laptop.\n. randomness in unit tests is generally discouraged.  If you're going to do it, at least set the seed to something known so that the results of each run is predictable.\n. Looking at the tests in here - they are more of a fuzz-test then a unit-test.  Which is fine.  If we start doing more, it might be worthwhile to make them their own test type: tests/fuzz in addition to tests/unit and tests/functional\n. the code inside this loop could be made into a function:\nbase_rates = [0.0001*n for n in range(1, 10)]\nfor host_base, client_base in itertools.product(base_rates, base_rates):\n    turns = calculate_negotiated_turns(host_base, client_base)\n    self.assertGreater(MAX_NEGOTIATION_TURNS, turns)\n. I think its worth abstracting this logic away.  Maybe something like:\nfor version, schema, migration in skip_lower_version(self._versions, self.version):\ndef skip_lower_versions(versions, target_version):\n    for version, schema, migration in versions:\n        if version >= target_version:\n            yield version, schema, migration\n. This should be an assert\n. this would be better as a class variable not an instance variable.\nIt does mean that _migrate_001_to_002, etc will need to be static methods that take a dictionary as an argument and modify it.\n. the str isn't necessary as %s already does that: https://docs.python.org/2/library/stdtypes.html#string-formatting-operations\n. I am using analytics.constants for this\n. I use emacs but, also no idea how to sort there either.\n. The alignment comes from my own OCD issues\n. 1. please, please avoid nested / inner functions. They're hard to read, can create huge messes with scoping and are impossible to test in isolation.\n2. Instead of adding these methods to this class / function (making it bigger and more complicated) - I'd suggest creating a new class that only does what you want and then use composition to combine the existing functionality with the new stuff.\n. can the -1 be made a constant, perhaps NOUT_UNSET.  I dislike magic numbers almost as much as grin dislikes strings.\n. I like to avoid comments that explain what the code is doing; I believe comments should be reserved for explanations of why the code is as it is.\nIf a comment is necessary, consider making changes to improve the readability of the code.  In this case, I'd make a function call: d.addCallback(lambda _: self.delete_legacy_entries(name, txid, sd_hash))\n. This was only working previously by accident\n. Removing the errback so that the err can flow through to be logged latter.  In general, silently eating all errors is a bad practice.\n. @jackrobison - a note for future work.\n. Moving from arguments to a global configuration object is an anti-pattern. I accept that there will be some global configuration because that is how things were before this pull request, but we shouldn't be adding more global state.\n. default argument values should always be immutable.  You'll run into weird behavior otherwise.  This would be better as \ndef _download_name(self, name, timeout=None, ...):\n    if timeout is None:\n        timeout = lbrynet_settings.download_timeout\n. in general, avoid using general names like util for things that can otherwise be named.  this could be called, for example, reupload.py\n. Having these methods namespaced inside the class doesn't seem necessary.  Having them be stand-along functions within a module seems cleaner.\n. I'd change this line to from lbrynet.reflector import reupload\n. from lbrynet.reflector impor reupload\n. reupload.check_and_restore_availability(...)\n. cls snuck in here\n. I think this should use the lbrynet.conf.settings object?\n. oops, this is a merge error.  Will take out\n. this might have been a merge error as well...\n. Yeah, reactor.run, gets called here: https://github.com/lbryio/lbry/blob/b3953c8268f3b0bcbcd652083d6c90a2538e8928/packaging/osx/lbry-osx-app/lbrygui/main.py#L32\n. oops, logging hasn't been configured yet\n. The better way to handle this would be to pass the message to Exception.__init__:\ndef __init__(self, name, stream_info):\n    msg = '{} has claim with invalid stream info: {}'.format(name,  stream_info)\n    Exception.__init__(self, msg)\n    self.name = name\n    self.stream_info = stream_info\n. can you put this on two lines.  I have a hard time reading this to see what the two callbacks are?\n. two lines would be nice here too\n. I added log_support.failure recently: https://github.com/lbryio/lbry/blob/master/lbrynet/core/log_support.py#L152\n. could have sworn I replied to this - I think losing the connection is fine.  Maybe we'll want to have the caller retry at some point?\n. generally its better to \"beg for forgiveness\".  If filename is missing, it will throw an IOError.  (Which was my mistake, I should have caught IOError when I wrote this)\nI'd suggest removing the os.path.isfile check and doing\ntry:\n    ...\nexcept (IOError, OSError) as ex:\n    ...\n. can this be made into a function, like\ndef get_command(self, name, password=None):\n    cmd = known_commands(name)\n    return getattr(self._get_cmd_runner(password), cmd.name)\n. style nit: no spaces around the =. It should be: password=None\n. why not re-raise the error here instead of catching it and re-throwing a less specific error?\n. this logic gets repeated, and I generally dislike complicated if statements.  This might be better if there was a data structure, maybe:\nClaimLocation = collections.namedtuple('ClaimIdentifier', 'txid nout')\nAnd then changed each function to take in a claim_location like\ndef get_stream_info_from_txid(self, name, claim_location):\nand have a function:\ndef matchesClaim(claim, claim_location):\n    return claim['name'] == claim_location.name and claim['nOut'] == claim_location.nout\n. might be worth changing the name of this - get_stream_info_from_claim maybe?\n. I think this is worth making a small nested function to increase readability:\ndef _get_status_of_claim(name_txid, sd_hash):\n    if name_txid:\n        return self._get_status_of_claim(self._get_status_of_claim(name_txid[1], name_txid[2], name_txid[0], sd_hash))\n    else:\n        return None\n. I don't understand this logic.  What if current = 2 and end = 3, this will loop forever.\n. the trailing + isn't necessary.  For example:\nmy_string = ('asldkjfasldkfjasdlfkjasdf' \n                      'alskdjflaskjdfa')\nis valid.\n. the warning and error seem redundant.  Remove the warning statement\n. can replace claim_out with the ClaimLocation data structure\n. use with:  \nwith open(...) as db_revision: \n    db_revision.write(str(old_revision))\n. Don't Repeat Yourself\n. I whole-heartedly dislike this pattern; nested functions are gross. I much more would like to see this functionality moved into a separate class.\n```\nclass Remover(object):\n    def init(self, daemon, lbry_file):\n        self.daemon = daemon\n        self.lbry_file\ndef remove_if_should(self):\n    ...\n\n def get_and_check_tx(self, txid):\n   ...\n\n```\nand then this function looks like:\ndef _confirm_should_remove(self):\n    lbry_file = next(lf for lf in self.daemon.lbry_file_manager.lbry_files if lf.uri == self.name)\n    d =  Remover(self, lbry_file).remove_if_should()\n    return d\n. I think UnknownNameError needs to be wrapped in a defer.Fail?\n. nit: wrap the long line (I'll add a pylint check for this at some point... I just don't feel like cleaning up all of them...)\n. worth considering, in the future, adding a check in settings.update() to require that the setting already exists, would catch errors like this.\n. also, sorry, I made this mistake :/\n. I deleted the space in front of self.buff and made the function partly to deal with the long line (but also because I thought it was more readable)\n. nit: add space after the comma\n. This can be taken out. I wrote a python script instead of using sed\n. will change to master before merging\n. will change to master before merging\n. the OSX and Windows apps also use this function call to start the daemon and will need to be changed\n. Th InvalidAuthenticationToken error seems like something that would be expected to happen on occasion, so I think the log level here should be at the warning level.\nLog statements at the error level should be reserved for things that went wrong and for things we need to fix in the code: https://github.com/lbryio/lbry/wiki/Log-Levels#error.  Logs are not for the user, they are for us.\n. An error here isn't the fault of the daemon so I think this should be a log.warning.\n. better would be to keep the err: self.err = err and then have\n@property\ndef fault_string(self):\n    return err.getTraceback()\nGenerally, the dumber a constructor is the better. They should almost always be simple assignments of the passed in args to variables.\n. nit: long line\n. nit: long line\nAlso, why is Failure(failure) necessary as compared to only failure\n. nit: long line\n. is an error here the fault of the caller?  if so, probably want to change this to a warning\n. A log_support.failure call would be good to add to the errback as well.\n. this feels like an abuse of an assert.  More readable seems:\nif not self._check_function_path(function_path):\n    raise AttributeError(function_path)\n. add a log.exception('some message') here\n. this also seems like an abuse of assert; asserts should be used primarily to check pre and post conditions in a function.\nA problem here is that the broad try/catch will catch the assertion error along with\nall of the other errors that might happen, which we than re-raise as a SubhandlerError\nand possibly lose the context of the original error.\nI think this would be better to get ride of the try/catch and have something like:\nif not handler(request):\n    raise SubhandlerError('Failed to process request', request)\n. As this function's job is to setup and start the daemon; I think its okay to move the analytics_manager creation to inside of this function instead of passing it in.\n. log.exception already includes the traceback so err.message isn't necessary.  Its better to instead add some more context, like: log.exception('failed to render results: %s', result)\n. I think this would still be good to do\n. this should be log_support.\ntests failed: https://travis-ci.org/lbryio/lbry/jobs/175889369#L495\n. unfortunately twisted failure and logging don't work with exc_info=True.\nThere is log_support.failure() that will do what you want:\nlog_support.failure(failure, log, \"Request failed. Id: %s, Failure: %s\", id)\n. I prefer the succinctness of:\nlocal_ui_path = user_specified or settings.local_ui_path\nAnd its a common enough pattern for dealing with optional arguments that it is also more readable.\n. This would be slightly better as\nexc, traceback = future.exception_info()\nlog.warning('Failed to send an analytics event', exc_info=(type(exc), exc, traceback))\n. thanks!\n. http://www.informit.com/articles/article.aspx?p=1392524:\nBoolean arguments loudly declare that the function does more than one thing. \nThey are confusing and should be eliminated.\nIts generally better to refactor functions with boolean flags into new functions.  For example\ndef _log_and_render_error(self, failure, request, msg, **kwargs):\n    log_support.failure(failure, log, msg)\n    self._render_error(failure, request, **kwargs)\nwould be cleaner as it leaves _render_error simple, more readable and only doing what its name implies it does.\n. okay.  I'll take a closer look at some of the common referrers and fix this up.\nBTW - this is a good example of where tests are useful to prevent a regression.. As a general rule, when you have a new indented block, think about making it a function.\nif 'size' in p:\n    return self._render_est_cost_from_stream_size(p)\n   . nit: long line. nit: long line. wish I could just run bash under windows \u2639\ufe0f . use self.environ instead of ENVIRONMENT.  No need to have more global references than necessary. for log statements, prefer to use '%s' and also lazy invocation:\nlog.info('Cancelling download: %s', err.getErrorMessage()). prefer early exit:\nif 'fee' not in self.stream_info:\n    return\nself.fee = .... I would move the message from the log and into the exception.\nAlso, raise the exception instead of returning it as a fail.. same here regarding error message and raising the exception.. I'd reverse the order of the two fee checks. max key fee seems more substantial than insufficient wallet balance.. does your editor remove newlines \ud83d\ude22 . It looks like trial has built in functionality for this:\nhttp://twistedmatrix.com/documents/current/api/twisted.trial._synctest._Assertions.html#failureResultOf. I like the pattern of calling the target expected_<something, like expected_claim_out\nand then comparing that to actual_claim_out.. for some reason, I don't know why, it is convention to put the expected part of the test first:\nself.assertEqual(expected_claim_out['txid'], actual_claim_out['txid']). Yes please: http://stackoverflow.com/a/729795. I think you can do return functools.partial(self.call, name). \ud83d\udc4d . have this be defer.succeed(claim_out) so that its always returning a deferred. Is network.blockchain actually making a network call?. \ud83d\udc4d  - I'm a fan of getting rid of unused code.. Indeed.  Thanks. I set next_announce_time to be the hour in a future so that avoids the run_manage_loop one.. will make this a separate PR to fix this in multiple files.. @lyoshenka the script does have a flag to pass in a key.. add this to conf.settings (similar to the analytics token) and use utils.obfuscate / deobfuscate for consistency.. you can mix in constants with strftime: %Y-%m-%dT%H:%M:%SZ\nAlso consider using https://docs.python.org/2/library/urllib.html#urllib.urlencode instead of manually doing %3A\n. I don't think this works across month boundaries.  You want:\nyesterday = now - datetime.timedelta(days=1). consider urlencode here too. are deferred's necessary here?\nI think this can be:\nreport_bug_to_slack(bug_message, self.lbryid, platform_name, lbrynet_version)\nreturn self._render_response(True, OK_CODE). a nifty trick:\nself.SLACK_WEBHOOK = ('nUE0pUZ6Yl9bo29epl5moTSwnl5wo20ip2IlqzywMKZiIQSFZR5'\n                    'AHx4mY0VmF0WQZ1ESEP9kMHZlp1WzJwWOoKN3ImR1M2yUAaMyqGZ='). What is the use-case for these two additions?. Ah - crap - this is a reminder for me to fix https://github.com/lbryio/lbry/blob/2afc4c25a295cee21e84e739171f93405b8445b5/lbrynet/lbrynet_daemon/Daemon.py#L1239 to use base58, not hexlify.. milliseconds = str(round(dt.microsecond * (10.0**-5), 3)). check out https://docs.python.org/2/library/urllib.html#urllib.urlencode\nparams = {\n    'terms': 'json.lbry_id: {}'*.format(decoded_id[:SHORT_ID_LEN]),\n    'from': loggly_time_string(yesterday),\n    'to': loggly_time_string(now)\n}\ndata = urllib.urlencode(params)\n. The reason for the other ones is that \"now\" needs to be repeatable / mockable for tests.  I don't think we don't need to mock out timedelta or datetime.datetime. I'd change this to be \nyield self.lbry_ui_manager.setup()\nif launch_ui:\n    self.lbry_ui_manager.launch(). On line 75, 83, 89, the function returns which means launch won't happen regardless of the setting.\nIn general, functions should \"do one thing\" and now this function does two things.  It setups the UI and potentially launches it.\nAlso - I've harped on boolean flags before: http://www.informit.com/articles/article.aspx?p=1392524\nI think it would be better to have this be two separate functions and call them individually.. it might be possible that you'll fail because the daemon requires authentication and the CLI isn't providing any.  What is the message in that case?. why did you move this?. Given that finished_deferred is \"A Deferred which will be triggered when the request is finished -- with a None value if the request finishes successfully or with an error if the request is interrupted by an error (for example, the client closing the connection prematurely)\"\nIt seems worthwhile to treat the two cases differently.  Is there a situation in which finished_deferred will fire  a successful callback without d having been called?. being pedantic, but I prefer the google style of docstrings, and most of lbrynet uses them.  \nThe google style is:\n```Required short single line explanation.\nOptional longer explanation\nArgs:\n    name_of_argument: description\nReturns: a description of what the function returns\n```\nMore examples: http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html. why callFromThread instead of calllater(d.cancel) or simplyd.cancel()?. even here, the code is never used.  In _callback_render, it only pulls out the 'result'. Should this be # TODO: calculate blocks_behind more accurately?. Why change from returning a list?. given that this code is nearly identical to reveal I'd like there to be some abstraction over the OS for this sort of thing. Its better to do the if statement in a factory that gives you back a class that allows the rest of the code to not care what OS we're on.\nroughly\n```\ndef file_factory(path):\n    if sys.platform == 'darwin':\n        return DarwinFile(path)\n    ...\nclass DarwinFile(object):\n    def open(self):\n        \n    def reveal(self):\n        \netc\n```\n. Fair point.  Sounds good to me.. Reconsidering - fireOnOneErrback should probably be False so that the other deferred (the one that didn't fail) can continue doing its thing. I'll fix that.\nconsumeErrors should be set, otherwise if, for example, d1 fails the error will be unhandled by d1 (since there are no errbacks attached to d1) and will also get passed along to possible errbacks of dl.  consumeErrors helps prevent spurious 'Unhandled error in Deferred' messages.. will do. the label on this needs to stay lbry_id.  Otherwise, you end up with some set of events that have a lbry_id column and another set of events that have an installation_id column.\nAn alternative would be keep lbry_id named as it is and create a new identifier, dht_id, or something.. I should have extended my comment - its useful for the code reviewer if simple housecleaning is in a commit on its own. As it is, its difficult to read through the diff and see whether _set_headers was only moved or if it was moved and changed.. Why take away the logging information?. This would be nicer as an inlineCallback. because this one has the _log_decorator, which helper for setting up handlers.  Maybe there are better names I could use for the two.. write this using inlineCallbacks:\n@defer.inlineCallbacks\ndef jsonrpc_open(self, p):\n    \"\"\"<docstring>\"\"\"\n    if 'sd_hash' not in p:\n        raise ValueError('sd_hash is required')\n    lbry_file = yield self._get_lbry_file(FileID.SD_HASH, p['sd_hash'])\n    if not lbry_file:\n        raise Exception('Unable to find file for {}'.format(p['sd_hash']))\n    try:\n        file_utils.start(lbry_file['download_path'])\n    except IOError:\n        pass\n    defer.returnValue(True). inlineCallback this too. No need for this, leave only a single line between functions. No need to change the docstring. The original docstring is inline with PEP257.  Docstrings are supposed to be:\n```\n\"\"\"A single line that provides a short description.\nAn optional longer explanation after a blank line. With the closing quotes\non a line on their own.\n\"\"\"\n```\n. python classes inherit from object: class Config(object):. I don't like the pattern of using assertions like this.\nAssertions should *not* be used to test for failure cases that can occur because\nof bad user input or operating system/environment failures, such as a file\nnot being found. Instead, you should raise an exception, or print an error\nmessage, or whatever is appropriate. One important reason why assertions should\nonly be used for self-tests of the program is that assertions can be disabled\nat compile time.\nhttps://wiki.python.org/moin/UsingAssertionsEffectively\nI generally prefer this to look like:\nfor name in settings:\n    if name not in self.defaults:\n        raise IndexError('{} is not a valid setting'.format(name)). Its more 'pythonic' to write this as\ntry:\n    return self.combined_settings[name]\nexcept KeyError:\n    raise IndexError('{} is not a valid setting'.format(name)). Can you document what set_conf_setting does. I think the de-dented bracing is better formatting and more consistent with how the code is formatted in the rest of the library.. Avoid using mutable objects as default arguments.. use inlineCallbacks:\n@defer.inlineCallbacks\ndef update_balance(self):\n    balance = yield self._update_balance()\n    if self.wallet_balance != balance:\n        log.debug(\"Got a new balance: %s\", balance)\n    self.wallet_balance = balance. this blank line isn't necessary. Its only used when the next thing is a nested function definition. only one blank line between functions. inlineCallbacks would make this code more readable.. @property is pretty common and definitely more pythonic than getters / setters\nhttp://stackoverflow.com/questions/6618002/python-property-versus-getters-and-setters. The length now gets calculated by the blob itself if its not passed into the HashBlob constructor.  Its only real use is when downloading a blob, you need to keep track of the data received.\nI am going to take out get_blob_length. on startup, if there are a lot of blobs, we'd end up having to read all of them from disk and calculate the hash, which can be quite slow.  Given that the hash was checked when the file was written, I don't think its necessary to recheck each time a HashBlob is initialized.\nAlso, its more code.  I'm attempting to justify not making the check.. You want port 3333 for this.. probably worth changing this to pip install -e . as well. pip install -e . is better. don't need this, if nonzero doesn't exist, len is called.. because the items being added are (h, announce_deferred), they aren't actually unique.  Should turn this into a special purposed data structure that is called like: def append(self, blob_hash, announce_deferred)\nand have _items be a set of blobs, and _queue be a queue of (h, deferred) tuples.. the str is not necessary. That is what %s does already.. what is this change?  bugfix?. Does faultString need to be a string, maybe this should be return str(self.err). Can be shortened to: args = parsed.get('params', {}). failure might actually be an Exception (line 334) so wrapping it in a Failure adds the getTraceback functionality. If it is a failure already, wrapping in in a Failure does nothing.. please add documentation to these errors.. why this change?. the on_update_callback is called by lbryum in the wallet network daemon thread.  callFromThread moves the  control back to the reactor thread.. what does this do?. I think the original code is better as it allows other things queued up in the reactor to run.  I think without callLater there is a chance that we spend a lot of time in the request code and not allow the daemon to process other requests.. since changing callLater is recommended for testing (http://twistedmatrix.com/documents/current/core/howto/trial.html#more-good-practices), I think its worth adding to lbrynet.core.utils - as that is were some other time related functionality exists solely for the reason of being patched for tests.\nIn the tests, you could patch utils.callLater to call clock.callLater instead of reactor.callLater.\nIt doesn't change the functionality at all, but I think it makes it more clear that callLater is being used how it is so that it can be patched for testing.. unit tests need to be stateless.  If you need to initialize settings for your test, do so in setUp() and undo the changes in tearDown(). hum.. the whitespace on this is wrong; looks like we don't have linting turned on for the tests. Damn.. following above, this would be changed to utils.callLater(0, self.manage). These calls to _manage_deferred cannot be taken away as they're used within stop to ensure that we wait for a the current run of manage to finish before actually stopping the connection manager\nhttps://github.com/lbryio/lbry/pull/458/files#diff-528ba4be45fedee1b75ecdc2f9c8719eL63\nI added those checks here: https://github.com/lbryio/lbry/pull/402/commits/cb2bb6ee6b4a4c795162f8e3ef8c3a16cbd72dec\n. because self._manage() returns a deferred, it will return right away and you'll schedule the next manage call potentially before the previous _manage finished. \nAlso, the shutdown behaviour of the manager is a little tricky to get right and we have to be sure all of the deferreds are finished running and cancelled.\nI think it would be better as:\n@defer.inlineCallbacks\ndef _manage(self):\n    self._manage_deferred = defer.Deferred()\n    yield self._pick_and_connect_to_next_peer()\n    self._manage_deferred.callback(None)\n    self._manage_deferred = None\n    if not self.stopped:\n        self._next_manage_call = self.callLater(self.MANAGE_CALL_INTERVAL_SEC, self.manage). rename this so _pick_and_connect_to_next_peer. I'd like us to be better about using the _ prefix on methods that aren't intended to be called by outside classes.  I know that python doesn't really have private variables, but this is better than nothing.\nI'd keep this as _manage and the part that you pulled out for testing, I'd rename as _pick_and_connect_to_next_peer. can you document what this returns and when the deferred that is returned gets fired?\nIt will save whoever is reading this code next from having to dig through a bunch of code.. Due to the change in _connect_to_peer to return factory.deferred (that is call-backed when the connection is lost), this changes this code from only yielding until the peer is connected to to waiting until the peer connection is lost.\nI don't think this is desirable as it will limit the number of parallel connections we have.. this function name doesn't match what it does - not sure what a better name would be, but worth thinking about.. can connectionrefusederror be caught and better handled?\nGenerally, blanket except Exception are an action of last resort (or laziness - in this case, mine) and if there is a more specific error that can be caught and handled, we should do that.  Maybe:\ntry:\n    yield self._connect_to_peer(peer)\nexcept ConnectionRefusedError:\n    # do something with the peer, like peer.report_down() ?\nexcept Exception:\n    log.exception('Something bad happened connecting to a peer'). are you certain that this code won't throw an exception?\nI'm pretty sure that an exception here will just disappear into the ether, as indicated in the comment\n# log this otherwise it will just end up as an unhandled error in deferred. See https://github.com/lbryio/lbry/pull/458#discussion_r98992954. I don't think once the original function that was called in deferToThreads, control goes back to the reactor this. that means that get_lbryum_version happens synchronosly and will block the reactor thread until a response has come back.. You'll want to consume errors here.. I think you also want to check for success. Again, use inline callbacks.\nThis function is poorly named.  When I read the name, I expect that the result with be a boolean saying either yes or no that I need the descriptor.\nAlso, the function is too complicated.  I will yell this until I'm hoarse: functions need to do one thing.\nEach block inside the if statement could be made into their own functions.\nAll of the callbacks added to the blob_finished_d should be in their own function.. switch this to inlinecallbacks and get rid of the nested / inner functions. Looking through the code again - you're right. I got confused and thought there was a loop between ask_for_request and handle_request.. Why not check for success?. f usually stands for file not finished.  I think this should be switched back - generally fail on the side of being verbose.. you don't need to trap if you're already checking.  Trap is like check except that it re-raises if it not the expected type.. Since the __repr__ and __str__ functions of blob already do this (https://github.com/lbryio/lbry/blob/master/lbrynet/core/HashBlob.py#L201)\nThis should just be log.info('Received %s\", blob).\nAnd, think about it - what if we decide that we do want the full hash in the logs?  I don't want to have to change the code in multiple different places.. I think you changed blob_finished_d to blob_f_d because blob_finished_d made this section too long. Instead, try:\nblob = self.incoming_blob\nself.blob_f_d, self.blob_write, self.cancel_write = blob.open_for_writing(self.peer)\nself.blob_finished_d.addCallback(self._on_completed_blob, response_key)\nAlong with:\n@defer.inlineCallbacks\ndef _on_completed_blob(self, response_key):\n    blob = self.incoming_blob\n    try:\n        yield self.blob_manager.blob_completed(blob)\n        yield self.close_blob()\n        log.info(\"Received %s\", blob)\n        yield self.send_respond({response_key: True})\n    except Exception as e:\n        yield self.clean_up_failed_upload(e, blob)\n        yield self.send_respond({response_key: False}). why 200?. change this to read something like:\nif self.need_handshake():\n    return self.handle_handshake(request_dict)\nif self.is_descriptor_request(request_dict):\n    return self.handle_descriptor_request(request_dict)\nif self.is_blob_request(request_dict):\n    return self.handle_blob_request(request_dict)\nwhere is_descriptor_request is\ndef is_descriptor_request(request_dict):\n    return SD_BLOB_HASH in request_dict and SD_BLOB_SIZE in request_dict\netc...\nI think this makes it much more readable at a high level.  The reader sees that there are are three different kinds of requests in the protocol and its well separated out how to handle each one.. we need to be consistent with our variable name to distinguish between whether an object is a blob_hash string, a HashBlob, etc.  \nI think blobs_to_send should be blob_hashes. Can you change 200 to be MAXIMUM_QUERY_SIZE or something similar. You lost the error handling around _connect_to_peer. the variable d isn't right here as we use d to represent a deferred.  The yield resolves the deferred and actually gives back the result.  For this line, you aren't actually using the variable so you can just ignore it and use yield self.connection_manager.manage(schedule_next_call=False). https://docs.python.org/2/library/unittest.html#unittest.TestCase.assertIn. https://docs.python.org/2/library/unittest.html#unittest.TestCase.assertFalse. here d should be a useful variable name, like, peer_1_conn_was_made. here d should be a useful variable name, like, peer_2_conn_was_made. can remove d =. add in a conf.settings = None here so that the settings created in setUp don't affect other tests. nit: have a blank line between function definitions. out of scope for this PR, but we need a better way to configure logging for the tests as this snippet of code can't be on each test.  Maybe worth looking into whether trial has a way to configure logging.. I commented on a couple of cases, but not all.  Can you go through and fix all of the d = yield ... instances?. can you do the utils.callLater change that we talked about earlier?. put this comment in the docstring under the function. import should be ordered by\n```\nsystem\nthird party\nlocal\n```\nand alphabetical within each grouping.  Don't have multiple imports on the same line.  Instead do\nimport binascii\nimport os. I'm not convinced that this is a totally effective solution as it largely moves the queue from being in the queue data structure to being in the database.  The main difference is that the database will only have on entry for each blob so you decrease the chances of having repeated items in the queue - which is an improvement.\nA better long term solution would be something along the lines of https://github.com/lbryio/lbry/pull/435/files - which is to record when a blob was last announced (instead of when to next announce it) and have a data structure that doesn't allow for repeated blobs.  As that requires a more substantial change, I'm okay with putting this in place for now but we should follow up with a more complete fix.. this would be nicer as inlineCallbacks\n@defer.inlineCallbacks\ndef _check_stream_is_managed(self, stream_hash):\n    row_id = yield self._get_rowid_for_stream_hash(stream_hash)\n    if rowid:\n        defer.returnValue(True)\n    else:\n        rate = self.session.base_payment_rate_manager.min_blob_data_payment_rate\n        info = yield self.stream_info_manager.get_stream_info(stream_hash)\n        #\n        # as an aside, I think its bad practice to refer to tuples like this\n        # and I prefer to unpack the tuple into descriptive names so that the reader doesn't have to look up the \n        # get_stream_info function to see what is returned.  Alternatively, use namedtuples\n        # \n        # Also, we shouldn't need to remember how to log each object in our codebase.  Save yourself\n        # the effort and put in place good __repr__ and __str__ functions so that we can just log\n        #\n        log.warning(\"Trying to fix missing lbry file for %s\", info[1].decode('hex')))\n        yield self._save_lbry_file(stream_hash, rate). nit: can all be on one line. see below, I don't think this is necessary. doing it this way gets rid of the exception raising as well.. \ud83d\udc4d . can you log the err traceback so that we know why this happens? I do worry that maybe we'll continue retrying something ad-infinitum without reason.. can be lambda r: r[0][0] if r else 0. this is slightly more readable as\nif my_claim:\n    claim = yield self._update_existing_claim(name, _metadata, bid)\nelse:\n    claim = yield self._make_new_claim(name, _metadata, bid). nit: can be on one line. this is a dictionary, right?. I have been curious about this - I've definitely seen example code where reactor was imported inside a function and I've never dug into why.  Guess this would be a good time to learn.. \ud83d\udc4d \n. Can you make this a context object so that we can do:\nwith file_utils.get_read_handle(path) as f:\n    <stuff>. I don't think this works.  See https://docs.python.org/2.7/reference/datamodel.html#context-managers for more info, and https://docs.python.org/2.7/library/contextlib.html for some helpers.. this is better as log.exception(\"Failed to restore stream: %s\", stream_hash)\nhttps://docs.python.org/2/library/logging.html#logging.Logger.exception. why move this out of the try / except?. I think this is better using a list comprehension:\nyield defer.DeferredList([reflect_stream(lf) for lf in self.lbry_files]). nice. you fixes this.  Thanks!. mentioned in our phone chat - but this would be nice to have inside a deferredList so that we can keep track of the deferred instead of having it disappear into twisted.. I'm not sure this needs to be a separate thread - I think as long you don't yield, you can create a deferred and have twisted process it.  This can probably be:\n```\nmake this its own deferred so as to not block publishing more than it already is\nd = reupload.reflect_stream(publisher.lbry_file)\nd.addCallback(lambda _: log.info('Successfully reflected %s after publish', publisher.lbry_file))\nd.addErrback(log.fail(), 'Failed to reflect %s after publish', publisher.lbry_file))\n```\n. The worry is what happen if you don't want the default reactor:\n\"IMPORTANT: installing a reactor should be the first thing done in the app, since any code that does from twisted.internet import reactor will automatically install the default reactor if the code hasn\u2019t already installed one.\" (from http://twistedmatrix.com/documents/current/core/howto/choosing-reactor.html)\nAnd, as Jack referenced, this is largely a problem if the lbrynet library is being using in a gui app that needs to configure the reactor to use the GUI's event loop.  It might also be an issue for testing, but I think trial should take care of it.\nIt sounds to me that importing reactor at module load-time makes it harder to use the library and so we shouldn't do that.. damn.  I was hoping github's markdown would recognize and link to this automatically.  It doesn't \ud83d\ude22 . use exc_info in log statements that you want to include the error message.\nThis should be more like, log.warning('Failed to abandon claim %s - %s', txid, nout, exc_info=True). Please don't repeat the self.sd_hash[:6] part.  If you want that to be the standard way of logging an sd_hash, than make a function or anything that allows you to change how its logged if you so choose in the future.  It also ensures that you're consistent with how these sorts of things are logged.. I can take out this log statement - I put it in temporarily for debugging. fix typo. actually, I can revert all the changes to this file.... a pet peeve of mine: its not necessary to have Error in your exception.  Its redundant because its always obvious in context that you're dealing with an error.. Ie - raise NoSuchSDHash(...) is enough.. This else statement is a double-negative. My brain deals with positives better than double-negatives.\nThis should read\nif sd_hash:\n    lbry_file  = self.find_lbry_file_by_sd_hash(sd_hash)\nelse:\n   lbry_file = self.find_lbry_file_by_uri(name)\ndefer.returnValue(lbry_file)\nits also worth documenting that lbry_file can be None if there is no match found. What does this do?. I think this calls \nhttps://github.com/lbryio/lbry/blob/master/lbrynet/cryptstream/client/CryptStreamDownloader.py#L97, which gives you back a finished deferred - and you're going to wait for that to be called-back\nThis seems odd to want to 'start' downloading a stream that you already have.  If you want to populate variables, it would be better to have a function that does just that and have start() also call that function.. pyinstaller handles bundling the cacert just fine and so we don't need to set the environment variable.. jack - you probably don't like that I did this, but electron is now essentially a separate process the queries the daemon via rpc and the checks in check_headers didn't seem that useful.  Open to being convinced otherwise.. crap; missed this.  electron is currently building with the release set to dev.. did you copy and paste this code?. I fixed this.. While I agree that using authentication would be a good step forward, I don't think we should delay the electron launch due to that.\nAlso Electron is sending requests with essentially an empty origin, and no referrer.\n\nI am not convinced checking headers buys us much in the way of security.  I'm open to being convinced otherwise.. Even this is is not considered best practice.  setup.py should only list the dependencies that lbrynet needs (not a list of dependencies of dependencies) along with any known version restrictions.  Its generally a bad idea to pin versions in setup.py\nOn the other hand - requirements.txt is intended to be an explicit set of libraries for deployment.\nhttps://caremad.io/posts/2013/07/setup-vs-requirement/\nhttps://www.reddit.com/r/Python/comments/3uzl2a/setuppy_requirementstxt_or_a_combination/cxjs7n4/?utm_content=permalink&utm_medium=front&utm_source=reddit&utm_name=Python. its okay for tests to have a long name - perhaps: test_when_server_is_slow_then_connection_is_closed(self). ",
    "jackrobison": "Was this fixed by deleting blockchain_headers in the lbryum directory?\n. https://github.com/lbryio/lbry/commit/9f0f9e0928940f941f58922b15df25c7bbd95e99\n. 'ok' isn't clickable? \n. what was your balance?\n. I just haven't published it to the new blockchain yet, will do soon.\n. @sonatagreen the decryption key is stored in the stream descriptor blob, which the host doesn't necessarily provide. So nothing is going wrong on the seller side.\nThis is a bug, in that the program shouldn't let you download something without paying. However, it will be a more complex solution down the road that gets this locked down to the point where editing some code (or stumbling on a bug like this) won't let you bypass payment.\n. \ud83d\udc4d \n. \ud83d\udc4d \n. \ud83d\udc4d \n. \ud83d\udc4d \n. LGTM\n. \n. https://github.com/lbryio/lbry/pull/142/files\n. LGTM\n. https://github.com/lbryio/lbry/issues/138\n. LGTM\n. I'm going to close this, the WIP changes over to using protobufs and will likely end up in its own repo\n. Also, I think we should default auth to being on if localhost isn't the interface.. Why is this needed? (what is a user going to do with a lbry id?). @alexliebowitz I moved the id info from version (as well as some blob/file count info) to a get_lbry_session_info function.. LGTM. \ud83d\udc4d . Was there an error otherwise?. OK, LGTM. LGTM. LGTM. \ud83c\udf86 . @kaykurokawa \nI think I meant to use lbrynet.core.Wallet.Wallet.wallet_balance instead of lbrynet.core.Wallet.Wallet.get_balance().. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. \n. @wolf9466 \nhttps://github.com/lbryio/lbry/pull/348. This also needs pyasn1\nedit:\nI think the problem is the difference between requires in setup.py and requirements.txt. LGTM. @jobevers \nStale DHT entries get rotated out of the routing table as fresher ones come in. The ids are really supposed to be randomized at each start, and ideally even be authenticatable. The randomization allows more 'churn' in the routing table, and mixes up which peers are closest to the desired blobs.\n\nedit: removed the stuff to randomize lbryid on start to put it in a separate PR. LGTM. LGTM. Can you rebase on master?. LGTM. LGTM. Is this still used?. \ud83d\udc4d +1. One small thing, other than that LGTM. LGTM. not forgetting about this, but I'd like to hold off until the simplification of requirements.txt is on master, unless it's already needed.. \ud83d\udc4d . @jobevers \nchecking the headers in the server prevents incoming requests from having a non complying origin - although the request can still be forged. access-control is just for the browser.. LGTM. It's worth noting that any active claims/supports in an old wallet will not transfer to a new one with this process. I don't think there's really a clean way to move those over, however they can be abandoned and made again.. @kaykurokawa \nThe off-behavior that is_lagging was originally intended for was when catchup would freeze up, which restarting would generally fix.\n\nFrom the lbrynet side, not sure what would be good to do, as getvalueforname command would fail if local is ahead of remote.\n\nI think it should, but with the wallet setup only calling back after it's all caught up it shouldn't be a problem. If local is behind remote I think that should probably cause an error to be raised and logged in lbryum, and lbrynet should handle that situation in an errback.. \ud83d\udc4d . It's probably worth testing crashing startup throughout the stages - teardown might be necessary (port and upnp binding as well as opening the databases come to mind as potential problems).. @jobevers LGTM, go for it. I think we should merge the publish_sd_blob refactor, the inline callbacks refactor in #477, and the (other) Publisher inlinecallbacks refactor in #476. (Sorry, I redid a bunch of what you already did here)\n476 moves the reflector logic fully out of Publisher and into Daemon. I think that pending all these refactors, we should remove ManagedEncryptedFileDownloader._reupload (called in ManagedEncryptedFileDownloader.restore) and move the reflect-on-startup behavior to happen in EncryptedFileManager.start. Presently we're reflecting the stream twice in a publish: once during ManagedEncryptedFileDownloader.restore called byPublisher.set_status and then again in Publisher.start_reflector. \nI think that uploading to reflector should be in Daemon after Publisher has returned, and probably not be blocking.. note: this uses jack.lbry.tech as the reflector server since reflector.lbry.io is running reflector v1.. https://github.com/lbryio/lbry/pull/472. LGTM, please rebase on master. included in https://github.com/lbryio/lbry/pull/477. @jobevers I rebased in your publish_sd_blob commit and moved reflecting the lbry file to a looping call in the file manager. @kaykurokawa if you have a lbry file from a winning claim it'll return that file, if you don't have the current winning claim but you do have a file from a pending one, then it'll return that.\nAlso, returning the pending claim is just for file_get using the name argument. It's always possible to get the full list from files_list and re-query a given file by sd_hash if there are multiple files from the same name in the manager.. Where is signing the app happening? (or is it not yet?). Work in progress: https://github.com/lbryio/lbry/pull/492\n\nWe need a separate function, something like get_lbry_file_by_name() that does not attempt to resolve the name through the blockchain\n\nWe can get rid of the name resolution in the file manager altogether - it was only necessary to populate the metadata, which is stored in the new db. In addition, the db tracks the state of the associated claim if there is one (whether it be active but not winning, active and winning, pending, abandoned or updated over). If there is no claim at all for the file that can be an additional status.\n\nWe should also return a list of files that is associated with a description whether it be sd_hash, name, or filename, instead of returning whatever is the first one in the file manager.\n\nWill do - I think the json returned should also include a status code for the state of the associated claim (from the db).. @kaykurokawa will do. Closing in favor of https://github.com/lbryio/lbry/pull/505. LGTM. I'll re-open this when all the conflicts are sorted out. start and reveal in lbrynet.core.file_utils  are also good to delete. Just needs a changelog update, then LGTM. fixed in https://github.com/lbryio/lbry/pull/682. >1] Notice in the abbreviated log that the daemon is issuing thousands of messages: WARNING lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK.\nI'll look into this, it appears to only be happening on linux.\n\n2] Please consider either moving your not-so-hidden configuration folders .lbrynet and .lbryum from users' home folders to ~/.config, or make their location configurable.\n\nThese can be set as environmental variables - pick the values you want to override from conf.py, prefix with LBRY_, and export with the desired values.. >u'ver': u'_0_0_1' \nYou experimenting with lbryschema? If so, it isn't supported yet - and publish will autofill this field.\nThere's a few parameters you've got that are automatically filled in or have the wrong type, try\n{\n    'bid': 1.0,\n    'description': 'A image obtained from a computer glitch showing Heavy from Team Fortress 2 holding a glowing dove.',\n    'license': u'Creative Commons Attribution 3.0 United States',\n    'author': u'Stephen',\n    'title': u'St. Hoovy',\n    'language': 'en',\n    'nsfw': False,\n    'name': 'hoovy',\n    'file_path': '/home/stephen/Pictures/hoovy.jpg'\n}. 4 - This sounds like improper queueing of payments/not handling unconfirmed claims and balances properly, will look into it\n5 - This is a dht bug that happens only on linux, will look into it. https://github.com/lbryio/lbry/issues/547. try pip install -r requirements.txt first. I think that instead of raising the timeout we should reset the counter after having downloaded the sd blob. Most of those timeouts are happening when the sd blob takes ~20 seconds to acquire, and the odds of timeout increase as the time to download the sd blob approaches 30 - no time is left for the data to start downloading.. The idea was to only submit changes to the metadata and not require a full dictionary. What should the claim counter be called? I have it as claim_n at the moment. It's used to identify the nth claim to the name.. @kaykurokawa \nIt's the nth claim to the name (nth claim id for that name).\nI claim lbry://test, my claim has n = 1.\nYou claim lbry://test, your claim has n = 2.\nI update my claim to lbry://test, it still has n = 1.. Fixes 2-6: https://github.com/lbryio/lbry/pull/601. @kaykurokawa \nclaim_show returning false when nothing is found: https://github.com/lbryio/lbry/commit/31b5026570398daf2e24336af96837b6cc8853ca\nresolve doc update: https://github.com/lbryio/lbry/commit/10dcc429f3008d096fc9ecccff2336d6d2d38759. LGTM. Merged https://github.com/lbryio/lbryum-server/pull/21. LGTM. Awesome!. LGTM. I'm working on this, it's happening in the DHT and blob announcer.. Thanks for the report - it's a false positive.\nPlease report this to Avast: https://www.avast.com/false-positive-file-form.php. LGTM. I think we should delete lbrynet.metadata altogether instead and port the holdouts still using it to use lbryschema. The 0 fee case would previously have thrown an error in the old JSON schema, and I think it's only because I didn't port the JSON tests to lbryschema that it crept in.\nI think it's correct to throw an error when publishing with a 0 fee - it's dead space in the claim and another address in the publisher's wallet. I think the handling of such claims should be in lbryschema, and probably should strip such a fee out instead of handling it upon resolve/download in lbrynet.. LGTM. >So fee amount can be set to zero with this patch right? Was that your intention?\nWhen publishing, an empty fee will get stripped out, empty fees shouldn't make it into the claim.. https://github.com/lbryio/lbry-app/pull/196. LGTM. rebased to master. One tidbit, otherwise LGTM. fixed in https://github.com/lbryio/lbry/pull/682. Heh, https://github.com/lbryio/lbry/issues/675 strikes again.\nLGTM. I'll check it out - it shouldn't require any network requests.\n@nikooo777 is the certificate claim in that wallet too, or just the certificate key?. This appears to have been fixed by 0.12, the server having the error was on 0.10. The serialized claim value: \n080110011a8c03080112c402080410011a7243617375616c6c79204578706c61696e65643a20486f7720746f204d616b6520612053ccb6ccb7ccb675ccb6ccb7ccb663ccb6ccb7ccb663ccb6ccb7ccb665ccb6ccb7ccb673ccb6ccb7ccb673ccb6ccb7ccb666ccb6ccb7ccb675ccb6ccb7ccb66c20596f7554756265204368616e6e656c223d49206d6179206861766520737769746368656420746865206368617261637465727320696e207468617420656d61696c20696e746572616374696f6e2e2a1243617375616c6c79204578706c61696e65643221436f7079726967687420323031372043617375616c6c79204578706c61696e656438004a4e68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f66696c65732e6c6272792e696f2f7468756d626e61696c732f63617375616c6c792d796f75747562652d6368616e6e656c2e6a706752005a001a41080110011a308d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b12209766964656f2f6d70342a5c080110031a406350bf0814b5b3c7545e9e6a49be22577d8bcf9f1a32c05dcafb2af19a81205798467ea8e24ba4039c315ab77685882a88e23f30223116f6f0245cdcd5949a1c22141f30267438257020f08abf452746a48e53a71ad5\nThe problem field:\nCasually Explained: How to Make a S\\u0336\\u0337\\u0336u\\u0336\\u0337\\u0336c\\u0336\\u0337\\u0336c\\u0336\\u0337\\u0336e\\u0336\\u0337\\u0336s\\u0336\\u0337\\u0336s\\u0336\\u0337\\u0336f\\u0336\\u0337\\u0336u\\u0336\\u0337\\u0336l YouTube Channel\n. Looks like a perfect place to use HTTP status code 732. @eukreign sure, if still relevant . fixed in https://github.com/lbryio/lbryum/pull/114. @zestyr \nI think you should split up the migration into two PRs: the one here (for migrating only the lbrynet data folder), and another in lbryio/lbryum. The migration would have to handle cases where it is canceled midway through or where it otherwise fails, since it could otherwise lead to a lbryum wallet being lost, which would be no good. \n. @kaykurokawa https://travis-ci.org/lbryio/lbry-in-a-box/builds/245614982. Nice, LGTM\nCan you rebase (again) and merge? @kaykurokawa . @kaykurokawa I was starting to write up a brief article on using the daemon from python\nBefore, you'd set up a client like this:\n```\nfrom lbrynet import conf\nfrom lbrynet.lbrynet_daemon.auth.client import LBRYAPIClient\nconf.initialize_settings()\nclient = LBRYAPIClient.get_client()\n```\nThe above was too ugly, IMO. That commit lets you do the same with:\n```\nfrom lbrynet.daemon import get_client\nclient = get_client()\n``\n. LGTM. @hackrush01 Looks good to me. The vin for the rejected txeaeec53dc4bb8984e6f731147930b59bd95f1dc05f02f1c28b7af73915c092cb:0was to the addressbWZQZoaLcfu4CAriT4JhhnBSyh4YtjqrJL, which is one of the addresses affected by https://github.com/lbryio/lbryum-server/issues/36. I need to look at this closer (and the lbryum pr) and test it out. Let's get it on the schedule for next week.. Merged here: https://github.com/lbryio/lbry/commit/15e44b0c9d9e4ad6ce4983ba989a86a05c63062e. LGTM, rebased on master. Can we drop theget_lbrynet_version` function altogether?\nI think it would be better to have the lbrynet_version always be what's in lbrynet.__version__, and check the bundled version against what the version api command returns instead of parsing stderr\nAdditionally, when non-fatal errors like that happen, I think it should really be a log.error or log.warning instead of printing to stdout or stderr.. @eukreign decoding the failing raw transaction shows that it is indeed dust:\nlbrycrd-cli decoderawtransaction 0100000001101a35dbc7c60426bdd20b1863d6eeec23db81ae446e9ba8386c06284f639279000000006a47304402205ed94327a0c35e423f72379e29c2cc9729e7ec2f2acf737271172a7550f9758e022030c0c71b2eefba31e85772a7f7c4f4e94d774fa89584f0ea60f0153c7471ad15012103be327adddbf705c863115dfaad45f3dceab48bccf58406b74a33595695867d0affffffff0100000000000000001976a9144714cf0284d8f2aea1f05cfa55e783493667dd5c88ac00000000\n{\n  \"txid\": \"6a78ecf9cc7ed8ce700075ebc0f6598aec0e3d969703c5d8ec3dbc6d115fb2fc\",\n  \"size\": 192,\n  \"version\": 1,\n  \"locktime\": 0,\n  \"vin\": [\n    {\n      \"txid\": \"7992634f28066c38a89b6e44ae81db23eceed663180bd2bd2604c6c7db351a10\",\n      \"vout\": 0,\n      \"scriptSig\": {\n        \"asm\": \"3045022100dc3fc3d565ef852e94d05f69b852c1d36b1079603a5f42aaff2cae49a08495a402205530fe6170096e7d33ab6e44d88836824bebe787e0780b52c6d0eec3b6de9bef[ALL] 03be327adddbf705c863115dfaad45f3dceab48bccf58406b74a33595695867d0a\",\n        \"hex\": \"483045022100dc3fc3d565ef852e94d05f69b852c1d36b1079603a5f42aaff2cae49a08495a402205530fe6170096e7d33ab6e44d88836824bebe787e0780b52c6d0eec3b6de9bef012103be327adddbf705c863115dfaad45f3dceab48bccf58406b74a33595695867d0a\"\n      },\n      \"sequence\": 4294967295\n    }\n  ],\n  \"vout\": [\n    {\n      \"value\": 0.00000000,\n      \"n\": 0,\n      \"scriptPubKey\": {\n        \"asm\": \"OP_DUP OP_HASH160 81a05dc24d35355bc880ed9998e1cc57e191bca0 OP_EQUALVERIFY OP_CHECKSIG\",\n        \"hex\": \"76a91481a05dc24d35355bc880ed9998e1cc57e191bca088ac\",\n        \"reqSigs\": 1,\n        \"type\": \"pubkeyhash\",\n        \"addresses\": [\n          \"bQYfyRFjJ1xwx3qqtdb9htdHuv45KE8dAT\"\n        ]\n      }\n    }\n  ]\n}. fixed in https://github.com/lbryio/lbryum/pull/157. @kauffj @lyoshenka \n\nuser can be charged for content, even if content download fails. then user gets charged again in the future.\nuser can delete content they paid for, then try to download it again. they will be charged again.\nuser can switch computers\ncontent can change. in this case, user might NOT be charged again?\n\nI think there are three related problems here that are being mashed together:\n1. As a downloader, how do I avoid paying multiple times for the same thing, or paying for something I do not receive?\n\n\nAs a publisher, how do I enforce key payments  by downloaders?\n\n\nAs a host, how do I enforce the data rates that downloaders agreed to pay me?\n\n\nI think this issue is really looking at 1, which does have a simple solution (add the information to the database). However, I think this issue should be looking at 2 and 3, which are much deeper and involve protocol changes.\nA proof of payment is something that can be communicated to and verified by someone else, without trust; so I think 1 should be broken out from the \"proof of payment\" issue and made into a smaller issue of its own.. This will check the OS keychain for a lbryum password if the wallet is encrypted and the pw isn't provided. This means that if a user has an encrypted wallet and they have the password saved to their keychain, the daemon will start right up without blocking on pw entry. If the password isn't in the keychain, daemon startup gets blocked until it has been provided with the wallet_unlock api command.\nThere aren't yet any commands to update an existing wallet encryption pw, remove the pw, or add one to an unencrypted wallet (but the functionality is in lbryum).\n. @akinwale we'll also need to make sure keyring is getting included in the build. A couple questions, otherwise LGTM. @eukreign @alyssaoc closing this issue\nI don't think we need to change defaults, just make them more accessible: https://github.com/lbryio/lbry/issues/1374\nThis will also require the app be updated to provide access to these settings.. LGTM. Fixed in https://github.com/lbryio/lbry/pull/1025. I think we should also break out the return_address parameter, since by default it'll be a source of  address clutter\nOtherwise LGTM. One small thing, otherwise LGTM. I think this is necessary: https://github.com/lbryio/lbry/commit/4e765b265f7e91bc9b48dffbadf07f63ac004af8. @lyoshenka @wallermadev \nThis needs to be in the docstring, these changes in the markdown file will be overwritten the next time mkdocs gets run.. LGTM. A patch release for 0.15.1 (broken latest release) is here\nThe fix on master is here. Thanks, although unfortunately they also changed the response format. Rather than wrestling with this I just dropped the usage of google finance in favor of the lbry.io api. \nHere's the patch for 0.15.2. fixed in https://github.com/lbryio/lbry/pull/1126. Fixed handling cancelled download and availability requests. @mirgee \nhttps://github.com/lbryio/lbryschema/blob/master/docs/schema.md\nhttps://github.com/lbryio/lbryschema/blob/master/docs/signing.md. https://github.com/lbryio/lbryum/pull/156\nFixed in 0.16.1. Yes, this was the same issue as https://github.com/lbryio/lbry/issues/908. Merged #912 here. The DHTHashAnnouncer.ANNOUNCE_CHECK_INTERVAL and DHTHashAnnouncer.CONCURRENT_ANNOUNCERS constants also need to be updated for https://github.com/lbryio/lbry/pull/961. LGTM. LGTM. @alyssaoc :+1:. Fixed in 0.19.0\nWhen a publisher updates their claim the stream and associated metadata update with it - they start with one file and end with one file. When someone who downloaded the previous claim sees the new update they also update the associated metadata, so long as it does not change the stream. An update with a new stream must be downloaded as a second file.. The more I think about it I do think content duration should be checked in lbrynet-daemon, and not in the app. Please update to find the content duration using a python library (lbrynet should not have binary dependancies like ffmpeg), remove unneeded commits, and open a new pr.\nThe tinytag module looks like it would work to read most video metadata.. It appears there is a related uncaught exception:\n2017-10-12 13:52:55,726 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-10-12 13:52:55,727 CRITICAL twisted:154: \nDownloadCanceledError. channel_export(<claim_id>) could return the signing key as PEM encoded text, and channel_import(<claim_id>, <private_key>) could load it into the wallet.\nTo sign and make claims to the channel only the channel private key is needed, the channel claim does not have to be in the wallet.. added in lbryio/lbry#1003. LGTM. Closing this since the merged dht changes better accomplish the goal of making sure all peers in the routing table are reachable and fresh.. fixed in https://github.com/lbryio/lbry/commit/0b771c16ba058d3919b2bac482f4d725473a72fa. @ordex \n\nhow do we currently handle the case of several nodes behind the same NAT?\n\nWith multiple external ports. A \"contact triple\" (a term used in the code in a few places) is a (<node id>, <ip address>, <port>) tuple.. Added https://github.com/lbryio/lbry/commit/e89f3db31bb576dd3915fece38434279c8e2037b\nThis makes sure the result has at most min(count, k) items. Otherwise the length-checking logic could result in extension of the results for both the lower and higher buckets, whether or not enough results had already been found.. @alyssaoc I don't think this can happen now without running a custom dht node, intentionally choosing a LAN address (the upnp changes didn't effect this in either direction). Additionally, blocking or warning on LAN ips would complicate testing.. @alyssaoc no, but I'm not sure that this issue will actually happen anyway. The case that I imagine is broken is where a node is behind multiple layers of UPnP gateways, but that's an edge case probably not worrying about immediately. I'll test if the incoming ip of a node in our lan sending us a store is the external or lan ip when in mht this week.. merged here https://github.com/lbryio/lbry/commit/188822ef201d38b511472d01a1a7e370029e070a. These are two different (although related) bugs\nThe first one was when the ip was incorrectly set to the string Could not determine IP and then this was used to try to announce blobs (the nodes receiving these requests then fail to decode the datagram). This one should be fixed.\nThe second bug is when a field that is not supposed to be blank is blank - ''. I'm not sure where that's coming from. @shyba ran into it recently (is it this the same node as the one sending you those error responses?) Maybe it's a single old node with a bug that's now fixed everywhere else.. The proposed pattern for these commands is claim_renew(outpoint=None, height=None) where either height is given to renew all claims expiring before the given height, or outpoint is given to renew a specific claim.. Additionally, we'll need a new setting in conf.py to support auto-renewal on startup and after (with a looping call). I propose a AUTO_RENEW_CLAIM_HEIGHT_DELTA field with an int value (0 to disable).. @kauffj \nYes, by \"on startup\" I mean start the looping call at that time - it shouldn't block.. merged https://github.com/lbryio/lbry/pull/1009. https://github.com/lbryio/lbry/pull/1019 fixes error responses to follow http://www.jsonrpc.org/specification#error_object\n. Issue moved to lbryio/lbryschema #35 via ZenHub\nAn issue will be re-opened here to add the new commands when the plan is more developed in the lbryschema issue.. I'd prefer this pr to only have upnp changes and not change the dht message format - as that makes merging and deploying it more complicated, and we can't get the benefits of the upnp changes until then. The dht message format changes can go in a separate pr and be merged along with the other breaking dht changes in our next sprint. Then we'll only break the dht once and not multiple times in succession.. We'll get back to this after we release 0.19.0. Closing this for now, can be re-opened if we want to cherry-pick anything out.\n@eukreign is going to be updating miniupnpc to be current when he adds the windows build to travis. Related issues:\nhttps://github.com/lbryio/lbry/issues/1006\nhttps://github.com/lbryio/lbry/issues/1008. >The primary goal should be to have a clear distinction between streams and files. As you can have streams without files.\nhttps://github.com/lbryio/lbry/pull/1025 refactors the stream and file creation process as well as storage in the database to do this. It does not significantly change the confusing inheritance of the lbry file classes, however it does remove redundancy of many associated functions (which are now in lbrynet.core.StreamDescriptor). The lbry file classes should be further refactored later and shouldn't require more database changes, this pr is big enough already.. resolve in lbrynet handles these cases, this error must be in the app handling of the response.. Issue moved to lbryio/lbry-app #841 via ZenHub\n. Issue moved to lbryio/lbry-app #840 via ZenHub\n. @lyoshenka please check out https://github.com/lbryio/lbry/pull/1025/commits/fd0a7c3b387cf8de82cfd3fc22d361d57ab6573c , I rebased in some changes. ~Note that this doesn't redirect calls to the deprecated get_availability to the new stream_availability~, I'll add that. The hash_announcer and peer_protocol_server components can be disabled together or separately. The db refactor should not have affected the speed of publishing substantially. The lag seen here is on the lbryum client <-> server level. . This error isn't happening any more, but the build is still failing (appveyor raised our limit from 1gb to 10): https://ci.appveyor.com/project/LBRY/lbry/build/1.0.3339#L1418. Perhaps you could add a function to the lbryum wallet to return the maximum spendable amount for an update. Something like:\ndef get_maximum_claim_amount(self, claim_id=None):\n    return confirmed_balance + current_claim_amount or 0\nThen have lbrynet publish check that the bid is less than this amount instead of the balance.. These are only needed to run the tests - I don't think they should be added to the module requirements since users of lbrynet do not need them, nor should they be bundled into daemon releases. mock is another testing-only requirement (also shouldn't be in the main requirements.txt).\nIt would be better if the tests were updated to not use unqlite (they should use sqlite3 instead). Since cython is only needed for unqlite it could be dropped as a testing requirement as well.\nIf there are still requirements only needed for testing, it would be better to put them in a separate testing_requirements.txt file.. I haven't tested this yet, but looks great!\n\nThere are some CLI breaking changes there.\n\nCan you expand on this?. This is the current schema for a Source\nmessage Source {\n    enum Version {\n        UNKNOWN_VERSION = 0;\n        _0_0_1 = 1;\n    }\n    required Version version = 1;\n    enum SourceTypes {\n        UNKNOWN_SOURCE_TYPE = 0;\n        lbry_sd_hash = 1;\n    }\n    required SourceTypes sourceType = 2;\n    required bytes source = 3;\n    required string contentType = 4;\n}\nProposed change:\n```\nsyntax = \"proto2\";\nmessage IntegrityCheckpoint {\n    required int64 offset = 1;\n    required int32 length = 2;\n    required bytes checkSum = 3;\n}\nmessage Source {\n    enum Version {\n        UNKNOWN_VERSION = 0;\n        _0_0_1 = 1;\n    }\n    required Version version = 1;\n    enum SourceTypes {\n        UNKNOWN_SOURCE_TYPE = 0;\n        lbry_sd_hash = 1;\n        static_http = 2;\n        dynamic_http = 3;\n    }\n    required SourceTypes sourceType = 2;\n    required bytes source = 3; // a lbry sd hash or a url\n    required string contentType = 4;\n    required int64 contentLength = 5; // the length of the published file in bytes\n    required bytes contentHash = 6; // the hash of the published file\n    optional bytes SSLCertificateFingerprint = 7;\n    repeated IntegrityCheckpoint integrityCheckpoint = 8;\n}\n```\n. fixed in https://github.com/lbryio/lbry/pull/1177. @tzarebczan this should have been fixed by https://github.com/lbryio/lbry/commit/b4b1f1a2c14b88020a694f2ea4f6b5ffdaf9ffc5. Can you post the error? These commands run fine for me with and without kwargs currently, and with this change would raise TypeError: call() got an unexpected keyword argument with the keyword arg. fixed by https://github.com/lbryio/lbry/commit/450bed6350f3d4aab3a49432a59f45f62bad69ec. What's the value being decoded? It's probably not a claim if DecodeError is being raised, more likely an empty string or None.\nAdditionally, a claim that can't be decoded (for example a claim with an empty value) is totally unrelated to it being expired.. The error is fixed in https://github.com/lbryio/lbry/commit/1f1b34863805f4954fbef3f163ef65268a66771a\nxzxzx#34 correctly resolves to \n{\n  \"xzxzx#34\": {\n    \"error\": \"URI lbry://xzxzx#34 cannot be resolved\"\n  }\n}\nWith the given commit mindblown#02da15270141483a76a7b8372d69653b735fb0b9 resolves to\n{\n  \"mindblown#02da15270141483a76a7b8372d69653b735fb0b9\": {\n    \"claim\": {\n      \"address\": \"bSEdnYftD9suojvYkGZseTVMEutjCCg2aD\",\n      \"amount\": 1.0,\n      \"claim_id\": \"02da15270141483a76a7b8372d69653b735fb0b9\",\n      \"claim_sequence\": 1,\n      \"decoded_claim\": false,\n      \"depth\": 353907,\n      \"error\": \"Failed to decode value\",\n      \"height\": 2806,\n      \"hex\": \"7b226465736372697074696f6e223a2022696d706f737369626c65222c20226c6963656e7365223a2022222c2022617574686f72223a2022222c20226c616e6775616765223a20224e6f6e65222c20227469746c65223a2022776f6168222c2022736f7572636573223a207b226c6272795f73645f68617368223a2022663261313064636365646134303830333962633264623135636434343332323130323665656431313339333537383231316636326366663264386264626336303232636335326266353732613837383030343833383037666132336266653135227d2c2022636f6e74656e742d74797065223a2022696d6167652f676966227d\",\n      \"name\": \"mindblown\",\n      \"nout\": 1,\n      \"permanent_url\": \"mindblown#02da15270141483a76a7b8372d69653b735fb0b9\",\n      \"txid\": \"3d4e97fce6b0cd4fe48b1741d04924b3b1edf6ccaa5e3cbaaf4f2e090f1eab23\",\n      \"value\": null\n    }\n  }\n}\nThis is still not correct, as mindblown#02da15270141483a76a7b8372d69653b735fb0b9 is expired. This must be fixed in lbryum server to not return them (lbrycrdd returns {} when looking up the claim by claim id), and should also be checked in lbryum client (by claim depth) . @eukreign @tzarebczan @kafene \nhttps://github.com/lbryio/lbry/issues/1227\nhttps://github.com/lbryio/lbry/issues/1228\n. @orblivion @eukreign \nI ran into this too with trial lbrynet.tests.unit.lbrynet_daemon\nI'm fixing the broken tests on appveyor now, I'll include a fix for this too.. @tzarebczan I added a warning log for if the remote height can't be determined and an error log if fetching from s3 fails.. https://github.com/lbryio/lbry/commit/f42733ecba38cb5d0b9d23a0f4869b125ed0e8b3. @tzarebczan can you try this branch out to be sure the various claim update conditions are shown in file_list?. file_delete stops a download and deletes it and file_set_status can stop/resume a download. This is blocked by the findValue response not including the age or originalPublisherID fields (which are in the node datastore). Adding these fields will be a non backwards compatible change, and possibly should coincide with the introduction of a network version to queries.. @tau3 I think you should be sorting by only one key at a time, and that it should set by a sort_by argument to claim_list_mine (ie claim_list_mine(sort_by='height'). This would allow the user to sort by any of the fields in the claim result. \n*edit: to consistently sort results, sort_by should default to height. lgtm. This error is an actual error and is fixed by https://github.com/lbryio/lbry/commit/e6df378e9e28dff63291f402aa9196dd0ecd5cbf\n2018-06-14 00:55:20,553 ERROR    lbrynet.dht.protocol:436: error handling request for 34.239.118.206:4444 store\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\dht\\protocol.py\", line 432, in _handleRPC\n  File \"site-packages\\lbrynet\\dht\\node.py\", line 521, in store\n  File \"site-packages\\lbrynet\\dht\\node.py\", line 356, in verify_token\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\nThis one isn't really an error, it probably shouldn't be logged as a traceback. This one can happen if you've been an active dht node and you restart and nodes who contacted you before the restart attempt to store to you using the now invalided cached token.\n2018-06-14 00:56:59,221 ERROR    lbrynet.dht.protocol:436: error handling request for 34.239.118.206:4444 store\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\dht\\protocol.py\", line 432, in _handleRPC\n  File \"site-packages\\lbrynet\\dht\\node.py\", line 522, in store\nValueError: Invalid token\n. @tzarebczan is this still an issue on 0.21.2?. https://github.com/lbryio/lbry/pull/1328. As far as I know this doesn't happen on the async branch. https://github.com/lbryio/txupnp. What does this fix?. will redo this. fixed in 0.21.1. fixed in 0.21.1. fixed in 0.21.1. closing in favor of https://github.com/lbryio/lbry/pull/1385. If I publish the pdf (to my channel or not) of The Odyssey, the author is Homer. I think we should keep the field - I'll update the docstring to explain the distinction between usages.. @kauffj https://github.com/lbryio/lbry/pull/1424. stream_availability has been dropped. @eukreign all that's left on this is updating tests.unit.test_daemon.test_Downloader. @daovist ran into this again. Resolving an invalid uri returns an error correctly. However if the uri is valid and the claim is not found an empty {} result is returned.. @eukreign I'm going to merge this since right now this issue breaks first run is broken on master. If we decide to migrate to a single directory that can be added before bumping out of rc. Please rebase to master. The docs files are automatically generated from the docstrings - so they shouldn't have any changes to them directly. Otherwise, looks good to me :+1: . @walidmujahid Upon thinking about it a little more I realized this setting is not redundant. I think it's fine to drop it as a separate setting, but the functionality should be rolled in to the max_key_fee setting (such as disabling by setting it to -1). >I see @jackrobison. I can roll the functionality accordingly. Do you want me to do so and then do the rebase to master?\n@walidmujahid :+1: . It would return no result because of https://github.com/lbryio/lbry/issues/1638\nIt will currently return a minimal result (the amount returned from the first peer with a peer for the hash).  https://github.com/lbryio/lbry/pull/1645 will update the iterative find class to continue traversing the network after it's found a result if so desired. This will allow the peer protocol client to keep trying new peers and without restarting the search from scratch. It will also allow peer_list to return up to an amount (default of k - 8) of fresh results instead of a single or accumulated cached result.. Closed in favor of https://github.com/lbryio/lbry/tree/async-dht\nWill be merged in 0.30.2. fixed in https://github.com/lbryio/lbry/pull/1685. https://github.com/lbryio/lbry/pull/1769. @skhameneh is this the media type? https://www.iana.org/assignments/media-types/application/vnd.unity. @osilkin98 can you rebase/squash this down to one or two commits on top of master?. https://github.com/lbryio/lbry/pull/1810 adds basic reflect-after-publish\nFor known remaining reflector issues there are https://github.com/lbryio/lbry/issues/1811 and https://github.com/lbryio/lbry/issues/1812 - can you open a new PR for one/both of these?. This is where you get a backwards-compatibility error response but after the request has already timed out. reflector uploads after publish is added in https://github.com/lbryio/lbry/pull/1810. covered by https://github.com/lbryio/lbry/issues/1812. @binaryflesh \nJust call reflect_streams and then await asyncio.sleep(300) in a while True.\nreflect_streams must be updated to send streams that are indicated by the list of sd hashes returned by get_streams_to_re_reflect, and upload_to_reflector  needs to save a successful upload to the db so it isn't retried. get_streams_to_re_reflect only returns those that haven't been checked within the past day.. https://github.com/lbryio/lbry/commit/3589cc9977e4229348753e2dd8035d18af928733 and https://github.com/lbryio/lbry/commit/05915c540aace84a6cb5cf43a9264a983862e358 save reflected/not needed streams to the database\nhttps://github.com/lbryio/lbry/commit/262b9a624bf4e0be4f91b117e87f1562cebb5a8e updates file_reflect. https://github.com/lbryio/lbry/pull/1847. @tzarebczan https://github.com/lbryio/lbry/pull/1892 should fix 2. fixed by https://github.com/lbryio/lbry/pull/1965. @alexliebowitz should this be reenabled in the daemon or should the credit request be kept in the ui?\n. missing an 'e'\n. f will be None while the file hasn't been written to yet, which'll throw an exception for f.file_name\n. I was doing str for in the case that someone manually posts a malformed fee, so if the assert errors the error message itself can't error\n. TIL, I thought it had to be in a tuple when there were multiple parameters \n. You can have multiple claims in the same tx. None of the keys are assuredly unique, but the set of all three is.\n. Done\n. Done\n. Yes - lighthouse uses download_descriptor to cache sd blobs, which it then uses to calculate the stream costs. Previously, the daemon would calculate costs after getting the search results, now they're included in those results.\nThe (not very) _clean function was just to map the search return to the keys the ui uses. I think Alex has the UI querying lighthouse directly, and not through the daemon. In any case, when the UI handles the return keys 'cost', 'available', 'value', and 'name' then the _clean function can be deleted.\n. it isn't directly needed, if was while i was figuring out what formats go into _mktx in lbryum for claim id and metadata\n. should this be master? or should that be a separate commit after lbryum gets merged?\n. Can we bump unqlite in requirements.txt up to the current version?\n. the os x imports can be deleted\n. without something to stop the app on reactor shutdown will the app close when you make a stop() api call?\n. is spent is what comes out of lbryum and lbrycrdd for getnameclaims\n. cleaned this up\n. Nothing at the moment. It could give counts for what blobs you've uploaded, and historical blob rates could be used in a price model.\n. Yes, lbrynet.lbrylive has to be updated to use the negotiation system.\n. this branch doesn't have the settings stuff\n. This should probably be conditional onif not os.path.isdir, then an exception will only be raised if something actually goes wrong, which could then be logged.\n. This probably isn't ideal, not sure how to best approach. @jobevers \n. You've probably got to add this to the windows list as well\n. It's because the max key fee gets converted into LBC by the exchange rate manager, and beforehand it gets passed through the Fee validator.  Perhaps the thing to do is refactor the exchange rate conversion in a later pull request to take a currency and an amount rather than a \"real\" fee dict.\n. The startswith was necessary to let the UI work, where the referrer isn't strictly equal to the interface.. These should probably be imported from lbrynet.core.utils for easier testing. this file is fine to delete. nit: part of these didn't get deleted. perhaps this should be a setting. nit: undeleted stuff. nit: a couple more straggler comments. nit: straggler comments. nit: straggler doc string and comments. these should be imported out of lbrynet.core.utils to make testing easier. maybe break this out into a setting?. should be imported out oflbrynet.core.utils. This'll announce it twice: right after _add_completed_blob and with the next tick of DHTHashAnnouncer.run_manage_loop (also after _add_completed_blob is done). Disregard the above, the way you've got it does seem preferable - that way you're not waiting for the next tick of the hash announcer.. Very neat. Just to keep the datetime import in utils.py, no use case intended. yield  LBRYAPIClient.config().stop() . This confused Jeremy earlier today, it's probably worth having configure_ui indicate that it won't cooperate when it wont. might be worth adding in a check to see if there's a process bound to port 5279 too. Setting self._saving_status should probably be in ManagedEncryptedFileDownloader._save_status, that way you don't have to keep track of it manually.. Why the fireOnOneErrback and consumeErrors?. is deferToThread needed?. The addBoth should be (and has been updated to) an addErrback.\n\nIs there a situation in which finished_deferred will fire a successful callback without d having been called?\n\nThere shouldn't be, d being called means request.finish() has been called. It seems like there's a  potential race condition if finished_deferred errbacks though: will d be cancelled before it calls request.finish()? If not, then there will be a RuntimeError instead of a ConnectionLost error. Race conditions aside, this also happens if d can't be successfully cancelled, as is the case with the deferredList returned by Daemon.get_lbry_files - but fixing that can go in a separate pr.. Just because I'm using it in the render methods below it.. Why callFromThread? Can't this just be blockchain_caught_d.callback(True)?. I'll revert that before merging, that's just so others can test it before going live on the production reflector.. -I'll rewrite the documentation - it isn't very clear.\n-I see what you mean about not needing to make a {send_blob: x...} request before sending a blob out of the list populated by the initial needed_blobs response. I'd like to hold off on that for another pr.\n-The requests and responses are json, the file transfer is raw.. Yup, TIL. client queries can be more than 100 bytes,\n{\n     'sd_blob_hash': '48d568facff0400581a1b449b4c624da061d9783063e118764b556c27f99fad3855f74155cf0ff431d3486580e279e13', \n    'sd_blob_size': 2097152\n}\nis 141. I changed it to only retry the upload once if it fails, and to include the traceback in the log. I think this should probably be in the call_later function, so that importing lbrynet.core.utils can't inadvertently configure an unconfigured reactor if it's imported early. if twisted.internet.reactor was imported before:\nhttps://github.com/lbryio/lbry/blob/267c6cbaca739fdce06c51b3251eecb75b9f31f5/packaging/osx/lbry-osx-app/lbrygui/main.py#L3-L3\nI suppose it can't be a problem if we aren't using pyobjc for the app. http://twistedmatrix.com/documents/current/core/howto/choosing-reactor.html. This one still has an upload_allowed in it. ~changed it to raise an exception instead of returning None~. added a load_file_attributes function and removed the start() call. moved into a function and rebased. What's the new origin with electron, and why not update accordingly? If anything I think we should use the file system access in electron to get an authenticated api session for everything the ui does, removing the header check would be a regression on that front.. >I don't think we should delay the electron launch due to that.\nAgreed.\n\nI am not convinced checking headers buys us much in the way of security\n\nIt doesn't, they can be forged, but it does rule out requests that aren't forged. I suppose I think we should change the origin to file://, make note that double clicking a local html file can mess up your day, and start using auth as soon as possible to correct it. In addition to using auth, we should set the api keys to only be readable by the signed app and sudo as to prevent others with access to the file system from getting an authenticated session.. Can you add this to the changelog?. this breaks pip install -r requirements.txt in development setup. Can you read this list out of requirements.txt?. Does electron have an appropriate plist file to support uri handling on os x?. Is uri handling broken on windows?. I just wanna be able to add or remove requirements in one place and not worry about having them sync'ed. this could be a property, maybe rate_is_initialized. \ud83d\udc4d . ManagedEncryptedFileDownloader.status() can take upwards of a second, and if you have many lbry files this substantially slows down an unfiltered file_list. I'll change this to being indexed by outpoint (in a later PR), then each entry in Daemon.streams is unique to a claim - independent of updates.. You can delete _wait_for_credits, it's dead code.. You want to return the outpoint, try:\n```\nabandon_tx = yield self._run_cmd_as_defer_succeed('abandon', claim_outpoint['txid'], claim_outpoint['nout'], broadcast)\noutpoint = yield self._broadcast_claim_transaction(abandon_tx)\ndefer.returnValue(outpoint)\n``\n. nit: line break after (. nit: parenthesis in imports are ugly. neat. Why global, and why in __init__?. Why addBoth?. I think exc_info is necessary to get the real traceback and not a useless trace from twisted internals . Can you remove this kind of whitespace? We typically only split up lines like this if they're longer than 100 characters or if it helps readability.. It's probably worth making a separate function - likelbrynet.core.Wallet.Wallet.get_address_balance- sincelbrynet.core.Wallet.Wallet.get_balance` returns a figure based on the payments queued in lbrynet, which isn't exactly in sync with the live balance from lbryum. It also might be nice to optionally return the unconfirmed balance. \nYou'd make a placeholder function that returns defer.fail(NotImplementedError()) in the Wallet base class, and the real get_address_balance function in the LBRYumWallet class.\nThen, you'd make the the new functionality accessible via the lbrynet api in lbrynet.lbrynet_daemon.Daemon.Daemon.jsonrpc_wallet_balance. Please add new/changed api arguments here, like \"add optional address argument to wallet_balance to check the balance of a given address\". claim id is unique here. it'd only be outpoint if we wanted to cache non-current updates for the same claim.. yup, will change that. done. it's because when pip install git+...'ing, pip only looks at setup.py, so if the thing you're installing also depends on a non-pypy package it needs to be installed first. If it isn't installed first then pip sees it's required but doesn't know where to find it.. actually, since build.sh is just running pip install -r requirements.txt to install lbrynet, the lbryum branch should indeed be specified in requirements.txt. Added UnknownClaimID and UnknownURI exceptions.. yeah, [-f] should be at the beginning.\nBC aside, it's (<uri>) [<uris>...] also so that at least one uri is required. Yes - we should be testing Wallet.resolve in general. This test is just doing get_est_cost, which only does one resolution. was this intentional?. this will block adding the download-finished analytics event callback until after start returns, and the callback can't be added if finished_deferred is None.. can you note this argument name change in the changelog?. I don't think this attribute is necessary. fixed this. Since the results are still paginated, this shouldn't be changed. Why ignore errors? What errors get ignored?. Does this work on windows?. These checks should go in lbryschema, a dictionary containing invalid values passed to ClaimDict.load_dict should throw a DecodeError or an error specific to the field (like UnknownSourceType). I think it's worth making a helper ClaimDict.source_type for this, similar to https://github.com/lbryio/lbryschema/blob/acb05b52f13bd0028c2b2d4d8939fb313c83c079/lbryschema/claim.py#L67. This should use get_content_type(file_path) to pick the contentType . --source=<source>. As indicated in the above comment, this stuff should go in lbryschema. When you move it there the exception you're looking for is https://github.com/lbryio/lbryschema/blob/60ab79474b4e70e13b8b302f91fdfbcd4772f4ab/lbryschema/error.py#L1. I think you should also rename the ClaimDict.source_hash property to ClaimDict.source_value, since with these changes it could be a url and not a BTIH or a SD hash. I think you should keep server_port.stopListening(), maybe in _shutdown instead. Why were these were necessary? Is _shutdown being called more than once?. This can just be return out[:new_conns_needed]\n. Should this be an exception? A warning?. if self.seek_head_blob_first:. if not new_conns_needed:. if not peers:. Should this be if not peers:? When is peers None?. https://github.com/lbryio/lbry/commit/09d336bd0ccd6fd049b38e4deb35c4284492a673. this should be a bool. I don't think this is necessary . You should expand on how these results are formatted, and include the behavior of is_tip depending on the include_tip_info argument.. A @AuthJSONRPCServer.flags(include_tip_info='-t') would be nice here. transaction_list [-t]. -t  : Include claim tip information. Done. Why announce if the blob isn't an sd blob? If the sd blob hasn't completed, then stream hash would be none and the blob would have should_announce as false. If the sd blob had completed, then it and each subsequent stream blob received would have should_announce is true. If that's the desired behavior, then it should probably also go through any data blobs received before the sd blob completed and mark should_announce as true for them too.. It's because a length getter is required rather than the current value.\nhttps://github.com/lbryio/lbry/blob/dcad558259fff5574c361b20ce292da6820f3a32/lbrynet/blob/writer.py#L30. Fixed these: https://github.com/lbryio/lbry/pull/898/commits/6cbe86d0575bf4e8c203d3abf36faf0c7cb9a97e. If the head blob was sent via reflector v1 before the sd blob, then only the sd blob would be announced. If the sd blob was also sent via reflector v1 it wouldn't be announced either, since the response key would be RECEIVED_BLOB.\nThese could be fixed by checking that the sd blob is known by the stream info manager in handle_descriptor_request and by scheduling an immediate_announce callLater for the head blob if it already exists when _on_completed_blob is called for a sd blob.. I think that for the tests you should mock time.time() and use the real _get_blobs_to_announce call, since this function isn't the same as the one that's used for real.. https://github.com/lbryio/lbry/pull/925/files#diff-309f9696e2149ec1146e8674e77e4e49R666. >Was there a reason you changed this?\nIt caused a false positive in the stop condition\n\nshould probably not be possible for them to do now\n\nIt can happen if the daemon gets shut down, which should now be handled by cancel. changed it to this. Since this was the only usage of HashBlobReader, there doesn't need to be a new HashBlobReader_v0 class.. I'd initially fixed it because it was necessary to get testRPCRequestArgs to pass. Since it's not one of the 4 rpc commands in the kademlia spec I removed it and updated the test to use ping.. I just moved it to its own file, I haven't deciphered it myself yet.. Should this errback still be used?. Can you add a TODO to remove _save_wallet from lbrynet? (lbryum should take care of it). you should keep the result here:\nif broadcast and tx['complete']:\n    txid = yield self._broadcast_transaction(tx)\n    tx['txid'] = txid\n. This returns a dict, not a bool.. Why deferToThread?. I think it would be better to pass the read_handle to a FileBodyProducer and call decrypt_bytes on the result of that instead of doing the read() in the decrypt_bytes function. I don't think there should be a bypass_dns parameter since the exception is handled and dns is bypassed if need be regardless . Searching around, this looked promising: https://pypi.python.org/pypi/tinytag/. This is coming from https://github.com/lbryio/lbry/blob/0b771c16ba058d3919b2bac482f4d725473a72fa/lbrynet/dht/node.py#L369\nIs removing the from_peer handling intentional?. Please file an issue for these poorly named fields in lbryum - lbrynet shouldn't have to work around them.. updated the docstring. this will raise a deferred generator error (should be defer.returnValue(None)). This should also check that lbryum is caught up. The attribute should be set here to None just so it's not a new attribute being added later on. This should be non-blocking (otherwise it would block sending the blob_completed response on the file being started). >is this about having lines that are too long?\nright. What abandon information was added? The changelog should tell users of the api what they need to know to utilize the new behavior. * Removed include_tip_info argument from transaction_list, which will now always include tip information.\n. this will throw a deferred generator exception (returning from inlinecallbacks). this should be log.error. i think this would be better in lbrynet.dht.constants. also, why is this necessary?. These should use formatted strings, like claim['permanent_url'] = \"%s#%s\" % (claim['name'], claim['claim_id'). These should really go in lbryum (here for the function that formats the response for getvalueforname (winning resolution) and here for the rest). The channel name can also be included in the permanent url (as requested by @kauffj) in lbryum if the signature is valid.. this is to handle stream terminators, which don't have a blob hash but do have an iv, position, and length.. This would read easier as an inlineCallback, and instead of catching this as an AttributeError you can use something like:\n```\n@defer.inlineCallbacks\ndef _update_balance(self):\n    accounts = None\n    exclude_claimtrietx = True\n    balance = Decimal(0)\n    if self.network and self.network.is_connected():  # See issue: https://github.com/lbryio/lbry/issues/626\n        balance_info = yield self._run_cmd_as_defer_succeed('getbalance', accounts, exclude_claimtrietx)\n        balance = Decimal(balance_info['confirmed']) + Decimal(balance_info.get('unconfirmed', 0.0))\n    else:\n        log.warning(\"lbryum is not connected\")\n    defer.returnValue(balance)\n. What's this for?. I'll add a commit updating the db migrator at the end of the pr. I moved the create tables statement out to a class attribute of `SQLiteStorage` - so the migrator can use it instead of having a  duplicate (which is prone to being out of sync). this should check len(sys.argv) > 2 first in order to return a more meaningful error message (if the conf file wasn't provided) than an `IndexError`. this `if` should be within `if len(argv):` below  since we only check for a `--conf` argument if there are arguments.. instead of adding `initialize_post_conf_load` you can just move these two lines to be below `settings.load_conf_file_settings()`. The reason this is here is because otherwise we have to possibly make a stream before lbryum would tell us something is wrong. Same reason as the other bid check. https://github.com/lbryio/lbry/blob/be57cc199f42c8f12b0d39f2c7eca81c36d1b2c4/lbrynet/core/StreamDescriptor.py#L271. :+1: . It shouldn't - setup for `storage` is just creating the sqlite tables.. done. done. converted these kind of things in the migrator script to use dict comprehensions . done. done. now the formatting is only in `lbrynet/core/StreamDescriptor.py`. I like 120 but don't particularly prefer it to 100.. done. done. removed, I'd added it because I was messing around with a tox configuration . Commands, classes, functions, and argument names should be decorated with code ( ```) tags. In this entry,publishandbid` should be decorated.. >higher than wallet balance\nHow much higher? Could be rephrased: with a bid amount higher than the wallet balance, so long as the amount is less than the wallet balance plus the bid amount of the claim being updated. Please add a matching dummy method in Wallet too. the flags decorator can be removed from AuthJSONRPCServer. please add (or remove) whitespace from these so the colons have matching indent levels (there are a few other instances). here too. inconsistencies in API docstrings. short (single dashed) arguments for lbrynet-cli. the new get_mapped_port doesn't handle there being a redirect for a different address in the lan (it will return None) whereas the old get_free_port keeps going until it finds a port with no redirect or one already for us. This fails with an ambiguous UnknownError if there is an existing redirect for another lan address, whereas addportmapping will raise ConflictInMappingEntry.. It'll raise an attribute error and return it as an error response (which will re-raise the attribute error for the calling client). I rebased this out (since it makes urls containing bad characters), will update the comment. Let's move this out to a decorator. why is this appending to allowed_during_startup?. Instead let's have commands with no required components be allowed during startup. Then we can get rid of this attribute.. call doesn't take variable keyword args: https://github.com/lbryio/lbry/blob/4e7bdafdcfb80419234a5db0dcce12134f015a7b/lbrynet/daemon/auth/client.py#L48. create_session doesn't need to be a function, you can just return self.session.setup() instead of having a callback.. @hackrush01 you can remove this since you've removed the references to Daemon.storage (to use Daemon.session.storage). The pointtrader stuff can be removed. typo - PUBLIC_EXPONENT. This should be logged if got_406. Neat. If reflect_uploads is true, streams made with publish will be uploaded to reflector. If reflect_uploads is true and auto_re_reflect_interval > 0 files in the file manager will be reflected periodically.. I think this whole \ntry:\n    validate\nexcept:\n    delete invalid stream\nblock should be moved to a migration function in lbrynet.database.migrator\nValidation of existing streams should occur just once rather than after each migration. The doc files get built automatically and shouldn't be manually changed (they are generated from the api function docstrings, only these need to be updated for a new change). \"return\" doesn't need code tags. This doesn't need to return, the provided claims list is sorted in place.. Ok, makes sense. This looks like it isn't supported on windows or os x.. This should raise a SyntaxError. This should be an exception type defined in lbrynet.core.Error, like ComponentStartConditionNotMet(\" \".join(component_names))\nThe one bellow can be something like ComponentNotStarted. this can be deleted. this is an invalid node id and will throw an error (when the dht pr is merged). same. If the wallet has not been initialized yet all of these will throw attribute errors. To fix this, reverse the if, ie: local_height = 0 if not has_wallet_with_network else self.session.wallet.network.get_local_height(). What if it has other blobs for other streams? Won't this punish it globally for not having the blobs for this stream?. What if the mirror finishes first? I think this should cancel whichever didn't finish. You could have the start and download calls in a deferred list set to fire on one callback (and cancel the other one after this). constants/settings?. also, why more than one? if it fails, doesn't that mean the blob isn't mirrored (and thus won't succeed)?. If you want the traceback you can do log.exception(\"Mirror failed downloading\"). the logging formatter will include the file and lineno, so [Mirror] isn't necessary . :+1: . Do you mean to consume all errors here? What errors can be raised?\nd = self.semaphore.run(self.download_blob, blob)\nd.addErrback(lambda err: err.check(defer.TimeoutError, defer.CancelledError))\ndl.append(d). what if it's an OP_UPDATE :trollface:. Since the fields are ordered when sd blobs are made this should probably log a warning with the sd hash if the fields in stream_info are not ordered. If it's rare then it could raise an InvalidStreamDescriptorError. Why this?. :+1: . Why this?. why disable this?. why this, and why not the node id bytes?. are socket.errors now OSErrors?. It's confusing that this is the outpoint string - I thought this was the claim id.. please delete Wallet.py if it's not used any more. If reason is None then reason.check will be an attribute error, should be if reason is None or reason.check(error.ConnectionDone):. please delete or update . Previously this was only rb on windows, don't know if it makes a difference. always output 0?. please remove before merge. why this?. also, why sometimes the id and sometimes a sum made from the address? doesn't seem like a good key if it's being used in a dictionary.. Is this needed - aren't these fields converted to a strings first elsewhere?. could use struct.unpack instead. :+1: . self.assertTrue(self.daemon._use_authentication). please delete. can this be moved to the ledger class?. should go in storage.py. if not address:\n    raise NotImplementedError(\"Limiting by address needs to be re-implemented in new wallet.\"). undocumented breaking change (this should be left for later, and when done the old method should still exist and use the deprecated decorator to point to the new method). can this function be removed?. why drop the value checks? they'll raise an error faster without doing as much.. why not verify the addresses before trying anything?. i think this should be done - otherwise we're reintroducing a bug.. please be sure this being removed ends up in the changelog. another silently removed api call. these functions shouldn't be in the daemon class. wallet_balance. wallet_fund. please delete. wallet_max_address_gap. The node id should be random (and is separate from the installation id). this could link to the repo. why the negative form and not just broadcast?. not an inline callback. why rounded?. shouldn't the new wallet handle this? this was originally here because of a lbryum bug. lbc_only? when would it not be lbc?. does this not happen internally?. no, it's required to be a ICredentialsChecker. done. done. This value should be True if the claim has not yet been included in a block. I think there should be some delay here.\nIt seems like this could get into nasty feedback loops where some portion of sent rpc calls keep spinning while others get through with a high enough frequency to keep the contact marked as good.. return set((host, port) for host, port in self.peers[blob_hash] if (host, port) != (my_host, my_port). Why assume we have the blob?. only the peer_list = yield finished_deferred and peers.update have to be in the try/except. Woah (good thing it's not used!). This is what allows rollover to mirror-only if the dht is either skipped or not running.. Neither the PeerFinder or component manager are used by anything in lbrynet.dht. Could you add an example daemon_settings.yml file? This links to conf.py.. @jessopb I added an example config here: https://github.com/lbryio/lbry/blob/master/example_daemon_settings.yml. Whoops, removed/removing these. Will update the analytics calls today and make sure they're doing what they're supposed to. Needs to be finished for blob_get, will do that today. Done. Whoops, this should be with the rest of the logger setup. fixed. fixed this and another typo. why call_soon for this? shouldn't it block?. why get rid of this?. achievement unlocked :fireworks: . good catch. can you type this?. log.debug?. :checkered_flag: . Should break be in this if?. :+1: . ",
    "starrychloe": "According to the screenshot, it doesn't appear to be. This should be automatic for the install anyways. I chose an application and I selected /usr/bin/firefox. That didn't work and just popped up the dialog again. Eventually I was able to select LBRY and I remembered the choice. \n. What's a balance and how do I check it?\n. Notice it doesn't even work for 'what', which I assume is free.\n. Here is a log from starting the daemon. It gives several warnings.\n```\n$ lbrynet-daemon --log-to-console\n/usr/local/lib/python2.7/dist-packages/setuptools-4.0.1-py2.7.egg/pkg_resources.py:1045: UserWarning: /home/joe/.python-eggs is writable by group/others and vulnerable to attack when used with get_resource_filename. Consider a more secure location (set with .set_extraction_path or the PYTHON_EGG_CACHE environment variable).\n:0: UserWarning: You do not have a working installation of the service_identity module: 'No module named service_identity'.  Please install it from https://pypi.python.org/pypi/service_identity and make sure all of its dependencies are satisfied.  Without the service_identity module and a recent enough pyOpenSSL to support it, Twisted can perform only rudimentary TLS client hostname verification.  Many valid certificate/hostname mappings may be rejected.\nINFO:lbrynet.lbrynet_daemon.LBRYDaemonControl:Starting lbrynet-daemon from command line\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Loaded lbrynet-daemon configuration\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Using wallet type lbrycrd specified from command line\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Loaded claim info cache\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Using lbrycrd.conf found at /home/joe/.lbrycrd/lbrycrd.conf\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:31:59.236935] Starting lbrynet-daemon\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:remote lbrynet 0.3.1 > local lbrynet 0.3.1 = False\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:remote lbryum 2.6.0.6 > local lbryum 2.6.0.6 = False\nINFO:lbrynet.lbrynet_daemon.LBRYUIManager:Checking for updates for UI branch: master\nINFO:lbrynet.lbrynet_daemon.LBRYUIManager:UI is up to date\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Platform: {\"ip\": \"208.120.122.29\", \"python_version: \": \"2.7.6\", \"os_system\": \"Linux\", \"lbrynet_version: \": \"0.3.1\", \"os_release\": \"3.13.0-91-generic\", \"platform\": \"Linux-3.13.0-91-generic-x86_64-with-Ubuntu-14.04-trusty\", \"lbryum_version: \": \"2.6.0.6\", \"ui_version\": \"49eaa25423aaaa2ed317d747c152b67608c14183\", \"processor\": \"x86_64\"}\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Loading databases...\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Generated new LBRY ID: 8egG55b9rrxP6EuTmKjVA3CPHjC3Q6Z4S5APKaw4jXLCeZ6FgeynmjECwS6vnVRnNc\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Using lbrycrd wallet\nINFO:lbryalert.lbrynet.core.LBRYWallet:Connecting to lbrycrdd...\nINFO:lbryalert.lbrynet.core.LBRYWallet:Connected to lbrycrdd.\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Starting balance: 0E-8\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): lbry.io\n/usr/local/lib/python2.7/dist-packages/requests-2.10.0-py2.7.egg/requests/packages/urllib3/util/ssl_.py:318: SNIMissingWarning: An HTTPS request has been made, but the SNI (Subject Name Indication) extension to TLS is not available on this platform. This may cause the server to present an incorrect TLS certificate, which can cause validation failures. You can upgrade to a newer version of Python to solve this. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\n  SNIMissingWarning\n/usr/local/lib/python2.7/dist-packages/requests-2.10.0-py2.7.egg/requests/packages/urllib3/util/ssl_.py:122: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. You can upgrade to a newer version of Python to solve this. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:32:14.266474] Started lbrynet-daemon\n```\n. Here is the log from when I reloaded the page http://localhost://5279/?watch=what . It just repeats that it's looking for the file and can't find it, until I killed it.\n```\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:10.793891] daemon status: {'progress': None, 'message': 'Started lbrynet', 'code': 'started', 'is_lagging': None, 'problem_code': None}\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:10.867174] Get version info: {\"lbrynet_version\": \"0.3.1\", \"platform\": \"Linux-3.13.0-91-generic-x86_64-with-Ubuntu-14.04-trusty\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.6.0.6\", \"os_release\": \"3.13.0-91-generic\", \"lbryum_version\": \"2.6.0.6\", \"ui_version\": null, \"remote_lbrynet\": \"0.3.1\"}\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:10.889421] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDownloader:Download lbry://what status changed to downloading_metadata\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:10.895451] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\n...\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:22.839720] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\n^CINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Closing lbrynet session\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Status at time of shutdown: started\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): lbry.io\n/usr/local/lib/python2.7/dist-packages/requests-2.10.0-py2.7.egg/requests/packages/urllib3/util/ssl_.py:122: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. You can upgrade to a newer version of Python to solve this. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:23.647578] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nERROR:lbrynet.core.LBRYWallet:Something went wrong during manage. Error message: Unable to connect to an lbrycrd server. Make sure an lbrycrd server is running and that this application can connect to it.\nERROR:lbrynet.core.LBRYWallet:An error occurred stopping the wallet: Traceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 763, in run\n    self.__target(self.__args, self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/_threads/_threadworker.py\", line 46, in work\n    task()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/_threads/_team.py\", line 190, in doWork\n    task()\n---  ---\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 246, in inContext\n    result = inContext.theWork()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 262, in \n    inContext.theWork = lambda: context.call(ctx, func, *args, kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, args, kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 81, in callWithContext\n    return func(*args,kw)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.1-py2.7.egg/lbrynet/core/LBRYWallet.py\", line 46, in w\n    \"is running and that this application can connect to it.\")\nexceptions.ValueError: Unable to connect to an lbrycrd server. Make sure an lbrycrd server is running and that this application can connect to it.\nINFO:lbryalert.lbrynet.core.LBRYWallet:Stopping lbrycrdd...\nINFO:lbryalert.lbrynet.core.LBRYWallet:Stopped lbrycrdd.\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:23.908526] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:24.166050] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:24.423710] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:24.681781] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:24.940625] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:25.198548] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:25.457072] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:25.715489] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:25.973335] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:26.233827] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\n^CUnhandled Error\nTraceback (most recent call last):\n  File \"/usr/local/bin/lbrynet-daemon\", line 9, in \n    load_entry_point('lbrynet==0.3.1', 'console_scripts', 'lbrynet-daemon')()\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.1-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemonControl.py\", line 113, in start\n    reactor.run()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 1194, in run\n    self.mainLoop()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 1203, in mainLoop\n    self.runUntilCurrent()\n---  ---\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 798, in runUntilCurrent\n    f(a, *kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 581, in stop\n    \"Can't stop reactor that isn't running.\")\ntwisted.internet.error.ReactorNotRunning: Can't stop reactor that isn't running.\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:26.492880] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\n^CUnhandled Error\nTraceback (most recent call last):\n  File \"/usr/local/bin/lbrynet-daemon\", line 9, in \n    load_entry_point('lbrynet==0.3.1', 'console_scripts', 'lbrynet-daemon')()\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.1-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemonControl.py\", line 113, in start\n    reactor.run()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 1194, in run\n    self.mainLoop()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 1203, in mainLoop\n    self.runUntilCurrent()\n---  ---\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 798, in runUntilCurrent\n    f(a, *kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.2.0-py2.7-linux-x86_64.egg/twisted/internet/base.py\", line 581, in stop\n    \"Can't stop reactor that isn't running.\")\ntwisted.internet.error.ReactorNotRunning: Can't stop reactor that isn't running.\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:26.749774] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:27.007572] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:27.265659] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:[2016-07-05 12:38:27.523899] Returning cached stream info for lbry://what\nINFO:lbrynet.lbrynet_daemon.LBRYDaemon:Did not find LBRY file for name: what\n```\n. ",
    "bmoconno": "I think you got autocorrected to \"lbrycard\" when talking about creating the directory and file, it's a good typo though... because you need a Library Card to check anything out at the local Library.\n. ",
    "viktorbengtsson": "Thanks. Fixed typo.\n. ",
    "filipnyquist": "@starrychloe: about your problem with the gui not showing up, install the python-tk package from apt-get like this sudo apt-get install python-tk\n. @ELM4Ever Forwarded to dev team, can also confirm this works \n. This is quite a game breaking bug for people that already have the app installed. Otherwise it seems good.. That sounds like a good idea, waiting on some input from the core team :). The standard for most crypto project is what Kay describes! (For every crypto I've tried). And it's being worked on aswell :). Great comment, well written! @jackrobison and @kauffj prob should comment on this, i think we should keep the blob size small so we easily can get from multiple peers faster ( just my own thought ). Looks nice!\nSent from my OnePlus ONEPLUS A5000 using FastHub. ",
    "ELM4Ever": "Any update?   I see this a major impediment for the future media providers - free downloads... \n. Thanks for the prompt response tombrandi2:\nDepending on who is talking about LBRY, it is in Alpha for some, Beta for others.  Regardless, this is why I provided my comment on Github and Slack (and nowhere else).  \nHowever, this is major... travel back to 2010 with loss of wallet founds... \nI wouldn't be so nervous if the LBRY team had addressed my other comment dating back to July 5th (issue #59), which is still not fixed !\n. ",
    "kimihiro64": "Tracking this through the code, it looks like once the queued payments are removed to be sent over to rpc sendmany, we lose all record of the transaction. If any of the payments fail, like on RPC_WALLET_UNLOCK_NEEDED, we throw that error, but as I far as I can see, there's no way we handle a failed payment or retry. Is the solution to keep all queued payments stored on client after they've been sent, only removing after we get a successful response? And should we be holding up any downloading of the file until after we get the successful response, or are we assuming it's eventually going to succeed?\n. There we go.\n. I figured since we only have a small handful of files at the moment, it would be easy to manually update them to use content_type. The ['content-type'] does work, although I'd prefer we change it at some point. At the very least, use _ instead of - for any new properties?\n. This issue was fixed today. The new version does not use lbrycrd-cli, it uses lbryum, so use lbrynet-cli. Although I don't think it supports accounts (they are likely to be deprecated even in bitcoind and lbrycrd soon).\n. satan@satan-Aspire-V5-591G:~/Downloads/LBRY Daemon$ ./lbrynet-cli claim_list_mine\nWARNING:lbrynet.conf:Ignoring invalid conf file setting: wallet_type\nWARNING:lbrynet.conf:Ignoring invalid conf file setting: requested_first_run_credits\nWARNING:lbrynet.conf:Ignoring invalid conf file setting: start_lbrycrdd\n[]\nNow I can't even get the claim id >.>. Original install was one of the first alpha clients. But the claim issue must've happened somewhere around 0.6 or 0.5, I /think/ the transaction happened on the newer lbryum wallet.. Address that holds the claim: https://explorer.lbry.io/#!/address/bPLRZUG7Kodc4aqeAkcF2gJL1WGDFRepKj\nTransaction ID: https://explorer.lbry.io/#!/transaction/5ecc82698582e10e2f0f6346c5aabafe26d24d5aebd529daf31e13256355b2a1\nClaim ID: c0de6d96466986e5a1b6d3c1c52c6712d1f12049\nBut when I try to abandon, says claim not found. Likewise claim_list_mine returns empty. That address is in my wallet though. Issue is likely somewhere in here:\nhttps://github.com/lbryio/lbryum/blob/ce78bbec809f9fe866c2eae3d3d024ae75e22d2d/lib/wallet.py#L1000\nPossibly https://github.com/lbryio/lbryum/blob/ce78bbec809f9fe866c2eae3d3d024ae75e22d2d/lib/wallet.py#L1018. It looks like the bug is caused by the fact that the claim was stored incorrectly. When I filter get_name_claims to only look for address bPLRZUG7Kodc4aqeAkcF2gJL1WGDFRepKj, it has no txos or txis returned from self.get_addr_io(addr).. self.txo.get(tx_hash, {}) for tx_hash 5ecc82698582e10e2f0f6346c5aabafe26d24d5aebd529daf31e13256355b2a1 returns only {u'bTxsfS8mucMEGmZVHcequTp861XnaEbtit': [[0, 947200, False]]}. In other words, the actual address with the claim amount bPLRZUG7Kodc4aqeAkcF2gJL1WGDFRepKj was not listed as an output, even though its own history is tied to that tx_hash. It would seem my 1510 literally fell off the block chain.\n. No, not fully resolved. I'm not really sure how to solve this honestly. I can try and fake the output to get it to try and recognize it was my claim, but not sure if the rest of the clients will accept that as a valid transaction.. I hacked the code many, many times to force it to submit the abandon claim with (I hope) valid attributes, but it came back with this:\n{\n    \"reason\": \"error: The transaction was rejected by network rules.(16: bad-txns-in-belowout)\\n[0100000001a1b2556325131ef3da29d5eb5a4dd226febaaac546630f2f0ee182856982cc5e000000006b483045022100d73b35164e507077f9fe73c6825ab4055408f8e8c299e26362908efa028d5be402202df93d853ef0a6e0d74678b33ce71a980c813866df2e0f95fa7aa55029e2b25f012102eb62aa43876729c4562a52b216898ab8b830c76c225f6472e1d88acdc64afa3cffffffff0100264d28230000001976a914b209da1919749a8710025311acea9b7cec12ba0b88ac00000000]\", \n    \"success\": false\n}\n. Was able to successfully abandon the transaction. Part of the bug was that the output address did not get stored in the 'txo' section of the wallet (I fixed this manually). The other part was that the nOut for this claim is 1, when lbry assumes nOut of 0 for claims. In this case nOut = 0 was the transaction fee, so I had to allow it in the code to use 0 in order to pass the sanity checks, and then change it back to 1 when signing the transaction so it would use the right input. The bad-txns-in-belowout error from network was because the transaction fee address nOut = 0 obviously didn't have enough to cover the abandon.. ",
    "sonatagreen": "Does this only download the encrypted data, or does it also unlock the decryption key? If the latter, there's something wrong on the seller side, not just the client.\n. ",
    "hdost": "Is this still a bug? . ",
    "eshriek": "I set up Ubuntu 16.04 as a VM, updated, then tried the following:\n$sudo apt-get install libgmp3-dev build-essential python2.7 python2.7-dev python-pip\n$git clone https://github.com/lbryio/lbry.git\n$cd lbry\n$sudo python setup.py install\n$lbrynet-daemon\nStarting lbrynet-daemon from command line\nTo view activity, view the log file here: /home/lbry/.lbrynet/lbrynet.log\nWeb UI is available at http://localhost:5279\nJSONRPC API is available at http://localhost:5279/lbryapi\nTo quit press ctrl-c or call 'stop' via the API\nTraceback (most recent call last):\n  File \"/usr/local/bin/lbrynet-daemon\", line 9, in \n    load_entry_point('lbrynet==0.3.4', 'console_scripts', 'lbrynet-daemon')()\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemonControl.py\", line 108, in start\n    branch_specified=True if args.branch else False)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemonServer.py\", line 192, in start\n    d = self._setup_server(wallet)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemonServer.py\", line 186, in _setup_server\n    self._api = LBRYDaemon(self.root, wallet_type=\"lbrycrd\")\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/lbrynet_daemon/LBRYDaemon.py\", line 356, in init\n    with open(self.lbrycrd_conf, 'w') as f:\nIOError: [Errno 2] No such file or directory: '/home/lbry/.lbrycrd/lbrycrd.conf'\n...\n$ cat lbrynet.log\nStarting lbrynet-daemon from command line\nWriting default settings : {\"cache_time\": 3600, \"download_directory\": \"/home/lbry/Downloads\", \"data_rate\": 0.005, \"delete_blobs_on_remove\": true, \"wallet_type\": \"lbrycrd\", \"max_upload\": 0.0, \"last_version\": {\"lbryum\": \"2.6.0.6\", \"lbrynet\": \"0.3.4\"}, \"upload_log\": true, \"run_on_startup\": false, \"startup_scripts\": [], \"max_search_results\": 25, \"download_timeout\": 30, \"max_download\": 0.0, \"requested_first_run_credits\": false, \"dht_node_port\": 4444, \"max_key_fee\": 100.0, \"search_timeout\": 3.0, \"peer_port\": 3333, \"use_upnp\": true, \"start_lbrycrdd\": true} --> /home/lbry/.lbrynet/daemon_settings.json\nUsing wallet type lbrycrd specified from command line\nNo lbrycrd.conf found at /home/lbry/.lbrycrd/lbrycrd.conf. Generating now...\n//The file does not generate. Manually added lbrycrd.conf with rpc user name and password specified in file.\nThen tried:\n$ lbrynet-daemon\nStarting lbrynet-daemon from command line\nTo view activity, view the log file here: /home/lbry/.lbrynet/lbrynet.log\nWeb UI is available at http://localhost:5279\nJSONRPC API is available at http://localhost:5279/lbryapi\nTo quit press ctrl-c or call 'stop' via the API\nUnhandled error in Deferred:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\n    self.__target(_self.__args, _self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/_threads/_threadworker.py\", line 46, in work\n    task()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/_threads/_team.py\", line 190, in doWork\n    task()\n---  ---\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 246, in inContext\n    result = inContext.theWork()\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 262, in \n    inContext.theWork = lambda: context.call(ctx, func, _args, _kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 118, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, _args, kw)\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.3.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 81, in callWithContext\n    return func(_args,kw)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/core/LBRYWallet.py\", line 625, in _make_connection\n    self._start_daemon()\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.3.4-py2.7.egg/lbrynet/core/LBRYWallet.py\", line 756, in _start_daemon\n    raise ValueError(\"Couldn't launch lbrycrdd. Tried %s\" % self.lbrycrdd_path)\nexceptions.ValueError: Couldn't launch lbrycrdd. Tried ./lbrycrdd\n. No problems at all with 0.3.5 install from deb file. Thanks! Looking forward to more updates.\n. ",
    "kaykurokawa": "I'm closing this and moving it to https://github.com/lbryio/lbrycrd/issues\n. what's the format of the video file?\n. Was able to test this with lbryum and balance gets updated correctly when you make a claim ,\nFrom a UX viewpoint ( lbry-web-ui ), there is no way to know how much you spent in claims however.\n. This install instruction seems to be out of date for ubuntu, https://github.com/lbryio/lbry/blob/master/INSTALL.md \nits missing some dependencies that's present in https://github.com/lbryio/lbry/blob/master/packaging/ubuntu/ubuntu_package_setup.sh\n. Work in progress on https://github.com/lbryio/lbry/pull/212\n. With https://github.com/lbryio/lbryum/pull/46 \nWe should do \necho '{\"chain\":\"regtest\", \"default_servers\": {\"localhost\": {\"t\": \"50001\"}}}' > ~/lbryum_dev/config\nassuming we want to run in regtest mode \n. I will review this \n. Closing this and will open a new one after rebasing\n. During migration, n should be filled in as -1 and correct value should be percolated during run \n. changing -1 to constant UNSET_NOUT declared in migrate1to2 as per jobever's comments\n. Closing this and will open a new pull request after some rebasing \n. Will review , test and merge \n. I won't have time to work on this for next cycle. This also requires integration on the daemon and UI side for encryption to work ( although merging it in will not break anything ) . Closing this as some upcoming changes to the wallet will mean that this will need to be rewritten. . Closing as this seems solved . Closing as I actually misdiagnosed the issue. Claims were broken for any name that had a previously owned claim, and needed to update instead of make a new claim (invalid metadata or not)\nhttps://github.com/lbryio/lbry/pull/229\n. Fixes as per comments. \n. Made changes based on job's review. Only thing I did not do is make a new data structure to represent txid + nout as that is going to take a bit of time ( will try to do either by end of this week or for next release cycle). \nFound some bugs, and fixed it. \nReverted jack's changes to _ResolveNameHelper as it does not seem relevant to this patch.\n. Rebased to master \n. https://github.com/lbryio/lbry/pull/256 should be merged to master first , and this pull request rebased\n. Since this didn't make it into this week's release cycle, I can make ClaimLocation/Outpoint data structure part of this PR\n. I finished the ClaimOutpoint data structure. I'm rebasing to master now and testing, will be ready to review by end of today.\n. Finished adding the ClaimOutpoint data structure, which is used internally in the Wallet class as a way to encapsulate txid and nout.\nNeeds final review for merging. . Rebased to master and squashed to a single commit. \nMerging to master. . Looks good to merge\n. Would you mind sending us your log file located at ~/.lbrynet/lbrynet.log to kay@lbry.io ?\nMy suspicion is that the balance is stuck as reserved for some reason. \n. No, it looks like your wallet is connected loading fine. \nHave you made any publishes ? Amounts used for publishing are not included in balance \nYou can check this by running \"lbrynet-cli get_name_claims\"  \nYou can also install and run lbryum directly https://github.com/lbryio/lbryum without lbry , which should give you the correct balance. \n. Logs will appear as below \n2016-11-07 10:45:54,450 INFO     lbrynet.lbrynet_daemon.ExchangeRateManager:137: Starting exchange rate manager\n2016-11-07 10:45:55,109 INFO     lbrynet.lbrynet_daemon.UIManager:80: Checking for updates for UI branch: master\n2016-11-07 10:45:55,501 INFO     lbrynet.lbrynet_daemon.UIManager:100: UI is up to date\n2016-11-07 10:45:55,686 INFO     lbrynet.lbrynet_daemon.Daemon:435: Platform: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"python_version\": \"2.7.12\", \"os_release\": \"4.4.0-45-generic\", \"ip\": \"38.98.224.98\", \"lbryum_version\": \"2.7.1\", \"ui_version\": \"1e055ea59fba62221fda83b7a9a3eb14f204c538\", \"processor\": \"x86_64\"}\n2016-11-07 10:45:55,704 INFO     lbrynet.lbrynet_daemon.Daemon:704: Loading databases...\n2016-11-07 10:45:55,715 INFO     lbrynet.lbrynet_daemon.Daemon:751: LBRY ID: 1JxcxuxJ2AHafyECb9RDAC7zMtCfwF1wddQ9YAFzJ5qM3o1dcrthznKB6m5z4p7nW\n2016-11-07 10:45:55,717 INFO     lbrynet.lbrynet_daemon.Daemon:445: Loaded claim info cache\n2016-11-07 10:45:55,719 INFO     lbrynet.lbrynet_daemon.Daemon:812: Using lbryum wallet\n2016-11-07 10:45:59,740 INFO     lbrynet.core.BlobManager:95: Setting up the DiskBlobManager. blob_dir: /home/treantprotector/.lbrynet/blobfiles, db_file: /home/treantprotector/.lbrynet/blobs.db\n2016-11-07 10:46:05,786 INFO     lbryalert.lbrynet.core.Wallet:1141: Loading the wallet...\n2016-11-07 10:48:13,191 ERROR    lbrynet.core.Session:308: Traceback (most recent call last):\nFailure: twisted.internet.defer.FirstError: FirstError[#1, [Failure instance: Traceback (failure with no frames): : Failed to connect to network.\n]]\n2016-11-07 10:48:13,217 INFO     lbrynet.lbrynet_daemon.Daemon:355: Starting balance: 0\n2016-11-07 10:48:13,659 INFO     lbrynet.lbrynet_daemon.Daemon:369: Started lbrynet-daemon\n2016-11-07 10:48:13,660 INFO     lbrynet.lbrynet_daemon.DaemonControl:159: Using non-authenticated API\n2016-11-07 10:48:35,574 INFO     lbrynet.lbrynet_daemon.Daemon:1225: Get version info: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.7.1\", \"os_release\": \"4.4.0-45-generic\", \"lbryum_version\": \"2.7.1\", \"ui_version\": null, \"lbrynet_update_available\": false, \"remote_lbrynet\": \"0.7.5\", \"lbryum_update_available\": false}\n2016-11-07 10:48:35,612 INFO     lbrynet.lbrynet_daemon.Daemon:1318: Get balance\n2016-11-07 10:48:35,615 INFO     lbrynet.lbrynet_daemon.Daemon:1175: Get startup notice\n2016-11-07 10:48:37,403 INFO     lbrynet.lbrynet_daemon.Daemon:1225: Get version info: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.7.1\", \"os_release\": \"4.4.0-45-generic\", \"lbryum_version\": \"2.7.1\", \"ui_version\": null, \"lbrynet_update_available\": false, \"remote_lbrynet\": \"0.7.5\", \"lbryum_update_available\": false}\n2016-11-07 10:48:37,431 INFO     lbrynet.lbrynet_daemon.Daemon:1318: Get balance\n2016-11-07 10:48:37,434 INFO     lbrynet.lbrynet_daemon.Daemon:1175: Get startup notice\n2016-11-07 10:48:39,484 INFO     lbrynet.lbrynet_daemon.Daemon:1225: Get version info: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.7.1\", \"os_release\": \"4.4.0-45-generic\", \"lbryum_version\": \"2.7.1\", \"ui_version\": null, \"lbrynet_update_available\": false, \"remote_lbrynet\": \"0.7.5\", \"lbryum_update_available\": false}\n2016-11-07 10:48:39,537 INFO     lbrynet.lbrynet_daemon.Daemon:1318: Get balance\n2016-11-07 10:48:39,540 INFO     lbrynet.lbrynet_daemon.Daemon:1175: Get startup notice\n2016-11-07 10:48:40,577 INFO     lbrynet.lbrynet_daemon.Daemon:1225: Get version info: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.7.1\", \"os_release\": \"4.4.0-45-generic\", \"lbryum_version\": \"2.7.1\", \"ui_version\": null, \"lbrynet_update_available\": false, \"remote_lbrynet\": \"0.7.5\", \"lbryum_update_available\": false}\n2016-11-07 10:48:40,605 INFO     lbrynet.lbrynet_daemon.Daemon:1318: Get balance\n2016-11-07 10:48:40,607 INFO     lbrynet.lbrynet_daemon.Daemon:1175: Get startup notice\n2016-11-07 10:48:41,925 INFO     lbrynet.lbrynet_daemon.Daemon:1225: Get version info: {\"lbrynet_version\": \"0.7.5\", \"platform\": \"Linux-4.4.0-45-generic-x86_64-with-Ubuntu-16.04-xenial\", \"os_system\": \"Linux\", \"remote_lbryum\": \"2.7.1\", \"os_release\": \"4.4.0-45-generic\", \"lbryum_version\": \"2.7.1\", \"ui_version\": null, \"lbrynet_update_available\": false, \"remote_lbrynet\": \"0.7.5\", \"lbryum_update_available\": false}\n2016-11-07 10:48:41,942 INFO     lbrynet.lbrynet_daemon.Daemon:2522: Resolving stream info for lbry://tttt\nUnhandled error in Deferred:\nTraceback (most recent call last):\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/twisted/internet/base.py\", line 1203, in mainLoop\n    self.runUntilCurrent()\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/twisted/internet/base.py\", line 798, in runUntilCurrent\n    f(_a, _kw)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 393, in callback\n    self._startRunCallbacks(result)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 501, in _startRunCallbacks\n    self._runCallbacks()\n---  ---\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 588, in _runCallbacks\n    current.result = callback(current.result, _args, _kw)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/lbrynet/lbrynet_daemon/Daemon.py\", line 2679, in _add_metadata\n    d = self.daemon._resolve_name(lbry_file.uri)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/lbrynet/lbrynet_daemon/Daemon.py\", line 933, in _resolve_name\n    return helper.get_deferred()\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/lbrynet/lbrynet_daemon/Daemon.py\", line 2523, in get_deferred\n    d = self.wallet.get_stream_info_for_name(self.name)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/lbrynet/core/Wallet.py\", line 307, in get_stream_info_for_name\n    d = self._get_value_for_name(name)\n  File \"/usr/share/python/lbrynet/local/lib/python2.7/site-packages/lbrynet/core/Wallet.py\", line 1389, in _get_value_for_name\n    func = getattr(self.cmd_runner, cmd.name)\nexceptions.AttributeError: 'NoneType' object has no attribute 'getvalueforname'\n2016-11-07 10:48:41,950 INFO     lbrynet.lbrynet_daemon.Daemon:1318: Get balance\nUnhandled error in Deferred:\n. https://github.com/lbryio/lbry/commit/a5c25ff8873e1e6f5dc875d3f9670276245d9ee6\nThis patch forces lbrynet to not open if lbryum fails to connect to network . Fixed comma spacing and rebased \n. I'm also putting in here the fix for get_my_claim included in https://github.com/lbryio/lbry/pull/245 which properly excludes supports from get_my_claim\n. Ah, that has a spelling mistake, should be auto_connect instead of auto-connect. Will close and make new pull request that fixes that mistake.\n. You have to install lbryum \nhttps://github.com/lbryio/lbryum \nSeems like this doc https://github.com/lbryio/lbry/blob/master/INSTALL.md is missing that part of the instruction. \n. lbrycrdd is a full node for the lbry cryptocurrency network\nlbrynet-daemon is an interface to the lbry cryptocurrency network, and contains the lbry Distributed hash table network \nClosing this as this is not an issue related to the software, but if you have any more questions join our slack at lbry.slack.com or email me at kay@lbry.io . lgtm. I think someone can answer 3/4/5 better but for the other questions: \n\n\nYou need to move folders ~/.lbrynet and ~/.lbryum , the ~/.lbryum folder contains the wallet file\n\n\nYou need the wallet to download blobs, but after finishing the download, they are not dependent on each other. When you refer to the size of your wallet, are you referring to the contents of ~/.lbryum/wallets ?\n\n\n6.\nUnfortunately there is no way to do this through the current lbrynet inteface, but you can do it by using lbryum. https://github.com/lbryio/lbryum/\nIf you want to start a completely new wallet, and keep your claim , you will need to update the claims on your old wallet through lbryum using the command \"update\". The \"update\" command has a variable called \"claim_addr\" which allows you to transfer ownership of the claim to an address on your new wallet (see below link) \nhttps://github.com/lbryio/lbryum/blob/master/lib/commands.py#L881\n. changed to raise Exception(msg) , rebased and merging. Error originates here :\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/lbryfilemanager/EncryptedFileDownloader.py#L48\nself.wallet.get_claim_metadata_for_sd_hash(self.sd_hash) is returning None for some sd hashes\nThis can happen if during publishing, Wallet.claim_name fails to succeed for whatever reason. This will add the sd hash to lbry file manager but it will not add the claim metadata in the wallet class. . Discussion with Jack: EncryptedFiledDownloader should ideally be decoupled from wallet class , status of claims should not be relevant to decision making of this class. . will do this under new file test/unit/core/unit_Wallet.py. are you running the latest 0.7.8 release ( https://github.com/lbryio/lbry/releases )? what OS are you on? . This will need to be redone since https://github.com/lbryio/lbry/pull/331 changes a lot of the wallet code. Closing as replaced by new pull request. As per comments, moved around arguments in assertEqual, and use assertFailure instead of custom exception checking function.. Closing as this was merged with https://github.com/lbryio/lbry/pull/339/. I see, I think here , it is better to use get_balance() as the wallet_balance might be stale.  . that seems to the most correct way of doing it.. \noverall the interface to getting balance needs to be less confusing, which i think is the root of the problem here.  \nand there seems to be some race conditions in the way wallet_balance is handled . Closing this as jack has a different solution on master, and also this will be reworked. rebased to master and fixed the broadcast_transaction bug . first part is fixed, second part is a new issue. Related issue https://github.com/lbryio/lbry-web-ui/issues/110. rebasing to master to fix travis failing. I can look at this one , since jack seems to have a lot assigned to him. the test is failing because it is setting up the query_handlers differently https://github.com/lbryio/lbry/blob/81187da5b7a6707c17a55f4dd736c3b75bcfab2d/tests/functional/test_misc.py#L149 from how the daemon sets it up. since this is a fix on jack's pull request, he should first decide on what to do here, whether to keep the old way for setting up the query handlers or not. . tested and works LGTM. From what I googled EWOULDBLOCK most likely means that the send buffer is full so it seems like turning down the chattiness of the DHT should make the '[Errno 11] Resource temporarily unavailable' error go away? \nWould turning down any of the variables in https://github.com/lbryio/lbry/blob/master/lbrynet/dht/constants.py fix it? . added pylint fixes, will rebase once passed. Will look into what's the best way to do this async. rebase pylint fixes into single commit. claim id and fee output in publish command is not used in the web_ui or anywhere else in lbrynet . instead of trapping urllib2.HTTPError you probably wanna trap requests.exception.RequestException http://docs.python-requests.org/en/master/_modules/requests/exceptions/ which should cover all the possible exceptions that can be raised from using requests.get. Fixed spacing and made update_balance into an inlinecallback (they are nice, did not know about them). \nNot sure how to rewrite the tests with them though, that will be on a separate pull request. . Rebased to master and squashed \nget_transaction should not have been remove as it is used in a daemon command. its a string. Should be converted to decimal, but I'm looking right now if that's going to cause problem with the Daemon output. \nI don't really like these string formating methods, why don't we just use '{} {}'.format(var,var) . I looked through the Daemon, and since it expects outputs from the wallet to be in float most every where else, I converted occurrences of claim_out['fee'] to be in float, instead of having the log message do the conversion. \nThe daemon and wallet will need to be changed to work with Decimal instead of float, but that can be changed in a seperate pull request. . What release is this? 8.0?\n. temporary fixed with https://github.com/lbryio/lbry/pull/427. There seems to be two separate issues : \n1) Publishing command seems to hang \n2) If there is any unhanded exception raised in any of the daemon commands,  nothing is sent to lbrynet-cli and thus lbrynet-cli will wait forever for a response it will never get . So what to do here? Maybe we need a wrapper function that will add an errback to return some error message back to the cli? . 1) was due to reflector being down \nClosing this to start two new issues, one for the fact that the daemon swallows exceptions without giving feedback to cli, and another for the fact that publishing hangs forever if reflector is down. rebased to a single commit. oops didnt mean to delete that part will fix and rebase. Fixed ports to 3333\nOnly add reflector nodes as they contain most of the blob files, adding other servers might make downloads longer as it has to look through all of them. \nAdding default blob peers needed to be done through the PeerManager, and make sure we don't add the same peer twice using a PeerSet class, the PeerSet class will also be useful in other places such as the ConnectionManager class.. closing, as this won't be necessary for now. . each blob takes less than 1 second to announce, somewhere  around .2 to .7 seconds . I think you are right, it should announce eventually, \nIts still a problem though because the queue will keep getting bigger without being cleared causing a memory leak. . I think we can roll this out on a reflector branch instead of master for debugging purpose.. https://github.com/lbryio/lbry/pull/465 will be a temporary fix for the same problem\nThis pull request, once worked on will be a superior fix but not high priority right now.. There is no easy way to do this, but there is a rather complicated way to do so through Lbryum using the \"update\" command in the console ( https://github.com/lbryio/lbryum/blob/master/lib/commands.py#L947 )\nThe \"update\" command allows you to specify an optional \"claim_addr\" argument, which is where the new updated claim gets sent to. Thus, you can run the update command on your old wallet and obtain an address from your new wallet and specify that as the \"claim_addr\".\n. rebased to master, removing str() from logging functions . Closing as get_lbry_files has been refactored and deprecated . The script requires this patch https://github.com/lbryio/lbry/pull/489 to work . https://github.com/lbryio/lbry/pull/458  fixes 1)  . https://github.com/lbryio/lbry/pull/497 fixes 5). https://github.com/lbryio/lbry/pull/565 fixes 3 . What was the point of using alert.info instead of log.info before ? . I think this code needs to take into account that remote block height could be lower than the local height (if you connect to an up to date server, disconnect, and than connect to a server that's behind).I think it would be better if the lbryum get_blocks_behind function could return a negative number instead of None so we can tell how far behind the  remote is. \nFrom the lbrynet side, not sure what would be good to do, as getvalueforname command would fail if local is ahead of remote . We could either wait for remote to catchup , fail immediately, or ignore and keep going. We should definitely at the very least log it as a log.warn so we can diagnose the issue if it happens.. I think the is_lagging code that was removed in this patch was supposed to address some of that problem, I think jack wrote that part so he could comment on how frequently and when that was occurring.. a)Wallet class member variable \"is_lagging\" can be removed\nb)Also same question as jack regarding callFromThread , \nother than that looks good to merge \nFuture fixes needed:\nlbryum commands that will fail if the remote is lagging , such as getvalueforname, should detect if it \"is_lagging\" before hand and throw exception \nthere probably needs to be a way for lbrynet to be aware that it is stuck at a state where it is behind or ahead of remote server because startup will just get stuck without any feedback. \n. Ok, new patch here based on your review, here is summary of the changes. \nOriginal Connection Manager, had no deferred that fired when connection was completed - \n    a) so there was no way to write a test in trial to check the state of connection after a finished connection\n    b) this also meant that ClientProtocol had to be resposible for calling ConnectionManager.protocol_disconnect() when connection was finished ,  this is bad because ClientProtocol, which represents a single connection to a peer, should not need to know anything about ConnectionManager. We should be able to setup a ClientProtocol instance without setting up a ConnectionManager. In this current patch, now that we have this deferred in ClientProtocolFactory, ConnectionManager can attach a callback to it that cleans itself up after the connection has finished, and ClientProtocol does not need to call ConnectionManager.protocol_disconnect(). protocol_disconnect() has also been renamed to peer_disconnect(). \nSo with previous patch, I fired the deferred callback when connection was made and completed, and fired the errback when connection failed. But now in this current patch, I will fire the deferred callback with return value True when connection was made and completed, and fire the deferred callback with return value False wen connection failed. This makes it easier to unit test the connection. \nThe previous patch I made returned the deferred in the manage() function , but this was not necessary, and not correct as it was preventing parallel connections. The current patch, the deferred is not returned but stored in the ClientProtocolFactory, for unit testing we can acces this deferred through ConnectionManager._peer_connection[PEER].factory  \nThe manage loop should do the below in order. \na) pick and find best peer to connect to \nb) setup the connection, but do not wait for the connection \nc) schedule the next manage call\nThe previous patch I made did c) without waiting for a) and b) so this was wrong. This new patch should fix this and I added a test to check to see that the manage() loop does what I described above. \nAlso added a test to check to see that the stop() function cleans up the ConnectionManager properly (stop manage() from being scheduled, closing connections) and does not break https://github.com/lbryio/lbry/pull/458/files#diff-528ba4be45fedee1b75ecdc2f9c8719eL63 \n. added changes to unit tests based on latest review\nadded changelog\nrebased to master . missed setting conf.settings to None for unit test tear down. rebased to master as a single commit\nmerging to master now . I don't see why not, we are using a deque .. Rebased to master \nAdded immediate announce option, (when calling immediate_announce, the hash gets added to the front of the queue, instead of the back). New blobs are announced with immediate_announce , so they should be announced quicker. \nFixed doc string formatting, fixed unit test import formatting\nAdded changelog . seems to be failing test tests.unit.lbryfilemanager.test_EncryptedFileCreator.CreateEncryptedFileTest, \nthere is some weired dependency on blob manager that's causing it to fail I guess (looks like the small change to TempBlobManager is enough to make the file stream hash different for some reason). Fixed the failing unit test tests.unit.lbryfilemanager.test_EncryptedFileCreator.CreateEncryptedFile. rebase to master\nadded a fix to functional test (mock Announcer class now requires function hash_queue_size() . I will also add a commit that uses this function where it needs to be used. Added changelog and rebased . This is the same as https://github.com/lbryio/lbry/issues/305 I believe . I can review this. There are some other places in the Daemon that could use the same catching \na) jsonrpc_get_availability() \nb) get_est_cost_using_known_sizes() could also use the same catching. Alternatively since get_est_cost() calls both get_est_cost_using_known_sizes() and get_est_cost_from_name() , you could catch it in get_est_cost() . Before this patch though, resolve_name would throw an exception on an non existing name and you wouldn't get null though. Seems like the web-ui might need to change how it handles that? \notherwise LGTM\n. LGTM. I think these returnValue's don't seem necessary? \nhttps://github.com/lbryio/lbry/blob/520ac9b50aced69063eae6580ac8840971c4a75b/lbrynet/lbryfilemanager/EncryptedFileDownloader.py#L67\nhttps://github.com/lbryio/lbry/blob/520ac9b50aced69063eae6580ac8840971c4a75b/lbrynet/lbryfilemanager/EncryptedFileDownloader.py#L70\notherwise LGTM. this is just for loggly right?. lgtm. Having get_lbry_file_by_uri returning pending claims seems like a hack for fixing the real problem. What if you are publishing over an already claimed name, in that case its not going to return your published claim right?  IMO get_lbry_file_by_uri() should always return the winning claim for that name.\nI guess the Web-UI rely on get_lbyr_file_by_uri to check for pending names, is that right? I'm really not clear on how that works, so Alex can you clarify here how that's working right now?\nWhy not just make a get_my_pending_lbry_files() function in the daemon? \n. Let's say you have two files (A and B) associated with two different claims for the same name \"test\". File A is currently associated with the winning claim. You call get_lbry_file_by_uri() and you get file A. Someone overtakes name \"test\" with some random file that you have not downloaded. You call get_lbry_file_by_uri() and you will either get file A or B depending on which one shows up first in the file manager. This is a very arbitrary behavior that's going to confuse the user. \nWe need a separate function, something like get_lbry_file_by_name() that does not attempt to resolve the name through the blockchain, an just looks up the name in the file manager. get_lbry_file_by_uri() should be for the winning claim, and if you don't have the winning claim it should return nothing.\nWe should also return a list of files that is associated with a description whether it be sd_hash, name, or filename, instead of returning whatever is the first one in the file manager. \n. fixed pylint and rebased . i think this has been fixed. Closing as fixed in https://github.com/lbryio/lbry/pull/512. Can we get a \"last_announce_time\" field on table \"manage_blobs\"\nIt'll be unused initially, but we'll need it to create a better version of the HashAnnouncer based on this: https://github.com/lbryio/lbry/pull/435/files. Will add some tests for EncryptedFileManager class. Added test for EncryptedFileManager class, rebased to single commit . I'll merge this in conjunction with jack's filemanager refactor. changed it so that it will make database in a temporary folder and properly tear itself down. rebased.. changed names of test functions as suggested\nrebased to a single commit on master . tests/unit/core/client was missing  init.py folder making test_ConnectionManager.py not run , added it . It was our lighthouse tests , I think it installs the tests folder as module \"tests\" \nhttps://github.com/lbryio/lighthouse/blob/master/setup.py. The above didn't work but this worked for me:\npackages=find_packages(base_dir,exclude=['tests'])\nWe should probably do the same for setup.py in lbrynet . Closing as proper pull requests has been made. Added changelog and rebased. rebased to master. added changelog, some formatting fixes, rebased, fixed bug and rebased . renamed rate_updated() to rate_is_initialized(). rebased to single commit, merging when it passes . The proper place for the timeout would be in the DownloadManager class, \nas it is used both by GetStream (used to download full files), and StandaloneBlobDownloader. \nThis means that we should replace the timeout mechanism currently present in GetStream.. I think you don't want these classes to call storage.close()\nlbrynet/core/BlobManager.py:      \nlbrynet/lbryfilemanager/EncryptedFileManager.py      \nlbrynet/lbryfile/EncryptedFileMetadataManager.py\nBecause they don't know if the other classes are done with using the Storage class and will result in a race condition. Maybe storage.close() should go in the Session class?. This pull request fails https://github.com/lbryio/lbry-in-a-box/blob/master/integration_testing.py#L365 , \nIt looks like reflector gets the blob but does not announce it immediately. Would be a problem in BlobManager. . lgtm. also delete open and reveal commands, and their respective functions in file_utils.py\nadded changelog. lgtm. putting this with https://github.com/lbryio/lbry/pull/510 so closing. Closing for now to make seperate pull request for the smaller stuff. Example of build failing here: https://travis-ci.org/lbryio/lbry/builds/209860687. test_last_blob_retrieval also fails occasionally , like for related reason. Error below:\nTraceback (most recent call last):\nFile \"/home/travis/build/lbryio/lbry/venv/local/lib/python2.7/site-packages/twisted/enterprise/adbapi.py\", line 474, in _runInteraction\nconn.rollback()\n\nFile \"/home/travis/build/lbryio/lbry/venv/local/lib/python2.7/site-packages/twisted/enterprise/adbapi.py\", line 52, in rollback\nself._connection.rollback()\n\nsqlite3.OperationalError: cannot rollback - no transaction is active\ntests.functional.test_misc.TestTransfer.test_last_blob_retrieval\nhttps://travis-ci.org/lbryio/lbry/builds/215692820. hmm there seems to be some other problems in double_download\ntest_double_download ... print_error(): Server error: 'NoneType' object has no attribute 'getitem'\nHappens in this pull request too\nhttps://github.com/lbryio/lbry/pull/532\n. closing for now. I'll fix this. Fixed in https://github.com/lbryio/lbry/pull/540. i can confirm that the Download folder does not get created by lbrynet. Fixing this to create the Downloads folder if it doesn't exist . fixed in https://github.com/lbryio/lbry/pull/545. lgtm. fixed in https://github.com/lbryio/lbry/pull/546. It does refuse to start, since exception will be thrown there. \nBut _shutdown() will throw some exceptions since it does not expect the Daemon to fail there , so needs to be fixed. \nAlso there are two different places where daemon sets up directories , in init() and _setup_data_directory() , which is unnecessary. \n. Move the creation of directories to _setup_data_directory() \nMove the initialization of stream_info_manager (which requires db_dir) to _setup_lbry_file_manager(). This means that lbryum failed to get a response from lbryum-sever within the timeout of 30 seconds. Can happen on any command that requires lbryum-server.\nShould be caught and logged properly so we can keen track of the frequency of these errors. . exception is caught to throw more informative exception here:  https://github.com/lbryio/lbryum/pull/82. fixed in https://github.com/lbryio/lbry/pull/554. fixed in https://github.com/lbryio/lbry/pull/561. basically due to known race condition in wallet https://github.com/lbryio/lbry/issues/341\nrequires https://github.com/lbryio/lbry/issues/506 to be fixed. API command file_seed uses toggle_lbry_file_running(), which starts or stops a download. \nThus, file_seed should be renamed to something like file_set_start or something like that. fixed in https://github.com/lbryio/lbry/issues/556. fixed in https://github.com/lbryio/lbry/issues/561. Can confirm that boolean is not processed properly here: \nhttps://github.com/lbryio/lbry/blob/master/lbrynet/lbrynet_daemon/DaemonCLI.py#L96\nNot sure we need that guess_type function, should just use json.loads( ) I think? . I'm seeing the same thing, and thats a good solution. Would need to implement this https://github.com/lbryio/lbry/issues/504\nNot sure if this patch is ok for now. Is 60 seconds timeout too unresponsive? . closing this for now. rebased to master and added changelog. what claim does ikrfUcUdJ3E.mp4 belong to?. Tested and saw that this improved the speed of connection manager by significant margin:  \nOver ten trial runs on claim 'what', I got 6.9 seconds with this new pull request vs 25.1 seconds with old. (Speed to download the sd_blob and the first blob of the file).\nDuring this test, 'what' had about 20 peers. \n. K, I think that's not necessary and this  can be merged.\nI don't know why the test is failing, it is completely unrelated. Its likely an issue with the test itself: \nhttps://github.com/lbryio/lbry/issues/527. reran the tests and now its passed, so its definitely an issue with the test itself.. We could just validate by default, either removing the argument or setting it as default value True. But do note that validation takes more time, and if you don't need the validation you will be slowed down. \nI don't really like that you are inserting the validation into the metadata.\nIt becomes confusing what fields are part of the original metadata and what fields are something the daemon injects into the metadata. Furthermore, someone could craft a metadata that can confuse the user that it has valid authentication.  For example setting \"content_type\" to \"valid\" or something like that. \nValidation should be much more explicit. If you want resovle_name to return the actual validation state it should at least be crafted as {\"metadata\": metadata of claim, \"validation\":validation_result} . 1. I'm using txid , nout  instead of claim outpoint to be consistent with the other commands. But yes ,I think we should be returning claim outpoint for this and all other commands ( publish, abandon, support) \n\nyes but out of scope for this. just talking about channels here.\n . that's the n'th update to a specific claim with a claim ID right? Not the n'th update to a name? \n\nIf former , claim_update_index  would be more informative . then claim_n sounds ok . lgtm\n. closing this is not quite correct. merged with https://github.com/lbryio/lbry/pull/586. closing this for a lbryschema integration only pull request. Requires lbryum pull request https://github.com/lbryio/lbryum/pull/87 \n. API changes for this patch are wherever there is metadata (the \"value\" field), since the metadata format has changed. \nclaim_show - \"value\" output field \nresolve_name - this returns the metadata itself \nclaim_list - \"value\" field\nclaim_list_mine - \"value\" field\nOld metadata format looked like this:\n{\n\"title\":\"something\",\n\"license\":\"something\",\n\"sources\":{\"lbry_sd_hash\":\"093......\"}, \n\"fee\":{\"LBC\":{\"address\":\"bxX....\", \"amount\"1}}\n}\nHere is an example of a a new metadata. Note these 4 major differences: \nFields that used to be in the old metadata is now placed in metadata['stream']['metadata'] \nThe lbry_sd_hash is placed in metadata['stream']['source']['source'], \nThe 'source_type' field has been moved in to metadata['stream']['source']['sourceType\"]\nThe \"fee\" field for key_fee is now formatted differently, it is no longer a nested dictionary \n{u'claimType': u'streamType',\n u'stream': {u'metadata': {u'author': u'test_author',\n                           u'description': u'test_description',\n                           u'fee': {u'address': u'mmQi56XrbySABEsXWthFTsUvEDovG4Kwfz',\n                                    u'amount': 1.0,\n                                    u'currency': u'LBC',\n                                    u'version': u'_0_0_1'},\n                           u'language': u'en',\n                           u'license': u'NASA',\n                           u'licenseUrl': u'',\n                           u'nsfw': False,\n                           u'preview': u'',\n                           u'thumbnail': u'',\n                           u'title': u'test_title',\n                           u'version': u'_0_1_0'},\n             u'source': {u'contentType': u'text/plain',\n                         u'source': u'da27c91f8737d13c3ffb04eee6c46aa324cd7632e1e74ddd4422eb7b50806247097aded66d7a895cca183782171464cc',\n                         u'sourceType': u'lbry_sd_hash',\n                         u'version': u'_0_0_1'},\n             u'version': u'_0_0_1'},\n u'version': u'_0_0_1'}. I have included hex decoding of lbryum getvalueforname command in this pull request https://github.com/lbryio/lbry/pull/586 so this one isn't necessary. \n. fixed in https://github.com/lbryio/lbry/pull/592. fixed in https://github.com/lbryio/lbry/pull/593. jsonrpc_resolve_name() no longer returns None for claims that does not exist (unclaimed name), it raises an unrelated exception.\njsonrpc_resolve() needs to clarify what should happen if a uri does not exist, currently it returns an unrelated exception.. 2.  is not fixed , this is the raised exception \nTraceback (most recent call last):\nFile \"/app/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks \nesult = g.send(result)\nFile \"/app/lib/python2.7/site-packages/lbrynet/core/Wallet.py\", line 496, in _handle_claim_result\nraise Exception(results['error']) \nException: Proof was invalid \n\n\nis fixed\n\n\nis not fixed \n{u'claim_sequence': 1, u'has_signature': False, u'name': u'supporttest', u'amount': 1.0, u'value': {u'version': u'_0_0_1', u'claimType': u'streamType', u'stream': {u'source': {u'source': u'354d31f079696ef20a7ce1dd21fca723e896e77ed31af5fa933673998083f5f82d92e40b81f4489802224100dc974150', u'version': u'_0_0_1', u'contentType': u'text/plain', u'sourceType': u'lbry_sd_hash'}, u'version': u'_0_0_1', u'metadata': {u'description': u'test_description', u'license': u'NASA', u'author': u'test_author', u'title': u'test_title', u'language': u'en', u'version': u'_0_1_0', u'nsfw': False, u'licenseUrl': u'', u'preview': u'', u'thumbnail': u''}}}, u'height': 187, u'depth': 11, u'effective_amount': 2.0, u'address': u'mxr1SKMYMktDArERNLbkj8aSxLgeoLWwef', u'nout': 0, u'txid': u'3c98fd69db5f0c5f29f940f68f45054524776153ba9046d855fc798660872bca', u'claim_id': u'c0acf9db9df93a11d42a1dab92664e318f73d79d', u'decoded_claim': True}\n\n\nis not fixed \n{u'supports_without_claims': [], u'claims': [{u'claim_sequence': 1, u'has_signature': False, u'name': u'testname', u'supports': [], u'valid_at_height': 163, u'amount': u'1', u'value': {u'version': u'_0_0_1', u'claimType': u'streamType', u'stream': {u'source': {u'source': u'8232816e20bb351ee7bf99354e95c02f95f6fcf8436a288a6db5adf35fb4a26d83c04e34d0cf40e20a1ed33e92e4ead7', u'version': u'_0_0_1', u'contentType': u'text/plain', u'sourceType': u'lbry_sd_hash'}, u'version': u'_0_0_1', u'metadata': {u'description': u'test_description', u'license': u'NASA', u'author': u'test_author', u'title': u'test_title', u'language': u'en', u'version': u'_0_1_0', u'nsfw': False, u'licenseUrl': u'', u'preview': u'', u'thumbnail': u''}}}, u'height': 163, u'depth': 5, u'effective_amount': u'1', u'address': u'mgxMsbmCCCd66bd2RfXRNN85TpzgJnMjtU', u'nout': 0, u'txid': u'403eaf191a75fa39b50a0aa5f7ce59e72debc6b2acca8200701238d6a388e969', u'claim_id': u'4cedda43ca56a43a49af1d1eeac4fc9c7fbd93f1', u'decoded_claim': True}], u'last_takeover_height': 163}\n\n\nis not fixed\n\n\n[{u'category': u'claim', u'has_signature': False, u'name': u'testname', u'is_spent': False, u'expired': False, u'blocks_to_expiration': 262969, u'value': {u'version': u'_0_0_1', u'claimType': u'streamType', u'stream': {u'source': {u'source': u'3456cd95f156c0907676b309bb0073be8e6b3da9349338e418c1672a21435a802be147592e82aaeb056baea9b413217e', u'version': u'_0_0_1', u'contentType': u'text/plain', u'sourceType': u'lbry_sd_hash'}, u'version': u'_0_0_1', u'metadata': {u'description': u'test_description', u'license': u'NASA', u'author': u'test_author', u'title': u'test_title', u'language': u'en', u'version': u'_0_1_0', u'nsfw': False, u'licenseUrl': u'', u'preview': u'', u'thumbnail': u''}}}, u'height': 163, u'nout': 0, u'amount': 1e-08, u'confirmations': 5, u'expiration_height': 263137, u'address': u'n4fFrTcGmxyvr7M1Zm4c9newUsHywW3i1J', u'is_pending': False, u'txid': u'13c97048fdf75414ef52608e5ca19baa4ef808f61aa519ed03375821e5ed7f8a', u'claim_id': u'a1524b6913ea58f44f14372e6c27d3dd0423e0e3', u'decoded_claim': True}]\n. Reran tests from master as of 4/11/2017 1:37 \n\n\nis fixed via https://github.com/lbryio/lbryum/pull/91\n\n\nis not fixed in some cases, seems to not be consistent though. Sometimes it will return None other times will throw \n\n\nTraceback (most recent call last):\n  File \"/app/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n    result = g.send(result)\n  File \"/app/lib/python2.7/site-packages/lbrynet/core/Wallet.py\", line 524, in _handle_claim_result\n    raise Exception(results['error'])\nException: Proof was invalid\n\n\nis fixed \n\n\nis fixed\n\n\nis fixed\n\n\nis fixed\n\n\nNew issues I found: \njsonrpc_claim_show() no longer returns False for claims that do not exist, will throw the same exception as 2 \njsonrpc_resolve() output is not as described in docstrings , it looks like this: {'claims': { dictionary described in docstrings } }. I also see in Wallet.py that it can return channel results as {'claims_in_channel': }. So looks like docstring needs clarification \n. It seems #2 is related to the handling of proof when the claimtrie is in a fresh state (no claims in it) so does not seem to be a major issue. I think windows command line does not handle single quotes like they are in bash , I think replacing them with double quotes might work? \n. Do not use wallet.balance it doesn't take into account reserved points , use wallet.get_balance() . I can't reproduce this when running a singe resolve command on the uri. This is a problem with @epicentertv:1/epicenter-172 it looks like. fixed in lbryum server https://github.com/lbryio/lbryum-server/pull/21. happens due to non decodeable claims when calling stream_cost_estimate ( calling stream_cost_estimate on testpub03-16-2017-1405 will reproduce this ). fixed in https://github.com/lbryio/lbry/pull/614. rebased to master and merging. oops wrong one. Have you downloaded or published any files? \nIf so, the daemon is serving them to other clients over the network which will use your upload bandwidth.\n . What should it do? \nThe behavior of get is to throw an exception if the uri does not exist. \nWe could throw a more informative exception here , and the docstring should mention what happens on 'no-gettable' uri's. . I see the problem , its lbryum server related will have fix soon. fixed in https://github.com/lbryio/lbryum-server/pull/25. yes meant to say \"string encoded decimal, using Decimal class\" not \"decimal encoded strings\" . Hi, here are some general PR guidelines : \nPlease rebase commits so that you don't have commits like https://github.com/lbryio/lbry/pull/631/commits/d328203f183587e21d37dcc96fdce14af7405fb3 and https://github.com/lbryio/lbry/pull/631/commits/e038431287924df2f8af6fa62b9579c970059866\nEach commit should have a reason for existing. If not they should be rebased. \nA PR should achieve a single goal. If your goal is to have the daemon wait for lbryum to be decrypted, do not change unrelated things. If you want other unrelated changes, they should be put in a separate PR. \nDo not change the requirements.txt to point to your repo. If a PR in lbry requires a PR in lbryum, just assume that they will be both be merged to master at the same time. \nNow regarding this PR: \nLet's start first by creating a Deamon API function that allows users to enter the password and set the wallet password. Otherwise there's no point in waiting for lbryum to be decrypted right? Here is where Daemon API functions are placed:  https://github.com/lbryio/lbry/blob/master/lbrynet/lbrynet_daemon/Daemon.py , API functions are functions that start with jsonrpc_ . \nPlease note that each API function requires a doc string and they all use the same formatting so please follow that. \nAPI function for entering the password is pretty simple, it takes the password as input and it just stores in a variable in the Wallet class which can be retreived whenever a lbryum function requiring the password is needed. The difficult part is knowing when passwords are needed in lbryum and putting the password in the required commands, but we can work on this later.\nAPI function for setting the password on a lbryum wallet will take the new password (twice to handle mistypes) and the old password as input. You can look at how lbryum sets passwords on the wallet here:  https://github.com/lbryio/lbryum/blob/master/gui/qt/main_window.py#L1868\n. Yes, this has been fixed, it was lbryum server problem . Ran into the same problem , can also happen when publishing.\nThis was due to there being a folder \"analytics\" under lbrynet that got replaced by analytics.py . If you installed a version from source that had the \"analytics\" folder using python setup.py install,  this folder will not get purged from your build unless you clean it up by running: ''sudo python setup.py clean --all'\nand then running 'sudo python setup.py install' should remove this problem.. if this fixes the problem for @dindinw , we can close it as there isn't any solution for this other than to tell people to run the clean command. . I believe this doesn't fix the race condition, it only causes the race condition to not occur.  I am able to double spend through lbryum by issuing sequential transaction commands to it through the lbryum daemon directly. \nWhen I looked into it last time, Lbryum updates its sent transaction when  receive_history_callback is called by synchronizer.add_history_response(), which is not triggered by broadcasting a transaction or creating it. \n. What should happen if a name is unclaimed? \nBefore this PR, it was returning None.\nRight now it is  returning dict {u'error': u'Name lbry://someunclaimedname1 is unknown'}\nI think either way is ok. But others should state their opinion and behavior should be clarified in the docstring. And if we are changing the behavior from returning None, we need to update the UI, and testing.. https://github.com/lbryio/lbry/pull/647 fixes 2, \nFor 1, do you need it to filter by multiple arguments? (for example by both name and claim ID) \nOr should it only allow you to filter by one thing only , to be less confusing, (throw exception if you specify both name and claim id) . Can confirm that download_directory argument is buggy ( I think it works but does not support home directory expansion and bad permissions will screw up the download ) \nI think this option should be removed as it complicates the code, and download directory can be changed via settings_set command.. Should probably place a check in publishing to not allow you to publish an empty file. https://github.com/lbryio/lbry/pull/653 will prevent publish in the daemon of 0 size files. this looks fine other than the pylint issues and got it working for me without issues. There's no option to filter by 'name' for file_list , file_set_status, and file_delete commands. . Quickstart doesn't need to be adjusted since it uses JSONRPC, which this PR should not change. \n1cf3243\nSome docstrings missing a closing > bracked so added it. \n9003369\nfile_set_status was using argument names that were different from file_list and file_delete so made it the same. Corrected some docstrings descriptions. Added name as a argument for parsing by claim name. \n257d025\nAdded integration testing to this branch. \n58dd576\nAdded a test command to the Daemon, for testing docopt arg parsing.\nAdded docopt arg parsing to the integration testing. \n. Whats the lbryschema version ? \nRun  lbrynet-cli version to get it. all the version number looks fine.. . My best guess is that its having problems updating on windows, and is somehow using code from and older version of lbrynet or possibly lbryschema. Will try this out tomorrow.. It was determining that clearing the data folder fixes this problem. \nI believe it has something to do with the wallet cache that was added recently.. this is a good time to revisit and improve test_ExchageRateManager so I'm doing that . So fee amount can be set to zero with this patch right? Was that your intention? \nI made the below changes to improve testing: \nI broke out the various Dummy classes which only gets used for testing from ExchangeRateManager file and placed it in the tests/mocks.py file. DummyExchangeRateManager should also not redefine its own convert_currency function since we want to test convert_currency function in the actual ExchangeRateManager class. \nAdded an assert in ExchangeRate class to make sure price is more than 0 \nAdded new tests:\nCheck if setting Fee to zero is allowed \nCheck ExchangeRate can't be set with price less than 0 \nCheck that if a feed is missing to do conversion, an exception is thrown.\n. im going to put this together with https://github.com/lbryio/lbry/pull/652 so closing it. fixed pylint. There is a delete_all flag (-a), but it doesn't work , nor is it described properly in docstrings .\nAlso delete_target_file flag (-f) states \"delete only from downloads, do not delete blobs\" , However the behavior is that blobs are always deleted, and setting delete_target_file flag will delete from the downloads folder. \n. fixes here : https://github.com/lbryio/lbry/pull/672. delete_target_file renamed to delete_from_download_dir\n-a option for delete_all removed. rebased to master. Rebased to master and added additional changelog for API change. jack will do a version bump and merge this. rebased to master. fixed self.download_sd_blob\nrebased to single commit\nrebased to master. same issue as here: https://github.com/lbryio/lbry/issues/527. Are you sure this is happening when calling get? \nI didn't encounter this errors while doing a 'get' on lbry://casually-successful\nHowever, this occurs when I do a file_delete on lbry://casually-successful , this is the exception below. This exception being thrown does not affect the program flow. \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/logging/handlers.py\", line 76, in emit\n    if self.shouldRollover(record):\n  File \"/usr/lib/python2.7/logging/handlers.py\", line 156, in shouldRollover\n    msg = \"%s\\n\" % self.format(record)\n  File \"/usr/lib/python2.7/logging/init.py\", line 734, in format\n    return fmt.format(record)\n  File \"/usr/lib/python2.7/logging/init.py\", line 465, in format\n    record.message = record.getMessage()\n  File \"/usr/lib/python2.7/logging/init.py\", line 329, in getMessage\n    msg = msg % self.args\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 49: ordinal not in range(128)\nLogged from file Daemon.py, line 1629\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/logging/init.py\", line 861, in emit\n    msg = self.format(record)\n  File \"/usr/lib/python2.7/logging/init.py\", line 734, in format\n    return fmt.format(record)\n  File \"/usr/lib/python2.7/logging/init.py\", line 465, in format\n    record.message = record.getMessage()\n  File \"/usr/lib/python2.7/logging/init.py\", line 329, in getMessage\n    msg = msg % self.args\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 49: ordinal not in range(128)\nLogged from file Daemon.py, line 1629\n. @tzarebczan can you post the log of what happens here? . This fixes the error for me in file_delete but not sure if it will for others : https://github.com/lbryio/lbry/pull/697. I still think this is because BlobManager's stop() function doesn't properly handle shutting down the manage() loop and closing the database properly . Looking at BlobManager, it seems like it does not even need a looping manage() function. \nWhen deleting blobs, BlobManager queues them up for deletion, and then the manage() loops looks in the queue and deletes it. I don't think we need to queue up blobs for deletion, we can just delete them. \n. I can't get channel_update command to work with revoke=False , I get : {u'error': u'nothing to update with'}\nhttps://github.com/lbryio/lbryum/blob/master/lib/commands.py#L1605\nLooks like you need to supply a val value to lbryum ? \nI'm going to force you to write tests for these on lbry-in-a-box. You can write the tests under _test_channels() in integration_testing.py\nhttps://github.com/lbryio/lbry-in-a-box/blob/master/integration_testing.py#L539\nYou can make a PR with the tests on the lbry-in-a-box repo. To get travis tor run the integration test on the PR, change the line on .travis.yml that reads 'bash sync_to_master.sh' to 'bash sync_to_master.sh claim-signature-update master' which will use this branch for lbrynet and master for lbryum\nHere is a quick test I appended on the bottom of _test_channels() to detect this problem that you can use as an example:\n    channel_out = lbrynets['lbrynet'].channel_update({'name':channel_name,'amount':channel_claim_amount+0.1})\n    self.assertTrue(wait_for_lbrynet_sync('lbrycrd',channel_out['txid']))\n    self._increment_blocks(6)\n\n    out = lbrynets['lbrynet'].channel_list_mine()\n    print out\n    self.assertEqual(1, len(out))\n    self.assertEqual(channel_out['txid'],out[0]['txid'])\n    self.assertEqual(channel_out['nout'],out[0]['nout'])\n    self.assertEqual(channel_name, out[0]['name'])\n\n. According to the docstring this function should be returning a parsed JSON formatted transaction, so this looks like a bug. . You can use lbrycrd's decoderawtransaction command for now\n./lbrycrd-cli decoderawtransaction \n010000000187d12f8ce0cd229eec3823a97a169c3f20ba31af26d4e3975edf4f20566d4a1a010000006b483045022100cdfd7990a4d7363fc5c13d46dc83be31ccfbe53499a5a9b10e54ab5f4e41be610220652fc5e3b7bb8a4bc626efcd7db220d8fa1c99c4ee2b6a31aedac1b03a6364d9012103c9f29f0d7e0fd134c2d950e979bd545add50faf9f85ec574fe0058fd6a24f347ffffffff02c0c62d00000000001976a9140a1b7cecf1db6b3403fe0f5d97c5604e47a3cf1b88acb8ec3453000000001976a9146299198092405424aff22aaf246887f098d5136d88ac00000000\n{\n  \"txid\": \"eeb23af0ff0c0d1e0ae413960ca84206e7eb225c0377f28ad9206222b53eca66\",\n  \"size\": 226,\n  \"version\": 1,\n  \"locktime\": 0,\n  \"vin\": [\n    {\n      \"txid\": \"1a4a6d56204fdf5e97e3d426af31ba203f9c167aa92338ec9e22cde08c2fd187\",\n      \"vout\": 1,\n      \"scriptSig\": {\n        \"asm\": \"3045022100cdfd7990a4d7363fc5c13d46dc83be31ccfbe53499a5a9b10e54ab5f4e41be610220652fc5e3b7bb8a4bc626efcd7db220d8fa1c99c4ee2b6a31aedac1b03a6364d9[ALL] 03c9f29f0d7e0fd134c2d950e979bd545add50faf9f85ec574fe0058fd6a24f347\",\n        \"hex\": \"483045022100cdfd7990a4d7363fc5c13d46dc83be31ccfbe53499a5a9b10e54ab5f4e41be610220652fc5e3b7bb8a4bc626efcd7db220d8fa1c99c4ee2b6a31aedac1b03a6364d9012103c9f29f0d7e0fd134c2d950e979bd545add50faf9f85ec574fe0058fd6a24f347\"\n      },\n      \"sequence\": 4294967295\n    }\n  ],\n  \"vout\": [\n    {\n      \"value\": 0.03000000,\n      \"n\": 0,\n      \"scriptPubKey\": {\n        \"asm\": \"OP_DUP OP_HASH160 0a1b7cecf1db6b3403fe0f5d97c5604e47a3cf1b OP_EQUALVERIFY OP_CHECKSIG\",\n        \"hex\": \"76a9140a1b7cecf1db6b3403fe0f5d97c5604e47a3cf1b88ac\",\n        \"reqSigs\": 1,\n        \"type\": \"pubkeyhash\",\n        \"addresses\": [\n          \"bDeiP3k7Jvpt9Hd3rw3ZstoveNWuCHDAxZ\"\n        ]\n      }\n    }, \n    {\n      \"value\": 13.95977400,\n      \"n\": 1,\n      \"scriptPubKey\": {\n        \"asm\": \"OP_DUP OP_HASH160 6299198092405424aff22aaf246887f098d5136d OP_EQUALVERIFY OP_CHECKSIG\",\n        \"hex\": \"76a9146299198092405424aff22aaf246887f098d5136d88ac\",\n        \"reqSigs\": 1,\n        \"type\": \"pubkeyhash\",\n        \"addresses\": [\n          \"bMicKaUvZXwjqC6VgV1P3FUxpVM5rqHYnG\"\n        ]\n      }\n    }\n  ]\n}\n. You need to download lbrycrd https://github.com/lbryio/lbrycrd to use lbrycrd-cli\nAnother option is downloading lbryum and running the \"deserialize\" command in console https://github.com/lbryio/lbryum. Yes they are both JSON RPC interfaces \nfixed in https://github.com/lbryio/lbryum/pull/114. fixed https://github.com/lbryio/lbry/commit/4c1a2b7e72a4a8c3d7b339479c1d4f6fae208c43. rebased to master . This needs to be accompanied with one of the three options \na) UI warnings that tells users to migrate their folder and instructions on how to do so. \nb) Automatic migration that moves the files to the new location \nc) If it detects that it was using the previous default folder configuration (basically it is not a fresh install with this PR) it uses the previous default folder configuration. Otherwise (its a fresh install with this PR) it uses the new configuration.\nIn b) and c), it needs to know about the previous default folder configuration. Thus, we need a function like old_default_dir() that resolves to ~/Downloads etc... and new_default_dir() for this PR. \nIn a) we need a detailed summary for users on what to do for each platform. . Its worth consider if we really want to move our data directories to\ndefault_data_dir = ~/.local/share/lbry/lbrynet\ndefault_lbryum_dir = ~/.local/share/lbry/lbryum\nThe standard practice in cryptocurrency related project is to have them in ~/.cryptocurrency_name \n. I set up a description for a password interface on the daemon for anyone that wants to work on this https://github.com/lbryio/lbry/pull/712. Ports to bind to should never automatically change to some other random port. This is poor practice because people need to write firewall rules which requires fixed port numbers. It also makes testing the service on the port impossible because it could be bound to some random port that the client has no knowledge of. \nIt definitely should give proper feedback if it failed to bind to a port, and probably include instructions on how to change the port through the config file. \n  . need to fix this for some changes. fixed https://github.com/lbryio/lbry/pull/717. Can confirm that if get timeouts before it downloads a sd blob, the daemon will hang.. I think its important to remove the  payment queueing feature in the Wallet as it is causing a host of issues. \nAs you said, payments will get dropped on shutdown which is a huge issue. Only way to fully solve this is writing queued payments to disk immediately. \nAnother issue is https://github.com/lbryio/lbry-app/issues/117 , since lbryum Wallet is the only module that can tell you whether you have enough credits for updates, it is very problematic from a programming perspective that we have a separate queued payments to consider outside of the lbryum module. \nUsers are also reporting multiple related issues of their balance being wrong here:\nhttps://github.com/lbryio/lbry/issues/640\nhttps://github.com/lbryio/lbry/issues/538. started on it here https://github.com/lbryio/lbry/pull/747. Note that max_key_fee is adjustable via API command settings_set. \nI think the UI should just provide an interface to change max_key_fee. \nThe default could be set higher I suppose, but we should keep max_key_fee so that the daemon itself has some basic protection against it.. rebased to master. rebased and merging\n. This LGTM , \nMaking note though that line 1495 to 1504 after resolved_result = yield self.session.wallet.resolve(uri) is overly complicated and should be improved. . @kauffj I can't find anything wrong with setting the max key fee on the daemon level at the current master.. yea need to test it still . Done with this.\nmade some tests for claim_show for lbry in a box which can be merged when this PR is merged\nhttps://github.com/lbryio/lbry-in-a-box/pull/9. Made some adjustments for https://github.com/lbryio/lbryum/pull/124/commits/267230ddc2da3fd7777d8bf1460c0330b74eb9a6  in https://github.com/lbryio/lbryum/pull/124 \nwith https://github.com/lbryio/lbry/pull/730/commits/e4df0bdb5f436e09b245c3ec56ea0a4993b3828f\nWe now have an UnknownOutpoint exception in core/Error.py which we raise in _handle_claim_result() . what's point of d9ced3c \"convenient import for api client?\" \notherwise untested but LGTM . gotcha, LGTM. You could either look at the functional tests https://github.com/lbryio/lbry/blob/master/tests/functional/test_misc.py#L395 which sets up the minimum classes required to test upload/download \nOr look at lbry-in-a-box https://github.com/lbryio/lbry-in-a-box which uses docker to setup everything required to run lbry in a single machine, more specifically, look at the integration testing we run on lbry-in-a-box where we test publishing: \nhttps://github.com/lbryio/lbry-in-a-box/blob/master/integration_testing.py#L290. i suggest you used lbrycrd which handles large numbers of addresses https://github.com/lbryio/lbrycrd without problems.. Depends on https://github.com/lbryio/lbry/pull/751 for unit test to work . tzarebczan is reporting that this fixes #692 for him. Well the premise is that data payment works as it is before this PR, and I don't really think that it was working in the first place. \na) Needs test for data payment, as of now there are zero tests in unit tests or lbry-in-a-box integration tests. Which means, that basically, it doesn't work. \nb) Lbryum needs a way to reserve credits for future use (point reservation) and to clear them out periodically. The code will be similar to what was removed here.  \nc) If you don't pay the data fee, nothing happens anyways right now. There is some peer penalty code but its unfinished, never really been paid any attention to.\nd) Similar to c, If you are receiving data fees, there is not really any to audit how much you received, or figure out  who sent what. . Don't think we can merge this. My response on  #710:\nPorts to bind to should never automatically change to some other random port. This is poor practice because people need to write firewall rules which requires fixed port numbers. It also makes testing the service on the port impossible because it could be bound to some random port that the client has no knowledge of.\nIt definitely should give proper feedback if it failed to bind to a port, and probably include instructions on how to change the port through the config file.. We still need to fix this because Downloads still rely on file_list. \nI've found that the root issue was that there were malformed supports data entering the claim cache. See final fix : https://github.com/lbryio/lbry/pull/759.\n. This PR https://github.com/lbryio/lbry/pull/746 that got  merged in master recently changes somethings in conf.py  so please look over that and rebase this. \nThe test is failing (Click on Details next to the red X's below . If you want to run the tests on your local machine run \"PYTHONPATH=. trial tests\" from the base folder of this repo ) because the above mentioned PR adds a new test for download_directory which got renamed to download_dir here. \n. Detection for old directories in windows is failing. user_data_dir('lbrynet', roaming=True) resolves to ...roaming directory/lbrynet/lbrynet (for author lbrynet and app lbrynet) . Where previously it was resolving to just ...roaming directory/lbrynet/ , same thing for the lbryum folder. \nI think you need to actually reuse the exact previous code (https://github.com/lbryio/lbry/blob/master/lbrynet/conf.py#L70, https://github.com/lbryio/lbry/blob/master/lbrynet/conf.py#L81) that defined the directories for both Windows and Linux in _get_old_directories(). Even for Linux, you made some minor adjustments which on first look should be the same (and it is on Ubuntu 16.04 I used for testing), but maybe there could be some obscure ways in which it resolve to different things. \nIn the future, if you don't have access to an OS to test on, please ask other people to test it, especially if the PR directly deals with OS specific code. \n. This works and LGTM now. I think this is not the right approach. \nWe just can't litter type casting code everywhere where we expect a certain type. \nI think since this is strictly a CLI issue, the fix has to go here: \nhttps://github.com/lbryio/lbry/blob/master/lbrynet/daemon/DaemonCLI.py#L23\nThere is a guess_type() function that is applied to all CLI input arguments but it should probably detect that if the argument is for something called \"uri\" , then it does not apply it. . The issue does not include JSON RPC usage because in JSON you specify strings by wrapping them in quotes. If a user inputs for example the number 1 without quotes as a uri through JSON RPC, then they've used the API wrong. If a user inputs the number 1 with quotes, it is interpreted as a string in JSON RPC and there is no problem. \nI still stand by my original suggestion for the fix. \n . I also made it so that it will also not parse uri arguments as floats, or booleans. And also added other arguments (name, file_name, channel_name, download_directory) that should only be parsed as string in the CLI. \nRebased to master. \nLGTM . lgtm. tzarebczan reported that this fixed issue #750 for him\nBelow cache file contains the malformed supports and causes the issue in question: \nblockchainname.db.bak.zip. User might actually want to set it to zero though ( if he only wants free content).\nSetting it to negative is an option. \nPersonally I'd prefer something less hacky like a new setting variable like disable_max_key_fee_check.. Make sure you test your changes. You also have pylint errors you can check on ( Click on the details for The Travics CI build with the red X at the bottom of this PR page). \nI will recommend that you write unit test for this function https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/Downloader.py#L94 to make sure your max key fee and disable key fee settings are working. \nHere is where the unit tests for the Downloader.py file goes: \nhttps://github.com/lbryio/lbry/blob/master/tests/unit/lbrynet_daemon/test_Downloader.py\nYou can run the twisted trial tests for lbry by running PYTHONPATH=. trial tests in the base folder ( or to run specific tests you can run something like PYTHONPATH=. trial tests/unit/lbrynet_daemon/test_Something.py ) \nDM me on slack if you have specific issues. . I tested the disable_max_key_fee setting and works as expected. \nLet's remove the new unit tests you attempted for now (below line 186 on test_Downloader.py)  and merge this.\nAnd then we can open up a new PR to finish writing the tests which I can help you out on.  . will be merged from here https://github.com/lbryio/lbry/pull/781 , thanks . should be fixed in https://github.com/lbryio/lbry/pull/755, \ndue to the scattered mkdir that should be in conf. This is intentional. The logic is that since you pay more in tx fee than you get back, your net gain is zero, so why bother to abandon. \nI could see the argument for this being removed though, and downgraded to a warning or something like that. . We are actually removing the name argument unfortuantely\nsee here: https://github.com/lbryio/lbry/pull/730. delete this too https://github.com/vv181/lbry/blob/6574e2c0fc095afb4fabd0a42540e7280422e9c4/lbrynet/daemon/Daemon.py#L659. Rebase the three commits into a single commit please. \nOtherwise LGTM.. you forgot to delete this somehow in this PR , although in your previous one you didn't\nhttps://github.com/vv181/lbry/blob/e0798a96935dc2a4f379923b18fecda31bfb18cf/lbrynet/daemon/Daemon.py#L248\nsome info on how to rebase, see \"Squashing Commits\" \nhttps://git-scm.com/book/en/v2/Git-Tools-Rewriting-History. This LGTM now. I'll look this over by tomorrow. Not fully finished looking over it but here's one issue I found trying to run this:\nAttempting to run wallet_encrypt with use_keyring = False results in this error:\nresult = g.send(result)\n\nFile \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.19.0rc15-py2.7.egg/lbrynet/daemon/Daemon.py\", line 1307, in jsonrpc_wallet_encrypt\n    self.session.wallet.encrypt_wallet(new_password)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.19.0rc15-py2.7.egg/lbrynet/core/Wallet.py\", line 1577, in encrypt_wallet\n    self._cmd_runner.update_password(new_password, update_keyring)\n  File \"/usr/local/lib/python2.7/dist-packages/lbryum-3.2.0rc4-py2.7.egg/lbryum/commands.py\", line 179, in update_password\n    raise ValueError(\"no keyring is available to update\")\nexceptions.ValueError: no keyring is available to update\nI think this is a problem on the lbryum side in the command update_password() \nThe argument update_keyring is by default True, but should probablly be adjusted based on what the conf is set to. \n. Some more things: \nWe need to adjust API command settings_set to be able change use_keyring conf so the app has a way of adjusting it. Which brings up some more issue:\nShould changing the use_keyring conf set the keyring password? Seems like it should\nIf  user can turn keyring on and off, there is a potential that the wrong password gets in the keyring (user changes password when keyring is off, turns it back on again). If the keyring password is wrong, then lbrynet needs to catch this problem and allow the user to recover from this problem (needs to at least error out with an information error message). . The app will also likely need some way of determining whether it should prompt the user for a password or not (whether its prompting to add a password for a wallet that's unencrypted , or prompting for a password on an encrypted wallet without a keyring) \nProbably we need to add a new entry in the API command status that tells you whether a wallet is encrypted or not. \n. >@kaykurokawa @kauffj wallet_is_encrypted is currently returned for the status call.\nah, ok i missed that. \n\nDo we add another parameter to settings_set in order to accept the password? I'm guessing that also means that we would need to verify the password parameter is always present if use_keyring is set to true. We would also need to accept an old password (if set) before letting the user set a new password. I think this require some more thought and maybe we should create a new issue for it?\n\nYes the issue is a bit complicated,  because there's different cases here. You can start a new issue to describe what you are going to do. \nwallet is unencrypted, use_keyring is set to True : nothing happens in this case I guess, or maybe we don't allow this to happen? \nwallet is unencrypted, use_keyring is set to False: nothing happens in this case I guess\nwallet is encrypted, use_keyring is set to True : password gets sent to the keyring \nwallet is encrypted, use_keyring is set to False : do we delete the password from keyring here? not sure \nI think adf0201 does not seem quite right to fix the exception I mentioned \"exceptions.ValueError: no keyring is available to update\". Now the behavior won't be right when you are using the keyring and you want to update the password, because update_keyring is now False. The root of the problem is here in lbryum: \nhttps://github.com/lbryio/lbryum/blob/master/lbryum/commands.py#L169\nThe function update_password(self, new_password, update_keyring=True) takes an update_keyring argument which is set to default True but the decision to update_keyring should be dependent on whether Command._keyring exists nor not ( if self._keyring is not None: update_keyring = True)  . blobs for lbry://sl-cIGaEBWcJ5w do not exist on any reflector server, and I'm unable to find peers for it. \nI think NoSuchSDHash: 8461b45ff7ce15530c9159bff23730b86e501f35805288d5936cf005788af0fa18bf8a15ec3f016ae216408b94d187dd is some problem with the Wallet cache not having what it needs.\nLooking back at https://github.com/lbryio/lbry/pull/759, I think it wasn't good that we disabled saves to cache in some instances, because the file manager depends on it.. although this shouldn't be what's causing the problem in your instance because its 0.13.1 (before 759 was merged). this LGTM  ,\nadded some tests and rebased to master here https://github.com/lbryio/lbry/pull/802. Here is a good solution. \nThe default behavior is for seeders (clients serving blobs) to only announce the first blob of a file, but they can announce blobs individually if they wanted to or if they had blobs without knowing what file they are associated with. \nThe default behavior for downloaders is to only look for the first blob when downloading a file. If they are unable to download all the blobs this way, they will start looking specifically for individual blobs they don't have. So for clients, finding peers for a file look like this currently:\nfind_peers():\n  Look at the first blob we don't have yet, search for a peer on this blob on the DHT\nThey need to be changed to this. \nfind_peers():\n  Look at the first blob to download, search for a peer on this blob on the DHT, \n  If there is no peer that exist, or if we've already connected to all returned peers and downloaded everything available from them,  look at first blob we don't have yet, search for a peer on this blob on the DHT.\nNeeded Changes:\nBlob manager need to be migrated to a new database that contains the column \"should_announce\". Sd_hash and head blobs need to have this marked as true in migration. Blob manager should only announce blobs marked as should_announce = true. \nBlob manager and some related blob creation classes need some refactoring to make a testable changes that allows the setting of blobs that should be announced and blobs that shouldn't be announced.. Its more efficient to look for the head blob first if that's the announcement strategy that a majority of the seeders are using. If the majority of seeders are announcing individual blobs, its more efficient to look at individual blobs first. \nSince presumably reflector is going to adopt announce head blob only, it would be more efficient to look at the head blob first. \n. I think this might be the fix : https://github.com/lbryio/lbry/pull/822\n. This is actually expected behavior when abandoning by claim_id if there is more than one match, since we don't know exactly what the user wants to do. \nLbryum has an option to abandon by txid/nout which allows you to specify exactly which claim you want to abandon. However, this option does no exist in lbrynet so needs to be put there. \nIn addition, a more useful error message should be thrown when abandoning, such as \"more than one claim that matches, specify exact claim to abandon by txid/nout\". https://github.com/lbryio/lbry/pull/829 should fix this problem. closing for https://github.com/lbryio/lbry/pull/824. \"lsof -p PID\" (where PID is the process id of the daemon) should be run on a machine where this problem pops up so we can see what file handlers it has open. . Seems like the majority of it is for port 5279 , which is the API port. \nIf you are not queueing API requests, than you probably need to increase the limit per process to a number that is more in line with the concurrent users? How many concurrent users do you have?\n. depending on if there are multiple API calls being made per user, and considering API calls can take long to finish, it seems plausible to me that @billbitt 's problem can be solved by raising the limit , \nhowever this doesn't look like the same problem that we saw on reflector as reflector doesn't use API calls. . this doesn't look like an issue on our end. its just curl isn't printing new lines as a new line. \nmaybe there is a flag in curl to print out new lines .. only for temporary use closing now. Upon daemon startup, it tries to reflect all the files it has so for each file, it will create a reflector connection for each one simultaneously, which is not good if there are a lot of files. \nIt also tries to reflect every hour, and if it takes more than 1 hour to reflect everything you will start to accumulate a backlog of reflect commands. \nrelevant file: https://github.com/lbryio/lbry/blob/master/lbrynet/file_manager/EncryptedFileManager.py. Firstly I think there should be an option to turn the scheduled and startup re-reflecting completely off , but keep the initial reflecting on for publishes. I think this will be an easy fix to your problems.  \nSecondly there should be a fix for how it auto reflects (limit number of files to reflect at a time).\n. once this is merged https://github.com/lbryio/lbry/pull/826 , set 'auto_re_reflect' in your config file to False. \"seek head blob first\" download method should not be turned on until our reflector servers has switched to announcing head blob only.\nIt can be turned on and off through the configuration file (the default configuration is set to off)  . rebased to master\nmade pep8 fixes as requested by jack \nWill need to check  BlobRequest._find_peers_for_hash() returning None. Corrected and clarified in docstrings the returning of None when looking for peers. \nBlobRequestr._get_hash_for_peer_search() , function to get the next unavailable hash, could return None if there was nothing left to download. Previously, the None would propagate and functions would have its own way of handling None. Now we deal with None immediately in BlobRequester. get_new_peers_for_next_unavailable() and removed all other handling of None in other places.. @jackrobison please take a look at 734c5a1\notherwise , can be merged. . Not really sure what this is trying to say. \nYou want to check file extensions? . Rebased to master, made sure 09d336b was properly merged as requested by jack\nRemoved last_announce_time as requested by grin\nAs discussion with Jack: \nI said that we should create another flag for should_announce to indicate \"unknown whether to announce or not\", but I think we don't need to. I changed should_announce to be True by default. So blobs created without setting should_announce flag (this is done by reflector currently) will be announced when announce_head_blob_only is True. If announce_head_blob_only is False, we ignore the should_announce flag so everything is announced regardless of flag. \n. >I think the right way to do this is instead of should_announce, we have a column like blob_type. Then it can have values sd_blob, head_content_blob, or content_blob. Then the code can decide what to do with the blob.\nSo BlobManager is the class that was changed in this PR and it only deals with blobs, and has no idea what a stream is. It is also the class responsible for announcing blobs, since up until now the blob announcement does not depend on stream information.   \nEncryptedFileMetadataManager is the class which deals with streams and in here we have actually information regarding what position in a stream a blob is (0 means its a head blob) and what the sd_hash is.  So in here, we actually have all the information to decide what to announce. \nIt would have been nice to move blob announcement into EncryptedFileMetadataManger, since it already can figure out what kind of blob a blob is, and we wouldn't need to add this new should_announce field. However, if we do that, than we lose the capability to announce Blobs that doesn't belong to a stream at all (or we need to create a field in the BlobManager that marks a blob as not belonging to a stream, but then we've just created another field so the tecnical debt created is equivalent). \n. lgtm. I have a test for it in lbry in a box, https://github.com/lbryio/lbry-in-a-box/pull/13 which can be merged.\nI can do return_address in a seperate PR . Looking at the logs, looks like user shut down the daemon 20 seconds after publishing, which probablly killed the publish while it was in the middle of something.. I've seen this before in the daemon, yes its a floating point issue. \n. This requires lbryschema changes that doesn't exist yet. I would prefer that we implemented this on the app side, using something like bitcoinjs-lib \nhttps://github.com/bitcoinjs/bitcoinjs-lib/blob/master/src/address.js#L9\nour address headers (variable labeled as version in the code above) are 85 or 122 in decimal \n. another library option here https://github.com/cryptocoinjs/coinstring. Rebased to master \nAdded a unit test in test_reflector to check blob v1 protocol does affect stream information. I think this is good to merge, \nbut noting here that there should probably a future change to Hash announcer for it to not announce invalid blobs, instead of doing it in set_should_announce(). Adding https://github.com/lbryio/lbry/pull/910 on top , so this single PR is all that's required for head blob announce. Going to break this down a bit further\n\n\n[x]  Need finished review from Jack on https://github.com/lbryio/lbry/pull/872, https://github.com/lbryio/reflector-cluster/pull/3, https://github.com/lbryio/reflector-cluster/pull/5 , merge required\n\n\n[x] Ansible reflector cluster setup , Need host setup.  Need to import the redis database from old reflecter cluster (I think we want to do this to prevent old files from being re-reflected to the new reflector cluster) \n\n\n[x] Merge https://github.com/lbryio/lbry/pull/889 to turn head blob seek for clients on, also change reflector address to the new reflector cluster ( We should keep reflector.lbry.io pointed to the old cluster, previous releaes will still piont to the old cluster). Make a release candidate so team members can test . Fix things if necessary\n\n\n[x] We need to migrate the blobs in the old reflector cluster to the new reflector cluster. Probably need to write a custom prism script (goes through the database for sd hashes, check any that are on the old hosts, retreive all its blobs from the hosts (can just scp probablly) and then reflect them to our new hosts)  Maybe this step comes before the step above...\n\n\n[ ] If everything ok, point reflector.lbry.io to the new reflector cluster. Make a release for public consumption. \n\n\n. da08650 is necessary because \nhttps://github.com/lbryio/lbry/blob/daaf6ffaad8559b0f2a1f23997f2c25d1636bff2/tests/unit/core/test_HashBlob.py#L42\nand \nhttps://github.com/lbryio/lbry/blob/daaf6ffaad8559b0f2a1f23997f2c25d1636bff2/tests/unit/core/test_HashBlob.py#L58\nfails without it ( if you dont delete before you fire finished_deferred, is_downloading() will be True and delete will not succeed because a writer still exists) . TODO:\nHashBlobReader could be integrated elsewhere, as it is adding an unnecessary read interface over BlobFile.open_for_reading()\nCan we get rid of BlobFileCreator? \nBlobFile.open_for_reading() is dependent on BlobFile.close_read_handler() , can we remove this dependency?. Fixed multiple writers writing to the same buffer by initializing BufferIO in HashBlobWriter instead of BlobFile. So I think what should happen is probably this\nBlobFile should have two key functions , open_blob_for_writing(), and open_blob_for_reading() \nBoth functions should return a file like object that is used to write() and read() from respectively and a deferred that firebacks when you've finished writing or reading. These file like objects that will be returned are  HashBlobWriter and HashBlobReader. \nThe current HashBlobReader is completely different from what we need (it implements a twisted consumer) and should be removed. The current HashBlobWriter is pretty close to what we need, expect it should probably not close itself when finished writing, and the cancel() method should be called close().\nIf we just return a file like object, its convention to call close() on it so users of blob files are less likely to fuck up.  If we implement a enter and exit, users could use \"with\" statements to work with the file like objects. Furthermore, downstream classes that need to work with blob files can be unit tested with simple file like objects. Development will also be easier on downstream classes since they do not need to know anything specific about blob files except to treat them as file like objects.\n. Made some modification to BlobFile.open_for_writing(). Now it just returns a file like writer object (HashBlobWriter) instead of returning a write and cancel function.\nRenamed HashBlobWriter.cancel() to close() to be more file like. Made some modification so that calling close() at any point does not break anything. \nAdded some more unit tests. Fixed empty tail blobs from being saved as a blob file and in stream info manager.. updated cryptography version to 2.0.3 , and fixed lints. This PR can be merged but noting here necessary future works: \nBlobFileCreator should be merged with BlobFile, \nBlobFile.close_read_handle() should not exist, calling close() on the read_handle should be sufficient. made it rely on https://github.com/lbryio/lbry/pull/872. Can you add a unit test here https://github.com/lbryio/lbry/blob/master/tests/unit/lbrynet_daemon/test_ExchangeRateManager.py\nIn the same style as here for the cryptonator feed: \nhttps://github.com/lbryio/lbry/blob/master/tests/unit/lbrynet_daemon/test_ExchangeRateManager.py#L82\nThis way we will know what the class expects from the cryptonator feed, incase they change the api.. Thanks for the work , I made some additional changes and closing this PR to move it here https://github.com/lbryio/lbry/pull/963. If fixed one of the test you commented out, \nI think the other test you commented out can be removed, wanna hear jack's thought on the last comment i made. . closing because fix has been merged https://github.com/lbryio/lbry/commit/33a95abeacf8e22e58610a862b57c62aec518c0c. I ran the tests, they work fine. As jack said fix the long lines please without join.\nrebase to master please, there's some changes to the tests that were committed since you made the PR. rebased to master. rebased again to master. I changed it to use the FileBodyProducer instead of using deferToThread. I think that is the more twisted way to do it,  but it will block on the write, which probably isn't that big of a deal. \nI think the next step is to write the consumer, which will prevent blocking on the write. This will require some refactoring of the StreamBlobDecryptor. \nRebased to master. . rebased to master and merging. Before, these cases would cause failures because of appending blob hashes to EncryptedFileReflectorClient.blob_hashes_to_send\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/reflector/client/client.py#L256\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/reflector/client/client.py#L292\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/reflector/client/client.py#L231\nThese are all error handlings cases when initial blob send failed, and it tried to resend. Not even sure that logic is necessary... I added some comments (marked as outdated for some reason), \nI'll try running this patch in lbry-in-a-box . Looks like there's some failures in the lbry-in-a-box regtest where it checks the DHT for existence of published hashes. Not sure the cause. . Is there a reason android must be compiled with PYTHONOPTIMIZE flag? . The correct behavior of file_list should be that it is never affected by any claim state (updating and abandons should have zero effect on what file_list produces). Files are just files, and they can and do exist without being attached to a claim (i.e., when reflector obtains it from clients). \nIf you need to look for a specific file attached to a claim. You should look up the claim's sd_hash and then use the sd hash to look for the specific file.   \nI would like to remove these fields from the file_list command:  name, outpoint, and claim_id. Removing these fields will prevent user's confusion about what claim a file belongs to (they need to use claim_list_mine for that) \nThis will also remove the file manager's dependency on wallet commands which can slow down file_list to a crawl for a node with a large amount of files and no available wallet cache (happens on reflector hosts).  \n. You have to use \"resolve\" in order to know if a name has been updated. \nYou \"resolve\" the claim, and check if you have the source file by using \"file_list\" with sd hash. \nI think the app is just using the \"name\" field in the file_list to check if it already has the file for a name. It needs to stop doing that, because that's wrong. \n. https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/Daemon.py#L1564\nIs checking if it already has the file by looking up the file by claim ID. \nThis is wrong, as updates preserve claim ID and could change the stream.. All commits except 071e5de  looks fine to me. \nCan you break out  071e5de into a different PR ? I think we need some further work on the DHTHashAnnouncer. I've mostly got it figured out how to remove the excess code involved with using locks and concurrent announcers using DeferredQueues that I can add on top.\nFurthermore, it seems like the blob announce time has increased in magnitude and variance with the recent fixes we've made to the DHT, so it seems like we will need a fix to the logic in how the blobs are scheduled to be announced by DHTHashAnnouncer and BlobManager.. Got this error when announcing blobs, see above comment in DHTHashAnnouncer for cause: \nUnhandled error in Deferred:\n2017-11-06 13:19:21,946 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-11-06 13:19:21,947 CRITICAL twisted:154: \nUnboundLocalError: local variable 'result' referenced before assignment\n2017-11-06 13:19:21,950 DEBUG    lbrynet.dht.node:303: Stored f5c3497729548688 to 0 of 0 attempted peers\n2017-11-06 13:19:21,950 WARNING  lbrynet.core.server.DHTHashAnnouncer:122: No nodes stored f5c34977295486888eb816dff21d29dc49907f35644f348d723b418d80ea49711058b91e0ba417be4565ed37968f8af5\n2017-11-06 13:19:21,951 INFO     lbrynet.core.server.DHTHashAnnouncer:158: announce_to:[Failure instance: Traceback: : local variable 'result' referenced before assignment\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:498:errback\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:565:_startRunCallbacks\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:651:_runCallbacks\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:1355:gotResult\n---  ---\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:1297:_inlineCallbacks\n/usr/local/lib/python2.7/dist-packages/twisted/python/failure.py:389:throwExceptionIntoGenerator\n/usr/local/lib/python2.7/dist-packages/lbrynet-0.17.1rc1-py2.7.egg/lbrynet/core/server/DHTHashAnnouncer.py:140:announce\n/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py:1297:_inlineCallbacks\n/usr/local/lib/python2.7/dist-packages/twisted/python/failure.py:389:throwExceptionIntoGenerator\n/usr/local/lib/python2.7/dist-packages/lbrynet-0.17.1rc1-py2.7.egg/lbrynet/core/server/DHTHashAnnouncer.py:131:do_store\n]\n2017-11-06 13:19:21,952 ERROR    lbrynet.daemon.auth.server:398: Failed to process blob_announce: iteration over non-sequence\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/usr/local/lib/python2.7/dist-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.17.1rc1-py2.7.egg/lbrynet/daemon/Daemon.py\", line 2520, in jsonrpc_blob_announce\n    yield self.session.blob_manager.immediate_announce_all_blobs()\n  File \"/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n    result = g.send(result)  \n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.17.1rc1-py2.7.egg/lbrynet/core/server/DHTHashAnnouncer.py\", line 159, in _announce_hashes\n    stored_to.update(announced_to)\nTypeError: iteration over non-sequence\n. I  am rebasing , fixing the issue I described above, and making some additional refactoring. df9b4e8 - it is required to adjust the blob announce duration, in order to keep the announce queue from piling up with blobs \n30d96bf - return the blob announce duration in API command status with dht_status flag for monitoring purposes\n23d1a53 - minor refactor to fix the fact we don't ever have more than one suppliers\n7de4bc4 - it is cleaner to keep track of retries within the function than setting up a unbounded dictionary\n99e6efe - Since we don't use call later's in DHTHashAnnouncer, we can remove the clock from unit tests\ncc314a8 - Fix the exception I reported above \nI think this patch should be tested on a reflector host and the blob announces monitored to see if its working. It is currently running on \"cluster-host-new2\" (172.31.28.63). \nThis patch does not fix the fact that the DTHHashAnnouncer still needs structural refactoring to remove the maintenance of lock and concurrent announcers. Current major problems of this class:the number of concurrent announcers is not bounded because every time you call _announce_hashes() , it launches X amount of concurrent announcers.  \n. Seems to be working fine on \"cluster-host-new2\" after several days. Announce time per blob is 6.9 seconds and the announce queue is not piling up.. I'm actually having problems finding blobs announced by \"cluster-host-new2\" with this PR. Investigation is needed.. Seeing a lot of these types of messages: \n2017-11-15 18:16:02,507 DEBUG    lbrynet.dht.node:264: Timeout while storing blob_hash dfda24be0cdd01cf at \n2017-11-15 18:16:03,189 DEBUG    lbrynet.dht.node:302: Stored e2c1c7b17e3f2dbb to 0 of 6 attempted peers\n2017-11-15 18:16:03,190 DEBUG    lbrynet.core.server.DHTHashAnnouncer:141: Stored 6532633163376231 to 6 peers (hashes announced by this announcer: . Removed @property from is_online() and rate_is_initialized()\nRebased to master. Rebased to master and merging . I think this change makes sense. \nBut changes need to be made to the lbrynet classes using getPeersForBlob() to handle cases where it receives itself as a blob source, otherwise it may try to download blobs from itself. Antonio, either jack or I will handle that part since we are more familiar with that part. \nAlso this would be for a new PR but we should clearly have functions for parsing and serializing the value of the key,value pair stored in the DHT. . Will continue this here : https://github.com/lbryio/lbry/pull/975. That doc is autogenerated by https://github.com/lbryio/lbry/blob/master/scripts/gen_api_docs.py but looks like the script never got run on release?\n. After discussion with jack , it looks like his \"from_peer\" field never gets used except in the if statement we just removed. I added a commit 90060e9 that completely removes the addition of this \"from_peer\" field. \nAlso rebased to master.. Rebased to master, \nthis is LGTM. LGTM. This is actually normal behavior but somewhat confusing output so should be documented (maybe blocks_behind should be set to None in this case). It happens because below reason: \nlocal height is whatever it was when you last started\nsever height is zero because lbryum has not yet recieved this information yet \nblocks behind is  -local_height because it is calculated as server height - local height\n. >ManagedEncryptedFileDownloader builds output files, which would double storage requirements for reflector servers\n\nManagedEncryptedFileDownloader tries to download blobs, reflector server probably shouldn't do that (certainly not immediately after receiving an sd blob at the beginning of a new upload)\n\nI think (not 100% sure so checking on this) that this PR does not actually do this because it keeps the ManagedEncryptedFileDownloader in the \"stopped\" state (although the user could toggle the state to \"running\" using API command file_set_status). It's definitely a problem that its way too confusing to figure this out, so some refactoring as you said below is necessary. Let me think about what would be a good course of action...\n\nI think there either need to be a few relevant settings broken out in ManagedEncryptedFileDownloader, or more ideally any information currently needed from the file manager by prism/reflector should instead come from the simpler stream_info_manager\n\n. Fixed blocking on add_lbry_file() when reflector server is downloading blobs\nAdded some additional tests in test_reflector.py to check file status (make sure its in stopped state, make sure it has correct number of blobs). Proposed API function by jack/jeremy\nclaim_renew(claim_ids,  expiration_threshold_days)\nclaim_ids - a list or a single claim id to renew, if None, renew all claims \nexpiration_threshold_days - only update claims that are within this many days of expiring. \nReturns:\n(list) List of dictionary containing result of the updated claims\n{\n'name': (str) name of claim (note that this field is not returned by lbryum update command)\n'tx' : (str) hex encoded transaction\n'txid' : (str) txid of resulting claim\n'nout' : (int) nout of the resulting claim\n'fee' : (float) fee paid for the claim transaction\n'claim_id' : (str) claim ID of the resulting claim\n}\n. Work for either jack or me: \nNeed to have some way in the daemon to obtain what Session.external_peer_port , Session.external_ip, and  Session.external_dht_node_port are set to (probably belongs in jsonrpc_status command ) . Two things needed to be done here by either jack or me: \na) Expose the new external port variables in Session class to some daemon command \nb) have conf.py detect if a setting has been touched by the user \nAntonio will make some additional commits on this PR , that uses the external ports in the dht\n. Added a commit to retrieve the external IP and ports through API command \"status -s\" . Added a unit test for the is_default function , \nIs there further work to be done on this @ordex ?. @ordex will add more to this PR, to deal with external IP's. Tested with lbry-in-a-box, there were no errors there. \nSo this is going to break backwards compatibility with the old nodes (which is fine), but I would like to know how the old nodes will break (what ERROR message should we expect to see on the old nodes so @tzarebczan will be able to diagnose users) , and whether the compatibility version changes will give you a useful error message (which it does not seem like it does). \nOtherwise I think it looks good to merge.. This LGTM.\nShould note that nodes with this PR is incompatible with the rest of the network (The below warning will be spammed in the logs: WARNING  lbrynet.dht.node:596: This node doesnt know any other nodes ),\nSo while it can be merged into master, it makes master not work with the rest of the network, unless a) our reflector hosts are updated and b) app-users get the PR. . Added auto_renew_claim_height_delta to config, \nAdded auto renew feature on startup \nMade auto_renew_claim_height_delta settable from settings_set \nStill need to test a bit. \nAlso the docstring for settings_set is exceeding pyling line limit, need to figure out a way to avoid that without upsetting the docopt parser . Fixed the pylint line limit on the docopt docstrings. Bug fix and made sure that the return dictionary for claim_renew is consistent, whether you renew by height or by outpoint.\nQuestion: what would be the default value for the new configuration variable auto_renew_claim_height_delta? Right now its set to 0 (turned off). \nThis is now ready for jack to review again and merge. . I agree with jeremy. #1006 and #1008 should be fixed first before this, not the other way around. \nProtobuf is overkill to fix the root issue, which is that we have ambiguous and unenforced return values from functions, most problematically in lbryum and lbryum-server functions. This can be mitigated in Python by using pre-defined classes or namedtuples (https://docs.python.org/2/library/collections.html#collections.namedtuple) for return values instead of dictionaries. . LGTM, \nAn argument that shuts off its ability to startup its own daemon would be nice (since you can't immediately connect to the daemon on daemon startup and then  lbrynet-console will start up its own daemon) . This is a temporary fix : https://github.com/lbryio/lbry/pull/1018. We saw this happen on content hosted on cluster host 8 and cluster host 10 . @tzarebczan, \nIts because during downloading, the client may need to pay multiple servers data fee(this functionality does not exist yet however) . Unfinished downloads start on startup and there is also auto-renew feature which depends on the password.  Overall, we just make the assumption in lbrynet that the wallet is always unlocked so there might be other issues I'm forgetting about.\n@akinwale, I think this is a good idea. Maybe \"code\" could be \"waiting_on_wallet_unlock\" and \"message\" could be \"waiting for user to unlock the wallet using wallet_unlock command\". . I think conf_file should not be in ADJUSTBALE_SETTINGS, that's too weird (you would be able to specify in the config file where the config file is, so what happens to the other config variables in that config file?)\nI believe, it should just be a one time use member variable in Config class, that you set on load_conf_file_settings() (i.e, there is Config.conf_file , and Config.load_conf_file_settings(conf_file=None) sets Config.conf_file and opens Config.conf_file if specified and uses default location when it is None) . LGTM. LGTM , just make sure to rebase the CHANGELOG properly. \nNot sure why continuous-integration/travis-ci/pr  is failing, I restarted it. . renamed paytomany to payto in lbryum, \nrebased to single commit and added changelog. Should adjust print_help() https://github.com/lbryio/lbry/blob/9460b57fcbe2a278f9f75ab91b86d1ed6bf46727/lbrynet/daemon/DaemonCLI.py#L184 to reflect changes. Any reason why the LBRY implementation was separated into the lbry repo ? (i.e. why is there no coin/lbrycrd.py). The exact problem was this: doing apt-get python-protobuf as specified by the README would install a different python protobuf version (2.6) than was specified in the requirements (3.2). \nREADME should probablly instruct people to download protobuf from source/binary so that they get the correct version of protobuf and also does not install another version of python-protobuf  https://github.com/google/protobuf/releases\n. Hmm. this error started popping up again on lbry-in-a-box despite this change https://github.com/lbryio/lbry-in-a-box/pull/17 \nAt a loss now on what the problem is. Tried using protobuf 3.4, and recompiling the .proto files to no avail.. https://github.com/lbryio/lbry-in-a-box/commit/cce15d5141e2ff20c1b5e089702492f8beecdc16 This seems to have fixed it. Problem was running pip install with \"-U\" argument which installs the most recent version of protobuf (3.4) , and not the one we need (3.2). Jack, I'm not sure what this addition to ResolveNameHelper is for, seems unrelated to the nout changes. I guess its for deleting lbry files in case the claim is abandoned? Should it be moved to a separate pull request? \nIt raised an Exception when I was testing, I think the cause is that lbry_files is empty? :\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/Twisted-16.4.0-py2.7-linux-x86_64.egg/twisted/internet/defer.py\", line 587, in runCallbacks\n    current.result = callback(current.result, _args, *_kw)\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.7.5-py2.7.egg/lbrynet/lbrynet_daemon/Daemon.py\", line 2548, in \n    d.addErrback(lambda : self._confirm_should_remove())\n  File \"/usr/local/lib/python2.7/dist-packages/lbrynet-0.7.5-py2.7.egg/lbrynet/lbrynet_daemon/Daemon.py\", line 2594, in _confirm_should_remove\n    lbry_file = next(lf for lf in self.daemon.lbry_file_manager.lbry_files if lf.uri == self.name)\n. This does not seem to be a white space fix? \n. k just making sure it was intentional \n. This is a good idea, but I'm gonna hold this off as the last thing to do, since its going to change the interface to a bunch of functions and will take some time to code. If I don't have time for it this week, it will have to go into next release cycle. \n. Changed to get_stream_info_from_claim_outpoint as outpoint is the term used in bitcoin to refer to txid + nout\n. Changed \n. Changed\n. Changed\n. Changed, along with adding db_revision file to configuration file \n. Changed\n. Changed\n. Changed\n. I think we need to revert ResolveNameHelper class back to what it was before, after reviewing I don't think the changes are relevant to this patch. \n. good catch. no the network.blockchain object uses local storage. Other functions in Wallet.py does not use the google style. I'll fix the commenting style of this and other function in Wallet.py  in a seperate pull request.. this allows us to know that a peer connection and request/reply to it was  completed and successful. without this, connection manager would attempt to reconnect to a peer that was returning an improper response. self.factory.deferred is a deferred that is supposed to fire when a client connection has completely terminated (either it failed to connect, or succeeded to connect). The other places where this deferred gets fired is clientConnectionFailed() under ClientProtocolFactory. In the unit test we wait for this deferred to check if a ClientProtocol connection was sucessful or not. \n. but than why not call reactor.callLater(0,.) for everything and why this specific function? \nI think _ask_for_request() will obtain the next request for downloading (should be fast) and call transport.write() which is supposed to be a non blocking call right? \n. I think that's good , in tests you need to be able to set callLater for all classes that uses it, and it would be better if you could just set a single function.\nI think this would be a seprate pull request, I see a lot callLaters in lbrynet that needs to be changed.. yea I'll check all the exceptions that can be returned here , and see if it needs to be handled . I see. OK, so I think what should happen is that it should yield until it found a peer to connect to and started to make a connection. That's what it was doing before ( not yielding until the peer is connected to ). Now this patch is yielding until a connection is fully terminated which you are right will limit the number of parallel connections. . sounds good. . I believe this exception catching is no longer needed. When connection fails (replicated in non existing server unit test),  ClientProtocolFactory.clientConnectionFailed() is called with reason ConnectionRefusedError. Before there was no logging information placed there (added in https://github.com/lbryio/lbry/pull/441), so this exception catching handled the logging. \n. made a more useful name for the deferred, and comments on what it does. Instead of firing a errback, we fire a callback and return False. protocol_disconnected() renamed to _peer_disconnected(), and does not require protocol as argument. ( only used for debugging here, and its always going to be ClientProtocol anways). Instead of using manage() and _manage() so that we can call _manage() in unit tests without scheduling, I added an argument to manage(), schedule_next_call that can be set to False for unit testing and is by default True. make sure we don't yield here ( there is nothing to yield here now anyways, as connec_to_peer() does not return deferred now). remove the exception catching here, all exceptions should be caught and logged by ClientProtocolFactory.clientConnectionFailed() . we attach a callback to the connection_was_made deferred that calls _peer_disconnected() , now ClientProtocol no longer needs to call disconnect peers in the ConnectionManager. This is good, because we need to reduce and eventually remove ClientProtocol's dependency on ConnectionManager. . Ran pylint on tests. Added tests to see if multiple parallel connections can be started using the manage() function . Added test for the  stop() function. moved into setUp(). I believe this exception catching is no longer needed. When connection fails (replicated in non existing server unit test), ClientProtocolFactory.clientConnectionFailed() is called. Before there was no logging information placed in clientConnectionFailed (added in https://github.com/lbryio/lbry/pull/441),  so the exception here would handle the catching and logging.   Now that we have #441, we don't need to catch and log here.. affirmitive. affirmative. affirmative. affirmative. affirmative. affirmative. affirmative. affirmative. yea probably need a test runner script that can configure logging . Yea this patch is pretty bad in that we are increasing the dependency between BlobManager and DHTHashAnnouncer. BlobManager should not really need to handle announce time related logic at all except maybe to read and write the database entry for it. I agree that your patch would be be the direction to go next. . that doesn't sound right. imports in python should not re import if the module already exists. do you have an example of when this would cause a problem?. reactortest1.py\nhttp://pastebin.com/6HPWQTBb\nreactortest2.py\nhttp://pastebin.com/gcvKnFUe\nDoesn't look like a problem.  reactortest2.py is fully aware of the added system trigger added in reactortest1.py. \n. choose a different reactor in reactortest1.py and check type(reactor) in reactortest2.py , you will see it will be the same reactor as initialized in reactortest1.py \nduplicate imports in python should do nothing but return the reference to the original import so it does not make sense that it would reconfigure reactor  . ok lets import in the function then , . Moved this test under lbrynet_daemon folder because that's where ExchangeRateManager is . Below are new tests to check proper parsing from Google/Bittrex. check if market.rate has been updated from initial None value. convert make_request to a function called by deferToThread. I don't think it needs to be a property, external classes do not need a setter for it, but rate_is_initialized() is a better name . not sure why this full_status option is necessary. Why not just always return full status. This function should probably not succeed if there are multiple matches that can be deleted. So probably call get_lbry_files() and than if there is more than one file, throw exception saying something like 'multiple matches detected, specify by file_name or another unique search value'\n. I don't think this code handles updated names. \nI think we need to resolve the name first and check if we have the file with the sd_hash and or stream hash in the file manager. This is wrong. Firstly because generate_claimid is broken because it hashes a hex encoded txid and not txid bytes. \nYou also don't need to generate claim id because when it is a new claim, the lbryum claim command returns the claim_id in the output, and if it is not a new claim, you already know the old claim_id in my_claim. \n    if is_new_claim:\n        claim_id = claim['claim_id']\n    else:\n        claim_id = my_claim['claim_id']\n\n. why did you delete immediate_announce here?. I don't see this get called on reflector after bob has been uploaded to reflector. if fee is specified in metadata instead of argument,the address will never be added\nI fixed this in:\nhttps://github.com/lbryio/lbry/pull/531\n. i think parenthesis are fine . how about \"delete_from_download_directory\" ? . Yes. Note that finished_deferred is set to downloader.start() at the end of download() function. \nMeaning that this initialized defer doesn't do anything. And if you try to attach a callback to it before downloader.start() is called, which someone did in the Daemon, it never gets called back. \n. name should be 'channel_name' to be consistent with jsonrpc_channel_new. is intentional other tests use the same naming scheme.. use: \n\"_get_old_directories(WINDOWS)['data']\" etc.. instead  to get the old directories  . I think it probably should be a 'or' statement instead of 'and' (if either one of the old folder exists, use old folder locations) . same thing here, use _get_old_directroies(LINUX)['data'] etc... and use 'or' instead of 'and' . add\nelse:\n      raise ValueError('unknown platform value') \nincase platform is set to some unknown value . same thing here, add else statement for safety. no instead of rewriting : \nuser_data_dir('lbryum', roaming=True) on line 115, you write _get_old_directories(WINDOWS)['lbryum'] . This makes it easier to understand and you don't repeat yourself. . missing self. here in disable_max_key_fee. there is a race condition that gets triggered on windows , but it could probablly happen on other OS (BlobFile class creates a temporary file which it deletes, rmtree will try to delete that file but it will have already been deleted)\nhttps://bugs.python.org/issue29699. there's no bool in sqlite . I've removed this. this right here: \nhttps://github.com/lbryio/lbry/blob/master/lbrynet/core/client/BlobRequester.py#L118\nIt looks like you could get that when there is no more blobs for it to download... not sure.  I'll look through the code again to see if we can improve this part. . looks like include_unconfirmed and exclude_claimtrie does nothing here.. I think it at least needs to marked in the doc ( wallet.get_balance() does not support either of those options ). Don't you mean wallet.is_address() here?. should_announce is set to True if its a SD blob or if its a head blob (blob_num == 0) \nSince the first line of the function sets should_announce to False, all other blobs should have should_announce == False \nI don't think its possible to receive blobs from clients before receiving the sd blobs when receiving streams.. i'm gonna take a closer looker at these, i had a quick conversation with jack about it. I think this fail() function just needs to stop the looping call and reraise the err, \nIt's attached as an errback to self.downloader.start(), (downloader is an ManagedEncryptedFileDownloader, it doesn't raise DownloadDataTimeout)  , I think you probablly mistook this as being attached as an errback to Downloader.start(): \ndef fail(self, err):\n    safe_stop_looping_call(self.checker)\n    raise err . So where is this being stopped now? . Should we try to catch all Exceptions here for now?  \nI know for example that its possible to catch an InsufficientsFundsError and MaxKeyFeeError from here, and we should probably not treat these as download errors, but I want to see the breakdown of what our errors look like in the new report since there could be other Exceptions we are missing that were being caught in the currently running analytics.\n. nvm I see, I think this is probablly a good idea , to remove the management of downloader from  outside of this class. Also , we need to stop self.streams[claim_id].downloader ( this is same as variable lbry_file ) regardless of what the Exception is here . This is related to the last unit test you commented out. \nI think the problem here was that if the user manually stops the download before the first blob is finished.  But I think looking a the daemon, that should probably not be possible for them to do now so I think this change is ok. Was there a reason you changed this? \n. It's possible, FYI the new class is HashBlobReader , and the old class was renamed from HashBlobReadr to HashBlobReader_v0 ,\nHashBlobReader_v0 provides a read interface to StreamBlobDecryptor in a producer/consumer pattern.  But StreamBlobDecryptor can be reworked to use a read /write handle interface and use HashBlobReader. You said this happens when UPNP is not enabled? \nMaybe log a warning here? \nAlso does this still work if someone wants to test the DHT on their local network? \n( I should probablly run lbry-in-a-box testing for this) . This a list of built in exceptions no? \nKind of confusing , may be rename it to BUILTIN_EXCEPTIONS . Does it make sense to do this? If UPNP failed, what good is setting an external ip that you can't listen to?. Can't do self.hash_announcer.run_manage_loop() without running self.blob_manager.setup() first since hash announcer depends on blob manager.. When calling stop(), current_blob was getting closed but not being written tot he blob_manager as it would be in _write() function, I create _close_current_blob() to do the same for both _write() and stop() function. no and should be removed. might as well make these of type ValueError  for clarity (first is because timestamp is too dated, second is because spot must be more than 0) . this is not a portable way of getting the video duration (won't work on windows, won't work if you have ffmpeg installed elsewhere). \nIt also only works with ffmpeg and does not handle cases when the file is some other file type. \nIdeally there is some python video library that can process multiple media file types well, but I'm hesitant to make lbrynet daemon be some kind of media processing application when that should probably be handled by the app ( https://github.com/lbryio/lbry-app). \n. what is this for?. We can use a defer.DeferredSemaphore to vastly simplify this and remove managing of self._concurrent_announcers \nSee Example usage here: https://github.com/lbryio/lbry/blob/bbc960aaf95569d4cafcbae7e4b1c638973f3797/lbrynet/file_manager/EncryptedFileManager.py#L245 \nBasically we set up class variable self.sem_conncurrent_announces = DeferredSemaphore(self.CONCURRENT_ANNOUNCES) \n. Actually I think I need to think about this a bit, there might be a cleaner way of doing this using DeferredQueue's. Put in comments here what version of the daemon has the \"old and broken version of the ping command\"  (16.4 right?) \nI don't think we want to keep this around forever. Before this PR StreamBlobDecryptor used FileSender() and the producer/consumer pattern to decrypt blobs in an asynchronous manner, so we want to keep that.\nIf we dont't deferToThread, this will block the reactor till a standard read()  and write() to a normal file handle is finished ( the write() is called by write_bytes() see lbry_file/client/EncryptedFileDownloader.py EncryptedFileSaver._get_write_func() ). This class here sets up the producer/consumer pattern . you can see here that it uses FileSender() so that StreamBlobDecryptor can decrypt blobs asynchronously. this should be run with _run_cmd_as_defer_succeed\n# run commands as a defer.succeed,\n# lbryum commands should be run this way , unless if the command\n# only makes a lbrum server query, use _run_cmd_as_defer_to_thread(). what is this if statement doing here? Its kind of wiered, its saying if the found host (the value in the key value pair) is from localhost and is not itself, change the host to where it received the key value pair from?\n\nIs this if statement necessary? . i don't see a good reason for using @property in either is_online() or rate_is_initialized() so I will remove them \n. see discussion at end here: #968. There is a BlobManager class which knows all the blobs  it has. In theory , when the daemon is downloading it should not try to download blobs it has announced. But I think in practice, this can happen if for example you announce a blob, and than you delete the blob in blob manager and try to download the same blob again. . need better docstring for dataDirectory (describe what it does when None, etc..)  , need docstring for fileName. add comment for what self._node_state is. Doesn't look like JSONFileDataStore uses self._node\nIf it does, you have a circular dependency\n. I think dht.node class should be initialized with self.external_peer_port instead of self.peer_port for its peerPort argument : https://github.com/lbryio/lbry/blob/d1c3e04684599dcabfbd092108045ffd013bacb8/lbrynet/core/Session.py#L319. Not sure if this is the best way to do this since ADJUSTABLE_SETTINGS is meant to store the default value.. so if you do the daemon API command  settings_get, you will get back that dht_node_port and peer_port is None if user haven't set them, which can cause confusion. \nAnother problem is if the user wants to set the dht_node_port to some other non default value but also still wants to UPNP to map to any port, this is not possible.\nI think alternatively, we can create another setting like 'upnp_any_port_mapping' that turns this feature on/off. This solution seems cleaner to me.\n. what was going to be in this PR? Other than this change? \nSeems like it belongs with this PR because otherwise you are advertising to the DHT the wrong port? . I get your above immediate above point. I don't have a strong preference for either way, but if we are going to go with the current implementation, than the dht_node_port in ADJUSTABLE_SETTINGS should be set to the default value and not None (and than we turn upnp any port map on/off depending on if the port is set to default value) OR, we need to create a mechanism in the conf.py that detects if some setting has been touched by the user or not because that doesn't exist right now.  Otherwise as I mentioned before, API command settings_get will return None for the port values which is not informative.\n. These FIXED_SETTINGS variables seem unused now. These tests look like they belong in lbryum since no lbrynet objects are used here. \nI think moving this to new file under lbryum/tests like test_encryption.py would be good.  It will help us test the lbryum part of the change indepedent from the lbrynet changes. \nAlso , you can use unittest setUp() function to remove code duplication in these tests (wallet = MocEncryptedWallet() to wallet.wallet.create_main_account() can be put in the setUp function)\nYou can also use unittest tearDown() to cleanup the temporary directories using shutil.rmtree()\nAlso I think we should look to improve these tests a bit. I want to actually see if the wallet has been encrypted or decrypted properly , probablly using lbryum wallet function get_master_private_key()  and check_password() , and also some better testing for the keyring to see if we can properly switch between wallets and using keyring function to see whether  passwords are properly stored there. . This configuration does not propagate to the lbryum configuration (lbrynet config and lbryum config files are seperate) . This was moved from ManagedEncryptedFileDownloader in lbrynet/file_manager/EncryptedFileDownloader.py which inherits from this class. This sd_hash attribute was moved to the class that it inherits from as part of this work\n\"\nManagedEncryptedFileDownloader had a function load_file_attribute() which is used to load claim information along with the sd_hash. Since #983 removes claim information from files, now all this function does is load the sd_hash. Move this task to the base class EncryptedFileDownloader in function set_stream_info() where it gets stream information (cleaner since we have less setup functions that needs to be run in order to load file information).\n\". We should be all caught up by the time it calls auto_renew() since it comes after setup of the Wallet, I added a sanity check though. And also used remote height instead of local height since that should be more up to date.. fixed. I think  that start_lbry_file() function immediately below this should create ManagedEncryptedFileDownloader() in the same manner as _start_lbry_files(). Otherwise we have two completely different ways of creating ManagedEncryptedFileDownloader instances. \nThis should mean that we should be able to delete some functions in the base classes of ManagedEncryptedFileDownloader like https://github.com/lbryio/lbry/blob/8eba9dc4b1b2a945fc66b7c5aab7354aad05ad50/lbrynet/lbry_file/client/EncryptedFileDownloader.py#L32 \nthat on its own pulls things from the stream_info_manager. \nOverall I think its good that the file manager is the one and only place responsible for pulling in data from stream_info_manager .. I think these variable need to be passed down to EncryptedFileSaver instead of being intialized here because they are ultimately used there or in another base class CryptStreamDownloader . . is \"return\" the proper thing to do here? \nMaybe we should be throwing a exception and catching it here:\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/dht/protocol.py#L206\n. spelling : check if a config file \"has\". ",
    "RdeWilde": "But would that mean wallet(file)s switch too? That would become a small disaster.\n. Build from source vs debian package. Uninstall using pip.\n. ",
    "lbry-sync-bot": "\u27a4 Job Evers-Meltzer commented:\nas lbrycrd is going to be deprecated, I'm closing this.\n. \u27a4 Job Evers-Meltzer commented:\nTesting unito sync again\n. \u27a4 Job Evers-Meltzer commented:\nif Sierra doesn't build on travis on like the first or second try, let's not waste time on it with travis being so backlogged.\nLets get our own osx box and manually run builds on there until we get our own OSX ci process\n. \u27a4 Jack Robison commented:\nbuilding the app with https://bitbucket.org/jackrobison/pyobjc/ (current pyobjc + supportsSecureCoding patch) on 10.11, 10.12 (and older) works. When built on 10.12 it also works, but is not backwards compatible. Presumably the app can also be built in a backwards compatible manner on 10.12 if MACOSX_DEPLOYMENT_TARGET is configured properly (which I didn't muck around with yet). it can reliably be built locally, but not on travis.\n. \u27a4 Job Evers-Meltzer commented:\nClosing as electron supports Sierra\n. \u27a4 Alex Liebowitz commented:\nFix PR: https://github.com/lbryio/lbry-web-ui/pull/79\n. \u27a4 Job Evers-Meltzer commented:\nhttps://app.asana.com/0/92373278766436/92373278766436 is this fixed?\n. \u27a4 Jack Robison commented:\nthe unicode download directory fix got this working for Josh and me.\n. \u27a4 Alex Liebowitz commented:\nPR for fix: https://github.com/lbryio/lbry-web-ui/pull/80\n. \u27a4 Jack Robison commented:\nWell that's no good, will check it out\n. \u27a4 Job Evers-Meltzer commented:\nI'm going to assign this one to https://app.asana.com/0/98111189457572/98111189457572; Jack - I think you have enough on your plate for now\n. \u27a4 Job Evers-Meltzer commented:\nhopefully this does it: https://github.com/lbryio/lbry/pull/302\n. \u27a4 Alex Liebowitz commented:\nHow about when the user tries to type an invalid character it refuses it and shows a tooltip type message, something like: \"LBRY names may only contain alphanumeric characters and underscores.\" Maybe with that white-on-black look you often see in form help messages?\n. \u27a4 Alex Liebowitz commented:\nJeremy, do you have thoughts on the above idea?\n. \u27a4 Alex Liebowitz commented:\nPR for fix: https://github.com/lbryio/lbry-web-ui/pull/89\n. \u27a4 Job Evers-Meltzer commented:\nperhaps related to https://app.asana.com/0/198587529699250/208246030992063\n. \u27a4 Job Evers-Meltzer commented:\nA potentially related logfile: https://gist.github.com/jobevers/c115d622ad693ded287c5df46574c6a9\n. \u27a4 Job Evers-Meltzer commented:\nhttps://app.asana.com/0/140524388888825/140524388888825 can you take a look at this this cycle?\n. \u27a4 Alex Liebowitz commented:\nThis is a lbrynet thing. I think Jack has a plan for how to fix it, but other stuff has taken priority. Adding Jack.\n. \u27a4 Job Evers-Meltzer commented:\nThis appears to be a reflector issue and https://app.asana.com/0/92373278766436/92373278766436  is working on updating reflector.\n. \u27a4 Job Evers-Meltzer commented:\nhttps://app.asana.com/0/92373278766436/92373278766436 and https://app.asana.com/0/98111189457572/98111189457572 are working on updating reflector to a more recent version of lbrynet\n. \u27a4 Job Evers-Meltzer commented:\nNeed to check out the signing mechanism on appveyor, its probably failing silently\n. \u27a4 Job Evers-Meltzer commented:\ndowngrading to cx_freeze 4.3.3 fixed this\n. \u27a4 Job Evers-Meltzer commented:\nI'm working on getting more hosts up with this content.\n. \u27a4 Job Evers-Meltzer commented:\nThese names have been reseeded and are generally available now.\n. \u27a4 Job Evers-Meltzer commented:\nAround this time, I am seeing these errors in the reflector log:\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:   File \"/opt/venvs/lbrynet/local/lib/python2.7/site-packages/lbrynet/reflector/server/server.py\", line 40, in dataReceived\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:     d = self.handle_request(msg)\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:   File \"/opt/venvs/lbrynet/local/lib/python2.7/site-packages/lbrynet/reflector/server/server.py\", line 72, in handle_request\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:     return self.handle_normal_request(request_dict)\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:   File \"/opt/venvs/lbrynet/local/lib/python2.7/site-packages/lbrynet/reflector/server/server.py\", line 114, in handle_normal_request\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]:     int(request_dict['blob_size'])\nJan 06 09:36:56 reflector4 lbrynet-daemon[18887]: exceptions.TypeError: int() argument must be a string or a number, not 'NoneType'\nNot sure they're related, but worth investigating.\n. \u27a4 Job Evers-Meltzer commented:\nhttps://app.asana.com/0/98111189457572/98111189457572 can you take a look at the blockchain explorer\n. \u27a4 Job Evers-Meltzer commented:\nThis also affects the UI.  I attached a short video demonstrating the issue.\n. \u27a4 Alex Liebowitz commented:\nFixed in this commit: https://github.com/lbryio/lbry-web-ui/commit/ac5a588490097741b74dcfa50e6e846d5baf9581 (accidentally pushed to development, so no PR)\n. ",
    "jsophrin": "A script that just makes a backup of the wallet files wherever they are and have it located int he settings area of the lbry, so that other people avoid this situation.\nVisually Map/Index it?\nApart from FAQ, new users at least testers and engineer advanced user folks that are not familiar with the structure of the application and its supporting files may need a more detailed visualized overview of where components are located and their relationship to one another. Maybe not the complete nitty gritty, but the main components at least so that troubleshooting and navigation is a little easier.  Components could then stay or move around where they have been defaulted by the programmers/scripts. \n. ",
    "nkhayet": "Problem was fixed after I got a new IP and registered again. Now a new problem - after running the command \"lbrycrd-cli listaccounts\" It says error: couldn't connect to server which is not correct as I'm connected.. \n. What Jonas suggested is the solution to this problem, If anyone needs help with understanding how the model works, just type lbrynet-cli help. Don't forget it's the commands here takes JSON only. \nlbrynet-cli located in the following path: /usr/share/python/lbrynet/bin/lbrynet-cli\n. ",
    "alexliebowitz": "We implemented this on the front end, but ended up deciding to go with local storage, so it doesn't need a daemon component. Thanks!\n. Solved on the front end side with this PR: https://github.com/lbryio/lbry-web-ui/pull/79\n. Superseded by #303. This bug ended up being in the UI layer, and has been fixed since. Thanks!. LGTM. Re:  @lyoshenka's  security concerns, the best way to handle this would be to pass in a (stream_name || sd_hash) instead of a path.* This is a more intuitive API anyway.\n* Although Jack pointed out today that SD hash doesn't quite work as a unique ID for entries in the file manager; you could have 2 files with the same SD hash. Same with claim ID. We're now planning to create a new unique ID field that will replace SD hash in most API calls. Not sure if that will end up getting merged before this PR or not.. Closing this, work continues in #410. Yep, it was part of the original approach of checking the existing version using lbrynet-daemon --version which we dropped. Closing.. @kauffj: Well, technically most of the \"clean\" error responses from the daemon are still exceptions. You just include a human friendly message when you raise the exception and it gets passed along in the message field in the response. So to fix the daemon side of this, I would think that we just need to add a message here: https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/Daemon.py#L1735 Although I might be missing something.\nAnyway, once this is fixed we still need to fix the UI side to 1) pass along the error message from the daemon instead of the vague \"internal error\" message and 2) not allow you to try to publish with a channel that wasn't successfully created (the problem that @kennethreitz had). Alright. Yeah, I was right on the border on this one. I feel like the big idea of lbrynet is that it's effectively a library that gives you just about everything you need to build a LBRY app (even things you could theoretically build yourself). On the other hand, this is so trivial that it seems overkill to have to query the daemon just to validate an address.. Good catch. It's in PEP 8, so I do follow this (the only rule I knowingly bend in PEP 8 is line lengths)\n. Thought about this and decided to go with just a string. I've seen web APIs that return just strings before, and it makes sense when you're returning a single value, not a data structure that could have more elements later.\nAlso, this isn't part of the main JSON-RPC API; it's a custom resource used by the web UI, like /view (this one happens to return some JSON, which I guess technically makes it REST API). It's a one-off hack to deal with the fact that we can't collect the original file path from the Web UI.\n. The thing is that it's not an endpoint in the main JSON-RPC API, it's a POST resource for a form in the web UI. We wouldn't want to mix that functionality in with the JSON-RPC code, ditto for \"view.\"\n. This class is 99% copy and pasted from that blog post. Mostly I just deleted code branches we didn't need. I didn't want to spend a ton of time refactoring someone else's code; I'd rather have done a library import but 1) it's not on PyPI and 2) I had some changes that would require monkey patching if I didn't edit the code.\nYou're right about log.debug, though. I'm tempted to leave the do_log thing because the logging is very noisy and I normally don't want it even in debug mode.\n. I lean toward the \"packages as units of reuse\" model, and this is unlikely to get reused anywhere else. It includes a slightly ugly hack that only applies to this exact situation (i.e. not deleting the temp files). You're right, though, the file is just too big. I'll move it out.\n. In this case, the \"what\" and the \"why\" are kind of the same--the file starts in a tempfile with a randomized name and we need to put it in a new spot with the correct name.\nAlso, move_to_temp_dir_and_restore_file_name  is the shortest function name I can think of that would convey the needed info on its own, and that's pretty long winded. I guess I'll just modify LBRYDaemonRequest so it directly puts them in the right place (makes the code even less reusable since that means it's creating temp dirs as well as temp files, but whatever).\n. Twisted knows about this and they're not changing anything because it will be moot once they fix a different bug (see that blog post).\nModifying built in modules and then changing them back is kinda gnarly... even more of a hack than copy and pasting code IMO. It also creates a potential race condition if we ever use cgi.parse_multipart in another thread (unlikely to come up in practice but it's not strictly guaranteed safe like in JS).\n. The fee_info sub-schema is duplicated from Fee.py. If we found a way to use JSON files instead of hard coding it in Python, we could use JSON Schema's $ref keyword to pull in the schema from the Fee file instead. \n. I feel like this should be renamed now that the parent class has been. Maybe ValidatedFee? FeeDict? Hm.\n. Fair enough. Fixed. I retained the \"is not None\" style for check_requirements because it's a boolean.\n. Job, Jeremy and me have kicked this around and we decided to split the difference: create a new module called something like file_utils with functions revea() and open() that have separate switch statements. A lot simpler than making three classes and a factory but still abstracts out the OS handling stuff.\n. Thanks for the tip--done.. PEP 8 says parentheses where possible, backslashes acceptable under some conditions: http://pep8.org/#maximum-line-length. Duh, thanks. I started by copy and pasting the code from jsonrpc_address_is_mine since it's almost the exactly the same thing, but I didn't notice that I failed to change that part because all of the addresses that I used to test\n happened to be my own.. ",
    "hpierce1102": "I got it working - but had to change some dependencies and get a newer version of setuptools to do it. Here's the fork with the changes.\nNote that when installing it you should specify python2 rather than just plain python as python uses python 3.5 on my machine:\nsudo python2 setup.py install\nI'll submit a PR if there's interest, but I realize bastardizing the dependencies like this might not fly.\n. @abueide I can't confirm this, my python3 environment appears to be unaffected. Can you provide any more details? \nThat error message suggests to me that you're importing a specific package that references a missing dependency (which it claims to include).  If you're certain that this is because of running setup.py, I might guess that something happened to python3's import paths. Though again, I can't confirm this, my import paths for python3 are more or less what I'd expect them to be.\n@kauffj, I'm not currently a Slack user - but if this PR ends up getting any more complicated (as it appears to be) I'd look into joining.\n. ",
    "nickodell": "@kaykurokawa Not sure that's a bug. Looks like that script builds a .deb, so it would need stuff that Ubuntu users don't need for normal use.\n. ",
    "abueide": "Thanks @hpierce1102 I'll try it tomorrow. I was starting to be tempted to use the buggy beta windows version on wine to make it even more buggy lol.\n. @hpierce1102 what do you do after you run the setup.py? it seems to have run successfully but idk what to do now\n. @kauffj nice, it works thank you. Also thanks @hpierce1102 \n. @hpierce1102 doing this seems to have broken my python 3, anything I try to run with python 3 spits out \"ImportError: The 'packaging.version' package is required; normally this is bundled with this package so if you get this warning, consult the packager of your distribution.\" and i don't know how to fix it.\n. @hpierce1102 I fixed the problem, and re-ran setup.py seems to have worked fine. I think the error was probably caused by something else. I think it might have been another command I ran using setup.py (python setup.py build bdist_egg), which I found in RUNNING.md\n. ",
    "tombrandi2": "We are still in beta, but as we are getting closer to a \"stable\" release i'll talk with the team to get this working aswell! Thanks for noticing!// Slack mod Fillerino\n. ",
    "chriswanaka": "Hi. ",
    "digidan": "same, and based on the message above it doesn't look like this will be resolved soon.\n. ",
    "tzarebczan": "@jackrobison I hear this may be fixed in the latest version... Let's close it if so. I haven't tested, but I know it was an issue plaguing many users recently too. . We had some recent work done on encryption by another Dev. Definitely on\nour list and a wip.\nOn Jun 18, 2017 8:39 PM, \"Sandwich\" notifications@github.com wrote:\n\n:|\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/212#issuecomment-309313864, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkcJBHYUf-5QfsJT3x1DpA2eZjq7fks5sFcNOgaJpZM4KhZ9G\n.\n. I haven't seen this one creep up lately and it would most likely be related to some local network issues with ports/UPNP.  Not sure how to reproduce. . Thanks for the replies.  Yes, for #2 I was referring to the default_wallet file (2MB in size).  . When I copied over old blob files and wallet to new install,I get the below.  Files don't show under My Files.  My blobs/files were a bit corrupted (they kept redownloading them - @jobevers aware of the issue and has my files/wallet) so that could be by.  \n\n2016-12-05 14:12:11,197 INFO     lbrynet.core.RateLimiter:72: Starting \n2016-12-05 14:12:11,197 INFO     lbrynet.core.BlobManager:95: Setting up the DiskBlobManager. blob_dir: C:\\Users\\thoma\\AppData\\Roaming\\lbrynet\\blobfiles, db_file: C:\\Users\\thoma\\AppData\\Roaming\\lbrynet\\blobs.db\n2016-12-05 14:12:11,239 INFO     lbryalert.lbrynet.core.Wallet:1152: Loading the wallet...\n2016-12-05 14:12:13,436 INFO     lbryalert.lbrynet.core.Wallet:1231: Wallet loaded.\n2016-12-05 14:12:13,436 INFO     lbrynet.core.BlobAvailability:28: Starting \n2016-12-05 14:12:13,513 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,513 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,513 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,515 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,516 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,516 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,516 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,517 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,517 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,519 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,519 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,519 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,520 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,520 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,522 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,523 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,523 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,523 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,525 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,525 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,526 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,526 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,528 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,528 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n\n2016-12-05 14:12:13,529 ERROR    lbrynet.lbryfilemanager.EncryptedFileManager:85: An error occurred while starting a lbry file: no such column: n. UnknownNameError: Name jiggytom is unknown\n2016-12-15 21:52:38,857 WARNING  lbrynet.core.Wallet:354: Got an error looking up a name: name is not claimed\n2016-12-15 21:52:38,858 ERROR    lbrynet.lbrynet_daemon.Daemon:164: Failed to resolve name: Name jiggytom is unknown\nUnknownNameError: Name jiggytom is unknown\n2016-12-15 21:55:21,253 INFO     lbrynet.lbrynet_daemon.Daemon:1928: Got new wallet address: bN8afbh4QcT8BRHg8kdRevLBx5QvEw5YWx\n2016-12-15 21:55:21,269 INFO     lbrynet.lbrynet_daemon.Daemon:1674: Publish: {u'file_path': u'C:\\Users\\thoma\\Downloads\\Zec miner 0.0.4b.zip', u'bid': 5, u'name': u'jiggytom', u'metadata': {u'license': u'Creative Commons Attribution 4.0 International', u'fee': {u'USD': {u'amount': 5, u'address': u'bN8afbh4QcT8BRHg8kdRevLBx5QvEw5YWx'}}, u'description': u'miner for windows and Linux. 330 sols/s on 1080 and 300 for 1070 well oced.', u'language': u'en', u'author': u'nvidiarepo', u'title': u'zcash miner .4 from ewbf', u'nsfw': False}}\n2016-12-15 21:55:21,279 INFO     lbrynet.lbrynet_daemon.Daemon:2479: Resolving stream info for lbry://jiggytom\n2016-12-15 21:55:21,598 WARNING  lbrynet.core.Wallet:354: Got an error looking up a name: name is not claimed\n2016-12-15 21:55:21,598 INFO     lbrynet.lbrynet_daemon.Publisher:41: Starting publish for jiggytom\n2016-12-15 21:55:21,790 INFO     lbrynet.lbryfile.EncryptedFileMetadataManager:226: Saving sd blob hash 6d7d5d63a4d6ee650b23ac392c77d9c5aa6a76b6c4ff78f85fef5a3560d34d30cc049995d7847ef1985c4f700ab0da12 to stream hash 43bca3df440f1518a29344eb19ce343db4383a0f48b30e26f4d460237af6f8e6b092acf830853b31073421276c47bf13\n2016-12-15 21:55:23,305 ERROR    lbrynet.lbrynet_daemon.Publisher:164: An error occurred publishing Zec miner 0.0.4b.zip to jiggytom. Error: no such column: n.\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\threadpool.py\", line 262, in \n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\enterprise\\adbapi.py\", line 445, in _runInteraction\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\enterprise\\adbapi.py\", line 459, in _runQuery\nOperationalError: no such column: n\n2016-12-15 21:55:23,306 ERROR    lbrynet.lbrynet_daemon.auth.server:164: API Failure: Publish failed\nException: Publish failed\n2016-12-15 21:55:51,132. Ah okay.  Yea I didn't clear that out... I will.\nOn Dec 15, 2016 10:31 PM, \"Job Evers\u2010Meltzer\" notifications@github.com\nwrote:\n\n@tzarebczan https://github.com/tzarebczan - I think you copied your\ndata folder recently from one machine to different one; unfortunately there\nwas a schema changed that happened with one of the internal databases\nrecently. I fear that maybe manually copying some stuff meant that the\nmigration didn't happen and you have an old database.\nAs a TODO for us - the schema version should live in the database itself\nto prevent this.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/343#issuecomment-267509167, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkXx3XZBrBIBzDS0FSsUfYzH4ovS1ks5rIgYpgaJpZM4LOz07\n.\n. Your file has been published to LBRY at the address lbry://jiggytom!\nYou will now be taken to your My Files page, where your newly published file will be listed. The file will take a few minutes to appear for other LBRY users; until then it will be listed as \"pending.\"\n\nshows original claim info right now...which was in the failed publish. will be good to see if it updates with latest.\nedit 2: yup, it updated. perfect. . And now the file is gone from published, see this in log:\n2016-12-16 13:41:32,743 INFO     lbrynet.lbrynet_daemon.Daemon:2479: Resolving stream info for lbry://jiggytom\n2016-12-16 13:41:33,164 WARNING  lbrynet.core.Wallet:354: Got an error looking up a name: name is not claimed\n2016-12-16 13:41:34,181 INFO     lbrynet.lbrynet_daemon.Daemon:2479: Resolving stream info for lbry://jiggytom\n2016-12-16 13:41:34,500 WARNING  lbrynet.core.Wallet:354: Got an error looking up a name: name is not claimed\n2016-12-16 13:41:35,516 INFO     lbrynet.lbrynet_daemon.Daemon:2479: Resolving stream info for lbry://jiggytom\n2016-12-16 13:41:35,937 WARNING  lbrynet.core.Wallet:354: Got an error looking up a name: name is not claimed\n2016-12-16 13:41:36,983 INFO     lbrynet.lbrynet_daemon.Daemon:2479: Resolving stream info for lbry://jiggytom\n. I eventually republished and it's back in My Files>Published.  . Nope, let's close for now. . 2016-12-15 23:44:08,946 ERROR    lbrynet.lbrynet_daemon.auth.server:164: API Failure: [Error 2] The system cannot find the file specified\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\threadpool.py\", line 262, in \n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"C:\\Python27\\lib\\site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"C:\\Python27\\lib\\subprocess.py\", line 711, in init\n    errread, errwrite)\n  File \"C:\\Python27\\lib\\subprocess.py\", line 959, in _execute_child\n    startupinfo). This is still an issue @jobevers \nHappens in My Files, after you click the ellipses and go to \"reveal file\" . On windows, just tried in 0.7.12rc3. I then retried it, and published something to lbry://five...it says published, took me to My Published screen, but had the name of the file that's already on five, and not my file.  The file shown was Bread (and art film) - with 0% downloaded. \nHmm.\nHere it should have told me about the naming claiming system.  Or it should have mentioned it when I tried to outbid (may not know it's not mine yet?).  But to say that it published, that's odd.  And then show the wrong file, even worse. . Nope, that's an old issue. Let's close for now. . Yes it does, but I may have some really old blobs in there after testing for a couple months. Is it worth looking into? . @mirgee  - I think once you download more content from LBRY, this starts to creep on you when you restart the daemon - it tries to find blobs to share, but can't open them for whatever reason. It could be old bad downloads/uploads, could be corrupted blob files, etc.\nMaybe a way to reproduce it would be to forcefully corrupt some blob files in  blobs directory withint lbrynet folder ( https://lbry.io/faq/lbry-directories ). Yes, still happens. I'll try to reproduce it.  But it's also hard to tell what's going on when the error is \"Couldn't open that blob for some reason.\" :). At least one way to reproduce this is to remove an sd blob (main blob file, named sd hash / lbry sd hash from the resolve command) from the blobs folder.  What should happen in this case? This means the user downloaded the file, its still in their downloads folder, but the blobs went missing. Should it try to re-download the blobs? . Eventually I was able to get \"It's a Disaster\" to download...\nI was able to download the rest eventually. . Can confirm this is fixed. Created a test scenario with a file already created for one I was about to download. It added the _1.\n2018-08-14 17:31:13,588 INFO     lbrynet.daemon.Downloader:96: Download lbry://zeycussabstractchess status changed to stopped\n2018-08-14 17:31:13,588 INFO     lbrynet.daemon.Downloader:152: Finished downloading lbry://zeycussabstractchess (ce242a) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\Zeycus's Abstract Chess_1.stl. It's a really old issue and claim - probably the user never opened their ports to correctly share the file.  I'm closing it. . Sure that's a temp work around, but this was more intended for people who\nwill be downloading content with the purpose of sharing it. I know we are\nin beta, but I get blob errors from time to time and I assume this means\nsomething is wrong with the blobs and they won't be shared when someone\ngoes to download the file. Can't we have some type of verification of the\nblobs against the content that was downloaded? This may become tricky once\ncontent changes claims, not sure what the path forward there is.\nTom\nOn Jan 9, 2017 11:36 AM, \"Job Evers\u2010Meltzer\" notifications@github.com\nwrote:\n\nAn unsatisfying temporary solution - you can check if port 3333 is open:\nhttp://www.canyouseeme.org/\nIf its not, you aren't able to share.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/392#issuecomment-271334053, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkROFrYqeV2TodhK3XQAYP7tzh-Aaks5rQmHzgaJpZM4Ldifb\n.\n. Sorry for the late reply, yes 8.0 RC0. Many files were recently moved but the package doesn't have the new path.\n try this: /opt/venvs/lbrynet/bin/lbrynet-daemon\n\nOn Jan 18, 2017 1:50 PM, \"janellebradleyZ8p\" notifications@github.com\nwrote:\n\n~/Downloads$ lbry --help\nrunning lbrynet-daemon...\n/usr/bin/lbry: line 31: /usr/share/python/lbrynet/bin/lbrynet-daemon: No\nsuch file or directory\ninstalled from .deb package\nUbuntu 14.04\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/425, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkb6XKJefKY5UVC_vCgmbt80PgaVlks5rTl8AgaJpZM4LnQLJ\n.\n. This definitely needs to be a feature of the claim management system, not\nvery user friendly now.\n\nOn Jan 25, 2017 10:32 AM, \"Jack Robison\" notifications@github.com wrote:\n\nIt's worth noting that any active claims/supports in an old wallet will\nnot transfer to a new one with this process. I don't think there's really a\nclean way to move those over, however they can be abandoned and made again.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/437#issuecomment-275139467, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkeRtpFVvBbNsViZMpDMUXjCuKzxoks5rV2sJgaJpZM4Lrrlr\n.\n. The correct location of the commands.py is :https://github.com/lbryio/lbryum/blob/master/lbryum/commands.py . Fixed by https://github.com/lbryio/lbry/pull/987. @trumpomax can you send an email to help@lbry.io with your log file please https://lbry.io/faq/how-to-find-lbry-log-file\n\nIt could be an issue coming from an older version. . @GWBasic looks like someone submitted a PR for this already: https://github.com/lbryio/lbry/pull/1095\nBest way to test the fix would be to follow the reproduction steps noted in the original issue. I'm not sure any unit tests would catch this. . I think this may have been fixed by the components refactor. I tried a few times by stopping with ctrl-c at various points, and it aborted cleanly. \n@lyoshenka (or anyone else) if you run across this on 0.21+, please reopen.\n```\n018-08-14 17:40:34,398 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-08-14 17:40:35,329 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-08-14 17:40:35,331 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-08-14 17:40:35,332 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-08-14 17:40:35,447 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"74.105.116.110\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\", \"build\": \"release\"}\n2018-08-14 17:40:35,634 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-08-14 17:40:35,634 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\SoloDolo\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-08-14 17:40:35,637 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-08-14 17:40:35,678 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-08-14 17:40:35,762 INFO     lbrynet.daemon.Components:259: victor.lbry.tech:50001 height: 419988, local height: 419988\n2018-08-14 17:40:36,180 INFO     lbrynet.daemon.auth.server:231: shutting down before finished starting\n2018-08-14 17:40:36,293 INFO     lbrynet.daemon.ExchangeRateManager:222: Stopping exchange rate manager\n2018-08-14 17:40:36,295 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2018-08-14 17:41:44,838 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-08-14 17:41:45,779 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-08-14 17:41:45,782 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-08-14 17:41:45,782 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-08-14 17:41:45,905 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"74.105.116.110\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\", \"build\": \"release\"}\n2018-08-14 17:41:46,096 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-08-14 17:41:46,121 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\SoloDolo\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-08-14 17:41:46,121 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-08-14 17:41:46,161 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-08-14 17:41:46,266 INFO     lbrynet.daemon.Components:259: victor.lbry.tech:50001 height: 419989, local height: 419988\n2018-08-14 17:41:46,661 INFO     lbrynet.daemon.auth.server:231: shutting down before finished starting\n2018-08-14 17:41:46,786 INFO     lbrynet.daemon.ExchangeRateManager:222: Stopping exchange rate manager\n2018-08-14 17:41:46,786 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2018-08-14 17:41:58,898 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-08-14 17:41:59,888 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-08-14 17:41:59,888 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-08-14 17:41:59,890 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-08-14 17:42:00,013 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"74.105.116.110\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\", \"build\": \"release\"}\n2018-08-14 17:42:00,203 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-08-14 17:42:00,203 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\SoloDolo\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-08-14 17:42:00,204 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-08-14 17:42:00,243 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-08-14 17:42:00,329 INFO     lbrynet.daemon.Components:259: victor.lbry.tech:50001 height: 419989, local height: 419988\n2018-08-14 17:42:02,651 WARNING  lbrynet.daemon.Components:692: failed to set up redirect with txupnp, miniupnpc fallback was successful\n2018-08-14 17:42:02,993 INFO     lbrynet.dht.protocol:202: DHT listening on UDP 4446 (ext port 4446)\n2018-08-14 17:42:02,994 INFO     lbrynet.daemon.Components:417: Started the dht\n2018-08-14 17:42:02,996 INFO     lbrynet.core.Wallet:92: Starting wallet.\n2018-08-14 17:42:03,026 INFO     lbrynet.core.Wallet:880: Loading the wallet\n2018-08-14 17:42:05,253 WARNING  lbrynet.core.Wallet:963: Your wallet is excessively large (2687 addresses), please follow instructions here: https://github.com/lbryio/lbry/issues/437 to reduce your wallet size\n2018-08-14 17:42:05,266 INFO     lbrynet.daemon.auth.server:231: shutting down before finished starting\n2018-08-14 17:42:05,269 INFO     lbrynet.dht.protocol:493: Stopping DHT\n2018-08-14 17:42:05,269 INFO     lbrynet.dht.protocol:496: DHT stopped\n2018-08-14 17:42:05,387 INFO     lbrynet.daemon.ExchangeRateManager:222: Stopping exchange rate manager\n2018-08-14 17:42:05,387 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2018-08-14 17:42:26,270 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-08-14 17:42:27,177 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-08-14 17:42:27,180 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-08-14 17:42:27,180 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-08-14 17:42:27,316 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"74.105.116.110\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\", \"build\": \"release\"}\n2018-08-14 17:42:27,506 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-08-14 17:42:27,507 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\SoloDolo\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-08-14 17:42:27,509 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-08-14 17:42:27,551 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-08-14 17:42:27,630 INFO     lbrynet.daemon.Components:259: victor.lbry.tech:50001 height: 419990, local height: 419989\n2018-08-14 17:42:29,648 WARNING  lbrynet.daemon.Components:692: failed to set up redirect with txupnp, miniupnpc fallback was successful\n2018-08-14 17:42:29,727 INFO     lbrynet.dht.protocol:202: DHT listening on UDP 4446 (ext port 4446)\n2018-08-14 17:42:29,729 INFO     lbrynet.daemon.Components:417: Started the dht\n2018-08-14 17:42:29,730 INFO     lbrynet.core.Wallet:92: Starting wallet.\n2018-08-14 17:42:29,755 INFO     lbrynet.core.Wallet:880: Loading the wallet\n2018-08-14 17:42:31,986 WARNING  lbrynet.core.Wallet:963: Your wallet is excessively large (2687 addresses), please follow instructions here: https://github.com/lbryio/lbry/issues/437 to reduce your wallet size\n2018-08-14 17:42:32,007 INFO     lbrynet.dht.node:250: Attempting to join the DHT network, 0 contacts known so far\n2018-08-14 17:42:32,551 INFO     lbrynet.daemon.auth.server:231: shutting down before finished starting\n2018-08-14 17:42:32,552 INFO     lbrynet.dht.protocol:493: Stopping DHT\n2018-08-14 17:42:32,553 INFO     lbrynet.dht.protocol:496: DHT stopped\n2018-08-14 17:42:32,667 INFO     lbrynet.daemon.ExchangeRateManager:222: Stopping exchange rate manager\n2018-08-14 17:42:32,668 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2018-08-14 17:42:55,467 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-08-14 17:42:56,476 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-08-14 17:42:56,477 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-08-14 17:42:56,479 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-08-14 17:42:56,591 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"74.105.116.110\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\", \"build\": \"release\"}\n2018-08-14 17:42:56,799 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-08-14 17:42:56,801 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\SoloDolo\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-08-14 17:42:56,802 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-08-14 17:42:56,839 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-08-14 17:42:56,937 INFO     lbrynet.daemon.Components:259: victor.lbry.tech:50001 height: 419990, local height: 419990\n2018-08-14 17:42:58,943 WARNING  lbrynet.daemon.Components:692: failed to set up redirect with txupnp, miniupnpc fallback was successful\n2018-08-14 17:42:59,015 INFO     lbrynet.dht.protocol:202: DHT listening on UDP 4446 (ext port 4446)\n2018-08-14 17:42:59,015 INFO     lbrynet.daemon.Components:417: Started the dht\n2018-08-14 17:42:59,016 INFO     lbrynet.core.Wallet:92: Starting wallet.\n2018-08-14 17:42:59,053 INFO     lbrynet.core.Wallet:880: Loading the wallet\n2018-08-14 17:43:01,259 WARNING  lbrynet.core.Wallet:963: Your wallet is excessively large (2687 addresses), please follow instructions here: https://github.com/lbryio/lbry/issues/437 to reduce your wallet size\n2018-08-14 17:43:01,292 INFO     lbrynet.dht.node:250: Attempting to join the DHT network, 0 contacts known so far\n2018-08-14 17:43:03,947 INFO     lbrynet.core.Wallet:978: Local Height: 419990, remote height: 419990, behind: 0\n2018-08-14 17:43:03,948 INFO     lbrynet.core.Wallet:986: Wallet Loaded\n2018-08-14 17:43:03,950 INFO     lbrynet.core.Wallet:903: Subscribing to addresses\n2018-08-14 17:43:04,151 INFO     lbrynet.core.Wallet:905: Synchronized wallet\n2018-08-14 17:43:04,161 INFO     lbrynet.core.Wallet:907: Set up lbryum command runner\n2018-08-14 17:43:04,490 INFO     lbrynet.daemon.Components:602: Peer protocol listening on TCP 3335 (ext port 3335)\n2018-08-14 17:43:04,490 INFO     lbrynet.daemon.Components:555: Starting the file manager\n2018-08-14 17:43:04,505 INFO     lbrynet.daemon.auth.server:231: shutting down before finished starting\n2018-08-14 17:43:04,506 INFO     lbrynet.dht.protocol:493: Stopping DHT\n2018-08-14 17:43:04,507 INFO     lbrynet.dht.protocol:496: DHT stopped\n2018-08-14 17:43:04,572 INFO     lbrynet.daemon.Components:615: Stop listening on port 3335\n2018-08-14 17:43:04,573 INFO     lbrynet.core.Wallet:104: Stopping wallet.\n2018-08-14 17:43:04,668 INFO     lbrynet.core.Wallet:932: Stopped wallet\n2018-08-14 17:43:04,670 INFO     lbrynet.core.Wallet:935: Stopped connection to lbryum server\n```. We are aware and this was fixed in a later 0.11 RC. Easiet best is to download the latest version from github.. Should work going forward. https://github.com/lbryio/lbry-app/releases. @iateadonut did you update to the latest version? Lbry.io/get\nPlease do so and then post the logs files here . I'm on daemon 0.10.3 (app .11.5) on Windows and it's happening as well. . C:\\Program Files (x86)\\LBRY\\resources\\app\\dist>lbrynet-cli version\n{\n  \"build\": \"release\",\n  \"ip\": \"47.20.145.202\",\n  \"lbrynet_version\": \"0.10.3\",\n  \"lbryschema_version\": \"0.0.4\",\n  \"lbryum_version\": \"2.7.22\",\n  \"os_release\": \"10\",\n  \"os_system\": \"Windows\",\n  \"platform\": \"Windows-10-10.0.14393\",\n  \"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\",\n  \"python_version\": \"2.7.13\"\n}. Not having the issue on Linux, looks like it's related to Windows at this point. Don't have Mac to test. . I'll send my contents later tonight. \nDo we expect this to be an issue going forward, and if so, can anything be cleaned up by the installer? Might be easier to answer once we understand the root cause. . It's nice to have that feature, just has to be more robust and accurate. Would be awesome if it knew how many hosts were available, general location, whether original host available, etc. . @kauffj any updates on this one? . @jackrobison any idea what this is? It may be similar to this issue: \nhttps://github.com/lbryio/lbry-app/issues/174\nI still see the below in my logs and I'm not able to go into Downloads/Publishes section - just hangs on \"loading...\" - can't tell if its related to this error or not.  I believe @finer9 has the same issue with \"loading...\" but he cleared his up by deleted a bunch of files in lbrynet - I'd really wanna get to the root cause.\n017-06-12 18:43:13,517 ERROR    lbrynet.lbrynet_daemon.auth.server:346: Failed to process file_list: 'ascii' codec can't decode byte 0xe2 in position 10: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Daemon.py\", line 866, in _get_lbry_file_dict\n  File \"ntpath.py\", line 85, in join\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 10: ordinal not in range(128)\n. Another user (https://github.com/lbryio/lbry/issues/706) reporting same issue of not being able to show downloads and published (stuck on loading) . That was the orignal subject of the ticket that was reopened here. Not sure if its intent was lost due to the said file list error. \n. 1) check firewall settings.. Did it prompt you to allow the daemon? \n2) try reinstalling, could clear up some files\n3) check lbrynet.log for clues \n4) why are you blaming this on the wallet/app, when no one has the same issue as you? . https://github.com/lbryio/lbry-app/releases for the latest version. . No problemo, we are always here to help. Sorry for being rude on #4, it was a long day haha. Please close this if you are sure it's good on your end. . Does reinstalling help? Maybe some temp files are cleaned up? . @finer9 that one was related to this port issue: https://github.com/lbryio/lbry/issues/710\nThe one you saw, which I've seen before as well, is related to the daemon_settings.yml file. If deleted, it starts to work.  I think I can reproduce this on my brother in law's PC if needed.  . Lbry app might be a better place. We try to keep lbry to daemon issues. If you aren't sure, lbry would be the default. \nThis one does sound like an app issue. https://github.com/lbryio/lbry-app/issues/220 it will be fixed in the next version. Please mark as closed. \nAlso, please be sure to check the lbry-app repo issues before posting. \n. Gonna re-open the original issue since it broke pagination: https://github.com/lbryio/lbry/pull/801#commitcomment-23706472. I don't think it is, see: https://github.com/lbryio/lbry/pull/801#commitcomment-23706472 \nlbrynet-cli claim_list_by_channel @IGNonLBRY --page 1 used to return something like this at the end:\n],\n     \"claims_in_channel_pages\": 2,\n     \"returned_page\": 1\n   }\nnow it just returns: \n],\n     \"returned_page\": 1\n   }\n. This happens after downloading the video I believe, or trying to (through the app). Then when you go back in, you can't even click on play, everything frozen. . 2017-06-13 19:01:54,282 INFO     lbrynet.lbrynet_daemon.DaemonControl:92: Starting lbrynet-daemon from command line\n2017-06-13 19:01:59,525 INFO     lbrynet.lbrynet_daemon.DaemonServer:64: Using non-authenticated API\n2017-06-13 19:01:59,546 INFO     lbrynet.lbrynet_daemon.Daemon:254: Starting lbrynet-daemon\n2017-06-13 19:01:59,569 INFO     lbrynet.lbrynet_daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-06-13 19:01:59,977 INFO     lbrynet.lbrynet_daemon.Daemon:281: Platform: {\"lbrynet_version\": \"0.11.0\", \"platform\": \"Windows-7-6.1.7601-SP1\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"7\", \"lbryum_version\": \"2.7.25\", \"ip\": \"Could not determine IP\", \"lbryschema_version\": \"0.0.7\", \"processor\": \"x86 Family 6 Model 60 Stepping 3, GenuineIntel\", \"build\": \"release\"}\n2017-06-13 19:01:59,989 INFO     lbrynet.lbrynet_daemon.Daemon:488: Loading databases\n2017-06-13 19:01:59,989 WARNING  lbrynet.lbrynet_daemon.Daemon:499: db_revision file not found. Creating it\n2017-06-13 19:02:00,000 INFO     lbrynet.lbrynet_daemon.Daemon:516: Upgrading your databases\n2017-06-13 19:02:00,000 INFO     lbrynet.db_migrator.migrate1to2:9: Doing the migration\n2017-06-13 19:02:00,000 INFO     lbrynet.db_migrator.migrate1to2:11: Migration succeeded\n2017-06-13 19:02:00,010 INFO     lbrynet.db_migrator.migrate2to3:9: Doing the migration\n2017-06-13 19:02:00,010 INFO     lbrynet.db_migrator.migrate2to3:11: Migration succeeded\n2017-06-13 19:02:00,010 INFO     lbrynet.lbrynet_daemon.Daemon:512: Finished upgrading the databases.\n2017-06-13 19:02:00,010 INFO     lbrynet.lbrynet_daemon.Daemon:558: Using lbryum wallet\n2017-06-13 19:02:04,405 INFO     lbrynet.core.Session:254: Starting DHT\n2017-06-13 19:02:05,907 INFO     lbrynet.dht.protocol:210: DHT listening on UDP 4444\n2017-06-13 19:02:05,917 INFO     lbrynet.core.RateLimiter:72: Starting <lbrynet.core.RateLimiter.RateLimiter object at 0x035D38B0>\n2017-06-13 19:02:05,917 INFO     lbrynet.core.BlobManager:97: Setting up the DiskBlobManager. blob_dir: C:\\Users\\IEUser\\AppData\\Roaming\\lbrynet\\blobfiles, db_file: C:\\Users\\IEUser\\AppData\\Roaming\\lbrynet\\blobs.db\n2017-06-13 19:02:06,313 INFO     lbrynet.core.Wallet:1126: Loading the wallet\n2017-06-13 19:02:12,124 INFO     lbrynet.core.Wallet:1217: Local Height: 190751, remote height: 190766, behind: 3\n2017-06-13 19:02:12,375 INFO     lbrynet.core.Wallet:1217: Local Height: 190766, remote height: 190766, behind: 0\n2017-06-13 19:02:12,375 INFO     lbrynet.core.Wallet:1225: Wallet Loaded\n2017-06-13 19:02:12,375 INFO     lbrynet.core.Wallet:1150: Subscribing to addresses\n2017-06-13 19:02:12,476 INFO     lbrynet.core.Wallet:1152: Synchronized wallet\n2017-06-13 19:02:12,479 INFO     lbrynet.core.BlobAvailability:30: Starting <lbrynet.core.BlobAvailability.BlobAvailabilityTracker object at 0x034E68F0>\n2017-06-13 19:02:12,486 INFO     lbrynet.lbrynet_daemon.Daemon:531: Starting to setup up file manager\n2017-06-13 19:02:12,546 INFO     lbrynet.lbryfilemanager.EncryptedFileManager:126: Started 0 lbry files\n2017-06-13 19:02:12,546 INFO     lbrynet.lbrynet_daemon.Daemon:542: Done setting up file manager\n2017-06-13 19:02:12,546 INFO     lbrynet.lbrynet_daemon.Daemon:271: Starting balance: 0\n2017-06-13 19:02:12,546 INFO     lbrynet.lbrynet_daemon.Daemon:248: Started lbrynet-daemon\n2017-06-13 19:02:12,546 INFO     lbrynet.lbrynet_daemon.Daemon:249: 0 blobs in manager\n2017-06-13 19:02:12,641 INFO     lbrynet.core.Wallet:809: Resolving lbry://one\n2017-06-13 19:02:25,592 INFO     lbrynet.core.Wallet:809: Resolving lbry://@CasuallyExplained/casually-successful\n2017-06-13 19:02:25,694 INFO     lbrynet.core.Wallet:809: Resolving lbry://@IGNonLBRY/linked-ep5\n2017-06-13 19:02:25,707 INFO     lbrynet.core.Wallet:809: Resolving lbry://fightofthecentury\n2017-06-13 19:02:25,707 INFO     lbrynet.core.Wallet:809: Resolving lbry://@IGNonLBRY/linked-ep6\n2017-06-13 19:02:25,756 INFO     lbrynet.core.Wallet:809: Resolving lbry://LendersDen\n2017-06-13 19:02:25,775 INFO     lbrynet.core.Wallet:809: Resolving lbry://@HeckBender:1/nsa\n2017-06-13 19:02:26,437 INFO     lbrynet.core.Wallet:809: Resolving lbry://@oscopelabs/itsadisaster-sd\n2017-06-13 19:02:27,572 INFO     lbrynet.core.Wallet:809: Resolving lbry://@CasuallyExplained:1/casually-flirting\n2017-06-13 19:02:28,022 INFO     lbrynet.core.Wallet:809: Resolving lbry://WilliamsburgFashion1\n2017-06-13 19:02:28,661 INFO     lbrynet.core.Wallet:809: Resolving lbry://LooseCannon\n2017-06-13 19:02:29,176 INFO     lbrynet.core.Wallet:809: Resolving lbry://coherence-trailer\n2017-06-13 19:02:31,249 INFO     lbrynet.core.Wallet:809: Resolving lbry://rare-exports-trailer\n2017-06-13 19:02:33,630 INFO     lbrynet.core.Wallet:809: Resolving lbry://thelastjedi-trailer\n2017-06-13 19:02:34,344 INFO     lbrynet.core.Wallet:809: Resolving lbry://thelovewitch-trailer\n2017-06-13 19:02:35,789 INFO     lbrynet.core.Wallet:809: Resolving lbry://dunkirk-trailer1\n2017-06-13 19:02:36,210 INFO     lbrynet.core.Wallet:809: Resolving lbry://itsadisaster-trailer\n2017-06-13 19:02:36,322 INFO     lbrynet.core.Wallet:809: Resolving lbry://bellflower-trailer\n2017-06-13 19:02:36,351 INFO     lbrynet.core.Wallet:809: Resolving lbry://bladerunner2049-trailer\n2017-06-13 19:02:36,667 INFO     lbrynet.core.Wallet:809: Resolving lbry://kedi-trailer\n2017-06-13 19:02:37,615 INFO     lbrynet.core.Wallet:809: Resolving lbry://jinglebellrocks-trailer\n2017-06-13 19:02:38,197 INFO     lbrynet.core.Wallet:809: Resolving lbry://itsadisaster-sd\n2017-06-13 19:02:38,867 INFO     lbrynet.core.Wallet:809: Resolving lbry://nightofthelivingdead\n2017-06-13 19:02:38,878 INFO     lbrynet.core.Wallet:809: Resolving lbry://rare-exports\n2017-06-13 19:02:39,127 INFO     lbrynet.core.Wallet:809: Resolving lbry://cinemasix\n2017-06-13 19:02:39,378 INFO     lbrynet.core.Wallet:809: Resolving lbry://themechanicalmonster\n2017-06-13 19:02:39,960 INFO     lbrynet.core.Wallet:809: Resolving lbry://@1791L/culture-ep4\n2017-06-13 19:02:40,019 INFO     lbrynet.core.Wallet:809: Resolving lbry://hellion\n2017-06-13 19:02:40,065 INFO     lbrynet.core.Wallet:809: Resolving lbry://bellflower\n2017-06-13 19:02:41,407 INFO     lbrynet.core.Wallet:809: Resolving lbry://skateyrselfclean\n2017-06-13 19:02:41,408 INFO     lbrynet.core.Wallet:809: Resolving lbry://smlawncare\n2017-06-13 19:02:41,448 INFO     lbrynet.core.Wallet:809: Resolving lbry://two\n2017-06-13 19:02:41,891 INFO     lbrynet.core.Wallet:809: Resolving lbry://three-2\n2017-06-13 19:02:41,997 INFO     lbrynet.core.Wallet:809: Resolving lbry://four\n2017-06-13 19:02:42,092 INFO     lbrynet.core.Wallet:809: Resolving lbry://five\n2017-06-13 19:02:42,589 INFO     lbrynet.core.Wallet:809: Resolving lbry://six\n2017-06-13 19:02:45,480 INFO     lbrynet.core.Wallet:809: Resolving lbry://seven\n2017-06-13 19:02:45,575 INFO     lbrynet.core.Wallet:809: Resolving lbry://eight\n2017-06-13 19:02:45,575 INFO     lbrynet.core.Wallet:809: Resolving lbry://nine\n2017-06-13 19:02:45,667 INFO     lbrynet.core.Wallet:809: Resolving lbry://ten\n2017-06-13 19:02:45,678 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-WtrLpRZv8qg\n2017-06-13 19:02:46,026 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb--TvGZVGAFEY\n2017-06-13 19:02:46,059 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-iC-NIQmjyBw\n2017-06-13 19:02:46,085 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-U9aHFLBVdt4\n2017-06-13 19:02:46,203 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-K49oU-djk-k\n2017-06-13 19:02:47,444 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-Fu4H5nYH8Wk\n2017-06-13 19:02:47,999 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-kYNI-FZk1jY\n2017-06-13 19:02:48,536 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-kpjywuTwpMc\n2017-06-13 19:02:48,934 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-2sFj4aSWQ3o\n2017-06-13 19:02:49,009 INFO     lbrynet.core.Wallet:809: Resolving lbry://ucb-WLpvUGjvmXc\n2017-06-13 19:33:45,697 INFO     lbrynet.core.Wallet:809: Resolving lbry://@CasuallyExplained/casually-successful\n2017-06-13 19:33:51,795 INFO     lbrynet.lbrynet_daemon.Daemon:2376: Need sd blob\n2017-06-13 19:33:52,075 INFO     lbrynet.core.client.ConnectionManager:38: Connection Manager 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 initialized\n2017-06-13 19:33:53,411 INFO     lbrynet.core.client.BlobRequester:395: Offered rate 0.000000/mb accepted by 80.114.141.228\n2017-06-13 19:33:53,769 INFO     lbrynet.core.client.BlobRequester:545: Blob 8d20e99a127c90c7 has been successfully downloaded from 80.114.141.228:3333\n2017-06-13 19:33:53,770 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 80.114.141.228:3333 due to having no further requests to send\n2017-06-13 19:33:54,362 INFO     lbrynet.lbrynet_daemon.Daemon:2391: check peers for 5 of 5 blobs in stream\n2017-06-13 19:34:17,654 INFO     lbrynet.core.Wallet:634: Skipping dust\n2017-06-13 19:36:22,697 INFO     lbrynet.lbrynet_daemon.Downloader:101: Download lbry://casually-successful status changed to initializing\n2017-06-13 19:36:22,770 INFO     lbrynet.lbrynet_daemon.Downloader:101: Download lbry://casually-successful status changed to downloading_metadata\n2017-06-13 19:36:22,770 INFO     lbrynet.core.client.ConnectionManager:38: Connection Manager 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 initialized\n2017-06-13 19:36:23,283 INFO     lbrynet.lbryfile.EncryptedFileMetadataManager:246: Saved sd blob hash 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 to stream hash 9dba62280f52ecb18c8c675e9128b8e0b3ebe9e68e8357e8bbeb3f85c9ba5867802dab08efe70818f048035082ebba10\n2017-06-13 19:36:27,089 INFO     lbrynet.lbrynet_daemon.Downloader:94: Downloading stream descriptor blob (2 seconds)\n2017-06-13 19:36:27,697 INFO     lbrynet.lbrynet_daemon.Downloader:94: Downloading stream descriptor blob (3 seconds)\n2017-06-13 19:36:28,697 INFO     lbrynet.lbrynet_daemon.Downloader:94: Downloading stream descriptor blob (4 seconds)\n2017-06-13 19:36:29,601 INFO     lbrynet.lbrynet_daemon.Downloader:101: Download lbry://casually-successful status changed to running\n2017-06-13 19:36:32,059 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-06-13 19:36:32,145 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Downloader.py\", line 192, in download\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Downloader.py\", line 70, in download_path\n  File \"ntpath.py\", line 85, in join\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\n2017-06-13 19:36:35,546 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (5 seconds)\n2017-06-13 19:36:35,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (6 seconds)\n2017-06-13 19:36:36,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (7 seconds)\n2017-06-13 19:36:37,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (8 seconds)\n2017-06-13 19:36:38,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (9 seconds)\n2017-06-13 19:36:39,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (10 seconds)\n2017-06-13 19:36:40,704 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (11 seconds)\n2017-06-13 19:36:41,704 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (12 seconds)\n2017-06-13 19:36:42,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (13 seconds)\n2017-06-13 19:36:43,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (14 seconds)\n2017-06-13 19:36:45,769 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (15 seconds)\n2017-06-13 19:36:46,984 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (16 seconds)\n2017-06-13 19:36:47,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (17 seconds)\n2017-06-13 19:36:48,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (18 seconds)\n2017-06-13 19:36:49,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (19 seconds)\n2017-06-13 19:36:50,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (20 seconds)\n2017-06-13 19:36:51,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (21 seconds)\n2017-06-13 19:36:52,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (22 seconds)\n2017-06-13 19:36:54,150 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (23 seconds)\n2017-06-13 19:36:54,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (24 seconds)\n2017-06-13 19:36:57,153 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (26 seconds)\n2017-06-13 19:36:59,459 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (27 seconds)\n2017-06-13 19:37:02,914 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (28 seconds)\n2017-06-13 19:37:02,917 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (28 seconds)\n2017-06-13 19:37:03,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (29 seconds)\n2017-06-13 19:37:04,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (30 seconds)\n2017-06-13 19:37:05,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (31 seconds)\n2017-06-13 19:37:06,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (32 seconds)\n2017-06-13 19:37:07,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (33 seconds)\n2017-06-13 19:37:08,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (34 seconds)\n2017-06-13 19:37:09,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (35 seconds)\n2017-06-13 19:37:10,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (36 seconds)\n2017-06-13 19:37:11,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (37 seconds)\n2017-06-13 19:37:12,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (38 seconds)\n2017-06-13 19:37:13,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (39 seconds)\n2017-06-13 19:37:14,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (40 seconds)\n2017-06-13 19:37:15,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (41 seconds)\n2017-06-13 19:37:16,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (42 seconds)\n2017-06-13 19:37:17,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (43 seconds)\n2017-06-13 19:37:18,914 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (44 seconds)\n2017-06-13 19:37:19,704 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (45 seconds)\n2017-06-13 19:37:20,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (46 seconds)\n2017-06-13 19:37:21,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (47 seconds)\n2017-06-13 19:37:22,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (48 seconds)\n2017-06-13 19:37:23,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (49 seconds)\n2017-06-13 19:37:24,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (50 seconds)\n2017-06-13 19:37:25,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (51 seconds)\n2017-06-13 19:37:26,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (52 seconds)\n2017-06-13 19:37:27,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (53 seconds)\n2017-06-13 19:37:28,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (54 seconds)\n2017-06-13 19:37:29,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (55 seconds)\n2017-06-13 19:37:30,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (56 seconds)\n2017-06-13 19:37:31,707 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (57 seconds)\n2017-06-13 19:37:32,710 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (58 seconds)\n2017-06-13 19:37:33,710 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (59 seconds)\n2017-06-13 19:37:34,709 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (60 seconds)\n2017-06-13 19:37:35,709 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (61 seconds)\n2017-06-13 19:37:36,709 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (62 seconds)\n2017-06-13 19:37:37,709 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (63 seconds)\n2017-06-13 19:37:41,530 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (64 seconds)\n2017-06-13 19:37:45,368 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (65 seconds)\n2017-06-13 19:37:45,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (66 seconds)\n2017-06-13 19:37:46,732 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (67 seconds)\n2017-06-13 19:37:47,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (68 seconds)\n2017-06-13 19:37:48,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (69 seconds)\n2017-06-13 19:37:49,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (70 seconds)\n2017-06-13 19:37:50,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (71 seconds)\n2017-06-13 19:37:51,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (72 seconds)\n2017-06-13 19:37:52,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (73 seconds)\n2017-06-13 19:37:53,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (74 seconds)\n2017-06-13 19:37:54,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (75 seconds)\n2017-06-13 19:37:55,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (76 seconds)\n2017-06-13 19:37:56,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (77 seconds)\n2017-06-13 19:37:57,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (78 seconds)\n2017-06-13 19:37:58,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (79 seconds)\n2017-06-13 19:37:59,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (80 seconds)\n2017-06-13 19:38:00,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (81 seconds)\n2017-06-13 19:38:01,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (82 seconds)\n2017-06-13 19:38:02,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (83 seconds)\n2017-06-13 19:38:03,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (84 seconds)\n2017-06-13 19:38:04,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (85 seconds)\n2017-06-13 19:38:05,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (86 seconds)\n2017-06-13 19:38:06,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (87 seconds)\n2017-06-13 19:38:07,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (88 seconds)\n2017-06-13 19:38:08,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (89 seconds)\n2017-06-13 19:38:09,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (90 seconds)\n2017-06-13 19:38:10,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (91 seconds)\n2017-06-13 19:38:11,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (92 seconds)\n2017-06-13 19:38:12,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (93 seconds)\n2017-06-13 19:38:13,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (94 seconds)\n2017-06-13 19:38:14,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (95 seconds)\n2017-06-13 19:38:15,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (96 seconds)\n2017-06-13 19:38:16,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (97 seconds)\n2017-06-13 19:38:17,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (98 seconds)\n2017-06-13 19:38:18,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (99 seconds)\n2017-06-13 19:38:19,698 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (100 seconds)\n2017-06-13 19:38:20,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (101 seconds)\n2017-06-13 19:38:21,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (102 seconds)\n2017-06-13 19:38:22,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (103 seconds)\n2017-06-13 19:38:23,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (104 seconds)\n2017-06-13 19:38:24,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (105 seconds)\n2017-06-13 19:38:25,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (106 seconds)\n2017-06-13 19:38:26,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (107 seconds)\n2017-06-13 19:38:27,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (108 seconds)\n2017-06-13 19:38:28,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (109 seconds)\n2017-06-13 19:38:29,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (110 seconds)\n2017-06-13 19:38:30,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (111 seconds)\n2017-06-13 19:38:31,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (112 seconds)\n2017-06-13 19:38:32,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (113 seconds)\n2017-06-13 19:38:33,701 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (114 seconds)\n2017-06-13 19:38:34,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (115 seconds)\n2017-06-13 19:38:35,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (116 seconds)\n2017-06-13 19:38:36,700 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (117 seconds)\n2017-06-13 19:38:37,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (118 seconds)\n2017-06-13 19:38:38,704 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (119 seconds)\n2017-06-13 19:38:39,698 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (120 seconds)\n2017-06-13 19:38:40,520 INFO     lbrynet.core.Wallet:809: Resolving lbry://coherence-trailer\n2017-06-13 19:38:40,703 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (121 seconds)\n2017-06-13 19:38:41,388 INFO     lbrynet.lbrynet_daemon.Daemon:2376: Need sd blob\n2017-06-13 19:38:41,390 INFO     lbrynet.core.client.ConnectionManager:38: Connection Manager 33aac4eddb3ecafa81c58b39c7d5315d18880cbf3420b69eaf200d58e945086ae0fb2ebb7a7215a82fe7039799de0d8f initialized\n2017-06-13 19:38:41,697 INFO     lbrynet.lbrynet_daemon.Downloader:78: Downloading stream data (122 seconds)\n2017-06-13 19:38:42,335 INFO     lbrynet.lbrynet_daemon.Downloader:101: Download lbry://coherence-trailer status changed to initializing\n2017-06-13 19:38:42,335 INFO     lbrynet.lbrynet_daemon.Downloader:101: Download lbry://coherence-trailer status changed to downloading_metadata. in app (not sure if this was the first time around, or when it already became unresponsive:\nFailed to load resource: the server responded with a status of 500 (Internal Server Error)\n/C:/Program%20Files/LBRY/resources/app/dist/show?uri=lbry://@CasuallyExplained/casually-successful:1 Uncaught (in promise) \nObject\ncode\n:\n-32500\ndata\n:\nObject\nmessage\n:\n\"'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\"\nproto\n:\nObject\ndefineGetter\n:\ndefineGetter()\ndefineSetter\n:\ndefineSetter()\nlookupGetter\n:\nlookupGetter()\nlookupSetter\n:\nlookupSetter()\nconstructor\n:\nObject()\nhasOwnProperty\n:\nhasOwnProperty()\nisPrototypeOf\n:\nisPrototypeOf()\npropertyIsEnumerable\n:\npropertyIsEnumerable()\ntoLocaleString\n:\ntoLocaleString()\narguments\n:\nnull\ncaller\n:\nnull\nlength\n:\n0\nname\n:\n\"toLocaleString\"\nproto\n:\n()\n[[FunctionLocation]]\n:\n\ntoString\n:\ntoString()\nvalueOf\n:\nvalueOf()\nget proto\n:\nproto()\nset proto\n:\nproto(). Also getting it here, but the stream and file works fine. \n/C:/Program%20Files%20(x86)/LBRY/resources/app/dist/show?uri=lbry://LendersDen:1 Uncaught (in promise) Object {code: -32500, data: Object, message: \"'ascii' codec can't decode byte 0xe2 in position 10: ordinal not in range(128)\"}. @kaykurokawa is this related and will be fixed in the next release too?  https://github.com/lbryio/lbry/issues/661\nThis is what I see in my log - I hope this has something to do with my Downloads/Published items not showing on Windows install. Other users have reported similar issues.\n017-06-26 13:21:33,012 ERROR    lbrynet.lbrynet_daemon.auth.server:346: Failed to process file_list: 'ascii' codec can't decode byte 0xe2 in position 10: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Daemon.py\", line 866, in _get_lbry_file_dict\n  File \"ntpath.py\", line 85, in join\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 10: ordinal not in range(128). \nconsole:\nindex.html#/show?uri=lbry://@CasuallyExplained/casually-successful:1 Uncaught (in promise) \nObject\ncode\n:\n-32500\ndata\n:\nObject\nmessage\n:\n\"'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\"\nproto\n:\nObject\n2017-06-29 19:27:47,904 INFO     lbrynet.core.client.ConnectionManager:38: Connection Manager 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 initialized\n2017-06-29 19:27:47,905 INFO     lbrynet.lbrynet_daemon.Daemon:2538: check peers for 5 of 5 blobs in stream\n2017-06-29 19:27:48,575 INFO     lbrynet.lbrynet_daemon.Downloader:104: Download lbry://casually-successful status changed to initializing\n2017-06-29 19:27:48,578 INFO     lbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (1 seconds)\n2017-06-29 19:27:48,578 INFO     lbrynet.lbrynet_daemon.Downloader:104: Download lbry://casually-successful status changed to downloading_metadata\n2017-06-29 19:27:48,578 INFO     lbrynet.core.client.ConnectionManager:38: Connection Manager 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 initialized\n2017-06-29 19:27:48,648 INFO     lbrynet.lbryfile.EncryptedFileMetadataManager:246: Saved sd blob hash 8d20e99a127c90c7b67641fefbe23609346058ab55ed878c4f3b66555c120ba65dcfdaf648410d171be6d027d53bc4b1 to stream hash 9dba62280f52ecb18c8c675e9128b8e0b3ebe9e68e8357e8bbeb3f85c9ba5867802dab08efe70818f048035082ebba10\n2017-06-29 19:27:48,668 INFO     lbrynet.lbrynet_daemon.Downloader:104: Download lbry://casually-successful status changed to running\n2017-06-29 19:27:48,668 WARNING  lbrynet.lbrynet_daemon.Daemon:675: Failed to get casually-successful: 'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\n2017-06-29 19:27:48,677 ERROR    lbrynet.lbrynet_daemon.auth.server:346: Failed to process file_list: 'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Daemon.py\", line 856, in _get_lbry_file_dict\n  File \"ntpath.py\", line 85, in join\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 41: ordinal not in range(128)\n. #750 is being used to track a new issue that surfaced after this was fixed on my main PC. . We'll open an app side issue to check on the behavior. It would be part of the electron updater process for Win/Mac. . It's a known issue, we have it logged under here https://github.com/lbryio/lbry/issues/661. @kimihiro64 can you see if this is still happening on 0.13? Personally I still have trouble with the download/published  list showing, but I don't get the 'string indices must be integers'. Instead, I have a Unicode issue which should be fixed soon (not in any build) \nPlease try again on 0.13 and repost log. . Please join us on slack to ask questions like these instead of opening issues. Here is a YouTube tutorial on how to abandon. The commands are in the api guide too. We will be making this possible with the GUI in the future. \nhttps://youtu.be/l1eqoE9xNsg. Are you running the daemon? Are you on the old wallet type, i.e wallet.dat as opposed to default_wallet? When is your orignal install from? Might need help from @jack here, but give him some time as it's the weekend. . Did @wallermadev help you out? Can we close this? . Take a look at https://github.com/lbryio/lbry/pull/631 for most recent update. \nAdding encryption adds a layer of inconvenience to the users, which needs to be dealt with carefully so as not to disrupt the UX.\nWe've recommended creating a separate wallet (generated, zipped and password protected) for storing large amounts of LBC. \nWe also were recently integrated to Coinomi, which should be coming to Ios and desktop soon. This is not the best solution as it doesn't allow the wallet to integrate the app, but it's a safe haven nonetheless. \nWe understand your concerns, thanks for your research and suggestions. I'm sure this will become a bigger priority once the app improves functionality wise. . I'll share your concerns with the team, in the case they don't read this. \nCoinomi with LBC is available for Android right now and from what we hear, ios and desktop projects are around the corner. . Looks like you have 0 in your wallet. \nPlease try not to open issue here unless you are sure it's a software problem. Please use #help channel on slack first, and he will ask you to open a github issue if required. . If you have a really old install, it's recommend to start with a new wallet . Looks like our hot wallet is kicked, please give us some time to replenish. . Here is a log of the issue occurring: https://github.com/lbryio/lbry/files/1103576/lbrynet.3.log.txt . @hackrush01 It should alert the user that the port is already bound and explain how to change the port.\n@kaykurokawa  / @jackrobison How would this port change be done with the app? \n. That's the same issue we had before where the daemon is deleted by windows for some reason. We could not reproduce. It happened to me when my pc shut down on me once. \nUser needs to reinstall latest version and the problem is fixed. . Please see https://github.com/lbryio/lbry/issues/437. That's the only fix we have right now. It's cumbersome because if you uploaded content, it needs to be re-uploaded and/or reclaimed. Is this your case, where you have many uploaded files? . What is it exactly you are working through? . Before posting issues in Github, please check with us on Slack (slack.lbry.io) so we can help you figure it out.  Can you please close this and see below.  Let us know on Slack if you have any other issues. \nIt sounds like you may have claimed some LBC for your channel or published item. To get this back, you need to follow:\nhttps://www.youtube.com/watch?v=l1eqoE9xNsg\nAPI for reference: https://lbryio.github.io/lbry/\nWindows users: If you are using CURL, you need to properly escape quotes - here: curl \"http://localhost:5279/lbryapi\" --data \"{\\\"method\\\":\\\"get\\\",\\\"params\\\":{\\\"uri\\\":\\\"what\\\"} }\"  \nOr via PowerShell: Invoke-RestMethod -Uri 'http://localhost:5279/lbryapi' -Body '{\"method\":\"resolve\",\"params\":{\"uri\":\"what\"}}' -Method POST | ConvertTo-Json\nAbove are just examples, you need to follow the video with correct API calls.\n. Isn't it right at the top in the cerficate section? Third item. . Right now, NSFW flag is control by the person publishing the file. No one but the uploader can change this setting for that particular claim. \nOn the 6/22 call, something similar to this was discussed, but the question is how to do it effectively in a decentralized way. Right now that has to be done manually (with human intervention) via the report process. Also not a trial task to do in a decentralized way via app. . lbrynet-lartera.txt\nPer conversation with @lyoshenka, asked to upload a user's log file who is having issues with connecting.  I believe he is stuck on \"catching up with the blockchain\"  but his log shows \"Connection refused\" to one of our lbryum servers.  User is lartera from Slack.  I'm going to have him try again today since we did have some server work done overthe last couple of days. . @kauffj will add more information, along with an example. . I assume the new wallet doesn't do any queuing. I think it was enabled to support data blob payments initially. Something we'll need to revisit in the future. . An option for the user during claim update would make sense if it's technically possible. . This is a pretty big UX issue at the moment, maybe we can bump the priority @kauffj \nWe would need @kaykurokawa 's fixes from #747 which would allow the daemon to realize that it can use the original deposit amount during an update. So really only any difference in LBC (in case they are increasing the bid) needs to be in your balance (plus tx fees obviously).  . @lyoshenka anyway we can bump this up the queue? Sounds like it would need some lbryum changes too. . Thanks @hackrush01 . This might be related, or at least part of the same code, please keep it in mind: https://github.com/lbryio/lbry/issues/855. This is a duplicate of https://github.com/lbryio/lbry/issues/661 \nIt should be fixed in the next version. I'll double check. . @arainflake can you upload your lbrynet.log file (you can strip out your IP if it shows) \nThanks! . @arainflake we'll have a new version you can try out soon, but it's supposed to fix the windows issue only. We will have you try it again, but this looks like a new valid issue you have here. Will keep you updated.. I'm getting this same error now after testing https://github.com/lbryio/lbry/pull/746 successfully - I guess it was able to bypass the Unicode issue, but now errors on the \"list indices must be integers, not str\" when my app starts up.  I am now able to see items in my Download/Publishes, but the loading icon right above the first item still shows like it's trying to do more. \nAfter a reboot and trying to stream some more items (I know I went to lbry://@CasuallyExplained/casually-successful and lbry://hitmans-bodyguard-trailer but not sure if its to blame), I can't get My Downloads/Publishes to show again - gets stuck at loading.  Neither of those 2 URI will download for me. I'll try to reproduce this on my laptop. \n@kaykurokawa  - let me know if you need any additional info from me, but I'm guessing its something related to an old file or publish. \n{\n  \"error\": {\n    \"code\": -32500,\n    \"data\": {\n      \"traceback\": [\n        \"Traceback (most recent call last):\",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 498, in errback\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 565, in _startRunCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 651, in _runCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1355, in gotResult\",\n        \"    \",\n        \"--- <exception caught here> ---\",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1297, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\python\\\\failure.py\\\", line 389, in throwExceptionIntoGenerator\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\daemon\\\\Daemon.py\\\", line 1294, in jsonrpc_file_list\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1297, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\python\\\\failure.py\\\", line 389, in throwExceptionIntoGenerator\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\daemon\\\\Daemon.py\\\", line 928, in _get_lbry_files\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1297, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\python\\\\failure.py\\\", line 389, in throwExceptionIntoGenerator\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\daemon\\\\Daemon.py\\\", line 850, in _get_lbry_file_dict\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1297, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\python\\\\failure.py\\\", line 389, in throwExceptionIntoGenerator\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\core\\\\Wallet.py\\\", line 658, in get_claim\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1297, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\python\\\\failure.py\\\", line 389, in throwExceptionIntoGenerator\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\core\\\\Wallet.py\\\", line 653, in get_cached_claim\",\n        \"    \",\n        \"  File \\\"site-packages\\\\twisted\\\\internet\\\\defer.py\\\", line 1299, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\core\\\\Wallet.py\\\", line 134, in get_cached_claim\",\n        \"    \",\n        \"  File \\\"site-packages\\\\lbrynet\\\\core\\\\Wallet.py\\\", line 78, in __init__\",\n        \"    \",\n        \"exceptions.TypeError: list indices must be integers, not str\",\n        \"\"\n      ]\n    },\n    \"message\": \"list indices must be integers, not str\"\n  },\n  \"id\": 194,\n  \"jsonrpc\": \"2.0\"\n}. After clearing my blockchainname.db file, my Downloads are now showing correctly.  My Publishes page is blank for som reason though...very strange - maybe someway connected to blockchainname.db .  \nSince https://github.com/lbryio/lbry-app/issues/315 is happening, don't think there is a reason to investigate any further. . Is there anything else using up port 3333 in port forwarding or upnp? Is it possible for you to connect directly to modem and try (I know you tried 4g)? . We'll keep looking into it, right now I don't have any suggestions except to double check upnp settings and port forwarding to make sure no other IP because the lbry pc is getting 3333.. @rubenbryon - are you sure nothing changed in your network or pc settings? . @rubenbryon - I noticed that in the time it worked, upnp had failed (7-11 19:33:36,197 WARNING  lbrynet.core.Session:243: UPnP failed. Reason: UnknownError) - which is even more strange.  Do you know anything on your end that would have caused this to happen? Can you try disabling UPNP and not forward 3333 - try like this first, and then try forwarding it. . We have thousands of users, but only a handful are reporting download issues. It's likely tied to some local network, port or firewall issues . \nWe will be working on a troubleshooting guide which will show all ports to check in order to ensure a good connection to lbrynet. Typically you want to check 3333 (tcp)  4444 (UDP) 50001 5279 (local ports) \nSorry for your trouble, we will continue to work with you. What is the video you are trying to stream?\nAlso, let's please keep price/market talk away from github...not the correct forum. . @olokos Can you try six or seven again today? I updated them with my uploads. Were you able to stream any other videos on the home page? . I reached out to you on Slack :). For those who had issues downloading ANY file from LBRY, I may have figured it out. It's most likely related to the DHT port which is used to share the content. Possibly something else is using it on 4444 or its blocked on your ISP.\nGive this a try:\nDownload this daemon_settings.yml file: https://www.dropbox.com/s/tkqelvkvwqw237k/daemon_settings.yml?dl=0\nSteps - \n1 - Close LBRY\n2 - Copy daemon_settings.yml to lbrynet folder (find the folder: https://lbry.io/faq/lbry-directories)\n*If you already have a daemon_settings.yml file here, open it with notepad, add a new line at the end and type:\ndht_node_port: 44444\n3 - Start LBRY\n4 - Try downloading the top left video, be patient. If it fails, go to home, and try again.\nDepending on your network, you may need port 44444 UDP (the new port that was just setup) forwarded. Also, for file sharing to work properly, you may need port 3333 (TCP) open/forwarded (check canyouseeme.org for 3333. 44444 will fail since its UDP). Also, you may need to check firewall settings.. Do you know which videos you clicked on? Can you send your lbrynet.log file from the lbry folder (might be hidden) https://lbry.io/faq/lbry-directories. I don't see anything in the log about paying for downloads. I see you published some files? When this happens, there is a small transaction fee... So maybe those are the charges? \nPlease confirm and close. . I'm on 0.13 right now, but this happened on all my installs over the last couple of months. It's not a big deal, but more of an annoyance.. @kaykurokawa that's what I originally thought as well, but Jeremy has a point. Can the tx fees be taken from another transaction, or they have to come from that one?  One would still need to have a wallet balance high enough to abandon right?. The minimum amount is actually 0.000097. as 0.000096 fails with the below. 0.000096 is the tx fee for publishing. \n`2017-08-03 14:20:33,407 ERROR    lbryum:115: adding signature for ff0488b21e000000000000000000b1c759c39f4f70eb4c99e91b5e48d1a1228ea20ec62d0b489f0141d8ba624184030a956c8d0aac626372ed6e26ac48bde116ba7bb1f7e030c895561f862f3f608f00005806\n2017-08-03 14:20:33,888 ERROR    lbryum:115: is_complete True\n2017-08-03 14:20:34,164 WARNING  lbrynet.daemon.Daemon:1882: Abandon of 182c6ef1e2c5d22c06eebe9f87baa63e37ed441f failed: error: The transaction was rejected by network rules.(64: dust)\n[0100000001101a35dbc7c60426bdd20b1863d6eeec23db81ae446e9ba8386c06284f639279000000006a47304402205ed94327a0c35e423f72379e29c2cc9729e7ec2f2acf737271172a7550f9758e022030c0c71b2eefba31e85772a7f7c4f4e94d774fa89584f0ea60f0153c7471ad15012103be327adddbf705c863115dfaad45f3dceab48bccf58406b74a33595695867d0affffffff0100000000000000001976a9144714cf0284d8f2aea1f05cfa55e783493667dd5c88ac00000000]`. @kaykurokawa  / @jackrobison  - do you think we should allow users to abandon claims by using inputs from another UTXO? . I'm going to re-open this since I've run into a possible edge case. The claim in question is found in the tx here: https://explorer.lbry.io/tx/7992634f28066c38a89b6e44ae81db23eceed663180bd2bd2604c6c7db351a10\nc:\\Program Files (x86)\\LBRY\\resources\\static\\daemon>lbrynet-cli claim_abandon --claim_id=182c6ef1e2c5d22c06eebe9f87baa63e37ed441f\nERROR: Abandon of 182c6ef1e2c5d22c06eebe9f87baa63e37ed441f/None:None failed: error: The transaction was rejected by network rules.(64: dust)\n[0100000001101a35dbc7c60426bdd20b1863d6eeec23db81ae446e9ba8386c06284f639279000000006b483045022100dc3fc3d565ef852e94d05f69b852c1d36b1079603a5f42aaff2cae49a08495a402205530fe6170096e7d33ab6e44d88836824bebe787e0780b52c6d0eec3b6de9bef012103be327adddbf705c863115dfaad45f3dceab48bccf58406b74a33595695867d0affffffff0100000000000000001976a91481a05dc24d35355bc880ed9998e1cc57e191bca088ac00000000]\nClaim info:\nc:\\Program Files (x86)\\LBRY\\resources\\static\\daemon>lbrynet-cli claim_show --claim_id=182c6ef1e2c5d22c06eebe9f87baa63e37ed441f\n{\n  \"address\": \"bTehgxDZBJfPncRTKsrjQcfVVk5EB97juR\",\n  \"amount\": 9.6e-05,\n  \"claim_id\": \"182c6ef1e2c5d22c06eebe9f87baa63e37ed441f\",\n  \"claim_sequence\": 1,\n  \"decoded_claim\": true,\n  \"depth\": 107806,\n  \"effective_amount\": 9.6e-05,\n  \"has_signature\": false,\n  \"height\": 217544,\n  \"hex\": \"080110011a6008011218080410011a047465737422002a00320038004a0052005a001a42080110011a30f080387db984215c5c8f8491212b650dd440d773745c2c5f65056732ba4cf89dfc59154e235fc56b864152bd2ada57a8220a696d6167652f6a706567\",\n  \"name\": \"internalerror\",\n  \"nout\": 0,\n  \"permanent_url\": \"internalerror#182c6ef1e2c5d22c06eebe9f87baa63e37ed441f\",\n  \"supports\": [],\n  \"txid\": \"7992634f28066c38a89b6e44ae81db23eceed663180bd2bd2604c6c7db351a10\",\n  \"valid_at_height\": 217544,\n  \"value\": {\n    \"claimType\": \"streamType\",\n    \"stream\": {\n      \"metadata\": {\n        \"author\": \"\",\n        \"description\": \"\",\n        \"language\": \"en\",\n        \"license\": \"\",\n        \"licenseUrl\": \"\",\n        \"nsfw\": false,\n        \"preview\": \"\",\n        \"thumbnail\": \"\",\n        \"title\": \"test\",\n        \"version\": \"_0_1_0\"\n      },\n      \"source\": {\n        \"contentType\": \"image/jpeg\",\n        \"source\": \"f080387db984215c5c8f8491212b650dd440d773745c2c5f65056732ba4cf89dfc59154e235fc56b864152bd2ada57a8\",\n        \"sourceType\": \"lbry_sd_hash\",\n        \"version\": \"_0_0_1\"\n      },\n      \"version\": \"_0_0_1\"\n    },\n    \"version\": \"_0_0_1\"\n  }\n}\nI was able to abandon this: https://explorer.lbry.io/tx/3568224321ecda70349e81aa4a5daca9b0d102b70eacc66860ee13e7c364b4ff which had even a lower LBC. @eukreign we still had an edge case with https://github.com/lbryio/lbry/issues/768#issuecomment-367110131 - can you try that exact amount (9.6e-05)? Maybe we should just open this on lbrycrd? . @lyoshenka recommend that this is added to next sprint if possible. . Turns out this was due to port 50001 being blocked via Windows Firewall.  Issue solved. . If we want to expand this a bit, allow export of content data also, which would follow something like the clean install process (I'll send it to). This would allow users to bring over downloaded content, configuration files, data files and blobs. . Can we make it more apparent to the user that they should backup their wallet? Unless they read through the FAQ, they may not know. . This is important as it may be filling up users log files.\nI was getting the following spammed in mine, possibly after a connection issue:\nConnectionError: HTTPSConnectionPool(host='logs-01.loggly.com', port=443): Max retries exceeded with url: /inputs/adf4e86a-6904-4b36-97f2-0fa837d8dc0b/tag/lbrynet-0.14.0 (Caused by NewConnectionError(': Failed to establish a new connection: [Errno 11001] getaddrinfo failed',))\nIs this something on the loggly side or in the app?\n. Fixed by https://github.com/lbryio/lbry/pull/989. This no longer happens for lbry://sl-cIGaEBWcJ5w as we fixed the blob availability. @kaykurokawa is there still an action that needs to be taken based on your comments, or can we close? . I guess it shouldn't error, but instead handle unavailable blobs properly. . Folder name is \u0411\u043e\u0433\u0434\u0430\u043d. This is occurring more frequently as we onboard additional users. Got a handful of complaints with the same issue via helpdesk and slack. . I looked through some other logs, and another user had a slightly different error. \n2017-07-05 21:42:21,788 INFO     lbrynet.lbrynet_daemon.DaemonControl:92: Starting lbrynet-daemon from command line\n2017-07-05 21:42:23,823 INFO     lbrynet.lbrynet_daemon.DaemonServer:64: Using non-authenticated API\n2017-07-05 21:42:23,826 INFO     lbrynet.lbrynet_daemon.Daemon:254: Starting lbrynet-daemon\n2017-07-05 21:42:24,006 INFO     lbrynet.lbrynet_daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-07-05 21:42:25,112 INFO     lbrynet.lbrynet_daemon.Daemon:281: Platform: {\"lbrynet_version\": \"0.13.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"2.8.4\", \"ip\": \"178.48.40.185\", \"lbryschema_version\": \"0.0.7\", \"processor\": \"Intel64 Family 6 Model 94 Stepping 3, GenuineIntel\", \"build\": \"release\"}\n2017-07-05 21:42:25,117 INFO     lbrynet.lbrynet_daemon.Daemon:488: Loading databases\n2017-07-05 21:42:25,119 ERROR    lbrynet.lbrynet_daemon.DaemonControl:128: Failed to startup\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\DaemonControl.py\", line 125, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\DaemonServer.py\", line 49, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Daemon.py\", line 261, in setup\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 262, in <lambda>\n  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\lbrynet\\lbrynet_daemon\\Daemon.py\", line 497, in _setup_data_directory\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xf3' in position 10: ordinal not in range(128). Username: \u0107\u0144\u00f3\u017a\u017c\u0142\nThe new error is now:\n`  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 462, in _setup_data_directory\nWindowsError: [Error 3] The system cannot find the path specified: 'C:\\Users\\cn\\xf3zzl\\Downloads'. Per @kaykurokawa: the problem i think is not sqlite related, most likely will need to fix up this file https://github.com/lbryio/lbry/blob/master/lbrynet/winhelpers/knownpaths.py. While troubleshooting with another user, I ran into yet a different scenario where LBRY daemon cannot even start up to the point where I can alter the data/lbryum/downloads paths via settings - the lbry folder is never created. This happens on Windows 10. On Windows 7, I get the lbry folders created and then can redirect the data/downloads/wallet dirs. \nThe user path is: C:\\Users\\Dell\u00e9\\AppData \nThis error:\nc:\\Program Files (x86)\\LBRY\\resources\\app\\dist>lbrynet-daemon\nTraceback (most recent call last):\n  File \"site-packages\\PyInstaller\\loader\\rthooks\\pyi_rth_twisted.py\", line 23, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\internet\\default.py\", line 56, in <module>\n  File \"site-packages\\twisted\\internet\\default.py\", line 50, in _getInstallFunction\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\internet\\selectreactor.py\", line 18, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 18, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 28, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\internet\\_newtls.py\", line 21, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\twisted\\protocols\\tls.py\", line 41, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\OpenSSL\\__init__.py\", line 8, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\OpenSSL\\crypto.py\", line 12, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\cryptography\\x509\\__init__.py\", line 9, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\cryptography\\x509\\base.py\", line 16, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\cryptography\\x509\\extensions.py\", line 13, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\asn1crypto\\keys.py\", line 22, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\asn1crypto\\_elliptic_curve.py\", line 51, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\asn1crypto\\_int.py\", line 56, in <module>\n  File \"c:\\python27\\Lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"site-packages\\asn1crypto\\_perf\\_big_num_ctypes.py\", line 31, in <module>\n  File \"ctypes\\util.py\", line 53, in find_library\n  File \"ntpath.py\", line 85, in join\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe9 in position 11: ordinal not in range(128)\nFailed to execute script pyi_rth_twisted. The current workaround (except for this particular case- https://github.com/lbryio/lbry/issues/794#issuecomment-322550730) is to manually set the working directories for LBRY in the default lbrynet directory (https://lbry.io/faq/lbry-directories). \nYou can manually set these directories in the daemon_settings.yml file. If this file does not exist in your lbrynet folder, you can use this one: https://drive.google.com/open?id=0BzKw_BSaBa_5ZXJzSDkyZXhVelU \nThis will setup your directories as follows or you can edit the file to change your own (but again, don't use any folders with non-English letters):\ndata_dir: c:\\lbry\\lbrynet\nlbryum_wallet_dir: c:\\lbry\\lbryum\ndownload_directory: c:\\lbry\\Downloads\n. Come across 2 users who also had this issue, but it prevented from downloading/streaming content because it affected their Downloads directory - somehow the app started fine though. \nThe error:\n1. 'utf8' codec can't decode byte 0xc2 in position 9: invalid continuation byte. To summarize, one of 3 things may happen if these characters exist in your windows username:\n1) can't run daemon at all\n2) can run daemon, but wallet fails to initialize and then crashes\n3) can run daemon, but downloads fail to write to folder so it seems like you can't download. Another example:\n```\n018-06-05 12:13:39,878 ERROR    lbrynet.lbry_file.client.EncryptedFileDownloader:158: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\lbry_file\\client\\EncryptedFileDownloader.py\", line 155, in open_file\nIOError: [Errno 22] invalid mode ('wb') or filename: 'C:\\Users\\Huni\\Downloads\\2018-\\xec\\xb2\\xab-\\xec\\xb2\\xa0\\xea\\xb5\\xac\\xeb\\xa5\\xbc-\\xec\\x9b\\x83\\xea\\xb2\\xa8\\xeb\\x9d\\xbc-\\xea\\xb0\\x9c\\xeb\\xa7\\x89-\\xec\\x8b\\x9c\\xec\\x9e\\x91\\xeb\\xb6\\x80\\xed\\x84\\xb0-\\xeb\\xa0\\x88\\xec\\xa0\\x84\\xeb\\x93\\x9c\\xe3\\x85\\x8b\\xe3\\x85\\x8b.mp4'\n2018-06-05 12:13:39,887 WARNING  lbrynet.daemon.auth.server:219: error processing api request: Failed to open C:\\Users\\Huni\\Downloads\\2018-\uccab-\ucca0\uad6c\ub97c-\uc6c3\uaca8\ub77c-\uac1c\ub9c9-\uc2dc\uc791\ubd80\ud130-\ub808\uc804\ub4dc\u314b\u314b.mp4. Make sure you have permission to save files to that location.\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\nFile \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 1687, in jsonrpc_get\nFile \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\nFile \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\nFile \"site-packages\\lbrynet\\file_manager\\EncryptedFileDownloader.py\", line 120, in _start\nFile \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\nFile \"site-packages\\twisted\\python\\threadpool.py\", line 262, in \nFile \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\nFile \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\nFile \"site-packages\\lbrynet\\lbry_file\\client\\EncryptedFileDownloader.py\", line 161, in open_file\nexceptions.ValueError: Failed to open C:\\Users\\Huni\\Downloads\\2018-\uccab-\ucca0\uad6c\ub97c-\uc6c3\uaca8\ub77c-\uac1c\ub9c9-\uc2dc\uc791\ubd80\ud130-\ub808\uc804\ub4dc\u314b\u314b.mp4. Make sure you have permission to save files to that location.\n2018-06-05 12:13:42,822 INFO     lbrynet.daemon.Daemon:1686: Already have lbry file but missing file in C:\\Users\\Huni\\Downloads, rebuilding it\n2018-06-05 12:13:42,823 WARNING  lbrynet.daemon.auth.server:219: error processing api request: CurrentlyStartingError\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 1687, in jsonrpc_get\nFile \"site-packages\\lbrynet\\cryptstream\\client\\CryptStreamDownloader.py\", line 87, in start\nlbrynet.cryptstream.client.CryptStreamDownloader.CurrentlyStartingError: \n2018-06-05 12:14:00,612 INFO     lbrynet.daemon.Daemon:1686: Already have lbry file but missing file in C:\\Users\\Huni\\Downloads, rebuilding it\n```. Tested a bunch of the scenario above and I can happily say that this was indeed fixed by the python 3 upgrade! Woohoo! . This also occurs if you Publish something yourself and add claim support. \nI think it's important for Tipping as well, since the plan was to use supports. . Also, the claim which I supported is now gone, but I still should be able to abandon my claim. See info about the claim below:\n2017-07-25 17:09:44,260 INFO     lbrynet.core.Wallet:822: Resolving lbry://three#b64155f2d44553871dfdb1785aa49d6d3972cd84\n2017-07-25 17:09:44,793 ERROR    lbrynet.daemon.auth.server:353: Failed to process resolve: Certificate claim 512a347c4c7bd8251ac82ef061a94d3396a60e94 not found\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 1423, in jsonrpc_resolve\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\core\\Wallet.py\", line 825, in resolve\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 262, in \n  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\lbryum\\commands.py\", line 140, in func_wrapper\n  File \"site-packages\\lbryum\\commands.py\", line 1120, in getvaluesforuris\n  File \"site-packages\\lbryum\\commands.py\", line 1002, in _handle_resolve_uri_response\n  File \"site-packages\\lbryum\\commands.py\", line 738, in parse_and_validate_claim_result\nException: Certificate claim 512a347c4c7bd8251ac82ef061a94d3396a60e94 not found. @kaykurokawa are there any lbryum commands we could use? Without breaking the claim? . I'll let you know if we find a way around it. . @lyoshenka - yup, I originally opened one on the app side.. feel free to edit or create a new one to remove the limits settings. https://github.com/lbryio/lbry-app/issues/372. Ah yes, forgot about that! I have to get myself a Linux dev build from\nmaster going...\nOn Mon, Jul 24, 2017 at 4:24 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\nThey are gone from the UI in master already.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/798#issuecomment-317543468, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHvpkQWTfpybhwekp3qjBxsUwvsuL8Zgks5sRP19gaJpZM4OhS6O\n.\n. @hackrush01 can we get this fixed? . @lyoshenka with all the transaction list enhancements we've had, this is a glaring hole right now. Would be great if we can start tracking this info or figure out a lbryum solution. Please bump up in priorty if you agree. . @lyoshenka thinking about this again - do we really want to store this information in a db vs on the blockchain (i.e. some special type of support)?  If someone loses their LBRY database file, they wouldn't be able to reference back their incoming payments. \n\nWhat's the best solution going forward that would help with Proof of Purchase? . @tiger5226 want to chime in here? We discussed this recently. . The first step of this (identifying the purchase) is currently being worked in https://github.com/lbryio/lbry/commit/6e2622448e6080f656d1bee595201b357efd50a4. This problem is not solved. The solution on this repo will really depend on the discussion in https://github.com/lbryio/lbrycrd/issues/184 and the proof of payment proposal, so I'm okay with closing this for now. . I think the 0 effective amount issue stems from the fact that the block takeover height has not gone into effect. Confirming on slack. \nIf that's the case, while doing some additional testing (different claim id than above), we found that claim_show showed an incorrect effective amount at one point, claim_list still showed 0 \nC:\\Users\\thoma\\Desktop>curl \"http://localhost:5279/lbryapi\" --data \"{\\\"method\\\":\\\"claim_show\\\",\\\"params\\\":{\\\"claim_id\\\":\\\"7289ed1bb8825471da886b40b59520fca19246bb\\\"} }\"\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"address\": \"bQE2A6jjNRnGPmX13t3vM12kxcM6XJT9Pf\",\n    \"amount\": 25.0,\n    \"channel_name\": \"@6ea86b96\",\n    \"claim_id\": \"7289ed1bb8825471da886b40b59520fca19246bb\",\n    \"claim_sequence\": 4,\n    \"decoded_claim\": true,\n    \"effective_amount\": 35.0,\n    \"has_signature\": true,\n    \"height\": 213759,\n    \"hex\": \"080110011ab402080112ec01080410011a445061727469636c2e696f20e2809320456173792c2053656375726520616e64205072697661746520503250204d61726b6574706c61636520496e74726f64756374696f6e22435669736974205b68747470733a2f2f7061727469636c2e696f5d2868747470733a2f2f7061727469636c2e696f2920666f72206d6f726520696e666f726d6174696f6e2a00320d5075626c696320446f6d61696e38004a4468747470733a2f2f737065652e63682f7061727469636c2f623139383064376438656538613665626230383564643962303330383766373366663138663535352e6a706752005a001a41080110011a30f64f5b184c977d6641941d7c6b59421ddadeb81dc2659e3d618059cfa7a5e0c7f5032349b3b56556efa04c865d2ac6a72209766964656f2f6d70342a5c080110031a40a5189795747148bcde30885b61dab1ca3008ed3b502750ff28de1d531f62a1fc5583c62f8f488ae28f03e4c3a7c6ffd1370d017aec799f88582f7a5a5602040b2214503a3cef809c992751e8e25f8c92dfaf22a24825\",\n    \"name\": \"nine\",\n    \"nout\": 0,\n    \"signature_is_valid\": true,\n    \"supports\": [\n      {\n        \"amount\": 10.0,\n        \"nout\": 0,\n        \"txid\": \"9b01b1e1417f7fa2b103f6a809e6f55cb136bd4816a2b7a4ac31544fe66aab6c\"\n      }\n    ],\nRerunning claim show later returned to 0 (additioanl suport was added by original content publisher)\nC:\\Users\\thoma\\Desktop>curl \"http://localhost:5279/lbryapi\" --data \"{\\\"method\\\":\\\"claim_show\\\",\\\"params\\\":{\\\"claim_id\\\":\\\"7289ed1bb8825471da886b40b59520fca19246bb\\\"} }\"\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"address\": \"bQE2A6jjNRnGPmX13t3vM12kxcM6XJT9Pf\",\n    \"amount\": 25.0,\n    \"channel_name\": \"@6ea86b96\",\n    \"claim_id\": \"7289ed1bb8825471da886b40b59520fca19246bb\",\n    \"claim_sequence\": 4,\n    \"decoded_claim\": true,\n    \"depth\": 25,\n    \"effective_amount\": 0.0,\n    \"has_signature\": true,\n    \"height\": 213759,\n    \"hex\": \"080110011ab402080112ec01080410011a445061727469636c2e696f20e2809320456173792c2053656375726520616e64205072697661746520503250204d61726b6574706c61636520496e74726f64756374696f6e22435669736974205b68747470733a2f2f7061727469636c2e696f5d2868747470733a2f2f7061727469636c2e696f2920666f72206d6f726520696e666f726d6174696f6e2a00320d5075626c696320446f6d61696e38004a4468747470733a2f2f737065652e63682f7061727469636c2f623139383064376438656538613665626230383564643962303330383766373366663138663535352e6a706752005a001a41080110011a30f64f5b184c977d6641941d7c6b59421ddadeb81dc2659e3d618059cfa7a5e0c7f5032349b3b56556efa04c865d2ac6a72209766964656f2f6d70342a5c080110031a40a5189795747148bcde30885b61dab1ca3008ed3b502750ff28de1d531f62a1fc5583c62f8f488ae28f03e4c3a7c6ffd1370d017aec799f88582f7a5a5602040b2214503a3cef809c992751e8e25f8c92dfaf22a24825\",\n    \"name\": \"nine\",\n    \"nout\": 0,\n    \"signature_is_valid\": true,\n    \"supports\": [\n      {\n        \"amount\": 10.0,\n        \"nout\": 0,\n        \"txid\": \"9b01b1e1417f7fa2b103f6a809e6f55cb136bd4816a2b7a4ac31544fe66aab6c\"\n      },\n      {\n        \"amount\": 15.7,\n        \"nout\": 0,\n        \"txid\": \"f57d6a808688001fd016be4acca4375c4b9e45c3e341cd569ed14580e26a9789\"\n      }. This is still occurring in the latest version (0.16):\nclaim list mine:\n{\n    \"address\": \"bV5kATSMsX8rYxbqUuXCgnCbqggtphxosK\",\n    \"amount\": 10000000000.0,\n    \"blocks_to_expiration\": 259232,\n    \"category\": \"support\",\n    \"claim_id\": \"2b3c6a8b2510986f568a7be9491f9adb70e437d3\",\n    \"confirmations\": 3742,\n    \"expiration_height\": 501807,\n    \"expired\": false,\n    \"height\": 238833,\n    \"is_pending\": false,\n    \"is_spent\": false,\n    \"name\": \"ten\",\n    \"nout\": 1,\n    \"txid\": \"29eaafe644e61d575e5cf69175388985e4cb837d74711729bc0cbdad492d1951\"\n  },\n  {\n    \"address\": \"bX2GvcwngGwS35hg1pEHjwNvPSbzPkhqYP\",\n    \"amount\": 5000000000.0,\n    \"blocks_to_expiration\": 260821,\n    \"category\": \"support\",\n    \"claim_id\": \"5d2408957575668a40998af135b16b25369a8ede\",\n    \"confirmations\": 2153,\n    \"expiration_height\": 503396,\n    \"expired\": false,\n    \"height\": 240422,\n    \"is_pending\": false,\n    \"is_spent\": false,\n    \"name\": \"eight\",\n    \"nout\": 1,\n    \"txid\": \"5e0f1d4e17429ebef67954024fa23aef93c1b1d231137b8cc2bb5b1b6852be74\"\n  }\n]\n. https://github.com/lbryio/lbryum/issues/158 already logged for effective amount issue and the formatting problem doesn't seem to exist anymore (also fixed at some point). . Which button is unresponsive? We are aware of some credit card linking issues, working on them at the moment. Were you able to link successfully and something broke afterwards? Can you enable the developer console in the App and provide any screenshots when this happens? . https://github.com/pyinstaller/pyinstaller/wiki/Recipe-Win-Code-Signing. To work around this on the app side, the daemon will be signed during the app packaging process. Not sure what would happen if the daemon is already signed, guess we'll wait and see. We should still sign it for the binaries on lbry repo. . @jackrobison / @lyoshenka  - do we feel that the changes to reflection (doing it only once per 12 hours, having ability to turn off) solve this ticket or should we be digging in more. The issues on spee.ch with multiple files being open have not re-surfaced. . In what cases should this option be turned on? How would it be turned on manually?\n. We are aware of this already, have a PR pending to fix it. Please check with us in slack.lbry.io before submitting an issue if you can! Thanks! . This https://github.com/lbryio/lbryum/issues/143 is sort of related because users try to stream their own content and it fails. . This was fixed in https://github.com/lbryio/lbry-app/pull/522\nThere's another ticket for general input validations somewhere... . @okwme is your lbrynet-cli also updated to at least 0.15.2 (https://github.com/lbryio/lbry/releases/tag/v0.15.2) ?\nI ran claim_abandon and I get: \n```\nc:\\Program Files (x86)\\LBRY\\resources\\app\\dist>lbrynet-cli claim_abandon\nERROR: Must specify claim_id, or txid and nout\nHelp for claim_abandon method:\n    Abandon a name and reclaim credits from the claim\n\n    Usage:\n        claim_abandon [<claim_id> | --claim_id=<claim_id>]\n                      [<txid> | --txid=<txid>] [<nout> | --nout=<nout>]\n\n    Return:\n        (dict) Dictionary containing result of the claim\n        {\n            txid : (str) txid of resulting transaction\n            fee : (float) fee paid for the transaction\n        }\n\n```. Thanks, closing for now. I should have caught that :p . @kauffj just to be safe, confirmed it with a manual publish, same result. \nPublish:\n'{\"method\":\"publish\", \"params\": { \"name\": \"testmanualpublish\", \"file_path\": \"C:\\\\ccsetup532.exe\", \"bid\": 0.0011, \"metadata\":  { \"description\": \"Some interesting content\", \"fee\": {\"currency\": \"LBC\", \"amount\": 0.01}, \"title\": \"Test manual upload\", \"language\": \"en\", \"license\": \"test Inc\", \"nsfw\": false }}}'\nResolve:\nfee\": {\n              \"address\": \"bRHR79gQTo7iHokbNqqN68tnmW6jiyp8gV\",\n              \"amount\": 0.009999999776482582,\n              \"currency\": \"LBC\",\n              \"version\": \"_0_0_1\"\n. Well, at least I got to do my first publish via CLI :). I believe there was already some work on this, was just never merged/finished. https://github.com/lbryio/lbry/pull/835. @KamilPiekutowski just going through some old issues and noticed this one. Looks like https://github.com/lbryio/lbryschema/pull/26 was caught up in other changes. Did you want to work on the lbryschema changes required for https://github.com/lbryio/lbry/pull/835 ? . @KamilPiekutowski based on https://github.com/lbryio/lbry/pull/835#issuecomment-327194727, it still needs some lbryschema changes. I think the last pull was rejected because it included some other changes (a PR should be specific to a single change, or set of changes). \nNo pressure, was just trying to follow up :)\nI know you said you wanted to to work on the filesize/length (https://github.com/lbryio/lbryschema/issues/20), not sure if you ever had a chance to get around to that. . no longer valid, we use a single sqlite db now. . This is currently handled better in the sense that the publish call fails with a Claiming of name testlongdesc failed: error: the transaction was rejected by network rules. 16: bad-txns-claimscriptsize-toolarge (that's what the user also sees in an error box) but I think we can still do a better job at estimating the claim size before even submitting the publish.\n@eukreign , will the publish call have a no broadcast option we can leverage? Would we know what the max size is during this time? . I agree, but I think the default should be to broadcast (which matches current functionality) and a flag to not broadcast (I could be convinced otherwise if other team members agree with your approach!). . In-app tipping being worked on here: https://github.com/lbryio/lbry-app/issues/355\nThat could possibly be expanded later into a rating system. . I don't think we want to close this just becuase publish reruns faster, there are still valid reasons for this requirement. If a file is large, we would want a way to return a loading status.\nThis ticket also included a similar feature for the get command. \n@lyoshenka / @jack thoughts? . in @kennethreitz 's case, he was able to see his channel in the dropdown and attempt to publish using it. Entire log is here: https://gist.github.com/kennethreitz/7c8cf7b9540fe45f8991c658e1e21abd\n. @alexliebowitz any progress on this? We want to get the app side patched up to fix this asap... It's an ugly error that's causing confusion. . Although a band-aid was made on the app side to check for user balance, the daemon should really be returning this information. Probably needs to be fixed in conjunction with https://github.com/lbryio/lbry/issues/748. Closing this, it's not happening anymore and think it was an app issue to begin with. . @eukreign can we close this as it will be taken into account in the new wallet? . Yea that's a nasty one. I think part of it is fixed by @hackrush01 in master already.\nThis is also related: https://github.com/lbryio/lbry/issues/812. @lyoshenka same for https://github.com/lbryio/lbry/pull/875 I guess.  . @mirgee I think you were referencing a rebuild of a particular LBRY download that's deleted, where-as this issue pertains to the entire downloads directory. So let's say the whole directory moved or is inaccessible (shared drive that's disconnected) . @alexliebowitz - were you going to take a stab at this? . @mirgee we can't reproduce this...were you ever able to? Closing it for now. . Going to reopen, a user recently ran into this on his Mac. He had the download directory set in daemon_settings.yml\n2018-04-28 15:22:52,755 INFO     lbrynet.daemon.Daemon:274: Platform: {\"lbrynet_version\": \"0.19.1\", \"platform\": \"Darwin-17.5.0-x86_64-i386-64bit\", \"os_system\": \"Darwin\", \"python_version\": \"2.7.13\", \"os_release\": \"17.5.0\", \"lbryum_version\": \"3.2.0\", \"ip\": \"Could not determine IP\", \"lbryschema_version\": \"0.0.15\", \"processor\": \"i386\", \"build\": \"release\"}\n2018-04-28 15:22:52,767 INFO     lbrynet.daemon.Daemon:478: Loading databases\n2018-04-28 15:22:52,772 ERROR    lbrynet.daemon.DaemonControl:113: Failed to start lbrynet-daemon\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/daemon/DaemonControl.py\", line 110, in start_server_and_listen\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/daemon/DaemonServer.py\", line 51, in start\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 239, in setup\n  File \"site-packages/twisted/python/threadpool.py\", line 246, in inContext\n  File \"site-packages/twisted/python/threadpool.py\", line 262, in <lambda>\n  File \"site-packages/twisted/python/context.py\", line 118, in callWithContext\n  File \"site-packages/twisted/python/context.py\", line 81, in callWithContext\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 480, in _setup_data_directory\nOSError: [Errno 2] No such file or directory: '/Volumes/CRYP-1/Crypto-currencies/Wallets'. This is still an issue, especially on Mac where the daemon fails to start entirely (won't even write to log) if the download directory is not available. I think the best thing to do is allow startup and just write to the default download directory for the session. It would be nice to alert the users that this changed/was unavailable...what if I unplugged my external, started LBRY, and then re-plugged it back in later - I should still be able to use it on a subsequent startup.  . This is the current analysis of ipfs vs lbry protocol https://lbry.io/faq/different-ipfs. Please see https://lbry.io/faq/startup-troubleshooting / \nhttps://github.com/lbryio/lbry-app/issues/353\nJust need a reinstall. \n. @lyoshenka can we get this bumped up in priority? Would be nice for users to see the title of the failed content downloads instead of the sdhash which means nothing to them.  Not sure if there's anything we can do on the app side in the meantime (see discussion above) . Looks like something was fixed recently and the daemon now reports the LBRY URL as well as the sdhash (this is an example after getting the sdblob, but it also shows it for sdblob timeouts too)\n2017-12-02 12:59:26,348 WARNING  lbrynet.daemon.Daemon:686: Failed to get two (Failed to download data blobs for sd hash 837eb8651c9b7755fb2972b77933435ed6c9d217e41782d31ab10401f5b59219988a68ec1f10fb16c6a9c0cc5f5408d8 within timeout)\nThe in app error still shows only the sd-hash\n\nHow do we feel about showing the URL vs something more common like the title? I guess we should take this as a win for now and show the URL on the app side. . @DOnTheRiverC that's a completely separate issue, in this case the error pops up but the video streams. Send your log file to help@lbry.io and we can take a closer look. . @kauffj I think this is what you are looking for, hopefully explains why it's happening.  Something related to the transaction_ID, probably related to Rewards. \n```\nTypeError: Cannot read property 'transaction_id' of undefined\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:8641:15\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121416:18\n    at dispatch (file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121471:18)\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:8698:9\n    at Array.forEach (native)\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:8697:89\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121416:18\n    at dispatch (file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121471:18)\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:3397:5\n    at file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121416:18\n    at dispatch (file:///C:/Program%20Files%20(x86)/LBRY/resources/app/dist/js/bundle.js:121471:18)\n``. Linked to https://github.com/lbryio/lbry/issues/883. Closing this in favor of #883. Or separate out Youtube verification and YouTube Sync.  Maybe give those with X amount of videos/views a link to Youtube Sync after they verify if they want to get their content synced on LBRY automatically (has to be explicit)  . Issue moved to [lbryio/internal-issues #26](https://github.com/lbryio/internal-issues/issues/26) via [**ZenHub**](https://www.zenhub.com/)\n. Periodically I am seeing2017-09-15 11:26:14,750 WARNING  lbrynet.daemon.ExchangeRateManager:69: There was a problem updating USDBTC exchange rate information from lbry.io` in my daemon, but don't think its breaking anything. . Jeremy noticed this also occurs right when you call claim_list_mine after creating the channel:\nhttps://github.com/lbryio/lbry/issues/902\n. Not sure exactly in which version this behavior changed, but now the result is a 500 api error on the publish call and the daemon returns the following when you try to publish before the channel confirms:\n```\n2018-02-20 16:34:07,540 INFO     lbrynet.daemon.Daemon:1852: Claimed a new channel! Result: {'claim_address': 'bUyFYKCUmvzJCnqvP6xxh97kQRimrANNeK', 'value': '08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004bc03536171fb1262c506e5cc6fe1006dc21660c9038ca7935b3eee5f138af58485dcf69ab04435598d702a34ce723eea7e0f1ed106724b298d91a5d1b6beced4', 'fee': '0.000174', 'tx': '01000000016085938a64fbf2690c6fa4d1b738c83d8884a40e0d5914f6c0fdcdacc64fe153000000006b483045022100d8e1f5f4ffa408fda8212d67e1ecab6138eaf4b556fded5718ee6bbe95ece66402203f2583391c499bd57a2f66836b992b9f0fd248cfe4b7dcaf6c8b806a07325311012102fb98109262a5c79d697b5b29e4c271dc4d081f4323c64ba4d72ddd30ad4e0056ffffffff0240420f000000000093b51040717569636b7075626368616e6e656c4c6408011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004bc03536171fb1262c506e5cc6fe1006dc21660c9038ca7935b3eee5f138af58485dcf69ab04435598d702a34ce723eea7e0f1ed106724b298d91a5d1b6beced46d7576a914b226df77da9726b028070c2825f420ed24298d0188acc83bdc0b000000001976a9145a90a86f9390ae7c35ec4a547c925e049fe273ae88ac00000000', 'success': True, 'claim_id': '4d4b487878ca2c745d2ee1746e0765c665074e4f', 'nout': 0, 'txid': 'e47a94a40831c8e9fdbd0c5f6c77c54731688428e653f05c2becea53dfda85e8'}\n2018-02-20 16:34:32,618 INFO     lbrynet.daemon.Daemon:2096: Publish: {'claim_address': None, 'channel_id': None, 'name': u'touchme', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'create channel + quick pub', u'license': u'None', u'title': u'quick pub test', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'licenseUrl': None}}}, 'channel_name': u'@quickpubchannel', 'bid': 0.01, 'file_path': u'C:\\Users\\SoloDolo\\Pictures\\touchme.JPG', 'change_address': None}\n2018-02-20 16:34:35,233 WARNING  lbrynet.daemon.auth.server:228: error processing api request: Cannot publish using channel @quickpubchannel\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2109, in jsonrpc_publish\nexceptions.Exception: Cannot publish using channel @quickpubchannel\n2018-02-20 16:35:29,707 WARNING  lbrynet.daemon.auth.server:445: API function \"channel_list_mine\" is deprecated, please update to use \"channel_list\"\n2018-02-20 16:35:49,144 INFO     lbrynet.daemon.Daemon:2096: Publish: {'claim_address': None, 'channel_id': None, 'name': u'touchme', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'2nd try', u'license': u'None', u'title': u'test pub after quickchan', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'licenseUrl': None}}}, 'channel_name': u'@quickpubchannel', 'bid': 0.01, 'file_path': u'C:\\Users\\SoloDolo\\Pictures\\touchme.JPG', 'change_address': None}\n2018-02-20 16:35:51,805 WARNING  lbrynet.daemon.auth.server:228: error processing api request: Cannot publish using channel @quickpubchannel\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2109, in jsonrpc_publish\nexceptions.Exception: Cannot publish using channel @quickpubchannel\n2018-02-20 16:37:15,930 WARNING  lbrynet.daemon.auth.server:445: API function \"channel_list_mine\" is deprecated, please update to use \"channel_list\"\n2018-02-20 16:37:53,500 INFO     lbrynet.daemon.Daemon:2096: Publish: {'claim_address': None, 'channel_id': None, 'name': u'touchme', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'third try', u'license': u'None', u'title': u'try 3 quick pub', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'licenseUrl': None}}}, 'channel_name': u'@quickpubchannel', 'bid': 0.01, 'file_path': u'C:\\Users\\SoloDolo\\Pictures\\touchme.JPG', 'change_address': None}\n2018-02-20 16:37:55,967 WARNING  lbrynet.daemon.auth.server:228: error processing api request: Cannot publish using channel @quickpubchannel\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2109, in jsonrpc_publish\nexceptions.Exception: Cannot publish using channel @quickpubchannel\nAPI return:\n{\n  \"error\": {\n    \"code\": -32500,\n    \"data\": {\n      \"traceback\": [\n        \"Traceback (most recent call last):\",\n        \"  File \\\"site-packages\\lbrynet\\daemon\\auth\\server.py\\\", line 240, in render\",\n        \"    \",\n        \"  File \\\"site-packages\\lbrynet\\daemon\\auth\\server.py\\\", line 355, in _render\",\n        \"    \",\n        \"  File \\\"site-packages\\twisted\\internet\\defer.py\\\", line 150, in maybeDeferred\",\n        \"    \",\n        \"  File \\\"site-packages\\twisted\\internet\\defer.py\\\", line 1445, in unwindGenerator\",\n        \"    \",\n        \"---  ---\",\n        \"  File \\\"site-packages\\twisted\\internet\\defer.py\\\", line 1299, in _inlineCallbacks\",\n        \"    \",\n        \"  File \\\"site-packages\\lbrynet\\daemon\\Daemon.py\\\", line 1920, in jsonrpc_publish\",\n        \"    \",\n        \"exceptions.Exception: Cannot publish using channel @quickchan01\",\n        \"\"\n      ]\n    },\n    \"message\": \"Cannot publish using channel @quickchan01\"\n  },\n  \"id\": 1450,\n  \"jsonrpc\": \"2.0\"\n}\n```\n. Closing this in favor of: https://github.com/lbryio/lbry/issues/1188\nThe app now uses channel id, but the protocol should do a better job of not allowing this to begin with or giving the user a better error message. . I saw your bug report come in. US ips are definitely not being blocked, how did you come to this conclusion? We are not blocking any types of ips from connecting.  Can you provide your log file when trying to start from a US IP?\nhttps://lbry.io/faq/how-to-find-lbry-log-file. 2017-09-03 11:46:25,529 ERROR lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\nAre you running mining software? That's the most common problem. Or upnp being disabled / something blocking port 3333. The vpn seems to help bypass it. Lbry is a p2p platform so network availability is critical to its operation. \nOther common startup issues:to port: https://lbry.io/faq/startup-troubleshooting. @d4amenace can I close this? . Thanks! . Reopening- https://github.com/lbryio/lbry/pull/1100#issuecomment-367078951. agreed, key fee settings need to be validated on startup. This is also related to: https://github.com/lbryio/lbry-app/issues/624. There are some old installs with an incorrect key fee setting which causes purchases to fail. This validation process should take into account that scenario as well.\nThe setting is:\nmax_key_fee:\n  USD: {address: '', amount: 25.0}. Going to close this - have not seen any reports of it and loggly does not come up with anything.  Suspect it was mostly related to https://github.com/lbryio/lbry-desktop/issues/624. Have the same error logged here: https://github.com/lbryio/lbry/issues/893 - pretty sure its because the block with the certificate claim hasn't been mined yet. This could possibly be fixed by the certificate caching @jackrobison mentioned on the call today. . Will close this one and track under 893. . This startup timeout issue was fixed by batching through reflections. . @rkrp looks like we already have a PR for this, but it wasn't merged yet.\n. The re-announce time should be changed accordingly as well. . We mention this issue on: https://lbry.io/faq/startup-troubleshooting\nAnd have it logged here: https://github.com/lbryio/lbry/issues/794\nWe don't have a workaround for the scenario your case at this time. Can you tell me what your users directory is in c:\\users\\xxxx? \nThe only recommendation we can make is to create a separate Windows user without any special characters. . @mirgee thanks for the PR. We'll have someone review it. In the meantime, check out https://lbry.io/faq/tips !. @chrishobcroft sorry you are having trouble. Can you try this:\n1) Close LBRY\n2) Delete blockchain_headers from lbryum folder ( https://lbry.io/faq/lbry-directories) \n3) Start LBRY again. . @chrishobcroft I reached out to you on Slack, maybe we can do a remote session to figure this out. . Chris used an older wallet backup which didn't have newly generated addresses.  He's attempting to generate new addresses with the hopes of recreating addresses that have the remainder of his balance. \nWill try to reproduce the same on my side. . He's all set, he found a more recent wallet backup. . @mirgee sorry this has been taking a while to review. Thanks for your contribution, check out https://lbry.io/faq/tips . Is this happening in the v16 release or just on the source? . Here's another one - this IP shows closing connection out of nowhere (meaning I didn't connect to that IP recently based on my logs) and it goes on for hours.\n2017-09-23 23:18:42,976 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 0fd9e97be73f9abf to 98.202.130.165:61229\n2017-09-23 23:18:44,723 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 73870a4604a8ab17 to 98.202.130.165:61229\n2017-09-23 23:18:46,230 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4c65e90b849e69e5 to 98.202.130.165:61229\n2017-09-23 23:24:20,201 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:25,749 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:30,835 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:36,197 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:41,740 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:47,115 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:52,213 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:24:57,759 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:04,631 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:10,147 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:15,246 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:20,755 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:25,851 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:30,953 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:36,049 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:41,400 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:46,756 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:52,117 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:25:57,213 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:02,769 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:07,852 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:12,953 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:18,621 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:23,838 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:29,200 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:34,753 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:39,854 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:44,946 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:50,046 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:26:55,158 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:00,259 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:05,747 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:11,127 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:16,223 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:21,783 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:26,865 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:32,012 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:37,121 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:42,226 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:47,743 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:52,855 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:27:57,961 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:03,059 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:08,160 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:13,273 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:18,756 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:24,127 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:29,229 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:34,756 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:39,875 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:45,062 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:50,157 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:28:55,270 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:00,746 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:05,865 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:11,226 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:17,490 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:22,846 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:28,198 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:35,203 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:40,752 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:45,867 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:50,967 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:29:56,339 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:01,960 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:07,776 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:12,857 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:17,967 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:23,153 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:28,263 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:33,750 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:38,878 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:43,982 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:49,078 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:54,183 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:30:59,273 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:04,769 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:09,851 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:14,950 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:20,078 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:25,223 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:30,750 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:35,858 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:41,224 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:47,493 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:52,854 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:31:58,229 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:03,755 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:09,132 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:14,227 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:20,042 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:25,141 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:30,242 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:35,757 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:40,848 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:46,206 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:51,739 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:55,345 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 7b5980ff6e1df4d8 to 116.102.0.240:50068\n2017-09-23 23:32:57,138 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:32:58,727 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 5016cdfb493644bf to 116.102.0.240:50072\n2017-09-23 23:33:02,246 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:33:04,756 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending ddef133333ddfb7a to 116.102.0.240:50072\n2017-09-23 23:33:07,750 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:33:08,739 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 2bea427c252ec363 to 116.102.0.240:50072\n2017-09-23 23:33:12,871 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:33:13,075 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 66efd91b9257c532 to 116.102.0.240:50072\n2017-09-23 23:33:17,401 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending b4bd8746bfbd448e to 116.102.0.240:50072\n2017-09-23 23:33:18,016 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:33:22,013 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending a116af24b51f470e to 116.102.0.240:50072\n2017-09-23 23:33:23,112 INFO     lbrynet.core.client.ClientProtocol:144: Closing the connection to 13.58.214.56:3333 due to having no further requests to send\n2017-09-23 23:33:26,203 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 6af10c0488c84f73 to 116.102.0.240:50072. So the goal would be to extract the video length while it is processed during upload and store in a metadata field (there's a separate ticket for this in the lbryschema repo). See below for an example, you can't tell which is a support vs which is a tip - think this would be good information to have, especially for tracking tips and explorer related functions. \n0a0efa1ea84e84b2848022bc465af766168122c63b95b418e29939119ef39eab0e3598fe0665da34dc17479d0f53f752c5e42214e48d2b50501159034f68d53321f67b8aa5b1d771\",\n      \"name\": \"nine\",\n      \"nout\": 1,\n      \"signature_is_valid\": true,\n      \"supports\": [\n        {\n          \"amount\": 2.0,\n          \"nout\": 1,\n          \"txid\": \"e30f95c04dab6cfbaf1ae872f1face6eb73dc98c65925d7a26d1a434d06683f7\"\n        },\n        {\n          \"amount\": 100.0,\n          \"nout\": 0,\n          \"txid\": \"ce18897024d174b6ff4db947f1f94dccda1b15c974ca7aa6fc21dd6c1ed8a881\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"79123997f27f180b29dc7c234af55e86cdaa5e9702807abd3d0c627c8bf533c0\"\n        },\n        {\n          \"amount\": 100.0,\n          \"nout\": 1,\n          \"txid\": \"8dc2c72009d84376e6cc57c814ecdb12a4bca2243076ce2d32fb41aba17d0e22\"\n        },\n        {\n          \"amount\": 80.0,\n          \"nout\": 1,\n          \"txid\": \"e759c9d3cf1c8ca59650796ceb55ca3959939b47bcafb4a97773b8114c4347a6\"\n        }\n      ],\n      \"txid\": \"25583387d5ed2f17a9c7b6d3af4ac4537d75e7f7dd2a2fe59f30ba514a3e11f5\",. Similar to https://github.com/lbryio/lbry-app/issues/604 - this was inadvertently introduced in the current version. Alerting the user about minimums would be a must.  Probably relies on this discussion too: https://github.com/lbryio/lbry/issues/768\nAlso relevant: https://github.com/lbryio/lbry-app/issues/214. Can confirm this is occurring on 0.16.1\n\"download_directory\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\",\n    \"download_path\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\\\\test.mp4\",\n    \"file_name\": \"test.mp4\",\nAfter restart: \n\"download_directory\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\",\n    \"download_path\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\\\\U9aHFLBVdt4.mp4\",\n    \"file_name\": \"U9aHFLBVdt4.mp4\",. @stevenmos thanks for the report, please check out https://lbry.io/faq/tips :)\n. Want to try looking into it and submitting a pr here? . Closing, not happening anymore on the latest daemon.. This is a good one to start with, thanks for grabbing it! . I think the effective amount takes 6 confirmations to show correctly - can you check it again in a couple? Same thing happens on claims or when adding supports. . You are right. Let's see if https://lbryio.github.io/lbry/cli/#claim_new_support works now and I'll try to reproduce the issue. I can see the tx has the 10 LBC, so something is definitely wonky. . Resolve still showing 0 after adding your support. Claim_list shows 5.1 effective amount haha (taking original claim amount + supports).\n{\n  \"address\": \"bLBrJkkrWedQ1yhHAChS7wBNtwif4YtGzp\",\n  \"amount\": 0.1,\n  \"claim_id\": \"3fda836a92faaceedfe398225fb9b2ee2ed1f01a\",\n  \"claim_sequence\": 10,\n  \"decoded_claim\": true,\n  \"effective_amount\": 5.1,\n  \"has_signature\": false,\n  \"height\": 253176,\n  \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004bbfe30d859ddbdad2c35dcae6dfed9761bb7b89704ec27ab11db9668399104e4684f88e525e900b5749b5cf081a5c9805d2d8302c53b13554a021563c6e1e456\",\n  \"name\": \"@lbry\",\n  \"nout\": 0,\n  \"supports\": [\n    {\n      \"amount\": 5.0,\n      \"nout\": 0,\n      \"txid\": \"bd9f27263fbcab35239a56b298d4192c15052f9be0c18d275015e4e78ed41b68\"\n    }\n  ],\n  \"txid\": \"09f70e88e8b13ffd7e55537dc73f8491cf73f06e17383f3ffcbe0779d80d23fd\",\n  \"value\": {\n    \"certificate\": {\n      \"keyType\": \"SECP256k1\",\n      \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004bbfe30d859ddbdad2c35dcae6dfed9761bb7b89704ec27ab11db9668399104e4684f88e525e900b5749b5cf081a5c9805d2d8302c53b13554a021563c6e1e456\",\n      \"version\": \"_0_0_1\"\n    },\n    \"claimType\": \"certificateType\",\n    \"version\": \"_0_0_1\"\n  }\n}. Nevermind, was looking in the wrong section. . So the problem is that the original claim owner on @lbry has held it for a while, so there is a waiting period for you to overtake it. Content bot shows: \nlbry://@lbry\nTakes effect on approx. *October 16th at 13:04 UTC* (block 256845)\nBlock 253685 \u2022 Claim ID 3fda836a92faaceedfe398225fb9b2ee2ed1f01a\nI think we should show the effective amount immediately to avoid confusion and help with claim/channel bidding in some other tickets we have filed. This would require some other status or processing to tell if the claim is at the appropriate block height.  \nLet me check with Jack/Kay on this and then I'll open a new issue. \nThese are all the claims for @lbry -\nC:\\Program Files (x86)\\LBRY\\resources\\app\\dist>lbrynet-cli claim_list --name=@lbry\n{\n  \"claims\": [\n    {\n      \"address\": \"bDWhrFs43JyHAXcnvM27EE4pwRcYc2zCUN\",\n      \"amount\": 1e-05,\n      \"claim_id\": \"5b08b23ee0fd05e908274be91987d7e6a48ef201\",\n      \"claim_sequence\": 2,\n      \"decoded_claim\": true,\n      \"depth\": 61291,\n      \"effective_amount\": 1e-05,\n      \"has_signature\": false,\n      \"height\": 192422,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a034200041c20394f24ada05bac64cf93df7d1028001b707f1ebfc7a47e5c9a8ac87444a63bcc8715f4b728404ae9ecc2ff86121396b7ede064834144504877432ad43ffe\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"28a9b499f8709d838b1b9f331f964cbbc6c33a54a25d8cd1fe43375f94e9bbbe\",\n      \"valid_at_height\": 193667,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a034200041c20394f24ada05bac64cf93df7d1028001b707f1ebfc7a47e5c9a8ac87444a63bcc8715f4b728404ae9ecc2ff86121396b7ede064834144504877432ad43ffe\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bYbpapJCTxg7JCeJxU2Qc67eL6wiSAJdi8\",\n      \"amount\": 1.0,\n      \"claim_id\": \"459235d496ba3a43c7e90c7f686f9c3b1559de0f\",\n      \"claim_sequence\": 7,\n      \"decoded_claim\": true,\n      \"depth\": 37528,\n      \"effective_amount\": 1.0,\n      \"has_signature\": false,\n      \"height\": 216185,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004ffecab5279c8ed1914d11015270298c1a52a260e69fad12a0edbebb5f5860d4ff557e77c5966f3156a9904da4e90c6778b338b81666e2e8697385a379056f7f5\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"f66d867cf6b3573cbd1520e7f21c7e42c00ad54289ba224de89f6fe3f0d4f6df\",\n      \"valid_at_height\": 218173,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004ffecab5279c8ed1914d11015270298c1a52a260e69fad12a0edbebb5f5860d4ff557e77c5966f3156a9904da4e90c6778b338b81666e2e8697385a379056f7f5\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bXGh6GtrwyNzdrobKiVc5NtyYy9CfH9dcF\",\n      \"amount\": 1.0,\n      \"claim_id\": \"2ef21d492d5ac2cef8afa447800957cce832c715\",\n      \"claim_sequence\": 8,\n      \"decoded_claim\": true,\n      \"depth\": 28932,\n      \"effective_amount\": 1.0,\n      \"has_signature\": false,\n      \"height\": 224781,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a034200042e141b59f080bb277f613d874cc5ea7dea6808f73161a9fc60936b6103dee8ece9bf31799110024110fcf76a1abf600a012e2c4d61a20f2b04a2039864c27770\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"c720784aac78cb3591c248099da32e8440c59eb37c82f7d32890ece96531688f\",\n      \"valid_at_height\": 227038,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a034200042e141b59f080bb277f613d874cc5ea7dea6808f73161a9fc60936b6103dee8ece9bf31799110024110fcf76a1abf600a012e2c4d61a20f2b04a2039864c27770\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bTUr1eijJFNqYT4WsJMsdXLrYTTPLHvzXi\",\n      \"amount\": 0.1,\n      \"claim_id\": \"3fda836a92faaceedfe398225fb9b2ee2ed1f01a\",\n      \"claim_sequence\": 10,\n      \"decoded_claim\": true,\n      \"depth\": 28,\n      \"effective_amount\": 0.0,\n      \"has_signature\": false,\n      \"height\": 253685,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004bf069ae512dcfc6aca2c04b983dbc983be0e3111e3d15366851a5938f509a13936d15822e89839397acf0634eecf755bf0525c2516c68b91c5ca15b887296bbf\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [\n        {\n          \"amount\": 5.0,\n          \"nout\": 0,\n          \"txid\": \"bd9f27263fbcab35239a56b298d4192c15052f9be0c18d275015e4e78ed41b68\"\n        },\n        {\n          \"amount\": 2.0,\n          \"nout\": 0,\n          \"txid\": \"082b4276da8eb12561c9b5abc6ab55990684b5e94d4b12276042e0bbce7aa194\"\n        },\n        {\n          \"amount\": 3.0,\n          \"nout\": 0,\n          \"txid\": \"e5322528d10cab8af9f04fc7c080f6203d020ea94175db65dffe6ce45fcc9f57\"\n        }\n      ],\n      \"txid\": \"66c893e5daa901c32fc4adc115fbc62c430e39836ae8b8985d3c6f3a6dafe24c\",\n      \"valid_at_height\": 256845,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004bf069ae512dcfc6aca2c04b983dbc983be0e3111e3d15366851a5938f509a13936d15822e89839397acf0634eecf755bf0525c2516c68b91c5ca15b887296bbf\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bMAoFddXDSMb8ArqMg85jxk9HtrMrUKczf\",\n      \"amount\": 0.1,\n      \"claim_id\": \"0ce538359c0ea82ee6277e1cbff203a9fe17e053\",\n      \"claim_sequence\": 4,\n      \"decoded_claim\": true,\n      \"depth\": 51990,\n      \"effective_amount\": 0.1,\n      \"has_signature\": false,\n      \"height\": 201723,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004461f7986b3aa7afa0ef37c81448ea8a7bf4945bdca5502e34be1fa3178ae7d181ffb28eb56071e2e9ba1611a2e285319d69c38f1dde74eace8db5000907fb7a5\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"00e13841f51e6e0b52d0fb803bee3df7bc05a1c3dccc701040b448472da1e2c4\",\n      \"valid_at_height\": 203259,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004461f7986b3aa7afa0ef37c81448ea8a7bf4945bdca5502e34be1fa3178ae7d181ffb28eb56071e2e9ba1611a2e285319d69c38f1dde74eace8db5000907fb7a5\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bT3sNDN31d46NjQMpTKBbvhVHkehY775HM\",\n      \"amount\": 0.01,\n      \"claim_id\": \"6c157cae05894cb5b88dce9587e97557e760716f\",\n      \"claim_sequence\": 6,\n      \"decoded_claim\": true,\n      \"depth\": 41548,\n      \"effective_amount\": 0.01,\n      \"has_signature\": false,\n      \"height\": 212165,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004ed932d7d7d0d55792212b3b787988c487be567757e21c1791d7b38ece0bf4cb53b274de835787cd24d9702ae362b3745a6cbd7756d2e45c9b0229198ae3267bd\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"62aedc4d98da4197ff6a55cea8e6d8fbfffcdf24498c73f1b67dd6ba903ac618\",\n      \"valid_at_height\": 214027,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004ed932d7d7d0d55792212b3b787988c487be567757e21c1791d7b38ece0bf4cb53b274de835787cd24d9702ae362b3745a6cbd7756d2e45c9b0229198ae3267bd\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bT2Mzrx4aFJXVuJ58TWPWRuGmrwvb3XZPg\",\n      \"amount\": 0.1,\n      \"claim_id\": \"628b0635ff8ecc22573b2f3e2ffd4d8f25e8c396\",\n      \"claim_sequence\": 9,\n      \"decoded_claim\": true,\n      \"depth\": 17473,\n      \"effective_amount\": 0.1,\n      \"has_signature\": false,\n      \"height\": 236240,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004633a4f5d5d5c667f79aa797f1d0ee293e02df0dc18d8f1e149bd20fc92f2d8f8ca7e0fc63c4e43125c176b8d5149fc49ed1d93a6b4523b6f6ff022fefd7aee38\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"d98a8e521ca1024d5778349647b3d288f46bcc482ac5f89b25cc68e524773ead\",\n      \"valid_at_height\": 238855,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004633a4f5d5d5c667f79aa797f1d0ee293e02df0dc18d8f1e149bd20fc92f2d8f8ca7e0fc63c4e43125c176b8d5149fc49ed1d93a6b4523b6f6ff022fefd7aee38\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bUFjGBN7JSR3iMHZm1MGvMQEY9uVTZNHiN\",\n      \"amount\": 0.01,\n      \"claim_id\": \"1c119c6772690874c9ddb2fb59d8a86ebd7c26ae\",\n      \"claim_sequence\": 3,\n      \"decoded_claim\": true,\n      \"depth\": 53480,\n      \"effective_amount\": 0.01,\n      \"has_signature\": false,\n      \"height\": 200233,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a034200048be7c0fef3ae98337b3439741f2f373b739bc291c9af1bbc6e173af232af5fe640ce56fce731a829d3cdedcef5509aa379399e3228277d1da7a11b962779450a\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"5dc43e2341b0888f69ebf37ceaf2a25b339f9aa73a2e738a1cfe906e274be909\",\n      \"valid_at_height\": 201723,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a034200048be7c0fef3ae98337b3439741f2f373b739bc291c9af1bbc6e173af232af5fe640ce56fce731a829d3cdedcef5509aa379399e3228277d1da7a11b962779450a\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bNCEx3PT57cCnLiiEWy2rULehQSL5BdfCZ\",\n      \"amount\": 0.01,\n      \"claim_id\": \"c97b6b3f1cff7fa3d758bbe72c4faa0532e571ef\",\n      \"claim_sequence\": 5,\n      \"decoded_claim\": true,\n      \"depth\": 50616,\n      \"effective_amount\": 0.01,\n      \"has_signature\": false,\n      \"height\": 203097,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004788bca1f0f28a9571fae2b9a268938f50ec3aca182fa4d12ad543bb8e5bd32fa3c3afc06c6ce3cabecd6c48803c3c729ddc17fefe72e00bf94dfce7accaa1d42\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"ee223183500e4ca48c493fefbc9c88f2f0ba02b6f7c41086eb19d701e6e34e42\",\n      \"valid_at_height\": 204676,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004788bca1f0f28a9571fae2b9a268938f50ec3aca182fa4d12ad543bb8e5bd32fa3c3afc06c6ce3cabecd6c48803c3c729ddc17fefe72e00bf94dfce7accaa1d42\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    },\n    {\n      \"address\": \"bEVQ1hDL7xS7ZTmQKsN22Cjs5oPg5nhA2w\",\n      \"amount\": 1.0,\n      \"claim_id\": \"bef634cc6edc05ebd2648b7705e1edc5531d4df1\",\n      \"claim_sequence\": 1,\n      \"decoded_claim\": true,\n      \"depth\": 101161,\n      \"effective_amount\": 1.0,\n      \"has_signature\": false,\n      \"height\": 152552,\n      \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004c70d122054ef0086504df833c59463216296bf245ea9763c0aa85a77963e96180b56b976b6382de2a507abc824f255c7198a316efba5819b758cd7a888d442e9\",\n      \"name\": \"@lbry\",\n      \"nout\": 0,\n      \"supports\": [],\n      \"txid\": \"8f370928ec53fca70e90d518a74ab095a7c3c634dba18e64291b996811e1be3b\",\n      \"valid_at_height\": 152552,\n      \"value\": {\n        \"certificate\": {\n          \"keyType\": \"SECP256k1\",\n          \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a03420004c70d122054ef0086504df833c59463216296bf245ea9763c0aa85a77963e96180b56b976b6382de2a507abc824f255c7198a316efba5819b758cd7a888d442e9\",\n          \"version\": \"_0_0_1\"\n        },\n        \"claimType\": \"certificateType\",\n        \"version\": \"_0_0_1\"\n      }\n    }\n  ],\n  \"last_takeover_height\": 152552,\n  \"supports_without_claims\": []\n}. Bill - thanks for exposing this. I knew that it happened, but didn't realize it was a bug that it showed 0.  Opened https://github.com/lbryio/lbryum/issues/158 to fix the underlying issue. I think I agree with what you are saying, as that's not what is happening now. We do need to take into account the scenarios where a claim may receive an updated source file - how would that look like to a user who already had downloaded content from that claim? Or maybe we need to force a new claim Id if the content is updated, dunno.\nBut the behavior of file_list is definitely breaking core functionality of the app as it is implemented currently. . @KamilPiekutowski Did you still want to work on this based on Jack's comments? . per @hackrush01, this would require some work on the daemon side. We need the correct amount on the tx list along with some indication that it's an abandon along with claim information. . Sounds like an app side change still needed based on the way it was implemented on the daemon, re opening on app side. \n@hackrush01 is aware. Thanks for noticing it and fixing it, we love contributions! Check out https://lbry.io/faq/tips if you'd be interested in a reward! . I'll rename this issue to be more generic related to the download / file list issues. . The main problem right now is that any edit to the claim changes the outpoint (since its a new tx), so we have these various downstream issues on the download and publishing side.  I agree that a new claim ID should be generated in certain instances -  sounds difficult to do automatically so will need to be a clearly explained user option.  \nWould the re-download functionality be an app side issue or daemon also? . Are you behind a firewall? Check if anything is any of the ports listed in https://lbry.io/faq/startup-troubleshooting\nAlso, please use our slack channel at slack.lbry.io for these types of issues in the future. . @liuxun1977 I'm going to close this, please follow up at help@lbry.io. Also, depending on how the content was published (to a single address or multiple different addresses), those addresses would need to be available in the wallet for the user to see/edit them in their published area. Giving authorization is only part of the problem... I'm sure they want to see the published items as well. . @lyoshenka we should bump this up in priority - it affects first run experience. It stays on the validating screen for all tiles for at least 1 minute (on a fast machine). On Paul's desktop in Manchester, it took like 3 minutes. . @kauffj we do have a FULL permanent URL that was added as part of https://github.com/lbryio/lbry/pull/1063, this ticket was just never closed out. I now see the ticket specified the \"shortest\" URL - we should probably discuss how to determine this. . @jackrobison will this PR be revived or can it be closed? . A couple versions ago I was able to download from other PCs on my network, but I haven't seen that happening since the recent DHT changes. For instance, I'm having trouble finding a peer for a blob right now, announced it from other PC, still can't find it. A 3rd PC was able to download fine from other hosts....please make these issues go away \ud83d\udce6 \nUpdate: Restarted LBRY on PC2 (which wasn't able to find peers) and now it does. The peers it actually downloaded from were not even on the list though, but it did work. . Also, now that I think about it, this should be a setting. I'd like to be able to test content availability/downloads from multiple machines at home. If I download from other peers behind my NAT, it's not a good test. . Thanks @Aldo-f ! Please see https://lbry.io/faq/tips . @MSFTserver just saw this while reviewing issues. If you can get this to reproduce consistently, please file an issue in the spee.ch repository. . 2018-01-29 16:23:23,154 DEBUG    lbrynet.daemon.ExchangeRateManager:74: Exchange rate error (USDBTC from cryptonator.com): [Failure instance: Traceback: <class 'lbrynet.core.Error.InvalidExchangeRateResponse'>: Failed to get exchange rate from cryptonator.com:invalid rate response : <!DOCTYPE html>\n<html>\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n  <meta http-equiv=\"refresh\" content=\"10;URL=/ciez2a\">\n</head>\n<body>\n  <script type=\"text/javascript\">\n    var ipp = {\n    setCookie:function()\n    {\n        document.cookie=\"ipp_key=1517214281375/0Dqkl/XK3oyXxBdm4pH9qg==; path=/;\";\n        document.cookie=\"ipp_uid1=1517214281375; expires=Tue, 31 Dec 2030 23:59:59 GMT; path=/;\";\n        document.cookie=\"ipp_uid2=VUh1W2getSt920Af/emWbtmaywjjJW5rMFWwMTg==; expires=Tue, 31 Dec 2030 23:59:59 GMT; path=/;\";\n    },\n    makeUrl:function(url)\n    {\n        url += \"fa821dba_ipp_key=1517214281375%2f0Dqkl%2fXK3oyXxBdm4pH9qg%3d%3d\" + \"&\" + \"fa821dba_ipp_uid1=1517214281375\" + \"&\" + \"fa821dba_ipp_uid2=VUh1W2getSt920Af%2femWbtmaywjjJW5rMFWwMTg%3d%3d\";\n        return url;\n    }\n};\n    location.href=ipp.makeUrl(\"https://api.cryptonator.com/api/ticker/usd-btc?\");\n  </script>\n</body>\n</html>. Thanks for logging this @stevenmos! I did mention this to the devs last week and they weren't sure why it was happening. I'm guessing its something to do with the OS you are running or do you have IPV6 possibly?\nPlease check out https://lbry.io/faq/tips. hey @stevenmos , can you check if this is still happening on the latest version of LBRY for you (https://lbry.io/get)\nI see similar errors on Loggly, but more related to the DHT side - \nDHT RECV REMOTE EXCEPTION FROM 19x.21x.5x.5x:46492: invalid literal for int() with base 10: ''\nor \nUnexpected response: invalid literal for int() with base 10: ''\nAny idea what that could be @jackrobison / @shyba ? . Yes, that's the same node producing both messages. It's someone on Win 7 and the latest version. Found another user in a similar boat on Linux (no email) and a 3rd also on Win 7. Reached out to 2 of the Win 7 users to grab their logs. . @ian-h-chamberlain, thanks for the contribution! Please check out https://lbry.io/faq/tips. @ian-h-chamberlain, thanks for the contribution! Please check out https://lbry.io/faq/tips . This is still happening to files like lbry://vareprver which only a few blobs are hosted correctly. . @lyoshenka I don't think it's a duplicate.. I was going to mention that on the call but didn't want to prolong the conversation anymore.\nThis issue is more of a pricing update problem... Someone can overtake a claim and set a high lbc price and the person going to that claim will see the old price (or free).  \nThere's a bit of timing involved, but this has happened in the past and I'm able to reproduce it.\nMaybe it has to do more with the general \"when do we invalidate cache\" issue, not sure. But I was hoping to have a more short term solution which would product users by refreshing the price before purchase or something. \nLooks like it was moved to lbry from lbry-app, not sure where it belongs. . @lyoshenka - no, the resolve command shows the correct price, but the app does not. @liamcardenas originally moved it from app to the daemon - maybe they also misunderstood the issue.\nIt's happening to me right now on lbry://seven - someone put the price at 550 LBC but shows free in app. \n\nI'll move this back to the app side. . Issue moved to lbryio/lbry-app #797 via ZenHub\n. @aayanl - moved this over to the daemon side as most of the work would be on the protocol level. Since LBRY is a P2P network, some of the port/connectivity related functions, this change won't be trivial and will most likely end up on the lower spectrum of the priority list for the dev team. I see other torrent applications have similar settings, so it should be doable - want to take a shot yourself? . @yookoala thanks for submitting this. I'll get to get this version of Ubuntu loaded up on a VM to try. \nDo you have selinux or apparmor installed? Sometimes these can cause unexpected issues with the app / protocol.. Can you give it a try with it disabled temporarily? . Thanks for checking @yookoala !\nTake a look at lbry.io/faq/tips :). @yookoala - I just loaded up a fresh VM of Ubuntu 17.10 with XORG option and was able to install/run LBRY without any issues. I did notice that it doesn't minimize to tray, but it does run in the background - could be related to https://github.com/lbryio/lbry-app/issues/740. Don't think @jackrobison ever fixed the issue with api docs updating. Cli docs are updated though. . Per our convo, here's an example on 0.19.1:\n```\nlbrynet-cli resolve mindblown#02da15270141483a76a7b8372d69653b735fb0b9 one\nERROR: 'NoneType' object is not iterable\n. Looks like this is now resolved: C:\\Users\\SoloDolo\\Desktop\\latest daemon>lbrynet-cli resolve mindblown#02da15270141483a76a7b8372d69653b735fb0b9 one\n{\n  \"mindblown#02da15270141483a76a7b8372d69653b735fb0b9\": {\n    \"error\": \"URI lbry://mindblown#02da15270141483a76a7b8372d69653b735fb0b9 cannot be resolved\"\n  },\n  \"one\": {\n    \"claim\": {\n      \"address\": \"bQANoB96HYDNhQXCGQEWVkTYt6C4JGrP6N\",\n      \"amount\": 50000.0,\n      \"claim_id\": \"008401a48cecef2a13cf5376b696169bb36b18c6\",\n      \"claim_sequence\": 9,\n      \"decoded_claim\": true,\n      \"depth\": 62822,\n      \"effective_amount\": 50082.30000001,\n      \"has_signature\": false,\n      \"height\": 350499,\n      \"hex\": \"080110011aac02080112e401080410011a24486f6c6c792073696e67696e672054686520486170707920576f726b696e6720536f6e67226f5468616e6b7320666f7220616c6c20746865207469707320666f722074686520486f6c6c7920766964656f2e2053686520626f756768742061204e696e74656e646f20537769746368207769746820746865206d6f6e657920617420786d61732e0a0a5468616e6b7320616761696e2a003214416c6c207269676874732072657365727665642e38004a29687474703a2f2f7777772e746865746f79646973636f756e7465722e636f6d2f68617070792e6a706752005a001a41080110011a306a611e6f8ffb4920bf0679de6dee8bf9e56a473f43d8340233934eaf3b7e1211ee5a53c28e33693ca236c1408023d6cd2209766964656f2f6d7034\",\n      \"name\": \"one\",\n      \"nout\": 0,\n      \"permanent_url\": \"one#008401a48cecef2a13cf5376b696169bb36b18c6\",\n      \"supports\": [\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"e6c18215a613c393f8df26486dc659fc9753037f36809d553f4e5b1a55c145a5\"\n        },\n        {\n          \"amount\": 5.0,\n          \"nout\": 1,\n          \"txid\": \"d61746c5ad2bffb54ec0519ee6b1541f2b290c228dca118ed849f42cae7e967f\"\n        },\n        {\n          \"amount\": 30.0,\n          \"nout\": 0,\n          \"txid\": \"3c64a004abb964aac02244c31a7babc8da404c4674c9055eaa79f2a264365bc9\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"b833835017c265240de00871cb32d8987b19fc68931169380d9d58220952e8c5\"\n        },\n        {\n          \"amount\": 1e-08,\n          \"nout\": 0,\n          \"txid\": \"0d6f9dead92eb00a1ca0f32320e8a4fa4e6b53066388348f0bafca29684a4573\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"1113571eadef51cceaaab94b4859a8185ad38e3f1dd74b36aee85850f759e097\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"0bfe629b136d20afdcd5bc704c5c82a316b3988f33d0f874dd4c74b5313bab30\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"87ee93ed7acec558f0fb1f71919e5ad5a35befb0785f231756f02af6be28320e\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"71a3224a85403b91e26f0f9d5f59d4c996843f670910630a6b6afbfc016d0c1e\"\n        },\n        {\n          \"amount\": 2.0,\n          \"nout\": 0,\n          \"txid\": \"c9568c471dd9849080a5fbd4de8c0ffcb1982c6d6e8e37f196a2182f307fd70b\"\n        },\n        {\n          \"amount\": 0.1,\n          \"nout\": 0,\n          \"txid\": \"f086ec011431f5883db5a9d6de0c03b997a89c8e5252d7bfde2292d3e2ea8853\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"679dc0cb80945d371d8f3cf5498157aac31d7621ea05eae8cefc5b32d6744901\"\n        },\n        {\n          \"amount\": 5.0,\n          \"nout\": 1,\n          \"txid\": \"3eb0904ba2e9dbb41c6497e481d68462e99404b9803641a699899de9a62ea75a\"\n        },\n        {\n          \"amount\": 2.0,\n          \"nout\": 1,\n          \"txid\": \"e56bcf7c643b27ee6a2d355af426fc73332093af0d8ffc318a80af0de4a5b07e\"\n        },\n        {\n          \"amount\": 0.1,\n          \"nout\": 0,\n          \"txid\": \"f1b497e5ef84148637f61c2d257997af909ad2e864f655f4a5496d7b8989678d\"\n        },\n        {\n          \"amount\": 0.1,\n          \"nout\": 0,\n          \"txid\": \"910a263504cc6561dcc2f2f26d62e9a799f52f01e8eb663ec0f6eb2ec7d88f48\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"753623350e1f499d0217a5e5396a02b253ceabedb35e20ba70c6ec723d58ca6e\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"4f609bb7efa467ffc20ef63ee47e1c153585be73086f27ba3db460946dcee561\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"28c3eb2fdff90da92884ef2a126e7e854711886f7e333ac91618a01096d4f02d\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 1,\n          \"txid\": \"04b386da54645c1ef0ade974eefdb21d1ad81bad2cf2119b9425bf6bb510fb46\"\n        },\n        {\n          \"amount\": 5.0,\n          \"nout\": 1,\n          \"txid\": \"f43ece7f9c42fb73c9e2bf1729f73a83f72d284e8c9f540a8a5f2be1581996e2\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"9c6cb4c307610a51ca36e94cdcbc7827260400c332964b841ff3a2c0e2c1bb0c\"\n        },\n        {\n          \"amount\": 20.0,\n          \"nout\": 0,\n          \"txid\": \"9f8ca4b44df924f08f739699b7a591627366477be46c4046ff9fe0d9cde29494\"\n        },\n        {\n          \"amount\": 1.0,\n          \"nout\": 0,\n          \"txid\": \"b9407f592f1e8c9e5b3916d94f8130100186aaa5eead523ce9be3be098f8d735\"\n        }\n      ],\n      \"txid\": \"37df9b05fb826c04b3cb341e69406b499884a551337c9654c51fb2305774efeb\",\n      \"value\": {\n        \"claimType\": \"streamType\",\n        \"stream\": {\n          \"metadata\": {\n            \"author\": \"\",\n            \"description\": \"Thanks for all the tips for the Holly video. She bought a Nintendo Switch with the money at xmas.\\n\\nThanks again\",\n            \"language\": \"en\",\n            \"license\": \"All rights reserved.\",\n            \"licenseUrl\": \"\",\n            \"nsfw\": false,\n            \"preview\": \"\",\n            \"thumbnail\": \"http://www.thetoydiscounter.com/happy.jpg\",\n            \"title\": \"Holly singing The Happy Working Song\",\n            \"version\": \"_0_1_0\"\n          },\n          \"source\": {\n            \"contentType\": \"video/mp4\",\n            \"source\": \"6a611e6f8ffb4920bf0679de6dee8bf9e56a473f43d8340233934eaf3b7e1211ee5a53c28e33693ca236c1408023d6cd\",\n            \"sourceType\": \"lbry_sd_hash\",\n            \"version\": \"_0_0_1\"\n          },\n          \"version\": \"_0_0_1\"\n        },\n        \"version\": \"_0_0_1\"\n      }\n    }\n  }\n}\n.{  \"mindblown#02da15270141483a76a7b8372d69653b735fb0b9\": {    \"error\": \"URI lbry://mindblown#02da15270141483a76a7b8372d69653b735fb0b9 cannot be resolved\"  },  \"one\": {    \"claim\": {      \"address\": \"bQANoB96HYDNhQXCGQEWVkTYt6C4JGrP6N\",      \"amount\": 50000.0,      \"claim_id\": \"008401a48cecef2a13cf5376b696169bb36b18c6\",      \"claim_sequence\": 9,      \"decoded_claim\": true,      \"depth\": 62822,      \"effective_amount\": 50082.30000001,      \"has_signature\": false,      \"height\": 350499,      \"hex\": \"080110011aac02080112e401080410011a24486f6c6c792073696e67696e672054686520486170707920576f726b696e6720536f6e67226f5468616e6b7320666f7220616c6c20746865207469707320666f722074686520486f6c6c7920766964656f2e2053686520626f756768742061204e696e74656e646f20537769746368207769746820746865206d6f6e657920617420786d61732e0a0a5468616e6b7320616761696e2a003214416c6c207269676874732072657365727665642e38004a29687474703a2f2f7777772e746865746f79646973636f756e7465722e636f6d2f68617070792e6a706752005a001a41080110011a306a611e6f8ffb4920bf0679de6dee8bf9e56a473f43d8340233934eaf3b7e1211ee5a53c28e33693ca236c1408023d6cd2209766964656f2f6d7034\",      \"name\": \"one\",      \"nout\": 0,      \"permanent_url\": \"one#008401a48cecef2a13cf5376b696169bb36b18c6\",      \"supports\": [        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"e6c18215a613c393f8df26486dc659fc9753037f36809d553f4e5b1a55c145a5\"        },        {          \"amount\": 5.0,          \"nout\": 1,          \"txid\": \"d61746c5ad2bffb54ec0519ee6b1541f2b290c228dca118ed849f42cae7e967f\"        },        {          \"amount\": 30.0,          \"nout\": 0,          \"txid\": \"3c64a004abb964aac02244c31a7babc8da404c4674c9055eaa79f2a264365bc9\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"b833835017c265240de00871cb32d8987b19fc68931169380d9d58220952e8c5\"        },        {          \"amount\": 1e-08,          \"nout\": 0,          \"txid\": \"0d6f9dead92eb00a1ca0f32320e8a4fa4e6b53066388348f0bafca29684a4573\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"1113571eadef51cceaaab94b4859a8185ad38e3f1dd74b36aee85850f759e097\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"0bfe629b136d20afdcd5bc704c5c82a316b3988f33d0f874dd4c74b5313bab30\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"87ee93ed7acec558f0fb1f71919e5ad5a35befb0785f231756f02af6be28320e\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"71a3224a85403b91e26f0f9d5f59d4c996843f670910630a6b6afbfc016d0c1e\"        },        {          \"amount\": 2.0,          \"nout\": 0,          \"txid\": \"c9568c471dd9849080a5fbd4de8c0ffcb1982c6d6e8e37f196a2182f307fd70b\"        },        {          \"amount\": 0.1,          \"nout\": 0,          \"txid\": \"f086ec011431f5883db5a9d6de0c03b997a89c8e5252d7bfde2292d3e2ea8853\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"679dc0cb80945d371d8f3cf5498157aac31d7621ea05eae8cefc5b32d6744901\"        },        {          \"amount\": 5.0,          \"nout\": 1,          \"txid\": \"3eb0904ba2e9dbb41c6497e481d68462e99404b9803641a699899de9a62ea75a\"        },        {          \"amount\": 2.0,          \"nout\": 1,          \"txid\": \"e56bcf7c643b27ee6a2d355af426fc73332093af0d8ffc318a80af0de4a5b07e\"        },        {          \"amount\": 0.1,          \"nout\": 0,          \"txid\": \"f1b497e5ef84148637f61c2d257997af909ad2e864f655f4a5496d7b8989678d\"        },        {          \"amount\": 0.1,          \"nout\": 0,          \"txid\": \"910a263504cc6561dcc2f2f26d62e9a799f52f01e8eb663ec0f6eb2ec7d88f48\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"753623350e1f499d0217a5e5396a02b253ceabedb35e20ba70c6ec723d58ca6e\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"4f609bb7efa467ffc20ef63ee47e1c153585be73086f27ba3db460946dcee561\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"28c3eb2fdff90da92884ef2a126e7e854711886f7e333ac91618a01096d4f02d\"        },        {          \"amount\": 1.0,          \"nout\": 1,          \"txid\": \"04b386da54645c1ef0ade974eefdb21d1ad81bad2cf2119b9425bf6bb510fb46\"        },        {          \"amount\": 5.0,          \"nout\": 1,          \"txid\": \"f43ece7f9c42fb73c9e2bf1729f73a83f72d284e8c9f540a8a5f2be1581996e2\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"9c6cb4c307610a51ca36e94cdcbc7827260400c332964b841ff3a2c0e2c1bb0c\"        },        {          \"amount\": 20.0,          \"nout\": 0,          \"txid\": \"9f8ca4b44df924f08f739699b7a591627366477be46c4046ff9fe0d9cde29494\"        },        {          \"amount\": 1.0,          \"nout\": 0,          \"txid\": \"b9407f592f1e8c9e5b3916d94f8130100186aaa5eead523ce9be3be098f8d735\"        }      ],      \"txid\": \"37df9b05fb826c04b3cb341e69406b499884a551337c9654c51fb2305774efeb\",      \"value\": {        \"claimType\": \"streamType\",        \"stream\": {          \"metadata\": {            \"author\": \"\",            \"description\": \"Thanks for all the tips for the Holly video. She bought a Nintendo Switch with the money at xmas.\\n\\nThanks again\",            \"language\": \"en\",            \"license\": \"All rights reserved.\",            \"licenseUrl\": \"\",            \"nsfw\": false,            \"preview\": \"\",            \"thumbnail\": \"http://www.thetoydiscounter.com/happy.jpg\",            \"title\": \"Holly singing The Happy Working Song\",            \"version\": \"_0_1_0\"          },          \"source\": {            \"contentType\": \"video/mp4\",            \"source\": \"6a611e6f8ffb4920bf0679de6dee8bf9e56a473f43d8340233934eaf3b7e1211ee5a53c28e33693ca236c1408023d6cd\",            \"sourceType\": \"lbry_sd_hash\",            \"version\": \"_0_0_1\"          },          \"version\": \"_0_0_1\"        },        \"version\": \"_0_0_1\"      }    }  }}```. Was not able to reproduce - downloaded that blob correctly from the same host from 2 different machines: \n2018-01-29 21:39:20,150 INFO     lbrynet.core.client.BlobRequester:563: Blob 85edf7f242ef1f89 has been successfully downloaded from 18.216.44.108:3333\n2018-01-29 22:43:26,496 INFO     lbrynet.core.client.BlobRequester:563: Blob 85edf7f242ef1f89 has been successfully downloaded from 18.216.44.108:3333\nIf you guys feel its not worth looking into further, let's close or put in backlog. . Just happened to me now when downloading lbry://thebadsamaritanmustdie  on 0.19.1\n```\n2018-03-21 12:44:41,997 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob f6354f9680b8a8a1467655f81114d8ae4c5d62df3eaa4b0e03e7e0961b19300b2459dd79bdf621f868b094db979a832a from 18.221.194.193:3333\n2018-03-21 12:44:42,094 WARNING  lbrynet.core.client.ClientProtocol:60: Response is too large from 18.221.194.193:3333. Size 66996\n2018-03-21 12:44:42,095 WARNING  lbrynet.core.client.BlobRequester:294: An error occurred while downloading f6354f9680b8a8a1467655f81114d8ae4c5d62df3eaa4b0e03e7e0961b19300b2459dd79bdf621f868b094db979a832a from 18.221.194.193:3333. Error: Traceback (most recent call last):\nFailure: lbrynet.core.Error.ConnectionClosedBeforeResponseError: \n2018-03-21 12:44:42,095 ERROR    lbrynet.core.client.ClientProtocol:192: The connection to 18.221.194.193:3333 is closing due to an unexpected error: [Failure instance: Traceback (failure with no frames): : \n]\n2018-03-21 12:44:42,096 ERROR    lbrynet.core.client.ClientProtocol:192: The connection to 18.221.194.193:3333 is closing due to an unexpected error: [Failure instance: Traceback (failure with no frames): : \n]\n2018-03-21 12:44:42,096 INFO     lbrynet.core.client.ClientProtocol:228: \n2018-03-21 12:44:42,096 INFO     lbrynet.core.client.ClientProtocol:230: The connection to 18.221.194.193:3333 is closing due to an error: Traceback (most recent call last):\nFailure: lbrynet.core.Error.ConnectionClosedBeforeResponseError: \n2018-03-21 12:44:42,096 WARNING  lbrynet.core.client.ClientProtocol:237: Not asking for another request from 18.221.194.193:3333\n```. Only happened twice in the last month, both times on lbrynet-0.18.2. Closing. . Same as https://github.com/lbryio/lbry/issues/901? It was fixed(apparently), but it's not in v18. . Yes, needs to be prioritized . The v0.19 version of the daemon(lbry/lbrynet) is not supported in the lbry app yet. \nWhen you install the lbry app, it comes shipped with a compatible daemon, so no need to download/install  lbry separately. . Just install the latest app (0.19.1) from https://github.com/lbryio/lbry-app/releases or https://github.com/lbryio/lbry-app/blob/master/README.md\nThe app will start up the daemon, so make sure it's not running from your lbry install. . Ah, it's because of a database upgrade from the other version you can. Delete the entire lbrynet folder and try again https://lbry.io/faq/lbry-directories. With other encrypted wallets I've used, you didn't actually need a password unless you were performing a function that required a transaction/signing. How/why is this different for us? Can't we still read the wallet txs and channel certificates without unlocking the wallet? . This was fixed on 0.32, confirmed that old blobs are deleted when the claim is updated. . Nope haven't seen it before, that's a really strange one.  Maybe @grin would have a better idea. . Previously we were doing it via this method, but it's broken.\nhttps://github.com/lbryio/lbry/issues/1297\nBut yes, in the long term this should be done via components (don't think the current release supports turning components on/off) . The reflector setting is different, it doesn't mean turning off file hosting.\nThe question is, can you disable just the sharing/announcing side of the dht without disabling the entire dht component? . For your 2nd comment, would https://github.com/lbryio/lbry/issues/1031 be enough?. @lyoshenka I did confirm that claim updates don't reset the takeover period. \nHowever, I'm still skeptical why we need the root height. Isn't it invalid once the claim is taken over? Any takeovers at the vanity URL are then based on the new vanity takeover height. If that's abandoned and it goes back to the original claim, the root_height would no longer be used in the calculation, it would be the takeover_height (when it went back into effect). \nWe should be able to get all this info from the blockchain layer. . @lyoshenka I'm putting this on the user wish list because it causes UX friction in a few different scenariois, see below. It also may be related to: https://github.com/lbryio/lbry/issues/855\n1) When creating a channel or publishing, some users may enter a value that's equal to their wallet balance and the result is https://github.com/lbryio/lbry-app/issues/874\n2) When trying to send an amount that equal to your wallet balance, you may run into: https://github.com/lbryio/lbry-app/issues/873\n3) When sending tips, you'll run into a similar issues because fees aren't taken into account. . Now that https://github.com/lbryio/lbryum/pull/234 was implemented, we need to take this into account when calculating fees. \nI think it would make a lot of sense to work on this ASAP since the fees for claim txs has gone up considerably. Right now there are lots of edge cases where errors don't return properly if a user's balance doesn't cover the fee.\nWe also need to figure out how/when to run this function to update: https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/Daemon.py#L97 in a way that is efficient as possible since it's called on each publish/update/channel creation. . @RedbHawk we have this filed under the app https://github.com/lbryio/lbry-app/issues/874\nPlease try lowering your bid amount, see lbry.io/faq/how-to-publish for more info. . @eukreign does the new wallet support sweeping? We'll need to expose that through the daemon as well. . Looks like we only support extended private keys right now, but most paper wallets provide a WIF. Re-opening. \nShould we allow sweeping also, or just important? Sometimes I may not want the account, just the LBC. . @ex0dus-0x welcome to the LBRY repo! \nThe wallet file path is set here: https://github.com/lbryio/lbry/blob/b3bf193188b1874748f42711dd512e4bac504c08/lbrynet/conf.py#L271 \nThe data dir (which contains the lbrynet.sqlite file), is set here: https://github.com/lbryio/lbry/blob/b3bf193188b1874748f42711dd512e4bac504c08/lbrynet/conf.py#L261 \n. @RedbHawk please see lbry.io/faq/support on how to get help, that would make more sense vs a github issue. \nFirst of all, sorry you are having trouble with the upgrade. What OS are you on? Can you try starting lbry again to see if it works a 2nd time?  If you are on windows, you'll receive a security prompt to allow the upgrade to continue.  . @hellbeast222 please stop commenting randomly. If you don't want to be notified, unfollow the repo. . @hackrush01 - took a quick look at this and I believe it's returning the correct claim, but the amount value is the item that needs to be discussed.  I'll run a quick test soon, but I believe amount shows what the original claim amount was and doesn't get updated after the claim is updated. The effective amount is actually what the claimtrie goes by - which is the current bid + any supports.  . Just confirmed that indeed the amount stays at the original bid and the effective amount will the updated amount. Not sure if that's intentional or not. I don't see why we would ever want to know the original bid amount. The effective amount would then just be amount + supports where amount is the latest claim bid. . This was fixed with lbryumx, just confirmed earlier with an updated claim. . That has nothing to do with why this was closed, but fine, this probably isn't needed but would be nice for logging\n. We should at a minimum list the files that are incomplete/pending on startup. . @jackrobison I don't see any messages about blob manager/blob counts in the latest RC, was this removed on purpose? . Closing, not relevant anymore. I've seen this during other heavy operations with the daemon. @eukreign / @jackrobison / @shyba should we open a new issue for a more generic \"optimize database operations\" issue? . Was not able to reproduce, see findings here: https://github.com/lbryio/lbry/issues/1027#issuecomment-361468615. Fixed in https://github.com/lbryio/lbry/issues/768#issuecomment-410540424 , closing. Great find @ordex ! . @hackrush01 - is this different from the authentication mechanism you have been looking into?  . @kendricktan please see the latest review from @eukreign above . @kendricktan are you planning on picking this back up? This PR has comments for you to review, see above. . @kendricktan - do you pan on picking this back up? . Completed in https://github.com/lbryio/lbry/pull/1216, opened https://github.com/lbryio/lbry/issues/1225. @jackrobison / @eukreign - can you give this a try? I'm on RC35 and I see the below when running lbrynet-cli blob_list one / lbrynet-cli blob_list --uri=one\n```\n2018-02-20 13:44:37,608 WARNING  lbrynet.daemon.auth.server:228: error processing api request: 'CryptBlobInfo' object is not iterable\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\nFile \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2920, in jsonrpc_blob_list\nFile \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 961, in _get_blobs\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 956, in _iter_blobs\nexceptions.TypeError: 'CryptBlobInfo' object is not iterable\n```. Closing in favor of #1045, added a comment there. . @lyoshenka I'm still not sure if we want to do this at the protocol level - I've heard conflicting ideas in the past. Can you confirm if official daemons should abide by the blocked list? . Would like @kauffj to chime in here - I think he was originally against blocking any URIs at the wallet / protocol level. But I've also heard mentions of a stream blacklist for nodes. . @hackrush01 did https://github.com/lbryio/lbry/pull/1104 possibly fi x this? . @KamilPiekutowski can you see if this still happens on 0.19 RC37 using his example. You should be able to create that file from scratch with his settings and see if it still messes up the sever list. . Ran into the same on Windows:\nIf you have a custom lbryum_servers: config in your daemon_settings.yml such as:\n{disable_max_key_fee: false, download_directory: 'C:\\Users\\testaccountclean\\Desktop',\n share_usage_data: true,\n lbryum_servers: [\"victor.lbry.tech:50001\"]}\nAnd then go into app settings to change any persistent settings, i.e. max key fee, the file is then saved as (notice missing curley braces and syntax):\ndisable_max_key_fee: false\ndownload_directory: C:\\Users\\testaccountclean\\Desktop\nlbryum_servers:\n- [victor.lbry.tech, 50001]\nshare_usage_data: true\nWhen restarting the daemon, you get: \nTraceback (most recent call last):\n  File \"lbrynet-daemon-script.py\", line 2, in <module>\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 61, in start\n  File \"site-packages\\lbrynet\\conf.py\", line 532, in load_conf_file_settings\n  File \"site-packages\\lbrynet\\conf.py\", line 508, in _convert_conf_file_lists\n  File \"site-packages\\lbrynet\\conf.py\", line 167, in server_list\n  File \"site-packages\\lbrynet\\conf.py\", line 162, in server_port\nAttributeError: 'list' object has no attribute 'split'\nFailed to execute script lbrynet-daemon-script\nThe correct syntax would be: \nlbryum_servers:\n- \"victor.lbry.tech:50001\"\nor\nlbryum_servers: [\"victor.lbry.tech:50001\"]. Was this on a fresh install or did you possibly have some of the dependent objects already installed? I found this https://stackoverflow.com/questions/47197083/python-pip-error-just-after-fresh-install on stackoverflow, mind giving it a try? . @lyoshenka 1098 is for claim_list_mine and this is for claim_list. Not sure if the underlying code is the same or not. . I'm not sure if @jackrobison tried to fix this particular issue, but he did attempt to clean up invalid streams in RC37. When I ran it, I got the below. He said he's looking into it. \n```\n2018-02-22 11:39:06,578 INFO     lbrynet.file_manager.EncryptedFileManager:105: Trying to start 799 files\n2018-02-22 11:39:06,579 INFO     lbrynet.file_manager.EncryptedFileManager:108: Started 0/799 files\n2018-02-22 11:39:07,627 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 59edac42451abeabc06ee734d8b26a60e02a299afeae1e3fe1d8e2ceaf381ac41a915bee74bb687444a9979823b5316c is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:39:10,318 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 6c17493a0ff3cda2159cb512c4703808c23427351810690b1829304a6264b2e52a21a5f085d83b7122035d509f791caf is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:39:34,812 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:39:39,868 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:39:44,924 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:39:49,979 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:39:49,980 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-02-22 11:39:49,980 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 262, in \n  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 477, in _runInteraction\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 467, in _runInteraction\n  File \"site-packages\\lbrynet\\database\\storage.py\", line 268, in get_and_update\nOperationalError: database is locked\n2018-02-22 11:39:55,091 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 57fdb5dbc26e84a6458bbd7990412c7b6895a909666c41dedfd25cbb38f3426e3ed66b82d2201be36e239324b0d01d94 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:39:55,108 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 285c351beb4f98264da44e02e70ef1b2112722513604ccde823918a81827d80aecc8b6157c694647d62edd41b9af2fa8 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:40:01,471 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 224aa1ef6446168de9fdf1a9fabc15cefbbea75c1d01ff9831a1b58aba6ad793795556d94b98e97a3cc8475df702e1b1 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:40:03,102 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 54b86ab68614d0aa014f18dbdd190b5a70c9b60fccc50c25cbdfe5422f18156dbd5693d31903c3782c8c7e4875028816 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:40:04,049 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob 2f87112c765f32baf8ec99b8379e850387a4596df832a7897377f998cf6f98f80413460a6a46766ba0081cf1a547cde6: Invalid padding bytes.\n2018-02-22 11:40:34,769 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:40:39,825 WARNING  lbrynet.database.storage:79: database was locked. rerunning  with args (, ), kwargs {}\n2018-02-22 11:40:44,069 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 9b42adab4f9154e10ef2ec610f730c3a0d9e6d0be1bec772ac5334f345bc3d08467beb254fe9b2ac2965fc819341aa51 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:41:27,500 WARNING  lbrynet.file_manager.EncryptedFileManager:123: Stream for descriptor 8445ccf3283acac0ff963b82fe310c03f3b257b65418944576f323644c2de6ff0f3d83afd10e707054bcd956d7a9dde9 is invalid (Does not end with a zero-length blob.), cleaning it up\n2018-02-22 11:41:28,315 ERROR    lbrynet.daemon.DaemonControl:113: Failed to start lbrynet-daemon\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 110, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 51, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 256, in setup\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 529, in _setup_lbry_file_manager\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\file_manager\\EncryptedFileManager.py\", line 47, in setup\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\file_manager\\EncryptedFileManager.py\", line 125, in _start_lbry_files\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\database\\storage.py\", line 343, in delete_stream\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 262, in \n  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 477, in _runInteraction\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 467, in _runInteraction\n  File \"site-packages\\lbrynet\\database\\storage.py\", line 342, in _delete_stream\nInterfaceError: Error binding parameter 0 - probably unsupported type.\n2018-02-22 11:41:28,319 INFO     lbrynet.daemon.DaemonServer:55: Stopping the reactor\n2018-02-22 11:41:28,319 INFO     lbrynet.daemon.Daemon:419: Closing lbrynet session\n2018-02-22 11:41:28,325 INFO     lbrynet.daemon.Daemon:420: Status at time of shutdown: loading_file_manager\n2018-02-22 11:41:28,336 INFO     lbrynet.file_manager.EncryptedFileManager:154: Stopping 117 lbry files\n2018-02-22 11:41:28,371 INFO     lbrynet.core.Session:174: Stopping session.\n2018-02-22 11:41:28,371 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2018-02-22 11:41:28,375 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2018-02-22 11:41:28,377 INFO     lbrynet.core.client.DHTPeerFinder:32: Stopping DHT peer finder.\n2018-02-22 11:41:28,407 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2018-02-22 11:41:28,407 INFO     lbrynet.core.Wallet:103: Stopping wallet.\n2018-02-22 11:41:28,473 INFO     lbrynet.core.Wallet:889: Stopped wallet\n2018-02-22 11:41:28,474 INFO     lbrynet.core.Wallet:892: Stopped connection to lbryum server\n2018-02-22 11:41:28,474 INFO     lbrynet.core.Session:340: Unsetting upnp for session\n2018-02-22 11:41:28,480 INFO     lbrynet.dht.protocol:445: Stopping DHT\n2018-02-22 11:41:28,480 INFO     lbrynet.dht.protocol:461: DHT stopped\n. This was fixed in RC1/RC2 (which have startup issues), but still broken in 0.19.0. Jack will be releasing an updated daemon with the fix for \"InterfaceError: Error binding parameter 0 - probably unsupported type.\". Closing, PC which had stream cleanup issues is now working great on RC7. . With Jack's latest changes, Publish scenarios 1 and 2 are slightly more correct. Scenario 1 gets an updated outpoint and scenario 2 produces a single file with an updated outpoint. The problem now is that after doing a resolve (after confirmation) and restarting the daemon, the outpoints go back to the original claims. . Went through a few iterations with Jack, but the code still has trouble in most of the cases after an updated claim is resolved and the daemon is restarted. . These issues are now resolved in v0.19 release. The claims are properly updated when edited on both the publisher and downloader sides. Claims no longer break after resolve + daemon restart also. . I'm seeing this sporadically on multiple machines, possibly a race condition somewhere. . Just happened again:\n2018-06-14 11:27:57,296 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to initializing\n2018-06-14 11:27:57,305 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to downloading_metadata\n2018-06-14 11:27:59,513 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 54.236.53.10\n2018-06-14 11:27:59,517 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob b76bae52ca9dc98a560342cbb1ce5830d111203cd18b9ddd7c02fb91f6e613f4f23a79101212079ba48074d5f601fa35 from 54.236.53.10:3333\n2018-06-14 11:27:59,591 INFO     lbrynet.core.client.BlobRequester:563: Blob b76bae52ca9dc98a has been successfully downloaded from 54.236.53.10:3333\n2018-06-14 11:28:00,503 ERROR    lbrynet.daemon.Daemon:702: Failed to get TotW-NYC (UNIQUE constraint failed: blob.blob_hash)\n2018-06-14 11:28:10,743 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n```\nRedownloading right after: \n2018-06-14 11:30:07,168 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to initializing\n2018-06-14 11:30:07,170 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to downloading_metadata\n2018-06-14 11:30:07,237 INFO     lbrynet.daemon.Downloader:186: Downloading lbry://TotW-NYC (b76bae) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\TotW NYC.jpg\n2018-06-14 11:30:07,237 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to running\n2018-06-14 11:31:03,551 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 13.58.52.205\n2018-06-14 11:31:03,553 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 97457c6e20bbae55c824f4c2becaf9e0331ac5922a3f640cf33ea20db9824ad9a2dad87dc707bab64ec8fd7619bd654d from 13.58.52.205:3333\n2018-06-14 11:31:04,130 INFO     lbrynet.core.client.BlobRequester:563: Blob 97457c6e20bbae55 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:31:04,134 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 056b419b5e6e19c69223a0ef29f13b09de8220f9a79ff7abd6897013100e71e09aeb73ca2c2fc7b1d18ee4fa28671f47 from 13.58.52.205:3333\n2018-06-14 11:31:04,493 INFO     lbrynet.core.client.BlobRequester:563: Blob 056b419b5e6e19c6 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:31:04,589 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 5beb0bf11d54d50568a23d97bf7f9bfac71554c547b7d392a1bb818b086ea7876a206e5eff3afe7e805f1e78a3342413 from 13.58.52.205:3333\n2018-06-14 11:31:04,835 INFO     lbrynet.core.client.BlobRequester:563: Blob 5beb0bf11d54d505 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:31:04,838 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 00084efa33e65fef73efe8d7ebbdd7c2a4cbb953f15bca9a44e3c1d49f15e1de6961a3be3db602f7adc832f23510f2e6 from 13.58.52.205:3333\n2018-06-14 11:31:05,190 INFO     lbrynet.core.client.BlobRequester:563: Blob 00084efa33e65fef has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:31:05,198 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob db5ab19b987a15422b5c457d82b7920a404b45cef0ada575007a4263ce528b013716e9cf5330b352a09963249152d4e2 from 13.58.52.205:3333\n2018-06-14 11:31:05,506 INFO     lbrynet.core.client.BlobRequester:563: Blob db5ab19b987a1542 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:31:06,318 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to stopped\n2018-06-14 11:31:06,318 INFO     lbrynet.daemon.Downloader:149: Finished downloading lbry://TotW-NYC (b76bae) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\TotW NYC.jpg\n. Getting it pretty often on the example file above. @jackrobison this might be worth diving into if its reproducible. \nHere it is working after a delete, then deleted again and got the error. \n2018-06-14 11:58:00,240 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to initializing\n2018-06-14 11:58:00,242 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to downloading_metadata\n2018-06-14 11:58:01,407 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 54.236.53.10\n2018-06-14 11:58:01,408 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob b76bae52ca9dc98a560342cbb1ce5830d111203cd18b9ddd7c02fb91f6e613f4f23a79101212079ba48074d5f601fa35 from 54.236.53.10:3333\n2018-06-14 11:58:01,456 INFO     lbrynet.core.client.BlobRequester:563: Blob b76bae52ca9dc98a has been successfully downloaded from 54.236.53.10:3333\n2018-06-14 11:58:02,305 INFO     lbrynet.daemon.Downloader:186: Downloading lbry://TotW-NYC (b76bae) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\TotW NYC.jpg\n2018-06-14 11:58:02,305 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to running\n2018-06-14 11:58:02,944 INFO     lbrynet.core.Wallet:410: Skipping dust\n2018-06-14 11:58:10,573 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n2018-06-14 11:58:25,733 INFO     lbrynet.dht.hashannouncer:72: Took 15.1600000858 seconds to announce 1 of 1 attempted hashes (0.000000 hashes per second)\n2018-06-14 11:58:38,065 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 13.58.52.205\n2018-06-14 11:58:38,066 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 97457c6e20bbae55c824f4c2becaf9e0331ac5922a3f640cf33ea20db9824ad9a2dad87dc707bab64ec8fd7619bd654d from 13.58.52.205:3333\n2018-06-14 11:58:38,528 INFO     lbrynet.core.client.BlobRequester:563: Blob 97457c6e20bbae55 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:58:38,617 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 056b419b5e6e19c69223a0ef29f13b09de8220f9a79ff7abd6897013100e71e09aeb73ca2c2fc7b1d18ee4fa28671f47 from 13.58.52.205:3333\n2018-06-14 11:58:38,776 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 54.236.53.10\n2018-06-14 11:58:38,776 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 5beb0bf11d54d50568a23d97bf7f9bfac71554c547b7d392a1bb818b086ea7876a206e5eff3afe7e805f1e78a3342413 from 54.236.53.10:3333\n2018-06-14 11:58:38,823 INFO     lbrynet.core.client.BlobRequester:563: Blob 056b419b5e6e19c6 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:58:38,930 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 00084efa33e65fef73efe8d7ebbdd7c2a4cbb953f15bca9a44e3c1d49f15e1de6961a3be3db602f7adc832f23510f2e6 from 13.58.52.205:3333\n2018-06-14 11:58:39,233 INFO     lbrynet.core.client.BlobRequester:563: Blob 00084efa33e65fef has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:58:39,344 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob db5ab19b987a15422b5c457d82b7920a404b45cef0ada575007a4263ce528b013716e9cf5330b352a09963249152d4e2 from 13.58.52.205:3333\n2018-06-14 11:58:39,611 INFO     lbrynet.core.client.BlobRequester:563: Blob db5ab19b987a1542 has been successfully downloaded from 13.58.52.205:3333\n2018-06-14 11:58:39,628 INFO     lbrynet.core.client.BlobRequester:563: Blob 5beb0bf11d54d505 has been successfully downloaded from 54.236.53.10:3333\n2018-06-14 11:58:40,359 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to stopped\n2018-06-14 11:58:40,359 INFO     lbrynet.daemon.Downloader:149: Finished downloading lbry://TotW-NYC (b76bae) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\TotW NYC.jpg\n2018-06-14 11:58:40,581 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n2018-06-14 11:58:51,607 INFO     lbrynet.dht.hashannouncer:72: Took 11.0260000229 seconds to announce 1 of 1 attempted hashes (0.000000 hashes per second)\n2018-06-14 11:58:59,257 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 97457c6e20bbae55 to 85.17.24.157:52244\n2018-06-14 11:59:01,161 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 056b419b5e6e19c6 to 85.17.24.157:52244\n2018-06-14 11:59:02,801 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 5beb0bf11d54d505 to 85.17.24.157:52244\n2018-06-14 11:59:03,007 INFO     lbrynet.core.Wallet:410: Skipping dust\n2018-06-14 11:59:03,007 INFO     lbrynet.core.Wallet:410: Skipping dust\n2018-06-14 11:59:04,374 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 00084efa33e65fef to 85.17.24.157:52244\n2018-06-14 11:59:06,305 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending db5ab19b987a1542 to 85.17.24.157:52244\n2018-06-14 11:59:06,581 WARNING  lbrynet.core.server.ServerProtocol:47: Closing a connection. Reason: Connection to the other side was lost in a non-clean fashion.\n2018-06-14 12:02:40,572 INFO     lbrynet.dht.hashannouncer:54: Announcing 2 blobs\n2018-06-14 12:02:50,035 INFO     lbrynet.dht.hashannouncer:72: Took 9.46200013161 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-06-14 12:03:44,763 INFO     lbrynet.daemon.Daemon:1803: Deleted file: TotW NYC.jpg\n2018-06-14 12:04:04,088 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to initializing\n2018-06-14 12:04:04,092 INFO     lbrynet.daemon.Downloader:93: Download lbry://TotW-NYC status changed to downloading_metadata\n2018-06-14 12:04:04,811 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 54.236.53.10\n2018-06-14 12:04:04,812 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob b76bae52ca9dc98a560342cbb1ce5830d111203cd18b9ddd7c02fb91f6e613f4f23a79101212079ba48074d5f601fa35 from 54.236.53.10:3333\n2018-06-14 12:04:04,874 INFO     lbrynet.core.client.BlobRequester:563: Blob b76bae52ca9dc98a has been successfully downloaded from 54.236.53.10:3333\n2018-06-14 12:04:05,217 ERROR    lbrynet.daemon.Daemon:702: Failed to get TotW-NYC (UNIQUE constraint failed: blob.blob_hash). @hackrush01 are you still working on this?. @lyoshenka / @hackrush01 what's the status on this? . @IGassmann what's next here? . @IGassmann what's the next step here? Is it possible to make travis to commit the docs? If not, how do we get around it failing? . @jackrobison this review/merge today or give additional feedback to @hackrush01. . My bad, didn't realize you fixed it already. Had it on my notes :) . Fixed in: https://github.com/lbryio/lbry/commit/e94d10d3eb04c5c78fdfb31711a08ce0ab2a326e. Fixed in https://github.com/lbryio/lbry/commit/e94d10d3eb04c5c78fdfb31711a08ce0ab2a326e / https://github.com/lbryio/lbry/pull/1148 (channels). This is still an issue. We don't get a timeout if the file starts downloading.. Woohoo, we have someone trying this for the first time!\nWe'll get the notes updated with anything we missed. \nTry Sudo apt-get install python-setuptools\n. Try the suggestion here to uninstall and reinstall pyopenssl - you may have had an incompatible version installed: https://stackoverflow.com/questions/43267157/python-attributeerror-module-object-has-no-attribute-ssl-st-init/43267158. Going to close this because it looks like the install docs were not followed.. This has not occurred since spee.ch was updated to an RC version of the daemon running https://github.com/lbryio/lbryum/commit/4cdf108070e5be8fcd323454ea127a9d04025579 / https://github.com/lbryio/lbryum/commit/f2eaebae5a590f5501838b4635d773aeb5eea01f\nClosing for now, will continue to monitor with @billbitt . @hackrush01 will you be using this PR or can we close it? . Fixed in https://github.com/lbryio/lbry/commit/c26816c92d68fad501d92d632c83780821061f90. Happened to me again:\n2018-05-31 17:30:13,914 INFO     lbrynet.daemon.Downloader:93: Download lbry://theperfecthouse status changed to downloading_metadata\n2018-05-31 17:30:14,579 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 47.17.162.103\n2018-05-31 17:30:14,581 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 409a214fbc412ccbe87c584340bbb150eb0cc9a8e81d090ff47ed0c469c4b8ba21be25b3593d35d5938a54a1d711c03a from 47.17.162.103:3352\n2018-05-31 17:30:14,588 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 18.191.37.145\n2018-05-31 17:30:14,588 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 409a214fbc412ccbe87c584340bbb150eb0cc9a8e81d090ff47ed0c469c4b8ba21be25b3593d35d5938a54a1d711c03a from 18.191.37.145:3333\n2018-05-31 17:30:14,609 INFO     lbrynet.core.client.BlobRequester:563: Blob 409a214fbc412ccb has been successfully downloaded from 47.17.162.103:3352\n2018-05-31 17:30:14,634 INFO     lbrynet.core.client.ClientProtocol:185: Closing the connection to 18.191.37.145:3333 because the download of blob 409a214fbc412ccb was canceled\n2018-05-31 17:30:15,566 INFO     lbrynet.daemon.Daemon:1678: Already waiting on lbry://theperfecthouse to start downloading\n2018-05-31 17:30:16,563 INFO     lbrynet.daemon.Downloader:132: Pay key fee 5.405147 --> bCvxVJX92FQ54UVN2BbbUeYUqVJusf5ynL\n2018-05-31 17:30:16,573 INFO     lbrynet.daemon.Downloader:186: Downloading lbry://theperfecthouse (409a21) --> c:\\lbry4\\Downloads\\The Perfect House 1080.mp4\n2018-05-31 17:30:16,575 INFO     lbrynet.daemon.Downloader:93: Download lbry://theperfecthouse status changed to running\n2018-05-31 17:30:16,875 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 47.17.162.103\n2018-05-31 17:30:16,881 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 3db2f9b5626f705fb22b0034ea99bd548871a25086e69cd9ef5bfee6ca4d787422f53467cc70cecc4f10d668d653c8ef from 47.17.162.103:3352\n2018-05-31 17:31:06,674 INFO     lbrynet.core.Wallet:395: Skipping dust\n2018-05-31 17:31:06,674 INFO     lbrynet.core.Wallet:395: Skipping dust\nNo timeout, sitting in stopped = true, completed =false\nUpon shutting down the daemon, did get this:\n```\nUnhandled error in Deferred:\n2018-05-31 18:03:25,729 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-05-31 18:03:25,747 CRITICAL twisted:154:\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 671, in _download_failed\n  File \"site-packages\\lbrynet\\analytics.py\", line 61, in send_download_errored\n  File \"site-packages\\lbrynet\\analytics.py\", line 182, in _download_error_properties\nAttributeError: Failure instance has no attribute 'message'\n```. Happened again:\n```\n2018-06-17 13:29:16,984 INFO     lbrynet.daemon.Downloader:93: Download lbry://three status changed to initializing\n2018-06-17 13:29:16,987 INFO     lbrynet.daemon.ExchangeRateManager:228: Converting 50.000000 LBC to LBC, rates: [Currency pair:('USD', 'BTC'), spot:0.000153817283525, ts:1529256465, Currency pair:('BTC', 'LBC'), spot:56575.2701717, ts:1529256465, Currency pair:('BTC', 'LBC'), spot:56582.3860262, ts:1529256466]\n2018-06-17 13:29:16,987 INFO     lbrynet.daemon.ExchangeRateManager:228: Converting 10.000000 LBC to LBC, rates: [Currency pair:('USD', 'BTC'), spot:0.000153817283525, ts:1529256465, Currency pair:('BTC', 'LBC'), spot:56575.2701717, ts:1529256465, Currency pair:('BTC', 'LBC'), spot:56582.3860262, ts:1529256466]\n2018-06-17 13:29:16,987 INFO     lbrynet.daemon.Downloader:93: Download lbry://three status changed to downloading_metadata\n2018-06-17 13:30:50,392 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 18.188.64.47\n2018-06-17 13:30:50,392 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 348d5fd8faa643bfd96e5eb69196c3e2969e48f12bbac1aa4f1f6536a6dea4f1ed943f51ae758f7ee54a7371e136c659 from 18.188.64.47:3333\n2018-06-17 13:30:50,430 INFO     lbrynet.core.client.BlobRequester:563: Blob 348d5fd8faa643bf has been successfully downloaded from 18.188.64.47:3333\n2018-06-17 13:30:51,081 INFO     lbrynet.daemon.Downloader:132: Pay key fee 10.000000 --> bZYUVLcKXhVYsFQwYqPEJQ9zan8KwZB8dG\n2018-06-17 13:30:51,086 INFO     lbrynet.daemon.Downloader:186: Downloading lbry://three (348d5f) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\Carvana Image Masking Challenge.pdf\n2018-06-17 13:30:51,086 INFO     lbrynet.daemon.Downloader:93: Download lbry://three status changed to running\n2018-06-17 13:30:57,387 INFO     lbrynet.core.client.BlobRequester:414: Offered rate 0.000000/mb accepted by 18.188.64.47\n2018-06-17 13:30:57,388 INFO     lbrynet.core.client.BlobRequester:487: Requesting blob 340d8e5fc8379b5f8953ee64c603583381523456296d2cd05949500678b222c43e50fa36e530eb2790c2bebccc097f79 from 18.188.64.47:3333\n2018-06-17 13:31:11,608 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n2018-06-17 13:31:25,631 INFO     lbrynet.dht.hashannouncer:72: Took 14.0230000019 seconds to announce 1 of 1 attempted hashes (0.000000 hashes per second)\n2018-06-17 13:31:45,319 INFO     lbrynet.core.Wallet:410: Skipping dust\n2018-06-17 13:31:45,323 INFO     root:205: using buckets: [u'f7065aa34b48ccc81bbc52ee7b74fd4b10103280f2892ec894c945eca482c3c6:1']\n2018-06-17 13:31:47,904 ERROR    lbryum:119: [lbryumx2.lbry.io] serving improperly sorted address histories\n2018-06-17 13:34:41,608 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n2018-06-17 13:34:47,081 INFO     lbrynet.dht.hashannouncer:72: Took 5.47199988365 seconds to announce 1 of 1 attempted hashes (0.000000 hashes per second)\n2018-06-17 13:35:11,609 INFO     lbrynet.dht.hashannouncer:54: Announcing 1 blobs\n2018-06-17 13:35:20,851 INFO     lbrynet.dht.hashannouncer:72: Took 9.24099993706 seconds to announce 1 of 1 attempted hashes (0.000000 hashes per second)\n```\n{\n    \"blobs_completed\": null,\n    \"blobs_in_stream\": null,\n    \"channel_claim_id\": null,\n    \"channel_name\": null,\n    \"claim_id\": \"562d308abdc1f815dd2933bc681e74b410cb6c2c\",\n    \"claim_name\": \"three\",\n    \"completed\": false,\n    \"download_directory\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\\\\lbry downloadstest\\\\\",\n    \"download_path\": \"C:\\\\Users\\\\SoloDolo\\\\Downloads\\\\lbry downloadstest\\\\Carvana Image Masking Challenge.pdf\",\n    \"file_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"key\": \"cf76009b20e1f12f26ef2aeffc2a54cf\",\n    \"metadata\": {\n      \"author\": \"\",\n      \"description\": \"Carvana Image Masking Challenge\",\n      \"fee\": {\n        \"address\": \"bZYUVLcKXhVYsFQwYqPEJQ9zan8KwZB8dG\",\n        \"amount\": 10.0,\n        \"currency\": \"LBC\",\n        \"version\": \"_0_0_1\"\n      },\n      \"language\": \"en\",\n      \"license\": \"None\",\n      \"licenseUrl\": \"\",\n      \"nsfw\": false,\n      \"preview\": \"\",\n      \"thumbnail\": \"https://spee.ch/f/kaggle.jpeg\",\n      \"title\": \"kaggle\",\n      \"version\": \"_0_1_0\"\n    },\n    \"mime_type\": \"application/pdf\",\n    \"nout\": 0,\n    \"outpoint\": \"ec2265df795a7cc3c0a87180ce0e98a6a0cc5227e3f50d8cfd3940e4f6efa021:0\",\n    \"points_paid\": 0.0,\n    \"sd_hash\": \"348d5fd8faa643bfd96e5eb69196c3e2969e48f12bbac1aa4f1f6536a6dea4f1ed943f51ae758f7ee54a7371e136c659\",\n    \"status\": null,\n    \"stopped\": true,\n    \"stream_hash\": \"bb5c6289112f039292bdb212a0b277494e29081fa4d0ff57cccf997a510d1bf5b1dc9b5ac0eeebd9930c2b0c7644f4c6\",\n    \"stream_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"suggested_file_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"total_bytes\": null,\n    \"txid\": \"ec2265df795a7cc3c0a87180ce0e98a6a0cc5227e3f50d8cfd3940e4f6efa021\",\n    \"written_bytes\": 0\n  }\n]. Reopening, ran into this after the above commit was merged. Will keep an eye out if it happens again. File ended up in stopped status. \n```\nC:\\Users\\SoloDolo\\Desktop\\latest daemon>lbrynet-cli file_list --claim_id=562d308abdc1f815dd2933bc681e74b410cb6c2c\n[\n  {\n    \"blobs_completed\": null,\n    \"blobs_in_stream\": null,\n    \"channel_claim_id\": null,\n    \"channel_name\": null,\n    \"claim_id\": \"562d308abdc1f815dd2933bc681e74b410cb6c2c\",\n    \"claim_name\": \"three\",\n    \"completed\": false,\n    \"download_directory\": \"C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\\",\n    \"download_path\": \"C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\Carvana Image Masking Challenge.pdf\",\n    \"file_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"key\": \"cf76009b20e1f12f26ef2aeffc2a54cf\",\n    \"metadata\": {\n      \"author\": \"\",\n      \"description\": \"Carvana Image Masking Challenge\",\n      \"fee\": {\n        \"address\": \"bZYUVLcKXhVYsFQwYqPEJQ9zan8KwZB8dG\",\n        \"amount\": 10.0,\n        \"currency\": \"LBC\",\n        \"version\": \"_0_0_1\"\n      },\n      \"language\": \"en\",\n      \"license\": \"None\",\n      \"licenseUrl\": \"\",\n      \"nsfw\": false,\n      \"preview\": \"\",\n      \"thumbnail\": \"https://spee.ch/f/kaggle.jpeg\",\n      \"title\": \"kaggle\",\n      \"version\": \"_0_1_0\"\n    },\n    \"mime_type\": \"application/pdf\",\n    \"nout\": 0,\n    \"outpoint\": \"ec2265df795a7cc3c0a87180ce0e98a6a0cc5227e3f50d8cfd3940e4f6efa021:0\",\n    \"points_paid\": 0.0,\n    \"sd_hash\": \"348d5fd8faa643bfd96e5eb69196c3e2969e48f12bbac1aa4f1f6536a6dea4f1ed943f51ae758f7ee54a7371e136c659\",\n    \"status\": null,\n    \"stopped\": true,\n    \"stream_hash\": \"bb5c6289112f039292bdb212a0b277494e29081fa4d0ff57cccf997a510d1bf5b1dc9b5ac0eeebd9930c2b0c7644f4c6\",\n    \"stream_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"suggested_file_name\": \"Carvana Image Masking Challenge.pdf\",\n    \"total_bytes\": null,\n    \"txid\": \"ec2265df795a7cc3c0a87180ce0e98a6a0cc5227e3f50d8cfd3940e4f6efa021\",\n    \"written_bytes\": 0\n  }\n```\n. Happened to me again on lbry://ScammerRevolts. @eukreign / @jackrobison please review together today.  My concern \"Sorting by date is still not explicitly supported. The real fix for this is to add a date field to the output, which also means storing it somewhere, most likely in the file table of the database.\". Also, we need the daemon to populate that date on Publishes/downloads. Not sure how historical file_list entries would be handled - we need to make sure those without created_at are sorted the same way as before, and after anything with a created_at entry. \nNow that I think about it, file_list entries may also when updates to claims are published or when downloaded claims have updated claim information. We should consider a changed_at data in the future. . @eukreign Can you please review/merge when you get a chance? . If we did want to proceed with this, we'd need to determine if someone already has downloads at the current location, and if so, we wouldn't want to change the directory. . I thought we didn't want to do this as it won't be necessary when lbryumx is live, but I support it in the mean time.\nRegarding the patch release, Igor is still working through a daemon upgrade issue that's blocking it. . Jack said he'd add some debugging to this to see why it would fail to download from S3. . @kauffj don't know the answer to that, maybe @eukreign / @jackrobison can chime in on what happens in the background when calling the tx list. . This was filed before the resolve enhancements, so the experience now is much improved. If I continue to see this, will open a new issue related to multithreading/performance overall. . @shyba what's the next step here? Does it need to be reviewed again? You'd need to remove Jack and add him back in as reviewer. . @nikooo777 were you able to find a workaround for this or is it still a big blocker for YouTube sync? . @eukreign might be another to add to your list for \"things to check with new wallet\" :). @nikooo777 maybe it confirms after 6 tx? I remember that value from somewhere else. . @nikooo777 is this still happening on Victor's lbryumx server? Still not sure if it's lbryum or lbryumx related. . @nikooo777 you have a custom build for this fix right now, correct? Believe https://github.com/lbryio/lbry/pull/1195 will fix it. . @nikooo777 Closing this as 1195 has been merged. Please monitor and re-open if it's still an issue. . @jackrobison / @shyba - will do, should have results by tomorrow's standup. . Getting this on startup and regularly while running daemon, looks like analytics broke. Looks like it says failed to fetch headers, but the blockchain does catch up really quickly (not sure if it actually succeeded or if I synced to lbryumx quickly)\n```\n2018-05-22 09:39:59,269 INFO     lbrynet.core.Wallet:156: victor.lbry.tech:50001 height: 374351, local height: 0\n2018-05-22 09:39:59,332 WARNING  lbrynet.analytics:253: Failed to send track event. Traceback (most recent call last):\nFailure: twisted.web._newclient.RequestTransmissionFailed: []\n ({'timestamp': '2018-05-22T13:39:58.973000Z', 'userId': 'lbry', 'event': 'Server Startup', 'context': {'app': {'build': 'qa', 'version': '0.20.0rc9', 'name': 'lbrynet', 'wallet': {'version': '3.2.1', 'name': 'lbryum'}, 'python_version': '2.7.15'}, 'os': {'version': '10', 'name': 'Windows'}, 'library': {'version': '1.0.0', 'name': 'lbrynet-analytics'}}, 'properties': {'lbry_id': '4kycP6hhVdxaZqWGHJFMT4yq8ARN3aV8Jy99FLjvEXqbsFyn7pyXaPizbwMXbTkFqp', 'session_id': '46SRwK4ATMLMzt6iuExLxW4ACjBRsb6NXSh1x6RTXiZ8HZ5wYf48zySK7c7bf2g3Nj'}})\n2018-05-22 09:39:59,332 CRITICAL twisted:154: Unexpected exception from twisted.web.client.FileBodyProducer.stopProducing\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\endpoints.py\", line 130, in connectionLost\nFile \"site-packages\\twisted\\web_newclient.py\", line 929, in dispatcher\nFile \"site-packages\\twisted\\web_newclient.py\", line 1599, in _connectionLost_TRANSMITTING\nFile \"site-packages\\twisted\\web_newclient.py\", line 830, in stopWriting\n---  ---\n  File \"site-packages\\twisted\\web_newclient.py\", line 194, in _callAppFunction\nFile \"site-packages\\twisted\\web\\client.py\", line 1041, in stopProducing\nFile \"site-packages\\twisted\\internet\\task.py\", line 497, in stop\nFile \"site-packages\\twisted\\internet\\task.py\", line 507, in _checkFinish\ntwisted.internet.task.TaskStopped: \n2018-05-22 09:39:59,371 ERROR    lbrynet.core.Wallet:194: failed to fetch headers from s3: []\n2018-05-22 09:39:59,375 INFO     lbrynet.core.Wallet:195: Starting wallet.\n2018-05-22 09:39:59,397 INFO     lbrynet.core.Wallet:968: Loading the wallet\n2018-05-22 09:40:02,578 INFO     lbrynet.core.Wallet:1052: Wallet has 20 addresses\n2018-05-22 09:40:02,581 WARNING  lbrynet.daemon.ExchangeRateManager:75: There was a problem updating BTCLBC exchange rate information from cryptonator.com\n2018-05-22 09:40:02,581 WARNING  lbrynet.daemon.ExchangeRateManager:75: There was a problem updating USDBTC exchange rate information from cryptonator.com\n2018-05-22 09:40:02,634 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-05-22 09:40:02,634 CRITICAL twisted:154: \nRequestTransmissionFailed: []\n2018-05-22 09:40:02,635 CRITICAL twisted:154: Unexpected exception from twisted.web.client.FileBodyProducer.stopProducing\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\endpoints.py\", line 130, in connectionLost\nFile \"site-packages\\twisted\\web_newclient.py\", line 929, in dispatcher\nFile \"site-packages\\twisted\\web_newclient.py\", line 1599, in _connectionLost_TRANSMITTING\nFile \"site-packages\\twisted\\web_newclient.py\", line 830, in stopWriting\n---  ---\n  File \"site-packages\\twisted\\web_newclient.py\", line 194, in _callAppFunction\nFile \"site-packages\\twisted\\web\\client.py\", line 1041, in stopProducing\nFile \"site-packages\\twisted\\internet\\task.py\", line 497, in stop\nFile \"site-packages\\twisted\\internet\\task.py\", line 507, in _checkFinish\ntwisted.internet.task.TaskStopped: \n2018-05-22 09:40:02,871 INFO     lbrynet.core.Wallet:1065: Local Height: 374351, remote height: 374351, behind: 0\n2018-05-22 09:40:02,871 INFO     lbrynet.core.Wallet:1073: Wallet Loaded\n2018-05-22 09:40:02,872 INFO     lbrynet.core.Wallet:991: Subscribing to addresses\n2018-05-22 09:40:03,173 INFO     lbrynet.core.Wallet:993: Synchronized wallet\n2018-05-22 09:40:03,173 INFO     lbrynet.core.Wallet:995: Set up lbryum command runner\n2018-05-22 09:40:03,174 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2018-05-22 09:40:03,174 INFO     lbrynet.core.Wallet:941: Wallet is not encrypted\n2018-05-22 09:40:03,177 INFO     lbrynet.daemon.Daemon:516: Starting the file manager\n2018-05-22 09:40:03,180 INFO     lbrynet.file_manager.EncryptedFileManager:123: Starting 0 files\n2018-05-22 09:40:03,180 INFO     lbrynet.file_manager.EncryptedFileManager:128: Started 0 lbry files\n2018-05-22 09:40:03,180 INFO     lbrynet.file_manager.EncryptedFileManager:47: Started file manager\n2018-05-22 09:40:03,183 INFO     lbrynet.daemon.Daemon:520: Done setting up file manager\n2018-05-22 09:40:03,183 INFO     lbrynet.daemon.Daemon:316: Peer protocol listening on TCP 3333\n2018-05-22 09:40:03,184 INFO     lbrynet.daemon.Daemon:250: Starting balance: 0\n2018-05-22 09:40:03,184 INFO     lbrynet.daemon.Daemon:253: Started lbrynet-daemon\n2018-05-22 09:40:03,390 WARNING  lbrynet.analytics:253: Failed to send track event. Traceback (most recent call last):\nFailure: twisted.web._newclient.RequestTransmissionFailed: []\n ({'timestamp': '2018-05-22T13:40:03.175000Z', 'userId': 'lbry', 'event': 'Heartbeat', 'context': {'app': {'build': 'qa', 'version': '0.20.0rc9', 'name': 'lbrynet', 'wallet': {'version': '3.2.1', 'name': 'lbryum'}, 'python_version': '2.7.15'}, 'os': {'version': '10', 'name': 'Windows'}, 'library': {'version': '1.0.0', 'name': 'lbrynet-analytics'}}, 'properties': {'lbry_id': '4kycP6hhVdxaZqWGHJFMT4yq8ARN3aV8Jy99FLjvEXqbsFyn7pyXaPizbwMXbTkFqp', 'session_id': '46SRwK4ATMLMzt6iuExLxW4ACjBRsb6NXSh1x6RTXiZ8HZ5wYf48zySK7c7bf2g3Nj'}})\n2018-05-22 09:40:03,391 CRITICAL twisted:154: Unexpected exception from twisted.web.client.FileBodyProducer.stopProducing\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\endpoints.py\", line 130, in connectionLost\nFile \"site-packages\\twisted\\web_newclient.py\", line 929, in dispatcher\nFile \"site-packages\\twisted\\web_newclient.py\", line 1599, in _connectionLost_TRANSMITTING\nFile \"site-packages\\twisted\\web_newclient.py\", line 830, in stopWriting\n---  ---\n  File \"site-packages\\twisted\\web_newclient.py\", line 194, in _callAppFunction\nFile \"site-packages\\twisted\\web\\client.py\", line 1041, in stopProducing\nFile \"site-packages\\twisted\\internet\\task.py\", line 497, in stop\nFile \"site-packages\\twisted\\internet\\task.py\", line 507, in _checkFinish\ntwisted.internet.task.TaskStopped: \n2018-05-22 09:40:03,394 WARNING  lbrynet.analytics:253: Failed to send track event. Traceback (most recent call last):\nFailure: twisted.web._newclient.RequestTransmissionFailed: []\n ({'timestamp': '2018-05-22T13:40:03.184000Z', 'userId': 'lbry', 'event': 'Server Startup Success', 'context': {'app': {'build': 'qa', 'version': '0.20.0rc9', 'name': 'lbrynet', 'wallet': {'version': '3.2.1', 'name': 'lbryum'}, 'python_version': '2.7.15'}, 'os': {'version': '10', 'name': 'Windows'}, 'library': {'version': '1.0.0', 'name': 'lbrynet-analytics'}}, 'properties': {'lbry_id': '4kycP6hhVdxaZqWGHJFMT4yq8ARN3aV8Jy99FLjvEXqbsFyn7pyXaPizbwMXbTkFqp', 'session_id': '46SRwK4ATMLMzt6iuExLxW4ACjBRsb6NXSh1x6RTXiZ8HZ5wYf48zySK7c7bf2g3Nj'}})\n2018-05-22 09:40:03,395 CRITICAL twisted:154: Unexpected exception from twisted.web.client.FileBodyProducer.stopProducing\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\endpoints.py\", line 130, in connectionLost\nFile \"site-packages\\twisted\\web_newclient.py\", line 929, in dispatcher\nFile \"site-packages\\twisted\\web_newclient.py\", line 1599, in _connectionLost_TRANSMITTING\nFile \"site-packages\\twisted\\web_newclient.py\", line 830, in stopWriting\n---  ---\n  File \"site-packages\\twisted\\web_newclient.py\", line 194, in _callAppFunction\nFile \"site-packages\\twisted\\web\\client.py\", line 1041, in stopProducing\nFile \"site-packages\\twisted\\internet\\task.py\", line 497, in stop\nFile \"site-packages\\twisted\\internet\\task.py\", line 507, in _checkFinish\ntwisted.internet.task.TaskStopped: \n2018-05-22 09:40:07,181 INFO     lbrynet.core.Session:238: Joined the dht\n```. @shyba ran through the publish/updating/downloading scenarios here and it looks good to me! https://github.com/lbryio/lbry/issues/1127\n. Confirmed this is still happening when upgrading to RC11.\n@jackrobison , the issue @nikooo777 saw on the youtube sync server might be different because he said upgrading to 19.x before trying 0.20 doesn't fix the problem. . Working as expected.. The behavior is much improved in the latest versions as the file_delete call will stop the download pretty quickly. \nThis should be taken into account when solving #854 , leaving issue open. . This is expected behavior, LBC is required to publish as it involves a transaction on the network.\nPlease see lbry.io/publish. @Fornost461 thanks for fixing this! Please see https://lbry.io/faq/tips . This stopped happening in later builds, closing for now. . @hackrush01 ah thanks, now I recall this but didn't realize it was very similar. Might still be different on Windows, so I'll add my notes to your ticket. Thanks! . @tau3, thanks for this contribution! Please review our contributing guide if you have not done so already. Also, click here if you are interested in an LBC tip for your work :)\nWe'll also be adding you to our developer mailing list so we can keep in touch (you can unsubscribe anytime!). \nWe'll get a proper review on this PR from one of the devs. \nTo answer your question about outpoint, this is the txid+ nout, separated by a colon, i.e. 88f880fb40c296f1a1b64c0bba240c046892c5d2000dd7c5090e8e4d19911f7b:1 - So you'd be comparing those 2 fields. We use that connotation more on the file_list, sorry for the confusion. . @jleute thanks for this contribution! Please review our contributing guide if you have not done so already. Also, click here if you are interested in an LBC tip for your work :). @eukreign can you check if the last commit satisfied your concerns? Do we still need a review from @jackrobison here? . @jackrobison / @hackrush01 please weigh in. . @tiger5226 what was the claim URI? Stream availability takes the uri, not claim id. When I looked up that claim_id, I get unknown. The error could definitely be better if you did pass an invalid uri / claimid . This is what I'm seeing for this api call on an invalid URI - the message could be better:\nlbrynet-cli stream_availability No-Patrick#d48338daa499cbffdc389924f5ce464fcc00e8a2\nERROR: 'claim'. @jackrobison you are reviewing this with @lyoshenka correct? . No more errors on Windows!. @tiger5226 I don't think we are using this anywhere else as it's been quite unreliable. We used to have an availability function in the app, but that was removed until the functionality is more consistent.\nGoing to close this for now.... @DaniNz thanks for filing! Please consider searching through github issues prior to creating new issues, or check with us on https://chat.lbry.io if you are unsure. Sometimes the terminology may not be the same so finding matches can be hit or miss. \nA similar issue is already logged under: https://github.com/lbryio/lbry/issues/1199 (I'll update the title so it mentions downloads). Thanks for following up on this @tau3 ! . Yep, let's merge and I'll open a separate issue for allowing sorting arguments, similar to what we did recently for file_list. . Thanks for patching this us @tau3! Same as with the last PR, please see https://lbry.io/faq/tips if you are interested in a tip for this contribution :). @kauffj any comments on the above suggestions from Lex as far as where this code should live? \n@eukreign this first started out as an effort to dockerize spee.ch, which is when @chamunks began to dockerize lbrynet as it's the prime component. This docker image will be critical if we plan to dockerize more applications/services on LBRY and as a standalone package for those who prefer to install docker images when running the daemon alone.  . Another test case, but not necessarily performance related: make sure lbryum can reconnect to lbryumx after network disconnect. \nI just ran into the below (Victor looking at it as well) after my computer came back from sleep a few days later (without having an internet connection in between there somewhere too). Even on reboot it does the below (connected to victor.lbry.tech).\nEdit: turns out victor.lbry.tech was behind on blocks as well, but I think this is a valid scenario to test out. \n```\n2018-05-29 12:01:29,262 WARNING  lbrynet.daemon.auth.server:219: error processing api request: {u'message': u'Block not in main chain', u'code': -32603}\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\nFile \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 1601, in jsonrpc_resolve\nFile \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\nFile \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\nFile \"site-packages\\lbrynet\\core\\Wallet.py\", line 515, in resolve\nFile \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\nFile \"site-packages\\twisted\\python\\threadpool.py\", line 262, in \nFile \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\nFile \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\nFile \"site-packages\\lbryum\\commands.py\", line 1493, in getvaluesforuris\nFile \"site-packages\\lbryum\\network.py\", line 787, in synchronous_get\nexceptions.BaseException: {u'message': u'Block not in main chain', u'code': -32603}\n```. Related to: https://github.com/lbryio/lbry/issues/1228. This is no longer an issue on 0.21 - the UDP port will still bind if the TCP port fails or is bound already.. According to a convo with Lex, he will be importing wallet public keys along with channels, so this issue should be solved with the new wallet. Will confirm with @eukreign \n@eukreign does channel_import / export already take this into account? . Closing per comments above, will will be dealt with in channel import/export (https://github.com/lbryio/lbry/issues/1409). My only complaint would be to suppress or fix this error: \n2018-06-20 23:47:10,417 INFO     lbrynet.core.client.BlobRequester:486: Requesting blob 46ab794e4e5d897fcfe61d239a24ba77325ececb206ef4302360b3a4dffec4983495ffa41022d1a80b9bec88c4332144 from 54.209.131.62:3333\n2018-06-20 23:47:10,430 ERROR    lbrynet.blob.writer:30: writer has already been closed\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 78, in start\n  File \"site-packages\\jsonrpc\\proxy.py\", line 176, in __call__\n  File \"site-packages\\jsonrpc\\proxy.py\", line 169, in _post\n  File \"urllib2.py\", line 429, in open\n  File \"urllib2.py\", line 447, in _open\n  File \"urllib2.py\", line 407, in _call_chain\n  File \"urllib2.py\", line 1228, in http_open\n  File \"urllib2.py\", line 1198, in do_open\nURLError: <urlopen error [Errno 10061] No connection could be made because the target machine actively refused it>\n2018-06-20 23:47:10,444 ERROR    lbrynet.core.HTTPBlobDownloader:54: Mirror failed downloading:\n2018-06-20 23:47:10,561 INFO     lbrynet.core.client.BlobRequester:562: Blob 46ab794e4e5d897f has been successfully downloaded from 54.209.131.62:3333\n2018-06-20 23:47:10,563 INFO     lbrynet.core.client.BlobRequester:486: Requesting blob 50641b12999c8642ed97f0587d36945d8a611a143326f73dbde57d529a862218ac1b37c. @shyba see above - do we want to do any about the above error? . Also, for downloads (and their associated blobs) that are still incomplete, I get a \"missing a blob\" error - see below for my daemon startup. Maybe we should suppress these? \n2018-07-10 11:41:04,085 INFO     lbrynet.daemon.Daemon:263: Started lbrynet-daemon\n2018-07-10 11:41:04,596 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 3ce356d96400be5b to reflect, 4 are still needed\n2018-07-10 11:41:04,598 INFO     lbrynet.reflector.client.client:77: No more completed blobs for bafc8dcaecfb8555 to reflect, 3 are still needed\n2018-07-10 11:41:04,611 INFO     lbrynet.reflector.client.client:77: No more completed blobs for de6b8f8f7c981715 to reflect, 8 are still needed\n2018-07-10 11:41:04,686 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cb1de038e53d29fb42608627cbcdd1a68cd67a895937611c8064fa09854cfc8690a3f0b316466581bcfdcdc145cceb8b\n2018-07-10 11:41:04,700 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c1e314936e1da506c5b4ab099f379939b49e1bc5677efb373dc94b1b7333db50483aa1b7e597441d036db2fd6b82bfbc\n2018-07-10 11:41:05,194 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 1e8bda659de87088 to reflect, 173 are still needed\n2018-07-10 11:41:06,035 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fddf102dc6ff19ddd1fbbd2ad042a3a778205c0ad9c3e5b628c505c5c98bc155be93a1a9efbbe0557dcec302eeb92f1d\n2018-07-10 11:41:06,075 INFO     lbrynet.dht.node:247: Attempting to join the DHT network, 9 contacts known so far\n2018-07-10 11:41:06,121 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 46e08f959936fc5e7cc405903e9218f200efe2b11138643df5392bc6dba4162ac19438eeb5d4f58287f8844d5a7fc0bd\n2018-07-10 11:41:06,417 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 16fd13e23db4661a to reflect, 859 are still needed\n2018-07-10 11:41:06,461 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 968a724c1d79cee553bc14f28ae5dccf8dbf758e8327e79d04450d601e65e407711084321e47d2dc97b61c3412d23746\n2018-07-10 11:41:06,618 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 2cf2affaaa948056e45ef6d68fc5a383f33c1c586615220aa50f25c7ec4a7130010303147d68d557daf4fa6d86d950a6\n2018-07-10 11:41:07,457 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e9a0077f19afc961347f9bc77a9d79f4aa895e4ec26390827d581052ddf620923af8deea3424d1760078a1a49f0792a9\n2018-07-10 11:41:07,615 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 70de0782ef1189d9c455e8a85bd68333ccbb1332126bad1fb87ccfd79e148924e34e629e0662a457fc93b7c9725cb7ce\n2018-07-10 11:41:08,450 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: ac015a1216fd5958bd856fe1df5870a53463ce89fb3708d8157d1d6171dfb9ac5230ca7cfd86af39a6f32041465c966d\n2018-07-10 11:41:08,618 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e4b9a54cfc1459246b85fc92103bccc29ac423cb8ee2ec5da0c44a127b586329aee10128dc64d6f5652b6c2f643ede73\n2018-07-10 11:41:09,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e2bf2a667a4adde82568bd374a9a74cf5352180cff053cb6aecf889f4ffcc5ccb60dc861d1bc05855e16d3e7bdd1c2ef\n2018-07-10 11:41:09,621 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6029b918319a2fc9e8f1e935db8089ad8b75f533e5a87a1cd85ebc12bd19a41037c2dc929dfc1d87366d18945a1a6cf3\n2018-07-10 11:41:10,486 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4698198ef82fd52a0b79e6ead4d53ee9b4dea8e12e6e38046f02abd53ec4087b64ac6608c53975fea13b267565ca3aec\n2018-07-10 11:41:10,653 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 25ad07c03f0528b2bc657bb651d6242a32626b8948678567bda861d7eff69b97abb5b610c6d4a20a0982d80aeecffefb\n2018-07-10 11:41:11,457 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 566a5038d3912b6d45ef3bf0683c8d33e8118c9972af44ef34f84ba5a294193a751ef85daa74e044875dce1249ca48b4\n2018-07-10 11:41:11,612 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 438f80c1c434b68c721d840658a7783fe323350ff3b983d9366f6a3a48b44a84ae335c422b72950cbcfa4e8a28cc7b59\n2018-07-10 11:41:12,483 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 9399d6a84f3c4447b43e2415cf024c679d50913863cb72b653ad3b65b3a35133883926605f4d9e8d1c787e4cc3b11899\n2018-07-10 11:41:12,983 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob 34694830635750692d877580a1aabfcf757e71a26c65e62e907bc05ddbaaa404fe968062e5133191d32d3d0f1973b61c: Invalid padding bytes.\n2018-07-10 11:41:13,226 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob 2f87112c765f32baf8ec99b8379e850387a4596df832a7897377f998cf6f98f80413460a6a46766ba0081cf1a547cde6: Invalid padding bytes.\n2018-07-10 11:41:13,444 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 60c0314123e4966b115ae91784527359e43c7a163188d4c7294aecf44f101cabd7b5ff7d3ecd3db31fcc2f34f4e4dc6a\n2018-07-10 11:41:13,974 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob bfe5f644d0af2c4a4bc3ec04a9b5260e2625a64b608bfef2819df6e81268567e0c2b35f52e710088db9d211ef8094328: Invalid padding bytes.\n2018-07-10 11:41:14,454 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 8dcf6e9a1cc8775b4b1dcb0e14cf6fa7ffe061a36f3c86d7ffccda018aab479f9a997c46e5f226a676b7a5d917cafdbc\n2018-07-10 11:41:14,789 INFO     lbrynet.core.Session:232: Joined the dht\n2018-07-10 11:41:15,463 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 47b3c28b897f3114242edcbb5889c66183162cac6e309b5bbeda9ef81b72cac11ebb00efa0b2b06f7b8f0872ca983832\n2018-07-10 11:41:16,457 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1a72887e4d498bd587b040346299b395bf6d3060f08313a2836e837bbe127cc4325da992d42eefc7621cdd93d8d88e3b\n2018-07-10 11:41:17,463 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4b5be7ba2634f3b0bbd9efdd60aae068db123bfec3e7866ee9320f180fd7cb422ad3a8a65f6e54752ec17afcc63c5149\n2018-07-10 11:41:18,444 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 2d6c86b05c64669556f3e681ed967082c52e4a225b76ed86e7a9bdfb09c9cc7e39d3ed43ad9238416611c4c767b6a88f\n2018-07-10 11:41:19,437 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b3a7307d4d38036cd98731914b9234b471132f28d44c47d49bfcf0d333eaab1724aaabd7752b138df2ec529f19c71381\n2018-07-10 11:41:20,444 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fb483d7374f7afe5e35d2f7bb83f299930db59dc6b1e62bc66325fc894fde0c52b74dea26787d7dcf94d2c01dc1ee8d6\n2018-07-10 11:41:21,454 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 817a183813747a487f2e07b5e4ed9ccdf8e42c2bbba4f448cf84835b3d38ab789b48b00ef3207d9120646c1ab005cf44\n2018-07-10 11:41:21,704 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob c025ca07aa5b9a68a1bc878de04791f6e2bd9c6436452df03940e51e51a11834220a5594bfc8fdb4011f96be1f702273: Invalid padding bytes.\n2018-07-10 11:41:22,434 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7f562c2f611f8f5bf8e8d50bcbb0685a6e0a7b67c6f68fa80919efa817f8fe2f348ea3678d6440b5835ac27ae1fee3f3\n2018-07-10 11:41:23,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: eb0005be0aaf2ceab5dde91f89dd62ab9ced4b221f22e49a93dd0236152fd5cfe6627a4050c8caa9b3d3a69f8244cc1c\n2018-07-10 11:41:24,502 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: a9a20be0e07198feb2a811d92c32ede8a77331ca99631140efa8d2ec38bb4cfe0345bc06dbe2d276e50d86fe273bd200\n2018-07-10 11:41:25,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f0f65080401fc7fbac1954a235aee83a9229ac937c5eeb78e15901a3346640d38cff418530fc4f09e0a480915f097f9c\n2018-07-10 11:41:26,476 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: debc7d85f29c78a9dc242e7b5a71b03d5e85818523956d2ac928fb51af42ad572d6be1b7493c9f0f6522a21c1fcff619\n2018-07-10 11:41:27,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 37edb4cdd1853e1b222d946171d4a2673c19d46d541e5c27e1d6b8130e3f843375a8d5d9653e1eaffc47a27c2432fc01\n2018-07-10 11:41:28,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f8c47a3444d3830a70ff6b090ca627987e2f1ca3098b4a8f5305f9b6c39053c56e9027f99dcfa086ed08e2afaed5a1dc\n2018-07-10 11:41:29,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 335271ee1e9d5b1bdc37c9f5f1508108bb823311b7572e63c6479ff9c85529c57298c9e257ec5416fbb602025c833656\n2018-07-10 11:41:30,431 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cdb535fea1fd496298265d5e43b36a35b96d1d73449d8906b788ef5a36b2d25a94c45edcf5524d20d2cffc6a58c14eff\n2018-07-10 11:41:31,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 396a33075cdfd070ab4bd1c55b82882ecc1cbd48703dd45e5107dcb437baf1902f925e87fa95e93c1d434a383d4aafe2\n2018-07-10 11:41:32,505 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 96ae01278cb29e52b8a0f49666542737ac17eb7337d303ccedb265cd52dfd416d4c7f38591896aa3292d615f0e59a8f4\n2018-07-10 11:41:33,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4a081ad0ed67bbaf2e09ac3819271755920b58afe4fb3ce1ad31030fd2bb79815e41ff29283ee3ac69d8858b943bb980\n2018-07-10 11:41:34,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 77f875da4d9a5301da44bf81f9c88054e41d764dd2b81939ab7d039c5df2a6a1728e09afb1e6e75dfb6c89d30fbd07a7\n2018-07-10 11:41:35,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 07e265d2b689ec69d6ddde53ebf5e6696923d3ad1ba132a0e100ec0ae6581151251a98cf114e344470686bb340840b9c\n2018-07-10 11:41:36,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cc49149a5ef0246359fcd9ccc3e419617f96a5ec87b5dd3ed2e077a625799cd27c1cb40b3bad581a11f887f7d0a333f4\n2018-07-10 11:41:37,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6138949020ffdb7fdc871dce0e3290fc82230c39702a45fe24dd3f2f984b60bc5b22b7b78af3cffa58528cbc1b02eda8\n2018-07-10 11:41:38,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cb2baf9a0a821db63944e1347d378493af194dd40c8481bf8862556d72cb0c53a8f1dcef2a740f62fd7235ec735b9a7c\n2018-07-10 11:41:39,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 5a9e91e920f5c4716cd97aefcfddbabf753359550aab643d38cd7dd746c529e3a6d5630d1323291793e0ba805544d928\n2018-07-10 11:41:40,506 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 667e1266ee89e724dafb8c2ad7a51e6c614e09df3803a607bb04baeb1bfd19bdc773ea40ba6cc5218c2c3326b7bd3d0f\n2018-07-10 11:41:41,421 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 9a372aef0b0b95829ba1ba3e729765291bde81ea3121e69fdcfc70dece16afcfbf408a5b242117c220bb3792b0f21764\n2018-07-10 11:41:42,421 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1f875b023bf8028b7f044b281d91ac0fbc9b721287bb91ab5fc5814f218e28dfdbd748d58dfb2214f5aa460f68426796\n2018-07-10 11:41:43,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b226cd1f9ffbace3f4428d873249c7d12cfec48df7d9d4da5895b9273ae7a4d65abb1191a660c2013cc0d02e8560dd67\n2018-07-10 11:41:44,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 9b32b0729acaf5a4d8b2666b656a10dd8f298e03755eb6f851d138c5b75b33356b5873d306a587d7f037d16849bc4d04\n2018-07-10 11:41:45,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 41747039aea8b229877cc4193bb0271430422db733ea98cb0dcde8f4230e3362563dd33101da93db42df8c28fbf1e7f4\n2018-07-10 11:41:46,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c983c7baf3b15e1f0b91329d1733d9351f7d76b1b2254c4452774c2f14194663bd94e8527eff582c3b06ef7aca726f41\n2018-07-10 11:41:47,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 86ede2085baa37449cd5a820c791d755814e58c88802c9a10a0fd99100d1605951b693afba15f67abadd56e2bb87cad2\n2018-07-10 11:41:48,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 19ae2a9a9d785d55e36d049a28903e0ea183d473b32798dde9f6a1d498877546a641e38a782c05313d9a0d23b1596968\n2018-07-10 11:41:50,210 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e6753ec3715fa615365e908c5cacc8f40c59bcbadc517a1d6befde1952bae1c5a42b8b0157136e3c92e4bae2d0baffbf\n2018-07-10 11:41:50,471 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1c49a5edba75a5732a7c6aa423c5f89f86be54f8cac8fae33a9104559e4f721e16b03a3f95ba44ef8f8b20d7565b0759\n2018-07-10 11:41:51,434 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: d32b8633c4bbcc4c9a53e38d21ef514937512df593992248a78cdab363f9c6e8fbf53a638f53619f0a532d8744ecb83a\n2018-07-10 11:41:52,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 5cb15a8b0de496c27e1439c6bc28ee483a241ed43d9f05876eb0532b7d1f476b292a0cd7504cf4d6603212521c79682c\n2018-07-10 11:41:53,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e7a85a8470f001803d743fefc7eeef429b21666ff9d7d80e98e5c1ca79ef0908165f5251c50ef66a6f027e773cfc806c\n2018-07-10 11:41:54,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4ffcc6226ab54a208325cf86da6c0a62a8070938b1d035c5ceec0ad931394b20f34a89a274b16fb6660b267c4c336a95\n2018-07-10 11:41:55,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 0333ca7bef4e3f485320a12dd74cdbb2fed1e7945830ae2a1f761e6beb0dbad372570384ea1946191e89a17ab560b0a7\n2018-07-10 11:41:56,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fe1210cd54518de2839d1fa80c56f1b019b9393033b83f8d1d65fcb9f41e5bfb5a642a2832cae7dcfbe73b1235447283\n2018-07-10 11:41:57,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b05ce153ac31ba107238d39292aa58c68661c2c976b0bd8fc2e68443dd4f107650a8ea9698e4c8ad58a6037077b1e58c\n2018-07-10 11:41:58,506 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7fb4511cbb88e3b87ae7803da9edfb77eaf4509683fda9be22fa0abd80858a8e1bfa97152f66d9d501db82d24bc25261\n2018-07-10 11:41:59,438 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 97909345d7856bc1826c7c9f43b8c305d3eb2ee63cf313f2b87fc29570a076cc78dc7c4a31aa3382cc2234f06c6f01dc\n2018-07-10 11:42:00,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 177bac0a91e632517b110ad9d2936eda9d0c2e6438f38648a34f11e8d801e745eb7cbb03daa6f2657bef99d81963d2b1\n2018-07-10 11:42:01,433 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 3e4307033879cebacab05baa4e1ced2ecd74e252acdd3de09eeb6d1382ce2464e568b0f705a7c4dd14c61787966aeb43\n2018-07-10 11:42:02,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 45ef91c4ed16216401f8cbb193491e8a88e8731d7fdb0f65e15bebbc2aa2431b03fe73417e71c5d28cca9510c88631c3\n2018-07-10 11:42:03,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 5b7ec3446dd3b11c08b2b7cf3ae5cd95db4caecfa7296219fdc14303da56163873e9d0cb08b32707936189cb2fc997cd\n2018-07-10 11:42:04,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 47ec516aa0e64b2e32d0f38a740d34082d88cc45d6455a4e09179077d3286bd28f689c8beafd98f121125aab63f98fa0\n2018-07-10 11:42:05,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b6e5485e31ff829bdb2e2db5479789226904ed19c1865fa1b4425f0504cb3a5292288f79e8132944e7b59c40313a5046\n2018-07-10 11:42:06,502 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1fe2d09d95bee3e13fb44165083de7012d121bdb4b010fd9e44146397f1cfe294517bb9e9496c29f634d3a33d93623a2\n2018-07-10 11:42:07,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 13bc3e42a63eb30e656637f9d1b02895af30f8856463178263baee3e444859522021c5bb6bfc30bce02788387fbde59e\n2018-07-10 11:42:08,433 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 24498beb4248dea0cb8066796612f579a1b548f37e76fc2b2ad0cfa22659e321e13972df3e14ac92125c59df08d2d299\n2018-07-10 11:42:09,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f0f66376454b205b729148418fcf80e70c905a6ccfd6f85da1c7df7cdfd8610817c42be3f34c6bb7c60f3a58994b71d4\n2018-07-10 11:42:10,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: bbf282d4036be251df5236e93f55ad631e60b98cb08148cfcc1c30e94ba4763cf76941543aaa95173f83b8ab43a33c4a\n2018-07-10 11:42:11,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 8336d9b7d0bce02fed9e088d56691c19346552e27dcd46e9bd4b0380d37435cc60fe2da3380264b1c274573660d6b35d\n2018-07-10 11:42:12,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b2418434a1e395b39c95cc5a4e65a3dadc84eb9a13bf7dac8f01e8504b1f8279dec2cf3daf43c6f2d78643e64df360ad\n2018-07-10 11:42:13,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b8ba2c5f54173fdaafd7bcff61e10429067091bb6f39e3e452b10240401bf8b4402f8625e979036825aae66cd196bbe1\n2018-07-10 11:42:14,505 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: af6234dd35787e279550b9f543a1f968141fd9d95c5ffce70ca9bff3c3883b0d72dc06bd78e737249fc40b5674d0adbb\n2018-07-10 11:42:15,483 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 48c22e7dbd020ac732704ef81fd15e742b13b8200500d79704dab39b41396191f9ecfa56ef274a4a6ea372034ff750d5\n2018-07-10 11:42:16,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c25856c975bc3a32d2efc7db0053be3a4ddf9ec38f3b1c2d6abd140d758808887331a34cea53e4b559594db5c5210d0c\n2018-07-10 11:42:17,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 83f59e7b8bdee4da61753b9aed6f4de6ae782d7fc5d3f61401be6aa1ad0ccf7964a637a05df6214ab487ea5f313cca6f\n2018-07-10 11:42:18,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 42c0974587e15c5e9d953da3cd31bfd4629e732de86b98f0d4ffaf244dcb7379b65dacf284cf31106e765d719a987bdd\n2018-07-10 11:42:19,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f9838a07c42ac9004f7f394b86ba80a5d9731ebf3c0abffe0a4ee5ee992a5c84cf5ece47db77a3856292b2a97d330dc9\n2018-07-10 11:42:20,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 466345ab2be7bab12a61eac0a742c8f0ad1f18b722efe22ef22818016bed0b7913bb064134d228ec74b2535614c9b199\n2018-07-10 11:42:21,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6d72c993d97a883dd46c6bb85ee8cc8951133f3bd4c76027c29f44f28757624a0f1998bf0ad9111b4d7e6e7fe6bcb087\n2018-07-10 11:42:22,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cbc4296b53db8d66539fe1ef9dab5ba81d3b4f9629d1f2388cdbb31ef3baacd404d1d2a148f7d694ff83beec8750856e\n2018-07-10 11:42:23,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 51d813ca09698322adfd9421c384cfe0b3e76763a683be4bdc1a767e853606e0bd9032bc2b2d04747f65a03708623357\n2018-07-10 11:42:24,500 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 17e091912aef511aa3981a2010b53f51213c08481e3e72b248952c2518c0c6f1b72ac7c3de35091dd0d2f6d3c96c5d44\n2018-07-10 11:42:25,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 3988fa955df11126878ac86ccade9c5099c9cdbe25cfbb487b76faf78c829dae4787ea1443700f58a637b8fa05b17408\n2018-07-10 11:42:26,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 21b9748b63cebbb822e79429e948537952604889371e8799f93b743c4e64c59fcee366f38324bb488d1a9721e8c78967\n2018-07-10 11:42:27,437 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 2c5a92ddc9a4c1e07266763e81466742c57f16f61e1cabc45b08b4cbea12f9a40ccd51ed97140869308f5a8724332329\n2018-07-10 11:42:28,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c16a3797685307d515bd8e934a481254b5e603371851837c5db13270aaf81e5980f9cd2be9ca79c6ef198c39e457bc0c\n2018-07-10 11:42:29,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f8b1eb5af69bc89f018cfc1f67911cabe9cdfe1dd9c64b653584c90c1a5f31327fd2ccd1b8380abe80005616fae8d162\n2018-07-10 11:42:30,510 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f2212f679cbb10899568455a21797ddf867f9a611d02c72955b42f6e27c5ce1bd030cb27e9a0a2f43e1147db575192d8\n2018-07-10 11:42:31,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: dce5cae4647dbc322eb5266a332d94d2da7b7c9cbf0ab0c8605091294df240096fed2b4207f67bd48141d6345a83c798\n2018-07-10 11:42:32,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: ffdf69571d26a1efdf9f4a33342f5e9bc5e7916da978f123a1e4ad9f598ba140ee7ca0095461250c8298aa91aaa0923d\n2018-07-10 11:42:33,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 0cb4a9454a211816a22236045994c4b3b78996b44801eba418462704777ecabba19f7f878b9f65979bbd1ad12cdb6b00\n2018-07-10 11:42:34,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c6a1e4f2c07c596265f163ea534da5293e519eba0fac0c48cb063336fa8930c22e9baae4f39948ec4c138a362f70eafa\n2018-07-10 11:42:35,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4076dbc0c7766f2186614b20fc2af26fc16eae996d699751a56a1f42868295288644b4a45b26f54b777d2f2feeed2870\n2018-07-10 11:42:36,431 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7c3ab9565b40be44bc4f4ee1ed3ca991377c2318365d097535db5ba058d639cd75d499a2536b2a6c73c8b51fc4519cbc\n2018-07-10 11:42:37,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e307abf7eee4a1d51ea793fcf8b9123c1c10872c8d21f5c69e83d194dc5236b4297d44da6cd649685e3e85f3a0605bab\n2018-07-10 11:42:38,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 42cd925c3a0c6271defd2eeb4e8a5ecace030524de12ea952f7024157b233c083e7b801fb1a37525f605ff8175ecd749\n2018-07-10 11:42:39,460 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: c14f4739c3908a3fd73ed66e1955232d377a8563f5d863f036b238cea0c5004e727b8757dd1a596207aae60cbf8b3a5d\n2018-07-10 11:42:40,466 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 20f9077f7d4ca30e969911f8d3dd1341f9f7d5a988ccb9c5e387b31430325ad8eb13b044e978b37e5a6987728df926f2\n2018-07-10 11:42:41,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e3abc16d77dc64d2a01b6d8bf2d3cc9bb15469a4384a662ba8342782c6e46a3a8d4c88f9234dbd340fbb53b728bfd0d4\n2018-07-10 11:42:42,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: cbfdafb98e80b71947c5e850a7075bcce4db23c400328f083a4a3a6ef483f63ce7678629958151c3cebc45f920e92729\n2018-07-10 11:42:43,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fce7e20c7482c3f367bc18bb1a2fb6d8c25728e1b94315a9e847868fe54f1603027849ede24ced228aeaace329983639\n2018-07-10 11:42:44,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 40c23211ea200fd0c6c2582aa70cf659c0b5ca60c7ae4f1f5405b4b385a34638e2147e7dbc666dcfd978c572788d3156\n2018-07-10 11:42:45,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 613f5c326d75a13f5ee4e90a8fe56223ead60f91f722e882c949dd9e6781c03a4d43d3023b5990ce9bb5d682c71d7942\n2018-07-10 11:42:46,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 3898b8a1863f855e63a57c6d703cb0589028864b4f8cd1f20a9ff9ef56143c946ab6e43bf26f167714e78dffba5f1856\n2018-07-10 11:42:47,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 755b9d96baed36f5437cd3e71c538ce569d8be9c07561d61a0abbd79695fdabfc006faec770d85fe8f352e5baf84fef0\n2018-07-10 11:42:48,469 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fb4c99ef6cc215cba204a97f9c476909965008cab520a1ac5fd2a624aaff376e00fa8d903cc9b38448e1dd78b6b68a51\n2018-07-10 11:42:49,477 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f54602b341f6eca40212c23ac4030d0859f2631abf731d276def53890c5fd90f78465bc307d5c88345a98db9fb7efd67\n2018-07-10 11:42:50,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 65259c50cdea9fd8ce497b4aed270369e2791c22840457fb3015944d87e665077ad140cd6152224745b0aa950ec30e66\n2018-07-10 11:42:51,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: d6e4b05612c23c6809f84d60bd967ce60985ed9c1336e7f9089029ac971d5704e1d08c6704a58e107d439598f3c8de90\n2018-07-10 11:42:52,500 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fbd88c35360d2f9b4d895825f3bcf71bd5343e577fd35b6a1479c2a712f6931164fb4c95ac7e78b16a400ca57a47be3a\n2018-07-10 11:42:53,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b907b5b25848578b49644a8000a349c8b2210fcdb395f5494fbb22f650c76a29626f593cfeee189e01804ca0ffcfd96f\n2018-07-10 11:42:54,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f17cd65d3673e62837a247ad8ae6b180223deb177b4c750b95f9aa7750a59577c6d1bb3cf48853193ce634e16345ed75\n2018-07-10 11:42:55,423 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 14c78c242f2100f459db7b0b1a987851f5041ac85c75915cf7641e2056037dc3a6e62c1e0dd679f5ab430a00692c6538\n2018-07-10 11:42:56,430 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fec32712653d08245f340b80f49580614b87e414555598618c0d1c207cea369c6349caa695aa724ef916e404916fc343\n2018-07-10 11:42:57,477 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6bac33de07cd73d14593ec83df3f47d5fe698fbda9e6d2a5cc9ffea01dd097da77a88dbecbacd3a70f99c709d19ab3ea\n2018-07-10 11:42:58,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6cfd18c6fe4d959ce71b1843819c0857204b623307affe5184998f815b81a9ec208266bf4a779668b86818882bfeaf33\n2018-07-10 11:42:59,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 595104d9cf2cf7581d1232bdf39f72ffdf2a37d8675b95cee998d01642a8b21909dfdbdf9182539942edc8388755e025\n2018-07-10 11:43:00,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 559500803edf5b443813c110d89d0f4985e95dc2409f54fec41069009b5d342520c4ef0793ad9f14eb82a61f733b8c47\n2018-07-10 11:43:01,505 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: eedc45bbdc575ebc5477124964a4c0f8ecd0914ce5359bbf12be671de59a1d8bc0d79bb31bdd0a320193aa0d7587759b\n2018-07-10 11:43:02,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: a41fa613320a05a389d3a9efb6953fb5a0be1b1fd78964ed1b25b5f9b25887275de32898376879310b90b92bf816bd93\n2018-07-10 11:43:03,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 9c5fa350d0c3f421547016464d638dd87bff2e13537edec806b99b6710309d67fc9354d7dfe1513f9c95583949480eb5\n2018-07-10 11:43:04,460 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 564a5c4612aabb74e60d87d25904a4925e8d7f7a5d29fb5f8741a94b33b6455d8043d8b4c078cc31510086dc71e6c481\n2018-07-10 11:43:05,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 09b3f8b3da2e09ae8ed6be1a81ba59c5c47e3c5de1221823918a3631c06e27c99787c5102600210cdea1c76d770f204b\n2018-07-10 11:43:06,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e4fee3296aaa5d866342affd9638e414f4f35aa91ed06352d1efc7b980996f50fc3682c7533284175aa9ac3e244c41e6\n2018-07-10 11:43:07,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b5ab0a5bb7e4bafc48e286420a6f1915406da273116924f5fbeb536e1baff5e1cb2607c5be6763bc5d685b34e425d1ef\n2018-07-10 11:43:08,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 4ceacd89d98fa98878ded3c32c7cde911ec41f120e0d57704f35826b39afadde68e8b494a011f370c8c8df48c29ce18c\n2018-07-10 11:43:09,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 42e485f031ad621df6fa3aded838e82e92315b0c50473134b5194c1b6791f38da4bee41845e2a59eda922fdc0d02bbc0\n2018-07-10 11:43:10,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 3ee405cd549ecd7b5ebcb2b13b381b038c03ce27ed77c4dfeaf99849db1b53f11ff924b927324ff283df9986e37088d8\n2018-07-10 11:43:11,431 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 21efdb979660dff164c715dcb575e42818327965dc97478051d0f2d15c131db9a7c2f655f35ac9a642759b0fc6190f90\n2018-07-10 11:43:12,480 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 9260e3ce29b8904fb4914f685de5eb73b86c858a38f625b4e90f633cfd623faab48ed20b2d6a25ee42f992b46ab4276b\n2018-07-10 11:43:13,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fbfe672d0ab414f87fcd697f6abaa0f6107945034503a710dbb5f3917017b31f1450cc8a5d21af60740a301d2011f0bb\n2018-07-10 11:43:14,433 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e609ea4cff3a234970221839360b8144bec5e5bc7938e681cc59bdce92a56c63a075a9c486c5e5d3f27f5b86f9255dd4\n2018-07-10 11:43:15,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 2664d9c64c996533ed09f840bb794f6999c27928f317054b1f700d694990b3beded5bc292cd945f19d35a0db0b252493\n2018-07-10 11:43:16,476 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1a909be8f20b62529aa8b0b447c7a04af0c1dbcc7f9d427c8345b21d35bec5e95ac4792746d0a8fb9bcef90afa30ebd8\n2018-07-10 11:43:17,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 97844ed611ef293665e50d008694a9161f3e6030097ca89534c01ee5c40ab37566ad1ce961453e4d765e9e9d6e96f821\n2018-07-10 11:43:18,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1f06ee8eb1d86b47bac79c962617f304499a9496eb97a049ce286d07fa7f98ac2a9065961d55055f9abab481e8509227\n2018-07-10 11:43:19,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1b9aa020998ea771eb82e32e251f4b60f3c3cda9416dbcd2f7ce659654014406d3836cdd51ccaac156cdd1e25121e36c\n2018-07-10 11:43:20,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 44ce1d3d10398740a236d9bd54cb766e33230512368ba4abe36092d27e12ca895fda855d9a0a2e9b0ae1cc5df0ccba16\n2018-07-10 11:43:21,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 6e78110028729d92a0043a36041bb2465c979e1cf4f31afa42ae17a56e8919bb77576f3f4b8c157fd36f070b7d435c25\n2018-07-10 11:43:22,431 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e49deaac80599bc07419760606fafbbbb667f36c0cc79f3d2a300b969a5a88f87a3b42d064f9ae9e161ebd71fc2bde9a\n2018-07-10 11:43:23,517 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 619f56313ad4d855fd47822fd46aa1e6172cdfe8ce46bb0513620c069e0a21a580e2510991e7ff8c8dcc07d1cc70609a\n2018-07-10 11:43:24,480 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 61748b334fd7bfd10d37180dbfebf4da4631e274c6378287a1dde5f8d06368e9f032077c8ccb3ca14f494e158832670b\n2018-07-10 11:43:25,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e60222f4108cbd98abfffb5482e41ee16c3122fa4b25a52d5e1b36e34efbf61d03ecd2981673161fa930f9164783ee53\n2018-07-10 11:43:26,461 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 10cc8a0bb3e252504b7a0dcaacac376af17dd4cc67fea1297e1954fe857e18f8511ff062af3db4f5f856d0bec2d811fe\n2018-07-10 11:43:27,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 0266dc0b8f8b404082f55aebc195b641efe80fcccdedc762d65d9bd27199490fc9f1b9139f7f7853935b077730bca994\n2018-07-10 11:43:28,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7da689ea1e13b8442e1763a9176a6de7202e62ce41ea2fea8d705d3d6f7fe281803df19045d7eb58edc9c3f8d59a7fec\n2018-07-10 11:43:29,509 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b75647b01d65fa029fadf71bec744af4efe0ca5757d4134ec011026ae8ac860a2682e5f092d9aa18180514b7e1ab3315\n2018-07-10 11:43:30,473 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 909a16192c136b96dbe696777d3aaecf0c57df32f72c4fc749aba16c1c93495e8862b37bfe8c41dd5e37e88008217e3a\n2018-07-10 11:43:31,466 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 87fe3741304580d29aab9511c30dfde6830fd03a232389f9a57eb5967b7d8473161676fc198013ebd4f130da03faf06b\n2018-07-10 11:43:32,467 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: d70671098e04a21c1e6005a6a0715db0c1c2a11f6d4b87fd678e7c9515535617545ffc84ad27a11237e727143f234f39\n2018-07-10 11:43:33,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f6b960a90de3ecae16f29d9574b754711b2bd34c3ee11d2dec2eac5f1330ba2e0a3c7c86feed6ca3947f416955d2def2\n2018-07-10 11:43:34,483 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 0d4c0226e7b529749bec6878b9324663897743a843ba9ad4df5a125cd50e399a46a5bf84748e9c8f6ce4868a6a7a79f3\n2018-07-10 11:43:35,500 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: eb7daebaf6e7585842b9cba5f3564ac737c1e2138a18ef4e21df5ad77eeeffbe655e3df120e6ab1d58f90bfb04a8db1a\n2018-07-10 11:43:36,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7a0718cf26fc03a00b012099a7e68e75c50b78af4ad552bec74d0ba2e490235d9d3c329c38ee26ce9f3e44ecd3407850\n2018-07-10 11:43:37,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: bc9da58d5e9659130269f7fd605091e08f635d5df062aca6fa1c40a8c93d4ec168eb97f5de7ac8ebf0899402d9a32478\n2018-07-10 11:43:38,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 854e237baad226dec13c7264502bde6453d16f7ca5d03698ad770085d1e2c276d3fe4634d9f5b5a9582f913e63ff705e\n2018-07-10 11:43:39,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: fec32cb08e2bdb9ddef5f312d2635672fee6db21c6ae4a171ed3422e89be487f96b6cefccc0caa00d5b32606811a9cbf\n2018-07-10 11:43:40,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 848bb1d24e9e840eb6d94c1a83c756a3f96788b1343e26a26501063be577db7befce8ce4a018be89b353fce704400d84\n2018-07-10 11:43:41,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e861b9e63a9b2dadcd84d69f258d1ed0c1165a5badad73918dd51b0a3bfaf8f095239cc8468ae68d49cdad0faf4897c7\n2018-07-10 11:43:42,427 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 00197bb8f31cdd525e1b14dc8aa74a19985b1ebee4fe93fed79963b9d4d674251fa093accd071e703655e3de5a00d36e\n2018-07-10 11:43:43,426 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 7073bd6adb1162191f1a2584de79e70ad82c823e236bbe6343c4639249f7a469178567becee0e2adec53f8ba70ce7509\n2018-07-10 11:43:44,483 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 85455ba3c0d46f2d2a08ce9f933f942c79dc9d83f5594d916300487ece8868555ba435a139015c808e0addcb974b4a4f\n2018-07-10 11:43:45,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: f17d4b3cb6a23cffde29904384943e47a9d311d0f008d0d5f34af932f2ee3dac1d71bbc1106ae87bbecc9956de5a6492\n2018-07-10 11:43:46,493 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b52c0fe4f59cd3fa3c61cab568e710037fdd5f9b90f8800e56bcc6300a055c3ef165ddb858cd8e527c71aaafc166143f\n2018-07-10 11:43:47,428 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b6d901fb9e85e4296d26e46a6bc6a4789bc609d17596ed598cf9adbdd20ea4a5391b366ab05257e70deb7aa7293d8d1c\n2018-07-10 11:43:48,424 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: dc801e19cb06c7b097d4ad5cb4fa5e8c61f61a8d72f766ce3d8dcab05520ad8c21d20e7e91adfe5123a5fd58505a28d5\n2018-07-10 11:43:49,507 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 43bbebcf313a06e1e4e4dcd5969fb12bc0566315922642776bda56d88a10530ae160cb06f3e9a370f67dbe71bbb6621a\n2018-07-10 11:43:50,459 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 1d3985ed5c4026c16bd480f0fa316f7edc25e42705971f51f728598b43e6915572d42777a559f90f1b1a4a925fa83252\n2018-07-10 11:43:51,463 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: bd7e3b9cfae1d93603467a7cfe2d8a37f56ff0498a36714c3519b34365bc8176f881ea7b15ca2126823ab64f62764ed1\n2018-07-10 11:43:52,466 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: e66eb12ae146724988d96001d9a716dd266b4ee97186412a394e4d2d9e2ada6adc5daa86d403a9e1fa6f6117408fac8d\n2018-07-10 11:43:53,470 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 647dce4b805269338dfc4df3365a4ba3e4c73adbd2576c3ae0ac701f1428c3824812e2f6955e3d781c9c1d0c95b042ca\n2018-07-10 11:43:54,471 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 2913028fe8dde1db649c242a7c037bc4809b88e9225dd50ba10970236b9fb7dd86f6b758a255857959185e13d1b02020\n2018-07-10 11:43:55,503 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: 740400f7f510c8f150102bf1ddc8e9ec4cebf89436a183ce5f417c2ae4888c947e9123172f497a4c3a7caf69a37c4bc0\n2018-07-10 11:43:56,469 ERROR    lbrynet.core.HTTPBlobDownloader:64: [Mirror] Missing a blob: b44727569abfc24a43b39681b7b0536f5923c19d67a2294df6fdf151eed3967e5d3ba2a0cb9b07a9bc606e5de8447874\n. Issue moved to lbryio/internal-apis #378 via ZenHub\n. Even though a user may have an incorrect configuration setting, the daemon should handle this scenario better. . @eukreign are you handling this differently with the new wallet? We should try to minimize users' ability to invalidate their claim signature. . @martinvahi thanks for your comments, suggestions and concerns. I think a bunch of it was already addressed by @Invariant-Change , but I'll leave a few more points:\n1) Sure it may be difficult to acquire LBC at the moment, but we hope regulations/laws around cryptocurrencies will make this easier in the future.\n2) If you use the manual verification method, we generally understand users' need for privacy and approve them even without real names/social media accounts.\n3) One free alternative to publish videos/images on LBRY currently is https://spee.ch  - we foot the bill for publishing. \nRegarding the alternatives you speak of, I don't really have any comments. IPFS looks like a promising tech, but there's no monetization strategy at the moment - you are at the mercy of the hosts, which may mean data storage is temporary. LBRY's future goals will be to create a data market around sharing content, which will incentivize hosts to store data. . Thanks again for your suggestions and thoughts. The data layer of LBRY can be extended to many of these other protocols, even IPFS down the road. Right now we are focusing on the LBRY P2P network and HTTPs, but will look support BitTorrent and others down the road. . @eukreign is this completed? Is it automated as part of the release process? . @jackrobison / @shyba We should try to fix this before a 0.20 patch release if possible. . Related: https://github.com/lbryio/lbry/issues/1084. This has been improved with the lbryschema cryptography changes + 0.20.2 release. . This is no longer occurring in the latest daemon. . Tested and working without error now! . We'll give this a try on the app side. The problem worsens when you publish something with a bid like .99:\n2018-06-14 18:37:56,551 INFO     lbrynet.core.Wallet:1187: Send claim: html3 for 0.9899999999999999911182158029987476766109466552734375: 080110011a650801121e080410011a0674657374203322002a0032044e6f6e6538004a0052005a001a41080110011a30bcbef283e927971b2d5150d499574239285dbd4e69840aa19f12d461a67ea6cfc29b0ba99c1b7041345667de985df4e72209746578742f68746d6c. Sounds like https://github.com/lbryio/lbry/issues/854 is the fix for this too. \nCan we isolate this to daemon load while publishing? Can you throttle down the # of concurrent publishes? . @hackrush01 looks good from the app! \n2018-06-19 10:39:20,721 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': u'', 'name': u'v201rc4test', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'fee': {u'currency': u'LBC', u'amount': 0.99, 'version': '_0_0_1', 'address': 'bKg9CTayD4NGr3sPXe2JTpVmN1jWLHtnet'}, u'license': u'None', u'language': u'en', u'title': u'test pub new daemon', 'version': '_0_1_0', u'nsfw': False, u'licenseUrl': u'', u'thumbnail': u''}}}, 'channel_name': None, 'bid': Decimal('0.001'), 'file_path': u'/home/tom/lbry-app/package.json', 'change_address': None}\n2018-06-19 10:39:20,721 INFO     lbrynet.daemon.Publisher:25: Starting publish for v201rc4test\n2018-06-19 10:39:20,844 INFO     lbrynet.core.Wallet:1188: Send claim: v201rc4test for 0.001: 080110011a9f0108011251080410011a137465737420707562206e6577206461656d6f6e22002a0032044e6f6e6538004224080110011a19554c31600d61c27f82d1e7d6279c83f21184d837896146ca0125a4707d3f4a0052005a001a48080110011a30cbb3d98809e176242572c509f46d6c0d99dc86f30be09af515ef655e8a0e51996abf2676e19d28866a363716ac00aca722106170706c69636174696f6e2f6a736f6e\n. Tested and working as expected. . Thanks for the suggestion! Are you referring to the lbrydaemon (this repo) or the LBRY-app? . The daemon has pre-built binaries, no need for a flatpak. I believe we will be working on a docker alternative. . @CurtisLeeBolin the flatpak was just updated to the latest build for the app: https://github.com/flathub/io.lbry.lbry-app. Thanks Jack, squashed another nasty one with a one-liner haha. . Which parts do you think are centralized? Is Bitcoin a waste of resources? \nThe LBRY P2P network includes anyone who downloaded the file, not only our servers.\nThe long term plans include data markets / incentivized hosting. . We have no plans to move away from PoW at the moment. If PoS tech improves in the future, we will consider it for the LBRY blockchain. . @42degrees Can you reproduce the name length issue again? Or post the logs here with a sample publish that fails. Thanks! . @42degrees can you try to see if it's still happening? Can you post what the api call looks like? \nI just ran: {\"jsonrpc\":\"2.0\",\"method\":\"publish\",\"params\":{\"name\":\"Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593\",\"channel_id\":\"\",\"bid\":0.00001,\"metadata\":{\"title\":\"test pub\",\"nsfw\":false,\"license\":\"None\",\"licenseUrl\":\"\",\"language\":\"en\",\"thumbnail\":\"\"},\"file_path\":\"xxxxxx\"},\"id\":1530149530332}\nResults:\n```\n18-06-27 21:32:10,467 INFO     lbrynet.core.Wallet:1203: Send claim: Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 for 0.00001: 080110011a6808011220080410011a08746573742070756222002a0032044e6f6e6538004a0052005a001a42080110011a30ec7eb508b1d1031863d3ee066d15b16924cf3d958852dd9fa52f432deb1f06595d1150316f9b44260243bb1ce1f2bc43220a696d6167652f6a706567 \n2018-06-27 21:32:10,546 INFO     root:205: using buckets: [u'494850264b22c23510b3886607382187026ff1bee82a6ff6122d101d79c4396d:1']\n2018-06-27 21:32:12,381 ERROR    lbryum:119: [lbryumx2.lbry.io] serving improperly sorted address histories\n2018-06-27 21:32:12,678 INFO     lbrynet.daemon.Daemon:732: Success! Published to lbry://Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 txid: c0854c868612321c515dab9ebf11b6112b94fef1d25002074a6feaa37083906e nout: 0\n2018-06-27 21:32:12,914 INFO     lbrynet.reflector.client.client:132: Reflector needs descriptor and 1 blobs for stream\n2018-06-27 21:32:12,963 INFO     lbrynet.reflector.client.client:221: Sent reflector descriptor ec7eb508b1d10318\n2018-06-27 21:32:13,091 INFO     lbrynet.reflector.client.client:74: Reflector has all blobs for ec7eb508b1d10318\n2018-06-27 21:32:13,095 INFO     lbrynet.daemon.Daemon:728: Reflected new publication to lbry://Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593\n``. Regarding the screenshot, are those related the ones that originally failed to broadcast due to mempool conflicts? Can you send the output of file_list --claim_name=Saint-The-501224-25-Santa-Claus-Is-No-Saint-32-22-28m14s-6621 (or a new one that still hasn't been resolved). Might be encoding related. Can you find that part of the log that shows:2018-06-27 21:32:10,346 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': u'', 'name': u'Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'license': u'None', u'language': u'en', u'title': u'test pub', 'version': '_0_1_0', u'nsfw': False, u'licenseUrl': u'', u'thumbnail': u''}}}, 'channel_name': None, 'bid': Decimal('0.00001'), 'file_path': u'xxxx', 'change_address': None}`\n. as far as publishing in high volume, you'll either need to throttle it and wait for a new block/confirmation on a previous publish, or fill up enough addresses using https://lbryio.github.io/lbry/cli/#wallet_prefill_addresses.\nThe current wallet implementation starts to struggle with many addresses created, so many hold off mass publishing until the new one gets implemented. . You can check the lbrynet.log1 (and so on) files for that info. Unless those were filled up also. . @42degrees that log doesn't have any of the publishes. It could be in one of the older logs possibly (with a log1/log2 extension).\nI think the errors were from previously failed publishes with incorrect syntax. \nBelieve the last action here is just to improve the documentation to mention the allowed characters. @42degrees is this something you want to submit a PR for? The docs get generated from the code in this repo, i.e. https://github.com/ocornoc/lbry/blob/e7ff038e9f2d200d39f5914980f6da3c9ee1cb59/lbrynet/daemon/Daemon.py#L1959. Closing per https://github.com/lbryio/lbry/pull/1428. Thanks for logging this! I'll see if I can reproduce tomorrow. Good to know that PR fixes it. . I am able to reproduce if you call this early on during daemon startup, but I'll have to try again with https://github.com/lbryio/lbry/pull/1164 - this changes the startup of the daemon. If you have some time, can you give it a shot as well? . Session status has been removed as a parameter in 0.21 (components refactor). We are now able to successfully call a status early in the daemon startup process. . @SiamakNemati that looks unrelated. We're you interested in tackling this issue? . @nikooo777 we should confirm that the new fund command works for your YT sync scenario when we test the wallet. \n. Tested on new wallet (on spee.ch), doesn't look right:\nlbrynet-cli wallet_prefill_addresses 50 .04\nand this was the result (I was expecting 50 UTXOs with 0.04):\nhttps://explorer.lbry.io/tx/cb08b32de15b003e7930ced91e7226a02f6e8fab53ddabd3709947bee6b950fe\nupdate: the wallet didn't have 2 LBC (50*.04) so I would have expected this to fail. \nedit 2, did another and 5 0.04 came up with the same result: https://explorer.lbry.io/tx/b6091422fa5732668be027de41dd09ea8f70f23b40297aae8b2eb0f6773fe142 . @ocornoc thanks for filing this! @eukreign any initial thoughts here? . The frequency does slow down later on...maybe once per 10/20 minutes, will continue to monitor. . So it does stop the warning, but the stuck downloads continue to retry in the background. . Ran a verbose log to confirm that the daemon does keep trying to find peers. This could be what's causing some of the high cpu usage on some installs. \nLog:\nhttps://gist.github.com/tzarebczan/88bb8b2d5511f3fb63150647e1fb8683. This was fixed in 0.20.4. Thanks for finding and fixing this! . @eukreign who needs to review this? . Ran into something similar on another machine, but this time it just kept saying that it would announce but didn't. This is after it ran into the \"this node does not know any nodes\" scenario and seemed to recover from it. \n2018-07-08 15:31:54,207 INFO     lbrynet.dht.hashannouncer:72: Took 15.4739999771 seconds to announce 12 of 19 attempted hashes (1.000000 hashes per second)\n2018-07-08 15:32:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:32:38,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:33:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:33:38,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:34:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:34:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:35:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:35:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:36:08,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 7 blobs\n2018-07-08 15:36:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:37:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:37:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:38:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:38:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:39:08,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:39:38,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:40:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:40:38,737 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:41:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:41:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:42:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:42:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:43:08,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:43:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:44:08,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:44:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:45:08,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:45:38,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:46:08,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:46:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:47:08,747 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:47:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:48:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:48:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:49:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:49:38,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:50:08,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:50:38,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:51:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:51:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:52:08,739 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:52:38,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:53:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:53:38,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:54:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:54:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:55:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:55:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:56:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:56:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:57:08,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:57:38,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:58:08,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:58:38,753 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:59:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 15:59:35,055 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 8624da29c6fbfb17 to 189.186.71.5:49298\n2018-07-08 15:59:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:00:08,739 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:00:38,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:01:08,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:01:38,740 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:02:08,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:02:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:03:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:03:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:04:08,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:04:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:05:08,599 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 38ec96126f2e7189 to 190.79.166.43:63535\n2018-07-08 16:05:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:05:09,648 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 891ae91eb0546a5e to 190.79.166.43:63538\n2018-07-08 16:05:09,795 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 0bc4ebb4b388ffc2 to 190.79.166.43:63537\n2018-07-08 16:05:38,740 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:06:08,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:06:38,739 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:07:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:07:38,742 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:08:08,744 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:08:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:09:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:09:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:10:08,746 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:10:38,744 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:11:08,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:11:38,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:12:08,747 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:12:38,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:13:08,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:13:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:14:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:14:38,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:15:05,528 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 468f3efdf605bbff to 188.243.4.139:49576\n2018-07-08 16:15:07,507 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 8b41b4fc54548db2 to 188.243.4.139:49576\n2018-07-08 16:15:08,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:15:09,217 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 185c0945cabf9bdb to 188.243.4.139:49576\n2018-07-08 16:15:11,111 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 7c2d2ddc5a95877c to 188.243.4.139:49576\n2018-07-08 16:15:13,793 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 7d1fe15fc188d307 to 188.243.4.139:49576\n2018-07-08 16:15:16,190 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending a015228587af4e65 to 188.243.4.139:49576\n2018-07-08 16:15:18,447 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending a7437fa74a1f866c to 188.243.4.139:49576\n2018-07-08 16:15:20,500 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending a46d42ef52fe475a to 188.243.4.139:49576\n2018-07-08 16:15:22,542 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4d9f090a0516502c to 188.243.4.139:49576\n2018-07-08 16:15:24,427 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 57e80fc5230f500e to 188.243.4.139:49576\n2018-07-08 16:15:26,216 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending cbf3ac505f298ac2 to 188.243.4.139:49576\n2018-07-08 16:15:28,078 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 0f7ab7f1dd20e389 to 188.243.4.139:49576\n2018-07-08 16:15:30,529 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 79668a566dca6020 to 188.243.4.139:49576\n2018-07-08 16:15:32,857 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 2ebbf912e63a368c to 188.243.4.139:49576\n2018-07-08 16:15:34,905 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 1702ec4978dc94d1 to 188.243.4.139:49576\n2018-07-08 16:15:37,049 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending e758770b066161ad to 188.243.4.139:49576\n2018-07-08 16:15:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:15:39,831 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 3ced115e0ce38f1f to 188.243.4.139:49576\n2018-07-08 16:15:42,127 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending b291b8692981e36d to 188.243.4.139:49576\n2018-07-08 16:15:44,437 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 05d76990ae9c4026 to 188.243.4.139:49576\n2018-07-08 16:15:46,588 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 5acd6428186f41f5 to 188.243.4.139:49576\n2018-07-08 16:15:48,553 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 0b321d7fc785d06c to 188.243.4.139:49576\n2018-07-08 16:15:50,467 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 2754fd2cc0e0949a to 188.243.4.139:49576\n2018-07-08 16:15:53,086 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 74b98e5eebbb0f38 to 188.243.4.139:49576\n2018-07-08 16:15:55,584 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending c1bda3611ba957ed to 188.243.4.139:49576\n2018-07-08 16:15:57,644 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending c020b96e6000f14a to 188.243.4.139:49576\n2018-07-08 16:15:59,888 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 1f37a4d5b6c836ac to 188.243.4.139:49576\n2018-07-08 16:16:02,905 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 8cb8490a134d3da0 to 188.243.4.139:49576\n2018-07-08 16:16:07,187 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 92d59831cf3c6833 to 188.243.4.139:49576\n2018-07-08 16:16:08,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:16:10,043 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 042103bd537ac90e to 188.243.4.139:49576\n2018-07-08 16:16:12,153 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending aaeb8d567e9fbe12 to 188.243.4.139:49576\n2018-07-08 16:16:14,168 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 91e3d93a6f0b4783 to 188.243.4.139:49576\n2018-07-08 16:16:16,036 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4fc544a8a6d15b0a to 188.243.4.139:49576\n2018-07-08 16:16:18,693 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending e88f5a68093bf215 to 188.243.4.139:49576\n2018-07-08 16:16:20,834 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 85512fa49c037af5 to 188.243.4.139:49576\n2018-07-08 16:16:23,515 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending af95ff41332a48b9 to 188.243.4.139:49576\n2018-07-08 16:16:25,961 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 48959f8bda34af75 to 188.243.4.139:49576\n2018-07-08 16:16:28,098 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 45e089be5622902a to 188.243.4.139:49576\n2018-07-08 16:16:30,118 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending d9af5803f4db0f5c to 188.243.4.139:49576\n2018-07-08 16:16:32,101 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 3947e4219a56fb97 to 188.243.4.139:49576\n2018-07-08 16:16:34,118 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending f8544948f9d57c06 to 188.243.4.139:49576\n2018-07-08 16:16:35,979 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 184ceb428c99385b to 188.243.4.139:49576\n2018-07-08 16:16:37,782 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 46064712f3b53cfd to 188.243.4.139:49576\n2018-07-08 16:16:38,739 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:16:40,168 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 7d1449c548078ec1 to 188.243.4.139:49576\n2018-07-08 16:16:42,474 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending eaeacd2c4b5c64c7 to 188.243.4.139:49576\n2018-07-08 16:16:44,538 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 50f6db228faf9283 to 188.243.4.139:49576\n2018-07-08 16:16:46,503 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4f3905b3b571398b to 188.243.4.139:49576\n2018-07-08 16:16:48,496 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 44f6a0063618ae7b to 188.243.4.139:49576\n2018-07-08 16:16:51,084 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 685dfcc08fc0b632 to 188.243.4.139:49576\n2018-07-08 16:16:53,367 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending e2a01764b7562553 to 188.243.4.139:49576\n2018-07-08 16:16:55,515 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending af7c3e6fb2844335 to 188.243.4.139:49576\n2018-07-08 16:16:57,609 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4343a036680903e3 to 188.243.4.139:49576\n2018-07-08 16:16:59,615 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4fa84a19cd66c9f4 to 188.243.4.139:49576\n2018-07-08 16:17:01,503 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending b46ec8eab6049d6d to 188.243.4.139:49576\n2018-07-08 16:17:03,293 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 4b4a563fad1c7795 to 188.243.4.139:49576\n2018-07-08 16:17:05,098 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending dfc970c17d9fb56c to 188.243.4.139:49576\n2018-07-08 16:17:07,657 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending dfc2933189fdfe27 to 188.243.4.139:49576\n2018-07-08 16:17:08,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:17:10,019 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 8c2745f7f6515ac6 to 188.243.4.139:49576\n2018-07-08 16:17:12,130 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending c5925ea6a713ec28 to 188.243.4.139:49576\n2018-07-08 16:17:14,059 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending d9669a3371019b0b to 188.243.4.139:49576\n2018-07-08 16:17:15,345 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending c2145e643f55e0fe to 188.243.4.139:49576\n2018-07-08 16:17:15,346 WARNING  lbrynet.core.server.BlobRequestHandler:227: Upload has failed. Reason: Consumer asked us to stop producing\n2018-07-08 16:17:38,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:18:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:18:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:19:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:19:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:20:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:20:34,246 WARNING  lbrynet.core.client.BlobRequester:235: A request of type 'availability request' failed. Reason: Connection to the other side was lost in a non-clean fashion., Error type: <class 'twisted.internet.error.ConnectionLost'>\n2018-07-08 16:20:34,246 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-08 16:20:34,246 CRITICAL twisted:154: \nConnectionLost: Connection to the other side was lost in a non-clean fashion.\n2018-07-08 16:20:38,732 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:21:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:21:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:22:08,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:22:38,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:23:08,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:23:38,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:24:08,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:24:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:25:08,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:25:38,734 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:26:08,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:26:38,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:27:08,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:27:38,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:28:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:28:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:29:08,721 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:29:38,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:30:08,733 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:30:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:31:08,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:31:38,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:32:08,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:32:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:33:08,724 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:33:38,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:34:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:34:38,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:35:08,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:35:38,736 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:36:08,727 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:36:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:37:08,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:37:38,730 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:38:08,743 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:38:38,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:39:08,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:39:38,723 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:40:08,720 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:40:38,739 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:41:08,729 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:41:38,726 INFO     lbrynet.dht.hashannouncer:54: Announcing 8 blobs\n2018-07-08 16:41:47,799 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 307983b8e041e772 to 109.159.102.33:56918\n2018-07-08 16:41:49,786 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 85e7f3c740ef527c to 109.159.102.33:56918\n2018-07-08 16:41:52,302 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 01b38b165ba6843b to 109.159.102.33:56918\n2018-07-08 16:41:54,479 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 0e33a11eb5d6f51f to 109.159.102.33:56918\n2018-07-08 16:41:56,112 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending d3da681b66e9d171 to 109.159.102.33:56918\n2018-07-08 16:41:57,641 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 3a7b99109cccb5be to 109.159.102.33:56918\n2018-07-08 16:41:59,210 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 200497252dd6321a to 109.159.102.33:56918\n2018-07-08 16:42:00,575 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 7109756bb2c1cf56 to 109.159.102.33:56918\n2018-07-08 16:42:01,993 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending e8f3bb984ac314e8 to 109.159.102.33:56918\n2018-07-08 16:42:03,471 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending a0d5e843a4d6c9c2 to 109.159.102.33:56918\n2018-07-08 16:42:04,894 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 3071495c49c25c08 to 109.159.102.33:56918\n2018-07-08 16:42:06,704 INFO     lbrynet.core.server.BlobRequestHandler:151: Sending 3255890c7577feef to 109.159.102.33:56918. No longer happening, to my machine at least, on 0.20.4. @shyba/@jack, should we close this or can it still happen in other scenarios that we need to take into account? . Closing, no longer an issue. We also won't try to announce if there are no peers in 0.21. Here's a log of my main machine starting up (From an older build: http://releases.lbry.io/daemon/20180618-030314-v0.20.1rc4-3-g35f4928e/), I'm seeing the logger error that Jack got. Will do more testing with other options like reflector server. Any other config options to try @hackrush01 ? \n```\n2018-07-10 15:22:04,528 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-07-10 15:22:05,515 INFO     lbrynet.daemon.DaemonServer:65: Using non-authenticated API\n2018-07-10 15:22:05,516 INFO     lbrynet.daemon.DaemonServer:42: lbrynet API listening on TCP localhost:5279\n2018-07-10 15:22:05,516 INFO     lbrynet.daemon.Daemon:203: Starting lbrynet-daemon\n2018-07-10 15:22:05,542 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-07-10 15:22:05,677 INFO     lbrynet.daemon.Daemon:232: Platform: {\"lbrynet_version\": \"0.20.3\", \"platform\": \"Windows-10-10.0.15063\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.3\", \"ip\": \"47.17.162.103\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\", \"build\": \"qa\"}\n2018-07-10 15:22:05,678 INFO     lbrynet.daemon.Components:94: Loading databases\n2018-07-10 15:22:05,680 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\thoma\\AppData\\Roaming\\lbrynet\\lbrynet.sqlite\n2018-07-10 15:22:05,700 WARNING  lbrynet.daemon.Components:496: UPnP failed. Reason: ConflictInMappingEntry\n2018-07-10 15:22:05,701 INFO     lbrynet.daemon.Components:160: Using lbryum wallet\n2018-07-10 15:22:06,033 INFO     lbrynet.dht.protocol:202: DHT listening on UDP 47.17.162.103:3333\n2018-07-10 15:22:06,105 INFO     lbrynet.dht.node:247: Attempting to join the DHT network, 0 contacts known so far\n2018-07-10 15:22:06,335 INFO     lbrynet.core.Wallet:157: lbryumx2.lbry.io:50001 height: 400947, local height: 400947\n2018-07-10 15:22:06,336 INFO     lbrynet.core.Wallet:196: Starting wallet.\n2018-07-10 15:22:06,438 INFO     lbrynet.core.Wallet:984: Loading the wallet\n2018-07-10 15:22:08,525 WARNING  lbrynet.core.Wallet:1067: Your wallet is excessively large (3045 addresses), please follow instructions here: https://github.com/lbryio/lbry/issues/437 to reduce your wallet size\n2018-07-10 15:22:11,190 INFO     lbrynet.core.Wallet:1082: Local Height: 400947, remote height: 400948, behind: 1\n2018-07-10 15:22:12,684 INFO     lbrynet.core.Wallet:1082: Local Height: 400948, remote height: 400948, behind: 0\n2018-07-10 15:22:12,684 INFO     lbrynet.core.Wallet:1090: Wallet Loaded\n2018-07-10 15:22:12,684 INFO     lbrynet.core.Wallet:1007: Subscribing to addresses\n2018-07-10 15:22:13,002 INFO     lbrynet.core.Wallet:1009: Synchronized wallet\n2018-07-10 15:22:13,003 INFO     lbrynet.core.Wallet:1011: Set up lbryum command runner\n2018-07-10 15:22:13,013 INFO     lbrynet.dht.node:247: Attempting to join the DHT network, 9 contacts known so far\n2018-07-10 15:22:19,319 INFO     lbrynet.daemon.Components:252: Joined the dht\n2018-07-10 15:22:19,447 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-07-10 15:22:19,766 INFO     lbrynet.daemon.Components:375: Peer protocol listening on TCP 3333\n2018-07-10 15:22:19,767 INFO     lbrynet.daemon.Components:329: Starting the file manager\n2018-07-10 15:22:20,257 INFO     lbrynet.file_manager.EncryptedFileManager:122: Starting 916 files\n2018-07-10 15:22:20,272 INFO     lbrynet.file_manager.EncryptedFileManager:112: Started 500 files\n2018-07-10 15:22:20,282 INFO     lbrynet.file_manager.EncryptedFileManager:127: Started 916 lbry files\n2018-07-10 15:22:20,283 INFO     lbrynet.file_manager.EncryptedFileManager:47: Started file manager\n2018-07-10 15:22:20,285 INFO     lbrynet.daemon.Components:332: Done setting up file manager\n2018-07-10 15:22:20,296 INFO     lbrynet.daemon.Daemon:219: Starting balance: 767.51918205\n2018-07-10 15:22:20,298 INFO     lbrynet.daemon.Daemon:221: Started lbrynet-daemon\n2018-07-10 15:22:20,905 INFO     lbrynet.reflector.client.client:77: No more completed blobs for bafc8dcaecfb8555 to reflect, 3 are still needed\n2018-07-10 15:22:20,924 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 3ce356d96400be5b to reflect, 4 are still needed\n2018-07-10 15:22:20,924 INFO     lbrynet.reflector.client.client:77: No more completed blobs for de6b8f8f7c981715 to reflect, 8 are still needed\n2018-07-10 15:22:21,542 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 1e8bda659de87088 to reflect, 173 are still needed\n2018-07-10 15:22:22,621 INFO     lbrynet.reflector.client.client:77: No more completed blobs for 16fd13e23db4661a to reflect, 859 are still needed\n2018-07-10 15:22:27,588 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:27,588 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:27,589 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 166, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 141, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 61, in _produce_more\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:27,615 WARNING  lbrynet.core.Wallet:1369: A peer failed to send a valid public key response. Error: , peer: 47.17.162.103:3333\n2018-07-10 15:22:27,615 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:27,617 CRITICAL twisted:154: \nConnectionClosedBeforeResponseError\n2018-07-10 15:22:27,801 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob 34694830635750692d877580a1aabfcf757e71a26c65e62e907bc05ddbaaa404fe968062e5133191d32d3d0f1973b61c: Invalid padding bytes.\n2018-07-10 15:22:28,111 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob 2f87112c765f32baf8ec99b8379e850387a4596df832a7897377f998cf6f98f80413460a6a46766ba0081cf1a547cde6: Invalid padding bytes.\n2018-07-10 15:22:28,917 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob bfe5f644d0af2c4a4bc3ec04a9b5260e2625a64b608bfef2819df6e81268567e0c2b35f52e710088db9d211ef8094328: Invalid padding bytes.\n2018-07-10 15:22:37,180 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:37,180 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:37,181 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 166, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 141, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 61, in _produce_more\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:37,207 WARNING  lbrynet.core.Wallet:1369: A peer failed to send a valid public key response. Error: , peer: 47.17.162.103:3333\n2018-07-10 15:22:37,207 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:37,207 CRITICAL twisted:154: \nConnectionClosedBeforeResponseError\n2018-07-10 15:22:39,611 WARNING  lbrynet.core.client.StreamProgressManager:158: Error outputting blob c025ca07aa5b9a68a1bc878de04791f6e2bd9c6436452df03940e51e51a11834220a5594bfc8fdb4011f96be1f702273: Invalid padding bytes.\n2018-07-10 15:22:46,188 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:46,190 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:46,190 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 166, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 141, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 61, in _produce_more\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:46,194 WARNING  lbrynet.core.Wallet:1369: A peer failed to send a valid public key response. Error: , peer: 47.17.162.103:3333\n2018-07-10 15:22:46,194 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:46,194 CRITICAL twisted:154: \nConnectionClosedBeforeResponseError\n2018-07-10 15:22:50,696 WARNING  lbrynet.dht.peerfinder:54: DHT timed out while looking peers for blob bcd8ec5861ebe403aa566e5566932daf15a5823dc2f0ed66403db7c9f36efcea405a5663c1e4e489c52fabc9f0ac30ce after 30 seconds.\n2018-07-10 15:22:55,220 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:55,220 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:55,220 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 166, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 141, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 61, in _produce_more\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-10 15:22:55,223 WARNING  lbrynet.core.Wallet:1369: A peer failed to send a valid public key response. Error: , peer: 47.17.162.103:3333\n2018-07-10 15:22:55,224 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:22:55,224 CRITICAL twisted:154: \nConnectionClosedBeforeResponseError\n2018-07-10 15:23:04,289 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\n2018-07-10 15:23:04,289 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:23:04,290 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 651, in _runCallbacks\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 166, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 141, in send_response\n  File \"site-packages\\lbrynet\\core\\server\\ServerRequestHandler.py\", line 61, in _produce_more\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-10 15:23:04,302 WARNING  lbrynet.core.Wallet:1369: A peer failed to send a valid public key response. Error: , peer: 47.17.162.103:3333\n2018-07-10 15:23:04,303 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-10 15:23:04,305 CRITICAL twisted:154: \nConnectionClosedBeforeResponseError\n. This no longer fails, but you still get the error below. Tried announcing a blob and it doesn't, which is good.\nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Component.py\", line 63, in _setup\nValueError: DeferredSemaphore requires tokens >= 1\n```. hey @whatbatman, thanks for taking a look at this! See https://gist.github.com/Chaser324/ce0505fbed06b947d962 on how to make a PR from a forked repo. Let us know if you have any questions. . @whatbatman any updates? Looking forward to see a contribution from you :)\nLet us know if we can help any further. . @akinwale, do you need both https://github.com/lbryio/lbry/issues/1295 and  https://github.com/lbryio/lbry/issues/1297 for your Android daemon builds too? . @andrenogj I don't believe so, she's all yours! Let us know if you have any questions. Thanks for taking a look, great to see another contributor on LBRY :). Yep, we know that, but others may not :) . @andrenogj were you still planning to work on this? Looking forward to your contribution :). @eukreign can you fix this on your end? @Invariant-Change is not running pycharm/python IDE, this was a simple text change via the IDE. . @Invariant-Change please keep the changelog in the same PR as the original. Also, there should be an unreleased section of the changelog that the entry needs to go into. . https://github.com/lbryio/lbry/issues/1171 is also related. . @shyba briefly looked into metabase/segment data and we do have the failure reason, so we can separate the data into true DHT related issues via other get failures (not being able to write file to disk/etc). The latter would most likely go into a separate card to track for support purposes. . First take is completed on http://traction.lbry.io/question/114\nThis makes sure only to take into account DHT related failures and uses correct denominator for attempts (only those we knew failed/succeeded). \nNext step is to limit the impact a single user can have on the metrics. \nAlso detailed non-DHT related errors in : http://traction.lbry.io/question/116. Closed via https://github.com/lbryio/lbry/pull/1299. @nikooo777 per our discussion today, it should try to reflect them again at this interval, unless disabled: https://github.com/lbryio/lbry/blob/09f637496cc2e7cf7e73c47dbf3ffe994f87e1d2/lbrynet/conf.py#L292 . Seeing this on my node when connecting to spee.ch staging:\n2018-07-29 08:51:02,108 ERROR    lbrynet.dht.protocol:267: DHT RECV REMOTE EXCEPTION FROM 34.232.52.151:4444: Cannot bencode '<class 'bytearray'>' object\n2018-07-29 08:51:02,118 ERROR    lbrynet.dht.node:327: Unexpected error while storing blob_hash 88584c4e656cf93ea64d73245a1b22b8497ecd0bb119d4c07d2a37febc0446f03359b18251faa91f953c3dcb103626a2 at <lbrynet.dht.contact._Contact object; IP address: 34.232.52.151, UDP port: 4444>: Cannot bencode '<class 'bytearray'>' object. @DrAlta thanks for opening this and the discussion on Discord. Based on what you were looking for, I don't think this fits in with how the LBRY protocol/bidding system was designed to work. Claim supports are possible using the https://lbryio.github.io/lbry/cli/#Claim_new_support call, but they are specific to a claim ID, and not just a name.\nNames are intended not to be unique, giving users the option to bid on vanity URLs with the option of using a claim modifier for uniqueness. See https://lbry.io/faq/naming\nPer our discussion, the use case you were looking for is closing to a claim playlist/aliasing feature. Something similar was filed on the app https://github.com/lbryio/lbry-desktop/issues/619 and I'll follow up with the required issue on this repository. . 2nd time this has happened to me - this time my PC restart during an announcement (not sure if related):\n2018-10-31 23:43:05,750 INFO     lbrynet.dht.hashannouncer:60: Announcing 3 blobs\n2018-10-31 23:43:18,493 INFO     lbrynet.dht.hashannouncer:78: Took 12.742000103 seconds to announce 3 of 3 attempted hashes (0.000000 hashes per second)\n2018-10-31 23:47:21,506 INFO     lbrynet.daemon.DaemonControl:84: Starting lbrynet-daemon from command line\n2018-10-31 23:47:22,852 INFO     lbrynet.daemon.auth.factory:36: Using non-authenticated API\n2018-10-31 23:47:22,854 INFO     lbrynet.daemon.auth.server:223: lbrynet API listening on TCP localhost:5279\n2018-10-31 23:47:22,854 INFO     lbrynet.daemon.Daemon:235: Starting lbrynet-daemon\n2018-10-31 23:47:22,950 INFO     lbrynet.daemon.Daemon:236: Platform: {\"lbrynet_version\": \"0.21.2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"24.184.108.248\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\", \"build\": \"release\"}\n2018-10-31 23:47:23,457 INFO     lbrynet.daemon.Components:127: Loading databases\n2018-10-31 23:47:23,460 INFO     lbrynet.database.storage:174: connecting to database: C:\\Users\\HTPC\\AppData\\Local\\lbry\\lbrynet\\lbrynet.sqlite\n2018-10-31 23:47:23,461 INFO     lbrynet.daemon.ExchangeRateManager:217: Starting exchange rate manager\n2018-10-31 23:47:23,525 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2018-10-31 23:47:23,798 INFO     lbrynet.daemon.Components:259: lbryumx1.lbry.io:50001 height: 462272, local height: 462272\n2018-10-31 23:47:24,013 INFO     lbrynet.daemon.Components:259: lbryumx2.lbry.io:50001 height: 462272, local height: 462272\n2018-10-31 23:47:24,634 WARNING  lbrynet.daemon.Components:692: failed to set up redirect with txupnp, miniupnpc fallback was successful\n2018-10-31 23:47:24,657 INFO     lbrynet.dht.protocol:204: DHT listening on UDP 4447 (ext port 4447)\n2018-10-31 23:47:24,658 INFO     lbrynet.daemon.Components:417: Started the dht\n2018-10-31 23:47:24,660 INFO     lbrynet.core.Wallet:92: Starting wallet.\n2018-10-31 23:47:24,839 INFO     lbrynet.core.Wallet:880: Loading the wallet\n2018-10-31 23:47:25,657 INFO     lbrynet.core.Wallet:965: Wallet has 215 addresses\n2018-10-31 23:47:25,720 INFO     lbrynet.dht.node:250: Attempting to join the DHT network, 0 contacts known so far\n2018-10-31 23:47:26,003 INFO     lbrynet.core.Wallet:978: Local Height: 462272, remote height: 462272, behind: 0\n2018-10-31 23:47:26,003 INFO     lbrynet.core.Wallet:986: Wallet Loaded\n2018-10-31 23:47:26,003 INFO     lbrynet.core.Wallet:903: Subscribing to addresses\n2018-10-31 23:47:26,206 INFO     lbrynet.core.Wallet:905: Synchronized wallet\n2018-10-31 23:47:26,207 INFO     lbrynet.core.Wallet:907: Set up lbryum command runner\n2018-10-31 23:47:26,979 INFO     lbrynet.daemon.Daemon:772: Get version info: {\"lbrynet_version\": \"0.21.2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"24.184.108.248\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\", \"build\": \"release\"}\n2018-10-31 23:47:26,980 INFO     lbrynet.dht.hashannouncer:60: Announcing 4 blobs\n2018-10-31 23:47:27,256 INFO     lbrynet.daemon.Components:602: Peer protocol listening on TCP 3336 (ext port 3336)\n2018-10-31 23:47:27,257 INFO     lbrynet.daemon.Components:555: Starting the file manager\n2018-10-31 23:47:27,298 ERROR    lbrynet.daemon.Component:62: Error setting up file_manager\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Component.py\", line 56, in _setup\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Components.py\", line 558, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\file_manager\\EncryptedFileManager.py\", line 48, in setup\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\file_manager\\EncryptedFileManager.py\", line 122, in _start_lbry_files\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\database\\storage.py\", line 766, in get_claims_from_stream_hashes\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 246, in inContext\n  File \"site-packages\\twisted\\python\\threadpool.py\", line 262, in <lambda>\n  File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\n  File \"site-packages\\twisted\\python\\context.py\", line 81, in callWithContext\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 477, in _runInteraction\n  File \"site-packages\\twisted\\enterprise\\adbapi.py\", line 467, in _runInteraction\n  File \"site-packages\\lbrynet\\database\\storage.py\", line 745, in _batch_get_claim\nOperationalError: too many SQL variables\n2018-10-31 23:47:27,315 INFO     lbrynet.daemon.Daemon:238: Started lbrynet-daemon\n2018-10-31 23:47:27,334 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-10-31 23:47:27,334 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\Component.py\", line 63, in _setup\nOperationalError: too many SQL variables\n2018-10-31 23:47:27,602 INFO     lbrynet.daemon.Daemon:772: Get version info: {\"lbrynet_version\": \"0.21.2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.4\", \"ip\": \"24.184.108.248\", \"lbryschema_version\": \"0.0.16\", \"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\", \"build\": \"release\"}\n2018-10-31 23:47:30,634 INFO     lbrynet.dht.node:250: Attempting to join the DHT network, 19 contacts known so far\n2018-10-31 23:47:35,219 INFO     lbrynet.daemon.Components:416: Joined the dht\n. Not sure how that happened, this is a duplicate of: https://github.com/lbryio/lbry/issues/1341. @nikooo777 can you see if 0.21 rc4 reverts to miniupnpc for you and that upnp ports are mapped? . Fixed in 1349. Here's an example of this in action with blob mirroring below. Blobl  05a5c9bc781c5310  (blob 3) is downloaded before blobs 1 and 2. Not sure if it was written to the output file before hand, but based on the anaylsis @jackrobison did before, it's possible. \nblob data:\n\"blobs\": [{\"length\": 2097152, \"blob_num\": 0, \"blob_hash\": \"db03b8161a1aecd4d04b730891bd44ec4b56897f8add5d7409b8da2cb6ec758e56b21ca28214da83fbdb73bef5c30fd4\", \"iv\": \"838d37749d8a3cda38f9cc751ee08904\"}, {\"length\": 2097152, \"blob_num\": 1, \"blob_hash\": \"f4138a6d2e96eb21ba3ae2bfee803e8c28d13a58938f12872dc2096d137de4cfc149e580e883a0c1dc6221c3760402c5\", \"iv\": \"27d9f201f6708f0fc6809ee902a673a8\"}, {\"length\": 2097152, \"blob_num\": 2, \"blob_hash\": \"05a5c9bc781c53100027bf39fcfd7fd947bf29e1a6d70b5c97e0cc570162398683e8996f6f9edcfecedde15fa8951386\", \"iv\": \"29c66d18156a5b26220e08a9bc38ea6c\"}, {\"length\": 2097152, \"blob_num\": 3, \"blob_hash\":\ndownload: \n2018-08-14 11:23:57,594 INFO     lbrynet.daemon.Downloader:96: Download lbry://bloodstained-curse-of-the-moon-review status changed to initializing\n2018-08-14 11:23:57,595 INFO     lbrynet.daemon.Downloader:96: Download lbry://bloodstained-curse-of-the-moon-review status changed to downloading_metadata\n2018-08-14 11:23:57,746 INFO     lbrynet.core.HTTPBlobDownloader:70: Mirror completed download for 6fc2cb3ac504fc9628157fc7d58c4437705420c76b79d91409b71628911d57eb22a1c7dac4ee6d680672219629d4276e\n2018-08-14 11:23:58,851 INFO     lbrynet.daemon.Downloader:191: Downloading lbry://bloodstained-curse-of-the-moon-review (6fc2cb) --> C:\\Users\\SoloDolo\\Downloads\\lbry downloadstest\\bloodstained-curse-of-the-moon.mp4\n2018-08-14 11:23:58,852 INFO     lbrynet.daemon.Downloader:96: Download lbry://bloodstained-curse-of-the-moon-review status changed to running\n2018-08-14 11:23:59,424 INFO     lbrynet.core.client.BlobRequester:417: Offered rate 0.000000/mb accepted by 35.153.147.111\n2018-08-14 11:23:59,427 INFO     lbrynet.core.client.BlobRequester:490: Requesting blob 05a5c9bc781c53100027bf39fcfd7fd947bf29e1a6d70b5c97e0cc570162398683e8996f6f9edcfecedde15fa8951386 from 35.153.147.111:3333\n2018-08-14 11:23:59,812 INFO     lbrynet.core.client.BlobRequester:566: Blob 05a5c9bc781c5310 has been successfully downloaded from 35.153.147.111:3333\n2018-08-14 11:24:00,739 INFO     lbrynet.core.client.BlobRequester:490: Requesting blob 4ac95ff9cbfe2975361bdd69c6939e7de35c77ba4bb39cfedea9b654ea7b4f79f0b32b330942bb63052ba37b144dab3e from 35.153.147.111:3333\n2018-08-14 11:24:00,801 INFO     lbrynet.daemon.Daemon:2348: Got unused wallet address: bKkaKq4Diu2kmykjZKJBZGnXiRHZXznR7i\n2018-08-14 11:24:01,038 INFO     lbrynet.core.client.BlobRequester:566: Blob 4ac95ff9cbfe2975 has been successfully downloaded from 35.153.147.111:3333\n2018-08-14 11:24:01,043 INFO     lbrynet.core.client.BlobRequester:490: Requesting blob 8756528132976fd2366fe0f9b37eb5642097616afc18c8a8225ca600308dc6ddf5927bc691f2a513a46060bc5caf0a89 from 35.153.147.111:3333\n2018-08-14 11:24:01,135 INFO     lbrynet.core.HTTPBlobDownloader:70: Mirror completed download for db03b8161a1aecd4d04b730891bd44ec4b56897f8add5d7409b8da2cb6ec758e56b21ca28214da83fbdb73bef5c30fd4. This get call resulted in the \"waiting for metadata scenario\". Notice blobs completed is 1 but the written bytes are 0. \n{\n  \"id\": 1536453109686,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"blobs_completed\": 1,\n    \"blobs_in_stream\": 179,\n    \"channel_claim_id\": null,\n    \"channel_name\": null,\n    \"claim_id\": \"8243646e853eeae4977b6fe055fc765f602b37ae\",\n    \"claim_name\": \"what-cryptocurrency-to-buy-in-the-bear\",\n    \"completed\": false,\n    \"file_name\": \"what-cryptocurrency-to-buy-in.mp4\",\n    \"total_bytes\": 375178592,\n    \"txid\": \"9a32a1d190f195b7e40e3bef3b899a0d7171268e9043557bcf0d22f7a300257d\",\n    \"written_bytes\": 0\n  }\nFollowing file_list call (2 blobs completed, but only 2 MB written. hmm):\n{\n  \"id\": 1536453113240,\n  \"jsonrpc\": \"2.0\",\n  \"result\": [\n    {\n      \"blobs_completed\": 2,\n      \"total_bytes\": 375178592,\n      \"txid\": \"9a32a1d190f195b7e40e3bef3b899a0d7171268e9043557bcf0d22f7a300257d\",\n      \"written_bytes\": 2093056\n    }\n  ]\n}. This is still an issue, @shyba aware. . Discussion from Slack: something to do with claim_address / change_address being blank \nPublish params:\nlbrynet.daemon.Daemon:1835: Publish: {'claim_address': u'', 'channel_id': u'12fb5a1e4c2b6bb75b624951a8a8eab3cc39a446', 'name': u'fr-tww-2-mortal-empires-pisode-79-le-roi', 'claim_dict': {'version': '0_0\n1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {'description': u\"Total War Warhammer 2 Gameplay FR 1080p HD\\r\\n\\r\\nBonjour \\xe0 tous et bienvenu dans ce premier Let's Play sur Total War Warhammer 2 avec le DLC\n Mortal Empires ! Il est enfin TEMPS de se lancer dans la GRANDE CAMPAGNE de conqu\\xeate du monde avec le Roi Sorcier Mal\\xe9kith. Cette campagne sera probablement une des plus longues et des plus difficiles que j'ai jamais jou\\xe9es, do\nnc j'esp\\xe8re que \\xe7a sera bien \\xe9pique !\\r\\n \\r\\n liste des mods utilis\\xe9s : \\r\\n - http://steamcommunity.com/sharedfiles/filedetails/?id=1159029252 \\r\\n - http://steamcommunity.com/sharedfiles/filedetails/?id=1161902443 \\r\\n - h\nttp://steamcommunity.com/sharedfiles/filedetails/?id=1167252881\\r\\n\\r\\nVous pouvez trouver le jeu en suivant le lien suivant : \\r\\n...\\nhttps://www.youtube.com/watch?v=3u619HPiANY\", 'license': u'Copyrighted (contact author)', 'author': u\n\"Jay's\", 'title': u'[FR] TWW 2 - Mortal Empires - \\xc9pisode 79 - Le Roi Sorcier de Naggarond', 'language': u'en', 'version': '_0_1_0', 'thumbnail': u'https://berk.ninja/thumbnails/3u619HPiANY'}}}, 'channel_name': None, 'bid': Decimal('0\n.01'), 'file_path': u'/tmp/ytsync602943739/3u619HPiANY/fr-tww-2-mortal-empires-pisode.mp4', 'change_address': u''}\n```. Fixed in https://github.com/lbryio/lbry/commit/fe43764bcb64e759b22a4e9e6547d58ea22374a3. Have not seen this in a while, closing. I mentioned to @jackrobison that this would be good to get into a patch release, with any other smaller fixes we may have. The app team is planning to get a release out on Thursday, so we'd need to ready by Wednesday afternoon the latest.  . A community member recently ran into this issue on a few files he was trying to upload. \n2018-09-16 23:43:30,543 INFO     lbrynet.daemon.Daemon:377: Success! Published to lbry://lbrymeetup-feedback txid: a6ca9bc71150af64c062393f7a4719ffea40c7867bfd34955331a0e237cd6903 nout: 0\n2018-09-16 23:43:31,743 INFO     lbrynet.reflector.client.client:132: Reflector needs descriptor and 134 blobs for stream\n2018-09-16 23:43:39,249 INFO     lbrynet.reflector.client.client:221: Sent reflector descriptor dfd1c6fbaa912b2e\n2018-09-16 23:43:57,782 INFO     lbrynet.dht.hashannouncer:55: Announced 144/147 blobs, 0.010042 blobs per second\n2018-09-16 23:44:09,706 WARNING  lbrynet.reflector.client.client:249: Reflector failed to receive blob 0bb31804a9b780c8\n2018-09-16 23:44:09,707 INFO     lbrynet.reflector.client.client:74: Reflector has all blobs for dfd1c6fbaa912b2e. @Invariant-Change also ran into this bug. It's pretty bad UX wise and can happen fairly often for frequent publishers. . My shot with https://github.com/lbryio/lbry/pull/1760 didn't work, it still tries to download to the original location (not sure where it's getting this from). The file_list does show the default download directory. . This is now fixed in 0.31 :). What was it replaced with? Can I still tell if a stream is available before downloading?. The trouble with approach #1 is that you don't know if someone is just creating a channel or if they are creating a channel + publishing right after. Both are valid scenarios. Would you delay the channel broadcast and wait for a publish to come in? Sounds like you can still run into the same problem.... Any updates on this? . This is the app side issue:  https://github.com/lbryio/lbry-desktop/issues/1078 \nGetting this error when making the call:\n```\n018-08-30 18:28:24,047 WARNING  lbrynet.daemon.auth.server:312: error processing api request: module 'urllib' has no attribute 'quote_plus'\ntraceback:   File \"twisted\\internet\\defer.py\", line 654, in _runCallbacks\nFile \"lbrynet\\daemon\\auth\\server.py\", line 93, in trap\nFile \"twisted\\python\\failure.py\", line 439, in trap\nFile \"twisted\\python\\failure.py\", line 467, in raiseException\nFile \"twisted\\internet\\defer.py\", line 151, in maybeDeferred\nFile \"lbrynet\\daemon\\Daemon.py\", line 799, in jsonrpc_report_bug\nFile \"lbrynet\\daemon\\Daemon.py\", line 3325, in report_bug_to_slack\nFile \"lbrynet\\daemon\\Daemon.py\", line 3312, in get_loggly_query_string\nFile \"lbrynet\\daemon\\Daemon.py\", line 3303, in loggly_time_string\nbuiltins.AttributeError: module 'urllib' has no attribute 'quote_plus'\n. These are not critical, but since these 2 commands are not currently working, we should consider fixing them sooner than later. . Error:\nC:\\Users\\xxxxxx\\Desktop\\latest daemon>lbrynet claim_send_to_address --claim_id=9a1e3e6d009f167ca988265dd32492fe1790b994 --address=bWEqvtgELVomPuVHnoA2k3oM5ygyL3qfuQ\n{\n  \"code\": -32500,\n  \"data\": [\n    \"  File \\\"twisted\\internet\\defer.py\\\", line 654, in _runCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet\\daemon\\auth\\server.py\\\", line 93, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\python\\failure.py\\\", line 439, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\python\\failure.py\\\", line 467, in raiseException\",\n    \"    \",\n    \"  File \\\"lbrynet\\daemon\\auth\\server.py\\\", line 154, in _inner\",\n    \"    \",\n    \"  File \\\"twisted\\internet\\defer.py\\\", line 1418, in _inlineCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet\\daemon\\Daemon.py\\\", line 2510, in jsonrpc_claim_send_to_address\",\n    \"    \",\n    \"builtins.AttributeError: 'LbryWalletManager' object has no attribute 'send_claim_to_address'\"\n  ],\n  \"message\": \"'LbryWalletManager' object has no attribute 'send_claim_to_address'\"\n}\n```\nLooks like it may be related to the error in https://github.com/lbryio/lbry/issues/1400 (@shyba ). This is still an issue:\nlbrynet claim_send_to_address --claim_id=51da79ece0ca2aba92d4c50c54a4e18ba95b5e07 --address=bGHPS3vad69NZvQ2Tt63mDFKcuxPEMML7f\n{\n  \"code\": -32500,\n  \"data\": [\n    \"  File \\\"twisted\\\\internet\\\\defer.py\\\", line 654, in _runCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet\\\\extras\\\\daemon\\\\auth\\\\server.py\\\", line 95, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\\\python\\\\failure.py\\\", line 439, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\\\python\\\\failure.py\\\", line 467, in raiseException\",\n    \"    \",\n    \"  File \\\"twisted\\\\internet\\\\defer.py\\\", line 824, in adapt\",\n    \"    \",\n    \"  File \\\"lbrynet\\\\extras\\\\wallet\\\\manager.py\\\", line 249, in send_claim_to_address\",\n    \"    \",\n    \"builtins.AttributeError: 'OutputScript' object has no attribute 'value'\"\n  ],\n  \"message\": \"'OutputScript' object has no attribute 'value'\". Related: https://github.com/lbryio/lbry/issues/1387. {\n  \"code\": -32500,\n  \"data\": [\n    \"  File \\\"twisted\\\\internet\\\\defer.py\\\", line 654, in _runCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet\\\\daemon\\\\auth\\\\server.py\\\", line 94, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\\\python\\\\failure.py\\\", line 439, in trap\",\n    \"    \",\n    \"  File \\\"twisted\\\\python\\\\failure.py\\\", line 467, in raiseException\",\n    \"    \",\n    \"  File \\\"twisted\\\\internet\\\\defer.py\\\", line 1416, in _inlineCallbacks\",\n    \"    \",\n    \"  File \\\"twisted\\\\python\\\\failure.py\\\", line 491, in throwExceptionIntoGenerator\",\n    \"    \",\n    \"  File \\\"lbrynet\\\\daemon\\\\auth\\\\server.py\\\", line 155, in _inner\",\n    \"    \",\n    \"  File \\\"twisted\\\\internet\\\\defer.py\\\", line 1418, in _inlineCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet\\\\daemon\\\\Daemon.py\\\", line 3214, in jsonrpc_stream_availability\",\n    \"    \",\n    \"builtins.KeyError: 'mantekka-ascend'\"\n  ],\n  \"message\": \"'mantekka-ascend'\". Reoping to make this this is fixed:\nTraceback (most recent call last):\n  File \"site-packages\\aiohttp\\web_protocol.py\", line 418, in start\n  File \"site-packages\\aiohttp\\web_app.py\", line 458, in _handle\n  File \"lbrynet\\extras\\daemon\\Daemon.py\", line 507, in handle_old_jsonrpc\n  File \"lbrynet\\extras\\daemon\\Daemon.py\", line 3513, in jsonrpc_stream_availability\nKeyError: 'one'. I think this issue should be moved back to lbry-app. Even if the price between resolve/get calls is fixed, the issue on the app side is that the price loads once when the content page loads, and then again when the get call happens - this is either normal or the UX needs to be improved to show that the price updated  (due to exchange rates) during the time the claim was opened. . Issue moved to lbryio/lbry-desktop #1971 via ZenHub\n. @kauffj Isn't this issue already covered under https://github.com/lbryio/lbry/issues/1197 on the daemon side? . Can this be extended to support https://github.com/lbryio/lbry/issues/1342 ? Is there any reason we wouldn't want to wait until the first blob is downloaded before the output file is written? . Also, see https://github.com/lbryio/lbry/issues/854. Tested this for Jack briefly and it works as expected. . @asddsaz thanks for opening this issue! I don't think we'll be tackling this anytime soon as the goal of LBRY is to build upon current/popular internet infrastructure, but if there are any community members that would like to take this one, we'll leave this issue open. . @geekodour this may not be a good fit for you as this codebase is in python, but this would must likely require some good understanding of how our current P2P layer works as well as I2P. . Happened at 1:07 PM today, running master from last night:\nhttps://gist.github.com/tzarebczan/52bbc5b4a520f491ac9d38b9c656cbf5. and another one on rc2:\nhttps://gist.github.com/tzarebczan/a68c6fd0a918d3180192ceb302516c48. Another: https://gist.github.com/tzarebczan/35850adca769b3618aae42743ed01f19. I'm confused as to what this is. We closed https://github.com/lbryio/lbry/issues/1045 as there is now a way in torba to show what the fees are. @eukreign is it possible to separate out tx fees + claim fees? Not sure if we'd want to show these separately or not. . spee.ch is also reporting my node with a similar error:\n2018-09-19 12:43:52,492 ERROR    lbrynet.dht.protocol:272: DHT RECV REMOTE EXCEPTION FROM 47.17.162.103:62166: b'Invalid token'\n2018-09-19 12:43:52,493 ERROR    lbrynet.dht.node:319: Unexpected error while storing blob_hash b'223f788d8231bdd8a9959afa31a212e775d42194f339d2a4822af884da182f1ed6aa4d271e12a4d27572631372741e0c' at <lbrynet.dht.contact._Contact object; IP address: 47.17.162.xxx, UDP port: 62166>: b'Invalid token'\n2018-09-19 12:43:52,825 ERROR    lbrynet.dht.protocol:272: DHT RECV REMOTE EXCEPTION FROM 47.17.162.103:4444: b'Invalid token'\n2018-09-19 12:43:52,825 ERROR    lbrynet.dht.node:319: Unexpected error while storing blob_hash b'223f788d8231bdd8a9959afa31a212e775d42194f339d2a4822af884da182f1ed6aa4d271e12a4d27572631372741e0c' at <lbrynet.dht.contact._Contact object; IP address: 47.17.162.xxx, UDP port: 4444>: b'Invalid token'\n2018-09-19 12:43:55,180 ERROR    lbrynet.dht.protocol:272: DHT RECV REMOTE EXCEPTION FROM 47.17.162.103:62166: b'Invalid token'\n2018-09-19 12:43:55,181 ERROR    lbrynet.dht.node:319: Unexpected error while storing blob_hash b'27f465874914fe44331ef38b16d81ec1906ef62502e83a5bbf8ac8c29f079e567890a766df494c530faa389c19c166fb' at <lbrynet.dht.contact._Contact object; IP address: 47.17.162.xxx, UDP port: 62166>: b'Invalid token'\n2018-09-19 12:43:55,270 ERROR    lbrynet.dht.protocol:272: DHT RECV REMOTE EXCEPTION FROM 47.17.162.103:4444: b'Invalid token'\n2018-09-19 12:43:55,270 ERROR    lbrynet.dht.node:319: Unexpected error while storing blob_hash b'27f465874914fe44331ef38b16d81ec1906ef62502e83a5bbf8ac8c29f079e567890a766df494c530faa389c19c166fb' at <lbrynet.dht.contact._Contact object; IP address: 47.17.162.xxx, UDP port: 4444>: b'Invalid token'\n2018-09-19 12:43:55,276 ERROR    lbrynet.dht.protocol:272: DHT RECV REMOTE EXCEPTION FROM 47.17.162.103:62590: b'Invalid token'\n2018-09-19 12:43:55,277 ERROR    lbrynet.dht.node:319: Unexpected error while storing blob_hash b'27f465874914fe44331ef38b16d81ec1906ef62502e83a5bbf8ac8c29f079e567890a766df494c530faa389c19c166fb' at <lbrynet.dht.contact._Contact object; IP address: 47.17.162.xxx, UDP port: 62590>: b'Invalid token'. A recent run: \nhttps://gist.github.com/tzarebczan/2b850dc3d1a22ac1ec43e8cbc2650934\nStill not sure if these are causing any issues, hard to tell from my perspective. . Going to keep this open until more nodes are running 0.30 so we can tell if there's an improvement. . @shyba saw a bunch recently on my node:\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:40:48,766 ERROR    lbrynet.dht.protocol:425: error handling request for 34.226.30.189:60212 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:40:56,247 ERROR    lbrynet.dht.protocol:425: error handling request for 54.209.131.62:61056 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:40:56,856 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:00,039 ERROR    lbrynet.dht.protocol:425: error handling request for 54.209.131.62:61056 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:10,004 ERROR    lbrynet.dht.protocol:425: error handling request for 54.209.131.62:61056 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:24,314 ERROR    lbrynet.dht.protocol:425: error handling request for 54.209.131.62:61056 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:24,575 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:28,718 ERROR    lbrynet.dht.protocol:425: error handling request for 54.209.131.62:4444 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:40,962 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:41:59,408 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:42:04,116 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token\n2018-11-06 07:42:06,540 ERROR    lbrynet.dht.protocol:425: error handling request for 35.153.147.111:61066 b'store'\nTraceback (most recent call last):\n  File \"lbrynet\\dht\\protocol.py\", line 421, in _handleRPC\n  File \"lbrynet\\dht\\node.py\", line 498, in store\nValueError: Invalid token. Reopening - we are missing the balance. I let @shyba know about this. It can log it after sync is finished, doesn't have to be with the other stats. . @ttkopec , thanks for this contribution! Jak sie masz?!?! \nPlease review our contributing guide if you have not done so already. Also, click here if you are interested in an LBC tip for your work once it is completed :) We'd also add to you to our developer mailing list if you reach out. \n. @ttkopec can you follow up on the above comments, thanks! . We should include these stats as part of this work: https://github.com/lbryio/lbry/issues/1453. FYI, @nikooo777 recently ran through a wallet migration on a wallet in which he ran wallet_new_address and then sent some credits to the new one. His gap had to be changed to 21 on the receiving side. . @42degrees thanks again for filing this issue. The pending claim status in the LBRY app is locally managed and waits until the claim is confirmed on the blockchain (and put into claim_list_mine) in order to update its status. If we were to show pending claims in claim_list_mine, this would need to be reworked to use the new status, but I'm not exactly sure how the protocol devs want to proceed here yet (cc: @jackrobison / @eukreign ). \nYou referenced null/true values for is_committed - did you mean is_pending and false? Do you know the scenario in which this value is null? Does it change to false at any point? . @42degrees in the latest version (0.30+), we've removed the is_pending status and are immediately adding published claims to claim_list_mine with a blockheight of -1 or 0 (based on if it made it to the blockchain mempool) which will then change to 1 one the transaction is confirmed. Closing this issue. . Thanks for opening this! Regarding your question, claim sequence is a way to tell which order a claim was created at a particular name, and a way to reference said claim. So if you were the first one to claim lbry://one, you could always reference your claim as lbry://one:1.  https://lbry.tech/glossary#claim-sequence :). Correct, spee.ch doesn't accept a claim sequence right now as it maintains other short urls using the : modifier. \nThe lbry.tech site should wok now, it was down yesterday. \nHaving gaps is normal if claims are abandoned, so your write up is correct. . Repro from spee.ch. Will send headers via slack.\n2018-09-24 20:58:00,286 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 20:58:08,015 INFO     lbrynet.dht.hashannouncer:78: Took 7.72845400008373 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 20:58:30,290 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 20:58:45,464 INFO     lbrynet.dht.hashannouncer:78: Took 15.173678240040317 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 20:58:55,280 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442179 from starting height 442180\n2018-09-24 20:58:55,283 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442178 from starting height 442180\n2018-09-24 20:58:55,285 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442177 from starting height 442180\n2018-09-24 20:58:55,287 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442176 from starting height 442180\n2018-09-24 20:58:55,293 INFO     torba.baseledger:99: lbc_mainnet: added BlockHeightEvent(height=442190, change=5) header blocks, final height 442190\n2018-09-24 20:59:00,288 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 20:59:18,246 INFO     lbrynet.dht.hashannouncer:78: Took 17.957041719928384 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 20:59:20,849 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442180 from starting height 442181\n2018-09-24 20:59:20,852 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442179 from starting height 442181\n2018-09-24 20:59:20,854 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442178 from starting height 442181\n2018-09-24 20:59:20,856 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442177 from starting height 442181\n2018-09-24 20:59:20,858 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442176 from starting height 442181\n2018-09-24 20:59:20,861 INFO     torba.baseledger:99: lbc_mainnet: added BlockHeightEvent(height=442196, change=6) header blocks, final height 442196\n2018-09-24 20:59:30,347 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 20:59:45,134 INFO     lbrynet.dht.hashannouncer:78: Took 14.786263523856178 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:00:00,287 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:00:17,576 INFO     lbrynet.dht.hashannouncer:78: Took 17.28829016792588 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:01:00,286 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:01:17,330 INFO     lbrynet.dht.hashannouncer:78: Took 17.043278565164655 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:02:30,288 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:02:43,211 INFO     lbrynet.dht.hashannouncer:78: Took 12.923341328045353 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:03:00,289 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:03:08,653 INFO     lbrynet.dht.hashannouncer:78: Took 8.363520846934989 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:03:30,291 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:03:46,657 INFO     lbrynet.dht.hashannouncer:78: Took 16.366241871844977 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:04:00,291 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:04:05,679 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442181 from starting height 442182\n2018-09-24 21:04:05,682 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442180 from starting height 442182\n2018-09-24 21:04:05,684 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442179 from starting height 442182\n2018-09-24 21:04:05,687 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442178 from starting height 442182\n2018-09-24 21:04:05,689 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442177 from starting height 442182\n2018-09-24 21:04:05,691 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442176 from starting height 442182\n2018-09-24 21:04:05,693 INFO     torba.baseledger:99: lbc_mainnet: added BlockHeightEvent(height=442203, change=7) header blocks, final height 442203\n2018-09-24 21:04:15,358 INFO     lbrynet.dht.hashannouncer:78: Took 15.067605959950015 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:05:00,288 INFO     lbrynet.dht.hashannouncer:60: Announcing 4 blobs\n2018-09-24 21:05:12,313 INFO     lbrynet.dht.hashannouncer:78: Took 12.025058912113309 seconds to announce 4 of 4 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:05:30,287 INFO     lbrynet.dht.hashannouncer:60: Announcing 6 blobs\n2018-09-24 21:05:43,382 INFO     lbrynet.dht.hashannouncer:78: Took 13.095127504086122 seconds to announce 6 of 6 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:07:00,285 INFO     lbrynet.dht.hashannouncer:60: Announcing 4 blobs\n2018-09-24 21:07:14,391 INFO     lbrynet.dht.hashannouncer:78: Took 14.106347436085343 seconds to announce 4 of 4 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:07:30,289 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:07:43,821 INFO     lbrynet.dht.hashannouncer:78: Took 13.532227382063866 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:08:00,291 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:08:15,707 INFO     lbrynet.dht.hashannouncer:78: Took 15.415908501949161 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:08:30,290 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:08:43,067 INFO     lbrynet.dht.hashannouncer:78: Took 12.776820456143469 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:09:00,289 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-09-24 21:09:10,658 INFO     lbrynet.dht.hashannouncer:78: Took 10.369193559046835 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\n2018-09-24 21:09:26,942 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442182 from starting height 442183\n2018-09-24 21:09:26,945 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442181 from starting height 442183\n2018-09-24 21:09:26,947 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442180 from starting height 442183\n2018-09-24 21:09:26,949 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442179 from starting height 442183\n2018-09-24 21:09:26,951 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442178 from starting height 442183\n2018-09-24 21:09:26,953 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442177 from starting height 442183\n2018-09-24 21:09:26,956 WARNING  torba.baseledger:285: Blockchain Reorganization: attempting rewind to height 442176 from starting height 442183\n2018-09-24 21:09:26,958 INFO     torba.baseledger:99: lbc_mainnet: added BlockHeightEvent(height=442211, change=8) header blocks, final height 442211. I don't think there is a running balance, but there is an amount field which would show the proper incoming/outgoing amounts (determine if it's positive or negative, determine account amount for claim updates) . Related discussions: https://github.com/lbryio/lbryum/issues/158 / https://github.com/lbryio/lbrycrd/issues/203 - which means this probably goes all the way back to the blockchain layer. \n@seanyesmunt - as a workaround, if the user's claim is returning 0, it means there is another claim (found by resolving the vanity URL) with a higher bid and correct effective amount - this is the bid they would need to beat. In the meantime, we could show their claim bid, not the effective amount, as the current bid (this would work in most situations, besides those that have supports). . @42degrees good point, the resolve call does show the number of claims in a channel, so we should eventually remove that functionality from the claims_list_by_channel command and have it stick to showing claims. The app currently uses claim_list_by_channel to get the claim count, so that will need to be updated. \nI'm not sure about returning the total count with the page calls - this would cause the wallet server to have to \"know\" about all the claims, and not just the ones on the page, which is a more expensive operation. @shyba / @jackrobison might have a better grasp of how that works. . This was updated on the app side to no longer use claim_list_by_channel without a page value (which was used to resolve total # of claims). We are now using resolve to do so. The call/documentation can be simplified now. . Noticed we are also missing height, confirmations, has_signature (need this?), signature_is_valid on claim_list_mine/claim_list. Also missing channel_name on claim_list_mine for claims that have certificates (to be consistent of what was previously available). There also used to be a field called \"decoded_claim\": true. @eukreign said this data will differ from other claim commands since it only comes from the local database - I'd like to discuss this at tomorrow's standup. \nclaim_list still shows raw data currently. I'd expect it to show the same data as resolve, but include a list of claims. . Yes, height represents the block the claim was created/updated in - and confirmations would be calculated as you mentioned. \nBelow is a sample claim_list_mine entry of a claim with a channel - this also had has_signature (if that's redundant, then we should remove it from all claim related commands). signature is valid checks the signature against the public key of the channel - so if the channel public key changed, the signature would be invalid.  This is available on the resolve command. \n```\n{\n    \"address\": \"bHAhxhvRd3fKgkM33cRZRMnxMFc5HjmfQy\",\n    \"amount\": 0.1,\n    \"blocks_to_expiration\": 225655,\n    \"category\": \"claim\",\n    \"channel_name\": \"@MyLBRYChannel\",\n    \"claim_id\": \"b626039cabd667699ff7493daa06085da7fe9482\",\n    \"confirmations\": 37319,\n    \"decoded_claim\": true,\n    \"expiration_height\": 675917,\n    \"expired\": false,\n    \"has_signature\": true,\n    \"height\": 412943,\n    \"is_pending\": false,\n    \"is_spent\": false,\n    \"name\": \"wallpaper\",\n    \"nout\": 0,\n    \"permanent_url\": \"@MyLBRYChannel#0e918739eb10338517c072424aacbee908c33091/wallpaper\",\n    \"signature_is_valid\": true,\n    \"txid\": \"dbf4bcae39fe7566260a6e99ea5af07ede4ec2c12b06d11077a9a6e653f6dd4f\",\n    \"value\": {\n      \"claimType\": \"streamType\",\n      \"publisherSignature\": {\n        \"certificateId\": \"0e918739eb10338517c072424aacbee908c33091\",\n        \"signature\": \"6c6eb854891ad2309328a212b135804947b23d8cdcaaad0ba24e4d20769c9260e9c5176379c11c62287b5f33034076e21d1b51e630154c762402bd75febe5be1\",\n        \"signatureType\": \"SECP256k1\",\n        \"version\": \"_0_0_1\"\n      },\n      \"stream\": {\n        \"metadata\": {\n          \"author\": \"\",\n          \"description\": \"\",\n          \"language\": \"en\",\n          \"license\": \"None\",\n          \"licenseUrl\": \"\",\n          \"nsfw\": false,\n          \"preview\": \"\",\n          \"thumbnail\": \"https://spee.ch/379a67d321a9011c17c773a4df457f556f06a037/UwcoDFPqEsPPvvzqyPjLA82o.jpg\",\n          \"title\": \"Wallpaper\",\n          \"version\": \"_0_1_0\"\n        },\n        \"source\": {\n          \"contentType\": \"image/jpeg\",\n          \"source\": \"5e4b7281c21e344717ccd4d0f49c4b3187db4cd42462412e0d80e68c2f59b8f64121877f0d7fd5d1fdce4617ef970846\",\n          \"sourceType\": \"lbry_sd_hash\",\n          \"version\": \"_0_0_1\"\n        },\n        \"version\": \"_0_0_1\"\n      },\n      \"version\": \"_0_0_1\"\n    }\n  },\n``. We also agreed that @shyba will work on claim_list and pass the calls through a resolve in order to properly validate all claims - please create an issue for the correct way we want to handle this in the future and add a comment in the source. . @eukreign forgot to mention this missing one in the morning: missing channel_name on claim_list_mine for claims that have certificates. Reopening, claim_list still does not have claim data. Let @shyba know via Slack.. So is there a case where the result is empty ? @shyba triedlbry://3mf-file#a1d601047ea9126c9ba8a28eafa57cfa354dedb2` which was a recently abandoned claim, and that worked. . This is fixed.. so far no crashes on my Windows node, will continue running. . Can we get this merged with the next RC also? Seems to fix the stackoverflow issue. . Does this also include vanity URLS? Or it has to include claim id? The vanity URL option might be interesting...you can set up a time locked payment to a vanity URL, announce it publicly and let the bidders go at it.  (edit - realized that wouldn't work as the payment needs to go to an LBC address, which needs to be known at the time of payment). . Tag, you're it! Thanks for stopping by on Discord! \nOur codebase recently went though a python 2.7 > 3 upgrade as well as a new wallet, so the readme may be out of date (should be updated soon!). \nYou'll most likely be looking at adding options to the wallet send and [claim_new_support)(https://lbryio.github.io/lbry/#claim_new_support) commands. \n. Same as https://github.com/lbryio/lbry/issues/1277 ? . Does https://github.com/lbryio/lbry/pull/1508 take care of all the required work for this ticket? . @eukreign, still seeing issues on wallet_send:\n{\"jsonrpc\":\"2.0\",\"method\":\"wallet_send\",\"params\":{\"claim_id\":\"7d3ae777a9afc0430e33d66c4932c40f41784269\",\"amount\":\"0.1\"},\"id\":1539122815431}\n\"builtins.ValueError: Invalid value for 'amount': \",\n      \"Decimal inputs require a value in the ones place and in the tenths place\",\n      \"separated by a period. The value provided, '10000000', is not of the correct\",\n      \"format.\",. @eukreign - the bid shows as dewies in the publish logs too :\n2018-10-10 11:46:47,907 INFO     lbrynet.daemon.Daemon:2329: Publish: {'name': 'test22', 'file_path': 'C:\\\\Users\\\\thoma\\\\Desktop\\\\31bee797cf27cd6b958094ce07121ab8e45746cc8de97124d4684b5696104b28.jpg', 'bid': 10000000, 'claim_address': None, 'change_address': None, 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'metadata': {'title': 'test2', 'nsfw': False, 'license': 'None', 'licenseUrl': '', 'language': 'en', 'thumbnail': '', 'version': '_0_1_0'}, 'version': '_0_0_1'}}, 'channel_id': '', 'channel_name': None}. Key fee payments also show incorrectly:\n2018-10-11 17:24:44,424 INFO     lbrynet.daemon.Downloader:137: Pay key fee 400000000.000000 --> bXJ3x47ZfUkHXouAyruo9Vgape65wSqoQZ. Thanks for the PR! Question: If a user currently has this setting in their daemon_settings.yml, will it clear it out for them? \nCan we send you some LBC in appreciation for your efforts? \n. Maybe not automatically clear out all, but for cases like this where we are removing a setting, it may be worth to avoid confusion. I'll let @jackrobison / @eukreign decide how we should handle this/other cases. . @walidmujahid is this ready to be reviewed again? I re-assigned @eukreign to take a peek. . @shyba we didn't think of this case, definitely want to get this in before release. . Please stop . This is still happening to me a on windows machine on .30.1rc1.  Probably need to decrease the limit again because of parallel runs. @shyba explained this has to do with local sql / python connection and that it varies by OS. . Nevermind, the Issue I actually ran into right before upgrade is https://github.com/lbryio/lbry/issues/1331 - not sure how this happened on a 2nd install for me - seemed to occur after an abrupt restart of my PC (in 1331, it happened after deleting some files).  . Thanks for opening this, appreciate the follow through! . @jackrobison going to bump this up in priority because it created bad UX in the app when a user enters an incorrect password. Since it's not the response we expect, there is no feedback to the user, it just doesn't unlock. . This is back, back again :). @eukreign / @shyba any updates on this one? . Nevermind, think we fixed it. Will reopen if not. . I think we should get this back in before releasing the daemon with the app.  Not many users will run into this, but it's common for a few that participate in the community bidding section. The UX is really poor when this doesn't work  - they need to update the claim twice or abandon it. . Confirmed that this is fixed on the latest builds. . hey @hugovk, thanks for the PR! Can we send you some LBC as appreciation? Were you participating in Hacktoberfest too? . hey @hugovk , thanks for the PR! Can we send you some LBC as appreciation?. @hugovk Thanks for the contribution! Believe I replied in another one of your Prs- but send us an email at hello@lbry.io (mention this PR) and we'll get a form over to you to fill out for the t-shirt :). Hey @gy741, thanks for the contribution and checking out LBRY! Check out our contributing doc here if you haven't already. \nCan we offer you LBC in appreciation for this PR? . Spam. . Closing in favor of https://github.com/lbryio/lbry/issues/1722 . This might be fixed with https://github.com/lbryio/lbry/pull/1644, will let @akinwale confirm once it's running on Android. . Confirmed. . This is fixed in https://github.com/lbryio/lbry/commit/694d1f4f2f90cabcbeff628c28e5ad898c84eaf9 . And it's back again :). Thanks for the PR @czakarian , we'll get a review on this shortly. Can we send you some LBC in appreciation. . @eukreign , I think you fixed this in your latest branch that @seanyesmunt was testing. Closing.... We should look into this for the next RC so that the desktop App and other applications can transform all amount values right now instead of doing only some now and some at a future date. . This was fixed in https://github.com/lbryio/lbry/pull/1685. tested balance checking and it looks good. For other tx_list scenarios, see: https://github.com/lbryio/lbry/issues/1569. This is now fixed - resolve returns a result that the claim id was incorrect. . @eukreign if we don't get this in for the next release, is there a manual method to copy the certificate over from old wallet to new? . Now seeing:\n2018-11-07 09:57:33,628 ERROR    lbrynet.extras.daemon.Component:61: Error setting up file_manager\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 582, in start\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\blob\\EncryptedFileManager.py\", line 47, in setup\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\blob\\EncryptedFileManager.py\", line 121, in _start_lbry_files\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\extras\\daemon\\storage.py\", line 782, in get_claims_from_stream_hashes\n  File \"twisted\\python\\threadpool.py\", line 250, in inContext\n  File \"twisted\\python\\threadpool.py\", line 266, in <lambda>\n  File \"twisted\\python\\context.py\", line 122, in callWithContext\n  File \"twisted\\python\\context.py\", line 85, in callWithContext\n  File \"twisted\\enterprise\\adbapi.py\", line 475, in _runInteraction\n  File \"twisted\\python\\compat.py\", line 463, in reraise\n  File \"twisted\\enterprise\\adbapi.py\", line 465, in _runInteraction\n  File \"lbrynet\\extras\\daemon\\storage.py\", line 779, in _batch_get_claim\nKeyError: 'b1a269aae821d36620b000b017cdff4b85a8b3f89099b5a671d84283bdd603a49872052c3078c9a6b502d857d74a99b0'. Working now, woohoo! . Here's another...probably something due to small amounts: \nhttps://explorer.lbry.io/tx/e3ac25fa491a7b3fd6b5925c21ca4c75b634b2cd4886674aff915d5091e8080e\n{\n    \"abandon_info\": [],\n    \"claim_info\": [],\n    \"confirmations\": 23,\n    \"date\": \"2018-05-14 14:55\",\n    \"fee\": 0.000113,\n    \"support_info\": [],\n    \"timestamp\": 1526324135,\n    \"txid\": \"e3ac25fa491a7b3fd6b5925c21ca4c75b634b2cd4886674aff915d5091e8080e\",\n    \"update_info\": [],\n    \"value\": -0.0001466\n  }. yes it is, adding it to https://github.com/lbryio/lbry/issues/1569. This is fixed in https://github.com/lbryio/lbry/pull/1618 . Tested and this looks good! . Fixed and tested in https://github.com/lbryio/torba/pull/68. Alex, thanks for contributing! Run a lbrynet get lbry://Transformers#7294f487deb056bffa253ebc5c7813e9c48e32c1 command when the dameon is running, that should do it! Looking forward to your first pr!\nBe sure to check out https://lbry.tech/contribute. This was fixed with https://github.com/lbryio/lbry/commit/dd1d1be994fe7b0dd16cda1027494e0e4278b3f2. Reopening..this is an issue after you edit the claim a 2nd time...You run into: https://github.com/lbryio/lbry/blob/master/lbrynet/extras/wallet/transaction.py#L66 but the transaction still goes through\n2019-02-21 09:49:33,186 INFO     lbrynet.extras.daemon.Daemon:2066: Success! Published to lbry://Capture5 txid: 1302845ae7507b9fc747bbb110a6feb8e1e42f5ee2d6cb528ebec7b5ce8453a3 nout: 0\n2019-02-21 09:49:36,886 INFO     torba.client.baseledger:118: (lbc_mainnet) on_transaction: address=bSi6ewvtPPj7v3CDpwmphxkChveBZrCBbK, height=0, is_verified=False, tx.id=1302845ae7507b9fc747bbb110a6feb8e1e42f5ee2d6cb528ebec7b5ce8453a3\n2019-02-21 09:49:36,893 INFO     torba.client.baseledger:118: (lbc_mainnet) on_transaction: address=bMWMyBT2eis9hJavEGeAhsHePaA1qfXQZU, height=0, is_verified=False, tx.id=1302845ae7507b9fc747bbb110a6feb8e1e42f5ee2d6cb528ebec7b5ce8453a3\n2019-02-21 09:49:36,899 INFO     torba.client.baseledger:118: (lbc_mainnet) on_transaction: address=bW3h3qre7TcD9nosc8RrUU12Cey5UEF4G9, height=0, is_verified=False, tx.id=1302845ae7507b9fc747bbb110a6feb8e1e42f5ee2d6cb528ebec7b5ce8453a3\n2019-02-21 09:49:36,904 INFO     torba.client.baseledger:118: (lbc_mainnet) on_transaction: address=bc4N7iD25BuPFi5cRL8MzoxGw3r3eqn6EB, height=0, is_verified=False, tx.id=1302845ae7507b9fc747bbb110a6feb8e1e42f5ee2d6cb528ebec7b5ce8453a3\n2019-02-21 09:52:51,688 WARNING  lbrynet.extras.daemon.Daemon:1929: found 2 claims for the name 5555555\n2019-02-21 09:52:51,688 ERROR    lbrynet.extras.daemon.Daemon:493: error handling api request\nTraceback (most recent call last):\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\extras\\daemon\\Daemon.py\", line 490, in _process_rpc_call\n    result = await result\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\extras\\daemon\\Daemon.py\", line 2010, in jsonrpc_publish\n    claim_dict['stream']['source'] = existing_claims[-1].claim_dict['stream']['source']\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\extras\\wallet\\transaction.py\", line 71, in claim_dict\n    self._claim_dict = self.claim.claim_dict\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\extras\\wallet\\transaction.py\", line 66, in claim\n    raise ValueError('Only claim name and claim update have the claim payload.')\nValueError: Only claim name and claim update have the claim payload.. Another user ran into this error recently. . Chris, please stop asking people to merge things. It's not his responsibility.. I checked the old daemon binary that's signed by the app build process and it also lacks a publisher (but does have icon). I would say at a minimum we should add an icon for this release. . Per discussion with @eukreign , when you run with the blocking parameter, the call never returns. . Opened issue on blockchain side regarding this: https://github.com/lbryio/lbrycrd/issues/242. Discovered small issue resolving vanity urls with invalid signatures, reopening. @shyba aware. . Resolved in https://github.com/lbryio/lbry/pull/1669. We discussed and not worth looking into since the sync code was re-written in the latest version. Will leave open to see if i occurs again. . Addressed in https://github.com/lbryio/lbry/commit/221107e76ee6355bb2f2b314ddb2555d4447b51e\nThe decision was to use xcode 6.4 for now, which affects a smaller number of current users. \nI will be sending users that are directly affected and those that would be affected once we move to xcode8 sometime next year (when Travis stops supporting it). Reopening - now we are seeing issues on some High Sierra macs: illegal instruction: 4 on both xcode 8 and 6.4. It seems to be related to CPU instructions available. Not sure how we can apply something along the lines of this solution yet: https://stackoverflow.com/questions/14268887/what-is-the-illegal-instruction-4-error-and-why-does-mmacosx-version-min-10\nThe other option is to try a higher xcode than 8, but this would again alienate more Mac users. I'll run some stats on how many would be affected. . We decided to go ahead with Xcode8.3 since it doesn't cause any build issues. Anyone on a lower version than 16.5 (Sierra) will not be able to run the app/daemon. I was thinking we could release a community build for these users if they cannot upgrade their OS for some reason. I'll be sending them an email. . Hi, thanks for reaching out! An initial version of this is in the works, but that's not for this particular github repository. \nKeep in touch on our Chat or mailing list to be notified when we have something ready for preview. . @gjhklfdsa sorry for the delay in getting back to you. What do you mean by \"free software\". All software released by LBRY is open source and free. To transact on the network does require LBC in many cases, especially for things like publishing and purchasing content. Free content will be accessible without any LBC. . This is fixed on RC8. Another user ran into the same issue:\n019-01-02 12:29:25,069 INFO     lbrynet.extras.daemon.Components:175: Upgrading your databases (revision 4 to 9)\n2019-01-02 12:29:25,069 INFO     lbrynet.extras.daemon.ExchangeRateManager:212: Starting exchange rate manager\n2019-01-02 12:29:25,105 INFO     lbrynet.p2p.RateLimiter:70: Starting rate limiter.\n2019-01-02 12:29:25,105 INFO     lbrynet.extras.daemon.Components:776: detecting external ip\n2019-01-02 12:29:25,107 INFO     lbrynet.extras.daemon.migrator.migrate4to5:9: Doing the migration\n2019-01-02 12:29:25,321 INFO     lbrynet.extras.daemon.migrator.migrate4to5:11: Migration succeeded\n2019-01-02 12:29:25,321 INFO     lbrynet.extras.daemon.migrator.dbmigrator:30: successfully migrated the database from revision 4 to 5\n2019-01-02 12:29:25,448 INFO     lbrynet.extras.daemon.migrator.migrate5to6:217: migrated 2 blobs\n2019-01-02 12:29:25,449 INFO     lbrynet.extras.daemon.migrator.migrate5to6:267: migrated 0 claims\n2019-01-02 12:29:25,545 ERROR    lbrynet.extras.daemon.Component:61: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 177, in start\n  File \"twisted\\python\\threadpool.py\", line 250, in inContext\n  File \"twisted\\python\\threadpool.py\", line 266, in <lambda>\n  File \"twisted\\python\\context.py\", line 122, in callWithContext\n  File \"twisted\\python\\context.py\", line 85, in callWithContext\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 310, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 80, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 272, in _make_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 80, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 193, in _import_file\nLookupError: 'hex' is not a text encoding; use codecs.encode() to handle arbitrary codecs. And another...we should prioritize this...\n2019-01-08 10:20:19,395 INFO     lbrynet.extras.daemon.migrator.migrate4to5:11: Migration succeeded\n2019-01-08 10:20:19,396 INFO     lbrynet.extras.daemon.migrator.dbmigrator:30: successfully migrated the database from revision 4 to 5\n2019-01-08 10:20:19,638 INFO     lbrynet.extras.daemon.Daemon:823: Get version info: {\"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\", \"python_version\": \"3.7.1\", \"platform\": \"Windows-10-10.0.17134\", \"os_release\": \"10\", \"os_system\": \"Windows\", \"lbrynet_version\": \"0.30.1\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\"}\n2019-01-08 10:20:19,673 INFO     torba.client.basenetwork:74: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n2019-01-08 10:20:19,712 INFO     lbrynet.extras.daemon.migrator.migrate5to6:217: migrated 303 blobs\n2019-01-08 10:20:19,721 INFO     lbrynet.extras.daemon.migrator.migrate5to6:267: migrated 5 claims\n2019-01-08 10:20:19,727 ERROR    lbrynet.extras.daemon.Component:61: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"twisted\\internet\\defer.py\", line 1416, in _inlineCallbacks\n  File \"twisted\\python\\failure.py\", line 491, in throwExceptionIntoGenerator\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 177, in start\n  File \"twisted\\python\\threadpool.py\", line 250, in inContext\n  File \"twisted\\python\\threadpool.py\", line 266, in <lambda>\n  File \"twisted\\python\\context.py\", line 122, in callWithContext\n  File \"twisted\\python\\context.py\", line 85, in callWithContext\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 310, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 80, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 272, in _make_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 80, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 193, in _import_file\nLookupError: 'hex' is not a text encoding; use codecs.encode() to handle arbitrary codecs. Still a problem, but now with a new error. Will DM you the files to reproduce. \n19-01-09 15:01:22,666 INFO     lbrynet.extras.daemon.migrator.migrate5to6:216: migrated 15386 blobs\n2019-01-09 15:01:22,825 INFO     lbrynet.extras.daemon.migrator.migrate5to6:266: migrated 115 claims\n2019-01-09 15:01:22,834 ERROR    lbrynet.extras.daemon.Component:60: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 54, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 122, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 309, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 79, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 271, in _make_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 79, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 192, in _import_file\nTypeError: a bytes-like object is required, not 'str'\n2019-01-09 15:01:22,852 ERROR    asyncio:1597: Task exception was never retrieved\nfuture: <Task finished coro=<ComponentManager.setup.<locals>._setup() done, defined at lbrynet\\extras\\daemon\\ComponentManager.py:122> exception=TypeError(\"a bytes-like object is required, not 'str'\")>\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\ComponentManager.py\", line 123, in _setup\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 61, in _setup\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 54, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 122, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 309, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 79, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 271, in _make_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 79, in _wrapper\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate5to6.py\", line 192, in _import_file\nTypeError: a bytes-like object is required, not 'str'. Fixed in https://github.com/lbryio/lbry/pull/1777. Thanks for the PR @osilkin98 ! We'll get Lex to review it shortly, but we are also in the middle of a release cycle, so it may take some extra time. Thanks for your patience!. @nikooo777 , Jack thinks this is related to some old back and forth we did on previous daemon builds. Try changing the db_revision file to one higher or one lower and see if that fixes it. . A user also ran into a similar problem. The solution was to clear out the db files/delete db_revision.\nlbrynet.extras.daemon.migrator.migrate4to5:9: Doing the migration\n2018-12-25 18:54:14,762 ERROR    lbrynet.extras.daemon.Component:61: \nError setting up database\nTraceback (most recent call last):\n   File \"lbrynet/extras/daemon/Component.py\", line 55, in _setup\n   File \"site-packages/twisted/internet/defer.py\", line 1416, in \n_inlineCallbacks\n   File \"site-packages/twisted/python/failure.py\", line 491, in \nthrowExceptionIntoGenerator\n   File \"lbrynet/extras/daemon/Components.py\", line 177, in start\n   File \"site-packages/twisted/python/threadpool.py\", line 250, in \ninContext\n   File \"site-packages/twisted/python/threadpool.py\", line 266, in \n<lambda>\n   File \"site-packages/twisted/python/context.py\", line 122, in \ncallWithContext\n   File \"site-packages/twisted/python/context.py\", line 85, in \ncallWithContext\n   File \"lbrynet/extras/daemon/migrator/dbmigrator.py\", line 28, in \nmigrate_db\n   File \"lbrynet/extras/daemon/migrator/migrate4to5.py\", line 10, in \ndo_migration\n   File \"lbrynet/extras/daemon/migrator/migrate4to5.py\", line 56, in \nadd_lbry_file_metadata\nsqlite3.IntegrityError: UNIQUE constraint failed: \nlbry_file_metadata.lbry_file. This is an issue when upgrading from 18.2 (about 1 year old). Ultimately, we want these old users to come back and be able to startup LBRY, so we should handle failed migrations better. I'll create a separate issue. . Fixed in https://github.com/lbryio/lbry/pull/1703. This seems to happen in a daemon only environment (app not running) after some period of inactivity - i.e. spee.ch nodes / other nodes that only publish / perform wallet tasks on command. Since the app refreshes the homepage every 30 minutes, should not happen there. . Running the fix on my speech server that was affected, will confirm it's fixed.. Confirmed this is now fixed, wallet connection stayed up.. Thanks for the PR @osilkin98! We love ones that delete unncessary lines of code :). I think this may be related to the bug fixed by https://github.com/lbryio/lbry/pull/1718 - we'll see if it goes away once we get a new daemon out. I see others with the same issue on loggly. . This still seems to be happening on 0.30.4 (according to loggly - but I'll dig in more later), so don't think it was related to #1718 . Not sure what issues it causes yet, haven't run into it myself.\nasciTime:2019-02-05 14:52:22,312\nexc_info:Traceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\auth\\server.py\", line 604, in _callback_render\n  File \"lbrynet\\extras\\daemon\\auth\\server.py\", line 303, in _render_message\n  File \"twisted\\web\\server.py\", line 237, in write\n  File \"twisted\\web\\http.py\", line 1122, in write\nAttributeError: 'NoneType' object has no attribute 'writeHeaders'\nfileName:server.py\nfunctionName:_callback_render\ninstallation_id:4kcQyxb3HKPrREEQAdTgYaJPe4nwMgXRkqwQK1fRZ1sLDPys2K5jHChGVnxnd8MJfn\nlevel:40\nlevelName:ERROR\nlevelNo:40\nlineNo:606\nloggerName:lbrynet.extras.daemon.auth.server\nmessage:Failed to render API response: {'error': ''}\nsession_id:AJMYwTLGf6dxPcnPnzuGGYX2VQjLzzzewTHE9EHR1VonBtkGmx45kkFFN8EQprN323. 2018-12-14 13:35:25,429 INFO     lbrynet.extras.wallet.manager:193: Wallet at c:\\lbrynew3\\wallets\\default_wallet is empty, generating a default account. \nIt tries to create my wallet in the data_dir, not sure why\nPer our convo, don't forget to support legacy lbryum_wallet_dir in config file. . https://github.com/lbryio/lbry/blob/561215db8a8ed5ea174652f7fb4d73770d3e7e5d/scripts/download_blob_from_peer.py ?. Fixed in https://github.com/lbryio/lbry/pull/1758. Wouldn't we just want a way to re-sync the entire wallet? . If I'm an app user, i don't want to go delete some file + restart if I'm seeing balance issues :) This would come with a warning of course. . https://github.com/lbryio/lbry/pull/1741  - I'll create a new issue for the re-sync feature. . Ran into the sqlite3.IntegrityError: UNIQUE constraint failed: pubkey_address.address  - this seems to happen if you reimport an old format wallet without clearing blockchain.db - so it's unrelated to the issues he was seeing. . Had another user run into this as well. . LGTM. I did notice it won't create the directory if it doesn't exist (we do create the directory if it's specified in the daemon_settings.yml file). . https://github.com/lbryio/lbry/issues/1631 Should also be taken into account when working on this. . Fixed in https://github.com/lbryio/lbry/pull/1759. I don't see why not :). Believe Shawn created a custom format that could be used in certain cases: https://github.com/lbryio/lbry-format \nThere was some discussion as to whether or not this is the right way to go about this, but I'll let @skhameneh comment on that. . Yep, see the footer of the site and https://amp.reddit.com/r/lbry/comments/8i4lj9/why_do_you_own_piratebaycom/ for reference :). Opened new issues for outstanding bugs. . @jackrobison said he'd take a shot at this in his branch. . Hey @binaryflesh, thanks for starting up this PR!! Please let us know if you have any questions. \nOnce it's all done, can we show you some appreciation?. Not seeing this anymore. Also: NoneType' object has no attribute 'blob_hash\n```11/110 - 6.104256868362427 top-5-worst-anime-of-2018#b0dc564e7749dc9b75f4bf6a4107f6d40aed4760\nTask exception was never retrieved\nfuture:  exception=AttributeError(\"'NoneType' object has no attribute 'blob_hash'\") created at c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py:130>\nsource_traceback: Object created at (most recent call last):\n  File \"scripts\\time_to_first_byte.py\", line 171, in \n    asyncio.run(main())\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\runners.py\", line 43, in run\n    return loop.run_until_complete(main)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 555, in run_until_complete\n    self.run_forever()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 523, in run_forever\n    self._run_once()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 1750, in _run_once\n    handle._run()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py\", line 264, in _download\n    await self.assemble_decrypted_stream(self.output_dir, self.output_file_name)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\assembler.py\", line 85, in assemble_decrypted_stream\n    blob = await self.get_blob(blob_info.blob_hash, blob_info.length)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py\", line 163, in get_blob\n    await self._update_current_blob(blob)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py\", line 96, in _update_current_blob\n    self._update_requests()\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py\", line 130, in _update_requests\n    task = self.loop.create_task(self._request_blob(peer))\nTraceback (most recent call last):\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\blob_exchange\\client.py\", line 67, in _download_blob\n    response: BlobResponse = await asyncio.wait_for(self._response_fut, self.peer_timeout, loop=self.loop)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\tasks.py\", line 412, in wait_for\n    return fut.result()\nconcurrent.futures._base.CancelledError\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\stream\\downloader.py\", line 108, in _request_blob\n    peer.address, peer.tcp_port, self.peer_connect_timeout)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\blob_exchange\\client.py\", line 179, in request_blob\n    success = await protocol.download_blob(blob)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\blob_exchange\\client.py\", line 134, in download_blob\n    return await self._download_blob()\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\blob_exchange\\client.py\", line 102, in _download_blob\n    msg = f\"download {self.blob.blob_hash[:8]} from {self.peer_address} cancelled\"\nAttributeError: 'NoneType' object has no attribute 'blob_hash'\nFatal error: protocol.data_received() call failed.\nhandle_traceback: Handle created at (most recent call last):\n  File \"scripts\\time_to_first_byte.py\", line 171, in \n    asyncio.run(main())\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\runners.py\", line 43, in run\n    return loop.run_until_complete(main)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 555, in run_until_complete\n    self.run_forever()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 523, in run_forever\n    self._run_once()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 1750, in _run_once\n    handle._run()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, self._args)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\selector_events.py\", line 716, in _add_reader\n    self._loop._add_reader(fd, callback, args)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\selector_events.py\", line 260, in _add_reader\n    handle = events.Handle(callback, args, self, None)\nprotocol: \ntransport: <_SelectorSocketTransport fd=1780 read=polling write=>\nTraceback (most recent call last):\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\selector_events.py\", line 824, in _read_ready__data_received\n    self._protocol.data_received(data)\n  File \"c:\\users\\thoma\\lbry\\lbrynet\\blob_exchange\\client.py\", line 52, in data_received\n    expected_length = self.blob.get_length()\nAttributeError: 'NoneType' object has no attribute 'get_length'. this is fixed in https://github.com/lbryio/lbry/commit/6207dac67b5716fbbec9905a71eea3f4ca6d7c6a. Doesn't seem to be occurring anymore, closing.... Fixed in https://github.com/lbryio/lbry/commit/6207dac67b5716fbbec9905a71eea3f4ca6d7c6a. Not happening anymore.. I can help out when needed also. The old url and api calls will auto redirect in most cases.. Definitely can be removed, resolve supports what resolve_name can do, no need for both. None of the apps are using it AFAIK. . @binaryflesh thanks for the PR! Is this ready for review? If so, in the future just shoot us a comment here or on Slack with the person you're working with, so they can set themselves as a reviewer. . Fixed on latest RC. We had decided this will go out as part of the PR review process, and not on submission. . We believe this happens when you are sending a blob and the client drops the connection. . Fixed on master. https://github.com/lbryio/lbry/pull/1907 fixes it. Fix, on daemon restart, is in https://github.com/lbryio/lbry/pull/1919 . This will be handled better in the future when we start tracking blobs/files more closely on disk.. Fixed in https://github.com/lbryio/lbry/pull/1922. Fixed and tested in https://github.com/lbryio/lbry/pull/1908 . Fixed in https://github.com/lbryio/lbry/pull/1919. Would be nice to get this in, but leave for last.. @hackrush01 can you check if your work fixes this?. This is handled by https://github.com/lbryio/lbry/pull/1920 if the daemon shuts down properly. . Let me know if that works - feel free to re-format. . Made another small update, should be good to go. . I'm told this is fixed (by releasing torba), carry on! . This looks good, thanks @shyba ! . It doesn't seem to work on resuming downloads (if I had failed streams previously) nor after failing the first time (called get, it times out, then you call get again - it never times out). Then on restart, it starts creating duplicates again.... Thanks for the PR @MarkMichon7 !! Can we [show you some appreication](https://lbry.io/faq/appreciation)? . Nope, I think you run into a different warning, but it still starts up. I'll double check.. This also causes https://github.com/lbryio/lbry/issues/1917 when we try to get the IP: https://github.com/lbryio/lbry/blob/master/lbrynet/extras/daemon/Components.py#L58. The Windows error went away after browsing a few websites (which downloaded ssl certs required). The Manjaro error (and other non-debian distros) is different because of how SSL certs are handled by our current binary. When building from source, it goes away. We can investigate and improve this down the road.. Thanks for the feedback @JoshStrobl...if you want some light (haha jk) reading around the topic, check out https://github.com/kennethreitz/requests/issues/2966. This was fixed in https://github.com/lbryio/lbry/commit/0d558bd5521ccd7cb8c92e80b2a4acda86fff79b. This has not happened since, knocking down the priority. This may have to be handled in the connection manager https://github.com/lbryio/lbry/issues/1910. Fixed in https://github.com/lbryio/lbry/pull/1935. Looks like this happens when a download stalls from a peer, but then never continues from reflector (even though it is available on reflector). . Should be fixed in https://github.com/lbryio/lbry/pull/1934 ! . Looks like it works here, @jackrobison please double check the code. . This is covered under https://github.com/lbryio/lbry/issues/1787. Hey @JaceG , thanks for opening the issue. This is better suited for lbry-desktop and I think it's covered under https://github.com/lbryio/lbry-desktop/issues/1957.  That's one of our goals for this year! . This is just a bug on the UI, which is why so don't allow classic supports yet. I'll link it in the am.. https://github.com/lbryio/lbry-desktop/issues/2105. this is the failure from 18.2, which is similar to https://github.com/lbryio/lbry/issues/16992019-03-01 22:48:38,471 ERROR    lbrynet.extras.daemon.Component:61: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 107, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 10, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 28, in add_lbry_file_metadata\n  File \"logging__init__.py\", line 1412, in error\n  File \"logging__init__.py\", line 1519, in _log\n  File \"logging__init__.py\", line 1529, in handle\n  File \"logging__init__.py\", line 1591, in callHandlers\n  File \"logging__init__.py\", line 905, in handle\n  File \"lbrynet\\extras\\daemon\\loggly_handler.py\", line 57, in emit\n  File \"asyncio\\tasks.py\", line 580, in ensure_future\n  File \"asyncio\\events.py\", line 644, in get_event_loop\nRuntimeError: There is no current event loop in thread 'ThreadPoolExecutor-0_0'.\n2019-03-01 22:48:39,016 INFO     torba.client.basenetwork:88: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n2019-03-01 22:48:39,217 INFO     lbrynet.extras.daemon.Components:205: remote height: 527741, local height: 527844\n2019-03-01 22:48:53,615 WARNING  lbrynet.extras.daemon.Components:511: upnp discovery failed: M-SEARCH for 172.16.1.254:1900 timed out\n2019-03-01 22:48:53,616 WARNING  lbrynet.extras.daemon.Components:525: unable to get external ip from UPnP, checking lbry.io fallback\n2019-03-01 22:48:54,410 ERROR    lbrynet.extras.daemon.Components:590: failed to setup upnp\nTask exception was never retrieved\nfuture:  exception=RuntimeError(\"There is no current event loop in thread 'ThreadPoolExecutor-0_0'.\")>\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 62, in _setup\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 107, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 10, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 28, in add_lbry_file_metadata\n  File \"logging__init__.py\", line 1412, in error\n  File \"logging__init__.py\", line 1519, in _log\n  File \"logging__init__.py\", line 1529, in handle\n  File \"logging__init__.py\", line 1591, in callHandlers\n  File \"logging__init__.py\", line 905, in handle\n  File \"lbrynet\\extras\\daemon\\loggly_handler.py\", line 57, in emit\n  File \"asyncio\\tasks.py\", line 580, in ensure_future\n  File \"asyncio\\events.py\", line 644, in get_event_loop\nRuntimeError: There is no current event loop in thread 'ThreadPoolExecutor-0_0'.\nC:\\Users\\SoloDolo\\AppData\\Local\\Temp_MEI281482\\lbrynet\\extras\\daemon\\ComponentManager.py:121: RuntimeWarning: coroutine 'HTTPSLogglyHandler._emit' was never awaited\n2019-03-01 22:48:55,052 INFO     lbrynet.extras.daemon.Components:277: Starting torba wallet\n2019-03-01 22:48:55,054 INFO     lbrynet.extras.wallet.manager:122: Wallet migrator found 20 receiving addresses and 6 change addresses. 26 in total on history.\n2019-03-01 22:48:55,184 INFO     torba.client.basedatabase:186: connecting to database: c:\\lbryupgrade1\\lbc_mainnet\\blockchain.db\n2019-03-01 22:48:55,208 INFO     lbrynet.extras.daemon.Components:354: start the dht\n2019-03-01 22:48:55,214 INFO     lbrynet.extras.daemon.Components:379: Started the dht\n2019-03-01 22:48:55,217 ERROR    lbrynet.extras.daemon.Component:61: Error setting up blob_manager\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 310, in start\n  File \"lbrynet\\blob\\blob_manager.py\", line 39, in setup\nAttributeError: 'NoneType' object has no attribute 'sync_missing_blobs'\n2019-03-01 22:48:55,228 INFO     lbrynet.dht.node:115: DHT node listening on UDP 0.0.0.0:4444\n2019-03-01 22:48:55,349 INFO     lbrynet.extras.wallet.manager:209: Successfully migrated 6 change addresses.\n2019-03-01 22:48:55,350 INFO     lbrynet.extras.wallet.manager:214: Successfully migrated 20 receiving addresses.\n2019-03-01 22:48:55,360 INFO     torba.client.basedatabase:186: connecting to database: c:\\lbryupgrade1\\lbc_mainnet\\blockchain.db\n2019-03-01 22:48:55,786 INFO     torba.client.basenetwork:88: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n2019-03-01 22:48:55,787 INFO     torba.client.baseledger:239: Subscribing and updating accounts.\nTask exception was never retrieved\nfuture:  exception=AttributeError(\"'NoneType' object has no attribute 'sync_missing_blobs'\")>\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 62, in _setup\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 310, in start\n  File \"lbrynet\\blob\\blob_manager.py\", line 39, in setup```. Yet another user ran into the migration issue:\n```2019-03-16 11:10:39,533 ERROR    lbrynet.extras.daemon.Component:61: Error setting up blob_manager\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 310, in start\n  File \"lbrynet\\blob\\blob_manager.py\", line 39, in setup\nAttributeError: 'NoneType' object has no attribute 'sync_missing_blobs'\n2019-03-16 11:10:39,671 INFO     torba.client.basenetwork:88: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n2019-03-16 11:10:39,672 INFO     torba.client.baseledger:239: Subscribing and updating accounts.\n2019-03-16 11:10:39,960 INFO     lbrynet.extras.wallet.ledger:101: Loaded account bJvLC2mJCrzyMvMGr7Gg9twoT1MouuyymH with 0.0 LBC, 22 receiving addresses (gap: 20), 7 change addresses (gap: 6), 0 channels, 0 certificates and 0 claims. \n2019-03-16 11:10:39,963 INFO     lbrynet.extras.daemon.Components:441: Starting the file manager\n2019-03-16 11:10:39,964 ERROR    lbrynet.extras.daemon.Component:61: Error setting up stream_manager\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 446, in start\n  File \"lbrynet\\stream\\stream_manager.py\", line 236, in start\n  File \"lbrynet\\stream\\stream_manager.py\", line 182, in load_streams_from_database\nAttributeError: 'NoneType' object has no attribute 'get_all_lbry_files'\n2019-03-16 11:11:52,443 INFO     lbrynet.extras.daemon.Daemon:395: lbrynet API listening on TCP ::1:5279\n2019-03-16 11:11:52,447 INFO     lbrynet.extras.daemon.Components:89: Loading databases\n2019-03-16 11:11:52,450 INFO     lbrynet.extras.daemon.Components:105: Upgrading your databases (revision 4 to 9)\n2019-03-16 11:11:52,940 ERROR    lbrynet.extras.daemon.Component:61: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 107, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 10, in do_migration\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate4to5.py\", line 56, in add_lbry_file_metadata\nsqlite3.IntegrityError: UNIQUE constraint failed: lbry_file_metadata.lbry_file. The spee.ch issue was fixed, but another user is still experiencing slow startup times with lots of files:\n2019-03-13 13:19:31,961 INFO     lbrynet.extras.daemon.Components:431: Starting the file manager\n2019-03-13 13:19:31,962 INFO     lbrynet.extras.daemon.Components:392: Started blob announcer\n2019-03-13 13:19:31,965 INFO     lbrynet.blob_exchange.server:115: Blob server listening on TCP 0.0.0.0:3333\n2019-03-13 13:23:57,312 INFO     lbrynet.stream.stream_manager:195: Initializing 9428 files\n```. Sorry to hear about the trouble. Which os are you on?\nDid the app work before? Check your daemon_settings.yml file (same folder as logs) to check for invalid directories. \nOtherwise check out https://lbry.io/faq/startup-troubleshooting for common issues. Email us at help@lbry.io if you continue to have issues.. @dvdvideo1234 see this comment from a user who had the same issue: Problem solved! I patched my win win all new fixes and net frameworks and now working all! I think this have been some kind od net framework bug. Thank you all for effort!. There are not normally any additional dependencies...this sounds like a problem local to your system and dot net installation. I'd make sure your windows update is all caught up and reinstall net framework packages. . That was from a user on discord from a while. Also try installing https://www.microsoft.com/en-us/download/confirmation.aspx?id=49093&fbclid=IwAR2Gl1Qay34-_NnHpOSZm0VqMC9CQFish4vYXf4AQQ01cnJeE9ZDHdmInv0. You don't have to 'install' those directories...they are created automatically if everything is working as it should. . @dvdvideo1234, unfortunately, this is a local issue with your installation and not a problem with our software. We use a standard python LBRY to find the local path (winpaths). I've run this successfully on Windows 7. I'd recommend reinstalling net framework packages for Win 7 and maybe checking your environmental variables PATH to make sure there are no syntax errors. . Same as https://github.com/lbryio/lbry/issues/1910? Close if turning into an epic with smaller issues.. This may have been related to the peer protocol on reflector issue we've been seeing. . This is what I see on shutdown when it happens..probably related to file descriptors? \n2019-03-15 12:41:53,776 ERROR    lbrynet.dht.protocol.protocol:615: Unexpected error while storing blob_hash\nTraceback (most recent call last):\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 602, in store_to_peer\n    res = await self.get_rpc_peer(peer).store(hash_value)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 151, in store\n    find_value_resp = await self.find_value(blob_hash)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 180, in find_value\n    self.peer, RequestDatagram.make_find_value(self.protocol.node_id, key)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 530, in send_request\n    async with self._split_lock:\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\locks.py\", line 92, in __aenter__\n    await self.acquire()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\locks.py\", line 192, in acquire\n    await fut\nconcurrent.futures._base.CancelledError\n2019-03-15 12:41:53,791 ERROR    lbrynet.dht.protocol.protocol:615: Unexpected error while storing blob_hash\nTraceback (most recent call last):\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 602, in store_to_peer\n    res = await self.get_rpc_peer(peer).store(hash_value)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 151, in store\n    find_value_resp = await self.find_value(blob_hash)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 180, in find_value\n    self.peer, RequestDatagram.make_find_value(self.protocol.node_id, key)\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\dht\\protocol\\protocol.py\", line 530, in send_request\n    async with self._split_lock:\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\locks.py\", line 92, in __aenter__\n    await self.acquire()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\locks.py\", line 192, in acquire\n    await fut\nconcurrent.futures._base.CancelledError\n2019-03-15 12:41:54,058 INFO     lbrynet.dht.node:108: Stopped DHT node\n2019-03-15 12:41:54,171 INFO     lbrynet.extras.daemon.exchange_rate_manager:216: Stopping exchange rate manager\nTraceback (most recent call last):\n  File \"C:\\Users\\thoma\\Documents\\lbry\\lbry-venv\\Scripts\\lbrynet-script.py\", line 11, in <module>\n    load_entry_point('lbrynet', 'console_scripts', 'lbrynet')()\n  File \"c:\\users\\thoma\\documents\\lbry\\lbrynet\\extras\\cli.py\", line 283, in main\n    loop.run_until_complete(loop.shutdown_asyncgens())\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 571, in run_until_complete\n    self.run_forever()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 539, in run_forever\n    self._run_once()\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\asyncio\\base_events.py\", line 1739, in _run_once\n    event_list = self._selector.select(timeout)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\selectors.py\", line 323, in select\n    r, w, _ = self._select(self._readers, self._writers, [], timeout)\n  File \"C:\\Users\\thoma\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\selectors.py\", line 314, in _select\n    r, w, x = select.select(r, w, w, timeout)\nOSError: [WinError 10038] An operation was attempted on something that is not a socket. You mean 958 blocks this right?  We don't have short IDs, so how can you resolve them :). I'd assume that work would be done with 958, otherwise it's pretty useless by itself.. @shyba ? Is this something we want to get into the next patch release? . We are moving away from floats and to decimals instead. Believe there's another PR to address the wider changes. . @jackrobison see https://github.com/lbryio/lbry/issues/1470. This should be gap + 1 on both receiving and sending. that explains it! . @nikooo777 can we get a domain name going for this server? comments.lbry.io? . channel, not author?. reply to comment id. \ud83d\udc4d . ",
    "dskvr": "\ud83d\ude12 . As someone who has a day job that consists of standing between marketers who want to destroy UX and backend devs who do everything they can to make it difficult, I empathize\nHowever, anything that deals with storing and/or transmitting cryptocurrency ~is essentially a bank~ has inherent security implications. This argument is not much different from saying that password strength requirements are an encumbrance to conversion rates, and thus shouldn't be enforced because UX. \nUX doesn't mean anything if the entire value metric that the UX lies upon is compromised and subsequently sinks the community as well. \nThe solution seems obvious to me, as this is how it was done in the early days. Encryption is optional, users decide whether or not they want to encrypt their wallets. They either choose convenience or security, and are thus responsible for their decision. I for one don't mind entering my password before a daemon is launched \nOtherwise, a completely separate nanowallet, maybe including a loosely coupled integration with lbryum wallet (automatic adding of the lbyrum address for easy deposits), could be a more simple workaround. \nHas anything like this been discussed at any point? \nAside: Is there a release date for Coinomi integration?. ",
    "bitspill": "Recent log sent\n. Is #250 relevant here perhaps\n~/.lbrynet/lbryum.log is 0 bytes on my system, could that be taken to assume lbryum is failing to start properly?\nAlthough, then I would expect get_transaction_history and get_latest_blockhash to fail but they're both correct.\n. I have not published anything yet.\nI deleted my old installation, cloned master as of 0.7.5, generated a bunch of addresses by clicking the button in ?wallet page, sent coins from Polo, waited.\nuser@Anastasia ~ # lbrynet-cli get_name_claims\n[]\n. Installing lbryum as a standalone app, it does correctly interact with the wallet including showing the balance and sending coins.\nUpdated lbrynet again, still 0 balance\nuser@Anastasia ~/lbry # git rev-parse HEAD\n0abc081edc9a827374f1336bfa71f2738bf3a03e\nResponded to email with further information.\n. Unfortunately, yes.\n```\nlbrynet-cli get_transaction_history\n[\n  {\n    \"confirmations\": 13351,\n    \"date\": \"2016-11-04 08:11\",\n    \"label\": \"\",\n    \"timestamp\": 1478243470,\n    \"txid\": \"36b5e81812c597e7915243359db18add14b0b3892d0f9fd533de84a282d3f8b0\",\n    \"value\": 19.94\n  },\n  {\n    \"confirmations\": 9589,\n    \"date\": \"2016-11-11 08:08\",\n    \"label\": \"\",\n    \"timestamp\": 1478848111,\n    \"txid\": \"a5c04597beab08c5af7876bec0d360979b5a605fc82c205bd5794d5079e37a69\",\n    \"value\": -0.000113\n  }\n]\n~/lbry # lbrynet-cli get_balance\n0.0\n~/lbry # git rev-parse HEAD\n9140c95a0cbdcd09d2043c8f10848945f56db4c1\n```. Not sure which commit fixed it but I can now see my balance after updating today.\n```\n~/lbry # git pull\n-- SNIP --\n~/lbry # git rev-parse HEAD\n13d74d1f7660c488a98284358d645bf09f7527df\n~/lbry # pip install -r requirements.txt --upgrade\n-- SNIP --\n~/lbry # lbrynet-cli get_balance\n10.0\n```. ",
    "mirgee": "Unable to reproduce, can anyone verify this is still an issue?. What are steps to reproduce?. Any more details about the issue? Not sure how to reproduce. This doesn't seem to be an issue anymore. On\n{\n  \"build\": \"dev\",\n  \"installation_id\": \"6QapiUUrkTfiks6jiQnecv8pXixxm1LncbgGB32x6nXpQ1aipjikPboVJM4UxsXruR\",\n  \"lbrynet_version\": \"0.16.1-4-g4a04018\",\n  \"lbryschema_version\": \"0.0.11rc1\",\n  \"lbryum_version\": \"3.1.7rc5\",\n  \"os_release\": \"4.10.0-35-generic\",\n  \"os_system\": \"Linux\",\n  \"platform\": \"Linux-4.10.0-35-generic-x86_64-with-Ubuntu-16.04-xenial\",\n  \"processor\": \"x86_64\",\n  \"python_version\": \"2.7.12\"\n}\nthe daemon rebuilds the file:\n2017-09-22 09:15:34,572 INFO     lbrynet.daemon.Daemon:1513: Already have lbry file but missing file in /home/miroslav/Videos/lbry, rebuilding it\nThis issue should be closed?. @tzarebczan The app indeed tries to recreate the whole directory; when it has no permissions (or is inaccessible) the daemon crashes:\n2017-09-22 18:18:58,200 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-22 18:18:58,205 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start lbrynet-daemon\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/daemon/DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/daemon/DaemonServer.py\", line 53, in start\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 251, in setup\n  File \"site-packages/twisted/python/threadpool.py\", line 246, in inContext\n  File \"site-packages/twisted/python/threadpool.py\", line 262, in <lambda>\n  File \"site-packages/twisted/python/context.py\", line 118, in callWithContext\n  File \"site-packages/twisted/python/context.py\", line 81, in callWithContext\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 473, in _setup_data_directory\nOSError: [Errno 13] Permission denied: '/home/miroslav/Videos/lbry'\n2017-09-22 18:18:58,210 INFO     lbrynet.daemon.DaemonServer:57: Stopping the reactor. It seems that this call should make stream type name claim which is required to contain 'source' in its metadata at several places. Can anyone please explain the difference between certificate and stream type name claims?. Shouldn't this be linked to #901?. @tzarebczan This does not happen on v16 release.. The documentation says \"If no path is given but a metadata dict is the source from the given metadata will be used\". This doesn't seem to be intended behavior here. Maybe update the doc, or change the logic?. ",
    "hrdwdmrbl": "That's likely it, thanks. ",
    "seemqueues": "I also get this error when I click on the link My Wallet.. ",
    "OhGodAPet": "How about a >= on unqlite?. ",
    "shyba": "I think this is still valid, but not under the current description. We need to handle missing/corrupted blobs somehow, so I would remove the bug tag and copy what Tom just said to it as a new feature. To handle blobs that went missing or corrupted in some way (we can discuss where, like API/startup code/looping call/etc).. no, I'm just porting for now. Feel free to create them and if I start a refactor I will self-assign the one that fits.. I took a look at your code and did a similar test as @akinwale with a ~600MB file and a profiler (plop). Results can be seen here: http://imgur.com/a/KHkFZ\nI used encrypt_blob.py script, which I fixed for splitting. Will do a PR if you agree it is broken (it was generating a single blob and stopping, instead of the whole thing).\nIf you modify BLOB_SIZE on conf.py to a huge value, then you will notice a time decrease. Here are my numbers for 601MB:\n With BLOB_SIZE of 1000 MB, 8.3s\n With default blob size of 2 MB, 13,96s\nDecreasing the BLOB_SIZE to 1MB gave me another jump in time (18s). So the splitting overhead isn't just crypto and disk. From the profile pasted, it looks like you have too many components interacting in this tight loop with many instantiations. For a 600MB, that's 300 chunks. Some interesting part I found is this: https://github.com/lbryio/lbry/blob/906e6b238e737429f063ad5eaba369c98bd1148f/lbrynet/cryptstream/CryptStreamCreator.py#L77 which can be improved to create the writers in threads as suggested, but instead it is writing directly, blocking the caller (the reader).\nThere is also another side, the read size. It's controlled today by FileSender, which has a CHUNK_SIZE of 2**14, you can check it here.\nOn the next weekend or earlier (when I get some free time) I will try to dig deeper and optimize it. I still feel that the overhead is somewhere in the interaction between CryptStreamCreator, CryptBlob and HashBlob.\nNow, some questions:\n\nWhy AES-CBC and SHA384? AES-GCM can provide integrity on the cipher itself, which also uses hardware acceleration on AES-NI devices. So you would remove the hashing overhead.\nDoes the blob creation always go disk->disk? Or there is a scenario where it's streamed to a server directly? If it's just disk->disk then I think a small script in pure python would be better. You could also use Cython to make this simpler loop faster.\nWhy do you use pycryptopp if Twisted already depends on cryptography library? This library also provides pbkdf2, which is in another dependency (although I can't see it being used).. Btw, that's my branch with encrypt_blob.py generating all blobs: https://github.com/shyba/lbry/tree/update_scripts\n\nYou can use it to profile, like this (supposing you already are in virtualenv):\n1. pip install plop\n2. cd scripts\n3. python -m plop.collector encrypt_blob.py /tmp/test '61616161616161616161616161616161' '69696969696969696969696969696969'\n4. python -m plop.viewer. Questions:\n- Is the way anonymous claims are shortened the same as we have today? (I believe so, over claim sequences)\n- Would we allow anonymous claims to go short by prefix? (like gornado:6a ?)\n- Is it included in the protobuf metadata by the client or artificially generated by the wallet server during resolve?\n- How do we handle malleability and reorgs? (if applicable, more below)\n- Does a claim sequence for channels solve it? (under current schema @kidsgamesfun:1 and @kidsgamesfun:2 maps to different channels. I tried with a path, it raises an error but I think its easy to fix.)\n\nThe gotcha on going lower on stack is that we have lbryumx and chainquery where one doesn't know the other and both will need this info to advertise the canonical URL to different parts of the platform. We can't go lower than that as lbrycrd doesn't have the concept of a channel, so I believe this fits lbryumx.\nlbryumx doesnt have a trie but it knows all claims and channels, so it can lookup claim ids and so on. We could try a proof of concept in a different module in there so we can see later if it can be ported to chainquery as well. The issue remaining is whether it should return if a name is available for the client to add on the metada or if it should generate the information after broadcast.\nAdding to the protobuf would make chainquery to become in sync automagically.\n\nOn the gotchas of where to return this information.\n- If we return to the client the shortest claim id:\n  - an update will be necessary as we dont know the claim id beforehand and it can suffer malleability.\n  - we can easily fall into race conditions where two clients get the same prefix and broadcast together.\n  - if we require some blocks to give that back we will solve it all (malleability, reorgs and race conditions) but will require a LOT more time to publish.\n  - client needs to trust server or server needs to give a proof that this is valid and a way for the client to check, which is hard-ish without the whole trie.\n- if we return it as an extra field by wallet servers later on resolve:\n  - same applies, we need to wait a few to ensure the shortest id is valid and confirmed.\n  - same problem with how to prove its the shortest\n  - sync complexity would grow as we would need extra lookups and logic for each claim.\nThere is more to be discussed and I would like to learn more on how it was originally expected for the wallet servers to solve it so I can close those small gaps and try a PoC.\nAs I have it in my mind, calculating all canonical urls during sync would cause the sync algorithm complexity to grow a lot as, for each claim, several additional look-ups will be made and maybe even need to iterate over channel claims. We could, however, try some fixed length prefix bloom filters or something else to amortize the cost of looking up a short id availability.\n\nPS: if we only allow that for channels (and not for anonymous claims), the client can do it if it has all its own signed claims locally. Would still require an update if we want to prevent malleability, but I think its doable ignoring that in a simple manner, as long as we can ensure the claim tx outpoint will be the same after it goes to mempool during broadcast. However, it gets tricky for anonymous claims, as explained above, due race conditions. I can be misunderstanding it all though.. Not immediately from me, but I will reply if I stumble on that error or if I see something on the code. For now it looks like it got moved/rewritten. Maybe @jackrobison will have a better idea if something got fixed in there between 0.17 and 0.21. @eukreign P2P, DHT, maybe more... but I think it's possible. I would separate it in the libs used to provide a data transport:\n- treq (not supported, but we can switch to aiohttp)\n- aiohttp (aiosocks? there are other ways too, like a protocol wrapper)\n- raw sockers (check_connection, although we can do something else for SOCKS case where we check the health of the proxy instead)\n- Twisted (p2p protocol, may use a wrapper, but I'm unsure if it supports)\n- asyncio in general (DHT is being ported, but we can do the same aiorpcx did, a protocol wrapper)\nI would say its easier to do this after porting more things to asyncio as its planned, then using some generic protocol wrapper, but it's possible to do now too, just harder and we may need to re-do some parts later.. If I understood it correctly, this relates closely to #1483 but I think it has a broader scope. The issue with missing claim data is being handled at 1483, but maybe we can say this issue is to make the response of claim_xxx commands fixed on a template right?. Yes, I sent @jackrobison a diff with some options we can change. I've been using them in \"production\" (the EU node) for quite a long time now and believe it to be safe. At least for large x86 nodes like mine.\nI can open a PR with them as well instead, but I prefer @jackrobison to take a look first.. (hopefully) Fixed comments\nAlso added an usability workaround for checking headers file integrity and either:\n1. delete headers file if the checksum mismatches (corrupted)\n2. truncate to checkpoint if checksum matches but the size isn't divisible by the header size (incomplete write)\n3. do nothing if it's divisible and checksum matches\nAdded this and the partial downloads support to the changelog.. @jackrobison, I added the integrity checks also after s3 download as discussed. @tzarebczan I think it's done. The last change was something we discussed some days ago after it was approved. I will reassign the review so we can track that.. Except for that detail on the older comment, the code looks very good to me. The old comment is not even wrong, just confusing.. Changed to concurrently download, added tests and tried to better integrate to the existing organization so it become less of a hack, but still not much intrusive as a refactor on p2p protocol code is expected to happen soon.\nAs it runs concurrently, peer search will keep happening and whoever finishes first cancels the others. For mobile, improvements will be implemented in another pull request after the components refactor PR gets merged (for selectively disabling parts of DHT/P2P hosting).. Thanks for the review, @eukreign! I think I fixed them.. rebased and updated logs to be less verbose while showing when a blob came from a mirror. Simple errors like a blob missing are now suppressed to debug and only success and hard errors are logged (when the blob is there but it fails downloading for real).. Reproduced. Its fixed by removing reflector_servers and known_dht_nodes. Worked fine on testing a new download, but for a synced daemon startup I got this:\n{                                                                                                                                                                                                          [7/1878]\n  \"blockchain_status\": {                                                                                                                                                                                           \n    \"best_blockhash\": \"6a5ffe2de394b19def1f9620212586b8af91b3126d5d201ea3bd949705c1572a\",                                                                                                                          \n    \"blocks\": 390714,                                                                                                                                                                                              \n    \"blocks_behind\": 0,                                                                                                                                                                                            \n    \"headers_download_progress\": 0,                                                                                                                                                                                \n    \"is_downloading_headers\": false                                                                                                                                                                                \n  },\nLeft a suggestion on how to avoid that, but basically I just wanted to reduce the amount of fields here. Also, it's a matter of consistency. A finished download looks like:\n{\n  \"blockchain_status\": {\n    \"best_blockhash\": \"65183c19f08bd149c5d531a6f99665b875523bb26c87ffdb04501490e8ff8079\",\n    \"blocks\": 390721,\n    \"blocks_behind\": 0,\n    \"headers_download_progress\": 100.0,\n    \"is_downloading_headers\": false\n  },\nAside from this, looks good.. I think this can be closed. As far as I know, they are fine on\nlbryum-refactor+py3, although the functional tests aren't. Jack is taking a\nlook on this other case.\nEm qui, 16 de ago de 2018 11:49, Alyssa Callahan notifications@github.com\nescreveu:\n\nAssigned #1292 https://github.com/lbryio/lbry/issues/1292 to @shyba\nhttps://github.com/shyba.\n\u2014\nYou are receiving this because you were assigned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1292#event-1792581823, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABPePnMwX370_jMofiB3JeO6hrzeo1zVks5uRYaBgaJpZM4VGeAY\n.\n. Functional tests are flaky under Python 3, more specifically test_store and test_contact_expiration are the worse. While removing and adding back a peer, as orchestrated by the test suite, it takes longer than one hour (of events) for all other peers to consider the removed node a bad peer and also more than one hour for it to come back. When the test checks for the 8 storing nodes, some has 3 failures, some 2 and some others one or even no failure.\nThey were all failing, then I made the following changes, that allowed some of them to pass:\n- Test suite's reactor pumping logic changed for precision and speed\n- Start one node at a time, instead of every 10 together. Closing it, solving on 0.30 instead. It will cause a conflict and we will need to do it again with torba. I think it's better to just do it right with torba instead of having this code from lbryum then another from torba.. Doesn't download_mirrors: [] work already?. blob_get works. The issue with network/availability is unrelated to the command itself. Unless we want to add mirroring to blob_get, which I would say is another issue. Same for peer_list.\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet blob_get 2acdb3ea242df91015f7cfea5cb734c1db8a84a0910192015a38cd8da47f131d390561a62419294d26a2cffe2b175a65\n\"Downloaded blob 2acdb3ea242df91015f7cfea5cb734c1db8a84a0910192015a38cd8da47f131d390561a62419294d26a2cffe2b175a65\"\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet peer_list 2acdb3ea242df91015f7cfea5cb734c1db8a84a0910192015a38cd8da47f131d390561a62419294d26a2cffe2b175a65\n[\n  {                                                \n... LOTS of IPs.... blob_list after getting ethos (20 blobs + some leftovers I had before):\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet blob_list\n[\n  \"39046886c5a5cf87ca44fa7e615f4597e4d36433341d16245e0225bc311788c276ac401b07ba97cb9993c0f7694cfaa1\",\n  \"2acdb3ea242df91015f7cfea5cb734c1db8a84a0910192015a38cd8da47f131d390561a62419294d26a2cffe2b175a65\",\n  \"d1cbadd2c69894dbf38ffbfb8e92c694d90431ff26d3e5b0b083e0acb6aaf95e6d9d5f3924507d1f46fa118538d63fd8\",\n  \"f15be085f19bc7dabcaeb9dfd7d8b5b7c0c4bd2d991c09a9d18b37525b2501e9912d3337447f6fc9a8b98fa08496ea15\",\n  \"8ab5b6cc0de7e9afd4fa6cc262996a42d843f0e2785cf365e3b6115334c95ea8289efd00aa05589a4ca7dfe325b394a5\",\n  \"074964953e925ee9b404b9b829586cd4cf879c6d6f82b6f2ff4ca618882a8180a6f035a1e5112d2fe3deb374856b0a05\",\n  \"c381f56cc86f92359d1ba6e984e097d36a14e4d9d5a9724e288f316e8a61323fbfb49eee15957d8420aa7104ef69c44e\",\n  \"22a9e56c419c87db0b6a5a4d467d16a6b54214db15cea280b36efeb0cd7748160a87acf19217d60324c2d4e3850245ca\",\n  \"80aa9614d9a8c6120c6bece325cfa48f6da7bf5f460295c96bccb1093d0b90d607d8a84d06384298b8c72a4c02ae107e\",\n  \"d1fb8ba6f958e2eec8dd1137d62a923ef5e03d7af24ada2f2890248169a4975a58f65039305ba291891130e35c26f722\",\n  \"6c3da82313bf444f47259789f9e2d6b5cee048eed9917ce8f10db4e96e1df0273b08526ef8c27a276e03c91754b1f35b\",\n  \"bd6b502d40ab0a80e57456731244c1cae9330897e39ea3bfc37b4d9e22f7ef38e60043ace632d90c1c927bfb4fead68d\",\n  \"ed18d3dd702d96464ee4a61b2565495aa40e824353f8469e7907752a5fbded10945dcd9245fcaee04ea8abc2f7b77c3b\",\n  \"54ab3ab2b1169e9eb3fd4e7042d1fc0bd773febabcf5bcadc6b818550de1c23d475e344a22140ca16002da7a7f6e9964\",\n  \"56e858858a5e9bdb9a2bf37b925c698d73638c32fb0e89b47d4801680dda615df81f040a5a4fa590f9d10a4db421c6b4\",\n  \"18612b51a13fc66034efc2f6e6aa05104a8b65190d4de4d242c085e5ff437472579a1addd213be9e60e1cf2dc947d3af\",\n  \"2f5b0fc0ae757f86350049dfa45b2d8992bccd11883f12a9d2159a9deed3cdd9d82c25957491b32026fada54f6deb963\",\n  \"f7da29c0bc97ec595005e572f8dc86bb79b2b6dbd561a8500704faf063fea04bcebbdae98dc6e28d4bb0b7f2ccfb9087\",\n  \"ba82d0802a1e646e0f47d278a9c9e976157f47898b64b4416bf1236bcdc899b90aa54c42e4080f777a09194ab9ae1830\",\n  \"ebe7d0ef0806dc1bbf57f047dad6c98707e01bd1a4b2a993b9d5706ea036df67239db8c2a12ccb0e899fb79eb507f619\",\n  \"c9a177c462e1c1919f1540c2e82bca40435774ba805bdbaccb1ad562107ad1957a78fdb6d272aae4a1495ed3a21bdd2a\",\n  \"4f8beb9e27372ad4b406eb5679be95f09b72170cda72d0106cc77a50909daa9f4a7eb599a33aebd90328e832379a149b\",\n  \"c0a95a90a72d6e72fb4423cf48a5ec1d7e4c02ad243451921b4c9669724e287fa1e8131c4b9d0c74cdafbb038c4eec5f\"\n]. file_list is giving me weird results on some fields:\n{\n    \"blobs_completed\": null,\n    \"blobs_in_stream\": null,\n    \"channel_claim_id\": null,\n    \"channel_name\": null,\n    \"claim_id\": \"1fc4daea63e9064e02cdf30085c48aa7ec05428a\",\n    \"claim_name\": \"ethos\",\n    \"completed\": true,\n    \"download_directory\": \"/home/ful0n/Downloads\",\n    \"download_path\": \"/home/ful0n/Downloads/ethos.mp4\",\n    \"file_name\": \"ethos.mp4\",\n    \"key\": \"acc07897e61c3b75e23374fd582ae8e6\",\n    \"metadata\": {\n      \"author\": \"PRO Mining\",\n      \"description\": \"\\u041c\\u0410\\u0419\\u041d\\u0418\\u041d\\u0413 ETHOS \\u041a\\u0410\\u041a \\u041f\\u041e\\u0412\\u042b\\u0421\\u0418\\u0422\\u042c \\u0425\\u0415\\u0428\\u0420\\u0415\\u0419\\u0422 \\u0418 \\u0423\\u0412\\u0415\\u041b\\u0418\\u0427\\u0418\\u0422\\u042c \\u041f\\u0420\\u0418\\u0411\\u042b\\u041b\\u042c...https://youtu.be/vVRz4xcgwso\\n\\n\\u0421\\u0434\\u0435\\u043b\\u0430\\u0442\\u044c Update Ethos: \\\"sudo ethos-update && sleep 5 && r\\\"\\n\\n\\u0421\\u0435\\u043a\\u0440\\u0435\\u0442\\u043d\\u044b\\u0439 CRYPTO \\u0447\\u0430\\u0442 PROMining: https://t.me/joinchat/DcA50UOSCdU4uq_vQDm6rQ\\n\\n\\u041d\\u0430\\u0434\\u0435\\u0436\\u043d\\u044b\\u0439 \\u043e\\u0431\\u043b\\u0430\\u0447\\u043d\\u044b\\u0439 \\u043c\\u0430\\u0439\\u043d\\u0438\\u043d\\u0433 GS Mining: https://gsmining.com/invite/713388/\\n\\n\\u0414\\u043e\\u0432\\u0435\\u0440\\u0438\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e\\u0435 \\u0443\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0438 \\u043e\\u0431\\u0443\\u0447\\u0435\\u043d\\u0438\\u0435: https://fct.academy/promo?ref=JY8A426r\\n\\n...\\nhttps://www.youtube.com/watch?v=vVRz4xcgwso\",\n      \"language\": \"en\",\n      \"license\": \"Copyrighted (contact author)\",\n      \"licenseUrl\": \"\",\n      \"nsfw\": false,\n      \"preview\": \"\",\n      \"thumbnail\": \"https://berk.ninja/thumbnails/vVRz4xcgwso\",\n      \"title\": \"\\u041c\\u0410\\u0419\\u041d\\u0418\\u041d\\u0413 ETHOS \\u041a\\u0410\\u041a \\u041f\\u041e\\u0412\\u042b\\u0421\\u0418\\u0422\\u042c \\u0425\\u0415\\u0428\\u0420\\u0415\\u0419\\u0422 \\u0418 \\u0423\\u0412\\u0415\\u041b\\u0418\\u0427\\u0418\\u0422\\u042c \\u041f\\u0420\\u0418\\u0411\\u042b\\u041b\\u042c\",\n      \"version\": \"_0_1_0\"\n    },\n    \"mime_type\": \"video/mp4\",\n    \"nout\": 0,\n    \"outpoint\": \"d814a95f4537c20c20663ebdbc4fcf5d5ac896ce9783e7db48362f6eb55ba57c:0\",\n    \"points_paid\": 0.0,\n    \"sd_hash\": \"d1cbadd2c69894dbf38ffbfb8e92c694d90431ff26d3e5b0b083e0acb6aaf95e6d9d5f3924507d1f46fa118538d63fd8\",\n    \"status\": null,\n    \"stopped\": true,\n    \"stream_hash\": \"21dde33b9892aa97a5b44de5fcd54fc4357bbedb1a428cf3441aafa12bff30e05fc3bc6516d7444302233b70a09dff78\",\n    \"stream_name\": \"ethos.mp4\",\n    \"suggested_file_name\": \"ethos.mp4\",\n    \"total_bytes\": null,\n    \"txid\": \"d814a95f4537c20c20663ebdbc4fcf5d5ac896ce9783e7db48362f6eb55ba57c\",\n    \"written_bytes\": 41051709\n  }\nI think fully checking this one will be harder since it has a lot of edge cases.. claim_list_by_channel also works. The above stack trace of block not found was caused by issues on the wallet servers.. (lbry3) \u279c  lbry git:(master) \u2717 lbrynet stream_cost_estimate lbry://one                      \n10.0\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet stream_cost_estimate lbry://two\n0.0\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet stream_cost_estimate lbry://three\n10.0\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet stream_cost_estimate lbry://four \n0.0\n(lbry3) \u279c  lbry git:(master) \u2717 lbrynet stream_cost_estimate lbry://five\n53.92782\n\nI think this can be closed, unless there is another edge case I'm missing to reproduce.. tested, works! closing. tested, this one works fine.. tested, it works. closing.. startup isnt being sent at all and I tried raising an error to check the event for errors and it failed badly instead. Analytics is started after the startup even is sent, so its not sent. Then something isnt so good with exception handling for the error case.\nTry adding log.hahaha() here: https://github.com/lbryio/lbry/blob/v0.21.2/lbrynet/daemon/auth/server.py#L246\nIt fails and hangs.\nBut after this line it works: https://github.com/lbryio/lbry/blob/v0.21.2/lbrynet/daemon/auth/server.py#L224. One of my seeders was running on commit 570c1163c1ae367e3691974c747b60ec3f3562d4 and crashed like:\n```\n2018-09-24 03:33:31,276 INFO     lbrynet.dht.hashannouncer:60: Announcing 3 blobs\nFatal Python error: Cannot recover from stack overflow.\nThread 0x00007f6f2a7fc700 (most recent call first):\n  File \"/usr/local/lib/python3.7/threading.py\", line 296 in wait\n  File \"/usr/local/lib/python3.7/queue.py\", line 170 in get\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/_threads/_threadworker.py\", line 45 in work\n  File \"/usr/local/lib/python3.7/threading.py\", line 865 in run\n  File \"/usr/local/lib/python3.7/threading.py\", line 917 in _bootstrap_inner\n  File \"/usr/local/lib/python3.7/threading.py\", line 885 in _bootstrap\n```\nThis is dedicated seeder, so there is no wallet or anything like that. I think it happened during announce.. @jackrobison \nLook at this recent one on my seed node:\nCurrent thread 0x00007f3ecf2c7700 (most recent call first):\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568 in _startRunCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 460 in callback\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 89 in succeed\n  File \"/home/ful0n/repo/lbrynet/lbrynet/dht/protocol.py\", line 38 in _add_contact\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151 in maybeDeferred\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1652 in execute\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568 in _startRunCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 460 in callback\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1797 in release\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1625 in _releaseAndReturn\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 311 in addCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 345 in addBoth\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1653 in execute\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568 in _startRunCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 460 in callback\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1797 in release\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1625 in _releaseAndReturn\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 311 in addCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 345 in addBoth\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1653 in execute\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568 in _startRunCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 460 in callback\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1797 in release\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1625 in _releaseAndReturn\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 311 in addCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 345 in addBoth\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1653 in execute\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654 in _runCallbacks\n  File \"/home/ful0n/venv3/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568 in _startRunCallbacks. Thank you for the suggestion! Indeed it makes sense. Also, it's not a problem, the server already knows all claims. I'm pretty sure it's a one line change to set the page default to 1 and another simple one on resolve.py to tell the total. We just need to get the app team in the loop and plan when to release this change. Unless @jackrobison knows any other limitation.\n. @daovist thanks! that one needs fix on wallet server. The internal server error comes from there.\n@jackrobison do you have an example for the empty reply?. @tzarebczan fix merged in https://github.com/lbryio/torba/pull/16\n@eukreign can you update this thread when there is an RC with it?. @lyoshenka it came from a discussion with @jackrobison but we implemented retry instead and the whole DHT is refactored, so we can close and reopen later if it becomes a good idea again. I remember adjusting timeouts and doing retry was enough.. yes, closing as dupe. beyond this example, we should not fail to sync when we get a claim we're unable to decode. I would say that's the final \"definition of done\". I tested and it simply works. I switched one of my servers to it and will keep an eye if something breaks, otherwise we can just clean up and simply set it to the same.. @eukreign still needed, but needs to go through planning as its not super easy.. since nobody replied, I'm closing as I don't see it anymore and got no report of someone affected. If it happens again, please reopen.. done in torba/lbrynet tests. done in torba/lbrynet tests. ## Streaming API\nEndpoint: /stream/\nStructure:\nGET /stream/<sd_hash> HTTP/1.1\nRange: bytes=1234-5678\nExpected reply:\n1. Stream descriptor hash is known and blobs in the segment are on disk:\nHTTP/1.1 206 Partial Content\nContent-Range: bytes 1234-5678/40000000\nContent-Length: 4445\n...\n(binary content)\n\n\nBlobs are missing:\nServer will block the request until blobs in the requested range are available. Optionally telling all downloader subsystems to skip to the requested point (that's an implementation detail).\n\n\nThe given stream descriptor hash is unknown.\nServer will reply with 404. Client needs to resolve and/or get the file before using stream. It's not possible to know if the hash is really unavailable or just unknown, so 404 \"Not found\" tells it clearly.\n\n\nRange requested doesn't match the file size.\nServer will reply with 416: Range not satisfiable . I use download_blob_from_peer.py for checking upload from my hosts but its a personal use case. seed_node.py is useful too, for creating private DHT nets for testing stuff. Still, a personal development use case.\nSome of the other are also useful for maintenance, but its hard to know what exactly.\nI think what applies to all of them is that they were or are useful only in personal manual things. We should move them to jack-scripts or any other personal stash in a \"scripts you might need someday in a rainy afternoon\" folder.\n\n\nSo, I approve removing from here.. @tzarebczan @eukreign we arent using Twisted anymore, can this be updated?\nFailed resolve is an issue, but the error here is just a dropped/cancelled/timed-out API call. This is #1619 today, being addressed on #1952 \nFor this specific issue here, what could be investigated is if the wallet fails to reconnect or something like that, but the stack traces in here arent related, they are triggered when the caller cancels by its own timeout.. nice to have: separate connection opening from blob requests\nwhy: so peers will take the time it needs to establish a connection before being available to download, thus improving the speed score and peer picking since the time to open the connection wont favor ongoing slower peers.. #1942 supersedes this. changed. maybe update this comment? reflect_uploads doesn't control the re-reflect anymore. Sorry, it also does, but this became a bit confusing. Maybe the # set to 0 to disable added below is enough. Or explain that they both need to be active for enabling re-reflect.. Fixed, thanks. (the comment isn't gone because it's the other line). No, the idea is that it doesn't care about the result of start at all. Yielding would also make it wait, but we agreed to leave it concurrently.. Agree with Lex. In general it's a good practice, but I believe not in this case. This loop doesn't raise to callers, so if the exception isn't handled and logged here it won't be anywhere and could cause cryptic \"unhandled error\" messages. IMO, but if you disagree we can be specific.. (suggestion)\nInstead of setting it here and and at 123, what about \nself.headers_download = self.headers_progress_percent < 100\nat 123?. This call abstracts a stat on the file, it may not account buffering. h_file.tell() will return the write position at the very current moment. I find that better for a case where you have tight control of the write but if it's already precise enough, feel free to ignore this as well. Also, stat is a system call and this function runs for every chunk. Tell just reads the file position.. Maybe show only that? While testing I noticed it goes back to 0 when download is skipped (unnecessary).\nI would suggest something like (programming in comments reads bad, feel free to implement it readable):\nheaders_download_progress = headers_download_progress if is_downloading_headers else ((local_height/remote_height) if remote_height else 100). Maybe add it decoded as it's how hashes are stored on DHT classes? Also maybe not directly over the attribute but over a method so BlobManager keeps handling hex encoded hashes while DHT handles decoded ones to keep expectations/consistent in check.. Yes, we just talked about it on the standup. The score seems local to the blob requester, since each file is a downloader and each downloader has its own requester. Jack will take a look on it and see if its ok to do this way or if there is a better approach.. It is done implicitly over blob manager. When one finishes a blob, the other will see that through the shared blob manager and go to the next (or halt, if nothing else to do). I can add that as a class documentation on the HTTPBlobDownloader class.. :man_facepalming: yes, of course! fixing it!. It has to return an int. That just helps converting it. struct.unpack doesn't support 384 bits afaik.. https://docs.python.org/3/library/socket.html#socket.error\n```\nexception socket.error\nA deprecated alias of OSError.\nChanged in version 3.3: Following PEP 3151, this class was made an alias of OSError.\n``. On why: I was trying to make the tests immune to PYTHONHASHSEED. If we find a better way this can go away. I think a comment should be good in there.. nice catch! they come in big endian unsigned bytes. This function makes them into hex, then converts hex to int. It was like that in py2, but there is a better readable way to do in py3, see:\nhttps://github.com/lbryio/lbry/pull/1370/files#diff-3a31e4218bf33300ff7b84e484ef1c2bR140\nI was solving those cases, but totally forgot that one.. Good catch.return yielddoesn't from my last experiments, butreturn (yield d)` did. Gonna try that.. changed the infinite loop to obey the max rpcAttempts. So it will give up on high load + high packet loss. (sanity check). +1\nadded that. remove \"TODO\" comment, you did it! \\o. because it was hard on subclasses, specially on findNode to tell we are finished but we do have a result (double triggering). Setting it twice wont work and setting once wont properly signal its end. Was it useful for other things?. because aclose can try to cancel the caller, call_soon detaches the relashionship. _test_transfer_stream does it, but I will carry some to the test itself.\nWhat's being really tested here is that it doesnt hang or explodes in errors (which was the fix). I will assert it transferred fine.. nice! simpler. ",
    "alyssaoc": "closing, reopen if this is still an issue. @tzarebczan confirm fix and close. @eukreign Could you please confirm if the remaining issues are still valid and open issues as necessary? Then close this issue.. closing will reopen new issues if any are needed. fixed by https://github.com/lbryio/lbry/commit/c6e614ebec109f7fcdb061f5e44a4fd8c897417b. fixed by #507. no longer an issue per Tom. part of LBRY proposal process . @lyoshenka Should this go to the icebox and/or closed?. @eukreign Does the new wallet fix this issue? If so please close.. @tzarebczan Is this still an issue?. closed by #109. will watch with the new app. will be addressed in new wallet. @eukreign Could you test this with the new wallet and close as necessary?. this is currently part of proposals. @eukreign @nikooo777 Can you make sure these work as expected on the new CI solution?. @eukreign Please see findings https://github.com/lbryio/lbrycrd/issues/98#issuecomment-374082302\nand determine path forward. does not apply with the new wallet, closing. @eukreign was this addressed in the new wallet? . @jackrobison the other issue ref here #786 is closed. Can we close this or are we still seeing this failure?. @tzarebczan please test after p3 integration. @tzarebczan Can this issue be closed?. need to prioritize with grin and jeremy. see also https://github.com/lbryio/lbrycrd/issues/184\n@tzarebczan is checking with @jackrobison to see if this can be done without blockchain changes. @tiger5226 Which issues are still open?. @eukreign and @jackrobison do we want to proceed with this or can we close?. @eukreign Is this still an open and relevant issue? If yes we need a description and done criteria. @eukreign #1298 is closed, can this be closed?. review again after wallet. closing, will open it if it comes back. @tzarebczan and @billbitt can you check how many open connections spee.ch still has? Is this an open/closed issue?. no longer an issue. @eukreign Is this resolved with the new wallet?. @tzarebczan can you confirm this is handled correctly. this is being discussed as an internal proposal/improvement, needs priority assignment . @lyoshenka any updates on this?. @eukreign can you confirm this is fixed with new wallet implementation?. @tzarebczan can you check for this on loggly?. closing, reopen if this is still an issue. closing as a duplicate of #812 . @tzarebczan can you confirm on loggly?. @eukreign Can you confirm this is still an issue? Will the new wallet fix it?. @jackrobison can we revisit this after the network has stabilized?. @alyssaoc needs a priority. @lyoshenka Could you please groom and clean up this issue so we can move forward?. @jackrobison is this still and issue? which related tickets would fix it?. @jackrobison please confirm new UPnP solution fixes this?. @jackrobison does the new UPnP solve this?. this is related to hole punching, which address and port you have vs what you expect to have. @hackrush01 Do the components updates fix this?. @tzarebczan can you check loggly for this?. closing, new daemon helps this. @eukreign and @shyba Can you confirm this is no longer and issue?. closing as a duplicate of #1311 . @jackrobison Is this still an issue?. closing, reopen if this is still an issue. @hackrush01 Is this still an issue?. closing, reopen if this is still an issue. @tzarebczan can you check loggly for frequency?. @tzarebczan Is this still an open issue?. @akinwale Is this a valid issue?. needs a priority. @lyoshenka Is this still an open issue? Priority?. @tzarebczan please confirm that claim take over use original claim height. @lyoshenka Can this issue be closed or defined into an actionable issue?. @eukreign Does the new wallet implement this?. @eukreign will the new wallet include this?. @eukreign does the new wallet address this?. Closing will watch for this in the new wallet. comment left on 962, closing epic. will re-visit after new wallet. @tzarebczan does this still need to be addressed? . completed as part of #1080 . @lyoshenka Is this still something you want to do or modify? Priority?. @lyoshenka Is this still a valid epic? What is the priority? They will need additional grooming. On-hold, icebox?. @tzarebczan Is this still an issue?. @lyoshenka Is it worth keeping this issue open? Can I close it in the icebox?. closing, reopen if this is still an issue. @tzarebczan Could you verify if this still happening? @eukreign Is the timeout different between lbryum and lbrymx?. @eukreign Do we want to add any of the above to the install instructions?. @eukreign Can this be closed?. @eukreign Is this still valid or has the new travis build solved this?. @eukreign Do you want to keep this open or have someone do a live video recording for Brink @Feanor78 . @lyoshenka Is this still valid? Need additional information. @hackrush01 Can you look into this, is it a quick change?. closing, issue resolved. @lyoshenka Is this something we want to do?. this is fixed in 0.21 with components. this has been fixed. closing, reopen if this is still an issue.  @tzarebczan will see if the output is valid, this no longer errors. closed with new wallet. will be included in https://github.com/lbryio/lbry/blob/330db61b36ef4379bc72b449579d481239439c06/tests/integration/wallet/test_commands.py#L172. @jackrobison this is related to analytics. closing per lex. verify this fix with the new wallet. @tzarebczan please check behavior with the new wallet. @jackrobison Is this issue still valid?. @tiger5226 Is this still happening?. closing, will open a new issue to align with OKR. duplicate of #1362 . @jackrobison Is this still an issue?. closing, reopen if this is still an issue. @hackrush01 Can you update the api documentation with the valid characters?. @jackrobison What are the next steps to improve this?. @jackrobison assess the speed of this. complete and can be closed per stanup 7/13. @shyba Is this related to the work you are doing?. @eukreign How is this being handled in the new wallet?. Suggestion for ongoing testing: the daemon team members run their software in the mobile and/or desktop app environments more rather than just as a standalone component. The reasoning here is: 1) A general application of the end-to-end principle and 2) Having the same subjective experience of our users will be beneficial. Discovery completed opening new issues for troubleshooting issues. @akinwale Is this still an issue or did the new daemon fix it? . related #586 . @eukreign we need to solve this before we release mobile app 1.0 and we need to release 1.0 yesterday. @lyoshenka Jack does need help with the sql. Tom and Jack have gone as far as they can without significant sql help from you. Apologies, I forgot to add that note in Github. . @hackrush01 if #1317 is closed, is this also done? or still open. timeout is now 3 min. DOD: Blobs do not fail. yes, it is covered on #1197, closing. completed in #1456, closing. ..broadcast = false. Issue moved to lbryio/lbry-android #305 via ZenHub\n. @tzarebczan please close if we can. not fixing at this time. has been fixed. try to re-establish contact, if not close. Issue moved to lbryio/growth #109 via ZenHub\n. #1582 related to. Jack is the buddy. Lex is the buddy. @tzarebczan is this still a valid issue?. @lbryio/protocools @lbryio/appsquad @lbryio/api Please review and provide any input on this issue. Victor thinks this can be implemented relatively quickly, feedback ASAP. I will add the minutes . The buddy is Victor. Issue moved to lbryio/internal-apis #738 via ZenHub\n. ",
    "pmfrulez": "http://prntscr.com/dtwens. for a while I notice that new transactions on my address does not see on explorer probably on other addresses too..the last time I informed jiggytom about that ....Network in GH/s,Difficulty,total Coin Supply and LBC/BTC price (can u change price to poloniex value ?) is regularly refreshes.... lating of 2-3 days  for correct balance is not normal I think @lyoshenka still incorect balance on explorer . ",
    "lbry-ci": "\n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. \n  1 Error: Please include a CHANGELOG ent...\n  0 Warnings\n  1 Message: See http://keepachangelog.com/...\n  0 Markdowns\n\n\n\n\n\n\n          1 Error\n      \n\n\n\n\n:no_entry_sign:\nPlease include a CHANGELOG entry.\n\n\n\n\n\n\n\n\n          1 Message\n      \n\n\n\n\n:book:\nSee http://keepachangelog.com/en/0.3.0/ for details on good changelog guidelines\n\n\n\n\n  Generated by :no_entry_sign: Danger\n\n. ",
    "Ambros94": "After removing ~/Library/Application Support/LBRY I've tried with the 7.x.x version and It was still there, but it works with the last version (v0.8.0rc2-2-g91d673a). . ",
    "janellebradleyZ8p": "thanks, there is lbrynet-daemon indeed but, it is exiting anyway.\nThis is how it looks over VNC\n/opt/venvs/lbrynet/bin/lbrynet-daemon\nStarting lbrynet-daemon from command line\nTo view activity, view the log file here: /home/userpwfzutpfzlsicr/.lbrynet/lbrynet.log\nWeb UI is available at http://localhost:5279\nJSONRPC API is available at http://localhost:5279/lbryapi\nTo quit press ctrl-c or call 'stop' via the API\nXlib:  extension \"XInputExtension\" missing on display \":562\".\nXlib:  extension \"XInputExtension\" missing on display \":562\".\nXlib:  extension \"XInputExtension\" missing on display \":562\".\nXlib:  extension \"XInputExtension\" missing on display \":562\".\nlibGL error: failed to load driver: swrast\n[22536:22536:0118/210951:ERROR:gl_surface_glx.cc(386)] GLX 1.3 or later is required.\n[22536:22536:0118/210951:ERROR:gl_initializer_x11.cc(20)] GLSurfaceGLX::InitializeOneOff failed.\n[22536:22536:0118/210951:ERROR:gpu_child_thread.cc(390)] Exiting GPU process due to errors during initialization\n[21524:22483:0118/210951:ERROR:browser_gpu_channel_host_factory.cc(119)] Failed to launch GPU process.\nClosing lbrynet-daemon\n................\nThis is how it looks in NO gui - terminal\n/opt/venvs/lbrynet/bin/lbrynet-daemon\nStarting lbrynet-daemon from command line\nTo view activity, view the log file here: /home/userpwfzutpfzlsicr/.lbrynet/lbrynet.log\nWeb UI is available at http://localhost:5279\nJSONRPC API is available at http://localhost:5279/lbryapi\nTo quit press ctrl-c or call 'stop' via the API\nClosing lbrynet-daemon\n. ",
    "mlncn": "I'm getting this also (over and over and over again, heh).  It was using as much CPU as it could grab and a substantial chunk of RAM too (and i have 16 gigs).\nI had installed per the https://lbry.io/quickstart/install instructions for Linux.\nStarted the lbrynet-daemon and it had been running since, with not deleterious effects that i was aware of.\nI had suspended the computer and changed locations a few times already with no incident.  The only possible thing i can think of now being different is that it took a while to reconnect to the wifi network this time.  Maybe this error could be triggered by not having network access for a time?. It was running at full resource hog mode for about an hour before i ctrl+Cd it.  There was one other set of error messages i got (showing much more occasionally than the constant of the error lyoshenka already reported) that is not reported yet, \"lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\".  For those who want the full flavor, here's a slice of the errors it kept spitting out:\n```\n2017-03-20 18:40:29,109 CRITICAL twisted:154: Unhandled Error\nTraceback (most recent call last):\n  File \"site-packages/twisted/python/log.py\", line 86, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 118, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 81, in callWithContext\nFile \"site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\n---  ---\n  File \"site-packages/twisted/internet/udp.py\", line 249, in doRead\nFile \"site-packages/lbrynet/dht/protocol.py\", line 160, in datagramReceived\nFile \"site-packages/lbrynet/dht/node.py\", line 385, in addContact\nFile \"site-packages/lbrynet/dht/routingtable.py\", line 403, in addContact\nexceptions.KeyError: 0\n2017-03-20 18:40:29,224 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,224 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,225 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,225 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,225 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,226 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,226 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,227 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,227 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\n2017-03-20 18:40:29,227 WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\nUnhandled Error\nTraceback (most recent call last):\n  File \"site-packages/twisted/python/log.py\", line 86, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 118, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 81, in callWithContext\nFile \"site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\n---  ---\n  File \"site-packages/twisted/internet/udp.py\", line 249, in doRead\nFile \"site-packages/lbrynet/dht/protocol.py\", line 160, in datagramReceived\nFile \"site-packages/lbrynet/dht/node.py\", line 385, in addContact\nFile \"site-packages/lbrynet/dht/routingtable.py\", line 403, in addContact\nexceptions.KeyError: 0\n2017-03-20 18:40:29,264 CRITICAL twisted:154: Unhandled Error\nTraceback (most recent call last):\n  File \"site-packages/twisted/python/log.py\", line 86, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 118, in callWithContext\nFile \"site-packages/twisted/python/context.py\", line 81, in callWithContext\nFile \"site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\n---  ---\n  File \"site-packages/twisted/internet/udp.py\", line 249, in doRead\nFile \"site-packages/lbrynet/dht/protocol.py\", line 160, in datagramReceived\nFile \"site-packages/lbrynet/dht/node.py\", line 385, in addContact\nFile \"site-packages/lbrynet/dht/routingtable.py\", line 403, in addContact\nexceptions.KeyError: 0\n```. Killing the daemon gave the \"Can't stop reactor that isn't running\" error message mentioned in #544, among other output, but i doubt any of that output is relevant to this issue.  Let me know if you want it though!. ",
    "Invariant-Change": "In situations like this, 2 addition CLI commands would be useful:\nclaim_list_mine_simple Only displays the url and amount(s).\nclaim_abandon_all: Abandon all claims.\nUltimately, this would be perfect within the application UI in a claim management section, which is something I'm discussing with @shaunthornburgh who is an API developer.. Hi @martinvahi \nUsers, who do not want to monetize their content are NOT banned. You can set any price to charge for your content or set it as free as seen in the screenshot below.\n\nHowever, if you mean \"people are forced to use LBRY Credits to upload content\" to a lbry:// URL, then yes, you are correct. This is how the system works to secure a claim on the blockchain where your content is registered. However, this amount is microscopic. With just 1 cent you could upload a large amounts of content.\nThis is further offset with the FREE LBRY Credits you given via Rewards. for using the platform.\nSee more information about rewards here.\nAs for Community URL's, think of this like advertising space you bid for. Their price is determined by the market. See below for more details.\nThe Naming System/URLS's\nThere are various types of URL's you can have with LBRY.\n * Community: These act like advertising space (that's my spin on it).\n * Permanent: These remain yours indefinitely - read more.\n * Channel: This is like a username for your content.\n * Signed:  Content published to a channel.\nSee here  for more details about how naming works.\nIt's a new system that might not make sense to new people, but we are working to make it easier to understand.\nFind out More and Speak to us on Discord\nWhy not come and talk to use on the Official Discord Server. This is where all the magic happens.\nWe welcome all questions, all criticism and any feedback you have.\n\n. I agree somewhat. Although my reason will be short as it's late night this side of the planet.\nI believe that if the app came with something like 0.005 free LBC's (fuzzy logic in a fluctuating crypto market) using a unique anonymous token, to secure, it would allow a new user to use the application as soon as they download it and totally anonymously.\nIt would be hard to see a way for that microscopic amount of LBC to be abused especially if a few fail-safes were within the app to prevent abuse.\nHowever, there could be some technical challenges they are still trying to overcome.\n@tzarebczan Is this something that has been discussed? Getting LBRY to work straight out of the box, no sign-up/verification or crypto transfer required? I do see that as a selling point, making the concept less friction and more anonymous.. And before I drop off into the land of nod @martinvahi I see you are a StackExchange user.\nYou could put some of your questions here:  LBRY Protocol - Proposal. > The Titanic also had some technical challenges to overcome.\nOr did it? Link 1 - Link 2 *Puts tinfoil hat away.\nAgain, somewhat/mostly agree. LBRY is in BETA, so all passenger come fitted with life jackets and it's feedback like yours that helps LBRY become a better ship ready for launch :)\nSo many thanks for the time and effort you have also put in to give this feedback. It is very important!\nMy cabin awaits me. But I will be ready to answer any further questions you may have when on deck in the morning (UTC+10).\n\n. Done: https://github.com/lbryio/lbry/pull/1310. ",
    "eukreign": "@shyba are you working on any of these things as part of porting the p2p stuff to python 3?. New wallet reserves UTXO that are about to be spent. Closing this issue.. @KamilPiekutowski the IDE most of us use at lbry is PyCharm. The free community edition of the IDE may do what you want but I'd recommend the paid Professional version and if you don't want to pay for it you can try the Early Release Program which are free alpha versions of the professional edition (they are good for 30 days I think but you can just keep upgrading it to the most recent version indefinitely).. Can this be closed and re-opened as a new issue in the new wallet?. The entire lbryum package no longer exists in new wallet, closing.. We have extensive integration tests for all of the commands. api.json docs are automatically generated from Daemon.py.. @jackrobison @lyoshenka is this PR out of date and not mergeable? Can we close it? Or is there still something salvageable here we can fix and merge?. Closing this as significantly out-of-date and it appears the original PR author has abandoned the effort.. Can this be closed? It's probably too out of date to ever be merged?. This is actually referring to integration tests that were deleted (since the ticket is old), the new stuff will have this working. I don't think we need a separate issue for this, #1298 will address this.. Done in lbryio/lbryum#198. This is fixed in new wallet, here is the relevant unit tests that allows spending a UTXO where it costs more to spend it than you get from spending it:\nhttps://github.com/lbryio/torba/blob/f5515e5e77c599a86817d5b34384b7e4670ee27f/tests/unit/test_transaction.py#L277-L285. @tzarebczan jack posted the deserialized version of the transaction you were trying to send, it has just the one input and an output, both very low (0). in the unit tests I linked to, an additional input is added and thus there is substantial change as well, this should allow the TX to pass through the dust detector. if it still doesn't then there is nothing we can do on the wallet side to make it work, it would be up to lbrycrd to not kick it out.. Needs to be implemented in new wallet.. Will re-create this as a more specific issue when we get to working on it.. I think if we're going to change defaults we should do some more research. I expect such a change could be distruptive to the network until everyone updates. So if we're going to do such a disruption hopefuly it's only needed once and actually has the intended benefit.\n\nWhich ISPs block <10k ports?\nDo any major / popular ones do this?\nWhat do other P2P apps do to resolve this?\nBitTorrent is 6881-6889, does bittorrent not work for folks with such ISPs?\n\nIf only a small number of ISPs do this then I'd rather keep the defaults as-is.\n@jackrobison thoughts?. This is sub-task of the build process I'm currently working on, #1298 .. Signing for the daemon has not been added yet so this is a valid issue.. There are a couple of possible solutions to this:\n\n\nOnly allow publishing from Downloads directory. This would have the added benefit that we could automatically present the user with the list of newly added files that are not yet published (instead of having them go through file manager every time). Also, one could make the argument that keeping lbry isolated to one directory is better for security.\n\n\nKeep a local mapping of file hash to file path and check this before generating / downloading files to Downloads directory. This solution directly addresses this original issue but there may be a lot of new edge cases it creates (if a user has lbry installed on more than one computer, then on the original computer from which they uploaded the file it will be in one place and on the second computer it will automatically go into Downloads directory... unless they sync the file path mapping to the second computer).\n\n\nStore the original file path in the file meta data. I think this would be the worst solution since it exposes the users private directory structure to the outside world.\n\n\nI think option 1 is the best because it has clear and obvious workflow for users and for developers with the least amount of edge cases.. We're going to switch to using dewies/satoshis in the API so this is no longer needed.. Adding a --broadcast flag to publish command is doable. In fact, I think all commands that deal with TXs should have a --broadcast flag with default being do not broadcast and then if you want to broadcast you must pass the flag?\nClosing this since the original issue (of no error to user) has been resolved.\nA new issue should be created to add a --broadcast flag to publish so that it is possible to simulate a publish without actually broadcasting.. publish is significantly faster with the new wallet, closing this as the original issue may no longer be valid.. Would it suffice to say that adding a websockets API would solve this problem? I made an epic: https://github.com/lbryio/lbry/issues/1649. Traceback is referencing the old lbryum based wallet, presumably this is no longer an issue in the new wallet, closing this as outdated.. Yeah, there is a new command for this and it lets you specify number of confirmations, whether to include/exclude reserved UTXOs (TX created but not in mempool yet) and any TX that are claim related:\nhttps://github.com/lbryio/lbry/blob/lbryum-refactor/lbrynet/daemon/Daemon.py#L3185-L3186. @jackrobison can you add some integration tests for the blob exchange that properly handles missing directory and permission issues.. from @hackrush01 on slack: https://medium.com/@boxed/moving-a-large-and-old-codebase-to-python3-33a5a13f8c99. Going to re-open this to keep attention on it. Having it closed might discourage someone from trying.\nSeveral of the other lbry libraries are already Python 3, so porting lbrynet to Python 3 isn't as far fetched.. We are not currently planning to add IPFS support; we'll re-open this issue if that changes.. I think this is fixed by the components.. Dropped --disable-max-key-fee as a separately stored boolean and instead there is just max_key_fee: null in the daemon_settings.yml, since setting things null via command line is difficult there is new --no-max-key-fee which sets max_key_fee: null. Also, passing a new max key fee via cli is now using this format: --max-key-fee 3.0 USD (in daemon_settings.yml it remains unchanged for backwards compatibility)\nhttps://github.com/lbryio/lbry/pull/1815. Valid issue and still needs to be implemented. Shouldn't be hard to do with the new wallet.. @alyssaoc This is still a valid feature request and should be relatively easy to implement with the new wallet.. @shyba can you comment on this, it sounds related to all of the work you've done with resolve and lbryumx.. @jackrobison does the new asyncio DHT solve this?. @jackrobison is this still an issue in the new async DHT?. @jackrobison if this is a valid issue can we add integration tests for it?. oop, didn't mean to close. closing as we'll not get to it for a while. I have not experienced this issue in the new wallet. It defaults to downloading 2000 headers at a time, so most of the time when you sync it'll do so in a single request/response and the message is pretty clear of how many was downloaded and the new height.. @jackrobison is this solved in the new async blob exchange implementation?. we're using aiorpcx for the wallet, it understands the SOCKS4, SOCKS4a and SOCKS5 protocols, what else needs to be done to resolve this issue? @shyba . All of the local commands (which query sqlite db) return uniform data structure for tx and txos. Only exception right now is data coming from lbryumx. Re-assigning this to @shyba for further consideration.. The official SDK should just support JSON-RPC. We'll leave exotic RPC extensions for community contributions.. @jackrobison is this still a valid issue with the new async DHT?. all settings can be set now as of https://github.com/lbryio/lbry/pull/1816. This is done.. The components help with this but it hasn't been tested so we shouldn't close this.. master does support turning components on and off, you add a new setting value called components_to_skip with list of components to skip, also toggling relfector is still supported with independent settings option:\nhttps://github.com/lbryio/lbry/blob/88b8ca8a49922bd7f9b6fa90fa093bd5d0232dec/lbrynet/daemon/Daemon.py#L199-L201. You are correct @tzarebczan , it's not possible with current master.\n@shyba has a branch related to this though: https://github.com/lbryio/lbry/tree/disable_dht. @jackrobison I believe you finalized this, right? We can close this issue?. New wallet can restore a wallet (account) from a seed:\nlbrynet account \"name of your account\" --create --seed=\"seed you used previously\". This is available in new wallet by creating TXs and showing them but not broadcasting them, the JSON response includes the fees.. New wallet supports unlimited accounts. You could import the paperwallet (by using seed or private key) and then spend all UTXOs in the paper wallet to another wallet or just use the paper wallet as your main account.. Just to clarify, this is asking for two things:\n- import WIF format paper wallet as a new account\n- importing and spending it into an existing account all in one action. This issue is unlikely to come up in regular use.. It would take very significant effort to implement this correctly to handle the sqlite database and config files we write to. Also, do you prevent the daemon from starting if another unrelated process has opened the sqlite database or only if another daemon has it opened? There are a lot of questions of how this locking should work.\nActually, in the simple case it already works, daemon won't start if you already have an existing daemon bound to the same port. This already covers 99% of scenarios.\nBefore we can reasonably act on an issue like this we should figure out what the 1% case is that reproduces this problem: How do you get into the situation where you have two daemons writing to the same sqlite database and what are the chances that situation can be triggered by a user unintentionally?. One major problem I've just realized for this issue is that lbry is MIT license and lbryum is GPL license. These are not compatible licenses (at least from GPL perspective). MIT is very permissive and GPL is very restrictive.\nWe'd have to contact all of these people and get their permission to change the lbryum license to MIT:\nhttps://github.com/lbryio/lbryum/blob/master/AUTHORS\nTo confuse the issue even more, it looks like the project on which lbryum is  based has recently switched to MIT license (as Feb 24, 2016):\nhttps://github.com/spesmilo/electrum/blob/master/LICENCE. @kauffj @billbitt @lyoshenka We've determined the culprit to be channel_list() function. The solution for spee.ch is to pass the channel_id instead of channel_name, thereby bypassing this branch in the conditional:\nhttps://github.com/lbryio/lbry/blob/7862ee67153214c29079028c35fae706dd5621e2/lbrynet/daemon/Daemon.py#L2079-L2089. I think this is more of a goal / direction than an actionable issue. We should keep this and refer to it but doesn't make sense to keep issue open.. production reflector server is in go now. @jackrobison is this fixed?. The new wallet times out much quicker and tries the next lbryumx server in the list.. If we want to support customized block lists then doing this at lbryumx layer probably would be much harder (since then we'd have to implement blocking both in lbryumx for the official block list maintained by LBRY Inc and in daemon/desktop app for user customizeable block lists)? I think we should do this solely in the daemon/client?\nOn the other hand, if we start adding more daemon implementations in other languages, we'd have to reimplement this blocking feature in each version...\nHmm, is there a way to have official block list and popular community block lists at the lbryumx side (as a sort of hybrid solution)? @shyba \nPerhaps lbrumx could have the official LBRY blocklist and then other groups that want to maintain block lists can do a PR or request that a URL be added to lbryumx for their blocklist and become an option to users using that lbryumx instance. When clients do a resolve to lbryumx they would provide the block lists names supported by that lbryumx server that they would like to have the resolve filtered by?\nAre there legal implications we should be concerned about regarding where the blocking happens?. I don't think end-users should be using pip and virtualenvs to install lbrynet; especially now that we have on-push builds for all three platforms hosted at http://build.lbry.io/\nWe should add instructions and sample configs for how to run lbrynet in headless mode on at least Debian/Ubuntu (or common flavor there of).. The scope of this issue should be to create a debian package which properly sets up lbrynet to run as a service on Debian / Ubuntu.. this is done via account_lock command.. Work in progress here: https://github.com/lbryio/lbry/wiki/Error-Codes. No, this needs to be implemented in lbry still.. This is still valid, someone needs to tackle this one.\nThe new build system is using multiple parallel travis build containers, so I think what @kauffj is suggesting is very doable, we could have a separate build process that uses a Ruby container (thus everything is already pre-installed) and does the changelog check only but in parallel to other checks.. generating changelog from PRs, closing. We could maybe do this at the next all-hands and someone record it?. We're going to switch to using dewies/satoshis in the API so this PR is no longer needed.. I would like to prioritize this immediately after 0.30 release.. closing as too stale, will fix another way. Work in progress here: https://github.com/lbryio/lbry/wiki/Error-Codes. @jackrobison still valid?. errors reported by @jackrobison in slack regarding the daemon-components branch which is now been merged into this PR.\nwhen hosting:\n```\n2018-07-05 16:02:25,313 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\nUnhandled error in Deferred:\n2018-07-05 16:02:25,313 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-07-05 16:02:25,314 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"/home/jack/.virtualenvs/superfresh/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 651, in _runCallbacks\n    current.result = callback(current.result, args, *kw)\n  File \"/home/jack/code/lbry/lbrynet/core/server/ServerRequestHandler.py\", line 166, in send_response\n    self.send_response(response)\n  File \"/home/jack/code/lbry/lbrynet/core/server/ServerRequestHandler.py\", line 141, in send_response\n    self._produce_more()\n  File \"/home/jack/code/lbry/lbrynet/core/server/ServerRequestHandler.py\", line 61, in _produce_more\n    log.trace(\"writing %s bytes to the client\", len(chunk))\nAttributeError: 'Logger' object has no attribute 'trace'\n2018-07-05 16:02:32,256 WARNING  lbrynet.core.server.ServerRequestHandler:128: An error occurred handling a request. Error: 'Logger' object has no attribute 'trace'\nUnhandled error in Deferred:\n```\n^ logger not being set up somewhere\non shutting down before a component has started:\n2018-07-05 16:33:37,376 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"/home/jack/.virtualenvs/superfresh/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/jack/.virtualenvs/superfresh/local/lib/python2.7/site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/jack/code/lbry/lbrynet/daemon/Component.py\", line 63, in _stop\n    raise err\nAttributeError: 'NoneType' object has no attribute 'stop'. @BrannonKing can you be specific, which encode/decode calls are you referring to?\nMost of the encode/decode are related to python 3 because everything is unicode by default for example, when you load JSON data it is only ever unicode (even if you recieved it as bytes from file or over network), strings coming out of sqlite are also unicode... BUT... most hashing and blockchain related processing is in bytes. Therefore a majority of the encode/decode calls in the wallet is just shuttling data from bytes to unicode and back depending on where the data is going or where it's coming from.. @BrannonKing In Python 3 everything is pretty strict when it comes to unicode vs bytes. Things crash early on if you pass a unicode string where a bytes string was expected.. The reason lbry stuff is not in torba is because it makes issue tracking and managing releases easier and faster. Eventually the goal is that torba will have much fewer changes and will stay constant despite more frequent lbrynet releases.\nPreviously with lbryum there was additional administrative and tracking overhead in having lbry daemon issues spread across multiple repos. You have to always think which repo a new issue should go and in cases where an issue touched both lbrynet and the wallet there is no good answer. Now everything lbrynet daemon specific is in the lbry repo.. The first concrete step towards the solution for this would be to:\n- [ ] implement a new daemon command file_usage which returns the space used by all created files\n- [ ] implement a new daemon command blob_usage which returns the space used by all the blobs\n- [ ] additionally it would be nice if the stats separated out published data from just downloaded data (since presumably users may want to delete all downloaded data but keep their own published files). @jackrobison can we add a unit/integration test for this in the new async blob exchange?. @kafene, I apologize for the long period without feedback. I've actually reviewed this more closely since your last commits and we've even discussed it internally.\nThe main issue blocking this pull request is that there is too much hard coded logic in this implementation. For example, imagine needing to add a new field in the future... this would require changes in several different places and adding new if statements to handle the new field.\nCould you refactor this implementation so that the field names are inferred from the data model (as best as you can, with possible dictionary mapping between user friendly field names and the actual object attributes) with the goal being that adding a new field should be a simple and obvious addition to the mapping instead of making changes in various places (adding new constants, modifying if statements, etc).. Confirmed that this already works :-D. This has been added in torba.. @jackrobison what's the status of this in the new async DHT / blob exchange?. The mock library makes mocking pretty easy. I don't think we want to wrap third party functions / methods just for mocking purposes (more code == more technical debt).\nExample of mocking os.urandom using @mock.patch (from the new wallet code):\npython\n    @mock.patch('os.urandom', side_effect=lambda i: b'f'*i)\n    def test_encrypt(self, _):\n        self.assertEqual(aes_encrypt(\n            b'bubblegum', b'The Times 03/Jan/2009 Chancellor on brink of second bailout for banks'),\n            b'OWsqm2goP4wXAPFyDde0IP2rPxRaESGr9NUlPn4y2nZrywQJo7pZCPt9ixYa7Ye9tzSpirF03Qd5OyI75xlGjd'\n            b'4khKCvcX6tcViLmhIGUPY='\n        ). we've switched to the new wallet, so this shouldn't be an issue anymore, please re-open or file new issue if this happens again. @jackrobison does the new blob exchange allow stopping of downloads?. @jackrobison does the new DHT do this?. This has been reverted and needs to be fixed still. @nikooo777 can you please provide the exception that you were getting. @jackrobison can you provide some feedback on best way to resolve this.. Thanks for the pull request. Could you add some unit tests illustrating the problem and proving that this pull request solves it.. @jleute thank you for adding the tests. Could you refactor the tests so that it's clear and straightforward to run the tests without your fix and see the test fail, then apply your fix and see it pass. Currently the test is calling out to the new method you added directly and not using save_conf_file_settings().. The stream_availability command has been removed.. @akinwale  Can you move the import statement into the if statement, this way it's not imported on OSes other than Windows.. @nikooo777 does this solve the problem? This is a new pull request based on the issues encountered in https://github.com/lbryio/lbry/pull/1208.\n@tau3 this is awesome. I think you've reduced your original pull request which was probably 50-100 lines down to just under 6 lines (excluding tests) and it looks pretty clean! This is what we like to see.. @tau3 looks like you just need to make the fix to the CHANGELOG per @jackrobison comment\n@jackrobison other than the CHANGELOG does the implementation look correct to you?. @tzarebczan can you provide some feedback on where you want this pull request to go. To me it seems that this pull request directly addresses your original issue (https://github.com/lbryio/lbry/issues/1098), but maybe @jackrobison comment is also valid?\nMy take on all this is to merge the pull request as-is if it solves the problem in the original ticket and then create a new issue to add command line arguments for sorting.. Updated CHANGELOG.md and manually merged.. Thanks for the contribution @chamunks . From the README it appears that your goal is to create a docker container for spee.ch? If that is the case then it would probably make sense to do this pull request on the speech repository (https://github.com/lbryio/spee.ch).\nRegardless of the end goal I would suggest that you first make a repository under your own github account and then setup a personal hub.docker.com account to get the automated builds working (both are free and easy to setup). Once you have something working then we can review it and decide the best way to go forward (which repo to add your Docker files to) and whether it makes sense to add your docker image to lbry on docker hub.\nFurthermore, if the goal is specifically to build docker images for spee.ch that others can customize then maybe the solution here is to just do a tutorial or write some documentation on how to do it (and paste the code in this pull request as examples in the tutorial/docs)? Also, I expect there would be different images for production release vs. development of spee.ch. I'd encourage you to get some feedback from @billbitt on all this and collaborate with him.\nIf I misunderstood and your goal isn't to build container for spee.ch but for lbry in general then perhaps you should take a look at several existing efforts at LBRY to build docker containers:\nhttps://github.com/lbryio/lbry-in-a-box\nhttps://github.com/lbryio/lbryumx (https://hub.docker.com/r/lbry/lbryumx/). Some questions:\n- How is this different from the other two repos I linked to earlier?\n- Would you consider contributing to one of the other lbryio repos instead (lbrumx or lbry-in-a-box)?\n- What are some general purpose use cases for having lbrynet in a container by itself?\n- Have you looked at this? https://github.com/lbryio/lbry-in-a-box/blob/master/lbrynet/Dockerfile\nWe want to avoid having code in lbry repo that isn't being used by lbry developers (because it adds to technical-debt and if we're not using it, it will not be maintained). I'd prefer that it go in a different repo where it will serve a specific purpose and get regularly maintained (by those using it).. @tzarebczan there are too many ways to dockerize something depending on use cases and needs. for example, the Dockerfile in this pull request pulls the daemon from a release page, therefore there isn't even any benefit to having this Dockerfile in the lbry repo, it can live anywhere and still work.\nThere are many ways to do a Dockerfile:\n- fetch and build from a released zip file (like the one in this pull request)\n- git pull latest master during Dockerfile build (like the lbry-in-a-box does it)\n- build directly from source in which the Dockerfile lives (this is a common use case for development)\nSince the Dockerfile in the pull request doesn't benefit from being in the lbry repo and isn't used as part of lbry daemon development I don't think it makes sense for it to go in this repo.\nMy recommendation would be to create a new repo (based on or even directly forked from lbry-in-a-box) and call it something like lbry-cluster and put everything you need in there to build a lbry cluster.\nlbry-in-a-box is actually pretty cool and @kaykurokawa put a lot of effort into it, I don't think we need to start completely from scratch and ignore the previous work done on this.. I'll just add a few more thoughts:\n\n\nIf the lbry dev team decides to use docker during development this docker container would very likely be specifically built for development, it would build from local source (instead of fetching pre-build releases) and it would have security and performance settings disabled/optimized for development instead of production deployment. It would be more complicated to have one Docker file that does everything than to just have two purpose built Dockerfiles with one optimized for development and one optimized for production / specific use cases. The production / specific use case Dockerfiles should live in designated repos for that specific use case (functional testing, spee.ch deployment, etc).\n\n\nNone of the popular Docker containers on hub.docker.com keep the Dockerfile in the project repository. Usually the opposite is true, the Dockerfile is maintained by Docker experts in the community in their own private repos or by Docker organization (for \"official\" packages, see: https://github.com/docker-library/official-images ).\n\n\nlbry-in-a-box is an excellent template for creating various custom deployment solutions for LBRY using Docker. It already does everything, so to customize it is just a matter of removing things and stripping it down to just what you need.\n\n\nA repo with purpose built collection of Dockerfile's and docker-compose.yml is much more user friendly. If someone says they want to deploy spee.ch you can just point them to a repo that they check out and docker-compose up and they are live! Rather than having to mess around with a potentially generic / developer friendly Dockerfile from the main lbry repo.. @chamunks start with something small and achievable. I think making an easy to use Docker image for spee.ch is a really great way to go.\n\n\nPossible next actions:\n\n\nCreate an issue in https://github.com/lbryio/spee.ch repo titled \"Spee.ch Docker Container\" and describe what you plan to do and link to your personal repo for this effort (also post a link here).\n\n\nI'll subscribe to get notified of pull requests in your repo and provide feedback on your Dockerfile and docker-compose.ym. (I have a lot of experience with Docker and have built a CI server on top of docker and docker-compose, see: https://github.com/damoti/shipmaster)\n\n\nOnce you get it all working we can look into either merging it into the spee.ch repo directly (if @billbitt feels it's the right place) or we'll create a dedicated repo for it.\n\n\nLet's not spend too much time planning and discussing it ahead of time, the level-of-effort isn't that great to get this going so it's okay to try stuff, make mistakes and try again. So, just get something working and we can go from there.\nScratch your itch and the rest will follow, or is it, build it and they will come, whatever... just make it work and show us what you got!. The Dockerfile you have in this pull request does not depend on this repo, it pulls the source from a release build. As I've said a few times, take a look at lbry-in-a-box: it achieves all of the things you're trying to do within a single dedicated repository.\nFurthermore, I'd suggest that the first container you make for spee.ch is just a single docker image with several services running in one container. I realize this goes against best practices but it has the advantage that a user of this does not need to know much about docker and no longer even needs docker-compose to try it. Also, newer versions of docker appear to even support this out of the box (see --init flag): https://docs.docker.com/config/containers/multi-service_container/  I've only used the second option (supervisord) before but the new way seems rather convenient as well.\nOnce you have the single container version working and documented (targeted at new users of docker and lbry) we can look at a more comprehensive production deployable version with docker-compose and multiple containers (one for each service).\nDoes this seem reasonable to you as a starting point? Can you put together such a multi-process single-image container for spee.ch?. @chamunks nice work, keep going and keep us posted on your progress!\n@billbitt does anything in @chamunks update above ring a bell as easy fixes that you might suggest (specifically with customizing js/css, etc)?. @chamunks was checking on your progress and wanted to share the issue you had created here to help anyone else interested in this follow along: https://github.com/chamunks/lbry-docker/issues/1. I think it's really important to eat your own dog food, maybe you can find someone on LBRY discord that wants to do a spee.ch type site and work with them to get one running with docker? @billbitt @jsigwart @kauffj . Done.. Done.. Done.. This is implemented in the newest version as --reverse.. @jackrobison is this still valid / needed with the new async stuff?. This will not make it into 0.21.0 and will need to be rebased on master after merging lbryum-refactor.. @shyba says to close. We released v20.. I don't see any reason it can't make it into .20. It should be backwards compatible; we can make it required at a later time.\n@jackrobison can you do a sanity check on this PR. also, do we have a way to respond with a deprecation warning when someone sends float amounts?. torba branch: https://github.com/lbryio/torba/pull/1/files\norchstr8 branch: https://github.com/lbryio/orchstr8/pull/5/files. This is done, everything is stored in SQLite.. We have a script now to generate a JSON formatted API that feeds into lbry.tech.. Seems correct to me. The 0.01 is probably being sent as a float and not a decimal in the JSON (then it's turned into a Decimal by the new code but by that point it's too late). If you want to have a nice looking '0.01' decimal it would have to be passed as a string and then parsed directly by Decimal bypassing any float stuff. floats are nasty business.\nCan you try changing the app to send the decimal as a string and see if you get Decimal('0.01') in the log instead of the ugly float inside a Decimal you're getting now? Or are you doing this via command line?. One thing we could do is round the float after converting it into a decimal. But I would rather just depricate floats altogether instead of piling on hacks.. @hackrush01 provides a work around in this pull request (i'm still on the fence if this is the best way but it does the job for now): https://github.com/lbryio/lbry/pull/1257. This is pending release of the new wallet because that will be a large portion of the documentation.. I generated a new api.md using the latest script and it's still pretty far from what's here: https://github.com/lbryio/lbry.tech/blob/master/content/.vuepress/public/api.md\nI will continue working on it from where @Krisseck left off.. After discussing this with @NetOperatorWibby we decided it would be better to generate HTML directly instead of having an intermediate step of Markdown. Markdown is great if humans will be editing the file but in the case of the API it's completely generated and not intended to be interacted with directly. Further discussion here: https://github.com/lbryio/lbry.tech/issues/118. @jackrobison easy close?. @42degrees please re-open this with the exact commands for us to run to reproduce the issue.. Some motivation on why py3 port is important (other than the fact that py2 is depricated very soon https://pythonclock.org):\n\nuvloop makes asyncio fast. In fact, it is at least 2x faster than nodejs, gevent, as well as any other Python asynchronous framework. The performance of uvloop-based asyncio is close to that of Go programs.\n\nhttps://magic.io/blog/uvloop-blazing-fast-python-networking/. This has been split into smaller issues.. Reassigned this to @NetOperatorWibby since I'm not sure what needs to be done on this; should be re-assigned back to me when there is feedback or something for me to take action on.. @NetOperatorWibby this should get you started, let me know if you have any issues with it:\nhttps://github.com/lbryio/lbry/blob/html_gen_docs/docs/api.json. This is done: https://lbry.tech/api\nI created another issue to track creating actual examples of API use: https://github.com/lbryio/lbry/issues/1334. @jackrobison is this still valid in asyncio DHT? could we add a test to make sure it reconnects? there is something like this in torba: https://github.com/lbryio/torba/blob/master/tests/client_tests/integration/test_reconnect.py. Depends on the use case for this command. What is the use case for this command?\nFrom looking at the code the command does what I'd expect it to do.\nI can see this type of command being useful in a high throughput services where you want to be able to handle a lot of new TXs without running out of TXOs.\nIf you have 1 TXO valued at 10 credits. That means you can only do 1 TX at a given point in time spending up-to the 10 credits. Using this command you can ask to have the 10 credits spread across 5 new addresses each with 2 credits. Now you can create 5 TX each spending up-to 2 credits simultaneously. This is useful for spee.ch to increase throughput.\nMy preference would be to drop this command altogether and just make it possible to do it with two new / updated commands: 1) a command to fetch X number of unused addresses and 2) a command that takes an amount and a list of addresses to pay that amount to. This would allow a user to replicate what wallet_prefill_addresses does but in a more configurable way (for example, instead of just unused addresses, a user may want to use other heuristics to figure out which addresses they want to fund... or maybe they just want to pay the same amount to a bunch of people, etc).. I don't believe we have any Notification end points in the current API; all endpoints return some JSON response.\nThe jsonrpc.org v2.0 specification that you linked to presents the JSON-RPC over HTTP support \"with some limitation\" as an afterthought which sounds a bit strange to me. I would argue that single request/response HTTP style communication is the most common way that APIs are exposed while the JSON-RPC specification is heavily slanted towards something more suited for persistent full-duplex communication (such as via WebSockets).\nWe do have plans to add WebSocket support to the daemon and this will be conformant to the jsonrpc.org specification v2. There are no current plans to have the simple daemon HTTP JSON RPC API become conformant  (see previous paragraph), more likely in the long run the HTTP JSON RPC API would be dropped altogether in favor of a new REST API. For simple / command line use cases it would be encouraged to use the REST API and for anything requiring more complex interaction we'd encourage developers to use the WebSocket API.. @muattiyah I'd encourage you to add this to torba instead since there is nothing LBRY specific about single address accounts, any bitcoin based currency could use it. The issue you are referencing was before torba was split off into a separate repo.. I think @NetOperatorWibby is working on some CSS for this and will have a feedback for me on what else needs to be done.. @wallermadev I'm sorry that you are not happy with the JSON output produced by the gen docs script in this PR. \u00af\\_(\u30c4)_/\u00af Please submit a PR with better looking json.. Figuring out when a claim expires still needs to be done in new wallet.. @jackrobison still valid with new DHT?. @nikooo777 at our standup we discussed going 100% with travis and dropping teamcity, we can use docker containers to do the windows build.. This has been completed in lbryum-refactor branch, we can now build windows, linux and mac daemon binaries on travis.. PR related to this was merged.. This PR failed the pylint check on travis. Please fix.\n************* Module lbrynet.daemon.Daemon\nC:1876, 0: Line too long (157/120) (line-too-long). @sayplastic is working on this for his first PR.. @kauffj I discussed this with @jackrobison at the standup today; there isn't an obvious way to determine which files/blobs can be deleted (too many edge cases to consider). Sounds like the ultimate solution is to generate blobs on the fly, this alone will cut storage in half across the board for everyone (but I'm not sure it's fair to assign something like this as first trial task for @sayplastic, although it would definitely make for some very extra bonus points if he could do it).\nI think a more straightforward solution would be to at least delete blobs when the corresponding file is no longer in Downloads directory (either it was deleted, moved or renamed). This should still be behind a configuration flag because some people just want to seed and don't necessarily care to have a copy of the combined file in their Downloads directory.. @osilkin98 \n1. The daemon doesn't know when a file is being watched or if user is done with the file. As for streaming, we are already working on a streaming solution specifically for videos (streaming doesn't solve the issue for all other file types though).\n2. Something along those lines of deleting files that haven't been accessed is what we're considering but this needs a lot more thought to cover various edge cases. We haven't settled on a good general solution for this yet.\nIf you want to start on this general problem I think the most useful feature to start with is a new daemon command which returns the total space used by files and blobs. Please see the last comment in this issue: https://github.com/lbryio/lbry/issues/1171#issuecomment-437423320. @osilkin98 The daemon and the desktop app are running in different processes and communicating via HTTP, how would you do a callback function in that context?\nAlso, why is it the responsibility of the desktop app to figure out available disk space instead of the daemon? I believe the desktop app should be primarily concerned with UI and not with calculating available disk space.. @osilkin98 it gets more complicated because:\n1. we want popular files to stay so that the DHT/P2P network is healthy and performant\n2. users may want to keep certain files to watch again (without internet connection) and would be upset if we delete any/all old content\n3. users likely want to keep content they themselves published\n4. how do you determine what \"old\" means in terms of deleting old files?\n5. once you have definition for \"old\", do you delete all \"old\" content or just some of it to make sure there is space, and if you only delete some percentage of it, do you delete blobs first or files first until reaching that percent of available limit?\n6. what should be configurable by the user in terms of space management strategies and what default space management strategies are best and most user friendly?. I don't think we can get this done by yesterday but I can work on this after we merge the asyncio branch.. @jackrobison is working on the refactor mentioned in comments earlier, it is almost done, here is the relevant issue with link to working branch: https://github.com/lbryio/lbry/issues/1324. This is done and merged, integration tests related to this are in a new issue: https://github.com/lbryio/lbry/issues/1336. @jackrobison is this still the case with the asyncio reflector?. @shyba is currently blocked in getting the tests to pass, needs @jackrobison to look at it.. The issue regarding bytearray was uncovered and fixed.. This is already done in lbryum-refactor branch and it's not possible to hit this issue unless you run the new wallet in python 3, create some claims and then switch to the old wallet in python 2 and try to view those claims.\nUpgrading from old wallet+py2 lbrynet to the new wallet+py3 lbrynet is not a reversible operation so we don't need to support new wallet stuff in the old wallet.. closing as really low priority, someone who really wants this will just implement it (scratching your own itch). Can the start (setup) / stop methods go back to being inline callbacks but using the new decorator?. PR for this merged ^. @kauffj can you provide some background on this? the command function itself still accepts an author argument, should this be dropped as well?. https://github.com/lbryio/lbry/pull/1816. The new behavior is to respect the default --config unless explicitly overridden. Users can independently supply --data-dir, --wallet-dir and --download-dir in addition to --config.. @jackrobison is this solved in the new async reflector?. @jackrobison is this still valid in asyncio blob exchange? could we add a test to make sure it doesn't happen in the future?. @jackrobison is this still valid in asyncio blob exchange? could we add a test to make sure it doesn't happen in the future?. The stream_availability has been removed.. There are two ways to approach this:\n\n\nHave publish create the channel at the same time as it creates the claim and then you can broadcast them both in rapid succession. There is an integration test that shows exactly how to do that: https://github.com/lbryio/lbry/blob/master/tests/integration/wallet/test_transactions.py#L59-L66\n\n\nAnother approach is to save TXs into the database while broadcasting them: This way you don't have a 1 second window where you've created and broadcast the TX but don't have a local copy of it yourself. The downside of this approach is that you then have to add a bunch of code checking for various edge cases of what happens if the TX fails to make it into the mempool (and thus you have something locally that isn't also in mempool/blockchain). Currently no TXs are saved in the DB until they successfully make it into mempool; this results in what I think is a very clean and simple implementation.\n\n\nI think first approach is better because it requires much less code, is actually faster and doesn't suffer from the edge cases and potential clean-up issues in approach 2 when the TX doesn't make it (connection issues, lbrycrd rejection, etc).. implemented in https://github.com/lbryio/lbry/pull/1456. https://github.com/lbryio/lbry/pull/1456. https://github.com/lbryio/lbry/pull/1456. fixed in https://github.com/lbryio/lbry/pull/1456. deprecated in #1480 . fixed in https://github.com/lbryio/lbry/pull/1456. this command works. deprecated in #1480 . \n. will be fixed in #1704 . fixed in torba. @jackrobison what's the status on this? reviewing the code looks okay but the tests fail on travis.. what's the status of this? can it be merged or closed or what action can be taken on this?. We're not planning to work on this anytime soon. It sounds interesting and useful and if someone wants to implement this we'd be supportive. We're trying to cleanup our backlog so I'm closing the issue for now.. Yes, do it per @lyoshenka requirements. Since we're breaking backwards compatibility anyways it makes sense to do it right and to have one and only one way to do this, to avoid any ambiguities in the future.. @jackrobison does the new DHT have tests for hash announcement?. Fees are properly calculated taking into account the size of the output and the length of the name.. This is currently blocked with an issue where tests run on py3.7 but fail on py3.6, in case someone wants to look into it before we get to it again.. --account=<account_name> was renamed to --account_id=<account_id>.\nPassing the account is required since this is an account specific query, it's also mostly for debugging and not intended for end users. I would like to drop this command after we release 0.30.0.. The gap reported by account_max_address_gap is the consecutive number of unused addresses. If you have five addresses: 1, 2, 3, 4, 5. And addresses 2, 3, 4 have no transactions then the gap reported is 3. In order to correctly sync, you need to take the exclusive gap number returned by account_max_address_gap and +1 to have it catch the next used address and force the address generator to keep going.\nAs I've discussed with @tzarebczan before, I added account_max_address_gap mainly for debugging and not so much for users to help with setting the value because the command only works after you've already properly sync'ed your wallet. It's a chicken and egg problem: if you've already successfully sync'ed your wallet then you don't need account_max_address_gap and at the same time account_max_address_gap will not produce the correct result until you've successfully sync'ed your wallet.\nMy preference would be to drop this command altogether and instead put emphasis on this solution working well: https://github.com/lbryio/lbry/issues/1459. @jackrobison is this still valid given the new async code?. The integration tests fail, need to add a mock analytics method for this PR.. @shyba can you fix the build on this by adding the missing method on mock analytics in integration tests. The api.json file shouldn't be hand edited since it's generated from Daemon.py. I've fixed the issues you found in Daemon.py and regenerated api.json in this PR: https://github.com/lbryio/lbry/pull/1473\nTherefore I'm closing this PR. If you find new typos in the generated api.json please feel free to file new issue. Thank you for your contribution.. done in #1482 . closing as it appears to be abandoned by PR author. @hackrush01 In what way does a command exist if you can't call it?. has_signature is definitely there (but only if the claim represents a channel): https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/json_response_encoder.py#L65\nsignature_is_valid, what does this do?\ndo you need both height and confirmations? doesn't the client already know the current best height? could i just return the height at which the claim was made and the client can figure out the confirmations as needed (claim.height - best_known_height). confirmations is a moving target; seems like it's best to calculate it just as it's about to be shown to the user and using the most recent known blockchain height.. merged #1679 . better error message added in #1508. @shyba needs to be rebased. @walidmujahid PRs always welcome.. All of the mentioned issues above have been resolved.. The code touched by this PR has changed significantly.. Dropped --disable-max-key-fee as a separately stored boolean and instead there is just max_key_fee: null in the daemon_settings.yml, since setting things null via command line is difficult there is new --no-max-key-fee which sets max_key_fee: null. Also, passing a new max key fee via cli is now using this format: --max-key-fee 3.0 USD (in daemon_settings.yml it remains unchanged for backwards compatibility)\nhttps://github.com/lbryio/lbry/pull/1815. setup.py is a standard format used by all Python projects; it's not necessary to add such high level of commenting to it. Our setup.py is actually very simple compared to most other projects.\nIf you want to learn more about how setup.py works there is a great amount of detail here: https://docs.python.org/3.7/distutils/setupscript.html. Closing as possible spam. If this was a legitimate PR please explain why you are proposing this change.. This PR creates more problems than it solves. @jvastbinder did you even bother to look at the output of your global search and replace to see if it made any sense? The ticket you reference refers to a handful of commands; nowhere does it suggest to do a blind global search and replace over the entire code base (including database table columns (!!!)).. Fixed in https://github.com/lbryio/torba/pull/19. I believe this was fixed in above mentioned PR but the issue didn't automatically get closed. Closing.. > I would prefer the following:\n\nlbrynet settings_set --max_key_fee \"1.23 USD\"\nlbrynet settings_set --max_key_fee \"4.56 LBC\"\nlbrynet settings_set --max_key_fee \"none\"\nFirst change is putting the currency after the number. This makes the value more readable.\nSecond change is using a space instead of a colon. Either works, but spaces are more readable.\nLast change is not using -1 to mean \"no value\" (this is called a sentinel value). Using sentinel values should be avoided in general because it conflates two separate ideas(the actual amount and whether the amount is set) and increases the chance of mistakes. It is better to use something that's outside the range of valid responses (like \"none\"). It would be even better to use a --no-max_key_fee flag to indicate that the value is not set, but if we wanted to do that, we would have to implementing it consistently across the whole API.\n\nDropped --disable-max-key-fee as a separately stored boolean and instead there is just max_key_fee: null in the daemon_settings.yml, since setting things null via command line is difficult there is new --no-max-key-fee which sets max_key_fee: null. Also, passing a new max key fee via cli is now using this format: --max-key-fee 3.0 USD (in daemon_settings.yml it remains unchanged for backwards compatibility)\nhttps://github.com/lbryio/lbry/pull/1815. merged. done in https://github.com/lbryio/lbry/pull/1547. Thanks for tracking this down @shyba . I manually copied the asyncio.gather fix into asyncio branch.. going with asyncio instead. @hugovk thanks for your two PRs, we've merged one and will merge this one after we do a currently pending 0.30 release today (to give us some time to make sure this massive change doesn't have any negative impact).\nCan we send you some LBC as a thank you for your effort?. This was due to a wallet sync bug and has been resolved. Please try the latest daemon build.. GitHub already adds a license badge on the front page, do we need two on the same page?\n\n. Since GitHub already provides a license indicator/badge and you've agreed that one badge is enough I'm closing this PR. Please don't let this discourage you from making future PRs, we do merge most PRs.. thanks @pushkyn !. @preserveddarnell if you are still interested in getting this PR merged please make the minor changes requested.. @preserveddarnell Can you also drop the changes to the CHANGELOG, I don't think capitalizing the first word in every bullet is necessary.. @preserveddarnell I would like to merge your changes to INSTALL.md and README.md, can you please drop the others and rebase against latest master? Once you do that I promise I won't have any more requests :-) and will merge!. Manually merged https://github.com/lbryio/lbry/commit/aed00b53fdf637f72fdb855a3821b3c1970f0c15. possible spam, please comment if this is not spam. done. @NetOperatorWibby this is an HTML only PR, can you confirm that this changes makes sense and is consistent with the rest of our docs/sites?. fixed in https://github.com/lbryio/lbry/pull/1580. @shyba are we using this in wallet server?. @shyba finished and pushed this. closing as not specific enough to be actionable. Without some more info or context I can't reproduce it.. Glad your issue was solved by just deleting blockchain.db! Normal users wouldn't have run the unreleased version of the daemon so this isn't a problem for them; for going between released versions we have a migration path.. I've switched roles with victor. I'll be the primary and victor will be buddy.. @tzarebczan can you confirm if this is still an issue?. outdated. fixed in https://github.com/lbryio/torba/pull/39. @shyba was this fixed?. @nikooo777 Answer on 2: No, it will not block the daemon. Daemon can support thousands of simultaneous requests.. @kauffj I think your Media Server Minutes write up from the meeting related to this would clarify some of the confusion / questions from @nikooo777 and @tiger5226 . Can we include that write up as part of this issue (currently only a slack doc)? Specifically:\n\nMedia server should be only be a useful interface, it should not be making fundamentally different calls to the broader network or interacting with the network in a way that is not possible via the API\n\n@tiger5226 does above quote answer your questions? this feature is just an enhanced way to get blobs into a media player... doesn't have anything to do with reflector or lbryweb or any other centralized  APIs.. done in #1677 . @osilkin98 are you still working on this PR? if not, please close it, thanks! I think you mentioned something about starting a new PR?. This should not be necessary, you may have hit a bug in pip which does not install extras after you've installed without extras initially: https://github.com/pypa/pip/issues/4957\nTry running pip install -e .[test] in a fresh python virtual env and pylru will get installed automatically. If look in setup.py you'll see torba[server] and if you look in torba's setup.py you'll see [server] install pylru:\nhttps://github.com/lbryio/torba/blob/ed880be3e5c5bee0f33c3404103a2e9822f98880/setup.py#L49-L53. I uploaded a new version of torba to pypi which has the fix for this. I recommend that you guys run torba from source though since it'll always be more up to date than relying on pypi.. done. @kauffj , i believe @tzarebczan really wants this in the current release. we can change it later. (in fact, all of these icons are from this same repo, the folder was deleted before and I just brought it back).. solved sync issues in torba. fixed in https://github.com/lbryio/lbry/pull/1751. @osilkin98 please see comments above, ping me on chat if you have more questions, etc.. closing in favor of #1692 . reviewed it. I don't use these scripts but I think others might. @jackrobison @shyba please chime in if you want to keep these.. If we're using the scripts then we should keep this. They also serve as examples on how to use the SDK / APIs.. Can we delete them one at a time as equivalent functionality is added to daemon and/or updated versions of the scripts that do the same things are written?. Another issue,\n[lbry]$ python profile_get.py --wallet_path=/home/lex/projects/lbryconf/ --output_path=/home/lex/projects/lbry/scripts/benchmark.txt\n2018-12-15 14:24:07,457 INFO     lbrynet.conf:539: Loaded settings file: /home/lex/.local/share/lbry/lbrynet/daemon_settings.yml\n...\nI passed in the wallet_path but it's getting it from somewhere else and parsing a different daemon_settings.yml.. Questionnaire is live: https://goo.gl/forms/YTJU0KpCLJ5QHtxI3. @jackrobison can this scenario occur in the new blob exchange implementation?. @shyba was this solved in the wallet?. You can re-sync the entire wallet now by just deleting blockchain.db but this takes a lot of time. Running SQL to reset is_reserved is instant.. We can add another command to delete blockchain cache (blockchain.db). But I think most of the time the issue will be related to is_reserved. Running it on every start of daemon should also help a lot I think.. closing this for now, we can re-open with a new PR once the other major refactoring PRs are merged and it turns out we still need this caching. is this ready to be merged?. Is there a proposal or some kind of write up related to this? It feels a little out of left field.. replaced by https://github.com/lbryio/lbry/pull/1748. @osilkin98 please let me know when this is done and ready for review, i'll likely have some comments. Thanks for the PR, can you please reduce the PR from 700 LOCs down to about ~50 LOCs. This is way too much code for getting and saving comments via central server. Since you're mostly just doing HTTP requests to an external server you should be able to fit the implementation directly inside the jsonrpc_comment_* methods.\nThe daemon is merely acting as a proxy between the desktop app and the central server, injecting the username and doing any other minor processing functions; it should be relatively simple.. @binaryflesh before you get too far more into this, keep in mind that the branch where the blob stuff and DHT has been completely rewritten to be asyncio is in https://github.com/lbryio/lbry/pull/1704 I would highly recommend rebasing against that instead of master.. Update: Sorry, I think I misread unix pipes to mean unix sockets; I think my question is irrelevant now.\nWe are looking to switch from using TCP for client<->daemon communication to using unix domain sockets, windows named pipes and Service Message passing on Android. You mentioned something about not using unix sockets in your PR description, can you elaborate on downside of using unix domain sockets?. @jackrobison still an issue with the new async reflector / blob exchange?. @jackrobison was this resolved?. @jackrobison still valid with new async code?. Definitely support this and it's on my personal TODO list towards the top. It would be helpful to know all of the places which point to this repo: renaming it is easy, fixing all of the places that point to it is harder.. For me the primary motivations would be:\n1. Calling it what it it is: LBRY SDK. Having SDK in the name like that signals that we really want people to build on it, this is front and center.\n2. lbry as repo name implies that the entirety of LBRY is in there and while it is definitely a mono-repo for most Python code in LBRY it's still missing the blockchain part (lbrycrd) which is a core part of LBRY. Without that core part I don't think it's fair to call it lbry.\n3. I would like to eventually rename the main Python module from lbrynet to just lbry and while it's mostly okay to have ../lbry/lbry/.. directory structure (unless you give it a different name when git cloning) this can sometimes cause difficult to debug issues with configuration / import paths. Lot's of projects do this though (repo name == module name), so it's not a big issue, but if we can address the edge case, why not?\nDownsides are:\n1. potentially creates a bunch of work\n2. may have zero impact on actually getting more users. @lyoshenka can we go ahead with the rename?. help will be dropped in 0.31 in favor of the more standard --help and a message at the bottom will be added saying how to use it:\nIf you run lbrynet with no arguments you'll get this:\n```\n[lbry]$ lbrynet\nUsage:  lbrynet [-v] [--api HOST:PORT] COMMAND ...\nOptions:\n  --help             Show this help message and exit.\n  -v, --version      Show lbrynet CLI version and exit.\n  --api HOST:PORT    Host name and port for lbrynet daemon API.\nGrouped Commands:\n  COMMAND\n    account          Account management.\n    address          Address management.\n    blob             Blob management.\n    channel          Channel management.\n    claim            Claim management.\n    file             File management.\n    peer             DHT / Blob Exchange peer commands.\n    settings         Settings management.\n    stream           Stream information.\n    transaction      Transaction management.\n    utxo             Unspent transaction management.\n    wallet           Wallet management.\nCommands:\n  COMMAND\n    start            Start lbrynet API server.\n    stop             Stop lbrynet API server.\n    get              Download stream from a LBRY name.\n    publish          Make a new name claim and publish associated data to\n                     lbrynet,\n    resolve          Resolve given LBRY URIs\n    resolve_name     Resolve stream info from a LBRY name\n    block_show       Get contents of a block\n    report_bug       Report a bug to slack\n    routing_table_get\n                     Get DHT routing information\n    status           Get daemon status\n    version          Get lbrynet API server version information\nRun 'lbrynet COMMAND --help' for more information on a command or group.\n```\nIf you run lbrynet account without the subcommand you'll get an updated help (lbrynet account prefilled) at the bottom of how to use help:\n```\n[lbry]$ lbrynet account\nUsage:  lbrynet account COMMAND ...\npositional arguments:\n  COMMAND\n    add            Add a previously created account from a seed, private key\n                   or public key (read-only).\n    balance        Return the balance of an account\n    create         Create a new account. Specify --single_key if you want to\n                   use\n    decrypt        Decrypt an encrypted account, this will remove the wallet\n                   password. The account must be unlocked to decrypt it\n    encrypt        Encrypt an unencrypted account with a password\n    fund           Transfer some amount (or --everything) to an account from\n                   another\n    list           List details of all of the accounts or a specific account.\n    lock           Lock an unlocked account\n    max_address_gap\n                   Finds ranges of consecutive addresses that are unused and\n                   returns the length\n    remove         Remove an existing account.\n    send           Send the same number of credits to multiple addresses.\n    set            Change various settings on an account.\n    unlock         Unlock an encrypted account\nOptions:\n  --help           Show this help message and exit.\nRun 'lbrynet account COMMAND --help' for more information on a command.\n``. I think--helpis the convention that most people know to use from other commands. If they don't know this convention then simply runninglbrynetwith no arguments will teach them. Having alsohelp` as a second way to do the same thing is then redundant and not a convention most people expect.\nWe can probably make it so that if you typed lbrynet help it would print the help anyways by virtue of it not being a valid command. I just noticed currently it gives command doesn't exist error. I think if we just show help when any unknown command is entered this would solve your request too?. https://github.com/lbryio/lbry/pull/1813. resolve_name dropped https://github.com/lbryio/lbry/pull/1814. \"should we rather), add functionality in analytics to keep track of average Component calls\"?\nNo, I don't think this is necessary at this time.. Can you refactor this so that the install instructions are not duplicated between what's in .travis.yml for linux and what's in this PR (which is also for linux).\nSince we use ubuntu on travis and you're using ubuntu in the docker container, it should be using the same script.. Closing after some discussion in slack, @Leopere will move this into https://github.com/lbryio/lbry-docker. This is unnecessary.. Needs more discussion, closing for now.. For even better forward compatibility (python 3) use the .format() string method:\npython\nclaim['permanent_url'] = \"{}#{}\".format(claim[\"name\"], claim[\"claim_id\"]). Same as earlier, this is better:\nclaim['permanent_url'] = \"{}#{}\".format(claim[\"name\"], claim[\"claim_id\"]). Hmm... is there a way to refactor all this so that the same code isn't duplicated three times?\nIn either case, should be using .format() like the others.. Extraneous space between key string and colon.. Extraneous space between key string and colon.. A bit shorter and tidied up:\ndef add_port_mapping(upnp, port, auto_port, protocol, description):\n        log.debug('UPNP automatic port selection enabled: {}'.format(auto_port))\n        try:\n            if auto_port:\n                return upnp.addanyportmapping(\n                    port, protocol, upnp.lanaddr, port, description, ''\n                )\n            else:\n                upnp.addportmapping(port, protocol, upnp.lanaddr, port, description, '')\n                return port\n        except Exception as e:\n            log.warning('UPnP failed with error: %s', e.message). This test is being licensed under GPL? But the rest of the project is MIT license.. If the function has finished and you have the value to return it's good to just return the value. Someone reading your code will quickly see that after the appropriate value is computed nothing else happens. If you only put returns at the end of methods it makes it seem like other stuff happens. Also, it require temporary variables and just more lines of code. More lines of code means more technical debt.\nI don't know if there is an official lbry style on this particular point. You can leave that part as you had it until we figure out if we need a consistent style. Personally, I find that lining up arguments with parenthesis leads to longer lines and big gaps of empty space below the function and to the left of the parenthesis. If you put arguments on a new line and indent 4 spaces you can fit more arguments, more concisely.. Could above be broken down into two functions to make it easier to test? Something like:\n```python\n@defer.inlineCallbacks\ndef format_sd_info(stream_info, include_blobs):\n    fields = {\n        'stream_type': EncryptedFileStreamType,\n        'stream_name': stream_info[1],\n        'key': stream_info[0],\n        'suggested_file_name': stream_info[2],\n        'stream_hash': stream_hash\n    }\n    if include_blobs:\n        blobs = yield storage.get_blobs_for_stream(stream_hash)\n        formatted_blobs = []\n        for blob_info in blobs:\n            blob = {}\n            if blob_info.length != 0:\n                blob['blob_hash'] = str(blob_info.blob_hash)\n            blob['blob_num'] = blob_info.blob_num\n            blob['iv'] = str(blob_info.iv)\n            blob['length'] = blob_info.length\n            formatted_blobs.append(blob)\n        fields['blobs'] = formatted_blobs\n    defer.returnValue(fields)\n@defer.inlineCallbacks\ndef get_sd_info(storage, stream_hash, include_blobs):\n    stream_info = yield storage.get_stream_info(stream_hash)\n    formatted_info = yield format_sd_info(stream_info, include_blobs)\n    defer.returnValue(formatted_info)\n```. I guess we don't have a style guide for this yet but I've always personally preferred the arguments-on-new-line-indented-4-spaces whenever there are too many arguments to a function, this seems more consistent (indentation wise with the rest of the soruce) and looks nicer (less jagged and you can fit more arguments on a single line vs. trying to line it up with parenthesis):\npython\n        yield self.storage.add_completed_blob(\n            blob.blob_hash, blob.length, next_announce_time, should_announce\n        ). Same comment as before about putting all arguments on a new line and indented 4 spaces.\npython\nreturn self.storage.set_should_announce(\n    blob_hash, self.get_next_announce_time(), should_announce\n). Same comment as before about all arguments on single new line below function call indented 4 spaces.. This change doesn't have negative performance side affect? Seems like before the manager setup and wallet start up happened in parallel and now they are serial. Just making sure I'm understanding this change correctly.. Would this be easier to read as a defer.inlineCallbacks function instead?. Could this be factored out into a private method on the class for easier testing?. You could simplify this as (i moved foreign key def. from last line directly into sd_hash field def.):\nsql\ncreate table stream (\n    stream_hash char(96) not null primary key,\n    sd_hash char(96) not null references blob,\n    stream_key text not null,\n    stream_name text not null,\n    suggested_filename text not null\n);\nI think this is better because if you specify blob(blob_hash) you are poking inside of blob and determining what its primary key is. Instead you want to be more abstract and just say that I want stream to point to blob (by default foreign keys are always using primary key on the target table).\nThis has the added benefit that if you change the primary key column name in blob to something else you don't have to explicitly go through an update the FK definitions in all the tables that point to it.. Same thing as my previous comment about the foreign keys. You can remove these two extra lines and simplify things by moving the FK definition directly to the columns on which they apply and only point to stream and blob without specifying those tables' primary keys (it's always implicit that you want the primary key).. Ditto on the foreign keys :-D. This loop header looks a bit gnarly :-)\nWhat about:\npython\noptions = lbryfile_cursor.execute(\"select blob_data_rate, status, stream_hash from lbry_file_options\")\nfor rate, status, stream_hash in options.fetchall():. stream_blobs = lbryfile_cursor.execute(\n    \"select stream_hash, blob_hash, position, iv from lbry_file_blobs\"\n).fetchall(). This way the query and the param to the query are on a single line and it reads as one thing...\npython\ntxid, nout = lbryfile_cursor.execute(\n    \"select txid, n from lbry_file_metadata where lbry_file=?\", (file_infos[stream_hash]['rowid'],)\n).fetchone(). Ditto on new line for arguments.. To avoid repeating file_infos[stream_hash][], which just looks so unDRY and also that code is doing 2 hash lookups for each line to set the value. This is more DRY and maybe some nanoseconds faster:\npython\nfile_infos[stream_hash].update({\n    'claim_name': name,\n    'claim_id': claim_id,\n    'outpoint': \"%s:%i\" % (txid, nout)\n}). Above looks like it's duplicated from the migration script. Is there a clean way to avoid such duplication? I can see someone making a change in one place and forgetting to make a change here or vice versa.. This pattern:\npython\nd = self.db.runQuery(\"SOME SQL\", (param, ))\nd.addCallback(lambda r: None if not r else r[0][0])\nreturn d\nappears quite a lot in the code, could you refactor it into a private method such as:\npython\ndef _get_one_or_none(self, sql, args):\n    d = self.db.runQuery(sql, args)\n    d.addCallback(lambda r: None if not r else r[0][0])\n    return d\nThen you can update a bunch of the methods to be one liners like so:\npython\ndef get_blob_status(self, blob_hash):\n    return self._get_one_or_none(\"select status from blob where blob_hash=?\", (blob_hash, )). Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. Use _get_one_or_none.. I'm having a bit of d\u00e9j\u00e0 vu here, is this function defined already somewhere else? lbrynet/core/StreamDescriptor.py They may do something slightly different but the function names are identical and they appear to be very similar internally.. I've been thinking that maybe 120 is too much. In cases where you want to have two files side by side, even in PyCharm at slightly enlarged font (like mine), I can't comfortably fit two 120 lines side by side. 100 fits though... what do you think? Also, Python PEP8 suggests 100 as the max: https://www.python.org/dev/peps/pep-0008/#maximum-line-length. This seems like a reverse formatting operation back to the pan handle :-D. Would this be sufficient without introducing a lot of extra code?\nstream_info.get('claim', {}).get('value', {}).get('stream', {}).get('source', {}).get('source'). Less complicated and maybe easier to read:\npython\n    def hasContacts(self):\n         for _ in self._routingTable._buckets:\n             if self._routingTable._buckets[i]._contacts:\n                 return True\n         return False. This should stay on one line, it's only 87 chars long.. Should stay on the same line, it's only 88 chars long.. Should be:\npython\nyield self.db.runOperation(\n    \"INSERT OR REPLACE INTO name_metadata VALUES (?, ?, ?, ?)\", (name, txid, nout, sd_hash)\n). SQL and arguments should go on a new line. Like the previous suggestion.. SQL and arguments should go on a new line, like the previous suggestion.. This appears to be 98 chars, so it's less than 100. I would keep it as a single line. Looks weird with the 0] all by its lonesome.. python\nyield self.db.runOperation(\n    \"INSERT OR REPLACE INTO uri_cache\"\n    \"(uri, cache_row, certificate_row, last_modified) VALUES (?, ?, ?, ?)\",\n    (uri, cache_row, certificate_row, str(int(time.time())))\n). Single line.. Single line.. Single line.. Single line.. Needs to be formatted better, move arguments to new line below the function definition and indented 4 times.. python\nresults['certificate'] = yield self._decode_and_cache_claim_result(\n    results['certificate'], update_caches). Same as above.. Single line.. Single line.. Single line.. Single line.. Single line.. Single line.. These should not be wrapped in str() since the string formatting does this already.. Single line.. Single line.. Single line.. What is the purpose of the extra space?. Single line.. Single line and the str() is probably unnecessary.. Single line.. Single line.. Also, this should be formatted as something like:\npython\nraise InsufficientFundsError(\n  'Insufficient funds. Make sure you have enough LBC to deposit.'\n)\nOr perhaps, if the message is constant it should just be built-in to the InsufficientFundsError. How many different messages do we need for this exception?. Testing for Exception seems a bit dangerous. This would pass the test on any exception, even if it has nothing to do with the error being tested.. Don't invent new exceptions unless it's somehow specific to the app. This particular exception looks like a TypeError, so just throw a TypeError. Or, pick something else more appropriate from here: https://docs.python.org/2/library/exceptions.html. I like 120 in general, but on the rare occasion that you want to have two files open at the same time, it helps a lot to have slightly more reasonable lines.\nActually, since you use the PyCharm git tools, I'd think you would prefer the shorter line length too since PyCharm shows diffs side by side.. Can we keep this out of the .gitignore for now, unless it's causing problems. Once I'm done learning/testing lbryum I'll move onto lbry and will probably set it up the same way as lbryum (with codecove and tox with python2 and python3).\nTox makes it easy to test code under different versions of Python and also to make sure it's packaged properly (as a Python pip'able package). Which regular testing from source doesn't verify.. Checking for an error condition in a response from lbryum and throwing an appropriate exception makes sense to me. Although lbryum is not consistent about the insufficient funds errors, maybe we need to add error codes first as @kauffj suggested in another issue.. Investigated this some more, TypeError is the correct exception:\nTypeError - raised when a variable is of the wrong type. So, if you are expecting an int and it's a float, that's a type issue.\nValueError - is when you expect a string that you then want to convert to a float and it's an integer, then that's a value error. because string is correct type, but the value of the string is not valid.. You can simplify this to just:\npython\ndef get_max_usable_balance_for_claim(self, claim_name):\n    return self._run_cmd_as_defer_to_thread('get_max_spendable_amt_for_claim', claim_name)\n@defer.inlineCallbacks turns a method into something that returns a Deferred but _run_cmd_as_defer_to_thread() already returns a Deferred, so you can skip all the indirection and just return the result of _run_cmd_as_defer_to_thread().. In user facing messages we should spell out 'max' as maximum. If this text doesn't make it to the user then never mind.. Is there an error message or something inside channel_claim that could be logged? Logging a dictionary seems strange.. Please change amt to balance.. Maybe change this to 'Claiming of channel {} failed: {}' to be consistent with the other error where you say 'Claiming of name...'.. How come the condition check is bid > balance but in the error message it says that the max is balance - MAX_UPDATE_FEE_ESTIMATE. Should the condition be updated to be bid > (balance - MAX_UPDATE_FEE_ESTIMATE)?. Could be a tuple instead of a list, conveys that this won't be modified elsewhere and takes up less memory.. Would you consider sort_by as variable name instead of sorts?. Would you consider direction instead of order and is_reverse instead of reverse?. Instead of having the variable lbry_files I think it's fine to just have return in front of each sorted() call. Less code, equally easy to read, less variables, etc.. another way of doing this per our discussion:\n```python\nDESC, ASC = 'desc', 'asc'\nDIRECTION = DESC, ASC\ndef f(sort):\n    pieces = [p.strip() for p in sort.split(',')]\n    field = pieces.pop(0)\n    direction = ASC\n    if pieces and pieces[0] in DIRECTION:\n        direction = pieces[0]\n    return field, direction\nprint(f('foo'))\nprint(f('foo,desc'))\n. Move the key_getter function to global scope.. Can you simplify it more and move it into the `Daemon.py`, for example:python\ndef sort_claim_results(claims):\n    for claim in claims:\n        claim['result'].sort(\n            key=lambda d: (d['height'], d['name'], d['claim_id'], d['txid'], d['nout'])\n        )\n    return claims\n``. What is the rationale for storing the dictionaries in a separate json file instead of just having this directly in the code?. A loop like this makes it impossible to set breakpoints on a specific test case. Can you refactor this so that there is one line per test case which can accept a breakpoint in debugger if necessary. Even better if each test case is its own method. If there are 4 use cases then there should be 4 methods (descriptively named explaining what is being tested).. Can you rename this to something more specific such assort_claim_results? Justarrange_resultsdoesn't give you enough information on what it's for.. This is looking much better; you can reduce the code even more if you make theexpectedpart above just be a list oftxids. So, in above case, the second argument torun_testwould just be[\"w5tv8uorgt\", \"aecfaewcfa\", \"fdsafa\"]`.\nThen in run_test:\npython\nself.assertEqual(expected, [r['txid'] for r in actual]). The test needs to assert something. This just proves that no exceptions are thrown, but doesn't guarantee that the desired behavior is occurring.. When does the temporary file get cleaned up?. Seems a bit dirty to put this up in the imports. Is that the only way to do it? (if that's the only way then the code looks good and I can merge it). What if instead of putting this in code it gets set in the environment as an actual environment variable?. sort_claim_results is provided as a Deferred callback so if it doesn't return then the subsequent callbacks will not get the claims. See: https://github.com/lbryio/lbry/pull/1216/files#diff-309f9696e2149ec1146e8674e77e4e49R2301. They just mean it doesn't produce useful results; I don't know if it means that you can't even install it on windows or os x. As long as we can install it, I think it'll be fine.. Shouldn't this return defer.succeed(True) in the implicit else case? Otherwise it requires the caller to defer.maybeDeferred() your start() method. I think it's good etiquette to keep an async method async in all circumstances.. API should just be an @property with name is_verified instead of get_is_verified() method call.. You can just put a regular return statement, it will have the same effect as defer.returnValue(None).. I think we're moving towards using @defer.inlineCallbacks more because it's easier to read / reason about and will make a some-day port to asyncio easier. And in this particular case it will have the added advantage of reducing the class surface area by moving the two methods below directly inline into this method.. Does this need to be yielded?. yield?. could just be: self.is_wallet_unlocked = not self.wallet.use_encryption. # override comment here is redundant, PyCharm will complain anyways when you subclass this.. We don't have a way to know what are all of the possible exceptions that could be thrown. I think the goal here is to retry downloading no matter what and log the specific exception.. exception variable still holds the actual specific exception, the error message will include the specific exception in the output. This is basically a catch all to make sure we keep chugging along no matter what might have failed.. In Python you can have a function followed by an if ... and the function won't be called unless the condition is true. Here is an example:\n```python\n\n\n\ndef alternative():\n...   print('alternative called!')\n... \nalternative() if False else 'nope!'\n'nope!'\n```\n\n\n\nIt's difficult to tell what is actually changed above, logically. Can you undo all of the swapped conditionals and just leave the line that fixed the original problem.. I read the chat. Maybe the confusion is from the comment about reading from left to right? In which case that's referring to attribute access and not the order in which inline if statements are evaluated. See my code example above which shows that alternative() does not get called.. Should this be HashAnnouncerComponent?. Should this be StreamIdentifierComponent?. FileManagerComponent?. PeerProtocolServerComponent or PeerProtocolComponent?. Can the exchange manager be a component? Otherwise there is no way to disable it when doing integration tests of the other parts (which don't use the exchange manager).. This test is too complicated, also it's impossible to set a breakpoint if something fails since you won't know on which iteration of the loop it failed. Asserts inside loops should almost always be avoided (emphasis on always).. This test is too complicated, also it's impossible to set a breakpoint if something fails since you won't know on which iteration of the loop it failed. Asserts inside loops should almost always be avoided (emphasis on always).. Please use self.assertIsInstance() and self.assertNotIsInstance().. Can above changes only contain the bare minimum needed for this PR?. Above code fails in cases where failure is not a Failure and thus there is no .check() method. Instead it is moved to be inside if isinstance(failure, Failure) where failure.check() works.. @jackrobison ^. hexlify(). I think this will look cleaner and more compact.\ndef get_status(self):\n  return {\n    ...\n  } if self._download_headers else {}. One line less :-p\ndef get_status(self):\n        if self.wallet:\n            local_height = self.wallet.network.get_local_height()\n            remote_height = self.wallet.network.get_server_height()\n            best_hash = yield self.wallet.get_best_blockhash()\n            defer.returnValue({\n                'blocks': local_height,\n                'blocks_behind': remote_height - local_height,\n                'best_blockhash': best_hash,\n                'is_encrypted': self.wallet.wallet.use_encryption\n            }). def get_status(self):\n        count = 0\n        if self.blob_manager:\n            count = yield self.blob_manager.storage.count_finished_blobs()\n        defer.returnValue({\n            'blobs': count\n        }). pan handle. pan handle. are you sure this don't fit on one line? i think we're at 110?. pan handle\n. pan handle. really pan handle. pan handle. serious pan handling going on. handle of the pan. I actually kinda like the original, it seems more compact, but don't feel super strongly about it.. pan handles. )(self.stop)() looks a bit gnarly :-D\nCan _setup/_stop go back to being @inlineCallbacks with the new decorator you've written?. What is painful about it? Can you be more specific? Also, assuming it's painful, how would you make it less painful?. This is old code copied from lbryum claim implementation. I will look into it now and fix, thanks for pointing it out.. I've added the necessary methods to deal with this in torba but hadn't used them here yet, thanks for pointing this out, will fix soon.. that just makes the string be bytes instead of unicode. In Python 3 strings are unicode by default, so to get the original behavior it had to be converted to bytes explicitely.. Fixed in https://github.com/lbryio/lbry/pull/1155/commits/b90f0755290514a4a7a462bba510f4bcb4a4a88c. Wallet.py isn't used in the new wallet implementation; I just left it for now as a reference but it fails pylint hence I turned off pylint checking. We can delete Wallet.py once all of the commands are implemented and working.. The comment can be removed, I added it when the CLI wasn't working but @hackrush01 has ported it to Python 3; he should have removed the comment when the port was complete and working.. ```\n$ python3.7\nPython 3.7.0 (default, Jun 28 2018, 02:32:19) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nimport exceptions\nTraceback (most recent call last):\n  File \"\", line 1, in \nModuleNotFoundError: No module named 'exceptions'\n\u00af\\_(\u30c4)_/\u00af. Every outpoint has the `id` attribute, which is `txid:nout`, only actual claims have a `claim_id` (and `claim_name`, etc):\nhttps://github.com/lbryio/lbry/blob/lbryum-refactor/lbrynet/wallet/transaction.py#L29-L36. I would do `from binascii import unhexlify`, it's used often enough that it's more convenient to have it imported directly (and consistently like in other places).. nice!. `from binascii import unhexlify`. Don't need the extra `[` brackets `]`.. Can drop the extra brackets.. Can drop extra `[` brackets `]`.. brackets. Anyway this can be fixed at call site instead of doing this check here?. I think here modifying dict is fine if you copy keys:python\n        for key in list(settings_dict):\n            if not self._is_valid_setting(key):\n                log.warning('Ignoring invalid conf file setting: %s', key)\n                del settings_dict[key]\n. This should be the first thing we fix later when we refactro the P2P. :scream:. nice!.python\nhost = \"{}.{}.{}.{}\".format(info[:4])\n``. But you don't need.keys()there in Python 3.list(self._peer_connections)will work too.. Maybe add a comment thatclose_connection()modifies the dictionary and a TODO/FIXME?. we create the TX a little bit before this line ourselves, so we know upfront that claim txo is 0.. These should not be indented since they are at the same level as the fields being injected.<<: testsis not a parent ofnameandpythonit's a sibling.. Why does this one get dedented?.after_successandinstallalready get copied from the originaltestsvia<<: *tests. Above is duplicating lots of stuff.. I thought we were dropping all of these magic methods?. This is only used for parsing command line arguments, would that be affected by lbrycrd changes?. This is just for making a hash, it only needs to be deterministic. Do you expect that normalization in lbrycrd would break the hash?. You are commenting on a file that was deleted.. You are commenting on a file that was deleted.. You are commenting on a file that was deleted.. You are commenting on a file that was deleted.. Are there other kinds of balances that are common? I thinkbalanceis pretty obvious that it's balance of your wallet.. In what context wouldfundmean something other than wallet related funding operations?. Is there a significant benefit to addingwalletto this commands name? Seems like it just forces users to type more on the command line.... I think here we're just porting it to py3. Considering if it even makes sense to keep this function would be for a future PR.. It's used to track installations. Important to LBRY but probably not important to users. I think here we're just porting it to py3; without making any assertions about it's correctness or applicability outside of just making it work the same in py3 as it did in py2.. Good catch! Amount was converted to ints byget_dewies_or_error()so the comparison here should be using0`.. Changed it to 1.. You're saying the seed isn't stored after restoring the account from a seed? Or did you mean something else, re: \"this kind of info\"?. You may be thinking of accounts under a single HD chain. Here each \"Account\" is a root of an HD chain. Basically, you can have more than one HD root in the same wallet.. @jackrobison or @shyba can you guys answer this one?. I think we're going to do a types audit later and improved the typing. For now this is better than it was before :-D (before you didn't even know if it returned bytes or unicode string :scream:). After reading the next comment I think I know what you meant by \"this kind of info\". You're talking about the sub-account in an HD chain. It's not an issue here because each Account is actually an independent root. When restoring from seed you're restoring a single Account and adding it to the list of other accounts also restored from a seed.\n\n\n\nThe reason for having a default account is that the current desktop app does not know that  wallet can have more than one account and also because it's convenient to have a default account which is used for payments while having other accounts as read-only or for other reasons.. Shouldn't getting the amount happen before the amount checks above?. This is wrong, if amount is None then the amount < 0 will throw an exception. First there need to be a check that amount is not None and then a comparison can be done.\n```python\n\n\n\nNone < 0\nTraceback (most recent call last):\n  File \"\", line 1, in \nTypeError: '<' not supported between instances of 'NoneType' and 'int'\n``. Same as earlier comment, this is doing less than comparison before a null comparison. Also, why the change from0to0.0? The amount should be in dewies which is anint.. Why did this get moved? Actually, it would be even better if it was deleted altogether, could you do the necessary refactoring to make that happen? I don't think it's used in many places.. Can you reduce the number of blank lines and inlinehash_of_addressto be consistent with how all of the otherTransactionmethods are implemented.. Shouldn't getting the amount happen before the amount checks above?. This is wrong, if amount isNonethen theamount < 0will throw an exception. First there need to be a check that amount is notNone` and then a comparison can be done.\n\n\n\n```python\n\n\n\nNone < 0\nTraceback (most recent call last):\n  File \"\", line 1, in \nTypeError: '<' not supported between instances of 'NoneType' and 'int'\n``. Same as earlier comment, this is doing less than comparison before a null comparison. Also, why the change from0to0.0? The amount should be in dewies which is anint.. Why did this get moved? Actually, it would be even better if it was deleted altogether, could you do the necessary refactoring to make that happen? I don't think it's used in many places.. Can you reduce the number of blank lines and inlinehash_of_addressto be consistent with how all of the otherTransactionmethods are implemented.. removed commadsend_amount_to_addresswhich was previously marked as deprecated. Move the amount checks to come right after the amoutn variable is set.. An address is already a hash of the public key, so this is a hash of a hash of a public key. Anyways, it's not useful to have this variable since nothing happens with it and it's just doing a common conversion.. Just to reiterate theAccountin the code above is *not* the same as HD accounts. AnAccountrepresents a distinct HD root (completely unrelated to otherAccountroots). When you restore from a seed you are restoring a singleAccountonly, unrelated to other accounts.. The new wallet is backwards compatible with the old one in terms of how thereceivingandchange` address chains are defined. Which is what we inherited from electrum. I don't believe it follows the BIP32 spec exactly.\n\n\n\nThe code for this is here:\nhttps://github.com/lbryio/torba/blob/master/torba/bip32.py\nhttps://github.com/lbryio/torba/blob/master/torba/baseaccount.py. Yes, please remove it and make the necessary changes.. We use hexlify() and unhexlify() all over the place and at least half of the usage is inline (doing the conversion just as the variable is passed to some function). This hex address to hash160 conversions is similar to hexlify/unhexlify and is pretty boring and standard operation. It doesn't need to be pulled out and highlighted to bring attention to it, if anything it distracts from the main flow of the function.. @lbrynaut, @shyba made the changes and they have been merged into this PR.. Don't need the extra parentheses anymore.. You could refactor this whole function to just return get_block() and get_block_info(), self._render_response() doesn't do anything.. Why not just hash160_to_address=self.hash160_to_address?. Can you refactor this to use @defer.inlineCallbacks?. Should be get_certificate_and_validate_result().. Does return yield self.resolver..... work? In twisted on py3 defer.returnValue is no longer necessary. I'm wondering if it could be dropped here.. This doesn't look correct to me. Was something fixed by this change?. If you have bitcoin or other currency accounts in your wallet.. What if height=0? Actually, there is a bug on torba related to this as well.. You've modified get_block() to accept None for both blockhash and height but here there is a duplicate check for blockchash is not None or height is not None and then an error is thrown... Couldn't the entire body of this method be replaced with just: return self.wallet.get_block(blockhash, height)?. A bit cleaner would be:\nif height is None:\n  height = self.ledger.headers.height\nif block_hash is None:\n  block_hash = self.ledger.headers.hash(height).decode()\nreturn self.ledger.network.get_block(block_hash). This should be cleaned up, not resolved check doesn't need to happen twice.. I don't think 2 blank lines is necessary between import statements. One is enough if you are trying to distinguish blocks of imports.. Should be using jsonrpc_account_create.. Why does this need to change?. Will be soon.. How long does it currently take to run the test? If we are close to 120 already then updating is fine, if we're still far from 120 then let's just wait (and maybe even make the test run faster).. Great!. Typo? Should be claim_tip command.. Does this method fail with NameError: name 'account' is not defined if no account_id is passed in?. Is it tip a claim or tip the owner of a claim?. Does this method fail with NameError: name 'account' is not defined if no account_id is passed in?. My point is that it's clearer to say that the tip is being paid to the claim owner (the same address that owns the claim). You can't pay to a claim itself. The entire and only difference between a support and a tip is who the support goes to so I think the documentation should explain this. \"Tip a claim\" does not convey any of that nuance.. I think the original code is correct here: return Fee(converted_fee). Extraneous return.. All commands dealing with accounts should take an account id as an argument and use get_account_or_error() to lookup the account, if no account id is provided then it should use default_account.. All commands dealing with accounts should take an account id as an argument and use get_account_or_error() to lookup the account, if no account id is provided then it should use default_account.. All commands dealing with accounts should take an account id as an argument and use get_account_or_error() to lookup the account, if no account id is provided then it should use default_account.. Is factory a class or an instance of a class?. Please update this to use Python 3 style string formatting: 'Unknown settings format {}'.format(ext). Please update this to use Python 3 style string formatting: 'Unknown settings format {}'.format(ext). Can you explain this change? Specifically, why FileNotFoundError is caught but then immediately raised, couldn't you just not catch it and let the original propagate up?. 'daemon_settings.yml' should be defined as a constant somewhere at the top of the file.. Extraneous parenthesis.. Extraneous parenthesis.. Something about passing default=None feels wrong. I would expect that get_conf_filename() should always return a filename. If the default filename is configurable then it's not really a default filename, it's more like an override. get_conf_filename() is already doing too much (checking that the file exists... an action not obvious given the method name is just 'get the filename'), having it also support configurable defaults is too much.\nCan you simplify the logic and method signature?. Pass in the account as an argument. We need to start moving towards having account argument on all daemon commands.. No check for claim being null, should raise an error that claim was not found.\nAlso, you can reduce the if statements to just: account.get_claim(claim_id=claim_id, txid=txid, nout=nout). Would have the same result but much less code.. I would like to standardize on using --account= across all commands. I'll update the other commands today. Function argument itself should remain <account_id>.. I would like to standardize on using --account= across all commands. I'll update the other commands today. Function argument itself should remain <account_id>.. For now just propagate the original exception.. Can this method name also be renamed to follow PEP standard? I realize it's not part of the PR but if it's easy.. Why does this return Deferreds if everything is sync?. This URL building is duplicated 3 times in the PR, can it be extracted into some kind of utility function or method?. Can you use create instead of new.. Local variables don't need to be explicitly typed, their types can be inferred from the value being set. PyCharm is pretty good about inferring types of local values like this.. Convert account_id to an actual account using self.get_account_or_default(account_id).. Convert account_id to an actual account using self.get_account_or_default(account_id).. Convert account_id to an actual account using self.get_account_or_default(account_id).. Convert account_id to an actual account using self.get_account_or_default(account_id).. Do we still need is_first_run? I know it's not part of this PR, but just wondering if we can drop it.. Can this be changed to a sync method instead of returning Deferred?. This shouldn't be here, it's a copy of what's already in Daemon.py.. The 4 methods above should all accept an account instance instead of an account_id. Also, can you make them return plain values instead of Deferreds, none of them are actually async.. Is this duplicate of what you added to torba? I would drop it from lbrynet unless there are lbrynet specific things it needs to ensure. I'd rather rely on integration tests that use the Daemon encrypt/decrypt API for sanity testing and leave the unit tests in torba.. Get a cost... should be dedented to match how all of the other doc strings appear in Daemon.py. Also, please remove the blank line at the end.. This line is too long, it failed the linter during build.. This line is too long, it failed the linter during build.. Instead of the comment you added I'd like to rename the method name to something like: get_valid_settings_filename. This will explicitly document everywhere that the settings filename returned will be validated (at least that it exists). This is especially important since typically a method named similar to get_conf_filename would appear to be without performance penalty but in this case you are actually accessing the file system and checking that the file exists... every time it's called; the method name should reflect this or standout somehow.. This is redundant here, you can remove it:\nelse:\n  return None. This returns 0 but the message says \"will be removed in a future release\". If the command isn't run then isn't it basically removed now?. The message should then say: \"{} is permanently deprecated and does not have a replacement command.\". If we apply this rule consistently this way then it would require adding probably a thousand extra lines of empty returns across the various Python repos. We're pretty good about sticking to the PEP but I would like to make an exception in this case and I think very few other projects stick to this particular rule. Especially since it's not a style issue but a logical one; automated tools don't enforce this as far as I know and if you can't enforce it with automated tools I don't want to make it a requirement.\nI think in all cases if you're at the end of the function then an else: return None is pretty redundant. In cases where it has particular logically meaning or you want to bring attention to it for some reason then it makes sense to put it there.. Can this be moved up one level and put next to where maybe_migrate_certificate is called?. Doesn't the above two lines do the same thing but with different values? Why is self.convert_max_fee() called for one but converted_fee_amount calculated here? Can we drop self.convert_max_fee if it's not needed?. Why these changes?. This is really verbose and redundant:\nis_disabled_max_key_fee = True if amount < 0 else False\nabove can be represented much more succinctly as:\nis_disabled_max_key_fee = amount < 0\nbut since the is_disabled_max_key_fee isn't used anywhere else and is making a double negative (not amount < 0) you could make this much cleaner and easier to read by removing the not and flipping the less than to greater than:\nif converted_fee_amount > max_key_fee_amount and amount > 0:\nunless I'm missing something in the logic.... Yeah, I just want things to be consistent and clear. Feel free to change original code if it appears wrong or no longer makes sense.. Can't see how this could work. Did you run this code?. What is this line testing?. assertTrue and assertRaises do not return Deferreds so I'm not sure if these test even runs, did you try running the test? Put an self.assertTrue(False) at the end of the test, if the test doesn't fail then it's not getting run :-p. suggestion\n            if not isinstance(proof['nOut'], int):. suggestion\n            if not isinstance(proof['last takeover height'], int):. I think we want to keep the original license, there are various automated tools on the internet that check project licenses by string comparison, it may get confused by this change. See official license: https://opensource.org/licenses/MIT. I would like to avoid making the dht dependent on the component manager.. All of this component plumbing/introspection code shouldn't be here.. What about '?' for _ in range(len(current_batch)) -> ['?'] * len(current_batch) ?. This should be done in a separate PR so that you can coordinate with a PR in the android repo. Also, see this issue: https://github.com/lbryio/lbry/issues/1606\nAlso, this is something @hackrush01 is already working on.. is_valid_blobhash sounds like something that should be in the lbrynet.blob module?. I'm not saying you shouldn't do whatever you're doing here. Just asking to move this code somewhere else and then call into the DHT to give it the information it needs or just to control. DHT module should have no references to the component manager.. This make the code about 7x slower:\n```\nPython 3.7.0 (default, Aug  6 2018, 20:07:46) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nimport timeit\ntimeit.timeit('\"f\" in \"0123456789abcdef\"', number=10000)\n0.0009198940824717283\nnewway = \"\"\"\n... try:\n...   16 > int('f', 16) >= 0\n... except ValueError:\n...   pass\n... \"\"\"\ntimeit.timeit(newway, number=10000)\n0.007640283089131117\n. Using `unhexlify` would be about 6x faster than manually looping over individual characters and calling the `is_hex_character` function.\nPython 3.7.0 (default, Aug  6 2018, 20:07:46) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nimport timeit\ntimeit.timeit('try:\\n  unhexlify(\"beef\")\\nexcept Error:\\n  pass', 'from binascii import unhexlify', number=10000)\n0.0037124441005289555\ntimeit.timeit('all(is_hex(c) for c in \"beef\")', 'def is_hex(c): return c in \"0123456789abcdef\"', number=10000)\n0.024959808913990855\n``. Instead of adding the comment, can you add type annotations to the method itself:self, blob_hash: str, length: int = None, etc.... I think this should actually be aValueError`, that's what we've started using in many other places.. Please open an issue explaining what needs to be fixed / review with a permalink to relevant lines of code instead of a comment here.. Instead of adding the comment, can you add type annotations to the method itself.. Instead of adding the comment, can you add type annotations to the method itself. :+1: . Okay, point taken, you can leave this as you have it.. Just keep it as succinct as possible. I prefer to make the method names, the arguments names and the code cleaner rather than to have to provide comments. Comments should be a last resort when the code is too complicated and can't be made simpler.\n\n\n\nI've seen too many times where comments were written with good intentions, then someone changed the code and now the comments don't represent the code and so readers end up having to waste time reading incorrect comments and also studying the code anyways to understand what's going on. I believe it's more efficient and a greater win-win to just write clean and simple to understand code rather to have shit code that needs to be commented.\nWith that caveat, I'm fine if you want to leave some comment, just please keep it short and sweet and to the point and don't include anything obvious that can't be inferred from the method name, arguments names or a quick skim of the code.. Both the in operation and the int('f', 16) operations are probably very fast, the difference is that the in is at the language / assembly level while int() requires calling a function:\n```\n$ python3.7\nPython 3.7.0 (default, Aug  6 2018, 20:07:46) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nfrom dis import dis\ndis('\"f\" in \"0123456789abcdef\"')\n  1           0 LOAD_CONST               0 ('f')\n              2 LOAD_CONST               1 ('0123456789abcdef')\n              4 COMPARE_OP               6 (in)\n              6 RETURN_VALUE\ndis(\"16 > int('f', 16) >= 0\")\n  1           0 LOAD_CONST               0 (16)\n              2 LOAD_NAME                0 (int)\n              4 LOAD_CONST               1 ('f')\n              6 LOAD_CONST               0 (16)\n              8 CALL_FUNCTION            2\n             10 DUP_TOP\n             12 ROT_THREE\n             14 COMPARE_OP               4 (>)\n             16 JUMP_IF_FALSE_OR_POP    24\n             18 LOAD_CONST               2 (0)\n             20 COMPARE_OP               5 (>=)\n             22 RETURN_VALUE\n        >>   24 ROT_TWO\n             26 POP_TOP\n             28 RETURN_VALUE\n``\nYou can see above how much more work is theint()approach and this doesn't even include the internals of theint()function.. Sure, only catch is thatunhexlify()requiresbytesonly and fails on if you pass it astrso changing the function to useunhexlify()will require careful testing to make sure any code usingis_valid_blobhashonly passesbytesand notstr`.. I don't think we're using sphynx doc generator. I imagine that if we do use a doc generator we'd want one that can understand Python 3 style type annotations though.. Unnecessary code and comments adds to the technical debt of the project; we want to reduce technical debt. Also, we're not using sphynx doc generator. I imagine that if we do use a doc generator we'd want one that can understand Python 3 style type annotations though.. What's a \"Python 3 STL\"? Do you mean AST (Abstract Syntax Tree)?\n\n\n\nint is not a reserved word and not part of any AST, it's a function like any other function and just happens to be built-in.\nYou can even treat it like a regular variable and override it:\n```\n$ python3.7\nPython 3.7.0 (default, Aug  6 2018, 20:07:46) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nint = 33\nint\n33\n```. 1. A hex string is supposed to be even. I don't get your point about this being an issue. Why would we want odd length hexadecimal strings?\n2. Why is being indifferent to uppercase/lowercase a problem?. I think I addressed this pretty clearly in my original comment, again, to reiterate:\n\n\nI believe it's more efficient and a greater win-win to just write clean and simple to understand code rather to have shit code that needs to be commented.\n\nYou seem to agree but miss the obvious: your criticism of the code is correct, so fix the code, don't compound the technical debt by also adding comments. :-D\nI agree that methods longer than 40 lines are too long. Can you fix that? Instead of adding even more lines via comments. <-- the only exception to that is if there is a performance benefit of inlining complicated algorithms in one function, but this is very rarely necessary and in this narrow case a comment is acceptable (to say why the method is massive).\nNo code is sacred here, if you think something can be done better please do it better. I'm a big fan of less code and simpler code. I have a special place in my heart for PRs that delete code leaving things simpler and cleaner while still functioning as before.\nHave you seen this? https://github.com/lbryio/lbry/wiki/Zen-of-LBRY-Development. If you google \"technical debt\" you'll get a ton of articles, here are a few:\n\nhttps://www.bmc.com/blogs/technical-debt-explained-the-complete-guide-to-understanding-and-dealing-with-technical-debt/\nhttps://hackernoon.com/there-are-3-main-types-of-technical-debt-heres-how-to-manage-them-4a3328a4c50c. We are using mypy on torba and plan to use it in lbry repo very soon as well. This means using Python 3 style type annotations. If we use Python 3 style type annotations and also add sphynx doc strings with the same information it leads to huge technical debt.. At a minimum we use pylint and this is actually what failed your PR. You have an unused import (which will get resolved if you use it in a python 3 style annotation).\n\nThe standards currently applied / will be applied soon:\n1. pylint runs automatically on all PRs\n2. mypy not yet integrated but will be soon (which means use Python 3 type annotations)\n3. https://github.com/lbryio/lbry/wiki/Zen-of-LBRY-Development. That's not correct, mypy statically analyzes the entire code base and enforces that the types are what you say they are. It's not just \"typehinting\". We use it on torba already which is the wallet code for lbrynet (i gave links to mypy and torba in previous comment).. We are starting to use it in lbrynet, but it's going to take some time to get all of the code updated before we can start enforcing it, this is a good example of a file that uses lots of type annotations: https://github.com/lbryio/lbry/blob/master/lbrynet/extras/wallet/transaction.py. Sounds good. Like I said, no code is sacred in lbry, feel free to improve anything you want. We believe in breaking things and moving forward quickly. Looking forward to your future PRs.. Better to just fix it right away as you're learning it.\nHaven't had time for UML diagrams, by the time a UML diagram is created the code will probably change and the UML diagram will be out of date.\nLess code = quicker to understand = quicker to change = quicker to innovate and move forward.\nThe more docs, UML diagrams and other stuff you add the more technical debt you have and the more bogged down you get. Now making a simple code change requires also updating docs and updating UML diagram, etc. Or more likely, people will only make the code change and now the docs and UML diagram are out of date.\nIt's much more efficient to write clear and tight code that's easy to understand and easy to modify.\nAnother really good way to document an API is to write readable unit tests, if they clearly show inputs/outputs it does two things: 1) provide working examples and 2) is \"living\" documentation because if the code changes the tests have to change, otherwise tests fail. This is much better than static written docs which get stale when code changes.. We do brain storming on a white board, this includes sketching stuff roughly resembling UML diagram but much less formal. We did this for the new wallet architecture. But the final design changed enough that the original drawn diagrams don't really reflect reality.\nI'm a visual person so totally support quick sketches and diagrams. I just don't want to waste time on formal UML diagrams with expectations that they will be kept updated, etc.. If we do anything like that again I'll be sure to post a photo into slack.. Extraneous space after the comma?. Can you follow this refactor further? For example, there is no benefit to renaming bytes to bseq, instead it would be better to just use bytes where bseq currently appears. Same goes for iseq (which doesn't even do anything) and buffer.. Can you please remove the space after the comma.. Please change to:\n[self._get_fake_lbry_file(meta) for meta in FAKED_ATTRIBUTES]. Can you remove above conditional and also move this entire FAKED_ATTRIBUTES list into the file that imports it, just all the way at the bottom.. Um... what's going on here?. Why this monkey business?. Use task.react instead of reactor.run() for when you just need to run a task and exit after it completes.\nhttps://twistedmatrix.com/documents/current/api/twisted.internet.task.react.html. > The module uses a global variable to store the name of the directory used for temporary files returned by gettempdir(). It can be set directly to override the selection process, but this is discouraged. All functions in this module take a dir argument which can be used to specify the directory and this is the recommended approach.\nhttps://docs.python.org/3.7/library/tempfile.html#tempfile.gettempprefixb. Technically all of these None values would require the attribute type wrapped in Optional, if you ran mypy on this code it would have multiple hear attacks and die of diabetus. Not critical for now, just pointing it out.. Those strings should probably be constants somewhere.. The two classes here feel like a whole lot of copy/pasting. There's gotta be a more elegant way to do this... :thinking: I guess it's fine for now.. I think there is one too many parens here.... Can this be removed?. Is this commented out because it's getting deleted or does this need to be fixed before merging?. Removing these will need to be documented in changelog.. Um, what? Can't you just call send_credits_sent() and then return result?. What's going on here?. Why the try/finally?. Why abandon?. :+1: . what is going on here?. Should this catch float conversion errors and KeyError. Most of the fee code involves accessing keys (without checking if server response is correct) and then blindly wrapping it in float().\nAlso, why does it catch CancelledError?. The new name and the old name are the same?. Can this test have an assert somewhere?. For hang, is it possible to assert that it finishes in 1s or 2s, etc (and fail test if it takes longer)?. If this function should return None when claims is not in result or result['claims'] is an empty list then you'll need to pass a default second argument to next(iter, default), otherwise next() throws an error when there is no next item (such as if the filter returned nothing).. Could the comment here just be a URL to the spec and maybe even section of the spec that includes the valid chars?. Following a rebase against master, this test should go into a new class (ClaimNormalization?) inside of integration/test_claim_commands.py.. This shouldn't change.. Data is a redundant word here, just say \"Comment management.\". Should be channel_id (aka channel claim_id) instead of channel_name since you might have multiple channel claims for the same channel name (very unlikely, but possible).. reply_to -> parent_comment_id. Should say \"Comment management.\" to be consistent with the others, this string is displayed as a help/comment for command groups in the cli.. ",
    "coveralls": "\nCoverage increased (+1.2%) to 47.19% when pulling 5bdc611904fff3bba0b42efd2ad32e77bf748eef on add-changelog into 4ab5ace668959448a4e1cc51686b1ce3d9f7e216 on master.\n. \n\nCoverage remained the same at 47.19% when pulling 8624e00e23243ec098ce1e60669d2ff1c062f77a on add-changelog into a167beaad12c5fad5da12e237f5a69b6ebbb710e on master.\n. \n\nCoverage remained the same at 47.19% when pulling 8624e00e23243ec098ce1e60669d2ff1c062f77a on add-changelog into a167beaad12c5fad5da12e237f5a69b6ebbb710e on master.\n. \n\nCoverage remained the same at 47.19% when pulling fab41e88970146ec3520103fa78b9d16ca3445e4 on add-changelog into a167beaad12c5fad5da12e237f5a69b6ebbb710e on master.\n. \n\nCoverage remained the same at 47.19% when pulling 831a3040c2418d3e818a3d34f3e1833ce1e29c48 on add-changelog into a167beaad12c5fad5da12e237f5a69b6ebbb710e on master.\n. \n\nCoverage remained the same at 47.19% when pulling c1d42a36784c67dfa75f6e21de69a9fc762a1d5c on add-changelog into a167beaad12c5fad5da12e237f5a69b6ebbb710e on master.\n. \n\nCoverage remained the same at 47.19% when pulling 59631ed7b72f776ca8c752608e1b7f2dde0bf86f on test-changelog into a8780f03a83755fe7c3c1e49d951de0d20ca0ab1 on master.\n. ",
    "l2dy": "\nYes.\nNo.\nI enabled firewall and that might be the cause.\n\nI've downloaded rc5 and it crashed with\nERROR    lbrynet.lbryfilemanager.EncryptedFileManager:139: An error occurred while starting a lbry file (2, 296..., None)\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileManager.py\", line 136, in _set_options_and_restore\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileDownloader.py\", line 66, in restore\n  File \"site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileDownloader.py\", line 125, in load_file_attributes\nNoSuchSDHash: b93...\nreoccurring and then\nERROR    lbrynet.lbrynet_daemon.DaemonControl:133: Failed to startup\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/lbrynet_daemon/DaemonControl.py\", line 129, in start_server_and_listen\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/lbrynet_daemon/DaemonServer.py\", line 48, in start\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/lbrynet_daemon/Daemon.py\", line 331, in setup\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/lbrynet_daemon/Daemon.py\", line 647, in _setup_lbry_file_manager\n  File \"site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileManager.py\", line 61, in setup\nTypeError: 'NoneType' object has no attribute '__getitem__'. I've confirmed that it's the firewall causing socket.error. Please handle this gracefully.\nThe error below still reoccurs for a few times but the daemon didn't crash anymore.\nERROR    lbrynet.lbryfilemanager.EncryptedFileManager:139: An error occurred while starting a lbry file (2, 296..., None)\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileManager.py\", line 136, in _set_options_and_restore\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileDownloader.py\", line 66, in restore\n  File \"site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages/lbrynet/lbryfilemanager/EncryptedFileDownloader.py\", line 125, in load_file_attributes\nNoSuchSDHash: b93.... Also I get this upon exiting (Ctrl+C) in v0.9.1 with firewall off.\n```\nCRITICAL twisted:154: Unhandled Error\nTraceback (most recent call last):\n  File \"daemon.py\", line 4, in \nFile \"site-packages/lbrynet/lbrynet_daemon/DaemonControl.py\", line 97, in start\nFile \"site-packages/twisted/internet/base.py\", line 1199, in run\nFile \"site-packages/twisted/internet/base.py\", line 1208, in mainLoop\n---  ---\n  File \"site-packages/twisted/internet/base.py\", line 801, in runUntilCurrent\nFile \"site-packages/twisted/internet/base.py\", line 584, in stop\ntwisted.internet.error.ReactorNotRunning: Can't stop reactor that isn't running.\n```. In two situations (both blocking incoming connections for lbrynet-daemon):\n\nTurn on Firewall when lbrynet-daemon is running. (easier to reproduce)\nStart lbrynet-daemon when firewall is on.\n\nNote that there's some delay until error occurs.. ",
    "aaronfrary": "I had a very similar issue: same steps to produce, same timeout message, but a few minutes later the download restarts in the background and completes successfully. I've attached my logs for the session; hope this is helpful.\nSystem Configuration\nbuilt against master at commit c1a5806\n[\n  {\n    \"build\": \"dev\",\n    \"ip\": \"2601:19b:4401:7320:41ec:8f14:e547:2307\",\n    \"lbrynet_update_available\": false,\n    \"lbrynet_version\": \"0.9.1\",\n    \"lbryum_version\": \"2.7.13\",\n    \"os_release\": \"15.6.0\",\n    \"os_system\": \"Darwin\",\n    \"platform\": \"Darwin-15.6.0-x86_64-i386-64bit\",\n    \"processor\": \"i386\",\n    \"python_version\": \"2.7.13\",\n    \"remote_lbrynet\": \"0.9.1\"\n  }\n]\nlbrynet-daemon.log.txt. ",
    "Boruch-Baum": "Thanks . ",
    "alx": "Same warning about dht here on linux :  WARNING  lbrynet.dht.protocol:262: Can't send data to dht: EWOULDBLOCK\nlbrynet-daemon --version\n{\n  \"build\": \"release\",\n  \"installation_id\": \"689EG1XgCnXcZaToaNbbrBEgUkuUmWXgBdyGUHjR6tXu5fQQPbUQR4RgYBGgixeRCj\",\n  \"lbrynet_version\": \"0.9.1\",\n  \"lbryum_version\": \"2.7.13\",\n  \"os_release\": \"3.16.0-4-amd64\",\n  \"os_system\": \"Linux\",\n  \"platform\": \"Linux-3.16.0-4-amd64-x86_64-with-debian-8.7\",\n  \"processor\": \"\",\n  \"python_version\": \"2.7.12\"\n}. ",
    "nikooo777": "while uploading 35 videos tonight 3 of them failed for this same reason. I did try to re-run the script for these 3 videos and they eventually worked just fine.\nSince I did not change any parameter I would say it's something that breaks in the daemon.. We sort of bypassed the issue by spending from different addresses, however i believe that if you try to publish by spending from the same address multiple times, then it will be rejected again.\nNot so sure tho, it's still a bit too technical for me. Jack will know better. you'll have to generate wallets using the script jack provided me with.\nI can brief you later tonight my time if you're available (that'd be in 4 hours). pardon, this seems to be a duplicate of #436 \nfeel free to close if so. This issue has been fixed I believe, am I correct?. Yes, what i experienced was I clicked on a video I had never watched, the player loaded for around 30 seconds but in the network there were no calls being made.\nAfter about 30 seconds, the error popup came up and at the same time the app started flooding the daemon with full_status requests without delays.\nThe video started playing behind the error popup, the error popup was empty as shown in the screenshot above.\nI suggested that the portion of code responsible for this behavior is located here: https://github.com/lbryio/lbry-app/commit/d591886df55c47893c264f30d0ff932e157678fa#diff-313e02014d06fe554d4dd5ea2c2e7139R286\n. I worked around it by restarting the daemon when this appears to happen. I will remove that workaround once i'm only using lbryumx and we'll see if that's fixed pretty quickly.. it wouldn't confirm after waiting for a whole day. though i haven't seen this one resurface while using lbryumx. This issue has just resurfaced yesterday. I really don't know what's wrong.. it appeared to be still happening, though i moved away from using utxo_list to check utxos, instead I just wait for a block and spend.. the problem gets exponentially worse as more files are added (13 minutes startup now):\n2018-05-07 11:26:23,170 INFO     lbrynet.daemon.DaemonControl:75: Starting lbrynet-daemon from command line\n2018-05-07 11:38:19,172 WARNING  lbrynet.daemon.auth.server:211: error processing api request: This method is unavailable until the daemon is fully started\ntraceback: \n2018-05-07 11:38:21,765 INFO     lbrynet.file_manager.EncryptedFileManager:124: Started 500 files\n2018-05-07 11:39:35,830 INFO     lbrynet.file_manager.EncryptedFileManager:141: Started 21410 lbry files\n2018-05-07 11:39:37,671 INFO     lbrynet.file_manager.EncryptedFileManager:48: Started file manager\n2018-05-07 11:39:37,672 INFO     lbrynet.daemon.Daemon:520: Done setting up file manager\n2018-05-07 11:39:37,672 INFO     lbrynet.daemon.Daemon:316: Peer protocol listening on TCP 3333\n2018-05-07 11:39:37,675 INFO     lbrynet.daemon.Daemon:250: Starting balance: 1.6853845\n2018-05-07 11:39:37,676 INFO     lbrynet.daemon.Daemon:253: Started lbrynet-daemon\n\u2302122% 1d [lbry@ytsync2:~] 16m50s 130 $ ls /mnt/blobs/lbrynet/blobfiles/ | wc -l\n1445659. that's correct! looking forward to that. so, I called claim_list_mine and got this:\n{\n    \"error\": {\n        \"code\": -32500,\n        \"data\": [\n            \"  File \\\"/home/niko/.virtualenvs/lbrynet/local/lib/python2.7/site-packages/twisted/internet/defer.py\\\", line 651, in _runCallbacks\",\n            \"    current.result = callback(current.result, *args, **kw)\",\n            \"  File \\\"/home/niko/work2/repositories/lbry/lbrynet/daemon/Daemon.py\\\", line 168, in sort_claim_results\",\n            \"    claim['result'].sort(key=lambda d: (d['height'], d['name'], d['claim_id'], d['txid'], d['nout']))\",\n            \"exceptions.KeyError: 'result'\"\n        ],\n        \"message\": \"'result'\"\n    },\n    \"id\": null,\n    \"jsonrpc\": \"2.0\"\n}\nI was working with regtest but I guess this applies to live net too.\nThe steps I took to trigger this message are:\n1) I created a channel\n2) I used channel_export to export it\n3) deleted the wallet\n4) recreated one\n5) imported the channel\n6) published something with that channel\n7) called claim_list_mine\n. I can test the case that broke the daemon but in regards of the code It's up to either your or @jackrobison to approve.\nI'll let you know ASAP. perhaps allowing the client to call publish and have it return immediately could solve the issue.\nObviously we would need a method to poll the daemon for publication statuses in order to understand when a video is published. (preferably a pub/sub channel too). after some more digging we found out that this issue is unrelated to lbrynet. It seems to be a timeout parameter set in lbry.go which were' going to bump up now.. Alright We'll get rid of all those hosts then once travis works!. mine: \n```\n[niko:~/work2/repositories/txupnp] [upnp] master \u00b1 txupnp-cli list_mappings\n2018-08-06 11:42:42,514-scpd.py:88->error ([]) sending POST to http://192.168.0.1:49153/upnp/control/WANIPConn1\nheaders: OrderedDict([('SOAPAction', 'urn:schemas-upnp-org:service:WANIPConnection:1#GetExternalIPAddress'), ('Host', '239.255.255.250:49153'), ('Content-Type', 'text/xml'), ('Content-Length', 283)])\nbody:\n<?xml version=\"1.0\"?>\n\nerror: [Failure instance: Traceback: : []\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:501:errback\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:568:_startRunCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:654:_runCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:1475:gotResult\n---  ---\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:1416:_inlineCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/python/failure.py:491:throwExceptionIntoGenerator\n/home/niko/work2/repositories/txupnp/txupnp/cli.py:73:run_command\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:1416:_inlineCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/python/failure.py:491:throwExceptionIntoGenerator\n/home/niko/work2/repositories/txupnp/txupnp/cli.py:24:list_mappings\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:1416:_inlineCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/python/failure.py:491:throwExceptionIntoGenerator\n/home/niko/work2/repositories/txupnp/txupnp/scpd.py:113:call\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/internet/defer.py:1416:_inlineCallbacks\n/home/niko/.virtualenvs/upnp/local/lib/python2.7/site-packages/twisted/python/failure.py:491:throwExceptionIntoGenerator\n/home/niko/work2/repositories/txupnp/txupnp/scpd.py:89:send_upnp_soap\n]\n```. I can only test this next weekend as I'm no longer under my home AP :/. confirmed. The bug comes from me passing an empty string to claim_address and change_address. The daemon fails to detect/handle this case and also throws the wrong error.\n. this is still happening btw.\n2018-12-28 13:49:19,052 ERROR    lbrynet.p2p.HTTPBlobDownloader:146: Mirror failed downloading\nTraceback (most recent call last):\n  File \"lbrynet/p2p/HTTPBlobDownloader.py\", line 128, in _download_blob\nTypeError: object of type 'bool' has no len()\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"build\": \"release\",\n    \"desktop\": \"Unknown\",\n    \"distro\": {\n      \"codename\": \"stretch\",\n      \"id\": \"debian\",\n      \"like\": \"\",\n      \"version\": \"9\",\n      \"version_parts\": {\n        \"build_number\": \"\",\n        \"major\": \"9\",\n        \"minor\": \"\"\n      }\n    },\n    \"lbrynet_version\": \"0.30.3\",\n    \"lbryschema_version\": \"0.0.16\",\n    \"os_release\": \"4.9.33-mod-std-ipv6-64\",\n    \"os_system\": \"Linux\",\n    \"platform\": \"Linux-4.9.33-mod-std-ipv6-64-x86_64-with-debian-9.5\",\n    \"processor\": \"\",\n    \"python_version\": \"3.7.1\"\n  }\n}. Question on 2:\nWouldn't blocking also block any other calls to the daemon? Isn't it better to respond with a 202 or similar instead and let the app retry?\n(funny thing is I googled for \"http try again later\" and got a very similar problem: https://stackoverflow.com/questions/9794696/how-do-i-choose-a-http-status-code-in-rest-api-for-not-ready-yet-try-again-lat ). Hi @ITwrx \nThank you for your feedback and suggestions.\nI'm just an employee and I do not by any means take any final decisions, but I'd like to try and explain why we're doing one thing and not the other.\nWe are a limited team, a quite \"small\" one, most of us are coders and spend most of the day writing code for LBRY, some of us are community oriented and will engage with the people to offer them support and to attract them to LBRY.\nWe need to obviously optimize the time we spend engaging with people, and to do so we use platforms that the majority of the people use.\nWe'd love to support all the alternatives of the world, but it's simply impossible with so little time and resources available. Hopefully one day we'll be able to do just that, but until then, we should better focus on providing a great experience to the user and an easy way of communicating with us through commonly used channels.\nI hope this addresses some of your concerns,\nthough those are just my 2 cents.\nBR,\nNiko\nEDIT: if all our official channels are insufficient, you can still email us at hello@lbry.io. you got it. comments.lbry.io. ",
    "benyomin": "pip install -r requirements.txt\nCollecting git+https://github.com/lbryio/lbryum.git (from -r requirements.txt (line 13))\n  Cloning https://github.com/lbryio/lbryum.git to /private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-DU6iEQ-build\nCollecting Twisted==16.6.0 (from -r requirements.txt (line 1))\n  Downloading Twisted-16.6.0.tar.bz2 (3.0MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.0MB 288kB/s\n    Complete output from command python setup.py egg_info:\n    Download error on https://pypi.python.org/simple/incremental/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661) -- Some packages may not be found!\n    Couldn't find index page for 'incremental' (maybe misspelled?)\n    Download error on https://pypi.python.org/simple/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661) -- Some packages may not be found!\n    No local packages or working download links found for incremental>=16.10.1\n    Traceback (most recent call last):\n      File \"\", line 1, in \n      File \"/private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-build-Da2yuB/Twisted/setup.py\", line 21, in \n        setuptools.setup(**_setup\"getSetupArgs\")\n      File \"/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 316, in init\n        self.fetch_build_eggs(attrs['setup_requires'])\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 371, in fetch_build_eggs\n        replace_conflicting=True,\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 846, in resolve\n        dist = best[req.key] = env.best_match(req, ws, installer)\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 1118, in best_match\n        return self.obtain(req, installer)\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 1130, in obtain\n        return installer(requirement)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 439, in fetch_build_egg\n        return cmd.easy_install(req)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 659, in easy_install\n        raise DistutilsError(msg)\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('incremental>=16.10.1')\n----------------------------------------\n\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-build-Da2yuB/Twisted/. ",
    "ghost": "I can confirm this ^^^\nHere's my log.  You can view it with fancy colors (more readable) with curl https://paste.pound-python.org/raw/akS8TdfLERZMZujvpibo/, but also here's the plain text:\nsmalltock@gentock > ~ > cd ~/prog/git\n\n\nsmalltock@gentock > ~/prog/git > git clone --depth 1 https://github.com/lbryio/lbry\nCloning into 'lbry'...\nremote: Counting objects: 250, done.\nremote: Compressing objects: 100% (243/243), done.\nremote: Total 250 (delta 12), reused 66 (delta 0), pack-reused 0\nReceiving objects: 100% (250/250), 467.52 KiB | 0 bytes/s, done.\nResolving deltas: 100% (12/12), done.\n\n\nsmalltock@gentock > ~/prog/git > cd lbry\n\n\nsmalltock@gentock > ~/prog/git/lbry > \ue0a0 master > l\ntotal 108K\ndrwxr-xr-x 1 smalltock smalltock  540 Mar 28 18:30 .\ndrwxr-xr-x 1 smalltock smalltock  220 Mar 28 18:30 ..\n-rw-r--r-- 1 smalltock smalltock 8.2K Mar 28 18:30 app.icns\n-rw-r--r-- 1 smalltock smalltock  297 Mar 28 18:30 .appveyor.yml\n-rw-r--r-- 1 smalltock smalltock  413 Mar 28 18:30 .bumpversion.cfg\n-rw-r--r-- 1 smalltock smalltock 6.9K Mar 28 18:30 CHANGELOG.md\n-rw-r--r-- 1 smalltock smalltock  309 Mar 28 18:30 Dangerfile\ndrwxr-xr-x 1 smalltock smalltock   28 Mar 28 18:30 docs\n-rw-r--r-- 1 smalltock smalltock  11K Mar 28 18:30 ez_setup.py\n-rw-r--r-- 1 smalltock smalltock 3.2K Mar 28 18:30 FAQ.md\ndrwxr-xr-x 1 smalltock smalltock  136 Mar 28 18:30 .git\n-rw-r--r-- 1 smalltock smalltock   25 Mar 28 18:30 .gitattributes\ndrwxr-xr-x 1 smalltock smalltock   34 Mar 28 18:30 .github\n-rw-r--r-- 1 smalltock smalltock  210 Mar 28 18:30 .gitignore\n-rw-r--r-- 1 smalltock smalltock    0 Mar 28 18:30 .gitmodules\n-rw-r--r-- 1 smalltock smalltock 2.9K Mar 28 18:30 INSTALL.md\ndrwxr-xr-x 1 smalltock smalltock  504 Mar 28 18:30 lbrynet\n-rw-r--r-- 1 smalltock smalltock 1.1K Mar 28 18:30 LICENSE\n-rw-r--r-- 1 smalltock smalltock  460 Mar 28 18:30 mkdocs.yml\ndrwxr-xr-x 1 smalltock smalltock   14 Mar 28 18:30 packaging\n-rw-r--r-- 1 smalltock smalltock  13K Mar 28 18:30 .pylintrc\n-rw-r--r-- 1 smalltock smalltock 2.3K Mar 28 18:30 README.md\n-rw-r--r-- 1 smalltock smalltock  465 Mar 28 18:30 requirements.txt\n-rwxr-xr-x 1 smalltock smalltock  482 Mar 28 18:30 run_pylint.sh\n-rwxr-xr-x 1 smalltock smalltock  143 Mar 28 18:30 run_tests.sh\ndrwxr-xr-x 1 smalltock smalltock  460 Mar 28 18:30 scripts\n-rw-r--r-- 1 smalltock smalltock 1.9K Mar 28 18:30 setup.py\ndrwxr-xr-x 1 smalltock smalltock   86 Mar 28 18:30 tests\n-rw-r--r-- 1 smalltock smalltock 1.4K Mar 28 18:30 .travis.yml\ndrwxr-xr-x 1 smalltock smalltock   22 Mar 28 18:30 uri_handler\n\n\nsmalltock@gentock > ~/prog/git/lbry > \ue0a0 master > virtualenv lbry-venv\nUsing base prefix '/usr'\nNew python executable in /home/smalltock/prog/git/lbry/lbry-venv/bin/python3.5\nAlso creating executable in /home/smalltock/prog/git/lbry/lbry-venv/bin/python\nInstalling setuptools, pip, wheel...done.\n\n\nsmalltock@gentock > ~/prog/git/lbry > \ue0a0 master > source lbry-venv/bin/activate\n%                                                                                                                                                                                                                 (lbry-venv)  smalltock@gentock > ~/prog/git/lbry > \ue0a0 master > pip install -U -r requirements.txt\nCollecting git+https://github.com/lbryio/lbryum.git (from -r requirements.txt (line 13))\n  Cloning https://github.com/lbryio/lbryum.git to /tmp/pip-zxzv7fcl-build\nCollecting Twisted==16.6.0 (from -r requirements.txt (line 1))\n  Using cached Twisted-16.6.0.tar.bz2\nCollecting appdirs==1.4.0 (from -r requirements.txt (line 2))\n  Using cached appdirs-1.4.0-py2.py3-none-any.whl\nCollecting argparse==1.2.1 (from -r requirements.txt (line 3))\n  Using cached argparse-1.2.1.tar.gz\nCollecting base58==0.2.2 (from -r requirements.txt (line 4))\n  Using cached base58-0.2.2.tar.gz\nCollecting colorama==0.3.7 (from -r requirements.txt (line 5))\n  Using cached colorama-0.3.7-py2.py3-none-any.whl\nCollecting dnspython==1.12.0 (from -r requirements.txt (line 6))\n  Using cached dnspython-1.12.0.zip\nCollecting ecdsa==0.13 (from -r requirements.txt (line 7))\n  Using cached ecdsa-0.13-py2.py3-none-any.whl\nCollecting envparse==0.2.0 (from -r requirements.txt (line 8))\n  Using cached envparse-0.2.0.tar.gz\nCollecting gmpy==1.17 (from -r requirements.txt (line 9))\n  Using cached gmpy-1.17.zip\nCollecting jsonrpc==1.2 (from -r requirements.txt (line 10))\n  Using cached jsonrpc-1.2.tar.gz\nCollecting jsonrpclib==0.1.7 (from -r requirements.txt (line 11))\n  Using cached jsonrpclib-0.1.7.tar.gz\nCollecting jsonschema==2.5.1 (from -r requirements.txt (line 12))\n  Using cached jsonschema-2.5.1-py2.py3-none-any.whl\nCollecting miniupnpc==1.9 (from -r requirements.txt (line 14))\n  Using cached miniupnpc-1.9.tar.gz\nCollecting pbkdf2==1.3 (from -r requirements.txt (line 15))\n  Using cached pbkdf2-1.3.tar.gz\nCollecting protobuf==3.0.0 (from -r requirements.txt (line 16))\n  Using cached protobuf-3.0.0-cp35-cp35m-manylinux1_x86_64.whl\nCollecting pycrypto==2.6.1 (from -r requirements.txt (line 17))\n  Using cached pycrypto-2.6.1.tar.gz\nCollecting pyyaml==3.12 (from -r requirements.txt (line 18))\n  Using cached PyYAML-3.12.tar.gz\nCollecting qrcode==5.2.2 (from -r requirements.txt (line 19))\n  Using cached qrcode-5.2.2-py2.py3-none-any.whl\nCollecting requests==2.9.1 (from -r requirements.txt (line 20))\n  Using cached requests-2.9.1-py2.py3-none-any.whl\nCollecting txrequests==0.9.5 (from -r requirements.txt (line 21))\n  Using cached txrequests-0.9.5.tar.gz\nCollecting seccure==0.3.1.3 (from -r requirements.txt (line 22))\n  Using cached seccure-0.3.1.3.tar.gz\nCollecting service_identity==16.0.0 (from -r requirements.txt (line 23))\n  Using cached service_identity-16.0.0-py2.py3-none-any.whl\nRequirement already up-to-date: six>=1.9.0 in ./lbry-venv/lib/python3.5/site-packages (from -r requirements.txt (line 24))\nCollecting slowaes==0.1a1 (from -r requirements.txt (line 25))\n  Using cached slowaes-0.1a1.tar.gz\nCollecting txJSON-RPC==0.5 (from -r requirements.txt (line 26))\n  Using cached txJSON-RPC-0.5.tar.gz\nCollecting wsgiref==0.1.2 (from -r requirements.txt (line 27))\n  Using cached wsgiref-0.1.2.zip\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-60nlhfyo/wsgiref/setup.py\", line 5, in <module>\n        import ez_setup\n      File \"/tmp/pip-build-60nlhfyo/wsgiref/ez_setup/__init__.py\", line 170\n        print \"Setuptools version\",version,\"or greater has been installed.\"\n                                 ^\n    SyntaxError: Missing parentheses in call to 'print'\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-60nlhfyo/wsgiref/\n\n\n(lbry-venv)  \u2718 smalltock@gentock > ~/prog/git/lbry > \ue0a0 master > exit. I should clarify, I'm on Gentoo linux, not on OSX Sierra..\n\nlbrynet..txt\n. i did read #661 to see if it was the same, and while checking the log file, saw an error that read:\nFailed to process file_list: string indices must be integers\nso it looks like it might be the same problem. ",
    "sleepdefic1t": "openssl installed for you guys?. It's dropping to a shell..\nBut I just posted this for macOs\nlbryBuilder\nIt's basically two scripts.\nOne to do the cloning and setup.\nIt prompts to launch the daemon from its venv in a new terminal window.\nAnother to run an instance of the daemon from its venv.\nNot sure if this would help, but it seems at least semi-relevant.. @kauffj\nI can't really think of one.\nApple is very sandboxed.\nI forget what part of their docs, but I remember seeing they discourage having executables that easy to access unless it's absolutely necessary.\nA guest account making calls to the daemon from outside the users desktop, for example.\nIf the primary goal is just to have it run as a standalone.\nThat's not too difficult.\nI've actually kinda been working on something I keep calling \"lbryun\" (librarian).\nStandalone statusbar app that runs the daemon, can launch the UI, and a lbrycrd concept I've been wanting to play with.\nI've got LBRY source packaged and bundled as LBRYKit, daemon running with cli working.\nI'm currently hammering out venv & daemons queuing and such.\nI plan to have the project posted soon, but I wanna make sure it's not complete shit before i start the repo.. ",
    "academikuser": "using the same version of the source\n$ which openssl\n/usr/local/bin/openssl\n$ cd  ~/Downloads/lbrynet/lbry \n$ pip install -r requirements.txt\n\nCollecting git+https://github.com/lbryio/lbryum.git (from -r requirements.txt (line 13))\n  Cloning https://github.com/lbryio/lbryum.git to /private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-kJk3h5-build\nCollecting Twisted==16.6.0 (from -r requirements.txt (line 1))\n  Using cached Twisted-16.6.0.tar.bz2\n    Complete output from command python setup.py egg_info:\n    Download error on https://pypi.python.org/simple/incremental/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661) -- Some packages may not be found!\n    Couldn't find index page for 'incremental' (maybe misspelled?)\n    Download error on https://pypi.python.org/simple/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661) -- Some packages may not be found!\n    No local packages or working download links found for incremental>=16.10.1\n    Traceback (most recent call last):\n      File \"\", line 1, in \n      File \"/private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-build-Oxg32Z/Twisted/setup.py\", line 21, in \n        setuptools.setup(**_setup\"getSetupArgs\")\n      File \"/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 316, in init\n        self.fetch_build_eggs(attrs['setup_requires'])\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 371, in fetch_build_eggs\n        replace_conflicting=True,\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 846, in resolve\n        dist = best[req.key] = env.best_match(req, ws, installer)\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 1118, in best_match\n        return self.obtain(req, installer)\n      File \"/usr/local/lib/python2.7/site-packages/pkg_resources/init.py\", line 1130, in obtain\n        return installer(requirement)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/dist.py\", line 439, in fetch_build_egg\n        return cmd.easy_install(req)\n      File \"/usr/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 659, in easy_install\n        raise DistutilsError(msg)\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('incremental>=16.10.1')\n----------------------------------------\n\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/wb/cfz8yrnd3gs8570lx2l291sh0000gn/T/pip-build-Oxg32Z/Twisted/\n. ",
    "alicebob": "Thanks!. ",
    "flungo": "Should be simple enough to pick up on the envuronment variable, just need to change https://github.com/lbryio/lbry/blob/master/lbrynet/conf.py#L60 to:\ndefault_download_directory = os.getenv('XDG_DOWNLOAD_DIR', os.path.join(os.path.expanduser('~'), 'Downloads'));\nHowever, this does take into consideration the ~/.config/user-dirs.dirs which should also be respected. Additionally, consideration should be taken if XDG_DOWNLOAD_DIR is not an absolute path.\nI think doing this properly, would require the use of GLib:\nfrom gi.repository import GLib\ndefault_download_directory = GLib.get_user_special_dir(GLib.USER_DIRECTORY_DOWNLOAD). ",
    "techtonik": "@lyoshenka -h works now to display help. Slow to react, but works.\n--version doesn't work.\n```\n\nlbrynet-cli.exe --version\n\u2190[1m\u2190[31mERROR: \"--version\" is not a valid command.\u2190[0m\nSee lbrynet-cli.exe help for more information.\n```. Maybe close the issue when the code is moved here?. \n",
    "sprig": "Please do not convert to a pkg installer! Those are disgusting and terrible!. A dmg is standalone. You mount it, copy the .app and run it. A pkg typically requests superuser permissions and you do not know what it does ahead of time. It is always more suspicious and unless there are specific reasons why I must use the software or understand why it needs the extra permissions, I would be hesitant to grant them.. Plus, the vast majority of software for OSX is installable via dmg rather than pkg.. I would like to add something;\nIt is correct that to add a system level daemon would require a pkg.\nHowever, I think that most often OSX computers are not used as headless\nservers but rather as workstations, and as such are usually logged in to a\nuser almost all the time that they are working. Now, if the lbry daemon\nwere to live in the taskbar (where apps like e.g. dropbox, google drive\nlive while not \"open\" in an actual application view), it could be launched\nat user login - still without pgk required - and also managed more easily\nby users (i.e. without dropping to a shell).\n. @kauffj there seem to be some similarities but I'm not sure it is the same issue.\nSpecifically, why would the wallet report a negative balance (regardless of having the transaction queued or not not having it queued)?\nMoreover, why would sending an amount which is less than my current total fail? If it is due to transaction fees, perhaps there should be some indication of what is an appropriate fee that would be enough to get the transaction signed?. ",
    "charlie-c": "adding Slack discussion on this with @lyoshenka\ncharlie-c [9:52 AM] \n1. Do you really want a pkg installer rather than dmg? If so, what do you hope to gain?\n2. Do you want the pkg installer to do the same thing as is currently done (App with embedded lbrynet-daemon), or do you want lbrynet-daemon handled more like a real daemon, i.e. separate from the app and managed by launchd (I presume on a per-user basis rather than a global daemon for all users).\ncharlie-c [9:53 AM] \nhope that makes some sense\ngrin [4:53 PM] \nto be honest, im not sure we want a pkg installer. several people have told me dmg is more standard and better in that it doesnt require root\n[4:53] \nthen again, there are upsides to pkg too, right?\n[4:53] \nim much more of a linux dev\ncharlie-c [4:54 PM] \nthat\u2019s why I wanted to ask, as I saw the discussion on the github issue.\ngrin [4:54 PM] \nim open to hearing arguments for either side\ncharlie-c [4:55 PM] \ndmg has these advantages: very simple, everything is contained inside an App, which is just dragged into Applications area, so nothing to it really - uninstall is just assumed to be \u201cdelete the App\u201d.\n[4:56] \npkg has these advantages: can do more complicated things, install different components to different places, libs, etc., daemons, and use the system level services to launch/kill/restart and otherwise maintain operation of the daemon.\ngrin [4:58 PM] \nwe'd like the daemon to start on startup and run as a standalone process\n[4:58] \nbut this may be farther in the future\ncharlie-c [4:58 PM] \non startup of\u2026 ??\n[4:58] \nuser login?\ngrin [4:58 PM] \nwhen you restart your laptop\n[4:59] \nnot sure if dmg/pkg affects that\ncharlie-c [4:59 PM] \nok, so 2 things\n[4:59] \n1. yes, it does, you\u2019d want a pkg installer for that so you can schedule the daemon with launchd.\n[5:03] \n2. I\u2019m not familiar enough with libry, so don\u2019t know how it does authentication, i.e. who is sending it json requests. If it is assumed to be the daemon owner (i.e. who started it), then it may not be suitable as-is for running on laptop startup, i.e. as root or an unprivileged user\u2026\n[5:04] \nwhat\u2019s done on linux? does it run as a daemon at machine boot time?\ngrin [5:05 PM] \nno, that doesnt happen on any os right now. but we want that to happen in the future. im not exactly sure how i'd do it. it would either be through systemd or through however gnome does it\n[5:06] \nthere's some support for authentication but its off by default and nothing uses it\n[5:06] \nso the daemon just trusts any requests it gets right now\ncharlie-c [5:06 PM] \nyup, you can think of launchd on osx as similar in scope to systemd\u2026\ngrin [5:06 PM] \ngotcha\ncharlie-c [5:09 PM] \ncool - I think that covers it for the moment - I\u2019ll add this discussion to the issue if that\u2019s ok with you, and it can be continued from there\u2026\ngrin [5:09 PM] \nyes, that would be great\n[5:09] \ni think that for now we're fine keeping it a dmg, but we may want to switch to pkg in the future\n[5:09] \ni really like that you don't need root for dmg\n[5:09] \nand that its simple\ncharlie-c [5:10 PM] \nyes, it is very simple, it\u2019s designed for Apps with essentially no subcomponents (associated processes), i.e. standalone.\n[5:11] \nI\u2019m only raising the issue because I saw the bounty and thought it would be a nice little project to get my feet wet with lbry development, a first project\u2026\n[5:11] \nanyway, cheers for the help\u2026. ",
    "finer9": "Also we'd be happy to send you some LBC to test with ... just DM finer9 in slack.lbry.io.  version 10.0rc6\nWindows 7 64-bit\nI think the http 400 bad request is significant here?. Slack user @gapracoolz . There are also now other variants of this including 'click update and it does nothing' - and also on Linux. wouldnt my daemon be updated by installing .11.5?. About\nYour copy of LBRY is up to date.\ndaemon (lbrynet)    0.10.3\nwallet (lbryum) 2.7.22\ninterface   0.11.5\nPlatform    Windows (Windows-10-10.0.10586)\nInstallation ID 5mutGKfgM1MuLLXc78833ebM1MDwRGnXZSt3m6kMpeXXbsPcqMYHAyPWor8ygEfv22. I too have 0.0.4\nOn Mon, May 29, 2017 at 5:16 PM, Thomas Zarebczan notifications@github.com\nwrote:\n\nC:\\Program Files (x86)\\LBRY\\resources\\app\\dist>lbrynet-cli version\n{\n\"build\": \"release\",\n\"ip\": \"47.20.145.202\",\n\"lbrynet_version\": \"0.10.3\",\n\"lbryschema_version\": \"0.0.4\",\n\"lbryum_version\": \"2.7.22\",\n\"os_release\": \"10\",\n\"os_system\": \"Windows\",\n\"platform\": \"Windows-10-10.0.14393\",\n\"processor\": \"Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\",\n\"python_version\": \"2.7.13\"\n}\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/654#issuecomment-304732218, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDIGHgCTlVuqPTG6Se2-V_bqlMwZwks5r-zW3gaJpZM4NpmzI\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. Seems to happen on any paid content, disregard my previous note about lbry://one:five - it was coincidental . So are we dropping this @kauffj ?  Let's do it. I literally left it overnight so it never returned.  But it worked fine\nafter deleting that metadata cache stuff jack/kay were working on recently\nOn Wed, May 31, 2017 at 12:56 PM, Jeremy Kauffman notifications@github.com\nwrote:\n\n@finer9 https://github.com/finer9 does it actually never return or does\nit just return after a long time?\n@tzarebczan https://github.com/tzarebczan that sounds like the root\ncause of the issue. Moving this to the daemon.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/661#issuecomment-305250202, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDEgPJzbcUp01i73eg9oDSWrhNkkuks5r_ZvDgaJpZM4Nr6bM\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. Could you provide some version info for the daemon and app please?\nOn Thu, Jun 8, 2017 at 9:40 PM, ptc4cash notifications@github.com wrote:\n\nBecause i have done it five different ways and nothing works, i also did\nsudo commands in bash and installed threw linux still same issue it wont\nconnect to daemon, when installing the windows version it prompted me to\nallow it threw firewall i selected yes and still nothing..\nNo need to get touchy, i am simply asking a question, it seems like a lot\nof people are having problems syncing this wallet so no, its not just me.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/678#issuecomment-307271856, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDDVxHcDQjPruI5w-xsttzP8oWToBks5sCKJ8gaJpZM4N0zT9\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. And the reason it is more complicated is because it isnt just a wallet, it\nis an app with a lot going on.  You could just run the lbrycrdd portion if\nyou wanted pure wallet functionality.\nOn Thu, Jun 8, 2017 at 9:45 PM, Josh Finer josh@lbry.io wrote:\n\nCould you provide some version info for the daemon and app please?\nOn Thu, Jun 8, 2017 at 9:40 PM, ptc4cash notifications@github.com wrote:\n\nBecause i have done it five different ways and nothing works, i also did\nsudo commands in bash and installed threw linux still same issue it wont\nconnect to daemon, when installing the windows version it prompted me to\nallow it threw firewall i selected yes and still nothing..\nNo need to get touchy, i am simply asking a question, it seems like a lot\nof people are having problems syncing this wallet so no, its not just me.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/678#issuecomment-307271856, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDDVxHcDQjPruI5w-xsttzP8oWToBks5sCKJ8gaJpZM4N0zT9\n.\n\n\n--\nJosh Finer\nCOO/LBRY\n\n\n-- \nJosh Finer\nCOO/LBRY\n. Trying to figure out more specifics of the situation.  It seems fixable via\nbasic troubleshooting steps, but I'm not sure what is working.\nOn Fri, Jun 9, 2017 at 10:17 AM, Thomas Zarebczan notifications@github.com\nwrote:\n\nDoes reinstalling help? Maybe some temp files are cleaned up?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/679#issuecomment-307401207, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDKCOIre6Hy1839vKKSNcCmdUPu32ks5sCVP7gaJpZM4N1Ztu\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. Thought this log had some interesting errors and info - the user receives this error message\nlbrynet (3).log.txt\n. Thanks I sent to wolf0. Shockr from Slack is looking at this. @akinwale please post your benchmark findings.  Thank you. Because the unconfirmed transactions became confirmed?\nOn Jun 27, 2017 2:03 PM, \"Bill Bittner\" notifications@github.com wrote:\n\nUPDATE: after the issue was recurring for about 12 hours, it seems to have\nfixed itself. Spee.ch is now publishing without receiving the error.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/737#issuecomment-311438135, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDCtbD1lSfT9II1hA_6jT9u22bs2tks5sIUPwgaJpZM4OG-_e\n.\n. I do still get this sometimes, even with the latest daemon .14 rc7\n\nOn Sat, Jul 22, 2017 at 11:42 AM, Thomas Zarebczan <notifications@github.com\n\nwrote:\nThis no longer happens for lbry://sl-cIGaEBWcJ5w as we fixed the blob\navailability. @kaykurokawa https://github.com/kaykurokawa is there\nstill an action that needs to be taken based on your comments, or can we\nclose?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/788#issuecomment-317191612, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDG00xrXSaqGRRKnpnfZlVbqWLgeWks5sQhhdgaJpZM4Oc_ap\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. 0.14.2rc7\nOn Sat, Jul 22, 2017 at 12:24 PM, Josh Finer josh@lbry.io wrote:\n\nI do still get this sometimes, even with the latest daemon .14 rc7\nOn Sat, Jul 22, 2017 at 11:42 AM, Thomas Zarebczan \nnotifications@github.com wrote:\n\nThis no longer happens for lbry://sl-cIGaEBWcJ5w as we fixed the blob\navailability. @kaykurokawa https://github.com/kaykurokawa is there\nstill an action that needs to be taken based on your comments, or can we\nclose?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/788#issuecomment-317191612, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDG00xrXSaqGRRKnpnfZlVbqWLgeWks5sQhhdgaJpZM4Oc_ap\n.\n\n\n--\nJosh Finer\nCOO/LBRY\n\n\n-- \nJosh Finer\nCOO/LBRY\n. be nice to warn when close vs out\nOn Fri, Nov 10, 2017 at 10:48 AM, Jeremy Kauffman notifications@github.com\nwrote:\n\nFrom @oakey22 https://github.com/oakey22 on November 10, 2017 10:48\nDownload a video and run out of disk space as it is downloading, there is\nno error to indicate you ran out of disk space.\nthis is on the 0.18.0 app.\nCopied from original issue: lbryio/lbry-app#727\nhttps://github.com/lbryio/lbry-app/issues/727\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/994, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDFzM-0BiIzrDp4WSImXX5UKY_hIkks5s1HBmgaJpZM4QZvSG\n.\n\n\n-- \nJosh Finer\nCOO/LBRY\n. My current understanding is that our obligation is to block in a way that will restrict the content from the majority of users.  For now, that is the app.  If someone had the ability to get to blocked content programatically through their own effort using the daemon, the actions speak to the intent, and they are bypassing our good-enough-for-most method of blocking.  Clearly something like HTTP does not have anything blocked at the protocol level. I have heard this request for a looooong time now\nOn Tue, Jun 19, 2018 at 11:12 AM, Curtis Lee Bolin <notifications@github.com\n\nwrote:\nBoth, unless lbrynet-daemon has no dependencies. I did not know the\nproject was split, old bookmark. I'll submit the issue on lbry-app too.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1261#issuecomment-398435363, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APoYDPdEabSD5OStV0DgVB7wHUNIzpucks5t-RTRgaJpZM4UtnE6\n.\n\n\n-- \nJosh Finer\nDirector of Operations and Analytics\nLBRY, Inc.\n. ",
    "dindinw": "The api actually works but the help/document need to be improved to be easily understood the correct input is \n$ ./lbrynet-cli wallet_public_key address='bPfsNmRomeSAQxYUrzoUBjyykrPNXbhnfx'\n[\n  \"03c087976b70e0938693f6c7690c5e5bed56c303b0e279f35b76b89130bcde2ab7\"\n]\n. ",
    "criptonauta": "\n Still no success. ",
    "eyalroz": "Oh, sorry. I'm using Linux Mint 18.1, with:\n$ python --version\nPython 2.7.12\n$ pip --version\npip 9.0.1 from /usr/local/lib/python3.5/dist-packages (python 3.5)\n. I have no idea. I'm not much of a pythonista... and actually, now I'm getting different errors. I'm closing this for now.. ",
    "blackknight36": "@lyoshenka I'm running raspbian 8.0 on a raspberry pi3 device.. @lyoshenka There really isn't much I had to do to get lbry running on Raspbian other than installing the python-pyparsing package.  I haven't tested on other Debian installs but I'm pretty sure the requirements would be the same.. @lyoshenka It would be simple enough to check /etc/os-release to see what platform is being used.  You could even source the file to make the data in it available to the install script.  For example:\nsource /etc/os-release\nif [ \"$NAME\" == 'Raspbian GNU/Linux' ]\n    then apt-get -y install python-pyparsing\nfi\nThe install instructions also say \"On Ubuntu\" so it might make sense to have a separate section for Raspbian.. @lyoshenka Thanks.  You can send credits to baXRAYzyZ5P7mSguUyBQUvfNXTTDKk5ipJ.. ",
    "scarint": "If there's anything I can do to get you more data on it, let me know. I'd be happy to help.. Yes, I have published and downloaded.  That makes sense (and now I feel like an idiot), but I never expected LBRY to be that bandwidth intensive yet...is there a way to limit the upload speed?  I can't check because I can only connect remotely at the moment, and LBRY uses all my upload.... Changing the upload setting to 0.5Mb/s or 0.25Mb/s appears to have no effect; LBRY still pushes bandwidth for all its worth. \nI can throw up some QOS/prioritization on my firewall; is there a set of ports I could limit?. Sounds good; I'll keep running it when I can and try to break it some more.. I have not been able to replicate the situation in the original post; either enough people have what I shared so it doesn't use my bandwidth, or it is fixed, I cannot confirm one way or another. But I can say that LBRY doesn't use nearly as much bandwidth as it used to. . ",
    "TrompoMax": "Hey all.  I think I'm having this issue too.  Just stuck in a screen which says \"Network loading...catching up with the blockchain...\"\nAny solution to this yet?\nRunning on mac os 10.12.5\nLBRY Version 0.14.2 (0.14.2.1609)\nThanks. Will do,\nThanks.\nOn Tue, 1 Aug 2017 at 19:17 Thomas Zarebczan notifications@github.com\nwrote:\n\n@trumpomax can you send an email to help@lbry.io with your log file\nplease https://lbry.io/faq/how-to-find-lbry-log-file\nIt could be an issue coming from an older version.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/622#issuecomment-319548915, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AGyD2gtKCPNIJ6YziwAnGD-zJON2qy2Iks5sT9wwgaJpZM4NHjD3\n.\n. \n",
    "KamilPiekutowski": "Is there an IDE anyone would recommend for debugging this code?. @eukreign Thank you very much for your insight. I already started using PyCharm community version just to test things out. I will probably go with paid version depending where the things go. . When you say valid, do you mean if it exists or if the format is valid?. I have changed floating point to be represented with string here:\nhttps://github.com/lbryio/lbryschema/pull/26. @tzarebczan You are right and @kaykurokawa requested a change in the lbryschema. I just wanted to point out that it is done, but I am not sure if it works.. I don't think they were happy with my solution.\nI got a very little feedback, so if this is fixed, no reason\nfor me to work on it.\nThanks for asking.\nOn Mon, May 14, 2018 at 4:02 PM, Thomas Zarebczan notifications@github.com\nwrote:\n\n@KamilPiekutowski https://github.com/KamilPiekutowski just going\nthrough some old issues and noticed this one. Looks like\nlbryio/lbryschema#26 https://github.com/lbryio/lbryschema/pull/26 was\ncaught up in other changes. Did you want to work on the lbryschema changes\nrequired for #835 https://github.com/lbryio/lbry/pull/835 ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/832#issuecomment-388961741, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMb-jcGSRs5MHdyeMvpO8O1N2fGeIQ8sks5tyfDtgaJpZM4OyhV5\n.\n. The only solution I was able to come up with was using 3rd party python\nmodule that would generate duration of mp4.\nHowever duration would only be added to newly uploaded videos with blry\nversion that supports  The videos that were uploaded with older lbry would\nnot support duration\nunless we make lbry reload the claim info.\n\nI think you guys did not want that solution.\nI am not exactly sure how we can invoke other peers system to send us\nduration info\nbefore at least file header with all info is loaded.\nI am open for suggestions,\nor questions if I was not clear enough.\nThanks.\nOn Mon, May 14, 2018 at 4:21 PM, Thomas Zarebczan notifications@github.com\nwrote:\n\n@KamilPiekutowski https://github.com/KamilPiekutowski based on #835\n(comment) https://github.com/lbryio/lbry/pull/835#issuecomment-327194727,\nit still needs some lbryschema changes. I think the last pull was rejected\nbecause it included some other changes (a PR should be specific to a single\nchange, or set of changes).\nNo pressure, was just trying to follow up :)\nI know you said you wanted to to work on the filesize/length (\nlbryio/lbryschema#20 https://github.com/lbryio/lbryschema/issues/20),\nnot sure if you ever had a chance to get around to that.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/832#issuecomment-388967004, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMb-jaKgtovmmyLtHI-qwZp0yKhGPU1rks5tyfVegaJpZM4OyhV5\n.\n.  self.get_blobs_for_stream_hash does not get executed\nalthough it is assigned to a callback here:\n        d.addCallback(self.get_blobs_for_stream_hash). How does one work on these issues? \nWhat do I do if I want to help?. I did that. And I cloned the repo. I followed instructions and successfully built the app. I am a little confused what length attribute is missing.. Ok I will look into that tomorrow.. I can work on it if no one started it.. It appears that dictionary {u\"download_directory\":\" u\"max_key_fee=zzz\"\") is being passed to settings_set\nin Deamon.py.\nIt can be seen in kwargs below.\n        yield self._update_settings(kwargs)\n\nAny ideas why would max_key_fee=\"zzz\" be assigned to download_directory before it gets here?\nI also looked at the buffer and it is already in there.\n. @rickbatka  sure not a problem. I hope I was helpful a little. . Let me know, if you need my help. . oh great I will look at it tonight.\nOn Mon, Oct 30, 2017 at 1:30 PM, Jack Robison notifications@github.com\nwrote:\n\n@jackrobison commented on this pull request.\nIn lbrynet/daemon/MediaDescriptor.py\nhttps://github.com/lbryio/lbry/pull/945#discussion_r147793824:\n\n@@ -0,0 +1,19 @@\n+import subprocess\n+\n+class Duration(object):\n+    def init(self, time):\n+        (self.hours, self.minutes, self.seconds) = time\n+    def all_in_millisec(self):\n+        return (int((float(self.hours) * 3600) +\n+               (float(self.minutes) * 60) + (float(self.seconds))) * 1000)\n+\n+def get_video_length(path):\n+    process = subprocess.Popen(['/usr/bin/ffmpeg', '-i', path],\n+              stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n\nSearching around, this looked promising: https://pypi.python.org/pypi/\ntinytag/\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/945#discussion_r147793824, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMb-jYFrib9g9f0PcSGxWeBhsUaIuR3xks5sxhXEgaJpZM4P02hH\n.\n. Can we open a discussion on how to tackle this one?\nIt looks very exciting.. @hackrush01 I edited the CHANGELOG.md and squashed the commits. Please let me know if that is all you need.. @lyoshenka  So this one is approved?. @lyoshenka  What should I do with closed unmerged commit? Just delete branch?. @hackrush01  I am trying to reproduce it, but I do not have ~/.lbrynet/daemon_settings.yml folder.\nis there something else I need to install besides lbry repo?. @hackrush01 should I still look into this?. Did you read my comment? I mentioned it there. I was wondering if someone knows a good portable library that can take duration out of mp4. I also asked on slack. No one has yet pointed one out. \n\nI can move it out of daemon to lbry-app. \nBut duration is being stored in a claim schema, via publisher. I can pass the duration from the lbry-app to daemon .. that is is a big oops. It shouldn't be there. Sorry.. ",
    "GWBasic": "I might have a fix in my branch at: https://github.com/lbryio/lbry/compare/master...GWBasic:626_ExceptionWhenShuttingDownAtStartup?expand=1\nIs there any way to run unit tests or some kind of automated tests before I make a pull request?. @tzarebczan : I get that, the problem is extremely easy to reproduce. I'm more concerned about unrelated regressions in a codebase (and language) that I'm unfamiliar with.. ",
    "MatWaller": "This need the version of lbryum in my PR to work correctly. . I like the idea of everyone OTHER than the publisher applying tags.. is_claim_mine.\nI realized after my first comment that I need the ability to tag a file\nwith ue4-asset\nOn 28 Aug 2017 6:59 pm, \"Jeremy Kauffman\" notifications@github.com wrote:\n\n@wallermadev https://github.com/wallermadev they're pretty much\nequivalent in terms of functionality -- the system wouldn't be able to\nprevent the author from applying tags in any meaningful way.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/744#issuecomment-325428583, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AHrNEHeRgdKal04leVZrPC-nSrg4Ku1bks5scwAKgaJpZM4OK3SX\n.\n. I have been keeping a eye on the design changes and too be honest I have\nnot been happy with most of them --\n\nCan someone PLEASE get a designer who has their eyes open ... Who signed it\noff.\nPissed --\nMathew Waller\nOn Wed, Jul 25, 2018, 12:36 AM Lex Berezhny notifications@github.com\nwrote:\n\nMerged #1290 https://github.com/lbryio/lbry/pull/1290.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/1290#event-1751406185, or mute the\nthread\nhttps://github.com/notifications/unsubscribe-auth/AHrNEKZFnBidBjk_HNgzDUptWHFJJbDRks5uJ69sgaJpZM4VE260\n.\n. Removed from repo.. Updated change log to add changed to unreleased section. Hey Jack, thanks for the feedback will take a look over it now and makes some changes.. Will do.\n. \n",
    "CjMapope": "I just tested this in a fresh Win10 x64 VM, confirm 0.11.7 would NOT upgrade, i get a bit farther then Josh (i get the pop-up), but then it closes and nothing happens, i am prompted again to upgrade upon opening the app :/\n\nsending the log to grin to look at. ",
    "shuryukan": "\n. Still seeing this with nothing happening\n\nand here's the version log\n\n. ",
    "hackrush01": "@kauffj, I wanted to clarify point 1. So if a user provides both name and claim id or name and txid + nout then it should check whether the name returned by claim_show matches the name provided by the user, and if not then display some sort of error?. @kauffj This can be closed now I guess.\nFixed in #730 . @kauffj . I was checking out some stuff on my local regtest server, and I found out that the transaction only begins when a new block is created. I think that's why it takes doesn't send the transaction right away as it waits for the announce of a new block being found. I think this may have to do with the way the blockchain works. Can you please try this out and see if you can replicate?. This API call is working perfectly in the lbry-daemon, which is cloned from lbryio/lbry. This issue has to be tackled at the lbry-app level. (Check the attached calls)\n```bash\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"settings_get\"}'                                                           \n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"allowed_origin\": \"\",\n    \"api_host\": \"localhost\",\n    \"api_port\": 5279,\n    \"cache_time\": 150,\n    \"data_dir\": \"/root/.lbrynet\",\n    \"data_rate\": 0.0001,\n    \"delete_blobs_on_remove\": true,\n    \"dht_node_port\": 4444,\n    \"download_directory\": \"/root/Downloads\",\n    \"download_timeout\": 180,\n    \"is_generous_host\": true,\n    \"known_dht_nodes\": [\n      [\n        \"lbrynet1.lbry.io\",\n        4444\n      ],\n      [\n        \"lbrynet2.lbry.io\",\n        4444\n      ],\n      [\n        \"lbrynet3.lbry.io\",\n        4444\n      ]\n    ],\n    \"lbryum_wallet_dir\": \"/root/.lbryum\",\n    \"max_connections_per_stream\": 5,\n    \"max_key_fee\": {\n      \"amount\": 25.9,\n      \"currency\": \"USD\"\n    },\n    \"min_info_rate\": 0.02,\n    \"min_valuable_hash_rate\": 0.05,\n    \"min_valuable_info_rate\": 0.05,\n    \"peer_port\": 3333,\n    \"peer_search_timeout\": 3,\n    \"pointtrader_server\": \"http://127.0.0.1:2424\",\n    \"reflect_uploads\": true,\n    \"reflector_port\": 5566,\n    \"reflector_servers\": [\n      [\n        \"reflector.lbry.io\",\n        5566\n      ]\n    ],\n    \"run_reflector_server\": false,\n    \"sd_download_timeout\": 3,\n    \"share_usage_data\": true,\n    \"use_auth_http\": false,\n    \"use_upnp\": true,\n    \"wallet\": \"lbryum\"\n  }\n}\n```\n```bash\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"settings_set\", \"params\":{\"max_key_fee\":{\"amount\":293.774,\"currency\":\"LBC\"}}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"allowed_origin\": \"\",\n    \"api_host\": \"localhost\",\n    \"api_port\": 5279,\n    \"cache_time\": 150,\n    \"data_dir\": \"/root/.lbrynet\",\n    \"data_rate\": 0.0001,\n    \"delete_blobs_on_remove\": true,\n    \"dht_node_port\": 4444,\n    \"download_directory\": \"/root/Downloads\",\n    \"download_timeout\": 180,\n    \"is_generous_host\": true,\n    \"known_dht_nodes\": [\n      [\n        \"lbrynet1.lbry.io\",\n        4444\n      ],\n      [\n        \"lbrynet2.lbry.io\",\n        4444\n      ],\n      [\n        \"lbrynet3.lbry.io\",\n        4444\n      ]\n    ],\n    \"lbryum_wallet_dir\": \"/root/.lbryum\",\n    \"max_connections_per_stream\": 5,\n    \"max_key_fee\": {\n      \"amount\": 293.774,\n      \"currency\": \"LBC\"\n    },\n    \"min_info_rate\": 0.02,\n    \"min_valuable_hash_rate\": 0.05,\n    \"min_valuable_info_rate\": 0.05,\n    \"peer_port\": 3333,\n    \"peer_search_timeout\": 3,\n    \"pointtrader_server\": \"http://127.0.0.1:2424\",\n    \"reflect_uploads\": true,\n    \"reflector_port\": 5566,\n    \"reflector_servers\": [\n      [\n        \"reflector.lbry.io\",\n        5566\n      ]\n    ],\n    \"run_reflector_server\": false,\n    \"sd_download_timeout\": 3,\n    \"share_usage_data\": true,\n    \"use_auth_http\": false,\n    \"use_upnp\": true,\n    \"wallet\": \"lbryum\"\n  }\n}\n``. Can this be closed now?. There is no error here, it was in the release v0.13.1.. LGTM means?. Oh OK Thanks!\n. I am assigning it to myself currently, as I think I should be able to solve it.. That could also be taken care of. Should I instead print out instructions do change the port?. Done.. Yes, I will do that in a short while.\n. I talked to Jack about it, and figured a lot is left. Currently this is working usingrequestsmodule but I need to port it totwisted` so, this is going to take time.. Goes with this PR lbry-app/#324. Ok, I'll look into it.. @kaykurokawa I DM'ed you on slack, regarding this issue.. Ok, yeah. That would be great, I'll just make the changes and push it.. @kaykurokawa Please check.. It returns an error message if the given name and the server returned\nnames are not same.\nFixes #644. We have an Faq entry regarding this. I guess this addresses your issue.. Introducing this feature to UI needs the app to be up and running, which in turn needs to connect through the default ports. From UI you could only change the port for the next run onwards(Although having an option to change this before daemon start up must not be impossible, but I'm unaware of the feasibility). Summoning @kauffj \nAs for higher default ports by default, I grab the attention of appropriate people: @jackrobison @kaykurokawa.. There are two _tip_claim functions in wallet. Is it intentional?\nEdit: Got it, just checked the codebase :grimacing: . We could use Decimal module to represent those number as it provides accurate floating point arithmetic, just like Java's BigDecimal.. As I am given to understand LBC is divisible to 8 decimal places, and max amount possible in circulation will be 109(not sure, but still I can make my point). So that would mean the max precision should be 17 with scale of 8. So Decimal could be(and should be) used for handling all LBC values. Though I might be missing something here :-|. Right now value has to be kept as it is, right?. Update(23 Aug, '17): being worked on in lbryio/lbryum#148. I think this is might be an authentication bug, I will post more details if I find something. . If it is caused due to a duplicate name/tuple, could this be solved by just renaming claims_in_channel to no_of_claims_in_channel or something similar?. Closed. Will be tracked in #1273 . Probably also related to or should be a part of #1008.. The publish commands still requires file manager component to be started. So it probably needs all the streams to be resumed. But I'm not sure if @jackrobison made some recent change to it which affects this.. The winning claim should be the one with the name \"cat picture\" as it has the highest amount but that is not the case. Also effective amount calculation is wrong in many cases.\nThis should be the winning claim(also present in claim_list output above)\n```bash\ncurl 'http://localhost:5279/lbryapi' --data '{\"method\":\"resolve\", \"params\":{\"uri\":\"lbry://nine#5aceef42474725821cad8ef59d14f640a85472ac\"}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"lbry://nine#5aceef42474725821cad8ef59d14f640a85472ac\": {\n      \"claim\": {\n        \"address\": \"bLXyYouxHXSSE92SezaBWvnuvrMXJJEqe4\",\n        \"amount\": 400.0,\n        \"claim_id\": \"5aceef42474725821cad8ef59d14f640a85472ac\",\n        \"claim_sequence\": 6,\n        \"decoded_claim\": true,\n        \"depth\": 22032,\n        \"effective_amount\": 0.0001,\n        \"has_signature\": false,\n        \"height\": 286405,\n        \"hex\": \"080110011a6e08011226080410011a03636174220b63617420706963747572652a0032044e6f6e6538004a0052005a001a42080110011a308a84b916c2fdc5fd0d9c8e5bf977f9f92c2720b19a6d7f90981fae4480efc527db2c67c29de94267a9c26ab12777d673220a696d6167652f6a706567\",\n        \"name\": \"nine\",\n        \"nout\": 0,\n        \"supports\": [],\n        \"txid\": \"a8587beae6c45676e6f431997bb4cee8cfefa68b35c6fc9159c1a34a03ad683e\",\n        \"valid_at_height\": 286405,\n        \"value\": {\n          \"claimType\": \"streamType\",\n          \"stream\": {\n            \"metadata\": {\n              \"author\": \"\",\n              \"description\": \"cat picture\",\n              \"language\": \"en\",\n              \"license\": \"None\",\n              \"licenseUrl\": \"\",\n              \"nsfw\": false,\n              \"preview\": \"\",\n              \"thumbnail\": \"\",\n              \"title\": \"cat\",\n              \"version\": \"_0_1_0\"\n            },\n            \"source\": {\n              \"contentType\": \"image/jpeg\",\n              \"source\": \"8a84b916c2fdc5fd0d9c8e5bf977f9f92c2720b19a6d7f90981fae4480efc527db2c67c29de94267a9c26ab12777d673\",\n              \"sourceType\": \"lbry_sd_hash\",\n              \"version\": \"_0_0_1\"\n            },\n            \"version\": \"_0_0_1\"\n          },\n          \"version\": \"_0_0_1\"\n        }\n      }\n    }\n  }\n}\n. Agreed on keeping this logic in lbryum right now.\nSuggestion: We are already planning to do something along these lines but I'll get it out there. We should have lbryum, lbryum-server (and possibly lbrycrd?) return the same signature for all claims, with _only_ the claim information, i.e. no satellite information such as permanent URL etc. and that signature should be present in the lbryschema, similar to ClaimDict. All satellite information should be added to daemon or app level as required. This way we can also ensure standardized signatures across different repos(step towards #1008, #1006). Closed, logic ported to lbryum.. This can be determined easily in the daemon, but this should really be taken care on the lbryum side as it has inbuilt support for handling the realted issue.\nClosing.. Only 0 bid value will be checked in the daemon, which is checked in lbryum, but checking for that in daemon saves the whole process of a lot of calls, and creating streams etc.\nClosing. Review #1108 . Some minor changes, otherwise LGTM.\nAlso, please squash the commits into 1 commit([helpful link](https://stackoverflow.com/a/5189600)), as there is not much that changes between commits and its difficult to keep track of.\nAnd finally, thanks for your contribution, please look into https://lbry.io/faq/tips to redeem your LBC tip!. @tzarebczan Yes, this is different.. Minor changes, otherwise LGTM.\nAlso, thanks for your contribution, please look into https://lbry.io/faq/tips on how to redeem your LBC tip!. @kauffj Noted, thanks.. Closed via 5fee660, thanks.. And finally, thanks for your contribution, please look into https://lbry.io/faq/tips to redeem your LBC tip!. PR #1137 fixes this.\nAlso claiming with very tiny amount (0.00000001) seems to be fixed in v19.\ncurl 'http://localhost:5279/lbryapi' --data '{\"method\":\"channel_new\", \"params\":{\"channel_name\":\"@testC\", \"amount\":0.00000001}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"claim_address\": \"mqFq5v78c7QAYDZPYCFVeNu5BiVFvzf7tx\",\n    \"claim_id\": \"54cf9fd1db6ceb8bc68fe22aa9033723493ac789\",\n    \"fee\": \"0.000169\",\n    \"nout\": 0,\n    \"success\": true,\n    \"tx\": \"010000000116d6de70011bfe04e0770f3c66ed70c8355806083f61d1c28e2774ee64a2f79d010000006a47304402202d4fa4c0bb132c6aee5ce42b6038e0a655c7b0044751a76a7eb092c8992c59d402204e6740cb563775c00243539f9735cc3abe81c309a4f6d126cdfbcb19c50f5a320121032b1f692f5581f474dd0decc26941ff40aa708a65b6735046ad58b4db1eb2b2c2ffffffff02010000000000000089b5064074657374434c6408011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004233714ead8b8d8b878798715bdf1a62d1e18374a9dbda4371720766ea88cb791c70814307dd19b5da8b96673035264eb45f0c9acb0005d15829ddcbfe75e2dff6d7576a9146ad5001b4a8fcda8bb4939751d07d33ffd07335c88ac5fea0000000000001976a914bea741a24e42c0c61695d3b03f370966903799fb88ac00000000\",\n    \"txid\": \"5e05bce0897228748c5d6431a225ccec60e9b80a915197ae46aee5637778b40e\",\n    \"value\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a03420004233714ead8b8d8b878798715bdf1a62d1e18374a9dbda4371720766ea88cb791c70814307dd19b5da8b96673035264eb45f0c9acb0005d15829ddcbfe75e2dff\"\n  }\n}\nSnippet of txn list\n  {\n    \"abandon_info\": [],\n    \"claim_info\": [\n      {\n        \"address\": \"mqFq5v78c7QAYDZPYCFVeNu5BiVFvzf7tx\",\n        \"amount\": 1e-08,\n        \"balance_delta\": -1e-08,\n        \"claim_id\": \"54cf9fd1db6ceb8bc68fe22aa9033723493ac789\",\n        \"claim_name\": \"@testC\",\n        \"nout\": 0\n      }\n    ],\n    \"confirmations\": 50,\n    \"date\": \"2018-03-07 16:59\",\n    \"fee\": 0.000169,\n    \"support_info\": [],\n    \"timestamp\": 1520422153,\n    \"txid\": \"5e05bce0897228748c5d6431a225ccec60e9b80a915197ae46aee5637778b40e\",\n    \"update_info\": [],\n    \"value\": -0.000169\n  }\n``. Forgot changelog.. @jackrobisonlbrynet.core.Wallet.update_balance` only gets the updated wallet balance, but the issue I'm trying to fix is this #748.\nFor e.g. I have:\n10 LBC in wallet\nClaim qwerty with bid 20 LBC\nI should be able to update qwerty's bid to 25 LBC, which would require spending the claimtrietx input coin. This already has support in lbryum, just removing the checks from the daemon for it.. @jackrobison I made the required changes. Please check.. @tzarebczan #1104 did not fix this.\n@KamilPiekutowski The problem still persists, you're most welcome to look into it. It is most likely that the file lbrynet/conf.py is just dumping the data in python's dict format, whereas the data in daemon_settings.yml needs to be in yml(maybe json?)  format.. @jackrobison Aha, understood. Instead of making a new testing_requiements.txt file, it would be enough to just mention devs specific requirement somewhere. I guess.... There will probably a lot to do within the 3 broken down issues. I'm not sure. But this should serve as a general outline on what has to done.\nAlso the sub-issues are probably more than a 5 each.. @kauffj Yes this is what I'm currently working on.\n@btzr-io can you please test and let me know whether the same command, when\ncalled from cli, gives the deprecated command warning?\nKind Regards\nAmit Tulshyan\nOn Feb 22, 2018 3:29 AM, \"Jeremy Kauffman\" notifications@github.com wrote:\n@hackrush01 https://github.com/hackrush01 are you working on this? It is\nreally embarrassing to me to continue to have this happen to valuable\ncontributors.\n@btzr-io https://github.com/btzr-io for whatever reason, the CLI docs are\nalways up to date, so I recommend using those instead.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1123#issuecomment-367488681, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZmzJ_C_-w7sgvSk7VWt-RObooNRBks5tXJGlgaJpZM4SOTmy\n.\n. Thanks. I think the behavior should be consistent across the API and CLI. I\nprobe into the issue.\nKind Regards\nAmit Tulshyan\nOn Feb 22, 2018 10:17 AM, \"Baltazar Gomez\" notifications@github.com wrote:\n\nClosed #1123 https://github.com/lbryio/lbry/issues/1123.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1123#event-1486184222, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZtVIZg-HJwmtdL2h5iupdVNyz71gks5tXPF7gaJpZM4SOTmy\n.\n. @alyssaoc Sure, I will look into it.. When calling a deprecated command using API(curl etc) it prints out the deprecation message in the log as warning, like so: 2018-09-05 23:55:41,856 WARNING  lbrynet.daemon.auth.server:521: API function \"daemon_stop\" is deprecated, please update to use \"stop\"\nTo change this behaviour to return the deprecation message in the API response will require some changes. Which I don't think should be done.\nPinging @jackrobison though to know what he thinks.. CLI breaking changes are the removal of short flags.\n\nKind Regards\nAmit Tulshyan\nOn Feb 27, 2018 7:51 PM, \"Jack Robison\" notifications@github.com wrote:\n\nI haven't tested this yet, but looks great!\nThere are some CLI breaking changes there.\nCan you expand on this?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/1128#issuecomment-368893285, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZkRUzvwniMQLYVUeuGx0RMRpIlnLks5tZA9igaJpZM4SSZZ6\n.\n. @eukreign Can this PR be the solution to the things related to float and decimal problems?. One solution maybe to install older version of tornado manually if it doesn't conflict with any other module, as older python support was discontinued in tornado 4.4(https://allmychanges.com/p/python/tornado/). # Details\n\nGoal\nTo able to provide a HTTP(S) URL as source while publishing and being able to ddownload that.\nProposal\nLBRYSCHEMA\nThe lbryschema will be changed to do the following:\n1. accept HTTP(S) URL/URI in the source field\n2. add a new field for the hash(SHA-256?) of the content(undetermined: the uploader needs to download the content, hash it himself, and then publish?)\nThe changes will be similar to but not same as https://github.com/lbryio/lbryschema/pull/10. This serves as a good reference as to what the changes with point 1 will look like.\nLBRYUMX and WALLET(either lbryum or txlbryum)\nNo changes expected\nDAEMON\nThere are a lot of changes expected, and it might include other significant refactor which not be known at the time of writing this document(20 June, 2018 nearly 11:12 AM):\n1. Addition of HTTPDownloaderInterface with methods for(but not limited to)\n    * Downloading, provided just the URL/URI(path will be taken from the configs). Will include a writer method.\n    * Stop downloading\n    * Resume downloading(possibly from where it left off even after a daemon restart or network outage)\n    * Redownloading(maybe an if condition inside download/resume) if the hash doesn't match the downloaded file. It will be automatically re-download only once per file(if needed) if we still didn't receive the file with the correct hash we will stop attempting and let the user decide\n    * Tracking progress\n2. Implementaition of HTTPDownloader(HTTPDownloaderInterface) to actually do all of the above stuff\n3. Changes in file table, or addition of new table for files download from other sources(TBD, honestly haven't thought about it much, and have little knowledge of that would integrate with our system)\n4. Implement all of that using treq(which is based on twisted). @jackrobison I've made the required changes, though I still would insist on keeping the * at the end of each CHANGELOG section and removing it in the end while making a release as this prevents lots of merge conflicts while rebasing on master etc.. Fixed here #1137.. This got merged today, after you opened the issue I guess :-)\nAmit Tulshyan,\nSoftware Engineering Intern,\nLBRY, Inc\nOn Mar 13, 2018 3:25 AM, \"Thomas Zarebczan\" notifications@github.com\nwrote:\n\nMy bad, didn't realize you fixed it already. Had it on my notes :)\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1142#issuecomment-372475929, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZu-hdZRhdZE8B4TB3slvJ59raqJGks5tdu6-gaJpZM4SnKwU\n.\n. On Hold, waiting on lbryum to daemon implementation as well some other things to figure out.. Closed from #1157 . Yes, this seems like a good step.\n\nAmit Tulshyan,\nSoftware Engineering Intern,\nLBRY, Inc\nOn Tue, Mar 27, 2018, 8:06 AM Lex Berezhny notifications@github.com wrote:\n\nSaving the wallet file by writing directly to the original wallet file can\nlead to a corrupt file in case there is a crash event (in lbry or the\noperating system) where the entire file does not get written completely.\nA good strategy around this problem is something called the\n\"Write-Replace\" pattern whereby you always write to a temporary file first\nand then move the temporary file over the original file. Such a move\noperation is usually very cheap and efficient on the file system because\nit's just updating pointers to disk location. In case of a crash, you'll\nhave both the original file and the corrupt temporary file, not ideal but\nat least there is opportunity to try and re-create a good version.\nFor an example, search here for \"Write-Replace\":\nhttps://blog.gocept.com/2013/07/15/reliable-file-updates-with-python/\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1158, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZhJAx7S_jTHjfiNnkB16UlItv85Pks5tiaWmgaJpZM4S8MZ_\n.\n. @tzarebczan I'll be using this.. https://github.com/lbryio/lbry/pull/1164/commits/6327c0d4c6df01676d5f41434719f632cfd8bb5c also fixes a regression which caused blobfiles folder to be created in the github repo as opposed to the .lbrynet folder\n\npylint error will be fixed in the next commit. @jackrobison \nlbrynet-cli status\nERROR: sequence item 0: expected string, dict found\n2018-04-18 19:54:09,408 ERROR    lbrynet.daemon.auth.server:227: sequence item 0: expected string, dict found\n2018-04-18 19:54:09,408 WARNING  lbrynet.daemon.auth.server:211: error processing api request: sequence item 0: expected string, dict found\ntraceback:. Next Steps\n - [ ] Check what the output format for the documentation should be\n - [ ] Assess the difficulty for changing the current one. @tzarebczan is this issue the same as #1109? If yes we should close one or the other.. Okay, I know this is probably a lot of reviews for the contribution(also we gave late feedback too, sorry), but there's one small thing that needs to be knocked out in the test.(The rest of the code works fine)\nHere goes\nThis is the error when I comment out all the code in you fix in conf.py\n```\n===============================================================================\n[ERROR]\nTraceback (most recent call last):\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/tests/unit/test_conf.py\", line 86, in test_load_save_config_file\n    conf.server_list, conf.server_list_reverse)}\nexceptions.AttributeError: 'module' object has no attribute 'server_list_reverse'\ntest_conf.SettingsTest.test_load_save_config_file\nRan 1 tests in 0.077s\n```\nAs you see it says exceptions.AttributeError: 'module' object has no attribute 'server_list_reverse' that means the test is expecting that there is a function in conf.py by that name. But there isn't because all of the fix was commented out(to replicate conditions before the fix)\nThis is the exact line causing the test to fail(after fix is commented out)https://github.com/lbryio/lbry/pull/1209/files#diff-f0f237c9e78a1b113640af03f121e1faR86\nNow, basically two things are expected from the PR(specifically test)\n\nfix commented out should error with: Expected \"localhost:50001\" but got \"[localhost, 50001]\".\nfix commented back in should pass the test.\n\nIf test that is written is high level that makes no assumptions about internal implementation details, then it should work like above\nIt will create some config, update it, check what the value is, fail that it's a list instead of colon separated string then after the fix the same test should pass because it's a colon separated string\nI hope that makes thing clear.. @alyssaoc I will update them and make a PR soon to lbryum-refactor branch.. Added a PR #1428.\nThere seems to be no(practical) limitation on the length of the name of the claim\nAll these names resolve\nPcjV6wu83Bmtu56aXDj5kO7dMtT1q8dCHObjlGlL1wR8v1hlVv8bvfgTWlNtMxIhjTzgkQ9n2d9N5YWiD1DP3qGKgFQfG8RRrcZE\nPcjV6wu83Bmtu56aXDj5kO7dMtT1q8dCHObjlGlL1wR8v1hlVv8bvfgTWlNtMxIhjTzgkQ9n2d9N5YWiD1DP3qGKgFQfG8RRrcZEPcjV6wu83Bmtu56aXDj5kO7dMtT1q8dCHObjlGlL1wR8v1hlVv8bvfgTWlNtMxIhjTzgkQ9n2d9N5YWiD1DP3qGKgFQfG8RRrcZE\nThe issue with publish faced maybe due to the name being unicode. I think we accept only ascii names right now.. This is still open, planning to do it soon. @alyssaoc This is still an issue, with Low Priority IMO.. This is a bit more involved than I originally thought. After many different permutations and combinations of trial and error, it seems like there might be some other things that need to be changed in order to make this work. One such thing seems to be AuthAPIClient. I will update this thread if something else is discovered.. Closes #1358 \nCloses #1336 . Moved to main comment so that progress is tracked/visible.. ### This is a comment with more detailed errors:\n\nget\nError while running get This is now happening pretty reliably, just start downloading a file.(Maybe related to usage of file_set_status)\n2018-08-17 10:07:06,919 WARNING  lbrynet.daemon.auth.server:312: error processing api request: {'message': 'Block not found', 'code': -5}\ntraceback:   File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\n    current.result = callback(current.result, *args, **kw)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 93, in trap\n    err.trap(*to_trap)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 439, in trap\n    self.raiseException()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 467, in raiseException\n    raise self.value.with_traceback(self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 154, in _inner\n    result = yield fn(*args, **kwargs)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/Daemon.py\", line 1363, in jsonrpc_get\n    resolved_result = yield self.wallet.resolve(uri)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/wallet/manager.py\", line 154, in resolve\n    results = yield ledger.resolve(page, page_size, *uris)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/wallet/ledger.py\", line 59, in resolve\n    resolutions = yield self.network.get_values_for_uris(self.headers.hash().decode(), *uris)\nbuiltins.RuntimeError: {'message': 'Block not found', 'code': -5}\nCalling it again worked(but still happening after completion of file)\n\nstream_cost_estimate\n2018-08-17 10:36:00,903 WARNING  lbrynet.daemon.auth.server:312: error processing api request: 'what'\ntraceback:   File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\n    current.result = callback(current.result, *args, **kw)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 93, in trap\n    err.trap(*to_trap)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 439, in trap\n    self.raiseException()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 467, in raiseException\n    raise self.value.with_traceback(self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 154, in _inner\n    result = yield fn(*args, **kwargs)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/Daemon.py\", line 1522, in jsonrpc_stream_cost_estimate\n    cost = yield self.get_est_cost(uri, size)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    result = g.send(result)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/Daemon.py\", line 492, in get_est_cost_from_uri\n    claim_response = resolved[uri]\nbuiltins.KeyError: 'what'\n\nclaim_list_by_channel\n2018-08-17 12:19:14,873 WARNING  lbrynet.daemon.auth.server:312: error processing api request: {'message': 'Block not found', 'code': -5}\ntraceback:   File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\n    current.result = callback(current.result, *args, **kw)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 93, in trap\n    err.trap(*to_trap)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 439, in trap\n    self.raiseException()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 467, in raiseException\n    raise self.value.with_traceback(self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 154, in _inner\n    result = yield fn(*args, **kwargs)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/Daemon.py\", line 2161, in jsonrpc_claim_list_by_channel\n    resolved = yield self.wallet.resolve(*valid_uris, page=page, page_size=page_size)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/wallet/manager.py\", line 154, in resolve\n    results = yield ledger.resolve(page, page_size, *uris)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/wallet/ledger.py\", line 59, in resolve\n    resolutions = yield self.network.get_values_for_uris(self.headers.hash().decode(), *uris)\nbuiltins.RuntimeError: {'message': 'Block not found', 'code': -5}\n\nblob_availability\nbash\n$ lbrynet blob_availability d5169241150022f996fa7cd6a9a1c421937276a3275eb912790bd07ba7aec1fac5fd45431d226b8fb402691e79aeb24b\n{\n  \"is_available\": false,\n  \"reachable_peers\": [],\n  \"unreachable_peers\": []\n}\n$ lbrynet peer_list d5169241150022f996fa7cd6a9a1c421937276a3275eb912790bd07ba7aec1fac5fd45431d226b8fb402691e79aeb24b        \n[\n  {\n    \"host\": \"73.119.19.62\",\n    \"node_id\": \"54c42d1bc770e8677961cc1800b8a11ff1278e5243f64b78d4cd86dc4a13066684e7cab3f3213408a1c86e56cf77d840\",\n    \"port\": 3333\n  },\n  {\n    \"host\": \"98.202.122.65\",\n    \"node_id\": \"962fe5f862fcde5eb44696a0c4218b3e845eed366917a6269f7af2c054534122420f96b25e9021e038349da87fecf33b\",\n    \"port\": 3333\n  }\n]\n$ lbrynet blob_get d5169241150022f996fa7cd6a9a1c421937276a3275eb912790bd07ba7aec1fac5fd45431d226b8fb402691e79aeb24b         \n\"Downloaded blob d5169241150022f996fa7cd6a9a1c421937276a3275eb912790bd07ba7aec1fac5fd45431d226b8fb402691e79aeb24b\"\n\nstream_availability\nbash\n2018-08-17 13:44:37,774 WARNING  lbrynet.daemon.auth.server:312: error processing api request: 'lbry://what'\ntraceback:   File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\n    current.result = callback(current.result, *args, **kw)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 93, in trap\n    err.trap(*to_trap)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 439, in trap\n    self.raiseException()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 467, in raiseException\n    raise self.value.with_traceback(self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/auth/server.py\", line 154, in _inner\n    result = yield fn(*args, **kwargs)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    result = g.send(result)\n  File \"/home/hackrush/git-repos/lbry-repos/lbry/lbrynet/daemon/Daemon.py\", line 3039, in jsonrpc_stream_availability\n    claim_obj = smart_decode(resolved_result[uri]['claim']['hex'])\nbuiltins.KeyError: 'lbry://what'\n\npublish\n```bash\n2018-08-17 13:50:20,945 INFO     lbrynet.daemon.Daemon:1852: Publish: {'name': 'planktestfile3', 'file_path': '/home/hackrush/Downloads/planktestfile.txt', 'bid': 1000000, 'claim_address': None, 'change_address': None, 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'metadata': {'title': 'Plank Test File 1', 'description': 'Plank Test File 1', 'author': 'hackrush', 'version': '_0_1_0'}, 'version': '_0_0_1'}}, 'channel_id': None, 'channel_name': None}\n2018-08-17 13:50:20,945 INFO     lbrynet.daemon.Publisher:25: Starting publish for planktestfile3\n2018-08-17 13:50:22,552 INFO     lbrynet.dht.hashannouncer:60: Announcing 2 blobs\n2018-08-17 13:50:28,589 INFO     lbrynet.daemon.Daemon:391: Success! Published to lbry://planktestfile3 txid: a8c4dd37d4a72f898522d8e471829c04a82c59b8f94572079b289ec9f34956f9 nout: 0\n2018-08-17 13:50:29,405 INFO     lbrynet.reflector.client.client:132: Reflector needs descriptor and 1 blobs for stream\n2018-08-17 13:50:29,409 ERROR    torba.baseledger:374: Failed to synchronize transaction:\nTraceback (most recent call last):\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 363, in update_history\n    ''.join('{}:{}:'.format(tx_id, tx_height) for tx_id, tx_height in synced_history)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 250, in inContext\n    result = inContext.theWork()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 266, in \n    inContext.theWork = lambda: context.call(ctx, func, args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 122, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 85, in callWithContext\n    return func(args,kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 475, in _runInteraction\n    compat.reraise(excValue, excTraceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/compat.py\", line 463, in reraise\n    raise exception.with_traceback(traceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 465, in _runInteraction\n    result = interaction(trans, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 211, in _steps\n    self.execute(t, self._insert_sql(\"txo\", self.txo_to_row(tx, address, txo)))\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 114, in execute\n    return t.execute(sql, values)\nsqlite3.OperationalError: table txo has no column named is_purchase\n2018-08-17 13:50:29,597 INFO     torba.baseledger:86: (lbc_mainnet) on_transaction: address=bDCNyxopHJfcb8J82r3J6ZEmZRUMWUoF6s, height=0, is_verified=False, tx.id=a8c4dd37d4a72f898522d8e471829c04a82c59b8f94572079b289ec9f34956f9\n2018-08-17 13:50:29,603 ERROR    torba.baseledger:374: Failed to synchronize transaction:\nTraceback (most recent call last):\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 363, in update_history\n    ''.join('{}:{}:'.format(tx_id, tx_height) for tx_id, tx_height in synced_history)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 250, in inContext\n    result = inContext.theWork()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 266, in \n    inContext.theWork = lambda: context.call(ctx, func, args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 122, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 85, in callWithContext\n    return func(args,kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 475, in _runInteraction\n    compat.reraise(excValue, excTraceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/compat.py\", line 463, in reraise\n    raise exception.with_traceback(traceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 465, in _runInteraction\n    result = interaction(trans, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 211, in _steps\n    self.execute(t, self._insert_sql(\"txo\", self.txo_to_row(tx, address, txo)))\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 114, in execute\n    return t.execute(sql, values)\nsqlite3.OperationalError: table txo has no column named is_purchase\n2018-08-17 13:50:29,783 INFO     lbrynet.reflector.client.client:221: Sent reflector descriptor 4c25430c8f93b20e\n2018-08-17 13:50:30,319 INFO     lbrynet.reflector.client.client:74: Reflector has all blobs for 4c25430c8f93b20e\n2018-08-17 13:50:30,320 INFO     lbrynet.daemon.Daemon:386: Reflected new publication to lbry://planktestfile3\n2018-08-17 13:50:41,169 INFO     lbrynet.dht.hashannouncer:78: Took 18.616463812068105 seconds to announce 2 of 2 attempted hashes (0.000000 hashes per second)\nUnhandled error in Deferred:\n2018-08-17 13:50:47,584 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-08-17 13:50:47,585 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 394, in receive_status\n    yield self.update_history(address)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 363, in update_history\n    ''.join('{}:{}:'.format(tx_id, tx_height) for tx_id, tx_height in synced_history)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 250, in inContext\n    result = inContext.theWork()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 266, in \n    inContext.theWork = lambda: context.call(ctx, func, args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 122, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 85, in callWithContext\n    return func(args,kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 475, in _runInteraction\n    compat.reraise(excValue, excTraceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/compat.py\", line 463, in reraise\n    raise exception.with_traceback(traceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 465, in _runInteraction\n    result = interaction(trans, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 211, in _steps\n    self.execute(t, self._insert_sql(\"txo\", self.txo_to_row(tx, address, txo)))\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 114, in execute\n    return t.execute(sql, values)\nsqlite3.OperationalError: table txo has no column named is_purchase\n2018-08-17 13:50:47,587 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-08-17 13:50:47,587 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 394, in receive_status\n    yield self.update_history(address)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    result = result.throwExceptionIntoGenerator(g)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    return g.throw(self.type, self.value, self.tb)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/baseledger.py\", line 363, in update_history\n    ''.join('{}:{}:'.format(tx_id, tx_height) for tx_id, tx_height in synced_history)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 250, in inContext\n    result = inContext.theWork()\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 266, in \n    inContext.theWork = lambda: context.call(ctx, func, args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 122, in callWithContext\n    return self.currentContext().callWithContext(ctx, func, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/context.py\", line 85, in callWithContext\n    return func(args,kw)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 475, in _runInteraction\n    compat.reraise(excValue, excTraceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/python/compat.py\", line 463, in reraise\n    raise exception.with_traceback(traceback)\n  File \"/home/hackrush/git-repos/lbry-repos/py3-venv/lib/python3.7/site-packages/twisted/enterprise/adbapi.py\", line 465, in _runInteraction\n    result = interaction(trans, *args, kw)\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 211, in _steps\n    self.execute(t, self._insert_sql(\"txo\", self.txo_to_row(tx, address, txo)))\n  File \"/home/hackrush/git-repos/lbry-repos/torba/torba/basedatabase.py\", line 114, in execute\n    return t.execute(sql, values)\nsqlite3.OperationalError: table txo has no column named is_purchase\nUnhandled error in Deferred:\n```\n--------. Also fixes #1278 \nAccording to this: https://github.com/lbryio/lbry/issues/1278#issuecomment-416981496. Fixes #1406 . Removing would mean that the message would say \"invalid command\", as the\ncommand with cease to exist anymore.\nOn Wed, Sep 26, 2018, 2:37 AM Lex Berezhny notifications@github.com wrote:\n\n@eukreign requested changes on this pull request.\nCHANGELOG.md needs to be updated.\nIn lbrynet/cli.py\nhttps://github.com/lbryio/lbry/pull/1480#discussion_r220355503:\n\n     new_method = Daemon.deprecated_methods[method].new_command\n\n\nif new_method is None:\nprint(\"{} is permanently deprecated and will be removed in a future release.\".format(method))\n\n\nThis returns 0 but the message says \"will be removed in a future release\".\nIf the command isn't run then isn't it basically removed now?\n\u2014\nYou are receiving this because you were assigned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/1480#pullrequestreview-158745628,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQxPZvEsG87CounnQlC-egn8gtI1HUlJks5uepsrgaJpZM4W5av8\n.\n. @eukreign \n```python\n\n\nclass Existentiality:\n...     def exist(self):\n...         print(\"This method does not do anything, just prints this message. It is here just for existing.\")\nbeing = Existentiality()\nbeing.exist()\nThis method does not do anything, just prints this message. It is here just for existing.\nbeing.does_not_exist()\nTraceback (most recent call last):\n  File \"\", line 1, in \nAttributeError: 'Existentiality' object has no attribute 'does_not_exist'\n. Another bug/error, reported by Lex on slack. (pasting here so that I don't forget)\n[lbry]$ python profile_get.py --wallet_path=/home/lex/projects/lbryconf/ --output_path=/home/lex/projects/lbry/scripts/benchmark.txt\n2018-12-15 14:24:07,457 INFO     lbrynet.conf:539: Loaded settings file: /home/lex/.local/share/lbry/lbrynet/daemon_settings.yml\n2018-12-15 14:24:07,458 INFO     lbrynet.extras.daemon.storage:181: connecting to database: /tmp/tmpmyz2cy30/lbrynet.sqlite\n2018-12-15 14:24:07,458 INFO     lbrynet.extras.daemon.Components:776: detecting external ip\n2018-12-15 14:24:07,566 INFO     twisted:154: Starting factory _HTTP11ClientFactory(.quiescentCallback at 0x7f0dd669cbf8>, )\n2018-12-15 14:24:07,668 INFO     torba.client.basenetwork:87: Successfully connected to SPV wallet server: victor.lbry.tech:50001\n2018-12-15 14:24:07,707 INFO     lbrynet.extras.daemon.Components:282: remote height: 486506, local height: 486506\n2018-12-15 14:24:07,731 INFO     twisted:154: KademliaProtocol starting on 4444\n2018-12-15 14:24:07,731 INFO     twisted:154: Starting protocol \n2018-12-15 14:24:07,731 INFO     lbrynet.dht.protocol:199: DHT listening on UDP 4444 (ext port 4444)\n2018-12-15 14:24:07,732 INFO     lbrynet.extras.daemon.Components:459: Started the dht\n2018-12-15 14:24:07,732 INFO     lbrynet.extras.daemon.Components:366: Starting torba wallet\n2018-12-15 14:24:07,782 INFO     torba.client.basedatabase:164: connecting to database: /home/lex/projects/lbryconf/lbc_mainnet/blockchain.db\n2018-12-15 14:24:07,839 INFO     lbrynet.dht.node:227: Attempting to join the DHT network, 0 contacts known so far\n2018-12-15 14:24:07,884 INFO     torba.client.basenetwork:87: Successfully connected to SPV wallet server: victor.lbry.tech:50001\n2018-12-15 14:24:07,885 INFO     torba.client.baseledger:239: Subscribing and updating accounts.\n\n\n\n2018-12-15 14:24:15,853 INFO     lbrynet.dht.node:227: Attempting to join the DHT network, 9 contacts known so far\n2018-12-15 14:24:33,044 INFO     lbrynet.dht.node:263: Joined the dht\n2018-12-15 14:25:38,183 INFO     twisted:154: Stopping factory _HTTP11ClientFactory(.quiescentCallback at 0x7f0dd669cbf8>, )\n2018-12-15 14:26:41,263 INFO     torba.client.baseledger:133: lbc_mainnet: added BlockHeightEvent(height=486507, change=1) header blocks, final height 486507\n2018-12-15 14:28:51,388 INFO     torba.client.baseledger:133: lbc_mainnet: added BlockHeightEvent(height=486508, change=1) header blocks, final height 486508\nI let it run for about 5 minutes..\nwhen i `ctrl-c` the script i get this:\n^C2018-12-15 14:35:11,046 INFO     twisted:154: Received SIGINT, shutting down.\n2018-12-15 14:35:11,047 INFO     twisted:154: (UDP Port 4444 Closed)\n2018-12-15 14:35:11,047 INFO     twisted:154: Stopping protocol \n2018-12-15 14:35:11,048 INFO     lbrynet.dht.protocol:490: Stopping DHT\n2018-12-15 14:35:11,048 INFO     lbrynet.dht.protocol:493: DHT stopped\nUnhandled error in Deferred:\n2018-12-15 14:35:11,099 CRITICAL twisted:154: Unhandled error in Deferred:\n2018-12-15 14:35:11,100 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"/home/lex/.virtualenvs/lbry/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    result = g.send(result)\nStopIteration: ['wall-street-goes-crypto-the-llama-report#8d8cc89d1c9d2e949b0a3b9a2af360d20fac9d9c', 'why-widespread-adoption-of-crypto-is-the#82796a7dd76985112a8d1d62009c2d187cd4a867', ..., 'monerokeychain#3ccf9e86fde8ab7c04dfe871b32af9c9e78cc628', 'bitcoinkeychain#7280f4f23b7a24b53da8aab138137520aad8e034', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten']\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/lex/.virtualenvs/lbry/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    result = g.send(result)\n  File \"profile_get.py\", line 166, in main\n    results = yield benchmark_performance(uris)\n  File \"/home/lex/.virtualenvs/lbry/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1604, in unwindGenerator\n    gen = f(args, *kwargs)\nTypeError: benchmark_performance() missing 1 required positional argument: 'output_path'\n```\nThe bug is not passing the argument to the function.\nHere: https://github.com/lbryio/lbry/pull/1710/files#diff-369bfd247bb65d003ac2ae9e25a20394R166. ## Draft V1\nA DC++ like daemon would likely have the following features:\n\nExclusively local peer discovery/communication(a toggle-able setting maybe)\nAbility to seamlessly switch network from local to internet and vice-versa\n\nA couple of ultra-cool stretch goals that can also be done are:\n\nContent discovery over only local network. In this, the user would select certain files/folders to \"publish\". Those files would be locally indexed, and then through our DHT we could ping for the list of stuff that everyone online has, and vice versa. Then we could proceed with the download as usual.\nImplementing the above also means that the daemon(maybe the app too) can now function completely offline in intranets.. But this would mean losing some core functionality such as publishing to blockchain, payable content etc. But this could then also be used in intranets other than colleges such as offices which would be kinda cool use case\u00af_ (\u30c4)/\u00af. Does this happen when your port is already mapped?. @jackrobison LGTM :-D. Maybe.\nWhat I mean is that, this has to be added before and/or parallely to #958 . Yes. This is just to keep track I guess.\nMaybe make #958 an epic?. Had it in my local repo, forgot to push :-P. This line can be removed from the changelog.. We already have Fixed heading so this should be removed.. This line should be put in the already existing 'Fixed' section below.. We already have a Added sub heading in the changelog below, please remove this.. Please move this line to the Added sub heading below.. This is what is returned from lbryum I guess, maybe I need to look at the lbryum error messages too.\nAlso would it be bad practice if I check the error message string and then decide which exception to raise?? Something like\npython\nif claim[\"msg\"] == \"Insufficient funds\":\n  Raise InsufficientFundsError()\nhere ^ claim is the JSON signature returned from lbryum\n. Yes, the function for checking the above stuff in lbryum is a bit convoluted, with many abstract returns. Maybe I'll check for error message in daemon and raise specific Exceptions for possible cases, and a different but non-generic and descriptive errors for the rest of the cases.. Done!. Ok, but it is valid for both API and CLI\nWill the following be better?\ninconsistencies in API and CLI docstrings. Ok. From here?\nhttps://github.com/lbryio/lbry/blob/master/lbrynet/daemon/auth/server.py#L153. This will be automatically taken care by the scripts in the final output.. This will be automatically taken care by the scripts in the final output.. Since this is an estimate of the max fee that can be used, I put it in the message because one could technically update for a bid amount higher than that.\nShould I instead put it in the condition check itself? This will _probably be changed after this get merged though.. In the issue comment you said that you'll be using b64 instead of b58, but is seems like opposite is done. Please crosscheck.. :+1: . self.storage is still needed here. Removed in the latest commit. Could you please tell me a valid fake node_id that would be acceptable for future use?. This command will be removed in the subsequent push(added to Changelog). Same as earlier comment. Ah! I always forget about the dewies. Force of habit. Thanks, will try to keep in mind.. This was moved because I couldn't reference it here for some reason.\nAlso I'm completely in favour of removing the class. I didn't because I thought it was there for a reason.\nShould I proceed to removing it?(It's used in 2 places AFAIK) and I think the new wallet already handles points reservation. Although I'm not sure if it handles queuing of transactions. What's the final word???. I will reduce the number(thought it might come up :-P ). However I do believe that keeping hash_of_address makes the code more clear and readable. If we aim for consistency then I can add the same in the other methods as well.. :+1: . :+1: . \n. hexlify/unhexlify is a built-in function which everyone knows about. But not the conversion for our hash. So this can be separate variable to make things clearer.. Ok, will/might take some time. If I don't push a commit for this today, then don't treat this as a blocker. But rest assured this is on top of my list.. So as not to make any changes to api signatures I guess. This was how it was in the old version. This command in not there in the current master. Ah! that was unintentional, will resolve this. Earlier I thought the test was failing due to timeout(the tests take 90 or so secs now btw) so I increased it and kept it that way. I can remove this if needed. Also this helps in debugging. Though I have no strong opinions.\n\nP.S. Also default is 120, so as we plan to add more tests we might eventually need a longer timeout. Ah! Yes. It is tip a claim. As a tip basically a support to the claim, which the author can \"unlock\" if need be. I will find a good way to express this.. Ok, will push that along with the integration test. Same as above. @eukreign Are we not keeping this as --account_id. Basically, maybe..!! But if you ponder into the deep ponds of philosophy and the definition of what existence means can one really say that something does or does not exist? \ud83d\ude02\nOn a less serious note: The command is still callable(though deprecated and doesn't return anything) so it is not completely removed(we can remove it completely if needed). When calling the command is an error then it will be said to be completely removed.\n(Please do not solve your philosophical questions related to existence using this argument, some things are different for programs as compared to philosophy). There's a pip here too. Yes, @jackrobison already pointed it out. I will make the corresponding function/class accept this as an argument as opposed to monkey patching it.. Setting the temp directory. tempdir is already present in tempfile. Setting that ensures the same tempdir(made by mkdtemp) is accessible everywhere.\nNot sure if this is what you are asking.. Thanks, I'll will look into that.. I'm skeptical about this change. This was needed because the claim was re-processed. In which case dewies would already be in string(desired) format.. ",
    "iateadonut": "this is in the error log:\n2017-05-26 01:00:00,380 ERROR    lbryum.interface:115: Failed to connect to (2, 1, 6, '', ('54.174.5.255', 50001))\nTraceback (most recent call last):\n  File \"site-packages/lbryum/interface.py\", line 110, in get_simple_socket\n  File \"socket.py\", line 228, in meth\nerror: [Errno 111] Connection refused\nThis is an amazon server.  Is this one of your servers?  I wonder if the firewall (security group) is refusing connections from my area (korea)?\nif i telnet from korea, i get 'connection refused'.  if i telnet from a server in the States, it hangs, and then I get a timeout:\nfrom Korea:\n$ telnet 54.174.5.255 50001\nTrying 54.174.5.255...\ntelnet: Unable to connect to remote host: Connection refused\nfrom the States:\n$ telnet 54.174.5.255 50001\nTrying 54.174.5.255...\ntelnet: connect to address 54.174.5.255: Connection timed out. The daemon runs well.\nThe error in the logs that I posted happens when I execute a 'get' command:  lbrynet-cli get uri=what\nLooking at the telnet response, it seems that the server is actively blocking my ip address.. still doesn't work.\ni'll have to do some more testing to make sure i can set it up on a server in the States and watch it work.. ",
    "caseyparker": "The thing sucks right now. It's still a reference implementation, give us all some time.. ",
    "longle255": "I'm not sure why the test was failed. any idea? thanks\n$ PYTHONPATH=. trial tests\ntests.functional.test_misc\n  TestTransfer\n    test_double_download ...                                            [ERROR]\n                                           [ERROR]\n    test_last_blob_retrieval ...                                           [OK]\n    test_lbry_transfer ...                                                 [OK]\n    test_multiple_uploaders ...                                       [SKIPPED]. ",
    "ptc4cash": "Because i have done it five different ways and nothing works, i also did sudo commands in bash and installed threw linux still same issue it wont connect to daemon, when installing the windows version it prompted me to allow it threw firewall i selected yes and still nothing..\nNo need to get touchy, i am simply asking a question, it seems like a lot of people are having problems syncing this wallet so no, its not just me.. Its not even creating a log file, i did try running the lbrycrdd and still the same issue occurring  :( i am using the newest versions. Ohhh my lord i got it, Thanks tzarebczan, i know you hating but those steps helped lol cheers.\n. ",
    "AyiSoli": "Not sure if this issue belongs in lbry or lbry-app . lbry-app-#227. lbryio/lbry-app#220\nLinked issue, closed\n. ",
    "liuxun1977": "./lbrynet-cli transaction_show txid=eeb23af0ff0c0d1e0ae413960ca84206e7eb225c0377f28ad9206222b53eca66\n{\n  \"complete\": true,\n  \"hex\": \"010000000187d12f8ce0cd229eec3823a97a169c3f20ba31af26d4e3975edf4f20566d4a1a010000006b483045022100cdfd7990a4d7363fc5c13d46dc83be31ccfbe53499a5a9b10e54ab5f4e41be610220652fc5e3b7bb8a4bc626efcd7db220d8fa1c99c4ee2b6a31aedac1b03a6364d9012103c9f29f0d7e0fd134c2d950e979bd545add50faf9f85ec574fe0058fd6a24f347ffffffff02c0c62d00000000001976a9140a1b7cecf1db6b3403fe0f5d97c5604e47a3cf1b88acb8ec3453000000001976a9146299198092405424aff22aaf246887f098d5136d88ac00000000\"\n}\nHow do I parse the return result\uff1f\n. I'd like to see the address in the transaction record. Is there any way? @kaykurokawa . / lbrycrd-cli can be called by API? @kaykurokawa . I need to query the transaction record in the Java project. @kaykurokawa . Do these two methods provide an API? @kaykurokawa . I need these addresses. I can't delete them. I don't need to upload a file. I need to assign a lbry address to each user for the filling @tzarebczan . A transaction LBC currency website, like https://www.poloniex.com/ @tzarebczan . ",
    "zestyr": "Wouldn't this remove the possibility for unique per-file download locations, a la \"save as\"?. I somewhat agree, I also touched on that in the description. However, people can simple move the folders to their new locations.\nI agree because not everyone will check the changelog and such, so there needs to be a way to get it out there. I wouldn't mind creating something that checks if the old folders exist and the new ones don't, and then copying over the old folders to the new locations, but I'm not sure that's a good way to do it.. Not sure what you mean by when the value is empty/new. The download directory setting can be left unchanged, and it seems like it acts as a configuration setting just like the other two, with the difference being that you can modify it. \nI didn't change the Windows or macOS locations, so I don't think a check for them would do anything. I changed lbry to LBRY for consistency, but NTFS is case-insensitive, at least by default on Windows.. Alright, I believe I've implemented option C, though not the functions @kaykurokawa mentioned. If those are still wanted I can implement them, but everything appears to work fine. \nI've tested multiple configurations, both with a clean state, and using the old locations, and the new locations. . Alright, that should be about it. Thanks :). That would be breaking an important standard, and littering people's home directories with folders that belong elsewhere.\nSia puts its things under ~/.config/Sia-UI, which isn't correct either. There is no migration @jackrobison, so I'm not sure what you mean. If it's not a fresh install, or the user hasn't moved the folders manually, it simply falls back to the old folder locations. . I understand, but in my opinion open standards for a given operating system are more important than following the mistakes made by similar projects. If you all disagree, fair enough, but then I'd like to turn it into a configurable option like the downloads directory. . @lyoshenka yep, all works as expected :). Done @lyoshenka . Sure. I've been quite busy recently, but I'm free now so I'll probably get it done by the end of this week.. You need to use Python 2.7, lbry doesn't support Python 3. I've already included the PR, but I forgot to fix the test. All tests pass now.. Huh, I guess my testing wasn't thorough enough. I've been postponing setting up virtual machines but I'll do it asap so I can do proper testing. . I agree, though I talked to Jack about how I'd done this and he said it was probably fine. \nI thought the issue included the JSON API usage, since an integer URI would cause the same issue there. @lyoshenka what do you think?. I'll look into it shortly. @kaykurokawa this fixes it using your solution. Let me know if you want it different. Since the argument passed to guess_type doesn't know what it is, I added the optional \"key\" argument. The alternative is doing the uri check in set_flag_vals.. Looks good, fixed a little inconsistency regarding the array. To anyone looking at this, the relevant parts of the log look like this:\nlog\nlbrynet.lbrynet_daemon.Daemon:2523: Need sd blob\nlbrynet.core.client.ConnectionManager:38: Connection Manager \n8abb1d449ecbae5e7df22690281906972722f17b616bbc7130de5a02ccc135f76f629e96c3034a7c8d89ee6f351e648f initialized\nlbrynet.lbrynet_daemon.Downloader:104: Download lbry://linked-ep5 status changed to initializing\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (1 seconds)\nlbrynet.lbrynet_daemon.Downloader:104: Download lbry://linked-ep5 status changed to \ndownloading_metadata\nlbrynet.core.client.ConnectionManager:38: Connection Manager \n8abb1d449ecbae5e7df22690281906972722f17b616bbc7130de5a02ccc135f76f629e96c3034a7c8d89ee6f351e648f initialized\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (2 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (3 seconds)\nlbrynet.lbrynet_daemon.Daemon:2532: Blob (8abb1d449ecbae5e7df2) download timed out\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (4 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (5 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (6 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (7 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (8 seconds)\nlbrynet.lbrynet_daemon.Downloader:97: Downloading stream descriptor blob (9 seconds)\nAfter timing out, it just keeps counting up. In the log he tries a few times, and in one of them it times out, waits a bit, and tries to download another blob which also times out.. Sure, didn't @jackrobison add this to the release tool though?. Seems like it didn't recognize the OS properly. ~/.lbrynet would expand to C:\\Users\\Tom-LaptopVM\\.lbrynet on Windows. Can you post the version info?. This error occurs here: https://github.com/lbryio/lbry/blob/master/lbrynet/daemon/Daemon.py#L643\nA few lines above it logs that it failed, then the error message, which looks like this lbrynet.daemon.Daemon:640: Failed to get <URI>: Failed to download <blob> within timeout\nThe error message is what's returned to the app, and via the JSON interface. The first part containing the title isn't included.\nThe error message returned comes from the timeout error here. \nhttps://github.com/lbryio/lbry/blob/master/lbrynet/core/client/StandaloneBlobDownloader.py#L139\nSince the daemon needs to handle multiple kinds of errors, and StandaloneBlobDownloader only knows about the blobs, as far as I can tell, I can't find a simple way to fix this.\n. Sure, I was just going by the way you handled the data location on Mac. I guess it depends, Microsoft tends to love PascalCasing. If the program's name is LBRY, I guess the standard is the name the folder LBRY as well . So instead of \ndirs = _get_old_directories(WINDOWS)\nYou want \ndirs['data'] = _get_old_directories(WINDOWS)['data']\ndirs['lbryum'] = _get_old_directories(WINDOWS)['lbryum']\ndirs['download'] = _get_old_directories(WINDOWS)['download']\nOr am I misunderstanding? . oh I see, that makes sense. For consistency's sake, (bool) true if .... There is no file_path though, that's the prerequisite for this function running in the first place. ",
    "billbitt": "I got the same issue: \nfirst resolve using just the name as uri:\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"resolve\",\"params\":{\"uri\":\"deer\"}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"deer\": {\n      \"claim\": {\n        \"address\": \"xxxxx\",\n        \"amount\": \"0.1\",\n        \"claim_id\": \"fba48bba5daef3824848d962af8d65429935c4f6\",\n        \"claim_sequence\": 1,\n        \"decoded_claim\": true,\n        \"depth\": 11481,\n        \"effective_amount\": \"0.1\",\n        \"has_signature\": false,\n        \"height\": 183954,\n        \"hex\": \"080110011a8e0108011246080410011a0464656572221a64656572207075626c\n69736865642076696120737065652e63682a07737065652e6368320d5075626c696320446f6d6169\n6e38004a0052005a001a42080110011a304ddaf9fc823de6ed453a0abb17e6ce9bebba5adaae995c\n2c3fc995433abcbdac4d1bfeffb5490c5d2f83154a2f13dc33220a696d6167652f6a706567\",\n        \"name\": \"deer\",\n        \"nout\": 0,\n        \"supports\": [],\n        \"txid\": \"92d549d2ac9dce4a6b57e1f4319b9b7ce8823865e0d499130f1795e5d4811f0\n0\",\n        \"value\": {\n          \"claimType\": \"streamType\",\n          \"stream\": {\n            \"metadata\": {\n              \"author\": \"spee.ch\",\n              \"description\": \"deer published via spee.ch\",\n              \"language\": \"en\",\n              \"license\": \"Public Domain\",\n              \"licenseUrl\": \"\",\n              \"nsfw\": false,\n              \"preview\": \"\",\n              \"thumbnail\": \"\",\n              \"title\": \"deer\",\n              \"version\": \"_0_1_0\"\n            },\n            \"source\": {\n              \"contentType\": \"image/jpeg\",\n              \"source\": \"4ddaf9fc823de6ed453a0abb17e6ce9bebba5adaae995c2c3fc9954\n33abcbdac4d1bfeffb5490c5d2f83154a2f13dc33\",\n              \"sourceType\": \"lbry_sd_hash\",\n              \"version\": \"_0_0_1\"\n            },\n            \"version\": \"_0_0_1\"\n          },\n          \"version\": \"_0_0_1\"\n        }\n      }\n    }\n  }\n}\nnext resolve using claimid in the uri:\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"resolve\",\"params\":{\"uri\":\"deer#fba48bba5daef3824848d962af8d65429935c4f6\"}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"deer#fba48bba5daef3824848d962af8d65429935c4f6\": {\n      \"claim\": {\n        \"address\": \"xxxxxxxx\",\n        \"amount\": 10000000,\n        \"claim_id\": \"fba48bba5daef3824848d962af8d65429935c4f6\",\n        \"claim_sequence\": 1,\n        \"decoded_claim\": true,\n        \"depth\": 11481,\n        \"effective_amount\": 10000000,\n        \"has_signature\": false,\n        \"height\": 183954,\n        \"hex\": \"080110011a8e0108011246080410011a0464656572221a64656572207075626c\n69736865642076696120737065652e63682a07737065652e6368320d5075626c696320446f6d6169\n6e38004a0052005a001a42080110011a304ddaf9fc823de6ed453a0abb17e6ce9bebba5adaae995c\n2c3fc995433abcbdac4d1bfeffb5490c5d2f83154a2f13dc33220a696d6167652f6a706567\",\n        \"name\": \"deer\",\n        \"nout\": 0,\n        \"supports\": [],\n        \"txid\": \"92d549d2ac9dce4a6b57e1f4319b9b7ce8823865e0d499130f1795e5d4811f0\n0\",\n        \"valid_at_height\": 183954,\n        \"value\": {\n          \"claimType\": \"streamType\",\n          \"stream\": {\n            \"metadata\": {\n              \"author\": \"spee.ch\",\n              \"description\": \"deer published via spee.ch\",\n              \"language\": \"en\",\n              \"license\": \"Public Domain\",\n              \"licenseUrl\": \"\",\n              \"nsfw\": false,\n              \"preview\": \"\",\n              \"thumbnail\": \"\",\n              \"title\": \"deer\",\n              \"version\": \"_0_1_0\"\n            },\n            \"source\": {\n              \"contentType\": \"image/jpeg\",\n              \"source\": \"4ddaf9fc823de6ed453a0abb17e6ce9bebba5adaae995c2c3fc9954\n33abcbdac4d1bfeffb5490c5d2f83154a2f13dc33\",\n              \"sourceType\": \"lbry_sd_hash\",\n              \"version\": \"_0_0_1\"\n            },\n            \"version\": \"_0_0_1\"\n          },\n          \"version\": \"_0_0_1\"\n        }\n      }\n    }\n  }\n}. I confirmed with Jack.  The actual behavior is the expected behavior.  The request is meant to be able to handle multiple URI's and respond with result/error for each.. follow up... if you do a new curl request after the hang, the result is as follows:\nsecond curl request:\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"get\",\"params\":{\"uri\":\n\"fucksiacoin\"}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": null\n}\nnew output in daemon:\n2017-06-19 19:39:26,036 INFO     lbrynet.core.Wallet:809: Resolving fucksiacoin\n2017-06-19 19:39:26,503 INFO     lbrynet.lbrynet_daemon.Daemon:1511: Already waiting on lbry://fucksiacoin to start downloading. same thing is happening when getting the claim for boni#8315fa0b7a3ba2b7806a4411214b0bf5bfc31677. This issue may be related to: https://github.com/lbryio/lbry/issues/552 . @finer9 I deleted that update comment because it actually looks like it isn't fixed.  I'm doing some more testing to figure out why that one publish went through when others are getting rejected.\nedit: see results below. additional information:\nOn very few occasions the publish does work without returning the above error.  I believe this has to do with when it updates a previous claim rather than creating a brand new one.  However, I have not yet been able to replicate the behavior in a predictable way.\n. @tzarebczan I was able to circumvent/fix the issue by removing my wallet and creating a new one.  I was also able to fix by removing the 'change_address' from the publishing parameters I am submitting. \n The latter seems like the preferred fix and the way that publishing should operate, although this may lead to an issue of generating a lot of wallet addresses. . @kauffj correct no longer blocking.  I will re-raise the issue if I see it again.  Still a long term issue for use cases like Speech (and I imagine the Berkely videos), but agreed not urgent.  . @kauffj ...and just on cue after it not appearing for the last day it came back.  Multiple users in slack are reporting the same error when trying to publish just now.  According to the data, the first publish that failed had an error of error: transaction already in block chain which might have created the bug for the rest of them.  See screenshot below.\n\n. these are the results of running lsof -p for the lbrynet-daemon processes when the issue occurred yesterday.\npid9161.docx.txt\npid9159.docx.txt\nhere are the lbrynet logs that cover that time frame (and through a successful restart)\nlbrynet.docx.txt\n. @kaykurokawa  It happened again just now.\nlsof -p results:\n28344.docx.txt\n28346.docx.txt\nlbrynet logs:\nlbrynet-8-1-17.docx.txt\n. (recap from standup discussion for @lyoshenka): It would make sense if the issue has to do with API calls (I am making a lot of them, and currently rewriting spee.ch to minimize that a bit), however, even after peak usage drops off the daemon still gives the 'too many open' error and will not fix itself until I kill all processes and restart daemon, so that makes me think that even if high usage is initiating the problem something else is going on that the files aren't closing after usage drops off.. Confirmed, yes it happened again yesterday. (log and lsof readout below). As discussed on call today, it seems to be a result of cumulative usage rather than total usage at a given moment.\n21745.docx.txt\nlbrynet-8-3-17.docx.txt\nI was under the impression this particular issue was a result of heavy use of the lbrynet api (spee.ch makes a lot of resolve, get, and claim_list calls in its current form), however it sounds like the team is thinking it is related more to reflection.  As to reflection, I have recently noticed that none (it is hard to definitively say 'none', but based on my testing it is accurate) of the spee.ch uploads are being reflected.  Two examples: I am unable to download lbry://its-working or lbry://hellolbry through the app.. FYI after @lyoshenka raised the limit I got the 'too many files open' error again today. log and file list below\n21745.docx.txt\nlbrynet-8-3-17.docx.txt\n. I made the update yesterday and it still had not updated this morning.  by contrast, the update I made to @lbrycom worked fine and the effective_amount was increased after only a couple confirmations:\n$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\"resolve\",\"params\":{\"uri\": \"@lbrycom#2280704e73a80444d0dac07d54d90c503d02d588\"}\n}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"@lbrycom#2280704e73a80444d0dac07d54d90c503d02d588\": {\n      \"certificate\": {\n        \"address\": \"bZZmUFr5QKMLgK33xC5uVsyQUQT5BVrZ5i\",\n        \"amount\": 0.1,\n        \"claim_id\": \"2280704e73a80444d0dac07d54d90c503d02d588\",\n        \"claim_sequence\": 1,\n        \"decoded_claim\": true,\n        \"depth\": 487,\n        \"effective_amount\": 10.0,\n        \"has_signature\": false,\n        \"height\": 253168,\n        \"hex\": \"08011002225e0801100322583056301006072a8648ce3d020106052b8104000a\n034200043213b26c64dde9b8c483f4e91237700390b0e128103778acac38a2e81cb2aa16e944c4ae\nf5aaeca7fb3f332e013615108cba79afa05603592bed1a72df0b38ad\",\n        \"name\": \"@lbrycom\",\n        \"nout\": 0,\n        \"supports\": [],\n        \"txid\": \"048866a8b1e99b2192d1b58ef071c3b7338a50c3dd70ffe9c01e9493632a293\n3\",\n        \"valid_at_height\": 253168,\n        \"value\": {\n          \"certificate\": {\n            \"keyType\": \"SECP256k1\",\n            \"publicKey\": \"3056301006072a8648ce3d020106052b8104000a034200043213b2\n6c64dde9b8c483f4e91237700390b0e128103778acac38a2e81cb2aa16e944c4aef5aaeca7fb3f33\n2e013615108cba79afa05603592bed1a72df0b38ad\",\n            \"version\": \"_0_0_1\"\n          },\n          \"claimType\": \"certificateType\",\n          \"version\": \"_0_0_1\"\n        }\n      },\n      \"claims_in_channel\": 1\n    }\n  }\n}. cool.  here is my claim_new_spport tx...\n```$ curl 'http://localhost:5279/lbryapi' --data '{\"method\":\n\"claim_new_support\", \"params\": {\n\n\"name\": \"@lbry\",\n  \"claim_id\": \"3fda836a92faaceedfe398225fb9b2ee2ed1f01a\",\n  \"amount\": 5\n}}'\n{\n  \"id\": null,\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"fee\": 0.000128,\n    \"nout\": 0,\n    \"tx\": \"0100000001f9a88a255ae232061d6659ae63c1a952c6bf4d0b0d16fc4af925e90c348\n06825010000006b483045022100e5795b7466254cfd1439c13bd66e3f0fb36c8b40d234a147a4407\n0672c55fe6802204f146b0d62847a6db6ba0233d83bf7632a22193344f1ed1f7dc26d11d4aab31b0\n121034bd5bf88cb0396a45d1f7e4c5db76a0b1e56a822b3259671843b7287a0d4e857ffffffff020\n065cd1d0000000037b605406c627279141af0d12eeeb2b95f2298e3dfeeacfa926a83da3f6d7576a\n914955fba7c4e0e5078fc95fdf15102764964d6c68888ac30c8d081000000001976a914f58074e8a\n7f19f329138ee799447fa48d1dda66588ac00000000\",\n    \"txid\": \"bd9f27263fbcab35239a56b298d4192c15052f9be0c18d275015e4e78ed41b68\"\n  }\n}. I believe this issue is happening when publishing to a channel, although I cannot confirm that at the moment. @jackrobison we are seeing this error again but with different traceback (i think because of the work you have done on the daemon): {\"error\":{\"code\":-32500,\"data\":[\"  File \\\"/home/lbry/.virtualenvs/jack/local/lib/python2.7/site-packages/twisted/internet/defer.py\\\", line 1299, in _inlineCallbacks\",\"    result = g.send(result)\",\"  File \\\"/home/lbry/jack/lbry/lbrynet/core/Wallet.py\\\", line 803, in _handle_claim_result\",\"    assert False, msg\",\"exceptions.AssertionError: result in unexpected format:{'is_mine': False}\"],\"message\":\"result in unexpected format:{'is_mine': False}\"},\"id\":null,\"jsonrpc\":\"2.0\"} ```\n. \n",
    "miketrimmel": "Ok, thanks.. ",
    "stephenrblake": "(Ignore the files not on the \"master\" branch for now.). ",
    "akinwale": "It would help if I could get some test code for the publish process which I can use to benchmark and identify possible speed improvements.. @finer9 I was able to benchmark using the functional test at https://github.com/lbryio/lbry/blob/master/tests/functional/test_streamify.py#L117, particularly the create_stream callback at https://github.com/lbryio/lbry/blob/master/tests/functional/test_streamify.py#L163\nUsing the default test value at ~50MB, I get the following results:\ngenfile took 0ms\ncreate_lbry_file took 793ms\npublish_sd_blob took 9ms\nUsing a value of 681,574,400 (~650MB) which is the size of a random 30-minute 1080p Youtube video I downloaded, I get the following results:\ngenfile took 0ms\ncreate_lbry_file took 12788ms\npublish_sd_blob took 30ms\nIt does appear that the create_lbry_file  method is creating the blobs serially, based on my observation of the log output from the _blob_finished  callback. Due to my limited familiarity with the architecture of the application at this point, and my limited experience with Python, I am unable to identify where the blobs are split and individually created, but I believe that if the process can be refactored to run in parallel, using multiple I/O threads or by forking the running process, this would definitely reduce the execution time.\n. @kaykurokawa The encrypt_wallet method in the lbrynet side also has an update_keyring parameter which is set to True by default. I guess it would make sense to change it here. See https://github.com/lbryio/lbry/pull/783/files#diff-eafee006192cca2ffbca5ba91dc83eeeR1572. @kaykurokawa @kauffj wallet_is_encrypted is currently returned for the status call.\n\nWe need to adjust API command settings_set to be able change use_keyring conf so the app has a way of adjusting it. Which brings up some more issue:\nShould changing the use_keyring conf set the keyring password? Seems like it should\n\nDo we add another parameter to settings_set in order to accept the password? I'm guessing that also means that we would need to verify the password parameter is always present if use_keyring is set to true. We would also need to accept an old password (if set) before letting the user set a new password. I think this require some more thought and maybe we should create a new issue for it?\n. > I think adf0201 does not seem quite right to fix the exception I mentioned \"exceptions.ValueError: no keyring is available to update\". Now the behavior won't be right when you are using the keyring and you want to update the password, because update_keyring is now False. The root of the problem is here in lbryum:\n\nhttps://github.com/lbryio/lbryum/blob/master/lbryum/commands.py#L169\nThe function update_password(self, new_password, update_keyring=True) takes an update_keyring argument which is set to default True but the decision to update_keyring should be dependent on whether Command._keyring exists nor not ( if self._keyring is not None: update_keyring = True)\n\nThe commit should fix the error that you encountered in your previous test (from the lbry side), since the update_keyring parameter in the lbry daemon previously defaulted to True, and the same parameter is passed on to the command runner's update_password method. I also tested this just to be sure it works.\nThe reason I raise the ValueError in lbryum is to handle cases where the parameter is set to True, but a valid keyring backend may not have been installed on the system (resulting in self._keyring being None). I believe it was expected for a keyring to always be present before the modifications to make it optional, and I think @jackrobison could provide some insight into what the original reason for having this parameter is.. Successfully moved, but need to fix the numerous pylint errors before creating a pull request.. @kaykurokawa Pushed a new commit with the requested fixes.. @jackrobison Updated raised errors and tests as per your comments in Slack.. > Is there a reason android must be compiled with PYTHONOPTIMIZE flag?\nI'm not sure what the exact reason is as it is a setting from the default kivy / python for android app launcher build. I tried to remove it but that resulted in errors launching the Python modules when trying to run the app.. No longer required.. @alyssaoc Daemon 0.21 is performing a whole lot better than previous versions. One more thing I'd like to test is being able to disable DHT completely, so that downloads are done using only HTTP blob mirrors, but the daemon doesn't have the option to do that yet.. Another error log migrating from 0.19.1 to 0.32.3 on desktop.\n2019-02-24 12:00:54,007 INFO     lbrynet.extras.daemon.migrator.dbmigrator:30: successfully migrated the database from revision 6 to 7\n2019-02-24 12:00:54,381 INFO     lbrynet.extras.daemon.migrator.dbmigrator:30: successfully migrated the database from revision 7 to 8\n2019-02-24 12:00:54,858 INFO     lbrynet.extras.daemon.exchange_rate_manager:211: Starting exchange rate manager\n2019-02-24 12:00:54,860 ERROR    lbrynet.extras.daemon.Component:61: Error setting up database\nTraceback (most recent call last):\n  File \"lbrynet\\extras\\daemon\\Component.py\", line 55, in _setup\n  File \"lbrynet\\extras\\daemon\\Components.py\", line 109, in start\n  File \"concurrent\\futures\\thread.py\", line 57, in run\n  File \"lbrynet\\extras\\daemon\\migrator\\dbmigrator.py\", line 28, in migrate_db\n  File \"lbrynet\\extras\\daemon\\migrator\\migrate8to9.py\", line 27, in do_migration\n  File \"asyncio\\events.py\", line 644, in get_event_loop\nRuntimeError: There is no current event loop in thread 'ThreadPoolExecutor-0_0'.\ncc @tzarebczan . @kaykurokawa I have refactored the tests to make use of common setUp and tearDown code. I think there's a benefit of having some of these tests here to just to make sure that they work properly when called from the daemon. We can add more tests to the lbryum suites.\nI think we should create additional issues to address creating improved accuracy tests in the lbrynet test suites as well as the lbryum test suites.. Pretty much, yes, according to the usage doc at https://pypi.org/project/certifi/\n\nWhat if instead of putting this in code it gets set in the environment as an actual environment variable?\n\nThen we may have to distribute the ca-cert.pem file with the executable.. The reason I set it here is to indicate that the download is going to happen before the file actually starts downloading. Setting it at L123 alone would set it to true after the download has started.. I thought about this initially, and having the is_downloading_headers flag would help with differentiating between a first time run (no blockchain_headers file present), and a subsequent run (when it's trying to catch up with blocks).. @eukreign There's a discussion thread about these changes. I will send you a link.. Needs an additional parameter in order to get the private app directory where the lbrynet and lbryum folders will be created.. ",
    "fcbrandon": "What about the mechanism that's used to blacklist content that infringes copyright? Seems like that could be used as well.. ",
    "jsigwart": "As a publisher, I want to be able to add relevant tags to my video for better results in search engines. I'm worried about others gaming the system. Like a competitor getting a bunch of folks to down vote relevant tags and up vote irrelevant ones.. I know the tipping system is another feature request, and it would be nice to have the tip feature integrated with the commenting system.. I think it would be too expensive to push comments to the blockchain. Yeah, comments would be centralized, but still anybody can build an app on top of LBRY. The LBRY blockchain itself should be analogous to what the card file used to be to big libraries: something that tells you where to find a specific book (piece of content) on the shelves (servers).. ",
    "btzr-io": "Related: https://github.com/lbryio/lighthouse/issues/49#issuecomment-375987417. @hackrush01 Tested latest version v0.19.0rc36\nLBRY-CLI\nShows a deprecation error :+1: \n``SHELL\n$ ./lbrynet-cli channel_list_mine\nERROR: \"channel_list_mine\" is deprecated, using \"channel_list\".\nSeelbrynet-cli help` for more information.\n[]\n```\nLBRY-API\nThe command works but there is no warning :confused: \n```JS\n// Request\nPOST /lbryapi HTTP/1.1\nHost: localhost:5279\nContent-Type: application/json\nCache-Control: no-cache\n{\n    \"jsonrpc\": \"2.0\",\n    \"method\":\"channel_list_mine\",\n    \"params\": {}\n}\n// Response\n{\n    \"id\": null,\n    \"jsonrpc\": \"2.0\",\n    \"result\": []\n}\n``. I can confirm this is working when I uselbry-cli, I'm still not sure if theapi` should do the same ? . ",
    "Revetter": "I have to disconnect my mining operation in order to connect straight to modem so that's not an option. None of my network devices are using 3333 as far as I know but I'm not sure how I can make sure. (I checked all devices via netstat -a)\nWhen i check netstat -a on the device that is trying to stream a video this appears in the list:\n\n. Ok, thanks! I'll keep trying and post if I can figure it out.. I've tried multiple times per day whether or not it was working, without changing anything, it suddenly appears to work for the first time.\nlbrynet - log.zip\n. yes, and I haven't gotten it to work anymore since.. It seems to be resolved on my end without changing anything. I am often switching between pools and algorithms so it might have been related to other services using ports 3333 or 4444.. ",
    "nicknitewolf": "I have this issue too with all previous versions (starting from lbry app 0.8 when I first installed lbry) and current version of the lbry app (0.13.0) daemon (0.13.1) and wallet (2.84).\nMy OS is however Linux Ubuntu 17.04 \"zesty\" running the kernel version 4.12 (mainline) and hence this is not an OS dependent issue.\nFurthermore, through the help of some help of certain LBRY mods on Slack, I have already opened up port 3333 and port 4444 on both TCP and UDP protocols. I have even tried disabling my custom port forwarding and tried UPNP based on one of the mods suggestions.\nThe logs seem standard and give little to no details like the original log above so I don't think posting my similar looking log would help that much anyways.\nIn an event that this happens, after timing out, the daemon will still continue to try to download the Stream descriptor blob continuously to no end. Like a loopback.. @hackrush01 I'll change my issue then. There should be a UI function to do so too as it is harder to run it comparatively from cmdline in Windows than Linux.\nThe current default ports should also be changed to something which is higher too so that more end users do not need to have the hassle of changing the ports themselves. ",
    "98farhan94": "\nSame issue. Downloads the blobs to eternity after the initial timeout.\nHere's what the error is within the interface, it also asks about some blob action: \n\n. Changed it to TXT to attach here...\nlbrynet.txt\n. @tzarebczan Yes I did publish some files! I wasn't aware it costs, thanks for clarifying.. lbrynet.txt\n. In my case, I am able to send/receive LBC but cannot publish new claims/see existing claims/do anything claim-related.. ",
    "fasternnet": "I trying with using port 3333 \nSuccess:  I can see your service on 197.246.242.176 on port (3333)\nYour ISP is not blocking port 3333 ..\nbut same problem then I tried to make UPNP disable but still not working !. ",
    "olokos": "Exact same issue here and another relevent issue is closed, this really makes me wanna sell all my LBRY coins and just give up.\n2017-07-23 05:22:25,016 WARNING  lbrynet.lbrynet_daemon.Daemon:2532: Blob ([id_is_here]) download timed out\nseems like @rubenbryon already gave up and he's a developer as we all are, this is what I am talking about. If devs give up, no user will care.. I picked the craziest, most twisted video on the main page just to see if even so weird content is available.\nlbry://six\nCouldn't care less about the video itself, but I was quite sure there'll be problems if I try to open that and I wasn't wrong.. Those uploads look much better now, lol.\nhttps://pastebin.com/btYuurCb\nSeems to get stuck on 51%, could be due to me mining LBRY atm, but it shouldn't matter too much.. ",
    "MSFTserver": "app now only allows a minimum of .01 lbc deposit upon publishing it doesnt tell me i need to put a higher deposit just highlights the div. i think this file needs a looking at maybe at a function to get language encoding user has and set encoding to that?\nhttps://github.com/lbryio/lbry/blob/cb45d7cf8a1c7a2e9df4409729609a905f0a376b/lbrynet/conf.py. i think this needs to change\ndef _win_path_to_bytes(path):\n    \"\"\"\n    Encode Windows paths to string. appdirs.user_data_dir()\n    on windows will return unicode path, unlike other platforms\n    which returns string. This will cause problems\n    because we use strings for filenames and combining them with\n    os.path.join() will result in errors.\n    \"\"\"\n    for encoding in ('ASCII', 'MBCS'):\n        try:\n            return path.encode(encoding)\n        except (UnicodeEncodeError, LookupError):\n            pass\n    return path. upon entering a different name for this command it generates a new url and replaces the old one within the publishes section of the app and doesn't know what to so with itself, the name I think should be allocated from the id I would presume?\n.GIF of Issue\n. upon entering a different name for this command it generates a new url and replaces the old one within the publishes section of the app and doesn't know what to so with itself, the name I think should be allocated from the id I would presume?\n.GIF of Issue\n. we could possibly get the name by making a function to run file_list with sd hash then parse out name\n\n. @KamilPiekutowski just fork this repo or work directly from it by editing files and submitting Pull Requests to the repo. i think they are referring to video length as user want to see the videos length before downloading and storing this in claim metadata would allow seeing it before downloading. haha wrong area im an idiot sometimes . also i uploaded two of the same images at different times to the same name during this process and after they bot they showed the same url, not sure if this will be an issue if 2 people try to post the same claim during this process with different images as mine were the same . daemon.py isnt complete. ",
    "codingisforyou": "I have this same issue also... after using the API to publish and release claims.\n{\n    \"error\": {\n        \"code\": -32500,\n        \"data\": {\n            \"traceback\": [\n                \"Traceback (most recent call last):\",\n                \"  File \\\"site-packages\\twisted\\web\\server.py\\\", line 190, in process\",\n                \"    \",\n                \"  File \\\"site-packages\\twisted\\web\\server.py\\\", line 241, in render\",\n                \"    \",\n                \"  File \\\"site-packages\\lbrynet\\daemon\\auth\\server.py\\\", line 249, in render\",\n                \"    \",\n                \"  File \\\"site-packages\\lbrynet\\daemon\\auth\\server.py\\\", line 387, in _render\",\n                \"    \",\n                \"---  ---\",\n                \"  File \\\"site-packages\\twisted\\internet\\defer.py\\\", line 150, in maybeDeferred\",\n                \"    \",\n                \"  File \\\"site-packages\\lbrynet\\daemon\\Daemon.py\\\", line 1974, in jsonrpc_claim_list_mine\",\n                \"    \",\n                \"  File \\\"site-packages\\lbrynet\\core\\Wallet.py\\\", line 1360, in get_name_claims\",\n                \"    \",\n                \"  File \\\"site-packages\\lbrynet\\core\\Wallet.py\\\", line 1288, in _run_cmd_as_defer_succeed\",\n                \"    \",\n                \"  File \\\"site-packages\\lbryum\\commands.py\\\", line 141, in func_wrapper\",\n                \"    \",\n                \"  File \\\"site-packages\\lbryum\\commands.py\\\", line 1304, in getnameclaims\",\n                \"    \",\n                \"  File \\\"site-packages\\lbryum\\commands.py\\\", line 739, in parse_and_validate_claim_result\",\n                \"    \",\n                \"exceptions.Exception: Certificate claim ede48f9106d1f3d793478290edc06853c0aa1e91 not found\",\n                \"\"\n            ]\n        },\n        \"message\": \"Certificate claim ede48f9106d1f3d793478290edc06853c0aa1e91 not found\"\n    },\n    \"id\": null,\n    \"jsonrpc\": \"2.0\"\n}. ",
    "vv181": "due to my limited git knowledge, I'm messed this up,\nhere is the new pull request https://github.com/lbryio/lbry/pull/780. ",
    "joemarchese": "First-timer here: \nI think this is happening because sqlite3 expects utf-8. Using os.path.abspath() may fix it. I'm not really sure where, though. Maybe in lbry/lbrynet/conf.py . ",
    "kenneth-reitz": "This should be relatively simple to solve. \nUse Python 3 :D\nI jest. . This hit me today. . ",
    "aa-novik": "I have the same problem with cyrillic usernames. I also had the same issue with Electrum, maybe this thread will help.. ",
    "okwme": "I had a claim with a support from myself.\nI re-published the claim to lower the initial amount, but my support amount can't be changed or removed at this point?\nAre my LBC completely locked up until this bug is fixed?. There's nothing listed in the documentation for CLI\nSlack help/tech channel pointed me here : (. i'm happy to abandon the claim for what it's worth\nOn Thu, Jul 27, 2017 at 11:47 PM Thomas Zarebczan notifications@github.com\nwrote:\n\n@kaykurokawa https://github.com/kaykurokawa are there any lbryum\ncommands we could use? Without breaking the claim?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/795#issuecomment-318495740, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA611GBgak71I6GxULtJ-A8M9Y96NFguks5sSQVTgaJpZM4OgQbi\n.\n. i've updated lbrynet-daemon but my lbrynet-cli still tells me claim_abandon usage is:\nclaim_abandon (<claim_id> | --claim_id=<claim_id>). \n",
    "tiger5226": "There is no restriction on where a Support is paid to in LBRYcrd. You could pay it to yourself, the claim_address, the fee_address or any address you want. Paying for content can easily be a support paid to the fee_address of the metadata. At that point the transaction is eternally linked to the claim_id.  So if someone loses their db files this can easily be parsed again. \nI think we can generalize support to be supporting claim functionality of LBRY. Any payment around the default behavior of LBRY like paying for claims, tipping claims, supporting claims, basically anything that is tied to a claim, like paying for channel membership even. Anything that can be associated with a claim. \nUntil an unspent TxO is spent it will support the claim. Meaning until the publisher spends or who ever it is sent to. This should not be a problem because the claimtrie is under constant changes anyway and its not in the trie forever.\nAgain to answer the question, once it is a support an outpoint is permanently linked to a claimid making proof of purchase guaranteed. Now since metadata can be changed, someone could change the fee address, this wont matter because the claimid remains the same after an update. . should this have been closed @tzarebczan ?. @alyssaoc This one. Maybe you closed it accidentally.. As a reference, just in case it is useful, swagger documentation is used for chainquery here. It is not complete yet but might be helpful. \nAlso it can be done really easily now with the open api designer. https://github.com/OAI/OpenAPI-Specification/issues/801\nLooks like it didn't get into 3.0 spec.. No I could not find anything on the status of that. There was communication where people said they hacked it in, but I didn't think we would want follow suite there. . This is what I was using as the URI for the above error.\nNo-Patrick#d48338daa499cbffdc389924f5ce464fcc00e8a2. I don't have the code I was using to produce that anymore. Looks like @tzarebczan was able to reproduce it with the lbrynet-cli. I just ran it with the version I have \nMacBook-Pro:~ Mark$ ./lbrynet-cli stream_availability No-Patrick#d48338daa499cbffdc389924f5ce464fcc00e8a2\nTraceback (most recent call last):\n  File \"lbrynet-cli-script.py\", line 2, in <module>\n  File \"site-packages/lbrynet/daemon/DaemonCLI.py\", line 111, in main\nKeyError: 'code'\nFailed to execute script lbrynet-cli-script\nMacBook-Pro:~ Mark$ ./lbrynet-cli version\n{\n  \"build\": \"rc\",\n  \"lbrynet_version\": \"0.20.0rc9\",\n  \"lbryschema_version\": \"0.0.15\",\n  \"lbryum_version\": \"3.2.1\",\n  \"os_release\": \"17.4.0\",\n  \"os_system\": \"Darwin\",\n  \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\",\n  \"processor\": \"i386\",\n  \"python_version\": \"2.7.13\"\n}\nMacBook-Pro:~ Mark$. @eukreign https://travis-ci.org/lbryio/lbry/jobs/428255582#L760 looking here it appears the integration tests provide an int instead of a float. Should we adjust the regex to allow for 1 or 1.0? Or should we update the integration test? I presume updating the integration test could break functionality if we ever rely on that scenario. Figured I would ask you before changing anything. . \n. @eukreign Just to confirm. All of the integration tests use numbers or floats, and our method only accepts strings now. 1 and 1.0 do not work, but \"1.0\" does work. \nI know that is what @lyoshenka specified but I just want to double check before I change all of these points for the PR. . I manually deleted the lbrynet binary and the daemon.zip file to force it to download it again. Below are the logs now: \n```\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:02:48,017 CRITICAL twisted:154: Unhandled error in Deferred:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:02:48,021 CRITICAL twisted:154: \n  Traceback (most recent call last):\n    File \"twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    File \"twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    File \"lbrynet/file_manager/EncryptedFileDownloader.py\", line 129, in _start\n    File \"twisted/internet/defer.py\", line 654, in _runCallbacks\n    File \"lbrynet/lbry_file/client/EncryptedFileDownloader.py\", line 48, in \n    File \"lbrynet/cryptstream/client/CryptStreamDownloader.py\", line 140, in _start\n    File \"lbrynet/cryptstream/client/CryptStreamDownloader.py\", line 155, in _get_download_manager\n  AttributeError: 'NoneType' object has no attribute 'get_info_exchanger'\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:06:26,730 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:06:26,736 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:06:41,801 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:09:17,349 ERROR    asyncio:1266: Task exception was never retrieved\n  future:  exception=UPnPError('M-SEARCH for 192.168.1.1:1900 timed out',)>\n  Traceback (most recent call last):\n    File \"aioupnp/gateway.py\", line 171, in _discover_gateway\n    File \"asyncio/tasks.py\", line 358, in wait_for\n    File \"aioupnp/protocols/ssdp.py\", line 173, in fuzzy_m_search\n    File \"aioupnp/protocols/ssdp.py\", line 166, in _fuzzy_m_search\n  aioupnp.fault.UPnPError: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:12:26,728 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:12:26,735 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:12:41,799 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:12:44,083 ERROR    asyncio:1266: Task exception was never retrieved\n  future:  exception=UPnPError('M-SEARCH for 192.168.1.1:1900 timed out',)>\n  Traceback (most recent call last):\n    File \"aioupnp/gateway.py\", line 171, in _discover_gateway\n    File \"asyncio/tasks.py\", line 358, in wait_for\n    File \"aioupnp/protocols/ssdp.py\", line 173, in fuzzy_m_search\n    File \"aioupnp/protocols/ssdp.py\", line 166, in _fuzzy_m_search\n  aioupnp.fault.UPnPError: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:18:26,732 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:18:26,738 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:18:41,787 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:23:30,332 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:23:30,566 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:23:45,442 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:23:45,664 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:24:26,728 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:24:26,733 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:24:41,802 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:24:43,687 ERROR    asyncio:1266: Task exception was never retrieved\n  future:  exception=UPnPError('M-SEARCH for 192.168.1.1:1900 timed out',)>\n  Traceback (most recent call last):\n    File \"aioupnp/gateway.py\", line 171, in _discover_gateway\n    File \"asyncio/tasks.py\", line 358, in wait_for\n    File \"aioupnp/protocols/ssdp.py\", line 173, in fuzzy_m_search\n    File \"aioupnp/protocols/ssdp.py\", line 166, in _fuzzy_m_search\n  aioupnp.fault.UPnPError: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:25:23,151 ERROR    asyncio:1266: Task exception was never retrieved\n  future:  exception=UPnPError('M-SEARCH for 192.168.1.1:1900 timed out',)>\n  Traceback (most recent call last):\n    File \"aioupnp/gateway.py\", line 171, in _discover_gateway\n    File \"asyncio/tasks.py\", line 358, in wait_for\n    File \"aioupnp/protocols/ssdp.py\", line 173, in fuzzy_m_search\n    File \"aioupnp/protocols/ssdp.py\", line 166, in _fuzzy_m_search\n  aioupnp.fault.UPnPError: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:30:26,731 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:30:26,738 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:30:41,801 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:33:36,442 ERROR    asyncio:1266: Task exception was never retrieved\n  future:  exception=UPnPError('M-SEARCH for 192.168.1.1:1900 timed out',)>\n  Traceback (most recent call last):\n    File \"aioupnp/gateway.py\", line 171, in _discover_gateway\n    File \"asyncio/tasks.py\", line 358, in wait_for\n    File \"aioupnp/protocols/ssdp.py\", line 173, in fuzzy_m_search\n    File \"aioupnp/protocols/ssdp.py\", line 166, in _fuzzy_m_search\n  aioupnp.fault.UPnPError: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:36:26,729 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:36:26,733 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:36:41,784 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n^C\n```\nSecond try after deleting the daemon.\n```\nMacBook-Pro:lbry-desktop Mark$ yarn dev\nyarn run v1.12.1\n$ electron-webpack dev\n\u250f Main -----------------------\nHash: 8dfd53653c3a4320e4dd\n  Version: webpack 3.12.0\n  Time: 659ms\n    Asset    Size  Chunks             Chunk Names\n  main.js  130 kB       0  [emitted]  main\n     [0] multi ./node_modules/electron-webpack/out/electron-main-hmr/main-hmr ./src/main/index.js 40 bytes {0} [built]\n  [./node_modules/devtron/api.js] ./node_modules/devtron/api.js 1.26 kB {0} [built]\n  [./node_modules/electron-webpack/out/electron-main-hmr/main-hmr.js] ./node_modules/electron-webpack/out/electron-main-hmr/main-hmr.js 559 bytes {0} [built]\n  [./package.json] ./package.json 3.73 kB {0} [built]\n  [./src/main/Daemon.js] ./src/main/Daemon.js 1.21 kB {0} [built]\n  [./src/main/createTray.js] ./src/main/createTray.js 858 bytes {0} [built]\n  [./src/main/createWindow.js] ./src/main/createWindow.js 3.92 kB {0} [built]\n  [./src/main/index.js] ./src/main/index.js 10.2 kB {0} [built]\n  [electron] external \"electron\" 42 bytes {0} [not cacheable]\n  [electron-devtools-installer] external \"electron-devtools-installer\" 42 bytes {0} [not cacheable]\n  [electron-is-dev] external \"electron-is-dev\" 42 bytes {0} [not cacheable]\n  [electron-updater] external \"electron-updater\" 42 bytes {0} [not cacheable]\n  [electron-webpack/out/electron-main-hmr/HmrClient] external \"electron-webpack/out/electron-main-hmr/HmrClient\" 42 bytes {0} [not cacheable]\n  [find-process] external \"find-process\" 42 bytes {0} [not cacheable]\n  [https] external \"https\" 42 bytes {0} [not cacheable]\n      + 8 hidden modules\n\u2517 ----------------------------\n\u250f Renderer -------------------\nContent not from webpack is served from /Users/Mark/WebstormProjects/lbry-desktop/static, /Users/Mark/WebstormProjects/lbry-desktop/dist/renderer-dll\n\u2517 ----------------------------\n\u250f Renderer -------------------\nHash: a7e19ec58b5ceff8677e\n  Version: webpack 3.12.0\n  Time: 24559ms\n                            Asset       Size  Chunks                    Chunk Names\n            fonts/400--inter.woff     199 kB          [emitted]       \n           fonts/400--inter.woff2     148 kB          [emitted]       \n           fonts/400i--inter.woff     208 kB          [emitted]       \n          fonts/400i--inter.woff2     156 kB          [emitted]       \n            fonts/500--inter.woff     210 kB          [emitted]       \n           fonts/500--inter.woff2     157 kB          [emitted]       \n           fonts/500i--inter.woff     218 kB          [emitted]       \n          fonts/500i--inter.woff2     164 kB          [emitted]       \n            fonts/600--inter.woff     211 kB          [emitted]       \n           fonts/600--inter.woff2     159 kB          [emitted]       \n           fonts/600i--inter.woff     218 kB          [emitted]       \n          fonts/600i--inter.woff2     164 kB          [emitted]       \n            fonts/700--inter.woff     213 kB          [emitted]       \n           fonts/700--inter.woff2     160 kB          [emitted]       \n           fonts/700i--inter.woff     220 kB          [emitted]       \n          fonts/700i--inter.woff2     165 kB          [emitted]       \n            fonts/800--inter.woff     217 kB          [emitted]       \n           fonts/800--inter.woff2     163 kB          [emitted]       \n           fonts/800i--inter.woff     224 kB          [emitted]       \n          fonts/800i--inter.woff2     168 kB          [emitted]       \n            fonts/900--inter.woff     214 kB          [emitted]       \n           fonts/900--inter.woff2     161 kB          [emitted]       \n           fonts/900i--inter.woff     220 kB          [emitted]       \n          fonts/900i--inter.woff2     165 kB          [emitted]       \n      fonts/variable--inter.woff2     269 kB          [emitted]  [big]\n  imgs/stripe-background--img.png    23.2 kB          [emitted]       \n                      renderer.js    7.41 MB       0  [emitted]  [big]  renderer\n                       styles.css    69.4 kB       0  [emitted]         renderer\n                       index.html  427 bytes          [emitted]       \n     [0] multi (webpack)-dev-server/client?http://localhost:62961 webpack/hot/dev-server ./src/renderer/index.js 52 bytes {0} [built]\n  [./node_modules/loglevel/lib/loglevel.js] ./node_modules/loglevel/lib/loglevel.js 8.66 kB {0} [built]\n  [./node_modules/strip-ansi/index.js] ./node_modules/strip-ansi/index.js 161 bytes {0} [built]\n  [./node_modules/webpack-dev-server/client/index.js?http://localhost:62961] (webpack)-dev-server/client?http://localhost:62961 7.93 kB {0} [built]\n  [./node_modules/webpack-dev-server/client/overlay.js] (webpack)-dev-server/client/overlay.js 3.67 kB {0} [built]\n  [./node_modules/webpack-dev-server/client/socket.js] (webpack)-dev-server/client/socket.js 1.08 kB {0} [built]\n  [./node_modules/webpack/hot/dev-server.js] (webpack)/hot/dev-server.js 1.59 kB {0} [built]\n  [./node_modules/webpack/hot/emitter.js] (webpack)/hot/emitter.js 89 bytes {0} [built]\n  [./node_modules/webpack/hot/log.js] (webpack)/hot/log.js 1.01 kB {0} [built]\n  [./package.json] ./package.json 3.73 kB {0} [built]\n  [./src/renderer/analytics.js] ./src/renderer/analytics.js 1.83 kB {0} [built]\n  [./src/renderer/app.js] ./src/renderer/app.js 1.53 kB {0} [built]\n  [./src/renderer/constants/action_types.js] ./src/renderer/constants/action_types.js 14.7 kB {0} [built]\n  [./src/renderer/index.js] ./src/renderer/index.js 8.08 kB {0} [built]\n  [./src/renderer/redux/actions/app.js] ./src/renderer/redux/actions/app.js 11.7 kB {0} [built]\n      + 453 hidden modules\n  Child html-webpack-plugin for \"index.html\":\n       1 asset\n      [./node_modules/html-loader/index.js?minimize=false!../../../../virtual/renderer-index.html] ./node_modules/html-loader?minimize=false!/virtual/renderer-index.html 374 bytes {0} [built]\n  Child extract-text-webpack-plugin node_modules/extract-text-webpack-plugin/dist node_modules/css-loader/index.js!node_modules/simplemde/dist/simplemde.min.css:\n      [./node_modules/css-loader/index.js!./node_modules/simplemde/dist/simplemde.min.css] ./node_modules/css-loader!./node_modules/simplemde/dist/simplemde.min.css 11.1 kB {0} [built]\n      [./node_modules/css-loader/lib/css-base.js] ./node_modules/css-loader/lib/css-base.js 2.28 kB {0} [built]\n  Child extract-text-webpack-plugin node_modules/extract-text-webpack-plugin/dist node_modules/css-loader/index.js!node_modules/sass-loader/lib/loader.js!src/renderer/scss/all.scss:\n       26 assets\n      [./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/renderer/scss/all.scss] ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/renderer/scss/all.scss 61.1 kB {0} [built]\n      [./node_modules/css-loader/lib/css-base.js] ./node_modules/css-loader/lib/css-base.js 2.28 kB {0} [built]\n      [./node_modules/css-loader/lib/url/escape.js] ./node_modules/css-loader/lib/url/escape.js 466 bytes {0} [built]\n      [./static/font/inter/400.woff] ./static/font/inter/400.woff 67 bytes {0} [built]\n      [./static/font/inter/400.woff2] ./static/font/inter/400.woff2 68 bytes {0} [built]\n      [./static/font/inter/400i.woff] ./static/font\n\u2517 ----------------------------\n\u250f Renderer -------------------\n/inter/400i.woff 68 bytes {0} [built]\n      [./static/font/inter/400i.woff2] ./static/font/inter/400i.woff2 69 bytes {0} [built]\n      [./static/font/inter/500.woff] ./static/font/inter/500.woff 67 bytes {0} [built]\n      [./static/font/inter/500.woff2] ./static/font/inter/500.woff2 68 bytes {0} [built]\n      [./static/font/inter/500i.woff] ./static/font/inter/500i.woff 68 bytes {0} [built]\n      [./static/font/inter/500i.woff2] ./static/font/inter/500i.woff2 69 bytes {0} [built]\n      [./static/font/inter/600.woff] ./static/font/inter/600.woff 67 bytes {0} [built]\n      [./static/font/inter/600.woff2] ./static/font/inter/600.woff2 68 bytes {0} [built]\n      [./static/font/inter/600i.woff] ./static/font/inter/600i.woff 68 bytes {0} [built]\n      [./static/font/inter/600i.woff2] ./static/font/inter/600i.woff2 69 bytes {0} [built]\n          + 15 hidden modules\n\u2517 ----------------------------\n\u250f Renderer -------------------\nInitial scan complete. Ready for changes\n\u2517 ----------------------------\n\u250f Electron -------------------\nDebugger listening on ws://127.0.0.1:5858/2ecb6b8b-561a-47f8-be11-0ac78b44e9f7\n  For help see https://nodejs.org/en/docs/inspector\n\u2517 ----------------------------\n\u250f Electron -------------------\nInstalling Devtron from node_modules/devtron\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:04,501 INFO     lbrynet.daemon.DaemonControl:67: Starting lbrynet-daemon from command line\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,383 INFO     lbrynet.daemon.auth.factory:48: Using non-authenticated API\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,383 INFO     lbrynet.daemon.auth.server:223: Not using SSL\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,388 INFO     lbrynet.daemon.auth.server:227: lbrynet API listening on TCP localhost:5279\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,389 INFO     lbrynet.daemon.Daemon:279: Starting lbrynet-daemon\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,496 INFO     lbrynet.daemon.Daemon:280: Platform: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,562 INFO     lbrynet.daemon.Components:134: Loading databases\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,563 INFO     lbrynet.database.storage:176: connecting to database: /Users/Mark/Library/Application Support/LBRY/lbrynet.sqlite\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,564 INFO     lbrynet.daemon.ExchangeRateManager:212: Starting exchange rate manager\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:05,617 INFO     lbrynet.core.RateLimiter:70: Starting rate limiter.\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:06,052 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:06,068 WARNING  aioupnp.gateway:186: found gateway UNKNOWN GATEWAY at b'http://192.168.1.1:1990/WFADevice.xml', but it does not implement required soap commands: ['AddPortMapping', 'DeletePortMapping', 'GetExternalIPAddress']\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:06,300 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:06,543 INFO     lbrynet.daemon.Daemon:832: Get version info: {\"processor\": \"i386\", \"python_version\": \"3.6.5\", \"platform\": \"Darwin-17.4.0-x86_64-i386-64bit\", \"os_release\": \"17.4.0\", \"os_system\": \"Darwin\", \"lbrynet_version\": \"0.30.0\", \"lbryschema_version\": \"0.0.16\", \"build\": \"release\", \"ip\": \"73.215.186.214\"}\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:07,788 INFO     torba.basenetwork:62: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:08,199 INFO     lbrynet.daemon.Components:269: remote height: 464767, local height: 464755\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,147 WARNING  lbrynet.daemon.Components:711: upnp discovery failed: M-SEARCH for 192.168.1.1:1900 timed out\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,151 ERROR    lbrynet.daemon.Components:781: failed to setup upnp\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,176 INFO     lbrynet.dht.protocol:189: DHT listening on UDP 4444 (ext port 4444)\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,181 INFO     lbrynet.daemon.Components:440: Started the dht\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,183 INFO     lbrynet.daemon.Components:353: Starting torba wallet\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: Unhandled error in Deferred:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,280 CRITICAL twisted:154: Unhandled error in Deferred:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,280 CRITICAL twisted:154: \n  Traceback (most recent call last):\n    File \"twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    File \"twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n  StopIteration\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n    File \"twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    File \"lbrynet/core/log_support.py\", line 33, in _emit\n    File \"treq/api.py\", line 33, in post\n    File \"treq/client.py\", line 130, in post\n    File \"treq/client.py\", line 207, in request\n  TypeError: ('Could not adapt', '{\"loggerName\": \"lbrynet.daemon.Components\", \"asciTime\": \"2018-11-05 13:38:21,151\", \"fileName\": \"Components.py\", \"functionName\": \"start\", \"levelNo\": 40, \"lineNo\": 781, \"levelName\": \"ERROR\", \"message\": \"failed to setup upnp\", \"level\": 40, \"installation_id\": \"6RnbZfWSDW37FngTBaCdmRApiKo4eLJjRYQUt9y3r29YnM31bw58j5kPxbYjDEzJoE\", \"session_id\": \"2gKNaE9V1cJLuuEL9H7sisP1Ab73kS3FBWoZcBg3Zzq5hxLdDP2EurtqQnpVu1Y1bZ\"}', )\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,284 INFO     torba.basedatabase:164: connecting to database: /Users/Mark/.lbryum/lbc_mainnet/blockchain.db\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:21,335 INFO     lbrynet.dht.node:239: Attempting to join the DHT network, 0 contacts known so far\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:32,672 INFO     torba.basenetwork:62: Successfully connected to SPV wallet server: lbryumx1.lbry.io:50001\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:32,673 INFO     torba.baseledger:215: Subscribing and updating accounts.\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:33,104 INFO     torba.baseledger:101: lbc_mainnet: added BlockHeightEvent(height=464767, change=12) header blocks, final height 464767\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:33,934 ERROR    lbrynet.daemon.Component:61: Error setting up wallet\n  Traceback (most recent call last):\n    File \"lbrynet/daemon/Component.py\", line 55, in _setup\n    File \"twisted/internet/defer.py\", line 1416, in _inlineCallbacks\n    File \"twisted/python/failure.py\", line 491, in throwExceptionIntoGenerator\n    File \"lbrynet/daemon/Components.py\", line 358, in start\n    File \"twisted/internet/defer.py\", line 824, in adapt\n    File \"torba/basemanager.py\", line 73, in start\n    File \"lbrynet/wallet/ledger.py\", line 77, in start\n    File \"torba/baseledger.py\", line 211, in start\n    File \"torba/baseledger.py\", line 218, in join_network\n    File \"torba/baseledger.py\", line 305, in update_accounts\n    File \"torba/baseledger.py\", line 312, in update_account\n    File \"torba/baseledger.py\", line 379, in subscribe_history\n    File \"torba/baseledger.py\", line 345, in update_history\n    File \"torba/basedatabase.py\", line 419, in get_transaction\n    File \"torba/basedatabase.py\", line 368, in get_transactions\n    File \"torba/basedatabase.py\", line 359, in select_transactions\n    File \"concurrent/futures/thread.py\", line 56, in run\n    File \"torba/basedatabase.py\", line 45, in __fetchall\n  sqlite3.OperationalError: no such column: position\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: Unhandled error in Deferred:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:33,937 CRITICAL twisted:154: Unhandled error in Deferred:\n\u2517 ----------------------------\n\u250f Electron -------------------\nDaemon: 2018-11-05 13:38:33,938 CRITICAL twisted:154: \n  sqlite3.OperationalError: no such column: position\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n    File \"twisted/internet/defer.py\", line 1418, in _inlineCallbacks\n    File \"lbrynet/core/log_support.py\", line 33, in _emit\n    File \"treq/api.py\", line 33, in post\n    File \"treq/client.py\", line 130, in post\n    File \"treq/client.py\", line 207, in request\n  TypeError: ('Could not adapt', '{\"loggerName\": \"lbrynet.daemon.Component\", \"asciTime\": \"2018-11-05 13:38:33,934\", \"fileName\": \"Component.py\", \"functionName\": \"_setup\", \"levelNo\": 40, \"lineNo\": 61, \"levelName\": \"ERROR\", \"message\": \"Error setting up wallet\", \"level\": 40, \"installation_id\": \"6RnbZfWSDW37FngTBaCdmRApiKo4eLJjRYQUt9y3r29YnM31bw58j5kPxbYjDEzJoE\", \"session_id\": \"2gKNaE9V1cJLuuEL9H7sisP1Ab73kS3FBWoZcBg3Zzq5hxLdDP2EurtqQnpVu1Y1bZ\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"lbrynet/daemon/Component.py\\\", line 55, in _setup\\n  File \\\"twisted/internet/defer.py\\\", line 1416, in _inlineCallbacks\\n  File \\\"twisted/python/failure.py\\\", line 491, in throwExceptionIntoGenerator\\n  File \\\"lbrynet/daemon/Components.py\\\", line 358, in start\\n  File \\\"twisted/internet/defer.py\\\", line 824, in adapt\\n  File \\\"torba/basemanager.py\\\", line 73, in start\\n  File \\\"lbrynet/wallet/ledger.py\\\", line 77, in start\\n  File \\\"torba/baseledger.py\\\", line 211, in start\\n  File \\\"torba/baseledger.py\\\", line 218, in join_network\\n  File \\\"torba/baseledger.py\\\", line 305, in update_accounts\\n  File \\\"torba/baseledger.py\\\", line 312, in update_account\\n  File \\\"torba/baseledger.py\\\", line 379, in subscribe_history\\n  File \\\"torba/baseledger.py\\\", line 345, in update_history\\n  File \\\"torba/basedatabase.py\\\", line 419, in get_transaction\\n  File \\\"torba/basedatabase.py\\\", line 368, in get_transactions\\n  File \\\"torba/basedatabase.py\\\", line 359, in select_transactions\\n  File \\\"concurrent/futures/thread.py\\\", line 56, in run\\n  File \\\"torba/basedatabase.py\\\", line 45, in __fetchall\\nsqlite3.OperationalError: no such column: position\"}', )\n```. this is from having an older blockchain.db file. Once that is removed, it allows the app to start up. \n@eukreign - Not sure if this should be addressed in the daemon or not as a normal user would not know to do this. . I guess I am curious about the details. Should we be using the daemon directly? We do have the reflector and blobs on S3 already. Would it be better to add an api to the reflector.go app? I presume this is for LBRY on the web. We have a peer server built in, we can spin up multiple instances, it scales etc. The daemon is mainly used by one user at a time. The reflector has already proved to be robust at delivering content effectively. Plus we can load balance smoothly with it by spinning up many peer servers with the addition of the API. . oic. All clear. . This is causing steady errors on internal-apis see https://github.com/lbryio/internal-apis/issues/726. b is listed twice?. ",
    "OwenRay": "Button that says \"Link card and finish\" I'll take some screenshots and enable the dev console, once I get the chance (later today). Ok, I will, thanks for the heads up.. this is fixed in v0.14.0rc4. ",
    "IGassmann": "Daemon is not signed under the last release (v0.19.0) tested.. The error was happening due to policy changes from AppVeyor aimed to prevent abuses. Fortunately, the error isn't happening anymore.. @tzarebczan I made some progress, but it's on standby due to a more important issue: https://github.com/lbryio/lbrycrd/pull/102#issuecomment-376917308. CI build fails if mkdocs build produces an output. @lyoshenka is this the expected behavior?. ",
    "aayanl": "One thing to consider is, should comments be pushed to the blockchain or not. Pushing them to the blockchain is decentralized but costs tx fees and is slow. The other option is sending them to lbry servers and they host it but that's centralized. sure. ",
    "ordex": "@lyoshenka Are planning to be fully compatible with other DHT libraries? If not, the first point is probably not really needed, while the others all sound meaningful.\nThis said, shortening the rpcID and refactoring the headerArgs could probably go in now, but I'd wait before considering the rest as they may introduce more inconsistencies in our DHT.\nOTOH, since #1007 is going to break BC, we might want to hold it a bit longer and implement more changes, but I am not sure this is a good idea.\nWhat do you think?. Speaking about DHTv2: is there any plan to port the DHT to a different language? I have seen that Go is becoming popular among the team, but I am not sure what's the plan going forward.. > But changes need to be made to the lbrynet classes using getPeersForBlob() to handle cases where it receives itself as a blob source, otherwise it may try to download blobs from itself.\n@kaykurokawa how do we currently handle the case of several nodes behind the same NAT? Are peers able to distinguish this case? I believe that only the external IP is announced, right? If so, a node won't be able to understand if the peer list contains itself or another node behind the same router (thus sharing the public IP). @lyoshenka thanks for your comments!\n\nHow does this interact with the port setting in the config file?\n\nThis interaction is the same as it was before this patch, because none of this logic is being altered.\n\nIf the user selected a port to use, it should always use that port and error if that port is not available. A  lot of our servers have firewalls that block all ports except those that we allow, so we need to listen on one port and one port only.\n\nYeah, I totally agree here.\nShould we better open a ticket and work on that in a separate PR, so to keep this change as it is?\nOr do prefer to kill this PR and directly implement the suggested logic?. Just checking the surrounding code: it seems that a node will still announce its originally configured port, even though the upnp setup has selected a different one.. At this point I suggest we drop this PR. I'll then come up with something that takes care of all the comments above.. About the port reachability test: if I am not wrong, the DHT protocol already does some kind of self lookup right after boot in order to populate its routing table (and to inject itself in the routing table of the others). If for a given a amount of time after startup we don't hear from anybody else with a public IP, then we know we are isolated.\nI think this might be a simpler approach as we would not need to implement a new method.. @lyoshenka correct, it's #1007 . This issue is related to #974 as this is the logic for storing IPs in the DHT.. @lyoshenka yes. Hi, even though the error is now hidden (in the 'debug' log level) it is yet not fixed. I get the warning consistently while running lbrynet-daemon. Shouldn't this be fixed?. >  b) have conf.py detect if a setting has been touched by the user\nI addressed b) with my two new commits as I was already digging around the conf.py code. Please let me know if that kind of approach is reasonable. Thanks!. Something for @kaykurokawa : when the user specified a port in the config and this port is already mapped (i.e. by another host in the LAN), the upnp setup now fails and throws an exception. This exception is handled by sending a shutdown signal to the reactor.\nEverything looks ok except for the Wallet which throws an exception. My guess is that the cleanup routine of the wallet, triggered by the shutdown, is trying to cleanup something that was not yet initialized at that point. It's not a major problem because the node is shutting down and it actually stops, but we might want to have a look at that.\nEDIT: addressed by Wallet: don't attempt to stop if never started. Another note: now that we are advertising the \"external port\" (i.e. the one mapped by the upnp service) we should ensure that nodes also advertise their external IP. If not, nodes in the same LAN won't be able to connect when the mapped port is different from the one they are actually listening to.\nI am working on this in my next PR.. * rebased on top of latest master\n merged patches doing and undoing the same code\n removed DEFAULT_*_PORTs from FIXED_SETTINGS since they are not used anymore. Thanks for the unit test @kaykurokawa .\nThere is no more work for this PR.. @kaykurokawa with this updated PR I am changing the way message headers are constructed so they can contain the external IP/port that a receiver should store in the DHT (rather than using the UDP source). Any reasonable way to test this new logic? What would you recommend?. @kaykurokawa due to the fact that I am adding new fields to the messages headers (the IP is now advertised via header as well) I also introduced the compatibility version field.\nWe quickly discussed about this in the past. Its goal is to avoid that nodes \"speaking\" an old wire protocol can crash on unknown message formats.\nWe should test this carefully to make sure it works as expected. Tests are all passing so far.. Given that with this PR the external IP is sent via message header, it gets useful to allow the user to set the IP manually instead of letting the node autodetect it. For this reason a new key 'external_ip' has been added to the configuration settings.\nThis is especially useful when testing a bunch of nodes on localhost: the IP should be manually set to 127.0.0.1 so that all the instances will be able to reach each other without passing through the public IP (which won't work when upnp is not used).. @kaykurokawa I haven't tested that, but I believe the decoder will throw an exception because it won't be able to match the keys of the dictionary representing the msg format. Would you be able to test this in lbry-in-a-box with two nodes (one running the plain code and one running this pr)?. @kaykurokawa I added a commit to convert the return to exception (in case of mismatching compat version).\nI also fixed a small glitch I introduced during the last rebase in \"Daemon: avoid exceptions on premature shutdown\".. @jackrobison @eukreign I have rebased my branch on top of latest master and I addressed your comments. However Appveyor does not seem to be happy. Anybody can understand what's wrong from its log?\nI also see it is still using miniupnpc 1.9 instead of 2.0.2 (I updated requirements.txt but I guess it is pulling the version from somewhere else)\nedit: found where it's pulling 1.9 from. miniupnpc-2.0.2 seems to be ok now (after some mingw surgery), however Appveyor is still exploding. rebased on top of latest master. @jackrobison I think the changes are somehow intertwined, but I definitely understand your point.\nI will dig into the commits a bit and see how to split them into 2 separate PRs.. @jackrobison I think I have removed all the changes affecting the DHT wire format. I like the idea of not having it in ADJUSTBALE_SETTINGS. I'll try to rework this change.. Without this flag it is not possible to interact with different daemons running on the same host while using different configs.. changelog modified. Renaming this PR as I am adding another fix that makes --conf behave saner.. comments addressed. Thanks for the feedback!. @jackrobison first 2 comments addressed and pushed. and rebased on top of latest master to get rid of the conflict. lbrynet.tests.functional.test_misc.TestTransfer.test_lbry_transfer test is failing in travis-ci with sqlite3.OperationalError: disk I/O error. Shouldn't be related to my PR.. I think it means: if this peer_list has been received from node X (where X != me) and I have '127.0.0.1' in the list, then substitute 127.0.0.1 address with X's address. Basically the code assumes that X had written 127.0.0.1 in the peer_list to represent itself, but to 'me' 127.0.0.1 does not make sense, therefore I use the real X's address.\nTo my understanding nobody is expected to store 127.0.0.1 in the DHT, therefore this should never happen. My guess is that this chunk was here to work around some bug.\ndoes it make sense?. Right. Theoretically all private addresses could be prevented from being stored in the DHT (127.0.0.0/8, 10.0.0.0/8, 172.16.0.0/12 and 192.168.0.0/16). Although there might be some cases where announcing private addresses may make sense, I believe it does not when nodes are connecting to the \"global\"/\"public\" DHT.\nTherefore it should be safe to reject the store command and print some warning.\nThis is probably worth another patch.. (assume that I have not dug yet in the downloader code) I am wondering if knowing that self already has the blob could be a useful information to avoid downloading it again. Or is this case handled differently by the downloader (i.e. the downloader checks the blob directory directly before issuing a request)?. OK, it makes sense. Thanks for clarifying!. just a thought here: what happens if a rpc method is invoked on a node that does not implement that method at all?\nImagine in 0.21 a new 'XXX' command gets implemented.\nThen a 0.21 node tries to call 'XXX' on an older one. What will the latter say? \nWill it send an error message or will the node ignore it gracefully? Will the caller node properly handle the error?\n(sorry if this problem was already discussed/solved elsewhere, but it just popped up while reading this chunk). Is this something you want me to change in this PR? I was planning to actually \"use\" the external port fields in a next PR.. > Not sure if this is the best way to do this since ADJUSTABLE_SETTINGS is meant to store the default value.. so if you do the daemon API command settings_get, you will get back that dht_node_port and peer_port is None if user haven't set them, which can cause confusion.\nI see - this wasn't clear from the code. I will fix that.\n\nAnother problem is if the user wants to set the dht_node_port to some other non default value but also still wants to UPNP to map to any port, this is not possible.\n\nRight, but apparently this was not wanted by design (check https://github.com/lbryio/lbry/pull/973#issuecomment-340514271).\n\nI think alternatively, we can create another setting like 'upnp_any_port_mapping' that turns this feature on/off. This solution seems cleaner to me.\n\nEither strategy works for me. Maybe @lyoshenka has an opinion here?. >> I think alternatively, we can create another setting like 'upnp_any_port_mapping' that turns this feature on/off. This solution seems cleaner to me.\n\nEither strategy works for me. Maybe @lyoshenka has an opinion here?\n\nby the way, my opinion about this point: if a user is configuring a specific port, his goal is probably to let that port be the one used \"outside\" (i.e. due to specific firewall rules) and therefore does not want the auto-selection to be in place.\nI am sure there might be some use cases where having the possibility to set a specific port and having the automatic external port selection enabled might be helpful.\nHowever, I think those cases are not worth the introduction of yet another config knob because it will increase the configuration complexity for very little gain.. Yes, right, but this is what is already happening right now in the code. It is not introduced by this PR.\nBut I can append some more commits. I just wanted to push some work out for review and this is happening already :). > OR, we need to create a mechanism in the conf.py that detects if some setting has been touched by the user or not because that doesn't exist right now.\nThis is probably a good the cleanest approach (setting None was just a way to work around that missing part).. yeah, you are right. it can be removed. potentially yes, but it's reserved and can't really be used, so we could also exclude it from the range. the check has been changed. @kaykurokawa do we already have some function to pack an IP address in binary form instead of sending the whole string? I guess we can just do that with some python primitive?. I am converting IP from str to binary form using:  [int(x) for x in message.nodeIP.split('.')] and then back with \".\".join([str(d) for d in msgPrimitive[self.headerNodeIP][:4]]). Yeah, that would be more inline with our coding style. I will change that following your suggestion. Thanks!\n  . This change is part of this commit https://github.com/lbryio/lbry/pull/1007/commits/15fcd9a5f6df3aa1b534846c912003ccab2ff6f9\nBasically I realized that when upnp fails and a shutdown is triggered in the middle of the startup, the blob_manager initialization is also stopped (as expected), but other routines still try to access it.\nI added this check to prevent them from hitting the initialized object and explode.. oky. yeah, makes sense. I'll move it. I normally prefer to keep the returns out, but if like this style, I'll follow that.\nFor the function arguments, I really prefer to see them aligned to the opening parenthesis, unless we have a codestyle suggesting not to. ops, thanks (for both)!. more lines of code are good if they increase readability. But I understand in this case there is no real gain.\nImho having the return at the end of the function with a specific variable makes you understand that, no matter what happens, we will return the content of that little box. How it is computed may be of interest or may not.\nWhile having the returns into indented blocks forces you to dig in to understand what we are really returning. Well, I guess in python you'd need to do that anyway because there is not strict typing...so ext_port may contain any type of object..\nI'll move the returns inside.\nAbout the extra variable: I am used to compiled languages where you don't really care about it because it gets optimized out. Often in the linux kernel extra variables are used to avoid long conditions/expressions/lines and it works pretty well in my experience.\nBut I guess in python this does not happen as it is a scripted language with sequential parsing. I'll remove it.\nThanks for your feedback. I am documenting it as part of the print_help() usage example. Let me know if it's enough. Thanks! I overlooked that list() evaluates to False when empty.\nAbout the external for: I copy/pasted from printContacts() :) maybe we should clean that too (and not only that). change applied. I ended up using this simpler version:\npython\n204     def hasContacts(self):\n205         for bucket in self._routingTable._buckets:\n206             if bucket._contacts:\n207                 return True\n208         return False. makes sense. Will fix!. ops, right. will take care of that. right now there are at least two spots where initialize_post_conf_load() is invoked, therefore we should copy those two lines in both spots..I believed having a function could make the code slimmer.\nOn top of that, if in the future we should have more fields that require the config to be loaded first, we can simply add more lines to that function while keeping the rest of the code compact.\nLast thing: having them in a function with a proper name makes it clear \"why\" we are doing that (I know that also a comment would work..but yeah).\nDo you think I should still remove the function?. weird, addanyportmapping is supposed to assign the first available port starting from the one specified as argument. Basically it is doing what we were doing before in our routine, but in an atomic and non-racy way. This is the main reason why I introduced it. It should then return the assigned port or none if it couldn't find a port.\nBut it sounds like you observed a different behaviour?. ",
    "ofek": "@jackrobison Ok then, fixed.. pin to 2.0.3 instead to benefit from binary wheels for linux. Please pin to 2.0.3 instead to benefit from fixes and binary wheels for Linux.. ",
    "kadinparker": "Can someone confirm that this is still an issue? Currently cannot reproduce. ",
    "Makgolli": "It is still an issue in version 16.0.\nThe app tries to create the download directory specified in the settings.\nIf there is no write permission in that directory for the current user,\nthen the Daemon shuts down.\nOn 22 September 2017 at 08:20, Miroslav Kovar notifications@github.com\nwrote:\n\nThis doesn't seem to be an issue anymore. On\n{\n\"build\": \"dev\",\n\"installation_id\": \"6QapiUUrkTfiks6jiQnecv8pXixxm1\nLncbgGB32x6nXpQ1aipjikPboVJM4UxsXruR\",\n\"lbrynet_version\": \"0.16.1-4-g4a04018\",\n\"lbryschema_version\": \"0.0.11rc1\",\n\"lbryum_version\": \"3.1.7rc5\",\n\"os_release\": \"4.10.0-35-generic\",\n\"os_system\": \"Linux\",\n\"platform\": \"Linux-4.10.0-35-generic-x86_64-with-Ubuntu-16.04-xenial\",\n\"processor\": \"x86_64\",\n\"python_version\": \"2.7.12\"\n}\nthe daemon rebuilds the file:\n2017-09-22 09:15:34,572 INFO lbrynet.daemon.Daemon:1513: Already have lbry\nfile but missing file in /home/miroslav/Videos/lbry, rebuilding it\nThis issue should be closed?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/877#issuecomment-331370982, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AbNyIaoJFCIL8J-4qPQOt8DHG_JAvtS7ks5sk1_PgaJpZM4PF6I4\n.\n. \n",
    "rfyiamcool": "Yes, I know . ",
    "DOnTheRiverC": "Seeing nearly identical behavior all of today (02/09/17). LBRY was working fine for me yesterday and today it wont load a single video, no LBRY source would load. I clicked on a link and it would appear that a video was loading and then I would get the error message - \n\nWe're sorry that LBRY has encountered an error. This has been reported and we will investigate the problem. \n\nhttps://pasteboard.co/GIwhLhC.jpg\n\nYour copy of LBRY is up to date.\nApp 0.15.0\nDaemon (lbrynet)    0.15.1\nWallet (lbryum) 3.1.6\nConnected Email none (set email)\nReward Eligible \nPlatform    Linux (Linux-4.11.0-13-generic-x86_64-with-LinuxMint-18.1-serena)\nInstallation ID 9skA4eShTGCxjDVv9YvfJEvhGjsyt7x6fT1NHPEBw3zA3gcKwEHACb5dDFUMrRJpfm\nAccess Token    show. Followed the guide below and added the port but made no difference\nhttps://lbry.io/faq/unable-to-stream. Sorry for the late addition but log file now attached\nlbrynet.log.zip\n. ",
    "reillysmith": "I'm going to add to this: YouTube \"verification\" should not be associated with ID verification at all. This needs to be a totally separate feature in the app for publishers. The criteria being passed for verification is not, \"is this a real person?\" It's \"do you meet the threshold for being in the YouTube sync pipeline.\" Less than 1% of users of LBRY will need to use this button.. ",
    "d4amenace": "It is attached. \n\u2063Sent from BlueMail \u200b\nOn Sep 8, 2017, 2:36 PM, at 2:36 PM, Thomas Zarebczan notifications@github.com wrote:\n\nI saw your bug report come in. US ips are definitely not being blocked,\nhow did you come to this conclusion? We are not blocking any types of\nips from connecting.  Can you provide your log file when trying to\nstart from a US IP?\nhttps://lbry.io/faq/how-to-find-lbry-log-file\n-- \nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub:\nhttps://github.com/lbryio/lbry/issues/894#issuecomment-328194940\n\n2017-09-02 17:06:44,910 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 17:06:46,855 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 17:06:46,859 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 17:06:47,375 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 17:06:48,009 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 17:06:48,033 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 17:06:48,036 WARNING  lbrynet.daemon.Daemon:482: db_revision file not found. Creating it\n2017-09-02 17:06:48,048 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 17:06:48,058 INFO     lbrynet.daemon.Daemon:499: Upgrading your databases\n2017-09-02 17:06:48,059 INFO     lbrynet.db_migrator.migrate1to2:9: Doing the migration\n2017-09-02 17:06:48,059 INFO     lbrynet.db_migrator.migrate1to2:11: Migration succeeded\n2017-09-02 17:06:48,059 INFO     lbrynet.db_migrator.migrate2to3:9: Doing the migration\n2017-09-02 17:06:48,059 INFO     lbrynet.db_migrator.migrate2to3:11: Migration succeeded\n2017-09-02 17:06:48,061 INFO     lbrynet.daemon.Daemon:495: Finished upgrading the databases.\n2017-09-02 17:06:48,062 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 17:06:52,073 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 17:06:52,329 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 17:06:52,335 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 17:06:52,335 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 17:06:52,335 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 17:06:52,746 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 17:06:58,535 INFO     lbrynet.core.Wallet:1261: Local Height: 233571, remote height: 233571, behind: 0\n2017-09-02 17:06:58,536 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 17:06:58,536 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 17:06:58,736 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 17:06:58,737 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 17:06:58,740 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 17:06:58,838 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 17:06:58,838 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 17:06:58,838 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 17:06:58,838 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 17:06:58,839 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 17:06:58,842 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 17:06:58,846 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 17:06:58,848 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 17:06:58,848 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 17:06:58,849 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 17:06:58,851 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 17:06:58,851 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 17:06:58,851 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 17:06:58,851 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 17:06:58,851 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 17:06:58,851 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 17:06:58,851 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 17:06:58,871 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 17:06:58,871 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 17:06:58,871 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 17:06:58,875 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 17:06:58,875 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 17:06:58,875 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 17:06:58,877 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 17:06:58,877 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 17:34:57,405 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 17:34:59,352 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 17:34:59,357 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 17:34:59,785 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 17:35:00,410 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 17:35:00,414 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 17:35:00,417 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 17:35:00,426 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 17:35:04,430 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 17:35:04,711 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 17:35:04,716 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 17:35:04,716 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 17:35:04,717 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 17:35:04,976 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 17:35:05,371 INFO     lbrynet.core.Wallet:1261: Local Height: 233571, remote height: 233581, behind: 10\n2017-09-02 17:35:05,805 INFO     lbrynet.core.Wallet:1261: Local Height: 233571, remote height: 233581, behind: 8\n2017-09-02 17:35:07,250 INFO     lbrynet.core.Wallet:1261: Local Height: 233581, remote height: 233581, behind: 0\n2017-09-02 17:35:07,250 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 17:35:07,250 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 17:35:07,351 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 17:35:07,351 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 17:35:07,355 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 17:35:07,368 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 17:35:07,368 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 17:35:07,368 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 17:35:07,369 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 17:35:07,369 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 17:35:07,374 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 17:35:07,378 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 17:35:07,378 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 17:35:07,378 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 17:35:07,380 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 17:35:07,381 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 17:35:07,381 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 17:35:07,381 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 17:35:07,381 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 17:35:07,381 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 17:35:07,382 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 17:35:07,382 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 17:35:07,398 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 17:35:07,398 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 17:35:07,398 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 17:35:07,400 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 17:35:07,401 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 17:35:07,401 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 17:35:07,401 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 17:35:07,401 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 18:03:49,651 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 18:03:51,644 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 18:03:51,648 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 18:03:52,076 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 18:03:52,707 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:03:52,711 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 18:03:52,717 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 18:03:52,724 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:03:56,750 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 18:03:57,009 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 18:03:57,013 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 18:03:57,013 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 18:03:57,013 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 18:03:57,253 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 18:03:57,555 INFO     lbrynet.core.Wallet:1261: Local Height: 233581, remote height: 233593, behind: 12\n2017-09-02 18:03:58,040 INFO     lbrynet.core.Wallet:1261: Local Height: 233581, remote height: 233593, behind: 10\n2017-09-02 18:03:59,786 INFO     lbrynet.core.Wallet:1261: Local Height: 233593, remote height: 233593, behind: 0\n2017-09-02 18:03:59,786 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 18:03:59,788 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 18:03:59,888 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 18:03:59,888 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 18:03:59,891 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 18:03:59,905 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 18:03:59,905 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 18:03:59,907 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 18:03:59,907 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 18:03:59,907 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 18:03:59,911 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 18:03:59,915 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 18:03:59,915 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 18:03:59,917 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 18:03:59,917 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 18:03:59,918 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 18:03:59,920 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 18:03:59,920 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 18:03:59,920 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 18:03:59,920 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 18:03:59,920 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 18:03:59,920 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 18:03:59,934 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 18:03:59,934 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 18:03:59,934 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 18:03:59,936 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 18:03:59,936 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 18:03:59,937 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 18:03:59,937 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 18:03:59,937 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 18:04:44,614 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 18:04:46,418 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 18:04:46,423 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 18:04:46,497 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 18:04:47,125 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:04:47,128 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 18:04:47,132 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 18:04:47,141 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:04:51,141 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 18:04:51,252 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 18:04:51,255 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 18:04:51,255 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 18:04:51,255 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 18:04:51,410 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 18:04:51,767 INFO     lbrynet.core.Wallet:1261: Local Height: 233593, remote height: 233593, behind: 0\n2017-09-02 18:04:51,767 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 18:04:51,769 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 18:04:52,184 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 18:04:52,184 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 18:04:52,187 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 18:04:52,200 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 18:04:52,200 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 18:04:52,200 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 18:04:52,200 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 18:04:52,200 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 18:04:52,203 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 18:04:52,207 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 18:04:52,209 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 18:04:52,209 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 18:04:52,210 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 18:04:52,210 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 18:04:52,211 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 18:04:52,211 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 18:04:52,211 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 18:04:52,211 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 18:04:52,211 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 18:04:52,211 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 18:04:52,213 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 18:04:52,213 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 18:04:52,213 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 18:04:52,213 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 18:04:52,214 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 18:04:52,214 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 18:04:52,216 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 18:04:52,217 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 18:09:37,529 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 18:09:39,351 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 18:09:39,355 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 18:09:39,914 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 18:09:40,546 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:09:40,549 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 18:09:40,555 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 18:09:40,562 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:09:44,566 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 18:09:44,681 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 18:09:44,684 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 18:09:44,684 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 18:09:44,686 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 18:09:44,838 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 18:09:45,039 INFO     lbrynet.core.Wallet:1261: Local Height: 233593, remote height: 233595, behind: 2\n2017-09-02 18:09:45,536 INFO     lbrynet.core.Wallet:1261: Local Height: 233595, remote height: 233595, behind: 0\n2017-09-02 18:09:45,536 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 18:09:45,538 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 18:09:45,638 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 18:09:45,638 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 18:09:45,641 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 18:09:45,653 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 18:09:45,653 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 18:09:45,653 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 18:09:45,654 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 18:09:45,655 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 18:09:45,657 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 18:09:45,663 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 18:09:45,664 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 18:09:45,665 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 18:09:45,667 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 18:09:45,667 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 18:09:45,668 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 18:09:45,668 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 18:09:45,668 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 18:09:45,668 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 18:09:45,668 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 18:09:45,668 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 18:09:45,683 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 18:09:45,684 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 18:09:45,684 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 18:09:45,684 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 18:09:45,684 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 18:09:45,686 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 18:09:45,687 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 18:09:45,687 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 18:12:56,039 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-02 18:12:57,565 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-02 18:12:57,569 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-02 18:12:57,615 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-02 18:12:58,056 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"73.9.238.45\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:12:58,061 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-02 18:12:58,065 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-02 18:12:58,075 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"73.9.238.45\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-02 18:12:58,163 INFO     lbrynet.core.Session:213: Set UPnP redirect for TCP port 3333\n2017-09-02 18:12:58,224 INFO     lbrynet.core.Session:224: Set UPnP redirect for UDP port 4444\n2017-09-02 18:12:58,226 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-02 18:12:58,278 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-02 18:12:58,282 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-02 18:12:58,282 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-02 18:12:58,282 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-02 18:12:58,387 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-02 18:12:58,746 INFO     lbrynet.core.Wallet:1261: Local Height: 233595, remote height: 233596, behind: 1\n2017-09-02 18:12:58,854 INFO     lbrynet.core.Wallet:1261: Local Height: 233596, remote height: 233596, behind: 0\n2017-09-02 18:12:58,854 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-02 18:12:58,855 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-02 18:12:59,276 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-02 18:12:59,278 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-02 18:12:59,279 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-02 18:12:59,292 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-02 18:12:59,292 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-02 18:12:59,292 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-02 18:12:59,292 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-02 18:12:59,293 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-02 18:12:59,298 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-02 18:12:59,302 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-02 18:12:59,302 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-02 18:12:59,302 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-02 18:12:59,303 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-02 18:12:59,305 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-02 18:12:59,305 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-02 18:12:59,305 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-02 18:12:59,305 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-02 18:12:59,305 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-02 18:12:59,305 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-02 18:12:59,306 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-02 18:12:59,319 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-02 18:12:59,319 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-02 18:12:59,319 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-02 18:12:59,321 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-02 18:12:59,322 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-02 18:12:59,322 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-02 18:12:59,322 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-02 18:12:59,322 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-02 18:12:59,410 INFO     lbrynet.core.Session:337: Removed UPnP redirect for TCP 3333.\n2017-09-02 18:12:59,474 INFO     lbrynet.core.Session:337: Removed UPnP redirect for UDP 4444.\n2017-09-03 01:03:29,207 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-03 01:03:31,046 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-03 01:03:31,051 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-03 01:03:31,354 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-03 01:03:31,993 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-03 01:03:32,000 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-03 01:03:32,003 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-03 01:03:32,010 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-03 01:03:36,012 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-03 01:03:36,130 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-03 01:03:36,132 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-03 01:03:36,132 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-03 01:03:36,134 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-03 01:03:36,302 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-03 01:03:46,627 INFO     lbrynet.core.Wallet:1261: Local Height: 233663, remote height: 233743, behind: 2\n2017-09-03 01:03:47,250 INFO     lbrynet.core.Wallet:1261: Local Height: 233743, remote height: 233743, behind: 0\n2017-09-03 01:03:47,252 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-03 01:03:47,252 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-03 01:03:50,555 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-03 01:03:50,555 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-03 01:03:50,559 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-03 01:03:50,572 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-03 01:03:50,572 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-03 01:03:50,572 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-03 01:03:50,572 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-03 01:03:50,573 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-03 01:03:50,578 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-03 01:03:50,582 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-03 01:03:50,584 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-03 01:03:50,584 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-03 01:03:50,585 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-03 01:03:50,585 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-03 01:03:50,586 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-03 01:03:50,586 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-03 01:03:50,586 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-03 01:03:50,586 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-03 01:03:50,586 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-03 01:03:50,588 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-03 01:03:50,598 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-03 01:03:50,599 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-03 01:03:50,599 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-03 01:03:50,601 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-03 01:03:50,601 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-03 01:03:50,601 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-03 01:03:50,602 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-03 01:03:50,602 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-03 11:46:11,607 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-03 11:46:13,415 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-03 11:46:13,420 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-03 11:46:13,710 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-03 11:46:14,336 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-03 11:46:14,339 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-03 11:46:14,345 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-03 11:46:14,352 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"108.59.0.32\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-03 11:46:18,358 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-03 11:46:18,476 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-03 11:46:18,480 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-03 11:46:18,480 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-03 11:46:18,480 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-03 11:46:18,638 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-03 11:46:18,855 INFO     lbrynet.core.Wallet:1261: Local Height: 233743, remote height: 233982, behind: 239\n2017-09-03 11:46:19,296 INFO     lbrynet.core.Wallet:1261: Local Height: 233759, remote height: 233982, behind: 223\n2017-09-03 11:46:25,411 INFO     lbrynet.core.Wallet:1261: Local Height: 233982, remote height: 233982, behind: 0\n2017-09-03 11:46:25,411 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-03 11:46:25,411 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-03 11:46:25,512 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-03 11:46:25,513 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-03 11:46:25,515 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-03 11:46:25,526 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-03 11:46:25,528 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-03 11:46:25,528 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-03 11:46:25,529 ERROR    lbrynet.daemon.Daemon:309: Couldn't bind to port 3333. Visit lbry.io/faq/how-to-change-port for more details.\n2017-09-03 11:46:25,529 ERROR    lbrynet.daemon.Daemon:310: Traceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 305, in _start_server\n  File \"site-packages\\twisted\\internet\\posixbase.py\", line 478, in listenTCP\n  File \"site-packages\\twisted\\internet\\tcp.py\", line 983, in startListening\nCannotListenError: Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\n2017-09-03 11:46:25,532 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start\nTraceback (most recent call last):\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonServer.py\", line 53, in start\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 259, in setup\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 361, in _setup_server\n  File \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 311, in _start_server\nValueError: ('%s lbrynet may already be running on your computer.', \"Couldn't listen on any:3333: [Errno 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted.\")\n2017-09-03 11:46:25,536 INFO     lbrynet.daemon.DaemonServer:58: Stopping the reactor\n2017-09-03 11:46:25,538 INFO     lbrynet.daemon.Daemon:400: Closing lbrynet session\n2017-09-03 11:46:25,539 INFO     lbrynet.daemon.Daemon:401: Status at time of shutdown: loading_server\n2017-09-03 11:46:25,539 INFO     lbrynet.file_manager.EncryptedFileManager:175: Stopping 0 lbry files\n2017-09-03 11:46:25,539 INFO     lbrynet.file_manager.EncryptedFileManager:253: Stopped \n2017-09-03 11:46:25,540 INFO     lbrynet.core.Session:172: Stopping session.\n2017-09-03 11:46:25,540 INFO     lbrynet.core.BlobAvailability:35: Stopping blob availability tracker.\n2017-09-03 11:46:25,540 INFO     lbrynet.core.RateLimiter:83: Stopping rate limiter.\n2017-09-03 11:46:25,540 INFO     lbrynet.core.client.DHTPeerFinder:28: Stopping DHT peer finder.\n2017-09-03 11:46:25,542 INFO     lbrynet.core.server.DHTHashAnnouncer:31: Stopping DHT hash announcer.\n2017-09-03 11:46:25,542 INFO     lbrynet.core.Wallet:476: Stopping wallet.\n2017-09-03 11:46:25,558 INFO     lbrynet.core.Wallet:1221: Stopped wallet\n2017-09-03 11:46:25,559 INFO     lbrynet.core.Wallet:1224: Stopped connection to lbryum server\n2017-09-03 11:46:25,559 INFO     lbrynet.core.BlobManager:36: Stopping disk blob manager.\n2017-09-03 11:46:25,559 INFO     lbrynet.core.Session:323: Unsetting upnp for session\n2017-09-03 11:46:25,561 CRITICAL twisted:154: Unhandled error in Deferred:\n2017-09-03 11:46:25,561 CRITICAL twisted:154: \nTraceback (most recent call last):\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages\\twisted\\python\\failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages\\lbrynet\\daemon\\DaemonControl.py\", line 102, in start_server_and_listen\n  File \"site-packages\\twisted\\internet\\defer.py\", line 1444, in unwindGenerator\nTypeError: inlineCallbacks requires  to produce a generator; instead got None\n2017-09-03 11:46:25,562 INFO     lbrynet.dht.protocol:468: Stopping DHT\n2017-09-03 11:46:25,562 INFO     lbrynet.dht.protocol:484: DHT stopped\n2017-09-08 14:13:15,312 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-09-08 14:13:21,555 INFO     lbrynet.daemon.DaemonServer:67: Using non-authenticated API\n2017-09-08 14:13:21,572 INFO     lbrynet.daemon.Daemon:244: Starting lbrynet-daemon\n2017-09-08 14:13:22,003 INFO     lbrynet.daemon.ExchangeRateManager:174: Starting exchange rate manager\n2017-09-08 14:13:23,520 INFO     lbrynet.daemon.Daemon:270: Platform: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"163.172.110.106\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-08 14:13:23,520 INFO     lbrynet.daemon.Daemon:471: Loading databases\n2017-09-08 14:13:23,542 INFO     lbrynet.daemon.Daemon:535: Using lbryum wallet\n2017-09-08 14:13:23,559 INFO     lbrynet.daemon.Daemon:1061: Get version info: {\"lbrynet_version\": \"0.15.1\", \"platform\": \"Windows-10-10.0.14393\", \"os_system\": \"Windows\", \"python_version\": \"2.7.13\", \"os_release\": \"10\", \"lbryum_version\": \"3.1.6\", \"ip\": \"163.172.110.106\", \"lbryschema_version\": \"0.0.10\", \"processor\": \"AMD64 Family 21 Model 2 Stepping 0, AuthenticAMD\", \"build\": \"release\"}\n2017-09-08 14:13:24,944 WARNING  lbrynet.daemon.ExchangeRateManager:69: There was a problem updating USDBTC exchange rate information from Coinbase via Google finance\n2017-09-08 14:13:27,562 INFO     lbrynet.core.Session:254: Starting DHT\n2017-09-08 14:13:28,088 INFO     lbrynet.dht.protocol:216: DHT listening on UDP 4444\n2017-09-08 14:13:28,088 INFO     lbrynet.core.RateLimiter:72: Starting rate limiter.\n2017-09-08 14:13:28,088 INFO     lbrynet.core.BlobManager:32: Starting disk blob manager. blob_dir: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobfiles, db_file: C:\\Users\\Infinite\\AppData\\Local\\lbry\\lbrynet\\blobs.db\n2017-09-08 14:13:28,088 INFO     lbrynet.core.Wallet:451: Starting wallet.\n2017-09-08 14:13:28,888 INFO     lbrynet.core.Wallet:1170: Loading the wallet\n2017-09-08 14:13:29,584 INFO     lbrynet.core.Wallet:1261: Local Height: 233982, remote height: 236705, behind: 2723\n2017-09-08 14:13:30,380 INFO     lbrynet.core.Wallet:1261: Local Height: 234047, remote height: 236705, behind: 2658\n2017-09-08 14:13:58,805 INFO     lbrynet.core.Wallet:1261: Local Height: 236705, remote height: 236705, behind: 0\n2017-09-08 14:13:58,805 INFO     lbrynet.core.Wallet:1269: Wallet Loaded\n2017-09-08 14:13:58,805 INFO     lbrynet.core.Wallet:1194: Subscribing to addresses\n2017-09-08 14:13:58,930 INFO     lbrynet.core.Wallet:1196: Synchronized wallet\n2017-09-08 14:13:58,930 INFO     lbrynet.core.BlobAvailability:30: Starting blob availability tracker.\n2017-09-08 14:13:58,930 INFO     lbrynet.daemon.Daemon:508: Starting to setup up file manager\n2017-09-08 14:13:58,980 INFO     lbrynet.file_manager.EncryptedFileManager:120: Started 0 lbry files\n2017-09-08 14:13:58,982 INFO     lbrynet.daemon.Daemon:519: Done setting up file manager\n2017-09-08 14:13:58,983 INFO     lbrynet.daemon.Daemon:304: Daemon bound to port: 3333\n2017-09-08 14:13:58,984 INFO     lbrynet.daemon.Daemon:260: Starting balance: 0\n2017-09-08 14:13:58,986 INFO     lbrynet.daemon.Daemon:238: Started lbrynet-daemon\n2017-09-08 14:13:58,986 INFO     lbrynet.daemon.Daemon:239: 0 blobs in manager\n2017-09-08 14:13:59,081 INFO     lbrynet.core.Wallet:823: Resolving lbry://one\n2017-09-08 14:14:01,388 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep13#5c079b1798bfb6e2105949e5c4f8c8b37acc51aa\n2017-09-08 14:14:01,388 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep14#77c83d8aa801603110f28456549715630142d6ca\n2017-09-08 14:14:01,691 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep15#ac628a23aa5f36b506e9dd94ba4b2a0b575703c4\n2017-09-08 14:14:01,693 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-splatoon-ep19#ef61ef03a6d6765757fcb3f1f790ff7c56ce064d\n2017-09-08 14:14:01,694 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep17#791f9752f16b323e4663c8885932bbc819a0e190\n2017-09-08 14:14:01,696 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep16#4ff499bdf6d8df3396708388005ee52f037f3aa1\n2017-09-08 14:14:02,548 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep12#6f4da50780e51fe414fc1ad4fc759fc0e7f8ffea\n2017-09-08 14:14:03,796 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep11#5a1d933c73ce5b8b1a68c27c229a96c235ab68a7\n2017-09-08 14:14:04,752 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep10#1e7831aca284aaa4c92855500a222e0e708804f9\n2017-09-08 14:14:04,892 INFO     lbrynet.core.Wallet:823: Resolving lbry://linked-ep9#5f1df30437115a06352da2799df2062235409186\n2017-09-08 14:14:04,927 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-PgmzvCCXlBI#acc1ad30e077d4e99007a696b05ceabe7f16097c\n2017-09-08 14:14:04,947 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-thysRAzADiA#34953eb1ff0000aa702283b0a4c2a42ae19ee48f\n2017-09-08 14:14:05,066 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-GAyxoBFXOTQ#0fad3ede7c06921a1d1f056617ba6a49e38e5f41\n2017-09-08 14:14:05,240 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-6xgjEfRjOh0#c6e6676c4eeb2380e2f4d5354fcd8a8835ce2304\n2017-09-08 14:14:05,667 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-7BjpDiusbxw#bebd742bf4ce84d17ccd97c32a3b38178f1ca894\n2017-09-08 14:14:07,753 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-eh8UUUMHAWY#62b212d20ab71093ed169827c3bf652582e047ee\n2017-09-08 14:14:07,786 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-vFDHXM8qb98#8110a4039ab797e646d84662af6bb3b6a929a262\n2017-09-08 14:14:08,003 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-UHnoLsE95DI#f2e40bb966493322877377dd85e89b17797d7bce\n2017-09-08 14:14:08,003 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-lMeooZsxK9o#bd729b7ef924e4ed3e3fa12169303fbc8f67957d\n2017-09-08 14:14:08,157 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-jPQK4VWSOQc#ecc4c7e24e55f8375e65efccbd15a531046b7012\n2017-09-08 14:14:08,180 INFO     lbrynet.core.Wallet:823: Resolving lbry://magic-thegatheringarenafirstgameplayvideo#e78001497712490c0f47d0f52c92bff2e13dccd7\n2017-09-08 14:14:08,773 INFO     lbrynet.core.Wallet:823: Resolving lbry://destiny2-reviewinprogress#f82cb63ca49f76ed6331cd08b45343b6cdaf7818\n2017-09-08 14:14:10,365 INFO     lbrynet.core.Wallet:823: Resolving lbry://gameofthrones-whyaryaandsansaswinterfellplotdoesntwork-dragonsonthewall#0891276847befc0640eb92e078f4a2612f95a827\n2017-09-08 14:14:11,061 INFO     lbrynet.core.Wallet:823: Resolving lbry://xenobladechronicles2mightbeswitchsnextgreatrpg-pax2017#ed4d19ce6377db0a0ae63c88aab49f3b32723d3e\n2017-09-08 14:14:11,119 INFO     lbrynet.core.Wallet:823: Resolving lbry://starwarsrebels-season4officialtrailer#f9195332707bc867f98172c4ea6801672220b724\n2017-09-08 14:14:11,278 INFO     lbrynet.core.Wallet:823: Resolving lbry://6reasonswhydestinyraidsareworthyourtime#b3d940fdc1f23af89f9a7a0fe9202865baf3e72e\n2017-09-08 14:14:11,298 INFO     lbrynet.core.Wallet:823: Resolving lbry://skyrimonswitchiseverythingyouhopeditwouldbe-pax2017#0a1f89b8c5a3327b7732d2fa30a6e08a04c0a86e\n2017-09-08 14:14:11,323 INFO     lbrynet.core.Wallet:823: Resolving lbry://scorn-8-minutegameplaytrailer#650888b76a56299ee90c31440dc3228ead7f36a8\n2017-09-08 14:14:11,388 INFO     lbrynet.core.Wallet:823: Resolving lbry://destiny2graphicscomparison-ps4vsps4provsxboxones#61670493b51eeb28981a95380be963addce8614a\n2017-09-08 14:14:12,309 INFO     lbrynet.core.Wallet:823: Resolving lbry://pes2018-usainbolttrailer#52f174e2536377de05b2b84231c6699794435f88\n2017-09-08 14:14:13,842 INFO     lbrynet.core.Wallet:823: Resolving lbry://ld-z8JfSF-KaJ8#4b821b033108e3d7b4ccf7ed42dfb65bb665bb07\n2017-09-08 14:14:14,201 INFO     lbrynet.core.Wallet:823: Resolving lbry://rt-w-9ZFEMGD-s#25f532e90d98f711801fb81cacc853459f2d0b44\n2017-09-08 14:14:14,328 INFO     lbrynet.core.Wallet:823: Resolving lbry://groupprojects#a286dae7e1867c972b0fdf0d5a4a8a69fbf3250b\n2017-09-08 14:14:14,378 INFO     lbrynet.core.Wallet:823: Resolving lbry://jg-VggRmLH-4Fg#fb4e2ef88e93fe2071ed62b6c3ae187488ebce9c\n2017-09-08 14:14:14,444 INFO     lbrynet.core.Wallet:823: Resolving lbry://jp-Ne5VbOMsQJc#c073fac51bd546037542785e3b3f483d42f7e917\n2017-09-08 14:14:14,605 INFO     lbrynet.core.Wallet:823: Resolving lbry://iltms-yFnOjy-wde0#5a2a3b57d0a96a40928fd664c3c8b5b387ef9627\n2017-09-08 14:14:14,726 INFO     lbrynet.core.Wallet:823: Resolving lbry://thesolarsystemexplained#7fcc8c6455632fbffde3843df0c7039a2b4646bd\n2017-09-08 14:14:15,009 INFO     lbrynet.core.Wallet:823: Resolving lbry://ec-Y6QHi3r59dw#1b433b38fc8079cec3d4af1b85b898d1519353d8\n2017-09-08 14:14:16,309 INFO     lbrynet.core.Wallet:823: Resolving lbry://ak-z4E0sgV84Lk#f318247576cc3a92b0730201e62bf9c8ba57e1ef\n2017-09-08 14:14:17,016 INFO     lbrynet.core.Wallet:823: Resolving lbry://gyg-yLlWA35-A7g#b2669a2856146e02b7760778ff53080208685705\n2017-09-08 14:14:17,404 INFO     lbrynet.core.Wallet:823: Resolving lbry://two\n2017-09-08 14:14:17,625 INFO     lbrynet.core.Wallet:823: Resolving lbry://three\n2017-09-08 14:14:17,766 INFO     lbrynet.core.Wallet:823: Resolving lbry://four\n2017-09-08 14:14:17,828 INFO     lbrynet.core.Wallet:823: Resolving lbry://five\n2017-09-08 14:14:18,065 INFO     lbrynet.core.Wallet:823: Resolving lbry://six\n2017-09-08 14:14:18,374 INFO     lbrynet.core.Wallet:823: Resolving lbry://seven\n2017-09-08 14:14:18,704 INFO     lbrynet.core.Wallet:823: Resolving lbry://eight\n2017-09-08 14:14:18,875 INFO     lbrynet.core.Wallet:823: Resolving lbry://nine\n2017-09-08 14:14:19,374 INFO     lbrynet.core.Wallet:823: Resolving lbry://ten\n2017-09-08 14:14:19,411 INFO     lbrynet.core.Wallet:823: Resolving lbry://theinternetsownboy#fa4945c68593f20bb63840b49187df6aa5c5d7cb\n2017-09-08 14:14:19,509 INFO     lbrynet.core.Wallet:823: Resolving lbry://volcano#19de3dbb1ee32b8c16d10c722931893117f55d65\n2017-09-08 14:14:19,535 INFO     lbrynet.core.Wallet:823: Resolving lbry://itsadisaster#bd970a51249cba542a9acfb130147294a6326ee2\n2017-09-08 14:14:19,724 INFO     lbrynet.core.Wallet:823: Re. Yes thx\n\u2063Sent from BlueMail \u200b\nOn Sep 11, 2017, 8:18 AM, at 8:18 AM, Thomas Zarebczan notifications@github.com wrote:\n\n@d4amenace can I close this? \n-- \nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/lbryio/lbry/issues/894#issuecomment-328524513\n. \n",
    "rkrp": "I would like to take this up! Would appreciate any pointers.. ",
    "temandroid": "User folder in with cyryllic symbols, i think this is why i han an error... thank u. ",
    "chrishobcroft": "Thanks @tzarebczan, I followed the steps your suggested, but the same behaviour persists :(\n. ",
    "stevenmos": "Thanks.  I found a workaround for myself but I didn't think it should work like that.. I didn't do anything sophisticated.  In my script I already force the downloaded file name to come from the \"name\" field, rather than the \"suggested_file_name\".\nI just made sure that when I list the files I still use \"name\" rather than \"file_name\", which changes.. Thank you.  I disable IPv6 to increase the security of the VPN I use.  I did, briefly, try lbry without it but there was no difference.. ",
    "walidmujahid": "If no one has taken this task on already, I would like to add it to the tasks/issues list I will be working on. I came across what you are talking about as I was going through LBRY's codebase and it should not take too long to complete the task. . https://github.com/lbryio/lbry/issues/1527. Is anyone working on this issue or is it open for anyone to grab right now?. Understood @tzarebczan and thank you.. I have no updates on this yet. This issue is still on my list of things I intend to finish.. > @walidmujahid Upon thinking about it a little more I realized this setting is not redundant. I think it's fine to drop it as a separate setting, but the functionality should be rolled in to the max_key_fee setting (such as disabling by setting it to -1)\nI see @jackrobison. I can roll the functionality accordingly. Do you want me to do so and then do the rebase to master?\n\nThanks for the PR! Question: If a user currently has this setting in their daemon_settings.yml, will it clear it out for them?\n\nI am not sure @tzarebczan, but I will find out.\n\nCan we send you some LBC in appreciation for your efforts?\n\nI would not say no to that :-) After all issues are fixed and the PR is accepted, do you want me to get with you on this on the discord?. > Question: If a user currently has this setting in their daemon_settings.yml, will it clear it out for them?\n@tzarebczan It does not seem to clear out automatically when the API server restarts with the changes. Rather, the daemon_settings.yml clears it out whenever something is changed/updated via settings_set. \nShould the API server detect non-existent settings and automatically clear the daemon settings file appropriately upon API server restart?. > @walidmujahid is this ready to be reviewed again? I re-assigned @eukreign to take a peek.\nNot yet @tzarebczan. I am still struggling a bit with the tests, but I hope to have done as soon as possible.. > ```\n\nlbrynet settings_set --max_key_fee \"1.23 USD\"\nlbrynet settings_set --max_key_fee \"4.56 LBC\"\nlbrynet settings_set --max_key_fee \"none\"\n```\n\nI agree that this is more readable @lyoshenka.\nWhat is funny about you mentioning that it would be better if we had a --no-max_key_fee is that actually had a --disable_max_fee_key. However, it was removed in  PR #1507 based on issue/task #929.\nThe question is, should the option be returned? \nTo me, I kind of like lbrynet settings_set --max_key_fee \"none\" as opposed to lbrynet settings_set --disable_max_key_fee=True. Though, I may be a bit biased. Perhaps the solution would simply be rework it so the user just has to lbrynet settings_set --disable_max_key_fee instead of the previous?\nAny input? @eukreign, @tzarebczan, others.. No, you are not missing anything. It makes complete sense. . >Doesn't the above two lines do the same thing but with different values?\nBy \"above two lines\", are you referring to the newly inserted lines, or are you referring to the use of self.convert_max_fee and what converted_fee_amount is doing?\n\nWhy is self.convert_max_fee() called for one but converted_fee_amount calculated here? \n\nAre you asking why self.convert_max_fee is not being used for converted_fee_amount? If so, I agree. I originally was not paying attention to that in order to keep as close to the way it was just with my changes included. \nThat probably was not the best way to go about it. I can change it accordingly. \n\nCan we drop self.convert_max_fee if it's not needed?\n\nI would not say it is not needed. It can be used for both max_key_fee_amount  and converted_fee_amount.  Then again, would it be better for it to do the calculation like converted_fee_amount does?. I had something else in mind at the time but based on an earlier comment of yours, I would say that this change would allow for the method's use for converted_fee_amount.. Fixed . ",
    "rickbatka": "@KamilPiekutowski I think I'm going to take this on, if that's OK with you!. Yeah @KamilPiekutowski I just took a look and it does look like the code in Daemon.py is operating correctly; the dictionary is already broken when it gets there like you said.\nI traced it back as far as I could and found that the JSON that hits the server.py _render method is broken:\n```\ndaemon/auth/server.py\n...\ndef _render(self, request):\n        print(request)\n...\nthis prints {\"jsonrpc\": \"2.0\", \"params\": {\"download_directory\": \"bogussetting\"}....\n```\nI don't know yet exactly where things are going wrong, but the JSON is bad before it gets to server.py - it could be there is some preprocessing of the JSON here on the daemon before it gets to the _render method (unlikely), or more likely, the problem is in the lbrynet-cli client code that creates the JSON request in the first place.\nCan you point me to the code for the cli client? . Never mind, I found it - it is on the cli side. Looks like a docopt change will fix that part. I think I can handle it from here.. @kauffj See my PR above. A few notes and follow-up questions:\n\nI disabled positional arguments altogether for settings_set - I agree that it didn't make sense for it to work that way. Besides updating the documentation in docs/cli.md, and putting a note in the changelog, is there anything else I need to do before making a breaking change to the CLI like this?\nIn implementing your second request (validating download_directory before setting it), I found that in some cases, settings_set would fail and instead of throwing the exception and quitting, would log a warning and swallow the exception and continue, acting like it worked when really it didn't. I changed that behavior - it now consistently raises an unhandled exception when it can't parse the setting instead of logging a warning and pretending to succeed. If you don't like that change, it's easy enough for me to set it back to the old way, but it was already doing that in some cases and it seems like you'd want it to consistently fail or succeed, not sometimes-fail and sometimes-warn-and-pretend-to-succeed.\n\nThe only difference in behavior in regards to point #2 is that when you issue a bogus settings_set command from the CLI, it will tell you it's bogus instead of silently failing to update the setting and returning the array, making it seem like it worked.. Looks like I failed the linter, correcting.... @hackrush01 Ok, squashed and ready! Thanks for the help.. ",
    "codacy-bot": " Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nSolved 8\nAdded 28\n\nComplexity increasing per file\n\nlbrynet/tests/unit/core/server/test_DHTHashAnnouncer.py  1\nlbrynet/tests/mocks.py  3\nlbrynet/dht/node.py  4\nlbrynet/tests/util.py  6\nlbrynet/database/migrator/dbmigrator.py  1\n\nComplexity decreasing per file\n\nlbrynet/core/Session.py  -1\nlbrynet/dht/protocol.py  -4\n\nClones removed\n\nlbrynet/core/Wallet.py  -1\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nAdded 8\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nComplexity increasing per file\n\nlbrynet/daemon/Daemon.py  1\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nAdded 92\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nSolved 2\nAdded 1\n\nComplexity increasing per file\n\nlbrynet/daemon/DaemonCLI.py  1\n\nComplexity decreasing per file\n\nlbrynet/daemon/auth/client.py  -2\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nAdded 1\n\nComplexity increasing per file\n\nlbrynet/tests/unit/lbrynet_daemon/test_Daemon.py  2\n\n```\nSee the complete overview on Codacy\n        . \n Here is an overview of what got changed by this pull request:\n```diff\nIssues\n\nSolved 2\nAdded 7\n\nClones removed\n\nlbrynet/tests/functional/test_misc.py  -2\n\n```\nSee the complete overview on Codacy\n        .  Issue found: Unable to import 'twisted.internet'.  Issue found: Unable to import 'twisted.internet.protocol'.  Issue found: Access to member '_buffer' before its definition line 130.  Issue found: Unable to import 'twisted.internet'.  Issue found: No name 'StratumClientProtocol' in module 'client'.  Issue found: No name 'RemoteServiceException' in module 'errors'.  Issue found: No name 'TransportException' in module 'errors'.  Issue found: Unable to import 'twisted.protocols.basic'.  Issue found: Unable to import 'twisted.internet'.  Issue found: Unused Node imported from lbrynet.dht.node.  Issue found: Unused threads imported from twisted.internet.  Issue found: Standard pseudo-random generators are not suitable for security/cryptographic purposes..  Issue found: Unable to import 'twisted.internet'.  Issue found: Unable to import 'twisted.internet'.  Issue found: Unable to import 'lbrynet.dht.encoding'.  Issue found: Unused reactor imported from twisted.internet.  Issue found: Undefined variable 'long'.  Issue found: Standard pseudo-random generators are not suitable for security/cryptographic purposes..  Issue found: Standard pseudo-random generators are not suitable for security/cryptographic purposes..  Issue found: Use of assert detected. The enclosed code will be removed when compiling to optimised byte code..  Issue found: Unused threads imported from twisted.internet.  Issue found: Unused time imported from time.  Issue found: Unable to import 'twisted.internet'.  Issue found: Unused threads imported from twisted.internet.  Issue found: No name 'encoding' in module 'lbrynet.dht'.  Issue found: No name 'node' in module 'lbrynet.dht'.  Issue found: Unable to import 'twisted.trial'.  Issue found: No name 'debug_kademlia_packet' in module 'util'.  Issue found: No name 'node' in module 'lbrynet.dht'.  Issue found: Undefined variable 'long'.  Issue found: Unable to import 'twisted.internet'.  Issue found: Bad indentation. Found 15 spaces, expected 16.  Issue found: Unable to import 'twisted.internet'. ",
    "hellbeast222": "please help me get this thing off of my os\n. how do I get rid of this monster?\n. ",
    "yookoala": "I'm using the desktop variant. AppArmor is enabled by default.. I tried to run /etc/init.d/apparmor stop and systemctl stop apparmor. Both commands run without error. And either of them should have stopped apparmor according to man page. then I tried to run lbry command. It still crashes in the same manner.. I tried to re-install my system without the Nvidia driver. It seems fine.\nProbably a driver specific issue. Close for now.\nThanks @tzarebczan . ",
    "RedbHawk": "So to try reinstall or wait 0.19 version of app?. When I run reinstalled latest app (0.19.1) : \n\nThe daemon has unexpectedly shutdown. Goodbye.\n\nLog file\n2017-12-17 XX:XX:29,954 INFO     lbrynet.daemon.DaemonControl:70: Starting lbrynet-daemon from command line\n2017-12-17 XX:XX:33,876 INFO     lbrynet.daemon.DaemonServer:66: Using non-authenticated API\n2017-12-17 XX:XX:33,882 INFO     lbrynet.daemon.Daemon:243: Starting lbrynet-daemon\n2017-12-17 XX:XX:35,268 INFO     lbrynet.daemon.ExchangeRateManager:210: Starting exchange rate manager\n2017-12-17 XX:XX:37,324 INFO     lbrynet.daemon.Daemon:269: Platform: {\"lbrynet_version\": \"0.18.0\", \"platform\": \"Linux-4.13.0-kali1-amd64-x86_64-with-Kali-kali-rolling-kali-rolling\", \"os_system\": \"Linux\", \"python_version\": \"2.7.12\", \"os_release\": \"4.13.0-kali1-amd64\", \"lbryum_version\": \"3.1.11\", \"ip\": \"185.217.68.238\", \"lbryschema_version\": \"0.0.14\", \"processor\": \"\", \"build\": \"release\"}\n2017-12-17 XX:XX:37,336 INFO     lbrynet.daemon.Daemon:479: Loading databases\n2017-12-17 XX:XX:37,339 ERROR    lbrynet.daemon.DaemonControl:100: Failed to start lbrynet-daemon\nTraceback (most recent call last):\n  File \"site-packages/lbrynet/daemon/DaemonControl.py\", line 97, in start_server_and_listen\n  File \"site-packages/twisted/internet/defer.py\", line 1297, in _inlineCallbacks\n  File \"site-packages/twisted/python/failure.py\", line 389, in throwExceptionIntoGenerator\n  File \"site-packages/lbrynet/daemon/DaemonServer.py\", line 53, in start\n  File \"site-packages/twisted/internet/defer.py\", line 1299, in _inlineCallbacks\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 251, in setup\n  File \"site-packages/lbrynet/daemon/Daemon.py\", line 501, in _check_db_migration\nException: This version of lbrynet is not compatible with the database\nYour database is revision 5, expected 4\n2017-12-17 XX:XX:37,340 INFO     lbrynet.daemon.DaemonServer:57: Stopping the reactor\n2017-12-17 XX:XX:37,340 INFO     lbrynet.daemon.Daemon:405: Closing lbrynet session\n2017-12-17 XX:XX:37,340 INFO     lbrynet.daemon.Daemon:406: Status at time of shutdown: loading_db. ",
    "blckchnprncss": "This issue has happened for me two or three times. Each time attempting to publish to channel \"@CampusEngagement\" - could not reproduce on any other channel. File was a 3.5MB JPEG.. ",
    "ykris45": "Please Review my PR and if this PR accepted , fix url webhook of LBRY Discord server. im sure its diferent with slack webhook.. im understand now sir. thanks very much. @jessopb yessir,,  please merge this brow.. . O my mistake, my apologies because i'm I was drunk and in a bad mood. #1641 . ",
    "ex0dus-0x": "Any tips on where code is for wallet and database file generation?. ",
    "tau3": "@tzarebczan there is a fix, but an advise is required.. @eukreign ok, it's done \ud83d\ude04 . @eukreign thank you for useful advices! They're implemented.. delivered :). @eukreign @nikooo777 Yep, there was a silly mistake \ud83d\ude1e \nSo now i'm willing to fix it: #1216 \nCould you, please, re-check on that branch? Both claim_list and claim_list_mine work for me now.. ",
    "Jeremy1026": "I\u2019ll add the change log info when I get back to a computer. Sorry about that.. Fixing one can be used to fix the other, but not a 100% overlap. If this is going to be labeled a duplicate of #1098, #1098 could probably stand to be updated to reflect claims_list in addition to claims_list_mine.. ",
    "andrefisch": "it was on a fresh install, it was in the virtual environment, and following the instructions in the link provided by tzarebczan seems to have solved the issue. ",
    "kafene": "Hello LBRYians, I'm working on implementing this feature.\nFor sorting files by date, the LBRY app seems to simply rely on the incoming order of files in the fileList component which is their order of insertion into the \"file\" table.\nAny thoughts on whether the date a file was added should be stored in lbrynet.sqlite? I'd add a new column for this, and could also add it as an attribute of ManagedEncryptedFileDownloader instances so it would appear in the results of file_list.\n. Thanks for the review, I will make the suggested changes and work on unit tests for the parsing of sort options and sorting functionality with some mock data.. I added a pretty thorough unit test for file_list sorting, using the Faker library for generating some somewhat-realistic looking fake file objects, and added both Faker and mock (which I was missing) to requirements_testing.txt.\nThe following should quickly reproduce the test results:\nsource lbry-venv/bin/activate\npip install -U -r requirements_testing.txt\ntrial lbrynet/tests/unit/lbrynet_daemon/test_Daemon.py. I agree. It should simply be any field that is visible when doing a normal `file_list` command.\n\nOne issue with the generic approach is that I had the sort applied outside of the transformation to JSON that is ultimately displayed to the end user. It looks like the only place that sorting is needed is when JSON is being returned, so it would make sense to only support sorting the result within jsonrpc_file_list and to sort the list of objects returned by _get_lbry_file_dict, so the sort would actually be applied to the data seen in the output.\nThis is definitely doable. I would also like to support some notation like --sort=metadata.title, so the sort can be applied not only to top-level elements of each object, but nested values as well.. Okay, next round.\nSorting can now be done on any property of an object found in the results of file_list. This includes nested fields like metadata.author or metadata.title.\nI added a test case for sorting by nested fields, currently only applicable to metadata.\nI noticed that sorting by a field that does not exist produced a very vague error message with just the name of the key that was not found, so I added a more meaningful error message.\nI also fixed up the unit tests to not use @inlineCallbacks and instead use other means of testing deferred objects as suggested in the Twisted docs.\nThings to consider:\nSorting by date is still not explicitly supported. The real fix for this is to add a date field to the output, which also means storing it somewhere, most likely in the file table of the database. That's out of scope for this PR, I think.\nIf in the future any lists/arrays are added to the results, sorting on numerically-indexed keys of these would not be supported. A simple solution would be to add something like key = int(key) if isinstance(value, (list, tuple)) in the key_getter callback function, I just refrained from doing so for now because it's a case that currently doesn't occur (premature optimization?). Let me know if you think it should be accounted for regardless and I can add it.\n. The current implementation allows multiple sorts so each one is done as a separate pass, so the list can be sorted by one thing, then another, not unlike using SQL ORDER BY foo DESC, bar ASC\nA more concrete example:\n$ lbrynet-cli file_list --sort=channel_name --sort=points_paid,desc\n\nYou'll get the list sorted by points_paid, largest values first, and each set of items with the same cost would be further sorted by channel name (in ascending order).\nThe daemon uses docopt for argument parsing, so flags that allow multiple values end up as lists of whatever was passed in. My first thought was to zip() together the sort_by and sort_order arguments to get the same effective result as parsing a single input of field, direction but that doesn't work if someone omits the direction in between two sort choices.\nAssuming the new API as proposed in this issue, given:\n$ lbrynet-cli file_list --sort_by=channel_name --sort_by=points_paid --sort_order=desc\n\nThe parsed arguments are:\n{'--sort_by': ['channel_name', 'points_paid'],\n '--sort_order': ['desc']}\n\nSo I see no way to associate the directions and field names.\nShould multiple sort criteria be dropped and only one sort field allowed?. The main reason I did this was to support multiple passes, so for example\nlbrynet-cli file_list --sort=name,desc --sort=price,asc\n\nwould produce a list sorted by price, but items with the same price would be sorted by name.. ",
    "goodthebest": "Well build worked. However running ./lbrynet-daemon\n\n. ",
    "codecov[bot]": "Codecov Report\n\n:exclamation: No coverage uploaded for pull request base (master@79d1da5). Click here to learn what that means.\nThe diff coverage is 71.86%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1155   +/-\n=========================================\n  Coverage          ?   69.28%         \n=========================================\n  Files             ?      120         \n  Lines             ?    11877         \n  Branches          ?        0         \n=========================================\n  Hits              ?     8229         \n  Misses            ?     3648         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/winhelpers/knownpaths.py | 2.81% <0%> (\u00f8) | |\n| lbrynet/database/migrator/migrate3to4.py | 0% <0%> (\u00f8) | |\n| lbrynet/database/migrator/migrate5to6.py | 0% <0%> (\u00f8) | |\n| lbrynet/blob/reader.py | 100% <100%> (\u00f8) | |\n| lbrynet/dht/error.py | 94.11% <100%> (\u00f8) | |\n| lbrynet/daemon/__init__.py | 100% <100%> (\u00f8) | |\n| lbrynet/wallet/certificate.py | 100% <100%> (\u00f8) | |\n| lbrynet/core/BlobAvailability.py | 32.3% <100%> (\u00f8) | |\n| lbrynet/daemon/ComponentManager.py | 90.43% <100%> (\u00f8) | |\n| ...brynet/lbry_file/client/EncryptedFileDownloader.py | 65.15% <100%> (\u00f8) | |\n| ... and 92 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 79d1da5...d2aaf7b. Read the comment docs.\n. # Codecov Report\nMerging #1330 into lbryum-refactor will increase coverage by 1.66%.\nThe diff coverage is 55.2%.\n\n\n```diff\n@@                 Coverage Diff                 @@\nlbryum-refactor    #1330      +/-\n===================================================\n+ Coverage            45.25%   46.92%   +1.66%   \n===================================================\n  Files                  120      121       +1   \n  Lines                12585    12638      +53   \n===================================================\n+ Hits                  5695     5930     +235   \n+ Misses                6890     6708     -182\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/auth/auth.py | 43.24% <0%> (-3.82%) | :arrow_down: |\n| lbrynet/daemon/DaemonCLI.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/auth/util.py | 33.82% <0%> (-1.03%) | :arrow_down: |\n| lbrynet/core/Error.py | 80% <100%> (+0.58%) | :arrow_up: |\n| lbrynet/error_code_map.py | 100% <100%> (\u00f8) | |\n| lbrynet/core/utils.py | 59.74% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/auth/server.py | 43.96% <11.76%> (-0.36%) | :arrow_down: |\n| lbrynet/daemon/DaemonControl.py | 30.95% <14.28%> (+30.95%) | :arrow_up: |\n| lbrynet/daemon/DaemonConsole.py | 29.2% <37.5%> (+29.2%) | :arrow_up: |\n| lbrynet/cli.py | 80.55% <68.08%> (+80.55%) | :arrow_up: |\n| ... and 9 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a072db1...58fb105. Read the comment docs.\n. # Codecov Report\nMerging #1357 into lbryum-refactor will decrease coverage by 0.02%.\nThe diff coverage is 31.03%.\n\n\n```diff\n@@                 Coverage Diff                 @@\nlbryum-refactor    #1357      +/-\n===================================================\n- Coverage            46.81%   46.78%   -0.03%   \n===================================================\n  Files                  120      120            \n  Lines                12818    12819       +1   \n===================================================\n- Hits                  6001     5998       -3   \n- Misses                6817     6821       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/cryptstream/CryptBlob.py | 92.85% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/file_manager/EncryptedFileCreator.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/core/server/ServerRequestHandler.py | 18.25% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/reflector/server/server.py | 25% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/reflector/client/blob.py | 22.07% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/file_manager/EncryptedFileManager.py | 67.28% <100%> (+0.2%) | :arrow_up: |\n| ...brynet/cryptstream/client/CryptStreamDownloader.py | 41.37% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/core/client/ClientProtocol.py | 18.75% <14.28%> (\u00f8) | :arrow_up: |\n| lbrynet/core/StreamDescriptor.py | 55.01% <75%> (-0.75%) | :arrow_down: |\n| lbrynet/core/BlobManager.py | 90.19% <0%> (-1.97%) | :arrow_down: |\n| ... and 1 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0780d1c...87a61c0. Read the comment docs.\n. # Codecov Report\nMerging #1360 into lbryum-refactor will increase coverage by 0.22%.\nThe diff coverage is 26.82%.\n\n\n```diff\n@@                 Coverage Diff                 @@\nlbryum-refactor    #1360      +/-\n===================================================\n+ Coverage            46.63%   46.86%   +0.22%   \n===================================================\n  Files                  120      120            \n  Lines                13004    12796     -208   \n===================================================\n- Hits                  6065     5997      -68   \n+ Misses                6939     6799     -140\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 37.3% <0%> (-0.45%) | :arrow_down: |\n| lbrynet/file_manager/EncryptedFileManager.py | 67.28% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 40.26% <0%> (+1.67%) | :arrow_up: |\n| lbrynet/analytics.py | 58.66% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/database/storage.py | 76.97% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/iterativefind.py | 13.83% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/core/client/ClientProtocol.py | 18.75% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/core/client/ConnectionManager.py | 17.9% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Downloader.py | 63.08% <100%> (\u00f8) | :arrow_up: |\n| ...brynet/lbry_file/client/EncryptedFileDownloader.py | 51.51% <100%> (\u00f8) | :arrow_up: |\n| ... and 5 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7fbf397...dc994a9. Read the comment docs.\n. # Codecov Report\nMerging #1361 into lbryum-refactor will increase coverage by 2.06%.\nThe diff coverage is 97.43%.\n\n\n```diff\n@@                 Coverage Diff                 @@\nlbryum-refactor    #1361      +/-\n===================================================\n+ Coverage            46.69%   48.75%   +2.06%   \n===================================================\n  Files                  120      120            \n  Lines                12979    13099     +120   \n===================================================\n+ Hits                  6060     6387     +327   \n+ Misses                6919     6712     -207\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/cli.py | 82.69% <100%> (+3.28%) | :arrow_up: |\n| lbrynet/daemon/auth/server.py | 72.03% <100%> (+27.61%) | :arrow_up: |\n| lbrynet/daemon/auth/client.py | 93.25% <96.87%> (+49.22%) | :arrow_up: |\n| lbrynet/file_manager/EncryptedFileDownloader.py | 58.64% <0%> (-0.59%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 39.23% <0%> (+0.25%) | :arrow_up: |\n| ...brynet/lbry_file/client/EncryptedFileDownloader.py | 51.87% <0%> (+0.36%) | :arrow_up: |\n| lbrynet/core/client/ConnectionManager.py | 19.17% <0%> (+1.26%) | :arrow_up: |\n| lbrynet/core/utils.py | 61.68% <0%> (+1.94%) | :arrow_up: |\n| lbrynet/dht/node.py | 41.85% <0%> (+3.01%) | :arrow_up: |\n| ... and 6 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update db6cd8e...9082882. Read the comment docs.\n. # Codecov Report\nMerging #1370 into lbryum-refactor will increase coverage by 16.09%.\nThe diff coverage is 75%.\n\n\n```diff\n@@                 Coverage Diff                  @@\nlbryum-refactor    #1370       +/-\n====================================================\n+ Coverage            53.27%   69.36%   +16.09%   \n====================================================\n  Files                  120      120             \n  Lines                11816    11805       -11   \n====================================================\n+ Hits                  6295     8189     +1894   \n+ Misses                5521     3616     -1905\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/iterativefind.py | 75.94% <0%> (+62.11%) | :arrow_up: |\n| lbrynet/dht/protocol.py | 68.79% <100%> (+51.22%) | :arrow_up: |\n| lbrynet/dht/kbucket.py | 96.22% <100%> (-0.07%) | :arrow_down: |\n| lbrynet/dht/node.py | 77.77% <50%> (+40.46%) | :arrow_up: |\n| lbrynet/dht/contact.py | 93.44% <75%> (+11.13%) | :arrow_up: |\n| lbrynet/core/Strategy.py | 94.28% <0%> (+0.95%) | :arrow_up: |\n| lbrynet/core/HTTPBlobDownloader.py | 89.88% <0%> (+1.12%) | :arrow_up: |\n| lbrynet/core/utils.py | 62.33% <0%> (+1.94%) | :arrow_up: |\n| lbrynet/core/BlobManager.py | 92.15% <0%> (+1.96%) | :arrow_up: |\n| lbrynet/custom_logger.py | 89.36% <0%> (+2.12%) | :arrow_up: |\n| ... and 38 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5099e19...3abeab3. Read the comment docs.\n. # Codecov Report\nMerging #1382 into lbryum-refactor will increase coverage by <.01%.\nThe diff coverage is 25%.\n\n\n```diff\n@@                 Coverage Diff                 @@\nlbryum-refactor    #1382      +/-\n===================================================\n+ Coverage            69.33%   69.34%   +<.01%   \n===================================================\n  Files                  120      120            \n  Lines                11809    11809            \n===================================================\n+ Hits                  8188     8189       +1   \n+ Misses                3621     3620       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 40.21% <0%> (+0.15%) | :arrow_up: |\n| lbrynet/wallet/transaction.py | 81.57% <33.33%> (-4.14%) | :arrow_down: |\n| lbrynet/wallet/manager.py | 51.81% <41.66%> (-0.52%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update efcdae2...4af8295. Read the comment docs.\n. # Codecov Report\nMerging #1385 into master will decrease coverage by <.01%.\nThe diff coverage is 62.5%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1385      +/-\n==========================================\n- Coverage   70.15%   70.14%   -0.01%   \n==========================================\n  Files         120      120            \n  Lines       11984    12004      +20   \n==========================================\n+ Hits         8407     8420      +13   \n- Misses       3577     3584       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/ExchangeRateManager.py | 75.49% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/core/Error.py | 80.9% <100%> (+1.1%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 48.28% <20%> (-0.08%) | :arrow_down: |\n| ...brynet/lbry_file/client/EncryptedFileDownloader.py | 65.41% <50%> (+0.26%) | :arrow_up: |\n| lbrynet/analytics.py | 58.49% <55.55%> (-0.18%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ad492a0...a702afd. Read the comment docs.\n. # Codecov Report\nMerging #1388 into master will decrease coverage by 23.5%.\nThe diff coverage is n/a.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1388       +/-\n===========================================\n- Coverage   69.28%   45.77%   -23.51%   \n===========================================\n  Files         120      120             \n  Lines       11877    11877             \n===========================================\n- Hits         8229     5437     -2792   \n- Misses       3648     6440     +2792\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/core/server/BlobAvailabilityHandler.py | 0% <0%> (-93.75%) | :arrow_down: |\n| lbrynet/reflector/client/blob.py | 22.07% <0%> (-68.19%) | :arrow_down: |\n| lbrynet/reflector/client/client.py | 17.57% <0%> (-67.97%) | :arrow_down: |\n| lbrynet/daemon/auth/undecorated.py | 16.66% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/core/server/ServerRequestHandler.py | 18.25% <0%> (-65.88%) | :arrow_down: |\n| ...t/lbry_file/client/EncryptedFileMetadataHandler.py | 32% <0%> (-64%) | :arrow_down: |\n| lbrynet/core/client/ClientRequest.py | 36.84% <0%> (-63.16%) | :arrow_down: |\n| lbrynet/dht/iterativefind.py | 13.29% <0%> (-62.66%) | :arrow_down: |\n| lbrynet/core/client/ConnectionManager.py | 17.9% <0%> (-61.73%) | :arrow_down: |\n| lbrynet/wallet/resolve.py | 10% <0%> (-61.67%) | :arrow_down: |\n| ... and 60 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b101faf...ab04b0e. Read the comment docs.\n. # Codecov Report\nMerging #1389 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1389   +/-\n=======================================\n  Coverage   69.28%   69.28%         \n=======================================\n  Files         120      120         \n  Lines       11877    11877         \n=======================================\n  Hits         8229     8229         \n  Misses       3648     3648\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 69851a6...5f05403. Read the comment docs.\n. # Codecov Report\nMerging #1390 into master will increase coverage by 7.06%.\nThe diff coverage is 32.43%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1390      +/-\n=========================================\n+ Coverage   62.13%   69.2%   +7.06%   \n=========================================\n  Files         120     120            \n  Lines       11877   11906      +29   \n=========================================\n+ Hits         7380    8239     +859   \n+ Misses       4497    3667     -830\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 40.31% <0%> (+9.25%) | :arrow_up: |\n| lbrynet/wallet/resolve.py | 69.9% <11.11%> (+59.9%) | :arrow_up: |\n| lbrynet/wallet/ledger.py | 88.15% <41.66%> (+3.3%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 50.86% <44.44%> (+18.12%) | :arrow_up: |\n| lbrynet/wallet/network.py | 75% <50%> (+12.5%) | :arrow_up: |\n| lbrynet/conf.py | 78.75% <0%> (+0.56%) | :arrow_up: |\n| lbrynet/core/HTTPBlobDownloader.py | 77.7% <0%> (+0.67%) | :arrow_up: |\n| lbrynet/core/BlobManager.py | 92.15% <0%> (+1.96%) | :arrow_up: |\n| lbrynet/wallet/script.py | 93.47% <0%> (+2.17%) | :arrow_up: |\n| lbrynet/wallet/header.py | 97.82% <0%> (+2.17%) | :arrow_up: |\n| ... and 27 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update fdc98fc...795f623. Read the comment docs.\n. # Codecov Report\nMerging #1391 into master will increase coverage by 0.53%.\nThe diff coverage is 57.26%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1391      +/-\n==========================================\n+ Coverage    69.2%   69.74%   +0.53%   \n==========================================\n  Files         120      120            \n  Lines       11901    11918      +17   \n==========================================\n+ Hits         8236     8312      +76   \n+ Misses       3665     3606      -59\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 49.35% <100%> (-0.86%) | :arrow_down: |\n| lbrynet/daemon/Components.py | 57.55% <18.18%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/account.py | 54.9% <50%> (-0.42%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 46.26% <59.42%> (+5.9%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 93d134f...89999a6. Read the comment docs.\n. # Codecov Report\nMerging #1395 into master will increase coverage by 0.21%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1395      +/-\n==========================================\n+ Coverage   69.74%   69.96%   +0.21%   \n==========================================\n  Files         120      120            \n  Lines       11918    11925       +7   \n==========================================\n+ Hits         8312     8343      +31   \n+ Misses       3606     3582      -24\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 47.57% <100%> (+1.31%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 53.21% <0%> (+3.86%) | :arrow_up: |\n| lbrynet/wallet/transaction.py | 86.66% <0%> (+4%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e7634b7...1ba66d4. Read the comment docs.\n. # Codecov Report\nMerging #1421 into master will decrease coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1421      +/-\n==========================================\n- Coverage    69.2%   69.19%   -0.01%   \n==========================================\n  Files         120      120            \n  Lines       11906    11905       -1   \n==========================================\n- Hits         8239     8238       -1   \n  Misses       3667     3667\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 40.26% <\u00f8> (-0.06%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a7f34e2...533435b. Read the comment docs.\n. # Codecov Report\nMerging #1422 into master will decrease coverage by 21.5%.\nThe diff coverage is 0%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1422       +/-\n===========================================\n- Coverage   69.19%   47.69%   -21.51%   \n===========================================\n  Files         120      120             \n  Lines       11905    11956       +51   \n===========================================\n- Hits         8238     5702     -2536   \n- Misses       3667     6254     +2587\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/auth/factory.py | 0% <0%> (-90%) | :arrow_down: |\n| lbrynet/daemon/auth/util.py | 0% <0%> (-93.94%) | :arrow_down: |\n| lbrynet/daemon/auth/client.py | 0% <0%> (-94.45%) | :arrow_down: |\n| lbrynet/daemon/auth/server.py | 0% <0%> (-73.69%) | :arrow_down: |\n| lbrynet/conf.py | 61.82% <0%> (-16.94%) | :arrow_down: |\n| lbrynet/daemon/auth/auth.py | 0% <0%> (-91.9%) | :arrow_down: |\n| lbrynet/daemon/json_response_encoder.py | 0% <0%> (-88.89%) | :arrow_down: |\n| lbrynet/daemon/Publisher.py | 0% <0%> (-85.42%) | :arrow_down: |\n| lbrynet/daemon/auth/undecorated.py | 0% <0%> (-83.34%) | :arrow_down: |\n| lbrynet/cli.py | 0% <0%> (-81.09%) | :arrow_down: |\n| ... and 56 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1c6ce49...ee25cc8. Read the comment docs.\n. # Codecov Report\nMerging #1422 into master will decrease coverage by 7.78%.\nThe diff coverage is 68.46%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1422      +/-\n==========================================\n- Coverage    70.2%   62.42%   -7.79%   \n==========================================\n  Files         120      120            \n  Lines       12052    12026      -26   \n==========================================\n- Hits         8461     7507     -954   \n- Misses       3591     4519     +928\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 33.27% <\u00f8> (-17.27%) | :arrow_down: |\n| lbrynet/conf.py | 78.34% <100%> (-0.41%) | :arrow_down: |\n| lbrynet/daemon/auth/factory.py | 91.66% <100%> (+1.66%) | :arrow_up: |\n| lbrynet/daemon/auth/client.py | 50.56% <35.71%> (-43.89%) | :arrow_down: |\n| lbrynet/daemon/auth/server.py | 38.4% <42.85%> (-35.36%) | :arrow_down: |\n| lbrynet/daemon/auth/auth.py | 66.66% <60%> (-25.23%) | :arrow_down: |\n| lbrynet/daemon/auth/keyring.py | 72.15% <72.15%> (\u00f8) | |\n| lbrynet/daemon/auth/undecorated.py | 16.66% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/wallet/resolve.py | 10.03% <0%> (-62.14%) | :arrow_down: |\n| lbrynet/daemon/Publisher.py | 27.08% <0%> (-58.34%) | :arrow_down: |\n| ... and 28 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1fec9f5...2dd0221. Read the comment docs.\n. # Codecov Report\nMerging #1424 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1424   +/-\n=======================================\n  Coverage   69.98%   69.98%         \n=======================================\n  Files         120      120         \n  Lines       11921    11921         \n=======================================\n  Hits         8343     8343         \n  Misses       3578     3578\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 47.73% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ee5be5a...0144855. Read the comment docs.\n. # Codecov Report\nMerging #1425 into master will decrease coverage by <.01%.\nThe diff coverage is 14.28%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1425      +/-\n==========================================\n- Coverage   69.19%   69.19%   -0.01%   \n==========================================\n  Files         120      120            \n  Lines       11905    11904       -1   \n==========================================\n- Hits         8238     8237       -1   \n  Misses       3667     3667\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 40.33% <0%> (+0.06%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 50.21% <20%> (-0.65%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1c6ce49...10ce614. Read the comment docs.\n. # Codecov Report\nMerging #1426 into master will increase coverage by 0.02%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1426      +/-\n==========================================\n+ Coverage   69.96%   69.98%   +0.02%   \n==========================================\n  Files         120      120            \n  Lines       11925    11921       -4   \n==========================================\n  Hits         8343     8343            \n+ Misses       3582     3578       -4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 47.73% <0%> (+0.15%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d99ce5f...7489350. Read the comment docs.\n. # Codecov Report\nMerging #1427 into master will increase coverage by 0.2%.\nThe diff coverage is 95.34%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1427     +/-\n=========================================\n+ Coverage   69.98%   70.19%   +0.2%   \n=========================================\n  Files         120      120           \n  Lines       11921    11958     +37   \n=========================================\n+ Hits         8343     8394     +51   \n+ Misses       3578     3564     -14\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/script.py | 93.87% <100%> (+0.39%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 55.55% <100%> (+2.33%) | :arrow_up: |\n| lbrynet/wallet/transaction.py | 88.09% <100%> (+1.42%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 48.71% <90.47%> (+0.97%) | :arrow_up: |\n| lbrynet/wallet/resolve.py | 72.16% <0%> (+2.26%) | :arrow_up: |\n| lbrynet/wallet/ledger.py | 90.78% <0%> (+2.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ee5be5a...6220f3f. Read the comment docs.\n. # Codecov Report\nMerging #1428 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1428   +/-\n=======================================\n  Coverage   69.98%   69.98%         \n=======================================\n  Files         120      120         \n  Lines       11921    11921         \n=======================================\n  Hits         8343     8343         \n  Misses       3578     3578\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 47.73% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ee5be5a...af07fe6. Read the comment docs.\n. # Codecov Report\nMerging #1432 into master will decrease coverage by 0.07%.\nThe diff coverage is 78%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1432      +/-\n==========================================\n- Coverage   71.42%   71.35%   -0.08%   \n==========================================\n  Files         156      156            \n  Lines       14062    14047      -15   \n==========================================\n- Hits        10044    10023      -21   \n- Misses       4018     4024       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob/CryptBlob.py | 92.85% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/p2p/client/StreamProgressManager.py | 75.51% <72%> (+1.47%) | :arrow_up: |\n| lbrynet/extras/daemon/Downloader.py | 63.43% <85.71%> (-0.39%) | :arrow_down: |\n| lbrynet/blob/client/EncryptedFileDownloader.py | 66.9% <90%> (+1.48%) | :arrow_up: |\n| lbrynet/blob/EncryptedFileStatusReport.py | 33.33% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/blob/client/CryptStreamDownloader.py | 74.48% <0%> (-6.9%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9f0b1f3...434c7b5. Read the comment docs.\n. # Codecov Report\nMerging #1436 into master will increase coverage by 0.1%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1436     +/-\n=========================================\n+ Coverage   70.24%   70.34%   +0.1%   \n=========================================\n  Files         120      120           \n  Lines       12000    11995      -5   \n=========================================\n+ Hits         8429     8438      +9   \n+ Misses       3571     3557     -14\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 50.12% <100%> (+0.79%) | :arrow_up: |\n| lbrynet/wallet/database.py | 89.58% <0%> (+4.16%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c753a58...87b3510. Read the comment docs.\n. # Codecov Report\nMerging #1444 into master will increase coverage by 1.34%.\nThe diff coverage is 80.3%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1444      +/-\n==========================================\n+ Coverage   69.92%   71.27%   +1.34%   \n==========================================\n  Files         120      159      +39   \n  Lines       12219    14101    +1882   \n==========================================\n+ Hits         8544    10050    +1506   \n- Misses       3675     4051     +376\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/database.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/extras/wallet/claim_proofs.py | 74.6% <\u00f8> (\u00f8) | |\n| lbrynet/extras/wallet/header.py | 97.82% <\u00f8> (\u00f8) | |\n| lbrynet/extras/wallet/network.py | 71.42% <\u00f8> (\u00f8) | |\n| lbrynet/extras/wallet/dewies.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/extras/wallet/script.py | 93.87% <\u00f8> (\u00f8) | |\n| lbrynet/database/migrator/migrate5to6.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/schema/source.py | 100% <100%> (\u00f8) | |\n| lbrynet/extras/wallet/account.py | 55.93% <100%> (\u00f8) | |\n| lbrynet/extras/wallet/server/tx.py | 100% <100%> (\u00f8) | |\n| ... and 88 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d12b6cd...a3becf8. Read the comment docs.\n. # Codecov Report\nMerging #1448 into master will decrease coverage by 0.05%.\nThe diff coverage is 32.35%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1448      +/-\n==========================================\n- Coverage   70.34%   70.29%   -0.06%   \n==========================================\n  Files         120      120            \n  Lines       11995    12015      +20   \n==========================================\n+ Hits         8438     8446       +8   \n- Misses       3557     3569      +12\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 51.85% <20.83%> (-2.77%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 50.5% <60%> (+0.37%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1fb7ffd...66f3320. Read the comment docs.\n. # Codecov Report\nMerging #1449 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1449      +/-\n==========================================\n- Coverage   70.18%   70.17%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       11955    11957       +2   \n==========================================\n  Hits         8391     8391            \n- Misses       3564     3566       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 48.5% <0%> (-0.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 570c116...bf176ca. Read the comment docs.\n. # Codecov Report\nMerging #1449 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1449      +/-\n==========================================\n- Coverage   70.18%   70.17%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       11955    11957       +2   \n==========================================\n  Hits         8391     8391            \n- Misses       3564     3566       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 48.5% <0%> (-0.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 570c116...bf176ca. Read the comment docs.\n. # Codecov Report\nMerging #1449 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1449      +/-\n==========================================\n- Coverage   70.18%   70.17%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       11955    11957       +2   \n==========================================\n  Hits         8391     8391            \n- Misses       3564     3566       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 48.5% <0%> (-0.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 570c116...bf176ca. Read the comment docs.\n. # Codecov Report\nMerging #1449 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1449      +/-\n==========================================\n- Coverage   70.18%   70.17%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       11955    11957       +2   \n==========================================\n  Hits         8391     8391            \n- Misses       3564     3566       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 48.5% <0%> (-0.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 570c116...bf176ca. Read the comment docs.\n. # Codecov Report\nMerging #1450 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1450   +/-\n=======================================\n  Coverage   70.18%   70.18%         \n=======================================\n  Files         120      120         \n  Lines       11955    11955         \n=======================================\n  Hits         8391     8391         \n  Misses       3564     3564\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/auth/server.py | 73.68% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 570c116...b8f8383. Read the comment docs.\n. # Codecov Report\nMerging #1451 into master will decrease coverage by 0.67%.\nThe diff coverage is 60%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1451      +/-\n=========================================\n- Coverage   70.17%   69.5%   -0.68%   \n=========================================\n  Files         120     120            \n  Lines       11957   12512     +555   \n=========================================\n+ Hits         8391    8696     +305   \n- Misses       3566    3816     +250\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 56.77% <100%> (+1.22%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 49.67% <55.55%> (+1.16%) | :arrow_up: |\n| lbrynet/wallet/database.py | 89.47% <60%> (-7.31%) | :arrow_down: |\n| lbrynet/wallet/transaction.py | 89.69% <0%> (+1.59%) | :arrow_up: |\n| lbrynet/wallet/script.py | 96.22% <0%> (+2.34%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 91405ef...e850e18. Read the comment docs.\n. # Codecov Report\nMerging #1451 into master will decrease coverage by 0.67%.\nThe diff coverage is 60%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1451      +/-\n=========================================\n- Coverage   70.17%   69.5%   -0.68%   \n=========================================\n  Files         120     120            \n  Lines       11957   12512     +555   \n=========================================\n+ Hits         8391    8696     +305   \n- Misses       3566    3816     +250\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 56.77% <100%> (+1.22%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 49.67% <55.55%> (+1.16%) | :arrow_up: |\n| lbrynet/wallet/database.py | 89.47% <60%> (-7.31%) | :arrow_down: |\n| lbrynet/wallet/transaction.py | 89.69% <0%> (+1.59%) | :arrow_up: |\n| lbrynet/wallet/script.py | 96.22% <0%> (+2.34%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 91405ef...e850e18. Read the comment docs.\n. # Codecov Report\nMerging #1455 into master will increase coverage by 0.02%.\nThe diff coverage is 89.47%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1455      +/-\n==========================================\n+ Coverage   70.56%   70.58%   +0.02%   \n==========================================\n  Files         120      120            \n  Lines       12153    12152       -1   \n==========================================\n+ Hits         8576     8578       +2   \n+ Misses       3577     3574       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 79.6% <89.47%> (+0.78%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 72ce0cd...a6f3529. Read the comment docs.\n. # Codecov Report\nMerging #1456 into master will increase coverage by 0.12%.\nThe diff coverage is 50%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1456      +/-\n==========================================\n+ Coverage   70.13%   70.25%   +0.12%   \n==========================================\n  Files         120      120            \n  Lines       12008    11973      -35   \n==========================================\n- Hits         8422     8412      -10   \n+ Misses       3586     3561      -25\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/json_response_encoder.py | 88.88% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/database.py | 85.41% <40%> (-5.5%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 49.41% <48.93%> (+1.13%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 54.65% <53.33%> (-0.63%) | :arrow_down: |\n| lbrynet/wallet/account.py | 54.8% <66.66%> (-0.1%) | :arrow_down: |\n| lbrynet/core/Error.py | 79.8% <0%> (-1.11%) | :arrow_down: |\n| ...brynet/lbry_file/client/EncryptedFileDownloader.py | 65.15% <0%> (-0.27%) | :arrow_down: |\n| lbrynet/analytics.py | 58.66% <0%> (+0.17%) | :arrow_up: |\n| ... and 1 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ce4d734...da8f27c. Read the comment docs.\n. # Codecov Report\nMerging #1460 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1460      +/-\n==========================================\n+ Coverage   70.13%   70.14%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       11972    11974       +2   \n==========================================\n+ Hits         8397     8399       +2   \n  Misses       3575     3575\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/core/system_info.py | 86.84% <100%> (+0.73%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update cc7656f...d99c9a2. Read the comment docs.\n. # Codecov Report\nMerging #1461 into master will increase coverage by <.01%.\nThe diff coverage is 87.5%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1461      +/-\n==========================================\n+ Coverage   70.14%   70.15%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       11974    11984      +10   \n==========================================\n+ Hits         8399     8407       +8   \n- Misses       3575     3577       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/account.py | 54.9% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/database.py | 90.9% <100%> (+1.43%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 55.32% <66.66%> (-0.23%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 48.35% <80%> (+0.04%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5430a0f...5855388. Read the comment docs.\n. # Codecov Report\nMerging #1465 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1465   +/-\n=======================================\n  Coverage   70.15%   70.15%         \n=======================================\n  Files         120      120         \n  Lines       11984    11984         \n=======================================\n  Hits         8407     8407         \n  Misses       3577     3577\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 48.35% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ad492a0...c79794d. Read the comment docs.\n. # Codecov Report\nMerging #1466 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1466      +/-\n==========================================\n+ Coverage   70.29%   70.29%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       12015    12016       +1   \n==========================================\n+ Hits         8446     8447       +1   \n  Misses       3569     3569\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/auth/server.py | 73.75% <100%> (+0.06%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 202a957...ff5b7e1. Read the comment docs.\n. # Codecov Report\nMerging #1468 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1468   +/-\n=======================================\n  Coverage   70.24%   70.24%         \n=======================================\n  Files         120      120         \n  Lines       12000    12000         \n=======================================\n  Hits         8429     8429         \n  Misses       3571     3571\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2f4e691...b606b71. Read the comment docs.\n. # Codecov Report\nMerging #1480 into master will increase coverage by 0.05%.\nThe diff coverage is 50%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1480      +/-\n==========================================\n+ Coverage   70.22%   70.27%   +0.05%   \n==========================================\n  Files         120      120            \n  Lines       12062    12051      -11   \n==========================================\n- Hits         8470     8469       -1   \n+ Misses       3592     3582      -10\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/cli.py | 79.82% <33.33%> (-1.26%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 50.97% <66.66%> (+0.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3d36e36...3d72b2a. Read the comment docs.\n. # Codecov Report\nMerging #1482 into master will decrease coverage by 0.67%.\nThe diff coverage is 52.38%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1482      +/-\n==========================================\n- Coverage   70.29%   69.62%   -0.68%   \n==========================================\n  Files         120      120            \n  Lines       12016    12655     +639   \n==========================================\n+ Hits         8447     8811     +364   \n- Misses       3569     3844     +275\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/database.py | 89.79% <100%> (+0.21%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 50.06% <100%> (-0.44%) | :arrow_down: |\n| lbrynet/wallet/transaction.py | 74.52% <22.72%> (-13.57%) | :arrow_down: |\n| lbrynet/wallet/manager.py | 57.5% <63.88%> (+5.64%) | :arrow_up: |\n| lbrynet/daemon/auth/server.py | 76.37% <0%> (+2.62%) | :arrow_up: |\n| lbrynet/daemon/json_response_encoder.py | 90% <0%> (+3.33%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1c28492...a1a6540. Read the comment docs.\n. # Codecov Report\nMerging #1487 into master will increase coverage by <.01%.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1487      +/-\n==========================================\n+ Coverage   70.27%   70.27%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       12051    12052       +1   \n==========================================\n+ Hits         8469     8470       +1   \n  Misses       3582     3582\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 51.77% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/resolve.py | 72.25% <50%> (+0.08%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0fb6f50...affcbb8. Read the comment docs.\n. # Codecov Report\nMerging #1490 into master will decrease coverage by 0.04%.\nThe diff coverage is 93.75%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1490      +/-\n==========================================\n- Coverage   70.65%   70.61%   -0.05%   \n==========================================\n  Files         121      121            \n  Lines       12055    12037      -18   \n==========================================\n- Hits         8518     8500      -18   \n  Misses       3537     3537\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 84.71% <100%> (-0.05%) | :arrow_down: |\n| lbrynet/dht/protocol.py | 74.55% <93.1%> (-1.45%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2f95c3a...50003d2. Read the comment docs.\n. # Codecov Report\nMerging #1491 into master will increase coverage by 0.26%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1491      +/-\n==========================================\n+ Coverage   70.27%   70.54%   +0.26%   \n==========================================\n  Files         120      120            \n  Lines       12052    12053       +1   \n==========================================\n+ Hits         8470     8503      +33   \n+ Misses       3582     3550      -32\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 80.8% <100%> (+3.02%) | :arrow_up: |\n| lbrynet/dht/contact.py | 93.44% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol.py | 76% <100%> (+7.2%) | :arrow_up: |\n| lbrynet/dht/msgtypes.py | 92.59% <0%> (+3.7%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9f8d3e6...9178ca7. Read the comment docs.\n. # Codecov Report\nMerging #1493 into master will increase coverage by <.01%.\nThe diff coverage is 25%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1493      +/-\n==========================================\n+ Coverage   70.67%   70.68%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       12046    12050       +4   \n==========================================\n+ Hits         8514     8517       +3   \n- Misses       3532     3533       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Components.py | 57.28% <25%> (-0.27%) | :arrow_down: |\n| lbrynet/core/system_info.py | 92.1% <0%> (+5.26%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update bdf6887...ca9d48d. Read the comment docs.\n. # Codecov Report\nMerging #1495 into master will increase coverage by <.01%.\nThe diff coverage is 85.71%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1495      +/-\n=========================================\n+ Coverage   71.09%   71.1%   +<.01%   \n=========================================\n  Files         158     158            \n  Lines       14015   14026      +11   \n=========================================\n+ Hits         9964    9973       +9   \n- Misses       4051    4053       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol.py | 74.82% <85.71%> (+0.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update cdd65c6...db89830. Read the comment docs.\n. # Codecov Report\nMerging #1496 into master will increase coverage by 0.13%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1496      +/-\n==========================================\n+ Coverage   70.27%   70.41%   +0.13%   \n==========================================\n  Files         120      120            \n  Lines       12052    12044       -8   \n==========================================\n+ Hits         8470     8481      +11   \n+ Misses       3582     3563      -19\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 81.64% <100%> (+3.86%) | :arrow_up: |\n| lbrynet/dht/kbucket.py | 98.11% <0%> (+1.88%) | :arrow_up: |\n| lbrynet/dht/iterativefind.py | 78.48% <0%> (+2.53%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9f8d3e6...b4aa514. Read the comment docs.\n. # Codecov Report\nMerging #1499 into master will increase coverage by 0.01%.\nThe diff coverage is 90%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1499      +/-\n==========================================\n+ Coverage   70.68%   70.69%   +0.01%   \n==========================================\n  Files         120      120            \n  Lines       12045    12051       +6   \n==========================================\n+ Hits         8514     8520       +6   \n  Misses       3531     3531\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/contact.py | 93.44% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/node.py | 84.76% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/routingtable.py | 94.24% <100%> (+0.25%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 673d259...463cbde. Read the comment docs.\n. # Codecov Report\nMerging #1506 into master will decrease coverage by 0.02%.\nThe diff coverage is 72.72%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1506      +/-\n==========================================\n- Coverage   70.67%   70.64%   -0.03%   \n==========================================\n  Files         120      120            \n  Lines       12051    12047       -4   \n==========================================\n- Hits         8517     8511       -6   \n- Misses       3534     3536       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/certificate.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/manager.py | 50.85% <46.15%> (-0.92%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 50.97% <57.14%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/account.py | 56.07% <80%> (+1.26%) | :arrow_up: |\n| lbrynet/wallet/database.py | 97.14% <94.44%> (+7.34%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1a5b2c0...74313a7. Read the comment docs.\n. # Codecov Report\nMerging #1507 into master will increase coverage by 0.11%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1507      +/-\n==========================================\n+ Coverage   71.14%   71.26%   +0.11%   \n==========================================\n  Files         156      156            \n  Lines       14094    14065      -29   \n==========================================\n- Hits        10027    10023       -4   \n+ Misses       4067     4042      -25\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 64.87% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 50.17% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Downloader.py | 61.94% <0%> (-1.5%) | :arrow_down: |\n| lbrynet/extras/wallet/account.py | 53.6% <0%> (+8.79%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b36a5f9...e4c3e03. Read the comment docs.\n. # Codecov Report\nMerging #1510 into master will increase coverage by 0.26%.\nThe diff coverage is 23.07%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1510      +/-\n==========================================\n+ Coverage   70.56%   70.83%   +0.26%   \n==========================================\n  Files         120      120            \n  Lines       12153    12273     +120   \n==========================================\n+ Hits         8576     8693     +117   \n- Misses       3577     3580       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/peerfinder.py | 45.71% <23.07%> (+5.71%) | :arrow_up: |\n| lbrynet/wallet/ledger.py | 91.25% <0%> (+0.46%) | :arrow_up: |\n| lbrynet/conf.py | 82.52% <0%> (+3.7%) | :arrow_up: |\n| lbrynet/wallet/account.py | 60.15% <0%> (+5.61%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 72ce0cd...104c169. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@3664c25). Click here to learn what that means.\nThe diff coverage is 11.76%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1512   +/-\n=========================================\n  Coverage          ?   48.03%         \n=========================================\n  Files             ?      121         \n  Lines             ?    12072         \n  Branches          ?        0         \n=========================================\n  Hits              ?     5799         \n  Misses            ?     6273         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Components.py | 33.4% <0%> (\u00f8) | |\n| lbrynet/wallet/manager.py | 29.68% <12.12%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3664c25...cb65767. Read the comment docs.\n. # Codecov Report\nMerging #1513 into master will increase coverage by 22.96%.\nThe diff coverage is 74.21%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1513       +/-\n===========================================\n+ Coverage   48.11%   71.08%   +22.96%   \n===========================================\n  Files         121      120        -1   \n  Lines       12043    12303      +260   \n===========================================\n+ Hits         5795     8746     +2951   \n+ Misses       6248     3557     -2691\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/account.py | 53.92% <100%> (+30.55%) | :arrow_up: |\n| lbrynet/daemon/json_response_encoder.py | 93.33% <100%> (+93.33%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 49.95% <35.29%> (+49.95%) | :arrow_up: |\n| lbrynet/wallet/manager.py | 50.51% <37.5%> (+19.24%) | :arrow_up: |\n| lbrynet/wallet/database.py | 92.06% <87.17%> (+60.63%) | :arrow_up: |\n| lbrynet/wallet/transaction.py | 80% <96.55%> (+33.77%) | :arrow_up: |\n| lbrynet/dht/node.py | 85.04% <0%> (+0.33%) | :arrow_up: |\n| lbrynet/dht/datastore.py | 94.73% <0%> (+2.63%) | :arrow_up: |\n| lbrynet/file_manager/EncryptedFileManager.py | 78.12% <0%> (+4.37%) | :arrow_up: |\n| lbrynet/dht/routingtable.py | 97.47% <0%> (+4.66%) | :arrow_up: |\n| ... and 58 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c6092a4...529d225. Read the comment docs.\n. # Codecov Report\nMerging #1514 into master will decrease coverage by 4.97%.\nThe diff coverage is 80%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1514      +/-\n==========================================\n- Coverage   70.52%   65.54%   -4.98%   \n==========================================\n  Files         120      121       +1   \n  Lines       12151    12057      -94   \n==========================================\n- Hits         8569     7903     -666   \n- Misses       3582     4154     +572\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/__init__.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/core/system_info.py | 86.84% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/cli.py | 43.96% <50%> (-35.17%) | :arrow_down: |\n| lbrynet/file_manager/EncryptedFileStatusReport.py | 33.33% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/dht/hashannouncer.py | 22.38% <0%> (-52.24%) | :arrow_down: |\n| lbrynet/core/PriceModel.py | 55.17% <0%> (-41.38%) | :arrow_down: |\n| lbrynet/daemon/Downloader.py | 28.66% <0%> (-34.67%) | :arrow_down: |\n| lbrynet/daemon/ExchangeRateManager.py | 41.05% <0%> (-34.44%) | :arrow_down: |\n| lbrynet/core/HTTPBlobDownloader.py | 43.91% <0%> (-33.79%) | :arrow_down: |\n| ... and 37 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 82871b8...505cc6c. Read the comment docs.\n. # Codecov Report\nMerging #1516 into master will decrease coverage by 0.01%.\nThe diff coverage is 15.38%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1516      +/-\n==========================================\n- Coverage   70.17%   70.16%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       12159    12163       +4   \n==========================================\n+ Hits         8533     8534       +1   \n- Misses       3626     3629       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/core/log_support.py | 27.21% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Components.py | 57.57% <16.66%> (-0.27%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 99ea7a2...e405d27. Read the comment docs.\n. # Codecov Report\nMerging #1522 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1522   +/-\n=======================================\n  Coverage   70.56%   70.56%         \n=======================================\n  Files         120      120         \n  Lines       12152    12152         \n=======================================\n  Hits         8575     8575         \n  Misses       3577     3577\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 50.59% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d4e7650...a1bf832. Read the comment docs.\n. # Codecov Report\nMerging #1524 into master will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1524      +/-\n==========================================\n+ Coverage   70.56%   70.58%   +0.01%   \n==========================================\n  Files         120      120            \n  Lines       12153    12159       +6   \n==========================================\n+ Hits         8576     8582       +6   \n  Misses       3577     3577\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/account.py | 56.52% <100%> (+1.97%) | :arrow_up: |\n| lbrynet/wallet/ledger.py | 90.9% <100%> (+0.11%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 72ce0cd...5b961c1. Read the comment docs.\n. # Codecov Report\nMerging #1525 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1525      +/-\n==========================================\n+ Coverage   70.56%   70.56%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       12153    12154       +1   \n==========================================\n+ Hits         8576     8577       +1   \n  Misses       3577     3577\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 46.74% <100%> (+0.16%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 73519f8...bd11adf. Read the comment docs.\n. # Codecov Report\nMerging #1528 into master will increase coverage by 0.23%.\nThe diff coverage is 20%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1528      +/-\n==========================================\n+ Coverage   69.96%   70.19%   +0.23%   \n==========================================\n  Files         120      120            \n  Lines       12204    12153      -51   \n==========================================\n- Hits         8538     8531       -7   \n+ Misses       3666     3622      -44\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/core/SinglePeerDownloader.py | 37.5% <20%> (-0.66%) | :arrow_down: |\n| lbrynet/analytics.py | 58.49% <0%> (-0.16%) | :arrow_down: |\n| lbrynet/core/HTTPBlobDownloader.py | 77.7% <0%> (-0.15%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 50% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/account.py | 57.89% <0%> (+1.96%) | :arrow_up: |\n| lbrynet/daemon/Components.py | 57.57% <0%> (+4.07%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3364ac0...a692b6f. Read the comment docs.\n. # Codecov Report\nMerging #1530 into master will decrease coverage by <.01%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1530      +/-\n==========================================\n- Coverage   70.62%   70.61%   -0.01%   \n==========================================\n  Files         120      120            \n  Lines       12158    12163       +5   \n==========================================\n+ Hits         8586     8589       +3   \n- Misses       3572     3574       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/transaction.py | 79.25% <66.66%> (-0.75%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d9fcc45...1aa8515. Read the comment docs.\n. # Codecov Report\nMerging #1534 into master will increase coverage by 0.01%.\nThe diff coverage is 87.5%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1534      +/-\n==========================================\n+ Coverage   70.62%   70.63%   +0.01%   \n==========================================\n  Files         120      120            \n  Lines       12159    12167       +8   \n==========================================\n+ Hits         8587     8594       +7   \n- Misses       3572     3573       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/manager.py | 46.74% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/database.py | 92.06% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/transaction.py | 80.15% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Downloader.py | 63.57% <33.33%> (+0.24%) | :arrow_up: |\n| lbrynet/daemon/json_response_encoder.py | 92.3% <92.85%> (-1.03%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f01ad0e...5addfe7. Read the comment docs.\n. # Codecov Report\nMerging #1538 into master will decrease coverage by 0.53%.\nThe diff coverage is 77.03%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1538      +/-\n==========================================\n- Coverage   70.71%   70.17%   -0.54%   \n==========================================\n  Files         120      120            \n  Lines       12175    12161      -14   \n==========================================\n- Hits         8609     8534      -75   \n- Misses       3566     3627      +61\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/wallet/database.py | 98.36% <100%> (-0.06%) | :arrow_down: |\n| lbrynet/daemon/ComponentManager.py | 90.43% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/core/utils.py | 62.58% <100%> (+0.24%) | :arrow_up: |\n| lbrynet/daemon/Components.py | 57.84% <37.5%> (+0.31%) | :arrow_up: |\n| lbrynet/daemon/auth/server.py | 72.61% <53.33%> (-1.1%) | :arrow_down: |\n| lbrynet/wallet/account.py | 57.89% <62.5%> (-0.37%) | :arrow_down: |\n| lbrynet/wallet/manager.py | 46.05% <78%> (-0.84%) | :arrow_down: |\n| lbrynet/daemon/Publisher.py | 85.41% <78.57%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 49.91% <89.47%> (-0.68%) | :arrow_down: |\n| lbrynet/wallet/ledger.py | 91.76% <90%> (\u00f8) | :arrow_up: |\n| ... and 3 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 330db61...455d8d9. Read the comment docs.\n. # Codecov Report\nMerging #1540 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1540   +/-\n=======================================\n  Coverage   70.71%   70.71%         \n=======================================\n  Files         120      120         \n  Lines       12175    12175         \n=======================================\n  Hits         8609     8609         \n  Misses       3566     3566\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 330db61...4bcc755. Read the comment docs.\n. # Codecov Report\nMerging #1542 into master will increase coverage by <.01%.\nThe diff coverage is 41.17%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1542      +/-\n==========================================\n+ Coverage   70.17%   70.18%   +<.01%   \n==========================================\n  Files         120      120            \n  Lines       12159    12155       -4   \n==========================================\n- Hits         8533     8531       -2   \n+ Misses       3626     3624       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Downloader.py | 63.81% <33.33%> (+0.23%) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 49.87% <42.85%> (-0.05%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 99ea7a2...b00ad8d. Read the comment docs.\n. # Codecov Report\nMerging #1543 into master will decrease coverage by 0.22%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1543      +/-\n==========================================\n- Coverage   70.17%   69.95%   -0.23%   \n==========================================\n  Files         120      120            \n  Lines       12159    12347     +188   \n==========================================\n+ Hits         8533     8637     +104   \n- Misses       3626     3710      +84\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 50.66% <100%> (+0.75%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 99ea7a2...56e3b72. Read the comment docs.\n. # Codecov Report\nMerging #1546 into master will decrease coverage by 0.01%.\nThe diff coverage is 28.57%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1546      +/-\n==========================================\n- Coverage   70.18%   70.17%   -0.02%   \n==========================================\n  Files         120      120            \n  Lines       12150    12149       -1   \n==========================================\n- Hits         8527     8525       -2   \n- Misses       3623     3624       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 49.73% <28.57%> (-0.01%) | :arrow_down: |\n| lbrynet/wallet/manager.py | 45.91% <0%> (-0.44%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8db7c15...cb88b07. Read the comment docs.\n. # Codecov Report\nMerging #1549 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1549   +/-\n=======================================\n  Coverage   70.21%   70.21%         \n=======================================\n  Files         120      120         \n  Lines       12149    12149         \n=======================================\n  Hits         8530     8530         \n  Misses       3619     3619\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 45c2cd2...ed98a3c. Read the comment docs.\n. # Codecov Report\nMerging #1550 into master will not change coverage.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1550   +/-\n=======================================\n  Coverage   70.21%   70.21%         \n=======================================\n  Files         120      120         \n  Lines       12149    12149         \n=======================================\n  Hits         8530     8530         \n  Misses       3619     3619\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol.py | 74.55% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/custom_logger.py | 89.36% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/routingtable.py | 94.24% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/build_type.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/core/client/BlobRequester.py | 77.23% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/core/log_support.py | 27.21% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/interface.py | 0% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/core/Peer.py | 87.87% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/cryptstream/CryptBlob.py | 92.85% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 90.62% <\u00f8> (\u00f8) | :arrow_up: |\n| ... and 3 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 67a15ea...3f704be. Read the comment docs.\n. # Codecov Report\nMerging #1551 into master will decrease coverage by 8.16%.\nThe diff coverage is 20.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1551      +/-\n==========================================\n- Coverage   69.94%   61.78%   -8.17%   \n==========================================\n  Files         120      120            \n  Lines       12208    12154      -54   \n==========================================\n- Hits         8539     7509    -1030   \n- Misses       3669     4645     +976\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/database/storage.py | 77.27% <\u00f8> (-3.64%) | :arrow_down: |\n| lbrynet/core/HTTPBlobDownloader.py | 77.18% <\u00f8> (-0.68%) | :arrow_down: |\n| lbrynet/daemon/ExchangeRateManager.py | 75.49% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/core/utils.py | 57.41% <\u00f8> (-5.17%) | :arrow_down: |\n| lbrynet/daemon/Downloader.py | 63.81% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/daemon/Daemon.py | 32.49% <0%> (-17.51%) | :arrow_down: |\n| lbrynet/dht/node.py | 84.71% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/reflector/client/client.py | 85.54% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol.py | 74.55% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/resolve.py | 8.91% <0%> (-63.04%) | :arrow_down: |\n| ... and 52 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 18a0204...d666159. Read the comment docs.\n. # Codecov Report\nMerging #1552 into master will decrease coverage by 4.85%.\nThe diff coverage is 8.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1552      +/-\n==========================================\n- Coverage   70.19%   65.33%   -4.86%   \n==========================================\n  Files         120      120            \n  Lines       12154    12204      +50   \n==========================================\n- Hits         8531     7973     -558   \n- Misses       3623     4231     +608\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/Daemon.py | 44.02% <\u00f8> (-5.98%) | :arrow_down: |\n| lbrynet/core/utils.py | 55.48% <0%> (-7.1%) | :arrow_down: |\n| lbrynet/daemon/Components.py | 50.92% <5.88%> (-6.66%) | :arrow_down: |\n| lbrynet/analytics.py | 38.88% <66.66%> (-19.61%) | :arrow_down: |\n| lbrynet/file_manager/EncryptedFileStatusReport.py | 33.33% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/dht/hashannouncer.py | 22.38% <0%> (-52.24%) | :arrow_down: |\n| lbrynet/core/PriceModel.py | 55.17% <0%> (-41.38%) | :arrow_down: |\n| lbrynet/cli.py | 43.96% <0%> (-35.35%) | :arrow_down: |\n| lbrynet/daemon/ExchangeRateManager.py | 41.05% <0%> (-34.44%) | :arrow_down: |\n| lbrynet/daemon/Downloader.py | 29.6% <0%> (-34.22%) | :arrow_down: |\n| ... and 30 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 07d353a...0ed56bb. Read the comment docs.\n. # Codecov Report\nMerging #1553 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1553   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12208    12208         \n=======================================\n  Hits         8539     8539         \n  Misses       3669     3669\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e19f8f3...4c525b1. Read the comment docs.\n. # Codecov Report\nMerging #1556 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1556   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12208    12208         \n=======================================\n  Hits         8539     8539         \n  Misses       3669     3669\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 196f3ba...f2c3f75. Read the comment docs.\n. # Codecov Report\nMerging #1560 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1560   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12213    12213         \n=======================================\n  Hits         8542     8542         \n  Misses       3671     3671\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e03e41a...feba180. Read the comment docs.\n. # Codecov Report\nMerging #1562 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1562   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12213    12213         \n=======================================\n  Hits         8542     8542         \n  Misses       3671     3671\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e03e41a...6fa4cb6. Read the comment docs.\n. # Codecov Report\nMerging #1563 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1563   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12213    12213         \n=======================================\n  Hits         8542     8542         \n  Misses       3671     3671\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/interfaces.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e03e41a...7ff34b5. Read the comment docs.\n. # Codecov Report\nMerging #1565 into master will decrease coverage by 8.39%.\nThe diff coverage is 81.48%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1565     +/-\n=========================================\n- Coverage   69.94%   61.55%   -8.4%   \n=========================================\n  Files         120      120           \n  Lines       12213    12219      +6   \n=========================================\n- Hits         8542     7521   -1021   \n- Misses       3671     4698   +1027\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/daemon/ComponentManager.py | 80.17% <0%> (-10.27%) | :arrow_down: |\n| lbrynet/wallet/__init__.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/claim_proofs.py | 74.6% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/wallet/network.py | 57.14% <100%> (-14.29%) | :arrow_down: |\n| lbrynet/wallet/ledger.py | 70.58% <100%> (-21.18%) | :arrow_down: |\n| lbrynet/daemon/Daemon.py | 32.49% <100%> (-17.51%) | :arrow_down: |\n| lbrynet/wallet/header.py | 95.65% <100%> (-2.18%) | :arrow_down: |\n| lbrynet/wallet/account.py | 34.74% <100%> (-21.19%) | :arrow_down: |\n| lbrynet/wallet/database.py | 31.14% <100%> (-68.86%) | :arrow_down: |\n| lbrynet/wallet/manager.py | 28.75% <100%> (-17.26%) | :arrow_down: |\n| ... and 37 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2f47a37...98c9dfd. Read the comment docs.\n. # Codecov Report\nMerging #1567 into master will decrease coverage by 9.66%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1567      +/-\n==========================================\n- Coverage   71.23%   61.56%   -9.67%   \n==========================================\n  Files         156      120      -36   \n  Lines       14046    12213    -1833   \n==========================================\n- Hits        10005     7519    -2486   \n- Misses       4041     4694     +653\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 63.17% <0%> (-1.7%) | :arrow_down: |\n| lbrynet/custom_logger.py | 89.36% <0%> (-0.64%) | :arrow_down: |\n| lbrynet/blob/blob_file.py | 90.62% <0%> (-0.36%) | :arrow_down: |\n| lbrynet/dht/protocol.py | 74.55% <0%> (-0.02%) | :arrow_down: |\n| lbrynet/dht/interface.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/__init__.py | 100% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/keyring.py | | |\n| lbrynet/p2p/SinglePeerDownloader.py | | |\n| lbrynet/p2p/server/ServerProtocol.py | | |\n| lbrynet/p2p/BlobManager.py | | |\n| ... and 227 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update bae2676...5a1f42e. Read the comment docs.\n. # Codecov Report\nMerging #1570 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1570   +/-\n=======================================\n  Coverage   69.94%   69.94%         \n=======================================\n  Files         120      120         \n  Lines       12213    12213         \n=======================================\n  Hits         8542     8542         \n  Misses       3671     3671\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2f47a37...4925b47. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@83c0baa). Click here to learn what that means.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1571   +/-\n=========================================\n  Coverage          ?   69.94%         \n=========================================\n  Files             ?      120         \n  Lines             ?    12213         \n  Branches          ?        0         \n=========================================\n  Hits              ?     8542         \n  Misses            ?     3671         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/cli.py | 79.31% <\u00f8> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 83c0baa...0e0ce0d. Read the comment docs.\n. # Codecov Report\nMerging #1574 into master will decrease coverage by 1.16%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1574      +/-\n==========================================\n- Coverage    71.1%   69.94%   -1.17%   \n==========================================\n  Files         158      120      -38   \n  Lines       14026    12213    -1813   \n==========================================\n- Hits         9973     8542    -1431   \n+ Misses       4053     3671     -382\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol.py | 74.55% <0%> (-0.28%) | :arrow_down: |\n| lbrynet/dht/peerfinder.py | 45.71% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/keyring.py | | |\n| lbrynet/schema/schema/signature.py | | |\n| lbrynet/p2p/SinglePeerDownloader.py | | |\n| lbrynet/p2p/server/ServerProtocol.py | | |\n| lbrynet/p2p/BlobManager.py | | |\n| lbrynet/extras/daemon/DaemonConsole.py | | |\n| lbrynet/p2p/client/ClientRequest.py | | |\n| lbrynet/extras/daemon/json_response_encoder.py | | |\n| ... and 218 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f1feec6...9fbb9f2. Read the comment docs.\n. # Codecov Report\nMerging #1579 into master will decrease coverage by 0.18%.\nThe diff coverage is 92.64%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1579      +/-\n==========================================\n- Coverage   71.27%   71.09%   -0.19%   \n==========================================\n  Files         159      159            \n  Lines       14101    14016      -85   \n==========================================\n- Hits        10050     9964      -86   \n- Misses       4051     4052       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/p2p/server/ServerRequestHandler.py | 84.12% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/BlobManager.py | 92.15% <\u00f8> (\u00f8) | |\n| lbrynet/extras/daemon/migrator/migrate3to4.py | 0% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/client/ClientRequest.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/extras/daemon/json_response_encoder.py | 85.48% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/client/DownloadManager.py | 83.33% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/BlobInfo.py | 100% <\u00f8> (\u00f8) | |\n| ...brynet/blob/client/EncryptedFileMetadataHandler.py | 96% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/DownloadOption.py | 30.76% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/Offer.py | 75% <\u00f8> (\u00f8) | |\n| ... and 80 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7153417...78ea80e. Read the comment docs.\n. # Codecov Report\nMerging #1580 into master will increase coverage by 27.3%.\nThe diff coverage is 89.28%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1580      +/-\n==========================================\n+ Coverage   44.12%   71.43%   +27.3%   \n==========================================\n  Files         158      158            \n  Lines       14028    14132     +104   \n==========================================\n+ Hits         6190    10095    +3905   \n+ Misses       7838     4037    -3801\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/account.py | 55.93% <0%> (+21.18%) | :arrow_up: |\n| lbrynet/extras/wallet/transaction.py | 87.94% <100%> (+32.21%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 50.38% <100%> (+17.89%) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 50.76% <83.33%> (+22.01%) | :arrow_up: |\n| lbrynet/p2p/HTTPBlobDownloader.py | 77.85% <0%> (+0.67%) | :arrow_up: |\n| lbrynet/p2p/Strategy.py | 94% <0%> (+1%) | :arrow_up: |\n| lbrynet/extras/daemon/conf.py | 64.87% <0%> (+1.69%) | :arrow_up: |\n| lbrynet/dht/kbucket.py | 98.11% <0%> (+1.88%) | :arrow_up: |\n| lbrynet/custom_logger.py | 89.36% <0%> (+2.12%) | :arrow_up: |\n| lbrynet/extras/wallet/header.py | 97.82% <0%> (+2.17%) | :arrow_up: |\n| ... and 81 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6ecfc94...4658d1e. Read the comment docs.\n. # Codecov Report\nMerging #1604 into master will decrease coverage by 0.28%.\nThe diff coverage is 72.16%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1604      +/-\n==========================================\n- Coverage   71.33%   71.04%   -0.29%   \n==========================================\n  Files         158      156       -2   \n  Lines       14056    14040      -16   \n==========================================\n- Hits        10027     9975      -52   \n- Misses       4029     4065      +36\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/looping_call_manager.py | 93.75% <\u00f8> (\u00f8) | |\n| lbrynet/dht/call_later_manager.py | 95.23% <\u00f8> (\u00f8) | |\n| lbrynet/cryptoutils.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/extras/daemon/PeerManager.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/winpaths.py | 2.12% <\u00f8> (\u00f8) | |\n| lbrynet/extras/reflector/__init__.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate5to6.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/__init__.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/keyring.py | 94.93% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/utils.py | 61.33% <100%> (\u00f8) | |\n| ... and 66 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 57430e9...7c8016d. Read the comment docs.\n. # Codecov Report\nMerging #1605 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster   #1605   +/-\n======================================\n  Coverage    71.1%   71.1%         \n======================================\n  Files         158     158         \n  Lines       14026   14026         \n======================================\n  Hits         9973    9973         \n  Misses       4053    4053\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b7ae446...5d7f9df. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@83c0baa). Click here to learn what that means.\nThe diff coverage is 100%.\n\n\n```diff\n@@           Coverage Diff            @@\nmaster   #1612   +/-\n========================================\n  Coverage          ?   71.1%         \n========================================\n  Files             ?     158         \n  Lines             ?   14027         \n  Branches          ?       0         \n========================================\n  Hits              ?    9974         \n  Misses            ?    4053         \n  Partials          ?       0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 80.95% <100%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 83c0baa...71951de. Read the comment docs.\n. # Codecov Report\nMerging #1613 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1613      +/-\n=========================================\n+ Coverage    71.1%   71.1%   +<.01%   \n=========================================\n  Files         158     158            \n  Lines       14026   14028       +2   \n=========================================\n+ Hits         9973    9975       +2   \n  Misses       4053    4053\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/ledger.py | 91.95% <100%> (+0.18%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f1feec6...22075fa. Read the comment docs.\n. # Codecov Report\nMerging #1618 into master will decrease coverage by 13.16%.\nThe diff coverage is 25%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1618       +/-\n===========================================\n- Coverage   71.31%   58.15%   -13.17%   \n===========================================\n  Files         158      158             \n  Lines       14054    14056        +2   \n===========================================\n- Hits        10023     8174     -1849   \n- Misses       4031     5882     +1851\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/database.py | 31.14% <0%> (-68.86%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 32.26% <33.33%> (-18.12%) | :arrow_down: |\n| lbrynet/extras/wallet/server/tx.py | 0% <0%> (-100%) | :arrow_down: |\n| lbrynet/extras/wallet/server/model.py | 0% <0%> (-95.84%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 0% <0%> (-89.95%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 0% <0%> (-88.1%) | :arrow_down: |\n| lbrynet/extras/wallet/server/opcodes.py | 0% <0%> (-78.05%) | :arrow_down: |\n| lbrynet/extras/wallet/server/daemon.py | 0% <0%> (-77.42%) | :arrow_down: |\n| lbrynet/extras/wallet/server/block_processor.py | 0% <0%> (-71.65%) | :arrow_down: |\n| lbrynet/extras/daemon/auth/undecorated.py | 16.66% <0%> (-66.67%) | :arrow_down: |\n| ... and 40 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update daecc58...3d60243. Read the comment docs.\n. # Codecov Report\nMerging #1621 into master will not change coverage.\nThe diff coverage is 40%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1621   +/-\n=======================================\n  Coverage   71.34%   71.34%         \n=======================================\n  Files         158      158         \n  Lines       14056    14056         \n=======================================\n  Hits        10028    10028         \n  Misses       4028     4028\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/resolve.py | 71.94% <40%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3d8b9e2...fc65379. Read the comment docs.\n. # Codecov Report\nMerging #1627 into master will decrease coverage by <.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1627      +/-\n==========================================\n- Coverage   71.34%   71.33%   -0.01%   \n==========================================\n  Files         158      158            \n  Lines       14056    14056            \n==========================================\n- Hits        10028    10027       -1   \n- Misses       4028     4029       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 53.59% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/server/daemon.py | 77.41% <0%> (-3.23%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3d8b9e2...a424cee. Read the comment docs.\n. # Codecov Report\nMerging #1630 into master will decrease coverage by 0.03%.\nThe diff coverage is 22.22%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1630      +/-\n=========================================\n- Coverage   71.33%   71.3%   -0.04%   \n=========================================\n  Files         158     158            \n  Lines       14056   14065       +9   \n=========================================\n+ Hits        10027   10029       +2   \n- Misses       4029    4036       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/resolve.py | 70.51% <22.22%> (-1.44%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 57430e9...c795e49. Read the comment docs.\n. # Codecov Report\nMerging #1633 into master will decrease coverage by 0.01%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1633      +/-\n=========================================\n- Coverage   71.01%     71%   -0.02%   \n=========================================\n  Files         156     156            \n  Lines       14050   14049       -1   \n=========================================\n- Hits         9978    9975       -3   \n- Misses       4072    4074       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 50.21% <0%> (-0.05%) | :arrow_down: |\n| lbrynet/dht/node.py | 84.56% <100%> (+0.15%) | :arrow_up: |\n| lbrynet/dht/routingtable.py | 93.23% <71.42%> (-0.97%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a27a45...b0718d2. Read the comment docs.\n. # Codecov Report\nMerging #1636 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1636   +/-\n=======================================\n  Coverage   71.01%   71.01%         \n=======================================\n  Files         156      156         \n  Lines       14050    14050         \n=======================================\n  Hits         9978     9978         \n  Misses       4072     4072\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 50.25% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ec0483b...5763b81. Read the comment docs.\n. # Codecov Report\nMerging #1637 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1637   +/-\n=======================================\n  Coverage   71.01%   71.01%         \n=======================================\n  Files         156      156         \n  Lines       14050    14050         \n=======================================\n  Hits         9978     9978         \n  Misses       4072     4072\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a27a45...c3667f3. Read the comment docs.\n. # Codecov Report\nMerging #1639 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1639   +/-\n=======================================\n  Coverage   71.01%   71.01%         \n=======================================\n  Files         156      156         \n  Lines       14050    14050         \n=======================================\n  Hits         9978     9978         \n  Misses       4072     4072\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/iterativefind.py | 78.48% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3840f19...1d438f5. Read the comment docs.\n. # Codecov Report\nMerging #1640 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1640   +/-\n=======================================\n  Coverage   71.01%   71.01%         \n=======================================\n  Files         156      156         \n  Lines       14050    14050         \n=======================================\n  Hits         9978     9978         \n  Misses       4072     4072\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a27a45...c973937. Read the comment docs.\n. # Codecov Report\nMerging #1641 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1641   +/-\n=======================================\n  Coverage   71.01%   71.01%         \n=======================================\n  Files         156      156         \n  Lines       14050    14050         \n=======================================\n  Hits         9978     9978         \n  Misses       4072     4072\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a27a45...f947894. Read the comment docs.\n. # Codecov Report\nMerging #1642 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster   #1642   +/-\n======================================\n  Coverage      71%     71%         \n======================================\n  Files         156     156         \n  Lines       14051   14051         \n======================================\n  Hits         9977    9977         \n  Misses       4074    4074\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5946409...cb6f7ad. Read the comment docs.\n. # Codecov Report\nMerging #1644 into master will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1644      +/-\n==========================================\n+ Coverage   71.01%   71.02%   +0.01%   \n==========================================\n  Files         156      156            \n  Lines       14050    14052       +2   \n==========================================\n+ Hits         9978     9981       +3   \n+ Misses       4072     4071       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/auth/factory.py | 91.66% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/server.py | 72.75% <100%> (+0.13%) | :arrow_up: |\n| lbrynet/extras/wallet/server/daemon.py | 80.64% <0%> (+3.22%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a27a45...1b74594. Read the comment docs.\n. # Codecov Report\nMerging #1651 into master will increase coverage by 0.07%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1651      +/-\n==========================================\n+ Coverage   70.99%   71.06%   +0.07%   \n==========================================\n  Files         156      156            \n  Lines       14053    14049       -4   \n==========================================\n+ Hits         9977     9984       +7   \n+ Misses       4076     4065      -11\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/dewies.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 52.9% <100%> (+2.13%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 50.56% <100%> (+0.43%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a939571...93915b6. Read the comment docs.\n. # Codecov Report\nMerging #1652 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1652   +/-\n=======================================\n  Coverage   71.06%   71.06%         \n=======================================\n  Files         156      156         \n  Lines       14049    14049         \n=======================================\n  Hits         9984     9984         \n  Misses       4065     4065\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8d507c4...478f0f1. Read the comment docs.\n. # Codecov Report\nMerging #1654 into master will decrease coverage by 0.07%.\nThe diff coverage is 17.39%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1654      +/-\n==========================================\n- Coverage   71.05%   70.97%   -0.08%   \n==========================================\n  Files         156      156            \n  Lines       14051    14071      +20   \n==========================================\n+ Hits         9984     9987       +3   \n- Misses       4067     4084      +17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/account.py | 53.6% <14.28%> (-2.34%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 50.17% <18.75%> (-0.4%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 561215d...82ab34f. Read the comment docs.\n. # Codecov Report\nMerging #1655 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1655   +/-\n=======================================\n  Coverage   71.05%   71.05%         \n=======================================\n  Files         156      156         \n  Lines       14051    14051         \n=======================================\n  Hits         9984     9984         \n  Misses       4067     4067\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6f7f3bb...beb3b15. Read the comment docs.\n. # Codecov Report\nMerging #1659 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1659   +/-\n=======================================\n  Coverage   70.97%   70.97%         \n=======================================\n  Files         156      156         \n  Lines       14071    14071         \n=======================================\n  Hits         9987     9987         \n  Misses       4084     4084\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0c99908...70b913b. Read the comment docs.\n. # Codecov Report\nMerging #1660 into master will decrease coverage by 0.01%.\nThe diff coverage is 85.71%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1660      +/-\n==========================================\n- Coverage   70.97%   70.96%   -0.02%   \n==========================================\n  Files         156      156            \n  Lines       14071    14059      -12   \n==========================================\n- Hits         9987     9977      -10   \n+ Misses       4084     4082       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/auth/server.py | 72.75% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/claim_proofs.py | 74.19% <100%> (-0.41%) | :arrow_down: |\n| lbrynet/schema/validator.py | 77.31% <100%> (-0.24%) | :arrow_down: |\n| lbrynet/schema/address.py | 62.79% <100%> (-0.26%) | :arrow_down: |\n| lbrynet/schema/base.py | 87.5% <100%> (+0.61%) | :arrow_up: |\n| lbrynet/schema/hashing.py | 53.33% <50%> (-2.92%) | :arrow_down: |\n| lbrynet/schema/decode.py | 66.66% <66.66%> (-0.73%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0c99908...37a5ee4. Read the comment docs.\n. # Codecov Report\nMerging #1661 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1661   +/-\n=======================================\n  Coverage   70.96%   70.96%         \n=======================================\n  Files         156      156         \n  Lines       14059    14059         \n=======================================\n  Hits         9977     9977         \n  Misses       4082     4082\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b3fde9d...e0a213d. Read the comment docs.\n. # Codecov Report\nMerging #1662 into master will increase coverage by 0.46%.\nThe diff coverage is 60%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1662      +/-\n==========================================\n+ Coverage   70.96%   71.42%   +0.46%   \n==========================================\n  Files         156      156            \n  Lines       14059    14062       +3   \n==========================================\n+ Hits         9977    10044      +67   \n+ Misses       4082     4018      -64\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/interface.py | 0% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/error.py | 93.33% <\u00f8> (-0.79%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 80.49% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/utils.py | 62.58% <0%> (+1.25%) | :arrow_up: |\n| lbrynet/dht/datastore.py | 94.73% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 52.72% <100%> (+0.14%) | :arrow_up: |\n| lbrynet/p2p/StreamDescriptor.py | 78.27% <100%> (+0.58%) | :arrow_up: |\n| lbrynet/extras/wallet/ledger.py | 88.42% <63.63%> (-3.54%) | :arrow_down: |\n| lbrynet/extras/wallet/resolve.py | 78.98% <80%> (+8.46%) | :arrow_up: |\n| lbrynet/extras/wallet/server/db.py | 93.49% <0%> (+1.77%) | :arrow_up: |\n| ... and 4 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f83aa61...aaf34cd. Read the comment docs.\n. # Codecov Report\nMerging #1666 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1666   +/-\n=======================================\n  Coverage   71.35%   71.35%         \n=======================================\n  Files         156      156         \n  Lines       14047    14047         \n=======================================\n  Hits        10023    10023         \n  Misses       4024     4024\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 221107e...3833075. Read the comment docs.\n. # Codecov Report\nMerging #1669 into master will decrease coverage by 0.12%.\nThe diff coverage is 50%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1669      +/-\n==========================================\n- Coverage   71.35%   71.23%   -0.13%   \n==========================================\n  Files         156      156            \n  Lines       14047    14046       -1   \n==========================================\n- Hits        10023    10005      -18   \n- Misses       4024     4041      +17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/resolve.py | 76.35% <50%> (-2.63%) | :arrow_down: |\n| lbrynet/schema/uri.py | 75.58% <0%> (-8.14%) | :arrow_down: |\n| lbrynet/p2p/Error.py | 79.09% <0%> (-1.82%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 953327c...ea6869a. Read the comment docs.\n. # Codecov Report\nMerging #1671 into master will increase coverage by 0.03%.\nThe diff coverage is 47.42%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1671      +/-\n==========================================\n+ Coverage   71.66%   71.69%   +0.03%   \n==========================================\n  Files         157      154       -3   \n  Lines       14129    14084      -45   \n==========================================\n- Hits        10126    10098      -28   \n+ Misses       4003     3986      -17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/migrator/migrate5to6.py | 0% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/client.py | 95.29% <\u00f8> (+0.91%) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 55.83% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/auth/keyring.py | 94.93% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 52.64% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Downloader.py | 63.43% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 50.09% <33.33%> (+0.27%) | :arrow_up: |\n| lbrynet/extras/cli.py | 61.93% <33.8%> (-17.73%) | :arrow_down: |\n| lbrynet/conf.py | 66.37% <62.31%> (+1.22%) | :arrow_up: |\n| lbrynet/winpaths.py | 0% <0%> (-2.13%) | :arrow_down: |\n| ... and 1 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8ef73d3...b8b0d8b. Read the comment docs.\n. # Codecov Report\nMerging #1672 into master will decrease coverage by 0.04%.\nThe diff coverage is 41.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1672      +/-\n==========================================\n- Coverage   71.23%   71.18%   -0.05%   \n==========================================\n  Files         156      156            \n  Lines       14046    14065      +19   \n==========================================\n+ Hits        10005    10012       +7   \n- Misses       4041     4053      +12\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 49.37% <14.28%> (-0.45%) | :arrow_down: |\n| lbrynet/extras/wallet/manager.py | 52.21% <36.36%> (-0.52%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 50.29% <83.33%> (+0.12%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d64916a...68c625f. Read the comment docs.\n. # Codecov Report\nMerging #1673 into master will increase coverage by 0.07%.\nThe diff coverage is 95.23%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1673      +/-\n=========================================\n+ Coverage   71.23%   71.3%   +0.07%   \n=========================================\n  Files         156     156            \n  Lines       14046   14060      +14   \n=========================================\n+ Hits        10005   10025      +20   \n+ Misses       4041    4035       -6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/transaction.py | 91.66% <100%> (+3.72%) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 54.54% <94.11%> (+1.81%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d64916a...b6075d0. Read the comment docs.\n. # Codecov Report\nMerging #1676 into master will decrease coverage by <.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1676      +/-\n==========================================\n- Coverage    71.3%   71.29%   -0.01%   \n==========================================\n  Files         156      156            \n  Lines       14060    14061       +1   \n==========================================\n  Hits        10025    10025            \n- Misses       4035     4036       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 54.38% <0%> (-0.16%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dc2786f...1cdfcd5. Read the comment docs.\n. # Codecov Report\nMerging #1677 into master will increase coverage by 0.05%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1677      +/-\n==========================================\n+ Coverage   71.29%   71.34%   +0.05%   \n==========================================\n  Files         156      156            \n  Lines       14061    14156      +95   \n==========================================\n+ Hits        10025    10100      +75   \n- Misses       4036     4056      +20\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 59.72% <0%> (+5.33%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 23e8f0d...e486cac. Read the comment docs.\n. # Codecov Report\nMerging #1678 into master will decrease coverage by 0.04%.\nThe diff coverage is 6.89%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1678      +/-\n==========================================\n- Coverage   71.27%   71.23%   -0.05%   \n==========================================\n  Files         156      156            \n  Lines       14065    14156      +91   \n==========================================\n+ Hits        10025    10084      +59   \n- Misses       4040     4072      +32\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/account.py | 44.8% <6.89%> (-8.8%) | :arrow_down: |\n| lbrynet/extras/wallet/manager.py | 59.55% <0%> (+5.8%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c4c7670...4826eb9. Read the comment docs.\n. # Codecov Report\nMerging #1679 into master will decrease coverage by 0.02%.\nThe diff coverage is 16.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1679      +/-\n==========================================\n- Coverage   71.29%   71.27%   -0.03%   \n==========================================\n  Files         156      156            \n  Lines       14061    14065       +4   \n==========================================\n  Hits        10025    10025            \n- Misses       4036     4040       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 53.75% <16.66%> (-0.63%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 31a3812...cdd74ae. Read the comment docs.\n. # Codecov Report\nMerging #1684 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1684   +/-\n=======================================\n  Coverage   71.27%   71.27%         \n=======================================\n  Files         156      156         \n  Lines       14107    14107         \n=======================================\n  Hits        10055    10055         \n  Misses       4052     4052\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f7c7cb9...818bde6. Read the comment docs.\n. # Codecov Report\nMerging #1685 into master will increase coverage by 0.01%.\nThe diff coverage is 88.88%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1685      +/-\n==========================================\n+ Coverage   71.27%   71.29%   +0.01%   \n==========================================\n  Files         156      156            \n  Lines       14107    14112       +5   \n==========================================\n+ Hits        10055    10061       +6   \n+ Misses       4052     4051       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/dewies.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 55.83% <100%> (+0.37%) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 76.35% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 80.58% <75%> (+0.08%) | :arrow_up: |\n| lbrynet/schema/decode.py | 68.88% <0%> (+2.22%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2693301...a6128ac. Read the comment docs.\n. # Codecov Report\nMerging #1687 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1687   +/-\n=======================================\n  Coverage   71.66%   71.66%         \n=======================================\n  Files         157      157         \n  Lines       14129    14129         \n=======================================\n  Hits        10126    10126         \n  Misses       4003     4003\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5fad43f...ab5950d. Read the comment docs.\n. # Codecov Report\nMerging #1688 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1688   +/-\n=======================================\n  Coverage   71.14%   71.14%         \n=======================================\n  Files         156      156         \n  Lines       14094    14094         \n=======================================\n  Hits        10027    10027         \n  Misses       4067     4067\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b36a5f9...e1a1636. Read the comment docs.\n. # Codecov Report\nMerging #1691 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1691   +/-\n=======================================\n  Coverage   71.29%   71.29%         \n=======================================\n  Files         156      156         \n  Lines       14112    14112         \n=======================================\n  Hits        10061    10061         \n  Misses       4051     4051\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a857c83...57956c9. Read the comment docs.\n. # Codecov Report\nMerging #1692 into master will decrease coverage by 27.86%.\nThe diff coverage is n/a.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1692       +/-\n===========================================\n- Coverage    71.3%   43.43%   -27.87%   \n===========================================\n  Files         157      157             \n  Lines       14116    14116             \n===========================================\n- Hits        10065     6131     -3934   \n- Misses       4051     7985     +3934\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/server/tx.py | 0% <0%> (-100%) | :arrow_down: |\n| lbrynet/extras/wallet/server/model.py | 0% <0%> (-95.84%) | :arrow_down: |\n| lbrynet/p2p/server/BlobAvailabilityHandler.py | 0% <0%> (-93.75%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 0% <0%> (-93.5%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 0% <0%> (-88.1%) | :arrow_down: |\n| lbrynet/extras/wallet/server/daemon.py | 0% <0%> (-83.88%) | :arrow_down: |\n| lbrynet/extras/wallet/server/opcodes.py | 0% <0%> (-78.05%) | :arrow_down: |\n| lbrynet/extras/wallet/server/block_processor.py | 0% <0%> (-71.65%) | :arrow_down: |\n| lbrynet/extras/wallet/server/session.py | 0% <0%> (-70.68%) | :arrow_down: |\n| lbrynet/extras/wallet/database.py | 31.14% <0%> (-68.86%) | :arrow_down: |\n| ... and 77 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3a4c9ff...75582cc. Read the comment docs.\n. # Codecov Report\nMerging #1693 into master will increase coverage by 0.07%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1693      +/-\n==========================================\n+ Coverage   71.29%   71.36%   +0.07%   \n==========================================\n  Files         156      156            \n  Lines       14112    14168      +56   \n==========================================\n+ Hits        10061    10111      +50   \n- Misses       4051     4057       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 60.33% <0%> (+4.5%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c90cca4...2448dd2. Read the comment docs.\n. # Codecov Report\nMerging #1694 into master will decrease coverage by 27.88%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster   #1694       +/-\n==========================================\n- Coverage   71.29%   43.4%   -27.89%   \n==========================================\n  Files         156     156             \n  Lines       14112   14112             \n==========================================\n- Hits        10061    6126     -3935   \n- Misses       4051    7986     +3935\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/json_response_encoder.py | 25.8% <\u00f8> (-59.68%) | :arrow_down: |\n| lbrynet/extras/wallet/manager.py | 25.27% <0%> (-30.56%) | :arrow_down: |\n| lbrynet/extras/wallet/server/tx.py | 0% <0%> (-100%) | :arrow_down: |\n| lbrynet/extras/wallet/server/model.py | 0% <0%> (-95.84%) | :arrow_down: |\n| lbrynet/p2p/server/BlobAvailabilityHandler.py | 0% <0%> (-93.75%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 0% <0%> (-93.5%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 0% <0%> (-88.1%) | :arrow_down: |\n| lbrynet/extras/wallet/server/daemon.py | 0% <0%> (-83.88%) | :arrow_down: |\n| lbrynet/extras/wallet/server/opcodes.py | 0% <0%> (-78.05%) | :arrow_down: |\n| lbrynet/extras/wallet/server/block_processor.py | 0% <0%> (-71.65%) | :arrow_down: |\n| ... and 79 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c90cca4...2c1cf8d. Read the comment docs.\n. # Codecov Report\nMerging #1697 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1697   +/-\n=======================================\n  Coverage   71.38%   71.38%         \n=======================================\n  Files         157      157         \n  Lines       14127    14127         \n=======================================\n  Hits        10084    10084         \n  Misses       4043     4043\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4d4c705...2f9b112. Read the comment docs.\n. # Codecov Report\nMerging #1698 into master will increase coverage by 0.07%.\nThe diff coverage is 93.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1698      +/-\n==========================================\n+ Coverage   71.29%   71.36%   +0.07%   \n==========================================\n  Files         156      156            \n  Lines       14112    14126      +14   \n==========================================\n+ Hits        10061    10081      +20   \n+ Misses       4051     4045       -6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/resolve.py | 78.28% <93.33%> (+1.92%) | :arrow_up: |\n| lbrynet/schema/validator.py | 80.41% <0%> (+3.09%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f03e68e...a52e2d7. Read the comment docs.\n. # Codecov Report\nMerging #1700 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1700      +/-\n=========================================\n+ Coverage   71.29%   71.3%   +<.01%   \n=========================================\n  Files         156     157       +1   \n  Lines       14112   14116       +4   \n=========================================\n+ Hits        10061   10065       +4   \n  Misses       4051    4051\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <100%> (\u00f8) | |\n| lbrynet/extras/daemon/Daemon.py | 50.25% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Publisher.py | 85.1% <100%> (-0.61%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f03e68e...e3d08ec. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@7713881). Click here to learn what that means.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1703   +/-\n=========================================\n  Coverage          ?   71.31%         \n=========================================\n  Files             ?      157         \n  Lines             ?    14113         \n  Branches          ?        0         \n=========================================\n  Hits              ?    10064         \n  Misses            ?     4049         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 65.14% <0%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7713881...fcd4762. Read the comment docs.\n. # Codecov Report\nMerging #1707 into master will increase coverage by 0.28%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1707      +/-\n==========================================\n+ Coverage   71.38%   71.66%   +0.28%   \n==========================================\n  Files         157      157            \n  Lines       14127    14129       +2   \n==========================================\n+ Hits        10084    10126      +42   \n+ Misses       4043     4003      -40\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 52.64% <100%> (+2.38%) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 79.81% <0%> (+1.52%) | :arrow_up: |\n| lbrynet/extras/wallet/ledger.py | 90.52% <0%> (+2.1%) | :arrow_up: |\n| lbrynet/extras/wallet/server/db.py | 97.04% <0%> (+3.55%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4d4c705...09a8275. Read the comment docs.\n. # Codecov Report\nMerging #1708 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1708   +/-\n=======================================\n  Coverage   71.38%   71.38%         \n=======================================\n  Files         157      157         \n  Lines       14127    14127         \n=======================================\n  Hits        10084    10084         \n  Misses       4043     4043\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4d4c705...b72ad9e. Read the comment docs.\n. # Codecov Report\nMerging #1709 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1709   +/-\n=======================================\n  Coverage   71.38%   71.38%         \n=======================================\n  Files         157      157         \n  Lines       14127    14127         \n=======================================\n  Hits        10084    10084         \n  Misses       4043     4043\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4d4c705...197d7f1. Read the comment docs.\n. # Codecov Report\nMerging #1710 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1710   +/-\n=======================================\n  Coverage   63.82%   63.82%         \n=======================================\n  Files         150      150         \n  Lines       13641    13641         \n=======================================\n  Hits         8707     8707         \n  Misses       4934     4934\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/p2p/SinglePeerDownloader.py | 39.24% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6ae4e68...476d399. Read the comment docs.\n. # Codecov Report\nMerging #1710 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1710   +/-\n=======================================\n  Coverage   63.82%   63.82%         \n=======================================\n  Files         150      150         \n  Lines       13641    13641         \n=======================================\n  Hits         8707     8707         \n  Misses       4934     4934\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/p2p/SinglePeerDownloader.py | 39.24% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6ae4e68...0f62112. Read the comment docs.\n. # Codecov Report\nMerging #1712 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1712   +/-\n=======================================\n  Coverage   71.66%   71.66%         \n=======================================\n  Files         157      157         \n  Lines       14129    14129         \n=======================================\n  Hits        10126    10126         \n  Misses       4003     4003\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 90685e8...d1da42b. Read the comment docs.\n. # Codecov Report\nMerging #1713 into master will decrease coverage by 8.38%.\nThe diff coverage is 61.86%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1713      +/-\n==========================================\n- Coverage   72.17%   63.79%   -8.39%   \n==========================================\n  Files         154      150       -4   \n  Lines       14119    13643     -476   \n==========================================\n- Hits        10191     8703    -1488   \n- Misses       3928     4940    +1012\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/server/block_processor.py | 71.96% <\u00f8> (+0.32%) | :arrow_up: |\n| lbrynet/extras/daemon/undecorated.py | 54.16% <\u00f8> (\u00f8) | |\n| lbrynet/p2p/server/ServerRequestHandler.py | 18.25% <0%> (-65.88%) | :arrow_down: |\n| lbrynet/p2p/server/BlobAvailabilityHandler.py | 44.44% <0%> (-49.31%) | :arrow_down: |\n| lbrynet/blob/EncryptedFileCreator.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/p2p/client/DownloadManager.py | 82.14% <100%> (-1.2%) | :arrow_down: |\n| ...brynet/blob/client/EncryptedFileMetadataHandler.py | 96% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Component.py | 73.46% <100%> (-8.17%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 97.02% <100%> (-0.02%) | :arrow_down: |\n| lbrynet/extras/daemon/Publisher.py | 85.1% <100%> (\u00f8) | :arrow_up: |\n| ... and 53 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dcc5415...6a5c1b9. Read the comment docs.\n. # Codecov Report\nMerging #1714 into master will increase coverage by 0.36%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1714      +/-\n==========================================\n+ Coverage   71.69%   72.06%   +0.36%   \n==========================================\n  Files         154      154            \n  Lines       14084    14084            \n==========================================\n+ Hits        10098    10150      +52   \n+ Misses       3986     3934      -52\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/schema/signer.py | 96.66% <0%> (+1.66%) | :arrow_up: |\n| lbrynet/schema/base.py | 89.28% <0%> (+1.78%) | :arrow_up: |\n| lbrynet/schema/address.py | 65.11% <0%> (+2.32%) | :arrow_up: |\n| lbrynet/schema/schema/certificate.py | 83.33% <0%> (+2.77%) | :arrow_up: |\n| lbrynet/schema/validator.py | 91.75% <0%> (+11.34%) | :arrow_up: |\n| lbrynet/schema/claim.py | 86.2% <0%> (+12.06%) | :arrow_up: |\n| lbrynet/schema/decode.py | 82.22% <0%> (+13.33%) | :arrow_up: |\n| lbrynet/schema/uri.py | 95.34% <0%> (+19.76%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1fbd1cd...b2526db. Read the comment docs.\n. # Codecov Report\nMerging #1717 into master will increase coverage by 0.21%.\nThe diff coverage is 65.57%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1717      +/-\n==========================================\n+ Coverage   72.06%   72.27%   +0.21%   \n==========================================\n  Files         154      154            \n  Lines       14084    14105      +21   \n==========================================\n+ Hits        10150    10195      +45   \n+ Misses       3934     3910      -24\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 66.85% <63.63%> (+4.92%) | :arrow_up: |\n| lbrynet/conf.py | 66.75% <66.66%> (+0.38%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 52.72% <0%> (+0.08%) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 82.84% <0%> (+2.25%) | :arrow_up: |\n| lbrynet/blob/EncryptedFileManager.py | 84.37% <0%> (+6.25%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c601677...fb66b68. Read the comment docs.\n. # Codecov Report\nMerging #1718 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1718      +/-\n==========================================\n+ Coverage   72.06%   72.06%   +<.01%   \n==========================================\n  Files         154      154            \n  Lines       14084    14085       +1   \n==========================================\n+ Hits        10150    10151       +1   \n  Misses       3934     3934\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/ledger.py | 90.62% <100%> (+0.09%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c601677...0895809. Read the comment docs.\n. # Codecov Report\nMerging #1726 into master will decrease coverage by 0.12%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1726      +/-\n==========================================\n- Coverage   72.28%   72.15%   -0.13%   \n==========================================\n  Files         154      154            \n  Lines       14106    14109       +3   \n==========================================\n- Hits        10196    10181      -15   \n- Misses       3910     3928      +18\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 67.85% <100%> (+1.09%) | :arrow_up: |\n| lbrynet/extras/cli.py | 66.85% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob/EncryptedFileManager.py | 78.12% <0%> (-6.25%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 80.58% <0%> (-2.26%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 52.64% <0%> (-0.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6aa709e...f0e6372. Read the comment docs.\n. # Codecov Report\nMerging #1727 into master will increase coverage by 0.14%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1727      +/-\n==========================================\n+ Coverage   72.17%   72.32%   +0.14%   \n==========================================\n  Files         154      154            \n  Lines       14119    14106      -13   \n==========================================\n+ Hits        10191    10202      +11   \n+ Misses       3928     3904      -24\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 84.19% <100%> (+3.61%) | :arrow_up: |\n| lbrynet/conf.py | 66.75% <0%> (-1.1%) | :arrow_down: |\n| lbrynet/extras/wallet/account.py | 44.8% <0%> (-0.71%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 88.09% <0%> (-0.42%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 52.72% <0%> (-0.04%) | :arrow_down: |\n| lbrynet/extras/wallet/database.py | 100% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/blob/EncryptedFileManager.py | 84.37% <0%> (+6.25%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3c38a88...ba8bd62. Read the comment docs.\n. # Codecov Report\nMerging #1730 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1730      +/-\n==========================================\n+ Coverage   72.28%   72.28%   +<.01%   \n==========================================\n  Files         154      154            \n  Lines       14106    14109       +3   \n==========================================\n+ Hits        10196    10199       +3   \n  Misses       3910     3910\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/server/coin.py | 88.5% <100%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6aa709e...2fc2807. Read the comment docs.\n. # Codecov Report\nMerging #1734 into master will decrease coverage by 0.22%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1734      +/-\n==========================================\n- Coverage   72.28%   72.05%   -0.23%   \n==========================================\n  Files         154      154            \n  Lines       14106    14335     +229   \n==========================================\n+ Hits        10196    10329     +133   \n- Misses       3910     4006      +96\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 73.28% <\u00f8> (+6.52%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 50.78% <0%> (-1.95%) | :arrow_down: |\n| lbrynet/extras/wallet/database.py | 100% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/account.py | 45.51% <0%> (+0.7%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6aa709e...f6ad61d. Read the comment docs.\n. # Codecov Report\nMerging #1736 into master will increase coverage by 0.27%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1736      +/-\n==========================================\n+ Coverage   63.99%   64.26%   +0.27%   \n==========================================\n  Files         150      151       +1   \n  Lines       13578    13634      +56   \n==========================================\n+ Hits         8689     8762      +73   \n+ Misses       4889     4872      -17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 56.26% <\u00f8> (+0.27%) | :arrow_up: |\n| lbrynet/extras/daemon/json_response_encoder.py | 85.48% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/schema/signer.py | 97.05% <100%> (+0.39%) | :arrow_up: |\n| lbrynet/extras/wallet/server/daemon.py | 87.09% <100%> (+3.22%) | :arrow_up: |\n| lbrynet/schema/validator.py | 91.26% <100%> (-0.5%) | :arrow_down: |\n| lbrynet/schema/claim.py | 86.99% <100%> (+0.78%) | :arrow_up: |\n| lbrynet/extras/wallet/server/block_processor.py | 74.24% <100%> (+2.27%) | :arrow_up: |\n| lbrynet/schema/encoding.py | 94.8% <100%> (+0.6%) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 79.81% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/signature.py | 100% <100%> (\u00f8) | |\n| ... and 8 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c9d4ad5...c1c3e17. Read the comment docs.\n. # Codecov Report\nMerging #1742 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1742   +/-\n=======================================\n  Coverage   72.17%   72.17%         \n=======================================\n  Files         154      154         \n  Lines       14119    14119         \n=======================================\n  Hits        10191    10191         \n  Misses       3928     3928\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dcc5415...8903096. Read the comment docs.\n. # Codecov Report\nMerging #1745 into master will decrease coverage by 0.01%.\nThe diff coverage is 41.02%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1745      +/-\n==========================================\n- Coverage   63.84%   63.82%   -0.02%   \n==========================================\n  Files         150      150            \n  Lines       13656    13641      -15   \n==========================================\n- Hits         8718     8707      -11   \n+ Misses       4938     4934       -4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/DaemonConsole.py | 37.43% <\u00f8> (+0.19%) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 48.44% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/analytics.py | 58.1% <39.34%> (-0.54%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 56.76% <50%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/looping_call_manager.py | 62.5% <0%> (-12.5%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update fd7811f...647ed8d. Read the comment docs.\n. # Codecov Report\nMerging #1747 into master will increase coverage by 0.13%.\nThe diff coverage is 94.11%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1747      +/-\n=========================================\n+ Coverage   76.16%   76.3%   +0.13%   \n=========================================\n  Files         112     113       +1   \n  Lines       10330   10415      +85   \n=========================================\n+ Hits         7868    7947      +79   \n- Misses       2462    2468       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 90.05% <100%> (+0.02%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 72.52% <93.44%> (+1.23%) | :arrow_up: |\n| lbrynet/extras/daemon/comment_client.py | 95.65% <95.65%> (\u00f8) | |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f7c8145...9f1fba2. Read the comment docs.\n. # Codecov Report\nMerging #1749 into master will decrease coverage by 0.02%.\nThe diff coverage is 90.9%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1749      +/-\n=========================================\n- Coverage   63.82%   63.8%   -0.03%   \n=========================================\n  Files         150     150            \n  Lines       13641   13650       +9   \n=========================================\n+ Hits         8707    8710       +3   \n- Misses       4934    4940       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/server/session.py | 70.67% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/uri.py | 95.65% <100%> (+0.3%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 56.55% <66.66%> (-0.22%) | :arrow_down: |\n| lbrynet/p2p/SinglePeerDownloader.py | 37.5% <0%> (-1.75%) | :arrow_down: |\n| lbrynet/conf.py | 69.78% <0%> (-0.33%) | :arrow_down: |\n| lbrynet/extras/daemon/DaemonConsole.py | 37.24% <0%> (-0.2%) | :arrow_down: |\n| lbrynet/extras/reflector/client/blob.py | 22.07% <0%> (-0.15%) | :arrow_down: |\n| lbrynet/extras/daemon/mime_types.py | 100% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/analytics.py | 58.64% <0%> (+0.53%) | :arrow_up: |\n| ... and 1 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6ae4e68...3797560. Read the comment docs.\n. # Codecov Report\nMerging #1750 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1750      +/-\n==========================================\n+ Coverage   63.78%   63.79%   +<.01%   \n==========================================\n  Files         150      150            \n  Lines       13643    13643            \n==========================================\n+ Hits         8702     8703       +1   \n+ Misses       4941     4940       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 73.84% <100%> (+0.25%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 33392b3...51e253b. Read the comment docs.\n. # Codecov Report\nMerging #1752 into master will decrease coverage by 12.27%.\nThe diff coverage is 100%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1752       +/-\n===========================================\n- Coverage   63.79%   51.52%   -12.28%   \n===========================================\n  Files         150      150             \n  Lines       13644    13645        +1   \n===========================================\n- Hits         8704     7030     -1674   \n- Misses       4940     6615     +1675\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/server/tx.py | 0% <0%> (-100%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 0% <0%> (-97.03%) | :arrow_down: |\n| lbrynet/extras/wallet/server/model.py | 0% <0%> (-95.84%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 0% <0%> (-88.51%) | :arrow_down: |\n| lbrynet/extras/wallet/server/daemon.py | 0% <0%> (-83.88%) | :arrow_down: |\n| lbrynet/extras/wallet/server/opcodes.py | 0% <0%> (-78.05%) | :arrow_down: |\n| lbrynet/extras/wallet/server/block_processor.py | 0% <0%> (-71.97%) | :arrow_down: |\n| lbrynet/extras/wallet/resolve.py | 8.86% <0%> (-70.95%) | :arrow_down: |\n| lbrynet/extras/wallet/server/session.py | 0% <0%> (-70.68%) | :arrow_down: |\n| ... and 32 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update db3e578...011ad38. Read the comment docs.\n. # Codecov Report\nMerging #1754 into master will increase coverage by 0.02%.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1754      +/-\n==========================================\n+ Coverage   63.79%   63.82%   +0.02%   \n==========================================\n  Files         150      150            \n  Lines       13645    13649       +4   \n==========================================\n+ Hits         8705     8711       +6   \n+ Misses       4940     4938       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/reflector/client/blob.py | 22.22% <0%> (+0.14%) | :arrow_up: |\n| lbrynet/extras/reflector/reupload.py | 23.33% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Publisher.py | 85.1% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/p2p/SinglePeerDownloader.py | 39.24% <33.33%> (+1.74%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 56.67% <40%> (+0.12%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 712b196...4aa1363. Read the comment docs.\n. # Codecov Report\nMerging #1758 into master will increase coverage by 0.2%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1758     +/-\n=========================================\n+ Coverage   63.82%   64.02%   +0.2%   \n=========================================\n  Files         150      150           \n  Lines       13649    14008    +359   \n=========================================\n+ Hits         8711     8969    +258   \n- Misses       4938     5039    +101\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 59.89% <0%> (+3.22%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 248d1a1...56dea9c. Read the comment docs.\n. # Codecov Report\nMerging #1760 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1760      +/-\n==========================================\n+ Coverage   63.82%   63.82%   +<.01%   \n==========================================\n  Files         150      150            \n  Lines       13649    13652       +3   \n==========================================\n+ Hits         8711     8714       +3   \n  Misses       4938     4938\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 56.76% <100%> (+0.09%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 248d1a1...254991d. Read the comment docs.\n. # Codecov Report\nMerging #1763 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1763   +/-\n=======================================\n  Coverage   63.84%   63.84%         \n=======================================\n  Files         150      150         \n  Lines       13647    13647         \n=======================================\n  Hits         8713     8713         \n  Misses       4934     4934\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e74a5e8...52f66c9. Read the comment docs.\n. # Codecov Report\nMerging #1764 into master will increase coverage by 0.13%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1764      +/-\n==========================================\n+ Coverage   63.84%   63.98%   +0.13%   \n==========================================\n  Files         150      150            \n  Lines       13647    13766     +119   \n==========================================\n+ Hits         8713     8808      +95   \n- Misses       4934     4958      +24\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/DaemonConsole.py | 37.37% <0%> (-0.06%) | :arrow_down: |\n| lbrynet/schema/uri.py | 96.72% <0%> (+1.06%) | :arrow_up: |\n| lbrynet/extras/daemon/analytics.py | 64.15% <0%> (+6.05%) | :arrow_up: |\n| lbrynet/extras/looping_call_manager.py | 75% <0%> (+12.5%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e74a5e8...e81cfa6. Read the comment docs.\n. # Codecov Report\nMerging #1767 into master will increase coverage by 0.29%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1767      +/-\n==========================================\n+ Coverage   63.84%   64.14%   +0.29%   \n==========================================\n  Files         150      150            \n  Lines       13647    14529     +882   \n==========================================\n+ Hits         8713     9319     +606   \n- Misses       4934     5210     +276\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 60.09% <\u00f8> (+3.32%) | :arrow_up: |\n| lbrynet/extras/daemon/DaemonConsole.py | 37.37% <0%> (-0.06%) | :arrow_down: |\n| lbrynet/schema/uri.py | 96.72% <0%> (+1.06%) | :arrow_up: |\n| lbrynet/conf.py | 71.2% <0%> (+1.09%) | :arrow_up: |\n| lbrynet/extras/reflector/client/blob.py | 25.76% <0%> (+3.54%) | :arrow_up: |\n| lbrynet/p2p/SinglePeerDownloader.py | 44% <0%> (+4.75%) | :arrow_up: |\n| lbrynet/extras/daemon/analytics.py | 64.15% <0%> (+6.05%) | :arrow_up: |\n| lbrynet/extras/looping_call_manager.py | 75% <0%> (+12.5%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e74a5e8...c4c28e0. Read the comment docs.\n. # Codecov Report\nMerging #1769 into master will increase coverage by 3.03%.\nThe diff coverage is 65.22%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1769      +/-\n==========================================\n+ Coverage   65.77%   68.81%   +3.03%   \n==========================================\n  Files         150      110      -40   \n  Lines       13390     9859    -3531   \n==========================================\n- Hits         8807     6784    -2023   \n+ Misses       4583     3075    -1508\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/analytics.py | 66.95% <\u00f8> (+3.67%) | :arrow_up: |\n| lbrynet/extras/daemon/client.py | 0% <0%> (\u00f8) | |\n| lbrynet/extras/wallet/manager.py | 62.2% <0%> (+4.66%) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate8to9.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 80.42% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/ComponentManager.py | 91.22% <100%> (+1.38%) | :arrow_up: |\n| lbrynet/blob/blob_info.py | 100% <100%> (\u00f8) | |\n| lbrynet/dht/protocol/distance.py | 91.66% <100%> (\u00f8) | |\n| lbrynet/dht/error.py | 100% <100%> (+6.66%) | :arrow_up: |\n| lbrynet/extras/system_info.py | 100% <100%> (+12.5%) | :arrow_up: |\n| ... and 68 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7a038bb...500ab4d. Read the comment docs.\n. # Codecov Report\nMerging #1777 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1777      +/-\n==========================================\n- Coverage   63.84%   63.83%   -0.02%   \n==========================================\n  Files         150      150            \n  Lines       13647    13651       +4   \n==========================================\n+ Hits         8713     8714       +1   \n- Misses       4934     4937       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/migrator/migrate5to6.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/mime_types.py | 100% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2c1b54c...e0f4fac. Read the comment docs.\n. # Codecov Report\nMerging #1784 into master will increase coverage by 0.02%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1784      +/-\n==========================================\n+ Coverage   63.83%   63.85%   +0.02%   \n==========================================\n  Files         150      150            \n  Lines       13650    13625      -25   \n==========================================\n- Hits         8713     8700      -13   \n+ Misses       4937     4925      -12\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 56.85% <\u00f8> (+0.09%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1dbb250...03d2eb9. Read the comment docs.\n. # Codecov Report\nMerging #1786 into master will increase coverage by 0.14%.\nThe diff coverage is 28.57%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1786      +/-\n==========================================\n+ Coverage   63.85%   63.99%   +0.14%   \n==========================================\n  Files         150      150            \n  Lines       13625    13578      -47   \n==========================================\n- Hits         8700     8689      -11   \n+ Misses       4925     4889      -36\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 56.72% <\u00f8> (-0.14%) | :arrow_down: |\n| lbrynet/extras/cli.py | 66.85% <0%> (-0.39%) | :arrow_down: |\n| lbrynet/conf.py | 70.1% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/DaemonConsole.py | 43.7% <25%> (+6.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 974d3c8...56d11c4. Read the comment docs.\n. # Codecov Report\nMerging #1788 into master will increase coverage by 1.28%.\nThe diff coverage is 77.46%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1788      +/-\n==========================================\n+ Coverage   64.23%   65.51%   +1.28%   \n==========================================\n  Files         151      150       -1   \n  Lines       13565    13379     -186   \n==========================================\n+ Hits         8713     8765      +52   \n+ Misses       4852     4614     -238\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 56.26% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate8to9.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate3to4.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate6to7.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate5to6.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate4to5.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/PeerFinder.py | 35.89% <0%> (-1.61%) | :arrow_down: |\n| lbrynet/extras/daemon/migrator/dbmigrator.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate2to3.py | 0% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/migrator/migrate1to2.py | 0% <0%> (\u00f8) | :arrow_up: |\n| ... and 34 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6fe9c5b...0afa53f. Read the comment docs.\n. # Codecov Report\nMerging #1790 into master will increase coverage by 0.27%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1790      +/-\n==========================================\n+ Coverage    74.4%   74.67%   +0.27%   \n==========================================\n  Files         112      113       +1   \n  Lines       10298    10428     +130   \n==========================================\n+ Hits         7662     7787     +125   \n- Misses       2636     2641       +5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/testcase.py | 94.61% <\u00f8> (\u00f8) | |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update be4a96c...2b4fdd9. Read the comment docs.\n. # Codecov Report\nMerging #1792 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1792   +/-\n=======================================\n  Coverage   64.17%   64.17%         \n=======================================\n  Files         150      150         \n  Lines       13581    13581         \n=======================================\n  Hits         8716     8716         \n  Misses       4865     4865\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5f2c3ac...883fa26. Read the comment docs.\n. # Codecov Report\nMerging #1793 into master will increase coverage by 0.06%.\nThe diff coverage is 38.09%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1793      +/-\n==========================================\n+ Coverage   64.17%   64.24%   +0.06%   \n==========================================\n  Files         150      151       +1   \n  Lines       13581    13564      -17   \n==========================================\n- Hits         8716     8714       -2   \n+ Misses       4865     4850      -15\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/log_support.py | 24.71% <\u00f8> (-2.5%) | :arrow_down: |\n| lbrynet/extras/cli.py | 66.11% <20%> (-0.94%) | :arrow_down: |\n| lbrynet/extras/daemon/loggly_handler.py | 40.54% <40.54%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5f2c3ac...1a3b3e0. Read the comment docs.\n. # Codecov Report\nMerging #1794 into master will decrease coverage by 0.01%.\nThe diff coverage is 42.85%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1794      +/-\n==========================================\n- Coverage   64.24%   64.23%   -0.02%   \n==========================================\n  Files         151      151            \n  Lines       13564    13565       +1   \n==========================================\n- Hits         8714     8713       -1   \n- Misses       4850     4852       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 48.44% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/exchange_rate_manager.py | 74.34% <40.74%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2805cbb...3a86fc6. Read the comment docs.\n. # Codecov Report\nMerging #1795 into master will increase coverage by 0.18%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1795      +/-\n==========================================\n+ Coverage   64.23%   64.41%   +0.18%   \n==========================================\n  Files         151      151            \n  Lines       13565    13566       +1   \n==========================================\n+ Hits         8713     8739      +26   \n+ Misses       4852     4827      -25\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 57.77% <100%> (+1.51%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 57.33% <0%> (+0.22%) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 80.42% <0%> (+0.61%) | :arrow_up: |\n| lbrynet/extras/wallet/server/daemon.py | 90.32% <0%> (+3.22%) | :arrow_up: |\n| lbrynet/extras/wallet/server/session.py | 76.31% <0%> (+4.88%) | :arrow_up: |\n| lbrynet/extras/wallet/network.py | 87.5% <0%> (+6.25%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6fe9c5b...b8bc140. Read the comment docs.\n. # Codecov Report\nMerging #1799 into master will decrease coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1799      +/-\n=========================================\n- Coverage   65.51%   65.5%   -0.01%   \n=========================================\n  Files         150     150            \n  Lines       13379   13389      +10   \n=========================================\n+ Hits         8765    8771       +6   \n- Misses       4614    4618       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 56.26% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/schema/proto/source_pb2.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/schema/proto/fee_pb2.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/schema/proto/certificate_pb2.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/schema/claim.py | 86.99% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/proto/signature_pb2.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/proto/metadata_pb2.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/schema/metadata.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/schema/signer.py | 97.05% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 58.86% <100%> (+0.06%) | :arrow_up: |\n| ... and 4 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8593cd3...574c2ce. Read the comment docs.\n. # Codecov Report\nMerging #1800 into master will decrease coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1800      +/-\n==========================================\n- Coverage    65.7%   65.69%   -0.01%   \n==========================================\n  Files         150      150            \n  Lines       13380    13378       -2   \n==========================================\n- Hits         8791     8789       -2   \n  Misses       4589     4589\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 57.54% <100%> (-0.24%) | :arrow_down: |\n| lbrynet/extras/wallet/resolve.py | 80.42% <100%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 368f068...6fa44da. Read the comment docs.\n. # Codecov Report\nMerging #1801 into master will increase coverage by 0.19%.\nThe diff coverage is 98.55%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1801      +/-\n==========================================\n+ Coverage    65.7%   65.89%   +0.19%   \n==========================================\n  Files         150      150            \n  Lines       13380    13455      +75   \n==========================================\n+ Hits         8791     8866      +75   \n  Misses       4589     4589\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 80.68% <100%> (+3.86%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 59.48% <96.77%> (+0.46%) | :arrow_up: |\n| lbrynet/extras/wallet/manager.py | 62.64% <0%> (+4.86%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 368f068...f453b7e. Read the comment docs.\n. # Codecov Report\nMerging #1802 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1802   +/-\n=======================================\n  Coverage   65.77%   65.77%         \n=======================================\n  Files         150      150         \n  Lines       13390    13390         \n=======================================\n  Hits         8807     8807         \n  Misses       4583     4583\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7a038bb...8c6c707. Read the comment docs.\n. # Codecov Report\nMerging #1805 into master will increase coverage by 0.14%.\nThe diff coverage is 98.68%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1805      +/-\n==========================================\n+ Coverage   68.81%   68.95%   +0.14%   \n==========================================\n  Files         110      110            \n  Lines        9859     9905      +46   \n==========================================\n+ Hits         6784     6830      +46   \n  Misses       3075     3075\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 91.37% <100%> (+0.25%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 63.43% <100%> (-0.04%) | :arrow_down: |\n| lbrynet/extras/cli.py | 80.21% <97.77%> (+4.88%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 77ece96...2516892. Read the comment docs.\n. # Codecov Report\nMerging #1809 into master will increase coverage by 0.04%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1809      +/-\n==========================================\n+ Coverage   68.92%   68.96%   +0.04%   \n==========================================\n  Files         110      110            \n  Lines        9910     9917       +7   \n==========================================\n+ Hits         6830     6839       +9   \n+ Misses       3080     3078       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/server.py | 80.85% <100%> (+1.54%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 85.49% <0%> (+1.52%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 071af12...126d719. Read the comment docs.\n. # Codecov Report\nMerging #1810 into master will decrease coverage by 15.73%.\nThe diff coverage is 39.29%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1810       +/-\n===========================================\n- Coverage   68.96%   53.22%   -15.74%   \n===========================================\n  Files         110      112        +2   \n  Lines        9917    10172      +255   \n===========================================\n- Hits         6839     5414     -1425   \n- Misses       3078     4758     +1680\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 42.49% <\u00f8> (-4.02%) | :arrow_down: |\n| lbrynet/stream/reflector/server.py | 0% <0%> (\u00f8) | |\n| lbrynet/stream/stream_manager.py | 30.68% <40%> (+0.27%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 68.18% <61.11%> (-2.66%) | :arrow_down: |\n| lbrynet/stream/reflector/client.py | 86.58% <86.58%> (\u00f8) | |\n| lbrynet/dht/serialization/bencoding.py | 9.23% <0%> (-87.7%) | :arrow_down: |\n| lbrynet/stream/downloader.py | 11.76% <0%> (-71.66%) | :arrow_down: |\n| lbrynet/dht/protocol/async_generator_junction.py | 25.33% <0%> (-68%) | :arrow_down: |\n| lbrynet/stream/assembler.py | 20.51% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/blob_exchange/server.py | 20.21% <0%> (-60.64%) | :arrow_down: |\n| ... and 39 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d0e6e74...3e3f6c0. Read the comment docs.\n. # Codecov Report\nMerging #1813 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1813      +/-\n==========================================\n+ Coverage   69.11%   69.12%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10172    10175       +3   \n==========================================\n+ Hits         7030     7033       +3   \n  Misses       3142     3142\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 80.52% <100%> (+0.31%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 026d93e...9822ede. Read the comment docs.\n. # Codecov Report\nMerging #1814 into master will increase coverage by 0.09%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1814      +/-\n==========================================\n+ Coverage   69.12%   69.21%   +0.09%   \n==========================================\n  Files         112      112            \n  Lines       10175    10152      -23   \n==========================================\n- Hits         7033     7027       -6   \n+ Misses       3142     3125      -17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 64.09% <100%> (+0.66%) | :arrow_up: |\n| lbrynet/extras/cli.py | 80.52% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 65.13% <0%> (+0.45%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f47a685...f2a30de. Read the comment docs.\n. # Codecov Report\nMerging #1815 into master will increase coverage by 0.03%.\nThe diff coverage is 90.47%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1815      +/-\n==========================================\n+ Coverage   69.19%   69.23%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10152    10180      +28   \n==========================================\n+ Hits         7025     7048      +23   \n- Misses       3127     3132       +5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 64.09% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/cli.py | 80.52% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/conf.py | 90.69% <90%> (-0.69%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e01c73a...a1d79e3. Read the comment docs.\n. # Codecov Report\nMerging #1815 into master will increase coverage by 0.02%.\nThe diff coverage is 84.78%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1815      +/-\n==========================================\n+ Coverage   69.19%   69.22%   +0.02%   \n==========================================\n  Files         112      112            \n  Lines       10152    10183      +31   \n==========================================\n+ Hits         7025     7049      +24   \n- Misses       3127     3134       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 64.09% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/cli.py | 80.52% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/conf.py | 90.23% <86.04%> (-1.15%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e01c73a...a1d79e3. Read the comment docs.\n. # Codecov Report\nMerging #1816 into master will not change coverage.\nThe diff coverage is 20%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1816   +/-\n=======================================\n  Coverage   69.22%   69.22%         \n=======================================\n  Files         112      112         \n  Lines       10183    10183         \n=======================================\n  Hits         7049     7049         \n  Misses       3134     3134\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 64.09% <20%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update aa14058...0ac9e8d. Read the comment docs.\n. # Codecov Report\nMerging #1817 into master will decrease coverage by 15.94%.\nThe diff coverage is 100%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1817       +/-\n===========================================\n- Coverage   69.16%   53.22%   -15.95%   \n===========================================\n  Files         112      113        +1   \n  Lines       10161    10184       +23   \n===========================================\n- Hits         7028     5420     -1608   \n- Misses       3133     4764     +1631\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/reflector/__init__.py | 100% <100%> (\u00f8) | |\n| lbrynet/dht/serialization/bencoding.py | 9.23% <0%> (-87.7%) | :arrow_down: |\n| lbrynet/stream/reflector/server.py | 0% <0%> (-76%) | :arrow_down: |\n| lbrynet/stream/downloader.py | 11.76% <0%> (-72.77%) | :arrow_down: |\n| lbrynet/dht/protocol/async_generator_junction.py | 25.33% <0%> (-68%) | :arrow_down: |\n| lbrynet/stream/assembler.py | 20.51% <0%> (-66.67%) | :arrow_down: |\n| lbrynet/blob_exchange/server.py | 20.21% <0%> (-62.27%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 11.42% <0%> (-54.29%) | :arrow_down: |\n| lbrynet/schema/schema/fee.py | 46.15% <0%> (-53.85%) | :arrow_down: |\n| lbrynet/blob_exchange/serialization.py | 39.77% <0%> (-52.49%) | :arrow_down: |\n| ... and 41 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ffc7fc0...a11186e. Read the comment docs.\n. # Codecov Report\nMerging #1818 into master will increase coverage by 0.03%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1818      +/-\n==========================================\n+ Coverage   69.22%   69.26%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10183    10183            \n==========================================\n+ Hits         7049     7053       +4   \n+ Misses       3134     3130       -4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 65.59% <100%> (+0.91%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 60ed4e5...573285a. Read the comment docs.\n. # Codecov Report\nMerging #1822 into master will decrease coverage by 0.14%.\nThe diff coverage is 49.31%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1822      +/-\n==========================================\n- Coverage   69.26%   69.11%   -0.15%   \n==========================================\n  Files         112      112            \n  Lines       10183    10171      -12   \n==========================================\n- Hits         7053     7030      -23   \n- Misses       3130     3141      +11\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 64.15% <\u00f8> (+0.06%) | :arrow_up: |\n| lbrynet/dht/blob_announcer.py | 18.33% <0%> (-0.64%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 59.32% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 14.67% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/reflector/client.py | 86.74% <100%> (+0.16%) | :arrow_up: |\n| lbrynet/conf.py | 89.36% <100%> (-0.87%) | :arrow_down: |\n| lbrynet/extras/daemon/analytics.py | 67.52% <100%> (+0.56%) | :arrow_up: |\n| lbrynet/stream/downloader.py | 83.42% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/node.py | 54.32% <18.18%> (-2.83%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 30.52% <25%> (-0.17%) | :arrow_down: |\n| ... and 4 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f6e7700...71f9f8a. Read the comment docs.\n. # Codecov Report\nMerging #1824 into master will not change coverage.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1824   +/-\n=======================================\n  Coverage   69.09%   69.09%         \n=======================================\n  Files         112      112         \n  Lines       10171    10171         \n=======================================\n  Hits         7028     7028         \n  Misses       3143     3143\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 65.59% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 64.15% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/async_generator_junction.py | 93.33% <100%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a94cf04...bfaebf0. Read the comment docs.\n. # Codecov Report\nMerging #1825 into master will increase coverage by 0.04%.\nThe diff coverage is 44.44%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1825      +/-\n==========================================\n+ Coverage   69.09%   69.13%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10171    10162       -9   \n==========================================\n- Hits         7028     7026       -2   \n+ Misses       3143     3136       -7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/managed_stream.py | 67.93% <\u00f8> (-0.25%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 31.01% <0%> (+0.48%) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 46.51% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 65.94% <44.44%> (+0.22%) | :arrow_up: |\n| lbrynet/stream/downloader.py | 84.78% <57.14%> (+1.36%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 305034f...1a4f083. Read the comment docs.\n. # Codecov Report\nMerging #1828 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1828      +/-\n==========================================\n+ Coverage   69.16%   69.17%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10158    10158            \n==========================================\n+ Hits         7026     7027       +1   \n+ Misses       3132     3131       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/server.py | 84.04% <100%> (+3.19%) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 65.59% <0%> (-0.46%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 933d58d...2e633c0. Read the comment docs.\n. # Codecov Report\nMerging #1830 into master will increase coverage by 0.27%.\nThe diff coverage is 81.08%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1830      +/-\n==========================================\n+ Coverage   69.16%   69.44%   +0.27%   \n==========================================\n  Files         112      112            \n  Lines       10161    10125      -36   \n==========================================\n+ Hits         7028     7031       +3   \n+ Misses       3133     3094      -39\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 59.32% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/node.py | 61.63% <50%> (+6.28%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <83.09%> (+6.59%) | :arrow_up: |\n| lbrynet/dht/protocol/routing_table.py | 54.76% <0%> (-0.6%) | :arrow_down: |\n| lbrynet/dht/protocol/protocol.py | 66.05% <0%> (+0.45%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ffc7fc0...5ee4b21. Read the comment docs.\n. # Codecov Report\nMerging #1830 into master will increase coverage by 0.27%.\nThe diff coverage is 81.08%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1830      +/-\n==========================================\n+ Coverage   69.16%   69.44%   +0.27%   \n==========================================\n  Files         112      112            \n  Lines       10161    10125      -36   \n==========================================\n+ Hits         7028     7031       +3   \n+ Misses       3133     3094      -39\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 59.32% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/node.py | 61.63% <50%> (+6.28%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <83.09%> (+6.59%) | :arrow_up: |\n| lbrynet/dht/protocol/routing_table.py | 54.76% <0%> (-0.6%) | :arrow_down: |\n| lbrynet/dht/protocol/protocol.py | 66.05% <0%> (+0.45%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ffc7fc0...5ee4b21. Read the comment docs.\n. # Codecov Report\nMerging #1831 into master will increase coverage by 0.55%.\nThe diff coverage is 63.08%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1831      +/-\n==========================================\n+ Coverage   69.44%   69.99%   +0.55%   \n==========================================\n  Files         112      112            \n  Lines       10125    10042      -83   \n==========================================\n- Hits         7031     7029       -2   \n+ Misses       3094     3013      -81\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 45.94% <\u00f8> (-0.58%) | :arrow_down: |\n| lbrynet/blob_exchange/server.py | 82.47% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/cli.py | 79.68% <0%> (-0.84%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 68.29% <100%> (+8.96%) | :arrow_up: |\n| lbrynet/conf.py | 89.68% <100%> (+0.31%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 63.74% <16.66%> (-0.42%) | :arrow_down: |\n| lbrynet/utils.py | 54.73% <22.22%> (-6.9%) | :arrow_down: |\n| lbrynet/dht/node.py | 58.82% <23.52%> (-2.82%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 65.24% <50%> (-0.47%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 70.92% <53.84%> (+2.98%) | :arrow_up: |\n| ... and 11 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 64dec82...df86937. Read the comment docs.\n. # Codecov Report\nMerging #1833 into master will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1833   +/-\n=======================================\n  Coverage   69.99%   69.99%         \n=======================================\n  Files         112      112         \n  Lines       10040    10040         \n=======================================\n  Hits         7027     7027         \n  Misses       3013     3013\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 63.74% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update be6e874...87f5d1b. Read the comment docs.\n. # Codecov Report\nMerging #1834 into master will increase coverage by <.01%.\nThe diff coverage is 26.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1834      +/-\n==========================================\n+ Coverage   69.98%   69.99%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10042    10040       -2   \n==========================================\n- Hits         7028     7027       -1   \n+ Misses       3014     3013       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 64.74% <26.66%> (-0.51%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 607ccef...2e9acd1. Read the comment docs.\n. # Codecov Report\nMerging #1835 into master will increase coverage by 0.02%.\nThe diff coverage is 54.54%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1835      +/-\n==========================================\n+ Coverage   69.99%   70.01%   +0.02%   \n==========================================\n  Files         112      112            \n  Lines       10040    10022      -18   \n==========================================\n- Hits         7027     7017      -10   \n+ Misses       3013     3005       -8\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/peer.py | 74.82% <51.51%> (+2.84%) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 66.05% <63.63%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 16d0ff8...31445c7. Read the comment docs.\n. # Codecov Report\nMerging #1838 into master will increase coverage by 0.34%.\nThe diff coverage is 67.92%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1838      +/-\n==========================================\n+ Coverage   70.01%   70.35%   +0.34%   \n==========================================\n  Files         112      112            \n  Lines       10022    10033      +11   \n==========================================\n+ Hits         7017     7059      +42   \n+ Misses       3005     2974      -31\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/server.py | 80.8% <0%> (-1.67%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 37.62% <50%> (+6.04%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 64.02% <78.37%> (+0.27%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 69.51% <0%> (+1.21%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 89.31% <0%> (+3.81%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 82.08% <0%> (+19.4%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5a28128...2336015. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@3eac99c). Click here to learn what that means.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1840   +/-\n=========================================\n  Coverage          ?   70.35%         \n=========================================\n  Files             ?      112         \n  Lines             ?    10033         \n  Branches          ?        0         \n=========================================\n  Hits              ?     7059         \n  Misses            ?     2974         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/server.py | 80.8% <0%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3eac99c...0a08f44. Read the comment docs.\n. # Codecov Report\nMerging #1841 into master will increase coverage by 0.01%.\nThe diff coverage is 70.96%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1841      +/-\n==========================================\n+ Coverage   70.37%   70.38%   +0.01%   \n==========================================\n  Files         112      112            \n  Lines       10031    10023       -8   \n==========================================\n- Hits         7059     7055       -4   \n+ Misses       2972     2968       -4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/downloader.py | 68.53% <0%> (-0.78%) | :arrow_down: |\n| lbrynet/extras/daemon/Daemon.py | 64.02% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/downloader.py | 83.33% <100%> (+3.03%) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 45.94% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 90.07% <100%> (+0.76%) | :arrow_up: |\n| lbrynet/blob/writer.py | 75.47% <50%> (+0.03%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 37.43% <50%> (-0.2%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 70.92% <50%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/assembler.py | 86.9% <80%> (+0.23%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n| ... and 2 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update df06351...f5bf146. Read the comment docs.\n. # Codecov Report\nMerging #1844 into master will decrease coverage by 0.29%.\nThe diff coverage is 14.7%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1844     +/-\n=========================================\n- Coverage   70.38%   70.09%   -0.3%   \n=========================================\n  Files         112      112           \n  Lines       10021    10077     +56   \n=========================================\n+ Hits         7053     7063     +10   \n- Misses       2968     3014     +46\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/node.py | 59.17% <0%> (+0.34%) | :arrow_up: |\n| lbrynet/stream/assembler.py | 86.9% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 66.05% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/server.py | 80.8% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 65.38% <20%> (+1.36%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 69.59% <42.85%> (-1.33%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 69.39% <50%> (-0.12%) | :arrow_down: |\n| lbrynet/dht/blob_announcer.py | 19.35% <50%> (+1.02%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 29.77% <6.41%> (-7.67%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c1b4a01...e96b75a. Read the comment docs.\n. # Codecov Report\nMerging #1845 into master will decrease coverage by <.01%.\nThe diff coverage is 90.9%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1845      +/-\n==========================================\n- Coverage   70.38%   70.38%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10025    10021       -4   \n==========================================\n- Hits         7056     7053       -3   \n+ Misses       2969     2968       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/downloader.py | 69.56% <100%> (+1.02%) | :arrow_up: |\n| lbrynet/blob_exchange/serialization.py | 92.52% <85.71%> (+0.26%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 70.92% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4e3b529...40da5b6. Read the comment docs.\n. # Codecov Report\nMerging #1846 into master will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1846      +/-\n=========================================\n+ Coverage   70.09%   70.1%   +0.01%   \n=========================================\n  Files         112     112            \n  Lines       10078   10085       +7   \n=========================================\n+ Hits         7064    7070       +6   \n- Misses       3014    3015       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 80.4% <100%> (+0.71%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 478f793...ccbe8aa. Read the comment docs.\n. # Codecov Report\nMerging #1848 into master will increase coverage by 0.04%.\nThe diff coverage is 55.55%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1848      +/-\n==========================================\n+ Coverage   70.12%   70.16%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10094    10092       -2   \n==========================================\n+ Hits         7078     7081       +3   \n+ Misses       3016     3011       -5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 31.73% <100%> (+0.59%) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 69.27% <50%> (-0.12%) | :arrow_down: |\n| lbrynet/dht/blob_announcer.py | 18.33% <50%> (-1.03%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 70.27% <0%> (+0.67%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update bbadece...0a027cf. Read the comment docs.\n. # Codecov Report\nMerging #1849 into master will increase coverage by 0.12%.\nThe diff coverage is 80.95%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1849      +/-\n==========================================\n+ Coverage   70.15%   70.27%   +0.12%   \n==========================================\n  Files         112      112            \n  Lines       10092    10106      +14   \n==========================================\n+ Hits         7080     7102      +22   \n+ Misses       3012     3004       -8\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 33.21% <100%> (+1.47%) | :arrow_up: |\n| lbrynet/utils.py | 62.5% <57.14%> (+7.76%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 65.82% <90.9%> (+0.24%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 73f4e95...dcd78bd. Read the comment docs.\n. # Codecov Report\nMerging #1850 into master will increase coverage by 0.02%.\nThe diff coverage is 57.14%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1850      +/-\n==========================================\n+ Coverage   70.26%   70.28%   +0.02%   \n==========================================\n  Files         112      112            \n  Lines       10106    10103       -3   \n==========================================\n  Hits         7101     7101            \n+ Misses       3005     3002       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 33.45% <0%> (+0.24%) | :arrow_up: |\n| lbrynet/stream/assembler.py | 86.74% <100%> (-0.16%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dbce49e...736a949. Read the comment docs.\n. # Codecov Report\nMerging #1852 into master will increase coverage by 0.04%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1852      +/-\n==========================================\n+ Coverage   70.27%   70.31%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10103    10090      -13   \n==========================================\n- Hits         7100     7095       -5   \n+ Misses       3003     2995       -8\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/managed_stream.py | 72.59% <66.66%> (+2.99%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 13b3e4b...ad71a9a. Read the comment docs.\n. # Codecov Report\nMerging #1854 into master will decrease coverage by 0.04%.\nThe diff coverage is 50%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1854      +/-\n==========================================\n- Coverage   70.32%   70.28%   -0.05%   \n==========================================\n  Files         112      112            \n  Lines       10090    10098       +8   \n==========================================\n+ Hits         7096     7097       +1   \n- Misses       2994     3001       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/routing_table.py | 54.81% <\u00f8> (+0.05%) | :arrow_up: |\n| lbrynet/dht/node.py | 59.17% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 65.81% <100%> (-0.24%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 69.59% <0%> (-3%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7d7d4c3...ae1162f. Read the comment docs.\n. # Codecov Report\nMerging #1855 into master will decrease coverage by 16.39%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1855      +/-\n==========================================\n- Coverage   70.31%   53.91%   -16.4%   \n==========================================\n  Files         112      112            \n  Lines       10085    10084       -1   \n==========================================\n- Hits         7091     5437    -1654   \n- Misses       2994     4647    +1653\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 15.27% <\u00f8> (-50.55%) | :arrow_down: |\n| lbrynet/dht/serialization/bencoding.py | 9.23% <0%> (-87.7%) | :arrow_down: |\n| lbrynet/stream/reflector/server.py | 0% <0%> (-76%) | :arrow_down: |\n| lbrynet/dht/protocol/async_generator_junction.py | 25.33% <0%> (-68%) | :arrow_down: |\n| lbrynet/stream/reflector/client.py | 20.48% <0%> (-66.27%) | :arrow_down: |\n| lbrynet/stream/assembler.py | 22.89% <0%> (-63.86%) | :arrow_down: |\n| lbrynet/blob_exchange/server.py | 19.19% <0%> (-61.62%) | :arrow_down: |\n| lbrynet/blob_exchange/downloader.py | 15.05% <0%> (-54.84%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 11.51% <0%> (-54.68%) | :arrow_down: |\n| lbrynet/schema/schema/fee.py | 46.15% <0%> (-53.85%) | :arrow_down: |\n| ... and 38 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6033399...f0b49fc. Read the comment docs.\n. # Codecov Report\nMerging #1858 into master will decrease coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1858      +/-\n==========================================\n- Coverage   70.29%   70.28%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10085    10085            \n==========================================\n- Hits         7089     7088       -1   \n- Misses       2996     2997       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob/blob_file.py | 90.07% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e141cc9...2bce7ce. Read the comment docs.\n. # Codecov Report\nMerging #1860 into master will increase coverage by 0.04%.\nThe diff coverage is 92.3%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1860      +/-\n==========================================\n+ Coverage   70.28%   70.32%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10094    10101       +7   \n==========================================\n+ Hits         7095     7104       +9   \n+ Misses       2999     2997       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 80% <0%> (-0.41%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 69.57% <100%> (+0.3%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 84.84% <100%> (+2.75%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 73.57% <100%> (+0.97%) | :arrow_up: |\n| lbrynet/stream/downloader.py | 83.82% <100%> (+0.49%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5af351a...0685bc5. Read the comment docs.\n. # Codecov Report\nMerging #1861 into master will decrease coverage by 0.02%.\nThe diff coverage is 80%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1861      +/-\n=========================================\n- Coverage   70.33%   70.3%   -0.03%   \n=========================================\n  Files         112     112            \n  Lines       10101   10101            \n=========================================\n- Hits         7105    7102       -3   \n- Misses       2996    2999       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 69.57% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 89.31% <80%> (-0.77%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 63.26% <0%> (-1.37%) | :arrow_down: |\n| lbrynet/blob_exchange/downloader.py | 68.88% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update af43b21...e83cf51. Read the comment docs.\n. # Codecov Report\nMerging #1862 into master will increase coverage by 0.05%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1862      +/-\n==========================================\n+ Coverage   70.32%   70.38%   +0.05%   \n==========================================\n  Files         112      112            \n  Lines       10101    10095       -6   \n==========================================\n+ Hits         7104     7105       +1   \n+ Misses       2997     2990       -7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/downloader.py | 83.33% <\u00f8> (-0.5%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 73.18% <\u00f8> (-0.39%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 71.81% <\u00f8> (+2.23%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 84.37% <\u00f8> (-0.48%) | :arrow_down: |\n| lbrynet/stream/assembler.py | 87.05% <100%> (+0.31%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 90.07% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 63.26% <0%> (-1.37%) | :arrow_down: |\n| lbrynet/blob_exchange/downloader.py | 68.88% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f8a7d2e...a4ced4d. Read the comment docs.\n. # Codecov Report\nMerging #1865 into master will decrease coverage by 0.05%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1865      +/-\n==========================================\n- Coverage   70.36%   70.31%   -0.06%   \n==========================================\n  Files         112      112            \n  Lines       10097    10098       +1   \n==========================================\n- Hits         7105     7100       -5   \n- Misses       2992     2998       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 31.97% <\u00f8> (-1.49%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 71.12% <0%> (-2.07%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 073ffdd...7c8ad0f. Read the comment docs.\n. # Codecov Report\nMerging #1866 into master will increase coverage by 1.31%.\nThe diff coverage is 71.73%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1866      +/-\n==========================================\n+ Coverage   70.31%   71.63%   +1.31%   \n==========================================\n  Files         112      112            \n  Lines       10106    10127      +21   \n==========================================\n+ Hits         7106     7254     +148   \n+ Misses       3000     2873     -127\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 65.63% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 65.74% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 45.94% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 80% <100%> (+11.11%) | :arrow_up: |\n| lbrynet/stream/downloader.py | 84.28% <100%> (+0.95%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 90.22% <100%> (+0.14%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 96.77% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 66.66% <61.53%> (+34.69%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 82.53% <64.7%> (-1.84%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 78.57% <80%> (+7.44%) | :arrow_up: |\n| ... and 7 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f8dc0f2...dfdc8ed. Read the comment docs.\n. # Codecov Report\nMerging #1867 into master will increase coverage by 0.03%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1867      +/-\n==========================================\n+ Coverage   70.31%   70.34%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10098    10103       +5   \n==========================================\n+ Hits         7100     7107       +7   \n+ Misses       2998     2996       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/descriptor.py | 96.77% <100%> (+3.33%) | :arrow_up: |\n| lbrynet/stream/assembler.py | 85.22% <50%> (-1.84%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 82b53e1...76c8447. Read the comment docs.\n. # Codecov Report\nMerging #1868 into master will decrease coverage by 0.02%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1868      +/-\n==========================================\n- Coverage   70.34%   70.32%   -0.03%   \n==========================================\n  Files         112      112            \n  Lines       10103    10106       +3   \n==========================================\n  Hits         7107     7107            \n- Misses       2996     2999       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 65.63% <0%> (-0.2%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1314f75...8b5803c. Read the comment docs.\n. # Codecov Report\nMerging #1872 into master will increase coverage by 0.01%.\nThe diff coverage is 80.21%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1872      +/-\n==========================================\n+ Coverage   74.62%   74.63%   +0.01%   \n==========================================\n  Files         112      112            \n  Lines       10294    10271      -23   \n==========================================\n- Hits         7682     7666      -16   \n+ Misses       2612     2605       -7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/server/block_processor.py | 74.61% <\u00f8> (+0.37%) | :arrow_up: |\n| lbrynet/extras/wallet/__init__.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 69.55% <\u00f8> (+0.09%) | :arrow_up: |\n| lbrynet/extras/wallet/server/db.py | 96.45% <100%> (-0.57%) | :arrow_down: |\n| lbrynet/schema/uri.py | 95.65% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/wallet/claim_proofs.py | 77.77% <100%> (+0.35%) | :arrow_up: |\n| lbrynet/extras/wallet/server/session.py | 76.51% <74.6%> (+0.19%) | :arrow_up: |\n| lbrynet/extras/wallet/resolve.py | 80.53% <80%> (+0.11%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-1.28%) | :arrow_down: |\n| ... and 4 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ad134fe...53050cb. Read the comment docs.\n. # Codecov Report\nMerging #1873 into master will increase coverage by 0.03%.\nThe diff coverage is 85.71%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1873      +/-\n==========================================\n+ Coverage   71.64%   71.67%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10127    10133       +6   \n==========================================\n+ Hits         7255     7263       +8   \n+ Misses       2872     2870       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob/blob_file.py | 90.22% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/assembler.py | 91% <100%> (+2.45%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 96.03% <50%> (-0.75%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n| lbrynet/blob/blob_manager.py | 85.71% <0%> (+3.17%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3508da4...3a15ff4. Read the comment docs.\n. # Codecov Report\nMerging #1889 into master will increase coverage by 0.14%.\nThe diff coverage is 70.14%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1889      +/-\n==========================================\n+ Coverage   71.68%   71.83%   +0.14%   \n==========================================\n  Files         112      112            \n  Lines       10133    10158      +25   \n==========================================\n+ Hits         7264     7297      +33   \n+ Misses       2869     2861       -8\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 59.17% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/downloader.py | 84.5% <100%> (+0.22%) | :arrow_up: |\n| lbrynet/stream/assembler.py | 91.26% <100%> (+0.26%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 93.33% <100%> (+3.1%) | :arrow_up: |\n| lbrynet/conf.py | 89.71% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 70.86% <55.76%> (+7.59%) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 65.33% <67.74%> (-0.41%) | :arrow_down: |\n| lbrynet/blob_exchange/downloader.py | 79.09% <84.61%> (-0.91%) | :arrow_down: |\n| lbrynet/blob_exchange/serialization.py | 91.95% <0%> (-0.58%) | :arrow_down: |\n| ... and 1 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a121110...9ecec52. Read the comment docs.\n. # Codecov Report\nMerging #1892 into master will decrease coverage by 0.08%.\nThe diff coverage is 64.86%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1892      +/-\n==========================================\n- Coverage   71.83%   71.75%   -0.09%   \n==========================================\n  Files         112      112            \n  Lines       10158    10164       +6   \n==========================================\n- Hits         7297     7293       -4   \n- Misses       2861     2871      +10\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 71.33% <\u00f8> (+0.47%) | :arrow_up: |\n| lbrynet/extras/cli.py | 79.6% <0%> (-0.4%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 66.9% <100%> (+0.23%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 82.25% <100%> (-3.46%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 72.07% <54.54%> (-1.87%) | :arrow_down: |\n| lbrynet/blob/blob_file.py | 92.7% <75%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 869a8b7...9f89c62. Read the comment docs.\n. # Codecov Report\nMerging #1894 into master will increase coverage by 0.17%.\nThe diff coverage is 92.3%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1894      +/-\n==========================================\n+ Coverage   71.74%   71.92%   +0.17%   \n==========================================\n  Files         112      112            \n  Lines       10164    10172       +8   \n==========================================\n+ Hits         7292     7316      +24   \n+ Misses       2872     2856      -16\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/conf.py | 89.71% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/exchange_rate_manager.py | 75% <100%> (+0.65%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 68.51% <91.66%> (+1.6%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 71.33% <0%> (+0.66%) | :arrow_up: |\n| lbrynet/schema/claim.py | 90.24% <0%> (+4.06%) | :arrow_up: |\n| lbrynet/schema/encoding.py | 90.9% <0%> (+6.49%) | :arrow_up: |\n| lbrynet/schema/schema/metadata.py | 100% <0%> (+14.28%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f65e70d...6732b30. Read the comment docs.\n. # Codecov Report\nMerging #1895 into master will increase coverage by 2.4%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1895     +/-\n=========================================\n+ Coverage   71.73%   74.14%   +2.4%   \n=========================================\n  Files         112      112           \n  Lines       10164    10851    +687   \n=========================================\n+ Hits         7291     8045    +754   \n+ Misses       2873     2806     -67\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/blob_exchange/serialization.py | 92.52% <0%> (+0.57%) | :arrow_up: |\n| lbrynet/extras/daemon/exchange_rate_manager.py | 75% <0%> (+0.65%) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 80% <0%> (+0.9%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 94.44% <0%> (+1.74%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 98.41% <0%> (+2.38%) | :arrow_up: |\n| lbrynet/extras/wallet/claim_proofs.py | 77.41% <0%> (+3.22%) | :arrow_up: |\n| lbrynet/error.py | 80.9% <0%> (+3.63%) | :arrow_up: |\n| lbrynet/schema/claim.py | 90.24% <0%> (+4.06%) | :arrow_up: |\n| lbrynet/utils.py | 69.38% <0%> (+4.08%) | :arrow_up: |\n| ... and 12 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4541e75...bde592f. Read the comment docs.\n. # Codecov Report\nMerging #1896 into master will increase coverage by 0.19%.\nThe diff coverage is 92.3%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1896      +/-\n==========================================\n+ Coverage   74.56%   74.75%   +0.19%   \n==========================================\n  Files         112      112            \n  Lines       10281    10375      +94   \n==========================================\n+ Hits         7666     7756      +90   \n- Misses       2615     2619       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/account.py | 49.1% <100%> (+3.58%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 70.02% <88.46%> (+0.47%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 93.24% <0%> (-0.68%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 79.06% <0%> (-0.44%) | :arrow_down: |\n| lbrynet/extras/cli.py | 81.34% <0%> (+5.75%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0cc602c...a1a5473. Read the comment docs.\n. # Codecov Report\nMerging #1900 into master will increase coverage by 0.63%.\nThe diff coverage is 85.71%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1900      +/-\n==========================================\n+ Coverage    71.9%   72.54%   +0.63%   \n==========================================\n  Files         112      112            \n  Lines       10172    10168       -4   \n==========================================\n+ Hits         7314     7376      +62   \n+ Misses       2858     2792      -66\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/manager.py | 62.08% <\u00f8> (-0.13%) | :arrow_down: |\n| lbrynet/extras/daemon/Components.py | 45.94% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 67.13% <83.33%> (+1.5%) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 72.37% <0%> (+0.3%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 71.33% <0%> (+0.66%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 98.41% <0%> (+2.38%) | :arrow_up: |\n| lbrynet/extras/wallet/claim_proofs.py | 77.41% <0%> (+3.22%) | :arrow_up: |\n| lbrynet/utils.py | 69.38% <0%> (+4.08%) | :arrow_up: |\n| ... and 3 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update afdc44c...7821a87. Read the comment docs.\n. # Codecov Report\nMerging #1903 into master will increase coverage by 0.08%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1903      +/-\n==========================================\n+ Coverage   72.75%   72.83%   +0.08%   \n==========================================\n  Files         112      112            \n  Lines       10174    10182       +8   \n==========================================\n+ Hits         7402     7416      +14   \n+ Misses       2772     2766       -6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 75.15% <100%> (+1.82%) | :arrow_up: |\n| lbrynet/blob_exchange/server.py | 85% <100%> (+4.19%) | :arrow_up: |\n| lbrynet/blob_exchange/serialization.py | 92.52% <0%> (+0.57%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 76ecb5d...5ba0bcc. Read the comment docs.\n. # Codecov Report\nMerging #1905 into master will increase coverage by <.01%.\nThe diff coverage is 88.23%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1905      +/-\n==========================================\n+ Coverage   73.03%   73.04%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10192    10191       -1   \n==========================================\n  Hits         7444     7444            \n+ Misses       2748     2747       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 73.35% <100%> (+0.08%) | :arrow_up: |\n| lbrynet/blob/blob_file.py | 93.38% <100%> (-0.05%) | :arrow_down: |\n| lbrynet/blob/blob_manager.py | 85.71% <75%> (+1.84%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 81.48% <83.33%> (-0.03%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8eede6d...1734e08. Read the comment docs.\n. # Codecov Report\nMerging #1906 into master will increase coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1906      +/-\n==========================================\n+ Coverage   72.52%   72.53%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10168    10168            \n==========================================\n+ Hits         7374     7375       +1   \n+ Misses       2794     2793       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 45.94% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 396c49f...6f662cc. Read the comment docs.\n. # Codecov Report\nMerging #1907 into master will increase coverage by <.01%.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1907      +/-\n==========================================\n+ Coverage   72.82%   72.82%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10182    10184       +2   \n==========================================\n+ Hits         7415     7417       +2   \n  Misses       2767     2767\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 79.6% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 67.4% <50%> (-0.04%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+0.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 119d498...64ed896. Read the comment docs.\n. # Codecov Report\nMerging #1908 into master will increase coverage by 12.1%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1908      +/-\n==========================================\n+ Coverage   60.64%   72.74%   +12.1%   \n==========================================\n  Files         112      112            \n  Lines       10168    10172       +4   \n==========================================\n+ Hits         6166     7400    +1234   \n+ Misses       4002     2772    -1230\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 67.36% <100%> (+0.23%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 76.71% <100%> (+14.77%) | :arrow_up: |\n| lbrynet/extras/daemon/ComponentManager.py | 91.22% <0%> (+0.87%) | :arrow_up: |\n| lbrynet/schema/schema/certificate.py | 83.33% <0%> (+2.77%) | :arrow_up: |\n| lbrynet/schema/signer.py | 97.05% <0%> (+2.94%) | :arrow_up: |\n| lbrynet/blob_exchange/server.py | 80.8% <0%> (+3.03%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 98.41% <0%> (+3.96%) | :arrow_up: |\n| lbrynet/stream/reflector/server.py | 76% <0%> (+4%) | :arrow_up: |\n| lbrynet/extras/daemon/Components.py | 45.94% <0%> (+4.05%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 82.25% <0%> (+4.83%) | :arrow_up: |\n| ... and 38 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 68905d8...48dcc24. Read the comment docs.\n. # Codecov Report\nMerging #1909 into master will decrease coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1909      +/-\n==========================================\n- Coverage   72.75%   72.75%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10172    10174       +2   \n==========================================\n+ Hits         7401     7402       +1   \n- Misses       2771     2772       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 67.43% <100%> (+0.06%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 73.33% <0%> (-0.67%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dbc1164...6f17eae. Read the comment docs.\n. # Codecov Report\nMerging #1912 into master will increase coverage by 0.17%.\nThe diff coverage is 92.3%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1912      +/-\n==========================================\n+ Coverage   72.81%   72.98%   +0.17%   \n==========================================\n  Files         112      112            \n  Lines       10184    10188       +4   \n==========================================\n+ Hits         7415     7436      +21   \n+ Misses       2769     2752      -17\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/downloader.py | 90.14% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 93.66% <100%> (+0.8%) | :arrow_up: |\n| lbrynet/stream/assembler.py | 91.5% <100%> (+0.24%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 80.41% <66.66%> (+3.7%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/extras/daemon/storage.py | 73.27% <0%> (+0.9%) | :arrow_up: |\n| lbrynet/blob/blob_manager.py | 83.87% <0%> (+1.61%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 21ca4f6...68e4437. Read the comment docs.\n. # Codecov Report\nMerging #1913 into master will increase coverage by 0.1%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1913     +/-\n=========================================\n+ Coverage   72.98%   73.09%   +0.1%   \n=========================================\n  Files         112      112           \n  Lines       10188    10191      +3   \n=========================================\n+ Hits         7436     7449     +13   \n+ Misses       2752     2742     -10\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/assembler.py | 91.74% <100%> (+0.23%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+0.63%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 68.3% <0%> (+0.89%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d91e8f5...1d9fa58. Read the comment docs.\n. # Codecov Report\nMerging #1914 into master will increase coverage by 0.04%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1914      +/-\n==========================================\n+ Coverage   72.98%   73.02%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10188    10192       +4   \n==========================================\n+ Hits         7436     7443       +7   \n+ Misses       2752     2749       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/assembler.py | 91.74% <100%> (+0.23%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 81.5% <100%> (+1.09%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d91e8f5...8499f4e. Read the comment docs.\n. # Codecov Report\nMerging #1919 into master will increase coverage by 0.31%.\nThe diff coverage is 91.09%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1919      +/-\n==========================================\n+ Coverage   73.02%   73.33%   +0.31%   \n==========================================\n  Files         112      112            \n  Lines       10193    10286      +93   \n==========================================\n+ Hits         7443     7543     +100   \n+ Misses       2750     2743       -7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob/blob_file.py | 93.38% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 64.58% <0%> (-0.46%) | :arrow_down: |\n| lbrynet/extras/daemon/Components.py | 45.7% <100%> (-0.24%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 93.75% <100%> (+0.08%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 67.36% <100%> (-0.04%) | :arrow_down: |\n| lbrynet/blob/blob_manager.py | 87.09% <100%> (+1.38%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 82.56% <86%> (+1.08%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 98.02% <96.77%> (-0.39%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 78.78% <97.77%> (+5.43%) | :arrow_up: |\n| ... and 2 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update dba4a09...fd08149. Read the comment docs.\n. # Codecov Report\nMerging #1920 into master will decrease coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1920      +/-\n==========================================\n- Coverage   73.04%   73.03%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10191    10191            \n==========================================\n- Hits         7444     7443       -1   \n- Misses       2747     2748       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/assembler.py | 91.74% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 19fdcad...34f48dd. Read the comment docs.\n. # Codecov Report\nMerging #1921 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1921      +/-\n==========================================\n- Coverage   73.03%   73.02%   -0.02%   \n==========================================\n  Files         112      112            \n  Lines       10191    10193       +2   \n==========================================\n  Hits         7443     7443            \n- Misses       2748     2750       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 45.74% <0%> (-0.2%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a49f479...aea4bde. Read the comment docs.\n. # Codecov Report\nMerging #1922 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1922      +/-\n==========================================\n- Coverage   73.03%   73.02%   -0.02%   \n==========================================\n  Files         112      112            \n  Lines       10191    10193       +2   \n==========================================\n  Hits         7443     7443            \n- Misses       2748     2750       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 65.03% <0%> (-0.31%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a49f479...918122e. Read the comment docs.\n. # Codecov Report\nMerging #1925 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1925      +/-\n==========================================\n+ Coverage    73.3%   73.31%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10288    10287       -1   \n==========================================\n  Hits         7542     7542            \n+ Misses       2746     2745       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update eaacf7e...fc450eb. Read the comment docs.\n. # Codecov Report\nMerging #1926 into master will decrease coverage by 0.12%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1926      +/-\n=========================================\n- Coverage   73.32%   73.2%   -0.13%   \n=========================================\n  Files         112     112            \n  Lines       10286   10814     +528   \n=========================================\n+ Hits         7542    7916     +374   \n- Misses       2744    2898     +154\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/downloader.py | 87.67% <100%> (-2.47%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 75.15% <100%> (+0.63%) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 80% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 64.62% <0%> (-2.75%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 76.41% <0%> (-2.38%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 81.21% <0%> (-1.35%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n| lbrynet/stream/descriptor.py | 98.42% <0%> (+0.39%) | :arrow_up: |\n| ... and 5 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update cfbf0db...576da1b. Read the comment docs.\n. # Codecov Report\nMerging #1932 into master will decrease coverage by <.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1932      +/-\n=========================================\n- Coverage    73.3%   73.3%   -0.01%   \n=========================================\n  Files         112     112            \n  Lines       10287   10289       +2   \n=========================================\n+ Hits         7541    7542       +1   \n- Misses       2746    2747       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 67.23% <0%> (-0.14%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4a0a6b0...3f7e466. Read the comment docs.\n. # Codecov Report\nMerging #1933 into master will decrease coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1933      +/-\n==========================================\n- Coverage    73.3%   73.29%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10287    10287            \n==========================================\n- Hits         7541     7540       -1   \n- Misses       2746     2747       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-1.28%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4a0a6b0...27c1731. Read the comment docs.\n. # Codecov Report\nMerging #1934 into master will increase coverage by 0.03%.\nThe diff coverage is 83.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1934      +/-\n==========================================\n+ Coverage   55.31%   55.34%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10289    10304      +15   \n==========================================\n+ Hits         5691     5703      +12   \n- Misses       4598     4601       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 72.61% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 79.2% <86.95%> (+0.1%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 03396c1...14b493a. Read the comment docs.\n. # Codecov Report\nMerging #1936 into master will increase coverage by 0.15%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1936      +/-\n==========================================\n+ Coverage   73.49%   73.65%   +0.15%   \n==========================================\n  Files         112      112            \n  Lines       10300    10301       +1   \n==========================================\n+ Hits         7570     7587      +17   \n+ Misses       2730     2714      -16\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/managed_stream.py | 93.79% <100%> (+0.73%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 83.18% <100%> (+0.61%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 69.63% <0%> (+0.69%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n| lbrynet/schema/fee.py | 66.66% <0%> (+2.77%) | :arrow_up: |\n| lbrynet/schema/encoding.py | 94.8% <0%> (+3.89%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1ce3adb...bfdcc8d. Read the comment docs.\n. # Codecov Report\nMerging #1938 into master will increase coverage by 0.45%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1938      +/-\n==========================================\n+ Coverage   73.66%   74.12%   +0.45%   \n==========================================\n  Files         112      112            \n  Lines       10301    10302       +1   \n==========================================\n+ Hits         7588     7636      +48   \n+ Misses       2713     2666      -47\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/routing_table.py | 74.25% <100%> (+19.43%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (-0.64%) | :arrow_down: |\n| lbrynet/dht/peer.py | 75.53% <0%> (+0.71%) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 68.05% <0%> (+3.47%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3ae6137...fcbdaa3. Read the comment docs.\n. # Codecov Report\nMerging #1939 into master will decrease coverage by 0.02%.\nThe diff coverage is 90%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1939      +/-\n==========================================\n- Coverage   74.12%   74.09%   -0.03%   \n==========================================\n  Files         112      112            \n  Lines       10302    10304       +2   \n==========================================\n- Hits         7636     7635       -1   \n- Misses       2666     2669       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/managed_stream.py | 93.83% <100%> (+0.04%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 82.62% <84.61%> (-0.56%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 82ce2cc...38ed212. Read the comment docs.\n. # Codecov Report\nMerging #1942 into master will increase coverage by 0.03%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1942      +/-\n==========================================\n+ Coverage   74.08%   74.12%   +0.03%   \n==========================================\n  Files         112      112            \n  Lines       10304    10307       +3   \n==========================================\n+ Hits         7634     7640       +6   \n+ Misses       2670     2667       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 46.1% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/dht/constants.py | 96.96% <100%> (+0.09%) | :arrow_up: |\n| lbrynet/dht/protocol/routing_table.py | 74.4% <100%> (+0.15%) | :arrow_up: |\n| lbrynet/dht/node.py | 59.17% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 68.05% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/conf.py | 89.74% <100%> (+0.02%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f175e88...cb5d428. Read the comment docs.\n. # Codecov Report\nMerging #1944 into master will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1944      +/-\n=========================================\n- Coverage   74.12%   74.1%   -0.02%   \n=========================================\n  Files         112     112            \n  Lines       10307   10307            \n=========================================\n- Hits         7640    7638       -2   \n- Misses       2667    2669       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/node.py | 59.17% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-1.28%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4c7f357...2496e7e. Read the comment docs.\n. # Codecov Report\nMerging #1945 into master will decrease coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1945      +/-\n=========================================\n- Coverage   74.12%   74.1%   -0.02%   \n=========================================\n  Files         112     112            \n  Lines       10307   10308       +1   \n=========================================\n- Hits         7640    7639       -1   \n- Misses       2667    2669       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Daemon.py | 69.66% <100%> (+0.03%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-1.28%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update aa41b8b...d7ba90b. Read the comment docs.\n. # Codecov Report\nMerging #1946 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1946   +/-\n=======================================\n  Coverage   74.31%   74.31%         \n=======================================\n  Files         112      112         \n  Lines       10318    10318         \n=======================================\n  Hits         7668     7668         \n  Misses       2650     2650\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/mime_types.py | 100% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 673b958...ba518e2. Read the comment docs.\n. # Codecov Report\nMerging #1948 into master will increase coverage by 0.21%.\nThe diff coverage is 93.93%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1948      +/-\n==========================================\n+ Coverage   74.09%   74.31%   +0.21%   \n==========================================\n  Files         112      112            \n  Lines       10308    10305       -3   \n==========================================\n+ Hits         7638     7658      +20   \n+ Misses       2670     2647      -23\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/constants.py | 97.05% <100%> (+0.08%) | :arrow_up: |\n| lbrynet/dht/protocol/routing_table.py | 80.45% <100%> (+6.05%) | :arrow_up: |\n| lbrynet/dht/protocol/protocol.py | 68.72% <92%> (+0.66%) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 93.83% <0%> (+0.68%) | :arrow_up: |\n| lbrynet/dht/peer.py | 80.57% <0%> (+5.03%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8aff860...4294bf7. Read the comment docs.\n. # Codecov Report\nMerging #1949 into master will decrease coverage by 18.29%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1949      +/-\n==========================================\n- Coverage   74.32%   56.02%   -18.3%   \n==========================================\n  Files         112      112            \n  Lines       10308    10311       +3   \n==========================================\n- Hits         7661     5777    -1884   \n- Misses       2647     4534    +1887\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 68.22% <0%> (-0.49%) | :arrow_down: |\n| lbrynet/extras/wallet/server/tx.py | 0% <0%> (-100%) | :arrow_down: |\n| lbrynet/extras/wallet/server/db.py | 0% <0%> (-97.03%) | :arrow_down: |\n| lbrynet/extras/wallet/server/model.py | 0% <0%> (-95.84%) | :arrow_down: |\n| lbrynet/extras/wallet/server/daemon.py | 0% <0%> (-90.33%) | :arrow_down: |\n| lbrynet/extras/wallet/server/coin.py | 0% <0%> (-88.51%) | :arrow_down: |\n| lbrynet/extras/wallet/server/opcodes.py | 0% <0%> (-78.05%) | :arrow_down: |\n| lbrynet/extras/wallet/server/session.py | 0% <0%> (-76.32%) | :arrow_down: |\n| lbrynet/extras/wallet/server/block_processor.py | 0% <0%> (-74.25%) | :arrow_down: |\n| lbrynet/extras/wallet/resolve.py | 8.86% <0%> (-71.56%) | :arrow_down: |\n| ... and 35 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6915a7a...03cd6b7. Read the comment docs.\n. # Codecov Report\nMerging #1950 into master will increase coverage by 0.04%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1950      +/-\n==========================================\n+ Coverage   74.28%   74.33%   +0.04%   \n==========================================\n  Files         112      112            \n  Lines       10313    10313            \n==========================================\n+ Hits         7661     7666       +5   \n+ Misses       2652     2647       -5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/protocol.py | 69.39% <66.66%> (+1.16%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7fe9513...fc64d8d. Read the comment docs.\n. # Codecov Report\nMerging #1951 into master will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1951      +/-\n=========================================\n+ Coverage    74.3%   74.3%   +<.01%   \n=========================================\n  Files         112     112            \n  Lines       10313   10318       +5   \n=========================================\n+ Hits         7663    7667       +4   \n- Misses       2650    2651       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob/blob_file.py | 93.43% <100%> (+0.04%) | :arrow_up: |\n| lbrynet/stream/descriptor.py | 98.07% <100%> (+0.05%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 690e2e7...f49578c. Read the comment docs.\n. # Codecov Report\nMerging #1952 into master will increase coverage by 0.15%.\nThe diff coverage is 29.41%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1952      +/-\n==========================================\n+ Coverage   74.29%   74.44%   +0.15%   \n==========================================\n  Files         112      112            \n  Lines       10320    10292      -28   \n==========================================\n- Hits         7667     7662       -5   \n+ Misses       2653     2630      -23\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/iterative_find.py | 74.16% <\u00f8> (+0.61%) | :arrow_up: |\n| lbrynet/stream/reflector/server.py | 78.51% <0%> (+2.51%) | :arrow_up: |\n| lbrynet/dht/node.py | 62.89% <0%> (+3.72%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 69.45% <0%> (-0.21%) | :arrow_down: |\n| lbrynet/stream/managed_stream.py | 93.83% <100%> (+0.68%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 82.71% <100%> (+0.09%) | :arrow_up: |\n| lbrynet/blob_exchange/downloader.py | 85.08% <100%> (+3.48%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 13c7026...e047748. Read the comment docs.\n. # Codecov Report\nMerging #1954 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1954   +/-\n=======================================\n  Coverage   74.29%   74.29%         \n=======================================\n  Files         112      112         \n  Lines       10318    10318         \n=======================================\n  Hits         7666     7666         \n  Misses       2652     2652\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update faa1935...71245ea. Read the comment docs.\n. # Codecov Report\nMerging #1956 into master will increase coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1956      +/-\n==========================================\n+ Coverage   74.56%   74.56%   +<.01%   \n==========================================\n  Files         112      112            \n  Lines       10281    10338      +57   \n==========================================\n+ Hits         7666     7709      +43   \n- Misses       2615     2629      +14\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 79.06% <0%> (-0.44%) | :arrow_down: |\n| lbrynet/extras/cli.py | 76.11% <0%> (+0.53%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0cc602c...4d6f213. Read the comment docs.\n. # Codecov Report\nMerging #1957 into master will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster   #1957      +/-\n=========================================\n+ Coverage   74.28%   74.3%   +0.01%   \n=========================================\n  Files         112     112            \n  Lines       10318   10320       +2   \n=========================================\n+ Hits         7665    7668       +3   \n+ Misses       2653    2652       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/peer.py | 80.85% <100%> (+0.27%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 73.55% <0%> (+0.41%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8cee627...e8c9abb. Read the comment docs.\n. # Codecov Report\nMerging #1959 into master will increase coverage by 0.02%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1959      +/-\n==========================================\n+ Coverage   74.28%   74.31%   +0.02%   \n==========================================\n  Files         112      112            \n  Lines       10318    10318            \n==========================================\n+ Hits         7665     7668       +3   \n+ Misses       2653     2650       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/managed_stream.py | 93.83% <0%> (+0.68%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5bb0a07...ab4a5ce. Read the comment docs.\n. # Codecov Report\nMerging #1961 into master will decrease coverage by 0.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1961      +/-\n==========================================\n- Coverage   74.31%   74.29%   -0.02%   \n==========================================\n  Files         112      112            \n  Lines       10320    10320            \n==========================================\n- Hits         7669     7667       -2   \n- Misses       2651     2653       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-0.64%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.14% <0%> (-0.42%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 573617d...876a3c6. Read the comment docs.\n. # Codecov Report\n:exclamation: No coverage uploaded for pull request base (master@591e66b). Click here to learn what that means.\nThe diff coverage is 69.23%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #1964   +/-\n=========================================\n  Coverage          ?   74.43%         \n=========================================\n  Files             ?      112         \n  Lines             ?    10290         \n  Branches          ?        0         \n=========================================\n  Hits              ?     7659         \n  Misses            ?     2631         \n  Partials          ?        0\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/wallet/resolve.py | 80.42% <0%> (\u00f8) | |\n| lbrynet/dht/serialization/datagram.py | 80% <100%> (\u00f8) | |\n| lbrynet/stream/stream_manager.py | 82.66% <100%> (\u00f8) | |\n| lbrynet/extras/daemon/Daemon.py | 69.45% <66.66%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 591e66b...d95903d. Read the comment docs.\n. # Codecov Report\nMerging #1965 into master will decrease coverage by <.01%.\nThe diff coverage is 42.85%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1965      +/-\n==========================================\n- Coverage   74.44%   74.43%   -0.01%   \n==========================================\n  Files         112      112            \n  Lines       10290    10298       +8   \n==========================================\n+ Hits         7660     7665       +5   \n- Misses       2630     2633       +3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 46.08% <0%> (-0.02%) | :arrow_down: |\n| lbrynet/extras/daemon/loggly_handler.py | 40.54% <0%> (-1.57%) | :arrow_down: |\n| lbrynet/extras/daemon/analytics.py | 67.52% <0%> (\u00f8) | :arrow_up: |\n| lbrynet/utils.py | 68.8% <63.63%> (-0.59%) | :arrow_down: |\n| lbrynet/extras/daemon/exchange_rate_manager.py | 75% <66.66%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4fd2d99...d97d978. Read the comment docs.\n. # Codecov Report\nMerging #1968 into master will increase coverage by 0.22%.\nThe diff coverage is 91.66%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1968      +/-\n==========================================\n+ Coverage    74.4%   74.62%   +0.22%   \n==========================================\n  Files         112      112            \n  Lines       10298    10294       -4   \n==========================================\n+ Hits         7662     7682      +20   \n+ Misses       2636     2612      -24\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 46.08% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 93.91% <100%> (+0.08%) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 69.45% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 82.89% <83.33%> (+0.22%) | :arrow_up: |\n| lbrynet/extras/daemon/analytics.py | 84.21% <96.29%> (+16.68%) | :arrow_up: |\n| lbrynet/conf.py | 90.02% <0%> (+0.28%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 74.16% <0%> (+0.41%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (+0.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update be4a96c...e38a0f7. Read the comment docs.\n. # Codecov Report\nMerging #1977 into master will increase coverage by 0.16%.\nThe diff coverage is 77.86%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1977      +/-\n==========================================\n+ Coverage   74.56%   74.72%   +0.16%   \n==========================================\n  Files         112      112            \n  Lines       10281    10288       +7   \n==========================================\n+ Hits         7666     7688      +22   \n+ Misses       2615     2600      -15\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/Components.py | 46.68% <0%> (+0.59%) | :arrow_up: |\n| lbrynet/stream/downloader.py | 88.15% <100%> (+0.48%) | :arrow_up: |\n| lbrynet/error.py | 80.9% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/stream/managed_stream.py | 93.91% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/extras/daemon/Daemon.py | 70.84% <100%> (+1.29%) | :arrow_up: |\n| lbrynet/utils.py | 64.95% <12.5%> (-3.86%) | :arrow_down: |\n| lbrynet/extras/daemon/analytics.py | 82.29% <75%> (-1.92%) | :arrow_down: |\n| lbrynet/stream/stream_manager.py | 83.04% <84.31%> (+0.15%) | :arrow_up: |\n| lbrynet/conf.py | 89.74% <0%> (-0.29%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 74.16% <0%> (+0.41%) | :arrow_up: |\n| ... and 3 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0cc602c...c03101c. Read the comment docs.\n. # Codecov Report\nMerging #1978 into master will decrease coverage by 0.05%.\nThe diff coverage is 8.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1978      +/-\n==========================================\n- Coverage   74.65%   74.59%   -0.06%   \n==========================================\n  Files         112      112            \n  Lines       10269    10281      +12   \n==========================================\n+ Hits         7666     7669       +3   \n- Misses       2603     2612       +9\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/cli.py | 75.58% <8.33%> (-4.02%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+1.27%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b266cde...f390ff1. Read the comment docs.\n. # Codecov Report\nMerging #1980 into master will increase coverage by 0.01%.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1980      +/-\n==========================================\n+ Coverage   74.65%   74.67%   +0.01%   \n==========================================\n  Files         112      112            \n  Lines       10271    10269       -2   \n==========================================\n  Hits         7668     7668            \n+ Misses       2603     2601       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/storage.py | 79.5% <33.33%> (+0.43%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c6740d8...d0a1541. Read the comment docs.\n. # Codecov Report\nMerging #1984 into master will decrease coverage by 10.15%.\nThe diff coverage is 55.55%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster    #1984       +/-\n===========================================\n- Coverage   74.78%   64.63%   -10.16%   \n===========================================\n  Files         112      104        -8   \n  Lines       10325    11187      +862   \n===========================================\n- Hits         7722     7231      -491   \n- Misses       2603     3956     +1353\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/schema/baseschema.py | 90% <\u00f8> (\u00f8) | |\n| lbrynet/schema/types/v1/certificate_pb2.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/schema/types/v1/source_pb2.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/schema/constants.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/schema/types/v1/fee_pb2.py | 100% <\u00f8> (\u00f8) | |\n| lbrynet/schema/jsonschema.py | 0% <0%> (\u00f8) | |\n| lbrynet/schema/types/v1/legacy_claim_pb2.py | 100% <100%> (\u00f8) | |\n| lbrynet/schema/types/v1/metadata_pb2.py | 100% <100%> (\u00f8) | |\n| lbrynet/schema/types/v2/claim_pb2.py | 100% <100%> (\u00f8) | |\n| lbrynet/extras/wallet/manager.py | 63.75% <100%> (\u00f8) | :arrow_up: |\n| ... and 55 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 99b289f...c97d745. Read the comment docs.\n. # Codecov Report\nMerging #1985 into master will decrease coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1985      +/-\n==========================================\n- Coverage   74.78%   74.76%   -0.02%   \n==========================================\n  Files         112      112            \n  Lines       10325    10325            \n==========================================\n- Hits         7722     7720       -2   \n- Misses       2603     2605       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 83.04% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (-0.64%) | :arrow_down: |\n| lbrynet/dht/protocol/iterative_find.py | 73.75% <0%> (-0.42%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 99b289f...ab5d71f. Read the comment docs.\n. # Codecov Report\nMerging #1986 into master will increase coverage by 0.02%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1986      +/-\n==========================================\n+ Coverage   74.76%   74.79%   +0.02%   \n==========================================\n  Files         112      112            \n  Lines       10325    10326       +1   \n==========================================\n+ Hits         7720     7723       +3   \n+ Misses       2605     2603       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/stream/stream_manager.py | 83.09% <100%> (+0.04%) | :arrow_up: |\n| lbrynet/conf.py | 90.02% <0%> (+0.28%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (+0.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2df7284...2ab2b84. Read the comment docs.\n. # Codecov Report\nMerging #1986 into master will increase coverage by 0.05%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1986      +/-\n==========================================\n+ Coverage   74.76%   74.82%   +0.05%   \n==========================================\n  Files         112      112            \n  Lines       10325    10333       +8   \n==========================================\n+ Hits         7720     7732      +12   \n+ Misses       2605     2601       -4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/extras/daemon/analytics.py | 82.29% <\u00f8> (\u00f8) | :arrow_up: |\n| lbrynet/stream/downloader.py | 91.66% <100%> (+3.5%) | :arrow_up: |\n| lbrynet/stream/stream_manager.py | 83.04% <100%> (\u00f8) | :arrow_up: |\n| lbrynet/conf.py | 90.02% <0%> (+0.28%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 74.52% <0%> (+0.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 2df7284...c9b2829. Read the comment docs.\n. # Codecov Report\nMerging #1987 into master will increase coverage by 1.32%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster    #1987      +/-\n==========================================\n+ Coverage   74.82%   76.15%   +1.32%   \n==========================================\n  Files         112      112            \n  Lines       10333    10330       -3   \n==========================================\n+ Hits         7732     7867     +135   \n+ Misses       2601     2463     -138\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/async_generator_junction.py | 95.83% <\u00f8> (+2.5%) | :arrow_up: |\n| lbrynet/dht/protocol/distance.py | 100% <100%> (+8.33%) | :arrow_up: |\n| lbrynet/dht/serialization/datagram.py | 100% <100%> (+20%) | :arrow_up: |\n| lbrynet/blob_exchange/client.py | 73.88% <0%> (-1.28%) | :arrow_down: |\n| lbrynet/extras/daemon/storage.py | 80.6% <0%> (+1.1%) | :arrow_up: |\n| lbrynet/dht/peer.py | 82.26% <0%> (+1.41%) | :arrow_up: |\n| lbrynet/dht/serialization/bencoding.py | 100% <0%> (+3.07%) | :arrow_up: |\n| lbrynet/dht/protocol/iterative_find.py | 85% <0%> (+11.25%) | :arrow_up: |\n| lbrynet/dht/protocol/data_store.py | 97.72% <0%> (+18.18%) | :arrow_up: |\n| ... and 2 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3b0ba3e...f2fefbe. Read the comment docs.\n. # Codecov Report\nMerging #1989 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster    #1989   +/-\n=======================================\n  Coverage   76.16%   76.16%         \n=======================================\n  Files         112      112         \n  Lines       10330    10330         \n=======================================\n  Hits         7868     7868         \n  Misses       2462     2462\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| lbrynet/dht/protocol/iterative_find.py | 84.58% <0%> (-0.42%) | :arrow_down: |\n| lbrynet/blob_exchange/client.py | 75.15% <0%> (+0.63%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0de1773...53f5e16. Read the comment docs.\n. \n",
    "BrannonKing": "It looks like hashlib requires a \"bytes\" object; as long as there is some kind of error for a missing encode/decode I think that will be sufficient.. @eukreign , that html_gen_docs link doesn't work for me.. comment moved to https://github.com/lbryio/lbry/issues/1715 by grin. This hard-coded version seems a little painful to maintain.. redundant?. Still functions without this TODO? (and others in this file). done.. done.. ",
    "orblivion": "Robot tells me to update changelog. Changelog says to include \"notable\" changes. This not being so notable, I will defer to human instructions.. ",
    "jleute": "The problem is best illustrated with a real config file that gets loaded, saved and loaded again, which results in an error. \nBut I added a unit test that shows that the conversion reversal works properly. . Yes, please let me know if its OK. It should now fail with the original issue, namely that the config file entry for server lists is not formatted correctly if the config file gets overwritten. . ",
    "DaniNz": "@tzarebczan  Thanks for the heads up!\nI've searched here on github but I didn't see that issue, I should probably asked on discord anyway, I'll try to be more careful now on.\nI'm going to keep testing!\n. ",
    "Leopere": "Someone will likely need to setup a lbryio account on https://hub.docker.com and get this repository on there.  I can do it if someone wants me to do this but I don't want to take over the lbryio namespace personally.\nRight now we won't have any fancy tags or anything yet as I have no idea what kind of setup we would really want for that.  Also the README.md in the docker directory should probably be used to some degree for the Docker hub page readme.. Crap the only reference to spee.ch in the Readme was supposed to be mentioning that I need this accepted eventually to build a container cluster for Spee.ch starting with lbrynet.  I can re-submit with fixes in a few hours.  This container itself is intended for lbrynet if you look over the Dockerfile and give me some feedback that would be wonderful.. ## My conclusion, Philosophy and Goal\nI think that it's still the logically best place to put this as the technical debt created is similar to just maintaining the documentation.  Technically, if you add a docker container and consider that as the main supported method of deployment, it should, in fact, reduce a lot of the technical debt due to eliminating deployment drift to just one static environment.\nMy responses to your concerns.\n\n\nHow is this different from the other two repositories I linked to earlier?\nThe LBRY in a box is a bit more of a purpose-built container cluster.  Ideally, there should be an officially supported Dockerfile I don't mind documenting this stuff more if questions come in.\n\n\nWould you consider contributing to one of the other lbryio repositories instead (lbrumx or lbry-in-a-box)?\nSo far I have no use for lbrumx as it doesn't seem necessary with regards to the spee.ch multisite installation.  However, I could see what I could contribute, but I'm not entirely sure of the direct usage cases for it.  \n\n\nWhat are some general purpose use cases for having lbrynet in a container by itself?\nI'm not 100% certain about the whole depth of use cases for lbrynet-daemon, but so far it looks like what I've containerized provides port access exposure and volumes for the data created on the disk that needs to survive the container.\n\n\nHave you looked at this? https://github.com/lbryio/lbry-in-a-box/blob/master/lbrynet/Dockerfile\nLooks like a very well executed container but it differs from a lot of the docker best practices which in this case would result in a fairly use agnostic and flexible result.  The official docker repositories tend to be the highest adopted repositories as they adhere to the best practices. \n\n\nThere can be some added benefits of having docker containers which build the application from source as well as you can have pipelines setup in the CI/CD process which can build and deploy branch specific.  This concept can be beneficial when it comes to bringing more developers on board as well by helping streamline the build and deployment process.  Granted this container itself isn't a build and run container it's just a deploy container.\nIn conclusion\nI'm thankful for your feedback this has given me a lot clearer of a perspective of how the team works and am happy to keep adding things.  It's been a new experience for me submitting something to an environment where I'm getting properly peer-reviewed thank you for your time and consideration.. Thanks for your reply @kauffj \nI do think that an acceptable end goal could be utilizing docker internally in the long run.  However, I think that we should organically consider that move eventually.  Perspectively I imagine it as a feature that isn't very large in the long run an effective Dockerfile should basically be the end result of what would naturally become documented installation processes.  In this case, the recipe for success would be essentially what would result in the Dockerfile.\nThere would, of course, be room for eventual larger container cluster projects such as LBRY-In-A-Box [LIAB] but I think approaching it from a larger very case-specific perspective as such doesn't necessarily prove as useful from a developer perspective.  Since not every change to the lbrynet repository specifically doesn't always result in a change specific to the full LIAB stack.. ## Clarification\nCertainly, also I definitely don't dislike the concept of the LIAB, in general, I love instant-deploy stacks.  However, I do think that it should be easier if we have a stack of microservices built for each of the respective building blocks within LBRY.\nMore direct answer.\nTo answer your question of how normal it is to keep a Dockerfile inside of the repository of the package itself.  I've been noticing a trend from my perspective where a lot of software in the OpenSource ecosystem is starting to include base Dockerfiles.\nIdeally at some point we should consider contributing to the official Docker library and get our containers published in the docker official library however I think that we should work on getting a bit closer to adopting it internally before we consider taking that step.\nFurther expansion\nFurther expansion, there are two schools of thought here.\nReplacement of current dev cycle\nAs you mentioned the Docker containers could eventually replace things like the CI/CD process as is which I think they are very good as they are currently.  \nPros\n\nWe have a dev cycle that is completely independent of LBRY's internal dev cycle architecture.\nPeople would be completely equipped to build their own internal code of our repositories.\n\nCons\n\nAdded complexity/Increase of Technical Debt\nMore dev hours sunk into something that's currently already doing a good job.\n\nOrganic Adoption\nOr we could go off of simple release builds exclusively.  There are benefits and drawbacks to both options.  The way that I've designed this container however, is generally fairly future proof as I've followed a good number of the Docker best practices as best as I can and will plan to continue to add more eventually.\nPros\n\nWe can work out the details as we go and tend to prefer something that doesn't exactly have to be perfect directly out of the box.\nWe could see who internally would be highly allergic to the concept of moving to this methodology and figure out why organically.\n\nCons\n\nSimilar issues to the above.\nWe would probably end up having to spend more time developing it this way in the long run.. @eukreign you have some very good points.  Granted, I think there is something extra to be added to some of them.\n\nPoint number 4\nMentioning the Docker containers in a purpose-built repository sounds like it would be more user-friendly if you assume that the end users or community want to maintain the containers themselves.  My own learning curve getting my head around the complexity and nuances of how just the lbrynet-daemon itself should be a good indicator of how complex it is currently to get one's head around the component itself.\nPoint number 2\nI wouldn't go so far as to use generalized statements such as None of the popular Docker containers on hub.docker.com keep the Dockerfile in the project repository. We could absolutely add our Dockerfile to that stage but as you mentioned in point number 1 it would make a lot of sense to have two container files.  You could go so far as to have one for development and one for deployment.  In a world where trusting others should generally be something, you're averse to as a generally good policy when it comes to infosec there is a lot to be said for building the binary from source.  That said it would be a little absurd to expect everyone to want to build the binaries from source all the time.\nConclusion\nAll in all, I think that we're generally on the same page with the direction the Docker stuff should go in some regards.  I really appreciate the application of critical thinking and sticking to the keep it simple ethos.\nLooking forward to the next responses.. ## Official Docker Repository Proposal Criteria\nGenerally Useful\nIf we want any Docker repositories in the Official Docker Library we will need to prove the general usefulness of our repositories as well.  Since this project is still fairly new it might be difficult to prove this just yet.\nSecurity Responsibility\nWe would adopt a new level of concern having to monitor the supply chain of code we use and monitor any CVS's that are published using anything that we utilize.\nConclusion\nI definitely agree that our end goal should definitely be to publish to the official repositories as it gives us a level of extra cred in the Docker ecosystem, however, I think that it should definitely be further down the line.\n. Sounds good.  However, the only issue that remains is in order to get a spee.ch repo up I would require one with this repo first.. @eukreign I'm looking to still try and aim for stateless docker practice adherent containers but this is the one I've got started here.\nhttps://github.com/chamunks/lbry-docker/\nSo far the speech container is the biggest focus as I think its an important focus.  Eventually I would like to expand on the LBRY-Daemon container a bit more but for the most part, the way it is will basically be fairly easy to add configuration and installation magic.  \nSo far the status of the spee.ch container itself is not currently working as there are some issues launching the main process.  The method I'm using to start the cluster is docker-compose up -d from within the $REPOPATH/www.spee.ch/\nThe situation is that basically, I want to be able to deploy an instantly functional container cluster.  Then if the end user wants to add things like configurations and custom js/css in volumes at /app/ then it shouldn't overwrite those changes which currently that stuff functions.  I have the goal of also re-asserting directory ownerships and permissions but my current system needs some tweaking as I've not pulled it from a git repo before but frequently use these little scripts from https://github.com/chamunks/docker-support/\nYou'll have to excuse my brevity I'm writing this reply while on the go.\n. Thanks @eukreign I'll have more time this coming week to get back to it I've had other obligations this past week.  \nAlso, keep in mind that I'm mostly only interested in the Docker stuff for the sake of improving Lbry's offerings and not necessarily because I want to host anything personally any time soon so I'm asking you guys a lot of questions to see what would fit with you all.. ",
    "jjdevbiz": "+1. ",
    "kcseb": "You do realise, you don't have to spend a dime from your pocket to upload content, right? \nWe have the rewards system for a reason. Users verify their account (totally free and easy) and earn FREE LBC to publish their content. \nIt couldn't be easier. . ",
    "martinvahi": "Thank You both for the answers, specially @Invariant-Change, \nwho's thorough and detailed answer I specially like. \nUnfortunately I like the @Invariant-Change answer mainly because \nof the nice amount of details and effort made to give ma a really \nthorough answer (I love, if people are thorough and \"not so much\", if they are superficial),\nnot because it would be able to convince me that I was wrong or on a wrong track. \nNamely, by using a citation from @kcseb answer:\n\nUsers verify their account (totally free and easy) and earn FREE LBC to publish their content.\n\nsays it directly that new users are not able to easily get LBC\nWITHOUT GIVING UP PRIVACY. After all, authentication is what \nthe verification/registration is all about. At the documentation there\nwere statements that YouTube/Google is nasty because it tracks \npeople, but at the documentation it also said that the LBRY.io \ntracks people with the purpose of avoiding the abuse of the Rewards program.\nIf I remember it correctly, the policy was that only one account from\neach house-hold is allowed to get the rewards. The Googe and Facebook\npretty much can infer, who lives with whom, but even they do not have\nit as a policy enforcement goal to find out, who lives with whom.\nTo be direct, is it really Your goal to eliminate the creation of \ntemporary, anonymous, accounts that are operated through Tor relays?\nObviously people with technical skills will find a way to do it \neven right now, but there is a reason, why the teams at\nhttps://theintercept.com/\nhttps://www.torproject.org/projects/torbrowser.html.en?\nhttps://wikileaks.org/\ntry to make it easy for people to use their \nchannels anonymously as easily as possible.\nHonestly, I believe that the LBRY.io team should develop\na \"version 2.0\" of the protocol, before their money runs out.\nIf You do not, then Your competitors at \nhttps://zeronet.io/\nhttps://beakerbrowser.com/\nhttps://ipfs.io/\nwill make sure that the LBRY.io is just a P2P NETFLIX, \nnot the distrubuted-web-locked-open what the founder\nof the Internet Archive called for at his presentation at \nhttps://archive.org/details/bresterkahlenetgain\nAs far as I know, currently the ZeroNet does not yet scale, despite \nthe P2P and BitTorrent, but that's actually fixable, not something\nfundamental, specification level flaw, it just takes some extra coding, but\nhere's a ZeroNet version of a YouTube competitor, KopyKate:\nhttp://127.0.0.1:43110/18Pfr2oswXvD352BbJvo59gZ3GbdbipSzh/\nThe same page through a WWW gateway:\nhttps://www.zerogate.tk/18Pfr2oswXvD352BbJvo59gZ3GbdbipSzh\nAll fully anonymous, NO HASSLE FOR NEW USERS. The KopyKate\nis just ONE WEB PAGE OUT OF MANY on ZeroNet and the LBRY.io\nwants to compete with just one of the ZeroNet pages. Another awesome\napplication on ZeroNet is a GitHub clone that hosts Git repositories:\nhttp://127.0.0.1:43110/gitcenter.bit\nThis page is NOT available through the \nhttps://www.zerogate.tk/gitcenter.bit\nbecause the gateway was \"abused\"(quotes, because it is \nnot possible to \"abuse\" a system that has been designed for unrestricted use) \nby pedophiles and the administrator of the WWW gateway decided that the\nsimplest way to stop the Police from finding his gateway to be interesting\nis to stop downloading new ZeroNet pages to the gateway. \nZeroNet web pages are basically composite documents like \nthe Microsoft Word and LibreOffice documents are, except that\nthe document is a folder with plain HTML/JavaScript/CSS and\nsome manifest files. In general, the viewing of ZeroNet pages\nis like with the Microsoft Word and LibreOffice documents:\none has to download the document to \"open\" and view it.\nSo, in ZeroNet, the composite documents are downloaded \nin a P2P fashion. The manifest files can declare some of the\nfiles at that the folder that forms a ZeroNet page/document \nto be optional, so that a user has to explicitly\nallow the download of those files. That makes it possible to \nhost \"huge\"(whatever that means, 200GiB is is huge 4 me) files\non ZeroNet. \nZeroNet pages/documents, are versioned and\na new version can be published only by the party that\nhas singed the previous version. The signing and key management\nis done automatically, by the server, which is written in Python.\nTo move the identity data, including identity crypto keys, \nfrom one computer to another, the user has to copy a few files.\nForums, like the one at the \nhttp://127.0.0.1:43110/Talk.ZeroNetwork.bit/\nhttps://www.zerogate.tk/Talk.ZeroNetwork.bit/\nare essentially collectively editable documents, almost\nas if a MicrosoftWord/LibreOffice document were shared at\nsome network drive and then different people make edits to it.\nThe owner of the document, who signs the initial version of the\ndocument, determines the various access rights at settings/manifest file.\nAs with the MircosoftWord/LibreOffice documents, there is \nno need for an internet connection to edit them. The ZeroNet \ndocuments that are forums, are a collection of merged edits/posts\nand the individual posts are published when the ZeroNet server\ngets access to the Internet to publish the posts/additions. That\nis to say, people may just make the edits/posts with their laptop\nwhile being without any internet connection, just riding a train\nor a bus/plane, and once the internet connection becomes available,\nthe edits get uploaded automatically.\nAnd, as I said, the whole LBRY.io \nCOMPETES WITH ONLY A SINGLE ZeroNet PAGE\n\nwhile adding a considerable amount of hindrances to the new users.\nIf that's not good enough of a reason for the LBRY.io development\nteam to start working on version 2.0 of the LBRY protocol, then\nI do not know, what is. On the other hand, I admit that I have difficulties\nunderstanding, why some technically crappy projects are financially\nsome of the most successful ones. Think of Microsoft Windows, which\nwas not unique or ahead of its time, because the Niklaus Wirth had its\nvery similar, end user oriented system, available literally at the same\ntime, when Windows had its popularity at rise:\nhttps://en.wikipedia.org/wiki/Oberon_(operating_system)\nThe way I currently understand the financial success of the Microsoft,\nthe Bill Gates was innovative at sales channel development and beat \nits competition by selling in bulk to huge corporations, where a few people\nat the top of the corporation decide, what the thousands of employees \nwill use. Not only was it a very effective way to sell a lot of licenses, but\nit also decoupled the buying decision maker from the people, who actually\nuse the product, so that when the product is crappy, the person, who \nhas bad opinions about the product, does not make the buying decision. \nCan Your marketing team really beat ZeroNet, specially given that\nthe ZeroNet has been literally developed by the founders of ThePirateBay?\n(The main author of the ZeroNet, Peter Sunde, talking \nabout the history of ThePirateBay and his jail time.)\nhttps://www.youtube.com/watch?v=3MjCM1e87kA\nStill not considering a version 2.0 of the LBRY protocol ? :->\nIt's just that I want You people to succeed, but \nI'm not able to see, how You have any chance of succeeding\nthe way You are currently trying to do things. But, I'm truy\ncrappy at understanding social processes. Usually I'm mistaken\nby considering other people to be more rational than they \nactually are and may be You can just pull off some \nmarketing and psychology tricks, like the Apple has been\nvery successful at doing. Besides, who am I to give any\nbusiness advice, given that I'm self totally shoddy at business.\nI tend to see only the technical aspects of projects. \nThank You for Your answers and\nthank You for reading this text.. @Invariant-Change \nThank You for yet another excellent answer. \nPlease do not get me wrong in a sense that I use some irony here,\nI really like the way You try to address the problem and the fix that\nYou proposed also makes sense to me, but the market does not\ncare, what we 2 think here and by paraphrasing Your statement\n\nHowever, there could be some technical challenges they are still trying to overcome.\n\nI say/write that \nthe Titanic also had some technical challenges to overcome.\n\nNot a good excuse, if You ask any of the passengers. :-D\nBut Your fix is nice, it's just that You probably will have a tough job \nselling Your fix to the team. But, as I described at my relatively long comment at \nhttps://gist.github.com/lyoshenka/0a43205aa9a072b196ff87e2c689a8b9\nI would not fit into the LBRY team, so anything I propose is probably\nnot going to be taken well. People are different, have different preferences,\ndifferent culture based requirements and may be I'm just not \nthe target audience for an application like the LBRY is.\nBut, I emphasize that I'm glad for the answers I have received\nhere and I thank You all for reading my comments :-)\n. @Invariant-Change \nThanks for yet another nice answer, but the reason \nwhy I logged in right now is not to say thanks to You, but\nto tell/write here that during my own hobby project, the \n(Redirects to my softf1.com)\nhttp://www.silktorrent.ch\nI have given a lot of thought about different storage and \nnetwork traffic allocation policies and the best that I was\nable to come up with is the idea that the hard disk space\nthat is reserved for a P2P storage application, is divided\nto fixed size regions that each are used by a different agent, \neach agent having a different storage allocation POLICY.\nThe agents DO NOT COMPETE for HDD space and\nin a naive, extra simple, case  the algorithm is such that the same\nartifact/file can be stored by multiple agents, resulting duplication,\nbecause the agents work totally independent of each other.\nThe different storage policies, one policy per agent, \n(each agent having its personal fixed chunk of the HDD space)\nmight be:\n\nStore everything for free, use the queue/FIFO algorithm or \n    some fancy modification of the FIFO, where the index of the element \n    in the array is calculated dynamically by using some weighting. \n    May be storage time, may be usage frequency, may be size, etc.\nStore data from authenticated users only, but do it for free.\n    (read: serve friends and family)\nStore data from authenticated users according to some payment policy.\n    The data may also be in some crypted chunks, like is the case with the \n    MaidSafe and StorJ and bluzelle, etc.\nStore data for free for authenticated VIP users like local fire department, \n    community doctors (read: encrypted chunks of medical records), \n    ambulance services, local private security services, etc.\nActively download and store quickly obsoleting material for a relatively short time period.\n    That helps to cope with the demand peaks of news sites and messaging \n    applications, forums, that require some very-long-term hosting for\n    seeding, but that have high demand for the newest records.\nStore according to price POLICY_1.\nStore according to price POLICY_2.\nStore according to price POLICY_3.\netc.\n\nImplementation Quirks\nPolicy wise multiple agents can each store the same file.\nThe implementation can be more complex to eliminate this duplication.\nA way to do it is to place an additional agent (hereafter: HDD_accountant)\nbetween the policy agents and their respective HDD chunks. \nEach of the policy agents tells the HDD_accountant to store or \ndelete files from its HDD account/chunk. If the HDD_accountant\ndetects that at least 2 policy agents store the same file, the file\nmight be stored on the HDD only once. The policy agents \ndo not have a guaranteed minimum storage size any more,\nbut in average the set of policy agents together can store\nmore DIFFERENT KINDS of files than they were able to store\nwith the fixed/guaranteed size HDD chunks.\nImplementation Component Candidates\nI haven't tried this, may be it's all nonsense that I say in this chapter, but \nI would consider using RethinkDB for interprocess communication(IPC),\nthe messaging between different agents, if they are different operating system processes, \nwritten in different programming languages. They advertise the RethinkDB\nfor web applications, but that does not rule out that it would not be \nusable, with all of its bells and whistles, for localhost messaging. \nAnother option for the IPC/messaging might be the WhiteDB, \nwhich is basically limited to GPLv3, but with a strange exception. \nI suspect that probably the most portable\nand still sufficiently fast solution for a client side group of agents\nis the use of the SQLite database, which is a C library that \nstores the data to a file. The SQLite3 library is often times available\nfrom stdlib of scripting languages and supposedly (I haven't tested it like that)\nthe SQLite as a C library handles the collisions of multiple \noperating system processes that try to access the file simultaneously. \nThe SQLite is being used as a sub-component of the \nhttps://fossil-scm.org/\nand the Fossil is able to store multiple GiB of data without problems,\nprovided that the data consists of small chunks,\nwith maximum file size of about 100MiB, depending on \nthe amount of RAM that the computer running the Fossil has for it.\nThank You for reading my comment :-)\n. @tzarebczan \nThank You for the answer.\n\nIPFS looks like a promising tech, but there's no monetization \nstrategy at the moment - you are at the mercy of the hosts, \nwhich may mean data storage is temporary. \n\nAren't we all at the mercy of the hosts, who host our current WWW pages?\nThe monetization policy of paying a yearly fee, in \u20ac/$, to the web hosting companies\nseem to keep the web pages up pretty well. If P2P systems reduce the \nnetwork traffic that the current, centralized, supermafia censored, hosting \ncompanies have to deliver, their costs at the network connection side go down.\nAs of 2018_06 I believe that the most critical hosting service that a P2P network\nneeds and where money is needed for keeping the servers running is\nSEEDING\n\nThat can be done with the old business model of paying to the hosting\ncompanies, as is the case with Tor network hosting companies. \nSome examples that I was able to see with the TorBrowser:\n(TorBrowser download site)\nhttps://www.torproject.org/projects/torbrowser.html.en?\n(Tor network pages of Tor network hosting companies,\nsemi-randomly picked from some Tor forum.)\nhttp://kowloon5aibdbege.onion/\nhttp://ezuwnhj5j6mtk4xr.onion/\nTo give You a quick idea, I created a screenshot \nhttps://temporary.softf1.com/2018/bugs/2018_06_11_screenshot_of_hostie65cxwr4tza_dot_onion.png\nof this one:\nhttp://hostie65cxwr4tza.onion/\n(The Tor \"Hidden services\" are really not hidden at all,\nbecause if they were, then the Tor network itself\nwould not be able to find the servers in real-time for \nreal-time communication. Only the clients of the servers\ncan have anonymity.)\nAs a matter of fact, encrypted chunks that are salted, can be seeded/hosted\neven by using the current censored web hosting companies, the \nones that host the WWW, because if the supermafia(\"government\")\ncan \"ban\" some of the use cases  of the classical \"cloud\" (I hate that term), \nthen they might as well \"ban\" certain type of traffic at ISP networks and\nmost of the current P2P traffic goes through centralized ISP networks,\nwhich are vulnerable to the point that people can't buy food from \ngrocery stores, as happened in Estonia, Tallinn, my home town:\n(The Hollywood style graphics of the movie is an exaggeration,\njust try to bare the graphics, but the talk, the statements, are not an exaggeration.)\nhttps://www.youtube.com/watch?v=sWKgcxHyS10\n(Part 2 of the clip.)\nhttps://www.youtube.com/watch?v=O-odEtppUsk\n---my--side--comment--start---\nVery subjectively speaking, I do not think that well\nof the NATO Cyber Defense Center in Tallinn, because\nthey seem to put their focus on supermafia rules (\"law\" in 1984 new-speak/news-peak)\nin stead of the technical aspects. The list at the \nhttps://ccdcoe.org/publication-library.html\nseem to have more to do with \nsocial processes than the technical aspects of the matter.\nHence my relatively poor opinion of them. May be\nI would think better of them, if they swapped their name to\n\"NATO Center for Social Organization Research\"\n---my--side--comment--end----\n\nThat is to say, as long as P2P systems use centralized ISPs,\nthe supermafia(\"government\") can easily take down any P2P\nsystem and if they can take down any P2P system anyway, \nthen it does not matter, whether those P2P systems depend\non centralized web hosting companies for seeding encrypted\nand salted chunks. To spell it out: unless You are designing \nfor citizen built \nPHYSICAL P2P NETWORKS\n\nthen there already exists an excellent set of hosting\nservice providers, who have proven themselves to be\nquite reliably available. For comparison, I tried to \ndesign my \n(Redirects to my softf1.com)\nhttp://silktorrent.ch\nfor a situation, where the ISPs are DOWN and \nbits of information are delivered on USB/sticks, memory cards,\nmail pigeon drones, vehicles, live pigeons at an environment where \nclassical omnidirectional antenna based radio receivers \nfall victim to jammers. \nIf you want an overview of different competing projects, then\nYou may find a list of different P2P-like solutions at my Silktorrent \nFossil repository, at \nhttps://www.softf1.com/cgi-bin/tree1/technology/flaws/silktorrent.bash/wiki?name=List+of+Similar+Projects\nI also have a collection of slightly \"more interesting\" scientific papers at\nhttps://www.softf1.com/cgi-bin/tree1/technology/flaws/silktorrent.bash/wiki?name=Attic+001+for+Holding+Various+Files\nIf You wish, then You may clone \nthe whole repository (about 30GiB) \nby using the commands at \nhttps://www.softf1.com/cgi-bin/tree1/technology/flaws/silktorrent.bash/wiki?name=User+Guide\nThank You for reading my comment(s)/texts \nand thank You for the answer(s)     :-)\n. @tzarebczan \nThank You for the answer.. Thank You for the answer.. ",
    "CurtisLeeBolin": "Both, unless lbrynet-daemon has no dependencies.  I did not know the project was split, old bookmark.  I'll submit the issue on lbry-app too.. @tzarebczan, a docker image would be great.. ",
    "lardnicus": "Awesome!\n(yes, bitcoin is absolutely a waste of resources, but it's a product of it's age. Newer cryptocurrencies have different proof methods that are less resource intensive). ",
    "42degrees": "Thanks @tzarebczan for putting this in the right place.  Still learning how things are organized.\nAlso, to add to the above, even after changing my names to only have simple alpha and dash they wouldn't go through.  Apparently there was a name length issue as well.  Once I shortened them up, they worked.  I didn't take the time to figure out the exact limitation, hoping that whoever updates the documentation will already know those limits.. @tzarabczan Here is what I see in the log in these cases.  You can see that the name (Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553) doesn't have anything in it that violates the Regular expression above.  The actual call to publish returns 200.  When I republished this with the shorter name \"A-Sonata-For-Slayers\" it went through just fine.\n```\n2018-06-22 19:35:38,746 INFO     lbrynet.daemon.Publisher:25: Starting publish for Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593\n2018-06-22 19:35:38,971 INFO     lbrynet.core.Wallet:1203: Send claim: Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 for 0.001: 080110011ae7010801129e01080410011a295469746c653a2041205265616c20476f6e65204775790a41697265643a20313935302d30372d30320a221b546865205361696e74202d2041205265616c20476f6e65204775792a00320d5075626c696320446f6d61696e38004a39687474703a2f2f7777772e34326465677265657364657369676e2e636f6d2f696d616765732f7468657361696e746f747273686f772e6a706752005a001a42080110011a305e0350f26e6ee7d63e3a6573103d16b7f4b0c03d5545788a63d0d6ba9d588b106305dfe9e9ffa11d87a70b2cdc0ea0ed220a617564696f2f6d706567 \n2018-06-22 19:35:39,278 INFO     root:205: using buckets: [u'a75806e7b248d1a1434d821d785ac5c2a74c06cb8210862284f9115cdab569f4:1']\n2018-06-22 19:35:42,614 ERROR    lbryum:119: [lbryumx2.lbry.io] serving improperly sorted address histories\n2018-06-22 19:35:43,105 INFO     lbrynet.daemon.Daemon:732: Success! Published to lbry://Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 txid: 9fc3d56269adace93c42accfacd521e7a368da0070576188097ff0a38cec5e70 nout: 0\n2018-06-22 19:35:43,114 WARNING  lbrynet.daemon.auth.server:211: error processing api request: Invalid name given to publish\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2039, in jsonrpc_publish\nexceptions.Exception: Invalid name given to publish\n2018-06-22 19:35:43,121 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': None, 'name': u'Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'The Saint - A Sonata For Slayers', u'license': u'Public Domain', u'author': u'', u'title': u'Title: A Sonata For Slayers\\nAired: 1950-06-18\\n', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'thumbnail': u'http://www.42degreesdesign.com/images/thesaintotrshow.jpg'}}}, 'channel_name': u'@OTR', 'bid': Decimal('0.001'), 'file_path': u'D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 500618 - 02 - A Sonata For Slayers  - 32-22 27m57s 6553.mp3', 'change_address': None}\n```. The other part of this is that when this happens I get the entry in LBRY showing \"Unused\" (screen shot attached).\n```\n2018-06-22 19:37:13,969 INFO     lbrynet.daemon.Publisher:25: Starting publish for Saint-The-501224-25-Santa-Claus-Is-No-Saint-32-22-28m14s-6621\n2018-06-22 19:37:14,173 INFO     lbrynet.reflector.client.client:132: Reflector needs descriptor and 7 blobs for stream\n2018-06-22 19:37:14,256 INFO     lbrynet.reflector.client.client:221: Sent reflector descriptor 0afa0122f077e8bc\n2018-06-22 19:37:14,594 INFO     lbrynet.core.Wallet:1203: Send claim: Saint-The-501224-25-Santa-Claus-Is-No-Saint-32-22-28m14s-6621 for 0.001: 080110011af701080112ae01080410011a315469746c653a2053616e746120436c617573204973204e6f205361696e740a41697265643a20313935302d31322d32340a2223546865205361696e74202d2053616e746120436c617573204973204e6f205361696e742a00320d5075626c696320446f6d61696e38004a39687474703a2f2f7777772e34326465677265657364657369676e2e636f6d2f696d616765732f7468657361696e746f747273686f772e6a706752005a001a42080110011a3036dcb81459a68a4aac3d4f2d7f59d8d1207ebeaf5734c002e273a5b804a86562b6bc7135b23ade3c6744c606116a6eb2220a617564696f2f6d706567 \n2018-06-22 19:37:15,270 INFO     root:205: using buckets: [u'6b0c0a7eb6a34f6fd9a06d13cd73471fa6aa8305ef04d5858e7941023f622122:1']\n2018-06-22 19:37:18,798 INFO     lbrynet.daemon.Daemon:732: Success! Published to lbry://Saint-The-501224-25-Santa-Claus-Is-No-Saint-32-22-28m14s-6621 txid: bf24d3c369b6c20573046c0a1c8e688a6a4992c925b1e07e19c5b0b533ac1a45 nout: 0\n2018-06-22 19:37:18,813 WARNING  lbrynet.daemon.auth.server:211: error processing api request: Invalid name given to publish\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2039, in jsonrpc_publish\nexceptions.Exception: Invalid name given to publish\n2018-06-22 19:37:18,836 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': None, 'name': u'Saint-The-510401-39-Simon-Carries-The-Ivy-32-22-27m47s-6517', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'The Saint - Simon Carries The Ivy', u'license': u'Public Domain', u'author': u'', u'title': u'Title: Simon Carries The Ivy\\nAired: 1951-04-01\\n', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'thumbnail': u'http://www.42degreesdesign.com/images/thesaintotrshow.jpg'}}}, 'channel_name': u'@OTR', 'bid': Decimal('0.001'), 'file_path': u'D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 510401 - 39 - Simon Carries The Ivy  - 32-22 27m47s 6517.mp3', 'change_address': None}\n```\n\n. I can send you the LinqPad application that I wrote to upload these, assuming you can read C#.  But here are the important bits:\nThis is the JSON that I am sending to the daemon:\nvar json = $@\"\n{{\n  'jsonrpc': '2.0',\n  'method':'publish',\n  'params': {{\n                'name': '{name}',\n                'file_path': '{rootFolder}{filename}',\n                'bid': 0.001,\n                'channel_name': '@OTR',\n                'metadata': {{\n                                'description': '{description}',\n                                'title': '{title}',\n                                'author': '',\n                                'thumbnail': 'http://www.42degreesdesign.com/images/thesaintotrshow.jpg',\n                                'language': 'en',\n                                'license': 'Public Domain',\n                                'nsfw': false\n                            }}\n            }}\n}}\n\";\nThe code that sends it is straightforward:\n```\n    var client = new HttpClient();\n    client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    var publishContent = new StringContent(json, UTF8Encoding.UTF8, \"application/json\");\n    var publishResponse = client.PostAsync(\"http://localhost:5279\", publishContent).Result;\n    return publishResponse.IsSuccessStatusCode;\n```\n. @tzarebczan Unfortunately, I have resolved all of the issues and fully uploaded all of the Saint files.  The Unused entries in LBRY are cruft and are not real.  If I click on any one of them it finds the correct item and no longer shows the Unused.  \nI was planning to wait until I had the graphical version of the bulk uploader complete before sending any more of them (I'm about half done with it).  I still need to figure out how to send them quickly but not so quickly that I get a bunch of \"lbryum.wallet:1243: send tx failed: error: the transaction was rejected by network rules.\" errors, which is what happens now after about every 20 to 25 items.\n@jiggytom has suggested that I look through the YouTube upload code, but it's in GO (which I don't know) so it's going a bit slow as I figure it out.  If you know that code and could give me some direction where to look, that would be great.. @tzarebczan That was several days later.  These errors all happened on 6/22.\n. @tzarebczan This is what the full block looked like as generated by the program at that time (it's since been changed to generate shorter names):\n```\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\":\"publish\",\n  \"params\": {\n                \"name\": \"Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593\",\n                \"file_path\": \"D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 500702 - 04 - A Real Gone Guy  - 32-22 28m06s 6593.mp3\",\n                \"bid\": 0.001,\n                \"channel_name\": \"@OTR\",\n                \"metadata\": {\n                                \"description\": \"Title: A Real Gone Guy\\nAired: 1950-07-02\\n\",\n                                \"title\": \"The Saint - A Real Gone Guy\",\n                                \"author\": \"\",\n                                \"thumbnail\": \"http://www.42degreesdesign.com/images/thesaintotrshow.jpg\",\n                                \"language\": \"en\",\n                                \"license\": \"Public Domain\",\n                                \"nsfw\": false\n                            }\n            }\n}\n```\nAll of the JSON sent would have be UTF-8 because of this call here:\nnew StringContent(publishRequest.Json, UTF8Encoding.UTF8, \"application/json\"). Here's the longer set of logs you asked for before and after the apparent name failure:\n```\n2018-06-22 18:35:02,220 INFO     lbrynet.daemon.Daemon:1141: Get version info: {\"lbrynet_version\": \"0.20.2rc2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.3rc1\", \"ip\": \"24.119.203.68\", \"lbryschema_version\": \"0.0.16rc3\", \"processor\": \"Intel64 Family 6 Model 45 Stepping 6, GenuineIntel\", \"build\": \"rc\"}\n2018-06-22 18:37:45,286 INFO     lbrynet.daemon.Daemon:1141: Get version info: {\"lbrynet_version\": \"0.20.2rc2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.3rc1\", \"ip\": \"24.119.203.68\", \"lbryschema_version\": \"0.0.16rc3\", \"processor\": \"Intel64 Family 6 Model 45 Stepping 6, GenuineIntel\", \"build\": \"rc\"}\n2018-06-22 18:41:37,203 INFO     lbrynet.daemon.Daemon:1141: Get version info: {\"lbrynet_version\": \"0.20.2rc2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.3rc1\", \"ip\": \"24.119.203.68\", \"lbryschema_version\": \"0.0.16rc3\", \"processor\": \"Intel64 Family 6 Model 45 Stepping 6, GenuineIntel\", \"build\": \"rc\"}\n2018-06-22 19:21:15,862 INFO     lbrynet.daemon.Daemon:1141: Get version info: {\"lbrynet_version\": \"0.20.2rc2\", \"platform\": \"Windows-10-10.0.17134\", \"os_system\": \"Windows\", \"python_version\": \"2.7.15\", \"os_release\": \"10\", \"lbryum_version\": \"3.2.3rc1\", \"ip\": \"24.119.203.68\", \"lbryschema_version\": \"0.0.16rc3\", \"processor\": \"Intel64 Family 6 Model 45 Stepping 6, GenuineIntel\", \"build\": \"rc\"}\n2018-06-22 19:35:38,727 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': None, 'name': u'Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'The Saint - A Real Gone Guy', u'license': u'Public Domain', u'author': u'', u'title': u'Title: A Real Gone Guy\\nAired: 1950-07-02\\n', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'thumbnail': u'http://www.42degreesdesign.com/images/thesaintotrshow.jpg'}}}, 'channel_name': u'@OTR', 'bid': Decimal('0.001'), 'file_path': u'D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 500702 - 04 - A Real Gone Guy  - 32-22 28m06s 6593.mp3', 'change_address': None}\n2018-06-22 19:35:38,746 INFO     lbrynet.daemon.Publisher:25: Starting publish for Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593\n2018-06-22 19:35:38,971 INFO     lbrynet.core.Wallet:1203: Send claim: Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 for 0.001: 080110011ae7010801129e01080410011a295469746c653a2041205265616c20476f6e65204775790a41697265643a20313935302d30372d30320a221b546865205361696e74202d2041205265616c20476f6e65204775792a00320d5075626c696320446f6d61696e38004a39687474703a2f2f7777772e34326465677265657364657369676e2e636f6d2f696d616765732f7468657361696e746f747273686f772e6a706752005a001a42080110011a305e0350f26e6ee7d63e3a6573103d16b7f4b0c03d5545788a63d0d6ba9d588b106305dfe9e9ffa11d87a70b2cdc0ea0ed220a617564696f2f6d706567 \n2018-06-22 19:35:39,278 INFO     root:205: using buckets: [u'a75806e7b248d1a1434d821d785ac5c2a74c06cb8210862284f9115cdab569f4:1']\n2018-06-22 19:35:42,614 ERROR    lbryum:119: [lbryumx2.lbry.io] serving improperly sorted address histories\n2018-06-22 19:35:43,105 INFO     lbrynet.daemon.Daemon:732: Success! Published to lbry://Saint-The-500702-04-A-Real-Gone-Guy-32-22-28m06s-6593 txid: 9fc3d56269adace93c42accfacd521e7a368da0070576188097ff0a38cec5e70 nout: 0\n2018-06-22 19:35:43,114 WARNING  lbrynet.daemon.auth.server:211: error processing api request: Invalid name given to publish\ntraceback:   File \"site-packages\\twisted\\internet\\defer.py\", line 1299, in _inlineCallbacks\nFile \"site-packages\\lbrynet\\daemon\\Daemon.py\", line 2039, in jsonrpc_publish\nexceptions.Exception: Invalid name given to publish\n2018-06-22 19:35:43,121 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': None, 'name': u'Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'The Saint - A Sonata For Slayers', u'license': u'Public Domain', u'author': u'', u'title': u'Title: A Sonata For Slayers\\nAired: 1950-06-18\\n', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'thumbnail': u'http://www.42degreesdesign.com/images/thesaintotrshow.jpg'}}}, 'channel_name': u'@OTR', 'bid': Decimal('0.001'), 'file_path': u'D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 500618 - 02 - A Sonata For Slayers  - 32-22 27m57s 6553.mp3', 'change_address': None}\n2018-06-22 19:35:43,141 INFO     lbrynet.daemon.Publisher:25: Starting publish for Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553\n2018-06-22 19:35:43,372 INFO     lbrynet.core.Wallet:1203: Send claim: Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553 for 0.001: 080110011af101080112a801080410011a2e5469746c653a204120536f6e61746120466f7220536c61796572730a41697265643a20313935302d30362d31380a2220546865205361696e74202d204120536f6e61746120466f7220536c61796572732a00320d5075626c696320446f6d61696e38004a39687474703a2f2f7777772e34326465677265657364657369676e2e636f6d2f696d616765732f7468657361696e746f747273686f772e6a706752005a001a42080110011a30ad79a5a7a683dabcada0c22c276a7529d1c1b8f712bb9ca9be326782cce065cc31a8ec75d9f03d18ca744ff5a084e889220a617564696f2f6d706567 \n2018-06-22 19:35:43,677 INFO     root:205: using buckets: [u'90ed795cade649ad4238ff21ff1b73f0365c0c3f8a746606eaff29a8dd514d58:1']\n2018-06-22 19:35:47,871 ERROR    lbryum:119: [lbryumx2.lbry.io] serving improperly sorted address histories\n2018-06-22 19:35:48,137 INFO     lbrynet.daemon.Daemon:732: Success! Published to lbry://Saint-The-500618-02-A-Sonata-For-Slayers-32-22-27m57s-6553 txid: 34ffce54b3bd94d999ec6c775fd268012d9f202efc1b9388e2f352335a9bd493 nout: 0\n2018-06-22 19:35:48,148 INFO     lbrynet.daemon.Daemon:2147: Publish: {'claim_address': None, 'channel_id': None, 'name': u'Saint-The-500903-13-Baseball-Murder-32-22-28m04s-6583', 'claim_dict': {'version': '_0_0_1', 'claimType': 'streamType', 'stream': {'version': '_0_0_1', 'metadata': {u'description': u'The Saint - Baseball Murder', u'license': u'Public Domain', u'author': u'', u'title': u'Title: Baseball Murder\\nAired: 1950-09-03\\n', u'language': u'en', 'version': '_0_1_0', u'nsfw': False, u'thumbnail': u'http://www.42degreesdesign.com/images/thesaintotrshow.jpg'}}}, 'channel_name': u'@OTR', 'bid': Decimal('0.001'), 'file_path': u'D:\\mp3\\Saint, The\\Publish to LBRY\\Saint,The - 500903 - 13 - Baseball Murder - 32-22 28m04s 6583.mp3', 'change_address': None}\n2018-06-22 19:35:48,164 INFO     lbrynet.daemon.Publisher:25: Starting publish for Saint-The-500903-13-Baseball-Murder-32-22-28m04s-6583\n```. lbrynet.saved 2018-06-22.zip\nHere is a much larger excerpt of the log entries from the day all these errors happened.. > You referenced null/true values for is_committed - did you mean is_pending and false? Do you know the scenario in which this value is null? Does it change to false at any point?\nSorry, in the main text I referred to false and null, but in the Actual Behavior I got it wrong.  I've updated it to be correct.  I either get \"false\" or null for is_pending.\nThanks for the catch.. Note that neither claim_list or claim_list_by_channel return is_pending at all.  claim_list_mine is the only API so far that returns it.  So, if is_pending is never true, then it seems that it could be removed from the results entirely.. > https://lbry.tech/glossary#claim-sequence :)\nI tried accessing that page and I got a warning from BitDefender:\nBitdefender blocked this page\nA phishing attempt has been detected on this page.\nI forced it to go to the URL and got this:\nApplication error\nAn error occurred in the application and your page could not be served. If you are the application owner, check your logs for details. You can do this from the Heroku CLI with the command heroku logs --tail. > Thanks for opening this! Regarding your question, claim sequence is a way to tell which order a claim was created at a particular name, and a way to reference said claim. So if you were the first one to claim lbry://one, you could always reference your claim as lbry://one:1\nSo, I actually tried that and :2 through :10 and it wasn't until I got to the current one, which is lbry://one:9 that I got any results.  Shouldn't I have seen something at those other sequence numbers?  So, I ran a claim_list on \"one\" and I got back 9 as the lowest sequence number, then it jumps to 12 and from there it is sequential.  \nSo, given all that, this is how I've documented it:\n'claim_sequence': (int) 1-based claim sequence number defining the\n                                              order in which the claims were submitted.\n                                              The sequence may not be sequential (there may\n                                              be gaps, and it may not start with 1, but\n                                              will never be lower than 1).. > Thanks for opening this! Regarding your question, claim sequence is a way to tell which order a claim was created at a particular name, and a way to reference said claim. So if you were the first one to claim lbry://one, you could always reference your claim as lbry://one:1\nAm I mistaken in that there doesn't appear to be a way to reference claim sequence numbers in spee.ch?. ",
    "ocornoc": "https://github.com/lbryio/lbry/pull/1267\nThis pull request seems to fix it.. No problem. I followed the INSTALL.md file to the word and got this error. Either INSTALL.md or setup.py needs to be fixed, regardless of whose bug it is.. ",
    "NetOperatorWibby": "Depends on \nhttps://github.com/lbryio/lbry.tech/issues/42. @BrannonKing Looks like it was moved here: https://github.com/lbryio/lbry/blob/master/docs/api.json. Yup, massive changes are coming to .tech so this will have to wait a bit.. @eukreign Looks good. Not sure why CI checks failed.. ",
    "SiamakNemati": "Hi , This Works ?\nhttps://github.com/lbryio/lbry/issues/971. ",
    "muattiyah": "@eukreign Cool, will do.. Closed in favor of https://github.com/lbryio/torba/pull/2. ",
    "Derek2020": "Not so much\nOn Tue, Aug 21, 2018, 9:32 AM Alyssa Callahan notifications@github.com\nwrote:\n\nClosed #1292 https://github.com/lbryio/lbry/issues/1292.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/issues/1292#event-1800636048, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AobA7doIQiWm1xESVwilop1cQRgcrQcnks5uTDY1gaJpZM4VGeAY\n.\n. You wont\n\nOn Mon, Aug 20, 2018, 1:37 PM codecov[bot] notifications@github.com wrote:\n\nCodecov https://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=h1 Report\nMerging #1370 https://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=desc\ninto lbryum-refactor\nhttps://codecov.io/gh/lbryio/lbry/commit/5099e19f424f34640131550009d1a86a4c776c74?src=pr&el=desc\nwill decrease coverage by 0.04%.\nThe diff coverage is 23.07%.\n[image: Impacted file tree graph]\nhttps://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=tree\n@@                 Coverage Diff                 @@##           lbryum-refactor    #1370      +/-   ##\n===================================================- Coverage            53.27%   53.23%   -0.05%\n===================================================\n  Files                  120      120\n  Lines                11816    11809       -7\n===================================================- Hits                  6295     6286       -9     - Misses                5521     5523       +2\nImpacted Files\nhttps://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=tree Coverage \u0394\nlbrynet/dht/protocol.py\nhttps://codecov.io/gh/lbryio/lbry/pull/1370/diff?src=pr&el=tree#diff-bGJyeW5ldC9kaHQvcHJvdG9jb2wucHk= 17.44%\n<0%> (-0.12%) \u2b07\ufe0f\nlbrynet/dht/iterativefind.py\nhttps://codecov.io/gh/lbryio/lbry/pull/1370/diff?src=pr&el=tree#diff-bGJyeW5ldC9kaHQvaXRlcmF0aXZlZmluZC5weQ== 13.29%\n<0%> (-0.55%) \u2b07\ufe0f\nlbrynet/dht/kbucket.py\nhttps://codecov.io/gh/lbryio/lbry/pull/1370/diff?src=pr&el=tree#diff-bGJyeW5ldC9kaHQva2J1Y2tldC5weQ== 96.22%\n<100%> (-0.07%) \u2b07\ufe0f\nlbrynet/dht/contact.py\nhttps://codecov.io/gh/lbryio/lbry/pull/1370/diff?src=pr&el=tree#diff-bGJyeW5ldC9kaHQvY29udGFjdC5weQ== 80.95%\n<20%> (-1.36%) \u2b07\ufe0f\nlbrynet/dht/node.py\nhttps://codecov.io/gh/lbryio/lbry/pull/1370/diff?src=pr&el=tree#diff-bGJyeW5ldC9kaHQvbm9kZS5weQ== 37.03%\n<50%> (-0.28%) \u2b07\ufe0f\n\nContinue to review full report at Codecov\nhttps://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=continue.\nLegend - Click here to learn more\nhttps://docs.codecov.io/docs/codecov-delta\n\u0394 = absolute  (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov\nhttps://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=footer. Last\nupdate 5099e19...50ece88\nhttps://codecov.io/gh/lbryio/lbry/pull/1370?src=pr&el=lastupdated. Read\nthe comment docs https://docs.codecov.io/docs/pull-request-comments.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/lbryio/lbry/pull/1370#issuecomment-414454578, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AobA7Z7L0vgOVQ8yPB_xDQsA7-s_5qaAks5uSx4DgaJpZM4V-6ex\n.\n. \n",
    "whatbatman": "Hello, I have a potential fix for this, but am having issues making a pull request. If you have a minute can you lend a hand?. ",
    "andrenogj": "Is anyone else assigned to this? Can I take it?. ",
    "daovist": "A claim's outpoint is just [txid]:[nout] or ${claim.txid}:${claim.nout} in JavaScript so the necessary info is already there. spee.ch could/should be storing this data when it saves a claim but it would be nice to avoid having to pass source data when updating existing claims, if possible\nthe code in question is still getting cleaned up but it gets used as follows:\npublishParams['sources'] = fullClaim.claim.value.stream.source;\nwhere publishParams is what will be sent in the request and fullClaim is the result of a resolve call to the daemon. when the claimId is valid (or partial) but does not match the name I get an internal server error\nwhen I add a random character in front of the partial claimId, I get the proper error\n2d [lbry@speech-dev1:/opt/lbry] 2s $ ./lbrynet resolve travis#85d5f2fd814979dec6b082c2f88b07bc155e4\n{\n  \"code\": -32500,\n  \"data\": [\n    \"  File \\\"site-packages/twisted/internet/defer.py\\\", line 654, in _runCallbacks\",\n    \"    \",\n    \"  File \\\"lbrynet/daemon/auth/server.py\\\", line 94, in trap\",\n    \"    \",\n    \"  File \\\"site-packages/twisted/python/failure.py\\\", line 439, in trap\",\n    \"    \",\n    \"  File \\\"site-packages/twisted/python/failure.py\\\", line 467, in raiseException\",\n    \"    \",\n    \"  File \\\"lbrynet/daemon/auth/server.py\\\", line 155, in _inner\",\n    \"    \",\n    \"  File \\\"lbrynet/daemon/Daemon.py\\\", line 1778, in jsonrpc_resolve\",\n    \"    \",\n    \"  File \\\"lbrynet/wallet/manager.py\\\", line 219, in resolve\",\n    \"    \",\n    \"  File \\\"lbrynet/wallet/ledger.py\\\", line 64, in resolve\",\n    \"    \",\n    \"builtins.RuntimeError: {'code': -32603, 'message': 'internal server error'}\"\n  ],\n  \"message\": \"{'code': -32603, 'message': 'internal server error'}\"\n}\n2d [lbry@speech-dev1:/opt/lbry] $ ./lbrynet resolve travis#i85d5f2fd814979dec6b082c2f88b07bc155e4\n{\n  \"travis#i85d5f2fd814979dec6b082c2f88b07bc155e4\": {\n    \"error\": \"travis#i85d5f2fd814979dec6b082c2f88b07bc155e4 is not a valid uri\"\n  }\n}. Here is the code running into the error. It works when the user uploads a new file but trying to pass claim.value.stream.source to update only the metadata no longer works.\nhttps://github.com/lbryio/spee.ch/pull/595/files#diff-487600bdc5e135e4f2b237d176675e3aR112. ",
    "jessopb": "I'm happy to do this, and made a plan, but there's some debate as to whether it's necessary.\nhttps://gist.github.com/jessopb/ebe6a6d1b401def755af756dd6061f75. Above comment suggests local files only, not remote blobs. Is this still true or are we dynamically accessing blobs in tihs epic?\n. Thanks for pointing that out :) Gonna make a single PR.. I assume the call for them being universally unique is to facilitate scripting their replacement.. Suffering from this since upgrading to .32.2. This seems like a likely candidate for mac users. https://stackoverflow.com/questions/44649449/brew-installation-of-python-3-6-1-ssl-certificate-verify-failed-certificate. Done. Final?. ",
    "sayplastic": "@kauffj, the way I understand this task, the simplest working solution for now would be:\n\nadd max space usage config setting\ncheck disk space usage in get API request handler, returning API error if requested file download will exceed the space allowed\n\nI'm planning on working off lbryum-refactor branch, as per @eukreign suggestion.\nPlease let me know if this works for you or if anything can be improved.\n. I reckon no separate fix is required.. After a brief discussion it turned out that account_list already returns encrypted flag, although it is not documented anywhere.. ",
    "osilkin98": "When it downloads you can just have it keep track of the amount of memory taken up in total and when you're downloading something new you can just write the data to a file buffer in chunks of a certain size (the size can be variable based on a user preference, written file size, etc.)  and before writing it to the file, simply check if the chunk along with used memory will exceed a set preference. If so then handle the error accordingly by cleaning the file up and letting the app know that the content exceeds the user's memory setting.\nThere should also be two settings implemented with this in order to properly handle running out of memory:\n\n\nContent Files are Temporary, and get deleted as soon as the user stops viewing them. This specific functionality should be replaced once I am able to implement a method of streaming content rather than downloading it.\n\n\nFiles are cached and old files are removed when the maximum amount of memory is exceeded. This cache can be implemented using a priority queue which has the file with the oldest date as having the highest priority for removal. A Hash table is used for checking whether or not a piece of content the user wants to view is already downloaded or not. \n. @eukreign The daemon doesn't have to be and really shouldn't be responsible for that. I feel it's the user's responsibility to take care of unwanted files. Instead what could be done is the daemon could be given the space available as a command when downloading a new piece of content, which it ensures not to exceed. A callback function could be provided to the daemon to be used for when the amount of space exceeds a certain amount, which would just be defined by the user as a means to track files. \n\n\nThe callback function, really, could just be private to the app itself, but if one were at the command-line, they could provide their own.  . @eukreign If the desktop app is just a user interface for the daemon, then the file tracking can be done by the daemon. \nWe can avoid the problem of needing to know if the user is watching the content or not by keeping track of all the files downloaded by the daemon, and simply deleting the oldest content files when more space is needed. If the user is using an application and they're trying to download a piece of content, the assumption that they aren't currently using the oldest file downloaded is very reasonable.. @eukreign  You bring up valid points but here's the thing. What I'm talking about only applies if the user specifies that they want files to be treated as temporary. \n1. The files would stay on the user's computer until they get deleted if they have the temporary setting enabled. The user also may not want to act as a host for whatever reason, and it should really be up to them as to whether or not they want to be doing that. Ideally, people who are hosting shouldn't have this setting on, but it's not a big issue if they do.\n2. If a user has the temporary setting enabled, then they're already anticipating that files will be getting deleted, therefore this is irrelevant. \n3. User published content isn't considered a temporary downloaded file.\n4. We use a priority queue that uses the file downloaded/last-accessed date as the key, I explained this above. If the file is accessed either by the user viewing it again, or by the DHT accessing it, then we update its date and its key in the priority queue.\n5. You delete only the amount you need. \n6. Whether or not files are treated as temporary, and the maximum size files can take up. That's it. The space management strategies I already discussed above. You can also prompt the user to compress the files, however that would cause a lot of overhead if the DHT needs to access them, and so compression should only be accessible to people who aren't hosting data; which is completely fine to assume because if someone already needs to conserve space, they likely aren't going to be wanting to host to begin with. . I'm still having this issue and so is @ocornoc  . That's perfectly fine @tzarebczan, I've just been working on impementing the comment system so it's no big deal. Well if the daemon isn\u2019t using these scripts nor are the users downloading, why are they in here to begin with?. @eukreign The scripts in this PR are very dated, using python 2 syntax and also don't provide any good example or insight as to how the internals work. . There are already equivalent scripts in the tests directory. I do agree that we should have examples, so maybe we could create a separate examples directory at the root level and put new ones there? These should still be deleted though, they're not very explanatory so I wouldn't say that they constitute as good examples.. I'm not sure if I need to PR here or the master branch so I did both. The angle brackets need to be removed so my API Code generation can work properly. The angle brackets need to be removed so my API Code generation can work properly\n. This needs to change to float as it is just inconsistent . ValueError would not be acceptable in this case, as the Exception is only raised if the length argument is not specified, or an incorrect type is provided, making the type of length be None or any non-int type, respectively. \nAs noted by the Python 3 exceptions:\n\nexception TypeError\nRaised when an operation or function is applied to an object of inappropriate type. The associated value is a string giving details about the type mismatch.\nThis exception may be raised by user code to indicate that an attempted operation on an object is not supported, and is not meant to be. If an object is meant to support a given operation but has not yet provided an implementation, NotImplementedError is the proper exception to raise.\nPassing arguments of the wrong type (e.g. passing a list when an int is expected) should result in a TypeError, but passing arguments with the wrong value (e.g. a number outside expected boundaries) should result in a ValueError.. That's weird. I know the fastest way would be to simply to get the single char and actually have it index a base16 array (or check to see if it indexes properly without the array), but since that's not available in this case, I guess converting it causes more overhead than I thought. . In this case the entire line should just be replaced with the unhexlify instead of what was in the commit prior to mine. . I can add type hinting in the parameter list, though the comments should be kept as a reference for anyone trying to make sense of it in the future. . That comment wasn't supposed to go into the to-be-pulled, it was supposed to be part of something completely different.. I can add both, Sphynx docstrings are much easier to read when docstrings are rendered with reStructuredText, which is why I kept it despite its redundancy. . I can do that, but again it works a lot better with reStructuredText as the docstrings so I don't see why not. It may be redundant but at least it renders well. . Oh wow I actually didn't know that at all. I was under the assumption that since they're both builtin to the Python 3 STL that they'd both be at the assembly level. Also didn't know that you can disassemble the functions like that, thank you for showing me that!. I looked into it and unhexlify() wouldn't be suitable since it has the following problems:\n1. It only accepts even length hexadecimal digits (probably because it's made for reading binary): \n    python\n    >>> unhexlify(b'3fd4c')\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n    binascii.Error: Odd-length string\n2. It is indifferent to uppercase/lowercase (both previous solutions accept only lowercase hex strings)\n    python\n    >>> unhexlify(b'3fd4c5') == unhexlify(b'3FD4C5')\n    True. I agree completely. However, when the function body contains a lot of asynchronous object oriented method calls that aren't formatted in a neat and easily understandable way, anyone trying to read it and maintain it will have to spend way too much time trying to figure out what the hell is going on. \n\nAs a matter of fact, a lot of the variable and method names are very well written, and I appreciate that very much. The problem comes in the fact that when your functions begin exceeding 40 lines of code without any comments, it becomes difficult to understand what's going on. The Google standard states that you should try to limit functions to 40 lines, and if you're going to write a long block of code, you should put a block comment explaining what's going on. In most cases a lot of these functions exceed well beyond the 80 lines mark without any explanation as to what is going on. \nWhere Comments are Redundant:\npython\ndef max(a, b):\n    # return the larger value\n    return a if a > b else b\nWhere Comments are Useful:\n```python\ndef FFT_vectorized(x):\n    \"\"\"A vectorized, non-recursive version of the Cooley-Tukey FFT\"\"\"\n    x = np.asarray(x, dtype=float)\n    N = x.shape[0]\nif np.log2(N) % 1 > 0:\n    raise ValueError(\"size of x must be a power of 2\")\n\n# N_min here is equivalent to the stopping condition above,\n# and should be a power of 2\nN_min = min(N, 32)\n\n# Perform an O[N^2] DFT on all length-N_min sub-problems at once\nn = np.arange(N_min)\nk = n[:, None]\nM = np.exp(-2j * np.pi * n * k / N_min)\nX = np.dot(M, x.reshape((N_min, -1)))\n\n# build-up each level of the recursive calculation all at once\nwhile X.shape[0] < N:\n    X_even = X[:, :X.shape[1] / 2]\n    X_odd = X[:, X.shape[1] / 2:]\n    factor = np.exp(-1j * np.pi * np.arange(X.shape[0])\n                    / X.shape[0])[:, None]\n    X = np.vstack([X_even + factor * X_odd,\n                   X_even - factor * X_odd])\n\n```\n. Sphynx does understand Python 3 type annotations. The above isn't supposed to be a good example, just something I wrote for myself and figured wouldn't do any harm if included. \nThat being said, Sphynx makes the parameters very easy to read when being rendered.\nFor something like the following block:\n```python\n    def get_blob(self, blob_hash, length=None):\n        \"\"\"Return a blob identified by blob_hash, which may be a new blob or a\n        blob that is already on the hard disk\n    :param str blob_hash: String representing the desired blob's hash\n    :param length: Length of the blob to download. If None is specified, then\n      the blob is assumed to already be saved in the `self.blobs` dict.\n    :raises TypeError: If the blob isn't saved in `self.blobs` and `length` is\n      passed in as a non-`int` type (`None` by default)\n    \"\"\"\n\n```\nThe docstring would render as the following:\n\nAlthough the typing of parameters in between :param type parameter_name: Description can be hard to read if you're not rendering. For that reason, most people prefer the following:\n```python\n    def get_blob(self, blob_hash, length=None):\n        \"\"\"Return a blob identified by blob_hash, which may be a new blob or a\n        blob that is already on the hard disk\n    :param blob_hash: String representing the desired blob's hash\n    :type blob_hash: str\n    :param length: Length of the blob to download. If None is specified, then\n      the blob is assumed to already be saved in the `self.blobs` dict.\n    :type length: int or None\n    :raises TypeError: If the blob isn't saved in `self.blobs` and `length` is\n      passed in as a non-`int` type (`None` by default)\n    \"\"\"\n\n```\nThe rendering would still be the same:\n\n. >Unnecessary code and comments adds to the technical debt of the project; we want to reduce technical debt\nI don't know what you mean by this. The entire project is written in Python, a language which sacrifices performance in exchange for readability. Not sure how an interpreter skipping comment lines is going to make it any slower.. I don't know, I assumed that since the int(string, base) only accepts lowercase strings to be parsed for base16 conversion, and that the first method only includes lowercase characters, the project's standard is lowercase hexadecimal characters. This isn't a problem with me, I personally want as much fault tolerance as possible. . No, I haven't actually. I asked about a standard in #dev, and was told that there is no set standard, and so I just defaulted to the Google standard. \nI wholeheartedly agree with you, though. I think that if you can reduce something and make it simpler and easier to understand, you should. Sometimes the best solutions are the simplest ones, while other times, they are more complicated and thus require a more thorough explanation. This is why I want to be adding comments in the first place. This code is extremely messy, and so it helps people to get a grasp and hopefully simplify the process in the first place. . MyPy type hinting can be easily inferred and translated from Sphynx docstrings. The Google docstrings I'm not so sure about. lbrynet isn't using MyPy though as far as I can tell, so I don't see how it's an issue. . It also still leaves you with the problem that if your arguments are having operations performed on them, as this project does, then you'd want to outline that in the description for the argument. MyPy is simply a construct for typehinting, which I DO like, don't get me wrong, but you can't rely on that for larger projects.. Oh wow, that was stupid of me. I imported that since it references the class that is being passed. I'm just going to use MyPy type hinting since it actually makes use of the import that I did JUST for that comment. \nThank you for bringing that to my attention, although this PR was very stupid, you've taught a lot in terms of what to do and what not to do. I'm not sure how to edit the PR to put in the correct changes, so I guess I'll just close this one and reopen another one that does it correctly. \nAlso you were right, starting out with a small pull request was a good choice once I actually started looking under the hood and playing around with it, so thank you for the advice.. I'll definitely use it, but it doesn't change the fact that a lot of this code is already complicated, and rewriting something that wasn't written well is much harder logistically, than to simply add a docstring and fix it when you have the time to. Do you know if there's a UML diagram for the flow of the project? If not, there should be some made going forward, it would probably allow us to spot redundancies in design before anyone has to implement it. . reply me on slack\n. If you're moving forward all the time and not looking ahead, you lose sight of the big picture. Is it tedious to draw out a diagram of what the system is? Maybe, but at least when you have one done, you realize \"oh well we can get rid of Y and Z because they do the same thing as X, just slightly differently\". \nIt's good practice to move fast and break stuff, but if you're not thinking about what you're doing then you're just running around aimlessly. While it's great if you can reduce everything down into a purely functional format, that's not always going to be the case, and not everyone will follow that. Hence why you should take out a minute to document what your function is doing so you can think \"well huh, this is overly complicated, I can make it simpler\"  . I completely understand that. Unfortunately I've never even seen the original so I proposed the UML thing as it would help anyone who doesn't have the privilege of seeing that in person. . The comma is needed so that child['character'] gets interpreted as a tuple rather than an int:\n```python\n\n\n\nu = ((3))\nu\n3\nv = ((3, ))\nv\n(3,)\nbytes(u)\nb'\\x00\\x00\\x00'\nbytes(v)\nb'\\x03'\n```\nThe space following the comma makes it look less cluttered.. Done. Boom. Done. \n\n\n",
    "skhameneh": "Repeat of partial notes from lbrio/lbry-desktop :\n\n...\n1. The media player begins reading from disk with no awareness of the completion of blobs. See https://github.com/lbryio/lbry-desktop/blob/e8aa67bf7eefeb778617403a89d593081cb62b2d/src/renderer/component/fileViewer/internal/player.jsx#L165\n3. The current implementation of the daemon does not guarantee that the blobs are written in sequential order; detecting which ranges of data in the written file are available is difficult and not reliable. See https://github.com/lbryio/lbry/issues/1342\n...\n. This has been tested in lbry-dektop with a claim edit. \ud83d\ude03 . @jackrobison Tom is correct, this is a custom media type that follows lbry-format (Zstd > Tar, with package descriptor). @eukreign this is ready to be merged, will not cause any forward-moving conflicts and can be reverted if necessary.. \n",
    "kodxana": "Do you use LBRY Daemon version builded on python 3?. ",
    "geekodour": "@tzarebczan  @asddsaz can you give me any idea on where would be a good idea to get started with this. I am familiar with network programming in C but that's all. . ",
    "ttkopec": "@tzarebczan Yes, sorry, I've been recently quite busy but will try to finish this PR as fast as possible. I wanted to augment error message with absolute path of a file. If it is not needed, then I can do as you mentioned . Yep it is redundant, but I wanted to be consistent in return statements and always return something explicitly. PEP8 states: an explicit return statement should be present at the end of the function (if reachable). Maybe replace last else clause with simple return None?. Ok, I got it :) Then I'll remove it as you requested . ",
    "jvastbinder": "I understood that to be the idea behind issue #1518. Since the same field is referenced differently between different calls\n\nCurrently, there are discrepancies between with the naming of the \"claim name\".\nWhen calling file_list this name is returned as claim_name\nWhen calling claim_list_xxx it is returned as name\nThis should be standardized as just name, to avoid confusion. \n-@seanyesmunt. Thanks for the feedback. I can see how I overestimated the scope of the naming discrepancy. I'll rollback my changes and give my further actions more careful thought.. \n",
    "hugovk": "You're welcome!\nI don't need LBC, but a t-shirt would be nice :). ",
    "gy741": "Hello @tzarebczan Thank you for your warm welcome.\nI confirmed \"LBC in appreciation\".\nI will send an email to hello@lbry.io.\nThanks.. ",
    "vyaspranjal33": "@eukreign  its good to have one badge Other lbry Projects already have it  \n\n. @eukreign other lbry projects are using both license badge as well as github indicator , i think this change should be accepted . ",
    "preserveddarnell": "\n@preserveddarnell if you are still interested in getting this PR merged please make the minor changes requested.\n\nFixed. @eukreign well it's already done. It's what should've been done in the first place, so it doesn't make sense to scrap the correct efforts. . > @preserveddarnell I would like to merge your changes to INSTALL.md and README.md, can you please drop the others and rebase against latest master? Once you do that I promise I won't have any more requests :-) and will merge!\nI think my changes are valid and would be supported by others. I will leave it as-is.. ",
    "alex-mcfadden": "This is my first issue and I think I have a solution to this - how can I test this and make a resolution fail? I am new to LBRY. . ",
    "gjhklfdsa": "@tzarebczan Thank you so much for replying!\n\nHi, thanks for reaching out! An initial version of this is in the works, but that's not for this particular github repository.\n\nAhh, ok. But it will be an end goal for Libry.io to create a free software web client?. ",
    "binaryflesh": "Thanks for the heads up. Regarding unix sockets/ posix signals, no technical reason. I was just trying to stick cross-platform until issue arose. Regarding pieces like FileSender and Producer in reflector/client for example using unix sockets is probably the best way to go.. @eukreign @jackrobison regarding daemon; do I still need to support all three calls (file reflect, blobs, all blobs) that are roughly about here: code using reflector. I am writing this with the perspective that escalation of this issue may rise before I can get fully functional and general feedback. Please reach out if there is code considered stable enough to implement and can be reused. I am currently defining Reflector to consist of following three namespaces.\n\n\nreflector(factory, queue, handle)\n\n\nReflectorProtocol(asyncio.Protocol)\n\n\nreflect_stream (in jack's comment above)\n\n\nreflector is a wrapper around (at the moment), three things I should define before starting a thread.\nI emphasize should given most uses cases (just Daemon at the moment), reflector is an event loop, and not a transaction-based client.\n```\ndef reflector(factory, queue, handle)\n    @functools.wraps(handle)\n    def callback(ctx):\n        # Comprehension of expected call (ahead-of-time)\n        # split '_' in response to get list of context vars for task\n        # __* should not be used inside ReflectorProtocol\n        if __VER in args:\n            # call V2\n        if __ITER in args:\n            # needing_blobs\n        if __BLOB in args:\n            if __HASH in args:\n                if __SIZE in args:\n                    # client sending blob details\n                    super().blob = await _request(args)\n                # asyncio.wait_for(super().data_received, timeout=1.0)\n            # server sending ACK\n            super().blob = await _request(args)\n        # standalone components will just be what I am calling Reflector (capitalized)\n        # Reflector is yet-another wrapper that will initialize reflector that will stand-up client or server.\n        # e.g. Reflector(default=client, watcher=reflect_stream)\n        # _REQUEST = {_BLOB: _INFO}\n        # _RESPONSE = {_PREFIX: _BASE}\n        # _HANDSHAKE = {_VER: REFLECTOR_V2}\n        # TODO: abstract method to call ReflectorCookieCutter.send(sd_blob/blob)\n        # TODO: abstract method to call ReflectorCookieCutter(sd/blob)\n        # TODO: abstract method to call ReflectorCookieCutter.NeedsBlobHashes()\n@functools.wraps(queue)\ndef set_task_factory(blobs: typing.List):\n    ...\n\n@functools.wraps(factory)\ndef build_factory(client: typing.Optional[typing.Protocol], server: typing.Optional[typing.Protocol]):\n    ...\nreturn build_factory\n\n```\nWorking on previously mentioned ReflectorClientProtocol, I found that I could kill two birds with one by having the Protocol not handle context. This also makes using reflector in other code less of a hassle.\n```\nclass ReflectorProtocol(asyncio.Protocol):\n    # acceptable args: version, blob, blob_ blobs\n    async def connection_made(self, transport: asyncio.Transport):\n        return transport\nasync def data_received(self, data: bytes):\n    msg = await _response(data.decode())\n    if 'needed' in msg.keys():\n        ...  # missing blobs\n    if True in msg.values():\n        ...  # send_next_blob\n    if False in msg.values():\n        ...  # reupload\n    # send, received, needed\n    ...\nasync def connection_lost(self, exc: typing.Optional[Exception]):\n    raise exc if exc else log.info('reflected future')\n\n``\nan aside regarding reflect_stream, I'd like to propose renaming the originalreupload.pytoreflect`.\n( when stable of course). This will let usage look like:\nfrom lbrynet.extras.reflector.reflect import reflect_stream\nreflected_blob_hashes = await reflect_stream(loop, descriptor, blob_manager). Also to note I'm currently working on a ReflectorClientProtocol to quickly get reflector into master without twisted. . I was a little confused by how remote tcp was interacting with different layers at time of last comment. Once testing is complete 91120c6  or later will resolve issue.. As of now, I currently have the daemon passing blob_manager and blobs to reflector.py. It occurred to me that ReflectorClientProtocol could just be a generator for what the transport should send the reflector server and allow Daemon.py to have all moving parts in the scenario. Given there's no need for a stand-alone reflector server, I can make reflector a little easier to maintain by just taking the blobs to reflect and have Daemon handle the response, given Daemon already has a client this would be a good reuse of code. Thoughts?. Should there be a minimum and maximum for the re-reflect interval? for example, if I put to reflect every 20.0 seconds and it takes longer than streams * mean(ttr: time to reflect), should I raise an error, adjust value, or treat as priority task?. I was working on #1812 and #1811 for context. the auto-reflector feature will every defined interval get all streams that need to be re-reflected and not interrupt any background processes. I made this issue because I thought it would be a good safety feature to a have a good idea of how long a round trip takes for an event loop, given the issue I've been assigned has a time limit. although python's GIL does a pretty good job for the most part regarding thread safety there's by no means guarantee, \n\n\"Two threads calling a function may take twice as much time as a single thread calling the function twice. The GIL can cause I/O-bound threads to be scheduled ahead of CPU-bound threads. And it prevents signals from being delivered\"\nsource: Python GIL\n\nI made this issue wondering if there can be an effort to document how much resources/time an event loop takes after initialized for future improvements and proactively monitor potential resource conflicts. ",
    "JoshStrobl": "I'm getting this as well during my testing with lbry-desktop 0.29.1 (which uses lbry 0.32.3) on Solus (Linux). Attempted to update my local python-aiohttp to check if that was the issue and it was not.\nThis will be a blocker for deploying the latest lbry-desktop on Solus, since it prevents the use of the client entirely.. ",
    "ITwrx": "@nikooo777 \nthanks for the response.\ni'm not suggesting that people contributing to the code should stop their work and set up alternatives. i only suggest that the project might consider that right now people are forced to use these subjugating platforms if they want to join in any official discussion about LBRY. \nalso, some of these suggestions require almost zero set up and don't have to be self hosted. Or maybe just open up the forum for anyone, instead of just devs? Why be so picky when you can just have categories in the forum like what already appears to exist. Maybe LBRY doesn't even care if anyone uses the forum currently and the way it's presented just needs to be updated?\nI receive the LBRY newsletter and have been impressed by the seeming progress and organization and have promoted it to people. i finally had time to look to see if there might be something i could get involved with and i was distressed to find the currently offered options. I didn't want to just leave without saying anything in case anyone wanted to add at least one freedom friendly option/alteration to the roadmap.\nwhile the availability of email is nice of the project to include, it does not allow one to enter into the broader discussion with the whole community. \ni'll leave this issue open for LBRY to close if they decide that the current situation is fine or it gets resolved in some way.\ngood luck.\n. btw, i have a fairly new pleroma instance that i would be glad to send invitations for (it's currently invitation only until time/features allow for moderation) to any LBRY rep(s) that wanted to use it. Just provide any email address(es) to send the invite(s) to. Otherwise, you may wish to choose from more established fediverse instances.. other possibly useful applications\nhttps://zulipchat.com\nhttps://www.loomio.org/. @kauffj sounds good. thanks. ",
    "dvdvideo1234": "@tzarebczan At least tell me:\n\nWhat did he install to make it work? \nIs there additional SW dependencies which the app needs?\nWould you mind giving me the solution information ?. It seems that it is actually a path problem\n\nFile \"lbrynet\\winpaths.py\", line 152, in get_path\nlbrynet.winpaths.PathNotFoundException. Hmm, I do not seem to have the daemon_settings.yml in the install directory or in the entire C drive.\nDo you happen to know the location of this file? My dot net framework is the latest installed. I also have Win7 SP1. My .NET currently installed is 4.0\n\n. Actually, I got the install package from the website.\nhttps://lbry.io/get?src=PB. Hmm, it seems I need to install lbrynet and lbryum. I do not have both directories present. I do seem to have these folders missing, which is strange to be done by *.EXE installation. Uninstalling for now. Until maybe I attempt to try the latest version and compile it or whatever ;). @tzarebczan\nCould you please point me at least to the issue related to the following :\nProblem solved! I patched my win win all new fixes and net frameworks and now working all! I think this have been some kind od net framework bug. Thank you all for effort!. I will provide you with feedback this evening. Well, that's unexpected..\n\n. I don't think that this can be closed just like that. This error has to be investigated.. I will provide you the value of my PATH variable. Could you tell me to compile this repo? I want to test this version. ",
    "DaveA50": "The program ends cleanly on api.stop() call now that the systray icon runs as a daemon thread\n. Removed\n. ",
    "kendricktan": "Thats to gitignore the settings files generated by VSCode, I can remove it if its an issue. Didn't know you could do it that way, thanks.. ",
    "atiaxi": "After poking through the codebase it doesn't look like there are a lot of deep-dives like this, so safe_dict_descend is probably overkill.  While the get chain won't catch the case of e.g. a non-dict value ending up somewhere in the path, I don't think that's terribly likely and even if it was we'll still get a stacktrace.\nI've written up a few tests to cover get_sd_hash to make up for the tests I'm taking out in this commit :). ",
    "lbrynaut": "Making a note because if/when the normalization fork of lbrycrd happens, this normalize will probably be broken and need adjustment for utf-8.. Is anything about the stream/blob hash related to claim names?  If so, normalization (if/when added) could break things and we'll have to figure out how to add additional mappings, while maintaining the current values.. Are these points different than wallet amounts?  I'm asking because all wallet amounts need to be fixed integer, not decimal.. Hrm, looks like it.  I'd rewrite all of the amount handling to be large integer based (in satoshi size amounts) because there's a lot of rounding and conversion going on, and these amounts are not guaranteed to ever match the rounded/converted values from another machine.  If they do match, you're getting lucky for now, but it's likely not correct.. Other than the wallet being slow at this point (via implementation), what's the harm?  If the wallet is used, it's inevitably going to reach this point.. ^ These kinds of conversions will be inaccurate at some point.  These are a show-stopper to me until corrected.. This is deterministic generation. Make sure it's seeded properly (maybe it is elsewhere?).  Also, while it mostly looks to be used for installation/node id, what happens on a collision?  Are these ids used for anything \"important\" other than what I'm assuming is an anti-privacy feature?. obfuscated.  Please just confirm this obfuscation doesn't require anything close to cryptographic hardness.. Glad to not see iv re-use (per-key) :+1:. This should not be a float comparison (I'll try to leave out any other comments on floating points amounts vs fixed integer), but look out for this class of error.. Command line data leak.. Why 2?. An Index fund :-P. Might not be worth noting, but wallets recovered from seeds lose this kind of info.. Hrm, where are you storing the mapping from named accounts to their index?  Just noting that those will also be lost in the case of seed recovery.. Might be worth indicating this returns a base58 encoded value.  And same for sha above, as it's not generally assumed that sha hashes and keys are base58 encoded.. What format are these incoming keys?  It looks odd to encode it as base16, then decode it from base16 to get an int.. Maybe we're talking about the same thing, but given that HD accounts are integer indexed and your accounts are strings, I assume that you wanted named accounts, such as 'checking', or 'saving' which maps to index 0 and 1 respectively (as an example).  Further, setting the 'saving' at index 1 as the default is well and good, but when recovering the wallet from seed (i.e. on a new machine) the names and default account mappings would be lost, no?. Right.  BTW, which BIP32 derivation are you following?. Got it. thanks.. Electrum is definitely BIP32 compatible.. "
}