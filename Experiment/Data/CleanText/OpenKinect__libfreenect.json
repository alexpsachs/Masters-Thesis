{
    "qdot": "Merged to win32-iso branch, which merged into current win32-merge\n. Ok, so, I kinda did things completely out of order here and even though you're merge request #2, it's coming in a little later than planned. I went ahead, rebased up to current and signed off on this since CMake is pretty harmless too. You're in at ffe24e0cf428b79906a8b40710bfa89f02ed806d. Thanks so much for the submission!\n. Push request acknowledged and merged.\n. Eh. We can live without for right now. We know e're getting 30 or dropping like crazy, that's what matters.\n. Fixed in pull request.\n. Done in wiki.\nhttp://openkinect.org/wiki/Code_Integration\n. Merged\n. Since we can't sync, we can't do much. So, closing out.\n. Since new-api came into master right around the same time as this, this example will unfortunately no longer work. Also, the commit needs a sign-off, and the license doesn't match our project license (needs to be dual GPL/Apache). Rejecting this for right now, but you can resubmit when it's updated and the license and sign-off are correct. For information on sign-off, check out our code contribution page at\nhttp://openkinect.org/wiki/Contributing_Code\n. Great idea, we need it, but this patch is invalid as of the new-api merge. If you can bring it up to date, it'll go in.\n. Merged into win32-merge\n. Can you add sign-off's to these commits? If you reset back then git commit -s, it will add signoff messages, which we need to comply with our contribution rules. \nhttps://github.com/OpenKinect/libfreenect/wiki/Contributing-code\n. Awesome, I just tested this and everything works great! Thank you so much for this patch, we were kinda stumped on what was happening there. \nI'll go ahead, add this code and credit you in the commits. :)\n. Merged and closed.\n. In master as commit ceb185892ad7b911797582cf3ed6f2b44a138537. I made a commit after it to fix the maintainer as requested. Thanks for the submission!\n. We need this commit to be signed off before we can evaluate it to pull it in. Please sign off commit and resubmit pull request. For more info, please check out the Contributing Code page at\nhttp://openkinect.org/wiki/Contributing_Code\n. OS shouldn't matter, this isn't a platform specific patch. So far this is the only failure I've heard. Are you sure your libusb repo head is at the commit listed in the readme?\n. http://git.libusb.org/?p=libusb.git;a=summary\n. Closing.\n. First off, thanks so much for the input! I tested it and it works great.\nNow, in the pursuit of keeping everything happy, linear, and in a non-gigantic squash commit, I ended up rebasing your commits from your branch out into a line of individual commits, each with your signoff. The only thing that actually changed in the code itself is a reindention that I didn't catch in my editor, but that's only whitespace. \nThese commits is shown with me being the commiter, with author, commit message, and everything else intact. Basically, just keeps things clean and keeps the commiter attributes in the main line. That being said, your master and ours are now completely diverged due to hash differences from this. Dunno what your git experience level is, but if you need help resolving this, lemme know either via github message or emailing me at kyle@nonpolynomial.com and we'll get it figured out.\nOnce again, thanks for the commit! :D\n. In at 57b8d64453d724452face2325bf09f7d33f449ed. Thanks for the submission!\n. Cherry-picked your python commit off the top since I actually brought in Rich's patches last night. Now in master at d5d95b0. Thanks for the submission!\n. Rebased your commit in on top of the ros-pkg-git merge that I just did, you're now in at ece9eef0a73f539da31d0a1aa23e161183fbe1c2. Smoke tested on OS X, seems happy. Thanks so much for the submission!\n. So, the LED /should/ be red, that was added to the new program. However, otherwise it works fine for me (I tested it before integrating into master). I can't repro your bug here.\nWhen had you updated before this? Have you repatched libusb and reinstalled as of commit 562a7b28eb7ab7d7f361? This sounds like a symptom of that. There's also a memory leak that I'm about to patch in libusb, so watch master and be ready to repatch. :)\n. We're still not getting any other reports of this on OS X, and it's still working fine for me. Are you sure your old libusb is getting removed?\n. Ok, we're starting to get other reports of this now in the IRC channel. It's being worked on as we speak. \nWhat video card does your mac have?\n. Are you using a USB hub? If so, that may be the culprit, as the camera may need to be plugged in directly to the machine. However, there's also reports that it may need to be on the first bus of the machine too. Try connecting to different ports and see what happens.\n. It takes a lot more than changing the frames.\nhttps://github.com/OpenKinect/libfreenect/blob/master/platform/osx/libusb-osx-kinect.diff\n. This really isn't something that should require the analyzer either. This isn't a line problem, it's probably something in how we're dealing with OS X.\n. So, I test every commit against OS X before pulling into unstable, and it works on my core duo 2.8ghz mbp with 10.6.5, nvidia video card. But that's all I've seen it run on in terms of OS X, haven't tried anything else.\nIf you get a pure IOKit solution going, please let us know. libusb and OS X have never been friends, and I'm all for getting the lowest levels working in platform specific APIs since we've got it pretty minimal and abstracted away now.\n. So, it's actually been this way all along. And, weirdly enough, it seems like a platform issue. Linux doesn't care what thread glut runs in, keyboard access still works, which is why this happened in the first place. I haven't tried on windows yet. OS X does actually have a problem with this though, since it can't access the keyboard device or event updater from the spawned thread. Definitely agree this needs to be fixed.\n. This patch breaks the escape key functionality on linux. Since glut doesn't run in the main thread, glutCloseWindow just kills its thread, but the main one stays alive. This related to https://github.com/OpenKinect/libfreenect/issues#issue/37\nSo, two options. Either take out the changes to the escape key functionality, or switch the image reading out of the main thread. I honestly would prefer the second, as I'm probably going ot have to do that myself at some point otherwise. :)\n. Closing, resubmit pull request on fix (the motor and led keys seemed to work well otherwise, btw, definitely good functionality).\n. Reopened at issue #54.\n. Merged to master as of 881425789d37866f34a6. Tested by qDot, seems to work. Thanks for the submission!\n. We should be able to change CMAKE_SOURCE_DIR to CMAKE_CURRENT_SOURCE_DIR and have this work, correct?\n. Also, if you're going to try implementing this in a larger repo, i'm seeing things in examples and lib CMakeLists.txt that may give you problems. We'll probably need to move the INCLUDE_DIRECTORIES calls up to the root and use CMAKE_CURRENT_SOURCE_DIR on those. \n. Wow. Talk about timing. I literally just merged https://github.com/OpenKinect/libfreenect/commit/d5d95b0dcc738f97cf4d7bbf67a3a5228b0c64d6 like 5 minutes ago. You may want to hop on the mailing list and coordinate efforts on there, I think we're up to like 3 simultanious python wrappers now. \nNot closing this pull request quite yet 'cause I'd like to look through here and see if anything is mergable.\n. Cherry picked last 2 commits off this, squashed them into one commit, so it in the end, it's one line of code changed. In at 3a19a617a5e57daf2c2d23e041e3c57ac11ca654. Thanks for the commit!\n. In at a7fa608\n. Are you ok with me cleaning this up a little bit and removing your master merges? I'd rather not bring in conflict resolutions due to merges to our mainline. \n. Merged to master as of 07f4754d6117348133c3fe90507a5c6e0a4faa94. Thanks for the work!\n. In as of 58067a23cdb597634aedddcee1cf7f255682f415. Thanks for the patch, and sorry it took this long to get one of your patches in finally. :)\n. After talking to kelvie and amiller in IRC, rejected, using amillers\n. Merged to master as of 4977755b03f66c6a0984d41e82189d20335a2191. Made another commit after it to move the files down to /python/, since the commit before moved the rest of the python there. Thanks for the work!\n. In at bae0ec6a347936ffcb39a285d0f7bbe4780326aa, though without python env since that came in commit before.\n. Done. In at 2d096ba907b9774421a19fec3a916b795ccb22f8\n. Fixed with removal of JPEG and separation of build options.\n. Used yoda's patch since it was more cmake friendly (and I've gotta start working on the cmake soon anyways. In at a0db7c8ac4571bfaa74bc32b52fac5476b9516c7.\n. Rejecting since it came in with 36a1e0011054b74e9a1448bde49191bb3db7c39d. Thanks for the submission though.\n. In at ab647363685a109622dacc8952b76e10d6445cc0\n. In at f3a8e29a08d536ba1e3f82b257f6071a998f26ad\n. Pulled at f99f5bf80caf2907dd38\n. In at dcf3c7980c1d291e05458f52db89b639ad6b2ba3\n. In at bef469a59434782d399ace7476dc29f94c6ad423\n. In at 57e7edf108e20811224ce600e8bd5c86024103ee\n. In at 9aba304481603fed01227b5ff388371977eb82db\n. We're talking to him right now, will hopefully have that in our repo soon :)\n. In at d969c0fc75dbca8d3c414907cee4181d95ff41e0\n. In at 3d172d3ac5a330200c8b0f868f53afeb0ee8e8c6\n. There's conflicts in this merge due to the new device shutdown stuff. Can you rebase up to the head of our master and resubmit?\n. Rejected, as we're now working on solutions other than this for win32. Thanks for the work though.\n. Cherry-picked 215d6c4 in at 0aa83230cdc7690455343049e11d3f0b4323e5c3.\nBTW, you might want to check out our integration guide so you don't have to worry about all of these crazy merge points. \nhttp://openkinect.org/wiki/Code_Integration\n. Compile break on linux (haven't tested OS X) after rebasing on top of 0aa83230cdc7690455343049e11d3f0b4323e5c3. Please rebase up from master, fix and resubmit.\n. In at 33184ded49ffc55416f5999a75c26ba8e3597053\n. In at 4bc1925f69f4ce25a32f9bc2362537e34f68e5ba\n. Rejected. We already had a push of this, and it is already being integrated, but we're not even sure which solution we're going with yet. Please ask on the list before integrating other people's pull requests.\n. These commits need signoff, then they'll go in.\n. Closing, went with the JNA stuff from tweakt. Feel free to resubmit if the JNI is still viable.\n. In at e91d4c5b01fe8f62fd8a6ff616c0a9d7f75be3bd\n. Missing email in signoff.\n. In at c3d165b6ddaa431c2d390fea9718231922d280bc\n. In at af369a665ff1d62a92b1767c6119abc286c64187\n. Just put it in by hand.\n. In at ffdaebb6c56347ab96a03968920897bdbe74ff33\n. In at 7e802d125af43766d20cfe15de883608ac96b106\n. Ok, so, I'd really like to at least bring in the struct changes, but they'll break on PPC in their current form due to endian-ness issues. If you want to fix those up and bring it up at least to the head of master, that's cool, otherwise we can do it and at least credit you with the find at least. Gonna close this for now though.\n. In unstable, with one fix: Using the PTHREAD_INITIALIZE_MUTEX function has mixed results in C++ objects due to some of the compile-time needs of the macro. In other words, it just doesn't even compile on OS X. I changed it to pthread_init_mutex(), which should do pretty much the same thing.\n. In unstable\n. In master\n. Fixed in unstable.\n. In unstable\n. In master at a19a1a194bd885f777961667862ddb6f9344d96e\n. Current state rejected. Please clean up commit list, rebase to head of unstable, and resubmit. We've already brought in the point cloud changes (and had to resolve conflicts on them), and this merge has too many submerges to sort out cleanly.\n. Current state rejected. cv_demo expects header in place that does not exist, will not build.\n. Merged via bwhite's commit into unstable, closing\n. In unstable\n. In master\n. With more additions coming into the cmake soon, I think we may call for a 2.6 or even a 2.8 minimum. 2.4 is ridiculously old, especially on something like 10.6.\n. http://pdb.finkproject.org/pdb/package.php/cmake\nHuh, wow, so it does. That's kinda crazy. But, we'll add instructions on using rsync source if needed. Gonna just close this out (And thanks for making the changes at least :) ).\n. In unstable\n. Duplicated by #141, closing\n. In unstable\n. In unstable.\n. In master\n. In unstable\n. In master\n. This apparently made it in elsewhere. Closing.\n. In master\n. Rejected: commit not signed off. Please read http://openkinect.org/wiki/Contributing_Code for more info on requirements for sign off, then resubmit.\n. Rejected: commit not signed off. Please read http://openkinect.org/wiki/Contributing_Code for more info on requirements for sign off, then resubmit.\n. In master\n. In unstable.\n. Ok, this is in unstable, but since I had to rebase it in, and there were conflicts, what is in unstable and here no longer match. You'll want to reset your unstable to look like ours, if you actually try to merge remote unstable into yours now, it's going to look very, very weird. If you have any questions, just contact me via email or IRC. I'll resolve this pull request once it goes to master.\n. Duplicates #155 (Pull requests update themselves, you don't have to make new ones)\n. In master\n. In master\n. Duplicates #155 (Pull requests update themselves, you don't have to make new ones)\n. In master\n. In master\n. In unstable branch\n. In master\n. In unstable branch, minus the windows fix, 'cause slomp already did it. \n. In unstable branch\n. In master\n. In unstable branch\n. I'll close it once it goes to master. Unfortunately we're way backed up on merging to master since the windows stuff came in, but I'm hoping to do that sometime in the next couple of days.\n. In master\n. In unstable\n. In master\n. Rejected, commit needs sign off (just do a \"git commit --amend -s\" and that'll add the signoff.)\n. Similar commit now in master, so closing this one out.\n. In master\n. In unstable\n. In master\n. In unstable\n. In the include directory.\n. These don't apply after other updates. Waiting for new patches.\n. Dupes #178\n. Rejected. Commit isn't signed off (check out the contributing code document at http://openkinect.org/wiki/Contributing_Code), and this breaks opencv < 2.2, which is what most people have at the moment. We need a FindOpenCV module that works with both versions.\n. In unstable for about 30 seconds, then just brought it right on in with the master merge tonight. \nWarning: Did a rebase which yanked the top 4 commits off the top of this, but also had a conflict. So, watch out for the result. As usual, if the prior sentence makes no sense, just hit me up on IRC or email and we'll get it worked out. :) \n. Can you split this into seperate commits? I'm happy to take the AS3 stuff, but we don't need the FindOpenCV/FindLibJpeg files (those come with cmake), and I'd like to fold the openCV changes into a different commit.\n. Yeah, it's being called incorrectly from cmake. It should just be FIND_PACKAGE(JPEG) (which calls the package included with Cmake), not FIND_PACKAGE(LibJpeg).\n. I can't rebase your changes up without conflicts. Can you rebase your changes up to the HEAD of unstable? That should clean up this commit list too.\n. Ok, we've gotta figure out where this should go, i.e. do we want a universal distortion fix in the library, or as an example. I'm gonna talk to the other maintainers about this one.\n. Cherry-picked  60787d9 into unstable\n. Merged to master, closing\n. In unstable\n. It's casting a shadow because you're in front of the projector. That's not a bug. That's physics. :)\n. Ah, so, what you're looking for there is what's called \"Registration\" (matching the two cameras together). The kinect doesn't do this on its own, you actually have to do the math for that yourself. Due to manufacturing processes, this can change per camera. If you check the mailing lists, there's a few different programs that will do calibration for you, and also a few generalized algorithms that will give you an \"almost\" good enough solution if you don't need it spot on.\n. Hey! The commit message needs a signoff before I can pull it. See our instructions at \nhttp://openkinect.org/wiki/Contributing_Code\nOther than that, everything looks good, will pull once the commit msg has the signoff. :)\n. Brought in via cherry picks, in unstable.\n. In unstable\n. Merged to master, closing\n. 4197cca and 84159b3 are missing signoffs. :( I'll bring it in after that's fixed up.\n. glew's not a standard package pretty much anywhere, and I'd rather not bring that in as a fix to something that's not even part of the library (glview was just a quick demo that's gotten stretched far, far beyond what it should've been). I think we've pretty much settled on this being broken in the opengl demo until someone writes something that will resize the textures into a pot texture. Rejecting, but thanks nonetheless. :)\n. So, a few things:\n- We don't take binaries into the repo, so the jar files need to be taken out\n- You commited a whole bunch of ~ autosave files. Those don't go in the repo.\n- Neither of the commits is signed off. Check out our contributing code page at http://openkinect.org/wiki/Contributing_Code\n- Most importantly, we'd like more of the wrapping to be done before we bring it into our main repo. Image support is pretty important since this is a camera library, and while wrapper maintenance is fine once things are integrated, we'd like to bring in full, finished projects on first merge.\nIf you can take care of those, submit another pull request and I'll look at bringing this in. But for now, rejected. Thanks for the work though. :)\n. Cherrypicked 5fdda06 into unstable\n. So, in another spectacular display of me not paying attention when integrating, I brought in the labview stuff to unstable but didn't realize there were DLLs in there. We don't keep compiled releases/libraries in the repo, as git doesn't deal well with that at /all/, and there's also a myriad of licensing issues. We just keep the code there, and will do binary releases elsewhere, either on the wiki or here. I'm gonna be doing another integration run here soon, and may need to rebase out the binaries. Code's fine, though.\n. Nice work! However, the commit needs a sign off (not something you did wrong with git, it's just part of our project policy). Check out the contributing code document at\nhttp://openkinect.org/wiki/Contributing_Code\nAnd let me know if you have any questions about getting this going. \n. Cherry-picked 128a566 into unstable\n. Cherry picked 27319a5 into unstable\n. In unstable\n. This doesn't seem to apply cleanly at all. Can you try bringing unstable from here back into your branch first?\n. Hey! THanks for the fixes, but we need you to sign off on the commit before we can bring it in. There's more information on this at \nhttp://openkinect.org/wiki/Contributing_Code\n. Ah, Mr. Sinclair, we meet again. :)\nSo, I just pushed some updates to the new API that seemed to cause conflicts your commit when I try to merge it to unstable. If you can bring this up to the top of our unstable branch, I'll bring it in.\n. In unstable.\n. In unstable. I had to rebase in to fix a conflict with radarsat's ffmpeg streaming. new functions had just been added int he same place, no big deal. But, that'll mean you'll need to work off the top of our unstable now.\n. Superceded by #215. Closing.\n. PS YOU'RE WELCOME.\n. ",
    "JoshBlake": "Hi jpgr87, thanks for submitting this. We'll take a look at this in the next day or so and get back to you if we have any questions.\n. As discussed on IRC, we will need to get the original authors Damien Douxchamps and Frederic Devernay to agree to the DCO before we can integrate this code. The alternatives to that are finding another implementation with a compatible license (both apache 2 and lgpl, or public domain equivalent) or else reimplementing the algorithm without using external code.\n. Pull request applied.\n. Pulled, thanks.\n. Closed.\n. Integration for pull request is in progress on this branch:\nhttps://github.com/JoshBlake/libfreenect/tree/zeph-win32\n. Since the libusbemu code is working we probably won't pull this code into the main repository. It will stick around on https://github.com/JoshBlake/libfreenect/tree/zeph-win32 in case we need it in the future.\n. In unstable\n. Pushed to unstable, thanks!\n. Integrated into unstable\n. Integrated into unstable\n. Integrated into unstable\n. Jumping in here -- @piedar the link provided in the issue simply suggests not using leading or trailing underscores, which the standard libraries may be using. It appears that 287bc2e removes all the header guards, not just the non-compliant one in loader.h, and uses #pragma once instead. \npragma once should work, but I don't think it is part of the standard, so this may be pendantic, this commit makes the codebase less standardized than before, which I don't think was @elfring's intention.\n. @piedar Fair enough. Just wanted to raise the issue, in case there was some issue for people who compile for embedded devices with lesser known compilers, but seems to be a de facto standard regardless. StackOverflow threads on this seems to vary from the pragmatic to the pedantic, but I agree it's cleaner. \n. The solution is somewhat technically complicated and we're still discussing the right way to approach it. For more information check the OpenKinect mailing list: https://groups.google.com/group/openkinect \n. @wizgrav Regarding Kinect 2, considering the improved sensors, I'm sure there will be demand for open source drivers for it. I agree that supporting that device, which uses entirely different technology, would be better suited as a separate driver project, or at least separatable component of libfreenect if there is sufficient overlap in API-layer stuff.\nFor now libfreenect itself should stay about the K4Xbox and closely related K4W sensors, and to the extent that there is a need/desire to add capri support that'd be fine too. OTOH, capri would already be well supported by OpenNI 2, so there may be less of a burning desire that there motivates people to work it out.\n. @wizgrav The rest of Kinect's functionality is useful in various contexts. The original vision of libfreenect was to make accessible all of the capabilities of the hardware and then let people figure out what they wanted to do with it. Implicit in that is not judging whether a capability would be useful or not, because we cannot predict what creative things people can come up with. (That's what led to the whole Kinect Hacks movement.)\nSpeaking practically, though, most people who do interactive projects (kiosks, games, etc.) with Kinect have switched to either OpenNI or Kinect for Windows SDK for the skeleton tracking. The tilt motor is primarily useful for some interactive scenarios, but more of a pain for mounting for embedded or robotics. Controlling the LED could be useful but is super minor. Best, if possible, to just stop it from blinking. \nThe microphone array could be useful for robotics, perhaps, and is useful for interactive scenarios, but there are legal and technical challenges to supporting the mic array. I believe libfreenect would also only be able to expose the raw mic channels, as the beam forming (mic array pointing) is a platform feature on Windows/Xbox. \nWhile keeping in mind the original vision, I would agree that the camera is the most important. If anyone felt the need or desire to figure out support for the motor/led/audio devices in a way that didn't have legal issues (i.e. without redistributing the firmware binary blob required to activate those) then that would be fine, but if no  one critically needs those, then not supporting them is fine. \nIf the question comes to whether to remove the already working LED/motor support for the original Kinect models -- maybe it'd be better to further discuss that as a different issue or on the mailing list.\n. Yes, upgrading libusb would be fine.\nNote though: Don't use libusb.org anymore. Use libusb.info. The libusb team\ndoesn't control libusb.org and the person who controls it isn't associated\nwith the project anymore.\nSee also migration and update notes about the libusbx and libusb merge and\nupdated URLs for code/web sites that I forwarded to the list on Jan 25th.\nJosh\nOn Sun, Feb 2, 2014 at 3:50 PM, Theodore Watson notifications@github.comwrote:\n\nAs of libusb 1.0.9, libusb supports Windows natively.\nWe should remove calls to libusbemu and use the same calls as we do on\nlinux / os x.\nBUILD_AUDIO is currently broken on Windows because libusbemu does not\nemulate all libusb functions. ( libusb_get_device an example of one ).\nSee:\nhttp://www.libusb.org/wiki/windows_backend\nI am happy to build the libs and submit a PR - just wanted to see if there\nwas any objections or reasons why this has not already been done.\nTheo\n\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/363\n.\n. Thanks for following up and submitting that. I know they're busy (like us\nall) but I got frustrated waiting and following up.\n\nJosh\nOn Thu, Dec 18, 2014 at 4:42 PM, Benn Snyder notifications@github.com\nwrote:\n\nI submitted https://github.com/libusb/libusb/issues/46 the patch to\nlibusb.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/405#issuecomment-67562011\n.\n. Let me look into whether MSFT would have issue with it, but I would presume the default is they would have issue.\n. @piedar Haha, no I didn't. But I think at this point @ofTheo is right. There isn't really a Kinect team anymore -- they're all now part of the larger Analog team that includes Hololens. I think libfreenect could include the audio firmware as long as the README etc. make it clear that binary blob is copyright (c) Microsoft and not subject to the OSS license. You may also consider whether the firmware binary should be in a separate repo and included via a submodule, which would keep this repository history pure in case the binary must be removed later. . \n",
    "mkalten": "Here are the basics:\nhttp://wiki.freegeek.org/index.php/Git_for_dummies\n. ",
    "neocsr": "In Mac OS X, this is the setup flow:  \n= source =\n$ mkdir kinect\n$ cd kinect\n$ git clone git://github.com/OpenKinect/libfreenect.git\n$ git clone git://git.libusb.org/libusb.git  \n= libusb =\nStarting from kinect directory\n$ cd libusb\n$ patch -p1 < ../libfreenect/platform/osx/libusb-osx-kinect.diff   \n\npatching file libusb/libusbi.h\npatching file libusb/os/darwin_usb.c\npatching file libusb/os/darwin_usb.h\npatch unexpectedly ends in middle of line\nHunk #2 succeeded at 147 with fuzz 1.    \n\n$ autogen.sh\n$ ./configure\n$ make\n$ make install  \n= libfreenect =\nStarting from kinect directory\n$ mkdir libfreenect/c/build\n$ cd libfreenect/c/build\n$ cmake ..\n$ make\n$ cd examples\n$ ./glview  \n\n...\nraw acceleration:  -33  797  -18  mks acceleration: -0.395140 9.543224 -0.21553\n...\n. \n",
    "zarvox": "I've figured out the first part and documented the commands at http://openkinect.org/wiki/Protocol_Documentation#Control_EP\nI have yet to test out minimum cycle time.\n. Looks to me like the streams are switched - the RGB stream is 1908 data bytes/packet, and the depth stream is 1748 data bytes/packet.  Perhaps stream 0x70 isn't always the depth stream?\n. We've found registers controlling a gamma correction curve.  There's also a register that looks like it affects exposure time, but we're as of yet unsure how values map to exposure times.\nDepending on how soon we get our first versioned release out the door, this functionality may or may not make it in to that release, but hopefully we'll have something along these lines soon.\nDocs are at http://openkinect.org/wiki/Protocol_Documentation#Color_CMOS_Camera_Register_Access if anyone else reading this wants to help out. :)\n. Thanks for your contribution!  I'm not in charge of merges, but a couple things that those who are will probably mention:\n1. We require sign-offs on each commit; see http://openkinect.org/wiki/Contributing_Code#Sign_your_work for details.\n2. Putting binaries in the git tree is generally frowned upon (OpenKinect.jar, libOpenKinect.so) - it's considered better to add only the bits that the end user won't be producing through the build system.  If you want to host a binary package/jar somewhere out of the git tree, though, I'm sure people would appreciate it. :)\nBest,\nDrew\n. I'm not in charge of merges, but I'll offer that pull requests need a sign-off for every commit.  See http://openkinect.org/wiki/Contributing_Code#Sign_your_work for more information.\n. If you look closely, the IR projector turns off during the brief hang.  It's possible that this is a safety feature - the laser projector is probably eye-safe at a decent distance, but without dispersal, it could potentially be dangerous, especially with eyes and glasses focusing the beams.\nIt'd be nice if someone can verify this behavior on an Xbox360, if nothing else, to show that it's not our problem.\n. Looks like it's done by setting register 0x0105 to 0.\nThe relevant pull request is issue #143.\n. Disable the IR/depth restart-on-dark \"feature\"\nThe Kinect cycles the IR projector when it can't find the IR pattern in\nthe image.  This causes the depth stream to hang during the restart,\nwhich is annoying.  This patch disables that feature.\nClosed by 1543f9357d3d7c2294835fd6a5b497b3f6517cc4.\nSigned-off-by: Drew Fisher <drew.m.fisher@gmail.com> (zarvox)\n. It looks like you missed taking out the dc1394 include in cameras.c, but that should be an easy fix.\n. Withdrawn to rework to match the API.\n. glview.c: Fix one of the causes of the \"everything's white\" bug.\nglColor4f should be passed values between 0 and 1.  Whereas drivers\nare also supposed to clamp this value, some ATI drivers and hardware\ndo not.  We should do this right, though, and pass 1.\nClosed by 966a9fe45979ceacb145ee93ba22239ac8fd71ae.\nSigned-off-by: Drew Fisher <drew.m.fisher@gmail.com>\n. Lots of excellent work!  A few changes I'd suggest:\n1. In the LED enum fixup: I see no reason to keep LED_BLINK_GREEN_2 in there.  Just have the enum skip that value, and remove the corresponding bit from glview/cppview.\n2. In libfreenect.h, line 62: \"Decompressed RGB mode (decompression done by libfreenect)\" - I'd rather that read \"Demosaiced RGB mode (demosaicing done by libfreenect)\"\n3. libfreenect.h lines 88-89: I'd rather that read \"packed\" than \"compressed\" - compressed might suggest that there's a fancy algorithm needed to decode; packed is the more precise term to use here.\n4. libfreenect.h line 143: say \"@param ctx Address of pointer to freenect context struct to allocate and initialize\" - this clears up who does the allocation of that opaque struct as well as explains why it's a pointer-to-pointer.\nThanks for drafting up the docs! :)\n. I'm closing this pull request, since it's going on 10 months old and is obviated by FREENECT_DEPTH_REGISTERED and the registration work in the unstable branch anyway.\n. Fixed by 9b533d4c0253e2af5bb0ac65e05ec1d155f09203.\nCan you (or qDot) close this issue?  Thanks!\n. After comments from Marcos Slomp, I've revised the new API.  This most recent patch uses that new C API and updates the c_sync, c++, and opencv bindings to the API as well.\nTODO: fix the rest of the bindings, which are absolutely conclusively broken.  Help (particularly on Python, since people seem to actually use it) would be much appreciated.\n-Drew\n. Okay, fixed up.\n. I've made note of (I think all) the changes needed to make this work with the new API, so hopefully this won't be hard.\n. Glad to hear you'll resubmit!\nAh, alas: the streams are not synchronized.  According to Hector Martin, they do shift relative to each other, so timestamping frames and doing some interpolation would probably make for the best results, lest the frames desync.\nNote that the callback function does receive a timestamp created by the Kinect camera itself, which has a value discussed in this thread [1].  Pick an arbitrary start time for your timestamp (say, the one in the first frame you get), and you can compute relative timestamps from there on.\n[1] - http://groups.google.com/group/openkinect/browse_thread/thread/75055a92c5eb350d/0a725af05a91ba93\n. They're further down in include/libfreenect.h.\nFor example, https://github.com/OpenKinect/libfreenect/blob/unstable/include/libfreenect.h#L452\n. Erm...this is the same single commit as last time.  Maybe you meant to request your unstable branch be pulled into unstable, rather than master into master?\nTry clicking on the OpenKinect:master and radarsat1:master boxes to change them to OpenKinect:unstable and radarsat1@unstable\n. Github's Markdown processor appears to have eaten important relevant details from your bug report, but I'm guessing that you wanted the include to read:\nor\nOne alternative solution would be to add   to your compiler include path, but I'm not sure which approach is considered best practice.  I think we'd have to restructure our git tree to accomplish the first suggestion, the second one seems less correct, and I'm somewhat used to doing the third, but it could be considered incorrect form for a library...not sure what the right thing to do here is. :/\nAlso, sorry for the ridiculously latent reply.\n. There's a little bit of churn do to declaration reordering, since now freenect_frame_mode contains freenect_{depth,video}_format and freenect_resolution, both of which were declared lower in the file.\n. In unstable\n. In unstable.  Thanks!\n. Thanks for all the work you've put into this functionality!  I've got a blocker that I'll need you to rework...\nIt appears that you're still working against the old API, which possibly explains why the diffstat has a rewrite of libfreenect.h, rather than simply additions as I expected.  If you take a look at git unstable, you should see the new API (notably, the removal of #defines like FREENECT_FRAME_PIX and moving instead to freenect_get_video_frame_mode() and the like).  Merging this commit straight-up would mean reverting to the old API, which I don't think I want to do.\nIf you can, please rebase your changes against git unstable, merge the two (preferring the new API where applicable), and resubmit.  If you push --force to github and clobber the old commit, I believe github will actually just update this pull request, so for convenience, you don't have to close/reopen this pull request.\nIf you need more guidance on how to cleanly merge your work, hit me up on IRC.\nI'll add line-item comments where I see other things that I might want revisited.\n. The answer is yes, although the means by which to adapt to your install differ if you're using the setup.py provided or if you're using the CMake installer to build the Python lib.\nIf you're using setup.py: add those include directories to the list of \"extra_compile_args\" in setup.py and the library folders (where the .dylib files are located) to the \"runtime_library_dirs\" list.\nIf you're using CMake: you can set the PYTHON_INCLUDE_DIR and LIBUSB_1_INCLUDE_DIR variables to get the includes right, and the PYTHON_LIBRARY and LIBUSB_1_LIBRARY to the appropriate .dylib files.  Check out the \"ccmake\" tool; these variables will only be visible if you toggle \"advanced mode\".\nHope that helps!\n. Great idea!  Before I can merge this, though, I need a sign-off in the commit, as described in http://openkinect.org/wiki/Contributing_Code#Sign_your_work\nPlease resubmit with a sign-off, and I'll merge this ASAP. :)\n. Okay, I botched this.  It should have gone into unstable rather than master, so I reset master and merged the patch into unstable.  It'll go into master when we sync the two next.\n. Ah, this is a long-standing issue.  It might be worth doing this for all platforms as well, but we should probably handle cancelled transfers differently from failed ones so that the freenect_stop_* functions still work, even when some of the transfers fail (otherwise we might leak transfers).\nIn an orthogonal comment, for us to merge the commit, it needs a sign-off: http://openkinect.org/wiki/Contributing_Code#Sign_your_work so please adjust and resubmit!\nThanks,\nDrew\n. Yes, we do need to add some proper handling of transfers that come back with some libusb error.  Rather than accumulate a pile of workarounds, I'd like to rework the transfers to correctly handle the differences between failed, cancelled, and active transfers, at which point I'd expect this to all work properly.\nAnd you're not alone: issue #227\n. Hmm, so we cancel the transfers, but they never come back as dead?  At first glance, that sounds like a libusb bug - we should be getting completed transfers with LIBUSB_TRANSFER_CANCELLED or LIBUSB_TRANSFER_NO_DEVICE.\nI'll try to reproduce this - you say this happens to the demos on OSX when you unplug the Kinect?\n. The latest updates in unstable plus the one that adds freenect_process_events_timeout() should hopefully clear up the issues you noted.\nIn addition, we now return -1 from freenect_process_events if any of the underlying devices in the specified context have disappeared.  The library knows which device vanished, but we're still trying to figure out a reasonably clean way to pass that up to the client.\n. Theoretically, we could expose this.  I'd prefer not to do so for several reasons:\n1) hflipping the IR stream messes up the depth stream (as you noted :) )\n2) hflipping the RGB stream messes up the bayer pattern, since the output image retains the same pixel order (but a true mirror would not).  To produce this mirrored RGB image, the Kinect has to break the image down into 2x2 blocks which it mirrors.  The upshot is a lower quality RGB image.\n3) hflipping the depth stream breaks the registration tables.\nIf you have a good justification or particular usecase for this feature, please reopen, and I'll be happy to reconsider.  Otherwise, I'm closing this feature request WONTFIX for the reasons listed above. :)\nThanks,\nDrew\n. In unstable.  Thanks for all the hard work you put into this!\n. I just put that last commit in unstable, so I'm closing this pull request.\nJust in time to make you open a new one for registration, right? ;)\n. Hmm, what kernel version does CentOS 5.6 have?  I've heard reports of similar issues from people using RHEL that too-old kernels have this issue - they were resolved by building a more recent kernel.\n. Closing this bug since there appears to be no further discussion.  Feel free to reopen if you have additional information we can use to track down your issue!\n. Thanks for your patch!  A couple comments:\n1. I can only merge commits that have a license sign-off in the git commit message, as described in http://openkinect.org/wiki/Contributing_Code#Sign_your_work\n2. if the patch is just supposed to fix setup.py, then we probably shouldn't have a thousand-line diff in the pregenerated freenect.c in the same commit (though it probably is a good idea to update the generated freenect.c in a separate commit).\nIf you could rework the commits with that in mind, I'll be happy to merge them.  Many thanks!\n. Hi!  Sorry it took me so long to follow up on this, but thanks so much for updating the ruby wrapper!\nI need one more thing before I can merge your commits to the repository: a sign-off indicating that you are legally able to contribute this code under the specified licenses, as described in http://openkinect.org/wiki/Contributing_Code#Sign_your_work .  Once I have the signoff, I'll merge these commits (either amended to propagate the signoff down into the individual commits, or squashing them into a single commit) into master.\nAgain: thanks!\n. It looks like marcan merged something that does the same thing into unstable today, so I'm closing the issue.  Thanks!\n. The Java wrapper has been updated to use the new API correctly in the unstable branch.\n. I just committed 371ee042664a8655ffb371f7ea34fa757d6298a4 to unstable which adds a freenect_process_events_timeout() call, which is equivalent to a nonblocking mode if you provide it with a zeroed timeval for timeout.  Hopefully this is a cleaner way to get what you were looking for. :)\n. Merged into unstable with a slight modification to correctly handle out-of-tree builds.  Thanks!\n. Merged into unstable via rebasing.  Thanks again!\n. That's odd.  All the commits here have been rebased into unstable and then merged into master, as of a while ago (see 4d3c5904fd92de462ce975086ba3f63ed3a20b5c and so forth).  I should have closed this pull request then; my apologies.\nCan you file a new bug report with some more information on what's broken in master?\n. Actually, I think the y values are still slightly off - 1280/640 is exactly 2, but, 1024/480 is 2.133333333.\nAn appropriate fix is in unstable now, though.  Thanks!\n. Thanks for the patches!  They are quite handy, but to merge them I need to be able to also build the underlying library without audio support (ie, for OSX or Windows), lest we completely break the Python wrapper on those OSes.  Additionally, I need each of your commits to be signed off as described here: http://openkinect.org/wiki/Contributing_Code#Sign_your_work .\nIf you can rework the patch to work correctly when no audio support exists in libfreenect and resubmit with signoffs, I'll figure out how to tweak it to merge atop unstable with marcan's recent python wrapper updates. :)\nAs for the cancelled channel: the noise cancelled data we receive from the Kinect is currently always silent.  I'm not entirely sure why, but it might have to do with the fact that we don't do a cryptographic handshake with the Kinect that the Xbox360 does (that I haven't yet found the time to reimplement).  Some time when I have a free weekend I'll take another look at this and see if I can find out anything else.\n. Short answer: sorry, no.  We don't support microphone access on any platform but Linux.  This is unlikely to change, unless someone takes it upon herself to write a kernel-mode driver for Windows and a new firmware for the device.\nWe don't have an audio firmware that works without additional drivers on Windows.  In fact, what little support there is for the microphones in libfreenect is only available under Linux, because it's the only platform the seems able to cope with the requirements placed on the USB isochronous transfers by the Xbox360 firmware.\nThe firmware in the Microsoft Research Kinect SDK requires a separate driver that's only available for Windows 7.\nWhat you're trying to do is not supported - not by us, not by Microsoft, and as far as I know, not by anybody.  KinectCam only provides access to the camera, not the microphones.\n. Awesome work!  I've rebased these commits atop the unstable branch and merged them (I'll close the pull request once I merge them to master).  Many thanks for fixing up the Java wrapper!\n. Oh right, I rebased this into unstable and then merged into master.  This is in master now; I just forgot to close the pull request when I merged unstable into master.  Thanks!\n. Awesome, thanks for the patches!  I'm glad to see people taking an interest in getting the Java wrapper back in working condition. :)\nAlso, thanks for learning git faster than I could comment on the previous pull requests. ;)\n. Merged to unstable.\nNice work adding support without breaking API; I'd forgotten that was possible. :)\n. It's true that on the surface, this is typically considered poor style for a pure C library.\nHowever, libfreenect is intended to be compatible with C++ as well.  In particular, libusbemu is actually C++, but needs to know about libfreenect internals to correctly reap the isochronous packets and present them under libusb-1.0's API.  Also, MSVC's C compiler only supports C89, which is annoying to limit ourselves to.\nTo accomplish this, we tell MSVC that the source is in fact C++ and place all the declarations inside an extern C block, so that the entire library can be compiled correctly as either C or C++.  This requires that we use explicit casts, as noted in your second link. :)\n. Huh, I'm completely mistaken.  My apologies.\nWith a bit of effort, I'm able to get everything to compile as C with MinGW.  Give me a while to verify that my patchset doesn't break the build on MSVC, and I'll switch to proper C style.\n. Good patch and writeup, and you're absolutely right about the pkg-config stuff.\nI need to test this on OSX and Windows to make sure I don't break the build there before I merge it.  It would be excellent if you could look into the question I noted above about libusb0.\nOnce those questions are resolved, I'll happily merge this. :)\nThanks,\nDrew\n. Cherry-picked into unstable: 3d735a89dfc380e8ff346a6815be2b54e4fafdfb and 8219750df3a13501626a7f7f54d24afb8e64ec3f\n. Cherry-picked into unstable: 416b2505d2d2c04d48bca68850ad22b9a69c8277\n. Hmm, these errors are coming from libusb-win32, but it's possible that we're doing something incorrectly in libusbemu (our libusb-win32 wrapper).  I'm not sure why, but it looks like libusb-win32 is failing to set configuration 1 on the device.  I'll see if I can reproduce this issue with a pair of Kinects myself.\n. I tested with two Kinects today on 64-bit Windows, and everything worked as expected - I was able to stream video and depth from two Kinects plugged into two different USB ports at the same time.\nIt's possible that you're trying to use two USB ports on the same root hub.  A single USB root hub does not actually have sufficient bandwidth to support two Kinects being used at once, and due to the way USB isochronous transfers work, the OS may make it impossible to set a configuration with endpoints that will be unable to allocate their full isochronous bandwidth.\nIt may be that you have multiple accessible root hubs on your P4 machine, but that the i5 machines have all accessible ports on the same root hub.\nTry figuring out which ports map to which root hubs, and only using one Kinect per root hub.\nClosing, since I'm pretty sure this isn't an issue in libfreenect, but rather with either libusb or hardware.\n. I'd guess you've probably run out of bandwidth on the USB bus.  Each Kinect basically has to be on its own USB root hub, since each Kinect consumes 20MB/sec of isochronous bandwidth, which the USB spec mandates must be guaranteed in whole or not at all.  If you can find out which physical USB ports map to which USB root hubs, try putting all the Kinects on separate root hubs.\nYou may need to add a PCI card with additional USB root hubs to be able to use additional Kinects.\nThis thread: http://groups.google.com/group/openkinect/browse_thread/thread/8690daad30dafeb7/053d5ae2320baa15 may offer more information.\nI can't speak for the wrappers, but if you can run the C examples (glview, etc) with all three Kinects at once, then I'd expect everything to work in the wrappers as well.\n. Rebased into unstable with minor cosmetic changes.  Thanks for the patches!\n. This is theoretically possible, but I wouldn't recommend it - to register the image, you have to convert the raw distance into millimeters, because the shift value depends on the distance, and the calibration values the Kinect itself contains reference values in millimeters.  Once you've gotten away from the raw 11bit value, it doesn't really make much sense to try to get back to it - there's no real-world units associated with it; millimeters fit in the same number of bytes, etc.  What are you trying to do that benefits from having raw 11-bit values, rather than millimeter values?\n. When you say \"error\" in the Kinect data, that assumes that there's some ground truth that you're comparing it to.  Since there's no explicit definition anywhere of what the raw 11bit data is supposed to be means, I'm still confused as to how this helps you.  You can measure millimeters, but there's no ground truth for what the 11bit raw data should be in any case.  The best you can do is measure libfreenect's error when using our raw-to-mm conversion (which is equivalent to OpenNI's, for the record).  Any ground truth that you'd compare against will be in real-world units, so it seems you'd have fewer conversions and less error introduced by using millimeters.  Or am I misunderstanding something?\nIt's true that the current API only lets you use one mode at a time.  If you want both the depth in mm and the registered depth in mm, try requesting the  FREENECT_DEPTH_11BIT_PACKED depth format and then using freenect_apply_depth_to_mm() and freenect_apply_reegistration() from libfreenect-registration.h to produce the unregistered and registered mm buffers, respectively.\n. Probably not a Unity 2D problem but a graphics card driver problem.  Which graphics card do you have, and which driver is it using?  Depending on the graphics card you have and what driver X is using, X may not support GLX.  Maybe you could install opencv and try the opencv demos?  Or perhaps I should write an example using Qt or something.\nThis is definitely not a bug in libfreenect, though.\n. No, libfreenect itself does not require GLX.  It's just that all of our examples use Glut/OpenGL to actually display things, so we can avoid doing software transforms (horizontal flip of the buffer) and avoid pulling in a dependency on a gargantuan native widget library like Qt or GTK.\nI find it unusual that the python wrapper is not working for you; it should be fine without any GLX support, since strictly speaking it's completely headless.  What's the nature of the undesirable misbehavior?\n. Glad to hear it!  I'll have to check out SimpleCV some time. :)\n. Brilliant.  I've committed the fix to unstable - 16afaf845eabb75c9dd4c0d77ed3330f85027af6\nThanks!  This actually explains why I had trouble building on Win32 myself.\n. The libfreenect package in Ubuntu is out of date (version 0.0.1, current release is 0.1.2, and we broke API at 0.1).  Try following the instructions at http://openkinect.org/wiki/Getting_Started#NeuroDebian_repository to get a more recent (ie, not 18-month-old) package.\nAlternately, you can uninstall the package from the distro and install from source.\n. I'd guess opencv changed the type of arguments they accept to cv.ShowImage.  I'd suggest you try doing exactly what the exception suggests: using fromarray() on the numpy array before passing it to cv.ShowImage().\nFor the record, you should probably file this bug against https://github.com/amiller/libfreenect-goodies , not libfreenect.\nHope that helps,\nDrew\n. While this is not currently supported, it's definitely on our roadmap!\nIn the meantime, there's a work-in-progress branch over at https://github.com/renewagner/libfreenect/tree/k4w-wip - there may be some API changes between what's there and what hits upstream, though, so be forewarned.\n. Sweet!  I'm actually planning to (gently) break API with the removal of freenect_select_subdevices in libfreenect-0.2 when I change how devices are enumerated and opened to add support for the Kinect for Windows and the Asus Xtion cameras, so it might even be all right to break API some more then, if it means the API is more consistent.\nTo merge your changes, though, I'll need you to sign off on your work - http://openkinect.org/wiki/Contributing_Code#Sign_your_work\n. Hi!  This looks great!  I'd love to pull it ASAP, so can you amend the commit to include a signoff, as described in http://openkinect.org/wiki/Contributing_Code#Sign_your_work ?   Thanks!\n. Cherry-picked fe4c13d into master.  Thanks again!\n. Merged as amended.  Thanks!\n. It's certainly possible to do it in software, but libfreenect is intended to be an image acquisition library more so than an image transformation library.  I'm under the impression that most people who aren't doing image transformations don't need hflip, and that most people who are can do it in a much more flexible way with the library of their choice.\nWhat sort of use case do you have where you want to mirror the image, but doing so in software (outside libfreenect) would be an unacceptable solution?\n. The sad fact here is that the combination of libusb, the Pi's underwhelming CPU, and the Pi's disappointing USB controller can't handle the data rate of the isochronous streams at the needed latency and without dropping too many packets, so no full frame is ever acquired.\nYou could try modifying the library to tolerate more dropped packets (see line 133 of src/cameras.c), but you're more likely to get corrupted data or frames with large swaths of missing data.\n. Actually, this may be possible using newer libusb features.  All of the Kinects have an internal USB hub, so to match subdevices within a single physical package, you might be able to simply check if their parent device is the same 4-port hub.\nhttp://libusb.sourceforge.net/api-1.0/group__dev.html#ga97bb4dfff6bbb897ed9dfd6fa1a1deed\nNote that I haven't actually tried this yet, but it seems like it might be a good way to cleanly group subdevices.\n. FWIW, I only ever bothered getting the audio stuff working on Linux, because shortly after I did, Microsoft released firmware for the audio device that makes it a standard USB Audio Class device, which is generally easier to work with on all platforms.\nI suggest using http://git.ao2.it/kinect-audio-setup.git/ to fetch firmware and upload the firmware to the kinect device, and then using the standard audio APIs for OSX to access the microphone data. :)\n. ",
    "imekinox": "OK!\n. I reviewed master's branch code and this should work on linux too.\n. Done, clean now :D\n. Uhmm :( I lost that file, I'll have to re-code it...\n. I added it, now it should be ready to be pulled :D\n. Thank you amiller, where can i see the latest version of the wrapper? I will need motor/led/accelerometer support. Using this wrapper makes the server work perfect. So if i can help in any way to speed up this process It will be great!\nGreetings.\nJC\n. I just switched to windows and noticed tiltdemo wasn't compiling in Visual C++ Express. Fixed it.\nCpp does not compile in windows too... sends some template errors... Can be avoided if unchecked from Cmake (both win and osx)\n. Hello qdot, Im trying to update the as3 wrapper to the latest unstable version.... I removed the FindOpenCV and FindLibJpeg files as you told they came with cmake, With OpenCV i have no problem but when I delete FindLibJpeg it does not compile claiming it doesn't find libjpeg... im on OSX though, maybe my cmake (2.8.5) does not has this file in the OSX version? If i add under cmake modules the file FindLibJpeg.cmake it does compile, any thoughts?\n. Cool thanks a lot, that worked :D I'll finish updating stuff tonight and run some tests before making the pull request. Thank you qdot!\n. ",
    "timn": "Will do. I will send a new pull requests for the new commits.\n. ",
    "ofTheo": "whoohoo - now os x doesn't have to feel like the slow kid in class :) \nthanks for digging into the libusb stuff. \n. Okay, doing a bit of a brain dump here. \nI've tried these changes and they do work in distinguishing devices ( thanks for the awesome work @wizgrav !) \nOn OS X I'm getting the same timeout issue however where the iso_callback in usb_libusb10.c stops getting called after a couple of seconds. \nIf I do a print out in the callback of the transfers coming in I see a lot coming in with 0 bytes. \n```\n        for (i=0; ipkts; i++) {\n            printf(\" actual v expected %i %i\\n\", xfer->iso_packet_desc[i].actual_length, xfer->iso_packet_desc[i].length); \n            strm->cb(strm->parent->parent, buf, xfer->iso_packet_desc[i].actual_length);\n            buf += strm->len;\n        }\nactual v expected 1760 2048\n actual v expected 472 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 0 2048\n actual v expected 1760 2048\n actual v expected 1760 2048\n actual v expected 1760 2048\n actual v expected 1760 2048\n```\nNote: if I change the depth packet size and color packet size to 1760 and 1920 so that actual v expected matches, it doesn't seem to make any difference to the 0 byte transfers or time it takes for the stream to stop. \nI've been rebuilding libusb ( latest Release Candidate - libusbx-1.0.16-rc1 which supposedly has the os x patch included  ) and playing with the timings of the frame in darwin_usb.c ( we had to play with this number the first time around ) \nLine 1547:  static int submit_iso_transfer(struct usbi_transfer *itransfer) \n/* schedule for a frame a little in the future */\n  frame += 4;\nIn this case playing with the frame increment doesn't seem to make a substantial difference. \nI'll always get 1-3 seconds of data and then nothing. \nHere is a bit of a link dump \nI've been digging through some stuff in relation to libusb darwin timings. \n- some notes on iso transfers http://lists.apple.com/archives/usb/2005/Nov/msg00063.html\n- we could try a lowlatency iso transfer see: http://lists.apple.com/archives/usb/2010/Aug/msg00006.html \n- an OpenKinect thread on this matter: https://groups.google.com/d/msg/openkinect/3z8-4xIUXf8/bDoDY0DieJ0J\n- docs for http://developer.apple.com/library/mac/#documentation/IOKit/Reference/IOUSBInterfaceInterface192_reference/translated_content/IOUSBInterfaceInterface192.html\nI'm going to keep trying things on my end - but thought I would share what I've found so far. \nI'm going to try and change libusb to use LowLatencyReadIsochPipeAsync instead of ReadIsochPipeAsync and see if that helps. \n. so I've found an interesting thing with model 1414 vs 1473 for OS X\nIf I don't call freenect_update_tilt_state for 1414 then I get a similar situation where the live data times out. \nIt behaves pretty similar to the model 1473 in this PR. \nHowever if for model 1473 I force the freenect_update_tilt_state even without the motor present then I can keep the livestream for the new Kinect going for 20-30 seconds by calling that command. \nuint8_t buf[10];\nint ret = fnusb_control(&dev->usb_cam, 0xC0, 0x32, 0x0, 0x0, buf, 10); //send the command to the camera device\ninstead of \nuint8_t buf[10];\nint ret = fnusb_control(&dev->usb_motor, 0xC0, 0x32, 0x0, 0x0, buf, 10);\nThis makes me think that if we could activate the motor/led for the 1473 it would solve the transfer issues. \nIn the meantime I wonder why this command could affect the camera/depth stream. \nedit: though I do get this\nUSB device disappeared, cancelling stream 82 :(\n. I see that disconnect, about every 20 seconds or so. \nDo you see the disconnect on Windows/Linux ? \nIf so it could be that the device does that until the LED is set.\nOn Xbox it wouldn't be a problem because the Xbox initializes the motor/led interface, but here as we are not trying to change the status it could be doing the disconnect as part of some sort of fallback routine ( ie: I'm connected but LED is not initialized, reboot in case there is a comms error ) \nUpdate: \nOkay so running usb prober while I run the Kinect with the freenect_update_tilt_state hack from above ( this keeps the Kinect running for 10x longer than without ), my timeouts occur exactly when the device disconnects from the system. This implies that if we can stop the Kinect from disconnecting then we can get a stable stream on OS X. \n. Thanks!\nI think it could be really helpful to know if the disconnects are happening on Windows or Linux with either K4W or 1473. \nIf they are happening when libfreenect is not running, but stop when it is running then it gives hope that there is something we can do on OS X to prevent the disconnect.  \nIf there is no disconnect however, then it seems like a higher level bug with OS X and usb. \n. @wizgrav did you get a chance to see if you get the disconnect issue in linux with the K4W or 1473 device?\n. 1473 doesn't work for me on OS X - it runs for 30-50 seconds and then freezes in the same way as described by @willkelleher \n@wizgrav It might be the person you spoke with had only done a quick test and didn't let it run for more than 20 seconds.\nThis PR should still be merged in though, its a clean PR and there is no reason win/nix users should be held back from using these two devices. \n. This could be a 10.6 vs 10.8 issue, where in the newer 10.8 the disconnect bug is fixed at the system level. Going to test today, will report back. \n. @willkelleher - I just connected it to my 10.8.4 iMac and I don't see the disconnect in USB Prober. What version of 10.8 are you on? \nI still see this in the console, but I am not seeing the device getting lost in the USB Prober app \n7/11/13 3:02:07.000 PM kernel[0]: USBF: 46064.948   [0xffffff8017dbec00] The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0x1d130000)\n. So even on 10.8 I see disconnects 30-40 seconds in when running ofxKinect ( with these PR changes ) \nhere is my ofxKinect PR with the changes from this PR - so I can easily test. \nhttps://github.com/ofTheo/ofxKinect/pull/120\nI have to add this line in to tilt.c to get the device to stay open for longer:\nhttps://github.com/ofTheo/ofxKinect/pull/120/files#L8R55\nWithout it I only get 2-4 seconds of data. \n@willkelleher - did you ever plug your Kinect into the xbox and do the firmware update? I'm wondering if thats the cause of some devices working fine in OS X and some not. \n. okay pretty big discovery ( at least for OS X users ) \nbrand new Kinect 1473 works without freeze/disconnect. \na previous Kinect 1473 which had been failing, had been plugged into the xbox and had received some sort of firmware update. \nSo..... it could be simply that the firmware update breaks the kinect on OS X ( possibly win/nix too it just might be that the people with these platforms haven't done the firmware update ). \nI'm getting a nice message in the console now too ( note the second line ):\n7/13/13 6:33:02.000 PM kernel[0]: USBF: 8448.790    [0xffffff804b61bc00] The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0x1a120000)\n7/13/13 6:33:02.000 PM kernel[0]: USBF: 8449.537    [0xffffff804b61bc00] The IOUSBFamily has successfully enumerated the device.\n. @wizgraf can I send you a small PR to this branch with an OS X fix? Its something needed for ofxKinect. \nPS: a 1473 device which doesn't work on OS X, works fine on windows. So that's a relief. \nSent from my iPhone\n\nOn Jul 16, 2013, at 12:57 PM, Benn Snyder notifications@github.com wrote:\n@wizgrav I'd like to merge this branch into unstable, but it doesn't meet all of the project's requirements. Could you please do the following to make sure everything is clean and proper?\n1) Start an interactive rebase\ngit rebase -i\n2) Change the first commit from pick to reword and replace the commit message with a description of the overall changes. Also, add a line following this template: Signed-off-by: Random J Developer random@developer.example.org (optional-pseudonym).\n3) Change all your other commits from pick to squash.\n4) Force your rebase up to your master branch so it will be reflected here on github.\ngit push -f origin master\n\u2014\nReply to this email directly or view it on GitHub.\n. @wizgraf\nThe command is essential for all OS X devices. Both old model and new model. Without it all devices don't work. We only noticed it now as this PR doesn't make those calls. \n\nHappy to do as sep PR though. \nMaybe we can find a more elegant solution? \nSent from my iPhone\n\nOn Jul 16, 2013, at 2:47 PM, Yannis Gravezas notifications@github.com wrote:\n@ofTheo well I checked out your repo and from what I understand your PR is about sending arbitrary usb commands to the cam device to keep the connection alive. I've come to think that, for some reason, the usb stack on macosx is resseting the usb connection. Even though this seems to be a macosx and/or libusb issue a workaround would be most welcome in this case. If your fix deals with the problem in a definite way then I guess that it's ok and we could wrap it in an ifdef on mac. But if it just postpones the inevitable for half a minute or so then I really should prefer to leave it open as an issue and try to find a better workaround. I would really appreciate the opinion of @piedar on that as well, so I can perform the steps he suggested\n@danomatika well 40 fps seem like an upgrade actually ;) I'm sure there was some kind of error on the calculations though but then again I have the old kinect so maybe I'm wrong\n\u2014\nReply to this email directly or view it on GitHub.\n. try our version of libfreenect - \nthe issue you mention of the kinect being plugged into the xbox and getting the update is the same as my experience.\nI have two 1473 devices - one which was plugged into a kinect and one which wasn't - the one that wasn't works fine with this release of OF / libfreenect. \nThe kinect which was updated has the same shutdown issue on OS X. \n\nhttp://www.openframeworks.cc/versions/v0.8.0/of_v0.8.0_osx_release.zip\n\nTheo Watson\nhttp://theowatson.com \nhttp://openframeworks.cc\nOn Nov 26, 2013, at 1:54 AM, soni991 notifications@github.com wrote:\n\nok friends here is the Update.\nWhen i got my First Kinect 3 days back i asked the shop keeper to show me if the kinect is working and thereby he connected it with xbox to show me (cause i don't know it would be this complicated later on to connect with mac once it is connected with xbox). after that i tried to connect with mac Maverick and as above you see the issue i mentioned. Now today i went back to the shop keeper and the first thing i said to her is give me new once (exchange ) without testing on xbox. U know what !! i connect with my mac and first thing i noticed in system profiler was that it is reading properly the device. Second i opened terminal it is working fine without disconnecting and third i found was the green light blink on the Kinect is 3 times per 2 sec which was previously with old kinect 1 time every second. So I would suggest those who have the Kinect connected with xbox would have issue connecting with the Mac. First difference you would notice is the serial on the System profile w ould be stated with 00000. so it proves that the mac is unable to configure your kinect.\nnow the only issue i am facing is something to do with my system permission that is Can't open input server /Users/shy/Library/InputManagers/LiveDict_temporary.\ndo any one know who to fix this !!\n\u2014\nReply to this email directly or view it on GitHub.\n. I have submitted a PR which fixes the remaining disconnection issues for 1473 devices. \n\nThe PR contains code which sets the LED for 1473 and K4W devices - setting the LED seems to stop the disconnections. \nPR is here: https://github.com/OpenKinect/libfreenect/pull/361\n. okay - I think I have found a solution. \nI had a Kinect 1473 working fine with the current libfreenect. \nI connected it to an xbox and afterwards got the timeout issues people have mentioned.\nI can now get rid of the timeout issue by uploading the audios.bin audio firmware, this allows the LED to be set.\nOnce the LED is set on I don't get the timeout. \nI am posting my work in progress code here:\nhttps://github.com/ofTheo/Kinect1473\nIts designed to work with the OF 008 release. \nYou'll need to uncomment https://github.com/ofTheo/Kinect1473/blob/master/kinectExample1473/src/testApp.cpp#L11\nThe first time it runs.\n. @samuelpfchoi @kiwox Try downloading the files from PR #362 \n( https://github.com/ofTheo/libfreenect/tree/feature-k4w-1473-tilt-led ) \nYou'll need to add keep_alive.c and keep_alive.h to your project. \n. Ah yes, I noticed this as well when I was working on the motor stuff. \nI guess the proper way would be to mimic what the sdk does and get the serial no via some special call. \n\nOn Feb 11, 2014, at 11:28 PM, Benn Snyder notifications@github.com wrote:\nI never found a way to reliably differentiate two Kinects on different ports of the same bus. Without knowing that, you can't say for sure which Camera goes with which Audio.\nYou could assume that the first Camera on some bus goes with the first Audio and so on. This would work in most situations, but would be unreliable if multiple Kinects are plugged into the same bus in quick succession.\n\u2014\nReply to this email directly or view it on GitHub.\n. I sort of feel for now that sticking with the Kinect devices is a better way to go. \nOnce we have full parity across k4w, 1473 and 1414 - then it could be a good time to look at expanding. \n\nBut getting that parity first would be amazing! :) \nI also have a K4W device coming in a couple of days. \nI got @zarvox's Tilt and LED for 1473 working really well today and integrated into libfreenect with audio firmware loading from memory:\nhttps://github.com/openframeworks/openFrameworks/pull/2778\nOnce I have the K4W device I'll test for compatibility and submit a PR to this repo. \nIt seems really close! \nThis PR though is really needed for OS X and 1473. \n. @wizgrav - I got a K4W device and had to do a few fixes but now its working great! \nI made a more comprehensive PR ( #362 ) which also allows for the motor/led/accel control on K4W and better checking for device type. \nThat PR also has the keep_alive code which fixes #340 and #316.\nSo I am going to close this PR and encourage @zarvox to merge #362 :) \nIf you are able to test #362 on Win or Nix it would be most appreciated. \nThanks!!\nTheo \n. Need to add keep_alive.c to your build. It looks like it's not being added. \n:)\nSent from my iPhone\n\nOn Feb 4, 2014, at 11:08 AM, spie0092 notifications@github.com wrote:\nHey Theo. Thanks for all of your work on this. I have tried to get this to work every which way, with no luck... upon the make command, it builds about 25%, then I get this error:\nLinking C shared library ../lib/libfreenect.dylib\nUndefined symbols for architecture x86_64:\n  \"_freenect_extra_keep_alive\", referenced from:\n      _fnusb_open_subdevices in usb_libusb10.c.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: * [lib/libfreenect.0.3.0.dylib] Error 1\nmake[1]: * [src/CMakeFiles/freenect.dir/all] Error 2\nmake: *** [all] Error 2\nAny suggestions? Same error on two different machines:\nMacbook Pro (15-inch, Mid 2010)\nOSX 10.9\n2.66 GHz Intel Core i7\n8 GB 1067 DDR3\nNVIDIA GeForce GT 330M 512 MB\nMacbook Pro (Retina, 15-inch, Late 2013)\nOSX 10.9.1\n2.6 GHz Intel Core i7\n16GB 1600 MHz DDR3\nNVIDIA GeForce GT 750M 2048 MB\n\u2014\nReply to this email directly or view it on GitHub.\n. It might be that you need to add the files to the cmake build files. \n\nI don't have a lot of experience with cmake, hence why I didn't make changes in this pr. \nLooks like editing CMakeLists.txt in src/ will so the trick. Adding keep_alive.c after core.c in both places. \nI can update this PR later with these changes but it should be easy enough to do. \nSent from my iPhone\n\nOn Feb 4, 2014, at 11:39 AM, spie0092 notifications@github.com wrote:\nI do have it included in the \"src\" folder, of the main root (I downloaded your \"feature-k4w...\" repository and am building from that). Do I need to manually place it in the build folder as well?\nSorry for my unintelligent line of questioning. I am new to this, and it's been quite a struggle...\n\u2014\nReply to this email directly or view it on GitHub.\n. thanks @piedar - sounds good! \n. hi @TihomRis \nfor 1473 you need a newer firmware blob than the one that used to be provided by the script. \nfor tilt, led, accel on 1473 you need to extract the audios.bin firmware from the Dec 2013 Xbox System Update SystemUpdate_16547_USB.zip, using py360\n\nyou are probably using the older audios.bin which does audio but does not enable tilt or accel controls \n. If you have model 1473 Kinect you will need to upload the audio firmware to the device on startup. \nThe easiest way to do this is by grabbing these files: https://github.com/openframeworks/openFrameworks/tree/master/addons/ofxKinect/src/extra\nand call:\nfreenect_set_fw_address_nui(kinectContext, ofxKinectExtras::getFWData1473(), ofxKinectExtras::getFWSize1473());\nfreenect_set_fw_address_k4w(kinectContext, ofxKinectExtras::getFWDatak4w(), ofxKinectExtras::getFWSizek4w());\nafter freenect_init \nThe motor controls for 1473 are done via the audio device. So once this firmware is uploaded you can do normal motor and led controls as with the older 1414 Kinect. \n. Hmm if I add: \nwrite_register(dev, 0x0115, 0x00); // stop depth stream\nwrite_register(dev, 0x0117, 0x00); // stop depth stream\nTo freenect_stop_depth(freenect_device *dev)\nThe IR projector turns off and works as expected. \nHowever I can't get the depth stream to start on next launch without unplugging the device. \nI tried setting the two registers back to their default values - but this doesn't seem to make a difference. \n. nothing usable yet! \nI am able to turn it off, but the register does much more harm than good ( need to power cycle kinect to get it to respond to commands after that ) \n. pinging @zarvox - do you happen to have a log of K4W shutdown? \nI think we probably just need an extra write_register call to get the IR projector to turn off. \n. Okay, things I have noticed so far. \n- tilting the device programmatically disables programatic control of the IR projector \n- the IR projector works fine for turning on and off even with audio firmware being uploaded, but we lose control as soon as the first call to freenect_set_tilt_degs_alt happens in tilt.c \n- the command to start and stop the depth stream, still works but the projector stays on ( i.e.: the depth steam stops coming in but the projector stays on ). When the device has not been tilted, the projector is coupled to the start/stop depth steam calls. \n- reading the camera register values shows no difference in values between audio fw upload and no upload, tilting and no tilting, startup and shutdown. This implies that the call to tilt the device is not disabling the projector control via a register value. \n- so if a value is being changed it would probably be in the audio device\n- the current libfreenect is not able to read/write register values to the audio device so I can't currently tell if any values are changing. \nwhat would be really helpful to figuring this issue out is either\n- the ability to read the audio device registry \n- a dump of the K4W shutdown process, where they must be sending some command to turn off the IR projector \nping @zarvox @piedar @JoshBlake \n. Maybe it could be included but later removed if Microsoft requests it? \nFor what its worth its been in OF for the last 3+ years\n\nOn Oct 10, 2017, at 10:38 AM, piedar notifications@github.com wrote:\n@JoshBlake Did you ever hear back on this? Missing firmware is still the number one source of bug reports.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. This might be helpful for you: https://github.com/openframeworks/openFrameworks/tree/master/addons/ofxKinect/src/extra\n\nThere is a function in libfreenect to load the firmware via a memory address. The files above have the firmware as a function. \n. all you should need to do is call: \nfreenect_set_fw_address_nui(kinectContext, ofxKinectExtras::getFWData1473(), ofxKinectExtras::getFWSize1473());\n    freenect_set_fw_address_k4w(kinectContext, ofxKinectExtras::getFWDatak4w(), ofxKinectExtras::getFWSizek4w());\nimmediately after freenect_init  \nyou would need to include ofxKinectExtras.h and .cpp and ( which I posted a link above ) and pass in the context to both functions as the first argument. \n. @piedar - yeah would be good to test with different setups.  I tested it quite heavily on OS X and nothing in the changes should be platform specific, but would be good to try it out on other setups. \n. thanks @piedar good to hear! \napologies about forgetting the sign off :) \nShould be good now. \n. ",
    "arnebe": "Of course, feel free to change the maintainer name ;)\n. #! /bin/sh\ngit log | grep Author | sed -e 's/Author://g' > /tmp/authorfile\nsort -u /tmp/authorfile > CONTRIB\n. ",
    "evilfred": "The only place I could find it is the 1.0.8 tarball from here: http://sourceforge.net/projects/libusb/ I couldn't find a live repository on the net.\n. ",
    "amiller": "This conditional was already added and fixes the problem:\nhttps://github.com/OpenKinect/libfreenect/commit/3ea69a0686833427ab289461647a8994c2d1263e#diff-0\n. Per qdot's request, RGB color alignment is now added.\n. imekinox, you'll have to update your code to use the new version of the c-sync wrappers. Not a whole lot has changed to how you use them, but sync_get_rgb has changed to sync_get_video, you have to provide an index (for multiple kinects) and you need to specify the video type from an enum in libfreenect.h. \nWe will add accelerometer support shortly, I'll make sure you get brandyn's newest version ahead of time so you can get this in on the next pull request. Let me or brandyn know if you have any questions about the changes\n. Use brandyn's repository (master branch) to see the newest c_sync bindings that are being merged tonight. https://github.com/bwhite/libfreenect\n. ",
    "seannicholls": "URL is broken\n. Double Post, sorry.\n. I deleted all repos and pulled down the latest version, also merging new changes to my fork, still getting this error.\nSince I use my osx-setup.sh script, the latest version of libusb is grabbed, patched and installed by default.\n. NVIDIA GeForce GT 120. Heres some other details in case it helps:\nModel Name: Mac Pro\n  Model Identifier: MacPro4,1\n  Processor Name:   Quad-Core Intel Xeon\n  Processor Speed:  2.26 GHz\n  Number Of Processors: 2\n  Total Number Of Cores:    8\n  L2 Cache (per core):  256 KB\n  L3 Cache (per processor): 8 MB\n  Memory:   8 GB\nNVIDIA GeForce GT 120:\nMac OSX 10.6.5\n. ",
    "mmwise": "this is a duplicate of https://github.com/OpenKinect/libfreenect/issues#issue/30 \n. ",
    "dsvensson": "$ examples/glview\nKinect camera test\nCreating EP 82 transfer #0\nCreating EP 82 transfer #1\nCreating EP 82 transfer #2\nCreating EP 82 transfer #3\nCreating EP 82 transfer #4\nCreating EP 82 transfer #5\nCreating EP 82 transfer #6\nCreating EP 82 transfer #7\nCreating EP 82 transfer #8\nCreating EP 82 transfer #9\nCreating EP 82 transfer #10\nCreating EP 82 transfer #11\nCreating EP 82 transfer #12\nCreating EP 82 transfer #13\nCreating EP 82 transfer #14\nCreating EP 82 transfer #15\nGL thread\nFirst xfer: -9\nCTL CMD 0003 1267 = 12\n[Stream 70] Invalid magic ffff\nCTL RES = 10\nCTL CMD 0003 1268 = 12\nCTL RES = 10\nCTL CMD 0003 1269 = 12\nCTL RES = 10\nCTL CMD 0003 126a = 12\nCTL RES = 10\nCTL CMD 0003 126b = 12\nCTL RES = 10\nCTL CMD 0003 126e = 12\nCTL RES = 10\nCTL CMD 0003 126f = 12\nCTL RES = 10\nCTL CMD 0003 1270 = 12\nCTL RES = 10\nCTL CMD 0003 1271 = 12\nCTL RES = 10\nCTL CMD 0003 1272 = 12\nCTL RES = 10\nCTL CMD 0003 1273 = 12\nCTL RES = 10\nCTL CMD 0003 1274 = 12\nCTL RES = 10\nCTL CMD 0003 1275 = 12\nCTL RES = 10\nCTL CMD 0003 1276 = 12\nCTL RES = 10\nCTL CMD 0003 1277 = 12\nCTL RES = 10\nCTL CMD 0003 1278 = 12\nCTL RES = 10\nCTL CMD 0003 1279 = 12\nGOT DEPTH FRAME 242/242 packets arrived, TS 00262124\nCTL RES = 10\nCTL CMD 0003 127a = 12\nCTL RES = 10\nCTL CMD 0003 127b = 12\nCTL RES = 10\nCTL CMD 0003 127c = 12\nCTL RES = 10\nCTL CMD 0003 127d = 12\nGOT DEPTH FRAME 242/242 packets arrived, TS 0044ae0f\n[Stream 70] Expected 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic f449\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic b877\n[Stream 70] Invalid magic fbbf\n[Stream 70] Invalid magic 2524\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 690d\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 244 packets\n[Stream 70] lost too many packets, resyncing...\nGOT DEPTH FRAME 242/242 packets arrived, TS 0081c7e5\nGOT DEPTH FRAME 242/242 packets arrived, TS 00a054d0\n[Stream 70] Expected 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 244 packets\n[Stream 70] lost too many packets, resyncing...\nGOT DEPTH FRAME 242/242 packets arrived, TS 00dd6ea6\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 246 packets\n[Stream 70] lost too many packets, resyncing...\nCTL RES = 10\nCTL CMD 0003 127e = 12\nCTL RES = 10\nCTL CMD 0003 127f = 12\nCTL RES = 10\nCTL CMD 0003 1280 = 12\nGOT DEPTH FRAME 242/242 packets arrived, TS 011a887c\nGOT DEPTH FRAME 242/242 packets arrived, TS 01391567\nCTL RES = 10\nGOT DEPTH FRAME 242/242 packets arrived, TS 0157a252\nCTL CMD 0003 1281 = 12\nCTL RES = 10\nCTL CMD 0003 1282 = 12\nCTL RES = 10\nCTL CMD 0003 1283 = 12\n[Stream 70] Expected 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic f4de\n[Stream 70] Invalid magic 786f\n[Stream 70] Invalid magic 04c0\n[Stream 70] Invalid magic 4048\n[Stream 70] Invalid magic 2404\n[Stream 70] Invalid magic e25d\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 9e13\n[Stream 70] Invalid magic 712e\n[Stream 70] Invalid magic 8e91\n[Stream 70] lost 244 packets\n[Stream 70] lost too many packets, resyncing...\nGOT DEPTH FRAME 242/242 packets arrived, TS 0194bc28\nGOT DEPTH FRAME 242/242 packets arrived, TS 01b34913\nGOT DEPTH FRAME 242/242 packets arrived, TS 01d1d5fe\nGOT DEPTH FRAME 242/242 packets arrived, TS 01f062e9\nGOT DEPTH FRAME 242/242 packets arrived, TS 020eefd4\nGOT DEPTH FRAME 242/242 packets arrived, TS 022d7cbf\n[Stream 70] Expected 1748 data bytes, but got only 948\n[Stream 70] Invalid magic e23c\n[Stream 70] Invalid magic 78ff\n[Stream 70] Invalid magic 77ff\n[Stream 70] Invalid magic 78ff\n[Stream 70] lost 249 packets\n[Stream 70] lost too many packets, resyncing...\n[Stream 70] Invalid magic 77ff\n[Stream 70] Invalid magic 77ff\n[Stream 70] Invalid magic c4d8\n[Stream 70] Invalid magic 79ff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 79ff\n[Stream 70] Invalid magic 4969\n[Stream 70] Invalid magic 78ff\n[Stream 70] Invalid magic 2945\nGOT DEPTH FRAME 242/242 packets arrived, TS 026a9695\nGOT DEPTH FRAME 242/242 packets arrived, TS 02892380\nCTL RES = 10\nCTL CMD 0003 1284 = 12\nCTL RES = 10\nCreating EP 81 transfer #0\nCreating EP 81 transfer #1\nCreating EP 81 transfer #2\nCreating EP 81 transfer #3\nCreating EP 81 transfer #4\nCreating EP 81 transfer #5\nCreating EP 81 transfer #6\nCreating EP 81 transfer #7\nCreating EP 81 transfer #8\nCreating EP 81 transfer #9\nCreating EP 81 transfer #10\nCreating EP 81 transfer #11\nCreating EP 81 transfer #12\nCreating EP 81 transfer #13\nCreating EP 81 transfer #14\nCreating EP 81 transfer #15\n[Stream 80] Invalid magic 0101\n[Stream 80] lost 255 packets\n[Stream 80] lost too many packets, resyncing...\nGOT DEPTH FRAME 242/242 packets arrived, TS 02a7b06b\nGOT DEPTH FRAME 242/242 packets arrived, TS 02c63d56\nGOT DEPTH FRAME 242/242 packets arrived, TS 02e4ca41\nGOT DEPTH FRAME 242/242 packets arrived, TS 0303572c\n[Stream 70] Expected 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic e27c\n[Stream 70] Invalid magic 3b27\n[Stream 70] Invalid magic 1dfb\n[Stream 70] Invalid magic f1be\n[Stream 70] Invalid magic f11e\n[Stream 70] Invalid magic fffd\n[Stream 70] Invalid magic e29c\n[Stream 70] Invalid magic 4dc9\n[Stream 70] Invalid magic d778\n[Stream 70] Invalid magic 77ff\n[Stream 70] lost 244 packets\n[Stream 70] lost too many packets, resyncing...\nGOT RGB FRAME 162/162 packets arrived, TS 0321edc6\nGOT DEPTH FRAME 242/242 packets arrived, TS 03407102\nGOT DEPTH FRAME 242/242 packets arrived, TS 035efded\nGOT RGB FRAME 162/162 packets arrived, TS 0375cd5b\nGOT DEPTH FRAME 242/242 packets arrived, TS 037d8ad8\nGOT DEPTH FRAME 242/242 packets arrived, TS 039c17c3\n[Stream 80] Invalid magic 0338\n[Stream 80] Invalid magic 0103\n[Stream 80] Invalid magic 357f\n[Stream 80] lost 250 packets\n[Stream 80] lost too many packets, resyncing...\n[Stream 80] Invalid magic 296b\n[Stream 80] Invalid magic 0417\nGOT DEPTH FRAME 242/242 packets arrived, TS 03baa4ae\nGOT DEPTH FRAME 242/242 packets arrived, TS 03d93199\n[Stream 70] Expected 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 254 packets\n[Stream 70] lost too many packets, resyncing...\n[Stream 70] Invalid magic 1e43\n[Stream 70] Invalid magic ef21\n[Stream 70] Invalid magic 43c8\n[Stream 70] Invalid magic e3bc\n[Stream 70] Invalid magic 2744\nGOT RGB FRAME 162/162 packets arrived, TS 0415f4a5\nGOT DEPTH FRAME 242/242 packets arrived, TS 0434d85a\n[Stream 80] Invalid magic 75d2\n[Stream 80] Invalid magic 1853\n[Stream 80] Invalid magic f7fe\n[Stream 80] lost 253 packets\n[Stream 80] lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 245 packets\n[Stream 70] lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\nGOT DEPTH FRAME 242/242 packets arrived, TS 0471f230\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] lost 247 packets\n[Stream 70] lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 80] Invalid magic 0232\n[Stream 80] Invalid magic 020f\n[Stream 80] lost 254 packets\n[Stream 80] lost too many packets, resyncing...\n[Stream 80] Invalid magic 0101\n[Stream 80] Invalid magic 0b21\n[Stream 80] Invalid magic 1f6e\nGOT DEPTH FRAME 242/242 packets arrived, TS 04af0c06\n-- done!\n. Problem is that it never settles for me, unless sometimes when the phase of the moon is just right.. it settles, and then both streams are played back att full fps.. this has however only happened once.. but lasted for maybe 5 minutes or so until i restarted the glview test program and have never seen it working since.\n. ",
    "mrenouf": "FWIW: I see similar output until things settle at about +1s after launching glview.\nI think what might be useful is some dropped frame detection and some options, if there is not enough CPU to some ops, you should be able to tune the usage to your liking (prettier frames, vs. smoother output).\n. xxx\n. ignore\n. Ok, I'm also looking at 'indent' now because astyle seems limited in it's handling of header files. Tthe one thing I can't find in any of them is the option to strip spaces around operators. The original source has a lot of \"if(a>2&&b<3){\". I would argue this is better as \"if (a<2 && b< 3) {\" or even \"if (a < 2 && b < 3) {\".\n. All efforts are appreciated and I don't mean to compete but my interest is in ease of build, deployment and maintenance. \nWith that in mind, I've contributed a Java wrapper using JNA which does not require any additional native code. It loads the the freenect library and binds directly to it. \nInitial tests show full speed performance with frame delivery of both depth and video channels but more testing is needed on other systems (my workstation is not exactly \"average\"). \n. Unless there is a huge performance problem with JNA, I don't understand why both would be necessary. Also the issues mentioned in this pull request need to be addressed. The JNI version is harder to maintain because the changes have to happen in two places. It also introduces a second native library dependency.\nI'm certainly not going to maintain both.\n. Yep. Looks like they were accidently re-added.\n. You should be able to merge this pull request into a new branch on your side. It's all in wrappers/java and using maven you should be able to simply \"mvn package\" to produce a JAR. There's no unit tests yet, I'm working on that now... they will require a Kinect be attached for most of the tests but a fake stub could be used such as brandyn's fakenect. I'm mostly interested in knowing if the .dynlib is correctly located and loaded by the JNA stuff from the standard install location of libfreenect on OSX (whatever the Mac equivalent of /usr/lib is?). If so, we're in great shape. \n. Ok. I fixed my bug in setLogHandler, and I've now included some tests that verify basic operation.\n. I wrote the JNA wrapper, but I really don't have time to maintain this\nright now :-(\nOn Sat, Dec 10, 2011 at 11:49 PM, ghbright\nreply@reply.github.com\nwrote:\n\nIs there someone who is still updating this?\nI got error running the JNATest.java :\nfreenect_set_video_mode: freenect_frame_mode provided is invalid\nfreenect_set_depth_mode: freenect_frame_mode provided is invalid\nI am wondering if the VideoFormat and DepthFormat is outdated already?\nany thoughts on how to make this work?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/OpenKinect/libfreenect/pull/131#issuecomment-3095653\n. Seems people would like to see this merged... need any help?\n. \n",
    "marcan": "Reading through the USB spec, 2- or 3-packet bundles for a high-speed high-bandwidth isochronous endpoint are tagged with DATA0, DATA1, DATA2 packet types. In other words, the host controller knows exactly what order to deliver the packets in. If libfreenect is getting the transaction halves out of order then this is definitely a USB stack bug (hardware, driver, or libusb).\n. We could provide an interface that hands over the iso packets as they come in, after header parsing and considering streaming issues, but without actually memcpying the data out into the frame buffer, instead handing it straight to the user with an offset into the frame. The user would be responsible for data conversion in this case (demosaicing for RGB and unpacking for depth), as well as responsible for buffering previous data as needed by those algorithms.\nHowever, I'm not entirely convinced that this is going to provide a significant enough benefit. Can you hack the codebase and perform an experiment to see whether the gain is significant? If you can show that this actually works in practice I'll be happy to include an interface for it into the official API.\n. Is this still an issue? Recent reports of -99 were related to USB bandwidth issues, and things seem to be working fine on OS X as far as I know.\n. Swapped the threads around in 36a1e001\n. Implemented in 9e74af83.\n. The idea is good, but we're currently working on figuring out how to hook the Windows usb backend behind the fnusb abstraction layer and we don't want to complicate things right now.\nYou can have this functionality with the current API by passing in a libusb context allocated by you to freenect_init and then calling libusb_handle_events_timeout yourself on that context. Please use this method for now, while we work out what's going to happen with Windows. Once that is in, we'll figure out how to implement this and add it to the code api. Thanks :)\n. It doesn't use the \"JPEG\", library, but rather it uses the FindJPEG.cmake file, which should be part of your standard CMake distribution.\nAccording to my manpages, powf conforms to C99 and POSIX.1-2001.\nWhat UNIX are you building on, specifically?\n. Merged as 78629861.\n. The callbacks get passed the libfreenect device structure. There are accessors to set and get a void* user data pointer in this structure. Does this meet your needs?\n. Maybe the USB stack is somehow padding them? We ask for 1920 bytes for both streams (because that is the iso packet size).\n. Implemented :)\n. We've got a datasheet for some close relatives of the camera and we know how to write the RGB cam's registers, so it should be doable. I'll look into this soon.\n. Your new bayer conversion commit has at least three problems:\n1) There are some spurious changes before the bayer function, one extra newline and undoing 43a4f8b1.\n2) The conversion function does unaligned 32-bit writes to the destination. This isn't portable and does not run on many architectures, and it is extremely slow on others (where these accesses are trapped by the kernel and emulated, or run on some sort of microcode).\n3) Formatting issues. Some lines are indented with spaces. Please use tabs for indenting and spaces for aligning (see the HACKING file).\nIf you want to do 32-bit writes, you should keep a shifting buffer and only write aligned 32-bit quantities (containing parts of two pixels), similar to what you do for depth unpacking but in reverse. But since you're packing values before anyway, I'm not sure if that's going to be much faster, so feel free to try both 32-bit aligned writes and 8-bit separate bytes (without packing and unpacking) and see what runs best.\nAlso, please rebase on top of current master.\n. There are several ways to put your git tree in order as rebased on top of libfreenect master. You could actually use git-rebase, but since you just want a single commit against our tree, here's the easiest one right now (since you've already merged):\nRun 'git reset okmain/master'. Now git threw away all your commits, but didn't touch your working tree files. In other words, things will be as if you had made the sum of your changes directly on top of our master, without telling git about any commits yet. Run 'git diff' to see your changes as a whole. There are two things to fix still: the extra blank line at the beginning (get rid of that change), and also, though you fixed the indentation, there are lots of lines with trailing whitespace (tabs or spaces at the end of the line), so please remove those. Once you're done, 'git diff' to make sure everything is in order, then just 'git add' your changes and commit as usual, with a new commit message that will supersede all your earlier commits.\nUsually you'd just \"git rebase --squash\", but you're going to get a lot of merge conflicts on this one which you've already solved, and since you want to throw away your history anyway and you also have a couple things to fix, the above method is easier.\n. Thanks! Merged :)\n. Merged the depth unpacking (see your other pull request for comments on the bayer stuff).\n. Sorry, this patch is pretty broken. Problems:\nNo signoff line in the commit\nUsing libusb functions in core code\nIncomplete, doesn't fix the timestamp in streams\nThe CMake test doesn't actually set a C #define and does nothing\nBut OSX defines BIG_ENDIAN in some system header so it happens to work (for you)\nBut I'll fix the endianness properly since I promised I would ;)\n. Exactly, the device shuts down the depth stream when the image has less than one fourth or so valid pixels. There may be a way to switch this off, but if there is, we don't know about it.\n. The plan was to include a CONTRIB file generated from git in actual releases, though we haven't made any so far. I've added a similar script and a stub CONTRIB file :)\n. ",
    "lamaranu": "hi there,\nI'm having apparently the same issue but I'm using a 600 mhz cpu with a MUSB OTG driver host support. Can I ask you what cpu were you using to test it?\n. ",
    "RichardNewcombe": "We need to find out if the data is processed and ready as a chunk or if the chunks are just from an internal buffer -- if the data is being processed and made available we have the possibility of a camera that gives us 960Hz data  (assuming a chunk is 16 lines of depth data).\n. ",
    "piedar": "Implemented in #351.\n. This may be due to problems in the way libusb works with the USB stack on OSX.  I would try booting Linux on a USB and running it there.\n. Small boards like that often lack USB bandwidth and/or CPU power to process Kinect data.  There are Linux kernel drivers gspca_kinect (video) and librekinect (depth).  Kernel-space USB has less overhead and higher throughput at the cost of platform independence.\n. @J-G-R This is a tricky issue because I've only seen it happen briefly so I can't really say what's causing it.  Which example did you run to see the problem?\n. See if you get the same messages when running the freenect-camtest example (Ctrl-C to quit).\n. So it's dropping packets even without doing work (other than printf) in the freenect event thread.  My best guess is that the host can't keep up with all the transfers coming in.  There are a few things you can try.\nFirst is to compile for your particular CPU and with heavy optimizations.\ncmake .. -DCMAKE_C_FLAGS=\"-march=native -O3\"\nIf that doesn't help, try fiddling with the PKTS_PER_XFER and NUM_XFERS constants in usb_libusb.h.  The settings for Linux are in the last block, at line 47.\nIf you get really desperate, you can also have a look at the chunk processing feature introduced in #351, which lets you downsample to a lower resolution and skip a lot of decoding.\nSorry I can't be of more help.  I'm 85% sure it's a hardware or USB stack issue, but it's really hard to tell.\n. It's more an issue of USB bandwidth than CPU or RAM.  According to my rough calculation, depth and video together push about 20 MB/s over USB.\nThe ODROID is better in that regard because it has separate hosts for ethernet and USB.  The U3 should be up to the job.  But if you can spend $30 extra, go for XU3 Lite; I've seen a report that it even works with two Kinects, one on the 2.0 port and one on the 3.0.\n. Autoexposure is now implemented via #332 as of libfreenect v0.2.0.\n. The unstable branch no longer exists.  The recommended workflow now is to use a feature branch and target master with pull requests.  It appears the wiki has been updated to reflect this.\n. libusbemu is no longer used now that libusb has proper Windows support.\n. Found its way to master.\n. Fixed by #383.\n. This has been in master for a while.\n. Fixed by bd66645.\n. 7b9a5de introduces the following changes:\n- All headers (including libfreenect.hpp) are installed to $PREFIX/include/libfreenect/.\n- All libfreenect files have #include \"libfreenect.h\" rather than #include <libfreenect.h>.  This works during build and after installation all include files are in the same directory.\n- Rename libfreenect-audio.h -> libfreenect_audio.h and libfreenect-registration.h -> libfreenect_registration.h.  This makes them consistent with other libraries.\nTHIS IS A BREAKING CHANGE; UPDATE YOUR INCLUDES\n. This issue was closed by Github when I deleted the unstable branch.  It should be considered Open.\n. cd5de90 fixes the freeze on shutdown.\ntodo: init with 0 devices\n. If you reproduce this with the latest versions of libusb and libfreenect, please feel free to reopen this issue.\n. Nice work!  Note that the 'o' key toggles this feature in glview ('r' was already taken).\n. Fixed by 53e8aa28.\n. The patch has been merged into upstream libusb and therefore removed from this repository.\n. Obsoleted by #397.\n. Not enough information to justify leaving this open.\n. The C++ wrapper has undergone several fixes/improvements since this was reported.  Feel free to reopen or create a new issue if the behavior persists.\n. I ported near mode to master in 75ec2a6b, but I cannot be sure it works because I don't have K4W.  Please test and report back here!\n. Assumed working.  Please file a new issue if it's broken.\n. This will likely never be supported in-library.  I hope you found an acceptable solution for your own code.\n. Looks like you got it sorted. :+1: . Missing python reference fixed by 476dec9.\n. Fixed by 213c39a6.\n. @JoshBlake My first instinct was to remove the underscores, but I remembered '#pragma once' and according to Wikipedia it's supported by all major compilers including GCC, ICC, Visual C++, and Clang.  It's also simpler and less error-prone.\n. My Kinect for Windows device works fine with current libfreenect as long as I don't try to use the motor.\nfreenect_select_subdevices(fn_context, FREENECT_DEVICE_CAMERA);\n. #325 looks like the place to be.\n. Sorry no one could help at the time.  Looks like you were missing an include path, as evidenced here:\n\n3>C:/Program Files/OpenCV-2.4.1/include\\opencv/cv.h(63): fatal error C1083: Cannot open include file: 'opencv2/core/core_c.h': No such file or directory\n\nI'm not sure if it's even libfreenect related; more like an OpenCV installation problem.\n. This has been implemented in unstable via freenect_set_flags.\n. Support for this model has been completed by wizgrav in #325 and is currently in unstable pending the next release.\n. @MihaiDogariu For audio support you'll need device-specific firmware.  fwfetcher.py works for model 1414 but not 1473.  Right now the easiest way to get 1473 firmware is from ofxKinectExtras.  You can get a pointer to the firmware from ofxKinectExtras::getFWDatak4w and pass it to freenect_set_fw_address_k4w.\n. @dansupergameprogrammer\nYes, wizgrav's fix was merged to master before the unstable branch was deleted.\n. This looks like output from Cppcheck, a tool for static code analysis.  I run it on the libfreenect source every once in a while, but most of the remaining problems are false positives or things I don't know how to fix.\n. That patch has already been merged into upstream libusb, so it is no longer necessary.  I have submitted pull request #321 that would remove it from libfreenect.\n. The outdated libusb patch has been removed by a6c5dd0e91.  Now the libusb package should be installed directly via homebrew or MacPorts.\n. Fixed by 955af59.\n. > Another reason not to use the hardware's hflip functionality is that the Kinect doesn't flip the image's Bayer pattern, but simply reads out the 2x2 blocks out in the opposite order. As a result, the resulting image is of lower quality.\nIs this sufficient reason to ignore the functionality?  What about doing hflip in software after the bayer->rgb conversion?\n. @zarvox \nI've started experimenting with OpenCV on top of libfreenect with my own C++ wrapper.  It makes things a bit easier since I can just grab the raw Bayer and convert it with cv::cvtColor().  I will try using OpenCV to do hflip in software.\nPS: How about cherry-picking piedar@ab6a8df and piedar@a0e1e41?  libusb-1.0.9 already has that patch (I compared the patch line-by-line against libusb.git) and I'm not aware of any distribution (including homebrew & Macports) shipping anything older.\n@anyone\nIf you are reading this and interested in doing hflip in libfreenect without loss of RGB image quality, you will need to extend convert_bayer_to_rgb() in cameras.c to decode a BG interleave pattern iff the frame is mirrored (the default pattern is GB).  To this end, you might consult the source of cv::cvtColor, which does Bayer->RGB conversion for all possible pixel arrangements.\n. For mirroring developments, see #328.\n. It means either libusb returned an error or a device disappeared.  It's hard to tell without debug output.\n. #378 stops environment CFLAGS from getting clobbered.  The default optimization level of -O2 provides a nice boost to frame unpacking and processing.  For more aggressive optimizations:\ncmake .. -L -DCMAKE_C_FLAGS=\"-march=native -O3\"\nNote that binaries produced may not be portable to different CPUs.\n. What happens when you install from the libfreenect Formula provided by homebrew?  That is, don't download any files, just brew install libfreenect.\n. I just checked the official libusb Formula and it does have this patch.  Thanks for reporting!\n. My C++ wrapper #329 could be a good start for future Kinect models.  It current wraps the libfreenect C API, but it can be easily extended with alternate hardware access implementations.  It could even be used to unite different Kinect devices under a single API.\nAs to motor support, I see no reason to remove it as long as there's a documented way for applications to check for motor on a device by device basis.\nPS: This branch is looking good.  I hope it can be merged into unstable soon.\n. I have used K4W on Linux in the past without any disconnect issues.  That was before this patch, so I had to set the alternate interface and disable the motor manually.  Unfortunately, I no longer have that model.\n. @ofTheo Good point.\nUnless there are any objections, I will merge this pull request into unstable on Friday, 12 July.  Debugging K4W on OSX can and should take place as a separate Issue.\n. @wizgrav I'd like to merge this branch into unstable, but it doesn't meet all of the project's requirements.  Could you please do the following to make sure everything is clean and proper?\n1) Start an interactive rebase\ngit rebase -i\n2) Change the first commit from pick to reword and replace the commit message with a description of the overall changes.  Also, add a line following this template: Signed-off-by: Random J Developer <random@developer.example.org> (optional-pseudonym).\n3) Change all your other commits from pick to squash.\n4) Force your rebase up to your master branch so it will be reflected here on github.\ngit push -f origin master\n. @wizgrav The comments on this pull request are getting more and more unwieldly.  I think it would be best to get this merged as is and start a new Issue for the OSX problems since they are complicated and probably related to libusb.\n. Excellent! This pull request has been merged into unstable.  I'm closing the request; hopefully github will mark it as Merged once it hits master.\nTo those of you debugging on OSX, please start a new Issue to collate necessary info.\nThanks, wizgrav!\n. I think something went wrong with this issue.  I do not remember closing it and I cannot reopen it...\n. Oh, it's because I deleted the target unstable branch.\nThe only problems to fix are that the commits are not signed and the target branch no longer exists.  These are easily solved by a rebase against master.\ngit rebase --interactive upstream master\nReword (r) the first commit to a summary and Fixup (f) the others into it.  When rewording, make sure the summary commit is signed (like this: Signed-off-by: Your Name <your_address@somemail.com>).  Then make a new Pull Request targeting master.\nI'll do my best to get this merged despite my lack of GL knowledge.\n. This has been merged into #332.\n. This is put on hold until things develop in OpenKinect/libfreenect2.\n. If there are no objections by July 12 (1 week), I will merge this into unstable.\n. I'm guessing you got this figured out?\n. :+1:\n. Thank you for the patch - I converted it to a pull request in my fork.  I would call for testers, but you may be the only person actually using the actionscript wrapper.\n. For future reference, there are excellent guides on repo forking and pull requests.\n. I don't have that model, so I can only take a guess.  Are you using a power adapter with the Kinect, or is it drawing all its power from USB?\n. @tareko Thanks for your dmesg - it certainly spreads some light on the issue.  From some googling, I've discovered that the kernel's USB system returns -ETIME (-62) when\n\nNo response packet received within the prescribed bus turn-around time.\n\nHowever, it looks like the kernel recovers from that; maybe the Kinect just takes a long time to initialize.  The USB error during glview is -ESHUTDOWN (-108):\n\nThe device or host controller has been disabled due to some problem that could not be worked around.\n\nIt's also possible that the gspca webcam kernel driver is interfering with libfreenect.  Try doing sudo modprobe -r gspca_kinect before running glview.\n. Did you unplug and plug the Kinect after unloading the module?  Anyway, I was afraid that wouldn't help - I believe libfreenect tries to unload any kernel drivers that are accessing a device it wants to open.  What's your kernel version?  If you don't require USB 3 support and you know how to compile a kernel, you could try reverting to ehci_hcd.\n. You might try @wizgrav's Chunk processing feature #351.\n\nTesting indicates that the overhead of getting a 320x240 frame, unpacked and converted to mm(passing a lookup table through dev->user_data) is roughly the same as getting the packed 640x480 frame. \n\nSee chunkview.c for an example.\n. Oh, I didn't know you're using Python.  That feature isn't available in the Python wrapper yet.\n. @ray4510 If I were picking out a pi-like board, I would go with the BeagleBone Black.  Unfortunately, I have no idea how well it works with Kinect, so further research is required.\n. @xxorde Nice work!  What's the best way to get frames from userspace?  v4l2?\n. I was wondering how to open /dev/videoX from code.  I've found an example of v4l-utils that appears to answer my question.\n. Fixed in #342\n. I converted my releases (v0.2.0, v0.2.1, v0.3.0) to signed annotated tags.  It's unfortunate that Github releases create lightweight tags rather than annotated.\nI'll leave this issue open to remind myself and others how to create a signed annotated tag/release.  Using v0.3.0 as an example:\ngit tag -s v0.3.0 -m 'libfreenect v0.3.0 Nucleus'\ngit push origin --tags\nNow draft a Github release for the new tag.\n. If you use CMake you can write\nfind_package(libfreenect REQUIRED)\ninclude_directories(${FREENECT_INCLUDE_DIRS})\nadd_executable(my-program my-program.c)\ntarget_link_libraries(my-program ${FREENECT_LIBRARIES})\nOtherwise, you need to add linker flags to your Makefile so that the compiler is called like so:\ngcc -o my-program my-program.c -L/usr/lib -lfreenect\nOr using pkg-config:\ngcc -o my-program my-program.c `pkg-config --libs libfreenect`\n. Fixed by 6f25b21.\n. Sorry, it got closed when I deleted the now-unused unstable branch.  I can't reopen the issue, so floe's suggestion is a good one.\n. I renamed this issue so that others experiencing it might identify the conflict quicker.\n. This should be OK to merge because consumers of the header-only cpp wrapper will need to set up their own include directories anyway.\n. Fixed by cf316e0\n. Where is the libfreenect dylib installed?\n. OpenNI2-FreenectDriver is now built into libfreenect.  Please try again, following the instructions in the subproject.  If you still encounter issues, feel free to reopen.\n. When I unplug while running glview, I do not get a segfault, but I do get\nsend_cmd: Output control transfer failed (-4)\nMaybe the difference in meaning between my error code (-4) and yours (-99) could help pinpoint the cause.  As a result, freenect sends the command to stop the stream after the device is already disconnected.  Somehow this is corrupting some memory so that malloc fails.  This is a subtle bug to fix and requires further investigation!\n. Scratch that, it's a simple bug.  In usb_libusb.c, there's a memset() after a free().  Linux doesn't seem to mind (or maybe I just can't get the timing right to reproduce the bug).  Should be fixed by f6cb19e, please confirm.\n. @smokris Any chance you can see if the fix worked?  I never managed to reproduce the crash.\n. Assumed fixed.\n. Your first two commits were fixed in the meantime.  I squashed the other three into e61d701 and signed it.  Thanks!\n. What's your compiler?\ngcc --version\n. Try this:\ncmake .. -DCMAKE_C_COMPILER=gcc\nIf that doesn't work, make sure gcc can be found:\nwhich gcc\n. I don't know what's going on on your system, but you need to figure out where your compilers are.  For me, they're in /usr/bin, so I would do this:\ncmake .. -DCMAKE_C_COMPILER=/usr/bin/gcc -DCMAKE_CXX_COMPILER=/usr/bin/g++\n. - ssize_t - Same with VS 2012.  Definitely will fix.\nI'm running into quite a few more errors with VS 2012.  This isn't really a priority issue, but I'll see what I can do.\n. #363 finally fixes ssize_t\n. I never found a way to reliably differentiate two Kinects on different ports of the same bus.  Without knowing that, you can't say for sure which Camera goes with which Audio.\nYou could assume that the first Camera on some bus goes with the first Audio and so on.  This would work in most situations, but would be unreliable if multiple Kinects are plugged into the same bus in quick succession.\n. :+1:\nI can't really test this without a K4W, but the code looks good.  If there no objections, I will merge it soon.\n. @ofTheo I will update src/CMakeLists.txt when I merge this.\n. How is that done with py360?  Is the newer firmware compatible with original Kinect?  I would like to either update fwfetcher.py or replace it with py360 to use the newer firmware by default.\n. The same idea has occurred to me, but I never looked into it.  I say go for it!\n. I did a little poking around with VS 2012.  If you run into compile errors in usb_libusb10.c about failing to convert iso_callback, modify the function signature like so:\nstatic void LIBUSB_CALL iso_callback(struct libusb_transfer *xfer)\n. This will be addressed in #383.\n. 1. Your compilation steps are correct.\n2. /usr/local/lib should be a symlink to the correct lib folder, so run sudo ldconfig /usr/local/lib.\n3. Don't worry about the OpenNI-Linux-x64 naming - I have included only the headers, which are not platform-specific.\n4. You must copy libFreenectDriver.so to Redist/OpenNI2/Drivers/ if you wish to package it in your redistributable application.  If you wish to simply run the OpenNI2 samples, you must copy it to Samples/Bin/OpenNI2/Drivers.  Note that OpenNI2 will only load drivers that end with .so.\n. libfreenect contains only the header files from OpenNI2.  They are necessary to build OpenNI2-FreenectDriver, which implements driver types defined in those headers.  To actually get OpenNI2, you must download it or build from source.\n. Those warnings indicate that printf format specifiers are wrong.  This may be because you have 32 bits and I have 64.  The warnings will not cause any problems, but I will see if I can switch to cout to avoid them.\n. The four warnings are harmless.  Two are due a variable declared outside an #ifdef BUILD_AUDIO block and I think the other two are caused by a function being both static and hidden.\nI have no error output for ClosestPointViewer.  Does SimpleViewer work?\n. It could be that ClosestPointViewer is looking for data faster than libfreenect serves it up.  I turned on FREENECT_LOG_DEBUG in the latest 8d8558f.  Do you see any messages about dropped frames?  They look like this:\n[Stream 70] Expected max 1748 data bytes, but got 1908. Dropping...\n. I don't really know where to go from here.  I suppose you could try setting Verbosity=0 in OpenNI.ini.\n. Aha! I managed to reproduce this on an x86 netbook with Intel Atom N280.  It looks like the CPU can't keep up with the USB transfers coming from the Kinect.  glview drops a lot of frames and SimpleViewer freezes up after dropping about 12 frames.\nWhat is your CPU?  Can you try on a more powerful machine?\n. It does not help that FreenectDriver makes a full copy of libfreenect's buffer.  This probably cannot be avoided - using the same buffer results in memory corruption when  libfreenect and OpenNI2 both try to free it.\n. Strange that the old version works.  I took a diff between them and I don't see anything obvious that would cause this.  I will try some more things with my x86 netbook.\n. I think I've got it!  The C++ wrapper libfreenect.hpp stops and restarts the depth stream when you call setDepthFormat() (whether it was already running or not!).  In DeviceDriver.cpp, I start the depth stream then immediately construct a FreenectDriver::DepthStream, which calls setDepthFormat(), stopping and starting depth .  Somehow this confuses OpenNI2 and SimpleViewer fails to show depth.\nI am still not sure why the old version works for you; it had the same flaw.  But depth is now working on my netbook as of 62f0a0d.  Please give it a go.\n. This is definitely a bug, but I don't think your solution works either because it compares a uint16_t with -1, which will never be true:\n```\ninclude \ninclude \nint main()\n{\n    uint16_t foo = -1;\n    if (foo == -1)\n        printf(\"Never true!\\n\");\nreturn 0;\n\n}\n```\nI made read_register() and read_cmos_register() return UINT16_MAX on error.  It's not perfect, but it's better than the alternatives:\n1. Pass in an int* error parameter. (yuck)\n2. Return an int32_t and require a cast to get the actual value. (double-yuck)\n. Setting\n```\ndefine PKTS_PER_XFER 128\ndefine NUM_XFERS 6\n```\neliminates dropped frames when using the FREENECT_VIDEO_RGB, FREENECT_VIDEO_IR_8BIT, and FREENECT_VIDEO_YUV_RGB modes.  In general, it seems that larger values result in fewer dropped frames but more lag.\n. Mostly solved by #378 via CFLAGS=\"-O2\", but I'll leave this open as a reminder to investigate USB transfer settings.\n. With 3850ad8e69, maximum isochronous packet size is negotiated at runtime.\n. Good enough as-is.. This is indeed very strange.  Set Verbosity=0 in OpenNI.ini and post the terminal output from SimpleViewer.\nWhat exactly do you mean by \"only shown in upper left corner\"?  Do you see the whole depth image shrunk down or just a portion of the image?  Does the color stream work OK?  A screenshot would be helpful.  Also, what is your CPU?\n. This is great information; thanks for your efforts!\nI think I found the cause, and with any luck 62f0a0d will solve this for you as well.\n. I am running short on ideas...\n1. You are using an external power source for the Kinect (i.e. it's plugged into the wall)?\n2. I should see the libfreenect debug log in SimpleViewer output.  To capture all output to a file, you must redirect stderr:\n./SimpleViewer > output.txt 2>&1\n3. We should see if the driver is receiving depth frames from libfreenect:\n```\ndiff --git a/OpenNI2-FreenectDriver/src/DepthStream.cpp b/OpenNI2-FreenectDriver/src/DepthStream.cpp\nindex f7addca..1711c60 100644\n--- a/OpenNI2-FreenectDriver/src/DepthStream.cpp\n+++ b/OpenNI2-FreenectDriver/src/DepthStream.cpp\n@@ -54,6 +54,11 @@ OniStatus DepthStream::setVideoMode(OniVideoMode requested_mode)\nvoid DepthStream::populateFrame(void data, OniFrame frame) const\n {\n+  if (frame->frameIndex % 60 == 0)\n+  {\n+    WriteMessage(\"DepthStream::populateFrame() received 60 frames\");\n+  }\n+\n   frame->sensorType = sensor_type;\n   frame->stride = video_mode.resolutionX * sizeof(uint16_t);\n```\nIf that message shows up in the output, the problem is probably in OpenNI2.  If not, the problem is probably in libusb, libfreenect, or elsewhere in the driver.\n. From all this evidence, my best guess is that due to USB bandwidth.  The Kinect uses quite a lot and it's likely that as more devices are added, less bandwidth goes to the Kinect.  I think this is supported by your output logs - generally, more devices == more dropped frames.\nThis doesn't explain why freenect-glview works and SimpleViewer doesn't, but maybe the extra overhead of a buffer copy causes even more dropped frames.  Less likely but quite possibly, it could be some hidden bug in the C++ wrapper libfreenect.hpp or my driver.\nThat said, I still can't replicate the issue on my machine, even with all 6 USB ports filled.\n. PS: I'm on vacation next week, but I haven't given up on this issue!\n. @sbtgE You might experiment with the values of PKTS_PER_XFER and NUM_XFERS in usb_libusb10.h.  I've seen decent results with\n```\ndefine PKTS_PER_XFER 128\ndefine NUM_XFERS 6\n```\n. #378 addresses performance and may help in this case.\nIf it helps but not enough, you could try more aggressive optimizations:\ncmake .. -L -DCMAKE_C_FLAGS=\"-march=native -O3\" -DCMAKE_CXX_FLAGS=\"-march=native -O3\"\nNote that binaries produced may not be portable to different CPUs.\n. unstable is way behind because I don't actually use it.  I really ought to delete it to avoid confusion.\n. With #372 there is a plan to make audio a runtime option.  In the meantime, you can use a parameter with cmake rather than editing CMakeLists.txt.\ncmake .. -L -DBUILD_AUDIO=ON\n. I updated README.md to note that BUILD_AUDIO is required for tilt on newer models.\n. @Siegeszug The firmware fetcher downloads an old firmware version for original Kinect, but I don't have the knowledge or device to safely update it.  You could try ofTheo's method.  You would need to edit the the freenect_stack node to load the firmware after init.\n. Audio is now always built, so BUILD_AUDIO was removed.  Kinect audio is a messy problem due to the firmware.  It's unlikely to ever be fully supported by libfreenect unless it is tackled by someone more knowledgeable than I.\n. @hudongrui freenect_init() should be called from your own application.  For example, see camtest.. Do any of your external libraries embed an older version of OpenNI2?  oniDriverStreamAddRefToFrame() was removed from the code 10 months ago.\n. @OscardR What happens if you add this line to the bottom of VideoStream.hpp?\n```\ndiff --git a/OpenNI2-FreenectDriver/src/VideoStream.hpp b/OpenNI2-FreenectDriver/src/VideoStream.hpp\nindex 0823e7e..a3b7a03 100644\n--- a/OpenNI2-FreenectDriver/src/VideoStream.hpp\n+++ b/OpenNI2-FreenectDriver/src/VideoStream.hpp\n@@ -182,6 +182,8 @@ namespace FreenectDriver\n   };\n }\n+ONI_C_API_EXPORT void oniDriverStreamAddRefToFrame(oni::driver::StreamBase pStream, OniDriverFrame pFrame);\n+\n/* image video modes reference\n. @luizvnasc The most obvious possibility is that someone passed `nullptr` rather than `OniImageRegistrationMode*` to [`setProperty()`](https://github.com/OpenKinect/libfreenect/blob/master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp#L144).\n. Fixed by 0cbb86e.\n. Yeah, I just did a quick push to another branch so I could clone the changes on a Mac.  Do any of the changes fix the problem?  If so, I will have to figure out exactly which does so I can add that one in the master branch.\n. OK good.  I will have to do some experiments with install_name because I am not that familiar with how dylib works.  I will close this issue once I fix it in `master`.\n. Fixed by d09fcf96.\n.\n$ cd build\n$ ldd bin/freenect-glview | grep libfreenect.so\nlibfreenect.so.0.4 => /home/benn/code/libfreenect-upstream/build/lib/libfreenect.so.0.4 (0x00007fc0e7108000)\n$ ls -hg lib/ | grep libfreenect.so\nlrwxrwxrwx 1 users   18 Apr 13 21:30 libfreenect.so -> libfreenect.so.0.4\nlrwxrwxrwx 1 users   20 Apr 13 21:30 libfreenect.so.0.4 -> libfreenect.so.0.4.1\n-rwxr-xr-x 1 users  54K Apr 13 21:30 libfreenect.so.0.4.1\n```\nYou ought to see similar results.\n. This could be because Ubuntu decided to use /usr/lib/x86_64-linux-gnu instead of /usr/lib64.  I don't know why they did this; probably just to annoy me...\n. I bet it would work to change all instances of \"${PROJECT_LIBRARY_INSTALL_DIR}\" to lib and let platform symlinks work out where the libs actually go.\n. Did you find a reliable fix?\n. @sener07 freenect-glview demands the MOTOR device, which needs AUDIO on that model.  Audio is a pain to make work; if you don't need it try freenect-camtest instead and use only CAMERA in your own program.. @sener07 Looks like the keepalive workaround is failing due to missing firmware.  I'm going to look at improving that situation soon (#408).. Confirmed!\n. Now I'm not so sure.  I don't see a difference when toggling e and b, but my output is consistent with the correct bit being written to the cmos register.  Here I pressed e four times:\nread_cmos_register: 0x0106 => 0x648e\nwrite_cmos_register: 0x0106 <= 0x248e\nread_cmos_register: 0x0106 => 0x248e\nwrite_cmos_register: 0x0106 <= 0x648e\n43d44e9c prints the read_cmos_register reply.  It would be helpful if you can post the output with e four times then b four times.\n. I'm kind of stumped on this one.  The first read from my model 1414 is always 0x648e.  What model do you have?\n. I think this is OK because fakenect won't block inside freenect_process_events_timeout since it doesn't have to wait on a device.\n. I squashed it to one commit since it's short and sweet.\n. Thanks!  I think this fixes an annoyance where emerge prints out a large portion of this ebuild - must  have been the extra space after DEPEND=.  (In the future, please sign your commits: git commit -s.)\n. You can try the freenect-* examples to see if the problem is in libfreenect or OpenNI2-FreenectDriver.\n. What is your version of libusb?  Can you try a newer one?\n. I can't really tell what's going wrong.  Can you try with the same OS different hardware?  I'll give it a go on a Raspberry Pi running Arch - closest thing I have to the BeagleBoneBlack.\nI'll also see if I can toss together another freenect example that doesn't require a display.\n. I am in the process of moving, so I may be slow to respond here. I have not forgotten about your issue!\n. Looks like same issue on OSX without OpenNI: #394\nDid you build with AUDIO support?\n. With, though I don't know if it will make a difference.  It would be a better bet to try v0.4.1\n```\ngit checkout v0.4.1\nclean and build\n```\n. OK, so it's not a bug caused by keep_alive and it has nothing to do with the audio device.  I've read that an XBox firmware upgrade can cause transfer issues on OSX, but I've never seen it on Linux.\n. Nice!  Looks like vanilla libusb users will need v1.0.16.\n. It looks good to me. It will go in the next release.\nJust out of curiosity, is it necessary to check both hub and port?\n. Also, it looks like fnusb_find_connected_audio_device does something similar.  Would it make sense to reuse that function for this purpose?\n. Thanks for the proof of concept.  I used the existing fnusb_find_connected_audio_device to simplify the implementation.\n. Did you build with AUDIO support?\n. @ofTheo Could this have anything to do with keep_alive?\n. @mecwerks You might try v0.4.1 to see if that alleviates your issue.\n```\ngit checkout v0.4.1\ncontinue with build\n```\n. #402 gave me a thought.  Try setting\n```\ndefine PKTS_PER_XFER 32\ndefine NUM_XFERS 6\n```\nin usb_lisbusb10.h, line 47.  I have been meaning to test those settings in #368.\n. Good find!  I don't use other arches often enough to catch that.\nPlease sign the commit so I can merge it.\ngit commit -s --amend\ngit push origin -f\n. Thanks!\n. What's the benefit of treating freenect.c as binary?\n. True.  It might be even better to remove freenect.c and have a build dep on cython (note to self).\n. Dropped packets.  Try setting\n```\ndefine PKTS_PER_XFER 32\ndefine NUM_XFERS 6\n```\nin usb_lisbusb10.h, line 47.  I have been meaning to test those settings in #368.\n. Thanks to #372, the BUILD_AUDIO flag has gone away.  The BUILD_REDIST_PACKAGE=OFF flag makes the build invoke fwfetcher.py.\nThe download works for me, though it does take a full minute and a half despite 20 MB/s down.\n. OpenNI does not support audio or motor.  Therefore, OpenNI2-FreenectDriver opens only the camera.  Are there still lost packets in a build without AUDIO?\n. -12 is LIBUSB_ERROR_UNSUPPORTED, so I'm guessing the backend driver is WinUSB, which doesn't support isochronous transfers.  Try using Zadig to install libusbK or libusb-win32 driver for the device.\n. If you've got freenect-glview running on Windows, you're ahead of me...\nI don't know why it keeps trying when actual_len == 0x200.\nint actual_len;\ndo {\n    actual_len = fnusb_control(&dev->usb_cam, 0xc0, 0, 0, 0, ibuf, 0x200);\n    FN_FLOOD(\"send_cmd: actual length = %d\\n\", actual_len);\n} while ((actual_len == 0) || (actual_len == 0x200));\nFN_SPEW(\"Control reply: %d\\n\", res);\nif (actual_len < (int)sizeof(*rhdr)) {\n    FN_ERROR(\"send_cmd: Input control transfer failed (%d)\\n\", res);\n    return res;\n}\nactual_len -= sizeof(*rhdr);\nIf you take out that condition, does it then run normally?\n. Dang!  I was under the impression that isochronous transfers are supported.  The libusb wiki only mentions that WinUSB doesn't support isoc, so I took the omission to mean that the other backends do.  I may have to reinstate the emulation layer.\n. I did some digging and found that libusbK does indeed support isochronous transfers, but libusb doesn't have any code to hook it up.  Josh Blake proposed a patch to libusbx, but it never got merged.  However, it does apply cleanly to the latest libusb.\ngit clone https://github.com/libusb/libusb.git\ncd libusb\ngit remote add jblake https://github.com/JoshBlake/libusbx.git\ngit fetch jblake\ngit cherry-pick c5b0af4 1c74211\nMSBuild.exe msvc/libusb_2013.sln\nI then ran cmake on libfreenect and set LIBUSB_1_LIBRARY to libusb/Win32/Debug/lib/libusb-1.0.lib and now isoc transfers appear to be working in freenect-camtest!\n. I submitted the patch to libusb.\n. glview shuts down properly if I hit Esc, but not if I close the window.\n. The instructions to patch libusb for Windows have since been added to README.md.\n. @LennardF1989 According to the comments around that warning, transfers can fail for unknown reasons and just get resubmitted in that case.  Does the stream work at all despite the warning?\n. It is planned in #274.  I've been putting it off because the merge will require manual attention, but I will increase the priority since there is interest in it.\n. I ported near mode to master in 75ec2a6b.  I hope you are still interested to try it.\n. @JoshBlake Did you ever hear back on this?  Missing firmware is still the number one source of bug reports.. Thanks for the feedback!  Looks like I have a project for the weekend.  I'm thinking a submodule is a good idea, and I'll use the BUILD_REDIST_PACKAGE build flag to decide whether to bundle the firmware.\nOne thing I've yet to decide is whether to use the memory or file loading scheme.  The memory strategy is easier to code, but it would be nice if end-users can drop in the firmware later, especially since Debian, Fedora, etc. are not likely to want to bundle this stuff.  Either way, I think the old audios.bin way has got to go.... Awesome stuff!\n. Please try a5c8f6b44a20.\n. Assumed fixed.\n. Fixed now, thanks!  If you ever submit more changes, be sure to sign your commits with git commit -s.\n. What version of OpenNI2 are you using?  According to PS1080.h, unsigned long long is correct.  I tried running NiTE samples against your version:\nbenn@wilfred ~/Downloads/NiTE-Linux-x64-2.2/Samples/Bin $ ./HandViewer \nOpenNI2-FreenectDriver: Using libfreenect v0.5.0\nOpenNI2-FreenectDriver: Found device freenect://0\nOpenNI2-FreenectDriver: Opening device freenect://0\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nOpenNI2-FreenectDriver: (ERROR) Unexpected size for XN_STREAM_PROPERTY_ZERO_PLANE_DISTANCE\nCouldn't getXN_STREAM_PROPERTY_ZERO_PLANE_DISTANCE\nOpenNI2-FreenectDriver: (ERROR) Unexpected size for XN_STREAM_PROPERTY_MAX_SHIFT\nCouldn't get XN_STREAM_PROPERTY_MAX_SHIFT\nwrite_register: 0x0006 <= 0x00\nOpenNI2-FreenectDriver: Closing device freenect://0\n. A robust patch for this will need to add the Xn headers for each platform and provide a mechanism to have CMake choose a target platform.  Therefore, redirect to #508 . Thanks!  I recently added VID/PID to fnusb_dev, so I implemented this in a slightly different way.\n. libfreenect supports only Kinect.  For other similar devices, try openni.\n. It looks like you need a newer version of libusb, at least v1.0.18.\n. brew link libusb\n. Closed - lack of info.\n. Looks similar to #84.  Can you give the full output of freenect-glview?  And maybe try with a more powerful computer.\n. On Linux, SimpleView gives that message only very rarely, and everything works despite it.  I will test again on OSX when I get a chance.\n. Do the moved headers cause a build error?  I recently updated the examples to make CMake handle finding OpenGL and GLUT rather than just adding \"-framework OpenGL - framework GLUT\" to the linker flags.  Hopefully the CMake devs are keeping up with all these recent changes in OSX.\n. IR works for me.  Press 'f' twice in freenect-glview to see it.  And in code you would do\nfreenect_set_video_mode(f_dev, freenect_find_video_mode(FREENECT_RESOLUTION_MEDIUM, FREENECT_VIDEO_IR_8BIT));\n. Ah yes, libfreenect itself supports IR, but OpenNI2-FreenectDriver does not have a way to hook it up.  I think I should add it in one of these days.\n. I don't know what IR intensity means and there's no reference in the protocol documentation.  I'm closing this pull request because it doesn't make sense to merge debian into master.\n. OK, I see it now.  I created #433.\n. Github doesn't support email attachments, so I think it ate your patch.  If you'd be so kind to paste it in a comment over at #433, I can schedule it for merge.  Thank you.\n. I was going to merge it manually, but I have been lazy...\n. Brightness must be in the range 1 - 50.\n. Needs documentation update.\n. Updated documentation in ad5b98d.\n. It could be a compiler warning caused by bug 15058 in CMake < v3.1.\nTry this workaround:\ncmake -DCMAKE_C_FLAGS=\"-Wno-old-style-definition\" ..\nIf that fails, please post the build log.\n. Assumed fixed by newer CMake.. Reopened to remind me to fix it.  Thanks for finding the solution, @fabian247\n. There are no extra files for OSX.  Recent versions of libusb already include that patch.  It is recommended to install via homebrew:\nbrew install libfreenect\n. The Windows documentation is out of date; I have been meaning to update it.\nI found success by using Zadig to install the libusbK driver for each subdevice.  Then I patched and compiled libusb as described in this comment.\n. -12 is LIBUSB_ERROR_UNSUPPORTED, so maybe cmake is still pointing to the unpatched libusb?\n. It could very well be due to the VM, especially if it has poor USB support.\n. There's now a proposed libusb patch for isochronous transfers via WinUSB.  I've heard it's better than libusbk for Windows 8.1 and above.. Needs more info, like output of freenect-camtest.  Feel free to reopen.. Thanks!  In the future, please sign commits with git commit -s.\n. If you're building with Visual Studio, you must specify the config at build time.  So either switch to Release config inside Visual Studio or build from command line like\ncmake --build {BUILD_DIR} --config Release\n. -3 is LIBUSB_ERROR_ACCESS, which is a permissions problem.  The Fedora package should have installed the udev rules, but you might need to unplug / replug the device to activate them.  If you install from sources, you'll need to install the rules manually to /etc/udev/rules.d/.\n. It looks like audio is required for motor control on the K4W.  If you only need the camera, you can modify libfreenect.hpp#191 to\nfreenect_select_subdevices(m_ctx, static_cast<freenect_device_flags>(FREENECT_DEVICE_CAMERA));\nBut I'm not sure why the error happens in the first place.  It's possible that some USB hosts can't support whatever is required for audio.  Maybe @wizgrav or @ofTheo knows something more?\n. Please try updating to dcb2929.  It should allow continuing execution if the audio device fails to load.\n. Hopefully fixed by #479 - please reopen if it still doesn't work.\n. Please try updating to dcb2929.  It should allow continuing execution if the audio device fails to load.\n. Hopefully fixed by #479 - please reopen if it still doesn't work.\n. Is your user a member of the plugdev group?  Could there be a conflicting udev rule?  It could also depend on how your distribution handles device permissions.\nWhat are your OS and Kinect model?\n. I'm stumped - what you have there ought to work.  Maybe there's something useful in the udev log.\n. Thanks!  Added in afcc53d.\n. I believe audio firmware is required to control the motor of that model.  The easiest way I know is to add ofxKinectExtras to your project and load it into libfreenect.\n. I think then you are stuck, unless you can modify freenect-glview to load firmware and compile it as C++.  Or figure out some other way to load the firmware.  (Or find a model 1414.)\nUntil recently it would fail completely in this case, so I am glad to hear that the video shows up at least.\n. The firmware is executable code that runs on the Kinect.  Microsoft owns that code and we don't have an open-source alternative.  libfreenect provides a way to send the firmware to the Kinect, but it would be legally risky to provide the firmware itself.\nThe fwfetcher.py program is one workaround; it downloads and extracts the firmware from a freely-available XBox360 system update package.  But it only works for model 1414.\nFor the newer models, the solution is to compile the firmware into a byte array and upload it at runtime.  You can do so by modifying your program to pass a pointer to the byte array to libfreenect, like these instructions demonstrate.  You would need to add that code into glview and also make sure the ofxKinectExtras.cpp file is added to the compilation.  It will also be necessary to compile the program as C++ since the ofxKinectExtras.h file is C++.\nI wish we could just ship the firmware, but the legal situation is too murky for me.\n. Here are the instructions for loading the firmware into memory.  You are correct that the downloaded firmware is for the 1414 model and does not work with 1473.\n. Try deleting audios.bin, since that is the wrong firmware for your device.\n. According to this conversation, FREENECT_DEPTH_MM will give you \"the \ndistance from the Kinect's optical centre to the object in millimeters\".  They also mention how it is possible to convert from the raw depth values to distance manually, for greater precision.\n. See also #556. Merged via 5a45be5 and 058315d.\n. Probably the virtual machine has poor support for isochronous USB transfers.  If you have not given up, try on real hardware.\n. Finally got some time to test.  Nice work!\n. Sounds like firmware is missing.  If you're only interested in video/depth, change this line to\nfreenect_select_subdevices(ctx, <freenect_device_flags> (FREENECT_DEVICE_CAMERA))\nThen rebuild the python binding.\ncd wrappers/python\ncython freenect.pyx\npython2 setup.py build_ext --inplace\n. Your code works perfectly for me with Kinect model 1414.  Can you try it directly instead of through VMware?\n. Looks like it compiled against the new libusb version but is still running against the old version.  Try reloading the library cache with\nsudo ldconfig\nYou could also try\nLD_LIBRARY_PATH=\"${LD_LIBRARY_PATH}:/path/to/new/libusb/\" freenect-glview\n. There is no libfreekinect.h.  There are libfreenect.h and libfreenect.hpp, both of which get installed to /usr/local/include/libfreenect/ by default.\nI can't offer any more advice without seeing the compiler errors.\n. I'm guessing you did this:\ncd wrappers/python\npython2 setup.py build_ext --inplace\nThat assumes that you've already got the core library installed.  Instead, try building python with the rest of the project:\ncd build\ncmake .. -DBUILD_PYTHON=ON\nmake\nNow you should find the python libs in build/wrappers/python/  Try the test program:\npython2 wrappers/python/python2/test.py\nI updated README.md to be more clear in ec0b75d .\n. OK, maybe you don't have libpython2 installed.  If you only need python3, try this:\ncmake .. -DBUILD_PYTHON=OFF -DBUILD_PYTHON3=ON\n. Hmm, maybe you need CMake version at least 3.0 or python-dev and/or python3-dev packages.  I can only guess based on this AskUbuntu question because I don't use Debian. \n. You do not need those steps if CMake worked.  Just run make in the build directory and the python libraries will be in build/wrappers/python/python2/ and build/wrappers/python/python3/.\n. Thanks!  Cherry-picked in acb2adf.\n. @pierrep \nFirst start watching the kernel log.\ndmesg -wH\n\nThen plug it in and see if any messages appear.  If nothing happens, check the power cable and double-check udev permissions.  Also try sudo freenect-camtest; if that works it's almost definitely permissions.  If all else fails, try a different USB port.. Thanks!  I guess using const there was a GCC extension that they no longer support.\n. First, make sure this directory exists and your account is allowed to write to it.\nC:\\Windows\\System32\\CMakeFiles\\CMakeTmp\\Debug\\\nSince CMake failed, we have no idea if the project is set up correctly.  Maybe some of the other errors follow from the incomplete configuration.\nMore hints might be found in the following files:\nC:/Windows/System32/CMakeFiles/CMakeOutput.log\nC:/Windows/System32/CMakeFiles/CMakeError.log\n. Was it #include <cstdlib>?  And maybe we should use glutLeaveMainLoop() instead of exit().\n. Probably\n. Is there any console output?  Try running freenect-camtest and freenect-glview to gather more debug information.\n. freenect-camtest should be printing a line for every frame it receives.  Maybe something is wrong with your libusb that prevents it from handling isochronous transfers?\nAnd libGL is a separate issue.  You can ignore it if you don't care about seeing output in a GL window.\n. This repo is for the original Kinect.  Please report it at https://github.com/OpenKinect/libfreenect2 instead.\n. Thanks for the PR! (#477)\n. Thanks!  Cherry-picked in 3c3152b.\n. Hopefully fixed by #479 - please reopen if it still doesn't work.\n. Wow!  Can't wait to try it.\n. Works for me on Linux - nice simplification!\nPlease sign your commit with git commit --amend -s; if I sign it myself, Github shows \"Closed\" instead of \"Merged\".\n. Something went weird and it ended up with 3 commits, so I just cherry-picked b483354.  Thanks!\n. Done!  I even remembered to bump the version number this time.\n. Take a look at the depth format enum.  The first few formats give raw data, but FREENECT_DEPTH_MM converts the values to millimeters and FREENECT_DEPTH_REGISTERED aligns the mm values to the RGB pixel frame.\n. You should examine the result of kinect2.getVideoImage() to make sure it is valid.\nAnd shouldn't you be calling opencv.detect() on every frame instead of just during setup?\n. No idea.  Please provide the output of\nioreg -p IOUSB -w0\n. Hmm, that didn't tell me what I thought it would.  What model of Kinect is it?\n. Oh!  If it came with the XBox One, it's a Kinect 2.  This library only works with the first generation Kinect.  You'll need https://github.com/OpenKinect/libfreenect2 instead.\n. So the NixOS build system was hiding compiler identity, which defeated gcc-specific flags further down the stack.  Looks like it was fixed in NixOS/nixpkgs.  Do you have the latest OS version?\n. For audio support, you must upload firmware to the device. Newer Kinect models may require audio firmware for motor and LED support. The best method is to insert firmware at runtime just after calling freenect_init().\nThose files and code I linked will need to be added to any program where you want audio and/or tilt to work.  Unfortunately the headers are C++, so you'll either have to compile the program as C++ or modify the headers to be pure C.\nI know it's a PITA and I wish we could just ship the firmware, but the project doesn't want want to risk any legal issues.\n. There is a way to load firmware from a file; I know it works with model 1473, but I never tried it with 1517.  To test it, you'd need to write that byte array you have in source code to a binary file named audios.bin and put it somewhere the loader knows to look, like ${HOME}/.libfreenect/.\n. How do you close the window?  Escape key?  And I would not recommend running it as root...\n. If the process is killed it won't have a chance to clean up.  The python README says that it's not necessary to call sync_stop() at the end, but I don't see how shutdown would work without it.\nYou could try using python's signal package to handle SIGINT and shutdown gracefully like in camtest.c.  Looks like you'd want to call freenect.sync_stop() in the handler.\n. So far unable to replicate because freenect-micview and freenect-wavrecord hang immediately with\nNumber of devices found: 1\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1. The python install script assumes that you have already installed the main library into /usr/lib or /usr/local/lib.  To install the main library, execute sudo make install from the build directory.  I think it's also possible to cd wrappers/python and run the scripts without installing anything.. If it doesn't show in lsusb, we must dig deeper into kernel diagnostics messages.  Run the command\ndmesg --human --follow\n\nKeep a note of the last line, then plug and unplug the device.  Dump this in a log file somewhere.  The next time the problem happens, repeat those steps and post the results here.  By comparing the difference in the logs, we may find a clue to the root cause.. Thank you for reporting this info and workaround!  If you get a chance, please also report it to libusb.. test.py doesn't appear to exist any more.  Might as well use the demos to test instead.. Possibly fixed by #501. . This is the older version of libfreenect. Try asking over at https://github.com/OpenKinect/libfreenect2/issues.. There is no way to use original OpenNI with libfreenect at the moment.  But there is a separate Kinect driver  at https://github.com/avin2/SensorKinect.. I have not seen any way to control the motor via OpenNI2.  You could have your application call directly into libfreenect for that, perhaps in a separate helper program.  When using both APIs at once, remember to first call\nfreenect_select_subdevices(ctx, FREENECT_DEVICE_MOTOR);\n\nso the helper doesn't try to claim the camera when OpenNI2 is already using it.. The code that opens the motor ought to print out an error if it fails.  But apparently it's not even finding the motor subdevice - maybe libusb_get_parent() is not working on your platform?. Fixing incoming!  Please try the latest and reopen if the issue persists.\nbrew reinstall --HEAD libfreenect. Turns out a more careful analysis was necessary: (2ce5bd36da046d5bdb23b8f83e84b7604f33a9ff).  Please report results!. I'm thinking VS 2010 is just too old, but with a little effort I can get it to compile with VS 2015.. It's worth a try!  A small patch already (c29570e).  I must also suggest cloning source code to your Documents or some storage other than Program Files.. The method `freenect_sync_camera_to_world()` is declared in freenect_registration.h, but your observation is correct: it has not yet been implemented in fakenect.  A patch is always welcome!. It probably gets stuck waiting forever on `cb_cond`, which is never fired because the frames stop coming.  Might be tricky to fix.... Thanks for the patch!  I changed the name to `libfakenect.so` just because I think it looks better.. Does the USB disconnect happen before running freenect-glview?. Sorry I forgot about this question.  Glad you found the answer!. The easiest way is with the synchronous interface.\n\n```\nnum_devices = freenect.num_devices(ctx)\nwhile True:\n    depth_frames = [freenect.sync_get_depth(i) for i in range(num_devices)]\n    video_frames = [freenect.sync_get_video(i) for i in range(num_devices)]\nfreenect.sync_stop()\n```\nTo run it asynchronously, you'll need to open the devices manually and call freenect.runloop() from multiple threads.. Thanks!. If you install python via brew, it should just work.  Otherwise, add the brew directory to PYTHONPATH.. (I'm assuming python2)  If you type this in the terminal\nexport PYTHONPATH=`brew --prefix`/lib/python2.7/site-packages:$PYTHONPATH\necho $PYTHONPATH\nyou should see that the brew directory has been added to PYTHONPATH.  In another window, go to that site-packages directory and confirm there's a freenect module there.  Then\n```\nidle\n\n\n\nimport freenect\n```\n\n\n\nIf that doesn't work, I'll have to track down a Mac and try it myself.. D'oh, I didn't realize that the Formula doesn't build any python bits.  This manual way worked for me.\n```\nbrew install cython\ngit clone https://github.com/OpenKinect/libfreenect\ncd libfreenect\nmkdir build\ncd build\ncmake .. -DBUILD_PYTHON2=ON -DCYTHON_EXECUTABLE=\"/usr/local/opt/cython/bin/cython\"\nmake\ncd wrappers/python/python2\npython\n\n\n\nimport freenect\n```\n\n\n\nThe permanent solution will be to patch the Formula to take an optional dependency on python and cython.. I'm trying to do that at homebrew-core#16772, but there are some remaining issues with the build process.. The IR projector is controlled by the depth stream, so the first thing to try is to constantly cycle it.\nwhile isRunning:\n  depth1 = get_depth(device1)\n  freenect.stop_depth(device1)\n  # might need to sleep here, but will ruin FPS\n  depth2 = get_depth(device2)\n  freenect.stop_depth(device2)\nHowever, I don't know if that code above will work nicely with the sync wrapper, so maybe you would end up with something more like demo_mp_async.py with some custom logic in the depth callback.\n```\ndef on_depth_frame(device, data, timestamp):\n  freenect.stop_depth(device)\n# do something with the data...\n# might need to sleep here, but will ruin FPS\n  other_device = device2 if device == device1 else device2\n  freenect.start_depth(other_device)\n```. Ah, you have to do\ncontext = freenect.init()\ndevice1 = freenect.open_device(context, 0)\ndevice2 = freenect.open_device(context, 1)\nOnce again, I don't know if that will play nice with the sync methods.. What kind of host computer?  What is the output of freenect-camtest?. Just a couple more comments.\nI'd like the endless loop to be a separate PR (maybe with a runtime switch), just in case anyone depends on the current behavior.\nAlso I think parson should be a submodule instead of being embedded in this repo to make it easier to stay current with upstream.  I just did\ncd fakenect\ngit submodule add https://github.com/kgabis/parson\nand then updated CMakeLists.txt to include_directories(parson/) and add_library(... parson/parson.c).  I've already got that staged locally, but you could change it here too if you'd like a cleaner merge without cherry-pick.. Ok, you convinced me.  There's one bugfix upstream that needs to be included, but other than that it's good without the submodule.\n--- parson.c    2017-11-22 09:04:18.365023490 -0500\n+++ parson/parson.c     2017-11-19 22:02:26.385795991 -0500\n@@ -1718,7 +1718,7 @@\n     char *current_name = NULL;\n     JSON_Object *temp_obj = NULL;\n     JSON_Value *new_value = NULL;\n-    if (value == NULL || name == NULL || value == NULL) {\n+    if (object == NULL || name == NULL || value == NULL) {\n         return JSONFailure;\n     }\n     dot_pos = strchr(name, '.');. brew install cmake or https://cmake.org/download. It's probably linking against system libusb, which is too old.  That's why we recommend\nbrew install libfreenect\n\nwhich links all the dependencies automatically.\nIf you really want to continue manually, you'll need to compile or otherwise install libusb-1.0.18 or newer and then configure libfreenect to find it.\ncmake -L .. -DLIBUSB_1_LIBRARY:FILEPATH=/path/to/custom/libusb-1.0.so. Does your compiler support c99?  I was considering converting the entire src/ directory to c99, but I have no stats on what compilers people use.. Looks good for now.  Let's use #539 for any discussion about the future.. :+1: . That means it couldn't find a compiler.  The solution depends on whether you want to use Visual Studio compiler (cl) or gcc/clang.\n\n\nTell CMake where to find the compiler by setting either the environment\n  variable \"CC\" or the CMake cache entry CMAKE_C_COMPILER to the full path to\n  the compiler...\n\nSo if you have Visual Studio 2015, try\ncmake .. -DCMAKE_BUILD_PYTHON=ON -DCMAKE_C_COMPILER=\"C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/cl\" -DCMAKE_CXX_COMPILER=\"C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/cl\". Please try `freenect-camtest`, which [uses only the camera](https://github.com/OpenKinect/libfreenect/blob/master/examples/camtest.c#L73).\n\nThe root cause is probably missing audio firmware.  Model 1473 uses the audio device to control the motor, and needs firmware for the audio.  I am working on a firmware fix, but I still can't get it to work with 1473.  In the meantime, I'm thinking of printing out warnings when audio/motor fails to load instead of stopping the program.. Hmm, removing the call libusb_reset_device() makes it work for me.\n```\ndiff --git a/src/usb_libusb10.c b/src/usb_libusb10.c\nindex cfa6166..cc3da6a 100644\n--- a/src/usb_libusb10.c\n+++ b/src/usb_libusb10.c\n@@ -354,7 +354,7 @@ FN_INTERNAL int fnusb_keep_alive_led(freenect_context ctx, libusb_device audio\n// we need to do this as it is possible that the device was not closed properly in a previous session\n  // if we don't do this and the device wasn't closed properly - it can cause infinite hangs on LED and TILT functions\n- libusb_reset_device(audioHandle);\n+ //libusb_reset_device(audioHandle);\n  libusb_close(audioHandle);\nres = libusb_open(audio, &audioHandle);\n```\nFrom the libusb docs:\n\nIf the reset fails, the descriptors change, or the previous state cannot be restored, the device will appear to be disconnected and reconnected. This means that the device handle is no longer valid (you should close it) and rediscover the device. A return code of LIBUSB_ERROR_NOT_FOUND indicates when this is the case.. Sadly I don't have a model 1517 anymore...  Anyway if the USB transfers are hanging maybe this will give more info:\n\nLIBUSB_DEBUG=3 freenect-camtest. I looked into this briefly, and it's not easy.  It would be easy if we could always trust the camera serial, but we have to [fall back on the audio serial](https://github.com/OpenKinect/libfreenect/blob/master/src/usb_libusb10.c#L207) for K4W devices.. The audio serial itself works fine, but it's tough to get it to handle all edge cases.  Like what if the caller asked to open MOTOR only?  Unlikely, but it makes it more difficult to figure out which `libusb_device`s go with which `freenect_device`.\n\nIt appears we'd have to do another libusb query for the list of all devices and search through them to find the matching audio device, or try to do everything up-front when opening subdevices (which is rather brittle code already).  It's also necessary to call libusb_open_device() before querying the serial, which opens another door for failure.  My first attempt was complete spaghetti code.\nBut now that I think about it, it might work to add a libusb_device* usb_dev member to fnusb_dev.  Then when opening subdevices we could always populate those entries, even if we're not actually going to open the associated device handles.  (We'd also have to call libusb_ref_device() to make sure the pointers don't get freed when the list gets unrefed.)  That at least solves the problem of which libusb devices go with the freenect device.\nI don't have a lot of time to work on this, but I'll give it another go when I get a chance.. Good news!  Check out #554.. Looks like missing dependencies.\nsudo apt-get install libxmu-dev libxi-dev\n\nIf you don't want to install those packages for some reason, you could turn off the examples instead.\ncmake .. -DBUILD_EXAMPLES=OFF\n\n(These dependencies are supposed to be optional, but I guess CMake is not cooperating.). Are you sure it's the python wrapper?  It looks to me like the opencv wrapper is what's failing, but it's hard to tell because make -j6 makes the build output out of order.. Looks like you worked around it by setting -DBUILD_CV=OFF :+1:.  The CV wrapper ought to be deprecated anyway, and replaced with a small example showing how to convert freenect frames to cv::Mat.. @svenevs It will be good to get this tested more.  I only verified it working with model 1414, and the others will possibly need audio firmware loaded before the call for it to work.\nIt might be tricky to backport as an external method because it required a fair bit of internal refactoring.  The biggest hurdle was solved by adding libusb_dev* dev; to fnusb_dev so we always know which subdevices go with which device.\n\nAlso, I was considering making the API call more generic, like\nFREENECTAPI int freenect_get_device_attributes(freenect_device* dev, freenect_device_attributes* attr);\n\nso other attributes (VID, PID, etc) can be included in the future.  It's a little messier to make sure everything gets freed though.. @svenevs That's very strange indeed.  I'll suggest trying a couple older versions like git checkout v0.5.7.  And I wonder if the Fedora package provides audio firmware?  You could try running fwfetcher.py and copying audios.bin to one of the searched firmware paths.. It's a difficult problem, and most solutions are proprietary.  Microsoft's random decision tree method is fairly well documented, but requires mo-cap data and expensive animation software to generate the training data.\nThere are some open-source contenders, but none appear to use the state-of-the-art approach.\n\nhttps://github.com/fpeder/XKin\nhttps://github.com/joaquimrocha/Skeltrack. Does freenect_registration.h have what you need?  It has fields for things like \"distance between IR camera and IR emitter,\" and \"focal length of the IR camera\".. Thanks!  Merged via f63bb6a to add the Signed-off-by.. Normally, you can't have multiple processes access the camera at the same time.  With some care, you could use one process for camera and another for audio/motor.  Or you could try proxynect.. Does this improve performance?  Also, looks like the buffer needs to be deleted in the destructor.. Thanks! I took the first commit as 3bf65762f9bd28571d87ee0ddd7fdf634df1978b, but I did the memory a little differently (d20b594a1fcf6a9f7970e2b6a8aea32c1b9434f2).  Please reopen if it doesn't solve your case.. Does this one need to be freed as well?. Should it skip all the rest if device.json doesn't exist?  Ideally old recordings will still work.. \n",
    "mirek": "Seems still an issue on MB Pro, Snow Leopard.\nTested with:\n* todays clone of libfreenect and libusb\n* and todays libfreenect and libusb (7da756e) with osx patch\ncode:\nfreenect_init(&ctx, NULL);\nfreenect_open_device(ctx, &dev, 0);\nfreenect_set_log_level(ctx, FREENECT_LOG_FLOOD);\nfreenect_set_depth_format(dev, FREENECT_FORMAT_11_BIT);\nfreenect_start_depth(dev);\nlog:\nCreating EP 82 transfer # 0\nCreating EP 82 transfer # 1\nFailed to submit isochronous transfer 1: -99\nCreating EP 82 transfer # 2\nFailed to submit isochronous transfer 2: -99\nCreating EP 82 transfer # 3\nFailed to submit isochronous transfer 3: -99\nWrite Reg 0x0006 <= 0x00\nControl cmd=0003 tag=0000 len=0004: 12\nIsochronous transfer error: 1\nControl reply: 12\nWrite Reg 0x0012 <= 0x03\nControl cmd=0003 tag=0001 len=0004: 12\nControl reply: 12\nWrite Reg 0x0013 <= 0x01\nControl cmd=0003 tag=0002 len=0004: 12\nControl reply: 12\nWrite Reg 0x0014 <= 0x1e\nControl cmd=0003 tag=0003 len=0004: 12\nControl reply: 12\nWrite Reg 0x0006 <= 0x02\nControl cmd=0003 tag=0004 len=0004: 12\nControl reply: 12\nLeds and motor are working fine; rgb and depth fail.\n. Connected directly without hub.\nTried connecting directly to 1st, 2nd and 3rd usb port (macbook pro has 3 usb ports).\nNothing else was connected.\nSame results, leds are fine, motor works perfectly, rgb and depth generates errors.\n. According to google http://libusb.6.n5.nabble.com/BUG-Darwin-isochronous-transfers-td396026.html :\n\"(...)[this] error usually results from the packet being\nscheduled too far in the past (or future). In the Darwin\nbackend I set isoch packets to be scheduled two frames\nafter the current frame. You might try increasing that to\n3 frame and see if it works. (...)\"\n. ",
    "wandroid": "I'm seeing this exact same problem on a 13\" MacBook Pro 2.66 Ghz Core Duo system running Snow Leopard 3.6.5. I've hacked out the starting of the RGB and IR camera threads, and can control the motor and LED just fine. I caught a trace of the enumeration and launch of glview with a Beagle 480 analyzer if anyone's interested. I've never tried to look into the USB protocol at this level, so I'm not getting very far with debug, other than It seems to fail to accept the first isochronous transfer requests for the two camera data endpoints.\n. In the analyzer trace, Xbox NUI Motor, Xbox NUI Audio, and Xbox NUI Camera show up as devices 4, 5, and 6 respectively. There is also a device 2 which is labeled as an \"Unknown Device\". This device has an IN and OUT EP defined as 1 and 2. The very first transaction to this device is a 'SETUP\" and is marked in red in the trace with an error indicating \"Invalid PID sequence\". All transactions to device two are \"SETPUP\" transactions and fail the same way. My skills are not yet up to determining if this is related to the failure of the isochronous transfers reported by the code.\n. Posted the zip'd Beagle trace file at:\nhttp://web.me.com/nazrobia/Beagle_Trace_file\nViewer is Total Phase Data Center which is a free download from:\nhttp://www.totalphase.com/products/beagle_usb480/\n. So you're talking about the following code, that was part of the patch to libusb? from\ndarwin_usb.c:\n/* schedule for a frame a little in the future */\n  frame += 2;\n/* submit the request /\n  if (is_read)\n    kresult = ((cInterface->interface))->ReadIsochPipeAsync(cInterface->interface, pipeRef, transfer->buffer, frame,\n      transfer->num_iso_packets, tpriv->isoc_framelist, darwin_async_io_callback,\n                                                             itransfer);\n  else\nI've tried varying that value from 1 to 5, and I still get the same results. I may be misinterpreting your response. Thanks for the reference, I'll poke around that thread.\nPretty sure I'm picking up tge changes ok, since I can change the debug output in libusb and I get the expected changes after rebuilding glview. \nTried both ports on the 13\" MBP\nThe error is consistently:\nKinect camera test\nNumber of devices found: 1\nGL thread\nFailed to submit isochronous transfer 1: -99\nFailed to submit isochronous transfer 2: -99\nFailed to submit isochronous transfer 3: -99\nWrite Reg 0x0006 <= 0x00\nWrite Reg 0x0012 <= 0x03\nWrite Reg 0x0013 <= 0x01\nWrite Reg 0x0014 <= 0x1e\nWrite Reg 0x0006 <= 0x02\nIsochronous transfer error: 1\nFailed to submit isochronous transfer 1: -99\nFailed to submit isochronous transfer 2: -99\nFailed to submit isochronous transfer 3: -99\nWrite Reg 0x0005 <= 0x00\nWrite Reg 0x000c <= 0x00\nWrite Reg 0x000d <= 0x01\nWrite Reg 0x000e <= 0x1e\nWrite Reg 0x0005 <= 0x01\nIsochronous transfer error: 1\nWrite Reg 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode\n raw acceleration:   -1  780    3  mks acceleration: -0.011974 9.339667 0.035922\nAnother odd thing is that it takes nearly a minute before this accelerometer output appears. I'm wondering if I'm getting a bunch of timeouts that are causing this to be slow. Should be able to tell if I run the analyzer a little longer. \n. Sorry, didn't mean to imply that the frame count is the only change related to the patch. I've applied all of the changes in the diff file for version OpenKinect-libfreenect-0aa8323,\nalthough I did apply them to a more recent libusb-1.0.8 than the snapshot mentioned in the README.asciidoc file. I didn't know how to build the one in the snapshot since it doesn't seem to have the cmake infrastructure that I'm familiar with. My reasoning was that using the more recent libusb was not likely to be an issue as long as I applied all of the patches. As for the analyzer, it's helping me learn the protocol more than anything else at this point. \n. I would be curious to know what OSX patforms this implementation DOES work on. From stuff I've read in the ADC Developer's documentation, there can be really long delays between the issuing of isochronous requests and the callback. It appears that the libusb code is not reentrant, and I assume that the issue has to do with isochronous transfers stacking up (or not able to stack up). All I can figure is that this problem may be worse on some platforms than others, or the patched libusb code works around this problem, and I have not successfully applied the patches. Probably going to punt and try my own IOKit solution for the device interface.\n. ",
    "Gamache88": "I got this error when I plugged in my kinetic through a usb3.0 port.  Switching to a 2.0 solved the problem.\n. ",
    "cryptk": "Forgot to mention, it is all keyboard controls, pretty basic really.\nw - tilt up (1 degree incriments, locked to 30 degree max)\ns - tilt to 0\nx - tilt down (1 degree incriments, locked to 30 degree max)\n0-6 - select LED settings\n. it's really just a quick hack to show off the current controls a bit better than it was... I just felt the demo software should demo everything that we can do and give examples on how to call all of the functions.\n. ",
    "tfoote": "The link given is broken. \n\"The requested URL /freenect/0001-Added-C-API.patch was not found on this server.\"\n. CMAKE_CURRENT_SOURCE_DIR works.  I'm closing this and I'll open a separate pull request.   For reference sha: ca531ee3c5a872d23546  I've opened a pull request now #46\n. ",
    "yoda-jm": "Once again this is caused by github adding a %20 at the end of the link autodetection\n. argh misclosed !!!!!!! and cannot reopen it ?\n. http://yoda-jm.performous.org/freenect/0001-Fixed-CMake-build-errors-and-compilations-warnings.patch this patch fixed the things in a better way I think (PS remove the trailing %20 misdetected by github auto-link)\n. done, same patch, same url\n. ",
    "kelvie": "FWIW this looks way more complete than my implementation, so if this were integrated, I suggest you remove mine.\nThey are in the wrong place in the source, anyways.\n. I also think you forgot to sign off all of your commits:\nhttp://openkinect.org/wiki/Contributing_Code\n. I added a section on the wiki for signing off commits as well.\n. No comments on where the stuff should go?  Or should we just leave it as-is for now.\nI didn't intend to put the bindings in the 'c' directory when I made my first pull request.  But if no one else minds, we can just leave it there.\n. ",
    "bwhite": "Ok everything should be good to go\n. Good question.  So I just took the easy route so that I could avoid mimicking the Dev and Context structures (just to get these out sooner).  The idea is that if a user treats them as opaque then it will allow us to make this change in the future.  Do you think people will want to access the struct entries in python?  There is some benefit to not doing that as then changes to that struct 'structure' upstream would not change the Cython bindings (so it is easier to maintain).  If not then this is fine, but if so I can make a quick patch as you suggested.\nHere are the structs\nstruct _freenect_context {\n        freenect_loglevel log_level;\n        freenect_log_cb log_cb;\n        fnusb_ctx usb;\n};\nstruct _freenect_device {\n        freenect_context parent;\n        void user_data;\n```\n    // Cameras                                                                                                          \n    fnusb_dev usb_cam;\n    fnusb_isoc_stream depth_isoc;\n    fnusb_isoc_stream rgb_isoc;\nfreenect_depth_cb depth_cb;\nfreenect_rgb_cb rgb_cb;\nfreenect_rgb_format rgb_format;\nfreenect_depth_format depth_format;\n\nint cam_inited;\n\npacket_stream depth_stream;\nuint8_t depth_raw[DEPTH_RAW_11_BIT_SIZE];\nuint16_t depth_frame[FRAME_PIX];\n\npacket_stream rgb_stream;\nuint8_t rgb_raw[FRAME_PIX];\nuint8_t rgb_frame[3*FRAME_PIX];\n\n// Audio\n\n// Motor                                                                                                            \nfnusb_dev usb_motor;\n```\n};\n. Also if you note the ctypes version doesn't have any way to check that the pointer you give it back is a dev or a context.  So this is one step better than that (if this gets accepted I may wrap those pointers in similar classes to get the same behavior).  In Cython I can't return a void * to Python so these classes just let me pass them around, keep type information, and give the user some nice feedback if they are curious what it is.\n. Here is my sync implementation https://github.com/bwhite/libfreenect/blob/fec63b4281b6e601e35d2a34eca80b136661e1fd/wrappers/c_sync/freenect_sync.c\n. Ok it's updated\n. I believe this is because the device reinitializes when this happens.\n. Fixed.\n. I'll test this out but we have a new version of c_sync you will want to target.\n. I added it to my patch and gave you credit, hopefully that is ok with you https://github.com/OpenKinect/libfreenect/pull/128\n. You can grab my version here git://github.com/bwhite/libfreenect.git\n. ",
    "kashif": "You can also remove the ${GLU_LIBRARY} stuff as it has become obsolete:\nWARNING: you are using the obsolete 'GLU' package, please use 'OpenGL' instead\n. ",
    "jmpelletier": "Hi, \nSorry for missing that. It does indeed do what I was looking for. Thanks.\n. ",
    "vSaAmTp": "Great...\n. ",
    "korostelevm": "I'm having the same problem, frame rate goes back up and there are no more errors when I don't pull a video feed with freenect_sync_get_video\n. Also, really weird. The problem with dropping frames goes away when I plug in a usb mouse, comes back when unplugging\n. ",
    "madgadjt": "Having the same problem, has anyone had any luck correcting this issue? \nI have compiled and run glview fine on my desktop, however when i try the same on my laptop, I have similar output and my framerate is unusable.\n. i am interested in the dropped packets, I have the same issue and cannot resolve it\n. ",
    "troy-boswell1": "I agree that there is certainly a problem with libfreenect, however the library is usable. I can use libfreenect on both ubuntu 11.10 laptop or pandaboard. However I have written code that results in minmal magic numbers and dropped frames but it requires 90% cpu utilisation. I do this by threading the process_events libfreenect function. The high cpu utilisation is due to the main thread having my image processing in a tight while loop. If I use any type of blocking call in the main thread, then libfreenect become unusable and spewing magic number errors. This is rather unacceptable as 90% cpu utilisation over a long period of time is rather undesirable. I to am interested in diving it libfreenects usb code and fixing the issue, but time is the problem.\n. ",
    "lancelet": "I'm also still having this problem with the current git master (is this an issue over 3 years old?!).  If I only use a depth stream then the frames come back cleanly.  If I use both depth and RGB streams simultaneously, I see choppy capture and the console messages\n[Stream 70] Expected max 1748 data bytes, but got 1908. Dropping...\nThe dual depth+video capture is choppy on a 2013 Haswell MacBook Pro (2.6 GHz), so I doubt that it will be smooth for anyone's machine.\n. ",
    "anshulvj": "I'm facing a similar problem on Pcduino (ARM). I get a constant stream of errors:\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 7 packets\n[Stream 70] Lost 3353 total packets in 383 frames (8.754569 lppf)\n[Stream 70] Lost too many packets, resyncing...\n[Stream 80] Invalid magic 0515\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 7 packets\n[Stream 70] Lost 3360 total packets in 384 frames (8.750000 lppf)\n[Stream 70] Lost too many packets, resyncing...\n[Stream 80] Invalid magic 7255\n[Stream 80] Lost 1 packets\n[Stream 80] Lost 3047 total packets in 401 frames (7.598504 lppf)\n[Stream 80] Lost 4 packets\n[Stream 80] Lost 3051 total packets in 401 frames (7.608479 lppf)\n[Stream 80] Inconsistent flag 85 with 66 packets in buf (162 total), resyncing...\n[Stream 80] Invalid magic 101b\n[Stream 80] Lost 1 packets\n[Stream 80] Lost 3052 total packets in 401 frames (7.610972 lppf)\n[Stream 80] Lost 3 packets\n[Stream 80] Lost 3055 total packets in 401 frames (7.618454 lppf)\n[Stream 70] Invalid magic ffff\nAnd although glview shows Depth and RGB, the framerate is too slow, probably because of the drops. Can anyone suggest a solution to this?\n. ",
    "J-G-R": "I get the same as the original OP. I'm running libfreenect on a Beaglebone Black rev c running Ubuntu 14.04. If I work with one stream at a time it works well - 21fps with rgb and 6-7fps with the depth stream. However if i try to work with both RGB and depth streams at the same time, I get the same error as the original OP and i receive nothing from either stream. Has any progress been made with this issue?\n. I'm running a custom application written in C. It simply gets RGB and depth frames from the kinect, compresses them and then sends them back to my laptop via TCP socket. The method i'm using can be seen below:\n```\nint kinectUpdate(void) {\n    uint32_t ts;\n    // Pull a (distorted) RGB frame\n    int ret = freenect_sync_get_video_with_res((void **) &rgb_raw, &ts, 0,\n            FREENECT_RESOLUTION_MEDIUM, FREENECT_VIDEO_RGB);\n    if (ret != 0) {\n        printf(\"Error: unable to acquire RGB stream\\n\");\n        return ret;\n    }\n// Pull a depth frame registered to the above image\nint retD = freenect_sync_get_depth_with_res((void **) &depth_registered, &ts, 0,\n        FREENECT_RESOLUTION_MEDIUM, FREENECT_DEPTH_REGISTERED);\n\nif (retD != 0) {\n    printf(\"Error: unable to acquire registered depth stream\\n\");\n    return retD;\n}\nreturn 0;\n\n}\n```\nIf I delete either of the freenect_sync methods and run it it works perfectly and I receive the frames on my laptop. I've also tried separating this method into two individual methods but that doesn't work either. \n. I ran freenect-camtest for about 5 seconds and this is the result:\nfreenect-camtest\n[Stream 70] Negotiated packet size 1920\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x000c <= 0x00\n[Stream 70] Lost 12 total packets in 0 frames (inf lppf)\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nReceived depth frame at -1846614715\n[Stream 70] Lost 24 total packets in 1 frames (24.000000 lppf)\nwrite_register: 0x0047 <= 0x00\nReceived depth frame at -1842610405\n[Stream 70] Expected max 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 8772\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 84b0\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 12 packets\n[Stream 70] Lost 36 total packets in 2 frames (18.000000 lppf)\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 9b33\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 1d83\n[Stream 70] Invalid magic c5f8\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 6cc9\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic f75e\n[Stream 70] Invalid magic f27e\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\nReceived depth frame at -1838606095\nReceived depth frame at -1836603940\n[Stream 70] Expected max 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 83b0\n[Stream 70] Invalid magic f8bf\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic c197\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic eee1\n[Stream 70] Invalid magic 5ceb\n[Stream 70] Invalid magic 7e4f\n[Stream 70] Lost 12 packets\n[Stream 70] Lost 48 total packets in 4 frames (12.000000 lppf)\n[Stream 70] Lost too many packets, resyncing...\nReceived depth frame at -1832599630\n[Stream 70] Expected max 1748 data bytes, but got 1908. Dropping...\n[Stream 70] Invalid magic fffb\n[Stream 70] Invalid magic 3586\n[Stream 70] Invalid magic cd7f\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 6aed\n[Stream 70] Lost 6 packets\n[Stream 70] Lost 54 total packets in 5 frames (10.800000 lppf)\n[Stream 70] Lost too many packets, resyncing...\n^CShutting down\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0005 <= 0x00\nDone!\n. Hmm, I'll give your suggestions a try. I'm also thinking it's a hardware issue due to the camtest failed almost instantly. I knew the RPi wasn't able to handle libfreenect so I wen't for the beaglebone which I honestly thought would be able to keep up - 1GHz processor, 512Mb RAM - but now it looks like I'll have to go for a more powerful board. I'm thinking along the lines of an odroid which has a 1.7GHz quad core processor and 2GB of RAM. Do you think that will be enough to handle libfreenect?\n. Thanks for the insight. I've decided to bite the bullet and go for the Odroid xu3 lite like you suggested. I'll post here if it's successful.\n. Update: The kinect used with libfreenect works like a dream on the odroid. I'm even receiving 30 fps on my laptop over wifi, with no dropped packets. Thanks for the advice @piedar :+1: \n. ",
    "Cherden": "@J-G-R is there a way to get in contact with you?. Hi,\nI'm trying to do the same right now. Did you figure out what the problem was? I'm using a BeagleBoneBlack as well and have the same output. Tried to use a lower framerate/resolution as well but it didn't work either.\nThanks.. ",
    "ashmatash": "As a team project, we will be looking at possibly adding this feature to our fork\nOur team wiki: http://whenitsdone.wikispaces.com\n. ",
    "whatnick": "Tested with MSVC 2008 on Vista 64. The C-compatibility wrapper works fine with ctypes python bindings.\n. Closed pending push of modified zephod code.\n. ",
    "jkerdels": "I think i fixed these issues now. I removed the 32-bit writes, changed formatting and rebased on top of the current master (.. i think !??)\n. Ok, i followed your \"recipe\"... now, it should really be fixed ;-)\n. ",
    "michael-nischt": "Drew, thanks for the advice! \nI will make the necessary changes soon.\nBest,\n Micha\n. ",
    "ghost": "I have been playing with both the JNI wrapper and the JNA wrapper.  I wrote some documentation for the wiki on JNI and plan to do JNA today.\nAny thoughts on providing/maintaining both types of wrappers?  Maybe we could have ./wrappers/java/jni and .wrappers/java/jna OR ./wrappers/java-jni & ./wrappers/java-jna?\n. I've added some documentation for the JNA wrapper here:\nhttp://openkinect.org/wiki/Java_JNA_Wrapper\n. The link doesn't work for me either, is anyone working on it?\n. Hi!\nIn my case, i tried dudefellas solution - the code of renewagner - but it still not worked.\nI got the error \nsend_cmd: Data buffer is 322 bytes long, but got 334 bytes\nfreenect_fetch_zero_plane_info: send_cmd read 334 bytes (expected 322)\nfreenect_camera_init(): Failed to fetch zero plane info for device\nCould not open device\nTherefore I simply changed the code of camera.c like this\nswitch(dev->hwrev) {\n    case HWREV_XBOX360_0:\n-      expected_len = 322;\n+      expected_len = 334;\n      struct_offset = 94;\n      break;\nAnd it works.\nBTW, with OpenNI-1.5. I have no problems to run model 1473.\n. Hi,\nI found this page\nhttp://learn.adafruit.com/hacking-the-kinect/verify-the-vid-and-pid\nI followed the examples and my result is\nModell 1414\nXbox NUI Camera:\n                  Product ID: 0x02ae\n                  Vendor ID: 0x045e  (Microsoft Corporation)\n                  Version:  1.0b\n                  Serial Number: A00364803145051A\n                  Speed: Up to 480 Mb/sec\n                  Manufacturer: Microsoft\n                  Location ID: 0xfd133000 / 8\n                  Current Available (mA): 500\n                  Current Required (mA): 16\n                Xbox Kinect Audio, \u00a9 2011 Microsoft Corporation. All rights reserved.:\n                  Product ID: 0x02ad\n                  Vendor ID: 0x045e  (Microsoft Corporation)\n                  Version: 1,00\n                  Serial Number: A44884B05001051A\n                  Speed: Up to 480 Mb/sec\n                  Manufacturer: Microsoft\n                  Location ID: 0xfd131000 / 7\n                  Current Available (mA): 500\n                  Current Required (mA): Unknown (Device has not been configured)\n                Xbox NUI Motor:\n                  Product ID: 0x02b0\n                  Vendor ID: 0x045e  (Microsoft Corporation)\n                  Version: 1,07\n                  Speed: Up to 12 Mb/sec\n                  Manufacturer: Microsoft\n                  Location ID: 0xfd132000 / 6\n                  Current Available (mA): 500\n                  Current Required (mA): 100\nModel 1473\nXbox NUI Camera:\n                  Product ID: 0x02ae\n                  Vendor ID: 0x045e  (Microsoft Corporation)\n                  Version: 2,05\n                  Serial Number: 0\n                  Speed: Up to 480 Mb/sec\n                  Manufacturer: Microsoft\n                  Location ID: 0xfd132000 / 7\n                  Current Available (mA): 500\n                  Current Required (mA): 16\n                Xbox Kinect Audio, \u00a9 2011 Microsoft Corporation. All rights reserved.:\n                  Product ID: 0x02ad\n                  Vendor ID: 0x045e  (Microsoft Corporation)\n                  Version: 1,00\n                  Serial Number: A70777X03897236A\n                  Speed: Up to 480 Mb/sec\n                  Manufacturer: Microsoft\n                  Location ID: 0xfd131000 / 6\n                  Current Available (mA): 500\n                  Current Required (mA): Unknown (Device has not been configured)\nTruly no motor.\n. Hi,\ni tried with the new one.\nBut i get\nMaybe i did something wrong?\nMy code looks like this\nif (nr_cam == index) {\nunsigned char string_desc[256];\nres = libusb_open (devs[i], &dev->usb_cam.dev);\nif (res < 0 || !dev->usb_cam.dev) {\n    FN_ERROR(\"Could not open camera: %d\\n\", res);\n    dev->usb_cam.dev = NULL;\n    break;\n}\nprintf(\"*RES=%d, DESC=%s*\\n\",res,string_desc);\nAnd ran ./glview\n. Hi,\n@wizgrav yes, sry, my fault.\nafter many problems (like \"no device found\" -.-' ), my result is\ngreetings\nedit:\nfor the record: I work with Kinect model 1473\n. sry, that's similar to\nhttps://github.com/renewagner/libfreenect/commit/06e48e5d4328f96bf61613953bab2f45a459a1fb\n. @wizgrav code works. good work. ;) but i get no debugging output.\n. Hi sllalc, \nDid you find the solution to stop automatic re-calibration of NiTE2? Thank you! \n. Sure! I'd love to try it. Thank you so so much!\n. xcode project file and how to configure the daemon please. Thank you very much! Really appreciate your help. \n\nOn Apr 16, 2015, at 19:35, silaic notifications@github.com wrote:\nTomorrow i will send you.the.c++ project with.xcode proj file and how\nconfig the daemon.\nOr would you like only the compiled daemon plus instructions?\nIl giorno 17/apr/2015 01:21, \"June(Jun) Guo\" notifications@github.com ha\nscritto:\n\nSure! I'd love to try it. Thank you so so much!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/402#issuecomment-93861005\n.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n\n",
    "boilerbots": "you are correct.\n. In the lastest I removed the dc1394 integration and restored the original bayer function.\nI have also added a missing sequence detector.\n. submitted a new request. Closing this one.\n. Good catch. I removed the dc1394 include.\nThanks.\n. ",
    "fajran": "Now I think packaging files don't need to be part of the source code. So I cancel this request..\n. ",
    "mattrobertwhelan": "Is that what this error message means?\n[Stream 70] Inconsistent flag fa with 0 packets in buf (242 total), resyncing...\n. ",
    "lampietti": "Ok, it will be fixed by commit 84b6b2c\n. yeah, great work !\nbut it seems you forgot to add the libfreenectBlobs.as \n. ",
    "tito": "Absolutly no problem, very impatient to test :)\n. ",
    "nrocy": "Nice!\nI may be able to help with OSX testing - I've written a basic Processing/JNI wrapper for libfreenect/OSX so have some experience.\nLet me know if you need anything\n- Paul\n. ",
    "ghbright": "Is there someone who is still updating this? \nI got error running the JNATest.java :\nfreenect_set_video_mode: freenect_frame_mode provided is invalid\nfreenect_set_depth_mode: freenect_frame_mode provided is invalid\nI am wondering if the VideoFormat and DepthFormat is outdated already?\nany thoughts on how to make this work?\n. I found that someone did fix the Java wrapper about one month ago. But he didn't merge it to master branch. \nPlease see this thread: https://github.com/OpenKinect/libfreenect/pull/256\nCurrently it's still unmerged.\n. ",
    "wb4": "I modified the Java wrapper code to make it work with the current version of the libfreenect API as of today, 20 Dec 2011.  I'm a complete noob to github, so I have no idea as yet how to upload my changes to this thing.  I'm gonna read up on this site and try to find out how it's done.  Meanwhile, anybody who wants the modified code can email me a request to github@wbrameld4.name\n. ",
    "sylvinus": "ok! seems to still be the default package version in Fink though\n. ",
    "malnemark": "I would prefer a function, too. It is consistent for users to have only functions to call.\n. ",
    "chrisalexander": "I'm demoing this code in 2 hours and it seemed very broken - this patch just saved my life, thanks\n. ",
    "connorfeeley": "I'm really confused about how to use this. Could someone post some instructions?\nEDIT: I'm just looking for a command on how to patch it.\n. ",
    "yarikoptic": "lthough it seems useless to me (since I am both the author and the committer with correct name ) I will comply and resubmit pull request  with that yet another entry with my information.\n. ",
    "judicar": "nm\n. ",
    "slomp": "oops, my bad! thanks for the hint =)\n. ",
    "vokimon": "Many thanks.\nWhich is the work flow? Should be me the one to close the issue? Should i wait for it to be in master? Does it mind?\n. just to know if i had to take any action, thanks.\n. It worked to change the log locally but then i tryed to push it to origin and it failed with non-fast-forward error. Any git hints besides creating a new branch. Sorry, i am really new to git besides doing clones and pull.\n. ",
    "gotardop": "I'm trying to use this wrapper in Matlab 2010b and with the latest libfreenect version pulled from the git repository last night. First, I needed to change the include folder to /usr/local/include/freenect/ (it was missing the final part \"/freenect\").\nNow, even though I have all libraries in /usr/local/lib, I still get the following error:\n\n\nF = Freenect(0);\n\n\n??? Error using ==> loadlibrary at 477\nThere was an error loading the library \"/usr/local/lib/libfreenect_sync.so\"\nlibfreenect.so.0.0: cannot open shared object file: No such file or directory\nError in ==> Freenect>Freenect.ensureInitialized at 183\n                [~,warnings] = loadlibrary( ...\nError in ==> Freenect>Freenect.Freenect at 73\n            Freenect.ensureInitialized();\nCaused by:\n    Error using ==> loaddefinedlibrary\n    libfreenect.so.0.0: cannot open shared object file: No such file or directory\n. Same problem with Matlab 2009b.\nBTW, I'm using 32-bit Ubuntu 10.10.\n. Ok, I needed to add /usr/local/lib to LD_LIBRARY_PATH before calling Matlab (using setenv() from within Matlab did not work). Now the wrapper function seems to be working.\nHowever, do note the fix for the include folder in my first message above.\n. ",
    "xamox": "What system were you on?  I'm getting the same bug, although my code isn't commented out there.  I'm on 64bit Ubuntu 10.10, with latest updates.\nThis is causing the PCL demo to drop frames as well and act very slow.  I can't seem to find a solution at the moment.\n. I think this maybe related to my laptop specifically as well.  I'm not sure what the deal is with it, but I know it's related to USB and linux.  I can run libfreenect on my desktop machine (Ubuntu 10.10 w/ updates 64-bit) and not have issues.  On my laptop too sometimes it's like the kinect isn't detected, I have to unplug it and plug it back in.\nI haven't tried building and installing other various versions of libusb.  I'm on maverick (10.10) at the moment, I tried to upgrade but was running into video issues, the new natty interface doesn't seem stable enough for the development I need it for.\nI appreciate you responding, I'm not sure why it runs fine on my desktop vs. laptop.  If you have any suggestions I'm happy to try it.\n. I'm guessing it is glx support.\nAlthough, quick question, it compiles fine, just doesn't display.  Which I'm fine with, but I'm actually one of the developers for SimpleCV (http://www.simplecv.org), we are using your library to talk to the kinect.  I don't necessarily need glx, but the freenect python wrapper seems to not want to play nice either.  Do I necessarily need GLX to acquire images then?\n. Actually I apologize. It is working now after I rebooted.  I think part of the problem may have been I didn't run ldconfig after rebuilding and make installing, but the reboot probably fixed this.\nThanks for all your hard work, you've made it extremely easy for us to integrate the kinect with our framework.\n. ",
    "MrApplejuice": "There has passed some time since I posted it here and I put the Kinect for a while back on my board. However, I recently checked the new libfreenect version and the error seems to have become even more persistent. I am using 64bit Ubuntu 11.04 and now it seems that almost for every frame a magic numbers is not correct. Either the RGB-stream or the Depth-stream are running smoothly when running glview, never both. Libfreenect is pretty much unusable at this stage. I think that I start to delve into the depths of libusb and figure out what the problem is... ... lets see how long that will take ... \n. Okay... just figured kind of a solution for all Ubuntu users experiencing the given problem of not being able to use libfreenect. If you use the ubuntu packages provided Arne Alamut described in http://openkinect.org/wiki/Getting_Started#Ubuntu, the library kind of works. Still a lot of invalid magic numbers but at least fluent data streams. If you are using natty like me you can install the maverick packages since no build vor natty is provided yet. they seem to work pretty well... \nI hope that helps someone, but this bug is far from being solved it seems, since the compiled libraries seem to show the exact same bug described in the first post :-) [though I have not tested that thoroughly in the last couple of minutes]\n. Ok.... could be! I was also running my Ubuntu on a laptop, too. I installed Arch Linux on my desktop machine since friends reported libfreenect would run perfectly with libusb from Arch Linux (I still assume that the error orginates from libusb). However, on my desktop I have a near-perfect framerate with only very, very few errors\n\n[Stream 70] Invalid magic ####\n\nSo, it could be laptops, which is weird or a broken distro-package (for some hardware or so). Sill wierd, but I am happy that I can use my kinect now again :D\nSo the only suggestion now I have until now is: Try another distro (like Arch Linux - lots of configuring but it paid off for me)! That is surely not the best option, but since I have no time to dig into the kernel/libusb code myself, that is the best I have to offer.\n. ",
    "toebbel": "same problem with fakenect/record.c\nif I remove the following lines, the program doesn't provide me any RGB/depth images.\nfreenect_raw_tilt_state* state;\nfreenect_update_tilt_state(dev);\nstate = freenect_get_tilt_state(dev);\n. ",
    "willolbrys": "alright i think i get it, thanks for dealing with me\n. ",
    "hmaarrfk": "Ok I know exactly what is wrong now.\nThe code is ok in theory, but there is a synchronisation problem that arises when closing the kinect.\nYou must remember that there are technically 2 threads running, one processing events from the kinect, and the other running glut.\nUpon close, we join the threads, but there are still some interrupt driven functions that are called when you get events from the kinect.\nThe bug is something specific to cpp.\nWe start destroying the device, when this happens, the virtual functions become uncallable.\nBut there are still some frames that need to be processed by the callback functions.\nThe interrupt driven functions of the libfreenect call these virtual functions.\nSince libfreenect does not use locks to synchronise data across multiple threads, I believe that it is impossible to fix this synchronisation problem.\nI'm simply going to call stop video and depth before destroying the structures and wait a second.\nThis does not solve the synchronisation problem, for example if your computer is lagging and the usb traffic is heavily buffered.\nBut I think it should allow you to debug your code to see if it exists properly without having to worry about this bug...\n. Ok So here is an other fix, that I am pretty sure is only save 99.9999% of the time, and we all know how annoying that is:\nin ~MyFreenectDevice\ncall\nstopVideo()\nstopDepth()\nthis decreases the chances of the video causing an interrupt before the struct is destroyed and its virtual functions are no longer callable. \nIn my code, I'm still going to add the 1 second delay, I i like to have code that doesn't cause errors at random moments ....\n. ",
    "pkropf": "Amended the commit message with the signoff. Sorry about that, next time I'll be sure to include it.\n. ",
    "rennhak": "Sorry forgot to add that the issue 144 fix (https://github.com/OpenKinect/libfreenect/issues#issue/144) didn't work for me.\n. ",
    "jonromero": "thanks for the feedback! \nYeah it was a messy commit and I am planning to make it better :D\n. ",
    "RyanGordon": "Understood, and yeah, in order for LabView support binary releases will need to happen\n. ",
    "piponazo": "Thanks for your help qdot. After taking a look to the wiki page I've got this error message when I try to run the first command indicated in the \"Forgetting to sign off after committing\" section:\n~$ git checkout -b signoff $(git merge-head origin/master)\ngit: 'merge-head' is not a git command. See 'git --help'.\nI'm using Ubuntu 10.04, and the version of GIT that I've installed is 1.7.0.4.\n. ",
    "Goddard": "Is it libfreenect? because I built from source and using FIND_PACKAGE is giving me an error.\n. ",
    "nneonneo": "Unfortunately, this breaks installation on Mac OS X. On OS X, Python libraries go in /Library/Frameworks/Python.framework/Versions//lib/python/site-packages, not in /usr/local. Obviously, the rest of freenect's libraries do not belong in the Python framework.\nSo, under OS X, it is improper to use CMAKE_INSTALL_PREFIX as the prefix for Python modules because it is wrong.\n. P.S. being somewhat new to Github, I wasn't sure how to squash the (minor) change to the Python CMakeLists; accept or ignore that change if you will. All it does is fix a compilation error from omitting the Python libraries during linking.\n. There's no support for near mode at the moment. I expect the fix is probably a simple register write, but since I don't have a K4W unit, I can't test this out.\nAny K4W-endowed hardware hackers willing to find out?\n. You could use a tool like UsbLyzer to dump the communication between the Kinect and your computer. Turn off all the streams to avoid a flood of data, then toggle the near/far mode a few times. In theory, you will be able to capture a relatively small set of USB packets; we can examine those and find the packets corresponding to the near mode functionality.\n. Thanks! That's very helpful.\nIt looks like there are two registers involved. I'm not sure which is which, but here's the sequence:\nt=0.35 write 0x0007 to reg 0x0015 (wiki claims this is an apparent no-op)\nt=0.45 write 0x0000 to reg 0x02EF (new register, could be near mode enabler)\nt=0.70 write 0x001E to reg 0x0015 (default value for this register)\nt=0.80 write 0x0190 to reg 0x02EF\nt=1.55 write 0x0007 to reg 0x0015\nt=1.65 write 0x0000 to reg 0x02EF\nt=1.90 write 0x001E to reg 0x0015\nt=2.00 write 0x0190 to reg 0x02EF\nSo, setting the flag seems to take 100ms, and otherwise the looping flag changes are very obvious. I would suggest trying to set reg 0x02EF to 0x0190 in libfreenect and seeing if that will trigger near mode (you may want to write reg 0x0015 first, just in case?)\n. The fact that 0x190 = 400 lends credence to the notion that 0x2EF is the near-mode enable, because 400mm is the closest distance that the Kinect sensor will see in near mode, and also the difference between the near-mode minimum distance and the normal-mode minimum distance (800mm).\n. Try setting 0x2EF to 0x0000, and also try setting 0x0015 to 0x0007 before setting 0x02EF.\n. Make sure you stop the depth image before setting any of these\nregisters. Also try waiting 100ms between setting 0x015 and 0x02EF, as\nthe K4W library seems to do that.\nRobert\n\u5728 2012-3-8\uff0c15:57\uff0cDongxu Li\nreply@reply.github.com\n\u5199\u9053\uff1a\n\nHi,\nI have tested all the combinations here, with one hang with setting reg\n0x15 to 7 and reg 0x2ef to 0, although it doesn't always hang.\nI'm not able to get far mode back yet.\nthanks,\ndxli\nOn Mar 8, 2012 3:09 PM, \"Robert Xiao\" \nreply@reply.github.com\nwrote:\n\nTry setting 0x2EF to 0x0000, and also try setting 0x0015 to 0x0007 before\nsetting 0x02EF.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/OpenKinect/libfreenect/issues/274#issuecomment-4401142\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/OpenKinect/libfreenect/issues/274#issuecomment-4402091\n. Actually, are you certain it is in near mode? It's actually possible that I got this backwards: 7 to 0x15 and 0 to 0x2EF might be near mode enable; 0x1E to 0x15 and 400 to 0x2EF might be near mode disable. I'm basing this on the fact that the enable and disable are 250ms apart in both the code you sent and the UsbLyzer output...\n\nCan you please double-check to make sure the K4W unit is really being set to a near mode? The easiest way to find out if the toggle does anything would be to make a function which toggles the value, then run something like\n``` c\n{\n  freenect_stop_depth(dev);\n  freenect_set_near_mode(dev, 1);\n  freenect_start_depth(dev);\n  for(int i=0; i<50; i++) { freenect_process_events(ctx); } // process events normally for 50 frames\nfreenect_stop_depth(dev);\n  freenect_set_near_mode(dev, 0);\n  freenect_start_depth(dev);\n  for(int i=0; i<50; i++) { freenect_process_events(ctx); } // process events normally for 50 frames\n}\n```\nin, e.g. glview. Then, you should be able to see the depth data changing if the settings are working.\n. I feel like we missed something. Just a few more things to try off the top of my head:\n1. Are you using DEPTH_REGISTERED or DEPTH_11BIT in libfreenect?\n2. Could you post another UsbLyzer log with the depth data intact, switching between just near and far modes? Ideally, use different delays (e.g. 1200ms, 1900ms) so that it's clear which is which in the output.\n3. The K4W library actually changes the registers (apparently) without stopping the depth stream in-between. I suppose you could try that, though it definitely seems weird.\n. Cool! The patch looks good. You should submit a pull request for it :)\n. 10.7 and 10.8; neither work.\n. Pretty much any change in freenect.pyx produces a huge change in\nfreenect.c, which pollutes the diff unnecessarily.\nOn Sep 1, 2014 5:19 PM, \"Benn Snyder\" notifications@github.com wrote:\n\nWhat's the benefit of treating freenect.c as binary?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/pull/397#issuecomment-54092282\n.\n. Not particularly ideal for people without Cython, though. I usually try to\navoid build requirements if possible.\nOn Sep 2, 2014 12:47 AM, \"Benn Snyder\" notifications@github.com wrote:\nTrue. It might be even better to remove freenect.c and have a build dep on\ncython (note to self).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/pull/397#issuecomment-54109170\n.\n. \n",
    "danomatika": "Thanks!\n. This currently won't build on Windows as the libusb_set_interface_alt_setting function wrapper for libusb_win32 is missing from libusbemu.cpp. I'll try whipping up one now.\n. Here's what I have: https://github.com/danomatika/libfreenect/commit/5775c6d91290c7de897d5f46fc28b184c01924ab and it builds.\nI'll don't have a new device handy, but I'll send out the changes to see if it works for others who do. This is through the OpenFrameworks freenect wrapper: ofxKinect\n. Ha, we did the same thing at the same time. I incorporated your changes in my fork (I forgot to claim the interface) and I'll push out a version people can try on my end. If that's working, I can let you know and do a PR, etc.\nIn any case, it's building and running on Windows, but I can't know for certain until I get a newer model kinect.\n. I gotten the same report from people on OSX as well.\n. @cliff76 If you're using ofxKinect with OpenFrameworks, it's using a precompiled libusb that has the patch applied to it as noted on the freenect wiki. That was required 2 years ago, but perhaps it's not needed anymore and the current non-patched libusb works. I should be getting access to a 1473 kinect and will try soon.\n. Remove the lib it from the OF xcode project and add search paths to your libusb headers and lib location. If you're using macports, that would be something like /opt/local/include/libusb and /opt/local/lib/libusb ...\n. @cliff76  Yes. OF is currently still 32bit only on OSX. Rebuild libusb as 32bit or a universal lib with macports.\n. I can confirm a 1473 I got off ebay and doesn't work with OSX 10.8 (freezes after 20-30 secs) works fine on Windows 7 with this fork. Will try on linux in an hour or two.\n. Oh, and I notice that with the same code on Win 7 (OpenFrameworks/ofxKinect), the 1473 gets ~40 fps while the 1414 is averaging ~28 fps in an app that's limited to 60.\n. 100th post! :dancer: \nMy 1473 doesn't work in Ubuntu 12.04 with the current libfreenect fork in ofxKinect, with or without ofTheo's addition. The same code seems to work fine with the same 1473 on Windows 7 ...\nThe stream stops after 1-2 seconds.\n. I have the udev rules installed, so it shouldn't be a privilege issue.\nJust tested again on Ubutnu 12.04. Running glview from your fork works fine with my 1473, so it must be something we're doing in ofxKinect, at least on Linux.\n. libusb from homebrew works for me on 10.8\n. ",
    "radarsat1": "Sorry, didn't even notice the presence of the unstable branch.  I'll resubmit.  I'm still evaluating the compression, trying to see how much data is recoverable etc.. currently it uses RGB24 format, zero-padding the 11-bit gray depth values.  (So the depth video appears red.)  In fact ffmpeg has a \"gray16\" format, but it seems to be not supported by any codecs.  I only got it to work as \"rawvideo\" with the Matroska container, which isn't so useful.  Ideally it would be nice to be able to timestamp the individual frames, but as far as I can tell this isn't possible.. if not, perhaps an option to save the RGB and depth information together as a double-wide video frame would be the best way to synchronize the two streams.\n. Yeah, I definitely want timestamps--the problem is how to get ffmpeg to record them.  If it's even possible, it can probably only be done by linking to the ffmpeg libraries and doing a lot more work than just running the binary through popen like I'm doing here.\nIn the meantime maybe an intermediate solution could be to record the timestamps into a separate index file, like you're already doing for the individual frames.  At least then the information would be available for later analysis, even if the video file isn't actually played properly by a normal video player.  (I'm doing this to record some mocap data for later analysis using matlab or python, so a hacky solution like this could be acceptable for me even if it's not ideal.)\n. Hm, just working on this, I seem to be confused.  Where are these functions freenect_find_video_mode etc?\n```\n$ git checkout -b unstable origin/unstable\n$ grep -r freenect_find_video_mode .\n$ git diff origin/master..origin/unstable | grep freenect_find_video_mode\n$\n```\nI can see the constants FREENECT_RESOLUTION_MEDIUM etc listed in the header file but not the functions.\n. Oops, brainfart, I was pulling from my own fork. Sorry for the noise.\n. Opening a new request for new patch.\n. Really, sorry I guess I clicked it in the wrong place.  Haven't done a pull request on github before. I'll try again.\n. Sweet.\n. ",
    "bayanaa": "Hello ,\nI have some quistions and problems.\nwhen I compile freenect and opencv in code blocks on ubuntu.\nthere was an error :freenect_sync_get_rgb was not declared in this scope.\nwhen I see libfreenect_sync.h there is not freenect_sync_get_rgb function.\nhere is the code :\ninclude \ninclude \nfreenect_context f_ctx;\nfreenect_device f_dev;\nint main(int argc, char _argv)\n{\n    IplImage image = cvCreateImageHeader(cvSize(640,480), 8, 3);\n    while (cvWaitKey(10) < 0) {\n      char *data;\n      unsigned int timestamp;\n      freenect_sync_get_rgb(&data, &timestamp);\n      cvSetData(image, data, 640_3);\n      cvCvtColor(image, image, CV_RGB2BGR);\n      cvShowImage(\"RGB\", image);\n      free(data);\n    }\n}\n. ",
    "nh2": "Hey,\nyes, I think something is wrong here.\nlibfreenect installs its files into $PREFIX/include/libfreenect/libfreenect.h, so in a libfreenect/ subdirectory in the include path. That usually suggest to people that they should use #include <libfreenect/libfreenect.h> instead of #include <freenect.h> in their source code, but libfreenect_sync.h itself uses #include <libfreenect.h> which means you have to mess around with include path flags a lot in order to get things compiling (especially bindings from other languages).\nIt would be nice if libfreenect could pick one of the two ways and consistently follow it (personally I believe that the current structure looks good and that libfreenect_sync.h should be changed to #include <libfreenect.h>).\nWhat do you think?\n. ",
    "vargaron": "I've got the same problem. I'm working on the same platform.\n. ",
    "notarysojac": "Hi - Working with MacOSX - 10.6.8 - If I access libOpenNI.dylib from the main thread - the dreaded \"GLUT Warning: glutInit being called a second time.\" appears - and the var m_hNode is always NULL.  \nIf I run the various calls from a thread, the errors change to become:\n2011-07-05 13:22:58.966 MyTracker[1827:5403] GLUT Warning: glutInit being called a second time.\n2011-07-05 13:22:59.018 MyTracker[1827:5403] * Assertion failure in +[NSUndoManager _endTopLevelGroupings], /SourceCache/Foundation/Foundation-751.62/Misc.subproj/NSUndoManager.m:271\nERROR m_hNode was nil\nERROR m_hNode was nil\nERROR m_hNode was nil\n2011-07-05 13:22:59.019 MyTracker[1827:5403] +[NSUndoManager(NSInternal) _endTopLevelGroupings] is only safe to invoke on the main thread.\n2011-07-05 13:22:59.020 VuserTracker[1827:5403] * Assertion failure in +[NSUndoManager _endTopLevelGroupings], /SourceCache/Foundation/Foundation-751.62/Misc.subproj/NSUndoManager.m:271\n2011-07-05 13:22:59.021 MyTracker[1827:5403] GLUT Fatal Error: internal error: NSInternalInconsistencyException, reason: +[NSUndoManager(NSInternal) _endTopLevelGroupings] is only safe to invoke on the main thread.\nSHEESH! - I think it's a case of dueling-interests where one of the players is making a call to glutInit() and, because it's identified as being in the same thread - or belonging to the same process - the errors appear.  I spent the weekend trying to get to the bottom of this.  Still not there... any clues to what's really going on would be greatly appreciated. \nThanks!\n. BTW - the \"ERROR m_hNode was nil\" are there as per my additions to the XnCppWrapper source. \n. ",
    "thprego": "Any news on the TODO?\n. ",
    "fcoulombe": "duplicate\n. Fixes #219\nzarvox told me to close this since the request is a bit messed up\n. ",
    "astrofrog": "I modified the setup.py file as suggested, and managed to build the Python wrapper. Thanks!\n. ",
    "jimmyharris": "Signed off. \nLet me know if you need me to do anything else for the patch.\n. ",
    "kylemcdonald": "tried to be smart with --amend. git gave me a swift kick in the butt. resubmitting.\n. just curious if this is going to get pulled now that i've resubmitted a signed version, or if i did something else wrong?\nit's super important for long-term stability of libfreenect on OSX.\n. i keep running into this issue when working with other people who are using libfreenect on lower power apple machines. is there anything else i could possibly do to get this pulled?\n. just came up again on the list:\nhttps://groups.google.com/group/openkinect/browse_thread/thread/3dde40f8f8ddc3c1/c15dd2a3183a6926?show_docid=c15dd2a3183a6926&pli=1\nhow can i help get this simple change made?\n. woww -- i totally missed that it is 1024/480 rather than 1280/640! i don't really understand why. thanks for responding quickly!\n. ",
    "fernLightning": "Still locks up on device disconnect.  The only solution I've found is to provide means to escape the while loop after a timeout. I'm unsure of the side effects of this, but it is working reliably for me.\nint fnusb_stop_iso(fnusb_dev _dev, fnusb_isoc_stream *strm) {\n  ...\n  struct timeval start;\n  gettimeofday(&start, NULL);\n  while (strm->dead_xfers < strm->num_xfers) {\n    struct timeval tv = {.tv_sec=1, .tv_usec=0};  // dont block forever, wait at most 1sec\n    libusb_handle_events_timeout(ctx->usb.ctx, &tv); \n    gettimeofday(&tv, NULL);\n    long msecs = (tv.tv_sec - start.tv_sec)_1000;\n    msecs += (tv.tv_usec - start.tv_usec)/1000;\n    if(msecs > 4000) {\n      FN_WARNING(\"Stopping - giving up after %ldms\\n\", msecs); \n      break;\n      }\n    }\n    ...\n}\n. It sometimes happens on disconnect, not always.\nIt happens 1 out of 10 times here in the office with one kinect, but seems to happen far more often on site (where we have three kinects on the one machine).\nI've not tried the Demos recently.\n. ",
    "nbourdau": "It would be a bad idea because:\n- you can have libfreenect built without libfreenect_sync\n- if you link something against libfreenect (using pkgconfig), you would pull an unecessary dependency on libfreenect_sync\nIf you want to use pkgconfig with libfreenect_sync, you should instead create a pkgconfig file specific for libfreenect_sync (that would have a \"Requires\" field set to libfreenect)\n. Replied! :-) See the previous comment\n. Closed since cherry-picked\n. A new pull request have been made integrating these two commits\n. ",
    "reustle": "Nice work!\n. ",
    "bigorangemachine": "Helluva a good feature!\n. Wizgav,\nThanks again for this patch!  Works for my 1473.  No tilt though :(\nAs a note to others: you may not need to follow the libusb patch as noted in the wiki (OSX)\n. Wizgav,\nSure makes sense.  Wasn't sure if it was my installation, my kinetic, my computer or my software.  Happy to hear its not something I did ^_^\n. @wizgrav \nWhatever the new update you put in I'm now getting:\nsudo glview\nKinect camera test\nNumber of devices found: 1\nCould not open device\nI'm going to revert to the old version to confirm its not my device.\n~~Ah crude its my device :(~~\nI grabbed the wrong update (still learning github here)\nsudo git reset --hard e917016d8ac3e08ce941194ea8a68f00de53fda6\nThat is working now.\n. @wizgrav \nYa everything is working with the older version of code now.  Its a 1473 that was working previously (now with a revert).\n. @wizgrav \nI'm pretty inexperienced when it comes to command line.  I get those errors from doing sudo ./glview\nWhat should I execute to give you debugging info?\n. @wizgrav \n~~doing sudo git reset --hard 992b7b10ae88d296b695ddf0a4d80b668427d607~~\n~~results in~~\nsudo make\nScanning dependencies of target freenect\n[  4%] Building C object src/CMakeFiles/freenect.dir/core.c.o\nIn file included from /usr/bin/libfreenect/src/freenect_internal.h:32,\n                 from /usr/bin/libfreenect/src/core.c:34:\n/usr/bin/libfreenect/include/libfreenect.h:313: error: conflicting types for \u2018freenect_select_subdevices\u2019\n/usr/bin/libfreenect/include/libfreenect.h:304: error: previous declaration of \u2018freenect_select_subdevices\u2019 was here\nmake[2]: *** [src/CMakeFiles/freenect.dir/core.c.o] Error 1\nmake[1]: *** [src/CMakeFiles/freenect.dir/all] Error 2\nmake: *** [all] Error 2\n~~doing sudo git reset --hard 05a0ce0ad03adc87b6f3c0bbce1d17fa96ea990a\nWORKS!~~\nLooks like I forgot the ./glview! Works fine!\n. @wizgrav \nTilt & LED functions seem to have no effect :(\n. @wizgrav \nNothing is broken from you! Everything is working except the LED & tilt.  The commit notes made me think it worked!\n. @wizgrav \nShould we be testing your version?\nI'm running 10.6.8 with a 1473 (I have a 1414 available as well).  I'm not getting random disconnects.  Should I alter the code to match the above (https://github.com/OpenKinect/libfreenect/pull/325#issuecomment-20323331)?\nMy process:\nWizgav libfreenect version: 442017f1b204200911985301f2e5f3280cfc312e\nI did not patch my libusb. Acquired via git clone git://git.libusb.org/libusb.git\nI run sudo ./build/glview\nafter 20 seconds I get: raw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000\n(so the 20 second motor ping is happening)\nHere is the bus probe output from running glview\nFull Speed device @ 1 (0x04000000): .............................................   Hub device: \"OHCI Root Hub Simulation\"\n    Port Information:   0x061d\n           Built-in Root Hub\n           Captive\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   0   (Full/Low Speed)\n        Device MaxPacketSize:   8\n        Device VendorID/ProductID:   0x05AC/0x8005   (Apple Inc.)\n        Device Version Number:   0x0200\n        Number of Configurations:   1\n        Manufacturer String:   2 \"Apple Inc.\"\n        Product String:   1 \"OHCI Root Hub Simulation\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   27\n            Raw Descriptor (hex)    0000: 0A 02 1B 00 01 01 00 60  00 70 09 04 00 00 01 09  \n            Raw Descriptor (hex)    0010: 00 00 00 08 05 81 03 08  00 20 FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0x60 (self-powered, remote wakeup)\n        MaxPower:   0 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8\n                Polling Interval:   32 ms\n    Hub Descriptor   \n        Length (and contents):   11\n            Raw Descriptor (hex)   0000: 0B 29 07 00 00 01 00 60  00 00 00 \n        Number of Ports:   0x07\n        Hub Characteristics:   0x0 (Gang switched standalone hub with global overcurrent protection requiring 8 FS bit times and  no port indicators)\n        PowerOnToGood time:   2 ms\n        Controller current:   0 mA\n        Device Removable (byte):   0x60\n        Port Power Control Mask (byte):   0x0\nLow Speed device @ 2 (0x04500000): .............................................   IR Receiver (Device is suspended)\n    Port Information:   0x003f\n           Captive\n           Attached to Root Hub\n           Internal Device\n           Connected\n           Enabled\n           Suspended\nFull Speed device @ 3 (0x04600000): .............................................   Composite device: \"Apple Internal Keyboard / Trackpad\"\n    Port Information:   0x001f\n           Captive\n           Attached to Root Hub\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   0   (Composite)\n        Device Subclass:   0\n        Device Protocol:   0\n        Device MaxPacketSize:   8\n        Device VendorID/ProductID:   0x05AC/0x0236   (Apple Inc.)\n        Device Version Number:   0x0081\n        Number of Configurations:   1\n        Manufacturer String:   1 \"Apple Inc.\"\n        Product String:   2 \"Apple Internal Keyboard / Trackpad\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   84\n            Raw Descriptor (hex)    0000: 09 02 54 00 03 01 00 A0  14 09 04 00 00 01 03 01  \n            Raw Descriptor (hex)    0010: 01 03 09 21 11 01 21 01  22 9C 00 07 05 83 03 0A  \n            Raw Descriptor (hex)    0020: 00 08 09 04 01 00 01 03  00 00 04 09 21 11 01 00  \n            Raw Descriptor (hex)    0030: 01 22 1B 00 07 05 81 03  40 00 02 09 04 02 00 01  \n            Raw Descriptor (hex)    0040: 03 01 02 04 09 21 11 01  00 01 22 34 00 07 05 84  \n            Raw Descriptor (hex)    0050: 03 08 00 08 \n        Number of Interfaces:   3\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   40 ma\n        Interface #0 - HID/Boot Interface ..............................................   \"Apple Internal Keyboard\"\n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   1   (Boot Interface)\n            Interface Protocol:   1\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   33\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   156\n                        Raw Descriptor (hex)    0000: 05 01 09 06 A1 01 85 01  05 07 19 E0 29 E7 15 00  \n                        Raw Descriptor (hex)    0010: 25 01 75 01 95 08 81 02  95 01 75 08 81 01 95 05  \n                        Raw Descriptor (hex)    0020: 75 01 05 08 19 01 29 05  91 02 95 01 75 03 91 01  \n                        Raw Descriptor (hex)    0030: 95 06 75 08 15 00 26 FF  00 05 07 19 00 29 FF 81  \n                        Raw Descriptor (hex)    0040: 00 05 0C 75 01 95 01 09  B8 15 00 25 01 81 02 05  \n                        Raw Descriptor (hex)    0050: FF 09 03 75 07 95 01 81  02 C0 05 0C 09 01 A1 01  \n                        Raw Descriptor (hex)    0060: 85 52 15 00 25 01 75 01  95 01 09 CD 81 02 09 B3  \n                        Raw Descriptor (hex)    0070: 81 02 09 B4 81 02 09 B5  81 02 09 B6 81 02 81 01  \n                        Raw Descriptor (hex)    0080: 81 01 81 01 85 09 15 00  25 01 75 08 95 01 06 01  \n                        Raw Descriptor (hex)    0090: FF 09 0B B1 02 75 08 95  02 B1 01 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Generic Desktop) \n                          Usage (Keyboard)    \n                              Collection (Application)    \n                                ReportID................    (1)  \n                                Usage Page    (Keyboard/Keypad) \n                                Usage Minimum...........    (224)  \n                                Usage Maximum...........    (231)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Report Size.............    (1)  \n                                Report Count............    (8)  \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Report Count............    (1)  \n                                Report Size.............    (8)  \n                                Input...................   (Constant, Array, Absolute) \n                                Report Count............    (5)  \n                                Report Size.............    (1)  \n                                Usage Page    (LED) \n                                Usage Minimum...........    (1)  \n                                Usage Maximum...........    (5)  \n                                Output..................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                                Report Count............    (1)  \n                                Report Size.............    (3)  \n                                Output..................   (Constant, Array, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                                Report Count............    (6)  \n                                Report Size.............    (8)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (255)  \n                                Usage Page    (Keyboard/Keypad) \n                                Usage Minimum...........    (0)  \n                                Usage Maximum...........    (255)  \n                                Input...................   (Data, Array, Absolute) \n                                Usage Page    (Consumer) \n                                Report Size.............    (1)  \n                                Report Count............    (1)  \n                                Usage 184 (0xb8)    \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage Page    (255) \n                                Usage 3 (0x3)    \n                                Report Size.............    (7)  \n                                Report Count............    (1)  \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                              End Collection     \n                          Usage Page    (Consumer) \n                          Usage 1 (0x1)    \n                              Collection (Application)    \n                                ReportID................    (82)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Report Size.............    (1)  \n                                Report Count............    (1)  \n                                Usage 205 (0xcd)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 179 (0xb3)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 180 (0xb4)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 181 (0xb5)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 182 (0xb6)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Input...................   (Constant, Array, Absolute) \n                                Input...................   (Constant, Array, Absolute) \n                                Input...................   (Constant, Array, Absolute) \n                                ReportID................    (9)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Report Size.............    (8)  \n                                Report Count............    (1)  \n                                Usage Page    (Vendor defined 1) \n                                Usage 11 (0xb)    \n                                Feature.................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                                Report Size.............    (8)  \n                                Report Count............    (2)  \n                                Feature.................   (Constant, Array, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                              End Collection     \n            Endpoint 0x83 - Interrupt Input   \n                Address:   0x83  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   10\n                Polling Interval:   8 ms\n        Interface #1 - HID ..............................................   \"Touchpad\"\n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   0\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   27\n                        Raw Descriptor (hex)    0000: 06 00 FF 09 01 A1 03 06  00 FF 09 01 15 00 26 FF  \n                        Raw Descriptor (hex)    0010: 00 85 44 75 08 96 FF 01  81 00 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Vendor defined 0) \n                          Usage 1 (0x1)    \n                              Collection (Collection )    \n                                Usage Page    (Vendor defined 0) \n                                Usage 1 (0x1)    \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (255)  \n                                ReportID................    (68)  \n                                Report Size.............    (8)  \n                                Report Count............    (511)  \n                                Input...................   (Data, Array, Absolute) \n                              End Collection     \n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   2 ms\n        Interface #2 - HID/Boot Interface ..............................................   \"Touchpad\"\n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   1   (Boot Interface)\n            Interface Protocol:   2\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   0\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   52\n                        Raw Descriptor (hex)    0000: 05 01 09 02 A1 01 09 01  A1 00 05 09 19 01 29 03  \n                        Raw Descriptor (hex)    0010: 15 00 25 01 85 02 95 03  75 01 81 02 95 01 75 05  \n                        Raw Descriptor (hex)    0020: 81 01 05 01 09 30 09 31  15 81 25 7F 75 08 95 02  \n                        Raw Descriptor (hex)    0030: 81 06 C0 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Generic Desktop) \n                          Usage (Mouse)    \n                              Collection (Application)    \n                                Usage (Pointer)    \n                                    Collection (Physical)    \n                                      Usage Page    (Button) \n                                      Usage Minimum...........    (1)  \n                                      Usage Maximum...........    (3)  \n                                      Logical Minimum.........    (0)  \n                                      Logical Maximum.........    (1)  \n                                      ReportID................    (2)  \n                                      Report Count............    (3)  \n                                      Report Size.............    (1)  \n                                      Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                      Report Count............    (1)  \n                                      Report Size.............    (5)  \n                                      Input...................   (Constant, Array, Absolute) \n                                      Usage Page    (Generic Desktop) \n                                      Usage (X)    \n                                      Usage (Y)    \n                                      Logical Minimum.........    (-127)  \n                                      Logical Maximum.........    (127)  \n                                      Report Size.............    (8)  \n                                      Report Count............    (2)  \n                                      Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                    End Collection     \n                              End Collection     \n            Endpoint 0x84 - Interrupt Input   \n                Address:   0x84  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8\n                Polling Interval:   8 ms\nHigh Speed device @ 1 (0x24000000): .............................................   Hub device: \"EHCI Root Hub Simulation\"\n    Port Information:   0x061d\n           Built-in Root Hub\n           Captive\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   1   (High Speed Single Transaction Translator)\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x05AC/0x8006   (Apple Inc.)\n        Device Version Number:   0x0200\n        Number of Configurations:   1\n        Manufacturer String:   2 \"Apple Inc.\"\n        Product String:   1 \"EHCI Root Hub Simulation\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   27\n            Raw Descriptor (hex)    0000: 0A 02 1B 00 01 01 00 60  00 70 09 04 00 00 01 09  \n            Raw Descriptor (hex)    0010: 00 01 00 08 05 81 03 08  00 09 FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0x60 (self-powered, remote wakeup)\n        MaxPower:   0 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   1   (Multi TT Hub configured as a Single TT Hub)\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8  (8 x 1  transactions opportunities per microframe)\n                Polling Interval:   9 (256 microframes (32 msecs) )\n    Hub Descriptor   \n        Length (and contents):   11\n            Raw Descriptor (hex)   0000: 0B 29 07 00 00 32 00 10  00 FF FF \n        Number of Ports:   0x07\n        Hub Characteristics:   0x0 (Gang switched standalone hub with global overcurrent protection requiring 8 FS bit times and  no port indicators)\n        PowerOnToGood time:   100 ms\n        Controller current:   0 mA\n        Device Removable (byte):   0x10\n        Port Power Control Mask (byte):   0x0\nHigh Speed device @ 2 (0x24400000): .............................................   Built-in iSight (Device is suspended)\n    Port Information:   0x003f\n           Captive\n           Attached to Root Hub\n           Internal Device\n           Connected\n           Enabled\n           Suspended\nHigh Speed device @ 3 (0x24100000): .............................................   Hub device: \"Keyboard Hub\"\n    Port Information:   0x001a\n           Not Captive\n           Attached to Root Hub\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   1   (High Speed Single Transaction Translator)\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x05AC/0x1006   (Apple Inc.)\n        Device Version Number:   0x9615\n        Number of Configurations:   1\n        Manufacturer String:   1 \"Apple, Inc.\"\n        Product String:   2 \"Keyboard Hub\"\n        Serial Number String:   3 \"000000000000\"\n    Configuration Descriptor (current config)   \n        Length (and contents):   25\n            Raw Descriptor (hex)    0000: 09 02 19 00 01 01 00 A0  96 09 04 00 00 01 09 00  \n            Raw Descriptor (hex)    0010: 00 00 07 05 81 03 01 00  0C \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   300 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   1  (1 x 1  transactions opportunities per microframe)\n                Polling Interval:   12 (2048 microframes (256 msecs) )\n    Hub Descriptor   \n        Length (and contents):   9\n            Raw Descriptor (hex)   0000: 09 29 03 8D 00 32 C8 04  FF \n        Number of Ports:   0x03\n        Hub Characteristics:   0x8d (Individually switched compound hub with individual port overcurrent protection requiring 8 FS bit times and having port indicators)\n        PowerOnToGood time:   100 ms\n        Controller current:   200 mA\n        Device Removable (byte):   0x4\n        Port Power Control Mask (byte):   0xff\n    Device Qualifier Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class   9   (Hub)\n        Device Subclass   0\n        Device Protocol   0   (Full/Low Speed)\n        Device MaxPacketSize:   64\n        Number of Configurations:   1\n        bReserved:   0\n    Other Speed Configuration Descriptor   \n        Length (and contents):   25\n            Raw Descriptor (hex)    0000: 09 07 19 00 01 01 00 A0  28 09 04 00 00 01 09 00  \n            Raw Descriptor (hex)    0010: 00 00 07 05 81 03 01 00  FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   80 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   1\n                Polling Interval:   255 ms\nLow Speed device @ 4 (0x24120000): .............................................   Composite device: \"Apple Keyboard\"\n    Port Information:   0x0019\n           Captive\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   0   (Composite)\n        Device Subclass:   0\n        Device Protocol:   0\n        Device MaxPacketSize:   8\n        Device VendorID/ProductID:   0x05AC/0x0220   (Apple Inc.)\n        Device Version Number:   0x0069\n        Number of Configurations:   1\n        Manufacturer String:   1 \"Apple, Inc\"\n        Product String:   2 \"Apple Keyboard\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   59\n            Raw Descriptor (hex)    0000: 09 02 3B 00 02 01 00 A0  0A 09 04 00 00 01 03 01  \n            Raw Descriptor (hex)    0010: 01 00 09 21 11 01 21 01  22 4B 00 07 05 81 03 08  \n            Raw Descriptor (hex)    0020: 00 0A 09 04 01 00 01 03  00 00 00 09 21 11 01 00  \n            Raw Descriptor (hex)    0030: 01 22 2F 00 07 05 82 03  01 00 0A \n        Number of Interfaces:   2\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   20 ma\n        Interface #0 - HID/Boot Interface   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   1   (Boot Interface)\n            Interface Protocol:   1\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   33\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   75\n                        Raw Descriptor (hex)    0000: 05 01 09 06 A1 01 05 07  19 E0 29 E7 15 00 25 01  \n                        Raw Descriptor (hex)    0010: 75 01 95 08 81 02 95 01  75 08 81 01 05 08 19 01  \n                        Raw Descriptor (hex)    0020: 29 05 95 05 75 01 91 02  95 01 75 03 91 01 05 07  \n                        Raw Descriptor (hex)    0030: 19 00 2A FF 00 95 05 75  08 15 00 26 FF 00 81 00  \n                        Raw Descriptor (hex)    0040: 05 FF 09 03 75 08 95 01  81 02 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Generic Desktop) \n                          Usage (Keyboard)    \n                              Collection (Application)    \n                                Usage Page    (Keyboard/Keypad) \n                                Usage Minimum...........    (224)  \n                                Usage Maximum...........    (231)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Report Size.............    (1)  \n                                Report Count............    (8)  \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Report Count............    (1)  \n                                Report Size.............    (8)  \n                                Input...................   (Constant, Array, Absolute) \n                                Usage Page    (LED) \n                                Usage Minimum...........    (1)  \n                                Usage Maximum...........    (5)  \n                                Report Count............    (5)  \n                                Report Size.............    (1)  \n                                Output..................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                                Report Count............    (1)  \n                                Report Size.............    (3)  \n                                Output..................   (Constant, Array, Absolute, No Wrap, Linear, Preferred State, No Null Position, Nonvolatile, Bitfield) \n                                Usage Page    (Keyboard/Keypad) \n                                Usage Minimum...........    (0)  \n                                Usage Maximum...........    (255)  \n                                Report Count............    (5)  \n                                Report Size.............    (8)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (255)  \n                                Input...................   (Data, Array, Absolute) \n                                Usage Page    (255) \n                                Usage 3 (0x3)    \n                                Report Size.............    (8)  \n                                Report Count............    (1)  \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                              End Collection     \n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8\n                Polling Interval:   10 ms\n        Interface #1 - HID   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   0\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   47\n                        Raw Descriptor (hex)    0000: 05 0C 09 01 A1 01 05 0C  75 01 95 01 15 00 25 01  \n                        Raw Descriptor (hex)    0010: 09 CD 81 06 09 B5 81 02  09 B6 81 02 09 B8 81 06  \n                        Raw Descriptor (hex)    0020: 09 E2 81 06 09 EA 81 02  09 E9 81 02 81 01 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Consumer) \n                          Usage 1 (0x1)    \n                              Collection (Application)    \n                                Usage Page    (Consumer) \n                                Report Size.............    (1)  \n                                Report Count............    (1)  \n                                Logical Minimum.........    (0)  \n                                Logical Maximum.........    (1)  \n                                Usage 205 (0xcd)    \n                                Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 181 (0xb5)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 182 (0xb6)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 184 (0xb8)    \n                                Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 226 (0xe2)    \n                                Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 234 (0xea)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Usage 233 (0xe9)    \n                                Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                Input...................   (Constant, Array, Absolute) \n                              End Collection     \n            Endpoint 0x82 - Interrupt Input   \n                Address:   0x82  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   1\n                Polling Interval:   10 ms\nLow Speed device @ 5 (0x24130000): .............................................   Composite device: \"USB Optical Mouse\"\n    Port Information:   0x0018\n           Not Captive\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   0   (Composite)\n        Device Subclass:   0\n        Device Protocol:   0\n        Device MaxPacketSize:   8\n        Device VendorID/ProductID:   0x046D/0xC05A   (Logitech Inc.)\n        Device Version Number:   0x5400\n        Number of Configurations:   1\n        Manufacturer String:   1 \"Logitech\"\n        Product String:   2 \"USB Optical Mouse\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   34\n            Raw Descriptor (hex)    0000: 09 02 22 00 01 01 00 A0  31 09 04 00 00 01 03 01  \n            Raw Descriptor (hex)    0010: 02 00 09 21 11 01 00 01  22 43 00 07 05 81 03 06  \n            Raw Descriptor (hex)    0020: 00 0A \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   98 ma\n        Interface #0 - HID/Boot Interface   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   3   (HID)\n            Interface Subclass;   1   (Boot Interface)\n            Interface Protocol:   2\n            HID Descriptor   \n                Descriptor Version Number:   0x0111\n                Country Code:   0\n                Descriptor Count:   1\n                Descriptor 1   \n                    Type:   0x22  (Report Descriptor)\n                    Length (and contents):   67\n                        Raw Descriptor (hex)    0000: 05 01 09 02 A1 01 09 01  A1 00 05 09 19 01 29 08  \n                        Raw Descriptor (hex)    0010: 15 00 25 01 75 01 95 08  81 02 05 01 16 01 F8 26  \n                        Raw Descriptor (hex)    0020: FF 07 75 0C 95 02 09 30  09 31 81 06 15 81 25 7F  \n                        Raw Descriptor (hex)    0030: 75 08 95 01 09 38 81 06  05 0C 0A 38 02 95 01 81  \n                        Raw Descriptor (hex)    0040: 06 C0 C0 \n                    Parsed Report Descriptor:   \n                          Usage Page    (Generic Desktop) \n                          Usage (Mouse)    \n                              Collection (Application)    \n                                Usage (Pointer)    \n                                    Collection (Physical)    \n                                      Usage Page    (Button) \n                                      Usage Minimum...........    (1)  \n                                      Usage Maximum...........    (8)  \n                                      Logical Minimum.........    (0)  \n                                      Logical Maximum.........    (1)  \n                                      Report Size.............    (1)  \n                                      Report Count............    (8)  \n                                      Input...................   (Data, Variable, Absolute, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                      Usage Page    (Generic Desktop) \n                                      Logical Minimum.........    (-2047)  \n                                      Logical Maximum.........    (2047)  \n                                      Report Size.............    (12)  \n                                      Report Count............    (2)  \n                                      Usage (X)    \n                                      Usage (Y)    \n                                      Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                      Logical Minimum.........    (-127)  \n                                      Logical Maximum.........    (127)  \n                                      Report Size.............    (8)  \n                                      Report Count............    (1)  \n                                      Usage (Wheel)    \n                                      Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                      Usage Page    (Consumer) \n                                      Usage 568 (0x238)    \n                                      Report Count............    (1)  \n                                      Input...................   (Data, Variable, Relative, No Wrap, Linear, Preferred State, No Null Position, Bitfield) \n                                    End Collection     \n                              End Collection     \n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   6\n                Polling Interval:   10 ms\nFull Speed device @ 1 (0x06000000): .............................................   Hub device: \"OHCI Root Hub Simulation\"\n    Port Information:   0x061d\n           Built-in Root Hub\n           Captive\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   0   (Full/Low Speed)\n        Device MaxPacketSize:   8\n        Device VendorID/ProductID:   0x05AC/0x8005   (Apple Inc.)\n        Device Version Number:   0x0200\n        Number of Configurations:   1\n        Manufacturer String:   2 \"Apple Inc.\"\n        Product String:   1 \"OHCI Root Hub Simulation\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   27\n            Raw Descriptor (hex)    0000: 0A 02 1B 00 01 01 00 60  00 70 09 04 00 00 01 09  \n            Raw Descriptor (hex)    0010: 00 00 00 08 05 81 03 08  00 20 FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0x60 (self-powered, remote wakeup)\n        MaxPower:   0 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8\n                Polling Interval:   32 ms\n    Hub Descriptor   \n        Length (and contents):   9\n            Raw Descriptor (hex)   0000: 09 29 05 00 00 01 00 02  00 \n        Number of Ports:   0x05\n        Hub Characteristics:   0x0 (Gang switched standalone hub with global overcurrent protection requiring 8 FS bit times and  no port indicators)\n        PowerOnToGood time:   2 ms\n        Controller current:   0 mA\n        Device Removable (byte):   0x2\n        Port Power Control Mask (byte):   0x0\nFull Speed device @ 2 (0x06100000): .............................................   BRCM2046 Hub (Device is suspended)\n    Port Information:   0x003f\n           Captive\n           Attached to Root Hub\n           Internal Device\n           Connected\n           Enabled\n           Suspended\nFull Speed device @ 5 (0x06110000): .............................................   Bluetooth USB Host Controller (did not respond to inquiry - kIOReturnNotResponding (0xe00002ed))\n    Port Information:   kIOReturnNotResponding (0xe00002ed)\nHigh Speed device @ 1 (0x26000000): .............................................   Hub device: \"EHCI Root Hub Simulation\"\n    Port Information:   0x061d\n           Built-in Root Hub\n           Captive\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   1   (High Speed Single Transaction Translator)\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x05AC/0x8006   (Apple Inc.)\n        Device Version Number:   0x0200\n        Number of Configurations:   1\n        Manufacturer String:   2 \"Apple Inc.\"\n        Product String:   1 \"EHCI Root Hub Simulation\"\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   27\n            Raw Descriptor (hex)    0000: 0A 02 1B 00 01 01 00 60  00 70 09 04 00 00 01 09  \n            Raw Descriptor (hex)    0010: 00 01 00 08 05 81 03 08  00 09 FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0x60 (self-powered, remote wakeup)\n        MaxPower:   0 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   1   (Multi TT Hub configured as a Single TT Hub)\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   8  (8 x 1  transactions opportunities per microframe)\n                Polling Interval:   9 (256 microframes (32 msecs) )\n    Hub Descriptor   \n        Length (and contents):   9\n            Raw Descriptor (hex)   0000: 09 29 05 00 00 32 00 20  FF \n        Number of Ports:   0x05\n        Hub Characteristics:   0x0 (Gang switched standalone hub with global overcurrent protection requiring 8 FS bit times and  no port indicators)\n        PowerOnToGood time:   100 ms\n        Controller current:   0 mA\n        Device Removable (byte):   0x20\n        Port Power Control Mask (byte):   0xff\nHigh Speed device @ 3 (0x26200000): .............................................   Hub device from Microsoft Corporation\n    Port Information:   0x001a\n           Not Captive\n           Attached to Root Hub\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   9   (Hub)\n        Device Subclass:   0\n        Device Protocol:   1   (High Speed Single Transaction Translator)\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x045E/0x02C2   (Microsoft Corporation)\n        Device Version Number:   0x0001\n        Number of Configurations:   1\n        Manufacturer String:   0 (none)\n        Product String:   0 (none)\n        Serial Number String:   0 (none)\n    Configuration Descriptor (current config)   \n        Length (and contents):   25\n            Raw Descriptor (hex)    0000: 09 02 19 00 01 01 00 E0  01 09 04 00 00 01 09 00  \n            Raw Descriptor (hex)    0010: 00 00 07 05 81 03 01 00  0C \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xE0 (self-powered, remote wakeup)\n        MaxPower:   2 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   1  (1 x 1  transactions opportunities per microframe)\n                Polling Interval:   12 (2048 microframes (256 msecs) )\n    Hub Descriptor   \n        Length (and contents):   9\n            Raw Descriptor (hex)   0000: 09 29 02 0D 00 32 01 06  FF \n        Number of Ports:   0x02\n        Hub Characteristics:   0xd (Individually switched compound hub with individual port overcurrent protection requiring 8 FS bit times and  no port indicators)\n        PowerOnToGood time:   100 ms\n        Controller current:   1 mA\n        Device Removable (byte):   0x6\n        Port Power Control Mask (byte):   0xff\n    Device Qualifier Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class   9   (Hub)\n        Device Subclass   0\n        Device Protocol   0   (Full/Low Speed)\n        Device MaxPacketSize:   64\n        Number of Configurations:   1\n        bReserved:   0\n    Other Speed Configuration Descriptor   \n        Length (and contents):   25\n            Raw Descriptor (hex)    0000: 09 07 19 00 01 01 00 E0  01 09 04 00 00 01 09 00  \n            Raw Descriptor (hex)    0010: 00 00 07 05 81 03 01 00  FF \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xE0 (self-powered, remote wakeup)\n        MaxPower:   2 ma\n        Interface #0 - Hub   \n            Alternate Setting   0\n            Number of Endpoints   1\n            Interface Class:   9   (Hub)\n            Interface Subclass;   0\n            Interface Protocol:   0\n            Endpoint 0x81 - Interrupt Input   \n                Address:   0x81  (IN)\n                Attributes:   0x03  (Interrupt no synchronization data endpoint)\n                Max Packet Size:   1\n                Polling Interval:   255 ms\nHigh Speed device @ 4 (0x26210000): .............................................   Vendor-specific device: \"Xbox Kinect Audio, \\251 2011 Microsoft Corporation. All rights reserved.\"\n    Port Information:   0x0019\n           Captive\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   255   (Vendor-specific)\n        Device Subclass:   0   (Vendor-specific)\n        Device Protocol:   0\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x045E/0x02AD   (Microsoft Corporation)\n        Device Version Number:   0x0100\n        Number of Configurations:   1\n        Manufacturer String:   1 \"Microsoft\"\n        Product String:   2 \"Xbox Kinect Audio, \\251 2011 Microsoft Corporation. All rights reserved.\"\n        Serial Number String:   3 \"A70775V00634202A\"\n    Current configuration:   0 (unconfigured)\n    Configuration Descriptor   \n        Length (and contents):   46\n            Raw Descriptor (hex)    0000: 09 02 2E 00 01 01 00 C0  00 09 04 00 00 04 FF 00  \n            Raw Descriptor (hex)    0010: 00 04 07 05 81 02 00 02  01 07 05 01 02 00 02 01  \n            Raw Descriptor (hex)    0020: 07 05 82 0D 0C 02 05 07  05 02 0D 4C 00 01 \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xC0 (self-powered)\n        MaxPower:   0 ma\n        Interface #0 - Vendor-specific ..............................................   \"Config\"\n            Alternate Setting   0\n            Number of Endpoints   4\n            Interface Class:   255   (Vendor-specific)\n            Interface Subclass;   0   (Vendor-specific)\n            Interface Protocol:   0\n            Endpoint 0x81 - Bulk Input   \n                Address:   0x81  (IN)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   512\n                Polling Interval:   1 ( At most 1 NAK every 1 microframe(s) )\n            Endpoint 0x01 - Bulk Output   \n                Address:   0x01  (OUT)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   512\n                Polling Interval:   1 ( At most 1 NAK every 1 microframe(s) )\n            Endpoint 0x82 - Isochronous Input   \n                Address:   0x82  (IN)\n                Attributes:   0x0D  (Isochronous synchronous data endpoint)\n                Max Packet Size:   524  (524 x 1  transactions opportunities per microframe)\n                Polling Interval:   5 (16 microframes (2 msecs) )\n            Endpoint 0x02 - Isochronous Output   \n                Address:   0x02  (OUT)\n                Attributes:   0x0D  (Isochronous synchronous data endpoint)\n                Max Packet Size:   76  (76 x 1  transactions opportunities per microframe)\n                Polling Interval:   1 (1 microframe (125 microsecs) )\n    Device Qualifier Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class   255   (Vendor-specific)\n        Device Subclass   0   (Vendor-specific)\n        Device Protocol   0\n        Device MaxPacketSize:   64\n        Number of Configurations:   1\n        bReserved:   0\n    Other Speed Configuration Descriptor   \n        Length (and contents):   46\n            Raw Descriptor (hex)    0000: 09 07 2E 00 01 01 00 C0  00 09 04 00 00 04 FF 00  \n            Raw Descriptor (hex)    0010: 00 04 07 05 81 02 40 00  01 07 05 01 02 40 00 01  \n            Raw Descriptor (hex)    0020: 07 05 82 0D FF 03 07 07  05 02 0D 40 00 02 \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xC0 (self-powered)\n        MaxPower:   0 ma\n        Interface #0 - Vendor-specific ..............................................   \"Config\"\n            Alternate Setting   0\n            Number of Endpoints   4\n            Interface Class:   255   (Vendor-specific)\n            Interface Subclass;   0   (Vendor-specific)\n            Interface Protocol:   0\n            Endpoint 0x81 - Bulk Input   \n                Address:   0x81  (IN)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   1 ms\n            Endpoint 0x01 - Bulk Output   \n                Address:   0x01  (OUT)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   1 ms\n            Endpoint 0x82 - Isochronous Input   \n                Address:   0x82  (IN)\n                Attributes:   0x0D  (Isochronous synchronous data endpoint)\n                Max Packet Size:   1023\n                Polling Interval:   64 ms\n            Endpoint 0x02 - Isochronous Output   \n                Address:   0x02  (OUT)\n                Attributes:   0x0D  (Isochronous synchronous data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   2 ms\nHigh Speed device @ 5 (0x26220000): .............................................   Composite device: \"Xbox NUI Camera\"\n    Port Information:   0x0019\n           Captive\n           External Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   0   (Composite)\n        Device Subclass:   0\n        Device Protocol:   0\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x045E/0x02AE   (Microsoft Corporation)\n        Device Version Number:   0x0205\n        Number of Configurations:   1\n        Manufacturer String:   2 \"Microsoft\"\n        Product String:   1 \"Xbox NUI Camera\"\n        Serial Number String:   3 \"0000000000000000\"\n    Configuration Descriptor (current config)   \n        Length (and contents):   32\n            Raw Descriptor (hex)    0000: 09 02 20 00 01 01 00 C0  08 09 04 00 00 02 FF FF  \n            Raw Descriptor (hex)    0010: FF 00 07 05 81 01 C0 0B  01 07 05 82 01 C0 0B 01  \n            Unknown Descriptor   0020: \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xC0 (self-powered)\n        MaxPower:   16 ma\n        Interface #0 - Vendor-specific   \n            Alternate Setting   0\n            Number of Endpoints   2\n            Interface Class:   255   (Vendor-specific)\n            Interface Subclass;   255   (Vendor-specific)\n            Interface Protocol:   255\n            Endpoint 0x81 - Isochronous Input   \n                Address:   0x81  (IN)\n                Attributes:   0x01  (Isochronous no synchronization data endpoint)\n                Max Packet Size:   3008  (960 x 2  transactions opportunities per microframe)\n                Polling Interval:   1 (1 microframe (125 microsecs) )\n            Endpoint 0x82 - Isochronous Input   \n                Address:   0x82  (IN)\n                Attributes:   0x01  (Isochronous no synchronization data endpoint)\n                Max Packet Size:   3008  (960 x 2  transactions opportunities per microframe)\n                Polling Interval:   1 (1 microframe (125 microsecs) )\n    Device Qualifier Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class   0   (Composite)\n        Device Subclass   0\n        Device Protocol   0\n        Device MaxPacketSize:   64\n        Number of Configurations:   1\n        bReserved:   0\n    Other Speed Configuration Descriptor   \n        Length (and contents):   32\n            Raw Descriptor (hex)    0000: 09 07 20 00 01 01 00 C0  08 09 04 00 00 02 FF FF  \n            Raw Descriptor (hex)    0010: FF 00 07 05 81 01 40 00  01 07 05 82 01 40 00 01  \n            Unknown Descriptor   0020: \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xC0 (self-powered)\n        MaxPower:   16 ma\n        Interface #0 - Vendor-specific   \n            Alternate Setting   0\n            Number of Endpoints   2\n            Interface Class:   255   (Vendor-specific)\n            Interface Subclass;   255   (Vendor-specific)\n            Interface Protocol:   255\n            Endpoint 0x81 - Isochronous Input   \n                Address:   0x81  (IN)\n                Attributes:   0x01  (Isochronous no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   1 ms\n            Endpoint 0x82 - Isochronous Input   \n                Address:   0x82  (IN)\n                Attributes:   0x01  (Isochronous no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   1 ms\nHigh Speed device @ 2 (0x26500000): .............................................   Composite device: \"Card Reader\"\n    Port Information:   0x001f\n           Captive\n           Attached to Root Hub\n           Internal Device\n           Connected\n           Enabled\n    Device Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class:   0   (Composite)\n        Device Subclass:   0\n        Device Protocol:   0\n        Device MaxPacketSize:   64\n        Device VendorID/ProductID:   0x05AC/0x8403   (Apple Inc.)\n        Device Version Number:   0x9833\n        Number of Configurations:   1\n        Manufacturer String:   3 \"Apple\"\n        Product String:   4 \"Card Reader\"\n        Serial Number String:   2 \"000000009833\"\n    Configuration Descriptor (current config)   \n        Length (and contents):   32\n            Raw Descriptor (hex)    0000: 09 02 20 00 01 01 00 A0  FA 09 04 00 00 02 08 06  \n            Raw Descriptor (hex)    0010: 50 00 07 05 81 02 00 02  00 07 05 02 02 00 02 00  \n            Unknown Descriptor   0020: \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   500 ma\n        Interface #0 - Mass Storage/SCSI   \n            Alternate Setting   0\n            Number of Endpoints   2\n            Interface Class:   8   (Mass Storage)\n            Interface Subclass;   6   (SCSI)\n            Interface Protocol:   80\n            Endpoint 0x81 - Bulk Input   \n                Address:   0x81  (IN)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   512\n                Polling Interval:   0 ( Endpoint never NAKs)\n            Endpoint 0x02 - Bulk Output   \n                Address:   0x02  (OUT)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   512\n                Polling Interval:   0 ( Endpoint never NAKs)\n    Device Qualifier Descriptor   \n        Descriptor Version Number:   0x0200\n        Device Class   0   (Composite)\n        Device Subclass   0\n        Device Protocol   0\n        Device MaxPacketSize:   64\n        Number of Configurations:   1\n        bReserved:   0\n    Other Speed Configuration Descriptor   \n        Length (and contents):   32\n            Raw Descriptor (hex)    0000: 09 07 20 00 01 01 00 A0  FA 09 04 00 00 02 08 06  \n            Raw Descriptor (hex)    0010: 50 00 07 05 81 02 40 00  00 07 05 02 02 40 00 00  \n            Unknown Descriptor   0020: \n        Number of Interfaces:   1\n        Configuration Value:   1\n        Attributes:   0xA0 (bus-powered, remote wakeup)\n        MaxPower:   500 ma\n        Interface #0 - Mass Storage/SCSI   \n            Alternate Setting   0\n            Number of Endpoints   2\n            Interface Class:   8   (Mass Storage)\n            Interface Subclass;   6   (SCSI)\n            Interface Protocol:   80\n            Endpoint 0x81 - Bulk Input   \n                Address:   0x81  (IN)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   0 ms\n            Endpoint 0x02 - Bulk Output   \n                Address:   0x02  (OUT)\n                Attributes:   0x02  (Bulk no synchronization data endpoint)\n                Max Packet Size:   64\n                Polling Interval:   0 ms\nWeird Note:\nWhen I rebuilt wizgav's build I got:\nScanning dependencies of target firmware\nDownloading SystemUpdate.zip from http://www.xbox.com/system-update-usb\nReading response...\ndone, saved to SystemUpdate.zip\nExtracting $systemupdate/FFFE07DF00000001 from system update file...\ndone.\nHandling LIVE/PIRS file.\nWriting information file FFFE07DF00000001.txt\nCreating and filling content directory FFFE07DF00000001.dir\nThat might because I tried to build with audio for the first time.\n. I was able to get the kinect working with the latest version of libusb.  I got it through terminal (git) and it worked perfectly.\n. I don't think this is an issue anymore.  Ontop of that the policy file isn't needed for development.  It was an incorrect assumption based of misleading error messages.\n. ya delete\n. Thanks piedar! I don't know how to do a proper request.  I think right now I am the only person using AS3 to :).\n. What version of OSX?\n. ",
    "jondo": "The same happens with tiltdemo.\n. I fixed this, see https://github.com/OpenKinect/libfreenect/pull/236.\n. I updated the pull request to https://github.com/OpenKinect/libfreenect/pull/237.\n. Closing this, because I forgot to sign the commit, as described in https://github.com/OpenKinect/libfreenect/pull/205.\n. ",
    "Cmaury": "Missing dependencies, listed in readme of wrapper, now added to wiki page as well.\n. ",
    "jfalkner": "Update. I think libfreenect.h no longer has the following two methods:\nfreenect_set_depth_format(int index)\nfreenect_set_video_format(int index)\nIf you comment out these methods, maven will compile and run the sample. I think a proper fix will require changing the Java wrapper to use whatever the current libfreenect code is using. Below is the code that is compiling and letting the test run.\npackage org.openkinect.freenect;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.DoubleBuffer;\nimport com.sun.jna.Callback;\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.NativeLibrary;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.PointerType;\nimport com.sun.jna.ptr.PointerByReference;\npublic class Freenect implements Library {\n    static {\n        try {\n//            NativeLibrary.addSearchPath(\"freenect\", \"../../build/lib\");\n            NativeLibrary.addSearchPath(\"freenect\", \"/usr/local/lib\");\n            NativeLibrary instance = NativeLibrary.getInstance(\"freenect\");\n            System.out.println(\"Loaded \" + instance.getName() + \" from \" + instance.getFile().getCanonicalPath());\n            Native.register(instance);\n        } catch (IOException e) {\n     e.printStackTrace();\n            throw new AssertionError(e);\n        }\n    }\n```\n// constants from libfreenect.h\nstatic final int FREENECT_FRAME_W = 640;\nstatic final int FREENECT_FRAME_H = 480;\nstatic final int FREENECT_FRAME_PIX = (FREENECT_FRAME_H * FREENECT_FRAME_W);\nstatic final int FREENECT_IR_FRAME_W = 640;\nstatic final int FREENECT_IR_FRAME_H = 488;\nstatic final int FREENECT_IR_FRAME_PIX = (FREENECT_IR_FRAME_H * FREENECT_IR_FRAME_W);\nstatic final int FREENECT_VIDEO_RGB_SIZE = (FREENECT_FRAME_PIX * 3);\nstatic final int FREENECT_VIDEO_BAYER_SIZE = (FREENECT_FRAME_PIX);\nstatic final int FREENECT_VIDEO_YUV_SIZE = (FREENECT_FRAME_PIX * 2);\nstatic final int FREENECT_VIDEO_IR_8BIT_SIZE = (FREENECT_IR_FRAME_PIX);\nstatic final int FREENECT_VIDEO_IR_10BIT_SIZE = (FREENECT_IR_FRAME_PIX * 2);\nstatic final int FREENECT_VIDEO_IR_10BIT_PACKED_SIZE = 390400;\nstatic final int FREENECT_DEPTH_11BIT_SIZE = (FREENECT_FRAME_PIX * 2);\nstatic final int FREENECT_DEPTH_10BIT_SIZE = FREENECT_DEPTH_11BIT_SIZE;\nstatic final int FREENECT_DEPTH_11BIT_PACKED_SIZE = 422400;\nstatic final int FREENECT_DEPTH_10BIT_PACKED_SIZE = 384000;\nprotected Freenect() {}\npublic static Context createContext() {\n    PointerByReference ctxPtr = new PointerByReference();\n    int rval = freenect_init(ctxPtr, Pointer.NULL);\n    if (rval == 0) {\n        NativeContext ctx = new NativeContext(ctxPtr.getValue());\n        ctx.startEventThread();\n        return ctx;\n    }\n    throw new IllegalStateException(\"init() returned \" + rval);\n}\nprotected static class NativeContext extends PointerType implements Context {\n    private EventThread eventThread;\npublic NativeContext() {}\n\nprivate LogHandler logHandler;\nprivate final NativeLogCallback logCallback = new NativeLogCallback() {\n    @Override\n    public void callback(NativeDevice dev, int level, String msg) {\n        logHandler.onMessage(dev, LogLevel.fromInt(level), msg);\n    }\n};\n\nprotected NativeContext(Pointer ptr) {\n    super(ptr);\n}\n\n@Override\npublic void setLogHandler(LogHandler handler) {\n    this.logHandler = handler;\n    if (logHandler == null) {\n        freenect_set_log_callback(this, null);\n    } else {\n        freenect_set_log_callback(this, logCallback);\n    }\n}\n\n@Override\npublic void setLogLevel(LogLevel level) {\n    freenect_set_log_level(this, level.intValue());\n}\n\n@Override\npublic int numDevices() {\n    return freenect_num_devices(this);\n}\n\n@Override\npublic Device openDevice(int index) {\n    PointerByReference devicePtr = new PointerByReference();\n    int rval = freenect_open_device(this, devicePtr, index);\n    if (rval != 0) {\n        throw new IllegalStateException(\"freenect_open_device() returned \" + rval);\n    }\n    return new NativeDevice(devicePtr.getValue(), index);\n}\n\nprotected void processEvents() {\n    freenect_process_events(this);\n}\n\nprotected void startEventThread() {\n    if (eventThread == null || !eventThread.isAlive()) {\n        eventThread = new EventThread(this);\n        eventThread.start();\n    }\n}\n\nprotected void stopEventThread() {\n    if (eventThread != null) {\n        eventThread.kill();\n        eventThread = null;\n    }\n}\n\n@Override\npublic void shutdown() {\n    stopEventThread();\n    freenect_shutdown(this);\n}\n\n}\nprotected static class NativeDevice extends PointerType implements Device {\n    private VideoFormat videoFormat;\n    private ByteBuffer videoBuffer;\n    private DepthFormat depthFormat;\n    private ByteBuffer depthBuffer;\n    private final DoubleBuffer accelX = DoubleBuffer.allocate(1);\n    private final DoubleBuffer accelY = DoubleBuffer.allocate(1);\n    private final DoubleBuffer accelZ = DoubleBuffer.allocate(1);\n    private VideoHandler videoHandler;\n    private DepthHandler depthHandler;\n    private int index;\nprivate TiltState rawTiltState;\nprivate TiltStatus tiltStatus;\nprivate double tiltAngle;\nprivate double[] accel;\n\nprivate final NativeVideoCallback videoCallback = new NativeVideoCallback() {\n    @Override\n    public void callback(Pointer dev, Pointer depth, int timestamp) {\n        videoHandler.onFrameReceived(videoFormat, videoBuffer, timestamp);\n    }\n};\n\nprivate final NativeDepthCallback depthCallback = new NativeDepthCallback() {\n    @Override\n    public void callback(Pointer dev, Pointer depth, int timestamp) {\n        depthHandler.onFrameReceived(depthFormat, depthBuffer, timestamp);\n    }\n};\n\npublic NativeDevice() {}\n\nprotected NativeDevice(Pointer ptr, int index) {\n    super(ptr);\n    this.index = index;\n    this.rawTiltState = freenect_get_tilt_state(this);\n    this.accel = new double[3];\n    refreshTiltState();\n    setVideoFormat(VideoFormat.RGB);\n    setDepthFormat(DepthFormat.D11BIT);\n}\n\nprotected void setDeviceIndex(int index) {\n    this.index = index;\n}\n\n@Override\npublic int getDeviceIndex() {\n    return index;\n}\n\npublic void close() {\n    freenect_close_device(this);\n}\n\n\n@Override\npublic void setDepthFormat(DepthFormat fmt) {\n\n```\nSystem.out.println(\"Not implemented\");\n/\n            freenect_set_depth_format(this, fmt.intValue());\n            depthBuffer = ByteBuffer.allocateDirect(fmt.getFrameSize());\n            freenect_set_depth_buffer(this, depthBuffer);\n            this.depthFormat = fmt;\n/\n        }\n@Override\n    public void setVideoFormat(VideoFormat fmt) {\nSystem.out.println(\"Not implemented\");\n/\n            freenect_set_video_format(this, fmt.intValue());\n            videoBuffer = ByteBuffer.allocateDirect(fmt.getFrameSize());\n            freenect_set_video_buffer(this, videoBuffer);\n            this.videoFormat = fmt;\n/\n        }\n```\n    @Override\n    public int setLed(LedStatus status) {\n        return freenect_set_led(this, status.intValue());\n    }\n@Override\npublic void refreshTiltState() {\n    freenect_update_tilt_state(this);\n    this.rawTiltState = freenect_get_tilt_state(this);\n    this.tiltAngle = freenect_get_tilt_degs(rawTiltState);\n    this.tiltStatus = TiltStatus.fromInt(freenect_get_tilt_status(rawTiltState));\n    freenect_get_mks_accel(rawTiltState, accelX, accelY, accelZ);\n    this.accel[0] = accelX.get(0);\n    this.accel[1] = accelY.get(0);\n    this.accel[2] = accelZ.get(0);\n}\n\n@Override\npublic double getTiltAngle() {\n    return tiltAngle;\n}\n\n@Override\npublic int setTiltAngle(double angle) {\n    return freenect_set_tilt_degs(this, angle);\n}\n\n@Override\npublic TiltStatus getTiltStatus() {\n    return tiltStatus;\n}\n\n@Override\npublic double[] getAccel() {\n    return new double[] { accelX.get(0), accelY.get(0), accelZ.get(0) };\n}\n\n@Override\npublic int startVideo(VideoHandler handler) {\n    this.videoHandler = handler;\n    freenect_set_video_callback(this, videoCallback);\n    return freenect_start_video(this);\n}\n\n@Override\npublic int stopVideo() {\n    int rval = freenect_stop_video(this);\n    freenect_set_video_callback(this, null);\n    this.videoHandler = null;\n    return rval;\n}\n\n@Override\npublic int startDepth(DepthHandler handler) {\n    this.depthHandler = handler;\n    freenect_set_depth_callback(this, depthCallback);\n    return freenect_start_depth(this);\n}\n\n@Override\npublic int stopDepth() {\n    int rval = freenect_stop_depth(this);\n    freenect_set_depth_callback(this, null);\n    this.depthHandler = null;\n    return rval;\n}\n\n}\nprivate static class EventThread extends Thread {\n    private final NativeContext ctx;\n    private volatile boolean alive = true;\npublic EventThread(NativeContext ctx) {\n    this.ctx = ctx;\n    setDaemon(true);\n    setName(\"FreenectEventThread\");\n}\n\npublic void kill() {\n    this.alive = false;\n}\n\n@Override\npublic void run() {\n    while (alive) {\n        freenect_process_events(ctx);\n    }\n}\n\n};\nprotected static class TiltState extends PointerType {\n    public TiltState() {}\n}\n// function prototypes from libfreenect.h\n// These must match the names used in the library!\npublic interface NativeLogCallback extends Callback {\n    void callback(NativeDevice dev, int logLevel, String msg);\n}\nprivate interface NativeDepthCallback extends Callback {\n    void callback(Pointer dev, Pointer depth, int timestamp);\n};\nprivate interface NativeVideoCallback extends Callback {\n    void callback(Pointer dev, Pointer frame, int timestamp);\n};\nprivate static native int freenect_init(PointerByReference ctx, Pointer usb_ctx);\nprivate static native int freenect_shutdown(NativeContext ctx);\nprivate static native void freenect_set_log_level(NativeContext ctx, int level);\nprivate static native void freenect_set_log_callback(NativeContext ctx, NativeLogCallback cb);\nprivate static native int freenect_process_events(NativeContext ctx);\nprivate static native int freenect_num_devices(NativeContext ctx);\nprivate static native int freenect_open_device(NativeContext ctx, PointerByReference dev, int index);\nprivate static native int freenect_close_device(NativeDevice dev);\nprivate static native void freenect_set_user(NativeDevice dev, Pointer user);\nprivate static native Pointer freenect_get_user(NativeDevice dev);\nprivate static native void freenect_set_depth_callback(NativeDevice dev, NativeDepthCallback cb);\nprivate static native void freenect_set_video_callback(NativeDevice dev, NativeVideoCallback cb);\n```\n//    private static native int freenect_set_depth_format(NativeDevice dev, int i);\n//    private static native int freenect_set_video_format(NativeDevice dev, int i);\n    private static native int freenect_set_depth_buffer(NativeDevice dev, ByteBuffer buf);\n    private static native int freenect_set_video_buffer(NativeDevice dev, ByteBuffer buf);\n    private static native int freenect_start_depth(NativeDevice dev);\n    private static native int freenect_start_video(NativeDevice dev);\n    private static native int freenect_stop_depth(NativeDevice dev);\n    private static native int freenect_stop_video(NativeDevice dev);\n    private static native int freenect_update_tilt_state(NativeDevice dev);\n    private static native TiltState freenect_get_tilt_state(NativeDevice dev);\n    private static native byte freenect_get_tilt_status(TiltState tiltState);\n    private static native double freenect_get_tilt_degs(TiltState tiltState);\n    private static native int freenect_set_tilt_degs(NativeDevice dev, double angle);\n    private static native int freenect_set_led(NativeDevice dev, int option);\n    private static native void freenect_get_mks_accel(TiltState tiltState, DoubleBuffer x, DoubleBuffer y, DoubleBuffer z);\n}\n. ",
    "mchiareli": "with this change, the code compile but doesn't work, you will get the error:\n\"freenect_start_video(): called with invalid format/resolution combination\"\nIt's necessary call the current method to set resolution.\n. Replace the Freenect.java with the code below, and you will able to run:\npackage org.openkinect.freenect;\nimport com.sun.jna.;\nimport com.sun.jna.ptr.PointerByReference;\nimport org.openkinect.freenect.;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.DoubleBuffer;\npublic class Freenect implements Library {\n    static {\n        try {\n// NativeLibrary.addSearchPath(\"freenect\", \"../../build/lib\");\n            NativeLibrary.addSearchPath(\"freenect\", \"/usr/local/lib\");\n            NativeLibrary instance = NativeLibrary.getInstance(\"freenect\");\n            System.out.println(\"Loaded \" + instance.getName() + \" from \" + instance.getFile().getCanonicalPath());\n            Native.register(instance);\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new AssertionError(e);\n        }\n    }\n```\n// constants from libfreenect.h\nstatic final int FREENECT_FRAME_W = 640;\nstatic final int FREENECT_FRAME_H = 480;\nstatic final int FREENECT_FRAME_PIX = (FREENECT_FRAME_H * FREENECT_FRAME_W);\nstatic final int FREENECT_IR_FRAME_W = 640;\nstatic final int FREENECT_IR_FRAME_H = 488;\nstatic final int FREENECT_IR_FRAME_PIX = (FREENECT_IR_FRAME_H * FREENECT_IR_FRAME_W);\nstatic final int FREENECT_VIDEO_RGB_SIZE = (FREENECT_FRAME_PIX * 3);\nstatic final int FREENECT_VIDEO_BAYER_SIZE = (FREENECT_FRAME_PIX);\nstatic final int FREENECT_VIDEO_YUV_SIZE = (FREENECT_FRAME_PIX * 2);\nstatic final int FREENECT_VIDEO_IR_8BIT_SIZE = (FREENECT_IR_FRAME_PIX);\nstatic final int FREENECT_VIDEO_IR_10BIT_SIZE = (FREENECT_IR_FRAME_PIX * 2);\nstatic final int FREENECT_VIDEO_IR_10BIT_PACKED_SIZE = 390400;\nstatic final int FREENECT_DEPTH_11BIT_SIZE = (FREENECT_FRAME_PIX * 2);\nstatic final int FREENECT_DEPTH_10BIT_SIZE = FREENECT_DEPTH_11BIT_SIZE;\nstatic final int FREENECT_DEPTH_11BIT_PACKED_SIZE = 422400;\nstatic final int FREENECT_DEPTH_10BIT_PACKED_SIZE = 384000;\nprotected Freenect() {\n}\npublic static Context createContext() {\n    PointerByReference ctxPtr = new PointerByReference();\n    int rval = freenect_init(ctxPtr, Pointer.NULL);\n    if (rval == 0) {\n        NativeContext ctx = new NativeContext(ctxPtr.getValue());\n        ctx.startEventThread();\n        return ctx;\n    }\n    throw new IllegalStateException(\"init() returned \" + rval);\n}\nprotected static class NativeContext extends PointerType implements Context {\n    private EventThread eventThread;\npublic NativeContext() {\n}\n\nprivate LogHandler logHandler;\nprivate final NativeLogCallback logCallback = new NativeLogCallback() {\n    @Override\n    public void callback(NativeDevice dev, int level, String msg) {\n        logHandler.onMessage(dev, LogLevel.fromInt(level), msg);\n    }\n};\n\nprotected NativeContext(Pointer ptr) {\n    super(ptr);\n}\n\n@Override\npublic void setLogHandler(LogHandler handler) {\n    this.logHandler = handler;\n    if (logHandler == null) {\n        freenect_set_log_callback(this, null);\n    } else {\n        freenect_set_log_callback(this, logCallback);\n    }\n}\n\n@Override\npublic void setLogLevel(LogLevel level) {\n    freenect_set_log_level(this, level.intValue());\n}\n\n@Override\npublic int numDevices() {\n    return freenect_num_devices(this);\n}\n\n@Override\npublic Device openDevice(int index) {\n    PointerByReference devicePtr = new PointerByReference();\n    int rval = freenect_open_device(this, devicePtr, index);\n    if (rval != 0) {\n        throw new IllegalStateException(\"freenect_open_device() returned \" + rval);\n    }\n    return new NativeDevice(devicePtr.getValue(), index);\n}\n\nprotected void processEvents() {\n    freenect_process_events(this);\n}\n\nprotected void startEventThread() {\n    if (eventThread == null || !eventThread.isAlive()) {\n        eventThread = new EventThread(this);\n        eventThread.start();\n    }\n}\n\nprotected void stopEventThread() {\n    if (eventThread != null) {\n        eventThread.kill();\n        eventThread = null;\n    }\n}\n\n@Override\npublic void shutdown() {\n    stopEventThread();\n    freenect_shutdown(this);\n}\n\n}\nprotected static class NativeDevice extends PointerType implements Device {\n    private VideoFormat videoFormat;\n    private ByteBuffer videoBuffer;\n    private DepthFormat depthFormat;\n    private ByteBuffer depthBuffer;\n    private final DoubleBuffer accelX = DoubleBuffer.allocate(1);\n    private final DoubleBuffer accelY = DoubleBuffer.allocate(1);\n    private final DoubleBuffer accelZ = DoubleBuffer.allocate(1);\n    private VideoHandler videoHandler;\n    private DepthHandler depthHandler;\n    private int index;\nprivate TiltState rawTiltState;\nprivate TiltStatus tiltStatus;\nprivate double tiltAngle;\nprivate double[] accel;\n\nprivate final NativeVideoCallback videoCallback = new NativeVideoCallback() {\n    @Override\n    public void callback(Pointer dev, Pointer depth, int timestamp) {\n        videoHandler.onFrameReceived(videoFormat, videoBuffer, timestamp);\n    }\n};\n\nprivate final NativeDepthCallback depthCallback = new NativeDepthCallback() {\n    @Override\n    public void callback(Pointer dev, Pointer depth, int timestamp) {\n        depthHandler.onFrameReceived(depthFormat, depthBuffer, timestamp);\n    }\n};\n\npublic NativeDevice() {\n}\n\nprotected NativeDevice(Pointer ptr, int index) {\n    super(ptr);\n    this.index = index;\n    this.rawTiltState = freenect_get_tilt_state(this);\n    this.accel = new double[3];\n    refreshTiltState();\n    setVideoFormat(VideoFormat.RGB);\n    setDepthFormat(DepthFormat.D11BIT);\n}\n\nprotected void setDeviceIndex(int index) {\n    this.index = index;\n}\n\n@Override\npublic int getDeviceIndex() {\n    return index;\n}\n\npublic void close() {\n    freenect_close_device(this);\n}\n\n\n@Override\npublic void setDepthFormat(DepthFormat fmt) {\n    System.out.println(\"Not implemented\");\n\n```\n/\nfreenect_set_depth_format(this, fmt.intValue());\ndepthBuffer = ByteBuffer.allocateDirect(fmt.getFrameSize());\nfreenect_set_depth_buffer(this, depthBuffer);\nthis.depthFormat = fmt;\n/\n        }\n@Override\n    public void setVideoFormat(VideoFormat fmt) {\n        System.out.println(\"Not implemented\");\n/\nfreenect_set_video_format(this, fmt.intValue());\nvideoBuffer = ByteBuffer.allocateDirect(fmt.getFrameSize());\nfreenect_set_video_buffer(this, videoBuffer);\nthis.videoFormat = fmt;\n/\n        }\n```\n    @Override\n    public int setLed(LedStatus status) {\n        return freenect_set_led(this, status.intValue());\n    }\n@Override\npublic void refreshTiltState() {\n    freenect_update_tilt_state(this);\n    this.rawTiltState = freenect_get_tilt_state(this);\n    this.tiltAngle = freenect_get_tilt_degs(rawTiltState);\n    this.tiltStatus = TiltStatus.fromInt(freenect_get_tilt_status(rawTiltState));\n    freenect_get_mks_accel(rawTiltState, accelX, accelY, accelZ);\n    this.accel[0] = accelX.get(0);\n    this.accel[1] = accelY.get(0);\n    this.accel[2] = accelZ.get(0);\n}\n\n@Override\npublic double getTiltAngle() {\n    return tiltAngle;\n}\n\n@Override\npublic int setTiltAngle(double angle) {\n    return freenect_set_tilt_degs(this, angle);\n}\n\n@Override\npublic TiltStatus getTiltStatus() {\n    return tiltStatus;\n}\n\n@Override\npublic double[] getAccel() {\n    return new double[]{accelX.get(0), accelY.get(0), accelZ.get(0)};\n}\n\n@Override\npublic int startVideo(VideoHandler handler) {\n    this.videoHandler = handler;\n    freenect_set_video_callback(this, videoCallback);\n    return freenect_start_video(this);\n}\n\n@Override\npublic int stopVideo() {\n    int rval = freenect_stop_video(this);\n    freenect_set_video_callback(this, null);\n    this.videoHandler = null;\n    return rval;\n}\n\n@Override\npublic int startDepth(DepthHandler handler) {\n    this.depthHandler = handler;\n    freenect_set_depth_callback(this, depthCallback);\n    return freenect_start_depth(this);\n}\n\n@Override\npublic int stopDepth() {\n    int rval = freenect_stop_depth(this);\n    freenect_set_depth_callback(this, null);\n    this.depthHandler = null;\n    return rval;\n}\n\n}\nprivate static class EventThread extends Thread {\n    private final NativeContext ctx;\n    private volatile boolean alive = true;\npublic EventThread(NativeContext ctx) {\n    this.ctx = ctx;\n    setDaemon(true);\n    setName(\"FreenectEventThread\");\n}\n\npublic void kill() {\n    this.alive = false;\n}\n\n@Override\npublic void run() {\n    while (alive) {\n        freenect_process_events(ctx);\n    }\n}\n\n}\n;\nprotected static class TiltState extends PointerType {\n    public TiltState() {\n    }\n}\n```\n// function prototypes from libfreenect.h\n// These must match the names used in the library!\n```\npublic interface NativeLogCallback extends Callback {\n    void callback(NativeDevice dev, int logLevel, String msg);\n}\nprivate interface NativeDepthCallback extends Callback {\n    void callback(Pointer dev, Pointer depth, int timestamp);\n}\n;\nprivate interface NativeVideoCallback extends Callback {\n    void callback(Pointer dev, Pointer frame, int timestamp);\n}\n;\nprivate static native int freenect_init(PointerByReference ctx, Pointer usb_ctx);\nprivate static native int freenect_shutdown(NativeContext ctx);\nprivate static native void freenect_set_log_level(NativeContext ctx, int level);\nprivate static native void freenect_set_log_callback(NativeContext ctx, NativeLogCallback cb);\nprivate static native int freenect_process_events(NativeContext ctx);\nprivate static native int freenect_num_devices(NativeContext ctx);\nprivate static native int freenect_open_device(NativeContext ctx, PointerByReference dev, int index);\nprivate static native int freenect_close_device(NativeDevice dev);\nprivate static native void freenect_set_user(NativeDevice dev, Pointer user);\nprivate static native Pointer freenect_get_user(NativeDevice dev);\nprivate static native void freenect_set_depth_callback(NativeDevice dev, NativeDepthCallback cb);\nprivate static native void freenect_set_video_callback(NativeDevice dev, NativeVideoCallback cb);\n// private static native int freenect_set_depth_format(NativeDevice dev, int i);\n```\n// private static native int freenect_set_video_format(NativeDevice dev, int i);\n    private static native int freenect_set_depth_buffer(NativeDevice dev, ByteBuffer buf);\n```\nprivate static native int freenect_set_video_buffer(NativeDevice dev, ByteBuffer buf);\nprivate static native int freenect_start_depth(NativeDevice dev);\nprivate static native int freenect_start_video(NativeDevice dev);\nprivate static native int freenect_stop_depth(NativeDevice dev);\nprivate static native int freenect_stop_video(NativeDevice dev);\nprivate static native int freenect_update_tilt_state(NativeDevice dev);\nprivate static native TiltState freenect_get_tilt_state(NativeDevice dev);\nprivate static native byte freenect_get_tilt_status(TiltState tiltState);\nprivate static native double freenect_get_tilt_degs(TiltState tiltState);\nprivate static native int freenect_set_tilt_degs(NativeDevice dev, double angle);\nprivate static native int freenect_set_led(NativeDevice dev, int option);\nprivate static native void freenect_get_mks_accel(TiltState tiltState, DoubleBuffer x, DoubleBuffer y, DoubleBuffer z);\n```\n}\n. seems like the method to set video_format was removed from the freenect.h file.\n. ",
    "RobertWieczoreck": "I found the solution!\nIn the driver code the freenect_set_video_format was renamed to freenect_set_video_mode and the  freenect_set_depth_format was renamed to freenect_set_depth_mode.\nJust open the Freenect.java in src/main/java/org/openkinect/freenect with a text editor and rename them accordingly. They appear all the way down at the end of the document and are used in the setVideoFormat and setDepthFormat functions, which are around line 190. You just have to change this 4 lines:\naround line 190 change\nfreenect_set_depth_format(this, fmt.intValue());\nto\nfreenect_set_depth_mode(this, fmt.intValue());\nand\nfreenect_set_video_format(this, fmt.intValue());\nto\nfreenect_set_video_mode(this, fmt.intValue());\nand at the end change\nprivate static native int freenect_set_depth_format(NativeDevice dev, int i);\nto\nprivate static native int freenect_set_depth_mode(NativeDevice dev, int i);\nand\nprivate static native int freenect_set_video_format(NativeDevice dev, int i);\nto\nprivate static native int freenect_set_video_mode(NativeDevice dev, int i);\nThat's it! Have fun! :)\n. @mchiareli: your code won't make it work..\nI found the solution!\nIn the driver code the freenect_set_video_format was renamed to freenect_set_video_mode and the  freenect_set_depth_format was renamed to freenect_set_depth_mode.\nJust open the Freenect.java in src/main/java/org/openkinect/freenect with a text editor and rename them accordingly. They appear all the way down at the end of the document and are used in the setVideoFormat and setDepthFormat functions, which are around line 190. You just have to change this 4 lines:\naround line 190 change\nfreenect_set_depth_format(this, fmt.intValue());\nto\nfreenect_set_depth_mode(this, fmt.intValue());\nand\nfreenect_set_video_format(this, fmt.intValue());\nto\nfreenect_set_video_mode(this, fmt.intValue());\nand at the end change\nprivate static native int freenect_set_depth_format(NativeDevice dev, int i);\nto\nprivate static native int freenect_set_depth_mode(NativeDevice dev, int i);\nand\nprivate static native int freenect_set_video_format(NativeDevice dev, int i);\nto\nprivate static native int freenect_set_video_mode(NativeDevice dev, int i);\nThat's it! Have fun! :)\n. ",
    "aaronsnoswell": "Can you please post the patch again, but wrap it in code quotes, so it is usable by others! Trying to build libfreenect myself atm... Code should be wrapped in triple ```.\n. ",
    "zhemao": "Yeah, sorry about the freenect.c . I must have regenerated it from the .pyx file by mistake at some point. I'll revert my repository and redo the commit.\n. ",
    "algrs": "Sorry about that -- I'll sign them and send a new pull request.\nThanks!\n. ",
    "ArturoJafet": "Thanks I did that to get JavaCV working but the OpenKinect example shows:\n\"Loaded freenect from /usr/local/lib/libfreenect.0.0.1.dylib\nDevices found: 1\nfreenect_start_video(): called with invalid format/resolution combination\"\nSince it's missing this line: dev.setVideoFormat(VideoFormat.RGB);\n. ",
    "sneilan": "I have the same problem. I can't get it to work on Java either.\n. ",
    "cbreak-black": "Looks good. I've not had the chance to test it yet, and I doubt I will in the near future, but it looks at least as capable as my mini patch :)\nFor using in my code, I'd probably chose a short non-zero timeout, the kinect would have its own loop in its own thread, but other threads have to be able to also access the data structures, so I have to periodically release the lock on them, or at least check if someone wants to get the lock via some signaling mechanism.\n. ",
    "nagi": "Please consider merging this stuff into master now. The ruby wrapper in master doesn't work at all at the moment, so this would be a big step up. Thanks.\n. ",
    "EgbertW": "Sorry, I need to file a pull issue I see.\n. ",
    "pcp16": "Hi, this hasn't been merged yet? What would it need to be merged?. ",
    "datenwolf": "What exactly does libusbemu see about the libfreenect internals? After all, all those cast happen only within the implementation source code. And C89, also called ANSI-C, digests non-casted void* just fine, so MSVC's C compiler should accept it as well.\n. ",
    "bramus": "Getting a likewise error:\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nLIBUSB_1_INCLUDE_DIR\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/src\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/examples\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/fakenect\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/wrappers/c_sync\n   used as include directory in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/wrappers/cpp\nLIBUSB_1_LIBRARY\n    linked by target \"freenect\" in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/src\n    linked by target \"freenectstatic\" in directory /tmp/homebrew-libfreenect-master-4u4J/OpenKinect-libfreenect-dbfd4ce/src\nEntire brew install log: https://gist.github.com/1481292 \nGot no clue on how to fix this ... anyone?\n. Got it fixed by installing libusb before installing libfreenect: https://gist.github.com/1481334\n. ",
    "alito": "Original intent and code by deavid on IRC\n. btw, the point of runloop not initialising the depth and video resolution is so that the new depth modes can be used with async. \n. ",
    "prusnak": "is there a reason why this does not go in?\n. ",
    "chrisporter": "Thanks Drew,\nIf there's anything you need me to test please let me know.\nI've tested this in 3 machines and I can get two kinects working on occasion by using a seemingly random selection of ports.\nThe PC that seems to work OK is pentium 4 the others are all i5\nCheers,\nChris.\n. Hi Drew, many thanks for your help.\nI've got 7 root hubs on a machine I'm testing on and can't get any more than 2 Kinects on at the same time. Also the USB 3.0 ports aren't working.\nBest regards,\nChris.\n. ",
    "orgicus": "Thank you very much for this! This makes a lot of sense. I'll give the PCI card option a go. I'll get back to confirm as soon as I've tested.\n. I can confirm that a separate PCI card powerd directly from the computer's CPU resolves the issue.\n. ",
    "aswins": "Is your code compiled properly? Then you can cd into the bin directory. Then run\n$ ./glview\n. ",
    "manishnath": "I am running this on mac.. i get command not found...even after going to bin dir\n. ",
    "dxli": "Do we have a tool to figure out the transmission through USB?\nFor example, collect registers set in cases of far-mode and near-mode, then find the difference.\nRight now, I can keep everything else the same, and toggle the near-mode on/off by a single line from Windows Kinect SDK 1.0\n. hi nneonneo,\nI have tested the UsbLyzer. I have difficulty in turning streams off. Still I keep the flag settings in regular intervals,\nwhile(true){\n        OutputDebugString(L\"change flags\\n\");\n        m_pNuiSensor->NuiImageStreamSetImageFrameFlags(m_pDepthStreamHandle, NUI_IMAGE_STREAM_FLAG_SUPPRESS_NO_FRAME_DATA);\n        Sleep(250);\n        m_pNuiSensor->NuiImageStreamSetImageFrameFlags(m_pDepthStreamHandle, NUI_IMAGE_STREAM_FLAG_ENABLE_NEAR_MODE);\n        Sleep(250);\n        m_pNuiSensor->NuiImageStreamSetImageFrameFlags(m_pDepthStreamHandle, NUI_IMAGE_STREAM_FLAG_DISTINCT_OVERFLOW_DEPTH_VALUES);\n        Sleep(500);\n    }\nThe data file is lzma compressed:\nhttps://github.com/dxli/libfreenect/blob/master/b.ulz.lzma\n. Hi nneonneo,\nNow, I got near-mode with libfreenect. however, it's still very puzzling at this point, because I can not get far mode back unless I try the kinect with windows SDK.\nI can set the register 0x2ef to 0x320 (800), or simply skip setting it, while still get the kinect camera in near mode.\nmy code to tweak the 0x2ef is here:\nhttps://github.com/dxli/libfreenect/commit/5cb50516469f9cbcda1b3755c22cf68c107a53d2\nthanks!\n. Hi,\nI have tested all the combinations here, with one hang with setting reg\n0x15 to 7 and reg 0x2ef to 0, although it doesn't always hang.\nI'm not able to get far mode back yet.\nthanks,\ndxli\nOn Mar 8, 2012 3:09 PM, \"Robert Xiao\" \nreply@reply.github.com\nwrote:\n\nTry setting 0x2EF to 0x0000, and also try setting 0x0015 to 0x0007 before\nsetting 0x02EF.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/OpenKinect/libfreenect/issues/274#issuecomment-4401142\n. Hi Robert,\n\nI have tested setting registers early, but still couldn't get far mode back. Here are my changes:\nhttps://github.com/dxli/libfreenect/tree/nearMode\nIf you want to me to test other ideas, you may send me pull requests or patches.\nThanks a lot already!\ndongxu\n. Hi Robert,\nFirst, I'm 100% sure that the camera is in near mode, because I can reboot to windows and get far mode, and the difference between 400mm and 800mm is beyond any doubt.\nI run out of ideas here, after tried all suggestions here. If there are new ideas to test, please send me a pull request or patch.\nThanks,\ndxli\n. ",
    "renewagner": "It turns out that what the above patch did was to enable and then immediately disable near mode again. Even in default mode the Kinect will sense objects as close as 500mm in front of the sensor. You really want to check whether you get depth info when the object is closer than 500mm.\nThe sequence to enable near mode is:\nwrite 0x0007 to reg 0x0015\nwrite 0x0000 to reg 0x02EF\nTo disable it:\nwrite 0x001E to reg 0x0015\nwrite 0x0190 to reg 0x02EF\nI've implemented this in my libfreenect fork:\nhttps://github.com/renewagner/libfreenect/commit/34f4c1ad22359fd99c2b44b4df097f9ca20f226a\nCheers,\nRene\n. ",
    "LlamaZ": "Essentially, we're doing some analysis of the error in Kinect data.\nWe could just convert to 3D, do the registration, and then convert back, but that would be doing and then undoing a bunch of work AND introducing other sources of error. It seems like the mapping from 11-bit values to the RGB pixel positions could just be saved as the correspondence is computed, rather than having to undo all of the transformations.\nI guess a similar request would be to allow multiple modes to be used. Eg. I might want both the depth in mm AND the registered depth in mm of a given frame. It seems the current setup only allows one mode to be used at any one time.\n. No, that's true, but I misspoke a little. We want, in particular, to look at the noise on the raw values. The raw values are also, as I understand it, disparity values as seen through a linear transformation. So there is something of a ground truth available. Essentially, we're interested in the raw, discrete integer values that the Kinect spits out, and it would be nice if they corresponded more directly to RGB values. We could of course use the supplied functions to find the mapping your code supplies between depth and RGB, and then recover the initial integer values, but we thought it might be nice if it were directly supported.\nI appreciate your time and indulgence, btw! :)\n. ",
    "reedscot": "I have the exact same problem - did you ever figure it out?\n. OK, I may have figured it out. You may need to go to wrappers/python and run\npython setup.py install\nIf this works, then the proper freenect.so should be generated, and this solves the linker error.\n. ",
    "jon-torodash": "I had a related problem, and the issue was a missing reference to libpython2.7.dylib in the linker arguments in wrappers/python/CMakeFiles/cython_freenect.dir/link.txt (in the build directory)\n. The log reveals a linker error. The waf script seems to be expecting a directory made from a version/name hash (see line 144) in the root directory to contain libs. (This might vary depending on your machine.) \nApparently, passing environment variables in waf can done on the command line directly. A full list of commands is here:\nhttps://code.google.com/p/waf/wiki/EnvironmentVariables\nTo pass along the expected LD flags, the worked for me:\nLINKFLAGS=\"-L/usr/local/lib\" ./waf configure build\nThis really should be corrected in the build script, though.\n. ",
    "abupoudel": "Well the above process worked for me, but with some tweak. :)\nI browsed the folder \"/usr/local/lib/python2.7/dist-packages/\" and saw the \"freenect.info\" file. I opened it and saw v0.0.1\nSo I opened my nautilus in root mode \"sudo nautilus\" in terminal.\nAnd just deleted those two files and reinstalled the freenect v0.1.2 as in my synaptic which was on neuro debain repo. \nEnjoying :D\n. ",
    "turiphro": "Error still/again exists in Ubuntu 12.10, even with Neuro repository. Removed old installation, installed Neuro repo, installed new freenect.\n. ",
    "xros": "i have met the same issue. thanks for the notice\n. ",
    "zoulzubazz": "true, after further digging found the solution posted here:\nhttps://github.com/amiller/libfreenect-goodies/issues/5\napologies for raising issue in the wrong hub, thanks a tonne.\n. ",
    "zacs": "Is it possible to get this merged? Currently a brew-based OSX install will not work because of the libtool requirements.\n. Muchos gracias!\n. ",
    "Funto": "What's the state for this work? It seems the k4w-wip is not updated anymore, any idea when this could me merged in the official trunk for libfreenect?\n. ",
    "DerCommodore": "Yea. When is it merged?\n. ",
    "col000r": "I'm very interested in Kinect for Windows support too!\n. ",
    "cnobile2012": "I'm assuming this is for the newer model 1473, yes?\nWith this model I get the following:\n$ glview \nKinect camera test\nNumber of devices found: 1\nCould not open camera: -3\nCould not open device\n$ lsusb\nBus 001 Device 008: ID 045e:02c2 Microsoft Corp. \nBus 001 Device 009: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nBus 001 Device 011: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nNotice no motor device.\n. ",
    "madEng84": "I saw these post today...\nhttp://answers.ros.org/question/12876/kinect-for-windows/\nhttp://answers.ros.org/answers/35351/revisions/\ni think these can help us :dancers: \n. ",
    "mcteo": "So the last commit brought back backward compatibility. So now we have the benefit of the extra functionality, with none of the hindrance of having to bring old code up to date. \n. Signed branch: https://github.com/OpenKinect/libfreenect/pull/301\n. It more than likely means pacman installed the header files in a subdirectory libfreenect, rather than putting them directly into a directory in the system include path. gcc/g++ searches for header files by default in /usr/include/ and /usr/local/include/.\nThe two possible solutions are, like you mentioned, manually changing the #include directive yourself to suit your own configuration, or while compiling it, add the absolute path to your own installation after the -I flag. The latter is if you are compiling manually; the makefile should of picked up on it, if the systems paths were updated correctly during installation.\n. ",
    "Outurnate": "Alright.  I was able to reproduce this issue on Linux Mint as well.  I'm interested in checking if this problem is present on other distros.\n. forgot sign-off message; will re-open with correct sign off\n. Is there a better way of using freenect_registration.h?  Or would having a pointer the the underlying device be the only way?\n. Care to elaborate, just a bit?  What's the issue here?\n. ",
    "piyushk": "The master branch now works for me. Thanks!!\n. ",
    "marcelhollerbach": "The Issue is closed. The Issue is closed because of :\nhttps://github.com/OpenKinect/libfreenect/pull/313\n. ",
    "johnscheible": "OK added the signed-off-by. Glad to help!\n. ",
    "tong": "dunno.please!\n. yes, @dudefellah version works for me on 1473, not the glview and i have to re-plug the kinect after each try.\n. just tested unstable branch and cannot confirm the fix. still get same errors (on all examples).\n ./glview \nKinect camera test\nNumber of devices found: 1\nCould not open camera: -3\nCould not open device\n. Ah .. forgot this as i moved to a new system, now everything is working!\nThank you very much!\n. ",
    "a-m-p-m": "I have the same issue with Kinect for Xbox 360 Model 1473.\nUbuntu 12.04 32bit, 64bit; Linux Mint 13 32bit on different computers.\n. ",
    "ansoto": "Hi,\nI have the same issue... Have you found a solution ?\n. Is there any progress about that ?\nThanks\n. ",
    "vitaly-little": "I found solution in this topic http://forum.openframeworks.cc/index.php?topic=11632.0\nhere is a very rough fix for it in the libfrenect files in this branch:\nhttps://github.com/ofTheo/ofxKinect/tree/kinect-device-fix\nyou can see the differences between the current develop branch:\nhttps://github.com/ofTheo/ofxKinect/compare/develop...kinect-device-fix\n. ",
    "Exomene": "Thanks for finding this.\nCan you explain how you proceeded?\nI compiled and installed this fix but still have the \"Unable to open\" error while testing with glview with ubuntu 12.10 64bits.\nThanks\n. I'd like to use it with processing too. By the way, if you use openkinect in processing the IR in the kinect 1473 starts and it returns some results (I didn't get further).\nI tried to follow the instructions on getting Theo Watson's branch to work with openFrameworks but failed (I got lost with code::blocks). Since it is a derivative, as far as I understood, I replaced the files in the source of openKinect by Theo's modified ones. It compiled on my ubuntu 12.10 but the problem remained the same.\nAnother question: I didn't understand the difference between freenect-glview and glview on the getting started page (http://openkinect.org/wiki/Getting_Started). It seems one should use glview when installed from the binaries and glview when installed from the sources. It's quite confusing for me, could'nt this be the source of some issues?\n. Thanks @dudefellah.\nI tried Ren\u00e9 Wagner's branch and finally had the same message as @zanemcca though I removed all files related to libfreenect before.\n. Hi,\nI'm just passing by and I'll come back after having test thoroughly but the problem I face may be due to the use of Kinect on USB 3 ports. As strange as it sounds I read that Kinect is an USB 2 only device and might not work correctly on USB 3. I'm on a PC running Ubuntu 12.10 64bit.\n. Hi @zanemcca,\nYes I tried the openFrameworks fix.\nI thought you had a good idea by removing all the references to libfreenect and kinect before trying to reinstall @theoceanwalker 's branch.\nSo this is what's left concerning *nect on my computer before reinstalling libfreenect (I'm running ubuntu 12.10 64bits)\nshell\n/etc/modprobe.d/blacklist-gspca-kinect.conf\n/etc/udev/rules.d/51-kinect.rules\n/lib/modules/3.2.0-32-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-18-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-19-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-21-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-22-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-23-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-25-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/lib/modules/3.5.0-26-generic/kernel/drivers/media/video/gspca/gspca_kinect.ko\n/usr/share/doc/opencv-doc/examples/cpp/kinect_maps.cpp.gz\n/usr/share/pulseaudio/alsa-mixer/profile-sets/kinect-audio.conf\n/usr/src/linux-headers-3.5.0-19-generic/include/config/usb/gspca/kinect.h\n/usr/src/linux-headers-3.5.0-21-generic/include/config/usb/gspca/kinect.h\n/usr/src/linux-headers-3.5.0-22-generic/include/config/usb/gspca/kinect.h\n/usr/src/linux-headers-3.5.0-23-generic/include/config/usb/gspca/kinect.h\n/usr/src/linux-headers-3.5.0-25-generic/include/config/usb/gspca/kinect.h\n/usr/src/linux-headers-3.5.0-26-generic/include/config/usb/gspca/kinect.h\nIs there still thing I should remove?\nRegarding the result of cmake, here they are\nshell\n-- The C compiler identification is GNU 4.7.2\n-- The CXX compiler identification is GNU 4.7.2\n-- Check for working C compiler: /usr/bin/gcc\n-- Check for working C compiler: /usr/bin/gcc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Operating system is Linux\n-- Got System Processor x86_64\n-- Linux x86_64 Detected\n-- libfreenect will be installed to /usr/local\n-- Headers will be installed to /usr/local/include/libfreenect\n-- Libraries will be installed to /usr/local/lib64\n-- Found libusb-1.0:\n--  - Includes: /usr/include/libusb-1.0\n--  - Libraries: /usr/lib/x86_64-linux-gnu/libusb-1.0.so\n-- Check if the system is big endian\n-- Searching 16 bit integer\n-- Looking for sys/types.h\n-- Looking for sys/types.h - found\n-- Looking for stdint.h\n-- Looking for stdint.h - found\n-- Looking for stddef.h\n-- Looking for stddef.h - found\n-- Check size of unsigned short\n-- Check size of unsigned short - done\n-- Using unsigned short\n-- Check if the system is big endian - little endian\n-- Looking for include file pthread.h\n-- Looking for include file pthread.h - found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Looking for XOpenDisplay in /usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so\n-- Looking for XOpenDisplay in /usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so - found\n-- Looking for gethostbyname\n-- Looking for gethostbyname - found\n-- Looking for connect\n-- Looking for connect - found\n-- Looking for remove\n-- Looking for remove - found\n-- Looking for shmat\n-- Looking for shmat - found\n-- Looking for IceConnectionNumber in ICE\n-- Looking for IceConnectionNumber in ICE - found\n-- Found X11: /usr/lib/x86_64-linux-gnu/libX11.so\n-- Found OpenGL: /usr/lib/x86_64-linux-gnu/libGL.so  \n-- Found GLUT: /usr/lib/x86_64-linux-gnu/libglut.so  \n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/exomene/libfreenect-master/build\nAnd the results of make\nshell\nScanning dependencies of target freenect\n[  4%] Building C object src/CMakeFiles/freenect.dir/core.c.o\n[  9%] Building C object src/CMakeFiles/freenect.dir/tilt.c.o\n[ 14%] Building C object src/CMakeFiles/freenect.dir/cameras.c.o\n/home/exomene/libfreenect-master/src/cameras.c:749:17: attention : \u2018read_register\u2019 defined but not used [-Wunused-function]\n/home/exomene/libfreenect-master/src/cameras.c: In function \u2018freenect_set_smoothing_mode\u2019:\n/home/exomene/libfreenect-master/src/cameras.c:1338:1: attention : contr\u00f4le a atteint la fin non void de la fonction [-Wreturn-type]\n[ 19%] Building C object src/CMakeFiles/freenect.dir/usb_libusb10.c.o\n/home/exomene/libfreenect-master/src/usb_libusb10.c: In function \u2018fnusb_open_subdevices\u2019:\n/home/exomene/libfreenect-master/src/usb_libusb10.c:382:1: attention : format \u2018%i\u2019 expects argument of type \u2018int\u2019, but argument 2 has type \u2018struct libusb_device_handle *\u2019 [-Wformat]\n/home/exomene/libfreenect-master/src/usb_libusb10.c:385:1: attention : format \u2018%i\u2019 expects argument of type \u2018int\u2019, but argument 2 has type \u2018struct libusb_device_handle *\u2019 [-Wformat]\n/home/exomene/libfreenect-master/src/usb_libusb10.c:178:25: attention : unused variable \u2018nr_mot\u2019 [-Wunused-variable]\n[ 23%] Building C object src/CMakeFiles/freenect.dir/registration.c.o\nLinking C shared library ../lib/libfreenect.so\n[ 23%] Built target freenect\nScanning dependencies of target freenectstatic\n[ 28%] Building C object src/CMakeFiles/freenectstatic.dir/core.c.o\n[ 33%] Building C object src/CMakeFiles/freenectstatic.dir/tilt.c.o\n[ 38%] Building C object src/CMakeFiles/freenectstatic.dir/cameras.c.o\n/home/exomene/libfreenect-master/src/cameras.c:749:17: attention : \u2018read_register\u2019 defined but not used [-Wunused-function]\n/home/exomene/libfreenect-master/src/cameras.c: In function \u2018freenect_set_smoothing_mode\u2019:\n/home/exomene/libfreenect-master/src/cameras.c:1338:1: attention : contr\u00f4le a atteint la fin non void de la fonction [-Wreturn-type]\n[ 42%] Building C object src/CMakeFiles/freenectstatic.dir/usb_libusb10.c.o\n/home/exomene/libfreenect-master/src/usb_libusb10.c: In function \u2018fnusb_open_subdevices\u2019:\n/home/exomene/libfreenect-master/src/usb_libusb10.c:382:1: attention : format \u2018%i\u2019 expects argument of type \u2018int\u2019, but argument 2 has type \u2018struct libusb_device_handle *\u2019 [-Wformat]\n/home/exomene/libfreenect-master/src/usb_libusb10.c:385:1: attention : format \u2018%i\u2019 expects argument of type \u2018int\u2019, but argument 2 has type \u2018struct libusb_device_handle *\u2019 [-Wformat]\n/home/exomene/libfreenect-master/src/usb_libusb10.c:178:25: attention : unused variable \u2018nr_mot\u2019 [-Wunused-variable]\n[ 47%] Building C object src/CMakeFiles/freenectstatic.dir/registration.c.o\nLinking C static library ../lib/libfreenect.a\n[ 47%] Built target freenectstatic\nScanning dependencies of target freenect_sync\n[ 52%] Building C object wrappers/c_sync/CMakeFiles/freenect_sync.dir/libfreenect_sync.c.o\nLinking C shared library ../../lib/libfreenect_sync.so\n[ 52%] Built target freenect_sync\nScanning dependencies of target glpclview\n[ 57%] Building C object examples/CMakeFiles/glpclview.dir/glpclview.c.o\nLinking C executable ../bin/glpclview\n[ 57%] Built target glpclview\nScanning dependencies of target glview\n[ 61%] Building C object examples/CMakeFiles/glview.dir/glview.c.o\nLinking C executable ../bin/glview\n[ 61%] Built target glview\nScanning dependencies of target hiview\n[ 66%] Building C object examples/CMakeFiles/hiview.dir/hiview.c.o\nLinking C executable ../bin/hiview\n[ 66%] Built target hiview\nScanning dependencies of target regtest\n[ 71%] Building C object examples/CMakeFiles/regtest.dir/regtest.c.o\nLinking C executable ../bin/regtest\n[ 71%] Built target regtest\nScanning dependencies of target regview\n[ 76%] Building C object examples/CMakeFiles/regview.dir/regview.c.o\nLinking C executable ../bin/regview\n[ 76%] Built target regview\nScanning dependencies of target tiltdemo\n[ 80%] Building C object examples/CMakeFiles/tiltdemo.dir/tiltdemo.c.o\nLinking C executable ../bin/tiltdemo\n[ 80%] Built target tiltdemo\nScanning dependencies of target fakenect\n[ 85%] Building C object fakenect/CMakeFiles/fakenect.dir/fakenect.c.o\nLinking C shared library ../lib/fakenect/libfreenect.so\n[ 85%] Built target fakenect\nScanning dependencies of target record\n[ 90%] Building C object fakenect/CMakeFiles/record.dir/record.c.o\nLinking C executable ../bin/record\n[ 90%] Built target record\nScanning dependencies of target freenect_sync_static\n[ 95%] Building C object wrappers/c_sync/CMakeFiles/freenect_sync_static.dir/libfreenect_sync.c.o\nLinking C static library ../../lib/libfreenect_sync.a\n[ 95%] Built target freenect_sync_static\nScanning dependencies of target cppview\n[100%] Building CXX object wrappers/cpp/CMakeFiles/cppview.dir/cppview.cpp.o\nLinking CXX executable ../../bin/cppview\n[100%] Built target cppview\nLast question, I am supposed to do a make install after cmake and make?\nThank you all for your help,\nExom\u00e8ne\n. Thanks for your reply.\nIt was plugged with the power adapter, the light was green (maybe blinking).\nI even tested on USB 2 and USB 3 ports.\nCan it be the results of numerous installation attempts not totally removed?\n. ",
    "chriswei": "I was able to build and run the openFrameworks example described in the previously mentioned post on my Xbox Kinect model 1473. I built the ofxKinect 'kinect-device-fix' branch in openFrameworks using Xcode on my MBPro. \nThe video and point cloud seemed to be working, but I was unable to take that code and successfully build and run a standalone version of libfreenect. In my attempt with Theo Watson's kinect-device-fix branch, the glview test app finds a device, prints out some debug information in the terminal, opens a window, then hangs. At least it gets past the \"Could not open device\" error! Unfortunately I don't have any time (and maybe not the skills) to dig deeper.\nI'm very interested in a solution that gets libfreenect working with the 'new' Xbox Kinect model 1473. I'd hate to have to return it and go looking for an older model on eBay. I'm also considering trying to get one of the Prime Sense sensors, but they're $200 plus shipping from Israel and take 2-4 weeks to ship. I'd eventually like to get Processing talking to the Xbox Kinect model 1473 on OS X.\nThe \"previously mentioned post\":  http://forum.openframeworks.cc/index.php?topic=11632.0\nThanks!\n. ",
    "dudefellah": "I've been messing around with this a bunch (I have a Kinect v 1473) and can get the demos sort of going by making one small change in freenect_fetch_zero_plane_info in src/cameras.c (note that this will break libfreenect with \"old\" Kinect versions):\n``` c\n--- a/src/cameras.c\n+++ b/src/cameras.c\n@@ -899,14 +899,13 @@ static int freenect_fetch_reg_const_shift(freenect_device dev)\n static int freenect_fetch_zero_plane_info(freenect_device dev)\n {\n        freenect_context *ctx = dev->parent;\n-\n        char reply[0x200];\n        uint16_t cmd[5] = {0}; // Offset is the only field in this command, and it's 0\n    int res;\n\n\nres = send_cmd(dev, 0x04, cmd, 10, reply, 322); //OPCODE_GET_FIXED_PARAMS = 4,\nif (res != 322) {\nFN_ERROR(\"freenect_fetch_zero_plane_info: send_cmd read %d bytes (expected 322)\\n\", res);\nres = send_cmd(dev, 0x04, cmd, 10, reply, 334); //OPCODE_GET_FIXED_PARAMS = 4,\nif (res != 334) {\nFN_ERROR(\"freenect_fetch_zero_plane_info: send_cmd read %d bytes (expected 334)\\n\", res);\n                return -1;\n        }\n```\n\nand then I remove attempts to use the motor:\n``` c\n--- a/examples/glview.c\n+++ b/examples/glview.c\n@@ -412,7 +412,8 @@ int main(int argc, char **argv)\n        }\n    freenect_set_log_level(f_ctx, FREENECT_LOG_DEBUG);\n\n\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_MOTOR | FREENECT_DEVICE_CAMERA));\n//freenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_MOTOR | FREENECT_DEVICE_CAMERA | FREENECT_DEVICE_AUDIO));\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_CAMERA | FREENECT_DEVICE_AUDIO));int nr_devices = freenect_num_devices (f_ctx);\nprintf (\"Number of devices found: %d\\n\", nr_devices);\n\n```\n\n\nI've read that there have been changes with the motor device in that it's somehow attached to the audio now? I'm not very experienced with libusb, but I would like to try to mess around and make it work if anybody has any ideas/suggestions.\n. I've forked my own copy here: https://github.com/dudefellah/libfreenect.git\nYou can diff against your repo to see what's been changed (the changes are somewhat different from what I posted earlier... I'm still trying to figure this stuff out) \nWhen you compile, you'll need to build audio and I've added a flag for building for the kinect ver 1473, so you'll need at least something like cmake -DBUILD_AUDIO:BOOL=ON -DBUILD_KINECT_1473:BOOL=ON\nI didn't commit the changes in glview since I've been messing around with a whole bunch of stuff, but I think you'll probably need remove the FREENECT_DEVICE_MOTOR flag from freenect_select_subdevices and may (I can't remember exactly) need to add FREENECT_DEVICE_AUDIO. The glview.c change should be the same as I posted earlier.\nHope that helps a bit more.\nDoes nobody else have more information on what's needed to get everything working again?\n. Looks like my work so far is actually a dumber version of this: https://github.com/renewagner/libfreenect/commit/06e48e5d4328f96bf61613953bab2f45a459a1fb . I'll probably end up using this code when I have time to play with libfreenect in the next week or so.\n. Yeah there's a number of ways to achieve the same ends. I still think https://github.com/renewagner/libfreenect/commit/06e48e5d4328f96bf61613953bab2f45a459a1fb is a better option right now. There's still some stuff missing, of course. The stream seems to go out of sync quite easily. I'm guessing there's slight variations on what's being sent back and forth but I haven't had a whole lot of time lately, so I haven't really tried to figure it out. Whatever's changed in the data stream is causing glview to be a little jerky as the video stream is resynced.\nI saw a thread a little while ago in my email (I can't seem to find it on github) referring to these: http://answers.ros.org/question/12876/kinect-for-windows/\nhttp://answers.ros.org/answers/35351/revisions/\nThat might have a little more of what we're looking for on getting 1473 to work.\n. ",
    "zanemcca": "So I am brand new to github. Could you tell me how you compiled your changes after you put them in @dudefellah \nI tried to make in the build directory but it did not seem to put the changes in. I also removed the object files and even tried removing the whole build directory and redoing cmake. Nothing seemed to work. Any help would be great. \n. Thanks that helps. I cannot find anything useful telling me why this thing will not rebuild properly.\nIf I edit glview.c I can see my changes right away. But I cannot get anything to happen when I change cameras.c. make says it is compiling it but nothing I do changes the output. I have installed, uninstalled and deleted everything countless times nothing I do has changed the output at all.\nMy most reason version of this is here:\n```\n--- a/src/cameras.c\n+++ b/src/cameras.c\n@@ -903,13 +903,29 @@ static int freenect_fetch_zero_plane_info(freenect_device *dev)\n        uint16_t cmd[5] = {0}; // Offset is the only field in this command, and it's 0\n    int res;\n\n\nres = send_cmd(dev, 0x04, cmd, 10, reply, 322); //OPCODE_GET_FIXED_PARAMS = 4,\nif (res != 322) {\nFN_ERROR(\"freenect_fetch_zero_plane_info: send_cmd read %d bytes (expected 322)\\n\", res);\nreturn -1;\n\n}\n\n\nmemcpy(&(dev->registration.zero_plane_info), reply + 94, sizeof(dev->registration.zero_plane_info));\n\nint expected_len = 0;\nint struct_offset = 0;\n+/*        switch(dev->hwrev) {\ncase HWREV_XBOX360_0:\nexpected_len = 322;\nstruct_offset = 94;\nbreak;\ncase HWREV_K4W_0:\n*/\nexpected_len = 334;\nstruct_offset = 94;\n+//            break;\n+//        }\n+\nres = send_cmd(dev, 0x04, cmd, 10, reply, expected_len); //OPCODE_GET_FIXED_PARAMS = 4,\nif (res != expected_len) {\n//FN_ERROR(\"freenect_fetch_zero_plane_info: send_cmd read %d bytes (expected %d)\\n\", res, expected_len);\nFN_ERROR(\"ERROR: THIS SHOULD PRINT ON THE SCREEN\");\nreturn -1;\n}\n+\nmemcpy(&(dev->registration.zero_plane_info), reply + struct_offset, sizeof(dev->registration.zero_plane_info));\n        union {\n                uint32_t ui;\n                float f;\n@@ -1261,7 +1277,9 @@ int freenect_set_video_mode(freenect_device* dev, const freenect_frame_mode mode\n        dev->video_resolution = res;\n        // Now that we've changed video format and resolution, we need to update\n        // registration tables.\nfreenect_fetch_reg_info(dev);\nif (res == FREENECT_RESOLUTION_MEDIUM) {\nfreenect_fetch_reg_info(dev);\n}\n        return 0;\n } \n```\n\nWhen I run glview I get this:\nKinect camera test\nNumber of devices found: 1\nControl cmd=0016 tag=0000 len=000a: 18\nControl reply: 18\nstart_lines:    0\nend_lines:      0\ncropping_lines: 0\nControl cmd=0004 tag=0001 len=000a: 18\nControl reply: 18\nsend_cmd: Data buffer is 322 bytes long, but got 334 bytes\nfreenect_fetch_zero_plane_info: send_cmd read 334 bytes (expected 322)\nfreenect_camera_init(): Failed to fetch zero plane info for device\nCould not open device\nI do not know how it is possible for it to print 322 at all I have it hard coded to 334. I have tried this a million times. Please help, how do I get the changes to go through?\n. Ok so I tried to edit the file on my MacAir and it worked.  But it is still not responding on my RaspberryPi with RaspbianOS. I am guessing there is some other old definition of that code that is getting called but I have no idea where it is. I tried to go through my /usr and /bin directories and I deleted everything with libfreenect in it then I reinstalled everything but still nothing. \n. Hey @Exomene I am trying to figure out why we are having this error. \nMy theory is that there is some file that is linking to an old copy of the /src directory and our changes are actually getting compiled into another file. \nBut to narrow down the symptoms of our problem can you tell me what hardware/OS you are on? \nI am on a RaspberryPi Rev B with RaspbianOS.\nAlso I tried to get the OpenFrameworks fix working, which could be the source of the error, did you try to install it as well?\nAny other info you have should help. Thanks\n. Hi @theoceanwalker Thanks for the insight.\nI have gotten mine to work by the rather crude reinstall my OS method, not a big hassle for me since it had almost nothing on it anyway. But I did not change my method for recompiling at all so I am confident that was not the issue. I think you are probably right about the /usr/lib and /usr/local/lib having conflicts. I tried as best as I could to track down any instances of libfreenect in the /usr and /etc directories but it is possible that I missed stuff. \nBut just for an FYI here are my outputs from making on my new install.\npi@raspberrypi ~/libfreenect/build $ cmake ..\n-- Operating system is Linux\n-- Got System Processor armv6l\n-- libfreenect will be installed to /usr/local\n-- Headers will be installed to /usr/local/include/libfreenect\n-- Libraries will be installed to /usr/local/lib\n-- Found libusb-1.0:\n--  - Includes: /usr/include/libusb-1.0\n--  - Libraries: /usr/lib/arm-linux-gnueabihf/libusb-1.0.so\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/pi/libfreenect/build\npi@raspberrypi ~/libfreenect/build $ make\nScanning dependencies of target freenect\n[  4%] Building C object src/CMakeFiles/freenect.dir/usb_libusb10.c.o\nLinking C shared library ../lib/libfreenect.so\n[ 23%] Built target freenect\nScanning dependencies of target freenectstatic\n[ 28%] Building C object src/CMakeFiles/freenectstatic.dir/usb_libusb10.c.o\nLinking C static library ../lib/libfreenect.a\n[ 47%] Built target freenectstatic\nLinking C shared library ../../lib/libfreenect_sync.so\n[ 52%] Built target freenect_sync\nLinking C executable ../bin/glpclview\n[ 57%] Built target glpclview\nLinking C executable ../bin/glview\n[ 61%] Built target glview\nLinking C executable ../bin/hiview\n[ 66%] Built target hiview\nLinking C executable ../bin/regtest\n[ 71%] Built target regtest\nLinking C executable ../bin/regview\n[ 76%] Built target regview\nLinking C executable ../bin/tiltdemo\n[ 80%] Built target tiltdemo\n[ 85%] Built target fakenect\nLinking C executable ../bin/record\n[ 90%] Built target record\n[ 95%] Built target freenect_sync_static\nLinking CXX executable ../../bin/cppview\n[100%] Built target cppview\npi@raspberrypi ~/libfreenect/build $ sudo make install\n[ 23%] Built target freenect\n[ 47%] Built target freenectstatic\n[ 52%] Built target freenect_sync\n[ 57%] Built target glpclview\n[ 61%] Built target glview\n[ 66%] Built target hiview\n[ 71%] Built target regtest\n[ 76%] Built target regview\n[ 80%] Built target tiltdemo\n[ 85%] Built target fakenect\n[ 90%] Built target record\n[ 95%] Built target freenect_sync_static\n[100%] Built target cppview\nInstall the project...\n-- Install configuration: \"\"\n-- Installing: /usr/local/lib/libfreenect.so.0.1.2\n-- Up-to-date: /usr/local/lib/libfreenect.so.0.1\n-- Up-to-date: /usr/local/lib/libfreenect.so\n-- Installing: /usr/local/lib/libfreenect.a\n-- Up-to-date: /usr/local/include/libfreenect/libfreenect.h\n-- Up-to-date: /usr/local/include/libfreenect/libfreenect-registration.h\n-- Up-to-date: /usr/local/lib/pkgconfig/libfreenect.pc\n-- Installing: /usr/local/bin/glview\n-- Removed runtime path from \"/usr/local/bin/glview\"\n-- Installing: /usr/local/bin/regview\n-- Removed runtime path from \"/usr/local/bin/regview\"\n-- Installing: /usr/local/bin/hiview\n-- Removed runtime path from \"/usr/local/bin/hiview\"\n-- Installing: /usr/local/bin/glpclview\n-- Removed runtime path from \"/usr/local/bin/glpclview\"\n-- Installing: /usr/local/bin/tiltdemo\n-- Removed runtime path from \"/usr/local/bin/tiltdemo\"\n-- Up-to-date: /usr/local/lib/fakenect/libfreenect.so.0.1.2\n-- Up-to-date: /usr/local/lib/fakenect/libfreenect.so.0.1\n-- Up-to-date: /usr/local/lib/fakenect/libfreenect.so\n-- Installing: /usr/local/bin/record\n-- Removed runtime path from \"/usr/local/bin/record\"\n-- Up-to-date: /usr/local/bin/fakenect\n-- Installing: /usr/local/lib/libfreenect_sync.so.0.1.2\n-- Up-to-date: /usr/local/lib/libfreenect_sync.so.0.1\n-- Up-to-date: /usr/local/lib/libfreenect_sync.so\n-- Removed runtime path from \"/usr/local/lib/libfreenect_sync.so.0.1.2\"\n-- Up-to-date: /usr/local/lib/libfreenect_sync.a\n-- Up-to-date: /usr/local/include/libfreenect/libfreenect_sync.h\n-- Up-to-date: /usr/local/include/libfreenect.hpp\n-- Installing: /usr/local/bin/cppview\n-- Removed runtime path from \"/usr/local/bin/cppview\"\nThanks again.\n. ",
    "leokoppel": "I got the camera to work by combining  renewagner's and ofTheo's code. I saved this here https://github.com/theoceanwalker/libfreenect\nThe glview example doesn't seem to work (it shows a blank window, and running it somehow messes up subsequent attemps to access the kinect), though \"regview\" does. This doesn't really concern me as I am using the python wrappers which are now working.\n. @zanemcca @Exomene odd issue but almost certainly has nothing to do with this library in particular, or what hardware you're on. The simplest explanations are\n- Your code is not actually being built (e.g., you did not run cmake to regenerate the Makefile after copying the source directory)\n- You have conflicting library paths (e.g. /usr/lib and /usr/local/lib)\nWhat are you actually doing to build? The output of make will tell you what source directory it's using..\n. @Exomene Yes. If you don't run make install or manually tell the system where to look for the library, it's not going to find it. It will find the old version. See this: http://tldp.org/LDP/LG/current/smith.html on the usual build process (though in this case cmake replaces the configure script) and this: http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html for details on shared libraries .\n. ",
    "csotiriou": "Is there any news on the implementation of support of model 1473?\nIs there anything we can use right now that actually works, until official support comes? I have seen suggestions in this thread, but I haven't got the time to test all of them. Yesterday, I found out that https://github.com/dudefellah/libfreenect.git does not work for me..\nHas anyone been able to run openKinect with 1473 using any variant?\n. Maybe it's because the device's sensors are not properly closed after you try. I noticed that, too.\nAnyone has any news on wether any fix will be implemented or if any effort is made by the official OpenKinect? So far it seems OpenNI is the only viable option, and even then, the newest 2.0 version needs the Kinect SDK ( = does not support Linux and OS X )\n. Yes. I think OpenNI is the only official viable solution for now.\n. Wizgrav, me too, I build against your changes, and still no success. I get the usual \"no devices found\" error.\n. ",
    "lucky13bbq": "I also got it working like dudefellah by editing cameras.c, but I removed attempt to use the motor differently. Here are my 2 small changes:\n\ndiff --git a/include/libfreenect.h b/include/libfreenect.h\nindex 4dfb6b1..ceb9111 100644\n--- a/include/libfreenect.h\n+++ b/include/libfreenect.h\n@@ -57,7 +57,7 @@ extern \"C\" {\n /// and motor support while letting OpenNI have access to the cameras.\n /// If a device is not supported on a particular platform, its flag will be ignored.\n typedef enum {\n-   FREENECT_DEVICE_MOTOR  = 0x01,\n+   FREENECT_DEVICE_MOTOR  = 0x00,\n    FREENECT_DEVICE_CAMERA = 0x02,\n    FREENECT_DEVICE_AUDIO  = 0x04,\n } freenect_device_flags;\ndiff --git a/src/cameras.c b/src/cameras.c\nindex 7886a33..915fd29 100644\n--- a/src/cameras.c\n+++ b/src/cameras.c\n@@ -905,7 +905,7 @@ static int freenect_fetch_zero_plane_info(freenect_device *dev)\n\n    int res;\n    res = send_cmd(dev, 0x04, cmd, 10, reply, 322); //OPCODE_GET_FIXED_PARAMS = 4,\n-   if (res != 322) {\n+   if (res != 322 && res != 334) {\n        FN_ERROR(\"freenect_fetch_zero_plane_info: send_cmd read %d bytes (expected 322)\\n\", res);\n        return -1;\n    }\n\n. ",
    "karlun": "Sorry if this is off topic but I got the impression that part of the problem with the new model is to identify it as such. The vendor and product ids will not change between models, so also bcdDevice needs to be included when searching for the device, either to stop the driver from trying to interact with a model that it cannot support or to actually change the driver's behaviour depending on the model. The bcdDevice value for the camera changes from 1.0b to 2.05 between model 1414 and 1473. It does not change for the audio device, though.\n. dev->usb_cam.dev is explicitly set to NULL in all versions of libfreenect I currently have clones of and I cannot see any line where that value would change. With the old Kinect device it crashes when retrieving the string and with the new model I get \"RES=-2, DESC=7\", which I assume is a fail.\n. Yep, that worked better. Not much information there, through: \"RES=16, DESC=0000000000000000\". (With the old Kinect I get \"RES=16, DESC=A00366A01397044A\")\n. The bcdDevice (device release number in binary-coded decimal), however, is unique for both devices. I tried\nc\nprintf(\"BCD=%d\\n\",res,desc.bcdDevice);\nwhich gives me \"BCD=517\" for the new device and \"BCD=267\" with the old device.\n. Yep, typo. I added bcdDevice to the original print-out and tried to clean-up the code while pasting it in the message. Should have been:\nc\nunsigned char string_desc[256];\nres = libusb_get_string_descriptor_ascii(dev->usb_cam.dev, desc.iSerialNumber, string_desc, 256);\nprintf(\"*RES=%d, DESC=%s*, BCD=%d\\n\",res,string_desc,desc.bcdDevice);\n. I get a lot of debug output from my own software, but I believe yours is this line, right?\nWith new Kinect: \"desc.bcdDevice: 517,  ctx->enabled_subdevices: 2, ctx->zero_plane_res: 334\"\nWith old Kinect: \"desc.bcdDevice: 267,  ctx->enabled_subdevices: 3, ctx->zero_plane_res: 322\"\nWorks with both devices! Great work!\nBoth devices take much longer to start producing usable data, though. With the new Kinect I get a lot of \"Invalid magic ffff\", but not with the old device. Still it takes several seconds before the image looks right. This is with my own software, through, since I have not been able to compile the examples yet.\n. Ignore my previous statement about the delay of usable data. That problem seems to have gone away.\n. ",
    "wizgrav": "We can probably identify the new kinect for xbox by checking the .iSerialNumber string returned from the usb descriptor. Can someone with the new kinect check it out with something like:\nunsigned char string_desc[256];\nres = libusb_get_string_descriptor_ascii(dev->usb_cam.dev, desc.iSerialNumber, string_desc, 256);\nprintf(\"*RES=%d, DESC=%s*\\n\",res,string_desc);\nThis should go in usb_libusb10.c > fnusb_open_subdevices() right before\nif (desc.idProduct == PID_NUI_CAMERA) {\nPlease paste the results so we can push the detection fix in renewagner's fork(along with the USB3 fix to make it current).\nAs for the raspberry I gave up on it a long time ago, the problem lies on the USB implementation on the board itself. It drops all packets from the cameras and the rasp devs seem unable to fix it in software so you should better consider other solution. The pandaboard and beagleboard work nicely, I'm also waiting for a cubieboard and beaglebone to arrive and will test there as well\n. Sorry it's getting initialized in line 197, at least in the official tree. Indeed a -2 libusb response means invalid param.\nres = libusb_open (devs[i], &dev->usb_cam.dev);\nif (res < 0 || !dev->usb_cam.dev) {\n                    FN_ERROR(\"Could not open camera: %d\\n\", res);\n                    dev->usb_cam.dev = NULL;\n                    break;\n}\ntry putting the printf right after that (but be careful not to place it inside the #ifndef _WIN32 if you're building on windows) \n. Thanks. That lack of information there is exactly what we need. I remember drew saying that the K4W also doesn't expose a desc so we should be able to catch that and set the correct zero_plane command just by that. I'll write a preliminary patch for the mainline tree. Of course I would appreciate if more people test with the printf code listed above to make sure that this assumption is correct\n. You have two arguments and only one placeholder in the format string of that printf but I'm sure it's just a typo. I'll check in this order (IF PID IS K4XBOX) -> (IS OLD BCD) If these fail(a new bcd or something) it will default to the K4W setting in which the motor will be auto disabled, for now\n. @m8n You forgot this\nres = libusb_get_string_descriptor_ascii(dev->usb_cam.dev, desc.iSerialNumber, string_desc, 256);\nThis is needed to fill string_desc with the serial number and should go right before the printf. We'll probably won't have to check the serial as the bcd seems safer. Nevertheless please post your results to check if indeed the serials are the same among the new Kinects \n. Please check https://github.com/wizgrav/libfreenect with the new kinect(and K4W if available)\n. @m8n  I've added some debugging please check it out again and paste the output\n. @karlun Thanks for the feedback. I'm pretty certain that the detection will work for K4W as well. The motor is disabled for the newer versions for now. I'll do a pull request to main and start working on adding motor and led support for all kinects as well. Drew had posted a proof concept so I'll start from that. Is xtion support of any interest to anyone?\n. @xxorde  please specify some details. Have you built against this tree https://github.com/wizgrav/libfreenect and it doesn't work?\n. @xxorde @killkrt I suspect the problem lies in the absence of the motor device in the newer kinects. I haven't modified the examples to take that into account. As it's orthodox easter here and I'm pretty far from home right now, I won't be able to inspect that for a couple of days more. When I get back to my main box, I'd be grateful if either of you could spare some time for a hangout or skype session so we can close this one for good. Msg me at wizgrav@gmail.com if you're interested\n. @timtro  try cloning the unstable branch ( git clone -b unstable https://github.com/OpenKinect/libfreenect.git )\n. -3 is libusb error LIBUSB_ERROR_ACCESS. This probably means you don't have rights to access the device. Try running as root or install the udev rules\n. Wow this thread is still alive, that was a good flashback. Without further info from the console I think the first thing to try is checking if permissions are set ok. Try running the app as root. I have recently used the kinect on a raspberry 3 and can confirm that it works ok. @josuerocha I'm not sure to be honest and can't actually check right now, my kinect is in malta and I'm currently in greece for the holidays. It should work though I setup several gigs with kinects and raspberries on my previous employer and I believe at least one of them would be 1473. Have you tried running as root and it didn't work? I have used 1473 in the past on several devices with success. Please check the latest commit, it supposedly fixes the issue for linux and mac\n. You are welcome :) I'd appreciate some more feedback on linux & mac to check the other two kinects as well. If they work, which they should, all that's left is replicating the windows libusb-win32 drivers to make it easier to work there as well\n. @Meach please try with the latest commit\n. @danomatika I wrote the wrapper but don't have windows handy to test it(I should setup mingw but it's getting very late here). Can you give it a try?\n. That was a mistake on my part. The interface should have been claimed before setting the alternate config on it(claiming it again doesn't hurt per the docs of libusb though). My code was trying to set it before claiming it. It is fixed now.\n. @petergreis can you provide some debugging info? what is the output of the demos on the console before they crash? I don't have access to any mac at the moment to test unfortunately\n. Yeah for now there's no tilt, leds or audio for the newer kinects. Is it worth dealing with those anyway? The complexity of the lib will be greatly increased if it is ever to support the kinect 2, and maybe won't even be feasible. I feel that libfreenect should focus on the primesense chipset and family. Their next iteration, capri, will give a big boost to the smart device market. It is reported as quite compatible to what we have now so it should be much simpler to support and the future much more certain than trying to get by with MS\n. @JoshBlake Do you agree with focusing on the camera device? Is the rest of the kinect's functionality useful enough to justify the complexity of having to handle multiple devices? Libfreenect is especially suited for embedded development so there's certainly a motive here\n. @piedar There is a way to detect for the presence of motor. The serials for the newer kinects come out as all zeros so one can just check this on init. Right now this branch, besides compatibility with all kinects, also internally disables the flags for devices other than the camera on newer kinects. It then checks that mask to decide if it should, silently, ignore requests to the tilt and led apis(This was needed to make the demos work). Should we add another api call to return the internal enabled devices mask?\n. Power supply is on? Is the device the 1473 that was working before? The latest commits should have no impact on compatibility\n. Can you locate what commit breaks it?\n. Just tell me what version number works for your device\n. Yeah sorry about that I added the freenect_enabled_subdevices function straight from the github editor, I'll do changes in my local copy from now on. Audio and motor won't work on newer kinects, the api requests for them will get silently ignored. Read the posts in this thread for details\n. Please all mac users share your reports along with os version, libusb version(+patched or not) so we can pinpoint which component is causing problems. Unfortunately I don't have access to a macosx installation so I'm pretty much useless in this case, but I can write some diagnostics if needed. Also try running the kinect without other usb devices attached if possible to check if it's a saturation problem\n. From what I understand from the descriptions the usb subsystem disconnects the kinect periodically. I think this should be reported to libusb\n. Windows and Linux work ok on my \"old\" xbox kinect. I'll try to find a k4w to test it myself but I think that people here have reported success for all three kinect variants on linux at least\n. Unfortunately no, I'm rather tied right now. A while ago I had a skype session with someone who confirmed that the 1473 worked on OSX so maybe the problem lies only with the k4w device\n. @piedar Yeah I think the only configuration that doesn't work right now is the k4w on macosx. My bet is on the alternate setup to be the culprit here. Unfortunately I have neither a mac nor a k4w to debug. I know this may sound lazy but if my assumption is correct then maybe the mac users should consider to disregard the k4w alltogether. The 1473 is cheaper, has the same capabilities and will probably stick around for much longer than k4w thanks to the xbox 360\n. Could this be a hardware issue with certain mac models? The kinect is not the best behaved device out there\n. Sorry I don't have any idea about the usb support in macosx. @willkelleher mentioned \"Open USB Prober, go to Bus Probe, set to \"Refresh Automatically\" and then watch it. Does your \"Microsoft Kinect Camera\" appear and disappear periodically? I lose mine every 20-30 seconds,\" So you could do this and check if this happens to you as well.\n. Everyone, test with the usb prober and post results along with OS version, kinect version, libusb version so we can have a clear reference. Thank you\n. @bigorangemachine If it works for you you're ok. The numbers reported from the accelerometers are ok, the motor api functions return normally(albeit with all zeros) but don't send commands to the usb on newer kinect models. This output where it downloads from xbox.com is the firmware loader for the audio indeed. I've never tried building libfreenect with audio so things may break there\nFor those dealing with problems on osx+K4W, please try connecting the device with and without the inrush current limiter. It's that little plug attached with duct tape on the usb male that goes to the pc. Just to make sure\n. @ofTheo this is bad if true. Can you confirm with the upgraded kinect on a linux box? In the mean time everyone spread the word around, the xbox has STDs keep it away from your kinects\n. @ofTheo well I checked out your repo and from what I understand your PR is about sending arbitrary usb commands to the cam device to keep the connection alive.  I've come to believe that, for some reason, the usb stack on macosx is resseting the usb connection. Even though this seems to be a macosx and/or libusb issue a workaround would be most welcome in this case. If your fix deals with the problem in a definite way then I guess that it's ok and we could wrap it in an ifdef on mac. But if it just postpones the inevitable for half a minute or so then I really should prefer to leave it open as an issue and try to find a better workaround. I would really appreciate the opinion of @piedar on that as well, so I can perform the steps he suggested\n@danomatika well 40 fps seem like an upgrade actually ;) I'm sure there was some kind of error on the calculations though but then again I have the old kinect so maybe I'm wrong\n. @danomatika Does this repo work stand alone in linux with that 1473? Maybe there's an issue with the usb privileges have you tried running as root?\n. @sameershah21 is 1517 the K4W device? It will have the same issues as the 1473 on macosx as it's essentially the same devices. I'll try to do some debugging on a friends mac and see if there's anything that can be done on our side but I'm afraid this has to do with the macosx usb stack not working properly\n. Unfortunately I don't have a mac to test but found this https://discussions.apple.com/message/23102051#23102051 It supposedly provides a fix in the last post of the thread. Check it out. I feel it won't fix our situation  but there are some options we can try though, and hopefully we can find a workaround. I need a volunteer to do a voip session with me so please contact me if you're interested\n. please try this branch git clone -b macosx https://github.com/wizgrav/libfreenect.git Mind that I'm shooting in the dark so patience is required\n. @soni991 the serial 00000000 indicates that the device is either a K4W or 1473. You may have been given an older kinect which works. Can you provide us with the output of usb probe on your current device?\n. @sameershah21  I've done some more experiments in my macosx branch can you try it again? Thanks\n. Please also git clone -b unstable https://github.com/wizgrav/libfreenect.git and run the chunkview example. This doesn't utilise the rgb stream, I just want to check out if this is the problem\n. you should create a build directory in the root of the library source, cd into it then \"cmake ..\" & make. This will contain the objects produced from the build in the build folder. If the build succeeds run \"./bin/chunkview\". It's supposed to be at the same place that glview and the rest are\n. You can send me the logs from the usbtrace tool as a last resort but I fear that this is something that roots deeper than we can delve, in the kernel's usb stack. I feel there's no easy way out of this one. If you have the time you can try https://github.com/LuaVision/lua-vision. This is an uber binding for lbfreenect in Lua with many features not found in the C lib itself and, specifically for your case, the ability to recover from errors of the usb bus(originally intended for hot plugging kinects). Check it out and if you find that it fits you for the time being experiment with it until something better comes up.\n. @pjaehrling I suspect that the trouble comes from the macosx usb stack itself. Maybe the newer devices just break compliance enough so as to be non functional there. At least that's what I get from the reports as I have neither a new kinect nor a macosx setup at hand. There's a workaround you could try though. freenect_process_events() returns -1 on error so you can catch that and do a chain of freenect_stop_depth(...), freenect_close_device(...),  and freenect_open_device(...) plus all the initialization you do from there on. This will at least keep the show going even with small pauses. It is good practice doing it anyway as the kinect tends to disconnect for various reasons. You can check a full implementation that implements hot plugging in https://github.com/LuaVision/lua-vision in src/device.c \n. Chunked processing will certainly alleviate a lot of bandwidth pressure but I'm afraid that this is not the culprit here. The problem is in the rpi itself. The usb controller that comes in the soc is of very low quality and combined with the low quality of the kinect itself, frame drops and failure ensue. I had a pi and spent lots of time on their forums before I realized that it's a dead end. If you're looking for a cheap arm board to run on, I suggest that you look somewhere else, like the cubieboards or this one https://www.olimex.com/Products/OLinuXino/A10/A10-OLinuXino-LIME/open-source-hardware\n. I haven't tried the beaglebone but I had good results coming out of a\nbeagleboard in the past so I think it should be adequate. My most recent\npurchase is the odroid u3 which is a tiny bit more expensive($60) but it's\na quad core A9 @1.7 Ghz with 2GB RAM so it has very good value/price. I've\nalso tested freenect succesfully on a pandaboard, cubieboard, olimex a10,\nsamsung chromebook (Cortex A15). Basically the only board it failed was the\nPi, and it's the most successful among all the arm boards. It's utterly\ncrappy and a testament that you can always count on hype over quality\nOn Mon, Jan 27, 2014 at 8:24 PM, Benn Snyder notifications@github.comwrote:\n\n@ray4510 https://github.com/ray4510 If I were picking out a pi-like\nboard, I would go with the BeagleBone Blackhttp://beagleboard.org/products/beaglebone%20black.\nUnfortunately, I have no idea how well it works with Kinect, so further\nresearch is required.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/338#issuecomment-33404289\n.\n\n\nYannis Gravezas\nFounder@Intrael http://www.intrael.com\nAthens, Greece\n+30 6947931815\n. I've used the kinect succesfully with a cubieboard a10. The a20 is supposed\nto have the same USB components in it so I assume it should also work.\nUnfortunately I don't own that particular boards but I don't think you'll\nhave a problem. Mind that the pi is notorious for it's crappy usb, every\nother arm board I've tried worked ok\nOn Mon, Feb 17, 2014 at 5:21 PM, ray4510 notifications@github.com wrote:\n\nI've been looking at the olimex(allwinner) a-20, but i can't find anything\non the net with people using openkinect on it. I want to assume it's\nbecause it just works! but that's how I ended up with an RPI in stead of a\nquality ARMy. can anyone verify the kinect will work with the olimex a20?\n\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/338#issuecomment-35290664\n.\n\n\nYannis Gravezas\nFounder@Intrael http://www.intrael.com\nAthens, Greece\n+30 6947931815\n. awesome, I'll have a chance to test a k4w in the weekend. would xtion support also make sense?\n. ",
    "xxorde": "I have the same Problem with Ubuntu 64  and Model 1473\n. @wizgrav With the std. and your code I get \" Kinect camera test Number of devices found: 1 Could not open device\" when I run glview / regview / ect.  With the code from https://github.com/theoceanwalker/libfreenect I can run regview. I get the correct image(s) but I can't control the tilt.\n. In the file \"libfreenect_sync.c\" on line 315 the command \"pthread_cond_wait(&buf->cb_cond, &buf->lock);\" never stops waiting.\nc\nstatic int sync_get(void **data, uint32_t *timestamp, buffer_ring_t *buf)\n{\n        pthread_mutex_lock(&buf->lock);\n        // If there isn't a frame ready for us\n        while (!buf->valid)\n                pthread_cond_wait(&buf->cb_cond, &buf->lock);\n\u2026\nSo it looks like, there is no frame ready for us...\n. That does not sound good. \nBut on my pi I don't get so far. On line 102 (src/cameras.c) hdr->magic[0] and hdr->magic[1] both have the value zero.\nc\nif (hdr->magic[0] != 'R' || hdr->magic[1] != 'B') {\n        FN_LOG(l_notice, \"[Stream %02x] Invalid magic %02x%02x\\n\",\n               strm->flag, hdr->magic[0], hdr->magic[1]);\n        return 0;\n    }\n[Stream 80] Invalid magic 0000\n. In my opinion, the best way would be to remove libusb abstraction layer by writing a kernel driver. \nThis should do the job and bring better performance. Of course this is a linux only way.\nAnd I hope we do not need to do this.\n. Ok, I started to build a simple native driver which I hope runs on the pi.\nI am not really experienced and don't made to much progress. I too a skeleton driver which hooks up to the kinect. I can send  messages with usb_control_msg() and get the answer, but stuck on sending custom packets like shown in the Protocol_Documentation. For example the one that should be replied by \"05 00 01 00\".\nIf someone wants to help me or just giving me a little hint, please feel free to do so!\n. Another problem is the libusb abstraction layer. I hope a native linux driver, which runs in kernel not in user space would do the trick! That's why I'm working on it.\nBy the way, I can send packages to the cam that look exactly like the once from the M$ driver in wireshark.\nThe responses start with the right magic, but do not contain the right data. Maybe my init stuff doesn't work right.  \nsend: 47 4D 02 00 03 00 00 00 00 00 01 00\nreceive: 52 42 01 00 03 00 00 00 00 00\nI should have revived something containing  05 00 01 00.\nThe normal depth init packets doesn't get the right response either, but I am on it.     \n. Success!\nI have a running kernel driver! After some cleanup I can make my repo public.\nBecause I also had to make small changes to gspca some more work is needed to make it ready for the kernel.\n. Here is the native driver https://github.com/xxorde/librekinect it works well on my raspberry pi.\nIf I write the data to my sd card I have 5% cpu usage, if I keep them in ram 2%. \nI hope you like it.\n@arunchettoor Have you got libfreenect running?\n. Am 15.04.2014 17:26, schrieb Florian Echtler:\n\n@xxorde very impressive, you should definitely talk to the gspca devs to get this included into the mainline kernel at some point.\nThx,  I already did. Next step is to change gspca in a way that I can\nget the second isoc endpoint, but still be compatible to the old api.\n\nMy version of gspca.c works for the kinect but for nothing else else ;)\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/OpenKinect/libfreenect/issues/338#issuecomment-40495395\n. I am not sure what you mean. I use v4l so the kinect act like any other \"webcam\".\nYou get a new /dev/videoX\n\nFor example: \ncamorama -d /dev/video0\nvlc v4l:///dev/video0\nI like to use OpenCV because I do not want do visualize the information, I want to use it for computation. \n. Am 17.04.2014 02:15, schrieb Arun Krishnan Chettoor:\n\nsudo sh unload_drivers.sh\nError: ...\nIgnore these, unload_drivers.sh is super dirty and just tries to unload\neverything which could get in the way even if its not there.\nmake[1]: Leaving directory `/home/pi/Desktop/arun/librekinect/librekinect'\nsudo modprobe videodev\nsudo insmod gspca.ko\nError: could not insert module gspca.ko: Invalid module format\nmake: *** [load] Error 1\n\"dmesg | tail -10\" gives:\n[ 6565.750570] gspca: no symbol version for module_layout\nThis indicates you have compiled the module against a different version\n/ configuration  of the kernel.\n@xxorde : Thank you so much for posting this. Loaded back everything\nto try in RPi. Everything was clear in manual unless the unzip of the\ngit clone gz file.\n\nOh, I forgot to post the command to unpack the kernel, I am going to add it.\nBash\ntar xfvz rpi-3.10.y.tar.gz\nAre you sure, you used your current config, by this:\nBash\ngzip -dc /proc/config.gz > /usr/src/linux/.config\nJust try to use the kernel from the source you downloaded, I just\nchanged the readme.\nBash\nsudo -s\ncd /usr/src/linux\nmake\nmake modules_install\ncp /usr/src/linux/arch/arm/boot/zImage /boot/linux-3.10.y\necho \"kernel=linux-3.10.y\" >> /boot/config.txt\nreboot\nI hope you can load your modules after this!\n. > @xxorde I done the kernel compiling as you said and successfully loaded the modules. Thank you. But I need to get the depth values as the function:\n\nfreenect_sync_get_depth((void**)&data, &timestamp, index, FREENECT_DEPTH_MM)\nNo, you don't!\nAt this point you do not need freenect_sync_get_depth or any other\ncomponent from libfreenect any more.\nYou can simply get your depth data from \"/dev/video0\".\nWhat do you want to do with the depth data?\nSimply look how you can get data from a video device, linux has a\nstandard (v4l) which I use. Nearly every software supports it.\nSo how can i communicate with the module to get the depth output . It will be so useful if you post an example code in C like the wrappers of libfreenect to just get values from the modules.\nThere are a lot of examples, try the search words \"linux webcam\", \"v4l\",\n\"/dev/video0\".\n\nHere is an example with OpenCV in C++\nhttp://henryhermawan.blogspot.de/2007/09/capturing-frames-from-usb-camera-using.html\nHere is one with python on the raspberry:\nhttp://tothinkornottothink.com/post/59305587476/raspberry-pi-simplecv-opencv-raspicam-csi-camera\nIf you don't like external frameworks and libraries you can use fopen()\nand process the data yourself.\nIf you have your frames, every pixel hast a 10 bit value which indicates\nthe distance from the camera.\nHigher value means greater distance, zero means not able to compute\n(mostly shadow or to close).\nI am glad that you got it! :)\n. It's better when we discuss further topics about the native driver where they belong:\nhttps://github.com/xxorde/librekinect\nI close the issue for now.\n. ",
    "killkrt": "@wizgrav I have the same problem as @xxorde, I built against your repository https://github.com/wizgrav/libfreenect , but I still get this output for many examples:\nKinect camera test\nNumber of devices found: 1\nCould not open device\nWhile other examples (such as tiltdemo, glpcview and regrets) write this:\nError: Invalid index [0]\nError: Kinect not connected?\nI have tried to disconnect and reconnect Kinect, but it didn't solve the problem. As information I'm able to run Kinect examples made for openFramework using this repository (note is a branch of the ofxKinect repository): https://github.com/ofTheo/ofxKinect/tree/kinect-device-fix.\nI'm under OS X 10.8.3.\nThank you.\nP.S.:\nSorry, I know I've already write a comment on your repository, but since this thread is more popular I'd prefer to write here.\n. I applied your patch to \"master\" branch, but I still have problems with my Kinect for XBox 360 (model 1473).\nThis is the output of \"hiview\" and \"glview\" examples:\nKinect camera test\nNumber of devices found: 1\nCould not open device\n(Tested OS X 10.8.3)\n. Tested on Mac OS X 10.8.4 and it works!!!\nGreat!!!\nThank you very much!\n. ",
    "timtro": "At the risk of simply restating everyone else's problem:\nI just got a 1473 from Costco in Canada, and when I clone the libfreenect repo, compile and try to run any of the bins, they \"Could not open device\" or \"Cannot get device\", although \"Number of devices found\" is 1. Using up-to-date Mint 15.\nIs there a word on when this might be fixed? I'm quite happy to help if my meagre programming skill might help, but I doubt it.\n. That worked brilliantly. Thanks!\nBest regards,\nTim.\nhttp://www.timteatro.net\nOn Tue, Jul 23, 2013 at 6:10 PM, Yannis Gravezas\nnotifications@github.comwrote:\n\n@timtro https://github.com/timtro try cloning the unstable branch ( git\nclone -b unstable https://github.com/OpenKinect/libfreenect.git )\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/316#issuecomment-21449998\n.\n. \n",
    "MihaiDogariu": "Hello! I have stumbled upon the same error and ended up at this site. I have tried @wizgrav 's proposed solution and it worked for me as I can now run the glview command. However I can't find any audio recording application as this is what I was searching for. Is this supported for the KINECT 1473 model or am I troubling for nothing? I know that the thread is old but still hoping for a response. Thanks in advance!\n. @piedar What I have tried is written in the following link: http://www.keyboardmods.com/2011/10/kinect-speech-recognition-in-linux.html under the \"Integrating the kinect\" section. It is similar to what you have pointed out and it worked for me. It now recognizes the kinect device as an audio input device and I can record audio from it using Linux's default microphone recorder or Audacity, for a greater degree of customization as I can choose on how many channels I want to record the sound. Thank you for your quick response!\n. ",
    "dansupergameprogrammer": "I tried to pull the unstable branch and got the error \nfatal: Remote branch unstable not found in upstream origin\nHave the changes from the unstable branch been rolled into the master branch?\n. Yes, awesome, thanks!\nI was able to pull the build down with Homebrew using the --HEAD command and it works, the only driver I've found which does.\nNow to write a Unity wrapper...\n. ",
    "leonardodsan": "Hello,\nI'm trying to use a Kinect device 1473 on a CubieTruck board (OS Linaro 12.04), I got the same problem with the official https://github.com/OpenKinect/libfreenect repository of: \"Could not open device\". Would you like to know the final solution of this topic to solve the problem?. ",
    "josuerocha": "I have the same problem on Ubuntu 16.04 with Kinect v1 1473. Any news upon solving this problem?. @wizgrav did you use the 1473 version?. Yes. I ran it as root and the same errors persist:\njr@JR-MOBILE:~$ sudo freenect-glview\nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\nFound sibling device [same parent]\nCould not open device: -1\nCould not open device\n. @har96 I don't think so. I bought a Kinect 1414 and gave up on 1473 in order to save some project time.. Thank you for your answer. Do you think the integration with OpenNI2 will be done soon? Because I need to control the motors for the  I am working on.. Also, could anybody use Freenect + OpenNI2 + PCL? Because I could get Freenect + OpenNI2 working perfectly but when I try to manipulste the stream in PCL I only get segmentation faults.. Thank you for the information.. ",
    "har96": "Has there been any update on this? I pulled from the master branch and am still getting the same error @josuerocha pasted above. Using a 1473; I've already corrected permissions and such.. Mine is actually started working. I uploaded the audio.bin firmware and I'm getting the video stream now.. ",
    "Tatsh": "Did you actually build libfreenect after this successfully?\n. ",
    "bishopZ": "no.\nwhen I run (from http://openkinect.org/wiki/Getting_Started#Manual_Build_under_OSX):\npatch -p1 < ../libfreenect/platform/osx/libusb-osx-kinect.diff\ni get:\npatching file libusb/libusbi.h\nHunk #1 FAILED at 288.\n1 out of 1 hunk FAILED -- saving rejects to file libusb/libusbi.h.rej\npatching file libusb/os/darwin_usb.c\nHunk #1 FAILED at 1137.\nHunk #2 FAILED at 1173.\nHunk #3 FAILED at 1209.\nHunk #4 succeeded at 1394 with fuzz 2 (offset 170 lines).\nHunk #5 succeeded at 1430 with fuzz 2 (offset 173 lines).\nHunk #6 FAILED at 1547.\nHunk #7 FAILED at 1564.\n5 out of 7 hunks FAILED -- saving rejects to file libusb/os/darwin_usb.c.rej\npatching file libusb/os/darwin_usb.h\nHunk #1 FAILED at 139.\npatch unexpectedly ends in middle of line\nHunk #2 FAILED at 147.\n2 out of 2 hunks FAILED -- saving rejects to file libusb/os/darwin_usb.h.rej\n. Here: https://github.com/OpenKinect/libfreenect#os-x\nI found a link to http://git.libusb.org/?p=libusb.git;a=snapshot;h=7da756e09fd97efad2b35b5cee0e2b2550aac2cb;sf=tgz;js=1\nWhen I try the patch command with this one, I get:\npatching file libusb/libusbi.h\npatching file libusb/os/darwin_usb.c\npatching file libusb/os/darwin_usb.h\npatch unexpectedly ends in middle of line\nHunk #2 succeeded at 147 with fuzz 1.\n. I went ahead with the install despite the errors.\nThe build process seemed to work properly, except the ccmake .. the paths were already pointing to libusb drivers. Not sure if those are the correct version; they likely were installed with the first attempt with macPorts, rather than the custom build in my /git folder. Anyway, I left the paths alone and build seemed to work fine.\nNow with I run:\n./glview\nI get:\nKinect camera test\nNumber of devices found: 0\nYes, the Kinect is plugged in and connected. This is a Kinect for Windows, not Xbox.\n. ",
    "JonBoyleCoding": "Actually, I see this has been updated in the unstable branch. So I shall close this one.\n. ",
    "harshpatel991": "Same isuue here\n. ",
    "AmmarkoV": "most of them should be automatically optimized by the compiler , you can try and compile a standalone version of the function ( after stripping it ) using gcc yourmainfile.c -S -o outputAssembly.asm\nand see the actual instructions spit out \nAlso on i7 AVX capable machines using -march=native -mtune=native as compiler parameters with -O3 optimization will yield much better performance , on this kind of processing tasks  See :  http://software.intel.com/en-us/avx/ and http://software.intel.com/en-us/articles/intel-intrinsics-guide\n. ",
    "d33z": "IIRC, at the time of my post there wasn't an official brew package for libfreenect - so, I wouldn't have been able to try that then.\n. Good to hear! :)  \nOn Monday, June 17, 2013 at 2:35 PM, Benn Snyder wrote:\n\nI just checked the official libusb Formula (https://github.com/mxcl/homebrew/blob/master/Library/Formula/libusb.rb) and it does have this patch. Thanks for reporting!\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/OpenKinect/libfreenect/pull/324#issuecomment-19569009).\n. \n",
    "alteist": "@wizgrav I'm confirming that applying this pull request to libfreenect/master made my Kinect for Xbox 360 model 1473 work on Ubuntu 13.04 amd64 (kernel 3.8.0, libusb 1.0.12) in standard demos. Thank you! \n. @petergreis I've used this method https://gist.github.com/piscisaureus/3342247\n. ",
    "Meach": "Is this fix for any Kinect for Windows? I have a model 1517 and it shows a black screen.\nI tested on Mac OSX 10.7. When launching \"glview\", I have: \nKinect camera test\nNumber of devices found: 1\nGL thread\nFailed to submit isochronous transfer 0: -5\nFailed to submit isochronous transfer 1: -5\nFailed to submit isochronous transfer 2: -5\nFailed to submit isochronous transfer 3: -5\nWrite Reg 0x0105 <= 0x00\nWrite Reg 0x0006 <= 0x00\nWrite Reg 0x0012 <= 0x03\nWrite Reg 0x0013 <= 0x01\nWrite Reg 0x0014 <= 0x1e\nWrite Reg 0x0006 <= 0x02\nWrite Reg 0x0017 <= 0x00\nFailed to submit isochronous transfer 0: -5\nFailed to submit isochronous transfer 1: -5\nFailed to submit isochronous transfer 2: -5\nFailed to submit isochronous transfer 3: -5\nWrite Reg 0x000c <= 0x00\nWrite Reg 0x000d <= 0x01\nWrite Reg 0x000e <= 0x1e\nWrite Reg 0x0005 <= 0x01\nWrite Reg 0x0047 <= 0x00\n. @wizgrav ok I tried the latest commit and it now works as well with my K4W model 1517.\nThanks!\n. @petergreis you can also download directly wizgrav repository. (https://github.com/wizgrav/libfreenect/archive/master.zip)\n. @cliff76 yes I am having the same thing. See this for reference: https://github.com/ofTheo/ofxKinect/issues/94\nBut using the application of libfreenect are working fine with my K4W on OSX 10.7.5. Did you try the glview example in libfreenect for example?\n. @cliff76 with terminal, go to your libfreenect folder and compile it. Then go in build/bin, the examples are located there.\nTo launch glview, type: ./glview\n. I am on 10.7 and has a K4W. I can make some test with USB prober and post results if you want as well.\n. ",
    "petergreis": "As a git newbie my apologies, but what is the command line recipe to pull this branch so I can also test it?\n. OK, I have looked at that link and I am still in the dark... is there a fast way to pull everything here from wizgrav ?\n. Beautiful, thank you. I will compile and test when I get back tonight.\nBest regards\nPeter\nOn Jun 19, 2013, at 13:31, \"Mathieu Hingant\" notifications@github.com<mailto:notifications@github.com> wrote:\n@petergreishttps://github.com/petergreis you can also download directly wizgrav repository. (https://github.com/wizgrav/libfreenect/archive/master.zip)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/pull/325#issuecomment-19678017.\n. OK - Model 1517 connected to a Macbook Pro retina: I finally get something! With the demos I have a picture for a while, then all of them crash.\n. From glview:\nfreethinker-rMacBookPro:~ peter_greis$ glview\nKinect camera test\nNumber of devices found: 1\nGL thread\nWrite Reg 0x0105 <= 0x00\nWrite Reg 0x0006 <= 0x00\nWrite Reg 0x0012 <= 0x03\nWrite Reg 0x0013 <= 0x01\nWrite Reg 0x0014 <= 0x1e\nWrite Reg 0x0006 <= 0x02\nWrite Reg 0x0017 <= 0x00\nWrite Reg 0x000c <= 0x00\nWrite Reg 0x000d <= 0x01\nWrite Reg 0x000e <= 0x1e\nWrite Reg 0x0005 <= 0x01\n[Stream 70] Invalid magic 3eff\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic 42ff\n[Stream 70] Invalid magic 02e0\n[Stream 70] Lost 2 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 8 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic b837\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 9 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 9 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 7 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic acd6\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 10 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\nWrite Reg 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode, 'f'-video\nformat\nUSB device disappeared, cancelling stream 82 :(\nUSB camera marked dead, stopping streams\nWrite Reg 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nWrite Reg 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nshutting down streams...\n-- done!\nglview(13734,0x7fff7af9f180) malloc: * error for object 0x7fc4a5008c08:\nincorrect checksum for freed object - object was probably modified after\nbeing freed.\n* set a breakpoint in malloc_error_break to debug\nAbort trap: 6\nfreethinker-rMacBookPro:~ peter_greis$\n\nFrom the Problem Report:\nProcess:         glview [13734]\nPath:            /usr/local/bin/glview\nIdentifier:      glview\nVersion:         0\nCode Type:       X86-64 (Native)\nParent Process:  bash [13709]\nUser ID:         502\nDate/Time:       2013-06-20 16:44:29.224 +0200\nOS Version:      Mac OS X 10.8.4 (12E55)\nReport Version:  10\nInterval Since Last Report:          679135 sec\nCrashes Since Last Report:           7\nPer-App Crashes Since Last Report:   2\nAnonymous UUID:                      0CCD8205-C629-56AC-98CB-FDC8177A7272\nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\nApplication Specific Information:\n*** error for object 0x7fc4a5008c08: incorrect checksum for freed object -\nobject was probably modified after being freed.\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_kernel.dylib        0x00007fff8c126212 __pthread_kill + 10\n1   libsystem_c.dylib             0x00007fff959dbb54 pthread_kill + 90\n2   libsystem_c.dylib             0x00007fff95a1fdce abort + 143\n3   libsystem_c.dylib             0x00007fff959fb905 szone_error + 580\n4   libsystem_c.dylib             0x00007fff959fc3d4\nsmall_free_list_remove_ptr + 156\n5   libsystem_c.dylib             0x00007fff959fa10f\nszone_free_definite_size + 4278\n6   libsystem_c.dylib             0x00007fff959f38f8 free + 199\n7   com.apple.CoreGraphics        0x00007fff8d478870\nCGEventCreateFromDataAndSource + 2695\n8   com.apple.CoreGraphics        0x00007fff8d477d7c CGSDecodeEventRecord +\n102\n9   com.apple.CoreGraphics        0x00007fff8d477b0f\nCGSDispatchDatagramsFromStream + 237\n10  com.apple.CoreGraphics        0x00007fff8d477742 snarf_events + 367\n11  com.apple.CoreGraphics        0x00007fff8d4774c7\nCGSGetNextEventRecordInternal + 122\n12  com.apple.CoreGraphics        0x00007fff8d477404 CGEventCreateNextEvent\n- 31\n  13  com.apple.HIToolbox           0x00007fff89fc25f7\n  PullEventsFromWindowServerOnConnection(unsigned int, unsigned char) + 71\n  14  com.apple.CoreFoundation      0x00007fff8c1c7e40 CFMachPortPerform +\n  288\n  15  com.apple.CoreFoundation      0x00007fff8c1c7d09\n  __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION + 41\n  16  com.apple.CoreFoundation      0x00007fff8c1c7a49 __CFRunLoopDoSource1 +\n  153\n  17  com.apple.CoreFoundation      0x00007fff8c1fac02 __CFRunLoopRun + 1826\n  18  com.apple.CoreFoundation      0x00007fff8c1fa0e2 CFRunLoopRunSpecific +\n  290\n  19  com.apple.HIToolbox           0x00007fff89fbbeb4\n  RunCurrentEventLoopInMode + 209\n  20  com.apple.HIToolbox           0x00007fff89fbbb94 ReceiveNextEventCommon\n- 166\n  21  com.apple.HIToolbox           0x00007fff89fbbae3\n  BlockUntilNextEventMatchingListInMode + 62\n  22  com.apple.AppKit              0x00007fff8ea8a533 _DPSNextEvent + 685\n  23  com.apple.AppKit              0x00007fff8ea89df2 -[NSApplication\n  nextEventMatchingMask:untilDate:inMode:dequeue:] + 128\n  24  com.apple.glut                0x000000010b0210f2 -[GLUTApplication\n  _runMainLoopUntilDate:autoreleasePool:] + 156\n  25  com.apple.glut                0x000000010b021219 -[GLUTApplication run]\n- 238\n  26  com.apple.glut                0x000000010b02e0ec glutMainLoop + 267\n  27  glview                        0x000000010b00ace6 gl_threadfunc + 182\n  28  glview                        0x000000010b00b7da main + 746\n  29  libdyld.dylib                 0x00007fff8fee47e1 start + 1\nThread 1:: Dispatch queue: com.apple.libdispatch-manager\n0   libsystem_kernel.dylib        0x00007fff8c126d16 kevent + 10\n1   libdispatch.dylib             0x00007fff91ecddea _dispatch_mgr_invoke +\n883\n2   libdispatch.dylib             0x00007fff91ecd9ee _dispatch_mgr_thread +\n54\nThread 2:\n0   libsystem_kernel.dylib        0x00007fff8c1266d6 __workq_kernreturn + 10\n1   libsystem_c.dylib             0x00007fff959dcf4c _pthread_workq_return +\n25\n2   libsystem_c.dylib             0x00007fff959dcd13 _pthread_wqthread + 412\n3   libsystem_c.dylib             0x00007fff959c71d1 start_wqthread + 13\nThread 3:\n0   libsystem_kernel.dylib        0x00007fff8c1266d6 __workq_kernreturn + 10\n1   libsystem_c.dylib             0x00007fff959dcf4c _pthread_workq_return +\n25\n2   libsystem_c.dylib             0x00007fff959dcd13 _pthread_wqthread + 412\n3   libsystem_c.dylib             0x00007fff959c71d1 start_wqthread + 13\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x0000000000000000  rbx: 0x0000000000000006  rcx: 0x00007fff54bf17b8\nrdx: 0x0000000000000000\n  rdi: 0x0000000000000707  rsi: 0x0000000000000006  rbp: 0x00007fff54bf17e0\nrsp: 0x00007fff54bf17b8\n   r8: 0x00007fff7af9e278   r9: 0x00000000fffffff0  r10: 0x0000000020000000\nr11: 0x0000000000000206\n  r12: 0x000000010b0dc000  r13: 0x00007fc4a5008c08  r14: 0x00007fff7af9f180\nr15: 0x0000000000000000\n  rip: 0x00007fff8c126212  rfl: 0x0000000000000206  cr2: 0x00007fff7af97ff0\nLogical CPU: 0\nBinary Images:\n       0x10b008000 -        0x10b00bff7 +glview (0)\n<0EAFEAA2-07CE-3DCF-B10C-E620B9F0B86F> /usr/local/bin/glview\n       0x10b011000 -        0x10b059ff7  com.apple.glut (3.5.2 - GLUT-3.5.2)\n\n/System/Library/Frameworks/GLUT.framework/Versions/A/GLUT\n       0x10b0cd000 -        0x10b0d8ff7 +libfreenect.0.1.dylib (0)\n /usr/local/lib/libfreenect.0.1.dylib\n       0x10b0e2000 -        0x10b0effff +libusb-1.0.0.dylib (0)\n<2962F84F-3B92-3784-83BF-FDC2B3ED05EA> /usr/local/lib/libusb-1.0.0.dylib\n       0x10b771000 -        0x10b77bfff  com.apple.iokit.IOUSBLib (5.5.0 -\n5.5.0) <3859152B-752E-3126-B9A7-12B9D9B01C81>\n/System/Library/Extensions/IOUSBFamily.kext/Contents/PlugIns/IOUSBLib.bundle\n/Contents/MacOS/IOUSBLib\n       0x10bb0c000 -        0x10bb19fff  libGPUSupport.dylib (8.9.2)\n<0D32763C-7F3D-3FDB-9EDB-760BB7AFFA04>\n/System/Library/PrivateFrameworks/GPUSupport.framework/Versions/A/Libraries/\nlibGPUSupport.dylib\n       0x10bb21000 -        0x10bb26fff  com.apple.IOAccelerator (74.5.1 -\n74.5.1) <574EC60B-E292-3FEA-8A66-B12DB2C1CEC5>\n/System/Library/PrivateFrameworks/IOAccelerator.framework/Versions/A/IOAccel\nerator\n       0x10bb2e000 -        0x10bb3afff  libGPUSupportMercury.dylib (8.9.2)\n<971EDFC6-3E6A-375C-9133-F50DFDDCEBDD>\n/System/Library/PrivateFrameworks/GPUSupport.framework/Versions/A/Libraries/\nlibGPUSupportMercury.dylib\n       0x10bb45000 -        0x10bb70fff  GLRendererFloat (8.9.2)\n<18D6F0AD-C5F1-3E8F-89C2-89426A3D6FE4>\n/System/Library/Frameworks/OpenGL.framework/Resources/GLRendererFloat.bundle\n/GLRendererFloat\n       0x10bb79000 -        0x10bb82fe7  libcldcpuengine.dylib (2.2.16)\n\n/System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libcldcpuen\ngine.dylib\n       0x10db42000 -        0x10dd00fff  GLEngine (8.9.2)\n<420E03C3-B91D-33C7-A1C4-BE60A1544971>\n/System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngi\nne\n       0x10dd37000 -        0x10dea7fff  libGLProgrammability.dylib (8.9.2)\n<83DBCC22-F711-3F9D-B622-6DE5D9DD90AE>\n/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgra\nmmability.dylib\n       0x10dedf000 -        0x10e367ff7\ncom.apple.driver.AppleIntelHD4000GraphicsGLDriver (8.12.47 - 8.1.2)\n\n/System/Library/Extensions/AppleIntelHD4000GraphicsGLDriver.bundle/Contents/\nMacOS/AppleIntelHD4000GraphicsGLDriver\n       0x200000000 -        0x20092eff7  com.apple.GeForceGLDriver (8.12.47\n- 8.1.2) \n  /System/Library/Extensions/GeForceGLDriver.bundle/Contents/MacOS/GeForceGLDr\n  iver\n  0x7fff6ac08000 -     0x7fff6ac3c93f  dyld (210.2.3)\n   /usr/lib/dyld\n  0x7fff8952e000 -     0x7fff89534fff  com.apple.DiskArbitration (2.5.2 -\n  2.5.2) \n  /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitrat\n  ion\n  0x7fff89535000 -     0x7fff8953cfff  libcopyfile.dylib (89)\n  <876573D0-E907-3566-A108-577EAD1B6182> /usr/lib/system/libcopyfile.dylib\n  0x7fff8953d000 -     0x7fff89648fff  libFontParser.dylib (84.6)\n  <96C42E49-79A6-3475-B5E4-6A782599A6DA>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/ATS.framework/Versions/A/Resources/libFontParser.dylib\n  0x7fff89649000 -     0x7fff898edff7  com.apple.CoreImage (8.4.0 - 1.0.1)\n  \n  /System/Library/Frameworks/QuartzCore.framework/Versions/A/Frameworks/CoreIm\n  age.framework/Versions/A/CoreImage\n  0x7fff898ee000 -     0x7fff89910ff7  com.apple.Kerberos (2.0 - 1)\n  \n  /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n  0x7fff8993a000 -     0x7fff899ffff7  com.apple.coreui (2.0 - 181.1)\n  <83D2C92D-6842-3C9D-9289-39D5B4554C3A>\n  /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI\n  0x7fff89a00000 -     0x7fff89a48fff  libcurl.4.dylib (69.2)\n   /usr/lib/libcurl.4.dylib\n  0x7fff89ad4000 -     0x7fff89aebfff  com.apple.GenerationalStorage (1.1\n- 132.3) \n  /System/Library/PrivateFrameworks/GenerationalStorage.framework/Versions/A/G\n  enerationalStorage\n  0x7fff89aec000 -     0x7fff89b03fff  com.apple.CFOpenDirectory (10.8 -\n  151.10) \n  /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFO\n  penDirectory.framework/Versions/A/CFOpenDirectory\n  0x7fff89b04000 -     0x7fff89b08fff  libCGXType.A.dylib (332)\n  <17C8DD17-B3CB-3633-B252-C368AE51204C>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib\n  0x7fff89b09000 -     0x7fff89ca4fef  com.apple.vImage (6.0 - 6.0)\n  \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage\n  .framework/Versions/A/vImage\n  0x7fff89ca5000 -     0x7fff89ca7ff7  com.apple.print.framework.Print\n  (8.0 - 258) <34666CC2-B86D-3313-B3B6-A9977AD593DA>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.fram\n  ework/Versions/A/Print\n  0x7fff89ca8000 -     0x7fff89cbffff  libGL.dylib (8.9.2)\n  \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib\n  0x7fff89f5c000 -     0x7fff8a28cfff  com.apple.HIToolbox (2.0 - 626.1)\n  <656D08C2-9068-3532-ABDD-32EC5057CCB2>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.\n  framework/Versions/A/HIToolbox\n  0x7fff8a28d000 -     0x7fff8a3a7fff  com.apple.coreavchd (5.6.0 -\n  5600.4.16) <0CF2ABE5-B088-3B5D-9C04-47AE708ADAE3>\n  /System/Library/PrivateFrameworks/CoreAVCHD.framework/Versions/A/CoreAVCHD\n  0x7fff8a3b4000 -     0x7fff8a66bff7  com.apple.MediaToolbox (1.0 -\n  926.104) <916B1ACC-2623-39FB-9B5A-1B0162F8C468>\n  /System/Library/Frameworks/MediaToolbox.framework/Versions/A/MediaToolbox\n  0x7fff8a66c000 -     0x7fff8a70aff7  com.apple.ink.framework (10.8.2 -\n  150) <84B9825C-3822-375F-BE58-A753444FBDE2>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framew\n  ork/Versions/A/Ink\n  0x7fff8a986000 -     0x7fff8a9e5fff  com.apple.AE (645.6 - 645.6)\n  <44F403C1-660A-3543-AB9C-3902E02F936F>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.f\n  ramework/Versions/A/AE\n  0x7fff8a9e6000 -     0x7fff8aa2afff  libcups.2.dylib (327.6)\n  <9C01D012-6F4C-3B69-B614-1B408B0ED4E3> /usr/lib/libcups.2.dylib\n  0x7fff8aa2b000 -     0x7fff8aa2fff7  com.apple.CommonPanels (1.2.5 - 94)\n  \n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPane\n  ls.framework/Versions/A/CommonPanels\n  0x7fff8aa31000 -     0x7fff8aa99ff7  libc++.1.dylib (65.1)\n  <20E31B90-19B9-3C2A-A9EB-474E08F9FE05> /usr/lib/libc++.1.dylib\n  0x7fff8aa9a000 -     0x7fff8aaadff7  com.apple.LangAnalysis (1.7.0 -\n  1.7.0) <2F2694E9-A7BC-33C7-B4CF-8EC907DF0FEB>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/LangAnalysis.framework/Versions/A/LangAnalysis\n  0x7fff8aaf6000 -     0x7fff8af13fff  FaceCoreLight (2.4.1)\n  \n  /System/Library/PrivateFrameworks/FaceCoreLight.framework/Versions/A/FaceCor\n  eLight\n  0x7fff8af14000 -     0x7fff8b005ff7  com.apple.DiskImagesFramework\n  (10.8.3 - 345) \n  /System/Library/PrivateFrameworks/DiskImages.framework/Versions/A/DiskImages\n  0x7fff8b006000 -     0x7fff8b009fff  com.apple.help (1.3.2 - 42)\n  <343904FE-3022-3573-97D6-5FE17F8643BA>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.frame\n  work/Versions/A/Help\n  0x7fff8b00a000 -     0x7fff8b123fff  com.apple.ImageIO.framework (3.2.1\n- 850) \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO\n  0x7fff8b124000 -     0x7fff8b124fff  com.apple.ApplicationServices (45 -\n  45) \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Applicat\n  ionServices\n  0x7fff8b16f000 -     0x7fff8b31dfff  com.apple.QuartzCore (1.8 - 304.3)\n  \n  /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore\n  0x7fff8b31e000 -     0x7fff8b33dff7  libresolv.9.dylib (51)\n  <0882DC2D-A892-31FF-AD8C-0BB518C48B23> /usr/lib/libresolv.9.dylib\n  0x7fff8b52c000 -     0x7fff8b588ff7  com.apple.Symbolication (1.3 - 93)\n  \n  /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symboli\n  cation\n  0x7fff8b67b000 -     0x7fff8b688ff7  com.apple.NetAuth (4.0 - 4.0)\n  \n  /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth\n  0x7fff8b689000 -     0x7fff8b6e3fff  com.apple.print.framework.PrintCore\n  (8.3 - 387.2) <5BA0CBED-4D80-386A-9646-F835C9805B71>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/PrintCore.framework/Versions/A/PrintCore\n  0x7fff8b6e4000 -     0x7fff8b6e4fff  com.apple.Cocoa (6.7 - 19)\n  <1F77945C-F37A-3171-B22E-F7AB0FCBB4D4>\n  /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa\n  0x7fff8b6f4000 -     0x7fff8b75dfff  libstdc++.6.dylib (56)\n   /usr/lib/libstdc++.6.dylib\n  0x7fff8b799000 -     0x7fff8b79bfff  com.apple.securityhi (4.0 - 55002)\n  <34E45C60-DC7E-3FCC-A1ED-EBF48B77C559>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI\n  .framework/Versions/A/SecurityHI\n  0x7fff8b80e000 -     0x7fff8bff3ff7  libclh.dylib (4.0.3 - 4.0.3)\n  \n  /System/Library/Extensions/GeForceGLDriver.bundle/Contents/MacOS/libclh.dyli\n  b\n  0x7fff8bff4000 -     0x7fff8c074ff7  com.apple.ApplicationServices.ATS\n  (332 - 341.1) \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/ATS.framework/Versions/A/ATS\n  0x7fff8c075000 -     0x7fff8c076ff7  libsystem_sandbox.dylib (220.3)\n  \n  /usr/lib/system/libsystem_sandbox.dylib\n  0x7fff8c114000 -     0x7fff8c12fff7  libsystem_kernel.dylib (2050.24.15)\n  \n  /usr/lib/system/libsystem_kernel.dylib\n  0x7fff8c1c5000 -     0x7fff8c3afff7  com.apple.CoreFoundation (6.8 -\n  744.19) <0F7403CA-2CB8-3D0A-992B-679701DF27CA>\n  /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundatio\n  n\n  0x7fff8c3b0000 -     0x7fff8c521ff7  com.apple.QTKit (7.7.1 - 2599.31)\n  \n  /System/Library/Frameworks/QTKit.framework/Versions/A/QTKit\n  0x7fff8c527000 -     0x7fff8c679fff\n  com.apple.audio.toolbox.AudioToolbox (1.9 - 1.9)\n  <62770C0F-5600-3EF9-A893-8A234663FFF5>\n  /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox\n  0x7fff8c67a000 -     0x7fff8cab6fef  com.apple.VideoToolbox (1.0 -\n  926.104) <9231E12F-3D46-3F3D-B24F-6E16127E5909>\n  /System/Library/Frameworks/VideoToolbox.framework/Versions/A/VideoToolbox\n  0x7fff8cab7000 -     0x7fff8cab7fff  libkeymgr.dylib (25)\n   /usr/lib/system/libkeymgr.dylib\n  0x7fff8cab8000 -     0x7fff8cb45ff7  com.apple.SearchKit (1.4.0 - 1.4.0)\n  \n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Sear\n  chKit.framework/Versions/A/SearchKit\n  0x7fff8cb4c000 -     0x7fff8cc41fff  libiconv.2.dylib (34)\n   /usr/lib/libiconv.2.dylib\n  0x7fff8cc42000 -     0x7fff8cc7dfff  com.apple.LDAPFramework (2.4.28 -\n  194.5) <7C71C445-2B52-3AC0-97E5-9F2E692C8F5C>\n  /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP\n  0x7fff8cc7e000 -     0x7fff8ccecff7  com.apple.framework.IOKit (2.0.1 -\n  755.24.1) <04BFB138-8AF4-310A-8E8C-045D8A239654>\n  /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n  0x7fff8cd08000 -     0x7fff8ce7dff7  com.apple.CFNetwork (596.4.3 -\n  596.4.3) \n  /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork\n  0x7fff8ce7e000 -     0x7fff8ce8dfff  com.apple.opengl (1.8.9 - 1.8.9)\n  <6FD163A7-16CC-3D1F-B4B5-B0FDC4ADBF79>\n  /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL\n  0x7fff8ce8e000 -     0x7fff8ceafff7  libCRFSuite.dylib (33)\n  <736ABE58-8DED-3289-A042-C25AF7AE5B23> /usr/lib/libCRFSuite.dylib\n  0x7fff8ceb0000 -     0x7fff8ceeaff7  com.apple.GSS (3.0 - 2.0)\n  <970CAE00-1437-3F4E-B677-0FDB3714C08C>\n  /System/Library/Frameworks/GSS.framework/Versions/A/GSS\n  0x7fff8d328000 -     0x7fff8d333fff  libsystem_notify.dylib (98.5)\n  \n  /usr/lib/system/libsystem_notify.dylib\n  0x7fff8d3c7000 -     0x7fff8d3dbfff\n  com.apple.speech.synthesis.framework (4.1.12 - 4.1.12)\n  <94EDF2AB-809C-3D15-BED5-7AD45B2A7C16>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis\n  0x7fff8d3dc000 -     0x7fff8d3e5ff7  com.apple.CommerceCore (1.0 - 26.1)\n  <40A129A8-4E5D-3C7A-B299-8CB203C4C65D>\n  /System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Framework\n  s/CommerceCore.framework/Versions/A/CommerceCore\n  0x7fff8d3e6000 -     0x7fff8d407fff  com.apple.Ubiquity (1.2 - 243.15)\n  \n  /System/Library/PrivateFrameworks/Ubiquity.framework/Versions/A/Ubiquity\n  0x7fff8d408000 -     0x7fff8d412fff\n  com.apple.speech.recognition.framework (4.1.5 - 4.1.5)\n  \n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechReco\n  gnition.framework/Versions/A/SpeechRecognition\n  0x7fff8d413000 -     0x7fff8dda34af  com.apple.CoreGraphics (1.600.0 -\n  332) <5AB32E51-9154-3733-B83B-A9A748652847>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/CoreGraphics.framework/Versions/A/CoreGraphics\n  0x7fff8ddb0000 -     0x7fff8ddf0ff7  com.apple.MediaKit (14 - 687)\n  <8AAA8CC3-3ACD-34A5-9E57-9B24AD8AFD4D>\n  /System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit\n  0x7fff8ddf1000 -     0x7fff8df0992f  libobjc.A.dylib (532.2)\n  <90D31928-F48D-3E37-874F-220A51FD9E37> /usr/lib/libobjc.A.dylib\n  0x7fff8df0a000 -     0x7fff8df18fff  com.apple.Librarian (1.1 - 1)\n  <5AC28666-7642-395F-A923-C6F8A274BBBD>\n  /System/Library/PrivateFrameworks/Librarian.framework/Versions/A/Librarian\n  0x7fff8df19000 -     0x7fff8e016ff7  libxml2.2.dylib (22.3)\n  <47B09CB2-C636-3024-8B55-6040F7829B4C> /usr/lib/libxml2.2.dylib\n  0x7fff8e040000 -     0x7fff8e05afff  com.apple.CoreMediaAuthoring (2.1 -\n  914) \n  /System/Library/PrivateFrameworks/CoreMediaAuthoring.framework/Versions/A/Co\n  reMediaAuthoring\n  0x7fff8e096000 -     0x7fff8e0d3fef  libGLImage.dylib (8.9.2)\n  \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.\n  dylib\n  0x7fff8e138000 -     0x7fff8e18dff7  libTIFF.dylib (850)\n  \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dy\n  lib\n  0x7fff8e18e000 -     0x7fff8e290fff  libJP2.dylib (850)\n  <2E43216C-3A5A-3693-820C-38B360698FA0>\n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dyl\n  ib\n  0x7fff8e291000 -     0x7fff8e292ff7  libdnsinfo.dylib (453.19)\n  <14202FFB-C3CA-3FCC-94B0-14611BF8692D> /usr/lib/system/libdnsinfo.dylib\n  0x7fff8e49c000 -     0x7fff8e4edff7  com.apple.SystemConfiguration\n  (1.12.2 - 1.12.2) \n  /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemCo\n  nfiguration\n  0x7fff8e4ee000 -     0x7fff8e4f2fff  libGIF.dylib (850)\n  \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dyl\n  ib\n  0x7fff8e57a000 -     0x7fff8e581fff  com.apple.NetFS (5.0 - 4.0)\n  <82E24B9A-7742-3DA3-9E99-ED267D98C05E>\n  /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n  0x7fff8e582000 -     0x7fff8e584fff  libquarantine.dylib (52.1)\n  <143B726E-DF47-37A8-90AA-F059CFD1A2E4> /usr/lib/system/libquarantine.dylib\n  0x7fff8e5af000 -     0x7fff8e5d6ff7  com.apple.PerformanceAnalysis (1.16\n- 16) \n  /System/Library/PrivateFrameworks/PerformanceAnalysis.framework/Versions/A/P\n  erformanceAnalysis\n  0x7fff8e634000 -     0x7fff8e6a1ff7  com.apple.datadetectorscore (4.1 -\n  269.3) <5775F0DB-87D6-310D-8B03-E2AD729EFB28>\n  /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/Dat\n  aDetectorsCore\n  0x7fff8e6a2000 -     0x7fff8e748ff7  com.apple.CoreServices.OSServices\n  (557.6 - 557.6) <1BDB5456-0CE9-301C-99C1-8EFD0D2BFCCD>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSSe\n  rvices.framework/Versions/A/OSServices\n  0x7fff8e749000 -     0x7fff8e795ff7  libauto.dylib (185.4)\n   /usr/lib/libauto.dylib\n  0x7fff8e796000 -     0x7fff8e798fff  com.apple.TrustEvaluationAgent (2.0\n- 23) \n  /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/\n  TrustEvaluationAgent\n  0x7fff8e7b1000 -     0x7fff8e7bdfff  com.apple.CrashReporterSupport\n  (10.8.3 - 418) \n  /System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/\n  CrashReporterSupport\n  0x7fff8e7be000 -     0x7fff8e898fff  com.apple.backup.framework (1.4.3 -\n  1.4.3) <6B65C44C-7777-3331-AD9D-438D10AAC777>\n  /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup\n  0x7fff8e8e5000 -     0x7fff8e934fff  com.apple.framework.CoreWiFi (1.3 -\n  130.13) \n  /System/Library/Frameworks/CoreWiFi.framework/Versions/A/CoreWiFi\n  0x7fff8e935000 -     0x7fff8f562fff  com.apple.AppKit (6.8 - 1187.39)\n  <199962F0-B06B-3666-8FD5-5C90374BA16A>\n  /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit\n  0x7fff8f563000 -     0x7fff8f58afff  com.apple.framework.familycontrols\n  (4.1 - 410) <50F5A52C-8FB6-300A-977D-5CFDE4D5796B>\n  /System/Library/PrivateFrameworks/FamilyControls.framework/Versions/A/Family\n  Controls\n  0x7fff8f58b000 -     0x7fff8f5eeff7  com.apple.audio.CoreAudio (4.1.1 -\n  4.1.1) <9ACD3AED-6C04-3BBB-AB2A-FC253B16D093>\n  /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio\n  0x7fff8f5fc000 -     0x7fff8f60eff7  libz.1.dylib (43)\n  <2A1551E8-A272-3DE5-B692-955974FE1416> /usr/lib/libz.1.dylib\n  0x7fff8f60f000 -     0x7fff8f614fff  com.apple.OpenDirectory (10.8 -\n  151.10) \n  /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory\n  0x7fff8f615000 -     0x7fff8f773fef  com.apple.MediaControlSender (1.7 -\n  170.20) <853BE89D-49B0-3922-9ED5-DDBDE9A97356>\n  /System/Library/PrivateFrameworks/MediaControlSender.framework/Versions/A/Me\n  diaControlSender\n  0x7fff8f774000 -     0x7fff8f78afff\n  com.apple.MultitouchSupport.framework (235.29 - 235.29)\n  <617EC8F1-BCE7-3553-86DD-F857866E1257>\n  /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/Mul\n  titouchSupport\n  0x7fff8f8b6000 -     0x7fff8fc15fff  com.apple.Foundation (6.8 - 945.18)\n  <1D7E58E6-FA3A-3CE8-AC85-B9D06B8C0AA0>\n  /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation\n  0x7fff8fc19000 -     0x7fff8fc4ffff  com.apple.DebugSymbols (98 - 98)\n  <14E788B1-4EB2-3FD7-934B-849534DFC198>\n  /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSym\n  bols\n  0x7fff8fc50000 -     0x7fff8fc52fff  libCVMSPluginSupport.dylib (8.9.2)\n  \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPlug\n  inSupport.dylib\n  0x7fff8fc53000 -     0x7fff8fc7fff7  libRIP.A.dylib (332)\n  \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib\n  0x7fff8fc80000 -     0x7fff8fcc3ff7  com.apple.RemoteViewServices (2.0 -\n  80.6) <5CFA361D-4853-3ACC-9EFC-A2AC1F43BA4B>\n  /System/Library/PrivateFrameworks/RemoteViewServices.framework/Versions/A/Re\n  moteViewServices\n  0x7fff8fe17000 -     0x7fff8fe48ff7  com.apple.DictionaryServices (1.2 -\n  184.4) <054F2D6F-9CFF-3EF1-9778-25C551B616C1>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Dict\n  ionaryServices.framework/Versions/A/DictionaryServices\n  0x7fff8fe53000 -     0x7fff8fed4fff  com.apple.Metadata (10.7.0 -\n  707.11) <2DD25313-420D-351A-90F1-300E95C970CA>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Meta\n  data.framework/Versions/A/Metadata\n  0x7fff8fee2000 -     0x7fff8fee5ff7  libdyld.dylib (210.2.3)\n   /usr/lib/system/libdyld.dylib\n  0x7fff8fee6000 -     0x7fff8ff14ff7  libsystem_m.dylib (3022.6)\n   /usr/lib/system/libsystem_m.dylib\n  0x7fff8ff15000 -     0x7fff8ff15fff  com.apple.CoreServices (57 - 57)\n  <9DD44CB0-C644-35C3-8F57-0B41B3EC147D>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices\n  0x7fff8ff16000 -     0x7fff90013fff  libsqlite3.dylib (138.1)\n   /usr/lib/libsqlite3.dylib\n  0x7fff90025000 -     0x7fff90033ff7  libsystem_network.dylib (77.10)\n  <0D99F24E-56FE-380F-B81B-4A4C630EE587>\n  /usr/lib/system/libsystem_network.dylib\n  0x7fff90078000 -     0x7fff900d2ff7  com.apple.opencl (2.2.19 - 2.2.19)\n  <3C7DFB2C-B3F9-3447-A1FC-EAAA42181A6E>\n  /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL\n  0x7fff900d3000 -     0x7fff900d3fff  com.apple.Carbon (154 - 155)\n  <372716D2-6FA1-3611-8501-3DD1D4A6E8C8>\n  /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon\n  0x7fff900d4000 -     0x7fff900e0fff  libCSync.A.dylib (332)\n  <47466CF6-EB5C-3312-9E24-178F4410A92B>\n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib\n  0x7fff900e1000 -     0x7fff90888fff  com.apple.CoreAUC (6.16.13 -\n  6.16.13) <8CBFBC9C-0773-3DEB-AF99-989008CB2B36>\n  /System/Library/PrivateFrameworks/CoreAUC.framework/Versions/A/CoreAUC\n  0x7fff90897000 -     0x7fff90915ff7  com.apple.securityfoundation (6.0 -\n  55115.4) \n  /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityF\n  oundation\n  0x7fff90916000 -     0x7fff90933ff7  com.apple.openscripting (1.3.6 -\n  148.3) \n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScript\n  ing.framework/Versions/A/OpenScripting\n  0x7fff90934000 -     0x7fff90953ff7  com.apple.ChunkingLibrary (2.0 -\n  133.3) <8BEC9AFB-DCAA-37E8-A5AB-24422B234ECF>\n  /System/Library/PrivateFrameworks/ChunkingLibrary.framework/Versions/A/Chunk\n  ingLibrary\n  0x7fff90954000 -     0x7fff9097eff7  com.apple.CoreVideo (1.8 - 99.4)\n  \n  /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo\n  0x7fff9097f000 -     0x7fff90983fff  com.apple.IOSurface (86.0.4 -\n  86.0.4) <26F01CD4-B76B-37A3-989D-66E8140542B3>\n  /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface\n  0x7fff90be0000 -     0x7fff90c37ff7  com.apple.AppleVAFramework (5.0.19\n- 5.0.19) <541A7DBE-F8E4-3023-A3C0-8D5A2A550CFB>\n  /System/Library/PrivateFrameworks/AppleVA.framework/Versions/A/AppleVA\n  0x7fff90d4b000 -     0x7fff90d96fff  com.apple.framework.CoreWLAN (3.3 -\n  330.15) <047FA8CB-7447-3171-9518-6C88DA71F20E>\n  /System/Library/Frameworks/CoreWLAN.framework/Versions/A/CoreWLAN\n  0x7fff90d97000 -     0x7fff90da8ff7  libsasl2.2.dylib (166)\n  <649CAE0E-8FFE-3C60-A849-BE6300E4B726> /usr/lib/libsasl2.2.dylib\n  0x7fff90dc8000 -     0x7fff90dceff7  libunwind.dylib (35.1)\n  <21703D36-2DAB-3D8B-8442-EAAB23C060D3> /usr/lib/system/libunwind.dylib\n  0x7fff90dcf000 -     0x7fff910e6ff7  com.apple.CoreServices.CarbonCore\n  (1037.6 - 1037.6) <1E567A52-677F-3168-979F-5FBB0818D52B>\n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Carb\n  onCore.framework/Versions/A/CarbonCore\n  0x7fff910e7000 -     0x7fff91182fff  com.apple.CoreSymbolication (3.0 -\n  117) \n  /System/Library/PrivateFrameworks/CoreSymbolication.framework/Versions/A/Cor\n  eSymbolication\n  0x7fff91448000 -     0x7fff91495fff  com.apple.CoreMediaIO (308.0 -\n  4155.4) \n  /System/Library/Frameworks/CoreMediaIO.framework/Versions/A/CoreMediaIO\n  0x7fff914a1000 -     0x7fff914f8ff7  com.apple.ScalableUserInterface \n  (1.0 - 1)  \n  /System/Library/Frameworks/QuartzCore.framework/Versions/A/Frameworks/Scalab\n  leUserInterface.framework/Versions/A/ScalableUserInterface\n  0x7fff91726000 -     0x7fff91926fff  libicucore.A.dylib (491.11.3) \n  <5783D305-04E8-3D17-94F7-1CEAFA975240> /usr/lib/libicucore.A.dylib\n  0x7fff91927000 -     0x7fff91932fff  com.apple.CommonAuth (3.0 - 2.0) \n  <7A953C1F-8B18-3E46-9BEA-26D9B5B7745D> \n  /System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth\n  0x7fff91933000 -     0x7fff91982ff7  libFontRegistry.dylib (100) \n  <2E03D7DA-9B8F-31BB-8FB5-3D3B6272127F> \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib\n  0x7fff91991000 -     0x7fff91a42fff  com.apple.LaunchServices (539.9 - \n  539.9) <07FC6766-778E-3479-8F28-D2C9917E1DD1> \n  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Laun\n  chServices.framework/Versions/A/LaunchServices\n  0x7fff91a43000 -     0x7fff91a46fff  libRadiance.dylib (850) \n  <62E3F7FB-03E3-3937-A857-AF57A75EAF09> \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadianc\n  e.dylib\n  0x7fff91af8000 -     0x7fff91b05fff  com.apple.AppleFSCompression (49 - \n  1.0) <5508344A-2A7E-3122-9562-6F363910A80E> \n  /System/Library/PrivateFrameworks/AppleFSCompression.framework/Versions/A/Ap\n  pleFSCompression\n  0x7fff91ec9000 -     0x7fff91edeff7  libdispatch.dylib (228.23) \n   /usr/lib/system/libdispatch.dylib\n  0x7fff91edf000 -     0x7fff91ffffff  com.apple.desktopservices (1.7.4 - \n  1.7.4)  \n  /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/D\n  esktopServicesPriv\n  0x7fff92000000 -     0x7fff92036fff  libsystem_info.dylib (406.17) \n  <4FFCA242-7F04-365F-87A6-D4EFB89503C1> /usr/lib/system/libsystem_info.dylib\n  0x7fff9222d000 -     0x7fff92624fff  libLAPACK.dylib (1073.4) \n   \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib\n  .framework/Versions/A/libLAPACK.dylib\n  0x7fff92625000 -     0x7fff9268dfff  libvDSP.dylib (380.6) \n   \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib\n  .framework/Versions/A/libvDSP.dylib\n  0x7fff9268e000 -     0x7fff92690ff7  libunc.dylib (25) \n  <92805328-CD36-34FF-9436-571AB0485072> /usr/lib/system/libunc.dylib\n  0x7fff92691000 -     0x7fff92713ff7  com.apple.Heimdal (3.0 - 2.0) \n   \n  /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal\n  0x7fff92714000 -     0x7fff92949ff7  com.apple.CoreData (106.1 - 407.7) \n  <24E0A6B4-9ECA-3D12-B26A-72B9DCF09768> \n  /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\n  0x7fff93e12000 -     0x7fff93e49ff7  libssl.0.9.8.dylib (47.1) \n   /usr/lib/libssl.0.9.8.dylib\n  0x7fff93e4a000 -     0x7fff93e95fff  com.apple.CoreMedia (1.0 - 926.104) \n  <31EAF297-9C42-3D6F-A8A1-CDAB94A26113> \n  /System/Library/Frameworks/CoreMedia.framework/Versions/A/CoreMedia\n  0x7fff93e96000 -     0x7fff93f68ff7  com.apple.CoreText (260.0 - 275.16) \n  <5BFC1D67-6A6F-38BC-9D90-9C712684EDAC> \n  /System/Library/Frameworks/CoreText.framework/Versions/A/CoreText\n  0x7fff93f69000 -     0x7fff93f76fff  libbz2.1.0.dylib (29) \n   /usr/lib/libbz2.1.0.dylib\n  0x7fff94080000 -     0x7fff94153ff7  com.apple.DiscRecording (7.0 - \n  7000.2.4) <49FD2D2F-4F2C-39B6-877B-6E3172577D18> \n  /System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording\n  0x7fff94154000 -     0x7fff94159fff  libcache.dylib (57) \n  <65187C6E-3FBF-3EB8-A1AA-389445E2984D> /usr/lib/system/libcache.dylib\n  0x7fff94165000 -     0x7fff94169fff  libpam.2.dylib (20) \n   /usr/lib/libpam.2.dylib\n  0x7fff94175000 -     0x7fff941b4ff7  com.apple.QD (3.42.1 - 285.1) \n  <77A20C25-EBB5-341C-A05C-5D458B97AD5C> \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/QD.framework/Versions/A/QD\n  0x7fff94a6b000 -     0x7fff94a79fff  libcommonCrypto.dylib (60027) \n   /usr/lib/system/libcommonCrypto.dylib\n  0x7fff94a7a000 -     0x7fff94a7bff7  libremovefile.dylib (23.2) \n  <6763BC8E-18B8-3AD9-8FFA-B43713A7264F> /usr/lib/system/libremovefile.dylib\n  0x7fff94a98000 -     0x7fff94d69ff7  com.apple.security (7.0 - 55179.13) \n   \n  /System/Library/Frameworks/Security.framework/Versions/A/Security\n  0x7fff94d6c000 -     0x7fff94d6cfff  libOpenScriptingUtil.dylib (148.3) \n   /usr/lib/libOpenScriptingUtil.dylib\n  0x7fff94d6d000 -     0x7fff94d6efff  libsystem_blocks.dylib (59) \n   \n  /usr/lib/system/libsystem_blocks.dylib\n  0x7fff94deb000 -     0x7fff94debfff  com.apple.Accelerate (1.8 - \n  Accelerate 1.8) <6AD48543-0864-3D40-80CE-01F184F24B45> \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate\n  0x7fff94e08000 -     0x7fff94e13ff7  com.apple.bsd.ServiceManagement \n  (2.0 - 2.0)  \n  /System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceMan\n  agement\n  0x7fff94e37000 -     0x7fff94f39fff  libcrypto.0.9.8.dylib (47.1) \n  <72AA650B-0453-3BB4-BA03-824627BB199C> /usr/lib/libcrypto.0.9.8.dylib\n  0x7fff94f3a000 -     0x7fff94f49ff7  libxar.1.dylib (105) \n  <370ED355-E516-311E-BAFD-D80633A84BE1> /usr/lib/libxar.1.dylib\n  0x7fff94f4a000 -     0x7fff94f76fff  com.apple.framework.Apple80211 (8.4 \n- 840.22.1) <7CFDDBBB-87DF-3CB5-AB69-A77D73F26239> \n  /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211\n  0x7fff9519e000 -     0x7fff951acff7  libkxld.dylib (2050.24.15) \n   /usr/lib/system/libkxld.dylib\n  0x7fff951ad000 -     0x7fff951b4fff  libGFXShared.dylib (8.9.2) \n  <398F8D57-EC82-3E13-AC8E-470BE19237D7> \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShare\n  d.dylib\n  0x7fff9576f000 -     0x7fff95774fff  libcompiler_rt.dylib (30) \n  <08F8731D-5961-39F1-AD00-4590321D24A9> /usr/lib/system/libcompiler_rt.dylib\n  0x7fff95775000 -     0x7fff95775fff  com.apple.Accelerate.vecLib (3.8 - \n  vecLib 3.8)  \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib\n  .framework/Versions/A/vecLib\n  0x7fff95776000 -     0x7fff957ccfff  com.apple.HIServices (1.20 - 417) \n   \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/HIServices.framework/Versions/A/HIServices\n  0x7fff95885000 -     0x7fff9591ffff  libvMisc.dylib (380.6) \n  <714336EA-1C0E-3735-B31C-19DFDAAF6221> \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib\n  .framework/Versions/A/libvMisc.dylib\n  0x7fff95920000 -     0x7fff95921fff  libDiagnosticMessagesClient.dylib \n  (8) <8548E0DC-0D2F-30B6-B045-FE8A038E76D8> \n  /usr/lib/libDiagnosticMessagesClient.dylib\n  0x7fff95922000 -     0x7fff95923ff7  libSystem.B.dylib (169.3) \n  <365477AB-D641-389D-B8F4-A1FAE9657EEE> /usr/lib/libSystem.B.dylib\n  0x7fff95924000 -     0x7fff95937ff7  libbsm.0.dylib (32) \n   /usr/lib/libbsm.0.dylib\n  0x7fff95938000 -     0x7fff95938ffd  com.apple.audio.units.AudioUnit \n  (1.9 - 1.9)  \n  /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit\n  0x7fff9593a000 -     0x7fff9595afff  libPng.dylib (850) \n  <203C43BF-FAD3-3CCB-81D5-F2770E36338B> \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dyl\n  ib\n  0x7fff959c6000 -     0x7fff95a92ff7  libsystem_c.dylib (825.26) \n  <4C9EB006-FE1F-3F8F-8074-DFD94CF2CE7B> /usr/lib/system/libsystem_c.dylib\n  0x7fff95ab4000 -     0x7fff95ad9ff7  libc++abi.dylib (26) \n   /usr/lib/libc++abi.dylib\n  0x7fff95ada000 -     0x7fff95ae2fff  liblaunch.dylib (442.26.2) \n  <2F71CAF8-6524-329E-AC56-C506658B4C0C> /usr/lib/system/liblaunch.dylib\n  0x7fff95ae3000 -     0x7fff95ae7fff  libCoreVMClient.dylib (32.3) \n   \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMCl\n  ient.dylib\n  0x7fff95ae8000 -     0x7fff95aecff7  com.apple.TCC (1.0 - 1) \n   \n  /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC\n  0x7fff95b48000 -     0x7fff95b48fff  com.apple.vecLib (3.8 - vecLib 3.8) \n  <794317C7-4E38-338A-A874-5E18001C8503> \n  /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib\n  0x7fff95b49000 -     0x7fff95b98ff7  libcorecrypto.dylib (106.2) \n   /usr/lib/system/libcorecrypto.dylib\n  0x7fff95e07000 -     0x7fff95e1cfff  com.apple.ImageCapture (8.0 - 8.0) \n  <17A45CE6-7DA3-36A5-B7EF-72BC136981AE> \n  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCaptu\n  re.framework/Versions/A/ImageCapture\n  0x7fff95f49000 -     0x7fff95f74fff  libxslt.1.dylib (11.3) \n  <441776B8-9130-3893-956F-39C85FFA644F> /usr/lib/libxslt.1.dylib\n  0x7fff95f75000 -     0x7fff95f97ff7  libxpc.dylib (140.43) \n  <70BC645B-6952-3264-930C-C835010CCEF9> /usr/lib/system/libxpc.dylib\n  0x7fff95f98000 -     0x7fff96055ff7  com.apple.ColorSync (4.8.0 - 4.8.0) \n  <6CE333AE-EDDB-3768-9598-9DB38041DC55> \n  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor\n  ks/ColorSync.framework/Versions/A/ColorSync\n  0x7fff96056000 -     0x7fff961dcfff  libBLAS.dylib (1073.4) \n   \n  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib\n  .framework/Versions/A/libBLAS.dylib\n  0x7fff9630d000 -     0x7fff96313fff  libmacho.dylib (829) \n   /usr/lib/system/libmacho.dylib\n  0x7fff96314000 -     0x7fff96357ff7  com.apple.bom (12.0 - 192) \n  <0BF1F2D2-3648-36B7-BE4B-551A0173209B> \n  /System/Library/PrivateFrameworks/Bom.framework/Versions/A/Bom\n  0x7fff96358000 -     0x7fff96359fff  liblangid.dylib (116) \n  <864C409D-D56B-383E-9B44-A435A47F2346> /usr/lib/liblangid.dylib\n  0x7fff9635a000 -     0x7fff96388fff  com.apple.CoreServicesInternal \n  (154.3 - 154.3)  \n  /System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/\n  CoreServicesInternal\n  0x7fff963a0000 -     0x7fff963a8ff7  libsystem_dnssd.dylib (379.38.1) \n   /usr/lib/system/libsystem_dnssd.dylib\n  0x7fff963a9000 -     0x7fff963d1fff  libJPEG.dylib (850) \n   \n  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dy\n  lib\n  0x7fff963d2000 -     0x7fff9641cff7  libGLU.dylib (8.9.2) \n  <1B5511FF-1064-3004-A245-972CE5687D37> \n  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dyli\n  b\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 2\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 2357\n    thread_create: 2\n    thread_set_state: 5493\nVM Region Summary:\nReadOnly portion of Libraries: Total=194.9M resident=113.9M(58%) \nswapped_out_or_unallocated=81.1M(42%)\nWritable regions: Total=178.1M written=9504K(5%) resident=65.6M(37%) \nswapped_out=0K(0%) unallocated=112.5M(63%)\nREGION TYPE                      VIRTUAL\n===========                      =======\nCG backing stores                  2832K\nCG image                              4K\nCG shared images                   1216K\nCoreServices                       4012K\nIOKit                              44.9M\nIOKit (reserved)                      4K        reserved VM address space \n(unallocated)\nMALLOC                            106.8M\nMALLOC guard page                    48K\nMemory tag=242                       12K\nSTACK GUARD                        56.0M\nStack                              9760K\nVM_ALLOCATE                        16.1M\n__DATA                             31.3M\n__IMAGE                             528K\n__LINKEDIT                         54.5M\n__TEXT                            140.5M\n__UNICODE                           544K\nmapped file                        39.2M\nshared memory                       372K\n===========                      =======\nTOTAL                             508.2M\nTOTAL, minus reserved VM space    508.2M\nModel: MacBookPro10,1, BootROM MBP101.00EE.B02, 4 processors, Intel Core i7, \n2.6 GHz, 16 GB, SMC 2.3f35\nGraphics: Intel HD Graphics 4000, Intel HD Graphics 4000, Built-In, 512 MB\nGraphics: NVIDIA GeForce GT 650M, NVIDIA GeForce GT 650M, PCIe, 1024 MB\nMemory Module: BANK 0/DIMM0, 8 GB, DDR3, 1600 MHz, 0x80AD, \n0x484D5434314753364D465238432D50422020\nMemory Module: BANK 1/DIMM0, 8 GB, DDR3, 1600 MHz, 0x80AD, \n0x484D5434314753364D465238432D50422020\nAirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0xEF), \nBroadcom BCM43xx 1.0 (5.106.98.100.17)\nBluetooth: Version 4.1.4f2 12041, 2 service, 18 devices, 1 incoming serial \nports\nNetwork Service: Display Ethernet, Ethernet, en5\nPCI Card: Apple 57761-B0, sppci_ethernet, Thunderbolt@13,0,0\nPCI Card: pci11c1,5901, sppci_ieee1394openhci, Thunderbolt@14,0,0\nPCI Card: pci12d8,400e, sppci_usbopenhost, Thunderbolt@12,0,0\nPCI Card: pci12d8,400e, sppci_usbopenhost, Thunderbolt@12,0,1\nPCI Card: pci12d8,400f, USB Enhanced Host Controller, Thunderbolt@12,0,2\nSerial ATA Device: APPLE SSD SM768E, 751.28 GB\nUSB Device: hub_device, 0x8087  (Intel Corporation), 0x0024, 0x1a100000 / 2\nUSB Device: hub_device, 0x045e  (Microsoft Corporation), 0x02c2, 0x1a120000 \n/ 4\nUSB Device: Microsoft Kinect Camera, 0x045e  (Microsoft Corporation), \n0x02bf, 0x1a122000 / 6\nUSB Device: Microsoft Kinect Audio, \u00a9 2011 Microsoft Corporation. All rights \nreserved., 0x045e  (Microsoft Corporation), 0x02be, 0x1a121000 / 5\nUSB Device: FaceTime HD Camera (Built-in), apple_vendor_id, 0x8510, \n0x1a110000 / 3\nUSB Device: hub_device, 0x8087  (Intel Corporation), 0x0024, 0x1d100000 / 2\nUSB Device: hub_device, 0x0424  (SMSC), 0x2512, 0x1d180000 / 3\nUSB Device: BRCM20702 Hub, 0x0a5c  (Broadcom Corp.), 0x4500, 0x1d181000 / 5\nUSB Device: Bluetooth USB Host Controller, apple_vendor_id, 0x8286, \n0x1d181300 / 7\nUSB Device: Apple Internal Keyboard / Trackpad, apple_vendor_id, 0x0263, \n0x1d182000 / 4\nUSB Device: hub_device, apple_vendor_id, 0x9127, 0x40100000 / 2\nUSB Device: USB2.0 Hub, 0x05e3  (Genesys Logic, Inc.), 0x0610, 0x40130000 / \n6\nUSB Device: Fitbit Base Station, 0x10c4  (Silicon Laboratories, Inc.), \n0x84c4, 0x40133000 / 9\nUSB Device: USB Audio CODEC, 0x08bb  (Texas Instruments Japan), 0x2902, \n0x40132000 / 8\nUSB Device: USB2.0 Hub, 0x05e3  (Genesys Logic, Inc.), 0x0610, 0x40131000 / \n7\nUSB Device: iPhone, apple_vendor_id, 0x12a8, 0x40131200 / 15\nUSB Device: CCID USB Reader, 0x072f, 0x90cc, 0x40131400 / 12\nUSB Device: iPhone, apple_vendor_id, 0x12a0, 0x40131300 / 11\nUSB Device: USB2.0 Hub, 0x05e3  (Genesys Logic, Inc.), 0x0610, 0x40131100 / \n10\nUSB Device: Android Phone, 0x0bb4  (HTC Corporation), 0x0ca2, 0x40131140 / \n14\nUSB Device: iPhone, apple_vendor_id, 0x1292, 0x40131120 / 13\nUSB Device: Apple Thunderbolt Display, apple_vendor_id, 0x9227, 0x40170000 / \n5\nUSB Device: FaceTime HD Camera (Display), apple_vendor_id, 0x1112, \n0x40150000 / 4\nUSB Device: Display Audio, apple_vendor_id, 0x1107, 0x40140000 / 3\nFrom:  Yannis Gravezas notifications@github.com\nReply-To:  OpenKinect/libfreenect \nreply+i-13576180-43bc0d074f1e95c31691b19f6c748dfaa19350e1-4338855@reply.git\nhub.com\nDate:  Thursday, June 20, 2013 4:31 PM\nTo:  OpenKinect/libfreenect libfreenect@noreply.github.com\nCc:  Peter Greis peter.greis@freethinker.com\nSubject:  Re: [libfreenect] Kinect for Windows and Kinect for Xbox 360 Model \n1473 support (#325)\n@petergreis https://github.com/petergreis  can you provide some debugging \ninfo? what is the output of the demos on the console before they crash? I \ndon't have access to any mac at the moment to test unfortunately\n\u008b\nReply to this email directly or view it on GitHub \nhttps://github.com/OpenKinect/libfreenect/pull/325#issuecomment-19756778 .\n. No, no luck. The console output does point a bit at libusb; I can make a few more runs and provide output if you like (kinect model 1517).\nP\nOn Jun 25, 2013, at 22:00, \"Will Kelleher\" notifications@github.com<mailto:notifications@github.com> wrote:\n@petergreishttps://github.com/petergreis Have you had any luck with OS X? I'm seeing a very similar issue with OpenNI2-based K4W support. I get frames for ~10 seconds, then the device reports itself disconnected. At this point, I'm wondering if it's a libusb issue.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/pull/325#issuecomment-20002886.\n. Update from my side - it also crashes with libusb 1.0.9\nCrashed Thread:  3\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\nApplication Specific Information:\n*** error for object 0x7fb9c3816808: incorrect checksum for freed object - object was probably modified after being freed.\nThread 3 Crashed:\n0   libsystem_kernel.dylib          0x00007fff858b6212 __pthread_kill + 10\n1   libsystem_c.dylib               0x00007fff8f16bb54 pthread_kill + 90\n2   libsystem_c.dylib               0x00007fff8f1afdce abort + 143\n3   libsystem_c.dylib               0x00007fff8f18b905 szone_error + 580\n4   libsystem_c.dylib               0x00007fff8f18c3d4 small_free_list_remove_ptr + 156\n5   libsystem_c.dylib               0x00007fff8f18a073 szone_free_definite_size + 4122\n6   libsystem_c.dylib               0x00007fff8f1838f8 free + 199\n7   libfreenect.0.1.dylib           0x0000000105132903 fnusb_stop_iso + 275\n8   libfreenect.0.1.dylib           0x000000010512e0be freenect_stop_depth + 142\n9   libfreenect.0.1.dylib           0x000000010512c2c0 freenect_process_events_timeout + 144\n10  libfreenect.0.1.dylib           0x000000010512c228 freenect_process_events + 40\n11  glview                          0x00000001050622f0 freenect_threadfunc + 416\n12  libsystem_c.dylib               0x00007fff8f16a7a2 _pthread_start + 327\n13  libsystem_c.dylib               0x00007fff8f1571e1 thread_start + 13\n. Good call - that is also exactly what I am seeing...\n. ",
    "willkelleher": "@petergreis Have you had any luck with OS X?  I'm seeing a very similar issue with OpenNI2-based K4W support.  I get frames for ~10 seconds, then the device reports itself disconnected.  At this point, I'm wondering if it's a libusb issue.\n. Which version of libusb are you using?\n. @cliff76 what's the exact version of libusb that you're using?\n. @cliff76 depends on how you installed it. I used MacPorts, so I can do port list libusb to get the version, which happens to be 1.0.9.\n. @cliff76 @petergreis I'm starting to think this is an OS X / IOKit issue.  Can you try the following:\nOpen USB Prober, go to Bus Probe, set to \"Refresh Automatically\" and then watch it.  Does your \"Microsoft Kinect Camera\" appear and disappear periodically?  I lose mine every 20-30 seconds, regularly.  I'll do some more debugging once I get the logging-enabled USB drivers switched on.\n. Upon further investigation, I'm basically seeing the K4W stalling in response to an IOKit query, which causes IOKit to detach the device.  Here is a log snippet:\n\n2637.455 [5]   AppleUSBHubPort[0xffffff802b46e800]::PortStatusChangedHandler - Hub 0x24100000 port 2 - Initial status(0x0103)/change(0x0010)\n 2637.456 [5]   ** AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - start - status(0x0103) change (0x0000)\n 2637.456 [5]   *1 AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - delaying 10 ms\n 2637.467 [5]   2 AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - found full speed device\n 2637.467 [5]   2 AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - configuring dev zero\n 2637.467 [5]   3 AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - getting dev zero desc\n 2637.468 [1]   AppleUSBHubPort[0xffffff802b46e800]::GetDevZeroDescriptorWithRetries - port 2 of hub @ 0x24100000 - GetDeviceZeroDescriptor returned 0xe000404f\n 2637.469 [3]   AppleUSBHubPort[0xffffff802b46e800]::GetDevZeroDescriptorWithRetries - port 2 of hub @ 0x24100000 , err: e000404f - sleeping for 30 milliseconds\n 2637.501 [1]   AppleUSBHubPort[0xffffff802b46e800]::GetDevZeroDescriptorWithRetries - port 2 of hub @ 0x24100000 - GetDeviceZeroDescriptor returned 0xe00002ed\n 2637.501 [1]   AppleUSBHubPort[0xffffff802b46e800]::GetDevZeroDescriptorWithRetries - port 2 of hub @ 0x24100000 - device has gone away\n 2637.501 [5]   3 AppleUSBHubPort[0xffffff802b46e800]::AddDeviceResetChangeHandler - port 2 on hub at 0x24100000 - failed to get dev zero desc, detach'ing device\n\nThe 0x404f response seems to indicate \"STALL\" and the 0x2ed response indicates \"device not responding.\"\nSo, that's great.  \nI'm not familiar enough with IOKit yet to tell if this is something that can be prevented, but I'm going to poke around some more.\n. I had these issues with 10.8.\nFor those interested in using USB Prober, I suggest that you install the OS X USB drivers that have logging enabled.  You'll get a ton more log messages.  You can find these drivers by searching through Apple's developer downloads for \"IOUSB\" - you'll see a bunch of entries titled like \"IOUSBFamily Log Release for {os version}.\"  Download the version for your OS, install, reboot, voila.\n. ",
    "cliff76": "I've been struggling trying to understand why my brand new Kinect wouldn't work all week and I finally found this issue! I downloaded your source from this link: https://github.com/wizgrav/libfreenect/archive/master.zip\nand now it almost seems like it kinda wants to pretend to almost work. I'm using the example project from ofxKinect in XCode on my Mac OSX 10.7.5 & I get a frame then nothing more. I see this in the console:\n[verbose] ofxKinect: Context inited\n[verbose] ofxKinect: Device 0 0000000000000000 connection opened\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Expected 1748 data bytes, but got 948\nAm I missing something more?\n. @willkelleher How do I find the version of libusb?\n@Meach No I haven't tried glview. where/how do I do that?\n(The dumbest question is the one you don't ask)\n. Ok, Here's what I did. I downloaded the zip and expanded it then copied the source (.c/.h) over into openFrameworks/addons/ofxKinect/libs/libfreenect so it would be picked up by XCodebuilder. I didn't directly compile the examples. Can I merely copy the examples into my ofxExample project and compile there or do I have to setup a separate project or is there a make file that I'm missing? Also note I had recently uninstalled lib-usb using\n\"rm /opt/local/lib/libusb-1.0.0.dylib\" in an uninstaller script I wrote for SimpleOpenNI. I reinstalled it and I get the same result though I'm not sure where this project is actually picking up libusb. Is it also included under the openframewors umbrella as a source dependency or is it buried somewhere in one of the lib folders or...?\n. @willkelleher port list libusb gives:\nlibusb                         @1.0.9          devel/libusb\nI may have used macports to install it a while back I'm not sure. However I had been playing with SimpleOpenNI as well and it installs a version under /opt/local/lib/libusb-1.0.0.dylib. I'm still unclear as to how/where these dependencies are resolved.\n. I'm trying to build via cmd line from a nested build folder and cmake gives me:\n~/Downloads/libfreenect-master/build$ cmake ..\n-- Operating system is Apple MacOS X\n-- Got System Processor i386\n-- libfreenect will be installed to /usr/local\n-- Headers will be installed to /usr/local/include/libfreenect\n-- Libraries will be installed to /usr/local/lib\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nLIBUSB_1_INCLUDE_DIR\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master/src\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master/examples\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master/fakenect\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master/wrappers/c_sync\n   used as include directory in directory /Users/cliff/Downloads/libfreenect-master/wrappers/cpp\nLIBUSB_1_LIBRARY\n    linked by target \"freenect\" in directory /Users/cliff/Downloads/libfreenect-master/src\n    linked by target \"freenectstatic\" in directory /Users/cliff/Downloads/libfreenect-master/src\n-- Configuring incomplete, errors occurred!\n. I see, then how do I go about swapping the prebuilt version (I'm assuming it's libs/libusb/osx/libs/usb-1.0.a?) with an unpatched version? SimpleOpenNI puts a libusb.dylib under /opt/local/lib but I can't replace a .a with a .dylib. Also I can't figure out how to set the LIBUSB_1_INCLUDE_DIR & LIBUSB_1_LIBRARY variables for building freenect via cmake?\n. I'm having trouble swapping out libusb. I removed it from linked libs then removed it entirely from the libs folder and changed the OFX_KINECT_LIBS variable to point to \"/opt/local/lib/libusb-1.0.a\" and now I get a build error:\nld: warning: ignoring file /opt/local/lib/libusb-1.0.a, file was built for archive which is not the architecture being linked (i386): /opt/local/lib/libusb-1.0.a\nI'm assuming I have a 64bit version of libusb installed?\n. ",
    "andremedeiros": "I've got the 1473 model working on OSX with libusb + libfreenect compiled from HEAD (libfreenect in this case is compiled from this pull request.)\nDoesn't stop after the 50 seconds, although I'm using the synchronous API.\n. Right, tried glview, which uses the async API, and still no problems after 2 minutes running. Might have to do with running libusb from HEAD?\n. Not quite sure. Is there any diagnostics I can run to give you more information about mine?\n. Here's what I get from IORegistry\n```\nTimestamp            Lvl    Message\n-------------------  ---    --------------------------------------\nJul 11 13:05:44.251  [1]    [0xffffff802ff28a00] The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0x1a120000)\nJul 11 13:05:44.251  [1]    [0xffffff802ff28a00] The IOUSBFamily was not able to enumerate a device.\nJul 11 13:05:47.438  [1]    [0xffffff802ff28a00] The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0x1a120000)\nJul 11 13:05:47.438  [1]    [0xffffff802ff28a00] The IOUSBFamily was not able to enumerate a device.\n    **** Jul 11 13:05:53 ****\n\n```\nThe first two lines are from when I first plugged it on. After that, I added a marker, to make sure there wasn't anything else going on, and waited.\nIt doesn't unplug the device for me.  Here's what I get from Bus Probe:\nSuper Speed device @ 128 (0x14800000): .............................................   Hub device: \"XHCI Root Hub SS Simulation\"\nHigh Speed device @ 1 (0x1A000000): .............................................   Hub device: \"EHCI Root Hub Simulation\"\nHigh Speed device @ 1 (0x1D000000): .............................................   Hub device: \"EHCI Root Hub Simulation\"\nHigh Speed device @ 129 (0x14000000): .............................................   Hub device: \"XHCI Root Hub USB 2.0 Simulation\"\nHigh Speed device @ 2 (0x1D100000): .............................................   Hub device from Intel Corporation\nHigh Speed device @ 2 (0x1A100000): .............................................   Hub device from Intel Corporation\nHigh Speed device @ 3 (0x1D180000): .............................................   Hub device from SMSC\nFull Speed device @ 4 (0x1D181000): .............................................   BRCM20702 Hub (Device is suspended)\nHigh Speed device @ 4 (0x1A120000): .............................................   Hub device from Microsoft Corporation\nHigh Speed device @ 3 (0x1A110000): .............................................   FaceTime HD Camera (Built-in) (Device is suspended)\nFull Speed device @ 5 (0x1D182000): .............................................   Composite device: \"Apple Internal Keyboard / Trackpad\"\nFull Speed device @ 6 (0x1D181300): .............................................   Bluetooth USB Host Controller (Device is suspended)\nHigh Speed device @ 5 (0x1A121000): .............................................   Vendor-specific device: \"Xbox Kinect Audio, \\251 2011 Microsoft Corporation. All rights reserved.\"\nHigh Speed device @ 6 (0x1A122000): .............................................   Composite device: \"Xbox NUI Camera\"\n. I'm on 10.8, so if you need any more tests, do let me know.\n. @ofTheo FWIW, mine has never been plugged into an Xbox. Now I'm sure I won't do it either ;-)\n. ",
    "sameershah21": "Any one tried this on Mac OS X 10.9 and K4W model 1517? I am getting following error: on glview\nkinect camera test\nNumber of devices found: 1\nGL thread\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 7d0f\n[Stream 70] Invalid magic a410\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic 740e\n[Stream 70] Invalid magic e740\n[Stream 70] Invalid magic c3ff\n[Stream 70] Lost 10 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic baff\n[Stream 70] Invalid magic f75f\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic b9ff\n[Stream 70] Invalid magic b9ff\n[Stream 70] Invalid magic b9ff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 4388\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 4 packets\n[Stream 70] Invalid magic 34e5\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic b5ff\n[Stream 70] Invalid magic 56ab\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 9372\n[Stream 70] Invalid magic 15e2\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic 9072\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic b6ff\n[Stream 70] Invalid magic b5ff\n[Stream 70] Invalid magic b9a7\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic e95d\n[Stream 70] Lost 4 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic b7ff\n[Stream 70] Invalid magic b7ff\n[Stream 70] Invalid magic b7ff\n[Stream 70] Invalid magic b7ff\n[Stream 70] Lost 8 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 99d3\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic 6e4d\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Invalid magic 5c6b\n[Stream 70] Invalid magic 0ce1\n[Stream 70] Lost 2 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Inconsistent flag 75 with 234 packets in buf (242 total), resyncing...\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic 82f0\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 3 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Inconsistent flag 75 with 237 packets in buf (242 total), resyncing...\nwrite_register: 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode, 'f'-video format\n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'm' - mirror\nUSB device disappeared, cancelling stream 82 :(\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nshutting down streams...\n. @wizgrav - Yes, 1517 model is a K4W. I agree that it will have the same issues as on 1473. I will try to hook it up on another USB port to see if still throwing the same error. \nIs there a way that I could use 10.8.3/4 Mac OSX compatibility settings to get it working on 10.9?\n@soni991  - Which OS are you using on? Is it Mac OS? Also, with the USB probe, could you check if USB resets 10-15 sec on Mac OS 10.8.3/4?\n. This worked a little better for me. It gave me window of 30-35 (approx) sec\nbefore it went dead. \nTerminal Log:\nKinect camera test\nNumber of devices found: 1\nGL thread\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 70ff\n[Stream 70] Invalid magic 72ff\n[Stream 70] Invalid magic 74ff\n[Stream 70] Invalid magic 74ff\n[Stream 70] Invalid magic 75ff\n[Stream 70] Lost 9 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic aaff\n[Stream 70] Invalid magic adff\n[Stream 70] Invalid magic b6ff\n[Stream 70] Invalid magic b7ff\n[Stream 70] Invalid magic b9ff\n[Stream 70] Invalid magic baff\n[Stream 70] Invalid magic bcff\n[Stream 70] Invalid magic d9ff\n[Stream 70] Invalid magic daff\n[Stream 70] Invalid magic c7ff\n[Stream 70] Invalid magic c6ff\n[Stream 70] Invalid magic c6ff\n[Stream 70] Invalid magic c5ff\n[Stream 70] Invalid magic 0de1\n[Stream 70] Invalid magic 1bc3\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic 9bd3\n[Stream 70] Lost 4 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Inconsistent flag 75 with 237 packets in buf (242 total), resyncing...\n[Stream 70] Invalid magic 18e3\n[Stream 70] Lost 1 packets\n[Stream 70] Invalid magic 79ff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 74ae\n[Stream 70] Invalid magic bdff\n[Stream 70] Invalid magic e1ff\n[Stream 70] Invalid magic e2ff\n[Stream 70] Invalid magic e4ff\n[Stream 70] Invalid magic e4ff\n[Stream 70] Invalid magic e5ff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic ccff\n[Stream 70] Invalid magic 6530\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic c3ff\n[Stream 70] Invalid magic bd57\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6eff\n[Stream 70] Invalid magic 6eff\n[Stream 70] Invalid magic 6fff\n[Stream 70] Lost 8 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic b4ff\n[Stream 70] Invalid magic b5ff\n[Stream 70] Invalid magic c4ff\n[Stream 70] Invalid magic c5ff\n[Stream 70] Invalid magic c5ff\n[Stream 70] Invalid magic c6ff\n[Stream 70] Invalid magic c7ff\n[Stream 70] Invalid magic c8ff\n[Stream 70] Invalid magic 4b49\n[Stream 70] Invalid magic ceff\n[Stream 70] Invalid magic 3a87\n[Stream 70] Invalid magic 4fa9\n[Stream 70] Invalid magic c2ff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 1ce3\n[Stream 70] Invalid magic e41c\n[Stream 70] Invalid magic 7bff\n[Stream 70] Invalid magic 1c7b\n[Stream 70] Lost 8 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic e6ff\n[Stream 70] Invalid magic e7ff\n[Stream 70] Invalid magic e8ff\n[Stream 70] Invalid magic e8ff\n[Stream 70] Invalid magic ecff\n[Stream 70] Invalid magic c2ff\n[Stream 70] Invalid magic c2ff\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Invalid magic 758e\n[Stream 70] Invalid magic aeb5\n[Stream 70] Invalid magic b9ff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic c9ff\n[Stream 70] Invalid magic caff\n[Stream 70] Invalid magic caff\n[Stream 70] Invalid magic cbff\n[Stream 70] Invalid magic ccff\n[Stream 70] Invalid magic ccff\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic af39\n[Stream 70] Invalid magic 5e6b\n[Stream 70] Invalid magic cdff\n[Stream 70] Invalid magic 45c8\n[Stream 70] Invalid magic c2ff\n[Stream 70] Invalid magic c2ff\n[Stream 70] Invalid magic c1ff\n[Stream 70] Invalid magic c1ff\n[Stream 70] Lost 7 packets\n[Stream 70] Lost too many packets, resyncing...\nwrite_register: 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode, 'f'-video format\n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'm' - mirror\n raw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000[Stream 80] Expected 1908 data bytes, but got 948\nUSB device disappeared, cancelling stream 82 :(\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nshutting down streams...\n-- done!\nglview(720,0x7fff7215c310) malloc: * error for object 0x7fda64010808: incorrect checksum for freed object - object was probably modified after being freed.\n* set a breakpoint in malloc_error_break to debug\nAbort trap: 6\n. @wizgrav i can see the chunkview.c file, but don't know how to run the example....Tried CMAKE and MAKE commands on examples folders but not able to run it. Can you please tell me how to run chunk view example?\n. Thank you. I did as mentioned Just saw the RGB Frame for about 20 sec  and foll is the o/p:\nKinect camera test\nNumber of devices found: 1\nGL thread\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode\n[Stream 70] Expected 1748 data bytes, but got 948\nUSB device disappeared, cancelling stream 82 :(\nUSB camera marked dead, stopping streams\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nshutting down streams...\n-- done!\nchunkview(3064,0x116381000) malloc: * error for object 0x7fb14d002008: incorrect checksum for freed object - object was probably modified after being freed.\n* set a breakpoint in malloc_error_break to debug\nAbort trap: 6\nPlease let me know if USB probe logs will be helpful.\n. @samuelpfchoi thank you for sharing. I will try this.\nOn Jan 23, 2014 8:27 AM, \"samuelpfchoi\" notifications@github.com wrote:\n\nHi,\nI also get a similar error as \"sameershah21\" did, when running the\n\"glview\" example.\nI am using OSX 10.9 and kinect 1473.\nI found that each times the kinect was disconnected, at the same time, in\nconsole log will output two more entries as following\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF: 10823.988 The IOUSBFamily is\nhaving trouble enumerating a USB device that has been plugged in. It will\nkeep retrying. (Port 2 of Hub at 0xfa130000)\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF: 10823.988 The IOUSBFamily was not\nable to enumerate a device.\nAfterwards, I did a tricky experiment, starting a VirtualBox and a guest\nos and then assign the Kinect USB drive to the guest os. Run glview, the\nproblem seems fixed.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/pull/325#issuecomment-33123289\n.\n. \n",
    "soni991": "hi i yesterday purchased kinect 1473 for motion capture. i found that when i run the glview in terminal after installing Hombrew it ends up\nKinect camera test\nNumber of devices found: 1\nGL thread\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\n2013-11-25 18:06:42.705 glview[1893:507] Can't open input server /Users/soni/Library/InputManagers/LiveDict_temporary\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 79ff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 5eff\n[Stream 70] Invalid magic 5eff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic c0ff\n[Stream 70] Invalid magic 6cff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 4a25\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 7aff\n[Stream 70] Invalid magic 7bff\n[Stream 70] Invalid magic 7fff\n[Stream 70] Invalid magic 7fff\n[Stream 70] Invalid magic 7fff\n[Stream 70] Invalid magic 80ff\n[Stream 70] Invalid magic 81ff\n[Stream 70] Invalid magic 60ff\n[Stream 70] Invalid magic 86b2\n[Stream 70] Lost 2 packets\n[Stream 70] Invalid magic 61ff\n[Stream 70] Lost 5 packets\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 64ff\n[Stream 70] Invalid magic 64ff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 6cff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 7bff\n[Stream 70] Invalid magic 7bff\n[Stream 70] Invalid magic 7bff\n[Stream 70] Invalid magic 7cff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 60ff\n[Stream 70] Invalid magic 60ff\n[Stream 70] Invalid magic 60ff\n[Stream 70] Lost 7 packets\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 65ff\n[Stream 70] Invalid magic 6dff\n[Stream 70] Invalid magic 6eff\n[Stream 70] Invalid magic 3d27\n[Stream 70] Invalid magic 70ff\n[Stream 70] Invalid magic 71ff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 71ff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 6 packets\n[Stream 70] Lost too many packets, resyncing...\nwrite_register: 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode, 'f'-video format\n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'm' - mirror\n raw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000[Stream 70] Expected 1748 data bytes, but got 948\niso_callback(): failed to resubmit transfer after successful completion: -99\nGot cancelled transfer, but we didn't request it - device disconnected?\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nshutting down streams...\n-- done!\nalso when i check my USB from system profile i find the following:\nHub:\nProduct ID:   0x02c2\n  Vendor ID:    0x045e  (Microsoft Corporation)\n  Version:   0.01\n  Speed:    Up to 480 Mb/sec\n  Location ID:  0xfa140000 / 5\n  Current Available (mA):   500\n  Current Required (mA):    2\nXbox NUI Camera:\nProduct ID:   0x02ae\n  Vendor ID:    0x045e  (Microsoft Corporation)\n  Version:   2.05\n  Serial Number:    0000000000000000\n  Speed:    Up to 480 Mb/sec\n  Manufacturer: Microsoft\n  Location ID:  0xfa142000 / 8\n  Current Available (mA):   500\n  Current Required (mA):    16\nXbox Kinect Audio, \u00a9 2011 Microsoft Corporation. All rights reserved.:\nProduct ID:   0x02ad\n  Vendor ID:    0x045e  (Microsoft Corporation)\n  Version:   1.00\n  Serial Number:    A70773W08423241A\n  Speed:    Up to 480 Mb/sec\n  Manufacturer: Microsoft\n  Location ID:  0xfa141000 / 6\n  Current Available (mA):   500\n  Current Required (mA):    Unknown (Device has not been configured)\nAlso after checking with USB probe i found that every 10-15 sec it is resetting \n. guys something need to be done with this reset of kinect on USB every 10 sec . if this is solved the kinnect works fine. Geniuses do something about it. \n. i am using Maverick which is 10.9\n. well i am not programmer but i feel that because the mac system is unable to recognize  the device properly. so the maverick is trying every 10-15 seconds which is resulting in the function drop when we run glview. so first step we need to make out MAC satisfy with the device connected. How can do that? sorry but i know u guys trying to achieve same thing but lets start from scratch. \n. \n. ok friends here is the Update.\nWhen i got my First Kinect 3 days back i asked the shop keeper to show me if the kinect is working and thereby he connected it with xbox to show me (cause i don't know it would be this complicated later on to connect with mac once it is connected with xbox). after that i tried to connect with mac Maverick and as above you see the issue i mentioned. Now today i went back to the shop keeper to get new one (which is model 1414 exchange for 1473 ) without testing on xbox.  i connect with my mac and first thing i noticed in system profiler was that it is reading properly the device. Second i opened terminal it is working fine without disconnecting and third i found was the green light blink on the Kinect is 3 times per 2 sec which was previously with old kinect 1 time every second. \nnow the only issue i am facing is something to do with my system permission that is Can't open input server /Users/soni/Library/InputManagers/LiveDict_temporary.\ndo any one know how to fix this !!\n. In mycase i just have to get it replaced. Thereby it is working fine as its not connected with xbox for testing which i did in first case .\n\nOn 2014\u00c4\u00ea1\u00d4\u00c27\u00c8\u00d5, at \u00cf\u00c2\u00ce\u00e74:57, \"Maxime Tournier\" notifications@github.com wrote:\nHi everyone,\nI also have the disconnect problem, OSX 10.9 and K4W model 1517 here.\nIf I can do anything to help, please let me know.\nBest,\n\u00a1\u00aa\nReply to this email directly or view it on GitHub.\n. \n",
    "pjaehrling": "Hi,\nI get a similar error as \"sameershah21\" did, when running the \"glview\" example.\nKinect camera test\nNumber of devices found: 1\nGL thread\nwrite_register: 0x0105 <= 0x00\nIsochronous transfer error: 1\nwrite_register: 0x0006 <= 0x00\n...\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 6cff\n...\n[Stream 70] Inconsistent flag 75 with 239 packets in buf (242 total), resyncing...\n[Stream 70] Invalid magic 5282\n[Stream 70] Lost 1 packets\n[Stream 70] Lost 3 packets\n[Stream 70] Inconsistent flag 75 with 239 packets in buf (242 total), resyncing...\nwrite_register: 0x0047 <= 0x00\n'w'-tilt up, 's'-level, 'x'-tilt down, '0'-'6'-select LED mode, 'f'-video format\n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'm' - mirror\nraw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000\niso_callback(): failed to resubmit transfer after successful completion: -4\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\n...\nAnd also a similar error when running the \"regview\" example.\n...\n[Stream 70] Lost 3 packets\n[Stream 70] Inconsistent flag 75 with 195 packets in buf (242 total), resyncing...\nGot cancelled transfer, but we didn't request it - device disconnected?\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nError -1 received from libusb - aborting.\n...\nI tried it with a Kincet4Win (1517, never connected to a XBox) on OS X 10.8.5 (with libusb-1.0.9 and the latest libfreenect commit Nov 15, 2013)\nI will try to get it running with the latest OpenFrameworks Version and also try to get the device running on Ubuntu 12.04, with the latest releases.\nBut it would be nice to know, if this is a problem related to the very new K4W model, which is hard to figure out and will properly not get fixed, so I should get a older model? \nOr if you have any advice to get this running.\nThanks!\n. Thanks for the fast reply. \nAs expected (since it's also libfreenect, right?) the test with OpenFrameworks ended up the same. I got disconnected after a certain time. \nBut as you said, it seems to be a problem with OSX since I got it running with Ubuntu 12.04 with the latest version.\nThe package (via apt-get) was not working, since it was not able to find the device.\n. ",
    "galsasson": "Hi everyone. I'm also trying to troubleshoot this issue with the 1473 and OSX. I'm running OSX 10.9, compiled the latest libfreenect and I get a disconnect every 20-30 seconds. As far as I know the sensor never saw an XBox. @ofTheo, I also tried working with your version of OF but I get the same issue. Also, using USB Prober I see the device disappear and reappear every 20-30 seconds.\nHere are some questions if any of you wants to help:\n1. Is there a way to check the firmware version to make sure the device was not connected to an XBox?\n2. @ofTheo, with the device that is working for you (was not connected to XBox), do you see the disconnect/reconnect in USB Prober?\n3. If USB Prober fails to steadily display the device, can we say for sure that this issue is coming from the USB stack of OSX?\n4. Anything else that is worth trying?\nI plan on testing the same sensor on Ubuntu running on the same machine, see if I can get any insight. \n. ",
    "maxime-tournier": "Hi everyone,\nI also have the disconnect problem, OSX 10.9 and K4W model 1517 here. \nIf I can do anything to help, please let me know.\nBest,\n. I don't know if this helps, but my K4W (1517) is working fine under the latest debian unstable. No disconnect issues as it happens with OSX 10.9.\n. ",
    "samuelpfchoi": "Hi,\nI also get a similar error as \"sameershah21\" did, when running the \"glview\" example.\nI am using OSX 10.9 and kinect 1473.\nI found that each times the kinect was disconnected, at the same time, in console log will output two more entries as following\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF:    10823.988    The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0xfa130000)\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF:    10823.988    The IOUSBFamily was not able to enumerate a device.\nAfterwards, I did a tricky experiment, starting a VirtualBox and a guest os and then assign the Kinect USB drive to the guest os. Run glview, the problem seems fixed.\n. Hi,\nI also get a similar error did, when running the \"glview\" example.\nI am using OSX 10.9 and kinect 1473.\nI found that each times the kinect was disconnected, at the same time, in console log will output two more entries as following\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF: 10823.988 The IOUSBFamily is having trouble enumerating a USB device that has been plugged in. It will keep retrying. (Port 2 of Hub at 0xfa130000)\n23/1/14 \u4e0b\u534809:18:11.000 kernel[0]: USBF: 10823.988 The IOUSBFamily was not able to enumerate a device.\nAfterwards, I did a tricky experiment, starting a VirtualBox and a guest os and then assign the Kinect USB drive to the guest os. Run glview, the problem seems fixed.\nHope that the finding is useful.\n. @ofTheo tested no disconnection again but found a issue when compiling using Xcode\nmy steps:\n- run cmake -G Xcode .. to generate Xcode project file\n- compiling using Xcode \n- prompted an error, \"libusb-1.0/libusb.h\" file not found \ncause: \nin keep_alive.c file\ninclude \nfixed by changing  the Preprocessor to #include \n. ",
    "salsaman": "Hi, what's the latest with this ? I just tried with the git version of libfreenect, and the problem is still there.\nExample:\n$ ./bin/freenect-glview\nKinect camera test\nNumber of devices found: 1\nCould not open audio: -1\nFailed to open motor subdevice or it is not disabled.Failed to open audio subdevice or it is not disabled.Could not open device\n. ",
    "ghrovmol": "the problem with the freenect-glview example is, it's not loading the audio firmware. so you have to run first freenet-micview. to use the firmware you have to compile it with the parameter -DBUILD_REDIST_PACKAGE=OFF\nyou can also edit the source of glview.c\nreplace this\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_MOTOR | FREENECT_DEVICE_CAMERA));\nint nr_devices = freenect_num_devices (f_ctx);\nprintf (\"Number of devices found: %d\\n\", nr_devices);\nint user_device_number = 0;\nif (argc > 1)\n    user_device_number = atoi(argv[1]);\nif (nr_devices < 1) {\n    freenect_shutdown(f_ctx);\n    return 1;\n}\nif (freenect_open_device(f_ctx, &f_dev, user_device_number) < 0) {\n    printf(\"Could not open device\\n\");\n    freenect_shutdown(f_ctx);\n    return 1;\n}\nby this\n```\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_AUDIO));\nint nr_devices = freenect_num_devices (f_ctx);\nprintf (\"Number of devices found: %d\\n\", nr_devices);\nint user_device_number = 0;\nif (argc > 1)\n    user_device_number = atoi(argv[1]);\nif (nr_devices < 1) {\n    freenect_shutdown(f_ctx);\n    return 1;\n}\nif (freenect_open_device(f_ctx, &f_dev, user_device_number) < 0) {\n    printf(\"Could not open device\\n\");\n    freenect_shutdown(f_ctx);\n    return 1;\n}\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_MOTOR | FREENECT_DEVICE_CAMERA));\nif (freenect_open_device(f_ctx, &f_dev, user_device_number) < 0) {\n    printf(\"Could not open device\\n\");\n    freenect_shutdown(f_ctx);\n    return 1;\n}\n```\ndon't forgett to copy audios.bin into ~/.libfreenect/audios.bin or the execution folder\n. ",
    "black1night": "I run  \nfreenect-glview\nOutput:\nKinect camera test\nNumber of devices found: 1\nCould not open audio: -1\nFailed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.Could not open device\nKinect model : 1473. I installed freenect through ROS and could not display camera information and depth information\nkinect model 1473. ",
    "rybaktomasz": "Is there any problem with my changes, or are they just not needed - as this is only example?\n. ",
    "tareko": "Hello all,\nI have a 1473 as well, and as per Issue #325, I installed the latest unstable branch. I am connected into the USB port with power from an outlet as well.\nI get the error above, and it's matched by a failure at USB. Below is my dmesg:\n```\n[   13.336019] usb 3-1: new high-speed USB device number 2 using xhci_hcd\n[   13.352492] usb 3-1: New USB device found, idVendor=045e, idProduct=02c2\n[   13.352495] usb 3-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0\n[   13.353212] hub 3-1:1.0: USB hub found\n[   13.353270] hub 3-1:1.0: 2 ports detected\n[   14.344048] usb 3-1.1: new high-speed USB device number 3 using xhci_hcd\n[   14.362133] usb 3-1.1: New USB device found, idVendor=045e, idProduct=02ad\n[   14.362135] usb 3-1.1: New USB device strings: Mfr=1, Product=2, SerialNumber=3\n[   14.362136] usb 3-1.1: Product: Xbox Kinect Audio, \\xffffffc2\\xffffffa9\\xffffffa9 2011 Microsoft Corporation. All rights reserved.\n[   14.362137] usb 3-1.1: Manufacturer: Microsoft\n[   14.362138] usb 3-1.1: SerialNumber: A70775W05393236A\n[   16.380079] usb 3-1.2: new high-speed USB device number 4 using xhci_hcd\n[   16.878785] usb 3-1.2: Device not responding to set address.\n[   22.080065] xhci_hcd 0000:06:00.0: Timeout while waiting for address device command\n[   33.112125] usb 3-1.2: device not accepting address 4, error -62\n[   33.112221] xhci_hcd 0000:06:00.0: Bad Slot ID 3\n[   33.112223] xhci_hcd 0000:06:00.0: Could not allocate xHCI USB device data structures\n[   33.112227] hub 3-1:1.0: couldn't allocate port 2 usb_device\n[   33.240153] xhci_hcd 0000:06:00.0: Bad Slot ID 3\n[   33.240155] xhci_hcd 0000:06:00.0: Could not allocate xHCI USB device data structures\n[   33.240159] hub 3-1:1.0: couldn't allocate port 2 usb_device\n[   37.896085] usb 3-1.2: new high-speed USB device number 5 using xhci_hcd\n[   37.896092] xhci_hcd 0000:06:00.0: ERROR: unexpected command completion code 0x0.\n[   38.119744] usb 3-1.2: New USB device found, idVendor=045e, idProduct=02ae\n[   38.119747] usb 3-1.2: New USB device strings: Mfr=2, Product=1, SerialNumber=3\n[   38.119749] usb 3-1.2: Product: Xbox NUI Camera\n[   38.119750] usb 3-1.2: Manufacturer: Microsoft\n[   38.119751] usb 3-1.2: SerialNumber: 0000000000000000\n[   38.135918] gspca_main: v2.14.0 registered\n[   38.138522] gspca_main: kinect-2.14.0 probing 045e:02ae\n[   38.138590] usbcore: registered new interface driver kinect\n\n[   72.400026] xhci_hcd 0000:06:00.0: xHCI host not responding to stop endpoint command.\n[   72.400029] xhci_hcd 0000:06:00.0: Assuming host is dying, halting host.\n[   72.442963] xhci_hcd 0000:06:00.0: Host not halted after 16000 microseconds.\n[   72.442965] xhci_hcd 0000:06:00.0: Non-responsive xHCI host is not halting.\n[   72.442966] xhci_hcd 0000:06:00.0: Completing active URBs anyway.\n[   72.442993] xhci_hcd 0000:06:00.0: HC died; cleaning up\n[   72.443011] hub 3-1:1.0: hub_port_status failed (err = -108)\n[   72.443016] usb 3-1.1: USB disconnect, device number 3\n[   72.443150] usb 3-1.2: USB disconnect, device number 5\n[   72.443233] usb 3-1: USB disconnect, device number 2\n```\nIt feels like we're getting closer, though!\ntarek : )\n. @piedar I thought the idea of removing the gspca_kinect driver was brilliant. I did it, but unfortunately had the same failure:\n[ 3471.407226] usbcore: deregistering interface driver kinect\n[ 3499.600016] xhci_hcd 0000:06:00.0: xHCI host not responding to stop endpoint command.\n[ 3499.600019] xhci_hcd 0000:06:00.0: Assuming host is dying, halting host.\n[ 3499.642540] xhci_hcd 0000:06:00.0: Host not halted after 16000 microseconds.\n[ 3499.642541] xhci_hcd 0000:06:00.0: Non-responsive xHCI host is not halting.\n[ 3499.642542] xhci_hcd 0000:06:00.0: Completing active URBs anyway.\n[ 3499.642560] hub 3-1:1.0: hub_port_status failed (err = -108)\n[ 3499.642565] hub 3-1:1.0: hub_port_status failed (err = -108)\n[ 3499.642569] xhci_hcd 0000:06:00.0: HC died; cleaning up\n[ 3499.642584] usb 3-1: USB disconnect, device number 2\n[ 3499.642586] usb 3-1.1: USB disconnect, device number 3\n[ 3499.642734] usb 3-1.2: USB disconnect, device number 5\nHappy to test any other ideas.\ntarek : )\n. I haven't. I just put it in the blacklist now and will try that when I am able later tonight. However, I doubt that will work. Regarding reverting from xhci, I don't feel motivated enough to do that. Any other ways to help resolve the issue?\ntarek : )\n. ",
    "HellMood": "you may try to disable USB autosuspend. this solved the disconnection problem for me. see here : https://devtalk.nvidia.com/default/topic/751916/embedded-systems/microsoft-kinect-with-jetson-tk1/\n. ",
    "psiniemi": "I'm trying the same with no luck. My test code, tcpdump of usb traffic, vmstat -s output and logging output at https://github.com/psiniemi/kinectOnRaspberryPi\nWould there  be a way to ask less data or something like that?\nI can also provide any other useful data if someone wants to help...\n. ",
    "ray4510": "Great xxorde. I have been building a robot doing the software dev on a pc, now I am very disappointed to find that the RPI does not work with the kinect. please fix it!!\n. Thanks for responding, but I couldnt get my noobie programmer head around\nit. I have been using python, and cant grasp C just yet,( i got compile\nerrors related to gcc config paths and i have no room in my brain for that\nyet). I understand what it does, but i dont understand how to make that a\nfactor with the python wrappers.\nOn Sun, Jan 19, 2014 at 12:17 PM, Benn Snyder notifications@github.comwrote:\n\nYou might try @wizgrav https://github.com/wizgrav's Chunk processing\nfeature #351 https://github.com/OpenKinect/libfreenect/pull/351.\nTesting indicates that the overhead of getting a 320x240 frame, unpacked\nand converted to mm(passing a lookup table through dev->user_data) is\nroughly the same as getting the packed 640x480 frame.\nSee chunkview.chttps://github.com/OpenKinect/libfreenect/blob/master/examples/chunkview.cfor an example.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/338#issuecomment-32713483\n.\n\n\n\u05d4\u05db\u05e0\u05e1 \u05d8\u05e7\u05e1\u05d8 \u05dc\u05ea\u05e8\u05d2\u05dd \u05db\u05d0\u05df\n.  If i follow the conversation correctly, it's time to trade in my pi for a SunXI or something like that. I forgot there were options now. can someone help me recalibrate my google-eye, and tell me how I narrow the search on a quality board. I would want it to run Debian, and have ezmode gpio.  I'd like to transfer what I know now, over to the new hardware and expect the same rules would apply (ie debian, vncsever, lirc etc NOT ARCH!) I dont know enough to know what to expect with different hardware like this, and I'd hate to find out six months down the road I'd become a Mac user.\n. I've been looking at the olimex(allwinner) a-20, but i can't find anything on the net with people using openkinect on it.  I want to assume it's because it just works! but that's how I ended up with an RPI in stead of a quality ARMy. can anyone verify the kinect will work with the olimex a20?\n. ",
    "arunchettoor": "Hi all !\nI am working on Beaglebone black running 3.8.13-bone37 kernel. I am also facing the same problem where the code will be stuck at the position shown below:\nwhile (!buf->valid)\n                pthread_cond_wait(&buf->cb_cond, &buf->lock);\nI tried in RPi and not succeeded and turned to Beaglebone Black to try my luck, because many people have successfully tried libfreenect with beagle board.\nGreat to hear @xxorde got it with RPi.. Congrats!!! \nCan you please explain the process so that i can also try the same in Beaglebone Black and let you know the results.\n. @xxorde : Thank you so much for posting this. Loaded back everything to try in RPi. Everything was clear in manual unless the unzip of the git clone gz file. But I have problem at insmod gspca.ko\nshowing below the output of \"make load\"\nsudo sh unload_drivers.sh\nError: Module kinect is not currently loaded\nError: Module gspca is not currently loaded\nError: Module gspca_kinect is not currently loaded\nError: Module gspca is not currently loaded\nError: Module kinect is not currently loaded\nmake[1]: Leaving directory `/home/pi/Desktop/arun/librekinect/librekinect'\nsudo modprobe videodev\nsudo insmod gspca.ko\nError: could not insert module gspca.ko: Invalid module format\nmake: *** [load] Error 1\n\"dmesg | tail -10\" gives:\n[ 4041.074163] gspca_main: v2.14.0 registered\n[ 4041.077283] gspca_main: kinect-2.14.0 probing 045e:02ae\n[ 4041.079860] usbcore: registered new interface driver kinect\n[ 4504.211681] usbcore: deregistering interface driver kinect\n[ 4504.419876] gspca: no symbol version for module_layout\n[ 4547.199514] gspca: no symbol version for module_layout\n[ 5414.106806] gspca: no symbol version for module_layout\n[ 5748.719800] gspca: no symbol version for module_layout\n[ 6565.750570] gspca: no symbol version for module_layout\nroot@raspberrypi:/home/pi/Desktop/arun/librekinect/librekinect# uname -r\n3.10.25+\nPlease help with this to try the code..\n. @xxorde I done the kernel compiling as you said and successfully loaded the modules. Thank you. But I need to get the depth values as the function:\n freenect_sync_get_depth((void**)&data, &timestamp, index, FREENECT_DEPTH_MM)\nSo how can i communicate with the module to get the depth output . It will be so useful if you post an example code in C like the wrappers of libfreenect to just get values from the modules. \n. ",
    "floe": "@xxorde very impressive, you should definitely talk to the gspca devs to get this included into the mainline kernel at some point.\n. I think it's physically impossible to generate a different registration table which doesn't show this problem... in your example, the pixels where the left image of the spoon is visible can be directly seen by the depth camera, but from the point of view of the RGB camera, they are behind the spoon, so the mapping is sort-of-correct.\nGenerally, this mode is mostly applicable for specific applications (e.g. when you want to determine the color of a depth-segmented object and need the best depth resolution you can get, as the depth -> RGB mapping will lower the resolution a bit).\n. This looks promising! Can you explain this condition:\nc++\n        if (2*(currentDepth - minDepth) < (currentDepth + minDepth))\n. @fran6co could you generate a new branch from my old unstable branch and integrate your patch? then you can submit a pull request based on that.\n. What are the model numbers of the two different Kinect cameras (check sticker on the bottom)?\n. Could you please send this as a pull request on Github?\n. @zhumxcq First, you have to create your own fork of libfreenect on github. For the rest, there's a good tutorial available here: https://help.github.com/articles/creating-a-pull-request/\n. Most of the time, this is caused by some permissions issue. Have you tried running freenect-glview as root?\n. Ah, now I get it: this is the Kinect One, right? In this case, you will need https://github.com/OpenKinect/libfreenect2 which is a separate project.\n. Simple reason: water absorbs IR light, so the signal-noise ratio will get a lot worse under water (see https://en.wikipedia.org/wiki/Electromagnetic_absorption_by_water)\nApart from that, you may also experience strong reflection from the water surface that overloads the sensor. Both are pretty fundamental physical issues...\n. I really think it's the reflection. Did you have the sensor oriented perpendicular to the water surface, or at an angle?\n. libfreenect2 can use both versions of the Kinect One/v2 (the one from the XBox and the one for Windows).\n. ",
    "MarkTillotson": "With vanilla libfreenect I found that the lack of USB oomph means you can only\nuse the Raspberry Pi with the Kinect by limiting to sensing one camera at a time\nie only enable one of depth or rgb streams, switching between them if necessary.  If you only want depth information this is bearable.  If real-time RGB\npoint clouds are wanted, no dice.\nIt may be that using the smallest resolution option allows both streams to co-exist,\nbut I haven't tested this.\n. I've the same problem - turning on FREENECT_LOG_FLOOD shows\nthat its looping in the first send_cmd:\nKinect camera test\nNumber of devices found: 1\nuser device num: 0\nabout to open device\nsend_cmd: cmd=0016 tag=0000 len=000a: 18\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\n...\n[ Note the dangerous do-while loop with no time-out in send_cmd() in flags.c... ]\n. Some more observations:  The latest libusb1.0 releases claim to support windows natively, but do not claim to provide isochronous transfers under\nWindows (as far as I can see).  Indeed some detective work in the code tends\nto support this - the only stuff in the windows backend for isochronous transfers\nseems to be for composite devices which AFAICT just punts to non-composite\ncase (which isn't supported).\nSo I'm having trouble understanding the \"upgrade\" of libfreenect to use\nlibusb1.0 rather than libusb-win32 + emulation layer, since libusb1.0 doesn't\nsupport isochronous transfers under Windows - or have I missed something\nvital?   \nThe most recent libfreenect using the emulation layer ontop of libusb-win32\nseems to be 0.4.1 but I've not managed to get that to compile, I think I have\nto compile it in two stages, the emulation layer and then the main code, but\nCMake setup doesn't seem to allow for this, but I've only just tried this.\nOne thing I've noted is that most / all the instructions for building this stuff\nfail to mention the version(s) for which the instructions were intended / tested,\nwhich is not useful months/years down the line.\n. Great piedar - that's worked for me! Really appreciate the fix :)\n[ notes:  I had to ensure Zadig had reconfigured the drivers as libusbK and\nreset the libfreenect log level from FLOOD to DEBUG (otherwise the transfers\nquickly all dropped out due to timing and I only got a frame or so.\nAlso when glview exits it doesn't seem to clean up and leaves the Kinect\ncamera on, red LED and IR laser, which prevents it re-running without\nun/replugging the Kinect - something awry in freenect_shutdown with the\npatch?\n. ",
    "dankegel": "We hit this, too. \n. ",
    "macecchi": "Thanks for the tip! Apparently this hasn't been fixed yet.\n. ",
    "maxrafiandy": "Thanks. you save my day.\n. ",
    "abrahamavnisan": "I'm experiencing this problem with openFrameworks 0.8.0 and Mac OS 10.8.4. \nHave you found any solutions?\n. Yes, I think you're right @courtenay.  I'm hopeful that the solution lies here, I just haven't had a chance to try this yet.  Hope it helps! Let me know if you figure it out and I'll do the same!\n. ",
    "courtenay": "me too :( osx 10.7.x - I get this in the system log\n10/14/13 11:03:35.000 PM kernel: USBF:  551387.421  [0x13542c00] The IOUSBFamily is having trouble enumerating a USB device that has been plugged in.  It will keep retrying.  (Port 2 of Hub at 0xfd100000)\n10/14/13 11:03:35.000 PM kernel: USBF:  551387.421  [0x13542c00] The IOUSBFamily was not able to enumerate a device.\n. (This is a 1473 out of the box, never plugged in. It seems as though they are shipping them with the updated firmware now)\n. ",
    "kiwox": "Is there any instructions on how to get this running? \n. ",
    "fran6co": "I found a weird bug, it's duplicating objects against far away background.\n \nNot sure why, trying to figure it out.\n. @floe, I found out what is causing the problem. When doing depth to rgb you could have different depths mapped to the same same rgb coordinate but you can discard the furthest one. If you just use the same mapping but inverse it, as you did, you'll have different depth coordinates mapped to the same color causing duplicated objects.\nThe solution would be generating a new registration table, but that part of the code is not that well documented to figure out how to generate the proper table.\n. But the same thing happens when doing depth->rgb, you'll have some pixels that are visible in the rgb camera but not on the depth and mapping depth to rgb doesn't show this type of artifacts.\nOne way to solve it, would be blacking out those pixels but it would cause a double shadow.\nI think it's possible to map rgb to depth without double shadow or this kind of artifacts, projects like http://labs.manctl.com/rgbdemo/ or http://idav.ucdavis.edu/~okreylos/ResDev/Kinect/ work just fine but with manual calibration.\n. I was wrong, you'll always get a double shadow when doing registration (one for the parallax between the IR camera and the projector and the other for the IR and the rgb). The problem is figuring out what pixels in the depth camera are not visible in the rgb, so the registration can blacken them out.\nI'm trying some extra arrays to keep track of duplicated pixels, but it doesn't work that well.\n. @floe, what do you think about a zBuffer? It fixes most of the artifacts (there a couple of artifacts that can't be saved because of the distortion)\n``` C\n    uint32_t target_offset = dev->registration.reg_pad_info.start_lines * DEPTH_Y_RES;\n    int x,y;\n    int map = (int)malloc(DEPTH_Y_RESDEPTH_X_RES sizeof(int));\n    unsigned short zBuffer = (unsigned short)malloc(DEPTH_Y_RESDEPTH_X_RES sizeof(unsigned short));\nfor (y = 0; y < DEPTH_Y_RES; y++) for (x = 0; x < DEPTH_X_RES; x++) {\n\n        uint32_t index = y * DEPTH_X_RES + x;\n        uint32_t cx,cy,cindex;\n\n        map[index] = -1;\n\n        int wz = depth_mm[index];\n\n        if (wz == 0) {\n            continue;\n        }\n\n        // coordinates in rgb image corresponding to x,y in depth image\n        cx = (dev->registration.registration_table[index][0] + dev->registration.depth_to_rgb_shift[wz]) / REG_X_VAL_SCALE;\n        cy =  dev->registration.registration_table[index][1] - target_offset;\n\n        if (cx >= DEPTH_X_RES) continue;\n\n        cindex = cy*DEPTH_X_RES+cx;\n        map[index] = cindex;\n\n        if (zBuffer[cindex] == 0 || zBuffer[cindex] > wz) {\n            zBuffer[cindex] = wz;\n        }\n    }\n\nfor (y = 0; y < DEPTH_Y_RES; y++) for (x = 0; x < DEPTH_X_RES; x++) {\n    uint32_t index = y * DEPTH_X_RES + x;\n    uint32_t cindex = map[index];\n\n    // pixels without depth data or out of bounds are black\n    if (cindex == -1) {\n        index *= 3;\n        rgb_registered[index+0] = 0;\n        rgb_registered[index+1] = 0;\n        rgb_registered[index+2] = 0;\n\n        continue;\n    }\n\n    unsigned short currentDepth = depth_mm[index];\n    unsigned short minDepth = zBuffer[cindex];\n\n    // if the pixels are near we keep the mapping\n    if (2*(currentDepth - minDepth) < (currentDepth + minDepth)) {\n        index *= 3;\n        cindex *= 3;\n\n        rgb_registered[index+0] = rgb_raw[cindex+0];\n        rgb_registered[index+1] = rgb_raw[cindex+1];\n        rgb_registered[index+2] = rgb_raw[cindex+2];\n    }\n}\n\nfree(zBuffer);\nfree(map);\n\n```\n. The rgb-depth mapping maps several points in the depth to the same rgb value. Some of them are the ones that are visible from the depth camera but not the rgb camera and some of them are just neighboring points. That condition is to separate the 2 cases.\n. @piedar Why was this closed?\n. I'll do it during this week. Maybe today if I have the time.\n. ",
    "maciekczwa": "Have you managed to get it working?\n. Ok, it looks like it has something to do with TLP.\nTo fix this you need to change file (or remove this file, but it will disable TLP for all devices) /lib/udev/40-tlp.rules to:\n```\ntlp - udev rules\nexclude kinect from tlp\nATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ae\" , GOTO==\"tlp_rules_end\"\nATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02b0\" , GOTO==\"tlp_rules_end\"\nATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ad\" , GOTO==\"tlp_rules_end\"\nhandle added usb devices (exclude subdevices)\nACTION==\"add\", SUBSYSTEM==\"usb\", DRIVER==\"usb\", ENV{DEVTYPE}==\"usb_device\", RUN+=\"/lib/udev/tlp-usb-udev %p\"\nLABEL=\"tlp_rules_end\"\n```\n. ",
    "pierrep": "Aaah that's an interesting discovery. No, I hadn't fixed it, and had pretty much given up. I'll try this out and report back. It wouldn't be the first time power management software caused me grief on Linux.\n. Just reporting back that this did indeed solve my problem. Huge thanks, I would never have guessed this.\n. I'm having the exact same problem on an Xbox 360 1414 kinect. \nI've tried the \"echo -1 | sudo tee -a /sys/module/usbcore/parameters/autosuspend\" but it makes no difference. The device doesn't show up on lsusb. \nAlso the vendors Id's showing up don't match up with the regular Udev rules...\ne.g\nidVendor=0409, idProduct=005a\n\nAnyone know what's going on?\n. ",
    "danryu": "Thanks for the catch! I knew tlp was going to be trouble when I installed it....\n. ",
    "contraviento": "Hello, got the same error on OSX 10.9\ninstalled libfreenect with hombrew \nthe dylib is in \"/usr/local/lib/\"\n. ",
    "smokris": "@piedar Thanks!  It's working nicely; I haven't seen any more disconnection-related crashes since then.. ",
    "mianuel": "Hello !!\nI have the same problem with Ubuntu 13.10 but I don't know if the issue is due to a different Ubuntu version or to a different C API ? I don't have a lot of experience with Cython but if someone give some clue/direction/help I'm ready to try to resolve it.\nThanks\n. ",
    "rnixx": "Hi,\ni just tried again with recent master, now i have got depth and rgb examples running with python wrapper and opencv. Here is what i did:\n- install build dependencies\n- checkout latest sources\n- ensure right udev rules and module blacklists if necessary as described in kinect wiki\n- create and enter build directoy and run cmake -L ..\n- now edit CMakeCache.txt in build directory and set BUILD_PYTHON:BOOL=ON (i guess this is also possible via cmake configuration flag...?)\n- run make && make install\n- enter wrappers/python directory and execute sudo python setup.py install\n- execure example python demo_cv_async.py\nany feedback or comments on this procedure is appreciated,\nCheers\n. ",
    "Tondy": "Hello thanks for the reply. I had an error some time back that required me\nto install g++ 4.3 I think. So I should have\ntwo compiles I can specify just g++ and can also specify g++-4,3 in other\ncases.\nOn Sat, Jan 18, 2014 at 8:01 PM, Benn Snyder notifications@github.comwrote:\n\nWhat's your compiler?\ngcc --version\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/356#issuecomment-32691464\n.\n. Thanks alot will give it a try. Speak soon\n\nOn Sat, Jan 18, 2014 at 10:29 PM, Benn Snyder notifications@github.comwrote:\n\nTry this:\ncmake .. -DCMAKE_C_COMPILER=gcc\nIf that doesn't work, make sure gcc can be found:\nwhich gcc\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/356#issuecomment-32695161\n.\n. Hi Benn\n\nThanks again for the assistance. I tried your solution and this is the\nerror I got. I think I have 2 different\ng++ compilers installed one old version and a new version. So I think the\nsystem is getting confused. I mite\nhave to modify makelist.txt maybe. To match the g++ compiler path. I am\njust not sure.\nThanks.\n-- The C compiler identification is unknown\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/g++\n-- Check for working C compiler: /usr/bin/g++ -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"/usr/bin/g++\" is not able to compile a simple test\nprogram.\nIt fails with the following output:\nChange Dir: /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp\nRun Build Command:/usr/bin/make \"cmTryCompileExec/fast\"\n/usr/bin/make -f CMakeFiles/cmTryCompileExec.dir/build.make\n  CMakeFiles/cmTryCompileExec.dir/build\nmake[1]: Entering directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report\n  /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding C object CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o\n/usr/bin/g++ -o CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o -c\n  /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c\n/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c:2:3:\n  error: #error \"The CMAKE_C_COMPILER is set to a C++ compiler\"\nmake[1]: *** [CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o] Error 1\nmake[1]: Leaving directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\nmake: *** [cmTryCompileExec/fast] Error 2\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\n-- Configuring incomplete, errors occurred!\nOn Sat, Jan 18, 2014 at 10:29 PM, Benn Snyder notifications@github.comwrote:\n\nTry this:\ncmake .. -DCMAKE_C_COMPILER=gcc\nIf that doesn't work, make sure gcc can be found:\nwhich gcc\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/356#issuecomment-32695161\n.\n. Updated error is this:\n\n-- The C compiler identification is unknown\n-- Check for working C compiler: gcc\nCMake Error: your C compiler: \"gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\nCMake Error: Internal CMake error, TryCompile configure of cmake failed\n-- Check for working C compiler: gcc -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"gcc\" is not able to compile a simple test program.\nIt fails with the following output:\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\nCMake Error: your C compiler: \"gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\n-- Configuring incomplete, errors occurred!\nOn Tue, Jan 21, 2014 at 6:28 PM, Tonderai Ratisai timodia@gmail.com wrote:\n\nHi Benn\nThanks again for the assistance. I tried your solution and this is the\nerror I got. I think I have 2 different\ng++ compilers installed one old version and a new version. So I think the\nsystem is getting confused. I mite\nhave to modify makelist.txt maybe. To match the g++ compiler path. I am\njust not sure.\nThanks.\n-- The C compiler identification is unknown\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/g++\n-- Check for working C compiler: /usr/bin/g++ -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"/usr/bin/g++\" is not able to compile a simple test\nprogram.\nIt fails with the following output:\nChange Dir: /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp\nRun Build Command:/usr/bin/make \"cmTryCompileExec/fast\"\n/usr/bin/make -f CMakeFiles/cmTryCompileExec.dir/build.make\n  CMakeFiles/cmTryCompileExec.dir/build\nmake[1]: Entering directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report\n  /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding C object CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o\n/usr/bin/g++ -o CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o -c\n  /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c\n/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c:2:3:\n  error: #error \"The CMAKE_C_COMPILER is set to a C++ compiler\"\nmake[1]: *** [CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o] Error 1\nmake[1]: Leaving directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\nmake: *** [cmTryCompileExec/fast] Error 2\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\n-- Configuring incomplete, errors occurred!\nOn Sat, Jan 18, 2014 at 10:29 PM, Benn Snyder notifications@github.comwrote:\n\nTry this:\ncmake .. -DCMAKE_C_COMPILER=gcc\nIf that doesn't work, make sure gcc can be found:\nwhich gcc\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/356#issuecomment-32695161\n.\n. Hi Me again.\n\n\nI changed the -DCMAKE_C_COMPILER=gcc code you gave me to this cmake ..\n-DCMAKE_CXX_COMPILER=gcc\nAnd know this is the new error:\n-- The C compiler identification is unknown\n-- Check for working C compiler:\n/home/tonderai/Desktop/libfreenect/build/gcc\nCMake Error: your C compiler:\n\"/home/tonderai/Desktop/libfreenect/build/gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\nCMake Error: Internal CMake error, TryCompile configure of cmake failed\n-- Check for working C compiler:\n/home/tonderai/Desktop/libfreenect/build/gcc -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"/home/tonderai/Desktop/libfreenect/build/gcc\" is not able\n  to compile a simple test program.\nIt fails with the following output:\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\nCMake Error: your C compiler:\n\"/home/tonderai/Desktop/libfreenect/build/gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\n-- Configuring incomplete, errors occurred!\nYou have changed variables that require your cache to be deleted.\nConfigure will be re-run and you may have to reset some variables.\nThe following variables have changed:\nCMAKE_CXX_COMPILER= gcc\nCheers.\nOn Tue, Jan 21, 2014 at 6:30 PM, Tonderai Ratisai timodia@gmail.com wrote:\n\nUpdated error is this:\n-- The C compiler identification is unknown\n-- Check for working C compiler: gcc\nCMake Error: your C compiler: \"gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\nCMake Error: Internal CMake error, TryCompile configure of cmake failed\n-- Check for working C compiler: gcc -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"gcc\" is not able to compile a simple test program.\nIt fails with the following output:\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\nCMake Error: your C compiler: \"gcc\" was not found.   Please set\nCMAKE_C_COMPILER to a valid compiler path or name.\n-- Configuring incomplete, errors occurred!\nOn Tue, Jan 21, 2014 at 6:28 PM, Tonderai Ratisai timodia@gmail.comwrote:\n\nHi Benn\nThanks again for the assistance. I tried your solution and this is the\nerror I got. I think I have 2 different\ng++ compilers installed one old version and a new version. So I think the\nsystem is getting confused. I mite\nhave to modify makelist.txt maybe. To match the g++ compiler path. I am\njust not sure.\nThanks.\n-- The C compiler identification is unknown\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/g++\n-- Check for working C compiler: /usr/bin/g++ -- broken\nCMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52\n(MESSAGE):\n  The C compiler \"/usr/bin/g++\" is not able to compile a simple test\nprogram.\nIt fails with the following output:\nChange Dir: /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp\nRun Build Command:/usr/bin/make \"cmTryCompileExec/fast\"\n/usr/bin/make -f CMakeFiles/cmTryCompileExec.dir/build.make\n  CMakeFiles/cmTryCompileExec.dir/build\nmake[1]: Entering directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report\n  /home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding C object CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o\n/usr/bin/g++ -o CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o -c\n/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c\n/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp/testCCompiler.c:2:3:\n  error: #error \"The CMAKE_C_COMPILER is set to a C++ compiler\"\nmake[1]: *** [CMakeFiles/cmTryCompileExec.dir/testCCompiler.c.o] Error 1\nmake[1]: Leaving directory\n  `/home/tonderai/Desktop/unstable/build/CMakeFiles/CMakeTmp'\nmake: *** [cmTryCompileExec/fast] Error 2\nCMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:41 (PROJECT)\n-- Configuring incomplete, errors occurred!\nOn Sat, Jan 18, 2014 at 10:29 PM, Benn Snyder notifications@github.comwrote:\n\nTry this:\ncmake .. -DCMAKE_C_COMPILER=gcc\nIf that doesn't work, make sure gcc can be found:\nwhich gcc\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/356#issuecomment-32695161\n.\n. \n\n\n",
    "nguyenkools": "@ofTheo I have a kinect model 1473, and i have a problem : \" Xbox Nui motor is not detected and serial number of camera is always 0000000000\". Can you show me how to solve this problem.? i wanna my laptop detect it with other serial number (different from 000000000) .\ni'm working with openframeworks and libfreenect on windows 7.\n thank you for help me!\n. ",
    "tufekoa": "Hi of Theo, Thanks for your work on this issue I just got the Kinect 1473 with the same problem. I was just wondering how to use your code,Where in libfreenect do we have to make the changes. I'm sorry but I am really a bit new to this but am on it night and day. Cheers! \n. I suggest you get a 1414 model. There are reburbished models for sale online. I spent a lot of time on this in pure waste. Cheers\n. ",
    "SlightlyCyborg": "bump tufekoa, I am having the same troubles\n. Bump\nIt seems as though BUILD_AUDIO is not even an option anymore in CMakeFiles\n. ",
    "spie0092": "Hey Theo. Thanks for all of your work on this.  I have tried to get this to work every which way, with no luck... upon the make command, it builds about 25%, then I get this error:\nLinking C shared library ../lib/libfreenect.dylib\nUndefined symbols for architecture x86_64:\n  \"_freenect_extra_keep_alive\", referenced from:\n      _fnusb_open_subdevices in usb_libusb10.c.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [lib/libfreenect.0.3.0.dylib] Error 1\nmake[1]: *** [src/CMakeFiles/freenect.dir/all] Error 2\nmake: *** [all] Error 2\nAny suggestions? Same error on two different machines:\nMacbook Pro (15-inch, Mid 2010)\n- OSX 10.9 \n- 2.66 GHz Intel Core i7 \n- 8 GB 1067 DDR3 \n- NVIDIA GeForce GT 330M 512 MB\nMacbook Pro (Retina, 15-inch, Late 2013)\n- OSX 10.9.1\n- 2.6 GHz Intel Core i7\n- 16GB 1600 MHz DDR3\n- NVIDIA GeForce GT 750M 2048 MB\n. I do have it included in the \"src\" folder, of the main root (I downloaded your \"feature-k4w...\" repository and am building from that).  Do I need to manually place it in the build folder as well? \nSorry for my unintelligent line of questioning.  I am new to this, and it's been quite a struggle...\n. Thanks! I will test it out.  I really appreciate your help!\n. Worked like a charm! One note, from my configurations, for the \"ccmake ..\" setup, I needed to change all references to \"/usr/\" to \"/opt/\".\nTHANK YOU!\n. ",
    "MohitShridhar": "Hi Theo! I have been trying to get 1473's tilt/accel/led working on OSX 10.9. \nBut when I run tiltdemo, none of these seem to work. \nI get this:\nled[3] tilt[9] accel[0.000000,0.000000,0.000000]\nled[0] tilt[-9] accel[0.000000,0.000000,0.000000]\nled[0] tilt[1] accel[0.000000,0.000000,0.000000]\nled[4] tilt[-13] accel[0.000000,0.000000,0.000000]\nled[4] tilt[-13] accel[0.000000,0.000000,0.000000]\nled[1] tilt[7] accel[0.000000,0.000000,0.000000]\nwith no change in physical tilt/accel data/led status.\nWhile building libfreenect, I used cmake -BUILD_AUDIO=ON .., and I could see that audio.bin was downloaded and placed in /usr/local/share/libfreenect/. Have I missed anything?\nI tried micview; I can see the waveforms produced by the microphone array. So it seems like the audio.bin firmware has been installed properly. Or has it?!\nThanks for the help!\n. Wow! That did the trick! I have been looking forward to this feature for a long time! Thanks a lot!\n. I ended up using extract360.py to get it working. Followed this guide. \nAfter extracting audios.bin from SystemUpdate_16547_USB.zip (just googled it), I manually placed it in the build directory. And then built libfreenect with BUILD_AUDIO.\nI have tried the build on both 1473 and 1414. So far, it works great!\n. ",
    "hkhpeter": "I'm using 1473 on Ubuntu12.04, and it's working great now, thanks. But before all things work out the following have to be done.\n1. upload_firmware() in loader.c was causing troubles. When running some of the examples after installing, \"Segmentation fault\" occurred after case 3 inside the for loop for file search. I had to remove the entire for loop and write the path to audios.bin manually instead. The path for my computer is /usr/local/share/libfreenect/audios.bin.\n2. Not knowing how to use py360, I had to use ofxKinectExtras for the firmware as suggested by the NOTE. I tried to include the firmware as a function call, but to no avail. I at the end wrote the firmware to an audios.bin file and put it inside the build directory.\n3. Comment out the command to run fwfetcher.py in CMakeLists.txt in src. The python file is to write audios.bin for k4w. This is not needed and this would have overwritten the audios.bin in 2.\n4. Install libfreenect with BUILDAUDIO on, then things should work out.\n. ",
    "libasoles": "Hi @hkhpeter . Glad to know it works for you. I'm eager to make it work for me. I tried to figure out how to include ofxKinectExtras but with no luck. So I want to compile the code as you did. \nAs I'm not a c/c++ developer I must ask for help on this. How can I compile the audios.bin? I'm trying this but the \"unsigned char\" seems to be cut to just 64 B. \ninclude \ninclude \"ofxKinectExtras.cpp\"\nint main()\n{\n    size_t data_size = sizeof(&fwk4wBin[0]);\n    std::ofstream ofile(\"audios.bin\", std::ios::binary);\nfor(int x=0; x<data_size; x++)\n{\n  ofile.write((char *)&fwk4wBin[0], data_size);\n}\n}\n. I'm looking for that function. I have no experience with c but maybe I can manage. No results by now anyway.\nI'd like to understand what the issue is. The firmware that is downloaded by libfreenect (from http://www.xbox.com/system-update-usb) is not the correct one for 1473? And is the only one provided by Microsoft (latest one)?\n. Thanks both.\nI'm not yet in context because I'm not a c/c++ developer. Actually I'm planning to make some sketches using Processing. So would you mind putting me in orbit please? \nWhen ofTheo says call my functions \"after freenect_init\", he's referring to a OpenFrameworks app, right? And specifically to ofxKinect addon? Then I should create a openframeworks project just to flash the correct firmware (only once). Is this right?\nThanks for your efforts. \n. I was saying nonsense, wasn't I?\nofTheo code should go in cpp wrapper, right? After this line:\nif(freenect_init(&m_ctx, NULL) < 0)\nNow I see. And kinectContext is actually m_ctx.\nWell, it's not working for me yet, but I'll keep on trying. \n. I must say I have some achievements. Most of the errors are gone.\nAlso, after applying the above code, I read somewhere that I should run the micview example first in order to flash the audio firmware. And indeed something happened: \nTrying to open ./audios.bin as firmware...\nFound firmware image\n...\nFirmware successfully uploaded and launched.  Device will disconnect and reenumerate.\nDemo runs for a while and then sadly it stops. \nUSB device disappeared, cancelling stream 82 :(\nUSB audio marked dead, stopping streams\nAnyway I tend to think that this is a USB problem. Maybe my machine is too old.\n. Ok, I've tried deleting audios.bin. But it's the same:\naudio: received an iso IN packet of strange length: 164\nUSB device disappeared, canceling stream 82 :(\nUSB audio marked dead, stopping streams\nNow I'm trying to compile audios.bin by myself, as this user did: https://github.com/OpenKinect/libfreenect/pull/362#issuecomment-36455468\nSo, digging into low level programming :S \n. Sure, but where? I tried that, adding the lines in the examples (in examples/micview.c & glview.c, and of course including the cpp file). And I get compilation errors (sometimes \"unknown type name \u2018class\u2019\" , other times something about  in the header file).\nAlso, I need to know if this is a \"one time process\". I mean, flashing the audios firmware. Because if it is not, I don't see the way to use this code with Processing. \nThanks for being there. Sorry if I'm not seeing something obvious. But believe me I'm trying. \n. ",
    "lnegrol": "Hello piedar, you've been very kind. Thank you very much for your help.\nI have one question. Does this application (libfreenect v0.3.0 Nucleus) contains OpenNI2?\nExcuse me if I have done some stupid question.\nThank you very much. A greeting.\n. Hello piedar. Thank you very much for your answer.\nWhen I run \"make\":\ncd libfreenect\nmkdir build\ncd build\ncmake .. -DBUILD_OPENNI2_DRIVER=ON\nmake\nI get this:\n[ 93%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DeviceDriver.cpp.o\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:9:0,\n                 from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:21:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:111:84: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:119:85: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:128:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:154:82: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:165:81: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:175:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:21:0:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::DepthStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:92:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:99:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:106:75: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:124:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:131:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:138:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:145:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:152:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:159:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:166:78: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:173:78: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:22:0:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::ColorStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:66:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:76:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:88:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:98:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::ColorStream::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:119:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:130:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::Device::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:129:96: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::Device::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:166:94: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nEn el \u00e1mbito global:\ncc1plus: aviso: no se reconoce la opci\u00f3n de l\u00ednea de \u00f3rdenes \"-Wno-gnu-static-float-init\" [activado por defecto]\n[ 96%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/ColorStream.cpp.o\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:7:0,\n                 from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.cpp:1:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:111:84: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:119:85: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:128:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:154:82: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:165:81: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:175:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.cpp:1:0:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::ColorStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:66:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:76:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:88:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:98:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::ColorStream::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:119:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/ColorStream.hpp:130:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nEn el \u00e1mbito global:\ncc1plus: aviso: no se reconoce la opci\u00f3n de l\u00ednea de \u00f3rdenes \"-Wno-gnu-static-float-init\" [activado por defecto]\n[100%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DepthStream.cpp.o\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:9:0,\n                 from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.cpp:1:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:111:84: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:119:85: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:128:79: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::VideoStream::setProperty(int, const void*, int)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:154:82: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:165:81: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/VideoStream.hpp:175:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nIn file included from /home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.cpp:1:0:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp: En la funci\u00f3n miembro \u2018virtual OniStatus FreenectDriver::DepthStream::getProperty(int, void*, int*)\u2019:\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:92:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:99:77: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:106:75: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:124:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:131:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:138:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:145:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:152:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:159:90: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:166:78: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\n/home/jfra/Kinect/libfreenect-master/OpenNI2-FreenectDriver/src/DepthStream.hpp:173:78: aviso: formato \u2018%lu\u2019 espera un argumento de tipo \u2018long unsigned int\u2019, pero el argumento 3 es de tipo \u2018unsigned int\u2019 [-Wformat]\nEn el \u00e1mbito global:\ncc1plus: aviso: no se reconoce la opci\u00f3n de l\u00ednea de \u00f3rdenes \"-Wno-gnu-static-float-init\" [activado por defecto]\nLinking CXX shared library ../lib/OpenNI2-FreenectDriver/libFreenectDriver.so\n[100%] Built target FreenectDriver\nIs this normal?\nThank you very much. A greeting.\n. Hello piedar. Thank you very much for your answer.\nI modified all the files in the path /libfreenect-master/OpenNI2-FreenectDriver/src/. \nI changed printf to cout. For example:\nprintf(\"Unexpected size: %d != %lu\\n\", *pDataSize, sizeof(OniVideoMode));\nstd::cout << \"Unexpected size: \" << *pDataSize << \" != \" << sizeof(OniVideoMode) << std::endl;\nAs soon as I get home I try. If you want the modified files, tell me.\nOn the other hand. And this warning?\nEn el \u00e1mbito global:\ncc1plus: aviso: no se reconoce la opci\u00f3n de l\u00ednea de \u00f3rdenes \"-Wno-gnu-static-float-init\" [activado por defecto]\nI have seen the file /libfreenect-master/OpenNI2-FreenectDriver/CMakeList.txt\n```\n\nOpenNI2-FreenectDriver\n\nfile(GLOB SOURCES src/*.cpp)\nadd_library(FreenectDriver SHARED ${SOURCES})\nset(CMAKE_CXX_FLAGS \"-Wno-gnu-static-float-init -Wno-unused-function\")\nset(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/lib/OpenNI2-FreenectDriver)\nset_target_properties( FreenectDriver PROPERTIES\n  VERSION ${PROJECT_VER}\n  SOVERSION ${PROJECT_APIVER}\n  OUTPUT_NAME FreenectDriver)\ninclude_directories(extern/OpenNI-Linux-x64-2.2.0.33/Include)\ninclude_directories(${PROJECT_SOURCE_DIR}/wrappers/cpp)\ntarget_link_libraries(FreenectDriver freenectstatic ${MATH_LIB})\ninstall (TARGETS FreenectDriver\n  DESTINATION \"${PROJECT_LIBRARY_INSTALL_DIR}/OpenNI2-FreenectDriver\")\n```\nDo I have to change something? Do I need to install something?\nThank you very much. A greeting.\n. Hola piedar,\nI have tested the changes I've made on files. When I run make:\njfra@negro-L755:~/Kinect/libfreenect-master/build$ make\nScanning dependencies of target freenect\n[  3%] Building C object src/CMakeFiles/freenect.dir/core.c.o\n[  6%] Building C object src/CMakeFiles/freenect.dir/tilt.c.o\n/home/jfra/Kinect/libfreenect-master/src/tilt.c:57:12: aviso: se define \u2018tag_seq\u2019 pero no se usa [-Wunused-variable]\n[ 10%] Building C object src/CMakeFiles/freenect.dir/cameras.c.o\n[ 13%] Building C object src/CMakeFiles/freenect.dir/flags.c.o\n/home/jfra/Kinect/libfreenect-master/src/flags.c:35:1: aviso: se descarta el atributo \u2018visibility\u2019 [-Wattributes]\n[ 17%] Building C object src/CMakeFiles/freenect.dir/usb_libusb10.c.o\n[ 20%] Building C object src/CMakeFiles/freenect.dir/registration.c.o\n[ 24%] Building C object src/CMakeFiles/freenect.dir/keep_alive.c.o\nLinking C shared library ../lib/libfreenect.so\n[ 24%] Built target freenect\nScanning dependencies of target freenectstatic\n[ 27%] Building C object src/CMakeFiles/freenectstatic.dir/core.c.o\n[ 31%] Building C object src/CMakeFiles/freenectstatic.dir/tilt.c.o\n/home/jfra/Kinect/libfreenect-master/src/tilt.c:57:12: aviso: se define \u2018tag_seq\u2019 pero no se usa [-Wunused-variable]\n[ 34%] Building C object src/CMakeFiles/freenectstatic.dir/cameras.c.o\n[ 37%] Building C object src/CMakeFiles/freenectstatic.dir/flags.c.o\n/home/jfra/Kinect/libfreenect-master/src/flags.c:35:1: aviso: se descarta el atributo \u2018visibility\u2019 [-Wattributes]\n[ 41%] Building C object src/CMakeFiles/freenectstatic.dir/usb_libusb10.c.o\n[ 44%] Building C object src/CMakeFiles/freenectstatic.dir/registration.c.o\n[ 48%] Building C object src/CMakeFiles/freenectstatic.dir/keep_alive.c.o\nLinking C static library ../lib/libfreenect.a\n[ 48%] Built target freenectstatic\nScanning dependencies of target chunkview\n[ 51%] Building C object examples/CMakeFiles/chunkview.dir/chunkview.c.o\nLinking C executable ../bin/chunkview\n[ 51%] Built target chunkview\nScanning dependencies of target freenect_sync\n[ 55%] Building C object wrappers/c_sync/CMakeFiles/freenect_sync.dir/libfreenect_sync.c.o\nLinking C shared library ../../lib/libfreenect_sync.so\n[ 55%] Built target freenect_sync\nScanning dependencies of target glpclview\n[ 58%] Building C object examples/CMakeFiles/glpclview.dir/glpclview.c.o\nLinking C executable ../bin/glpclview\n[ 58%] Built target glpclview\nScanning dependencies of target glview\n[ 62%] Building C object examples/CMakeFiles/glview.dir/glview.c.o\nLinking C executable ../bin/glview\n[ 62%] Built target glview\nScanning dependencies of target hiview\n[ 65%] Building C object examples/CMakeFiles/hiview.dir/hiview.c.o\nLinking C executable ../bin/hiview\n[ 65%] Built target hiview\nScanning dependencies of target regtest\n[ 68%] Building C object examples/CMakeFiles/regtest.dir/regtest.c.o\nLinking C executable ../bin/regtest\n[ 68%] Built target regtest\nScanning dependencies of target regview\n[ 72%] Building C object examples/CMakeFiles/regview.dir/regview.c.o\nLinking C executable ../bin/regview\n[ 72%] Built target regview\nScanning dependencies of target tiltdemo\n[ 75%] Building C object examples/CMakeFiles/tiltdemo.dir/tiltdemo.c.o\nLinking C executable ../bin/tiltdemo\n[ 75%] Built target tiltdemo\nScanning dependencies of target fakenect\n[ 79%] Building C object fakenect/CMakeFiles/fakenect.dir/fakenect.c.o\nLinking C shared library ../lib/fakenect/libfreenect.so\n[ 79%] Built target fakenect\nScanning dependencies of target record\n[ 82%] Building C object fakenect/CMakeFiles/record.dir/record.c.o\nLinking C executable ../bin/record\n[ 82%] Built target record\nScanning dependencies of target freenect_sync_static\n[ 86%] Building C object wrappers/c_sync/CMakeFiles/freenect_sync_static.dir/libfreenect_sync.c.o\nLinking C static library ../../lib/libfreenect_sync.a\n[ 86%] Built target freenect_sync_static\nScanning dependencies of target cppview\n[ 89%] Building CXX object wrappers/cpp/CMakeFiles/cppview.dir/cppview.cpp.o\nLinking CXX executable ../../bin/cppview\n[ 89%] Built target cppview\nScanning dependencies of target FreenectDriver\n[ 93%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DeviceDriver.cpp.o\n[ 96%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/ColorStream.cpp.o\n[100%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DepthStream.cpp.o\nLinking CXX shared library ../lib/OpenNI2-FreenectDriver/libFreenectDriver.so\n[100%] Built target FreenectDriver\nAre these four warnings are problematic?\n/home/jfra/Kinect/libfreenect-master/src/tilt.c:57:12: aviso: se define \u2018tag_seq\u2019 pero no se usa [-Wunused-variable]\n/home/jfra/Kinect/libfreenect-master/src/flags.c:35:1: aviso: se descarta el atributo \u2018visibility\u2019 [-Wattributes]\n/home/jfra/Kinect/libfreenect-master/src/tilt.c:57:12: aviso: se define \u2018tag_seq\u2019 pero no se usa [-Wunused-variable]\n/home/jfra/Kinect/libfreenect-master/src/flags.c:35:1: aviso: se descarta el atributo \u2018visibility\u2019 [-Wattributes]\nThank you very much. A greeting.\n. Hello piedar,\nI am testing the samples of OpenNI-Linux-x86-2.2.0.33 and not run.\nFor example, the sample ClosestPointViewer show:\nUpdate failed\nUpdate failed\nUpdate failed\n...\nUpdate failed\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nThe sample SimpleViewer show:\nAfter initialization:\nand a black window, and displays nothing.\nWith the sample ClosestPointViewer and MWClosestPointApp show:\nUpdate failed\nUpdate failed\n...\nUpdate failed\nand a black windows and display nothing.\nWith the sample EventBasedRead, MultipleStreamRead and SimpleRead show data to the console. For example in SimpleRead show:\n```\n[994502409]      691\n[996504564]      687\n[998506719]      680\n[1000508874]      675\n[1002511029]      670\n[1004513184]      665\n[1006515339]      645\n[1008517494]      638\n[1010519649]      634\n[1012521804]      629\n...\n[1014523959]      625\n[1016526114]        0\n[1018528269]        0\n[1020530424]        0\n```\ntiltdemo and glview working properly.\nI don't know what happen.\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nI have run the sample ClosestPointViewer with the new changes you've done and the console show:\njfra@negro-L755:~/kinect/OpenNI-Linux-x86-2.2/Samples/Bin$ ./ClosestPointViewer \nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nUpdate failed\nUpdate failed\nUpdate failed\n...\nUpdate failed\nUpdate failed\nUpdate failed\nAnd SimpleViewer show:\n```\njfra@negro-L755:~/kinect/OpenNI-Linux-x86-2.2/Samples/Bin$ ./SimpleViewer \nAfter initialization:\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\njfra@negro-L755:~/kinect/OpenNI-Linux-x86-2.2/Samples/Bin$ \n```\nThe window shows nothing. The background is black.\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nI modified the file OpenNi.ini:\n```\n[Log]\n; 0 - Verbose; 1 - Info; 2 - Warning; 3 - Error. Default - None\nVerbosity=0\nLogToConsole=0\nLogToFile=0\n[Device]\n;Override=\"\"\n[Drivers]\n; Location of the drivers specified by a relative path based on OpenNI's shared library or an absolute path.\n; Path separator \"/\" can be used to be portable for any platforms.\n; Default - OpenNI2/Drivers\n;Repository=OpenNI2/Drivers\n```\nand I have run the sample SimpleViewer and the console only shows:\n```\njfra@negro-L755:~/kinect/OpenNI-Linux-x86-2.2/Samples/Bin$ ./SimpleViewer\nAfter initialization:\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 8eff\n[Stream 70] Invalid magic 8eff\n[Stream 70] Invalid magic 8eff\n[Stream 70] Invalid magic 90ff\n[Stream 70] Invalid magic 8fff\n[Stream 70] Invalid magic 91ff\n[Stream 70] Lost 9 packets\n[Stream 70] Lost too many packets, resyncing...\nwrite_register: 0x0047 <= 0x00\n```\nThe window shows nothing. The background is black.\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nI'm using a Toshiba Satellite L755-1J9 with the following components:\n- Intel\u00ae Core\u2122 i5-2450M (2.50 / 3.10 Turbo GHz, FSB: 1333 MHz, 3 MB Cache)\n- Samsung 16 GB (8 GB x 2) DDR3 RAM (1,333 MHz) Dual Channel\n- Samsung SSD 840 EVO 120 GB (SATA 6Gb/s compatible with 3Gb/s)\n- Toshiba SATA 640 GB 5,400 rpm\n- NVIDIA\u00ae GeForce\u00ae GT 520M with CUDA technology (1GB DDR3 VRAM)\nSince I can not work with current versions, I am working with older versions:\n- libfreenect-master\n- OpenNI2-FreenectDriver-master (libfreenect.so.0.1.2)\n- NiTE-2.0.0\n- opencv-2.4.5\nand they work correctly.\nWhat do you think?\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nI am attaching the link that contains the files that I'm working on:\n- libfreenect-master\n- OpenNI2-FreenectDriver-master (libfreenect.so.0.1.2)\n- NiTE-2.0.0\n- opencv-2.4.5\nhttps://www.dropbox.com/sh/rssnm7tbryrjpy8/Mbqd_4s2VY\nI also do not understand what may be happening.\nThank you very much. A greeting.\n. Hello piedar, thank you very much for your answer.\nCongratulations, you have found the problem. All examples work correctly.\nI can already work with:\n- libfreenect v0.4.0 Oracle (with libFreenectDriver.so.0.4.0)\n- OpenNI 2.2.0.33 Beta (Linux x86)\n- NiTE 2.2.0.11 (Linux x86)\nThank you very much. A greeting.\n. Hello,\nI have read and would like to tell you that I have installed Ubuntu 12.04.03 LTS (32 bits) in a Toshiba Satellite L755-1J9 with the following components:\n- Intel\u00ae Core\u2122 i5-2450M (2.50 / 3.10 Turbo GHz, FSB: 1333 MHz, 3 MB Cache)\n- Samsung 16 GB (8 GB x 2) DDR3 RAM (1,333 MHz) Dual Channel\n- Samsung SSD 840 EVO 120 GB (SATA 6Gb/s compatible with 3Gb/s)\n- Toshiba SATA 640 GB 5,400 rpm\n- NVIDIA\u00ae GeForce\u00ae GT 520M with CUDA technology (1GB DDR3 VRAM)\n- 2x USB 2.0 and 1x USB 3.0\nI tested the kinect works perfectly on all usb ports.\nRight now I'm busy with work, but when I have a hole, I try to install Ubuntu on a USB.\nA greeting.\n. ",
    "nicktgr15": "I did a\ngit checkout 93696487830c301dd5e0027625278d5ab4256883\nin the src directory and then \"make\" worked fine so there's something wrong with the latest code.\n. ",
    "ladislavjacho": "OK, I made several experiments on different configurations with your suggestions, there are results:\nTEST 1\nOS: ubuntu 12.04 \ninstalled on: USB stick\nconfiguration: desktop\nusb connected devices: \nkinect,usb stick(with currently booted OS), usb mouse, memory card reader    (keyboard is connected per ps2)\nDEPTH image doesnt work:\n\nRGB image works:\n\nlogs with different Verbosity levels (SimpleViewer):\nverbosity=0\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      209 INFO       New log started on 2014-02-25 14:12:32\n      249 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n      289 VERBOSE    No override device in configuration file\n      316 VERBOSE    Configuration has been read from './OpenNI.ini'\n      331 VERBOSE    OpenNI 2.2.0 (Build 33)-Linux-x86 (Nov 12 2013 16:14:38)\n      345 VERBOSE    Using './OpenNI2/Drivers' as driver path\n      358 VERBOSE    Looking for drivers in drivers repository './OpenNI2/Drivers'\n     2897 INFO       Device connected: Microsoft Kinect (freenect://0)\n     2953 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n     5122 INFO       New log started on 2014-02-25 14:12:32\n     5166 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n     5194 VERBOSE    Initializing USB...\n     5308 INFO       USB is initialized.\n    12941 INFO       New log started on 2014-02-25 14:12:32\n    12986 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n    13016 VERBOSE    Initializing USB...\n    13139 INFO       USB is initialized.\nAfter initialization:\n 21821 VERBOSE    Trying to open device by URI '(NULL)'\nverbosity=1\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      205 INFO       New log started on 2014-02-25 14:13:27\n      252 INFO       --- Filter Info --- Minimum Severity: INFO\n     2750 INFO       Device connected: Microsoft Kinect (freenect://0)\n     2795 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n     5173 INFO       New log started on 2014-02-25 14:13:27\n     5191 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n     5310 INFO       USB is initialized.\n    13175 INFO       New log started on 2014-02-25 14:13:27\n    13221 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n    13363 INFO       USB is initialized.\nAfter initialization:\nverbosity=2\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      207 INFO       New log started on 2014-02-25 14:14:31\n      249 INFO       --- Filter Info --- Minimum Severity: WARNING\nAfter initialization:\nverbosity=3\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      214 INFO       New log started on 2014-02-25 14:14:53\n      255 INFO       --- Filter Info --- Minimum Severity: ERROR\nAfter initialization:\nusb connected devices: \nkinect, usb stick(with currently booted OS), usb mouse, memory card reader, usb keyboard - can be changed with another usb stick or another usb device\nDEPTH image works:\n\nRGB image works:\n\nlogs with different Verbosity levels (SimpleViewer):\nverbosity=0\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Sples/Bin$ sudo ./SimpleViewer \n      208 INFO       New log started on 2014-02-25 14:09:24\n      254 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n      296 VERBOSE    No override device in configuration file\n      335 VERBOSE    Configuration has been read from './OpenNI.ini'\n      357 VERBOSE    OpenNI 2.2.0 (Build 33)-Linux-x86 (Nov 12 2013 16:14:38)\n      372 VERBOSE    Using './OpenNI2/Drivers' as driver path\n      386 VERBOSE    Looking for drivers in drivers repository './OpenNI2/Drivers'\n     3098 INFO       Device connected: Microsoft Kinect (freenect://0)\n     3141 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n     5354 INFO       New log started on 2014-02-25 14:09:24\n     5385 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n     5410 VERBOSE    Initializing USB...\n     5540 INFO       USB is initialized.\n    13979 INFO       New log started on 2014-02-25 14:09:24\n    14025 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n    14059 VERBOSE    Initializing USB...\n    14180 INFO       USB is initialized.\nAfter initialization:\n 20661 VERBOSE    Trying to open device by URI '(NULL)'\nverbosity=1\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      202 INFO       New log started on 2014-02-25 14:09:54\n      249 INFO       --- Filter Info --- Minimum Severity: INFO\n     2492 INFO       Device connected: Microsoft Kinect (freenect://0)\n     2520 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n     3772 INFO       New log started on 2014-02-25 14:09:54\n     3791 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n     3859 INFO       USB is initialized.\n     8353 INFO       New log started on 2014-02-25 14:09:54\n     8373 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n     8448 INFO       USB is initialized.\nAfter initialization:\nverbosity=2\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      246 INFO       New log started on 2014-02-25 14:10:16\n      291 INFO       --- Filter Info --- Minimum Severity: WARNING\nAfter initialization:\nverbosity=3\nstudent@student-ADATA:~/Desktop/kinect/OpenNI2zostranky/OpenNI-Linux-x86-2.2/Samples/Bin$ sudo ./SimpleViewer \n      203 INFO       New log started on 2014-02-25 14:10:40\n      253 INFO       --- Filter Info --- Minimum Severity: ERROR\nAfter initialization:\nTEST 2\nOS: ubuntu 12.04 \ninstalled on: USB stick\nconfiguration: netbook\nusb connected devices: \nkinect, kinect,usb stick(with currently booted OS)\nDEPTH image doesnt work:\n\nRGB works:\n\nverbosity 0 log:\n572 INFO       New log started on 2014-02-26 12:03:38\n      681 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n      797 VERBOSE    No override device in configuration file\n      872 VERBOSE    Configuration has been read from './OpenNI.ini'\n      916 VERBOSE    OpenNI 2.2.0 (Build 33)-Linux-x86 (Nov 12 2013 16:14:38)\n     1004 VERBOSE    Using './OpenNI2/Drivers' as driver path\n     1072 VERBOSE    Looking for drivers in drivers repository './OpenNI2/Drivers'\n    30841 INFO       Device connected: Microsoft Kinect (freenect://0)\n    30955 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n    91307 INFO       New log started on 2014-02-26 12:03:38\n    91393 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n    91455 VERBOSE    Initializing USB...\n    91799 INFO       USB is initialized.\n   156836 INFO       New log started on 2014-02-26 12:03:38\n   156923 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n   156988 VERBOSE    Initializing USB...\n   157412 INFO       USB is initialized.\nAfter initialization:\n198527 VERBOSE    Trying to open device by URI '(NULL)'\n[Stream 70] Expected 1748 data bytes, but got 94\nlsusb output:\nBus 001 Device 002: ID 125f:c82a A-DATA Technology Co., Ltd. \nBus 001 Device 008: ID 0409:005a NEC Corp. HighSpeed Hub\nBus 001 Device 003: ID 04f2:b26f Chicony Electronics Co., Ltd \nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 001 Device 010: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nBus 001 Device 009: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor\nBus 001 Device 011: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nusb connected devices: \nkinect, kinect,usb stick(with currently booted OS) + \"extra device\" usb harddrive\ndoesn't work neither..\nDEPTH image doesnt work:\n\nRGB works:\n\nverbosity 0 log:\n572 INFO       New log started on 2014-02-26 12:03:38\n      681 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n      797 VERBOSE    No override device in configuration file\n      872 VERBOSE    Configuration has been read from './OpenNI.ini'\n      916 VERBOSE    OpenNI 2.2.0 (Build 33)-Linux-x86 (Nov 12 2013 16:14:38)\n     1004 VERBOSE    Using './OpenNI2/Drivers' as driver path\n     1072 VERBOSE    Looking for drivers in drivers repository './OpenNI2/Drivers'\n    30841 INFO       Device connected: Microsoft Kinect (freenect://0)\n    30955 INFO       Device state changed: Microsoft Kinect (freenect://0) to 0\n    91307 INFO       New log started on 2014-02-26 12:03:38\n    91393 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n    91455 VERBOSE    Initializing USB...\n    91799 INFO       USB is initialized.\n   156836 INFO       New log started on 2014-02-26 12:03:38\n   156923 INFO       --- Filter Info --- Minimum Severity: VERBOSE\n   156988 VERBOSE    Initializing USB...\n   157412 INFO       USB is initialized.\nAfter initialization:\n198527 VERBOSE    Trying to open device by URI '(NULL)'\nlsusb output:\nBus 001 Device 002: ID 125f:c82a A-DATA Technology Co., Ltd. \nBus 001 Device 008: ID 0409:005a NEC Corp. HighSpeed Hub\nBus 001 Device 003: ID 04f2:b26f Chicony Electronics Co., Ltd \nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 001 Device 010: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nBus 001 Device 009: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor\nBus 001 Device 011: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nthank you for your help, I would be glad if you could join me per teamviewer for example to find out more.. if needed. Thank you one more time! :+1:  \nhope that this exhaustive comment  will be helpfull for more people and we will solve this strange issue..\n. Thank you for quick answer.\nThis problem is partially solved because I can get it working with your advise but it still matters how many usb devices are connected - really don't know why.  \nI took updated source and build freenect when these usb devices were connected:\nkinect, usb stick, usb keyboard, usb mouse\nOS booted from SATA harddrive - ubuntu 13.04 32-bit.\ndepth map didn't work. If I disconnect 2 devices - it doesn't matter which ones - it works. I have to disconnect two. - I can't work with kinect with anything over count of 2 devices (e.g. one usb stick) connected. \nIf I connect kinect alone and disconnect all devices - it doesn't work neither. - 2 must be connected.\nkind of disappointment..\nIn my opinion - there could be a problem in managing usb devices from OS's side (libusb?), or OpenNI (I tried several releases with same results - I am using OpenNI 2.2.0.33 Beta - release I forgot to mention), couldn't it?\nI would like to say it's not a problem of freenect essentially..\nIs there anything I should try? \n. 1. Yes, kinect is plugged for sure.\n2. There are logfiles and here is conclusion:\n   (OpenNI2 from webside + latest libfreenect)\n| output file | number of usb devices (kinect isn't involved in count) | works? | WriteMessage appeared? |\n| :-- | --: | :-: | :-: |\n| output.txt | 0 | yes | yes |\n| output-1more.txt | 1 | yes | yes |\n| output-2more.txt | 2 | yes | yes |\n| output-3more.txt | 3 | no | yes |\n| output-4more.txt | 4 | no | yes |\nIt seems it is really random!\nI have possibility to try it on more computers, with 2 different kinect devices.. I tried several releases and also source from github for both - freenect and OpenNI2. Ubuntu OS booted from usb stick (because of my need - portability)/HDD. And it's still random.. one should say I am mad (lol) but I really wonder why anybody is not complaining about this strange thing..\n...so do you think freenect is good, and OpenNI2 is bad? What's your conclusion?\n. I appreciate your interest in my issue a lot. As I said anybody else is not complaining.. You couldn't  replicate it and I can everytime I want.. I am open to resolve it and help how I can.  Anyway enjoy your vacation and then we could back to business! Just let me know.. I will write personal message.\n. thank you very much, I will give it a try in next few days!\n. Excuse me very long without response but I have found time to answer finally. Problem is gone and I can't reproduce it with versions since libfreenect v0.4.1 Passenger. One more time thank you for interest and appropriate help. GJ :+1: \n. ",
    "Blinky0815": "Sounds like a good plan!\n. Interestingly, it works with my other Kinect. The non-working kinect, however, tilts fine when connected to my xbox360.\n. ",
    "CSV-Tom": "I have the same problem with OpenNI2.2 and Nite2.2 on Ubuntu x64. \n. ",
    "Queuecumber": "Steps to reproduce:\nUsing Ubuntu 13.10 x64\n1. Checkout and build libfreenect\n2. Download NiTE 2.2 (http://www.openni.org/files/nite/?count=1&download=http://www.openni.org/wp-content/uploads/2013/10/NiTE-Linux-x64-2.2.tar1.zip) (just to be clear it comes with OpenNI)\n3. Unpack NiTE to some directory\n4. Copy all three .so files from <freenect-build-directory>/lib/OpenNI2-FreenectDriver to <NiteDirectory>/Samples/Bin/OpenNI2/Driver\n5. Run <NiteDirectory>/Samples/Bin/HandViewer\n6. Wave your hands frantically in an attempt to make it see you and scratch your head as UserViewer in the same directory works just fine\n. ",
    "bluec0re": "Same for Arch Linux x64. I would try to fix this, but I have currently no clues where I actually have to search for it.\n. I've noticed that the gesture detection isn't working for WAVE and CLICK. If I use the hand raising gesture (which seems to has a high false positive rate), everything seems fine:\nhttps://github.com/bluec0re/kinect_pong/commit/987af83e893c07bc429a53f5a9703044b6a80a96\n. ",
    "Sylvain00": "I also got the same problem (and it is now solved).\nActually, some of the Kinects (the most recent apparently) control the tilt, leds, and accelerometer via the audio device (on the older ones, I think it is via the camera device).\nIn libfreenect, there is a preprocessor option called BUILD_AUDIO, which must be set at compile time to allow handling tilt/led/acceleration on those devices. Note that libfreenect will most likely (I haven't checked it works, but I have seen some code handling this) check if it shoud use the audio or camera device to handle tilt/led/acceleration.\nSolution : before compiling libfreenect, edit the \"CMakeLists.txt\", and replace the line :\nOPTION(BUILD_AUDIO \"Build audio support\" OFF)\nwith\nOPTION(BUILD_AUDIO \"Build audio support\" ON)\n. It seems quite many people encouter this problem.\nCould you please either indicate this option in compilation instructions, or set the BUILD_AUDIO option on by default (as libfreenect seems to check at run time whether it should use the audio or camera device) ?\n. Alright !\nBut as long as it is not yet in place, could you please mention the BUILD_AUDIO option in the build instructions ?\n(https://github.com/OpenKinect/libfreenect, under Fetch & Build)\nI think it can help some (or maybe a lot of) people ;)\n. Thank you :)\n. ",
    "RCP1": "Sry guys to pick this up again,\nI try desperatly since two weeks to set my Kinect model 1473 in Ubuntu 13.04 armhf on an UDOO Quad up. FIrst I installed ROS hydro (http://wiki.ros.org/hydro/Installation/UDOO), then I tried their ros-hydro-openni_launch and _camera packages, which recognize the camera device with ID 000000000, but do not publish any data on their /camera nodes (LED also still blinks, but atleast the IR camera starts if I want to see a depthimage via image_view).\nAfter that I tried the package ros-hydro-freenect_stack packages, which did not work at all, so typical \"device could not opened\"... \nNow I found this little gem and removed the freenect_stack packages and libraries, cloned the git rep of libfreenect 0.5.1 and builded it manually. With that configuration the regview worked, although slowly and with losing messages (LED still blinking), but the rest of the examples show:\n \"could not open audio: -1 Failed to open motor suddevice or it is not disabled. Failed to open audio subdevice or it is not disabled. Could not open device\"\nFinally I found this hidden option of building a non_redistributable version with audio support, so I removed again libfreenect from the system, edited the line in CMakeLists.txt to OFF, and rebuilt it. It downloaded the firmware update, wrote some audio.bin I think, and then I tried glview again from the bin dir and still the same message as before:\n \"could not open audio: -1 Failed to open motor suddevice or it is not disabled. Failed to open audio subdevice or it is not disabled. Could not open device\"\nNow I dont know how to go any further, can you help me?\nI only want to use the rgb and depth camera, the best would be as a ros node? Is that possible with Model 1473? Do I need maybe Indigo? Or should I write my own ros node based on the regview-example?\nThanks in advance!\n. ",
    "feidong0302": "In my model 1473 Kinect under ubuntu 14.04, in addition that using files from https://github.com/openframeworks/openFrameworks/tree/master/addons/ofxKinect/src/extra, src/usb_libusb10.c should be modified as followings, or else libusb_open function return -1 after calling libusb_reset_device(audioHandle) and libusb_close(audioHandle).\nlibusb_device_handle * audioHandle = NULL;\nres = libusb_open(audioDevice, &audioHandle);\nif (res != 0)\n{\n     // we need to do this as it is possible that the device was not closed properly in a previous session\n    // if we don't do this and the device wasn't closed properly - it can cause infinite hangs on LED and TILT functions\n    libusb_reset_device(audioHandle);\n    libusb_close(audioHandle);\n    res = libusb_open(audioDevice, &audioHandle);                                                      \n}\nif (res != 0)\n{                       \n    FN_ERROR(\"Failed to set the LED of K4W or 1473 device: %d\\n\", res);\n}\nelse\n{\n    #if 0   \n    // we need to do this as it is possible that the device was not closed properly in a previous session\n    // if we don't do this and the device wasn't closed properly - it can cause infinite hangs on LED and TILT functions\n    libusb_reset_device(audioHandle);\n    libusb_close(audioHandle);\n    res = libusb_open(audioDevice, &audioHandle);\n    #endif\n    if (res == 0)\n    {\n. ",
    "hudongrui": "\nIf you have model 1473 Kinect you will need to upload the audio firmware to the device on startup.\nThe easiest way to do this is by grabbing these files: https://github.com/openframeworks/openFrameworks/tree/master/addons/ofxKinect/src/extra\nand call:\nfreenect_set_fw_address_nui(kinectContext, ofxKinectExtras::getFWData1473(), ofxKinectExtras::getFWSize1473());\nfreenect_set_fw_address_k4w(kinectContext, ofxKinectExtras::getFWDatak4w(), ofxKinectExtras::getFWSizek4w());\nafter freenect_init\nThe motor controls for 1473 are done via the audio device. So once this firmware is uploaded you can do normal motor and led controls as with the older 1414 Kinect.\n\nHi ofTheo, \nI'm experiencing the same issue when running example codes provided by libfreenect, and trying to follow your instructions to fix. I am a bit confused about the step to call the two functions after freenect_init(). Where or in what files is freenect_init() called?\nI'd really appreciate your help.. ",
    "OscardR": "Hi @piedar, thanks for your support. Effectively, I'm using FORTH's Kinect 3D Hand Tracking Library which makes use of OpenNI2, but I'm using the latest version of OpenNI2 (2.2.33). It seems the library was written using an early version, but since I don't have access to the library's code, I think I will not be able to use libFreenectDriver with it :(\n. Hi @piedar, I've tried adding the ONI_C_API_EXPORT line, recompiling successfully, but I keep getting the same error message that this function cannot be found in libFreenectDriver :(\nI'm afraid I will have to use an old version of OpenNI2 and use the code from that function, but I have no idea how that function works or what it does.\nThanks anyway, I'll post any updates.\n. ",
    "luizvnasc": "@OscardR I had the same problem here, but I built again the library, now I'm having segmentation fault. I run a debugger and I'm getting this msg:\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007fffd21669d6 in FreenectDeviceNI::setProperty(int, void const*, int) ()\n   from /opt/HandTracker_0.4_linux_x64/Bin/OpenNI2/Drivers/libFreenectDriver.so\n. ",
    "paolo-scoppola": "Thanks very much Piedar, \nI think there is some error in your (new) CMakeLists.txt. After typing \"cmake -L ..\" I get this:\nCMake Error: Error in cmake code at\n/Users/Paolo/Desktop/libfreenect-osx-absolute/OpenNI2-FreenectDriver/CMakeLists.txt:35:\nParse error.  Function missing ending \")\".  End of file reached.\n-- Configuring incomplete, errors occurred!\n. Sorry, I didn't understand I had to remove comments\n. Yes it works. libFreenectDriver.0.4.1.dylib doesn't contain any full path. I also change INSTALL_NAME_DIR and the path to libusb to fit my project requirements and everything works.\nNow I'm testing grab performance by combining (Xtion, Kinect) with (OpenNI 1.5.7, OpenNI 2.2, OpenKinect). My app (i386) runs on OSX 10.9 , with libusb 1.0.18. I don't see differences when I enable the libFreenectDriver, but I'm just started today. \n. ",
    "hellocatfood": "Yes, I do get similar results. I can run freenect-glview from the building directory but if I do \"make install\" it appears that the lib folder isn't copied over and isn't found, hence reporting the bug\n. Possibly! Could this be patched or instructions for Ubuntu users added to the README file?\n. ",
    "sener07": "Hi, i am trying to use kinect model 1517 but i am having some problems, can i ask you which steps did you followed installing kinect ? Also my error is may be you know something.\n$ freenect-glview\nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\nFound sibling device [same parent]\nCould not open device: -1\nCould not open device\nThank you.\n. Yes i dont need an audio on my project but i tried your suggest but still\nnot working\n$ freenect-camtest gives me this output\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\n[Stream 70] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n9 Eki 2017 Pzt, saat 17:27 tarihinde piedar notifications@github.com \u015funu\nyazd\u0131:\n\n@sener07 https://github.com/sener07 freenect-glview demands the MOTOR\ndevice, which needs AUDIO on that model. Audio is a pain to make work; if\nyou don't need it try freenect-camtest instead and use only CAMERA in\nyour own program.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/385#issuecomment-335174663,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AZC_e6Y45CBo0bgZ7vkvNZhiVw8IhZK3ks5sqi0-gaJpZM4B08N1\n.\n. Thank you very much, and i am also have the model 1517 maybe the problem is\nbecause of the model but i didnt find a version for this model\n\n11 Eki 2017 \u00c7ar, saat 01:17 tarihinde piedar notifications@github.com\n\u015funu yazd\u0131:\n\n@sener07 https://github.com/sener07 Looks like the keepalive workaround\nis failing due to missing firmware. I'm going to look at improving that\nsituation soon (#408\nhttps://github.com/OpenKinect/libfreenect/issues/408).\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/385#issuecomment-335624740,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AZC_eweCiesZlViofL5LcciZ8Kr9uqd5ks5sq-z1gaJpZM4B08N1\n.\n. \n",
    "alexander-hagg": "This is the output on my system, pressing e four times, then b four times.\nread_cmos_register: 0x0106 => 0x7fff\nwrite_cmos_register: 0x0106 <= 0x7fff\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x00\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x4000\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x00\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x02\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x00\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x02\nread_cmos_register: 0x0106 => 0x0000\nwrite_cmos_register: 0x0106 <= 0x00\n. It is a 1473 model\n. And by the way, I did a manual install (using http://openkinect.org/wiki/Getting_Started#Ubuntu_Manual_Install) to get the Kinect model to work with Freenect. \n. ",
    "usama-ghufran": "Hey, has this issue been resolved? Can we control the exposure, colour correction and white balance of the kinect with the latest release? \n. ",
    "Masterxilo": "I think exposure, white-balance and colour correction can only be controlled with \"Kinect for Windows\" devices, not with vanilla XBox 360 devices.. ",
    "gb2111": "hi. is this possible ? can I set exposure on kinect 360 verison for Xbox ?\nThanks in advance.. ",
    "atzkey": "@piedar Your guess is right, that was the main point of the fix. And the other part (regarding python dependency syntax) is just the consequence of the fact that the DEPEND block has never been taken into account by portage, so that the syntax error hid there unnoticed.\n. ",
    "uberbruns": "The only example I can run successfully is the freenect-tiltdemo. All other examples seem to need a display, but I don't have one.\n. I just built and installed libusb from https://github.com/libusb/libusb \u2013 No luck.\n. Okay. And I'll try to make a bootable USB Drive with the same OS in the next few days. \n. Maybe \u2013 but I dont think so. What should I try? Build it with or without?\n. No luck with v0.4.1 either \u2026\n```\n./SimpleRead\nOpenNI2-FreenectDriver: Using libfreenect v0.4.1\nOpenNI2-FreenectDriver: Found device freenect://0\nOpenNI2-FreenectDriver: Opening device freenect://0\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 70] Lost 7 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 15 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 21 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 28 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 35 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 43 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 51 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 58 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 66 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 74 total packets in 0 frames (inf lppf)\n```\n. Building with Audio-Support didn't change the result.\n. > Did you figure out what the problem was?\nSadly no.. ",
    "olzhas": "To this date, I checked the code with 4 Kinect for Windows and it worked. \nI have a question, is it sufficient or I have to check it more thoroughly some how?\n. Good catch, I checked if it works with hub check only, and it worked, but I will check it more and if it works fine I will remove the port verification.\n. ",
    "mecwerks": "Still shows\nStream 70] Lost 1 packets\n[Stream 70] Lost 3033 total packets in 5 frames (606.599976 lppf)\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 80] Lost 2151 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 2153 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 2154 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 2155 total packets in 0 frames (inf lppf)\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Expected 1748 data bytes, but got 948\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 9 packets\n[Stream 70] Lost 3042 total packets in 5 frames (608.400024 lppf)\n[Stream 70] Lost too many packets, resyncing...\n[Stream 70] Invalid magic e37c\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic 6a4d\n[Stream 70] Invalid magic a6d4\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 80] Lost 2159 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 2174 total packets in 0 frames (inf lppf)\n. actually now I'm getting this:\nIsochronous transfer error: 6\n[Stream 70] Lost 3282 total packets in 1 frames (3282.000000 lppf)\n[Stream 70] Lost 3283 total packets in 1 frames (3283.000000 lppf)\n[Stream 70] Lost 3286 total packets in 1 frames (3286.000000 lppf)\n[Stream 70] Lost 3287 total packets in 1 frames (3287.000000 lppf)\n[Stream 70] Lost 3289 total packets in 1 frames (3289.000000 lppf)\n[Stream 70] Lost 3290 total packets in 1 frames (3290.000000 lppf)\n[Stream 70] Lost 3293 total packets in 1 frames (3293.000000 lppf)\n[Stream 70] Lost 3294 total packets in 1 frames (3294.000000 lppf)\n[Stream 70] Lost 3296 total packets in 1 frames (3296.000000 lppf)\n[Stream 70] Lost 3299 total packets in 1 frames (3299.000000 lppf)\n[Stream 80] Lost 3484 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3487 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3489 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3492 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3494 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3497 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3500 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3502 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3505 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3509 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 3515 total packets in 0 frames (inf lppf)\n[Stream 70] Lost 3300 total packets in 1 frames (3300.000000 lppf)\n[Stream 70] Lost 3301 total packets in 1 frames (3301.000000 lppf)\n. I think it may be something with my computer because the kinect works with the Xbox but when i try to use libfreenect or Delicode's NI-MATE it fails to start up, the kinect also only registers in 1 USB port, and it doesn't work on Windows 7 with BOOTCAMP and Microsoft Kinect SDK\n. ",
    "micuat": "@piedar I'm having exactly the same issue with OSX 10.9.5. I tried both the master branch and v0.4.1 but neither works. I also tried building with audio and changing XFER parameters, but the output is the same.\nI don't understand but openFrameworks (0.8.4 release)'s libfreenect works fine with the same environment.\n. ",
    "SiggyF": "I got this error due to an old version of libusb found by cmake. Once I manually told cmake where to find libusb 1.0.21 it was solved for me. . ",
    "jturcotte": "Alright, I just updated the branch with a signed-off commit.\n. ",
    "silaic": "i have changed the value of #defines using 32 - 6, 32 -8, 16 -16, and seems using decreasing the PKTS_PER_XFER it lose less packets, but the problem is still present...\n. then... \nusing 0.4.3\nand...\ndefine PKTS_PER_XFER 64\ndefine NUM_XFERS 4\ni got...\nL thread\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\n[Stream 70] Invalid magic 9f5b\n[Stream 70] Invalid magic ffff\n[Stream 70] Invalid magic ffff\n[Stream 70] Lost 3 packets\n[Stream 70] Lost 3 total packets in 10 frames (0.300000 lppf)\n[Stream 70] Lost 3 packets\n[Stream 70] Lost 6 total packets in 10 frames (0.600000 lppf)\n[Stream 70] Inconsistent flag 75 with 238 packets in buf (242 total), resyncing...\nwrite_register: 0x0047 <= 0x00\n'w' - tilt up, 's' - level, 'x' - tilt down, '0'-'6' - select LED mode\n'f' - change video format, 'm' - mirror video, 'o' - rotate video with accelerometer\n'e' - auto exposure, 'b' - white balance, 'r' - raw color\n[Stream 70] Invalid magic 3ca7\n[Stream 70] Invalid magic aab5\n[Stream 70] Invalid magic dd5b\n[Stream 70] Lost 3 packets\n[Stream 70] Lost 9 total packets in 39 frames (0.230769 lppf)\n[Stream 70] Lost 3 packets\n[Stream 70] Lost 12 total packets in 39 frames (0.307692 lppf)\n[Stream 70] Inconsistent flag 75 with 239 packets in buf (242 total), resyncing...\n raw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000\nraw acceleration:    0    0    0  mks acceleration: 0.000000 0.000000 0.000000Got cancelled transfer, but we didn't request it - device disconnected?\nUSB camera marked dead, stopping streams\nwrite_register: 0x0005 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: send_cmd() returned -4\nwrite_register: 0x0006 <= 0x00\nsend_cmd: Output control transfer failed (-4)\nwrite_register: send_cmd() returned -4\nshutting down streams...\n-- done!\n. same using...\ndefine PKTS_PER_XFER 32\ndefine NUM_XFERS 6\n. i have got a xbox 1473 but still experiencing the same problem...\nusing Nite2 and openni2 on freenect 0.4.1 used as driver stop tracking skeleton after 70 seconds and restart the calibration...\nany suggestions? someone have same issue? \n. i partially solved the problem.\ni changed params to\ndefine PKTS_PER_XFER 32\ndefine NUM_XFERS 6\nchanged the CMakeLists.txt adding the AUDIO support\n- OPTION(BUILD_AUDIO \"Build audio support\" ON)\n  then make\ncopied audios.bin inside the build/bin folder\nthen i have experienced that the problem of packet loss and invalid magic was generated by my external monitors, i have one plugged in the HDMI port and another to the thunderbolt port.\nunplugging the external monitors, the example freenect-glview works fine.\nstill idk why the plugged in monitors create the issue.\n. yes i find\u2026\nbut i developed\u2026 a osx daemon wich solve the issue\nis just a work around but solve the problem..\nneed some develop into library to do this..\nbut i could upload the entire project of daemon.\nlet me know if you would like.\nbut i don\u2019t have time for maintenance..\nOn 17 Apr 2015, at 01:10, June(Jun) Guo notifications@github.com wrote:\n\nHi sllalc,\nDid you find the solution to stop automatic re-calibration of NiTE2? Thank you!\n\u2014\nReply to this email directly or view it on GitHub.\n. Tomorrow i will send you.the.c++ project with.xcode proj file and how\nconfig the daemon.\nOr would you like only the compiled daemon plus instructions?\nIl giorno 17/apr/2015 01:21, \"June(Jun) Guo\" notifications@github.com ha\nscritto:\nSure! I'd love to try it. Thank you so so much!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/402#issuecomment-93861005\n.\n. \n",
    "Anixxx": "with Libusbk , i get the error\nand with  libusb-win32 just \" kinect camera test    Number of devices found :1 \"  but no stream\n. you need to control  the USb driver and Kinect version\nDate: Wed, 17 Dec 2014 13:23:14 -0800\nFrom: notifications@github.com\nTo: libfreenect@noreply.github.com\nCC: rimka-de113@hotmail.com\nSubject: Re: [libfreenect] failed to submit isochronous transfer x :-12 (#405)\nIf you've got freenect-glview running on Windows, you're ahead of me...\nI don't know why it keeps trying when actual_len == 0x200.\nint actual_len;\ndo {\n    actual_len = fnusb_control(&dev->usb_cam, 0xc0, 0, 0, 0, ibuf, 0x200);\n    FN_FLOOD(\"send_cmd: actual length = %d\\n\", actual_len);\n} while ((actual_len == 0) || (actual_len == 0x200));\nFN_SPEW(\"Control reply: %d\\n\", res);\nif (actual_len < (int)sizeof(_rhdr)) {\n    FN_ERROR(\"send_cmd: Input control transfer failed (%d)\\n\", res);\n    return res;\n}\nactual_len -= sizeof(_rhdr);\nIf you take out that condition, does it then run normally?\n\u2014\nReply to this email directly or view it on GitHub.\n=\n. you need to control the USb driver and  Kinect version\nDate: Wed, 17 Dec 2014 09:44:52 -0800\nFrom: notifications@github.com\nTo: libfreenect@noreply.github.com\nCC: rimka-de113@hotmail.com\nSubject: Re: [libfreenect] failed to submit isochronous transfer x :-12 (#405)\nI've the same problem - turning on FREENECT_LOG_FLOOD shows\nthat its looping in the first send_cmd:\nKinect camera test\nNumber of devices found: 1\nuser device num: 0\nabout to open device\nsend_cmd: cmd=0016 tag=0000 len=000a: 18\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\nsend_cmd: actual length = 512\n...\n\u2014\nReply to this email directly or view it on GitHub.\n=\n. ",
    "LennardF1989": "@piedar Having applied the patch today (Windows 7, 64-bit, but libfreenect compiled for 32-bit), I'm getting a \"Isochronous transfer error: 1\". I had to resolve conflicts with Josh his patch, so did a recent change to master break more than that perhaps? Or is this a driver issue?\n. @piedar I recompiled the library with the warning disabled and indeed noticed that even though the first try always fails, the \"just try again\" thing always succeeds.\nHowever, I'm not getting any readings whatsoever. I can move it up and down, toggle the led, but anything that should produce a visual is simply black.\n. Just tested the Kinect on my Xbox 360 to ensure it's not broken, it really works. I then repeated all the steps on another PC which is a Windows 10, 64-bit. Instead of an old Glut, I even used FreeGlut right now. I simply don't get any visuals.\n. @JoshBlake @piedar Dove into it a little, it really seems like the iso_callback is doing something weird. The line you highlighted submits the transfer-request again, which succeeds, but upon next call to the iso_callback, it will simply be 1 again. \nI'm suspecting Josh his patch no longer works, even though it merges fine. Kinda at loss how to solve this now... maybe anyone else on Windows can confirm it either works or doesn't for them?\n. ",
    "Kellen-dotdotflow": "To anyone who might run into this issue, using https://zadig.akeo.ie/ to install the drivers worked for me.\nJust make sure you select the libusbK drivers from the driver menu. \nYou may need to make sure Options>>List All Devices is selected before you'll see your kinect ( and make sure it's plugged in and powered up for this). \nIt's kinda hard to see the little selection arrows, but they're there. It'll start out with the WinUSB driver selected, just change it to the libusbK driver and install for motor, camera, and audio.\nThat got rid of my \"failed to submit isochronous transfer 0 :-12\" problem. \nHope this helps someone.. ",
    "millelog": "Having the exact same issue on the same platform. Bump.\n. ",
    "ruuns": "For your information: i have tested this on kinect model 1414 :]\n. ",
    "Szalacinski": "Should it issue a warning, or should it terminate the program when the error is found?. ",
    "nassosoassos": "thanks, that worked.\n. ",
    "everm1nd": "@jamiebullock there is a C# wrapper in /wrappers directory\n. ",
    "ashokbugude": "Hi  jamiebullock\nIf you have done in Linux,\nwere you able to run any code in unity using the C# wrapper ?If yes , could you pls tell how to run the basic code like what all files to include in the unity project ?\n. ",
    "yotamaz": "Thank but\nI tried it already\nlibusb-1.0.19 already installed\n. i'm also tried to reinstall\n. i'm try Install manually the limbs and i get:\nyotam-azriels-MacBook-Pro:libusb yotamazriel$ patch -p1 < ../libfreenect/platform/osx/libusb-osx-kinect.diff\n-bash: ../libfreenect/platform/osx/libusb-osx-kinect.diff: No such file or directory\n. yotam-azriels-MacBook-Pro:python yotamazriel$ brew install libusb\nWarning: libusb-1.0.19 already installed, it's just not linked\nCan anyone help me with this??^^ ^^ ^^^?\nthnx\n. ",
    "parkerlreed": "325\n. Maybe device IDs just have to be updated? That model seems to be the one made for PC use. \nOn a side note: Does that model have the same orange proprietary adapter? I have the cheap inline power + USB cable from Amazon for my Xbox 360 Kinect. Been thinking about getting another. If 1517 has regular USB and power input I may just do that.\nEDIT: Ahh it just comes with its own adapter. Cool.\nEDIT2: I have seen some K4W mentions in some of the examples. You might want to try latest git and see if it works. https://github.com/OpenKinect/libfreenect/search?utf8=%E2%9C%93&q=k4w\n. https://github.com/joaquimrocha/Skeltrack\nBe sure to install GFreenect before Skeltrack https://github.com/elima/GFreenect\nOnce Skeltrack is compiled run the kinect binary in the examples folder\n. Check to see if your user is in the plugdev group\ngroups\nIf not add your user\nusermod -a -G plugdev username\nThen logout and back in \n. I tried modifying the request line as mentioned and it still bails out shortly after in the compile. Not sure if it actually pulled the firmware or not.\nEDIT: I manually placed SystemUpdate.zip in the top level source directory and under src/. This got me by the xbox.com error but now it errors out for a completely different reason.\n==> Making package: libfreenect-git v0.5.3.r21.gafcc53d-1 (Wed May 18 09:30:02 EDT 2016)\n==> Checking runtime dependencies...\n==> Checking buildtime dependencies...\n==> Retrieving sources...\n  -> Updating libfreenect-git git repo...\nFetching origin\n==> Validating source files with md5sums...\n    libfreenect-git ... Skipped\n==> Extracting sources...\n  -> Creating working copy of libfreenect git repo...\nReset branch 'makepkg'\n==> Starting pkgver()...\n==> Removing existing $pkgdir/ directory...\n==> Starting build()...\n-- Operating system is Linux\n-- Got System Processor x86_64\n-- Linux x86_64 Detected\n-- libfreenect will be installed to /usr\n-- Headers will be installed to /usr/include/libfreenect\n-- Libraries will be installed to /usr/lib\n-- Found libusb-1.0:\n--  - Includes: /usr/include/libusb-1.0\n--  - Libraries: /usr/lib64/libusb-1.0.so\n-- Found PythonInterp: /usr/bin/python2 (found version \"2.7.11\") \n-- Found PythonLibs: /usr/lib64/libpython2.7.so (found version \"2.7.11\") \n-- Found PythonInterp: /usr/bin/python3 (found version \"3.5.1\") \n-- Found PythonLibs: /usr/lib64/libpython3.so (found version \"3.5.1\") \n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/parker/build/libfreenect-git/src/libfreenect-git\n[  3%] Built target fakenect\n[ 18%] Built target freenectstatic\n[ 33%] Built target freenect\n[ 36%] Built target freenect-glview\n[ 40%] Built target freenect-regview\n[ 43%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DepthStream.cpp.o\n[ 45%] Built target freenect-micview\n[ 48%] Built target freenect-wavrecord\n[ 51%] Built target freenect_sync\n[ 55%] Built target freenect-camtest\n[ 58%] Built target freenect-hiview\nAlready have audios.bin\n[ 61%] Built target freenect-chunkview\n[ 63%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DeviceDriver.cpp.o\n[ 66%] Built target freenect-regtest\n[ 70%] Built target freenect-tiltdemo\n[ 73%] Built target freenect_sync_static\n[ 73%] Built target firmware\n[ 76%] Built target fakenect-record\n[ 80%] Built target freenect-cppview\n[ 81%] Building CXX object OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/ColorStream.cpp.o\n[ 85%] Built target freenect-cpp_pcview\n[ 90%] Built target cython2_freenect\n[ 93%] Built target freenect-glpclview\n[ 98%] Built target cython3_freenect\nIn file included from /home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:22:0:\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:20:55: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::DIAGONAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float DIAGONAL_FOV = 70 * (M_PI / 180);\n                                                       ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:21:59: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::HORIZONTAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float HORIZONTAL_FOV = 58.5 * (M_PI / 180);\n                                                           ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:22:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::VERTICAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float VERTICAL_FOV = 45.6 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:31:53: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const double FreenectDriver::DepthStream::ZERO_PLANE_PIXEL_SIZE_VAL\u2019 of non-integral type [-fpermissive]\n     static const double ZERO_PLANE_PIXEL_SIZE_VAL = 0.10520000010728836;\n                                                     ^~~~~~~~~~~~~~~~~~~\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:32:54: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const double FreenectDriver::DepthStream::EMITTER_DCMOS_DISTANCE_VAL\u2019 of non-integral type [-fpermissive]\n     static const double EMITTER_DCMOS_DISTANCE_VAL = 7.5;\n                                                      ^~~\nIn file included from /home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DeviceDriver.cpp:23:0:\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:16:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::DIAGONAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float DIAGONAL_FOV = 73.9 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:17:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::HORIZONTAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float HORIZONTAL_FOV = 62 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:18:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::VERTICAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float VERTICAL_FOV = 48.6 * (M_PI / 180);\n                                                         ^\nIn file included from /home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.cpp:2:0:\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:16:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::DIAGONAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float DIAGONAL_FOV = 73.9 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:17:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::HORIZONTAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float HORIZONTAL_FOV = 62 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/ColorStream.hpp:18:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::ColorStream::VERTICAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float VERTICAL_FOV = 48.6 * (M_PI / 180);\n                                                         ^\nIn file included from /home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.cpp:2:0:\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:20:55: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::DIAGONAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float DIAGONAL_FOV = 70 * (M_PI / 180);\n                                                       ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:21:59: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::HORIZONTAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float HORIZONTAL_FOV = 58.5 * (M_PI / 180);\n                                                           ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:22:57: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const float FreenectDriver::DepthStream::VERTICAL_FOV\u2019 of non-integral type [-fpermissive]\n     static const float VERTICAL_FOV = 45.6 * (M_PI / 180);\n                                                         ^\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:31:53: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const double FreenectDriver::DepthStream::ZERO_PLANE_PIXEL_SIZE_VAL\u2019 of non-integral type [-fpermissive]\n     static const double ZERO_PLANE_PIXEL_SIZE_VAL = 0.10520000010728836;\n                                                     ^~~~~~~~~~~~~~~~~~~\n/home/parker/build/libfreenect-git/src/libfreenect-git/OpenNI2-FreenectDriver/src/DepthStream.hpp:32:54: error: \u2018constexpr\u2019 needed for in-class initialization of static data member \u2018const double FreenectDriver::DepthStream::EMITTER_DCMOS_DISTANCE_VAL\u2019 of non-integral type [-fpermissive]\n     static const double EMITTER_DCMOS_DISTANCE_VAL = 7.5;\n                                                      ^~~\nOpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/build.make:86: recipe for target 'OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DeviceDriver.cpp.o' failed\nmake[2]: *** [OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DeviceDriver.cpp.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nOpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/build.make:110: recipe for target 'OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/ColorStream.cpp.o' failed\nmake[2]: *** [OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/ColorStream.cpp.o] Error 1\nOpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/build.make:62: recipe for target 'OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DepthStream.cpp.o' failed\nmake[2]: *** [OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/src/DepthStream.cpp.o] Error 1\nCMakeFiles/Makefile2:1037: recipe for target 'OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/all' failed\nmake[1]: *** [OpenNI2-FreenectDriver/CMakeFiles/FreenectDriver.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2\n==> ERROR: A failure occurred in build().\n    Aborting...\n. Sweet after the latest commit and this it worked great!\n. Just realized this is most likely a dup of #469 \n. Cheers! Compiled successfully.\n. Not sure if related but micview doesn't exit gracefully after making that change (UI freezes and have to kill -9 the process). Line 79 of wavrecord.c also has to be changed to avoid the same segfault.. Found the fix. Python no longer accepts a comma in except statements (for quite a while now)\nhttps://github.com/OpenKinect/libfreenect/blob/master/src/fwfetcher.py#L529\nand\nhttps://github.com/OpenKinect/libfreenect/blob/master/src/fwfetcher.py#L534\nneed the comma replaced with as. Woohoo! Thanks to you too. Keep up the great work :D . ",
    "dfamil": "hi\nfreenect-glview works fine it is the SimpleView is in the openni2 sample folder. I am using a 2010 mac pro so speed sold not  be a issue.\nd\n. hi\nthere is another issue that i discovered starting with 10.9 the headers are no longer part of glut or opengl frameworks. They are in the sdks in the application: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/GLUT.framework\nwhen do you think you will have the ir stream working with the kinect?\n. hi\nyes i did get a error i had to enter the correct path after the error showed up in the buiild file(forgot what it was called)\ni meant the OpenNI2-FreenectDriver. I am using Openframeworks so from that theo states you can;t both have the ofxKinect installed and OpenNI. I am not sure if this applies to OpenNI2 which uses a different FreenectDriver than the base ofkKinect. \nd\n. hi ben\ni guess i am confused i thought that glview uses the ibfreenect.dylib.\nwhile openni2 uses ibfreenectDriver.dylib\nthis is what is wirtten in the ofcNI2  addon  \n//  if (ir.setup(*device)) // only for xtion device (OpenNI2-FreenectDriver issue)\n//  {\n//      ir.setSize(320, 240);\n//      ir.setFps(30);\n//      ir.start();\n//  }\n. ",
    "zhumxcq": "Hey its cmd 0x0015, I'm not sure how to do a pull request properly, but \nbasically I want to add a function like\nfreenect_set_ir_brightness(uint8_t brightness) to the library header.\nOn 15-01-12 10:22 AM, Benn Snyder wrote:\n\nI don't know what IR intensity means and there's no reference in the \nprotocol documentation \nhttp://openkinect.org/wiki/Protocol_Documentation. I'm closing this \npull request because it doesn't make sense to merge |debian| into \n|master|.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/OpenKinect/libfreenect/pull/432#issuecomment-69585404.\n. Hey,\n\nAre you the package maintainer? If so, find attached the .patch file \nthat adds the feature. There may be need to do some error checking or \nfunction printing though.\nRegards,\nMeng Xi Zhu\nOn 15-01-12 11:03 AM, Benn Snyder wrote:\n\nOK, I see it now. I created #433 \nhttps://github.com/OpenKinect/libfreenect/issues/433.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/OpenKinect/libfreenect/pull/432#issuecomment-69592877.\n. Patch information\n\nFrom 4e1603beb63d3117e22b2f3e8905da0ef5924213 Mon Sep 17 00:00:00 2001\nFrom: Meng Xi Zhu zhumxcq@gmail.com\nDate: Mon, 12 Jan 2015 20:17:04 -0500\nSubject: [PATCH 1/2] Added function to change IR brightness\n```\ninclude/libfreenect.h |  2 ++\n src/cameras.c         | 10 ++++++++++\n 2 files changed, 12 insertions(+)\ndiff --git a/include/libfreenect.h b/include/libfreenect.h\nindex edc3898..b8e7e21 100644\n--- a/include/libfreenect.h\n+++ b/include/libfreenect.h\n@@ -688,6 +688,8 @@ FREENECTAPI void freenect_set_fw_address_nui(freenect_context * ctx, unsigned ch\n  */\n FREENECTAPI void freenect_set_fw_address_k4w(freenect_context * ctx, unsigned char * fw_ptr, unsigned int num_bytes);\n+FREENECTAPI void freenect_change_ir_brightness(freenect_device *dev, uint16_t brightness);\n+\n#ifdef __cplusplus\n }\ndiff --git a/src/cameras.c b/src/cameras.c\nindex 12eaba2..1c5dde1 100644\n--- a/src/cameras.c\n+++ b/src/cameras.c\n@@ -1243,6 +1243,7 @@ int freenect_set_video_buffer(freenect_device dev, void buf)\n FN_INTERNAL int freenect_camera_init(freenect_device dev)\n {\n    freenect_context ctx = dev->parent;\n+\n    int res;\n    res = freenect_fetch_reg_pad_info(dev);\n    if (res < 0) {\n@@ -1285,3 +1286,12 @@ FN_INTERNAL int freenect_camera_teardown(freenect_device dev)\n    freenect_destroy_registration(&(dev->registration));\n    return 0;\n }\n+\n+void freenect_change_ir_brightness(freenect_device dev, uint16_t brightness){\n+   if(dev){\n+       int res = write_register(dev, 0x15, brightness);\n+       if(res!=0){\n+           //FN_ERROR(\"freenect_change_ir_brightness(): Failed to change IR brightness\\n\");\n+       }\n+   }\n+}\n-- \n1.9.1\nFrom 806be4e0ee4f7174ea77943baf39caca52f80f9c Mon Sep 17 00:00:00 2001\nFrom: Meng Xi Zhu zhumxcq@gmail.com\nDate: Mon, 12 Jan 2015 20:22:03 -0500\nSubject: [PATCH 2/2] added comment for header function\n\ninclude/libfreenect.h | 5 +++++\n 1 file changed, 5 insertions(+)\ndiff --git a/include/libfreenect.h b/include/libfreenect.h\nindex 0e93a4b..f504ffc 100644\n--- a/include/libfreenect.h\n+++ b/include/libfreenect.h\n@@ -689,6 +689,11 @@ FREENECTAPI void freenect_set_fw_address_nui(freenect_context * ctx, unsigned ch\n  */\n FREENECTAPI void freenect_set_fw_address_k4w(freenect_context * ctx, unsigned char * fw_ptr, unsigned int num_bytes);\n+/\n+ * Allows the user to specify the brightness of the IR image\n+ \n+ * @param brightness value between 0 (lowest brightness) - 50 (highest brightness)\n+ /\n FREENECTAPI void freenect_change_ir_brightness(freenect_device *dev, uint16_t brightness);\n```\n\n1.9.1\n. Not sure how to do that exactly...\n. ",
    "LuisLlana": "I have the same problem with Debian 8\n. I have been able to compile it. The problem is that there were unfulfilled dependencies.\n. ",
    "fabian247": "I ran into the same problem. It's due to a misspelling in fwfetcher.py or because Microsoft renamed a path in their SystemUpdate.zip.\nfwfetcher.py refers to $systemupdate/FFFE07DF00000001 in line 538. The MS file SystemUpdate.zip extracts to $Systemupdate. Note the capital 'S'.\nYou can correct the foldername in fwfetcher.py or you can also repack SystemUpdate.zip and rename the folder inside the archive.\nHope this helps.\n. ",
    "locatw": "I can build successfully when I correct the line 538 in fwfetcher.py. Thanks!\n. ",
    "sloughlin": "Hi! Just ran into this issue again, it worked with $SystemUpdate though!` (Edit: capital U). ",
    "daviddanyi": "Thanks, that did the trick. Sort of.\nThe glview test app started up alright, the IR projector started working and the tilt motor levelled the kinect, though I didn't get any image back. It says in the terminal window that \"failed to submit isochronous transfer 0..7:-12\"\n. Correct again. I did a clean make and build and it started working.\nThe only problem is: it only works for a few seconds and after that the stream is lost.\nI read in the aforementioned thread that setting the log level to low fixes the problem. It certeanly improved the situation, but still the max tima was 10-15 seconds.\nCould this be caused by the fact that i'm using a virtual machine?\nI really appreciate your help, and am sorry for not responding for a week.\n. ",
    "johnnyontheweb": "Solved, the guide http://openkinect.org/wiki/Getting_Started#Windows is broken!\nThe correct libusb is here: http://libusb.info/ (0.18 suggested)\n. ",
    "Znafon": "Yes. I've digged further in the issue and the kinect I have is not seen as one. \nIt's product number is not registered at this line of usb_libusb10.c: if (desc.idVendor == VID_MICROSOFT && (desc.idProduct == PID_NUI_CAMERA || desc.idProduct == PID_K4W_CAMERA)). \nI'll try to add it and recompile in the next days. \n. I tried to change the ID in the source code. Here is what i got when i plugged the kinect:\n\u279c  libfreenect git:(master) \u2717 lsusb | grep 045e\nBus 002 Device 003: ID 045e:02c4 Microsoft Corp. \nBus 002 Device 002: ID 045e:02d9 Microsoft Corp. \nBus 001 Device 002: ID 045e:02d9 Microsoft Corp.\nIt tried to change #define PID_K4W_CAMERA 0x02bf to both #define PID_K4W_CAMERA 0x02d9 and #define PID_K4W_CAMERA 0x02c4 but freenect-glview gives now this error message:\nKinect camera test\nNumber of devices found: 2\nCould not open camera: -3\nFailed to open camera subdevice or it is not disabled.Failed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.Could not open device\n. ",
    "bagustris": "Error while trying to run fwfetcher.py\nDownloading SystemUpdate.zip from http://www.xbox.com/system-update-usb\nFailed to reach download server.  Reason: [Errno -2] Name or service not known\nReading response...\nTraceback (most recent call last):\n  File \"fwfetcher.py\", line 547, in \n    fw = getFileOrURL(\"SystemUpdate.zip\", \"http://www.xbox.com/system-update-usb\")\n  File \"fwfetcher.py\", line 525, in getFileOrURL\n    retval = response.read()\nUnboundLocalError: local variable 'response' referenced before assignment\n. ",
    "mekza": "@bagustris check your DNS\n. ",
    "RanzQ": "Ok, thanks. I figured it out at some point how to change it in VS.\n. ",
    "pascalgross": "Any progress here? Got the same problem on an Xilinx Zynq running an embedded Linux (PetaLinux)\n. ",
    "vladimiroltean": "Thank you, this indeed solves the issue for me.\n. ",
    "a155935498": "I modify libfreenect.hpp#191 to \"freenect_select_subdevices(m_ctx, static_cast(FREENECT_DEVICE_CAMERA));\" but it doesn't work out.\nThe problem(Could not open audio: -4) is still exist.\nIs there anyone knows how to fix it?\n. ",
    "FollowingT": "I also encountered the same problem. And i failed to fix it by the solution mentioned above. It still returned  the error \"Failed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.Could not open device\"\nIs there anyone give me a favor?\n. ",
    "sebastiangonzalezbotasi": "Hello, I am Sebastian, I am from Argentina. To compile the example KinextExample You have but same error.\nAny new solution?\n. ",
    "matthiasplappert": "\nIs your user a member of the plugdev group?\n\ngroups pi\npi : pi adm dialout cdrom sudo audio video plugdev games users netdev input spi i2c gpio\nHence yes, my user (pi) is a member of plugdev.\n\nCould there be a conflicting udev rule?\n\nI'm not really sure how udev rules work. Here are all my rules:\n```\ncat /etc/udev/rules.d/40-scratch.rules\nATTRS{idVendor}==\"0694\", ATTRS{idProduct}==\"0003\", SUBSYSTEMS==\"usb\", ACTION==\"add\", MODE=\"0666\", GROUP=\"plugdev\"\ncat /etc/udev/rules.d/51-kinect.rules\nATTR{product}==\"Xbox NUI Motor\"\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02b0\", MODE=\"0666\"\nATTR{product}==\"Xbox NUI Audio\"\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ad\", MODE=\"0666\"\nATTR{product}==\"Xbox NUI Camera\"\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ae\", MODE=\"0666\"\nKinect for Windows\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02c2\", MODE=\"0666\"\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02be\", MODE=\"0666\"\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02bf\", MODE=\"0666\"\ncat /etc/udev/rules.d/99-com.rules\nSUBSYSTEM==\"gpio*\", PROGRAM=\"/bin/sh -c 'chown -R root:gpio /sys/class/gpio && chmod -R 770 /sys/class/gpio; chown -R root:gpio /sys/devices/virtual/gpio && chmod -R 770 /sys/devices/virtual/gpio'\"\nSUBSYSTEM==\"input\", GROUP=\"input\", MODE=\"0660\"\nSUBSYSTEM==\"i2c-dev\", GROUP=\"i2c\", MODE=\"0660\"\nSUBSYSTEM==\"spidev\", GROUP=\"spi\", MODE=\"0660\"\n```\nI tried to remove 99-com.rules, but that does not change things either.\n\nWhat are your OS and Kinect model?\n\nRaspberry Pi 2 B with latest RASPBIAN and linux kernel 4.0.9. Kinect model 1414.\nHere's the output from lsusb as well:\nlsusb\nBus 001 Device 002: ID 0424:9514 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp.\nBus 001 Device 004: ID 7392:7811 Edimax Technology Co., Ltd EW-7811Un 802.11n Wireless Adapter [Realtek RTL8188CUS]\nBus 001 Device 005: ID 0409:005a NEC Corp. HighSpeed Hub\nBus 001 Device 007: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nBus 001 Device 006: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor\nBus 001 Device 008: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nThanks for your help! Any more ideas how to resolve this?\n. This is the only log related to udev that I could find (after setting the log level to debug, reloading all rules and running my python script that triggers the permission error):\nJul 27 17:28:23 raspberrypi udevd[177]: udevd message (SET_LOG_PRIORITY) received, log_priority=7\nJul 27 17:28:33 raspberrypi udevd[177]: udevd message (RELOAD_RULES) received\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/10-local-rpi.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/etc/udev/rules.d/40-scratch.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/42-qemu-usb.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/50-udev-default.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/etc/udev/rules.d/51-kinect.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/55-dm.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-cdrom_id.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-fuse.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-gnupg.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-i2c-tools.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-ifplugd.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-libgphoto2-2.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-alsa.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-input.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-serial.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-storage-dm.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-storage-tape.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-storage.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-persistent-v4l.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-python-pifacecommon.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-python3-pifacecommon.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/60-triggerhappy.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/61-accelerometer.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/run/udev/rules.d/61-dev-root-link.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/64-xorg-xkb.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/70-udev-acl.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/75-cd-aliases-generator.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/75-net-description.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/75-persistent-net-generator.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/75-probe_mtd.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/75-tty-description.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/78-sound-card.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/80-drivers.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/80-networking.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/80-udisks.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/85-hwclock.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/85-usbmuxd.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/90-alsa-restore.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/91-permissions.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/95-keyboard-force-release.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/95-keymap.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/lib/udev/rules.d/95-udev-late.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: reading '/etc/udev/rules.d/99-com.rules' as rules file\nJul 27 17:28:33 raspberrypi udevd[177]: rules use 141696 bytes tokens (11808 * 12 bytes), 23055 bytes buffer\nJul 27 17:28:33 raspberrypi udevd[177]: temporary index used 38520 bytes (1926 * 20 bytes)\nSeems to me that everything is fine.\nIf we can't figure it out it's not that much of a problem, since running my script as sudo is perfectly fine in my environment.\n. I think I got 30fps on an Raspberry Pi 2.\n. ",
    "hntuan94": "Hi matthiasplappert!\nHow many frame per second (depth) can Rasperry Pi get from kinect?\n. ",
    "MaxConners": "I had this same problem, but then I came accross this post from 2012.  \nThe temporary fix is to sudo chmod 777 /dev/bus/usb/001/*\nA permanent fix is to sudo nano /etc/udev/rules.d/66-kinect.rules\npaste this:\n# ATTR{product}==\"Xbox NUI Motor\"\n SUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02b0\", MODE=\"0666\"\n # ATTR{product}==\"Xbox NUI Audio\"\n SUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ad\", MODE=\"0666\"\n # ATTR{product}==\"Xbox NUI Camera\"\n SUBSYSTEM==\"usb\", ATTR{idVendor}==\"045e\", ATTR{idProduct}==\"02ae\", MODE=\"0666\"\nfinally, restart udev: `sudo /etc/init.d/udev restart\nHope it works for you ;)\nCheers. ",
    "senia907": "Thanks for the fast comment, yet as I mentioned, I don't use freenect as a project, is there any other way or I'm in trouble just because I have the 1473 model?\n. Sorry for bumping, left it for a while. How can I load firmware to the glview and what do you mean by \"firmware\"? And how does the ofxKinect  could help me? I see only 2 functions in there(getFWSize1473(); and getFWSizek4w();) which I couldn't find any reference to them (or similar) in freenect and particularly in the \"glview\" program.\nIt's very important for me as auto exposure doesn't work neither.\n. ",
    "alwynmathew": "@ofTheo in which file exactly should we call this function?\n\nand call:\nfreenect_set_fw_address_nui(kinectContext, ofxKinectExtras::getFWData1473(), ofxKinectExtras::getFWSize1473());\nfreenect_set_fw_address_k4w(kinectContext, ofxKinectExtras::getFWDatak4w(), ofxKinectExtras::getFWSizek4w());\nafter freenect_init. \n",
    "aaalgo": "I'm having exactly the same issue.  No clue at all what happened.\nThen I changed a computer and the error disappeared and everything was good.\nBoth computers are running ubuntu 18.04 and libfreenect installed from apt-get.\nThe failing one is an HP desktop and the working on is a lenovo x1 carbon laptop.\n. ",
    "RaitoBezarius": "I have the same problem on Arch Linux on the latest version of libfreenect.\n. ",
    "armandok": "I am having the same problem on macOS 10.13.4 (17E202).. I'm having the same issue on Ubuntu 18.04 with OpenCV 3.4.1.. ",
    "han88": "Have the same problem in ubuntu 14.04:\nKinect camera test\nNumber of devices found: 1\nCould not claim interface on camera: -5\nCould not open device\n. ",
    "Siggurd": "I am aware of these limitations. But still it is possible to get decent bathymetric data when the sensor is situated about 50+cm from the water surface (I tested this!), which of course needs to be corrected due to refraction. So apparently the sensor is powerful enough to penetrate water to a certain degree, but not when it is closer than its \"normal\" minimal range...\n. I tried it either way...no changes unfortunately!\n. ",
    "kowalski100": "Thanks for your kind response sir...\nYes that certainly solved the audio problem.. But the other thing that troubles me is that the program remains stuck at freenect.sync_get_video(). looks like its waiting for kinect to respond... Nothing happens afterword... The drivers are all connected properly in VMwere.\n. Mine Kinect model is: 1473...\nNow I tried it on Raspberry pi 2 Model B..\nWell problem remains same, infact now freenect-glview gives me the following error..\nKinect camera test\nNumber of devices found: 1\nfreenect-glview: symbol lookup error: /usr/local/lib/libfreenect.so.0.5: undefined symbol: libusb_get_parent\nI had the same error at make command that i solved using the following issue link..\nhttp://stackoverflow.com/questions/28835794/undefined-reference-to-libusb-get-parent-compiling-freenect\nNow everything successfully compiles but freenect-glview command gives the same libusb_get_parent error..\n. ",
    "duffyevan": "Ahhh ok that makes sense, however when I went to run cmake it gives me this error:\nCMake Error at wrappers/python/CMakeLists.txt:44 (message):\n    Unable to find consistent Python 2 libraries.  Python interpreter is 2.7.9, but libraries are 3.4.2.\nAny input? I can try to figure it out myself later but I'm busy now.\nThanks in advance\n. Well now it says python3 interpreter not found. I ran apt-get install python python3 and it says they're both the newest version... Looking at the first error it seems like I might just have the wrong libraries installed, Maybe I can try to install the python 2.7.9 libraries, would that work? This is a puzzler...\n. Well, something magical happened, I tried to install those packages, they both said they were up to date, and then I tried cmake again and it worked fine and built the python stuff. Now the problem is, when I run \"sudo python2 setup.py build_ext  --inplace\" I get the error:\n/usr/bin/ld: cannot find -lfreenect\n/usr/bin/ld: cannot find -lfreenect_sync\ncollect2: error: ld returned 1 exit status\nerror: command 'arm-linux-gnueabihf-gcc' failed with exit status 1\nIt seems like its looking for the files before they're installed... Not sure, what do you think?\n. So i figured out what magically happened. I must have accidentally set the build_python constants to off so it built and installed a bunch of things to /usr/local/bin include and lib, but it didn't build the python stuff. So I set the constants back to on and building python didn't work again. I know C++ so I tried making a C++ program that just includes the library and prints \"hi\" and that worked so I might just try it with C++. I would really like to get python working thought... \nThe issue with the python stuff is I don't know why it doesn't like the 2 different versions of python. I'll try uninstalling python 3 to try to remove the conflict\n. ",
    "hbgxsm95": "Hi!  I met the same problem as you .  Would you please tell me whether you solve it? if not , could you please tell me how?. Hey I solved it by \"sudo apt-get install python-dev\"   You may have a try. . Sorry It has been a lot time and I forgot the details.  Good luck!. ",
    "jonaseltes": "Also faced with the same problem. Any progress on this?. ",
    "zmistrz": "Hey,\nSorry for my english.\n( hbgxsm95 ) when you install from repo:\n\" Hey I solved it by \"sudo apt-get install python-dev\" You may have a try.\" - is good solution.\nwhen you install from source:\n1. After use make and make install\n2. Go to libfreenect/wrappers/python and execute\n   python2 setup.py build_ext --inplace\n3. Then you must copy shared object to your python version\nsudo cp libfreenect/wrappers/python/freenect.so /usr/lib/python2.7/\nor your project\ncp libfreenect/wrappers/python/freenect.* ~/your_project/\nI don't now how install  (.so) drivers in python, make and make install and ldconfig dosen't work ;-(\n. ",
    "bmilde": "Modifying the line: \nreq = Request(url) to \nreq = Request(url, headers={'User-Agent': 'Mozilla/5.0'}) \nin fwfetcher.py did the trick for me!\n(Mac OS X El Capitan)\n. ",
    "JohnnytheRocket": "Thanks for your reply!\nI ran freenect-camtest and freenect-glview and here's the result:\nfreenect-camtest:\n[Stream 70] Negotiated packet size 1920\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n^CShutting down\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0005 <= 0x00\nDone!\nAnd freenect-glview\nKinect camera test\nNumber of devices found: 1\nGL thread\n[Stream 70] Negotiated packet size 1920\nwrite_register: 0x0105 <= 0x00\nlibGL error: unable to load driver: mali_drm_dri.so\nlibGL error: driver pointer missing\nlibGL error: failed to load driver: mali_drm\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n'w' - tilt up, 's' - level, 'x' - tilt down, '0'-'6' - select LED mode, '+' & '-' - change IR intensity \n'f' - change video format, 'm' - mirror video, 'o' - rotate video with accelerometer \n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'n' - near mode (K4W only) \n raw acceleration:  -22  714  388  mks acceleration: -0.263426 8.549387 4.645885^C\nThe libGL error in the freenect-glview seems to have something do do with the odroid . It appears for all examples that use a graphical window. Could it be a separate issue? Btw, the acceleration data adjusts when I move the Kinect, so it seems like I can read some data at least.\nOther than that I'm not really sure what I'm looking for. \n. Thank you again for your suggestion. If the libusb is the culprit I have ran out of ideas now, I've tried the last version and the next-to-last version (which stills works on my Raspberry), with both Ubuntu 16.04 and Debian Jessie, as well as with the 0.5.2 version of libfreenect (which is the one the raspberry has) and everything results in the same thing: everything but the depth- and rgb-streaming works.\nWith freenect-glview I can see the accelerometer data, as well as control the LEDs (I've removed the Kinect's motor, so I'm not sure about the tilting though), and when running I can see the laser turn on, which for the Raspberry always was a surefire way of knowing it works.\nAny other ideas to try would be most welcome!\n. ",
    "topdjgod": "I have the same issue using Kinect v1 on TinkerBoard (Debian OS). No any data be received by using freenect-camtest and freenect-glview. Log is the same as JohnnytheRocket. Any one have an idea?. ",
    "armadillu": "It's such a small thing that I prepared a PR.\n. ",
    "ilovezfs": "Full build log: https://gist.github.com/ilovezfs/31d6c9b795e499e99272ab95d9b54cb5\n. @piedar thanks!!!\nCould I bother you for a new release tag so I can yank the patching from the Homebrew formula?\n. you're awesome, thanks\n. @piedar voil\u00e0: https://github.com/Homebrew/homebrew-core/pull/4294\n. ",
    "mindcraft-ixd": "\nYou should examine the result of kinect2.getVideoImage() to make sure it is valid.\n\nIm not sure what you mean by making \"sure it is valid\". I can see the video output by declaring \"image(kinect2.getVideoImage(), 0, 0, 640, 480);\" in the line below. \nI\u00b4ve taken a look on at the sourcecode of the openkinect library and \"kinect2.getVideoImage()\" outputs a pimage if that\u00b4s what you\u00b4re getting at.\n\nAnd shouldn't you be calling opencv.detect() on every frame instead of just during setup?\n\nSince it works perfectly fine while using the isight camera i guess not. But I don\u00b4t know though.\n. ",
    "yashredevil": "How does one use kinect2.getVideoImage() as an input for opencv.loadImage(); ?. I found the solution. \nYou need to add this function\nvoid videoEvent (Kinect k) {\n  // There has been a video event!\n}. ",
    "idignick": "I'm sorry could you elaborate on the \"solution\" please? . ",
    "XiaXuehai": "Pro-2:~ xxh$ ioreg -p IOUSB -w0\n+-o Root  <class IORegistryEntry, id 0x100000100, retain 14>\n  +-o Root Hub Simulation Simulation@14000000  <class AppleUSBRootHubDevice, id 0x1000002fa, registered, matched, active, busy 0 (2 ms), retain 10>\n    +-o Apple Internal Keyboard / Trackpad@14400000  <class AppleUSBDevice, id 0x1000024d3, registered, matched, active, busy 0 (10 ms), retain 19>\n    +-o Bluetooth USB Host Controller@14300000  <class AppleUSBDevice, id 0x1000024d9, registered, matched, active, busy 0 (4 ms), retain 21>\n    +-o NuiSensor Adaptor      @14200000  <class AppleUSBDevice, id 0x100002ff1, registered, matched, active, busy 0 (1 ms), retain 11>\n    +-o NuiSensor Adaptor      @14600000  <class AppleUSBDevice, id 0x100003001, registered, matched, active, busy 0 (1 ms), retain 12>\n      +-o Xbox NUI Sensor@14610000  <class AppleUSBDevice, id 0x100003012, registered, matched, active, busy 0 (8 ms), retain 17>\n. sorry,how to check the model of kinect? I seemodel no:1637 on kinect adapter.model no:1520 on xbox one\n. thx.\n. ",
    "JonnoFTW": "I did this build on Ubuntu 14.04 and eventually got it to work.\n. ",
    "hrask": "Thank you for answering.\nMay be your advice is good. \nBut I don't know well about C, compile mechanism and so on.\nIf you are OK, could you tell me my mistake?\nfirst, I got 2 files. and put in freenect/include/ .\nnext, I edited ofxKinectExtras.h like:\n```\npragma once\ndefine OFX_KINECT_EXTRA_FM\nextern unsigned char fwk4wBin[];\nint getFWSizek4w(){\n     return 145920;\n}\nunsigned char * getFWDatak4w(){\n     return &fwk4wBin[0];\n}\n```\nand remove ofxKinectExtras.cpp after move \"unsigned char fwk4wBin[]\" of ofxKinectExtras.cpp to libfreenect/examples/glview.c code.\nI edited\nlibfreenect/examples/glview.c row 494\nif (freenect_init(&f_ctx, NULL) < 0) {\n        printf(\"freenect_init() failed\\n\");\n        return 1;freenect_init\n    }\nto\nif (freenect_init(&f_ctx, NULL) < 0) {\n        printf(\"freenect_init() failed\\n\");\n        return 1;freenect_init\n    }\nfreenect_set_fw_address_k4w(kinectContext, getFWDatak4w(),getFWSizek4w());\nI retried to build. but the result did not change.\n. I would like to apply this solution to python wrapper, but what should I do it?\nthanks.\n. The model 1517(for windows) seems to be different from model 1473.\nso I can't solve. \nThank you for responding.. ",
    "pranali3215": "I am actually running it from a python file, which requires root permissions So I have to run it as root. To close it, I kill the python file which calls the process. \nf,res = freenect.sync_get_video()\nThis is what I call in the python file\n. I have written freenect.sync_stop() in the handler.\nIt seems to have worked! I do not get this error anymore. \nThank you for your help\n. ",
    "fhars": "I see this too with a 1414 kinect (so no firmware required), this is the stacktrace with libfreenect symbols:\n```Thread 1 \"freenect-micvie\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff6f152a6 in libusb_submit_transfer () from /lib/x86_64-linux-gnu/libusb-1.0.so.0\n(gdb) bt\n0  0x00007ffff6f152a6 in libusb_submit_transfer () from /lib/x86_64-linux-gnu/libusb-1.0.so.0\n1  0x00007ffff7bce9e2 in fnusb_start_iso (dev=0x6555f0, strm=0x655648, cb=0x7ffff7bd0389 , endpoint=130 '\\202', xfers=16, pkts=16, len=524) at /home/hars/src/libfreenect/src/usb_libusb10.c:875\n2  0x00007ffff7bd092b in freenect_start_audio (dev=0x655390) at /home/hars/src/libfreenect/src/audio.c:183\n3  0x000000000040219f in main (argc=1, argv=0x7fffffffdd88) at /home/hars/src/libfreenect/examples/micview.c:194\n(gdb) up\n1  0x00007ffff7bce9e2 in fnusb_start_iso (dev=0x6555f0, strm=0x655648, cb=0x7ffff7bd0389 , endpoint=130 '\\202', xfers=16, pkts=16, len=524) at /home/hars/src/libfreenect/src/usb_libusb10.c:875\n875                             int ret = libusb_submit_transfer(strm->xfers[i]);\n(gdb) p strm\n$1 = {parent = 0x6555f0, xfers = 0x6464c0, buffer = 0x7ffff7fd5010 \"\", cb = 0x7ffff7bd0389 , num_xfers = 16, pkts = 16, len = 524, dead = 0, dead_xfers = 0}\n(gdb) l\n870                     else\n871                     {\n872                             libusb_fill_iso_transfer(strm->xfers[i], dev->dev, endpoint, bufp, pkts * len, pkts, iso_callback, strm, 0);\n873                             libusb_set_iso_packet_lengths(strm->xfers[i], len);\n874\n875                             int ret = libusb_submit_transfer(strm->xfers[i]);\n876                             if (ret < 0)\n877                             {\n878                                     FN_WARNING(\"Failed to submit isochronous transfer %d: %d\\n\", i, ret);\n879                                     strm->dead_xfers++;\n(gdb) p strm->xfers\n$2 = (struct libusb_transfer ) 0x6464c0\n(gdb) p strm->xfers[i]\n$6 = (struct libusb_transfer ) 0x618348\n(gdb) p *strm->xfers[i]\n$7 = {dev_handle = 0x0, flags = 0 '\\000', endpoint = 130 '\\202', type = 1 '\\001', timeout = 0, status = LIBUSB_TRANSFER_COMPLETED, length = 8384, actual_length = 0, callback = 0x7ffff7bce46e , user_data = 0x655648, buffer = 0x7ffff7fd5010 \"\", num_iso_packets = 16, iso_packet_desc = 0x618384}\n```\nHere is the reason:\n```\nStarting program: /usr/local/bin/freenect-micview \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7ffff3fca700 (LWP 22546)]\nNumber of devices found: 1\nThread 1 \"freenect-micvie\" hit Breakpoint 3, fnusb_open_subdevices (dev=0x655390, index=0) at /home/hars/src/libfreenect/src/usb_libusb10.c:492\n492         if( (ctx->enabled_subdevices & FREENECT_DEVICE_AUDIO) && dev->usb_cam.dev != NULL )\n(gdb) p ctx->enabled_subdevices \n$2 = FREENECT_DEVICE_AUDIO\n(gdb) p *dev\n$3 = {parent = 0x604010, next = 0x0, user_data = 0x0, usb_cam = {parent = 0x655390, dev = 0x0, device_dead = 0, VID = 0, PID = 0}, depth_isoc = {parent = 0x0, xfers = 0x0, buffer = 0x0, cb = 0x0, num_xfers = 0, pkts = 0, len = 0, dead = 0, dead_xfers = 0}, video_isoc = {parent = 0x0, xfers = 0x0, buffer = 0x0, cb = 0x0, num_xfers = 0, pkts = 0, \n    len = 0, dead = 0, dead_xfers = 0}, depth_cb = 0x0, video_cb = 0x0, depth_chunk_cb = 0x0, video_chunk_cb = 0x0, video_format = FREENECT_VIDEO_RGB, depth_format = FREENECT_DEPTH_11BIT, video_resolution = FREENECT_RESOLUTION_LOW, depth_resolution = FREENECT_RESOLUTION_LOW, cam_inited = 0, cam_tag = 0, depth = {running = 0, flag = 0 '\\000', \n    synced = 0, seq = 0 '\\000', got_pkts = 0, pkt_num = 0, pkts_per_frame = 0, pkt_size = 0, frame_size = 0, last_pkt_size = 0, valid_pkts = 0, lost_pkts = 0, valid_frames = 0, variable_length = 0, last_timestamp = 0, timestamp = 0, split_bufs = 0, lib_buf = 0x0, usr_buf = 0x0, raw_buf = 0x0, proc_buf = 0x0}, video = {running = 0, flag = 0 '\\000', \n    synced = 0, seq = 0 '\\000', got_pkts = 0, pkt_num = 0, pkts_per_frame = 0, pkt_size = 0, frame_size = 0, last_pkt_size = 0, valid_pkts = 0, lost_pkts = 0, valid_frames = 0, variable_length = 0, last_timestamp = 0, timestamp = 0, split_bufs = 0, lib_buf = 0x0, usr_buf = 0x0, raw_buf = 0x0, proc_buf = 0x0}, registration = {reg_info = {\n      dx_center = 0, ax = 0, bx = 0, cx = 0, dx = 0, dx_start = 0, ay = 0, by = 0, cy = 0, dy = 0, dy_start = 0, dx_beta_start = 0, dy_beta_start = 0, rollout_blank = 0, rollout_size = 0, dx_beta_inc = 0, dy_beta_inc = 0, dxdx_start = 0, dxdy_start = 0, dydx_start = 0, dydy_start = 0, dxdxdx_start = 0, dydxdx_start = 0, dxdxdy_start = 0, \n      dydxdy_start = 0, back_comp1 = 0, dydydx_start = 0, back_comp2 = 0, dydydy_start = 0}, reg_pad_info = {start_lines = 0, end_lines = 0, cropping_lines = 0}, zero_plane_info = {dcmos_emitter_dist = 0, dcmos_rcmos_dist = 0, reference_distance = 0, reference_pixel_size = 0}, const_shift = 0, raw_to_mm_shift = 0x0, depth_to_rgb_shift = 0x0, \n    registration_table = 0x0}, usb_audio = {parent = 0x655390, dev = 0x0, device_dead = 0, VID = 0, PID = 0}, audio_out_isoc = {parent = 0x0, xfers = 0x0, buffer = 0x0, cb = 0x0, num_xfers = 0, pkts = 0, len = 0, dead = 0, dead_xfers = 0}, audio_in_isoc = {parent = 0x0, xfers = 0x0, buffer = 0x0, cb = 0x0, num_xfers = 0, pkts = 0, len = 0, dead = 0, \n    dead_xfers = 0}, audio_in_cb = 0x0, audio_out_cb = 0x0, audio = {running = 0, audio_out_ring = 0x0, ring_reader_idx = 0, ring_writer_idx = 0, out_window = 0, out_seq = 0 '\\000', out_counter_within_window = 0 '\\000', out_weird_timestamp = 0, out_window_parity = 0 '\\000', in_window = 0, last_seen_window = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, \n    in_counter = 0 '\\000', mic_buffer = {0x0, 0x0, 0x0, 0x0}, cancelled_buffer = 0x0, in_unknown = 0x0}, audio_tag = 0, usb_motor = {parent = 0x655390, dev = 0x0, device_dead = 0, VID = 0, PID = 0}, raw_state = {accelerometer_x = 0, accelerometer_y = 0, accelerometer_z = 0, tilt_angle = 0 '\\000', tilt_status = TILT_STATUS_STOPPED}, \n  device_does_motor_control_with_audio = 0, motor_control_with_audio_enabled = 0}\n```\nThe micview.c example never initializes the camera, and so will never discover the audio device.. Change line 165 of micview.c to\nfreenect_select_subdevices(f_ctx, (freenect_device_flags)(FREENECT_DEVICE_CAMERA | FREENECT_DEVICE_AUDIO));\nAnd the segfault goes away.. ",
    "iamlegolas": "@JonnoFTW Please take a look \n. ",
    "roxlu": "I just upgraded to Mac 10.12.1 (Sierra) and now it's working.  I'm using this build script to compile the dependencies: https://gist.github.com/roxlu/bf967592ac436a14449c6515aa0eea93  (you need to run that script twice).\n. ",
    "cuisinart": "Update: changing the build to use libusb0 and libusbemu.cpp, failguard.cpp under platform, and changing from libusb 1.0.dll driver to libsub0.dll driver this now works under visual studio 2015.  There must still be a bug in the libusb subsystem, an incompatibility with libusb1.0 and the windows inf drivers specified in this download, or a problem with this libary's interaction with libusb 1.0 on windows.  . ",
    "wenhuizhang": "Thanks :). ",
    "briangular": "Same exact problem here. Installed with apt to Ubuntu 16.04. Added the udev-rules from Here. Restarted, and I get:\n$ freenect-glview\nKinect camera test\nNumber of devices found: 1\nFailed to claim camera interface: LIBUSB_ERROR_NOT_FOUND\nFailed to open camera subdevice or it is not disabled.Failed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.Could not open device\nAlso, as Mischmerz, I have:\n$ lsusb | grep -i xbox\nBus 003 Device 020: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nBus 003 Device 018: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor\nBus 003 Device 019: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nSo the computer sees the USB Kinect device, but it does not work\nSOOOOooooo stuck.  Can't find this error anywhere else through Google. Please help.. ",
    "engincandy": "Ok thank you!. ",
    "ChenYunan": "I have the same problem! The light of kinect v1 is keeping flickering.\nWhen I run the $ ./bin/Protonect\nIt says \"no device connected!\" :(. ",
    "LewisErick": "Indeed, I checked at runtime that the libusb_get_parent() function is giving me NULL.\nDoes that have to do with libusb itself or am I missing something?\nLIBUSB_1_INCLUDE_DIR:PATH=/usr/local/include/libusb-1.0\nLIBUSB_1_LIBRARY:FILEPATH=/usr/local/lib/libusb-1.0.dylib\nI installed libusb using Macports like the README said:\nsudo port install git-core cmake libusb libtool. I've looked more into it and it seems that the parent of the device of the camera is non existent.\nCould you please tell me what should the libusb_get_parent(camera) should give me in terms of its description (vendor id and product id)?. So at the end I made a workaround which detected the motor and sensor from the camera not by its parent but by the match in the vendor ID. This workaround is not perfect as it does not consider the possibility of two or more Kinects connected at the same time, but that itself is not an issue in what I'm working on. Thanks!\nhttps://github.com/LewisErick/libfreenect/blob/master/src/usb_libusb10.c. ",
    "FranciscoG": "having this exact same freenect-glview issue\nI'm on OSX 10.11.6\nI'm hoping that this could be resolved without me having to build it locally.  . brew installed at HEAD and still the same issue :-(\n. works for me now!! thank you!. I have a fix for this specific issue, at least for myself.  Turns out that my X11 directory was located somewhere else.  So I symlinked it.  Then I re-ran freenect-glview and it worked, sort of.   Got past that original error and it showed me a pop-up that I needed to download and install  XQuartz because the X11 server is no longer part of OSX but is maintained separately at:  https://www.xquartz.org/\nFor anyone else having my issue just go directly to https://www.xquartz.org/ and install that.  You do not need to symlink it.\nand there is where I'm at now.  I'm closing this comment though because I have answered my own original question.  Any other issues I'll open up another issue for. . ",
    "Yusra60445": "Hey did you finally get to connect it? I'm facing similar issue, can you help me?. ",
    "athorsen": "Thank you for this! I ran into the exact same problem, and your solution of installing XQuartz fixed it. Much appreciated!. ",
    "EthanTang0115": "Same problem using libfreenect on Mac, thanks !\n. ",
    "kilsenp": "My bad, had to restart after updating udev rules.. ",
    "cuatrocuatros": "No, I didn't solve the errors... Do you think that? Should I try downloading the VS 2015?. Hi, again.\nTried with Visual Studio 2015. Source code in /Documents. And applied the patch: https://github.com/OpenKinect/libfreenect/commit/c29570e393c08305a4bab14ba285a1ae2f2c329c\nSame errors :(. ",
    "rguillome": "I dig deeper and found that my first analysis was Wrong. Indeed, a patch has already been made adding the header lib_registration.h to the c_sync wrappers which is the synchronous bridge between python wrappers and the libfreenect (which by design is asynchronous).\nWith the LD_PRELOAD env var, the fakenect resulting libs only overrides a couple of target functions that make real call to the device. So freenect_camera_to_world should be offered by the usual libfreenect.so. \nI finally expected a mistake in the libraries linking configuration.\nTwo tests that shows that having the same library name between the fakenect one and the usual one is (now?), a mistake :\n```shell\n\u00b1 |debian U:2 ?:1 \u2717| \u2192 export LD_PRELOAD=\n\u00b1 |debian U:2 ?:1 \u2717| \u2192 ldd freenect.so \n    linux-vdso.so.1 (0x00007ffda99b8000)\n    libusb-1.0.so.0 => /lib/x86_64-linux-gnu/libusb-1.0.so.0 (0x00007f49e531f000)\n    libfreenect.so.0.5 => /usr/local/lib/libfreenect.so.0.5 (0x00007f49e5110000)\n    libfreenect_sync.so.0.5 => /usr/local/lib/libfreenect_sync.so.0.5 (0x00007f49e4f0c000)\n    libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f49e4cef000)\n    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f49e4950000)\n    libudev.so.1 => /lib/x86_64-linux-gnu/libudev.so.1 (0x00007f49e492d000)\n    /lib64/ld-linux-x86-64.so.2 (0x000055ea25885000)\n    librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f49e4725000)\nBut of course, without the LD_PRELOAD, it expects the connected device...\nSo with the documented LD_PRELOAD :shell\n\u00b1 |debian U:2 ?:1 \u2717| \u2192 export LD_PRELOAD=\"$LIBFREENECT_SRC_PATH/libfreenect/build/lib/fakenect/libfreenect.so\"\n\u00b1 |debian U:2 ?:1 \u2717| \u2192 ldd freenect.so \n    linux-vdso.so.1 (0x00007fff5edbd000)\n    LIBFREENECT_SRC_PATH/libfreenect/build/lib/fakenect/libfreenect.so (0x00007f5019c80000)\n    libusb-1.0.so.0 => /lib/x86_64-linux-gnu/libusb-1.0.so.0 (0x00007f5019a37000)\n    libfreenect_sync.so.0.5 => /usr/local/lib/libfreenect_sync.so.0.5 (0x00007f5019833000)\n    libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f5019616000)\n    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f5019277000)\n    libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f5018f71000)\n    libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f5018d6d000)\n    libudev.so.1 => /lib/x86_64-linux-gnu/libudev.so.1 (0x00007f5018d4c000)\n    /lib64/ld-linux-x86-64.so.2 (0x00005606cedcd000)\n    librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f5018b44000)\n``\nAs shown, thelibfreenect.so.0.5 => /usr/local/lib/libfreenect.so.0.5 (0x00007f49e5110000)` line disappear, probably by the fakenect lib overriding...\nAltering the generated fakenect lib from libfreenect.so to libfreenect_fake.so does the job.\nThe change in the file fakenect/CMakeLists.txt (change the OUTPUT_NAME): \nset_target_properties ( fakenect PROPERTIES\n  VERSION ${PROJECT_VER}\n  SOVERSION ${PROJECT_APIVER}\n  OUTPUT_NAME freenect_fake)\nand us the libfreenect_fake.so as the preloaded library with LD_PRELOAD.\nI will create a patch tomorrow. This issue is corrected by the Pull request : #511 . ",
    "arlequin99": "No, sorry.\nI think that the drive is installed correctly  \n[ +0.000005] usb 1-2.1: Product: Xbox Kinect Audio, \u00a9 2011 Microsoft Corporation. All rights reserved.\n. ",
    "rorpis": "Hi, I have the same question. Did you got an answer?. ",
    "DarioTurchi": "In the Python wrapper one can call the function\nfreenect.sync_get_depth(format=freenect.DEPTH_REGISTERED). ",
    "arsh09": "Sorry to bother. I should have read the files more carefully. For anyone who needs to get the depth image (there are different formats and you can get them by passing the arguments). \nThis helped: \nhttps://stackoverflow.com/questions/23901220/how-do-i-get-kinect-depth-image-data-in-centimeters-using-the-libfreenect-python\nThank you again for the library. it is a wonderful library. . ",
    "MattTucker22689": "If I use \"brew link --overwrite python\" will I need to worry about not being able to use Numpy, OpenCV, or anything of the sort? And could that fix the problem?\nAlso, I'm not 100% clear on what to do with \"export PYTHONPATH=brew --prefix/lib/python2.7/site-packages:$PYTHONPATH.\" When I entered back into \"~/.bash_profile\" via ''nano\", I saw NO changes? What am I not catching?. Thoughts? Further clarification...?. So, I went back and tried it again... Here is everything straight from terminal:\n\n. So, I've done some more digging... Still no dice... But there's this:\n\nSo I know it downloaded. But that's literally where it stops... Because nothing wants to work\n. So, I just downloaded X11, and can now run freenect-glview from terminal.... but still can't import freenect in Python. Also, yes I'm using Python 2.7.\n\n. SOLID! IT WORKS NOW!\nThank you so very much for your help!. So how does one \"patch the Formula to take an optional dependency on python and cython\" for the permanent fix?. ",
    "eyun89": "@piedar \nHi piedar, \nDo you happen to have a solution for python 3.7?\nI pretty much followed the instructions on the readme and I'm stuck on the step where i type python setup.py install in the libfreenect/wrappers/python directory. I have no where else to look for help...\nThis is my output:\nrunning install\nrunning build\nrunning build_ext\nskipping 'freenect.c' Cython extension (up-to-date)\nbuilding 'freenect' extension\ngcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/eyun89/anaconda3/include -arch x86_64 -I/Users/eyun89/anaconda3/include -arch x86_64 -I/Users/eyun89/anaconda3/include/python3.7m -c freenect.c -o build/temp.macosx-10.7-x86_64-3.7/freenect.o -fPIC -I ../../include/ -I /usr/include/libusb-1.0/ -I /usr/local/include/libusb-1.0 -I /usr/local/include -I ../c_sync/ -I /Users/eyun89/anaconda3/lib/python3.7/site-packages/numpy/core/include\nIn file included from /Users/eyun89/anaconda3/lib/python3.7/site-packages/numpy/core/include/numpy/ndarraytypes.h:1823:0,\n                 from /Users/eyun89/anaconda3/lib/python3.7/site-packages/numpy/core/include/numpy/ndarrayobject.h:18,\n                 from /Users/eyun89/anaconda3/lib/python3.7/site-packages/numpy/core/include/numpy/arrayobject.h:4,\n                 from freenect.c:353:\n/Users/eyun89/anaconda3/lib/python3.7/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\nIn file included from freenect.c:355:0:\n../../include/libfreenect.h:567:1: warning: function declaration isn\u2019t a prototype [-Wstrict-prototypes]\n FREENECTAPI int freenect_get_video_mode_count();\n ^\n../../include/libfreenect.h:619:1: warning: function declaration isn\u2019t a prototype [-Wstrict-prototypes]\n FREENECTAPI int freenect_get_depth_mode_count();\n ^\nfreenect.c: In function \u2018__Pyx_ExceptionSave\u2019:\nfreenect.c:11588:19: error: \u2018PyThreadState\u2019 has no member named \u2018exc_type\u2019\n     *type = tstate->exc_type;\n                   ^\nfreenect.c:11589:20: error: \u2018PyThreadState\u2019 has no member named \u2018exc_value\u2019\n     *value = tstate->exc_value;\n                    ^\nfreenect.c:11590:17: error: \u2018PyThreadState\u2019 has no member named \u2018exc_traceback\u2019\n     *tb = tstate->exc_traceback;\n                 ^\nfreenect.c: In function \u2018__Pyx_ExceptionReset\u2019:\nfreenect.c:11602:22: error: \u2018PyThreadState\u2019 has no member named \u2018exc_type\u2019\n     tmp_type = tstate->exc_type;\n                      ^\nfreenect.c:11603:23: error: \u2018PyThreadState\u2019 has no member named \u2018exc_value\u2019\n     tmp_value = tstate->exc_value;\n                       ^\nfreenect.c:11604:20: error: \u2018PyThreadState\u2019 has no member named \u2018exc_traceback\u2019\n     tmp_tb = tstate->exc_traceback;\n                    ^\nfreenect.c:11605:11: error: \u2018PyThreadState\u2019 has no member named \u2018exc_type\u2019\n     tstate->exc_type = type;\n           ^\nfreenect.c:11606:11: error: \u2018PyThreadState\u2019 has no member named \u2018exc_value\u2019\n     tstate->exc_value = value;\n           ^\nfreenect.c:11607:11: error: \u2018PyThreadState\u2019 has no member named \u2018exc_traceback\u2019\n     tstate->exc_traceback = tb;\n           ^\nerror: command 'gcc' failed with exit status 1\nThanks in advanced for your time.. ",
    "negvet": "in freenect.stop_depth(device1) device1 have to be freenect.DevPtr\nJust inserting integer do not work:\n\nTypeError: Argument 'dev' has incorrect type (expected freenect.DevPtr, got int)\n\nHow to get freenect.DevPtr of my devices in python?. Unfortunately, it reduced FPS down to 1. \nI tested it just with one kinect:\nwhile(1):    \n    img = get_depth()\n    freenect.stop_depth(device1)\n    # display the img\n    # proceed without delay\n    freenect.start_depth(device1)\nBut IR led really turn on and off at every iteration.\nThanks!. ",
    "rkrishnasanka": "Well seems like there was a python script in the share folder (brew installation) fwfetcher.py that can be used to download the driver.. ",
    "yycking": "\nno such file or directory: share/libfreenect/fwfetcher.py\n\nsudo /usr/local/Cellar/libfreenect/0.5.6/share/fwfetcher.py \n\nenv: python2: No such file or directory\n\nopen  /usr/local/Cellar/libfreenect/0.5.6/share/fwfetcher.py\nreplace #!/usr/bin/env python2 with #!/usr/bin/python . ",
    "aristizabal95": "I also have this error on my raspberry pi with kali linux.. Thanks for answering, is your kinect now working without a problem? I realized yesterday about the low voltage, and now it's a little more stable. Yet, in order to make a program run I must run the program multiple times until it works. Meaning that my kinect is still getting disconnected for some reason. ",
    "iman67": "I solved this problem,\nthis problem caused by low voltage USB raspberry pi.\nyou should ensure your raspberry pis voltage isn't low.\nactually, you should reconnect your Kinect USB cable to reset Kinect for the run.\n. ",
    "f0rward0": "Seems that it was a build issue because reinstalling the lib fixed it.. ",
    "rib": "On a related note I can say that I recently started playing with libfreenect with a Kinect 1414 and also had a similar sounding issue with no depth/video capture but still able to change the tilt and led etc. I was getting lots of URB size mismatch warnings from the kernel in my case running with the generic ArchLinux 4.13.0 kernel. At some point I rebuilt a minimal vanilla 4.13.0 kernel since I was preparing to dig in to figure out really what was broken but luckily for me things started to work on that minimal kernel build. Since it's working for me now I haven't had cause to delve deeper but I assume now there's a particular module that's causing a conflict. I did try unloading+blacklisting the gspca kinect driver as a seemingly likely candidate but that didn't seem to be the culprit for me.. I can only ask you to possibly reconsider using a submodule to make it easier to update a single .c file :) If you've used git submodules before and know how it goes that's fine and I won't loose sleep over it, but git submodules adds quite a faff to the experience imho. In particular it will affect the basic instructions for any user/developer cloning and building libfreenect.\nIf the file is copied then updating goes something like:\ncd parson-repo\ngit pull\ncp parson.c /to/libfreenect-repo/fakenect/\ncd /to/libfreenect-repo\ngit commit -a -m \"update parson.c\"\n(and you / maintainers are the only ones who have to do these steps)\nWith submodules, now everyone needs to learn to pass --recursive when cloning the libfreenect repo, or for older versions of git have to run git submodules init + git submodules update after cloning.\nTo update parson it goes something like:\ncd fakenect/parson\ngit pull\ncd ..\ngit commit -a -m \"update parson.c\"\n(seems like a very similar effort, just one step fewer than above, to update from a maintainer pov, but at the cost of complicating basic operations like cloning the repo)\nAs you might be able to tell, it's just one of those features that makes me sigh very heavily whenever I see it used :) (I even went overboard once and attempted writing a replacement: https://github.com/rib/git-subdir)\nAnyway, I've pushed a https://github.com/rib/libfreenect/tree/fakenect-depth-mm-video-yuv-submodule branch that squashes in the addition of a submodule as you suggest, but will just wait for a confirmation to update the pull request with that branch.. I'm fairly sure parson will recursively free the objects given the top-level one to free at the end, but can double check that. ok, just to confirm; json_value_free() is recursive, so since that object got linked into the hierarchy of the top-level js value then it will also be freed.. Yeah makes sense. In that case it probably also makes sense to move the follow-up call to freenect_init_registration to the bottom of read_device_info at a point where we know we have read the required reg_info state.\nI've tested an updated version with this change and will update my pull request.\nSince I decided to return silently if we fail to load a device.json (for compatibility) I also added a check in freenect_set_depth_mode whereby requesting _DEPTH_MM will result in a \"Warning:...\" if registration state wasn't previously loaded.. I think there's a (pre-existing) off-by-one error with the count here (my fault when enabling the _DEPTH_MM format) so this should be bumped to 3. ",
    "Bulwagga": "I  have the same issue.  Kinect 1414.  Running Ubuntu 17.10, tried both X and Wayland.  I used to run this Kinect with the Faro software until a Windows upgrade a few months ago, so I know it's a working device.\nfreenect-camtest gives me \n[Stream 70] Negotiated packet size 1920\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n and then hangs.  So I hit control C and then I get\n^CShutting down\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0005 <= 0x00\nDone!\nlsusb\nBus 002 Device 002: ID 8087:8000 Intel Corp. \nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 002: ID 8087:8008 Intel Corp. \nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 003 Device 003: ID 04ca:7032 Lite-On Technology Corp. \nBus 003 Device 007: ID 045e:02ae Microsoft Corp. Xbox NUI Camera\nBus 003 Device 005: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor\nBus 003 Device 006: ID 045e:02ad Microsoft Corp. Xbox NUI Audio\nBus 003 Device 004: ID 0409:005a NEC Corp. HighSpeed Hub\nBus 003 Device 002: ID 046d:c408 Logitech, Inc. Marble Mouse (4-button)\nBus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n. ",
    "blobfish": "I am having problems with the 1414 xbox 360 device also. Depth is working good, but for the rgb video I get, maybe a frame every minute. I have the kernel driver blacklisted on debian testing(buster). Here is the start of camtest.\nfreenect-camtest\n[Stream 70] Negotiated packet size 1920\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n[Stream 80] Lost 1 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 8 total packets in 0 frames (inf lppf)\nReceived depth frame at 1052486099\n[Stream 80] Lost 9 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 10 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 14 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 20 total packets in 0 frames (inf lppf)\nReceived depth frame at 1054488254\n[Stream 80] Lost 22 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 25 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 26 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 29 total packets in 0 frames (inf lppf)\nReceived depth frame at 1056490409\n[Stream 80] Lost 30 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 36 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 37 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 42 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 44 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 47 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 48 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 52 total packets in 0 frames (inf lppf)\nReceived depth frame at 1058492564\n[Stream 80] Lost 54 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 60 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 61 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 63 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 64 total packets in 0 frames (inf lppf)\n[Stream 80] Lost 68 total packets in 0 frames (inf lppf)\n.... ",
    "GmGniap": "I'm facing like this lost packets with my Kinect 1414, ros kinetic . Is there any other solutions/driver to work with 1414? . ",
    "eruffaldi": "Usage e.g. in OpenNI2 SimpleRead\n\nfloat d;\nint sd = sizeof(d);\nrc = device.getProperty ( ONI_DEVICE_PROPERTY_PLAYBACK_SPEED, &d,&sd);\nprintf(\"PLAYBACK SPEED reported %d\\n\",rc);\nif(rc == 0)\n{\nd = 1;\nsd = 4; // blinking red\ndevice.setProperty(ONI_DEVICE_PROPERTY_PLAYBACK_SPEED,&d,sd);\n}\n. \n",
    "uni4th": "Hello, I run into the same problem. Have you solved it yet?. \n\nLong time ago, but yes, are you running in a mac osx or window? El mar., 23 de oct. de 2018 04:07, uni4th notifications@github.com escribi\u00f3:\n\u2026\n\nThank you for your reply, but actually I have already solved it :) . > @uni4th How did you solve the problem? I have the same issue now.\nSorry but it's been so long that I've already forgotten.... ",
    "yavier123": "Long time ago, but yes, are you running in a mac osx or window?\nEl mar., 23 de oct. de 2018 04:07, uni4th notifications@github.com\nescribi\u00f3:\n\nHello, I run into the same problem. Have you solved it yet?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/532#issuecomment-432121257,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ARSwTBaAg-ueRT2TKnGJ75q_7N7HFXBwks5unsAVgaJpZM4QiMnU\n.\n. \n",
    "Windows10010": "@uni4th How did you solve the problem? I have the same issue now.. ",
    "smokhov": "Well, following some issues here and other posts, using fwfetcher.py (patching it up a bit) to download audios.bin firmware and placing it with executables worked in the end staring with the mic one. All tests and samples worked well afterwards.. @piedar -- in #538 you asked whether my compiler supports C99, the answer is yes, GCC 4.4.7 that comes with EL6 distros, has options like -std=gnu99, but cmake did not generate them into Makefile(s), so make failed.. FWIW, recently using fwfetcher.py to get audios.bin and using it with my 1473 on EL6 (CentOS) and OS X worked for us for all example programs.. (That was in #533). ",
    "makelove": "https://github.com/OpenKinect/libfreenect/blob/master/fakenect/fakenect-record.1\n.B -ffmpeg-opts \\fIoptions\\fP\nWhen using ffmpeg, specify the options to be used with it. If unspecified,\nit will use the options \"-aspect 4:3 -r 20 -vcodec msmpeg4 -b 30000k\"\n```\nFILE open_ffmpeg(char output_filename)\n{\n    char cmd[1024];\nif (ffmpeg_opts==0)\n    ffmpeg_opts = \"-aspect 4:3 -r 20 -vcodec msmpeg4 -b 30000k\";\n\nsnprintf(cmd, 1024, \"ffmpeg -pix_fmt rgb24 -s %dx%d -f rawvideo \"\n         \"-i /dev/stdin %s %s\",\n         FREENECT_FRAME_W, FREENECT_FRAME_H,\n         ffmpeg_opts, output_filename);\n\nfprintf(stderr, \"%s\\n\", cmd);\n\nFILE* proc = popen(cmd, \"w\");\nif (!proc) {\n    printf(\"Error: Cannot run ffmpeg\\n\");\n    exit(1);\n}\n\nreturn proc;\n\n}\n```. ",
    "balandinodidonato": "you are totally right there was an errro in my cmake installation\nI now get this error after the make command\ngg1107i1-lm0005:build balandinodidonato$ make\n[ 16%] Built target freenectstatic\n[ 18%] Linking C shared library ../lib/libfreenect.dylib\nUndefined symbols for architecture x86_64:\n\"_libusb_get_parent\", referenced from:\n_fnusb_find_sibling_device in usb_libusb10.c.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [lib/libfreenect.0.6.0.dylib] Error 1\nmake[1]: *** [src/CMakeFiles/freenect.dir/all] Error 2\nmake: *** [all] Error 2\ngg1107i1-lm0005:build balandinodidonato$\n. ",
    "Jonah-Chng": "I applied the fix by setting:\n\"libusb_reset_device(audioHandle); \"  to \"//libusb_reset_device(audioHandle);\"\nbut there is still an error, when using sudo freenect-camtest:\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\nand when using sudo freenect-glview:\nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\nFound sibling device [same parent]\nCould not open device: -1\nCould not open device\nAny idea how I can fix this?. Hi all and @wpumacay,\nI fixed the problem however I reinstalled ROS for it to work haha!\nBut, I am currently using libfreenect_launch and it works just fine for me!\n@wpumacay what are you tryign to do with kinect?. ",
    "wpumacay": "Hi\nI'm running into the same trouble. \nFailed to submit isochronous transfer 0: -1\nFailed to submit isochronous transfer 1: -1\nFailed to submit isochronous transfer 2: -1\nFailed to submit isochronous transfer 3: -1\nFailed to submit isochronous transfer 4: -1\nFailed to submit isochronous transfer 5: -1\nFailed to submit isochronous transfer 6: -1\nFailed to submit isochronous transfer 7: -1\nFailed to submit isochronous transfer 8: -1\nFailed to submit isochronous transfer 9: -1\nFailed to submit isochronous transfer 10: -1\nFailed to submit isochronous transfer 11: -1\nFailed to submit isochronous transfer 12: -1\nFailed to submit isochronous transfer 13: -1\nFailed to submit isochronous transfer 14: -1\nFailed to submit isochronous transfer 15: -1\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\nI'm testing with os = archlinux, built freenect from the github repository and I'm using libsub1.0.21-2 ( from arch repository ). The other samples that don't use the camera kind of work ( after applying the fix suggested lines above about removing libusb_reset_device ). The freenect-micview sample works; i can see the sound waves in the screen. The freenect tilt demo also works. Also tested it using usb 2.0 and 3.0.\nThe samples that use the camera show that error and show me the window where the frames should be, but no image is shown.\nI tried a kinectv2 using libfreenect2 and it worked normally, just my kinectv1 with libfreenect doesn't work.\nIs there anything you could suggest me to fix this issue ?\nThanks.\n. Hi.\nI'm trying to build the lib from source and make some other cameras we have in the lab work in linux. So far, the kinectv1 we have is the only one giving us trouble both in ubuntu and arch, and I wouldn't like to switch to windows just to test it there.\nSo, you had to just reinstall ROS for it to work?. In my case I'm not using ROS but libfreenect from the repo. By a quick search, it appears that the ros packages use a wrapper ROS-freenect-stack and use version d1d19df8957f8d63a562b310413da15d3e6ef7a1 of libfreenect from way back 2012. I will give that version a try and see if it works. Thanks for the hint \ud83d\udc4d \n. ",
    "skribtsov": "after installing the audios.bin received by fwfetcher.py I was able to get rid of the message: \"Failed to set the LED of K4W or 1473 device: -1\", however \"Failed to submit isochronous transfer 15: -1\" are still there. BTW it was not clear how to install the audios.bin. I did it by running an example program that works with microphones \nfreenect-micview\nSo, how to make the depth camera work?!\n. ",
    "gatali": "i have got same problem my model is 1473 and my freenect-camtest work right. But my problem at below. Please help me how can i solve this?\nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: LIBUSB_ERROR_NO_DEVICE\nFound sibling device [same parent]\nCould not open device: LIBUSB_ERROR_NO_DEVICE\nCould not open device\n. I solved the problem and shared my YouTube channel  \nhttps://www.youtube.com/watch?v=eOUjvwyRz9U&t=3s. ",
    "ronthalanki": "i have the same issue as gatali, any updates on this?. ",
    "pedromundo": "the only additional info I get with LIBUSB_DEBUG is a bunch of:\nlibusb: error [submit_iso_transfer] submiturb failed error -1 errno=2\nBoth before and after 'flashing' the new firmware with 'micview'. I have also noticed that pressing 'n' on glview says that 'Near mode is only supported by K4W', as if my unit wasn't a K4W one. Do you guys have any other ideas to help troubleshoot this?\nEDIT: Is the firmware flashed by 'micview' the right one for the 1517? Some comments make it seem that one was only for the 14xx\nCould this be due to a defective unit or something else on the sellers end (i.e. plugging it into an xbox to 'test')? . ",
    "svenevs": "I see.  Out of curiosity, why is the fallback a problem?  Is it that the audio serial is a different length or could possibly be a \"duplicate\" to a real Kinect serial number?. @piedar thank you so much!  I wish I could say I was close, but looking at the changes here...clearly not!  I have some out of town visitors so probably won't be able to test this until late tonight or tomorrow.\nI will try and back-port this as an external method (I'll need to spend a little more time with the code base first) so that pre v0.6.1 installations can still grab this if desired since that's what's packaged for most linux distributions.  If I get that working I'll make sure to link a gist here!. > It will be good to get this tested more.\nRighto, I'll report back when I can install / run cam test.\n\nThe biggest hurdle was solved by adding libusb_dev* dev; to fnusb_dev so we always know which subdevices go with which device.\n\nI see, I think this closes the gap in my confusion.  Basically, prior to this addition getting this information is shaky / unreliable (or even impossible).\n\nAlso, I was considering making the API call more generic\n\nI think given the changes here this would make sense to do.\nAKA if the topic of the PR changes / takes longer to merge and get the others in, I'm happy to help test!  But I don't think I understand enough to actually help implement the other attributes.... Hi @piedar,\nSorry for the long delay here.  TBH I'm really disappointed with myself right now.  I can build libfreenect from source fine, but I cannot ever get anything to run.  With dnf installed libfreenect, the freenect-glview program works as expected.  When running the locally compiled version, I always get\nconsole\n$ ./bin/freenect-glview \nKinect camera test\nSkipping Kinect v2 device (needs https://github.com/libfreenect2).\nSkipping Kinect v2 device (needs https://github.com/libfreenect2).\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: LIBUSB_ERROR_IO\nFound sibling device [same parent]\nCould not open device: LIBUSB_ERROR_IO\nCould not open device\nThis is the third time I've retried this in hopes to compile your PR and check what's going on.  Do you have any advice as to why I would not be able to run the manually compiled executables?. ",
    "jerwelborn": "Check out the bottom of the README within wrappers/python:\n- If you get \"/usr/bin/ld: cannot find -lfreenect\", then it can't find the library.  It looks in '/usr/local/lib' '/usr/local/lib64' along with anything set in LD_LIBRARY_PATH.  You probably need to do sudo make install in the build dir.  If it puts it in a directory that isn't one of those 2 let me know and I'll add it as another place to look.. ",
    "manikanthgoud559": "Actually in my machine opencv was installed in virtual terminal and\nfreenect module in normal terminal.\nwhen i opened python interpreter in workon cv and import freenect it gives\nno module found where as in normal terminal its importing freenect module\nhow can i run both in one place or share any link as i am new to linux\nThank you  so muchh\nOn Thu, Feb 15, 2018 at 3:16 AM, jerwelborn notifications@github.com\nwrote:\n\nCheck out the bottom of the README within wrappers/python:\n\nIf you get \"/usr/bin/ld: cannot find -lfreenect\", then it can't find the library.  It looks in '/usr/local/lib' '/usr/local/lib64' along with anything set in LD_LIBRARY_PATH.  You probably need to do sudo make install in the build dir.  If it puts it in a directory that isn't one of those 2 let me know and I'll add it as another place to look.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/550#issuecomment-365755575,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Aam3gE1_jFSZ3fxevYp5GRFszV3OJZtJks5tU1RIgaJpZM4SBbsX\n.\n. i have found in /usr/local/lib and set it to LD_LIBRARY_PATH and did this sudo make install in build dir in libfreenect but still it says no \"freenect\" module found\n. I had done same what was in guide too but the problem is open CV was\ninstalled in envs and freenect in normal terminal even I reinstalled it but\nsame happens\n\nThanks for responding\nOn Tue, Jul 10, 2018, 11:37 PM jackietom notifications@github.com wrote:\n\nI didn't install freenect from source. You can use sudo apt-get install\nfreenect on ubuntu/debian. To use python package you can install\npython-freenect using apt.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/OpenKinect/libfreenect/issues/550#issuecomment-403915225,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Aam3gPhLhKk5AxudoARLwoLUD_uwuewzks5uFO1tgaJpZM4SBbsX\n.\n. \n",
    "Klinggaard": "I had the same issue. But all I did to fix it was to do what this guy did.  guide\nAfter that, everything worked fine. But you have to do everything. ",
    "jackietom": "I didn't install freenect from source. You can use sudo apt-get install freenect on ubuntu/debian. To use python package you can install python-freenect using apt. . ",
    "Richierich1981": "Thank you! it worked!. ",
    "AdamWill": "Also note this from upstream: \"Even if you succeeded to build code with C compiler (and avoid cvRound problem: #6585 <#6585>) it would lead to terrible behavior like #6221 <#6221> or silent crashes in case of raised C++ exceptions.\"\nSo it really sounds like the Python wrapper should use C++ if it wants to work with opencv 3.x.... Well, I was assuming it was when building the bits of the Python wrapper that use the opencv wrapper. But if the opencv wrapper itself builds as pure C it likely would hit this too. So it could just be that, yeah. I can re-run the compile with parallelization disabled to get clearer output if you like, but not sure if it's necessary, the basic issue is clear enough (you aren't supposed to compile as pure C against opencv 3).. ",
    "dewaldcrous": "I have the exact same problem, have you found a solution to the problem at hand by any chance ?. ",
    "ac130kz": "Unfortunately, no. Seems like a K4W firmware/compatibility related issue, as I saw people on this issue tracker suggesting to add lines in order to upload audios.bin on the device, which did not work for me (maybe it will work for you, who knows). I'm still able to record rgb and depth successfully, so I'm fine with that. What is even more interesting is that I'm currently writing own multi-camera calibration tool, because ccalib and MATLAB options offer horribly wrong results.... ",
    "Lankardy": "Enviado pelo meu Windows Phone\n\nDe: Mikhail Krassavinnotifications@github.com\nEnviada em: \u200e22/\u200e06/\u200e2018 12:15\nPara: OpenKinect/libfreenectlibfreenect@noreply.github.com\nCc: Subscribedsubscribed@noreply.github.com\nAssunto: Re: [OpenKinect/libfreenect] LIBUSB_ERROR_IO audio device K4W (1517) (#557)\nUnfortunately, no. Seems like a K4W firmware/compatibility related issue, as I saw people on this issue tracker suggesting to add lines in order to upload audios.bin on the device, which did not work for me (maybe it will work for you, who knows). What is even more interesting is that I'm currently writing own multi-camera calibration tool, because ccalib and MATLAB options offer horribly wrong results...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHubhttps://github.com/OpenKinect/libfreenect/issues/557#issuecomment-399477056, or mute the threadhttps://github.com/notifications/unsubscribe-auth/APKaXDvxTiSl6IcpQwjKrsooe_pbfuROks5t_QoogaJpZM4UY5gi.\n. ",
    "thatmadhacker": "I am having this same issue, I am running the examples/hiview.c program and it gives me an error that looks like this \nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\nFound sibling device [same parent]\nCould not open device: -1\nCould not open device\nand when I run lsusb while the program is executing I get the same behavior. Did you download the firmware file?. Run src/fwfetcher.py and then run mictest. That doesn't look like a fatal error so it should not matter. I got that error too, it is non fatal error and did not affect usage of my kinect when it happened. It turns out that for some reason the position was being set to the last value in the buffer. ",
    "linmeeka": "\nI am having this same issue, I am running the examples/hiview.c program and it gives me an error that looks like this\nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: -1\nFound sibling device [same parent]\nCould not open device: -1\nCould not open device\nand when I run lsusb while the program is executing I get the same behavior\n\nHi,i got the same issue,and when i run freenect-micview,met the error:\nNumber of devices found: 1\nTrying to open ./audios.bin as firmware...\nTrying to open /home/qizhang/.libfreenect/audios.bin as firmware...\nTrying to open /usr/local/share/libfreenect/audios.bin as firmware...\nTrying to open /usr/share/libfreenect/audios.bin as firmware...\nTrying to open ./../Resources/audios.bin as firmware...\nupload_firmware: failed to find firmware file.\nupload_firmware failed: -2\nCould not open device\nseems like there are some problems with audio firmware.\nI don't know how to fix it ,do you have any idea?\n. > Run src/fwfetcher.py and then run mictest\nThank you!\nI run fwfetcher.py and downloaded audios.bin.\nBut when i run freenect-glview, i got these error:\n```\n./freenect-glview \nKinect camera test\nNumber of devices found: 1\nFound sibling device [same parent]\nFound sibling device [same parent]\nGL thread\n[Stream 70] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 1: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 2: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 3: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 4: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 5: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 6: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 7: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 8: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 9: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 10: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 11: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 12: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 13: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 14: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 15: LIBUSB_ERROR_IO\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n```\nCould you kindly help me?. ",
    "terminator-ger": "I have the exact same Problem, using a Kinect 1517 on a Jetson TX2 (Ubuntu 16.04). After Uploading the Firmware via freenect-micview, entering freenect-glview gives me:\n\nFound sibling device [same parent]\nFound sibling device [same parent]\n[Stream 70] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 1: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 2: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 3: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 4: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 5: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 6: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 7: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 8: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 9: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 10: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 11: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 12: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 13: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 14: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 15: LIBUSB_ERROR_IO\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 1: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 2: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 3: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 4: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 5: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 6: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 7: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 8: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 9: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 10: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 11: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 12: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 13: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 14: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 15: LIBUSB_ERROR_IO\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\nKinect camera test\nNumber of devices found: 1\nGL thread\n'w' - tilt up, 's' - level, 'x' - tilt down, '0'-'6' - select LED mode, '+' & '-' - change IR intensity \n'f' - change video format, 'm' - mirror video, 'o' - rotate video with accelerometer \n'e' - auto exposure, 'b' - white balance, 'r' - raw color, 'n' - near mode (K4W only) \n\nBut the GL-Window from glview stays plain black, and shows neither depth nor rgb.\n. ",
    "jonasborn": "Also facing this problem when building from source:\n\n-- Operating system is Linux\n-- Got System Processor x86_64\n-- Linux x86_64 Detected\n-- libfreenect will be installed to /usr/local\n-- Headers will be installed to /usr/local/include/libfreenect\n-- Libraries will be installed to /usr/local/lib\n-- Found libusb-1.0:\n--  - Includes: /usr/include/libusb-1.0\n--  - Libraries: /home/jonas/test/libusb-1.0.22/libusb/.libs/libusb-1.0.so\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/jonas/test/libfreenect/build\n[  1%] Linking C shared library ../lib/libfreenect.so\n[ 16%] Built target freenect\n[ 33%] Built target freenectstatic\n[ 35%] Linking C shared library ../../lib/libfreenect_sync.so\n...\n\nBuilding works, but the following message appears running camtest:\n\nFound sibling device [same parent]\nFailed to set the LED of K4W or 1473 device: LIBUSB_ERROR_IO\n[Stream 70] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 1: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 2: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 3: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 4: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 5: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 6: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 7: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 8: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 9: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 10: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 11: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 12: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 13: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 14: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 15: LIBUSB_ERROR_IO\nwrite_register: 0x0105 <= 0x00\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0012 <= 0x03\nwrite_register: 0x0013 <= 0x01\nwrite_register: 0x0014 <= 0x1e\nwrite_register: 0x0006 <= 0x02\nwrite_register: 0x0017 <= 0x00\n[Stream 80] Negotiated packet size 1920\nFailed to submit isochronous transfer 0: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 1: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 2: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 3: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 4: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 5: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 6: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 7: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 8: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 9: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 10: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 11: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 12: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 13: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 14: LIBUSB_ERROR_IO\nFailed to submit isochronous transfer 15: LIBUSB_ERROR_IO\nwrite_register: 0x000c <= 0x00\nwrite_register: 0x000d <= 0x01\nwrite_register: 0x000e <= 0x1e\nwrite_register: 0x0005 <= 0x01\nwrite_register: 0x0047 <= 0x00\n^CShutting down\nwrite_register: 0x0006 <= 0x00\nwrite_register: 0x0005 <= 0x00\nDone!\n...\nDISTRIB_DESCRIPTION=\"Ubuntu 18.04.2 LTS\"\n...\n\nGoing to try a older version of libusb tomorrow\nBtw. the packaged Version is working without any problems, expect the missing hd view functionality. ",
    "betatester": "I've installed  all the package on a new machine with Ubuntu 18.04\nand I've this problem discribed LIBUSB_ERROR_IO with 1473 kinect, that working on an other machine with Ubuntu 16.04\nI've made src/fwfetcher.py : nothing new\nI change with an 1414 kinect: that's work well\ndon't know why but \"arf!\"\n. ",
    "qhykwsw": "I have tried your method, but it seems that the \"freenect_zero_plane_info\" in the \"freenect_registration.h\" didn't store the true camera's intrinsics. The outpust are like this:\n\"dcmos_emitter_distance: 7.500000\ndcmos_rcmos_distance:   2.300000\nreference_distance:     120.000000\nreference_pixel_size:   0.104200\"\nAs you see, the focal length of the IR camera is only 120mm, which if far lower than the normal value.. I have found a function called \"device.setImageRegistrationMode( IMAGE_REGISTRATION_DEPTH_TO_COLOR )\" in OpenNI2 that slove the question.. ",
    "Kawzeg": "Try adding #define HAVE_STRUCT_TIMESPEC before the pthread import in libfreenect_sync.c, like suggested here.\nThis libusb issue suggests that the issue may be fixed with a new Windows SDK, though I can't verify that right now.. Did that change your error messages? I had some issues where I needed to clean the build results, or Visual Studio would throw errors.\nWhich Zadig version did you use? I seem to recall having issues with the latest (Zadig v2.3.0), I used Zadig 2.0.1 to install libusbK v3.0.6.0, which does work for me right now.\nAnother issue might be the libusb library itself, I had tried to use the WinUSB Patch there, which version of that do you use? Maybe try https://github.com/libusb/libusb/releases/tag/v1.0.22. That libusbK version is the one I have currently installed, yes.\nMultiple things:\nYou have a different windows sdk version than I do (10.0.14393.0), I don't know if that could be an issue.\nIt doesn't seem to find the libusb.h header, make sure that directory is set to the directory containing libusb.h.\nYou are compiling in Win32 configuration, make sure that you don't mix bitness with your dependencies, i.e. if you compile for x64, make sure all your dependencies are 64 bit also, and vice versa.\nYou shouldn't be concerned about WinUSB, that was just a sidenote.. I just realised that I have only been building the library, not the examples, those have the timespec issue as well.. ",
    "MikeRea95": "I tried adding the define call and it didn't seem to help. \nI also tried using Zadig to install the libusb0 drivers and that apparently made it worse. I'm very confused.. It seems to have made the list longer, though now it reports more successes.\n1>------ Build started: Project: ZERO_CHECK, Configuration: Debug Win32 ------\n1>Checking Build System\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/CMakeFiles/generate.stamp is up-to-date.\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/src/CMakeFiles/generate.stamp is up-to-date.\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/fakenect/CMakeFiles/generate.stamp is up-to-date.\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/c_sync/CMakeFiles/generate.stamp is up-to-date.\n1>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/cpp/CMakeFiles/generate.stamp is up-to-date.\n2>------ Build started: Project: freenect, Configuration: Debug Win32 ------\n3>------ Build started: Project: fakenect, Configuration: Debug Win32 ------\n4>------ Build started: Project: firmware, Configuration: Debug Win32 ------\n5>------ Build started: Project: freenectstatic, Configuration: Debug Win32 ------\n2>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/src/CMakeLists.txt\n2>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/src/CMakeFiles/generate.stamp is up-to-date.\n3>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/fakenect/CMakeLists.txt\n3>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/fakenect/CMakeFiles/generate.stamp is up-to-date.\n5>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/src/CMakeLists.txt\n3>cl : Command line warning D9002: ignoring unknown option '-O0'\n5>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/src/CMakeFiles/generate.stamp is up-to-date.\n3>cl : Command line warning D9002: ignoring unknown option '-g'\n3>fakenect.c\n2>cl : Command line warning D9002: ignoring unknown option '-O0'\n2>cl : Command line warning D9002: ignoring unknown option '-g'\n2>core.c\n5>cl : Command line warning D9002: ignoring unknown option '-O0'\n5>cl : Command line warning D9002: ignoring unknown option '-g'\n5>core.c\n4>Already have audios.bin\n4>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/src/CMakeLists.txt\n4>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/src/CMakeFiles/generate.stamp is up-to-date.\n6>------ Skipped Build: Project: uninstall, Configuration: Debug Win32 ------\n6>Project not selected to build for this solution configuration \n3>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>tilt.c\n2>tilt.c\n3>parson.c\n3>registration.c\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>cameras.c\n5>cameras.c\n3>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n3>Generating Code...\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>flags.c\n2>flags.c\n3>Done building project \"fakenect.vcxproj\" -- FAILED.\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>usb_libusb10.c\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.c(31): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>registration.c\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>audio.c\n2>usb_libusb10.c\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.c(31): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>registration.c\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>audio.c\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>loader.c\n5>loader.c\n2>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n5>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n2>Generating Code...\n5>Generating Code...\n2>Done building project \"freenect.vcxproj\" -- FAILED.\n7>------ Build started: Project: freenect_sync, Configuration: Debug Win32 ------\n8>------ Build started: Project: fakenect-record, Configuration: Debug Win32 ------\n9>------ Build started: Project: freenect-camtest, Configuration: Debug Win32 ------\n5>Done building project \"freenectstatic.vcxproj\" -- FAILED.\n10>------ Build started: Project: freenect-chunkview, Configuration: Debug Win32 ------\n9>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n8>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/fakenect/CMakeLists.txt\n7>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/wrappers/c_sync/CMakeLists.txt\n10>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n10>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n7>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/c_sync/CMakeFiles/generate.stamp is up-to-date.\n9>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n8>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/fakenect/CMakeFiles/generate.stamp is up-to-date.\n9>cl : Command line warning D9002: ignoring unknown option '-O0'\n9>cl : Command line warning D9002: ignoring unknown option '-g'\n9>camtest.c\n8>cl : Command line warning D9002: ignoring unknown option '-O0'\n8>cl : Command line warning D9002: ignoring unknown option '-g'\n10>cl : Command line warning D9002: ignoring unknown option '-O0'\n10>cl : Command line warning D9002: ignoring unknown option '-g'\n10>chunkview.c\n10>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n10>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n10>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\chunkview.c(242): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n10>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\chunkview.c(243): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n10>Done building project \"freenect-chunkview.vcxproj\" -- FAILED.\n11>------ Build started: Project: freenect-cpp_pcview, Configuration: Debug Win32 ------\n8>record.c\n8>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\src\\usb_libusb10.h(30): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n8>parson.c\n8>Generating Code...\n7>cl : Command line warning D9002: ignoring unknown option '-O0'\n7>cl : Command line warning D9002: ignoring unknown option '-g'\n7>libfreenect_sync.c\n9>LINK : fatal error LNK1104: cannot open file '..\\lib\\Debug\\freenect.lib'\n11>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/wrappers/cpp/CMakeLists.txt\n11>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/cpp/CMakeFiles/generate.stamp is up-to-date.\n11>cl : Command line warning D9002: ignoring unknown option '-O0'\n11>cl : Command line warning D9002: ignoring unknown option '-g'\n11>cpp_pc_view.cpp\n9>Done building project \"freenect-camtest.vcxproj\" -- FAILED.\n12>------ Build started: Project: freenect-cppview, Configuration: Debug Win32 ------\n12>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/wrappers/cpp/CMakeLists.txt\n7>LINK : fatal error LNK1104: cannot open file '..\\..\\lib\\Debug\\freenect.lib'\n12>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/cpp/CMakeFiles/generate.stamp is up-to-date.\n7>Done building project \"freenect_sync.vcxproj\" -- FAILED.\n13>------ Build started: Project: freenect-glpclview, Configuration: Debug Win32 ------\n12>cl : Command line warning D9002: ignoring unknown option '-O0'\n12>cl : Command line warning D9002: ignoring unknown option '-g'\n12>cppview.cpp\n13>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n13>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n13>cl : Command line warning D9002: ignoring unknown option '-O0'\n13>cl : Command line warning D9002: ignoring unknown option '-g'\n13>glpclview.c\n13>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\glpclview.c(216): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n13>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\glpclview.c(217): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n13>LINK : fatal error LNK1104: cannot open file '..\\lib\\Debug\\freenect_sync.lib'\n13>Done building project \"freenect-glpclview.vcxproj\" -- FAILED.\n14>------ Build started: Project: freenect-glview, Configuration: Debug Win32 ------\n11>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n11>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n14>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n14>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n14>cl : Command line warning D9002: ignoring unknown option '-O0'\n12>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n14>cl : Command line warning D9002: ignoring unknown option '-g'\n14>glview.c\n12>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n12>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\wrappers\\cpp\\libfreenect.hpp(33): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n12>Done building project \"freenect-cppview.vcxproj\" -- FAILED.\n15>------ Build started: Project: freenect-hiview, Configuration: Debug Win32 ------\n15>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n11>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\wrappers\\cpp\\libfreenect.hpp(33): fatal error C1083: Cannot open include file: 'libusb.h': No such file or directory\n15>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n8>Done building project \"fakenect-record.vcxproj\" -- FAILED.\n16>------ Build started: Project: freenect-micview, Configuration: Debug Win32 ------\n15>cl : Command line warning D9002: ignoring unknown option '-O0'\n15>cl : Command line warning D9002: ignoring unknown option '-g'\n15>hiview.c\n11>Done building project \"freenect-cpp_pcview.vcxproj\" -- FAILED.\n17>------ Build started: Project: freenect-regtest, Configuration: Debug Win32 ------\n16>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n16>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n14>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n17>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n14>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n14>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\glview.c(338): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n14>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\glview.c(339): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n17>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n14>Done building project \"freenect-glview.vcxproj\" -- FAILED.\n18>------ Build started: Project: freenect-regview, Configuration: Debug Win32 ------\n18>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n15>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n15>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n15>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\hiview.c(267): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n15>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\hiview.c(268): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n15>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\hiview.c(277): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n15>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\hiview.c(278): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n18>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n15>Done building project \"freenect-hiview.vcxproj\" -- FAILED.\n19>------ Build started: Project: freenect-tiltdemo, Configuration: Debug Win32 ------\n18>cl : Command line warning D9002: ignoring unknown option '-O0'\n18>cl : Command line warning D9002: ignoring unknown option '-g'\n18>regview.c\n16>cl : Command line warning D9002: ignoring unknown option '-O0'\n19>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n19>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n16>cl : Command line warning D9002: ignoring unknown option '-g'\n16>micview.c\n16>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n16>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n16>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\micview.c(217): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n16>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\micview.c(218): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n16>Done building project \"freenect-micview.vcxproj\" -- FAILED.\n20>------ Build started: Project: freenect-wavrecord, Configuration: Debug Win32 ------\n19>cl : Command line warning D9002: ignoring unknown option '-O0'\n19>cl : Command line warning D9002: ignoring unknown option '-g'\n19>tiltdemo.c\n17>cl : Command line warning D9002: ignoring unknown option '-O0'\n17>cl : Command line warning D9002: ignoring unknown option '-g'\n17>regtest.c\n17>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\regtest.c(35): warning C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n20>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/examples/CMakeLists.txt\n17>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\stdio.h(207): note: see declaration of 'fopen'\n20>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/examples/CMakeFiles/generate.stamp is up-to-date.\n18>c:\\users\\mike\\documents\\temprary\\pthreads\\pre-built.2\\include\\pthread.h(320): error C2011: 'timespec': 'struct' type redefinition\n17>LINK : fatal error LNK1104: cannot open file '..\\lib\\Debug\\freenect_sync.lib'\n18>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\time.h(39): note: see declaration of 'timespec'\n18>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\regview.c(208): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n18>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\regview.c(209): warning C4113: 'void (__cdecl *)()' differs in parameter lists from 'void (__cdecl *)(void)'\n17>Done building project \"freenect-regtest.vcxproj\" -- FAILED.\n21>------ Build started: Project: freenect_sync_static, Configuration: Debug Win32 ------\n18>Done building project \"freenect-regview.vcxproj\" -- FAILED.\n21>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/wrappers/c_sync/CMakeLists.txt\n19>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\tiltdemo.c(92): warning C4244: 'function': conversion from 'time_t' to 'unsigned int', possible loss of data\n21>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/wrappers/c_sync/CMakeFiles/generate.stamp is up-to-date.\n19>LINK : fatal error LNK1104: cannot open file '..\\lib\\Debug\\freenect_sync.lib'\n19>Done building project \"freenect-tiltdemo.vcxproj\" -- FAILED.\n20>cl : Command line warning D9002: ignoring unknown option '-O0'\n20>cl : Command line warning D9002: ignoring unknown option '-g'\n20>wavrecord.c\n20>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\wavrecord.c(97): warning C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n20>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\stdio.h(207): note: see declaration of 'fopen'\n20>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\wavrecord.c(98): warning C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n20>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\stdio.h(207): note: see declaration of 'fopen'\n20>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\wavrecord.c(99): warning C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n20>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\stdio.h(207): note: see declaration of 'fopen'\n20>c:\\users\\mike\\documents\\temprary\\libfreenect-master\\examples\\wavrecord.c(100): warning C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n20>c:\\program files (x86)\\windows kits\\10\\include\\10.0.16299.0\\ucrt\\stdio.h(207): note: see declaration of 'fopen'\n21>cl : Command line warning D9002: ignoring unknown option '-O0'\n21>cl : Command line warning D9002: ignoring unknown option '-g'\n21>libfreenect_sync.c\n20>LINK : fatal error LNK1104: cannot open file '..\\lib\\Debug\\freenect.lib'\n20>Done building project \"freenect-wavrecord.vcxproj\" -- FAILED.\n21>freenect_sync_static.vcxproj -> C:\\Users\\Mike\\Documents\\Temprary\\libfreenect-master\\Output\\lib\\Debug\\freenect_sync.lib\n21>Done building project \"freenect_sync_static.vcxproj\".\n22>------ Build started: Project: ALL_BUILD, Configuration: Debug Win32 ------\n22>Building Custom Rule C:/Users/Mike/Documents/Temprary/libfreenect-master/CMakeLists.txt\n22>CMake does not need to re-run because C:/Users/Mike/Documents/Temprary/libfreenect-master/Output/CMakeFiles/generate.stamp is up-to-date.\n23>------ Skipped Build: Project: INSTALL, Configuration: Debug Win32 ------\n23>Project not selected to build for this solution configuration \n========== Build: 4 succeeded, 17 failed, 0 up-to-date, 2 skipped ==========\nAs for Zadig, I'm using 2.4. I'll give 2.0.1 a shot. Just to be sure, I should be installing libusbK v3.0.6.0 as my drivers, not libusb v2.6.0?\nI've downloaded the most recent versions of libusb and libusbK. Not sure about WinUSB.. I've decided to go another route with my project, and am moving away from libfreenect. Thanks for your efforts, though!!. ",
    "prfiredragon": "sorry I see that this is not a libfreenect issue. Is from freenet-stack. I compile the new libfreenect and works but not the freenect-stack.. ",
    "frannecki": "@piedar Thank you. Actually I found out that the camera could be accessed using ROS message with openni. Issue closed.. ",
    "Anvolne": "Okay, so after poking around, I resolved the access error\nNow it's trying to send commands to it, and failing:\n```\nD:\\Cloud Storage\\Google Drive\\Szakdoga\\libfreenect\\wrappers\\python>python demo_cv2_async.py\nPress ESC in window to stop\nsend_cmd: Output control transfer failed (-7)\nfreenect_fetch_reg_pad_info: send_cmd read -7 bytes (expected 8)\nfreenect_camera_init(): Failed to fetch registration pad info for device\nError: Can't open device. 1.) is it plugged in? 2.) Read the README\nD:\\Cloud Storage\\Google Drive\\Szakdoga\\libfreenect\\bin\\Release>freenect-camtest.exe\nsend_cmd: Output control transfer failed (-7)\nfreenect_fetch_reg_pad_info: send_cmd read -7 bytes (expected 8)\nfreenect_camera_init(): Failed to fetch registration pad info for device\nDevice 000001F23B883DE0 open during shutdown, closing...\n```. I have a solution for the latter: It does not work in a USB 3.0/3.1 port... at all. It even works in a USB 2.0 hub too, but not in a 3.0 port...\nI can only assume this is a problem with libusb or something. ",
    "cesandovalp": "\nDoes this improve performance? Also, looks like the buffer needs to be deleted in the destructor.\n\nI'm an R programmer and I was making an interface for R, using the CPP wrapper, but when the resolution is changed I cannot get an RGB image, only a black screen. With this change I was able to get the image with different resolutions.. ",
    "avermaet": "I manually edited the file /usr/local/include/libfreenect.hpp so that libusb.h could be found, but now it gives a couple of opencv errors, that the functions cv::imshow(), cv:imwrite() are not a member of the cv namespace. For which opencv version is this code?. ",
    "eriknoorland": "I fixed it by running make install. This is however not mentioned in the build instructions.. ",
    "jborj006": "I followed the same guide and got those same errors. I used an older version and that helped solve the problem. https://github.com/OpenKinect/libfreenect/tree/debian\n. ",
    "iman-keangkasa": "Thanks so much @jborj006!. It worked. . ",
    "mankoff": "wz passed here to this function is written properly. It appears almost identical to the raw data, but has been aligned, and is in units mm. wx and wy do not appear correct. This is not just an issue with the write_xyz_bin function, because the same issue is with the ASCII x,y,z file created (below). wx and wy appear correct (the range is approx -2500 to 2500), but when plotting x and y they don't appear in the correct place... They are not paired correctly, or with where the Z data should be.\nMy test:\nDisplay wz as a 2d image\nPlot(wx,wy) with color as wz\nThe two should appear almost the same, although the first is a pixel image and the second is a point scatter plot.\n. ",
    "Cwiiis": "Fixed.. "
}